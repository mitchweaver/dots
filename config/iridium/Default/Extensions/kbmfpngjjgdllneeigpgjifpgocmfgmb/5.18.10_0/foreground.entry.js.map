{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/jquery/dist/jquery.js","webpack:///./node_modules/lodash/once.js","webpack:///./node_modules/lodash/memoize.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/lodash/pull.js","webpack:///./node_modules/lodash/fp/flow.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/identity.js","webpack:///./node_modules/lodash/sortBy.js","webpack:///./node_modules/dayjs/dayjs.min.js","webpack:///./node_modules/lodash/difference.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./node_modules/lodash/last.js","webpack:///./node_modules/lodash/isEqual.js","webpack:///./node_modules/lodash/fp/map.js","webpack:///./node_modules/lodash/isEmpty.js","webpack:///./node_modules/lodash/fp/placeholder.js","webpack:///./node_modules/lodash/without.js","webpack:///./node_modules/lodash/fp/convert.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/flatten.js","webpack:///./node_modules/lodash/pickBy.js","webpack:///../src/tags.js","webpack:///../src/attrs.js","webpack:///../src/utils.js","webpack:///../src/regexp.js","webpack:///../src/purify.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/zipWith.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/lodash/throttle.js","webpack:///./node_modules/lodash/fp/keyBy.js","webpack:///./node_modules/lodash/clamp.js","webpack:///./node_modules/lodash/transform.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/escapeRegExp.js","webpack:///./node_modules/lodash/_createWrap.js","webpack:///./node_modules/lodash/_createCtor.js","webpack:///./node_modules/lodash/_apply.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/lodash/_assocIndexOf.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/castArray.js","webpack:///./node_modules/lodash/_arrayIncludes.js","webpack:///./node_modules/lodash/curryRight.js","webpack:///./node_modules/lodash/remove.js","webpack:///./node_modules/lodash/maxBy.js","webpack:///./node_modules/lodash/compact.js","webpack:///./node_modules/lodash/intersection.js","webpack:///./node_modules/lodash/fp/filter.js","webpack:///./node_modules/lodash/_copyArray.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/lodash/_flatRest.js","webpack:///./node_modules/lodash/_createAggregator.js","webpack:///./node_modules/lodash/_strictIndexOf.js","webpack:///./node_modules/lodash/_baseSlice.js","webpack:///./node_modules/lodash/_arrayIncludesWith.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/semver/internal/constants.js","webpack:///./node_modules/lodash/keyBy.js","webpack:///./node_modules/lodash/head.js","webpack:///./node_modules/lodash/mapValues.js","webpack:///./node_modules/lodash/partition.js","webpack:///./node_modules/tinycolor2/tinycolor.js","webpack:///./node_modules/lodash/uniq.js","webpack:///./node_modules/lodash/_baseCreate.js","webpack:///./node_modules/lodash/_createHybrid.js","webpack:///./node_modules/lodash/_createRecurry.js","webpack:///./node_modules/lodash/noop.js","webpack:///./node_modules/lodash/stubArray.js","webpack:///./node_modules/lodash/_copyObject.js","webpack:///./node_modules/lodash/_assignValue.js","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/_nativeKeys.js","webpack:///./node_modules/lodash/_arrayEach.js","webpack:///./node_modules/lodash/_getPrototype.js","webpack:///./node_modules/lodash/_overRest.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/lodash/_listCacheClear.js","webpack:///./node_modules/lodash/_listCacheDelete.js","webpack:///./node_modules/lodash/_listCacheGet.js","webpack:///./node_modules/lodash/_listCacheHas.js","webpack:///./node_modules/lodash/_listCacheSet.js","webpack:///./node_modules/lodash/_basePickBy.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/unzip.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/lodash/_baseDifference.js","webpack:///./node_modules/semver/functions/compare.js","webpack:///./node_modules/semver/classes/semver.js","webpack:///./node_modules/semver/internal/debug.js","webpack:///./node_modules/semver/internal/re.js","webpack:///./node_modules/lodash/fp/once.js","webpack:///./node_modules/lodash/assignIn.js","webpack:///./node_modules/lodash/pick.js","webpack:///./node_modules/fast-levenshtein/levenshtein.js","webpack:///./node_modules/lodash/fromPairs.js","webpack:///./node_modules/lodash/random.js","webpack:///./node_modules/lodash/omitBy.js","webpack:///./lib/images/hosts/giphy-logo.png","webpack:///./node_modules/lodash/dropWhile.js","webpack:///./node_modules/lodash/fp/slice.js","webpack:///./node_modules/lodash/fp/mapValues.js","webpack:///./node_modules/lodash/zip.js","webpack:///./node_modules/lodash/cloneDeep.js","webpack:///./node_modules/lodash/union.js","webpack:///./node_modules/suncalc/suncalc.js","webpack:///./node_modules/favico.js/favico.js","webpack:///./lib/images/legacyFavicon.png","webpack:///./node_modules/lodash/uniqBy.js","webpack:///./node_modules/lodash/first.js","webpack:///./node_modules/lodash/fp/_baseConvert.js","webpack:///./node_modules/lodash/fp/_mapping.js","webpack:///./node_modules/lodash/fp/_util.js","webpack:///./node_modules/lodash/ary.js","webpack:///./node_modules/lodash/_createBind.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/_createCurry.js","webpack:///./node_modules/lodash/_composeArgs.js","webpack:///./node_modules/lodash/_composeArgsRight.js","webpack:///./node_modules/lodash/_countHolders.js","webpack:///./node_modules/lodash/_reorder.js","webpack:///./node_modules/lodash/_createPartial.js","webpack:///./node_modules/lodash/_baseAssign.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/clone.js","webpack:///./node_modules/lodash/curry.js","webpack:///./node_modules/lodash/isError.js","webpack:///./node_modules/lodash/isPlainObject.js","webpack:///./node_modules/lodash/isWeakMap.js","webpack:///./node_modules/lodash/iteratee.js","webpack:///./node_modules/lodash/rearg.js","webpack:///./node_modules/lodash/_arrayPush.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/toPath.js","webpack:///./node_modules/lodash/before.js","webpack:///./node_modules/lodash/fp/_falseOptions.js","webpack:///./node_modules/lodash/_ListCache.js","webpack:///./node_modules/lodash/_arrayAggregator.js","webpack:///./node_modules/lodash/_createAssigner.js","webpack:///./node_modules/lodash/_nativeKeysIn.js","webpack:///./node_modules/lodash/_basePick.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///./node_modules/lodash/_baseSet.js","webpack:///./node_modules/lodash/hasIn.js","webpack:///./node_modules/lodash/_baseHasIn.js","webpack:///./node_modules/lodash/_hasPath.js","webpack:///./node_modules/lodash/flow.js","webpack:///./node_modules/lodash/_createFlow.js","webpack:///./node_modules/lodash/stubString.js","webpack:///./node_modules/lodash/unzipWith.js","webpack:///./node_modules/lodash/_arrayFilter.js","webpack:///./node_modules/lodash/_baseProperty.js","webpack:///./node_modules/lodash/_baseTimes.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/lodash/pullAll.js","webpack:///./node_modules/lodash/_basePullAll.js","webpack:///./node_modules/lodash/_baseIndexOfWith.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/lodash/_basePullAt.js","webpack:///./node_modules/lodash/_baseUnset.js","webpack:///./node_modules/lodash/_parent.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/dayjs/locale/de.js","webpack:///./node_modules/dayjs/locale/el.js","webpack:///./node_modules/dayjs/locale/es.js","webpack:///./node_modules/dayjs/locale/he.js","webpack:///./node_modules/dayjs/locale/it.js","webpack:///./node_modules/dayjs/locale/nl.js","webpack:///./node_modules/dayjs/locale/pl.js","webpack:///./node_modules/dayjs/locale/pt-br.js","webpack:///./node_modules/dayjs/locale/pt.js","webpack:///./node_modules/dayjs/plugin/relativeTime.js","webpack:///./node_modules/dayjs/plugin/localizedFormat.js","webpack:///./node_modules/lodash/_baseOrderBy.js","webpack:///./node_modules/lodash/_baseSortBy.js","webpack:///./node_modules/lodash/_compareMultiple.js","webpack:///./node_modules/lodash/_compareAscending.js","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./node_modules/lodash/_baseIsEqual.js","webpack:///./node_modules/lodash/_baseIsEqualDeep.js","webpack:///./node_modules/lodash/_equalArrays.js","webpack:///./node_modules/lodash/_arraySome.js","webpack:///./node_modules/lodash/_equalObjects.js","webpack:///./node_modules/lodash/_baseRandom.js","webpack:///./node_modules/lodash/_baseClamp.js","webpack:///./node_modules/lodash/negate.js","webpack:///./node_modules/lodash/_baseIntersection.js","webpack:///./node_modules/lodash/_castArrayLikeObject.js","webpack:///./node_modules/lodash/_baseWhile.js","webpack:///./node_modules/lodash/slice.js","webpack:///./node_modules/semver/functions/gt.js","webpack:///./node_modules/semver/internal/identifiers.js","webpack:///./node_modules/semver/functions/diff.js","webpack:///./node_modules/semver/functions/parse.js","webpack:///./node_modules/semver/functions/eq.js","webpack:///./LICENSE","webpack:///./lib/constants/urlHashes.js","webpack:///./lib/utils/time.js","webpack:///./lib/utils/flow.js","webpack:///./lib/utils/dom.js","webpack:///./lib/utils/location.js","webpack:///./lib/utils/html.js","webpack:///./lib/utils/string.js","webpack:///./lib/utils/user.js","webpack:///./lib/environment/foreground/context.js","webpack:///./lib/environment/utils/messaging.js","webpack:///./lib/environment/utils/api.js","webpack:///./lib/environment/foreground/messaging.js","webpack:///./lib/environment/foreground/privateBrowsing.js","webpack:///./lib/environment/foreground/history.js","webpack:///./lib/environment/foreground/xhrCache.js","webpack:///./lib/environment/foreground/ajax.js","webpack:///./lib/environment/foreground/download.js","webpack:///./lib/environment/foreground/id.js","webpack:///./lib/constants/localStorage.js","webpack:///./build/buildToken.js","webpack:///./lib/environment/foreground/i18n.js","webpack:///./lib/utils/generator.js","webpack:///./lib/utils/async.js","webpack:///./lib/environment/foreground/permissions.js","webpack:///./lib/environment/foreground/auth.js","webpack:///./lib/environment/foreground/multicast.js","webpack:///./lib/environment/foreground/tabs.js","webpack:///./lib/environment/foreground/pageAction.js","webpack:///./lib/environment/foreground/session.js","webpack:///./lib/utils/object.js","webpack:///./lib/environment/foreground/storage.js","webpack:///./lib/environment/index.js","webpack:///./lib/utils/Cache.js","webpack:///./lib/utils/array.js","webpack:///./lib/utils/Thing.js","webpack:///./lib/utils/thingMetadata.js","webpack:///./lib/utils/color.js","webpack:///./lib/utils/dashboard.js","webpack:///./lib/utils/pagePhases.js","webpack:///./lib/utils/floater.js","webpack:///./lib/utils/hash.js","webpack:///./lib/utils/thingHide.js","webpack:///./lib/utils/keycode.js","webpack:///./lib/utils/localization.js","webpack:///./lib/utils/math.js","webpack:///./lib/utils/options.js","webpack:///./lib/utils/profiling.js","webpack:///./lib/utils/storage.js","webpack:///./lib/utils/subreddits.js","webpack:///./lib/utils/value.js","webpack:///./lib/utils/watchers.js","webpack:///./lib/constants/jsapi.js","webpack:///./lib/utils/watchers_d2x.js","webpack:///./lib/utils/bodyClasses.js","webpack:///./lib/utils/browserDetect.js","webpack:///./lib/utils/createElement.js","webpack:///./lib/utils/alert.js","webpack:///./lib/constants/sessionStorage.js","webpack:///./lib/utils/selectedThing.js","webpack:///./lib/utils/table.js","webpack:///./node_modules/sortablejs/modular/sortable.core.esm.js","webpack:///./lib/vendor/index.js","webpack:///./lib/utils/caseBuilder.js","webpack:///./lib/utils/index.js","webpack:///./lib/core/module.js","webpack:///./lib/core/modules/storage.js","webpack:///./lib/vendor/guiders.js","webpack:///./lib/core/options/storage.js","webpack:///./lib/core/options/modified.js","webpack:///./lib/core/options/stage.js","webpack:///./lib/core/options/table.js","webpack:///./lib/core/options/index.js","webpack:///./lib/modules/hover.js","webpack:///./lib/modules/commandLine.js","webpack:///./lib/modules/menu.js","webpack:///./lib/modules/settingsNavigation.js","webpack:///./lib/modules/notifications.js","webpack:///./lib/modules/penaltyBox.js","webpack:///./lib/modules/filteReddit/Case.js","webpack:///./lib/modules/filteReddit/postCases/CommentCount.js","webpack:///./lib/modules/newCommentCount.js","webpack:///./lib/modules/filteReddit/postCases/NewCommentCount.js","webpack:///./lib/modules/filteReddit/postCases/CommentsOpened.js","webpack:///./lib/modules/filteReddit/postCases/Domain.js","webpack:///./lib/core/host.js","webpack:///./lib/modules/showImages/templates.js","webpack:///./lib/modules/showImages/expando.js","webpack:///./lib/modules/hosts/aarli.js","webpack:///./lib/modules/hosts/adultswim.js","webpack:///./lib/modules/hosts/archilogic.js","webpack:///./lib/modules/hosts/archiveis.js","webpack:///./lib/modules/hosts/bime.js","webpack:///./lib/modules/hosts/clyp.js","webpack:///./lib/modules/hosts/codepen.js","webpack:///./lib/modules/hosts/coub.js","webpack:///./lib/modules/hosts/dailymotion.js","webpack:///./lib/modules/hosts/default.js","webpack:///./lib/modules/hosts/defaultAudio.js","webpack:///./lib/modules/hosts/defaultVideo.js","webpack:///./lib/modules/hosts/derpibooru.js","webpack:///./lib/modules/hosts/deviantart.js","webpack:///./lib/modules/hosts/dropbox.js","webpack:///./lib/modules/hosts/fiveHundredPx.js","webpack:///./lib/modules/hosts/flickr.js","webpack:///./lib/modules/hosts/getyarn.js","webpack:///./lib/modules/hosts/gfycat.js","webpack:///./lib/modules/hosts/gifyoutube.js","webpack:///./lib/modules/hosts/giphy.js","webpack:///./node_modules/snudown-js/dist/snudown_es.js","webpack:///./lib/modules/hosts/github.js","webpack:///./lib/modules/hosts/googlemaps.js","webpack:///./lib/modules/hosts/gyazo.js","webpack:///./lib/modules/hosts/hastebin.js","webpack:///./lib/modules/hosts/iloopit.js","webpack:///./lib/modules/hosts/imgflip.js","webpack:///./lib/modules/hosts/imgur.js","webpack:///./lib/modules/hosts/instagram.js","webpack:///./lib/modules/hosts/ireddit.js","webpack:///./lib/modules/hosts/jsfiddle.js","webpack:///./lib/modules/hosts/liveleak.js","webpack:///./lib/modules/hosts/livememe.js","webpack:///./lib/modules/hosts/makeameme.js","webpack:///./lib/modules/hosts/memecrunch.js","webpack:///./lib/modules/hosts/memedad.js","webpack:///./lib/modules/hosts/mixer.js","webpack:///./lib/modules/hosts/onedrive.js","webpack:///./lib/modules/hosts/pastebin.js","webpack:///./lib/modules/hosts/peertube.js","webpack:///./lib/modules/hosts/photobucket.js","webpack:///./lib/modules/hosts/pixiv.js","webpack:///./lib/modules/hosts/poly.js","webpack:///./lib/modules/hosts/pornhub.js","webpack:///./lib/modules/hosts/ppy.js","webpack:///./lib/modules/hosts/redditbooru.js","webpack:///./lib/modules/hosts/redditmedia.js","webpack:///./lib/modules/hosts/reddituploads.js","webpack:///./lib/modules/hosts/redgifs.js","webpack:///./lib/modules/hosts/ridewithgps.js","webpack:///./lib/modules/hosts/simplecove.js","webpack:///./lib/modules/hosts/snag.js","webpack:///./lib/modules/hosts/soundcloud.js","webpack:///./lib/modules/hosts/spotify.js","webpack:///./lib/modules/hosts/steamcommunity.js","webpack:///./lib/modules/hosts/steampowered.js","webpack:///./lib/modules/hosts/strawpollcom.js","webpack:///./lib/modules/hosts/strawpollme.js","webpack:///./lib/modules/hosts/streamable.js","webpack:///./lib/modules/hosts/streamja.js","webpack:///./lib/modules/hosts/streamvi.js","webpack:///./lib/modules/hosts/supgif.js","webpack:///./lib/modules/hosts/supload.js","webpack:///./lib/modules/hosts/tenor.js","webpack:///./lib/modules/hosts/tumblr.js","webpack:///./lib/modules/hosts/twimg.js","webpack:///./lib/modules/hosts/twitch.js","webpack:///./lib/modules/hosts/twitchclips.js","webpack:///./lib/modules/hosts/twitter.js","webpack:///./lib/modules/hosts/vidble.js","webpack:///./lib/modules/hosts/vimeo.js","webpack:///./lib/modules/hosts/vlipsy.js","webpack:///./lib/modules/hosts/vlive.js","webpack:///./lib/modules/hosts/vreddit.js","webpack:///./lib/core/metadata/packageInfo.js","webpack:///./lib/core/metadata/index.js","webpack:///./lib/modules/hosts/wikipedia.js","webpack:///./lib/modules/hosts/xboxdvr.js","webpack:///./lib/modules/hosts/xkcd.js","webpack:///./lib/modules/hosts/youtube.js","webpack:///./lib/modules/hosts/znipe.js","webpack:///./lib/modules/hosts/default.js?8f03","webpack:///./lib/modules/showImages.js","webpack:///./lib/modules/filteReddit/postCases/Expando.js","webpack:///./lib/modules/filteReddit/postCases/IsLocked.js","webpack:///./lib/modules/filteReddit/postCases/IsNSFW.js","webpack:///./lib/modules/filteReddit/postCases/IsSpoiler.js","webpack:///./lib/modules/filteReddit/postCases/IsVisited.js","webpack:///./lib/modules/filteReddit/postCases/LinkFlair.js","webpack:///./lib/modules/filteReddit/postCases/PostAfter.js","webpack:///./lib/modules/filteReddit/postCases/PostAge.js","webpack:///./lib/modules/filteReddit/postCases/PostTitle.js","webpack:///./lib/modules/filteReddit/postCases/PostType.js","webpack:///./lib/modules/filteReddit/postCases/Score.js","webpack:///./lib/modules/filteReddit/postCases/Selector.js","webpack:///./lib/modules/filteReddit/postCases/Subreddit.js","webpack:///./lib/modules/filteReddit/postCases/UserAttr.js","webpack:///./lib/modules/filteReddit/postCases/UserFlair.js","webpack:///./lib/modules/customToggles.js","webpack:///./lib/modules/filteReddit/Filter.js","webpack:///./lib/modules/filteReddit/ExternalFilter.js","webpack:///./lib/modules/filteReddit/LineFilter.js","webpack:///./lib/modules/filteReddit/Filterline.js","webpack:///./lib/modules/filteReddit.js","webpack:///./lib/modules/subredditStyleToggle.js","webpack:///./lib/modules/nightMode.js","webpack:///./lib/modules/userTagger.js","webpack:///./lib/modules/filteReddit/postCases/UserTag.js","webpack:///./lib/modules/filteReddit/postCases/UserVoteWeight.js","webpack:///./lib/modules/filteReddit/postCases/Username.js","webpack:///./lib/modules/filteReddit/postCases/VoteType.js","webpack:///./lib/modules/filteReddit/postCases/index.js","webpack:///./lib/modules/filteReddit/commentCases/CommentContent.js","webpack:///./lib/modules/filteReddit/commentCases/CommentLength.js","webpack:///./lib/modules/filteReddit/commentCases/Depth.js","webpack:///./lib/modules/filteReddit/commentCases/IsDeleted.js","webpack:///./lib/modules/readComments.js","webpack:///./lib/modules/filteReddit/commentCases/IsRead.js","webpack:///./lib/modules/filteReddit/commentCases/index.js","webpack:///./lib/modules/filteReddit/browseCases/BrowsingFrontPage.js","webpack:///./lib/modules/filteReddit/browseCases/CurrentLocation.js","webpack:///./lib/modules/filteReddit/browseCases/CurrentMulti.js","webpack:///./lib/modules/filteReddit/browseCases/CurrentUserProfile.js","webpack:///./lib/modules/filteReddit/browseCases/CurrentSub.js","webpack:///./lib/modules/filteReddit/browseCases/Date.js","webpack:///./lib/modules/filteReddit/browseCases/Dow.js","webpack:///./lib/modules/filteReddit/browseCases/LoggedInAs.js","webpack:///./lib/modules/filteReddit/browseCases/Toggle.js","webpack:///./lib/modules/filteReddit/browseCases/index.js","webpack:///./lib/modules/filteReddit/cases.js","webpack:///./lib/modules/accountSwitcher.js","webpack:///./lib/modules/submitIssue.js","webpack:///./lib/modules/commentTools.js","webpack:///./lib/modules/usernameHider.js","webpack:///./lib/modules/quickMessage.js","webpack:///./lib/modules/userHighlight.js","webpack:///./lib/modules/userInfo.js","webpack:///./lib/modules/wheelBrowse.js","webpack:///./lib/modules/commentNavigator.js","webpack:///./lib/modules/easterEgg.js","webpack:///./lib/modules/hideChildComments.js","webpack:///./lib/modules/neverEndingReddit.js","webpack:///./lib/modules/noParticipation.js","webpack:///./lib/modules/saveComments.js","webpack:///./lib/modules/showParent.js","webpack:///./lib/modules/singleClick.js","webpack:///./lib/modules/keyboardNav.js","webpack:///./lib/modules/RESTips.js","webpack:///./lib/modules/about.js","webpack:///./lib/modules/announcements.js","webpack:///./lib/modules/autoHide.js","webpack:///./lib/modules/backupAndRestore/serialization.js","webpack:///./lib/modules/backupAndRestore/providers/Provider.js","webpack:///./lib/modules/backupAndRestore/providers/File.js","webpack:///./lib/modules/backupAndRestore/providers/GoogleDrive.js","webpack:///./lib/modules/backupAndRestore/providers/OneDrive.js","webpack:///./lib/modules/backupAndRestore/providers/Dropbox.js","webpack:///./lib/modules/backupAndRestore/providers/index.js","webpack:///./lib/modules/backupAndRestore.js","webpack:///./lib/modules/subredditManager.js","webpack:///./lib/modules/betteReddit.js","webpack:///./lib/modules/commentDepth.js","webpack:///./lib/modules/commentHidePersistor.js","webpack:///./lib/modules/commentPreview.js","webpack:///./lib/modules/commentQuickCollapse.js","webpack:///./lib/modules/commentSortBy.js","webpack:///./lib/modules/commentStyle.js","webpack:///./lib/modules/context.js","webpack:///./lib/modules/contribute.js","webpack:///./lib/modules/dashboard.js","webpack:///./lib/modules/disableChat.js","webpack:///./lib/modules/localDate.js","webpack:///./lib/modules/logoLink.js","webpack:///./lib/modules/messageMenu.js","webpack:///./lib/modules/modhelper.js","webpack:///./lib/modules/multiredditNavbar.js","webpack:///./lib/modules/neverEndingComments.js","webpack:///./lib/modules/onboarding.js","webpack:///./lib/modules/orangered.js","webpack:///./lib/modules/pageNavigator.js","webpack:///./lib/modules/troubleshooter.js","webpack:///./lib/modules/presets.js","webpack:///./lib/modules/profileNavigator.js","webpack:///./lib/modules/profileRedirect.js","webpack:///./lib/modules/quarantineHide.js","webpack:///./lib/modules/redditUserInfo.js","webpack:///./lib/modules/requestPermissions.js","webpack:///./lib/modules/search.js","webpack:///./lib/modules/searchHelper.js","webpack:///./lib/modules/selectedEntry.js","webpack:///./lib/modules/showKarma.js","webpack:///./lib/modules/sourceSnudown.js","webpack:///./lib/modules/spamButton.js","webpack:///./lib/modules/spoilerTags.js","webpack:///./lib/modules/styleTweaks.js","webpack:///./lib/modules/stylesheet.js","webpack:///./lib/modules/submitHelper.js","webpack:///./lib/modules/subredditInfo.js","webpack:///./lib/modules/subredditTagger.js","webpack:///./lib/modules/tableTools.js","webpack:///./lib/modules/temporaryDropdownLinks.js","webpack:///./lib/modules/userbarHider.js","webpack:///./lib/modules/version.js","webpack:///./lib/modules/voteEnhancements.js","webpack:///./lib/modules/xPostLinks.js","webpack:///./lib/modules/about.js?b9b1","webpack:///./lib/core/modules/modules.js","webpack:///./lib/core/modules/index.js","webpack:///./lib/core/options/options.js","webpack:///./lib/core/modules/bodyClasses.js","webpack:///./lib/core/init.js","webpack:///./lib/environment/foreground/messaging.js?4de5","webpack:///./lib/foreground.entry.js"],"names":["global","factory","module","exports","document","w","Error","window","noGlobal","arr","getProto","Object","getPrototypeOf","slice","concat","push","indexOf","class2type","toString","hasOwn","hasOwnProperty","fnToString","ObjectFunctionString","call","support","isFunction","obj","nodeType","isWindow","preservedScriptAttributes","type","src","nonce","noModule","DOMEval","code","node","doc","i","val","script","createElement","text","getAttribute","setAttribute","head","appendChild","parentNode","removeChild","toType","version","jQuery","selector","context","fn","init","rtrim","prototype","jquery","constructor","length","toArray","get","num","pushStack","elems","ret","merge","prevObject","each","callback","map","elem","apply","arguments","first","eq","last","len","j","end","sort","splice","extend","options","name","copy","copyIsArray","clone","target","deep","isPlainObject","Array","isArray","undefined","expando","Math","random","replace","isReady","error","msg","noop","proto","Ctor","isEmptyObject","globalEval","isArrayLike","trim","makeArray","results","inArray","second","grep","invert","callbackInverse","matches","arg","value","guid","Symbol","iterator","split","toLowerCase","Sizzle","Expr","getText","isXML","tokenize","compile","select","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","contains","Date","preferredDoc","dirruns","done","classCache","createCache","tokenCache","compilerCache","nonnativeSelectorCache","sortOrder","a","b","pop","push_native","list","booleans","whitespace","identifier","attributes","pseudos","rwhitespace","RegExp","rcomma","rcombinators","rdescend","rpseudo","ridentifier","matchExpr","rhtml","rinputs","rheader","rnative","rquickExpr","rsibling","runescape","funescape","_","escaped","escapedWhitespace","high","String","fromCharCode","rcssescape","fcssescape","ch","asCodePoint","charCodeAt","unloadHandler","inDisabledFieldset","addCombinator","disabled","nodeName","dir","next","childNodes","e","els","seed","m","nid","match","groups","newSelector","newContext","ownerDocument","exec","getElementById","id","getElementsByTagName","getElementsByClassName","qsa","test","toSelector","join","testContext","querySelectorAll","qsaError","removeAttribute","keys","cache","key","cacheLength","shift","markFunction","assert","el","addHandle","attrs","handler","attrHandle","siblingCheck","cur","diff","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","createPositionalPseudo","argument","matchIndexes","namespace","namespaceURI","documentElement","hasCompare","subWindow","defaultView","top","addEventListener","attachEvent","className","createComment","getById","getElementsByName","filter","attrId","find","getAttributeNode","tag","tmp","innerHTML","input","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","unshift","expr","elements","attr","specified","escape","sel","uniqueSort","duplicates","detectDuplicates","sortStable","textContent","firstChild","nodeValue","selectors","createPseudo","relative","preFilter","excess","unquoted","nodeNameSelector","pattern","operator","check","result","what","simple","forward","ofType","xml","uniqueCache","outerCache","nodeIndex","start","parent","useCache","lastChild","uniqueID","pseudo","args","setFilters","idx","matched","matcher","unmatched","lang","elemLang","hash","location","activeElement","hasFocus","href","tabIndex","checked","selected","selectedIndex","radio","checkbox","file","password","image","submit","reset","filters","parseOnly","tokens","soFar","preFilters","cached","combinator","base","skip","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","token","compiled","defaultValue","unique","isXMLDoc","escapeSelector","until","truncate","is","siblings","n","rneedsContext","needsContext","rsingleTag","winnow","qualifier","not","self","rootjQuery","root","parseHTML","ready","rparentsprev","guaranteedUnique","children","contents","prev","has","targets","l","closest","index","prevAll","add","addBack","sibling","parents","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","content","reverse","rnothtmlwhite","createOptions","object","flag","Callbacks","firing","memory","fired","locked","queue","firingIndex","fire","once","stopOnFalse","remove","empty","disable","lock","fireWith","Identity","v","Thrower","ex","adoptValue","resolve","reject","noValue","method","promise","fail","then","Deferred","func","tuples","state","always","deferred","pipe","fns","newDefer","tuple","returned","progress","notify","onFulfilled","onRejected","onProgress","maxDepth","depth","special","that","mightThrow","TypeError","notifyWith","resolveWith","process","exceptionHook","stackTrace","rejectWith","getStackHook","setTimeout","stateString","when","singleValue","remaining","resolveContexts","resolveValues","master","updateFunc","rerrorNames","stack","console","warn","message","readyException","readyList","catch","readyWait","wait","completed","removeEventListener","readyState","doScroll","access","chainable","emptyGet","raw","bulk","rmsPrefix","rdashAlpha","fcamelCase","all","letter","toUpperCase","camelCase","string","acceptData","owner","Data","uid","defineProperty","configurable","set","data","prop","hasData","dataPriv","dataUser","rbrace","rmultiDash","getData","JSON","parse","dataAttr","removeData","_data","_removeData","dequeue","startLength","hooks","_queueHooks","stop","setter","clearQueue","count","defer","pnum","source","rcssNum","cssExpand","isAttached","composed","getRootNode","isHiddenWithinTree","style","display","css","swap","old","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","initial","unit","cssNumber","initialInUnit","defaultDisplayMap","getDefaultDisplay","body","showHide","show","values","hide","toggle","rcheckableType","rtagName","rscriptType","wrapMap","option","thead","col","tr","td","_default","optgroup","tbody","tfoot","colgroup","caption","th","getAll","setGlobalEval","refElements","buildFragment","scripts","selection","ignored","wrap","attached","fragment","createDocumentFragment","nodes","createTextNode","htmlPrefilter","div","checkClone","cloneNode","noCloneChecked","rkeyEvent","rmouseEvent","rtypenamespace","returnTrue","returnFalse","expectSync","safeActiveElement","err","on","types","one","origFn","event","off","handleObjIn","eventHandle","events","t","handleObj","handlers","namespaces","origType","elemData","handle","triggered","dispatch","delegateType","bindType","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","nativeEvent","fix","handlerQueue","delegateTarget","preDispatch","isPropagationStopped","currentTarget","isImmediatePropagationStopped","rnamespace","preventDefault","stopPropagation","postDispatch","matchedHandlers","matchedSelectors","button","addProp","hook","Event","enumerable","originalEvent","writable","load","noBubble","click","leverageNative","trigger","beforeunload","returnValue","notAsync","saved","isTrigger","stopImmediatePropagation","props","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","now","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which","focus","blur","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","rxhtmlTag","rnoInnerhtml","rchecked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","dest","pdataOld","pdataCur","udataOld","udataCur","fixInput","domManip","collection","hasScripts","valueIsFunction","html","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","detach","append","prepend","insertBefore","before","after","replaceWith","replaceChild","appendTo","prependTo","insertAfter","replaceAll","original","insert","rnumnonpx","getStyles","opener","getComputedStyle","rboxStyle","computeStyleTests","container","cssText","divStyle","pixelPositionVal","reliableMarginLeftVal","roundPixelMeasures","marginLeft","right","pixelBoxStylesVal","boxSizingReliableVal","width","position","scrollboxSizeVal","offsetWidth","measure","round","parseFloat","backgroundClip","clearCloneStyle","boxSizingReliable","pixelBoxStyles","pixelPosition","reliableMarginLeft","scrollboxSize","curCSS","computed","minWidth","maxWidth","getPropertyValue","addGetHookIf","conditionFn","hookFn","cssPrefixes","emptyStyle","vendorProps","vendorPropName","capName","finalPropName","final","cssProps","rdisplayswap","rcustomProp","cssShow","visibility","cssNormalTransform","letterSpacing","fontWeight","setPositiveNumber","subtract","max","boxModelAdjustment","dimension","box","isBorderBox","styles","computedVal","extra","delta","ceil","getWidthOrHeight","boxSizingNeeded","valueIsBorderBox","offsetProp","getClientRects","cssHooks","opacity","origName","isCustomProp","setProperty","isFinite","getBoundingClientRect","scrollboxSizeBuggy","left","margin","padding","border","prefix","suffix","expand","expanded","parts","Tween","easing","propHooks","run","percent","eased","duration","pos","step","fx","scrollTop","scrollLeft","linear","p","swing","cos","PI","fxNow","inProgress","rfxtypes","rrun","schedule","hidden","requestAnimationFrame","interval","tick","createFxNow","genFx","includeWidth","height","createTween","animation","Animation","tweeners","defaultPrefilter","opts","oldfire","propTween","restoreDisplay","isBox","anim","dataShow","unqueued","overflow","overflowX","overflowY","propFilter","specialEasing","properties","stopped","prefilters","currentTime","startTime","tweens","originalProperties","originalOptions","gotoEnd","bind","complete","timer","tweener","prefilter","speed","opt","speeds","fadeTo","to","animate","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","time","timeout","clearTimeout","checkOn","optSelected","radioValue","boolHook","removeAttr","nType","attrHooks","bool","attrNames","getter","lowercaseName","rfocusable","rclickable","removeProp","propFix","tabindex","parseInt","stripAndCollapse","getClass","classesToArray","addClass","classes","curValue","clazz","finalValue","removeClass","toggleClass","stateVal","isValidValue","classNames","hasClass","rreturn","valHooks","optionSet","focusin","rfocusMorph","stopPropagationCallback","onlyHandlers","bubbleType","ontype","lastElement","eventPath","parentWindow","simulate","triggerHandler","attaches","rquery","parseXML","DOMParser","parseFromString","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","traditional","param","s","valueOrFunction","encodeURIComponent","serialize","serializeArray","r20","rhash","rantiCache","rheaders","rlocalProtocol","rnoContent","rprotocol","transports","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","ajaxHandleResponses","responses","ct","finalDataType","firstDataType","mimeType","getResponseHeader","converters","ajaxConvert","response","isSuccess","conv2","current","conv","responseFields","dataFilter","throws","active","lastModified","etag","url","isLocal","protocol","processData","async","contentType","accepts","json","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","uncached","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","overrideMimeType","status","abort","statusText","finalText","crossDomain","host","hasContent","ifModified","headers","beforeSend","success","send","nativeStatusText","modified","getJSON","getScript","wrapAll","firstElementChild","wrapInner","htmlIsFunction","unwrap","visible","offsetHeight","xhr","XMLHttpRequest","xhrSuccessStatus","xhrSupported","cors","errorCallback","open","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","scriptAttrs","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","createHTMLDocument","implementation","keepScripts","parsed","params","animated","offset","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","using","rect","win","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","defaultExtra","funcName","hover","fnOver","fnOut","unbind","delegate","undelegate","proxy","holdReady","hold","parseJSON","isNumeric","isNaN","define","_jQuery","_$","$","noConflict","require","MapCache","FUNC_ERROR_TEXT","memoize","resolver","memoized","Cache","isObject","toNumber","nativeMax","nativeMin","min","debounce","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","baseRest","pullAll","pull","convert","placeholder","identity","baseFlatten","baseOrderBy","isIterateeCall","sortBy","iteratees","r","u","o","h","f","c","weekdays","months","y","M","g","format","pl","date","D","z","utcOffset","abs","floor","year","month","Number","d","ms","Q","locale","$L","utc","$u","$offset","$d","NaN","UTC","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","day","hour","minute","millisecond","unix","valueOf","getTime","toDate","$locale","weekStart","$set","daysInMonth","substr","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","toJSON","toISOString","toUTCString","isDayjs","en","Ls","baseDifference","isArrayLikeObject","difference","array","arrayMap","iteratee","overRest","setToString","baseIsEqual","isEqual","other","baseKeys","getTag","isArguments","isBuffer","isPrototype","isTypedArray","mapTag","setTag","objectProto","isEmpty","size","without","baseConvert","util","flatten","baseIteratee","basePickBy","getAllKeysIn","pickBy","predicate","path","freeze","svg","svgFilters","mathMl","setPrototypeOf","Reflect","fun","element","lcElement","newObject","property","seal","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","arraySlice","getGlobal","_createTrustedTypesPolicy","trustedTypes","ATTR_NAME","policyName","DOMPurify","createDOMPurify","originalDocument","useDOMParser","removeTitle","DocumentFragment","HTMLTemplateElement","Node","NodeFilter","NamedNodeMap","Text","Comment","TrustedTypes","template","trustedTypesPolicy","emptyHTML","createNodeIterator","importNode","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","addToSet","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_JQUERY","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","CONFIG","formElement","_parseConfig","cfg","_forceRemove","_removeAttribute","_initDocument","leadingWhitespace","dirty","_createIterator","_isClobbered","elm","_isNode","_executeHook","_sanitizeElements","tagName","currentNode","htmlToInsert","_isValidAttribute","lcName","lcTag","_sanitizeAttributes","idAttr","hookEvent","_sanitizeShadowDOM","shadowNode","shadowIterator","importedNode","oldNode","returnNode","nodeIterator","serializedHTML","freeGlobal","freeSelf","Function","unzipWith","zipWith","arrays","baseAssignValue","createAggregator","groupBy","throttle","baseClamp","clamp","number","lower","upper","arrayEach","baseCreate","baseForOwn","getPrototype","transform","accumulator","isArr","isArrLike","isObjectLike","isKey","stringToPath","castPath","reRegExpChar","reHasRegExpChar","escapeRegExp","baseSetData","createBind","createCurry","createHybrid","createPartial","mergeData","setData","setWrapToString","toInteger","WRAP_BIND_FLAG","WRAP_BIND_KEY_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","createWrap","bitmask","partials","holders","argPos","ary","arity","isBindKey","partialsRight","holdersRight","newData","createCtor","thisBinding","MAX_SAFE_INTEGER","reIsUint","isIndex","overArg","arrayPush","isFlattenable","isStrict","stubFalse","assocIndexOf","baseUnary","castArray","baseIndexOf","arrayIncludes","curryRight","guard","basePullAt","indexes","baseExtremum","baseGt","maxBy","compact","resIndex","baseIntersection","castArrayLikeObject","intersection","mapped","copyArray","nativeObjectToString","objectToString","baseGetTag","asyncTag","funcTag","genTag","proxyTag","flatRest","arrayAggregator","baseAggregator","initializer","strictIndexOf","fromIndex","baseSlice","arrayIncludesWith","comparator","SetCache","cacheHas","createSet","setToArray","LARGE_ARRAY_SIZE","baseUniq","includes","isCommon","seen","outer","seenIndex","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_COMPONENT_LENGTH","keyBy","mapValues","partition","trimLeft","trimRight","tinyCounter","mathRound","mathMin","mathMax","mathRandom","tinycolor","color","rgb","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","ok","_tc_id","isDark","getBrightness","isLight","getOriginalInput","getFormat","getAlpha","toRgb","getLuminance","RsRGB","GsRGB","BsRGB","R","G","B","pow","setAlpha","boundAlpha","toHsv","hsv","rgbToHsv","toHsvString","toHsl","hsl","rgbToHsl","toHslString","toHex","allow3Char","rgbToHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","bound01","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","rgbaToArgbHex","secondHex8String","formatSet","formattedString","hasAlpha","needsAlphaFormat","_applyModification","lighten","brighten","darken","desaturate","saturate","greyscale","spin","_applyCombination","analogous","complement","monochromatic","splitcomplement","triad","tetrad","fromRatio","newColor","convertToPercentage","stringInputToObject","isValidCSSUnit","rgbToRgb","hsvToRgb","hslToRgb","hue2rgb","q","mod","hex","pad2","charAt","convertDecimalToHex","equals","color1","color2","amount","clamp01","hue","slices","part","modification","mix","rgb1","rgb2","rgba","readability","c1","c2","isReadable","wcag2","wcag2Parms","out","validateWCAG2Parms","level","mostReadable","baseColor","colorList","bestColor","bestScore","includeFallbackColors","names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","isOnePointZero","processPercent","isPercentage","parseIntFromHex","convertHexToDecimal","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","hsla","hsva","hex3","hex6","hex4","hex8","named","parms","uniq","objectCreate","create","composeArgs","composeArgsRight","countHolders","createRecurry","getHolder","reorder","replaceHolders","WRAP_ARY_FLAG","WRAP_FLIP_FLAG","isCurried","wrapper","holdersCount","newHolders","isLaziable","WRAP_CURRY_BOUND_FLAG","wrapFunc","isCurry","newHoldersRight","newPartials","newPartialsRight","stubArray","assignValue","copyObject","customizer","isNew","newValue","objValue","nativeKeys","otherArgs","memoizeCapped","rePropName","reEscapeChar","quote","subString","listCacheClear","__data__","arrayProto","listCacheDelete","lastIndex","listCacheGet","listCacheHas","listCacheSet","baseGet","baseSet","paths","toKey","isLength","arrayFilter","baseProperty","baseTimes","unzip","group","baseFor","valuesLength","valuesIndex","SemVer","loose","debug","re","compareIdentifiers","includePrerelease","LOOSE","FULL","major","minor","patch","prerelease","build","compareMain","comparePre","compareBuild","inc","release","env","NODE_DEBUG","createToken","isGlobal","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","createAssigner","keysIn","assignIn","basePick","pick","collator","Intl","Collator","sensitivity","log","prevRow","str2Char","Levenshtein","str1","str2","useCollator","str1Len","str2Len","curCol","nextCol","strCmp","postMessage","importScripts","fromPairs","pairs","pair","baseRandom","toFinite","freeParseFloat","nativeRandom","floating","rand","negate","omitBy","baseWhile","dropWhile","zip","baseClone","CLONE_DEEP_FLAG","CLONE_SYMBOLS_FLAG","cloneDeep","union","sin","asin","atan","atan2","acos","rad","dayMs","J1970","J2000","toJulian","fromJulian","toDays","rightAscension","declination","azimuth","phi","dec","altitude","siderealTime","lw","astroRefraction","solarMeanAnomaly","eclipticLongitude","C","sunCoords","L","ra","SunCalc","getPosition","lat","lng","times","addTime","angle","riseName","setName","J0","julianCycle","approxTransit","Ht","solarTransitJ","ds","hourAngle","getSetJ","getTimes","Jnoon","Jset","Jrise","solarNoon","nadir","moonCoords","dt","dist","getMoonPosition","pa","distance","parallacticAngle","getMoonIllumination","sdist","fraction","phase","hoursLater","getMoonTimes","inUTC","setUTCHours","setHours","hc","h0","h1","h2","rise","xe","ye","roots","x1","x2","dx","sqrt","Favico","_def","bgColor","textColor","fontFamily","fontStyle","elementId","dataUrl","_opt","_orig","_h","_w","_canvas","_context","_img","_ready","_lastBadge","_running","_readyCb","_stop","_browser","_animTimeout","_drawTimeout","_doc","ff","InstallTrigger","chrome","opera","navigator","userAgent","ie","safari","HTMLElement","supported","_queue","hexToRgb","isUp","isLeft","x","link","getIcon","hasAttribute","getContext","icon","clearRect","drawImage","setIcon","finished","forEach","circle","more","beginPath","font","textAlign","moveTo","lineTo","quadraticCurveTo","arc","fillStyle","fill","closePath","stroke","fillText","rectangle","fillRect","badge","imageElement","newImg","ratio","video","videoElement","drawVideo","webcam","action","URL","createObjectURL","newVideo","getUserMedia","oGetUserMedia","msGetUserMedia","mozGetUserMedia","webkitGetUserMedia","audio","stream","play","paused","ended","getLink","canvas","toDataURL","shorthandRegex","def","mergedOpt","attrname","isPageHidden","msHidden","webkitHidden","mozHidden","fade","none","popFade","slide","cb","revert","animationType","browser","uniqBy","mapping","fallbackHolder","baseArity","baseAry","cloneArray","createCloner","flatSpread","wrapImmutable","cloner","isLib","isObj","config","cap","curry","fixed","immutable","rearg","defaultHolder","forceCurry","forceFixed","forceRearg","pristine","runInContext","helpers","assign","isError","isWeakMap","toPath","aryMethodKeys","aryMethod","wrappers","mixin","nthArg","castCap","iterateeRearg","iterateeAry","castCurry","castFixed","skipFixed","methodSpread","castRearg","skipRearg","methodRearg","aryRearg","cloneByPath","nested","convertLib","createConverter","realName","aliasToReal","methodName","remap","oldOptions","newUtil","newFunc","newOptions","wrapped","mutate","aryKey","otherName","afterRearg","realToAlias","alias","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","holdersIndex","rightIndex","rightLength","arrLength","oldArray","baseAssign","getNative","getValue","domExcTag","errorTag","objectTag","funcProto","funcToString","objectCtorString","weakMapTag","WRAP_REARG_FLAG","spreadableSymbol","isConcatSpreadable","isSymbol","ListCache","entries","clear","entry","assigner","sources","nativeKeysIn","hasIn","reIsDeepProp","reIsPlainProp","baseHasIn","hasPath","hasFunc","createFlow","flow","LodashWrapper","getFuncName","fromRight","funcs","prereq","thru","plant","stubString","webpackPolyfill","deprecate","basePullAll","baseIndexOfWith","baseUnset","previous","createBaseFor","keysFunc","iterable","default","ordinal","formats","LTS","LT","LL","LLL","LLLL","relativeTime","future","past","yy","Y","ll","lll","llll","from","toNow","fromNow","baseMap","baseSortBy","compareMultiple","orders","criteria","comparer","compareAscending","objCriteria","othCriteria","ordersLength","order","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","baseIsEqualDeep","Stack","equalArrays","equalByTag","equalObjects","COMPARE_PARTIAL_FLAG","argsTag","arrayTag","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","arraySome","COMPARE_UNORDERED_FLAG","isPartial","othLength","stacked","arrValue","othValue","compared","othIndex","getAllKeys","objProps","objLength","othProps","skipCtor","objCtor","othCtor","nativeFloor","caches","maxLength","Infinity","isDrop","gt","numeric","anum","bnum","rcompareIdentifiers","version1","version2","v1","v2","defaultResult","er","RES_DISABLED_HASH","RES_SETTINGS_HASH","RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH","RES_NER_PAGE_HASH","MINUTE","HOUR","DAY","WEEK","fromSecondsToTime","timeInSeconds","minutes","hours","padStart","downcast","ty","waitForEvent","ele","Promise","race","waitForChild","child","observer","MutationObserver","mutations","mutation","addedNodes","ELEMENT_NODE","disconnect","observe","childList","watchForChildren","watchForFutureChildren","waitForDescendant","querySelector","subtree","waitForFutureDescendant","added","removed","removedNodes","waitForAttach","waitForDetach","watchForDescendants","ignoreChildrenIfAddedNodeMatches","watchForFutureDescendants","Set","dispatchEvent","MouseEvent","isProgrammaticEvent","getViewportSize","visualViewport","viewportSizedElement","elementInViewport","bottom","getViewportDimensions","headerOffset","getHeaderOffset","yOffset","getPercentageVisibleYAxis","padBottom","viewportHeight","currentPadding","clientHeight","paddingRequired","scrollHeight","recentScroll","scrollInvokationToken","scrollToElement","scrollStyle","restrictDirectionTo","direction","selectedDirection","anchor","waitTillVisible","_scrollInvokationToken","res","scrollBy","viewport","compensateHeader","scrollY","fromTop","buffer","newScrollY","viewportDirection","scollDirection","headerIds","fullWidth","partialWidth","_addHeaderId","includePartialWidthHeaders","reduce","getD2xBodyOffset","offsetTop","addCSS","addStyle","preventCloning","attribute","WeakSet","matchesPageLocation","excludes","includeStrings","includeRegExps","excludeStrings","excludeRegExps","isPageType","isAppType","matchesPageRegex","regexes","frontpage","comments","commentsLinklist","inbox","profile","profile2x","profileCommentsPage","prefs","account","wiki","stylesheet","search","commentPermalink","subreddit","subredditAbout","modqueue","multireddit","domain","composeMessage","liveThread","execRegexes","appType","thisApp","some","appPageTypes","r2","pageTypes","d2x","pageType","spec","pathname","thisPage","regexps","regex","currentSubreddit","isCurrentSubreddit","subreddits","sub","currentMultireddit","isCurrentMultireddit","multireddits","multi","currentDomain","currentUserProfile","fullLocation","COMMENT_CODE_REGEX","isCommentCode","emptyText","isEmptyLink","startsWith","inQuarantinedSubreddit","classList","escapeLookups","escapeHTML","str","stringTagFunction","valueTransform","strings","encode","safe","__safe__","MAX_DISTANCE_RATIO","areSimilar","levenshtein","regexRegex","htmlTagFunction","markup","childElementCount","_html","isLoggedIn","loggedInUser","documentLoggedInUser","findFirstTextNode","isModeratorAnywhere","loggedInUserHash","hashEle","HTMLInputElement","userInfo","loggedInUserInfo","modhash","usernameRE","usernameSelector","getUsernameFromLink","HTMLAnchorElement","origin","endsWith","getUserInfo","cacheFor","userHash","establish","contentStart","retrieveFromParent","MessageHandlerError","createMessageHandler","_sendMessage","errorOnUnrecognizedTypes","listeners","Map","_handleMessage","sendResponse","listener","sendMessage","addListener","apiToPromise","runtime","lastError","onMessage","sender","isPrivateBrowsing","extension","inIncognitoContext","addURLToHistory","isURLVisited","maxAge","delete_","FetchError","sameOrigin","credentials","buildRequestParams","XhrCache","processResponse","fetch","invalidate","query","siteOrigin","requestURL","searchParams","sameSite","hostname","URLSearchParams","download","filename","getExtensionId","getURL","getOptionsURL","isOptionsPage","CACHED_LANG_KEY","CACHED_MESSAGES_KEY","CACHED_MESSAGES_TOKEN_KEY","REDDIT_LANGUAGES","SPECIAL_LANGUAGES","language","isValidLocale","localeString","toLocaleString","getRedditLocale","redditLocale","requestIdleCallback","messages","_loadI18n","localStorage","getItem","buildToken","setItem","stringify","removeItem","i18n","messageName","substitutions","range","iterables","generators","it","gen","waitFor","repeat","forEachChunked","queues","frameThrottle","performance","generator","return","batch","flushBeforeUnload","invoke","batchAccumulator","promises","addPromise","startNewBatch","lastPromise","currentBatch","fastAsync","throwing","throw","asyncFlow","firstFn","accum","reifyPromise","keyedMutex","keyResolver","tail","delete","mutex","frameDebounce","update","rej","throttleQueuePositionReset","queued","idleThrottle","filterPerms","perms","permissions","origins","operation","request","granted","launchAuthFlow","clientId","scope","warnUserInteraction","Permissions","resAuth","responseUrl","interactive","callbacks","multicast","local","crossContext","localOnly","openNewTab","openNewTabs","urls","focusIndex","clickListeners","onClick","extendDeep","__set","items","storage","_set","__get","_get","_delete","_clear","withLockOn","getMultiple","defaults","k","setMultiple","valueMap","compareAndSet","oldValue","extended","patchShallow","deletePaths","stored","deleteMultiple","sentinel","Wrapper","_key","deletePath","keyGenerator","PrefixWrapper","keyMapper","batching","_prefix","_keyMapper","getMultipleNullable","_keyGen","getNullable","everything","acc","rawValues","wrapPrefix","destructiveKeyMapper","BlobWrapper","rootKey","_rootKey","wrapBlob","LRUCache","capacity","createTime","hitTime","forEachSeq","asyncFilter","shouldKeep","asyncReduce","initialValue","asyncFind","concurrentFold","baseCase","onResolve","onReject","asyncSome","asyncEvery","filterMap","elementMap","WeakMap","things","SECRET_TOKEN","thingElementsCached","Thing","thingSelector","thingElements","eles","nextElementSibling","parentElement","checkedFrom","visibleThingElements","visibleThings","thing","runTasksRange","marginTop","marginBottom","stopAfterCls","getDirectionOf","tidx","bidx","tasks","isVisible","runTasks","thingElement","entrySelector","immediate","byId","refreshPartialVisibility","isHiddenByFilter","_p","setHideFilter","isComment","getParents","setFilterReasons","DOCUMENT_POSITION_FOLLOWING","getThreadTop","getNext","excludeMoreChildren","_target","getNextSibling","getClosest","getClosestVisible","isMessage","isSubreddit","isPost","isLinkPost","isSelfPost","isTopLevelComment","getTitle","getTitleElement","getTitleUrl","getPostLink","getPostUrl","dataset","getTextBody","getCommentsLink","getCommentPermalink","getHideElement","getButtons","getNumberOfChildren","numChildrenElem","_parseScore","scoreEle","title","getScore","_getActiveScoreElement","getAllScoreElements","toScoreTuple","getAuthor","getAuthorElement","getAuthorUrl","author","getSubreddit","getSubredditLink","getPostDomain","getPostDomainLink","getPostDomainText","getPostDomainUrl","getCommentCount","getCommentCountElement","getPostThumbnailUrl","thumbnail","getPostThumbnailElement","getPostFlairText","getPostFlairElement","getUserFlairText","getUserFlairElement","getCrosspostBadgeElement","getUpvoteButton","_getVoteButton","getDownvoteButton","previousSibling","getTimestamp","getTimestampElement","getPostEditTimestamp","getPostEditTimestampElement","getFullname","getUserattrsElement","getRank","rank","getRankElement","getTaglineElement","getCommentCollapseToggleElement","setCommentCollapse","reason","openOnlyWhenSameReason","isCollapsed","getPostTime","getPostTimeElement","isNSFW","isSpoiler","isCrosspost","isLocked","isDeleted","partialAsFiltered","isContentVisible","isSelected","isUpvoted","isDownvoted","isUnvoted","registeredThings","getPostMetadata","requests","limit","raw_json","colorToArray","colorString","colorFromArray","initialTabID","selectedTabMenuItem","addDashboardTab","tabID","tabName","moduleId","BodyClasses","tabPage","tabMenuItem","CreateElement","onChange","bodyStart","sitetableStarted","contentLoaded","loadComplete","Container","isAvailable","useList","go","separate","HTMLLIElement","li","fallback","PagePhases","containers","inNavbar","updateHeaderWidth","headerButton","marginRight","userMenu","belowFixedNavbar","visibleAfterScroll","IntersectionObserver","isIntersecting","tabMenu","menu","inert","getContainer","InertContainer","addFloater","containerName","chars","randomHash","hashCode","char","hideEndpoint","unhideEndpoint","HIDE","UNHIDE","eventAction","updateElements","unhide","NAMED_KEYS","Backspace","Tab","Enter","Escape","Space","PageUp","PageDown","End","Home","Left","Up","Right","Down","Shift","Control","Alt","keyCodes","niceKeyCode","keyArray","modifiers","alt","ctrl","meta","keyCombo","keyName","checkKeysForEvent","eventHash","hashKeyEvent","arrayHash","hashKeyArray","Dayjs","dayjs","localeCode","formatNumber","formatDate","formatDateTime","formatDateDiff","formatRelativeTime","numericalCompare","op","inverseOperator","prettyOperator","interpolate","low","frac","deinterpolate","projectInto","fromLow","fromHigh","toLow","toHigh","positiveModulo","indexOptionTable","keyIndex","keyTransformer","fields","nestedArray","subKey","counter","markStart","mark","markEnd","maybePruneOldEntries","entryStorage","keepTrackDays","shouldPrune","updateTime","lastStorage","Storage","fakeSubreddits","isFakeSubreddit","fakeSubreddit","firstValid","vals","elementWatchers","page","selfText","thingWatchers","comment","post","runCallback","addCallback","actingOnElement","task","registerElement","registered","registerThing","thingWatcherCallbacks","watchForThings","watchForElements","_runLikelyVisibleTasks","screen","availHeight","filterTask","nextCheck","Boolean","registerPage","runLikelyVisibleTasks","HIDE_FOLLOWING_CLASS","r2WatcherSitetableStart","runLikelyVisibleVisibleTasks","r2WatcherContentLoaded","io","intersecting","rootMargin","unobserve","commentarea","watchList","JSAPI_CONSUMER_NAME","postAuthor","watchForRedditEvents","handleRedditEvent","expandoId","contextId","user","ownedTarget","initD2xWatcher","CustomEvent","addMissing","change","cls","versionSearchString","searchString","datas","versionSearch","searchVersion","dataString","substring","hasNavigator","dataBrowser","appVersion","OS","dataOS","vendor","platform","toggleButton","fieldID","enabled","onText","offText","isTable","usesBatch","enabling","table","description","item","aftercontent","fancyToggleButton","getState","refresh","_state","overlay","confirm","close","listenForEscape","makeButton","btn","LAST_SELECTED_ENTRY_KEY","currentContainer","instantly","beforePaint","idle","priority","runCallbacks","runListeners","new_","throttler","oldest","throttled","runBeforePaint","runIdle","_new","force","selectClosestInView","closestToCurrent","currentIndex","closestThings","closestVisible","movers","up","down","upSibling","downSibling","downParentSibling","upThread","downThread","toTopComment","toParent","move","targetFn","lastSelectedKey","getLastSelectedId","sessionStorage","scrollToSelectedThingOnLoad","setScrollToSelectedThingOnLoad","lastSelectedId","history","scrollRestoration","RESTables","RESTable","getRow","pageSize","columns","onRowsChanges","sortDirection","every","localeCompare","updatePage","rawRow","row","HTMLTableSectionElement","label","sortByColumn","createSearchElement","valueGetter","lastFilter","flags","createSelectFilters","initialSelected","filterSelect","HTMLSelectElement","createPaginationElement","total","pages","by","reverseCurrent","sortColumn","HTMLTableElement","tableRES","rows","getCellValue","cell","rowA","rowB","_typeof","_defineProperty","_extends","_objectSpread","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","arr2","iter","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","getParentOrHost","ctx","includeCTX","R_SPACE","currentStyle","matrix","selfOnly","appliedTransforms","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","getWindowScrollingElement","scrollingElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","elRect","innerHeight","innerWidth","containerRect","elMatrix","scaleX","scaleY","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","currentChild","Sortable","ghost","dragged","draggable","lastElementChild","previousElementSibling","getRelativeScrollOffset","offsetLeft","winScroller","indexOfObject","includeSelf","gotSelf","clientWidth","scrollWidth","elemCSS","dst","isRectEqual","rect1","rect2","_throttleTimeout","_this","cancelThrottle","Polymer","Zepto","dom","setRect","unsetRect","AnimationStateManager","animationStates","animationCallbackId","captureAnimationState","fromRect","thisAnimationDuration","childMatrix","addAnimationState","removeAnimationState","animateAll","animating","animationTime","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","calculateRealTime","animationResetTimer","currentRect","translateX","translateY","animatingX","animatingY","repaint","plugins","initializeByDefault","PluginManager","mount","plugin","pluginEvent","eventName","sortable","eventCanceled","eventNameGlobal","pluginName","initializePlugins","initialized","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","putSortable","extraEventProperties","onName","createEvent","initEvent","pullMode","lastPutMode","allEventProperties","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","awaitingDragStarted","ignoreNextClick","sortables","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","pastFirstInvertThresh","isCircumstantialInvert","targetMoveDistance","ghostRelativeParent","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","secondChildWidth","flexDirection","gridTemplateColumns","touchingSideChild2","_dragElInRowColumn","dragRect","targetRect","vertical","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_detectNearestEmptySortable","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_prepareGroup","toFn","sameGroup","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","nearestEmptyInsertDetectEvent","nearest","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","store","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","dataTransfer","dropBubble","dragoverBubble","dataIdAttr","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","_getDirection","touch","originalTarget","shadowRoot","composedPath","_saveInputCheckedState","isContentEditable","_prepareDragStart","dragStartFn","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDraggable","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","_onTouchMove","_onDragStart","_nextTick","getSelection","removeAllRanges","_dragStarted","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","inserted","ghostMatrix","relativeScrollOffset","dy","cssMatrix","_hideClone","cloneId","_loopId","setInterval","effectAllowed","_dragStartId","isOwner","canSort","fromSortable","completedFired","dragOverEvent","axis","onMove","_onMove","changed","insertion","_showClone","_ignoreWhileAnimating","elLastChild","_ghostIsLast","targetBeforeFirstSwap","differentLevel","differentRowCol","side1","scrolledPastTop","scrollBefore","_getSwapDirection","dragIndex","moveVector","_unsilent","_offMoveEvents","_offUpEvents","clearInterval","_cancelNextTick","save","handleEvent","_globalDragOver","_generateId","destroy","dropEffect","willInsertAfter","onMoveFn","retVal","draggedRect","relatedRect","spacer","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","_getInsertDirection","sum","inputs","utils","nextTick","cancelNextTick","detectDirection","_len","autoScrolls","scrollEl","scrollRootEl","scrolling","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","AutoScrollPlugin","AutoScroll","scroll","scrollSensitivity","scrollSpeed","bubbleScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","_ref2","dragOverBubble","drop","clearPointerElemChangedInterval","clearAutoScrolls","nulling","autoScroll","ogElemScroller","newElem","pid","isFallback","sens","scrollThisInstance","scrollCustomFn","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","toSortable","onSpill","Revert","startIndex","dragStart","_ref3","Remove","_ref4","parentSortable","OnSpill","lastSwapEl","SwapPlugin","Swap","swapClass","dragOverValid","prevSwapEl","swapNodes","swapItem","n1","n2","p1","p2","i1","i2","isEqualNode","multiDragElements","multiDragClones","lastMultiDragSelect","multiDragSortable","initialFolding","folding","dragEl$1","clonesFromRect","clonesHidden","MultiDragPlugin","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","selectedClass","multiDragKey","multiDragElement","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","_this2","removeMultiDragElements","dragOver","_ref8","_ref9","insertMultiDragElements","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","originalEvt","multiDragIndex","nullingGlobal","destroyGlobal","deselect","_this3","oldIndicies","newIndicies","clones","clonesInserted","elementsInserted","drawOptionBuilder","optionName","$addRowButton","$itemContainer","moduleID","addItemText","$newBody","drawBuilderItem","defaultTemplate","customOptionsFields","cases","firstText","$editButton","$item","readBuilderItem","prompt","$deleteButton","drawDeleteButton","customOptions","drawFields","$header","drawHandle","note","ver","$body","drawBuilderBlock","addBaseControls","$block","$firstBlock","readBuilderBlock","readFields","$element","BlockClass","multiType","validate","field","$fieldElem","fieldModule","builderFields","read","draw","$rowWrapper","addItem","itemData","addCaseSelect","defaultConditions","$elem","$input","checkset","prefixId","$wrap","itemId","$box","$label","durr","days","getPredefinedChoices","$dropdown","Module","moduleName","category","descriptionRaw","keywords","bodyClass","include","exclude","shouldRun","onToggle","onSaveSettings","disabledByDefault","alwaysEnabled","onInit","beforeLoad","afterLoad","requiredPermissions","getModuleId","opaqueId","setEnabled","enable","guiders","_defaultSettings","attachTo","autoFocus","buttonCustomHTML","classString","closeOnEscape","highlight","isHashable","onClose","onHide","onShow","shouldSkip","xButton","_htmlSkeleton","_arrowSize","_backButtonTitle","_buttonAttributes","_buttonClassName","_buttonClickEvent","_buttonElement","_closeButtonTitle","_currentGuiderID","_fixedOrAbsolute","_guiders","_lastCreatedGuiderID","_nextButtonTitle","_offsetNameMapping","_windowHeight","ieBrowserMatch","_isIE","_ieVersion","_addButtons","myGuider","guiderButtonsContainer","thisButton","thisButtonElem","thisButtonName","onclick","hideAll","myCustomHTML","_addXButton","xButtonContainer","_attach","myHeight","myWidth","fixedOrAbsolute","topMarginOfBody","outerHeight","attachToHeight","attachToWidth","bufferOffset","positionType","_styleArrow","_dehighlightElement","_hideOverlay","_highlightElement","_initializeOverlay","_showOverlay","myGuiderArrow","arrowOffset","_showIfHashed","GUIDER_HASH_TAG","hashIndex","hashGuiderId","_updatePositionOnResize","_resizing","resize","reposition","_unwireEscape","_wireEscape","keydown","createGuider","passedSettings","guiderElement","guiderTitleContainer","getCurrentGuider","omitHidingOverlay","currentGuider","nextGuiderId","nextGuider","prevGuider","prevGuiderId","scrollToCurrent","windowHeight","guiderOffset","guiderElemHeight","scrollToHeight","isGuiderBelow","isGuiderAbove","loadRaw","optionKey","getModified","Modules","enabledByDefault","isEnabled","moduleStatusChanged","modifiedOptions","moduleStatus","getModifiedText","lines","optionMaxLength","moduleMaxLength","padEnd","stagedOptions","clearStagedOptions","stageOption","optionValue","commitStagedOptions","modId","_option","hasStagedOptions","getStagedOptions","getMatchingValueOrAdd","valueIdentifier","instances","openDelay","fadeDelay","fadeSpeed","noconfig","closeOnMouseOut","Hover","_defaultOptions","getInstance","TypeClass","infocard","HoverInfoCard","dropdownList","HoverDropdownList","getFixedParent","pin","_options","instanceID","_hideTimer","_showTimer","_closeFadeTimer","_callback","_container","_fixedPosition","_closePromise","_closePromiseResolve","_checkMouseLeave","getCheckedTarget","instance","_startHideTimer","_startShowTimer","_cancelHideTimer","_cancelShowTimer","persistent","persistentOptions","Options","populateWith","_render","_addContainerHandlers","_clearCloseFade","begin","watch","_displayLoadIndicator","populate","fixedParent","onScroll","_updatePosition","_positionContainer","scrollX","resetShowTimer","_startCloseFade","transitionDuration","_loadIndicator","$container","tooltipWidth","tooltipLeft","tooltipTop","bottomPadding","bottomAlign","leftAlign","outerWidth","launch","menuItem","addMenuItem","Menu","commandLine","widget","tip","setTip","sanitize","clearTip","setError","clearError","getTip","commandLineForm","executeCommand","initialCmd","navigateTo","commands","registerCommand","commandPredicate","getCommandSpec","command","commandSpec","predicateResult","splitWords","matchingCommandSpec","loggedIn","currentUser","Alert","optionsRegex","moduleDataRegex","sanitizeStorageKey","HTMLTextAreaElement","sortTypes","sortTypeRecognizesPeriod","sortType","periods","getPeriod","period","_navigateTo","cmd","descriptions","gearIconClickAction","advanced","gear","showDropdown","CommandLine","hideDropdown","SettingsNavigation","addLegacyStyling","buildItem","getElement","backgroundImage","showAllOptions","showAllOptionsAlert","findModules","isSettingsUrl","makeUrlHashLink","displayText","cssClass","makeUrlHash","parseHash","hashComponents","setHash","replaceState","pushState","iframe","contentWindow","failedToLoad","closing","handleEmbedFailure","loadSuccess","sticky","closeDelay","fadeOutLength","notificationTypes","addRowText","notificationsContainer","lastShownStorage","activeNotifications","showNotification","_delay","notificationID","header","outerHTML","noDisable","inner","existing","notification","isSticky","fadeDuration","resetCloseTimer","fadeTimer","hideTimer","cooldown","maxHeight","MIN_PENALTY","MAX_PENALTY","delayFeatures","suspendFeatures","features","alterFeaturePenalty","valueDelta","getOrAddFeatures","monitoring","penalty","suspendFeature","stopMonitoringFeature","getFeaturePenalty","penalizedDelay","delayOption","penalizedValue","featureModule","featureOptionLink","Notifications","pardonSuspendedFeature","Case","getSelectedEntryValue","SelectedThing","conditions","thingToCriterion","criterionToConditions","cased","fromConditions","evaluate","criterion","parseCriterion","criterionOperators","Cases","propagateError","CaseClass","buildRegex","fullMatch","patt","getCustomFilter","_customFilter","trueText","falseText","observers","isEvaluatable","hasType","onObserve","reconcile","variant","PatternCase","variants","variantLoop","possibleVariant","fullMatchDefault","pattIfEmpty","plain","_patt","CommentCount","isInteger","commentCount","hideWhenUnchanged","cleanComments","subscriptionLength","showSubscribeButton","notifyEditedPosts","dependsOn","monitorPostsVisited","monitorPostsVisitedIncognito","subscriptionStorage","subscriptionButton","refreshSubscriptionButton","getNewCount","displayNewCommentCount","addDashboardFunctionality","listingThing","currentCommentCount","checkSubscriptions","setEntry","getId","updateCurrentCommentCountFromMyComment","hasEntry","newCommentCount","currentCount","lastOpenedCount","newCount","timestamp","isRecent","isMine","subscriptions","unsubscribe","subscribe","newEditedTime","subscriptionDate","editedTime","subscription","checkThread","num_comments","edited","createButton","$button","updated","expires","Table","NewCommentCount","N","CommentsOpened","Domain","Host","domains","logo","landingPage","attribution","detect","handleLink","getVideoData","audioTemplate","loop","galleryTemplate","credits","imageTemplate","openInNewWindow","iframeTemplate","textTemplate","videoTemplate","poster","hasAudio","reversable","formattedPlaybackRate","mediaControlsTemplate","downloadUrl","lookupUrl","clippy","siteAttributionTemplate","logoUrl","settingsLink","crosspostMetadataTemplate","crosspostRootTitle","crosspostRootScore","crosspostRootSubreddit","targetParentFullname","crosspostRootNumComments","crosspostRootTime","crosspostRootAuthor","expandos","activeExpandos","opened","Expando","getEntryExpandoFrom","buttonPlaceholder","boxPlaceholder","collapse","reattach","cachedhtml","getTextExpandosFrom","md","expandoSelector","exp","getAllExpandosFrom","inText","expandWanted","expandCallbacks","media","generateMedia","buttonInfo","mediaClass","updateButton","onExpand","initialize","getDuplicates","setLock","attachMedia","duplicate","onAttach","aarId","errors","previousurl","authorurl","slides","desc","imglink","embed","fixedRatio","formattedUrl","dashboardId","expandoClass","playlist","muted","isGifv","embedAutoplay","pause","autoplay","fetchInfo","images","ids","responseById","img","duplicate_of","source_url","fullsize_url","thumbnail_url","author_url","author_name","genericHosts","originalURL","photoId","base58Encode","enc","oembedTarget","validSuffix","useMobileGfycat","isMobileResolution","gfyItem","frameRate","playbackRate","mobilePosterUrl","posterUrl","mobileUrl","webmUrl","mp4Url","sauce","api_key","mp4","dynCall_v","dynCall_vi","I","nofollow","tocIdPrefix","enableToc","E","ArrayBuffer","HEAP8","Int8Array","HEAP16","Int16Array","HEAP32","Int32Array","HEAPU8","Uint8Array","HEAPU16","Uint16Array","HEAPU32","Uint32Array","HEAPF32","Float32Array","HEAPF64","Float64Array","preloadedImages","preloadedAudios","ze","nr","je","fr","S","F","Ke","Be","V","de","he","De","lr","Me","Re","U","Fe","we","me","Pe","qe","Ye","Oe","_e","pe","P","O","T","K","Ue","W","X","J","rr","ir","ar","or","cr","sr","ur","He","Te","br","ge","kr","vr","dr","hr","wr","mr","pr","yr","gr","Ar","Cr","Sr","xr","Ne","Le","Er","Ae","Ir","Ur","qr","Pr","Or","Hr","Tr","Kr","Mr","Rr","Nr","jr","zr","Br","Dr","Ce","Fr","Lr","Yr","Zr","Gr","Vr","Wr","Xr","$r","Qr","Jr","Se","ee","Ee","ae","fe","ne","te","oe","le","ce","se","ue","be","ke","ve","Ie","imul","clz32","___muldi3","___udivdi3","_bitshift64Lshr","_bitshift64Shl","_default_renderer","_emscripten_get_sbrk_ptr","_free","_i64Add","_i64Subtract","_llvm_ctpop_i32","_malloc","_memcpy","_memmove","_memset","_wiki_renderer","dynCall_iii","dynCall_iiii","dynCall_iiiii","dynCall_iiiiii","dynCall_iiiiiii","dynCall_vii","dynCall_viii","dynCall_viiii","dynCall_viiiii","establishStackSpace","stackAlloc","stackRestore","stackSave","subarray","extraStackTrace","asm","markdown","markdownWiki","files","truncated","coords","long","zoom","mapType","testWithTitle","titleResult","preferResAlbums","useGifOverGifv","preferredImgurLink","imgurImageResolution","hashRe","hostedHashRe","galleryHashRe","albumHashRe","_api","_handleImage","_handleImageCollection","endpoint","Authorization","_mockImageAPI","thisCdnUrl","looping","has_sound","gifv","hashes","is_album","getInfo","baseUrl","shareLinkPreferred","resolutionSuffix","useGif","_handleAlbum","_handleGifv","_handleSingleImage","fullname","postMetadata","preview","gif","categories","clipId","encodedUrl","btoa","processFile","webUrl","route","imageUrl","base36","postId","cdnUrl","sourceUrl","photo_src","photo_caption","uri","publishedfiledetails","preview_url","previewUrl","file_url","fileUrl","itemcount","ext","short","alphabet","alphabetMap","parseViewShortId","pathMatch","h1_title","generatedcaption","blog","posts","render","photos","photo","original_size","dialogue","phrase","asking","asking_url","asking_name","question","answer","channel","typeId","videoId","channelOrVideo","omit_script","$dummy","generate","urlObj","pics","replaceNativeExpando","mpd","manifest","reps","rep","announcementsSubreddit","isBeta","isPatch","isMinor","isMajor","updatedURL","homepageURL","packageInfo","req","Metadata","article","decodeURIComponent","sectionId","sections","cleanDoc","displaytitle","vParam","uParam","tParam","timeBlocks","timeRe","timeMatch","ts","_id","contentDetails","rawDuration","snippet","publishedAt","statistics","viewCount","mParam","clipType","siteModules","__hosts","defaultVideo","defaultAudio","mediaBrowse","browsePreloadCount","galleryPreloadCount","conserveMemory","displayOriginalResolution","selfTextMaxHeight","commentMaxHeight","autoMaxHeight","hideNSFW","highlightNSFWButton","highlightSpoilerButton","imageZoom","imageMove","mediaControls","mediaControlsPosition","crossposts","displayImageCaptions","captionsPosition","markVisited","markSelftextVisited","sfwHistory","galleryRememberWidth","galleryAsFilmstrip","filmstripLoadIncrement","useSlideshowWhenLargerThan","showViewImagesTab","autoExpandTypes","autoExpandSelfText","autoExpandSelfTextFirstVisibleNonMuted","autoExpandSelfTextNSFW","showSiteAttribution","expandoCommentRedirects","startVideosMuted","onlyPlayMutedWhenVisible","maxSimultaneousPlaying","autoplayVideo","hidePinnedRedditVideos","siteModule","siteModuleOptionKey","scanBody","checkElementForMedia","viewImagesButton","updateParentHeight","spotlight","nextprev","enableConserveMemory","isSiteModuleEnabled","sitesMap","modulesForHostname","fullscreenActive","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","boxMap","ioBox","setLoaded","buttonMap","ioButton","supportsUnload","autoExpandActive","mediaBrowseModeActive","isExpandWanted","toggleThingExpandos","scrollOnToggle","openExpandos","autoExpandFirstVisibleNonMutedInThing","autoExpand","ignoreDuplicatesScope","preloadExpandos","fromThing","preloadCount","pieces","preloadMedia","unselected","allowMediaBrowse","oldExpando","newExpando","hasEntryAnyExpandedNonMuted","matchesTypes","wantedTypes","expandoTypes","ignoreDuplicates","onlyExpandMuted","expandoIsNonMuted","typeCriteriaOK","muteCriteriaOK","resolveMediaUrl","fullDataUrl","promptSiteModulePermissions","urlStripRe","disableHostButton","finally","generateSiteModuleLock","_resolve","_reject","linksMap","getLinkExpando","entryExpando","nativeExpando","trackNativeExpando","mediaUrl","detectResult","placeExpando","trackMediaLoad","completeExpando","mediaOptions","isMuted","getMediaButtonInfo","addSiteAttribution","hideButton","wasOpen","lightbox","dontAutoExpandNSFW","basisHeight","expandoHeight","trackLoad","defaultClass","IMAGE","GALLERY","TEXT","VIDEO","IFRAME","AUDIO","GENERIC_EXPANDO","lastPreloadIndex","piece","Gallery","Image","Iframe","Video","Audio","Generic","observed","resizeObserver","ResizeObserver","contentRect","Media","onResize","resizing","rotationState","_unload","_restore","makeIndependent","independent","willChange","keepVisible","basisLeft","isAligned","elementWidth","viewportWidth","elementLeft","elementRight","deltaLeft","setMaxSize","makeZoomable","dragInitiater","absoluteSizing","initialWidth","initialHeight","initialDiagonal","getDiagonal","hypot","addDragListener","atShiftKey","onStart","deltaX","deltaY","conversionFactor","newWidth","makeMovable","addControls","compensateTransformedSize","compensateTransformedSizeObserver","updateRotation","individualCtrl","msgPosition","ctrlToFilmstrip","ctrlConcurrentIncrease","lastRevealedPiece","filmstripActive","rememberResizeWidth","lastResizedWidth","piecesContainer","ctrlPrev","ctrlNext","slideshowWhenLargerThan","expandFilmstrip","changeSlideshowPiece","shouldRememberResizeWidth","rememberWidth","resizedElement","resizedWidth","restoreWidth","resizeElement","revealPiece","preloadAhead","preloadFrom","preloadTo","revealFrom","revealTo","innerText","previousIndex","HTMLImageElement","naturalWidth","naturalHeight","pauseCommand","playCommand","loaded","HTMLIFrameElement","iframeWrapper","dragHandle","HTMLAudioElement","trackVisitNative","links","$replace","hasFrameExecution","setFrameExecution","isActive","hasMoved","lastX","lastY","handleMove","movementX","movementY","handleClick","mutedVideoManager","videos","updatePlay","notVisible","intervalId","reversed","useVideoManager","formatMultilineNumber","HTMLVideoElement","msgError","displayError","sourceElements","canPlayType","lastSource","setPlayIcon","controls","addVideoControls","stopAutoplay","volumeStorage","volume","toggleAttribute","toFixed","ctrlContainer","ctrlReverse","ctrlTogglePause","ctrlSpeedDecrease","ctrlSpeedIncrease","ctrlTimeDecrease","ctrlTimeIncrease","indicatorPosition","ctrlPosition","msgSpeed","msgTime","percentage","ctrlVolume","ctrlVolumeLevel","volumePercentage","updateVolume","newHeight","ShowImages","_matches","_waitTillReady","completeTask","IsLocked","IsNSFW","IsSpoiler","IsVisited","LinkFlair","PostAfter","postTime","qualifiers","prettifyAge","remainder","remainderQualifier","multiplier","PostAge","age","ageQualifier","PostTitle","PostType","kind","Score","score","Selector","Subreddit","UserAttr","myName","UserFlair","toggles","customToggles","initialEnabled","Toggle","onStateChange","registerCommandLine","stateChangeCallbacks","toggleCallbacks","addCLI","buildCheckbox","getToggles","toggleActive","Filter","BaseCase","effects","updatePromise","case","setCase","getEffects","setParent","getStateText","getSaveValues","effect","removeFilter","newCase","describeOnly","updateByInputConstruction","disableFilter","reverseActive","fromSelected","getMatchingEntry","removeEntry","buildReasonElement","ExternalFilter","toggleEffects","FilteReddit","setActive","LineFilter","externOpts","propagate","initialConditions","getBuilder","filterline","card","builderCases","thingType","lastConditions","$builderBlock","caseBuilder","lastFocus","builder","isCaseChanged","refreshElement","showInfocard","immediately","populateHover","redraw","addButton","groupName","ondemand","customFilter","CommentNavigator","numberSpan","hidePermanently","Filterline","sortedFilters","currentMatches","permanentlyHiddenThings","displayReasons","dropdown","preamble","filterContainer","poweredElement","permanentlyHideCheckbox","togglePowered","powered","isPowered","deferredFilters","lastUsed","availableEffects","_refreshAfterChange","backgroundColor","removePlaceholders","replaceWithPlaceholder","checkEmptyState","refreshThing","invokedByFilter","effectsToRefresh","filtersToTest","getFiltersToTest","updateEffect","refreshDisplayReasonsChunked","getActiveFilters","toggleDisplayReasons","refreshDisplayReasons","isInitialized","addFilterElements","createDropdown","getFiltersOfCase","getPickable","addDetails","summary","dp","CaseClasses","createNewFilterElement","_getAsConditions","getAsConditions","of","reload","displayReasonsCheckbox","permanentlyHide","updatePermanentlyHideCheckbox","unhidePermanently","RESTips","indeterminate","getThings","newOpts","createFilter","redditHide","redditUnhide","hasEffect","extracted","resumeDeferredTypes","createFilterFromStateValues","restoreState","getFilter","deferredOpts","getCLI","deconstruct","asNewFilter","findMatchingCases","deconstructed","bestMatch","MatchedCase","actionDescription","addFilter","timing","navigationStart","currentFilter","invokedByFilterIndex","currentFilterIndex","addThing","withEffect","newState","reasons","hideUntilProcessed","NSFWfilter","allowNSFW","listType","NSFWQuickToggle","showFilterline","excludeOwnPosts","excludeModqueue","excludeUserPages","useRedditFilters","reconcileNativeFilters","filterSubredditsFrom","forceSyncFilters","warnNotLoggedIn","users","usersMatchAction","usersMatchRepliesAction","flair","customFiltersP","customFiltersC","featureTips","quiet","filterlineVisible","pageID","filterlineStorage","customFilterVariant","createStateFromTypes","defaultFilters","nsfwToggle","_filterlineResolve","filterlinePromise","ensureFilterlineVisible","updateNsfwBodyClass","CustomToggles","updateNsfwThingClass","_visible","populateFromOptions","shouldFilter","makeFilterlineInteractable","registerSubredditFilterCommand","insertFilterline","filterlineTab","continuation","ListFilter","externalKey","caseType","additionalCriteria","useEffects","_listFilter","addExternalFilter","getStringMatchConditions","_effects","matching","toggleEntry","findEntry","matchString","includesString","toggleString","listFilters","getConditions","customFilters","addOndemandCase","onlyUseful","addCustomFilter","updateCustomFilter","saveFilterlineStateAsDefault","applyTo","applyList","except","mainFilter","applyToConditions","findIndex","getTopScore","resp","topScoreBySub","sortByPopularity","scores","desired","toRemove","toAdd","model","subredditAllowNsfwOption","allowAllNsfw","currOptionValue","postSubreddit","currSubreddit","postOptionValue","filterOn","browserToolbarButton","ignoredStorage","PageAction","shouldDisable","hasToggleableElements","createToggle","nightmodeCompatible","initialState","NightMode","ignoredSubreddits","toggleElements","makeInteractable","place","insertCheckbox","getStylesheet","getHeaderImg","headerImg","imgWrapper","toggleStylesheet","shouldRestore","subredditStylesheet","toggleHeaderImg","nightModeOn","nightSwitch","automaticNightMode","nightModeStart","nightModeEnd","nightModeOverrideHours","useSubredditStyles","subredditStylesWhitelist","coloredLinks","localStorageKey","nightModeActive","nightmodeOverrideStorage","addNightMode","isNightModeOn","removeNightMode","overrideNightMode","isNightmodeCompatible","handleAutomaticNightMode","isAllowedByOptions","Init","isWhitelisted","isSubredditCompatible","compatible","Session","SubredditStyleToggle","toggledSubredditStyle","toggledOn","currSub","whitelist","nightModeOverrideStart","nightModeOverrideLength","nightModeOverrideEnd","isOverrideActive","needsNightModeToggle","isTimeForNightMode","getGeolocation","geolocation","getCurrentPosition","getNightModeTimes","latitude","longitude","sunrise","sunset","getSunriseSunset","startingTime","endingTime","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","timeStringToDate","timeString","bgToTextColorMap","showTaggingIcon","storeSourceLink","useCommentsLinkAsSource","trackVoteWeight","vwNumber","truncateTag","presetTags","tagStorage","Tag","applyFromElement","applyToUser","renderTaggingIcon","attachVoteHandler","renderVoteWeight","getUnfilled","tags","buildTagElement","getStored","votesUp","votesDown","getBaseDifference","extract","votes","showNotice","unignore","openPrompt","getLinkBasedOnTagLocation","tagger","populateDialog","vw","getVoteWeightStyle","defaultTagElement","colors","presetSaveAs","presetTag","presetFieldPair","openLink","textShouldBeUpdated","updateTagPreview","buildPresetTagElement","saveAsPreset","alert","setSelectionRange","handleVoteClick","arrow","$this","$otherArrow","alpha","tagSpan","deleteSpan","UserTag","UserVoteWeight","UserTagger","Username","VoteType","CommentContent","CommentLength","Depth","IsDeleted","monitorSelected","monitorWhenIncognito","currentId","maybeHidePrevious","isRead","_add","IsRead","ReadComments","BrowsingFrontPage","CurrentLocation","CurrentMulti","rawMulti","CurrentUserProfile","CurrentSub","Dow","currentDOW","LoggedInAs","loggedInAs","getOptions","toggleName","Inert","True","False","Group","_cases","toCriterion","NONE","ANY","ONE","ALL","evaluators","seenTrue","evaluator","falseConditions","trueConditions","inertConditions","resolveGroup","precompute","keepGroup","available","typeSorted","getGroup","createAdHoc","AdHoc","getUniqueTypeName","primitives","populatePrimitives","false","true","postCases","commentCases","browseCases","filterThings","getByContext","primitivesOnly","isUseful","keepLoggedIn","accounts","updateOtherTabs","reloadOtherTabs","showCurrentUserName","dropDownStyle","showUserDetails","showKarma","showGold","storedPassword","requiresOtp","downArrow","manageAccounts","userLink","createAccountMenu","usernames","switchTo","accountMenu","goldExpDate","gold_expiration","link_karma","comment_karma","is_gold","logoutPromise","otp","passwd","rem","switchedAccountElsewhere","reloadPage","jqueryRpc","hasDraft","textarea","subredditsForDiagnostics","checkIfSubmitting","submitWizardTemplate","foolin","bugs","submitIssueDefaultBody","diagnostics","BrowserDetect","cookieEnabled","subredditInput","showWizard","injectTemplate","hideWizard","diagnosticsStripped","selfTextStripped","updateSubreddit","wizard","fetchLinks","guiderId","guider","parseObjectList","content_md","dictText","dictMapping","rawLine","line","userAutocomplete","subredditAutocomplete","wikiAutocomplete","formattingToolButtons","keyboardShortcuts","boldKey","italicKey","strikeKey","superKey","linkKey","quoteKey","ctrlEnterSubmitsComments","ctrlEnterSavesLiveThreads","ctrlEnterSubmitsPosts","commentingAs","highlightIfAltAccount","showInputLength","macroButtons","macros","keepMacroListOpen","macroPlaceholders","enabledOnBanMessages","SUBMIT_LIMITS","STYLESHEET","SIDEBAR","DESCRIPTION","WIKI","COMMENT","LIVE_COMMENT","POST","POST_TITLE","BAN_MESSAGE","macroCallbackTable","macroKeyTable","commentTextareaSelector","attachEditorToUsertext","initializeCtrlEnterToSubmit","initializeLengthCounters","initializeAutocomplete","onCtrlEnter","currentForm","saveButton","$captcha","updateCounter","initializeEditorTools","findTextareaForElement","thisCat","testedKeyArray","macroIndex","getFieldLimit","bar","makeEditBar","cachedEditBar","$editBar","wrappedEditBar","commentingAsMessage","AccountSwitcher","shortcuts","makeEditButton","wrapSelection","wrapSelectedWords","linkSelection","wrapSelectedLines","selectedText","selectionStart","selectionEnd","numSeparator","startTable","prevTable","currText","generatedTable","generatedTableSeparation","replaceSelection","addRow","remRow","addCol","remCol","nbCol","newRow","$buttonContainer","$counter","buildMacroDropdowns","addMacroButton","addButtonToMacroGroup","macroDropDownTable","getMacroGroup","macroGroup","titleButton","getDebugMacros","editBar","macroSelection","$macroWrapper","defaultGroup","macroButtonIndex","macroText","fillPlaceholders","placeholders","completedPlaceholders","placeholderInnerText","getMagicPlaceholderValue","promptForPlaceholderValue","magicPlaceholders","$next","furthest","$base","isEditing","toTimeString","toDateString","SubmitIssue","escapeFunction","beforeSelection","afterSelection","trailingSpace","cursor","replacement","startPosition","lineStart","lineEnd","startMovement","endMovement","selectedWords","selectionModify","newLinePosition","lastIndexOf","autoCompleteMatchRegExp","prefixText","completions","getUserCompletions","getSubredditCompletions","getWikiCompletions","autoComplete","caretPos","updateSelection","navigate","textareaOffset","loadAllTags","wikiPages","wikiPage","perAccountDisplayText","hideAllUsernames","hideAccountSwitcherUsernames","showUsernameOnHover","substitutes","substitute","getDisplayText","hideUsername","userHref","curatedBy","curatedByUsername","openQuickMessage","defaultSubject","sendAs","handleContentLinks","handleSideLinks","linkToCurrentPage","lastSentAsStorage","openQuickMessageDialog","messageLinkEventHandler","quickMessageDialog","$dialog","subject","closeQuickMessageDialog","CommentTools","getFullMessageFormUrl","updateModeratorIcon","hasModifier","srMatch","getValidSendFrom","UsernameHider","modSubs","setUpSendFromDropdown","senders","currentOption","focusFirstEmpty","updateSelectedSender","desiredUser","sendAsOptions","indexToSelect","lastSelected","presetSendErrors","NO_USER","NO_SUBJECT","NO_TEXT","BAD_CAPTCHA","TOO_LONG","api_type","from_sr","highlightSelf","selfColor","selfColorHover","highlightOP","OPColor","OPColorHover","highlightAdmin","adminColor","adminColorHover","highlightAlum","alumColor","alumColorHover","highlightFriend","friendColor","friendColorHover","highlightMod","modColor","modColorHover","highlightOpMentions","opMentionsColor","opMentionsHover","highlightFirstCommenter","dontHighlightFirstComment","firstCommentColor","firstCommentColorHover","fontColor","autoColorUsernames","autoColorUsing","generateHoverColors","updateNewUsernames","updateFirstComments","selftext","highlightMentionedUsers","hoverColor","idClass","authorClass","colorGetter","doTextColor","lum","minLum","maxLum","nightmodeColor","monochrome","highlightUser","userid","UserInfo","highlightColor","highlightColorHover","colorData","generateHoverColor","hoverInfo","useQuickMessage","hoverDelay","gildComments","highlightButton","highlightedUsers","showUserInfo","is_suspended","created_utc","is_friend","userHTML","userTaggerEnabled","userTag","isHighlight","getButton","toggleUserHighlight","giveGold","QuickMessage","entryUrl","permalink","authorInfoToolTipHighlight","toggleUserHighlightButton","UserHighlight","openOnHighlightUser","canHighlight","behavior","useLinklistBehavior","wheelBrowseWidget","onWheel","setCallback","galleryPart","updateGalleryPart","clicker","showByDefault","popularConditions","installEntryElement","commentNav","WheelBrowse","getMatchingCategory","getCategories","matchingCategory","setCategory","_memoized","updateFromSelected","custom","submitter","moderator","friend","admin","highlighted","getElements","highlightedUserSelector","tagged","gilded","IAmA","getPosts","popular","nonlinear","new","upvoted","updateCustomConditions","currentCategory","getVisiblePosts","lastNavigatedTo","isOpen","selectedItem","updateBuilder","postCount","HTMLButtonElement","lastNavigatedToIndex","commentNavToggle","choices","keepSelected","konami","createKonami","$baconBit","konamiActive","almostThere","prepattern","automatic","hideNested","initialHide","toggleAllButton","addToggleChildrenButton","addToggleAllButton","includeChildren","toggleAll","returnToPrevPage","autoLoad","pauseAfterEvery","showPauseButton","reversePauseIcon","showServerInfo","dupeSet","pauseReasonStorage","pauseReason","nextPageUrl","retrieveNextPageUrl","loadReturnToPrevPage","initiateReturnToPrevPage","setPause","distanceFromBottom","prefetchNextPage","loadNextPage","prepareNextPageLoad","getLastSiteTable","getNextPrevLinks","getNextPageUrl","refreshAutoLoad","displayEndBanner","endNER","pauseAfterPages","startPromise","donePromise","loadPage","createLoaderWidget","pauseButton","isNerUrl","setReturnToPage","$earlierMarkers","marker","ner","loadPromise","setLoaderWidgetActionText","scrollToLoadWidget","prefetchIo","displayPauseReason","pauseReasonIo","loadNextPageIo","updateWidget","fetchPage","attachPromise","newSiteTable","noresults","pageMarker","firstLen","lastLen","class","moreinfo","disableVoteButtons","disableCommentTextarea","evenIfSubscriber","escapeNP","isNpHostname","boilerplateNotificationText","noParticipationActive","removeNpFromLink","isNPIrrelevant","notifyNpIrrelevant","applyNoParticipationMode","isSubscriber","isVotingBlocked","nonNpLocation","nonNpUrl","notifyNpActive","votedOnButtons","notifyNoVote","voteButton","canUndoVote","revertVote","notifyNoComment","watchForVote","voteButtons","savedCommentStorage","saveElement","drawSavedComments","saveComment","getCommentContent","permaLink","timeSaved","savedCommentsTemplate","keyNavTip","moduleDescription","keyNavHash","savePostKey","saveCommentKey","saveRESKey","dateTime","timeAgo","savedComments","KeyboardNav","savePost","saveRES","unsaveid","showEducationalNotification","showCommentHover","startHover","voteClasses","$targetButton","removeClickHandlers","$midcol","startDir","newDir","$parents","topParentURL","topParentId","openOrder","hideLEC","openFrontpage","openBackground","invokeOnPostMap","frontpageLink","ordered","focused","linearScrollStyle","nonLinearScrollStyle","linkNumbers","linkNumberPosition","linkToggleExpando","linkNumberAltModeModifier","linkNewTab","onHideMoveDown","onVoteMoveDown","onVoteCommentMoveDown","followLinkNewTabFocus","toggleHelp","toggleKeyNavHelp","toggleCmdLine","requiresModules","enterFilterCommandLine","hideLink","moveUp","moveDown","moveDownFallback","moveUpComment","moveDownComment","moveTop","moveBottom","moveUpSibling","moveDownSibling","moveDownParentSibling","moveUpThread","moveDownThread","moveToTopComment","moveToParent","undoMove","showParents","ShowParent","getSelected","assertElement","followLink","followLinkNewTab","toggleExpando","scrollOnExpando","imageSizeUp","imageResize","factor","imageSizeDown","imageSizeUpFine","imageSizeDownFine","imageSizeAnyHeight","removeHeightRestriction","imageMoveUp","imageMoveDown","imageMoveLeft","imageMoveRight","previousGalleryImage","navigateGallery","nextGalleryImage","scrollOnGalleryNavigate","toggleViewImages","toggleChildren","followComments","followCommentsNewTab","followLinkAndCommentsNewTab","SingleClick","followLinkAndCommentsNewTabBG","upVote","mustBeLoggedIn","vote","downVote","upVoteWithoutToggling","downVoteWithoutToggling","getFirstElementInThingByQuery","ASSERT","SaveComments","reply","edit","showChildComments","HideChildComments","showAllChildComments","followPermalink","followPermalinkNewTab","followSubreddit","followSubredditNewTab","followProfile","followProfileNewTab","toggleCommentNavigator","commentNavigatorMoveUp","commentNavigatorMoveDown","focusOnSearchBox","useGoMode","goMode","toggleGoMode","leaveNP","inboxNewTab","newWindow","modmail","modmailNewTab","profileNewTab","frontPage","slashAll","subredditFrontPage","nextPage","NeverEndingReddit","prevPage","overviewLegacy","profileView","updateLinkAnnotations","handleKeyPress","annotation","linkAnnotations","followLinkByRank","slideSpeed","drawHelp","getActiveCommandOptions","getLinkKeys","altModeModifier","addKey","_commandLookup","lookup","EasterEgg","hasDefaultBehavior","goModeActive","handleCallbacks","shortcut","promptUniqueShortcut","optionButtons","followUp","preservedOption","NOASSERT","assertExistance","getElementsInThingByQuery","assertLength","getMostVisibleElementInThingByQuery","mostVisible","gallery","way","preventToggle","NoParticipation","$target","goModePanel","goModes","handleGoModeEscapeKey","bump","altMode","dailyTip","newFeatureTips","featureTipsStorage","lastTooltipStorage","showOrdinaryTip","allowFeatureTips","featureTipReadyPromise","showsDailyTip","newFeatureTipsCheckbox","addFeatureTip","tips","showFeatureTip","Element","showTip","lastCheck","PenaltyBox","generateContent","keyboard","keyboardTable","generateContentKeyboard","optionTable","generateContentOption","keyboardNavOption","dailyTipsCheckbox","lastTip","currTipIndex","guiderObj","origGuiderObj","upcomingId","nextTip","toggleIncreasedZIndex","presets","backup","searchSettings","announcements","donate","suggestions","faq","contributors","privacy","license","viewUrl","markedReadDate","lastUnreadDate","lastID","archiveAfter","pizzazzAfter","recheckPostAfter","biff","setMarkedRead","postForNotification","getLatestPost","cacheLatestPost","shouldNotify","createdDate","isPostRelevant","withPizzazz","addAnnouncementBiff","hasSeenNotification","mustBeVisibleDuration","hidePost","ThingHide","pending","SCHEMA_VERSION","deserialize","encoded","Provider","write","notifyBackupDone","supportsAutomaticBackups","File","accept","reader","FileReader","readAsText","blob","Blob","getUTCFullYear","FILE","FOLDER","GoogleDrive","accessToken","googleLoginHint","getExistingFile","spaces","getOrCreateFile","existingFile","uploadType","OneDrive","getMetadata","Dropbox","mode","mute","Providers","getProvider","restore","reloadWarning","automaticBackups","lastCheckStorage","handleAutomaticSync","warnBeforeAutomaticRestore","googleAccount","providerClass","lastModifiedStorage","automaticProviderKey","provider","remoteBackup","lastModifiedKey","alertType","isAutomatic","backupDate","NumberFormat","notation","unitDisplay","postRestore","subredditShortcut","shortcutsPerAccount","alwaysApplySuffixToMulti","dropdownEditButton","shortcutDropdownDelay","shortcutEditDropdownDelay","allowLowercase","linkDashboard","linkAll","linkFront","linkPopular","linkProfilePosts","linkRandom","linkMyRandom","linkRandNSFW","linkUsers","linkFriends","linkMod","linkModqueue","linkSaved","buttonEdit","lastUpdate","storeSubredditVisit","storeSubredditVisitIncognito","dragDropDelete","displayMultiCounts","shortcutsContainer","$subredditGroupDropdown","subredditGroupDropdownUL","subredditGroupDropdownRefItem","$editShortcutDialog","deleteButton","mySubredditShortcuts","subredditsLastViewedStorage","subredditShortcutsStorage","loadShortcuts","initialShortcutsLoad","createSubredditBar","createSidebarShortcutToggle","titleElement","createShortcutToggleButton","setLastViewtime","subButtons","subButton","thisSubredditFragment","isMulti","$subButtonsWrapper","getMultiCounts","multiCount","theWrap","$subButtons","addSubredditShortcut","removeSubredditShortcut","redrawShortcuts","hideSubredditGroupDropdownTimer","showSubredditGroupDropdownTimer","currentSub","isCurrent","sortedSubs","thisShortCut","displayName","followSubredditShortcut","hideSubredditGroupDropdown","editSubredditShortcut","showSubredditGroupDropdown","subredditDragStart","subredditDragEnter","subredditDragOver","subredditDragLeave","subredditDrop","subredditDragEnd","sep","textTransform","cleanSubreddits","_showSubredditGroupDropdown","$rows","$collection","$thisLI","unsortable","thisForm","displayNameInput","saveSubredditShortcut","sortSubmenu","inputEl","currStr","ascArr","ascStr","descArr","descStr","btnTxt","thisLeft","addedDate","saveLatestShortcuts","dragSrcEl","srDataTransfer","addTrashBin","theData","srcOrderIndex","srcSubreddit","destOrderIndex","destSubreddit","rearranged","rearrangedI","removeTrashBin","headerContents","originalShortcuts","myRandom","myRandomGold","originalFrontpage","originalPopular","originalProfilePosts","staticShortcutsHTML","flat","toggleSubredditDropdown","choice","shortcutsEditContainer","sortMenu","toggleShortCutsAddForm","leftButton","containerMargin","shiftWidth","rightButton","trashBin","$title","$trashZone","shortCutsTrash","$wrapper","shortCutsAddFormContainer","shortCutsAddFormField","shortCutsAddFormFieldDisplayName","shortCutsAddForm","displayname","trashOpenLink","$pageOverlay","srHeaderArea","lastField","sameField","sortShortcuts","srList","getMySubredditsTable","lastVisited","shortcutToggle","mySubreddits","display_name","subredditsLastViewed","lv","last_visited","theLV","dateVisited","multis","subredditObj","subscribeToSubreddit","subredditName","mySubredditList","mySubredditListCachedObject","mySubredditListCached","_lastUpdate","inactiveThreshold","cachedObject","commentsLinksNewTabs","fixHideLinks","hideLinkInstant","hideLinkFadeDelay","videoTimes","videoUploaded","videoViewed","pinHeader","showLastEditedTimestamp","scoreHiddenTimeLeft","showTimestampPosts","showTimestampComments","showTimestampSidebar","showTimestampWiki","showTimestampModerationLog","restoreSavedTab","doNoCtrlF","showHiddenSortOptions","truncateLongLinks","commentCollapseInInbox","restrictScrollEvents","applyNoCtrlF","fetchVideoData","showVideoData","scr","timeNode","scoreHiddenDuration","minutesLeft","pinSubredditBar","pinUserBar","rel","clickedLink","Youtube","uploaded","titleHasTimeRegex","getYoutubeStartTimeRegex","titleMatch","seconds","fromYoutubeTimecodeToSeconds","tc","timeSeconds","tcobj","sm","SubredditManager","sb","paddingTop","paddingBottom","pinCommonElements","userbar","headerHeight","defaultCommentDepth","defaultMinimumComments","commentPermalinks","commentPermalinksContext","subredditCommentDepths","commentDepth","minimumComments","minimumCount","COLLAPSE_REASON","collapsedThings","listenToCommentCollapse","collapsed","currentCollapseReason","enableBigEditor","swapBigEditorLayout","openBigEditor","draftStyle","enableForComments","enableForPosts","enableForWiki","enableForSubredditConfig","enableForBanMessages","sidebarPreview","subredditImages","isWiki","isBan","initWikiImages","showBigEditor","attachWikiPreview","addBigEditorButton","attachPreview","markdownToHTML","generateBanMessage","$doc","imgKey","resolvedSrc","tocDiv","$parent","aid","idNum","thisLevel","$newUL","bigEditorButton","makePreviewBox","onTextareaInput","markdownText","createBigEditor","$editor","$left","$contents","$textarea","$foot","hideBigEditor","$right","$preview","$bigTextTarget","$baseText","hideCommentsOnHeaderDoubleClick","toggleCommentsOnClickLeftEdge","leftEdgeColor","leftEdgeHoverColor","leftEdgeCollapsedColor","leftEdgeWidth","hideCollapseButton","scrollOnCollapse","_base","commentBoxes","commentRounded","commentHoverBorder","commentIndent","continuity","viewFullContext","defaultContext","addViewFullContext","setDefaultContext","pInfobar","contextDepth","defaultPosts","defaultSort","defaultSortSearch","dashboardShortcut","initialWidgetLoad","getLatestWidgets","dashboardUrl","addDashboardShortcuts","MAX_ROWS","dashboardStorage","widgets","attachAddComponent","attachEditComponent","initUpdateQueue","addWidget","saveOrder","updateQueue","updateQueueTimer","addToUpdateQueue","updateFunction","processUpdateQueue","thisUpdate","newOrder","basePath","widgetBeingEdited","$dashboardEditComponent","thisBasePath","formerBasePath","widgetEle","showEditForm","eleTop","eleWidth","$dashboardUL","$tabPage","$dashboardAddComponent","thisDisplayName","optionsObject","exists","thisWidget","WidgetObject","saveWidget","removeWidget","widgetOptions","numPosts","sortSearchBy","minimized","sortControls","sortSearchControls","sortChange","stateControls","sortPath","scrim","$widgetContent","$thisWidgetContents","$noResults","createSubredditToggleButton","HTMLScriptElement","redditLogoDestination","customDestination","redditLogoNode","getLogoLinkUrl","destination","getListFragment","doStyleSheetCheck","keyNav","nightmode","$stylesheetTextarea","createTipPane","addTipToPane","keyNavIdx","keyNavRule","thisChar","$tipPane","$tipPaneHeader","$tipPaneContents","$tipPaneList","$sheetsDiv","toggleTipPane","$tipPaneCloseButton","hideTipPane","$tipPaneHeaderSpan","openTipPaneContents","closeTipPaneContents","tipText","$tip","sectionMenu","sectionLinks","loadChildComments","visibleLoaders","loadFirst","loader","updateNotification","patchUpdateNotification","betaUpdateNotification","highestVersionStorage","highestVersion","infoTypes","notificationOption","openMailInNewTab","updateCurrentTab","showFloatingEnvelope","retroUnreadCount","showUnreadCountInTitle","faviconUseLegacy","showUnreadCountInFavicon","faviconNotificationBGColor","faviconNotificationTextColor","resetFaviconOnLeave","unreadLinksToInbox","hideEmptyMail","hideModMail","hideEmptyModMail","hideNewModMail","hideEmptyNewModMail","setupFavicon","floatingButtons","$orangeredElements","updateFromPage","debuginfoElement","timestampRegex","setUnreadCount","getUnreadCount","lastCount","_setUnreadCount","updateFaviconBadge","updateTitle","updateInboxElements","updateMailCountElements","nativeInboxButton","$floatingInboxButton","orangeredElements","getInboxLink","nativeInboxCount","$floatingInboxCount","favicons","selectedFavicon","legacyFavicon","favicon","nativeButtons","modmailButtonSelector","$all","BetteReddit","havemail","mailCount","toTop","toComment","showLink","showLinkNewTab","showLinkTitle","backToNewCommentArea","backToTop","showLinkTitleTemplate","thumbnailSrc","linkId","settingsHash","linkHref","domainHref","authorHref","commentArea","submissionThing","$widget","belowSubmission","baseHeight","hoverHeight","showWidget","hideWidget","renderWidget","scrollingUp","clearCache","clearTags","resetToFactory","disableRES","breakpoint","testEnvironment","testNotifications","toDelete","testMulticast","testKey","lite","confirmPreset","toggleModules","cleanSlate","noPopups","toggleOptions","Troubleshooter","confirmation","shouldReload","sanitizeModulesList","unsanitized","sanitized","allModules","requestEnable","requestDisable","setOptionValue","optName","fromLandingPage","customFromLandingPage","currentSection","preferredSection","hideFlair","hideQuarantinedInSub","hideAuthorTooltip","getManifest","optional_permissions","PRESERVE_SPACES","drawSearchResults","sanitizedQuery","sanitizeString","queryTerms","searchDomain","rankModule","rankOption","rankString","indexesOfSearchTermsInString","weighted","matchedIndex","needles","haystack","needle","preserveSpaces","replaceSpacesWith","onSearchResultSelected","$resultsContainer","handleSearchResultClick","advancedResults","plural","resultsList","drawSearchResultItem","searchResultTemplate","copybutton","onSearchResultCopy","makeOptionSearchResultLink","optionLinkTemplate","settingsUrl","moduleUrl","optionUrl","addSearchOptions","defaultSortOption","defaultTimeOption","legacySearch","toggleSearchOptions","hideSearchOptions","userFilterBySubreddit","searchByFlair","searchPageTabs","defaultSearchTab","transitionSearchTabs","searchBySubreddit","searchExpando","searchOptionsHtml","userProfile","referrer","previousPage","isLegacySearch","$searchTabsEle","searchHeader","searchForm","moreSearchInfo","searchFacets","$searchOptions","subredditResultListing","searchTabs","facets","searchTab","$searchTabLi","searchTabToggle","restrictSearch","transitionSpd","sourceParent","tab","activeClass","openClass","autoSelectOnScroll","addLine","setColors","backgroundColorNight","textColorNight","outlineStyle","outlineStyleNight","styleLine","styleColor","styleOutline","showCommentKarma","separator","useCommas","updateKarmaDiv","displayGold","karmaDiv","userSpan","today","expDate","attachViewSourceButton","sourceButton","viewSource","$buttonList","$userTextForm","sourceText","replies","addSpamButton","authorElement","authorName","spam","transition","navTop","disableAnimations","visitedStyle","showExpandos","hideUnvotable","showFullLinkFlair","highlightEditedTime","colorBlindFriendly","scrollSubredditDropdown","highlightTopLevel","highlightTopLevelColor","highlightTopLevelSize","floatingSideBar","postTitleCapitalization","hideDomainLink","flairEmojiAsText","redditThemes","loadStylesheets","snippets","bodyClasses","subredditClass","multiredditClass","usernameClass","loggedInUserClass","applySubredditClass","applyUsernameClass","applyMultiredditClass","applyStyles","applyBodyClasses","applyCssSnippets","applyLoggedInUserClass","addClasses","shouldApply","removeClasses","subredditNameRegexp","urlRegexp","sanitizeStylesheetUrls","subredditMatch","stylesheetUrls","stylesheetManager","sync","stylesheetElementManager","snippetManager","generateElement","wantedKeys","currentKeys","warnAlreadySubmitted","uncheckSendRepliesToInbox","focusFormOnLoad","$repostWarning","urlField","srField","implementOptions","urlFieldDiv","updateRepostWarning","linkButton","textButton","sendReplies","trailingUrl","cliParams","commandLineParameters","urlResult","redirect","showRepostWarning","hideRepostWarning","stripUrlRe","userUrl","restrict_sr","requireDirectLink","linkSelector","showSubredditInfo","jsonData","user_is_subscriber","subscribers","over18","Dashboard","subReddits","SRTDoesntContain","SRTTagWith","doesntContain","tagWith","scanTitle","tagToAdd","tagText","hasTag","thisSubReddit","thisString","setupMenu","mutateChoice","removeListener","appendTemporaryButton","form","userbarState","toggleButtonState","$userbarToggle","userbarHider","addToggleButton","updateUserBar","toggleUserBar","userbarHidden","updateToggleButton","toggleUserbarElementsDisplay","concurrentInstallWiki","addVersionClasses","reportVersion","avoidConcurrentInstalls","versionComponents","installs","concurrentInstalls","highlightScores","colorLinkScore","userDefinedLinkColoration","colorCommentScore","userDefinedCommentColoration","interpolateScoreColor","highlightControversial","highlightControversialColor","applyLinkScoreColor","applyCommentScoreColor","defaultColor","augmented","lowBound","lowColor","highBound","highColor","lowVal","highVal","getLinkScoreColor","getCommentScoreColor","rankEle","background","createLinks","xpostRe","xpostFromRe","subredditRe","parseSubreddit","xpostString","appendToTagline","modules","__modules","allowedModules","_loadModulePrefs","storedPrefs","ERRORED_KEY","_runModuleStage","stage","skipEnabledCheck","isRunning","getUnchecked","getByCategory","sortComparison","_loadModuleOptions","shouldPrunePromise","storedOptions","storedValue","should","prune","_addModuleBodyClasses","optId","sourceLoaded","loadI18n","loadOptions","addModuleBodyClasses","Context","FontFace","weight","fonts","blockers"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;ACrEA,iEAAE,SAAUA,MAAV,CAAkBC,OAAlB,CAA4B,CAE7B,aAEA,GAAK,OAA8B,MAAOC,OAAM,CAACC,OAAd,GAA0B,QAA7D,CAAwE,CASvED,MAAM,CAACC,OAAP,CAAiBH,MAAM,CAACI,QAAP,CAChBH,OAAO,CAAED,MAAF,CAAU,IAAV,CADS,CAEhB,SAAUK,CAAV,CAAc,CACb,GAAK,CAACA,CAAC,CAACD,QAAR,CAAmB,CAClB,KAAM,IAAIE,MAAJ,CAAW,0CAAX,CAAN,CACA,CACD,MAAOL,QAAO,CAAEI,CAAF,CAAd,CACA,CAPF,CAQA,CAjBD,IAiBO,CACNJ,OAAO,CAAED,MAAF,CAAP,CACA,CAGD,CA1BD,EA0BK,MAAOO,OAAP,GAAkB,WAAlB,CAAgCA,MAAhC,CAAyC,IA1B9C,CA0BoD,SAAUA,MAAV,CAAkBC,QAAlB,CAA6B,CAMjF,aAEA,GAAIC,IAAG,CAAG,EAAV,CAEA,GAAIL,SAAQ,CAAGG,MAAM,CAACH,QAAtB,CAEA,GAAIM,SAAQ,CAAGC,MAAM,CAACC,cAAtB,CAEA,GAAIC,MAAK,CAAGJ,GAAG,CAACI,KAAhB,CAEA,GAAIC,OAAM,CAAGL,GAAG,CAACK,MAAjB,CAEA,GAAIC,KAAI,CAAGN,GAAG,CAACM,IAAf,CAEA,GAAIC,QAAO,CAAGP,GAAG,CAACO,OAAlB,CAEA,GAAIC,WAAU,CAAG,EAAjB,CAEA,GAAIC,SAAQ,CAAGD,UAAU,CAACC,QAA1B,CAEA,GAAIC,OAAM,CAAGF,UAAU,CAACG,cAAxB,CAEA,GAAIC,WAAU,CAAGF,MAAM,CAACD,QAAxB,CAEA,GAAII,qBAAoB,CAAGD,UAAU,CAACE,IAAX,CAAiBZ,MAAjB,CAA3B,CAEA,GAAIa,QAAO,CAAG,EAAd,CAEA,GAAIC,WAAU,CAAG,SAAqBC,GAArB,CAA2B,CAMtC,MAAO,OAAOA,IAAP,GAAe,UAAf,EAA6B,MAAOA,IAAG,CAACC,QAAX,GAAwB,QAA5D,CACH,CAPH,CAUA,GAAIC,SAAQ,CAAG,SAAmBF,GAAnB,CAAyB,CACtC,MAAOA,IAAG,EAAI,IAAP,EAAeA,GAAG,GAAKA,GAAG,CAACnB,MAAlC,CACA,CAFF,CAOC,GAAIsB,0BAAyB,CAAG,CAC/BC,IAAI,CAAE,IADyB,CAE/BC,GAAG,CAAE,IAF0B,CAG/BC,KAAK,CAAE,IAHwB,CAI/BC,QAAQ,CAAE,IAJqB,CAAhC,CAOA,QAASC,QAAT,CAAkBC,IAAlB,CAAwBC,IAAxB,CAA8BC,GAA9B,CAAoC,CACnCA,GAAG,CAAGA,GAAG,EAAIjC,QAAb,CAEA,GAAIkC,EAAJ,CAAOC,GAAP,CACCC,MAAM,CAAGH,GAAG,CAACI,aAAJ,CAAmB,QAAnB,CADV,CAGAD,MAAM,CAACE,IAAP,CAAcP,IAAd,CACA,GAAKC,IAAL,CAAY,CACX,IAAME,CAAN,GAAWT,0BAAX,CAAuC,CAYtCU,GAAG,CAAGH,IAAI,CAAEE,CAAF,CAAJ,EAAaF,IAAI,CAACO,YAAL,EAAqBP,IAAI,CAACO,YAAL,CAAmBL,CAAnB,CAAxC,CACA,GAAKC,GAAL,CAAW,CACVC,MAAM,CAACI,YAAP,CAAqBN,CAArB,CAAwBC,GAAxB,EACA,CACD,CACD,CACDF,GAAG,CAACQ,IAAJ,CAASC,WAAT,CAAsBN,MAAtB,EAA+BO,UAA/B,CAA0CC,WAA1C,CAAuDR,MAAvD,EACA,CAGF,QAASS,OAAT,CAAiBvB,GAAjB,CAAuB,CACtB,GAAKA,GAAG,EAAI,IAAZ,CAAmB,CAClB,MAAOA,IAAG,CAAG,EAAb,CACA,CAGD,MAAO,OAAOA,IAAP,GAAe,QAAf,EAA2B,MAAOA,IAAP,GAAe,UAA1C,CACNT,UAAU,CAAEC,QAAQ,CAACK,IAAT,CAAeG,GAAf,CAAF,CAAV,EAAsC,QADhC,CAEN,MAAOA,IAFR,CAGA,CAOD,GACCwB,QAAO,CAAG,OADX,CAICC,MAAM,CAAG,SAAUC,QAAV,CAAoBC,OAApB,CAA8B,CAItC,MAAO,IAAIF,OAAM,CAACG,EAAP,CAAUC,IAAd,CAAoBH,QAApB,CAA8BC,OAA9B,CAAP,CACA,CATF,CAaCG,KAAK,CAAG,oCAbT,CAeAL,MAAM,CAACG,EAAP,CAAYH,MAAM,CAACM,SAAP,CAAmB,CAG9BC,MAAM,CAAER,OAHsB,CAK9BS,WAAW,CAAER,MALiB,CAQ9BS,MAAM,CAAE,CARsB,CAU9BC,OAAO,CAAE,UAAW,CACnB,MAAOhD,MAAK,CAACU,IAAN,CAAY,IAAZ,CAAP,CACA,CAZ6B,CAgB9BuC,GAAG,CAAE,SAAUC,GAAV,CAAgB,CAGpB,GAAKA,GAAG,EAAI,IAAZ,CAAmB,CAClB,MAAOlD,MAAK,CAACU,IAAN,CAAY,IAAZ,CAAP,CACA,CAGD,MAAOwC,IAAG,CAAG,CAAN,CAAU,KAAMA,GAAG,CAAG,KAAKH,MAAjB,CAAV,CAAsC,KAAMG,GAAN,CAA7C,CACA,CAzB6B,CA6B9BC,SAAS,CAAE,SAAUC,KAAV,CAAkB,CAG5B,GAAIC,IAAG,CAAGf,MAAM,CAACgB,KAAP,CAAc,KAAKR,WAAL,EAAd,CAAkCM,KAAlC,CAAV,CAGAC,GAAG,CAACE,UAAJ,CAAiB,IAAjB,CAGA,MAAOF,IAAP,CACA,CAvC6B,CA0C9BG,IAAI,CAAE,SAAUC,QAAV,CAAqB,CAC1B,MAAOnB,OAAM,CAACkB,IAAP,CAAa,IAAb,CAAmBC,QAAnB,CAAP,CACA,CA5C6B,CA8C9BC,GAAG,CAAE,SAAUD,QAAV,CAAqB,CACzB,MAAO,MAAKN,SAAL,CAAgBb,MAAM,CAACoB,GAAP,CAAY,IAAZ,CAAkB,SAAUC,IAAV,CAAgBlC,CAAhB,CAAoB,CAC5D,MAAOgC,SAAQ,CAAC/C,IAAT,CAAeiD,IAAf,CAAqBlC,CAArB,CAAwBkC,IAAxB,CAAP,CACA,CAFsB,CAAhB,CAAP,CAGA,CAlD6B,CAoD9B3D,KAAK,CAAE,UAAW,CACjB,MAAO,MAAKmD,SAAL,CAAgBnD,KAAK,CAAC4D,KAAN,CAAa,IAAb,CAAmBC,SAAnB,CAAhB,CAAP,CACA,CAtD6B,CAwD9BC,KAAK,CAAE,UAAW,CACjB,MAAO,MAAKC,EAAL,CAAS,CAAT,CAAP,CACA,CA1D6B,CA4D9BC,IAAI,CAAE,UAAW,CAChB,MAAO,MAAKD,EAAL,CAAS,CAAC,CAAV,CAAP,CACA,CA9D6B,CAgE9BA,EAAE,CAAE,SAAUtC,CAAV,CAAc,CACjB,GAAIwC,IAAG,CAAG,KAAKlB,MAAf,CACCmB,CAAC,CAAG,CAACzC,CAAD,EAAOA,CAAC,CAAG,CAAJ,CAAQwC,GAAR,CAAc,CAArB,CADL,CAEA,MAAO,MAAKd,SAAL,CAAgBe,CAAC,EAAI,CAAL,EAAUA,CAAC,CAAGD,GAAd,CAAoB,CAAE,KAAMC,CAAN,CAAF,CAApB,CAAoC,EAApD,CAAP,CACA,CApE6B,CAsE9BC,GAAG,CAAE,UAAW,CACf,MAAO,MAAKZ,UAAL,EAAmB,KAAKT,WAAL,EAA1B,CACA,CAxE6B,CA4E9B5C,IAAI,CAAEA,IA5EwB,CA6E9BkE,IAAI,CAAExE,GAAG,CAACwE,IA7EoB,CA8E9BC,MAAM,CAAEzE,GAAG,CAACyE,MA9EkB,CAA/B,CAiFA/B,MAAM,CAACgC,MAAP,CAAgBhC,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAmB,UAAW,CAC7C,GAAIC,QAAJ,CAAaC,IAAb,CAAmBtD,GAAnB,CAAwBuD,IAAxB,CAA8BC,WAA9B,CAA2CC,KAA3C,CACCC,MAAM,CAAGf,SAAS,CAAE,CAAF,CAAT,EAAkB,EAD5B,CAECpC,CAAC,CAAG,CAFL,CAGCsB,MAAM,CAAGc,SAAS,CAACd,MAHpB,CAIC8B,IAAI,CAAG,KAJR,CAOA,GAAK,MAAOD,OAAP,GAAkB,SAAvB,CAAmC,CAClCC,IAAI,CAAGD,MAAP,CAGAA,MAAM,CAAGf,SAAS,CAAEpC,CAAF,CAAT,EAAkB,EAA3B,CACAA,CAAC,GACD,CAGD,GAAK,MAAOmD,OAAP,GAAkB,QAAlB,EAA8B,CAAChE,UAAU,CAAEgE,MAAF,CAA9C,CAA2D,CAC1DA,MAAM,CAAG,EAAT,CACA,CAGD,GAAKnD,CAAC,GAAKsB,MAAX,CAAoB,CACnB6B,MAAM,CAAG,IAAT,CACAnD,CAAC,GACD,CAED,KAAQA,CAAC,CAAGsB,MAAZ,CAAoBtB,CAAC,EAArB,CAA0B,CAGzB,GAAK,CAAE8C,OAAO,CAAGV,SAAS,CAAEpC,CAAF,CAArB,GAAgC,IAArC,CAA4C,CAG3C,IAAM+C,IAAN,GAAcD,QAAd,CAAwB,CACvBE,IAAI,CAAGF,OAAO,CAAEC,IAAF,CAAd,CAIA,GAAKA,IAAI,GAAK,WAAT,EAAwBI,MAAM,GAAKH,IAAxC,CAA+C,CAC9C,SACA,CAGD,GAAKI,IAAI,EAAIJ,IAAR,GAAkBnC,MAAM,CAACwC,aAAP,CAAsBL,IAAtB,IACpBC,WAAW,CAAGK,KAAK,CAACC,OAAN,CAAeP,IAAf,CADM,CAAlB,CAAL,CAC6C,CAC5CvD,GAAG,CAAG0D,MAAM,CAAEJ,IAAF,CAAZ,CAGA,GAAKE,WAAW,EAAI,CAACK,KAAK,CAACC,OAAN,CAAe9D,GAAf,CAArB,CAA4C,CAC3CyD,KAAK,CAAG,EAAR,CACA,CAFD,IAEO,IAAK,CAACD,WAAD,EAAgB,CAACpC,MAAM,CAACwC,aAAP,CAAsB5D,GAAtB,CAAtB,CAAoD,CAC1DyD,KAAK,CAAG,EAAR,CACA,CAFM,IAEA,CACNA,KAAK,CAAGzD,GAAR,CACA,CACDwD,WAAW,CAAG,KAAd,CAGAE,MAAM,CAAEJ,IAAF,CAAN,CAAiBlC,MAAM,CAACgC,MAAP,CAAeO,IAAf,CAAqBF,KAArB,CAA4BF,IAA5B,CAAjB,CAGA,CAlBD,IAkBO,IAAKA,IAAI,GAAKQ,SAAd,CAA0B,CAChCL,MAAM,CAAEJ,IAAF,CAAN,CAAiBC,IAAjB,CACA,CACD,CACD,CACD,CAGD,MAAOG,OAAP,CACA,CAtED,CAwEAtC,MAAM,CAACgC,MAAP,CAAe,CAGdY,OAAO,CAAE,SAAW,CAAE7C,OAAO,CAAG8C,IAAI,CAACC,MAAL,EAAZ,EAA4BC,OAA5B,CAAqC,KAArC,CAA4C,EAA5C,CAHN,CAMdC,OAAO,CAAE,IANK,CAQdC,KAAK,CAAE,SAAUC,GAAV,CAAgB,CACtB,KAAM,IAAI/F,MAAJ,CAAW+F,GAAX,CAAN,CACA,CAVa,CAYdC,IAAI,CAAE,UAAW,CAAE,CAZL,CAcdX,aAAa,CAAE,SAAUjE,GAAV,CAAgB,CAC9B,GAAI6E,MAAJ,CAAWC,IAAX,CAIA,GAAK,CAAC9E,GAAD,EAAQR,QAAQ,CAACK,IAAT,CAAeG,GAAf,IAAyB,iBAAtC,CAA0D,CACzD,MAAO,MAAP,CACA,CAED6E,KAAK,CAAG7F,QAAQ,CAAEgB,GAAF,CAAhB,CAGA,GAAK,CAAC6E,KAAN,CAAc,CACb,MAAO,KAAP,CACA,CAGDC,IAAI,CAAGrF,MAAM,CAACI,IAAP,CAAagF,KAAb,CAAoB,aAApB,GAAuCA,KAAK,CAAC5C,WAApD,CACA,MAAO,OAAO6C,KAAP,GAAgB,UAAhB,EAA8BnF,UAAU,CAACE,IAAX,CAAiBiF,IAAjB,IAA4BlF,oBAAjE,CACA,CAjCa,CAmCdmF,aAAa,CAAE,SAAU/E,GAAV,CAAgB,CAG9B,OAAM2D,KAAN,GAAc3D,IAAd,CAAoB,CACnB,MAAO,MAAP,CACA,CACD,MAAO,KAAP,CACA,CA1Ca,CA6CdgF,UAAU,CAAE,SAAUvE,IAAV,CAAgBiD,OAAhB,CAA0B,CACrClD,OAAO,CAAEC,IAAF,CAAQ,CAAEH,KAAK,CAAEoD,OAAO,EAAIA,OAAO,CAACpD,KAA5B,CAAR,CAAP,CACA,CA/Ca,CAiDdqC,IAAI,CAAE,SAAU3C,GAAV,CAAe4C,QAAf,CAA0B,CAC/B,GAAIV,OAAJ,CAAYtB,CAAC,CAAG,CAAhB,CAEA,GAAKqE,WAAW,CAAEjF,GAAF,CAAhB,CAA0B,CACzBkC,MAAM,CAAGlC,GAAG,CAACkC,MAAb,CACA,KAAQtB,CAAC,CAAGsB,MAAZ,CAAoBtB,CAAC,EAArB,CAA0B,CACzB,GAAKgC,QAAQ,CAAC/C,IAAT,CAAeG,GAAG,CAAEY,CAAF,CAAlB,CAAyBA,CAAzB,CAA4BZ,GAAG,CAAEY,CAAF,CAA/B,IAA2C,KAAhD,CAAwD,CACvD,MACA,CACD,CACD,CAPD,IAOO,CACN,IAAMA,CAAN,GAAWZ,IAAX,CAAiB,CAChB,GAAK4C,QAAQ,CAAC/C,IAAT,CAAeG,GAAG,CAAEY,CAAF,CAAlB,CAAyBA,CAAzB,CAA4BZ,GAAG,CAAEY,CAAF,CAA/B,IAA2C,KAAhD,CAAwD,CACvD,MACA,CACD,CACD,CAED,MAAOZ,IAAP,CACA,CApEa,CAuEdkF,IAAI,CAAE,SAAUlE,IAAV,CAAiB,CACtB,MAAOA,KAAI,EAAI,IAAR,CACN,EADM,CAEN,CAAEA,IAAI,CAAG,EAAT,EAAcwD,OAAd,CAAuB1C,KAAvB,CAA8B,EAA9B,CAFD,CAGA,CA3Ea,CA8EdqD,SAAS,CAAE,SAAUpG,GAAV,CAAeqG,OAAf,CAAyB,CACnC,GAAI5C,IAAG,CAAG4C,OAAO,EAAI,EAArB,CAEA,GAAKrG,GAAG,EAAI,IAAZ,CAAmB,CAClB,GAAKkG,WAAW,CAAEhG,MAAM,CAAEF,GAAF,CAAR,CAAhB,CAAoC,CACnC0C,MAAM,CAACgB,KAAP,CAAcD,GAAd,CACC,MAAOzD,IAAP,GAAe,QAAf,CACA,CAAEA,GAAF,CADA,CACUA,GAFX,EAIA,CALD,IAKO,CACNM,IAAI,CAACQ,IAAL,CAAW2C,GAAX,CAAgBzD,GAAhB,EACA,CACD,CAED,MAAOyD,IAAP,CACA,CA7Fa,CA+Fd6C,OAAO,CAAE,SAAUvC,IAAV,CAAgB/D,GAAhB,CAAqB6B,CAArB,CAAyB,CACjC,MAAO7B,IAAG,EAAI,IAAP,CAAc,CAAC,CAAf,CAAmBO,OAAO,CAACO,IAAR,CAAcd,GAAd,CAAmB+D,IAAnB,CAAyBlC,CAAzB,CAA1B,CACA,CAjGa,CAqGd6B,KAAK,CAAE,SAAUQ,KAAV,CAAiBqC,MAAjB,CAA0B,CAChC,GAAIlC,IAAG,CAAG,CAACkC,MAAM,CAACpD,MAAlB,CACCmB,CAAC,CAAG,CADL,CAECzC,CAAC,CAAGqC,KAAK,CAACf,MAFX,CAIA,KAAQmB,CAAC,CAAGD,GAAZ,CAAiBC,CAAC,EAAlB,CAAuB,CACtBJ,KAAK,CAAErC,CAAC,EAAH,CAAL,CAAe0E,MAAM,CAAEjC,CAAF,CAArB,CACA,CAEDJ,KAAK,CAACf,MAAN,CAAetB,CAAf,CAEA,MAAOqC,MAAP,CACA,CAjHa,CAmHdsC,IAAI,CAAE,SAAUhD,KAAV,CAAiBK,QAAjB,CAA2B4C,MAA3B,CAAoC,CACzC,GAAIC,gBAAJ,CACCC,OAAO,CAAG,EADX,CAEC9E,CAAC,CAAG,CAFL,CAGCsB,MAAM,CAAGK,KAAK,CAACL,MAHhB,CAQA,KAAQtB,CAAC,CAAGsB,MAAZ,CAAoBtB,CAAC,EAArB,CAA0B,CACzB6E,eAAe,CAAG,CAAC7C,QAAQ,CAAEL,KAAK,CAAE3B,CAAF,CAAP,CAAcA,CAAd,CAA3B,CACA,GAAK6E,eAAe,GANH,CAACD,MAMlB,CAA0C,CACzCE,OAAO,CAACrG,IAAR,CAAckD,KAAK,CAAE3B,CAAF,CAAnB,EACA,CACD,CAED,MAAO8E,QAAP,CACA,CApIa,CAuId7C,GAAG,CAAE,SAAUN,KAAV,CAAiBK,QAAjB,CAA2B+C,GAA3B,CAAiC,CACrC,GAAIzD,OAAJ,CAAY0D,KAAZ,CACChF,CAAC,CAAG,CADL,CAEC4B,GAAG,CAAG,EAFP,CAKA,GAAKyC,WAAW,CAAE1C,KAAF,CAAhB,CAA4B,CAC3BL,MAAM,CAAGK,KAAK,CAACL,MAAf,CACA,KAAQtB,CAAC,CAAGsB,MAAZ,CAAoBtB,CAAC,EAArB,CAA0B,CACzBgF,KAAK,CAAGhD,QAAQ,CAAEL,KAAK,CAAE3B,CAAF,CAAP,CAAcA,CAAd,CAAiB+E,GAAjB,CAAhB,CAEA,GAAKC,KAAK,EAAI,IAAd,CAAqB,CACpBpD,GAAG,CAACnD,IAAJ,CAAUuG,KAAV,EACA,CACD,CAGD,CAXD,IAWO,CACN,IAAMhF,CAAN,GAAW2B,MAAX,CAAmB,CAClBqD,KAAK,CAAGhD,QAAQ,CAAEL,KAAK,CAAE3B,CAAF,CAAP,CAAcA,CAAd,CAAiB+E,GAAjB,CAAhB,CAEA,GAAKC,KAAK,EAAI,IAAd,CAAqB,CACpBpD,GAAG,CAACnD,IAAJ,CAAUuG,KAAV,EACA,CACD,CACD,CAGD,MAAOxG,OAAM,CAAC2D,KAAP,CAAc,EAAd,CAAkBP,GAAlB,CAAP,CACA,CApKa,CAuKdqD,IAAI,CAAE,CAvKQ,CA2Kd/F,OAAO,CAAEA,OA3KK,CAAf,EA8KA,GAAK,MAAOgG,OAAP,GAAkB,UAAvB,CAAoC,CACnCrE,MAAM,CAACG,EAAP,CAAWkE,MAAM,CAACC,QAAlB,EAA+BhH,GAAG,CAAE+G,MAAM,CAACC,QAAT,CAAlC,CACA,CAGDtE,MAAM,CAACkB,IAAP,CAAa,uEAAuEqD,KAAvE,CAA8E,GAA9E,CAAb,CACA,SAAUpF,CAAV,CAAa+C,IAAb,CAAoB,CACnBpE,UAAU,CAAE,WAAaoE,IAAb,CAAoB,GAAtB,CAAV,CAAwCA,IAAI,CAACsC,WAAL,EAAxC,CACA,CAHD,EAKA,QAAShB,YAAT,CAAsBjF,GAAtB,CAA4B,CAM3B,GAAIkC,OAAM,CAAG,CAAC,CAAClC,GAAF,EAAS,UAAYA,IAArB,EAA4BA,GAAG,CAACkC,MAA7C,CACC9B,IAAI,CAAGmB,MAAM,CAAEvB,GAAF,CADd,CAGA,GAAKD,UAAU,CAAEC,GAAF,CAAV,EAAqBE,QAAQ,CAAEF,GAAF,CAAlC,CAA4C,CAC3C,MAAO,MAAP,CACA,CAED,MAAOI,KAAI,GAAK,OAAT,EAAoB8B,MAAM,GAAK,CAA/B,EACN,MAAOA,OAAP,GAAkB,QAAlB,EAA8BA,MAAM,CAAG,CAAvC,EAA8CA,MAAM,CAAG,CAAX,GAAkBlC,IAD/D,CAEA,CACD,GAAIkG,OAAM,CAWT,SAAUrH,MAAV,CAAmB,CAEpB,GAAI+B,EAAJ,CACCd,OADD,CAECqG,IAFD,CAGCC,OAHD,CAICC,KAJD,CAKCC,QALD,CAMCC,OAND,CAOCC,MAPD,CAQCC,gBARD,CASCC,SATD,CAUCC,YAVD,CAaCC,WAbD,CAcClI,QAdD,CAeCmI,OAfD,CAgBCC,cAhBD,CAiBCC,SAjBD,CAkBCC,aAlBD,CAmBCtB,OAnBD,CAoBCuB,QApBD,CAuBC5C,OAAO,CAAG,SAAW,EAAI,GAAI6C,KAAJ,EAvB1B,CAwBCC,YAAY,CAAGtI,MAAM,CAACH,QAxBvB,CAyBC0I,OAAO,CAAG,CAzBX,CA0BCC,IAAI,CAAG,CA1BR,CA2BCC,UAAU,CAAGC,WAAW,EA3BzB,CA4BCC,UAAU,CAAGD,WAAW,EA5BzB,CA6BCE,aAAa,CAAGF,WAAW,EA7B5B,CA8BCG,sBAAsB,CAAGH,WAAW,EA9BrC,CA+BCI,SAAS,CAAG,SAAUC,CAAV,CAAaC,CAAb,CAAiB,CAC5B,GAAKD,CAAC,GAAKC,CAAX,CAAe,CACdlB,YAAY,CAAG,IAAf,CACA,CACD,MAAO,EAAP,CACA,CApCF,CAuCClH,MAAM,CAAI,EAAD,CAAKC,cAvCf,CAwCCX,GAAG,CAAG,EAxCP,CAyCC+I,GAAG,CAAG/I,GAAG,CAAC+I,GAzCX,CA0CCC,WAAW,CAAGhJ,GAAG,CAACM,IA1CnB,CA2CCA,IAAI,CAAGN,GAAG,CAACM,IA3CZ,CA4CCF,KAAK,CAAGJ,GAAG,CAACI,KA5Cb,CA+CCG,OAAO,CAAG,SAAU0I,IAAV,CAAgBlF,IAAhB,CAAuB,CAChC,GAAIlC,EAAC,CAAG,CAAR,CACCwC,GAAG,CAAG4E,IAAI,CAAC9F,MADZ,CAEA,KAAQtB,CAAC,CAAGwC,GAAZ,CAAiBxC,CAAC,EAAlB,CAAuB,CACtB,GAAKoH,IAAI,CAACpH,CAAD,CAAJ,GAAYkC,IAAjB,CAAwB,CACvB,MAAOlC,EAAP,CACA,CACD,CACD,MAAO,CAAC,CAAR,CACA,CAxDF,CA0DCqH,QAAQ,CAAG,4HA1DZ,CA+DCC,UAAU,CAAG,qBA/Dd,CAkECC,UAAU,CAAG,+BAlEd,CAqECC,UAAU,CAAG,MAAQF,UAAR,CAAqB,IAArB,CAA4BC,UAA5B,CAAyC,MAAzC,CAAkDD,UAAlD,CAEZ,eAFY,CAEMA,UAFN,CAIZ,0DAJY,CAIiDC,UAJjD,CAI8D,MAJ9D,CAIuED,UAJvE,CAKZ,MA1EF,CA4ECG,OAAO,CAAG,KAAOF,UAAP,CAAoB,UAApB,CAGT,uDAHS,CAKT,0BALS,CAKoBC,UALpB,CAKiC,MALjC,CAOT,IAPS,CAQT,QApFF,CAuFCE,WAAW,CAAG,GAAIC,OAAJ,CAAYL,UAAU,CAAG,GAAzB,CAA8B,GAA9B,CAvFf,CAwFCpG,KAAK,CAAG,GAAIyG,OAAJ,CAAY,IAAML,UAAN,CAAmB,6BAAnB,CAAmDA,UAAnD,CAAgE,IAA5E,CAAkF,GAAlF,CAxFT,CA0FCM,MAAM,CAAG,GAAID,OAAJ,CAAY,IAAML,UAAN,CAAmB,IAAnB,CAA0BA,UAA1B,CAAuC,GAAnD,CA1FV,CA2FCO,YAAY,CAAG,GAAIF,OAAJ,CAAY,IAAML,UAAN,CAAmB,UAAnB,CAAgCA,UAAhC,CAA6C,GAA7C,CAAmDA,UAAnD,CAAgE,GAA5E,CA3FhB,CA4FCQ,QAAQ,CAAG,GAAIH,OAAJ,CAAYL,UAAU,CAAG,IAAzB,CA5FZ,CA8FCS,OAAO,CAAG,GAAIJ,OAAJ,CAAYF,OAAZ,CA9FX,CA+FCO,WAAW,CAAG,GAAIL,OAAJ,CAAY,IAAMJ,UAAN,CAAmB,GAA/B,CA/Ff,CAiGCU,SAAS,CAAG,CACX,KAAM,GAAIN,OAAJ,CAAY,MAAQJ,UAAR,CAAqB,GAAjC,CADK,CAEX,QAAS,GAAII,OAAJ,CAAY,QAAUJ,UAAV,CAAuB,GAAnC,CAFE,CAGX,MAAO,GAAII,OAAJ,CAAY,KAAOJ,UAAP,CAAoB,OAAhC,CAHI,CAIX,OAAQ,GAAII,OAAJ,CAAY,IAAMH,UAAlB,CAJG,CAKX,SAAU,GAAIG,OAAJ,CAAY,IAAMF,OAAlB,CALC,CAMX,QAAS,GAAIE,OAAJ,CAAY,yDAA2DL,UAA3D,CACpB,8BADoB,CACaA,UADb,CAC0B,aAD1B,CAC0CA,UAD1C,CAEpB,YAFoB,CAELA,UAFK,CAEQ,QAFpB,CAE8B,GAF9B,CANE,CASX,OAAQ,GAAIK,OAAJ,CAAY,OAASN,QAAT,CAAoB,IAAhC,CAAsC,GAAtC,CATG,CAYX,eAAgB,GAAIM,OAAJ,CAAY,IAAML,UAAN,CAAmB,kDAAnB,CAC3BA,UAD2B,CACd,kBADc,CACOA,UADP,CACoB,kBADhC,CACoD,GADpD,CAZL,CAjGb,CAiHCY,KAAK,CAAG,QAjHT,CAkHCC,OAAO,CAAG,qCAlHX,CAmHCC,OAAO,CAAG,QAnHX,CAqHCC,OAAO,CAAG,wBArHX,CAwHCC,UAAU,CAAG,kCAxHd,CA0HCC,QAAQ,CAAG,MA1HZ,CA8HCC,SAAS,CAAG,GAAIb,OAAJ,CAAY,qBAAuBL,UAAvB,CAAoC,KAApC,CAA4CA,UAA5C,CAAyD,MAArE,CAA6E,IAA7E,CA9Hb,CA+HCmB,SAAS,CAAG,SAAUC,CAAV,CAAaC,OAAb,CAAsBC,iBAAtB,CAA0C,CACrD,GAAIC,KAAI,CAAG,KAAOF,OAAP,CAAiB,OAA5B,CAIA,MAAOE,KAAI,GAAKA,IAAT,EAAiBD,iBAAjB,CACND,OADM,CAENE,IAAI,CAAG,CAAP,CAECC,MAAM,CAACC,YAAP,CAAqBF,IAAI,CAAG,OAA5B,CAFD,CAICC,MAAM,CAACC,YAAP,CAAqBF,IAAI,EAAI,EAAR,CAAa,MAAlC,CAA0CA,IAAI,CAAG,KAAP,CAAe,MAAzD,CANF,CAOA,CA3IF,CA+ICG,UAAU,CAAG,qDA/Id,CAgJCC,UAAU,CAAG,SAAUC,EAAV,CAAcC,WAAd,CAA4B,CACxC,GAAKA,WAAL,CAAmB,CAGlB,GAAKD,EAAE,GAAK,IAAZ,CAAmB,CAClB,MAAO,QAAP,CACA,CAGD,MAAOA,GAAE,CAAC3K,KAAH,CAAU,CAAV,CAAa,CAAC,CAAd,EAAoB,IAApB,CAA2B2K,EAAE,CAACE,UAAH,CAAeF,EAAE,CAAC5H,MAAH,CAAY,CAA3B,EAA+B1C,QAA/B,CAAyC,EAAzC,CAA3B,CAA2E,GAAlF,CACA,CAGD,MAAO,KAAOsK,EAAd,CACA,CA9JF,CAoKCG,aAAa,CAAG,UAAW,CAC1BrD,WAAW,GACX,CAtKF,CAwKCsD,kBAAkB,CAAGC,aAAa,CACjC,SAAUrH,IAAV,CAAiB,CAChB,MAAOA,KAAI,CAACsH,QAAL,GAAkB,IAAlB,EAA0BtH,IAAI,CAACuH,QAAL,CAAcpE,WAAd,KAAgC,UAAjE,CACA,CAHgC,CAIjC,CAAEqE,GAAG,CAAE,YAAP,CAAqBC,IAAI,CAAE,QAA3B,CAJiC,CAxKnC,CAgLA,GAAI,CACHlL,IAAI,CAAC0D,KAAL,CACEhE,GAAG,CAAGI,KAAK,CAACU,IAAN,CAAYsH,YAAY,CAACqD,UAAzB,CADR,CAECrD,YAAY,CAACqD,UAFd,EAMAzL,GAAG,CAAEoI,YAAY,CAACqD,UAAb,CAAwBtI,MAA1B,CAAH,CAAsCjC,QAAtC,CACA,CAAC,MAAQwK,CAAR,CAAY,CACbpL,IAAI,CAAG,CAAE0D,KAAK,CAAEhE,GAAG,CAACmD,MAAJ,CAGf,SAAU6B,MAAV,CAAkB2G,GAAlB,CAAwB,CACvB3C,WAAW,CAAChF,KAAZ,CAAmBgB,MAAnB,CAA2B5E,KAAK,CAACU,IAAN,CAAW6K,GAAX,CAA3B,EACA,CALc,CASf,SAAU3G,MAAV,CAAkB2G,GAAlB,CAAwB,CACvB,GAAIrH,EAAC,CAAGU,MAAM,CAAC7B,MAAf,CACCtB,CAAC,CAAG,CADL,CAGA,MAASmD,MAAM,CAACV,CAAC,EAAF,CAAN,CAAcqH,GAAG,CAAC9J,CAAC,EAAF,CAA1B,CAAmC,CAAE,CACrCmD,MAAM,CAAC7B,MAAP,CAAgBmB,CAAC,CAAG,CAApB,CACA,CAfK,CAAP,CAiBA,CAED,QAAS6C,OAAT,CAAiBxE,QAAjB,CAA2BC,OAA3B,CAAoCyD,OAApC,CAA6CuF,IAA7C,CAAoD,CACnD,GAAIC,EAAJ,CAAOhK,CAAP,CAAUkC,IAAV,CAAgB+H,GAAhB,CAAqBC,KAArB,CAA4BC,MAA5B,CAAoCC,WAApC,CACCC,UAAU,CAAGtJ,OAAO,EAAIA,OAAO,CAACuJ,aADjC,CAICjL,QAAQ,CAAG0B,OAAO,CAAGA,OAAO,CAAC1B,QAAX,CAAsB,CAJzC,CAMAmF,OAAO,CAAGA,OAAO,EAAI,EAArB,CAGA,GAAK,MAAO1D,SAAP,GAAoB,QAApB,EAAgC,CAACA,QAAjC,EACJzB,QAAQ,GAAK,CAAb,EAAkBA,QAAQ,GAAK,CAA/B,EAAoCA,QAAQ,GAAK,EADlD,CACuD,CAEtD,MAAOmF,QAAP,CACA,CAGD,GAAK,CAACuF,IAAN,CAAa,CAEZ,GAAK,CAAEhJ,OAAO,CAAGA,OAAO,CAACuJ,aAAR,EAAyBvJ,OAA5B,CAAsCwF,YAA/C,IAAkEzI,QAAvE,CAAkF,CACjFkI,WAAW,CAAEjF,OAAF,CAAX,CACA,CACDA,OAAO,CAAGA,OAAO,EAAIjD,QAArB,CAEA,GAAKoI,cAAL,CAAsB,CAIrB,GAAK7G,QAAQ,GAAK,EAAb,GAAoB6K,KAAK,CAAG5B,UAAU,CAACiC,IAAX,CAAiBzJ,QAAjB,CAA5B,CAAL,CAAgE,CAG/D,GAAMkJ,CAAC,CAAGE,KAAK,CAAC,CAAD,CAAf,CAAsB,CAGrB,GAAK7K,QAAQ,GAAK,CAAlB,CAAsB,CACrB,GAAM6C,IAAI,CAAGnB,OAAO,CAACyJ,cAAR,CAAwBR,CAAxB,CAAb,CAA4C,CAK3C,GAAK9H,IAAI,CAACuI,EAAL,GAAYT,CAAjB,CAAqB,CACpBxF,OAAO,CAAC/F,IAAR,CAAcyD,IAAd,EACA,MAAOsC,QAAP,CACA,CACD,CATD,IASO,CACN,MAAOA,QAAP,CACA,CAGD,CAfD,IAeO,CAKN,GAAK6F,UAAU,GAAKnI,IAAI,CAAGmI,UAAU,CAACG,cAAX,CAA2BR,CAA3B,CAAZ,CAAV,EACJ3D,QAAQ,CAAEtF,OAAF,CAAWmB,IAAX,CADJ,EAEJA,IAAI,CAACuI,EAAL,GAAYT,CAFb,CAEiB,CAEhBxF,OAAO,CAAC/F,IAAR,CAAcyD,IAAd,EACA,MAAOsC,QAAP,CACA,CACD,CAGD,CAjCD,IAiCO,IAAK0F,KAAK,CAAC,CAAD,CAAV,CAAgB,CACtBzL,IAAI,CAAC0D,KAAL,CAAYqC,OAAZ,CAAqBzD,OAAO,CAAC2J,oBAAR,CAA8B5J,QAA9B,CAArB,EACA,MAAO0D,QAAP,CAGA,CALM,IAKA,IAAK,CAACwF,CAAC,CAAGE,KAAK,CAAC,CAAD,CAAV,GAAkBhL,OAAO,CAACyL,sBAA1B,EACX5J,OAAO,CAAC4J,sBADF,CAC2B,CAEjClM,IAAI,CAAC0D,KAAL,CAAYqC,OAAZ,CAAqBzD,OAAO,CAAC4J,sBAAR,CAAgCX,CAAhC,CAArB,EACA,MAAOxF,QAAP,CACA,CACD,CAGD,GAAKtF,OAAO,CAAC0L,GAAR,EACJ,CAAC9D,sBAAsB,CAAEhG,QAAQ,CAAG,GAAb,CADnB,GAEH,CAACqF,SAAD,EAAc,CAACA,SAAS,CAAC0E,IAAV,CAAgB/J,QAAhB,CAFZ,IAMHzB,QAAQ,GAAK,CAAb,EAAkB0B,OAAO,CAAC0I,QAAR,CAAiBpE,WAAjB,KAAmC,QANlD,CAAL,CAMmE,CAElE+E,WAAW,CAAGtJ,QAAd,CACAuJ,UAAU,CAAGtJ,OAAb,CAOA,GAAK1B,QAAQ,GAAK,CAAb,EAAkByI,QAAQ,CAAC+C,IAAT,CAAe/J,QAAf,CAAvB,CAAmD,CAGlD,GAAMmJ,GAAG,CAAGlJ,OAAO,CAACV,YAAR,CAAsB,IAAtB,CAAZ,CAA4C,CAC3C4J,GAAG,CAAGA,GAAG,CAACrG,OAAJ,CAAaoF,UAAb,CAAyBC,UAAzB,CAAN,CACA,CAFD,IAEO,CACNlI,OAAO,CAACT,YAAR,CAAsB,IAAtB,CAA6B2J,GAAG,CAAGxG,OAAnC,EACA,CAGD0G,MAAM,CAAGzE,QAAQ,CAAE5E,QAAF,CAAjB,CACAd,CAAC,CAAGmK,MAAM,CAAC7I,MAAX,CACA,MAAQtB,CAAC,EAAT,CAAc,CACbmK,MAAM,CAACnK,CAAD,CAAN,CAAY,IAAMiK,GAAN,CAAY,GAAZ,CAAkBa,UAAU,CAAEX,MAAM,CAACnK,CAAD,CAAR,CAAxC,CACA,CACDoK,WAAW,CAAGD,MAAM,CAACY,IAAP,CAAa,GAAb,CAAd,CAGAV,UAAU,CAAG9B,QAAQ,CAACsC,IAAT,CAAe/J,QAAf,GAA6BkK,WAAW,CAAEjK,OAAO,CAACN,UAAV,CAAxC,EACZM,OADD,CAEA,CAED,GAAI,CACHtC,IAAI,CAAC0D,KAAL,CAAYqC,OAAZ,CACC6F,UAAU,CAACY,gBAAX,CAA6Bb,WAA7B,CADD,EAGA,MAAO5F,QAAP,CACA,CAAC,MAAQ0G,QAAR,CAAmB,CACpBpE,sBAAsB,CAAEhG,QAAF,CAAY,IAAZ,CAAtB,CACA,CAPD,OAOU,CACT,GAAKmJ,GAAG,GAAKxG,OAAb,CAAuB,CACtB1C,OAAO,CAACoK,eAAR,CAAyB,IAAzB,EACA,CACD,CACD,CACD,CACD,CAGD,MAAOvF,OAAM,CAAE9E,QAAQ,CAAC8C,OAAT,CAAkB1C,KAAlB,CAAyB,IAAzB,CAAF,CAAmCH,OAAnC,CAA4CyD,OAA5C,CAAqDuF,IAArD,CAAb,CACA,CAQD,QAASpD,YAAT,EAAuB,CACtB,GAAIyE,KAAI,CAAG,EAAX,CAEA,QAASC,MAAT,CAAgBC,GAAhB,CAAqBtG,KAArB,CAA6B,CAE5B,GAAKoG,IAAI,CAAC3M,IAAL,CAAW6M,GAAG,CAAG,GAAjB,EAAyB/F,IAAI,CAACgG,WAAnC,CAAiD,CAEhD,MAAOF,MAAK,CAAED,IAAI,CAACI,KAAL,EAAF,CAAZ,CACA,CACD,MAAQH,MAAK,CAAEC,GAAG,CAAG,GAAR,CAAL,CAAqBtG,KAA7B,CACA,CACD,MAAOqG,MAAP,CACA,CAMD,QAASI,aAAT,CAAuBzK,EAAvB,CAA4B,CAC3BA,EAAE,CAAEyC,OAAF,CAAF,CAAgB,IAAhB,CACA,MAAOzC,GAAP,CACA,CAMD,QAAS0K,OAAT,CAAiB1K,EAAjB,CAAsB,CACrB,GAAI2K,GAAE,CAAG7N,QAAQ,CAACqC,aAAT,CAAuB,UAAvB,CAAT,CAEA,GAAI,CACH,MAAO,CAAC,CAACa,EAAE,CAAE2K,EAAF,CAAX,CACA,CAAC,MAAO9B,CAAP,CAAU,CACX,MAAO,MAAP,CACA,CAJD,OAIU,CAET,GAAK8B,EAAE,CAAClL,UAAR,CAAqB,CACpBkL,EAAE,CAAClL,UAAH,CAAcC,WAAd,CAA2BiL,EAA3B,EACA,CAEDA,EAAE,CAAG,IAAL,CACA,CACD,CAOD,QAASC,UAAT,CAAoBC,KAApB,CAA2BC,OAA3B,CAAqC,CACpC,GAAI3N,IAAG,CAAG0N,KAAK,CAACzG,KAAN,CAAY,GAAZ,CAAV,CACCpF,CAAC,CAAG7B,GAAG,CAACmD,MADT,CAGA,MAAQtB,CAAC,EAAT,CAAc,CACbuF,IAAI,CAACwG,UAAL,CAAiB5N,GAAG,CAAC6B,CAAD,CAApB,EAA4B8L,OAA5B,CACA,CACD,CAQD,QAASE,aAAT,CAAuBhF,CAAvB,CAA0BC,CAA1B,CAA8B,CAC7B,GAAIgF,IAAG,CAAGhF,CAAC,EAAID,CAAf,CACCkF,IAAI,CAAGD,GAAG,EAAIjF,CAAC,CAAC3H,QAAF,GAAe,CAAtB,EAA2B4H,CAAC,CAAC5H,QAAF,GAAe,CAA1C,EACN2H,CAAC,CAACmF,WAAF,CAAgBlF,CAAC,CAACkF,WAFpB,CAKA,GAAKD,IAAL,CAAY,CACX,MAAOA,KAAP,CACA,CAGD,GAAKD,GAAL,CAAW,CACV,MAASA,GAAG,CAAGA,GAAG,CAACG,WAAnB,CAAkC,CACjC,GAAKH,GAAG,GAAKhF,CAAb,CAAiB,CAChB,MAAO,CAAC,CAAR,CACA,CACD,CACD,CAED,MAAOD,EAAC,CAAG,CAAH,CAAO,CAAC,CAAhB,CACA,CAMD,QAASqF,kBAAT,CAA4B7M,IAA5B,CAAmC,CAClC,MAAO,UAAU0C,IAAV,CAAiB,CACvB,GAAIa,KAAI,CAAGb,IAAI,CAACuH,QAAL,CAAcpE,WAAd,EAAX,CACA,MAAOtC,KAAI,GAAK,OAAT,EAAoBb,IAAI,CAAC1C,IAAL,GAAcA,IAAzC,CACA,CAHD,CAIA,CAMD,QAAS8M,mBAAT,CAA6B9M,IAA7B,CAAoC,CACnC,MAAO,UAAU0C,IAAV,CAAiB,CACvB,GAAIa,KAAI,CAAGb,IAAI,CAACuH,QAAL,CAAcpE,WAAd,EAAX,CACA,MAAO,CAACtC,IAAI,GAAK,OAAT,EAAoBA,IAAI,GAAK,QAA9B,GAA2Cb,IAAI,CAAC1C,IAAL,GAAcA,IAAhE,CACA,CAHD,CAIA,CAMD,QAAS+M,qBAAT,CAA+B/C,QAA/B,CAA0C,CAGzC,MAAO,UAAUtH,IAAV,CAAiB,CAKvB,GAAK,QAAUA,KAAf,CAAsB,CASrB,GAAKA,IAAI,CAACzB,UAAL,EAAmByB,IAAI,CAACsH,QAAL,GAAkB,KAA1C,CAAkD,CAGjD,GAAK,SAAWtH,KAAhB,CAAuB,CACtB,GAAK,SAAWA,KAAI,CAACzB,UAArB,CAAkC,CACjC,MAAOyB,KAAI,CAACzB,UAAL,CAAgB+I,QAAhB,GAA6BA,QAApC,CACA,CAFD,IAEO,CACN,MAAOtH,KAAI,CAACsH,QAAL,GAAkBA,QAAzB,CACA,CACD,CAID,MAAOtH,KAAI,CAACsK,UAAL,GAAoBhD,QAApB,EAINtH,IAAI,CAACsK,UAAL,GAAoB,CAAChD,QAArB,EACCF,kBAAkB,CAAEpH,IAAF,CAAlB,GAA+BsH,QALjC,CAMA,CAED,MAAOtH,KAAI,CAACsH,QAAL,GAAkBA,QAAzB,CAKA,CAnCD,IAmCO,IAAK,SAAWtH,KAAhB,CAAuB,CAC7B,MAAOA,KAAI,CAACsH,QAAL,GAAkBA,QAAzB,CACA,CAGD,MAAO,MAAP,CACA,CA9CD,CA+CA,CAMD,QAASiD,uBAAT,CAAiCzL,EAAjC,CAAsC,CACrC,MAAOyK,aAAY,CAAC,SAAUiB,QAAV,CAAqB,CACxCA,QAAQ,CAAG,CAACA,QAAZ,CACA,MAAOjB,aAAY,CAAC,SAAU1B,IAAV,CAAgBjF,OAAhB,CAA0B,CAC7C,GAAIrC,EAAJ,CACCkK,YAAY,CAAG3L,EAAE,CAAE,EAAF,CAAM+I,IAAI,CAACzI,MAAX,CAAmBoL,QAAnB,CADlB,CAEC1M,CAAC,CAAG2M,YAAY,CAACrL,MAFlB,CAKA,MAAQtB,CAAC,EAAT,CAAc,CACb,GAAK+J,IAAI,CAAGtH,CAAC,CAAGkK,YAAY,CAAC3M,CAAD,CAAnB,CAAT,CAAqC,CACpC+J,IAAI,CAACtH,CAAD,CAAJ,CAAU,EAAEqC,OAAO,CAACrC,CAAD,CAAP,CAAasH,IAAI,CAACtH,CAAD,CAAnB,CAAV,CACA,CACD,CACD,CAXkB,CAAnB,CAYA,CAdkB,CAAnB,CAeA,CAOD,QAASuI,YAAT,CAAsBjK,OAAtB,CAAgC,CAC/B,MAAOA,QAAO,EAAI,MAAOA,QAAO,CAAC2J,oBAAf,GAAwC,WAAnD,EAAkE3J,OAAzE,CACA,CAGD7B,OAAO,CAAGoG,MAAM,CAACpG,OAAP,CAAiB,EAA3B,CAOAuG,KAAK,CAAGH,MAAM,CAACG,KAAP,CAAe,SAAUvD,IAAV,CAAiB,CACvC,GAAI0K,UAAS,CAAG1K,IAAI,CAAC2K,YAArB,CACC5G,OAAO,CAAG,CAAC/D,IAAI,CAACoI,aAAL,EAAsBpI,IAAvB,EAA6B4K,eADxC,CAMA,MAAO,CAAC5E,KAAK,CAAC2C,IAAN,CAAY+B,SAAS,EAAI3G,OAAO,EAAIA,OAAO,CAACwD,QAAhC,EAA4C,MAAxD,CAAR,CACA,CARD,CAeAzD,WAAW,CAAGV,MAAM,CAACU,WAAP,CAAqB,SAAUlG,IAAV,CAAiB,CACnD,GAAIiN,WAAJ,CAAgBC,SAAhB,CACCjN,GAAG,CAAGD,IAAI,CAAGA,IAAI,CAACwK,aAAL,EAAsBxK,IAAzB,CAAgCyG,YAD3C,CAIA,GAAKxG,GAAG,GAAKjC,QAAR,EAAoBiC,GAAG,CAACV,QAAJ,GAAiB,CAArC,EAA0C,CAACU,GAAG,CAAC+M,eAApD,CAAsE,CACrE,MAAOhP,SAAP,CACA,CAGDA,QAAQ,CAAGiC,GAAX,CACAkG,OAAO,CAAGnI,QAAQ,CAACgP,eAAnB,CACA5G,cAAc,CAAG,CAACT,KAAK,CAAE3H,QAAF,CAAvB,CAIA,GAAKyI,YAAY,GAAKzI,QAAjB,GACHkP,SAAS,CAAGlP,QAAQ,CAACmP,WADlB,GACkCD,SAAS,CAACE,GAAV,GAAkBF,SADzD,CACqE,CAGpE,GAAKA,SAAS,CAACG,gBAAf,CAAkC,CACjCH,SAAS,CAACG,gBAAV,CAA4B,QAA5B,CAAsC9D,aAAtC,CAAqD,KAArD,EAGA,CAJD,IAIO,IAAK2D,SAAS,CAACI,WAAf,CAA6B,CACnCJ,SAAS,CAACI,WAAV,CAAuB,UAAvB,CAAmC/D,aAAnC,EACA,CACD,CAQDnK,OAAO,CAACsI,UAAR,CAAqBkE,MAAM,CAAC,SAAUC,EAAV,CAAe,CAC1CA,EAAE,CAAC0B,SAAH,CAAe,GAAf,CACA,MAAO,CAAC1B,EAAE,CAACtL,YAAH,CAAgB,WAAhB,CAAR,CACA,CAH0B,CAA3B,CASAnB,OAAO,CAACwL,oBAAR,CAA+BgB,MAAM,CAAC,SAAUC,EAAV,CAAe,CACpDA,EAAE,CAACnL,WAAH,CAAgB1C,QAAQ,CAACwP,aAAT,CAAuB,EAAvB,CAAhB,EACA,MAAO,CAAC3B,EAAE,CAACjB,oBAAH,CAAwB,GAAxB,EAA6BpJ,MAArC,CACA,CAHoC,CAArC,CAMApC,OAAO,CAACyL,sBAAR,CAAiCtC,OAAO,CAACwC,IAAR,CAAc/M,QAAQ,CAAC6M,sBAAvB,CAAjC,CAMAzL,OAAO,CAACqO,OAAR,CAAkB7B,MAAM,CAAC,SAAUC,EAAV,CAAe,CACvC1F,OAAO,CAACzF,WAAR,CAAqBmL,EAArB,EAA0BlB,EAA1B,CAA+BhH,OAA/B,CACA,MAAO,CAAC3F,QAAQ,CAAC0P,iBAAV,EAA+B,CAAC1P,QAAQ,CAAC0P,iBAAT,CAA4B/J,OAA5B,EAAsCnC,MAA7E,CACA,CAHuB,CAAxB,CAMA,GAAKpC,OAAO,CAACqO,OAAb,CAAuB,CACtBhI,IAAI,CAACkI,MAAL,CAAY,IAAZ,EAAoB,SAAUhD,EAAV,CAAe,CAClC,GAAIiD,OAAM,CAAGjD,EAAE,CAAC7G,OAAH,CAAY4E,SAAZ,CAAuBC,SAAvB,CAAb,CACA,MAAO,UAAUvG,IAAV,CAAiB,CACvB,MAAOA,KAAI,CAAC7B,YAAL,CAAkB,IAAlB,IAA4BqN,MAAnC,CACA,CAFD,CAGA,CALD,CAMAnI,IAAI,CAACoI,IAAL,CAAU,IAAV,EAAkB,SAAUlD,EAAV,CAAc1J,OAAd,CAAwB,CACzC,GAAK,MAAOA,QAAO,CAACyJ,cAAf,GAAkC,WAAlC,EAAiDtE,cAAtD,CAAuE,CACtE,GAAIhE,KAAI,CAAGnB,OAAO,CAACyJ,cAAR,CAAwBC,EAAxB,CAAX,CACA,MAAOvI,KAAI,CAAG,CAAEA,IAAF,CAAH,CAAc,EAAzB,CACA,CACD,CALD,CAMA,CAbD,IAaO,CACNqD,IAAI,CAACkI,MAAL,CAAY,IAAZ,EAAqB,SAAUhD,EAAV,CAAe,CACnC,GAAIiD,OAAM,CAAGjD,EAAE,CAAC7G,OAAH,CAAY4E,SAAZ,CAAuBC,SAAvB,CAAb,CACA,MAAO,UAAUvG,IAAV,CAAiB,CACvB,GAAIpC,KAAI,CAAG,MAAOoC,KAAI,CAAC0L,gBAAZ,GAAiC,WAAjC,EACV1L,IAAI,CAAC0L,gBAAL,CAAsB,IAAtB,CADD,CAEA,MAAO9N,KAAI,EAAIA,IAAI,CAACkF,KAAL,GAAe0I,MAA9B,CACA,CAJD,CAKA,CAPD,CAWAnI,IAAI,CAACoI,IAAL,CAAU,IAAV,EAAkB,SAAUlD,EAAV,CAAc1J,OAAd,CAAwB,CACzC,GAAK,MAAOA,QAAO,CAACyJ,cAAf,GAAkC,WAAlC,EAAiDtE,cAAtD,CAAuE,CACtE,GAAIpG,KAAJ,CAAUE,CAAV,CAAa2B,KAAb,CACCO,IAAI,CAAGnB,OAAO,CAACyJ,cAAR,CAAwBC,EAAxB,CADR,CAGA,GAAKvI,IAAL,CAAY,CAGXpC,IAAI,CAAGoC,IAAI,CAAC0L,gBAAL,CAAsB,IAAtB,CAAP,CACA,GAAK9N,IAAI,EAAIA,IAAI,CAACkF,KAAL,GAAeyF,EAA5B,CAAiC,CAChC,MAAO,CAAEvI,IAAF,CAAP,CACA,CAGDP,KAAK,CAAGZ,OAAO,CAACyM,iBAAR,CAA2B/C,EAA3B,CAAR,CACAzK,CAAC,CAAG,CAAJ,CACA,MAASkC,IAAI,CAAGP,KAAK,CAAC3B,CAAC,EAAF,CAArB,CAA8B,CAC7BF,IAAI,CAAGoC,IAAI,CAAC0L,gBAAL,CAAsB,IAAtB,CAAP,CACA,GAAK9N,IAAI,EAAIA,IAAI,CAACkF,KAAL,GAAeyF,EAA5B,CAAiC,CAChC,MAAO,CAAEvI,IAAF,CAAP,CACA,CACD,CACD,CAED,MAAO,EAAP,CACA,CACD,CA1BD,CA2BA,CAGDqD,IAAI,CAACoI,IAAL,CAAU,KAAV,EAAmBzO,OAAO,CAACwL,oBAAR,CAClB,SAAUmD,GAAV,CAAe9M,OAAf,CAAyB,CACxB,GAAK,MAAOA,QAAO,CAAC2J,oBAAf,GAAwC,WAA7C,CAA2D,CAC1D,MAAO3J,QAAO,CAAC2J,oBAAR,CAA8BmD,GAA9B,CAAP,CAGA,CAJD,IAIO,IAAK3O,OAAO,CAAC0L,GAAb,CAAmB,CACzB,MAAO7J,QAAO,CAACkK,gBAAR,CAA0B4C,GAA1B,CAAP,CACA,CACD,CATiB,CAWlB,SAAUA,GAAV,CAAe9M,OAAf,CAAyB,CACxB,GAAImB,KAAJ,CACC4L,GAAG,CAAG,EADP,CAEC9N,CAAC,CAAG,CAFL,CAICwE,OAAO,CAAGzD,OAAO,CAAC2J,oBAAR,CAA8BmD,GAA9B,CAJX,CAOA,GAAKA,GAAG,GAAK,GAAb,CAAmB,CAClB,MAAS3L,IAAI,CAAGsC,OAAO,CAACxE,CAAC,EAAF,CAAvB,CAAgC,CAC/B,GAAKkC,IAAI,CAAC7C,QAAL,GAAkB,CAAvB,CAA2B,CAC1ByO,GAAG,CAACrP,IAAJ,CAAUyD,IAAV,EACA,CACD,CAED,MAAO4L,IAAP,CACA,CACD,MAAOtJ,QAAP,CACA,CA7BF,CAgCAe,IAAI,CAACoI,IAAL,CAAU,OAAV,EAAqBzO,OAAO,CAACyL,sBAAR,EAAkC,SAAU0C,SAAV,CAAqBtM,OAArB,CAA+B,CACrF,GAAK,MAAOA,QAAO,CAAC4J,sBAAf,GAA0C,WAA1C,EAAyDzE,cAA9D,CAA+E,CAC9E,MAAOnF,QAAO,CAAC4J,sBAAR,CAAgC0C,SAAhC,CAAP,CACA,CACD,CAJD,CAYAjH,aAAa,CAAG,EAAhB,CAOAD,SAAS,CAAG,EAAZ,CAEA,GAAMjH,OAAO,CAAC0L,GAAR,CAAcvC,OAAO,CAACwC,IAAR,CAAc/M,QAAQ,CAACmN,gBAAvB,CAApB,CAAiE,CAGhES,MAAM,CAAC,SAAUC,EAAV,CAAe,CAMrB1F,OAAO,CAACzF,WAAR,CAAqBmL,EAArB,EAA0BoC,SAA1B,CAAsC,UAAYtK,OAAZ,CAAsB,QAAtB,CACrC,cADqC,CACpBA,OADoB,CACV,2BADU,CAErC,wCAFD,CAQA,GAAKkI,EAAE,CAACV,gBAAH,CAAoB,sBAApB,EAA4C3J,MAAjD,CAA0D,CACzD6E,SAAS,CAAC1H,IAAV,CAAgB,SAAW6I,UAAX,CAAwB,cAAxC,EACA,CAID,GAAK,CAACqE,EAAE,CAACV,gBAAH,CAAoB,YAApB,EAAkC3J,MAAxC,CAAiD,CAChD6E,SAAS,CAAC1H,IAAV,CAAgB,MAAQ6I,UAAR,CAAqB,YAArB,CAAoCD,QAApC,CAA+C,GAA/D,EACA,CAGD,GAAK,CAACsE,EAAE,CAACV,gBAAH,CAAqB,QAAUxH,OAAV,CAAoB,IAAzC,EAAgDnC,MAAtD,CAA+D,CAC9D6E,SAAS,CAAC1H,IAAV,CAAe,IAAf,EACA,CAKD,GAAK,CAACkN,EAAE,CAACV,gBAAH,CAAoB,UAApB,EAAgC3J,MAAtC,CAA+C,CAC9C6E,SAAS,CAAC1H,IAAV,CAAe,UAAf,EACA,CAKD,GAAK,CAACkN,EAAE,CAACV,gBAAH,CAAqB,KAAOxH,OAAP,CAAiB,IAAtC,EAA6CnC,MAAnD,CAA4D,CAC3D6E,SAAS,CAAC1H,IAAV,CAAe,UAAf,EACA,CACD,CA1CK,CAAN,CA4CAiN,MAAM,CAAC,SAAUC,EAAV,CAAe,CACrBA,EAAE,CAACoC,SAAH,CAAe,sCACd,gDADD,CAKA,GAAIC,MAAK,CAAGlQ,QAAQ,CAACqC,aAAT,CAAuB,OAAvB,CAAZ,CACA6N,KAAK,CAAC1N,YAAN,CAAoB,MAApB,CAA4B,QAA5B,EACAqL,EAAE,CAACnL,WAAH,CAAgBwN,KAAhB,EAAwB1N,YAAxB,CAAsC,MAAtC,CAA8C,GAA9C,EAIA,GAAKqL,EAAE,CAACV,gBAAH,CAAoB,UAApB,EAAgC3J,MAArC,CAA8C,CAC7C6E,SAAS,CAAC1H,IAAV,CAAgB,OAAS6I,UAAT,CAAsB,aAAtC,EACA,CAID,GAAKqE,EAAE,CAACV,gBAAH,CAAoB,UAApB,EAAgC3J,MAAhC,GAA2C,CAAhD,CAAoD,CACnD6E,SAAS,CAAC1H,IAAV,CAAgB,UAAhB,CAA4B,WAA5B,EACA,CAIDwH,OAAO,CAACzF,WAAR,CAAqBmL,EAArB,EAA0BnC,QAA1B,CAAqC,IAArC,CACA,GAAKmC,EAAE,CAACV,gBAAH,CAAoB,WAApB,EAAiC3J,MAAjC,GAA4C,CAAjD,CAAqD,CACpD6E,SAAS,CAAC1H,IAAV,CAAgB,UAAhB,CAA4B,WAA5B,EACA,CAGDkN,EAAE,CAACV,gBAAH,CAAoB,MAApB,EACA9E,SAAS,CAAC1H,IAAV,CAAe,MAAf,EACA,CAhCK,CAAN,CAiCA,CAED,GAAMS,OAAO,CAAC+O,eAAR,CAA0B5F,OAAO,CAACwC,IAAR,CAAe/F,OAAO,CAAGmB,OAAO,CAACnB,OAAR,EACxDmB,OAAO,CAACiI,qBADgD,EAExDjI,OAAO,CAACkI,kBAFgD,EAGxDlI,OAAO,CAACmI,gBAHgD,EAIxDnI,OAAO,CAACoI,iBAJuB,CAAhC,CAIiC,CAEhC3C,MAAM,CAAC,SAAUC,EAAV,CAAe,CAGrBzM,OAAO,CAACoP,iBAAR,CAA4BxJ,OAAO,CAAC7F,IAAR,CAAc0M,EAAd,CAAkB,GAAlB,CAA5B,CAIA7G,OAAO,CAAC7F,IAAR,CAAc0M,EAAd,CAAkB,WAAlB,EACAvF,aAAa,CAAC3H,IAAd,CAAoB,IAApB,CAA0BgJ,OAA1B,EACA,CATK,CAAN,CAUA,CAEDtB,SAAS,CAAGA,SAAS,CAAC7E,MAAV,EAAoB,GAAIqG,OAAJ,CAAYxB,SAAS,CAAC4E,IAAV,CAAe,GAAf,CAAZ,CAAhC,CACA3E,aAAa,CAAGA,aAAa,CAAC9E,MAAd,EAAwB,GAAIqG,OAAJ,CAAYvB,aAAa,CAAC2E,IAAd,CAAmB,GAAnB,CAAZ,CAAxC,CAIAgC,UAAU,CAAG1E,OAAO,CAACwC,IAAR,CAAc5E,OAAO,CAACsI,uBAAtB,CAAb,CAKAlI,QAAQ,CAAG0G,UAAU,EAAI1E,OAAO,CAACwC,IAAR,CAAc5E,OAAO,CAACI,QAAtB,CAAd,CACV,SAAUW,CAAV,CAAaC,CAAb,CAAiB,CAChB,GAAIuH,MAAK,CAAGxH,CAAC,CAAC3H,QAAF,GAAe,CAAf,CAAmB2H,CAAC,CAAC8F,eAArB,CAAuC9F,CAAnD,CACCyH,GAAG,CAAGxH,CAAC,EAAIA,CAAC,CAACxG,UADd,CAEA,MAAOuG,EAAC,GAAKyH,GAAN,EAAa,CAAC,EAAGA,GAAG,EAAIA,GAAG,CAACpP,QAAJ,GAAiB,CAAxB,GACvBmP,KAAK,CAACnI,QAAN,CACCmI,KAAK,CAACnI,QAAN,CAAgBoI,GAAhB,CADD,CAECzH,CAAC,CAACuH,uBAAF,EAA6BvH,CAAC,CAACuH,uBAAF,CAA2BE,GAA3B,EAAmC,EAH1C,CAAH,CAArB,CAKA,CATS,CAUV,SAAUzH,CAAV,CAAaC,CAAb,CAAiB,CAChB,GAAKA,CAAL,CAAS,CACR,MAASA,CAAC,CAAGA,CAAC,CAACxG,UAAf,CAA6B,CAC5B,GAAKwG,CAAC,GAAKD,CAAX,CAAe,CACd,MAAO,KAAP,CACA,CACD,CACD,CACD,MAAO,MAAP,CACA,CAnBF,CAyBAD,SAAS,CAAGgG,UAAU,CACtB,SAAU/F,CAAV,CAAaC,CAAb,CAAiB,CAGhB,GAAKD,CAAC,GAAKC,CAAX,CAAe,CACdlB,YAAY,CAAG,IAAf,CACA,MAAO,EAAP,CACA,CAGD,GAAI2I,QAAO,CAAG,CAAC1H,CAAC,CAACuH,uBAAH,CAA6B,CAACtH,CAAC,CAACsH,uBAA9C,CACA,GAAKG,OAAL,CAAe,CACd,MAAOA,QAAP,CACA,CAGDA,OAAO,CAAG,CAAE1H,CAAC,CAACsD,aAAF,EAAmBtD,CAArB,KAA+BC,CAAC,CAACqD,aAAF,EAAmBrD,CAAlD,EACTD,CAAC,CAACuH,uBAAF,CAA2BtH,CAA3B,CADS,CAIT,CAJD,CAOA,GAAKyH,OAAO,CAAG,CAAV,EACH,CAACxP,OAAO,CAACyP,YAAT,EAAyB1H,CAAC,CAACsH,uBAAF,CAA2BvH,CAA3B,IAAmC0H,OAD9D,CACyE,CAGxE,GAAK1H,CAAC,GAAKlJ,QAAN,EAAkBkJ,CAAC,CAACsD,aAAF,GAAoB/D,YAApB,EAAoCF,QAAQ,CAACE,YAAD,CAAeS,CAAf,CAAnE,CAAuF,CACtF,MAAO,CAAC,CAAR,CACA,CACD,GAAKC,CAAC,GAAKnJ,QAAN,EAAkBmJ,CAAC,CAACqD,aAAF,GAAoB/D,YAApB,EAAoCF,QAAQ,CAACE,YAAD,CAAeU,CAAf,CAAnE,CAAuF,CACtF,MAAO,EAAP,CACA,CAGD,MAAOnB,UAAS,CACbpH,OAAO,CAAEoH,SAAF,CAAakB,CAAb,CAAP,CAA0BtI,OAAO,CAAEoH,SAAF,CAAamB,CAAb,CADpB,CAEf,CAFD,CAGA,CAED,MAAOyH,QAAO,CAAG,CAAV,CAAc,CAAC,CAAf,CAAmB,CAA1B,CACA,CAzCqB,CA0CtB,SAAU1H,CAAV,CAAaC,CAAb,CAAiB,CAEhB,GAAKD,CAAC,GAAKC,CAAX,CAAe,CACdlB,YAAY,CAAG,IAAf,CACA,MAAO,EAAP,CACA,CAED,GAAIkG,IAAJ,CACCjM,CAAC,CAAG,CADL,CAEC4O,GAAG,CAAG5H,CAAC,CAACvG,UAFT,CAGCgO,GAAG,CAAGxH,CAAC,CAACxG,UAHT,CAICoO,EAAE,CAAG,CAAE7H,CAAF,CAJN,CAKC8H,EAAE,CAAG,CAAE7H,CAAF,CALN,CAQA,GAAK,CAAC2H,GAAD,EAAQ,CAACH,GAAd,CAAoB,CACnB,MAAOzH,EAAC,GAAKlJ,QAAN,CAAiB,CAAC,CAAlB,CACNmJ,CAAC,GAAKnJ,QAAN,CAAiB,CAAjB,CACA8Q,GAAG,CAAG,CAAC,CAAJ,CACHH,GAAG,CAAG,CAAH,CACH3I,SAAS,CACPpH,OAAO,CAAEoH,SAAF,CAAakB,CAAb,CAAP,CAA0BtI,OAAO,CAAEoH,SAAF,CAAamB,CAAb,CAD1B,CAET,CAND,CASA,CAVD,IAUO,IAAK2H,GAAG,GAAKH,GAAb,CAAmB,CACzB,MAAOzC,aAAY,CAAEhF,CAAF,CAAKC,CAAL,CAAnB,CACA,CAGDgF,GAAG,CAAGjF,CAAN,CACA,MAASiF,GAAG,CAAGA,GAAG,CAACxL,UAAnB,CAAiC,CAChCoO,EAAE,CAACE,OAAH,CAAY9C,GAAZ,EACA,CACDA,GAAG,CAAGhF,CAAN,CACA,MAASgF,GAAG,CAAGA,GAAG,CAACxL,UAAnB,CAAiC,CAChCqO,EAAE,CAACC,OAAH,CAAY9C,GAAZ,EACA,CAGD,MAAQ4C,EAAE,CAAC7O,CAAD,CAAF,GAAU8O,EAAE,CAAC9O,CAAD,CAApB,CAA0B,CACzBA,CAAC,GACD,CAED,MAAOA,EAAC,CAEPgM,YAAY,CAAE6C,EAAE,CAAC7O,CAAD,CAAJ,CAAS8O,EAAE,CAAC9O,CAAD,CAAX,CAFL,CAKP6O,EAAE,CAAC7O,CAAD,CAAF,GAAUuG,YAAV,CAAyB,CAAC,CAA1B,CACAuI,EAAE,CAAC9O,CAAD,CAAF,GAAUuG,YAAV,CAAyB,CAAzB,CACA,CAPD,CAQA,CA9FD,CAgGA,MAAOzI,SAAP,CACA,CAlZD,CAoZAwH,MAAM,CAACR,OAAP,CAAiB,SAAUkK,IAAV,CAAgBC,QAAhB,CAA2B,CAC3C,MAAO3J,OAAM,CAAE0J,IAAF,CAAQ,IAAR,CAAc,IAAd,CAAoBC,QAApB,CAAb,CACA,CAFD,CAIA3J,MAAM,CAAC2I,eAAP,CAAyB,SAAU/L,IAAV,CAAgB8M,IAAhB,CAAuB,CAE/C,GAAK,CAAE9M,IAAI,CAACoI,aAAL,EAAsBpI,IAAxB,IAAmCpE,QAAxC,CAAmD,CAClDkI,WAAW,CAAE9D,IAAF,CAAX,CACA,CAED,GAAKhD,OAAO,CAAC+O,eAAR,EAA2B/H,cAA3B,EACJ,CAACY,sBAAsB,CAAEkI,IAAI,CAAG,GAAT,CADnB,GAEF,CAAC5I,aAAD,EAAkB,CAACA,aAAa,CAACyE,IAAd,CAAoBmE,IAApB,CAFjB,IAGF,CAAC7I,SAAD,EAAkB,CAACA,SAAS,CAAC0E,IAAV,CAAgBmE,IAAhB,CAHjB,CAAL,CAGiD,CAEhD,GAAI,CACH,GAAIpN,IAAG,CAAGkD,OAAO,CAAC7F,IAAR,CAAciD,IAAd,CAAoB8M,IAApB,CAAV,CAGA,GAAKpN,GAAG,EAAI1C,OAAO,CAACoP,iBAAf,EAGHpM,IAAI,CAACpE,QAAL,EAAiBoE,IAAI,CAACpE,QAAL,CAAcuB,QAAd,GAA2B,EAH9C,CAGmD,CAClD,MAAOuC,IAAP,CACA,CACD,CAAC,MAAOiI,CAAP,CAAU,CACX/C,sBAAsB,CAAEkI,IAAF,CAAQ,IAAR,CAAtB,CACA,CACD,CAED,MAAO1J,OAAM,CAAE0J,IAAF,CAAQlR,QAAR,CAAkB,IAAlB,CAAwB,CAAEoE,IAAF,CAAxB,CAAN,CAAyCZ,MAAzC,CAAkD,CAAzD,CACA,CA3BD,CA6BAgE,MAAM,CAACe,QAAP,CAAkB,SAAUtF,OAAV,CAAmBmB,IAAnB,CAA0B,CAE3C,GAAK,CAAEnB,OAAO,CAACuJ,aAAR,EAAyBvJ,OAA3B,IAAyCjD,QAA9C,CAAyD,CACxDkI,WAAW,CAAEjF,OAAF,CAAX,CACA,CACD,MAAOsF,SAAQ,CAAEtF,OAAF,CAAWmB,IAAX,CAAf,CACA,CAND,CAQAoD,MAAM,CAAC4J,IAAP,CAAc,SAAUhN,IAAV,CAAgBa,IAAhB,CAAuB,CAEpC,GAAK,CAAEb,IAAI,CAACoI,aAAL,EAAsBpI,IAAxB,IAAmCpE,QAAxC,CAAmD,CAClDkI,WAAW,CAAE9D,IAAF,CAAX,CACA,CAED,GAAIlB,GAAE,CAAGuE,IAAI,CAACwG,UAAL,CAAiBhJ,IAAI,CAACsC,WAAL,EAAjB,CAAT,CAECpF,GAAG,CAAGe,EAAE,EAAInC,MAAM,CAACI,IAAP,CAAasG,IAAI,CAACwG,UAAlB,CAA8BhJ,IAAI,CAACsC,WAAL,EAA9B,CAAN,CACLrE,EAAE,CAAEkB,IAAF,CAAQa,IAAR,CAAc,CAACmD,cAAf,CADG,CAEL1C,SAJF,CAMA,MAAOvD,IAAG,GAAKuD,SAAR,CACNvD,GADM,CAENf,OAAO,CAACsI,UAAR,EAAsB,CAACtB,cAAvB,CACChE,IAAI,CAAC7B,YAAL,CAAmB0C,IAAnB,CADD,CAEC,CAAC9C,GAAG,CAAGiC,IAAI,CAAC0L,gBAAL,CAAsB7K,IAAtB,CAAP,GAAuC9C,GAAG,CAACkP,SAA3C,CACClP,GAAG,CAAC+E,KADL,CAEC,IANH,CAOA,CAnBD,CAqBAM,MAAM,CAAC8J,MAAP,CAAgB,SAAUC,GAAV,CAAgB,CAC/B,MAAO,CAACA,GAAG,CAAG,EAAP,EAAWzL,OAAX,CAAoBoF,UAApB,CAAgCC,UAAhC,CAAP,CACA,CAFD,CAIA3D,MAAM,CAACxB,KAAP,CAAe,SAAUC,GAAV,CAAgB,CAC9B,KAAM,IAAI/F,MAAJ,CAAW,0CAA4C+F,GAAvD,CAAN,CACA,CAFD,CAQAuB,MAAM,CAACgK,UAAP,CAAoB,SAAU9K,OAAV,CAAoB,CACvC,GAAItC,KAAJ,CACCqN,UAAU,CAAG,EADd,CAEC9M,CAAC,CAAG,CAFL,CAGCzC,CAAC,CAAG,CAHL,CAMA+F,YAAY,CAAG,CAAC7G,OAAO,CAACsQ,gBAAxB,CACA1J,SAAS,CAAG,CAAC5G,OAAO,CAACuQ,UAAT,EAAuBjL,OAAO,CAACjG,KAAR,CAAe,CAAf,CAAnC,CACAiG,OAAO,CAAC7B,IAAR,CAAcoE,SAAd,EAEA,GAAKhB,YAAL,CAAoB,CACnB,MAAS7D,IAAI,CAAGsC,OAAO,CAACxE,CAAC,EAAF,CAAvB,CAAgC,CAC/B,GAAKkC,IAAI,GAAKsC,OAAO,CAAExE,CAAF,CAArB,CAA6B,CAC5ByC,CAAC,CAAG8M,UAAU,CAAC9Q,IAAX,CAAiBuB,CAAjB,CAAJ,CACA,CACD,CACD,MAAQyC,CAAC,EAAT,CAAc,CACb+B,OAAO,CAAC5B,MAAR,CAAgB2M,UAAU,CAAE9M,CAAF,CAA1B,CAAiC,CAAjC,EACA,CACD,CAIDqD,SAAS,CAAG,IAAZ,CAEA,MAAOtB,QAAP,CACA,CA3BD,CAiCAgB,OAAO,CAAGF,MAAM,CAACE,OAAP,CAAiB,SAAUtD,IAAV,CAAiB,CAC3C,GAAIpC,KAAJ,CACC8B,GAAG,CAAG,EADP,CAEC5B,CAAC,CAAG,CAFL,CAGCX,QAAQ,CAAG6C,IAAI,CAAC7C,QAHjB,CAKA,GAAK,CAACA,QAAN,CAAiB,CAEhB,MAASS,IAAI,CAAGoC,IAAI,CAAClC,CAAC,EAAF,CAApB,CAA6B,CAE5B4B,GAAG,EAAI4D,OAAO,CAAE1F,IAAF,CAAd,CACA,CACD,CAND,IAMO,IAAKT,QAAQ,GAAK,CAAb,EAAkBA,QAAQ,GAAK,CAA/B,EAAoCA,QAAQ,GAAK,EAAtD,CAA2D,CAGjE,GAAK,MAAO6C,KAAI,CAACwN,WAAZ,GAA4B,QAAjC,CAA4C,CAC3C,MAAOxN,KAAI,CAACwN,WAAZ,CACA,CAFD,IAEO,CAEN,IAAMxN,IAAI,CAAGA,IAAI,CAACyN,UAAlB,CAA8BzN,IAA9B,CAAoCA,IAAI,CAAGA,IAAI,CAACkK,WAAhD,CAA8D,CAC7DxK,GAAG,EAAI4D,OAAO,CAAEtD,IAAF,CAAd,CACA,CACD,CACD,CAXM,IAWA,IAAK7C,QAAQ,GAAK,CAAb,EAAkBA,QAAQ,GAAK,CAApC,CAAwC,CAC9C,MAAO6C,KAAI,CAAC0N,SAAZ,CACA,CAGD,MAAOhO,IAAP,CACA,CA7BD,CA+BA2D,IAAI,CAAGD,MAAM,CAACuK,SAAP,CAAmB,CAGzBtE,WAAW,CAAE,EAHY,CAKzBuE,YAAY,CAAErE,YALW,CAOzBvB,KAAK,CAAEjC,SAPkB,CASzB8D,UAAU,CAAE,EATa,CAWzB4B,IAAI,CAAE,EAXmB,CAazBoC,QAAQ,CAAE,CACT,IAAK,CAAErG,GAAG,CAAE,YAAP,CAAqBrH,KAAK,CAAE,IAA5B,CADI,CAET,IAAK,CAAEqH,GAAG,CAAE,YAAP,CAFI,CAGT,IAAK,CAAEA,GAAG,CAAE,iBAAP,CAA0BrH,KAAK,CAAE,IAAjC,CAHI,CAIT,IAAK,CAAEqH,GAAG,CAAE,iBAAP,CAJI,CAbe,CAoBzBsG,SAAS,CAAE,CACV,OAAQ,SAAU9F,KAAV,CAAkB,CACzBA,KAAK,CAAC,CAAD,CAAL,CAAWA,KAAK,CAAC,CAAD,CAAL,CAAStG,OAAT,CAAkB4E,SAAlB,CAA6BC,SAA7B,CAAX,CAGAyB,KAAK,CAAC,CAAD,CAAL,CAAW,CAAEA,KAAK,CAAC,CAAD,CAAL,EAAYA,KAAK,CAAC,CAAD,CAAjB,EAAwBA,KAAK,CAAC,CAAD,CAA7B,EAAoC,EAAtC,EAA2CtG,OAA3C,CAAoD4E,SAApD,CAA+DC,SAA/D,CAAX,CAEA,GAAKyB,KAAK,CAAC,CAAD,CAAL,GAAa,IAAlB,CAAyB,CACxBA,KAAK,CAAC,CAAD,CAAL,CAAW,IAAMA,KAAK,CAAC,CAAD,CAAX,CAAiB,GAA5B,CACA,CAED,MAAOA,MAAK,CAAC3L,KAAN,CAAa,CAAb,CAAgB,CAAhB,CAAP,CACA,CAZS,CAcV,QAAS,SAAU2L,KAAV,CAAkB,CAW1BA,KAAK,CAAC,CAAD,CAAL,CAAWA,KAAK,CAAC,CAAD,CAAL,CAAS7E,WAAT,EAAX,CAEA,GAAK6E,KAAK,CAAC,CAAD,CAAL,CAAS3L,KAAT,CAAgB,CAAhB,CAAmB,CAAnB,IAA2B,KAAhC,CAAwC,CAEvC,GAAK,CAAC2L,KAAK,CAAC,CAAD,CAAX,CAAiB,CAChB5E,MAAM,CAACxB,KAAP,CAAcoG,KAAK,CAAC,CAAD,CAAnB,EACA,CAIDA,KAAK,CAAC,CAAD,CAAL,CAAW,EAAGA,KAAK,CAAC,CAAD,CAAL,CAAWA,KAAK,CAAC,CAAD,CAAL,EAAYA,KAAK,CAAC,CAAD,CAAL,EAAY,CAAxB,CAAX,CAAwC,GAAMA,KAAK,CAAC,CAAD,CAAL,GAAa,MAAb,EAAuBA,KAAK,CAAC,CAAD,CAAL,GAAa,KAA1C,CAA3C,CAAX,CACAA,KAAK,CAAC,CAAD,CAAL,CAAW,EAAKA,KAAK,CAAC,CAAD,CAAL,CAAWA,KAAK,CAAC,CAAD,CAAlB,EAA2BA,KAAK,CAAC,CAAD,CAAL,GAAa,KAA3C,CAAX,CAGA,CAZD,IAYO,IAAKA,KAAK,CAAC,CAAD,CAAV,CAAgB,CACtB5E,MAAM,CAACxB,KAAP,CAAcoG,KAAK,CAAC,CAAD,CAAnB,EACA,CAED,MAAOA,MAAP,CACA,CA5CS,CA8CV,SAAU,SAAUA,KAAV,CAAkB,CAC3B,GAAI+F,OAAJ,CACCC,QAAQ,CAAG,CAAChG,KAAK,CAAC,CAAD,CAAN,EAAaA,KAAK,CAAC,CAAD,CAD9B,CAGA,GAAKjC,SAAS,CAAC,OAAD,CAAT,CAAmB4C,IAAnB,CAAyBX,KAAK,CAAC,CAAD,CAA9B,CAAL,CAA2C,CAC1C,MAAO,KAAP,CACA,CAGD,GAAKA,KAAK,CAAC,CAAD,CAAV,CAAgB,CACfA,KAAK,CAAC,CAAD,CAAL,CAAWA,KAAK,CAAC,CAAD,CAAL,EAAYA,KAAK,CAAC,CAAD,CAAjB,EAAwB,EAAnC,CAGA,CAJD,IAIO,IAAKgG,QAAQ,EAAInI,OAAO,CAAC8C,IAAR,CAAcqF,QAAd,CAAZ,GAEVD,MAAM,CAAGvK,QAAQ,CAAEwK,QAAF,CAAY,IAAZ,CAFP,IAIVD,MAAM,CAAGC,QAAQ,CAACxR,OAAT,CAAkB,GAAlB,CAAuBwR,QAAQ,CAAC5O,MAAT,CAAkB2O,MAAzC,EAAoDC,QAAQ,CAAC5O,MAJ5D,CAAL,CAI2E,CAGjF4I,KAAK,CAAC,CAAD,CAAL,CAAWA,KAAK,CAAC,CAAD,CAAL,CAAS3L,KAAT,CAAgB,CAAhB,CAAmB0R,MAAnB,CAAX,CACA/F,KAAK,CAAC,CAAD,CAAL,CAAWgG,QAAQ,CAAC3R,KAAT,CAAgB,CAAhB,CAAmB0R,MAAnB,CAAX,CACA,CAGD,MAAO/F,MAAK,CAAC3L,KAAN,CAAa,CAAb,CAAgB,CAAhB,CAAP,CACA,CAxES,CApBc,CA+FzBkP,MAAM,CAAE,CAEP,MAAO,SAAU0C,gBAAV,CAA6B,CACnC,GAAI1G,SAAQ,CAAG0G,gBAAgB,CAACvM,OAAjB,CAA0B4E,SAA1B,CAAqCC,SAArC,EAAiDpD,WAAjD,EAAf,CACA,MAAO8K,iBAAgB,GAAK,GAArB,CACN,UAAW,CAAE,MAAO,KAAP,CAAc,CADrB,CAEN,SAAUjO,IAAV,CAAiB,CAChB,MAAOA,KAAI,CAACuH,QAAL,EAAiBvH,IAAI,CAACuH,QAAL,CAAcpE,WAAd,KAAgCoE,QAAxD,CACA,CAJF,CAKA,CATM,CAWP,QAAS,SAAU4D,SAAV,CAAsB,CAC9B,GAAI+C,QAAO,CAAG1J,UAAU,CAAE2G,SAAS,CAAG,GAAd,CAAxB,CAEA,MAAO+C,QAAO,EACb,CAACA,OAAO,CAAG,GAAIzI,OAAJ,CAAY,MAAQL,UAAR,CAAqB,GAArB,CAA2B+F,SAA3B,CAAuC,GAAvC,CAA6C/F,UAA7C,CAA0D,KAAtE,CAAX,GACAZ,UAAU,CAAE2G,SAAF,CAAa,SAAUnL,IAAV,CAAiB,CACvC,MAAOkO,QAAO,CAACvF,IAAR,CAAc,MAAO3I,KAAI,CAACmL,SAAZ,GAA0B,QAA1B,EAAsCnL,IAAI,CAACmL,SAA3C,EAAwD,MAAOnL,KAAI,CAAC7B,YAAZ,GAA6B,WAA7B,EAA4C6B,IAAI,CAAC7B,YAAL,CAAkB,OAAlB,CAApG,EAAkI,EAAhJ,CAAP,CACA,CAFS,CAFX,CAKA,CAnBM,CAqBP,OAAQ,SAAU0C,IAAV,CAAgBsN,QAAhB,CAA0BC,KAA1B,CAAkC,CACzC,MAAO,UAAUpO,IAAV,CAAiB,CACvB,GAAIqO,OAAM,CAAGjL,MAAM,CAAC4J,IAAP,CAAahN,IAAb,CAAmBa,IAAnB,CAAb,CAEA,GAAKwN,MAAM,EAAI,IAAf,CAAsB,CACrB,MAAOF,SAAQ,GAAK,IAApB,CACA,CACD,GAAK,CAACA,QAAN,CAAiB,CAChB,MAAO,KAAP,CACA,CAEDE,MAAM,EAAI,EAAV,CAEA,MAAOF,SAAQ,GAAK,GAAb,CAAmBE,MAAM,GAAKD,KAA9B,CACND,QAAQ,GAAK,IAAb,CAAoBE,MAAM,GAAKD,KAA/B,CACAD,QAAQ,GAAK,IAAb,CAAoBC,KAAK,EAAIC,MAAM,CAAC7R,OAAP,CAAgB4R,KAAhB,IAA4B,CAAzD,CACAD,QAAQ,GAAK,IAAb,CAAoBC,KAAK,EAAIC,MAAM,CAAC7R,OAAP,CAAgB4R,KAAhB,EAA0B,CAAC,CAAxD,CACAD,QAAQ,GAAK,IAAb,CAAoBC,KAAK,EAAIC,MAAM,CAAChS,KAAP,CAAc,CAAC+R,KAAK,CAAChP,MAArB,IAAkCgP,KAA/D,CACAD,QAAQ,GAAK,IAAb,CAAoB,CAAE,IAAME,MAAM,CAAC3M,OAAP,CAAgB8D,WAAhB,CAA6B,GAA7B,CAAN,CAA2C,GAA7C,EAAmDhJ,OAAnD,CAA4D4R,KAA5D,EAAsE,CAAC,CAA3F,CACAD,QAAQ,GAAK,IAAb,CAAoBE,MAAM,GAAKD,KAAX,EAAoBC,MAAM,CAAChS,KAAP,CAAc,CAAd,CAAiB+R,KAAK,CAAChP,MAAN,CAAe,CAAhC,IAAwCgP,KAAK,CAAG,GAAxF,CACA,KAPD,CAQA,CApBD,CAqBA,CA3CM,CA6CP,QAAS,SAAU9Q,IAAV,CAAgBgR,IAAhB,CAAsB9D,QAAtB,CAAgCrK,KAAhC,CAAuCE,IAAvC,CAA8C,CACtD,GAAIkO,OAAM,CAAGjR,IAAI,CAACjB,KAAL,CAAY,CAAZ,CAAe,CAAf,IAAuB,KAApC,CACCmS,OAAO,CAAGlR,IAAI,CAACjB,KAAL,CAAY,CAAC,CAAb,IAAqB,MADhC,CAECoS,MAAM,CAAGH,IAAI,GAAK,SAFnB,CAIA,MAAOnO,MAAK,GAAK,CAAV,EAAeE,IAAI,GAAK,CAAxB,CAGN,SAAUL,IAAV,CAAiB,CAChB,MAAO,CAAC,CAACA,IAAI,CAACzB,UAAd,CACA,CALK,CAON,SAAUyB,IAAV,CAAgBnB,OAAhB,CAAyB6P,GAAzB,CAA+B,CAC9B,GAAIvF,MAAJ,CAAWwF,WAAX,CAAwBC,UAAxB,CAAoChR,IAApC,CAA0CiR,SAA1C,CAAqDC,KAArD,CACCtH,GAAG,CAAG+G,MAAM,GAAKC,OAAX,CAAqB,aAArB,CAAqC,iBAD5C,CAECO,MAAM,CAAG/O,IAAI,CAACzB,UAFf,CAGCsC,IAAI,CAAG4N,MAAM,EAAIzO,IAAI,CAACuH,QAAL,CAAcpE,WAAd,EAHlB,CAIC6L,QAAQ,CAAG,CAACN,GAAD,EAAQ,CAACD,MAJrB,CAKCzE,IAAI,CAAG,KALR,CAOA,GAAK+E,MAAL,CAAc,CAGb,GAAKR,MAAL,CAAc,CACb,MAAQ/G,GAAR,CAAc,CACb5J,IAAI,CAAGoC,IAAP,CACA,MAASpC,IAAI,CAAGA,IAAI,CAAE4J,GAAF,CAApB,CAA+B,CAC9B,GAAKiH,MAAM,CACV7Q,IAAI,CAAC2J,QAAL,CAAcpE,WAAd,KAAgCtC,IADtB,CAEVjD,IAAI,CAACT,QAAL,GAAkB,CAFnB,CAEuB,CAEtB,MAAO,MAAP,CACA,CACD,CAED2R,KAAK,CAAGtH,GAAG,CAAGlK,IAAI,GAAK,MAAT,EAAmB,CAACwR,KAApB,EAA6B,aAA3C,CACA,CACD,MAAO,KAAP,CACA,CAEDA,KAAK,CAAG,CAAEN,OAAO,CAAGO,MAAM,CAACtB,UAAV,CAAuBsB,MAAM,CAACE,SAAvC,CAAR,CAGA,GAAKT,OAAO,EAAIQ,QAAhB,CAA2B,CAK1BpR,IAAI,CAAGmR,MAAP,CACAH,UAAU,CAAGhR,IAAI,CAAE2D,OAAF,CAAJ,GAAoB3D,IAAI,CAAE2D,OAAF,CAAJ,CAAkB,EAAtC,CAAb,CAIAoN,WAAW,CAAGC,UAAU,CAAEhR,IAAI,CAACsR,QAAP,CAAV,GACZN,UAAU,CAAEhR,IAAI,CAACsR,QAAP,CAAV,CAA8B,EADlB,CAAd,CAGA/F,KAAK,CAAGwF,WAAW,CAAErR,IAAF,CAAX,EAAuB,EAA/B,CACAuR,SAAS,CAAG1F,KAAK,CAAE,CAAF,CAAL,GAAe7E,OAAf,EAA0B6E,KAAK,CAAE,CAAF,CAA3C,CACAa,IAAI,CAAG6E,SAAS,EAAI1F,KAAK,CAAE,CAAF,CAAzB,CACAvL,IAAI,CAAGiR,SAAS,EAAIE,MAAM,CAACrH,UAAP,CAAmBmH,SAAnB,CAApB,CAEA,MAASjR,IAAI,CAAG,EAAEiR,SAAF,EAAejR,IAAf,EAAuBA,IAAI,CAAE4J,GAAF,CAA3B,GAGdwC,IAAI,CAAG6E,SAAS,CAAG,CAHL,GAGWC,KAAK,CAAC9J,GAAN,EAH3B,CAG0C,CAGzC,GAAKpH,IAAI,CAACT,QAAL,GAAkB,CAAlB,EAAuB,EAAE6M,IAAzB,EAAiCpM,IAAI,GAAKoC,IAA/C,CAAsD,CACrD2O,WAAW,CAAErR,IAAF,CAAX,CAAsB,CAAEgH,OAAF,CAAWuK,SAAX,CAAsB7E,IAAtB,CAAtB,CACA,MACA,CACD,CAED,CA9BD,IA8BO,CAEN,GAAKgF,QAAL,CAAgB,CAEfpR,IAAI,CAAGoC,IAAP,CACA4O,UAAU,CAAGhR,IAAI,CAAE2D,OAAF,CAAJ,GAAoB3D,IAAI,CAAE2D,OAAF,CAAJ,CAAkB,EAAtC,CAAb,CAIAoN,WAAW,CAAGC,UAAU,CAAEhR,IAAI,CAACsR,QAAP,CAAV,GACZN,UAAU,CAAEhR,IAAI,CAACsR,QAAP,CAAV,CAA8B,EADlB,CAAd,CAGA/F,KAAK,CAAGwF,WAAW,CAAErR,IAAF,CAAX,EAAuB,EAA/B,CACAuR,SAAS,CAAG1F,KAAK,CAAE,CAAF,CAAL,GAAe7E,OAAf,EAA0B6E,KAAK,CAAE,CAAF,CAA3C,CACAa,IAAI,CAAG6E,SAAP,CACA,CAID,GAAK7E,IAAI,GAAK,KAAd,CAAsB,CAErB,MAASpM,IAAI,CAAG,EAAEiR,SAAF,EAAejR,IAAf,EAAuBA,IAAI,CAAE4J,GAAF,CAA3B,GACdwC,IAAI,CAAG6E,SAAS,CAAG,CADL,GACWC,KAAK,CAAC9J,GAAN,EAD3B,CAC0C,CAEzC,GAAK,CAAEyJ,MAAM,CACZ7Q,IAAI,CAAC2J,QAAL,CAAcpE,WAAd,KAAgCtC,IADpB,CAEZjD,IAAI,CAACT,QAAL,GAAkB,CAFd,GAGJ,EAAE6M,IAHH,CAGU,CAGT,GAAKgF,QAAL,CAAgB,CACfJ,UAAU,CAAGhR,IAAI,CAAE2D,OAAF,CAAJ,GAAoB3D,IAAI,CAAE2D,OAAF,CAAJ,CAAkB,EAAtC,CAAb,CAIAoN,WAAW,CAAGC,UAAU,CAAEhR,IAAI,CAACsR,QAAP,CAAV,GACZN,UAAU,CAAEhR,IAAI,CAACsR,QAAP,CAAV,CAA8B,EADlB,CAAd,CAGAP,WAAW,CAAErR,IAAF,CAAX,CAAsB,CAAEgH,OAAF,CAAW0F,IAAX,CAAtB,CACA,CAED,GAAKpM,IAAI,GAAKoC,IAAd,CAAqB,CACpB,MACA,CACD,CACD,CACD,CACD,CAGDgK,IAAI,EAAI3J,IAAR,CACA,MAAO2J,KAAI,GAAK7J,KAAT,EAAoB6J,IAAI,CAAG7J,KAAP,GAAiB,CAAjB,EAAsB6J,IAAI,CAAG7J,KAAP,EAAgB,CAAjE,CACA,CACD,CAzHF,CA0HA,CA5KM,CA8KP,SAAU,SAAUgP,MAAV,CAAkB3E,QAAlB,CAA6B,CAKtC,GAAI4E,KAAJ,CACCtQ,EAAE,CAAGuE,IAAI,CAACkC,OAAL,CAAc4J,MAAd,GAA0B9L,IAAI,CAACgM,UAAL,CAAiBF,MAAM,CAAChM,WAAP,EAAjB,CAA1B,EACJC,MAAM,CAACxB,KAAP,CAAc,uBAAyBuN,MAAvC,CAFF,CAOA,GAAKrQ,EAAE,CAAEyC,OAAF,CAAP,CAAqB,CACpB,MAAOzC,GAAE,CAAE0L,QAAF,CAAT,CACA,CAGD,GAAK1L,EAAE,CAACM,MAAH,CAAY,CAAjB,CAAqB,CACpBgQ,IAAI,CAAG,CAAED,MAAF,CAAUA,MAAV,CAAkB,EAAlB,CAAsB3E,QAAtB,CAAP,CACA,MAAOnH,KAAI,CAACgM,UAAL,CAAgBzS,cAAhB,CAAgCuS,MAAM,CAAChM,WAAP,EAAhC,EACNoG,YAAY,CAAC,SAAU1B,IAAV,CAAgBjF,OAAhB,CAA0B,CACtC,GAAI0M,IAAJ,CACCC,OAAO,CAAGzQ,EAAE,CAAE+I,IAAF,CAAQ2C,QAAR,CADb,CAEC1M,CAAC,CAAGyR,OAAO,CAACnQ,MAFb,CAGA,MAAQtB,CAAC,EAAT,CAAc,CACbwR,GAAG,CAAG9S,OAAO,CAAEqL,IAAF,CAAQ0H,OAAO,CAACzR,CAAD,CAAf,CAAb,CACA+J,IAAI,CAAEyH,GAAF,CAAJ,CAAc,EAAG1M,OAAO,CAAE0M,GAAF,CAAP,CAAiBC,OAAO,CAACzR,CAAD,CAA3B,CAAd,CACA,CACD,CARW,CADN,CAUN,SAAUkC,IAAV,CAAiB,CAChB,MAAOlB,GAAE,CAAEkB,IAAF,CAAQ,CAAR,CAAWoP,IAAX,CAAT,CACA,CAZF,CAaA,CAED,MAAOtQ,GAAP,CACA,CAjNM,CA/FiB,CAmTzByG,OAAO,CAAE,CAER,MAAOgE,YAAY,CAAC,SAAU3K,QAAV,CAAqB,CAIxC,GAAIkN,MAAK,CAAG,EAAZ,CACCxJ,OAAO,CAAG,EADX,CAECkN,OAAO,CAAG/L,OAAO,CAAE7E,QAAQ,CAAC8C,OAAT,CAAkB1C,KAAlB,CAAyB,IAAzB,CAAF,CAFlB,CAIA,MAAOwQ,QAAO,CAAEjO,OAAF,CAAP,CACNgI,YAAY,CAAC,SAAU1B,IAAV,CAAgBjF,OAAhB,CAAyB/D,OAAzB,CAAkC6P,GAAlC,CAAwC,CACpD,GAAI1O,KAAJ,CACCyP,SAAS,CAAGD,OAAO,CAAE3H,IAAF,CAAQ,IAAR,CAAc6G,GAAd,CAAmB,EAAnB,CADpB,CAEC5Q,CAAC,CAAG+J,IAAI,CAACzI,MAFV,CAKA,MAAQtB,CAAC,EAAT,CAAc,CACb,GAAMkC,IAAI,CAAGyP,SAAS,CAAC3R,CAAD,CAAtB,CAA6B,CAC5B+J,IAAI,CAAC/J,CAAD,CAAJ,CAAU,EAAE8E,OAAO,CAAC9E,CAAD,CAAP,CAAakC,IAAf,CAAV,CACA,CACD,CACD,CAXW,CADN,CAaN,SAAUA,IAAV,CAAgBnB,OAAhB,CAAyB6P,GAAzB,CAA+B,CAC9B5C,KAAK,CAAC,CAAD,CAAL,CAAW9L,IAAX,CACAwP,OAAO,CAAE1D,KAAF,CAAS,IAAT,CAAe4C,GAAf,CAAoBpM,OAApB,CAAP,CAEAwJ,KAAK,CAAC,CAAD,CAAL,CAAW,IAAX,CACA,MAAO,CAACxJ,OAAO,CAAC0C,GAAR,EAAR,CACA,CAnBF,CAoBA,CA5BkB,CAFX,CAgCR,MAAOuE,YAAY,CAAC,SAAU3K,QAAV,CAAqB,CACxC,MAAO,UAAUoB,IAAV,CAAiB,CACvB,MAAOoD,OAAM,CAAExE,QAAF,CAAYoB,IAAZ,CAAN,CAAyBZ,MAAzB,CAAkC,CAAzC,CACA,CAFD,CAGA,CAJkB,CAhCX,CAsCR,WAAYmK,YAAY,CAAC,SAAUrL,IAAV,CAAiB,CACzCA,IAAI,CAAGA,IAAI,CAACwD,OAAL,CAAc4E,SAAd,CAAyBC,SAAzB,CAAP,CACA,MAAO,UAAUvG,IAAV,CAAiB,CACvB,MAAO,CAAEA,IAAI,CAACwN,WAAL,EAAoBlK,OAAO,CAAEtD,IAAF,CAA7B,EAAwCxD,OAAxC,CAAiD0B,IAAjD,EAA0D,CAAC,CAAlE,CACA,CAFD,CAGA,CALuB,CAtChB,CAoDR,OAAQqL,YAAY,CAAE,SAAUmG,IAAV,CAAiB,CAEtC,GAAK,CAAC5J,WAAW,CAAC6C,IAAZ,CAAiB+G,IAAI,EAAI,EAAzB,CAAN,CAAqC,CACpCtM,MAAM,CAACxB,KAAP,CAAc,qBAAuB8N,IAArC,EACA,CACDA,IAAI,CAAGA,IAAI,CAAChO,OAAL,CAAc4E,SAAd,CAAyBC,SAAzB,EAAqCpD,WAArC,EAAP,CACA,MAAO,UAAUnD,IAAV,CAAiB,CACvB,GAAI2P,SAAJ,CACA,EAAG,CACF,GAAMA,QAAQ,CAAG3L,cAAc,CAC9BhE,IAAI,CAAC0P,IADyB,CAE9B1P,IAAI,CAAC7B,YAAL,CAAkB,UAAlB,GAAiC6B,IAAI,CAAC7B,YAAL,CAAkB,MAAlB,CAFlC,CAE+D,CAE9DwR,QAAQ,CAAGA,QAAQ,CAACxM,WAAT,EAAX,CACA,MAAOwM,SAAQ,GAAKD,IAAb,EAAqBC,QAAQ,CAACnT,OAAT,CAAkBkT,IAAI,CAAG,GAAzB,IAAmC,CAA/D,CACA,CACD,CARD,MAQU,CAAC1P,IAAI,CAAGA,IAAI,CAACzB,UAAb,GAA4ByB,IAAI,CAAC7C,QAAL,GAAkB,CARxD,EASA,MAAO,MAAP,CACA,CAZD,CAaA,CAnBmB,CApDZ,CA0ER,SAAU,SAAU6C,IAAV,CAAiB,CAC1B,GAAI4P,KAAI,CAAG7T,MAAM,CAAC8T,QAAP,EAAmB9T,MAAM,CAAC8T,QAAP,CAAgBD,IAA9C,CACA,MAAOA,KAAI,EAAIA,IAAI,CAACvT,KAAL,CAAY,CAAZ,IAAoB2D,IAAI,CAACuI,EAAxC,CACA,CA7EO,CA+ER,OAAQ,SAAUvI,IAAV,CAAiB,CACxB,MAAOA,KAAI,GAAK+D,OAAhB,CACA,CAjFO,CAmFR,QAAS,SAAU/D,IAAV,CAAiB,CACzB,MAAOA,KAAI,GAAKpE,QAAQ,CAACkU,aAAlB,GAAoC,CAAClU,QAAQ,CAACmU,QAAV,EAAsBnU,QAAQ,CAACmU,QAAT,EAA1D,GAAkF,CAAC,EAAE/P,IAAI,CAAC1C,IAAL,EAAa0C,IAAI,CAACgQ,IAAlB,EAA0B,CAAChQ,IAAI,CAACiQ,QAAlC,CAA1F,CACA,CArFO,CAwFR,UAAW5F,oBAAoB,CAAE,KAAF,CAxFvB,CAyFR,WAAYA,oBAAoB,CAAE,IAAF,CAzFxB,CA2FR,UAAW,SAAUrK,IAAV,CAAiB,CAG3B,GAAIuH,SAAQ,CAAGvH,IAAI,CAACuH,QAAL,CAAcpE,WAAd,EAAf,CACA,MAAQoE,SAAQ,GAAK,OAAb,EAAwB,CAAC,CAACvH,IAAI,CAACkQ,OAAhC,EAA6C3I,QAAQ,GAAK,QAAb,EAAyB,CAAC,CAACvH,IAAI,CAACmQ,QAApF,CACA,CAhGO,CAkGR,WAAY,SAAUnQ,IAAV,CAAiB,CAG5B,GAAKA,IAAI,CAACzB,UAAV,CAAuB,CACtByB,IAAI,CAACzB,UAAL,CAAgB6R,aAAhB,CACA,CAED,MAAOpQ,KAAI,CAACmQ,QAAL,GAAkB,IAAzB,CACA,CA1GO,CA6GR,QAAS,SAAUnQ,IAAV,CAAiB,CAKzB,IAAMA,IAAI,CAAGA,IAAI,CAACyN,UAAlB,CAA8BzN,IAA9B,CAAoCA,IAAI,CAAGA,IAAI,CAACkK,WAAhD,CAA8D,CAC7D,GAAKlK,IAAI,CAAC7C,QAAL,CAAgB,CAArB,CAAyB,CACxB,MAAO,MAAP,CACA,CACD,CACD,MAAO,KAAP,CACA,CAxHO,CA0HR,SAAU,SAAU6C,IAAV,CAAiB,CAC1B,MAAO,CAACqD,IAAI,CAACkC,OAAL,CAAa,OAAb,EAAuBvF,IAAvB,CAAR,CACA,CA5HO,CA+HR,SAAU,SAAUA,IAAV,CAAiB,CAC1B,MAAOkG,QAAO,CAACyC,IAAR,CAAc3I,IAAI,CAACuH,QAAnB,CAAP,CACA,CAjIO,CAmIR,QAAS,SAAUvH,IAAV,CAAiB,CACzB,MAAOiG,QAAO,CAAC0C,IAAR,CAAc3I,IAAI,CAACuH,QAAnB,CAAP,CACA,CArIO,CAuIR,SAAU,SAAUvH,IAAV,CAAiB,CAC1B,GAAIa,KAAI,CAAGb,IAAI,CAACuH,QAAL,CAAcpE,WAAd,EAAX,CACA,MAAOtC,KAAI,GAAK,OAAT,EAAoBb,IAAI,CAAC1C,IAAL,GAAc,QAAlC,EAA8CuD,IAAI,GAAK,QAA9D,CACA,CA1IO,CA4IR,OAAQ,SAAUb,IAAV,CAAiB,CACxB,GAAIgN,KAAJ,CACA,MAAOhN,KAAI,CAACuH,QAAL,CAAcpE,WAAd,KAAgC,OAAhC,EACNnD,IAAI,CAAC1C,IAAL,GAAc,MADR,GAKJ,CAAC0P,IAAI,CAAGhN,IAAI,CAAC7B,YAAL,CAAkB,MAAlB,CAAR,GAAsC,IAAtC,EAA8C6O,IAAI,CAAC7J,WAAL,KAAuB,MALjE,CAAP,CAMA,CApJO,CAuJR,QAASoH,sBAAsB,CAAC,UAAW,CAC1C,MAAO,CAAE,CAAF,CAAP,CACA,CAF8B,CAvJvB,CA2JR,OAAQA,sBAAsB,CAAC,SAAUE,YAAV,CAAwBrL,MAAxB,CAAiC,CAC/D,MAAO,CAAEA,MAAM,CAAG,CAAX,CAAP,CACA,CAF6B,CA3JtB,CA+JR,KAAMmL,sBAAsB,CAAC,SAAUE,YAAV,CAAwBrL,MAAxB,CAAgCoL,QAAhC,CAA2C,CACvE,MAAO,CAAEA,QAAQ,CAAG,CAAX,CAAeA,QAAQ,CAAGpL,MAA1B,CAAmCoL,QAArC,CAAP,CACA,CAF2B,CA/JpB,CAmKR,OAAQD,sBAAsB,CAAC,SAAUE,YAAV,CAAwBrL,MAAxB,CAAiC,CAC/D,GAAItB,EAAC,CAAG,CAAR,CACA,KAAQA,CAAC,CAAGsB,MAAZ,CAAoBtB,CAAC,EAAI,CAAzB,CAA6B,CAC5B2M,YAAY,CAAClO,IAAb,CAAmBuB,CAAnB,EACA,CACD,MAAO2M,aAAP,CACA,CAN6B,CAnKtB,CA2KR,MAAOF,sBAAsB,CAAC,SAAUE,YAAV,CAAwBrL,MAAxB,CAAiC,CAC9D,GAAItB,EAAC,CAAG,CAAR,CACA,KAAQA,CAAC,CAAGsB,MAAZ,CAAoBtB,CAAC,EAAI,CAAzB,CAA6B,CAC5B2M,YAAY,CAAClO,IAAb,CAAmBuB,CAAnB,EACA,CACD,MAAO2M,aAAP,CACA,CAN4B,CA3KrB,CAmLR,KAAMF,sBAAsB,CAAC,SAAUE,YAAV,CAAwBrL,MAAxB,CAAgCoL,QAAhC,CAA2C,CACvE,GAAI1M,EAAC,CAAG0M,QAAQ,CAAG,CAAX,CACPA,QAAQ,CAAGpL,MADJ,CAEPoL,QAAQ,CAAGpL,MAAX,CACCA,MADD,CAECoL,QAJF,CAKA,KAAQ,EAAE1M,CAAF,EAAO,CAAf,EAAoB,CACnB2M,YAAY,CAAClO,IAAb,CAAmBuB,CAAnB,EACA,CACD,MAAO2M,aAAP,CACA,CAV2B,CAnLpB,CA+LR,KAAMF,sBAAsB,CAAC,SAAUE,YAAV,CAAwBrL,MAAxB,CAAgCoL,QAAhC,CAA2C,CACvE,GAAI1M,EAAC,CAAG0M,QAAQ,CAAG,CAAX,CAAeA,QAAQ,CAAGpL,MAA1B,CAAmCoL,QAA3C,CACA,KAAQ,EAAE1M,CAAF,CAAMsB,MAAd,EAAwB,CACvBqL,YAAY,CAAClO,IAAb,CAAmBuB,CAAnB,EACA,CACD,MAAO2M,aAAP,CACA,CAN2B,CA/LpB,CAnTgB,CAA1B,CA4fApH,IAAI,CAACkC,OAAL,CAAa,KAAb,EAAsBlC,IAAI,CAACkC,OAAL,CAAa,IAAb,CAAtB,CAGA,IAAMzH,CAAN,GAAW,CAAEuS,KAAK,CAAE,IAAT,CAAeC,QAAQ,CAAE,IAAzB,CAA+BC,IAAI,CAAE,IAArC,CAA2CC,QAAQ,CAAE,IAArD,CAA2DC,KAAK,CAAE,IAAlE,CAAX,CAAsF,CACrFpN,IAAI,CAACkC,OAAL,CAAczH,CAAd,EAAoBqM,iBAAiB,CAAErM,CAAF,CAArC,CACA,CACD,IAAMA,CAAN,GAAW,CAAE4S,MAAM,CAAE,IAAV,CAAgBC,KAAK,CAAE,IAAvB,CAAX,CAA2C,CAC1CtN,IAAI,CAACkC,OAAL,CAAczH,CAAd,EAAoBsM,kBAAkB,CAAEtM,CAAF,CAAtC,CACA,CAGD,QAASuR,WAAT,EAAsB,CAAE,CACxBA,UAAU,CAACpQ,SAAX,CAAuBoE,IAAI,CAACuN,OAAL,CAAevN,IAAI,CAACkC,OAA3C,CACAlC,IAAI,CAACgM,UAAL,CAAkB,GAAIA,WAAJ,EAAlB,CAEA7L,QAAQ,CAAGJ,MAAM,CAACI,QAAP,CAAkB,SAAU5E,QAAV,CAAoBiS,SAApB,CAAgC,CAC5D,GAAItB,QAAJ,CAAavH,KAAb,CAAoB8I,MAApB,CAA4BxT,IAA5B,CACCyT,KADD,CACQ9I,MADR,CACgB+I,UADhB,CAECC,MAAM,CAAGvM,UAAU,CAAE9F,QAAQ,CAAG,GAAb,CAFpB,CAIA,GAAKqS,MAAL,CAAc,CACb,MAAOJ,UAAS,CAAG,CAAH,CAAOI,MAAM,CAAC5U,KAAP,CAAc,CAAd,CAAvB,CACA,CAED0U,KAAK,CAAGnS,QAAR,CACAqJ,MAAM,CAAG,EAAT,CACA+I,UAAU,CAAG3N,IAAI,CAACyK,SAAlB,CAEA,MAAQiD,KAAR,CAAgB,CAGf,GAAK,CAACxB,OAAD,GAAavH,KAAK,CAAGtC,MAAM,CAAC2C,IAAP,CAAa0I,KAAb,CAArB,CAAL,CAAkD,CACjD,GAAK/I,KAAL,CAAa,CAEZ+I,KAAK,CAAGA,KAAK,CAAC1U,KAAN,CAAa2L,KAAK,CAAC,CAAD,CAAL,CAAS5I,MAAtB,GAAkC2R,KAA1C,CACA,CACD9I,MAAM,CAAC1L,IAAP,CAAcuU,MAAM,CAAG,EAAvB,EACA,CAEDvB,OAAO,CAAG,KAAV,CAGA,GAAMvH,KAAK,CAAGrC,YAAY,CAAC0C,IAAb,CAAmB0I,KAAnB,CAAd,CAA4C,CAC3CxB,OAAO,CAAGvH,KAAK,CAACsB,KAAN,EAAV,CACAwH,MAAM,CAACvU,IAAP,CAAY,CACXuG,KAAK,CAAEyM,OADI,CAGXjS,IAAI,CAAE0K,KAAK,CAAC,CAAD,CAAL,CAAStG,OAAT,CAAkB1C,KAAlB,CAAyB,GAAzB,CAHK,CAAZ,EAKA+R,KAAK,CAAGA,KAAK,CAAC1U,KAAN,CAAakT,OAAO,CAACnQ,MAArB,CAAR,CACA,CAGD,IAAM9B,IAAN,GAAc+F,KAAI,CAACkI,MAAnB,CAA4B,CAC3B,GAAK,CAACvD,KAAK,CAAGjC,SAAS,CAAEzI,IAAF,CAAT,CAAkB+K,IAAlB,CAAwB0I,KAAxB,CAAT,IAA8C,CAACC,UAAU,CAAE1T,IAAF,CAAX,GACjD0K,KAAK,CAAGgJ,UAAU,CAAE1T,IAAF,CAAV,CAAoB0K,KAApB,CADyC,CAA9C,CAAL,CAC0C,CACzCuH,OAAO,CAAGvH,KAAK,CAACsB,KAAN,EAAV,CACAwH,MAAM,CAACvU,IAAP,CAAY,CACXuG,KAAK,CAAEyM,OADI,CAEXjS,IAAI,CAAEA,IAFK,CAGXsF,OAAO,CAAEoF,KAHE,CAAZ,EAKA+I,KAAK,CAAGA,KAAK,CAAC1U,KAAN,CAAakT,OAAO,CAACnQ,MAArB,CAAR,CACA,CACD,CAED,GAAK,CAACmQ,OAAN,CAAgB,CACf,MACA,CACD,CAKD,MAAOsB,UAAS,CACfE,KAAK,CAAC3R,MADS,CAEf2R,KAAK,CACJ3N,MAAM,CAACxB,KAAP,CAAchD,QAAd,CADI,CAGJ8F,UAAU,CAAE9F,QAAF,CAAYqJ,MAAZ,CAAV,CAA+B5L,KAA/B,CAAsC,CAAtC,CALF,CAMA,CAjED,CAmEA,QAASuM,WAAT,CAAqBkI,MAArB,CAA8B,CAC7B,GAAIhT,EAAC,CAAG,CAAR,CACCwC,GAAG,CAAGwQ,MAAM,CAAC1R,MADd,CAECR,QAAQ,CAAG,EAFZ,CAGA,KAAQd,CAAC,CAAGwC,GAAZ,CAAiBxC,CAAC,EAAlB,CAAuB,CACtBc,QAAQ,EAAIkS,MAAM,CAAChT,CAAD,CAAN,CAAUgF,KAAtB,CACA,CACD,MAAOlE,SAAP,CACA,CAED,QAASyI,cAAT,CAAwBmI,OAAxB,CAAiC0B,UAAjC,CAA6CC,IAA7C,CAAoD,CACnD,GAAI3J,IAAG,CAAG0J,UAAU,CAAC1J,GAArB,CACC4J,IAAI,CAAGF,UAAU,CAACzJ,IADnB,CAEC2B,GAAG,CAAGgI,IAAI,EAAI5J,GAFf,CAGC6J,gBAAgB,CAAGF,IAAI,EAAI/H,GAAG,GAAK,YAHpC,CAICkI,QAAQ,CAAG/M,IAAI,EAJhB,CAMA,MAAO2M,WAAU,CAAC/Q,KAAX,CAEN,SAAUH,IAAV,CAAgBnB,OAAhB,CAAyB6P,GAAzB,CAA+B,CAC9B,MAAS1O,IAAI,CAAGA,IAAI,CAAEwH,GAAF,CAApB,CAA+B,CAC9B,GAAKxH,IAAI,CAAC7C,QAAL,GAAkB,CAAlB,EAAuBkU,gBAA5B,CAA+C,CAC9C,MAAO7B,QAAO,CAAExP,IAAF,CAAQnB,OAAR,CAAiB6P,GAAjB,CAAd,CACA,CACD,CACD,MAAO,MAAP,CACA,CATK,CAYN,SAAU1O,IAAV,CAAgBnB,OAAhB,CAAyB6P,GAAzB,CAA+B,CAC9B,GAAI6C,SAAJ,CAAc5C,WAAd,CAA2BC,UAA3B,CACC4C,QAAQ,CAAG,CAAElN,OAAF,CAAWgN,QAAX,CADZ,CAIA,GAAK5C,GAAL,CAAW,CACV,MAAS1O,IAAI,CAAGA,IAAI,CAAEwH,GAAF,CAApB,CAA+B,CAC9B,GAAKxH,IAAI,CAAC7C,QAAL,GAAkB,CAAlB,EAAuBkU,gBAA5B,CAA+C,CAC9C,GAAK7B,OAAO,CAAExP,IAAF,CAAQnB,OAAR,CAAiB6P,GAAjB,CAAZ,CAAqC,CACpC,MAAO,KAAP,CACA,CACD,CACD,CACD,CARD,IAQO,CACN,MAAS1O,IAAI,CAAGA,IAAI,CAAEwH,GAAF,CAApB,CAA+B,CAC9B,GAAKxH,IAAI,CAAC7C,QAAL,GAAkB,CAAlB,EAAuBkU,gBAA5B,CAA+C,CAC9CzC,UAAU,CAAG5O,IAAI,CAAEuB,OAAF,CAAJ,GAAoBvB,IAAI,CAAEuB,OAAF,CAAJ,CAAkB,EAAtC,CAAb,CAIAoN,WAAW,CAAGC,UAAU,CAAE5O,IAAI,CAACkP,QAAP,CAAV,GAAgCN,UAAU,CAAE5O,IAAI,CAACkP,QAAP,CAAV,CAA8B,EAA9D,CAAd,CAEA,GAAKkC,IAAI,EAAIA,IAAI,GAAKpR,IAAI,CAACuH,QAAL,CAAcpE,WAAd,EAAtB,CAAoD,CACnDnD,IAAI,CAAGA,IAAI,CAAEwH,GAAF,CAAJ,EAAexH,IAAtB,CACA,CAFD,IAEO,IAAK,CAACuR,QAAQ,CAAG5C,WAAW,CAAEvF,GAAF,CAAvB,GACXmI,QAAQ,CAAE,CAAF,CAAR,GAAkBjN,OADP,EACkBiN,QAAQ,CAAE,CAAF,CAAR,GAAkBD,QADzC,CACoD,CAG1D,MAAQE,SAAQ,CAAE,CAAF,CAAR,CAAgBD,QAAQ,CAAE,CAAF,CAAhC,CACA,CALM,IAKA,CAEN5C,WAAW,CAAEvF,GAAF,CAAX,CAAqBoI,QAArB,CAGA,GAAMA,QAAQ,CAAE,CAAF,CAAR,CAAgBhC,OAAO,CAAExP,IAAF,CAAQnB,OAAR,CAAiB6P,GAAjB,CAA7B,CAAuD,CACtD,MAAO,KAAP,CACA,CACD,CACD,CACD,CACD,CACD,MAAO,MAAP,CACA,CAtDF,CAuDA,CAED,QAAS+C,eAAT,CAAyBC,QAAzB,CAAoC,CACnC,MAAOA,SAAQ,CAACtS,MAAT,CAAkB,CAAlB,CACN,SAAUY,IAAV,CAAgBnB,OAAhB,CAAyB6P,GAAzB,CAA+B,CAC9B,GAAI5Q,EAAC,CAAG4T,QAAQ,CAACtS,MAAjB,CACA,MAAQtB,CAAC,EAAT,CAAc,CACb,GAAK,CAAC4T,QAAQ,CAAC5T,CAAD,CAAR,CAAakC,IAAb,CAAmBnB,OAAnB,CAA4B6P,GAA5B,CAAN,CAA0C,CACzC,MAAO,MAAP,CACA,CACD,CACD,MAAO,KAAP,CACA,CATK,CAUNgD,QAAQ,CAAC,CAAD,CAVT,CAWA,CAED,QAASC,iBAAT,CAA2B/S,QAA3B,CAAqCgT,QAArC,CAA+CtP,OAA/C,CAAyD,CACxD,GAAIxE,EAAC,CAAG,CAAR,CACCwC,GAAG,CAAGsR,QAAQ,CAACxS,MADhB,CAEA,KAAQtB,CAAC,CAAGwC,GAAZ,CAAiBxC,CAAC,EAAlB,CAAuB,CACtBsF,MAAM,CAAExE,QAAF,CAAYgT,QAAQ,CAAC9T,CAAD,CAApB,CAAyBwE,OAAzB,CAAN,CACA,CACD,MAAOA,QAAP,CACA,CAED,QAASuP,SAAT,CAAmBpC,SAAnB,CAA8B1P,GAA9B,CAAmCwL,MAAnC,CAA2C1M,OAA3C,CAAoD6P,GAApD,CAA0D,CACzD,GAAI1O,KAAJ,CACC8R,YAAY,CAAG,EADhB,CAEChU,CAAC,CAAG,CAFL,CAGCwC,GAAG,CAAGmP,SAAS,CAACrQ,MAHjB,CAMA,KAAQtB,CAAC,CAAGwC,GAAZ,CAAiBxC,CAAC,EAAlB,CAAuB,CACtB,GAAMkC,IAAI,CAAGyP,SAAS,CAAC3R,CAAD,CAAtB,CAA6B,CAC5B,GAAK,CAACyN,MAAD,EAAWA,MAAM,CAAEvL,IAAF,CAAQnB,OAAR,CAAiB6P,GAAjB,CAAtB,CAA+C,CAC9CoD,YAAY,CAACvV,IAAb,CAAmByD,IAAnB,EACA,GANOD,GAAG,EAAI,IAMd,CAAc,CACbA,GAAG,CAACxD,IAAJ,CAAUuB,CAAV,EACA,CACD,CACD,CACD,CAED,MAAOgU,aAAP,CACA,CAED,QAASC,WAAT,CAAqBjE,SAArB,CAAgClP,QAAhC,CAA0C4Q,OAA1C,CAAmDwC,UAAnD,CAA+DC,UAA/D,CAA2EC,YAA3E,CAA0F,CACzF,GAAKF,UAAU,EAAI,CAACA,UAAU,CAAEzQ,OAAF,CAA9B,CAA4C,CAC3CyQ,UAAU,CAAGD,UAAU,CAAEC,UAAF,CAAvB,CACA,CACD,GAAKC,UAAU,EAAI,CAACA,UAAU,CAAE1Q,OAAF,CAA9B,CAA4C,CAC3C0Q,UAAU,CAAGF,UAAU,CAAEE,UAAF,CAAcC,YAAd,CAAvB,CACA,CACD,MAAO3I,aAAY,CAAC,SAAU1B,IAAV,CAAgBvF,OAAhB,CAAyBzD,OAAzB,CAAkC6P,GAAlC,CAAwC,CAC3D,GAAIyD,KAAJ,CAAUrU,CAAV,CAAakC,IAAb,CACCoS,MAAM,CAAG,EADV,CAECC,OAAO,CAAG,EAFX,CAGCC,WAAW,CAAGhQ,OAAO,CAAClD,MAHvB,CAMCK,KAAK,CAAGoI,IAAI,EAAI8J,gBAAgB,CAAE/S,QAAQ,EAAI,GAAd,CAAmBC,OAAO,CAAC1B,QAAR,CAAmB,CAAE0B,OAAF,CAAnB,CAAiCA,OAApD,CAA6D,EAA7D,CANjC,CASC0T,SAAS,CAAGzE,SAAS,GAAMjG,IAAI,EAAI,CAACjJ,QAAf,CAAT,CACXiT,QAAQ,CAAEpS,KAAF,CAAS2S,MAAT,CAAiBtE,SAAjB,CAA4BjP,OAA5B,CAAqC6P,GAArC,CADG,CAEXjP,KAXF,CAaC+S,UAAU,CAAGhD,OAAO,CAEnByC,UAAU,GAAMpK,IAAI,CAAGiG,SAAH,CAAewE,WAAW,EAAIN,UAAxC,CAAV,CAGC,EAHD,CAMC1P,OARkB,CASnBiQ,SAtBF,CAyBA,GAAK/C,OAAL,CAAe,CACdA,OAAO,CAAE+C,SAAF,CAAaC,UAAb,CAAyB3T,OAAzB,CAAkC6P,GAAlC,CAAP,CACA,CAGD,GAAKsD,UAAL,CAAkB,CACjBG,IAAI,CAAGN,QAAQ,CAAEW,UAAF,CAAcH,OAAd,CAAf,CACAL,UAAU,CAAEG,IAAF,CAAQ,EAAR,CAAYtT,OAAZ,CAAqB6P,GAArB,CAAV,CAGA5Q,CAAC,CAAGqU,IAAI,CAAC/S,MAAT,CACA,MAAQtB,CAAC,EAAT,CAAc,CACb,GAAMkC,IAAI,CAAGmS,IAAI,CAACrU,CAAD,CAAjB,CAAwB,CACvB0U,UAAU,CAAEH,OAAO,CAACvU,CAAD,CAAT,CAAV,CAA2B,EAAEyU,SAAS,CAAEF,OAAO,CAACvU,CAAD,CAAT,CAAT,CAA0BkC,IAA5B,CAA3B,CACA,CACD,CACD,CAED,GAAK6H,IAAL,CAAY,CACX,GAAKoK,UAAU,EAAInE,SAAnB,CAA+B,CAC9B,GAAKmE,UAAL,CAAkB,CAEjBE,IAAI,CAAG,EAAP,CACArU,CAAC,CAAG0U,UAAU,CAACpT,MAAf,CACA,MAAQtB,CAAC,EAAT,CAAc,CACb,GAAMkC,IAAI,CAAGwS,UAAU,CAAC1U,CAAD,CAAvB,CAA8B,CAE7BqU,IAAI,CAAC5V,IAAL,CAAYgW,SAAS,CAACzU,CAAD,CAAT,CAAekC,IAA3B,EACA,CACD,CACDiS,UAAU,CAAE,IAAF,CAASO,UAAU,CAAG,EAAtB,CAA2BL,IAA3B,CAAiCzD,GAAjC,CAAV,CACA,CAGD5Q,CAAC,CAAG0U,UAAU,CAACpT,MAAf,CACA,MAAQtB,CAAC,EAAT,CAAc,CACb,GAAK,CAACkC,IAAI,CAAGwS,UAAU,CAAC1U,CAAD,CAAlB,GACJ,CAACqU,IAAI,CAAGF,UAAU,CAAGzV,OAAO,CAAEqL,IAAF,CAAQ7H,IAAR,CAAV,CAA2BoS,MAAM,CAACtU,CAAD,CAAnD,EAA0D,CAAC,CAD5D,CACgE,CAE/D+J,IAAI,CAACsK,IAAD,CAAJ,CAAa,EAAE7P,OAAO,CAAC6P,IAAD,CAAP,CAAgBnS,IAAlB,CAAb,CACA,CACD,CACD,CAGD,CA3BD,IA2BO,CACNwS,UAAU,CAAGX,QAAQ,CACpBW,UAAU,GAAKlQ,OAAf,CACCkQ,UAAU,CAAC9R,MAAX,CAAmB4R,WAAnB,CAAgCE,UAAU,CAACpT,MAA3C,CADD,CAECoT,UAHmB,CAArB,CAKA,GAAKP,UAAL,CAAkB,CACjBA,UAAU,CAAE,IAAF,CAAQ3P,OAAR,CAAiBkQ,UAAjB,CAA6B9D,GAA7B,CAAV,CACA,CAFD,IAEO,CACNnS,IAAI,CAAC0D,KAAL,CAAYqC,OAAZ,CAAqBkQ,UAArB,EACA,CACD,CACD,CAnFkB,CAAnB,CAoFA,CAED,QAASC,kBAAT,CAA4B3B,MAA5B,CAAqC,CACpC,GAAI4B,aAAJ,CAAkBlD,OAAlB,CAA2BjP,CAA3B,CACCD,GAAG,CAAGwQ,MAAM,CAAC1R,MADd,CAECuT,eAAe,CAAGtP,IAAI,CAACwK,QAAL,CAAeiD,MAAM,CAAC,CAAD,CAAN,CAAUxT,IAAzB,CAFnB,CAGCsV,gBAAgB,CAAGD,eAAe,EAAItP,IAAI,CAACwK,QAAL,CAAc,GAAd,CAHvC,CAIC/P,CAAC,CAAG6U,eAAe,CAAG,CAAH,CAAO,CAJ3B,CAOCE,YAAY,CAAGxL,aAAa,CAAE,SAAUrH,IAAV,CAAiB,CAC9C,MAAOA,KAAI,GAAK0S,YAAhB,CACA,CAF2B,CAEzBE,gBAFyB,CAEP,IAFO,CAP7B,CAUCE,eAAe,CAAGzL,aAAa,CAAE,SAAUrH,IAAV,CAAiB,CACjD,MAAOxD,QAAO,CAAEkW,YAAF,CAAgB1S,IAAhB,CAAP,CAAgC,CAAC,CAAxC,CACA,CAF8B,CAE5B4S,gBAF4B,CAEV,IAFU,CAVhC,CAaClB,QAAQ,CAAG,CAAE,SAAU1R,IAAV,CAAgBnB,OAAhB,CAAyB6P,GAAzB,CAA+B,CAC3C,GAAIhP,IAAG,CAAK,CAACiT,eAAD,GAAsBjE,GAAG,EAAI7P,OAAO,GAAK8E,gBAAzC,CAAF,GACT,CAAC+O,YAAY,CAAG7T,OAAhB,EAAyB1B,QAAzB,CACC0V,YAAY,CAAE7S,IAAF,CAAQnB,OAAR,CAAiB6P,GAAjB,CADb,CAECoE,eAAe,CAAE9S,IAAF,CAAQnB,OAAR,CAAiB6P,GAAjB,CAHP,CAAV,CAKAgE,YAAY,CAAG,IAAf,CACA,MAAOhT,IAAP,CACA,CARU,CAbZ,CAuBA,KAAQ5B,CAAC,CAAGwC,GAAZ,CAAiBxC,CAAC,EAAlB,CAAuB,CACtB,GAAM0R,OAAO,CAAGnM,IAAI,CAACwK,QAAL,CAAeiD,MAAM,CAAChT,CAAD,CAAN,CAAUR,IAAzB,CAAhB,CAAmD,CAClDoU,QAAQ,CAAG,CAAErK,aAAa,CAACoK,cAAc,CAAEC,QAAF,CAAf,CAA6BlC,OAA7B,CAAf,CAAX,CACA,CAFD,IAEO,CACNA,OAAO,CAAGnM,IAAI,CAACkI,MAAL,CAAauF,MAAM,CAAChT,CAAD,CAAN,CAAUR,IAAvB,EAA8B2C,KAA9B,CAAqC,IAArC,CAA2C6Q,MAAM,CAAChT,CAAD,CAAN,CAAU8E,OAArD,CAAV,CAGA,GAAK4M,OAAO,CAAEjO,OAAF,CAAZ,CAA0B,CAEzBhB,CAAC,CAAG,EAAEzC,CAAN,CACA,KAAQyC,CAAC,CAAGD,GAAZ,CAAiBC,CAAC,EAAlB,CAAuB,CACtB,GAAK8C,IAAI,CAACwK,QAAL,CAAeiD,MAAM,CAACvQ,CAAD,CAAN,CAAUjD,IAAzB,CAAL,CAAuC,CACtC,MACA,CACD,CACD,MAAOyU,WAAU,CAChBjU,CAAC,CAAG,CAAJ,EAAS2T,cAAc,CAAEC,QAAF,CADP,CAEhB5T,CAAC,CAAG,CAAJ,EAAS8K,UAAU,CAElBkI,MAAM,CAACzU,KAAP,CAAc,CAAd,CAAiByB,CAAC,CAAG,CAArB,EAAyBxB,MAAzB,CAAgC,CAAEwG,KAAK,CAAEgO,MAAM,CAAEhT,CAAC,CAAG,CAAN,CAAN,CAAgBR,IAAhB,GAAyB,GAAzB,CAA+B,GAA/B,CAAqC,EAA9C,CAAhC,CAFkB,CAAV,CAGPoE,OAHO,CAGE1C,KAHF,CAGS,IAHT,CAFO,CAMhBwQ,OANgB,CAOhB1R,CAAC,CAAGyC,CAAJ,EAASkS,iBAAiB,CAAE3B,MAAM,CAACzU,KAAP,CAAcyB,CAAd,CAAiByC,CAAjB,CAAF,CAPV,CAQhBA,CAAC,CAAGD,GAAJ,EAAWmS,iBAAiB,CAAG3B,MAAM,CAAGA,MAAM,CAACzU,KAAP,CAAckE,CAAd,CAAZ,CARZ,CAShBA,CAAC,CAAGD,GAAJ,EAAWsI,UAAU,CAAEkI,MAAF,CATL,CAAjB,CAWA,CACDY,QAAQ,CAACnV,IAAT,CAAeiT,OAAf,EACA,CACD,CAED,MAAOiC,eAAc,CAAEC,QAAF,CAArB,CACA,CAED,QAASqB,yBAAT,CAAmCC,eAAnC,CAAoDC,WAApD,CAAkE,CACjE,GAAIC,MAAK,CAAGD,WAAW,CAAC7T,MAAZ,CAAqB,CAAjC,CACC+T,SAAS,CAAGH,eAAe,CAAC5T,MAAhB,CAAyB,CADtC,CAECgU,YAAY,CAAG,SAAUvL,IAAV,CAAgBhJ,OAAhB,CAAyB6P,GAAzB,CAA8BpM,OAA9B,CAAuC+Q,SAAvC,CAAmD,CACjE,GAAIrT,KAAJ,CAAUO,CAAV,CAAaiP,OAAb,CACC8D,YAAY,CAAG,CADhB,CAECxV,CAAC,CAAG,GAFL,CAGC2R,SAAS,CAAG5H,IAAI,EAAI,EAHrB,CAIC0L,UAAU,CAAG,EAJd,CAKCC,aAAa,CAAG7P,gBALjB,CAOClE,KAAK,CAAGoI,IAAI,EAAIsL,SAAS,EAAI9P,IAAI,CAACoI,IAAL,CAAU,KAAV,EAAkB,GAAlB,CAAuB4H,SAAvB,CAP9B,CASCI,aAAa,CAAInP,OAAO,EAAIkP,aAAa,EAAI,IAAjB,CAAwB,CAAxB,CAA4BhS,IAAI,CAACC,MAAL,IAAiB,GAT1E,CAUCnB,GAAG,CAAGb,KAAK,CAACL,MAVb,CAYA,GAAKiU,SAAL,CAAiB,CAChB1P,gBAAgB,CAAG9E,OAAO,GAAKjD,QAAZ,EAAwBiD,OAAxB,EAAmCwU,SAAtD,CACA,CAKD,KAAQvV,CAAC,GAAKwC,GAAN,EAAa,CAACN,IAAI,CAAGP,KAAK,CAAC3B,CAAD,CAAb,GAAqB,IAA1C,CAAgDA,CAAC,EAAjD,CAAsD,CACrD,GAAKqV,SAAS,EAAInT,IAAlB,CAAyB,CACxBO,CAAC,CAAG,CAAJ,CACA,GAAK,CAAC1B,OAAD,EAAYmB,IAAI,CAACoI,aAAL,GAAuBxM,QAAxC,CAAmD,CAClDkI,WAAW,CAAE9D,IAAF,CAAX,CACA0O,GAAG,CAAG,CAAC1K,cAAP,CACA,CACD,MAASwL,OAAO,CAAGwD,eAAe,CAACzS,CAAC,EAAF,CAAlC,CAA2C,CAC1C,GAAKiP,OAAO,CAAExP,IAAF,CAAQnB,OAAO,EAAIjD,QAAnB,CAA6B8S,GAA7B,CAAZ,CAAgD,CAC/CpM,OAAO,CAAC/F,IAAR,CAAcyD,IAAd,EACA,MACA,CACD,CACD,GAAKqT,SAAL,CAAiB,CAChB/O,OAAO,CAAGmP,aAAV,CACA,CACD,CAGD,GAAKP,KAAL,CAAa,CAEZ,GAAMlT,IAAI,CAAG,CAACwP,OAAD,EAAYxP,IAAzB,CAAiC,CAChCsT,YAAY,GACZ,CAGD,GAAKzL,IAAL,CAAY,CACX4H,SAAS,CAAClT,IAAV,CAAgByD,IAAhB,EACA,CACD,CACD,CAIDsT,YAAY,EAAIxV,CAAhB,CASA,GAAKoV,KAAK,EAAIpV,CAAC,GAAKwV,YAApB,CAAmC,CAClC/S,CAAC,CAAG,CAAJ,CACA,MAASiP,OAAO,CAAGyD,WAAW,CAAC1S,CAAC,EAAF,CAA9B,CAAuC,CACtCiP,OAAO,CAAEC,SAAF,CAAa8D,UAAb,CAAyB1U,OAAzB,CAAkC6P,GAAlC,CAAP,CACA,CAED,GAAK7G,IAAL,CAAY,CAEX,GAAKyL,YAAY,CAAG,CAApB,CAAwB,CACvB,MAAQxV,CAAC,EAAT,CAAc,CACb,GAAK,EAAE2R,SAAS,CAAC3R,CAAD,CAAT,EAAgByV,UAAU,CAACzV,CAAD,CAA5B,CAAL,CAAwC,CACvCyV,UAAU,CAACzV,CAAD,CAAV,CAAgBkH,GAAG,CAACjI,IAAJ,CAAUuF,OAAV,CAAhB,CACA,CACD,CACD,CAGDiR,UAAU,CAAG1B,QAAQ,CAAE0B,UAAF,CAArB,CACA,CAGDhX,IAAI,CAAC0D,KAAL,CAAYqC,OAAZ,CAAqBiR,UAArB,EAGA,GAAKF,SAAS,EAAI,CAACxL,IAAd,EAAsB0L,UAAU,CAACnU,MAAX,CAAoB,CAA1C,EACFkU,YAAY,CAAGL,WAAW,CAAC7T,MAA7B,CAAwC,CADzC,CAC6C,CAE5CgE,MAAM,CAACgK,UAAP,CAAmB9K,OAAnB,EACA,CACD,CAGD,GAAK+Q,SAAL,CAAiB,CAChB/O,OAAO,CAAGmP,aAAV,CACA9P,gBAAgB,CAAG6P,aAAnB,CACA,CAED,MAAO/D,UAAP,CACA,CAvGF,CAyGA,MAAOyD,MAAK,CACX3J,YAAY,CAAE6J,YAAF,CADD,CAEXA,YAFD,CAGA,CAED3P,OAAO,CAAGL,MAAM,CAACK,OAAP,CAAiB,SAAU7E,QAAV,CAAoBoJ,KAApB,CAAoD,CAC9E,GAAIlK,EAAJ,CACCmV,WAAW,CAAG,EADf,CAECD,eAAe,CAAG,EAFnB,CAGC/B,MAAM,CAAGtM,aAAa,CAAE/F,QAAQ,CAAG,GAAb,CAHvB,CAKA,GAAK,CAACqS,MAAN,CAAe,CAEd,GAAK,CAACjJ,KAAN,CAAc,CACbA,KAAK,CAAGxE,QAAQ,CAAE5E,QAAF,CAAhB,CACA,CACDd,CAAC,CAAGkK,KAAK,CAAC5I,MAAV,CACA,MAAQtB,CAAC,EAAT,CAAc,CACbmT,MAAM,CAAGwB,iBAAiB,CAAEzK,KAAK,CAAClK,CAAD,CAAP,CAA1B,CACA,GAAKmT,MAAM,CAAE1P,OAAF,CAAX,CAAyB,CACxB0R,WAAW,CAAC1W,IAAZ,CAAkB0U,MAAlB,EACA,CAFD,IAEO,CACN+B,eAAe,CAACzW,IAAhB,CAAsB0U,MAAtB,EACA,CACD,CAGDA,MAAM,CAAGtM,aAAa,CAAE/F,QAAF,CAAYmU,wBAAwB,CAAEC,eAAF,CAAmBC,WAAnB,CAApC,CAAtB,CAGAhC,MAAM,CAACrS,QAAP,CAAkBA,QAAlB,CACA,CACD,MAAOqS,OAAP,CACA,CA5BD,CAuCAvN,MAAM,CAAGN,MAAM,CAACM,MAAP,CAAgB,SAAU9E,QAAV,CAAoBC,OAApB,CAA6ByD,OAA7B,CAAsCuF,IAAtC,CAA6C,CACrE,GAAI/J,EAAJ,CAAOgT,MAAP,CAAe4C,KAAf,CAAsBpW,IAAtB,CAA4BmO,IAA5B,CACCkI,QAAQ,CAAG,MAAO/U,SAAP,GAAoB,UAApB,EAAkCA,QAD9C,CAECoJ,KAAK,CAAG,CAACH,IAAD,EAASrE,QAAQ,CAAG5E,QAAQ,CAAG+U,QAAQ,CAAC/U,QAAT,EAAqBA,QAAnC,CAF1B,CAIA0D,OAAO,CAAGA,OAAO,EAAI,EAArB,CAIA,GAAK0F,KAAK,CAAC5I,MAAN,GAAiB,CAAtB,CAA0B,CAGzB0R,MAAM,CAAG9I,KAAK,CAAC,CAAD,CAAL,CAAWA,KAAK,CAAC,CAAD,CAAL,CAAS3L,KAAT,CAAgB,CAAhB,CAApB,CACA,GAAKyU,MAAM,CAAC1R,MAAP,CAAgB,CAAhB,EAAqB,CAACsU,KAAK,CAAG5C,MAAM,CAAC,CAAD,CAAf,EAAoBxT,IAApB,GAA6B,IAAlD,EACHuB,OAAO,CAAC1B,QAAR,GAAqB,CADlB,EACuB6G,cADvB,EACyCX,IAAI,CAACwK,QAAL,CAAeiD,MAAM,CAAC,CAAD,CAAN,CAAUxT,IAAzB,CAD9C,CACgF,CAE/EuB,OAAO,CAAG,CAAEwE,IAAI,CAACoI,IAAL,CAAU,IAAV,EAAiBiI,KAAK,CAAC9Q,OAAN,CAAc,CAAd,EAAiBlB,OAAjB,CAAyB4E,SAAzB,CAAoCC,SAApC,CAAjB,CAAiE1H,OAAjE,GAA8E,EAAhF,EAAqF,CAArF,CAAV,CACA,GAAK,CAACA,OAAN,CAAgB,CACf,MAAOyD,QAAP,CAGA,CAJD,IAIO,IAAKqR,QAAL,CAAgB,CACtB9U,OAAO,CAAGA,OAAO,CAACN,UAAlB,CACA,CAEDK,QAAQ,CAAGA,QAAQ,CAACvC,KAAT,CAAgByU,MAAM,CAACxH,KAAP,GAAexG,KAAf,CAAqB1D,MAArC,CAAX,CACA,CAGDtB,CAAC,CAAGiI,SAAS,CAAC,cAAD,CAAT,CAA0B4C,IAA1B,CAAgC/J,QAAhC,EAA6C,CAA7C,CAAiDkS,MAAM,CAAC1R,MAA5D,CACA,MAAQtB,CAAC,EAAT,CAAc,CACb4V,KAAK,CAAG5C,MAAM,CAAChT,CAAD,CAAd,CAGA,GAAKuF,IAAI,CAACwK,QAAL,CAAgBvQ,IAAI,CAAGoW,KAAK,CAACpW,IAA7B,CAAL,CAA4C,CAC3C,MACA,CACD,GAAMmO,IAAI,CAAGpI,IAAI,CAACoI,IAAL,CAAWnO,IAAX,CAAb,CAAkC,CAEjC,GAAMuK,IAAI,CAAG4D,IAAI,CAChBiI,KAAK,CAAC9Q,OAAN,CAAc,CAAd,EAAiBlB,OAAjB,CAA0B4E,SAA1B,CAAqCC,SAArC,CADgB,CAEhBF,QAAQ,CAACsC,IAAT,CAAemI,MAAM,CAAC,CAAD,CAAN,CAAUxT,IAAzB,GAAmCwL,WAAW,CAAEjK,OAAO,CAACN,UAAV,CAA9C,EAAwEM,OAFxD,CAAjB,CAGK,CAGJiS,MAAM,CAACpQ,MAAP,CAAe5C,CAAf,CAAkB,CAAlB,EACAc,QAAQ,CAAGiJ,IAAI,CAACzI,MAAL,EAAewJ,UAAU,CAAEkI,MAAF,CAApC,CACA,GAAK,CAAClS,QAAN,CAAiB,CAChBrC,IAAI,CAAC0D,KAAL,CAAYqC,OAAZ,CAAqBuF,IAArB,EACA,MAAOvF,QAAP,CACA,CAED,MACA,CACD,CACD,CACD,CAID,CAAEqR,QAAQ,EAAIlQ,OAAO,CAAE7E,QAAF,CAAYoJ,KAAZ,CAArB,EACCH,IADD,CAEChJ,OAFD,CAGC,CAACmF,cAHF,CAIC1B,OAJD,CAKC,CAACzD,OAAD,EAAYwH,QAAQ,CAACsC,IAAT,CAAe/J,QAAf,GAA6BkK,WAAW,CAAEjK,OAAO,CAACN,UAAV,CAApD,EAA8EM,OAL/E,EAOA,MAAOyD,QAAP,CACA,CApED,CAyEAtF,OAAO,CAACuQ,UAAR,CAAqBhM,OAAO,CAAC2B,KAAR,CAAc,EAAd,EAAkBzC,IAAlB,CAAwBoE,SAAxB,EAAoCgE,IAApC,CAAyC,EAAzC,IAAiDtH,OAAtE,CAIAvE,OAAO,CAACsQ,gBAAR,CAA2B,CAAC,CAACzJ,YAA7B,CAGAC,WAAW,GAIX9G,OAAO,CAACyP,YAAR,CAAuBjD,MAAM,CAAC,SAAUC,EAAV,CAAe,CAE5C,MAAOA,GAAE,CAAC4C,uBAAH,CAA4BzQ,QAAQ,CAACqC,aAAT,CAAuB,UAAvB,CAA5B,EAAmE,CAA1E,CACA,CAH4B,CAA7B,CAQA,GAAK,CAACuL,MAAM,CAAC,SAAUC,EAAV,CAAe,CAC3BA,EAAE,CAACoC,SAAH,CAAe,kBAAf,CACA,MAAOpC,GAAE,CAACgE,UAAH,CAActP,YAAd,CAA2B,MAA3B,IAAuC,GAA9C,CACA,CAHW,CAAZ,CAGK,CACJuL,SAAS,CAAE,wBAAF,CAA4B,SAAU1J,IAAV,CAAgBa,IAAhB,CAAsB0C,KAAtB,CAA8B,CAClE,GAAK,CAACA,KAAN,CAAc,CACb,MAAOvD,KAAI,CAAC7B,YAAL,CAAmB0C,IAAnB,CAAyBA,IAAI,CAACsC,WAAL,KAAuB,MAAvB,CAAgC,CAAhC,CAAoC,CAA7D,CAAP,CACA,CACD,CAJQ,CAAT,CAKA,CAID,GAAK,CAACnG,OAAO,CAACsI,UAAT,EAAuB,CAACkE,MAAM,CAAC,SAAUC,EAAV,CAAe,CAClDA,EAAE,CAACoC,SAAH,CAAe,UAAf,CACApC,EAAE,CAACgE,UAAH,CAAcrP,YAAd,CAA4B,OAA5B,CAAqC,EAArC,EACA,MAAOqL,GAAE,CAACgE,UAAH,CAActP,YAAd,CAA4B,OAA5B,IAA0C,EAAjD,CACA,CAJkC,CAAnC,CAIK,CACJuL,SAAS,CAAE,OAAF,CAAW,SAAU1J,IAAV,CAAgBa,IAAhB,CAAsB0C,KAAtB,CAA8B,CACjD,GAAK,CAACA,KAAD,EAAUvD,IAAI,CAACuH,QAAL,CAAcpE,WAAd,KAAgC,OAA/C,CAAyD,CACxD,MAAOnD,KAAI,CAAC4T,YAAZ,CACA,CACD,CAJQ,CAAT,CAKA,CAID,GAAK,CAACpK,MAAM,CAAC,SAAUC,EAAV,CAAe,CAC3B,MAAOA,GAAE,CAACtL,YAAH,CAAgB,UAAhB,GAA+B,IAAtC,CACA,CAFW,CAAZ,CAEK,CACJuL,SAAS,CAAEvE,QAAF,CAAY,SAAUnF,IAAV,CAAgBa,IAAhB,CAAsB0C,KAAtB,CAA8B,CAClD,GAAIxF,IAAJ,CACA,GAAK,CAACwF,KAAN,CAAc,CACb,MAAOvD,KAAI,CAAEa,IAAF,CAAJ,GAAiB,IAAjB,CAAwBA,IAAI,CAACsC,WAAL,EAAxB,CACL,CAACpF,GAAG,CAAGiC,IAAI,CAAC0L,gBAAL,CAAuB7K,IAAvB,CAAP,GAAyC9C,GAAG,CAACkP,SAA7C,CACAlP,GAAG,CAAC+E,KADJ,CAED,IAHD,CAIA,CACD,CARQ,CAAT,CASA,CAED,MAAOM,OAAP,CAEC,CA5sED,CA4sEIrH,MA5sEJ,CAXA,CA2tEA4C,MAAM,CAAC8M,IAAP,CAAcrI,MAAd,CACAzE,MAAM,CAACmO,IAAP,CAAc1J,MAAM,CAACuK,SAArB,CAGAhP,MAAM,CAACmO,IAAP,CAAa,GAAb,EAAqBnO,MAAM,CAACmO,IAAP,CAAYvH,OAAjC,CACA5G,MAAM,CAACyO,UAAP,CAAoBzO,MAAM,CAACkV,MAAP,CAAgBzQ,MAAM,CAACgK,UAA3C,CACAzO,MAAM,CAACT,IAAP,CAAckF,MAAM,CAACE,OAArB,CACA3E,MAAM,CAACmV,QAAP,CAAkB1Q,MAAM,CAACG,KAAzB,CACA5E,MAAM,CAACwF,QAAP,CAAkBf,MAAM,CAACe,QAAzB,CACAxF,MAAM,CAACoV,cAAP,CAAwB3Q,MAAM,CAAC8J,MAA/B,CAKA,GAAI1F,IAAG,CAAG,SAAUxH,IAAV,CAAgBwH,GAAhB,CAAqBwM,KAArB,CAA6B,CACtC,GAAIzE,QAAO,CAAG,EAAd,CACC0E,QAAQ,CAAGD,KAAK,GAAK1S,SADtB,CAGA,MAAQ,CAAEtB,IAAI,CAAGA,IAAI,CAAEwH,GAAF,CAAb,GAA0BxH,IAAI,CAAC7C,QAAL,GAAkB,CAApD,CAAwD,CACvD,GAAK6C,IAAI,CAAC7C,QAAL,GAAkB,CAAvB,CAA2B,CAC1B,GAAK8W,QAAQ,EAAItV,MAAM,CAAEqB,IAAF,CAAN,CAAekU,EAAf,CAAmBF,KAAnB,CAAjB,CAA8C,CAC7C,MACA,CACDzE,OAAO,CAAChT,IAAR,CAAcyD,IAAd,EACA,CACD,CACD,MAAOuP,QAAP,CACA,CAbD,CAgBA,GAAI4E,SAAQ,CAAG,SAAUC,CAAV,CAAapU,IAAb,CAAoB,CAClC,GAAIuP,QAAO,CAAG,EAAd,CAEA,KAAQ6E,CAAR,CAAWA,CAAC,CAAGA,CAAC,CAAClK,WAAjB,CAA+B,CAC9B,GAAKkK,CAAC,CAACjX,QAAF,GAAe,CAAf,EAAoBiX,CAAC,GAAKpU,IAA/B,CAAsC,CACrCuP,OAAO,CAAChT,IAAR,CAAc6X,CAAd,EACA,CACD,CAED,MAAO7E,QAAP,CACA,CAVD,CAaA,GAAI8E,cAAa,CAAG1V,MAAM,CAACmO,IAAP,CAAY9E,KAAZ,CAAkBsM,YAAtC,CAIA,QAAS/M,SAAT,CAAmBvH,IAAnB,CAAyBa,IAAzB,CAAgC,CAE9B,MAAOb,KAAI,CAACuH,QAAL,EAAiBvH,IAAI,CAACuH,QAAL,CAAcpE,WAAd,KAAgCtC,IAAI,CAACsC,WAAL,EAAxD,CAED,CACD,GAAIoR,WAAU,CAAK,iEAAnB,CAKA,QAASC,OAAT,CAAiBzH,QAAjB,CAA2B0H,SAA3B,CAAsCC,GAAtC,CAA4C,CAC3C,GAAKzX,UAAU,CAAEwX,SAAF,CAAf,CAA+B,CAC9B,MAAO9V,OAAM,CAAC8D,IAAP,CAAasK,QAAb,CAAuB,SAAU/M,IAAV,CAAgBlC,CAAhB,CAAoB,CACjD,MAAO,CAAC,CAAC2W,SAAS,CAAC1X,IAAV,CAAgBiD,IAAhB,CAAsBlC,CAAtB,CAAyBkC,IAAzB,CAAF,GAAsC0U,GAA7C,CACA,CAFM,CAAP,CAGA,CAGD,GAAKD,SAAS,CAACtX,QAAf,CAA0B,CACzB,MAAOwB,OAAM,CAAC8D,IAAP,CAAasK,QAAb,CAAuB,SAAU/M,IAAV,CAAiB,CAC9C,MAASA,KAAI,GAAKyU,SAAX,GAA2BC,GAAlC,CACA,CAFM,CAAP,CAGA,CAGD,GAAK,MAAOD,UAAP,GAAqB,QAA1B,CAAqC,CACpC,MAAO9V,OAAM,CAAC8D,IAAP,CAAasK,QAAb,CAAuB,SAAU/M,IAAV,CAAiB,CAC9C,MAASxD,QAAO,CAACO,IAAR,CAAc0X,SAAd,CAAyBzU,IAAzB,EAAkC,CAAC,CAArC,GAA6C0U,GAApD,CACA,CAFM,CAAP,CAGA,CAGD,MAAO/V,OAAM,CAAC4M,MAAP,CAAekJ,SAAf,CAA0B1H,QAA1B,CAAoC2H,GAApC,CAAP,CACA,CAED/V,MAAM,CAAC4M,MAAP,CAAgB,SAAUuB,IAAV,CAAgBrN,KAAhB,CAAuBiV,GAAvB,CAA6B,CAC5C,GAAI1U,KAAI,CAAGP,KAAK,CAAE,CAAF,CAAhB,CAEA,GAAKiV,GAAL,CAAW,CACV5H,IAAI,CAAG,QAAUA,IAAV,CAAiB,GAAxB,CACA,CAED,GAAKrN,KAAK,CAACL,MAAN,GAAiB,CAAjB,EAAsBY,IAAI,CAAC7C,QAAL,GAAkB,CAA7C,CAAiD,CAChD,MAAOwB,OAAM,CAAC8M,IAAP,CAAYM,eAAZ,CAA6B/L,IAA7B,CAAmC8M,IAAnC,EAA4C,CAAE9M,IAAF,CAA5C,CAAuD,EAA9D,CACA,CAED,MAAOrB,OAAM,CAAC8M,IAAP,CAAY7I,OAAZ,CAAqBkK,IAArB,CAA2BnO,MAAM,CAAC8D,IAAP,CAAahD,KAAb,CAAoB,SAAUO,IAAV,CAAiB,CACtE,MAAOA,KAAI,CAAC7C,QAAL,GAAkB,CAAzB,CACA,CAFiC,CAA3B,CAAP,CAGA,CAdD,CAgBAwB,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjB8K,IAAI,CAAE,SAAU7M,QAAV,CAAqB,CAC1B,GAAId,EAAJ,CAAO4B,GAAP,CACCY,GAAG,CAAG,KAAKlB,MADZ,CAECuV,IAAI,CAAG,IAFR,CAIA,GAAK,MAAO/V,SAAP,GAAoB,QAAzB,CAAoC,CACnC,MAAO,MAAKY,SAAL,CAAgBb,MAAM,CAAEC,QAAF,CAAN,CAAmB2M,MAAnB,CAA2B,UAAW,CAC5D,IAAMzN,CAAC,CAAG,CAAV,CAAaA,CAAC,CAAGwC,GAAjB,CAAsBxC,CAAC,EAAvB,CAA4B,CAC3B,GAAKa,MAAM,CAACwF,QAAP,CAAiBwQ,IAAI,CAAE7W,CAAF,CAArB,CAA4B,IAA5B,CAAL,CAA0C,CACzC,MAAO,KAAP,CACA,CACD,CACD,CANsB,CAAhB,CAAP,CAOA,CAED4B,GAAG,CAAG,KAAKF,SAAL,CAAgB,EAAhB,CAAN,CAEA,IAAM1B,CAAC,CAAG,CAAV,CAAaA,CAAC,CAAGwC,GAAjB,CAAsBxC,CAAC,EAAvB,CAA4B,CAC3Ba,MAAM,CAAC8M,IAAP,CAAa7M,QAAb,CAAuB+V,IAAI,CAAE7W,CAAF,CAA3B,CAAkC4B,GAAlC,EACA,CAED,MAAOY,IAAG,CAAG,CAAN,CAAU3B,MAAM,CAACyO,UAAP,CAAmB1N,GAAnB,CAAV,CAAqCA,GAA5C,CACA,CAvBgB,CAwBjB6L,MAAM,CAAE,SAAU3M,QAAV,CAAqB,CAC5B,MAAO,MAAKY,SAAL,CAAgBgV,MAAM,CAAE,IAAF,CAAQ5V,QAAQ,EAAI,EAApB,CAAwB,KAAxB,CAAtB,CAAP,CACA,CA1BgB,CA2BjB8V,GAAG,CAAE,SAAU9V,QAAV,CAAqB,CACzB,MAAO,MAAKY,SAAL,CAAgBgV,MAAM,CAAE,IAAF,CAAQ5V,QAAQ,EAAI,EAApB,CAAwB,IAAxB,CAAtB,CAAP,CACA,CA7BgB,CA8BjBsV,EAAE,CAAE,SAAUtV,QAAV,CAAqB,CACxB,MAAO,CAAC,CAAC4V,MAAM,CACd,IADc,CAKd,MAAO5V,SAAP,GAAoB,QAApB,EAAgCyV,aAAa,CAAC1L,IAAd,CAAoB/J,QAApB,CAAhC,CACCD,MAAM,CAAEC,QAAF,CADP,CAECA,QAAQ,EAAI,EAPC,CAQd,KARc,CAAN,CASPQ,MATF,CAUA,CAzCgB,CAAlB,EAiDA,GAAIwV,WAAJ,CAMCxO,UAAU,CAAG,qCANd,CAQCrH,IAAI,CAAGJ,MAAM,CAACG,EAAP,CAAUC,IAAV,CAAiB,SAAUH,QAAV,CAAoBC,OAApB,CAA6BgW,IAA7B,CAAoC,CAC3D,GAAI7M,MAAJ,CAAWhI,IAAX,CAGA,GAAK,CAACpB,QAAN,CAAiB,CAChB,MAAO,KAAP,CACA,CAIDiW,IAAI,CAAGA,IAAI,EAAID,UAAf,CAGA,GAAK,MAAOhW,SAAP,GAAoB,QAAzB,CAAoC,CACnC,GAAKA,QAAQ,CAAE,CAAF,CAAR,GAAkB,GAAlB,EACJA,QAAQ,CAAEA,QAAQ,CAACQ,MAAT,CAAkB,CAApB,CAAR,GAAoC,GADhC,EAEJR,QAAQ,CAACQ,MAAT,EAAmB,CAFpB,CAEwB,CAGvB4I,KAAK,CAAG,CAAE,IAAF,CAAQpJ,QAAR,CAAkB,IAAlB,CAAR,CAEA,CAPD,IAOO,CACNoJ,KAAK,CAAG5B,UAAU,CAACiC,IAAX,CAAiBzJ,QAAjB,CAAR,CACA,CAGD,GAAKoJ,KAAK,GAAMA,KAAK,CAAE,CAAF,CAAL,EAAc,CAACnJ,OAArB,CAAV,CAA2C,CAG1C,GAAKmJ,KAAK,CAAE,CAAF,CAAV,CAAkB,CACjBnJ,OAAO,CAAGA,OAAO,WAAYF,OAAnB,CAA4BE,OAAO,CAAE,CAAF,CAAnC,CAA2CA,OAArD,CAIAF,MAAM,CAACgB,KAAP,CAAc,IAAd,CAAoBhB,MAAM,CAACmW,SAAP,CACnB9M,KAAK,CAAE,CAAF,CADc,CAEnBnJ,OAAO,EAAIA,OAAO,CAAC1B,QAAnB,CAA8B0B,OAAO,CAACuJ,aAAR,EAAyBvJ,OAAvD,CAAiEjD,QAF9C,CAGnB,IAHmB,CAApB,EAOA,GAAK2Y,UAAU,CAAC5L,IAAX,CAAiBX,KAAK,CAAE,CAAF,CAAtB,GAAiCrJ,MAAM,CAACwC,aAAP,CAAsBtC,OAAtB,CAAtC,CAAwE,CACvE,IAAMmJ,KAAN,GAAenJ,QAAf,CAAyB,CAGxB,GAAK5B,UAAU,CAAE,KAAM+K,KAAN,CAAF,CAAf,CAAmC,CAClC,KAAMA,KAAN,EAAenJ,OAAO,CAAEmJ,KAAF,CAAtB,EAGA,CAJD,IAIO,CACN,KAAKgF,IAAL,CAAWhF,KAAX,CAAkBnJ,OAAO,CAAEmJ,KAAF,CAAzB,EACA,CACD,CACD,CAED,MAAO,KAAP,CAGA,CA7BD,IA6BO,CACNhI,IAAI,CAAGpE,QAAQ,CAAC0M,cAAT,CAAyBN,KAAK,CAAE,CAAF,CAA9B,CAAP,CAEA,GAAKhI,IAAL,CAAY,CAGX,KAAM,CAAN,EAAYA,IAAZ,CACA,KAAKZ,MAAL,CAAc,CAAd,CACA,CACD,MAAO,KAAP,CACA,CAGD,CA7CD,IA6CO,IAAK,CAACP,OAAD,EAAYA,OAAO,CAACK,MAAzB,CAAkC,CACxC,MAAO,CAAEL,OAAO,EAAIgW,IAAb,EAAoBpJ,IAApB,CAA0B7M,QAA1B,CAAP,CAIA,CALM,IAKA,CACN,MAAO,MAAKO,WAAL,CAAkBN,OAAlB,EAA4B4M,IAA5B,CAAkC7M,QAAlC,CAAP,CACA,CAGD,CApED,IAoEO,IAAKA,QAAQ,CAACzB,QAAd,CAAyB,CAC/B,KAAM,CAAN,EAAYyB,QAAZ,CACA,KAAKQ,MAAL,CAAc,CAAd,CACA,MAAO,KAAP,CAIA,CAPM,IAOA,IAAKnC,UAAU,CAAE2B,QAAF,CAAf,CAA8B,CACpC,MAAOiW,KAAI,CAACE,KAAL,GAAezT,SAAf,CACNuT,IAAI,CAACE,KAAL,CAAYnW,QAAZ,CADM,CAINA,QAAQ,CAAED,MAAF,CAJT,CAKA,CAED,MAAOA,OAAM,CAAC0D,SAAP,CAAkBzD,QAAlB,CAA4B,IAA5B,CAAP,CACA,CAzGF,CA4GAG,IAAI,CAACE,SAAL,CAAiBN,MAAM,CAACG,EAAxB,CAGA8V,UAAU,CAAGjW,MAAM,CAAE/C,QAAF,CAAnB,CAGA,GAAIoZ,aAAY,CAAG,gCAAnB,CAGCC,gBAAgB,CAAG,CAClBC,QAAQ,CAAE,IADQ,CAElBC,QAAQ,CAAE,IAFQ,CAGlB1N,IAAI,CAAE,IAHY,CAIlB2N,IAAI,CAAE,IAJY,CAHpB,CAUAzW,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjB0U,GAAG,CAAE,SAAUpU,MAAV,CAAmB,CACvB,GAAIqU,QAAO,CAAG3W,MAAM,CAAEsC,MAAF,CAAU,IAAV,CAApB,CACCsU,CAAC,CAAGD,OAAO,CAAClW,MADb,CAGA,MAAO,MAAKmM,MAAL,CAAa,UAAW,CAC9B,GAAIzN,EAAC,CAAG,CAAR,CACA,KAAQA,CAAC,CAAGyX,CAAZ,CAAezX,CAAC,EAAhB,CAAqB,CACpB,GAAKa,MAAM,CAACwF,QAAP,CAAiB,IAAjB,CAAuBmR,OAAO,CAAExX,CAAF,CAA9B,CAAL,CAA6C,CAC5C,MAAO,KAAP,CACA,CACD,CACD,CAPM,CAAP,CAQA,CAbgB,CAejB0X,OAAO,CAAE,SAAU7H,SAAV,CAAqB9O,OAArB,CAA+B,CACvC,GAAIkL,IAAJ,CACCjM,CAAC,CAAG,CADL,CAECyX,CAAC,CAAG,KAAKnW,MAFV,CAGCmQ,OAAO,CAAG,EAHX,CAIC+F,OAAO,CAAG,MAAO3H,UAAP,GAAqB,QAArB,EAAiChP,MAAM,CAAEgP,SAAF,CAJlD,CAOA,GAAK,CAAC0G,aAAa,CAAC1L,IAAd,CAAoBgF,SAApB,CAAN,CAAwC,CACvC,KAAQ7P,CAAC,CAAGyX,CAAZ,CAAezX,CAAC,EAAhB,CAAqB,CACpB,IAAMiM,GAAG,CAAG,KAAMjM,CAAN,CAAZ,CAAuBiM,GAAG,EAAIA,GAAG,GAAKlL,OAAtC,CAA+CkL,GAAG,CAAGA,GAAG,CAACxL,UAAzD,CAAsE,CAGrE,GAAKwL,GAAG,CAAC5M,QAAJ,CAAe,EAAf,GAAuBmY,OAAO,CAClCA,OAAO,CAACG,KAAR,CAAe1L,GAAf,EAAuB,CAAC,CADU,CAIlCA,GAAG,CAAC5M,QAAJ,GAAiB,CAAjB,EACCwB,MAAM,CAAC8M,IAAP,CAAYM,eAAZ,CAA6BhC,GAA7B,CAAkC4D,SAAlC,CALG,CAAL,CAKoD,CAEnD4B,OAAO,CAAChT,IAAR,CAAcwN,GAAd,EACA,MACA,CACD,CACD,CACD,CAED,MAAO,MAAKvK,SAAL,CAAgB+P,OAAO,CAACnQ,MAAR,CAAiB,CAAjB,CAAqBT,MAAM,CAACyO,UAAP,CAAmBmC,OAAnB,CAArB,CAAoDA,OAApE,CAAP,CACA,CA3CgB,CA8CjBkG,KAAK,CAAE,SAAUzV,IAAV,CAAiB,CAGvB,GAAK,CAACA,IAAN,CAAa,CACZ,MAAS,MAAM,CAAN,GAAa,KAAM,CAAN,EAAUzB,UAAzB,CAAwC,KAAK4B,KAAL,GAAauV,OAAb,GAAuBtW,MAA/D,CAAwE,CAAC,CAAhF,CACA,CAGD,GAAK,MAAOY,KAAP,GAAgB,QAArB,CAAgC,CAC/B,MAAOxD,QAAO,CAACO,IAAR,CAAc4B,MAAM,CAAEqB,IAAF,CAApB,CAA8B,KAAM,CAAN,CAA9B,CAAP,CACA,CAGD,MAAOxD,QAAO,CAACO,IAAR,CAAc,IAAd,CAGNiD,IAAI,CAACd,MAAL,CAAcc,IAAI,CAAE,CAAF,CAAlB,CAA0BA,IAHpB,CAAP,CAKA,CAhEgB,CAkEjB2V,GAAG,CAAE,SAAU/W,QAAV,CAAoBC,OAApB,CAA8B,CAClC,MAAO,MAAKW,SAAL,CACNb,MAAM,CAACyO,UAAP,CACCzO,MAAM,CAACgB,KAAP,CAAc,KAAKL,GAAL,EAAd,CAA0BX,MAAM,CAAEC,QAAF,CAAYC,OAAZ,CAAhC,CADD,CADM,CAAP,CAKA,CAxEgB,CA0EjB+W,OAAO,CAAE,SAAUhX,QAAV,CAAqB,CAC7B,MAAO,MAAK+W,GAAL,CAAU/W,QAAQ,EAAI,IAAZ,CAChB,KAAKgB,UADW,CACE,KAAKA,UAAL,CAAgB2L,MAAhB,CAAwB3M,QAAxB,CADZ,CAAP,CAGA,CA9EgB,CAAlB,EAiFA,QAASiX,QAAT,CAAkB9L,GAAlB,CAAuBvC,GAAvB,CAA6B,CAC5B,MAAQ,CAAEuC,GAAG,CAAGA,GAAG,CAAEvC,GAAF,CAAX,GAAwBuC,GAAG,CAAC5M,QAAJ,GAAiB,CAAjD,CAAqD,CAAE,CACvD,MAAO4M,IAAP,CACA,CAEDpL,MAAM,CAACkB,IAAP,CAAa,CACZkP,MAAM,CAAE,SAAU/O,IAAV,CAAiB,CACxB,GAAI+O,OAAM,CAAG/O,IAAI,CAACzB,UAAlB,CACA,MAAOwQ,OAAM,EAAIA,MAAM,CAAC5R,QAAP,GAAoB,EAA9B,CAAmC4R,MAAnC,CAA4C,IAAnD,CACA,CAJW,CAKZ+G,OAAO,CAAE,SAAU9V,IAAV,CAAiB,CACzB,MAAOwH,IAAG,CAAExH,IAAF,CAAQ,YAAR,CAAV,CACA,CAPW,CAQZ+V,YAAY,CAAE,SAAU/V,IAAV,CAAgBlC,CAAhB,CAAmBkW,KAAnB,CAA2B,CACxC,MAAOxM,IAAG,CAAExH,IAAF,CAAQ,YAAR,CAAsBgU,KAAtB,CAAV,CACA,CAVW,CAWZvM,IAAI,CAAE,SAAUzH,IAAV,CAAiB,CACtB,MAAO6V,QAAO,CAAE7V,IAAF,CAAQ,aAAR,CAAd,CACA,CAbW,CAcZoV,IAAI,CAAE,SAAUpV,IAAV,CAAiB,CACtB,MAAO6V,QAAO,CAAE7V,IAAF,CAAQ,iBAAR,CAAd,CACA,CAhBW,CAiBZgW,OAAO,CAAE,SAAUhW,IAAV,CAAiB,CACzB,MAAOwH,IAAG,CAAExH,IAAF,CAAQ,aAAR,CAAV,CACA,CAnBW,CAoBZ0V,OAAO,CAAE,SAAU1V,IAAV,CAAiB,CACzB,MAAOwH,IAAG,CAAExH,IAAF,CAAQ,iBAAR,CAAV,CACA,CAtBW,CAuBZiW,SAAS,CAAE,SAAUjW,IAAV,CAAgBlC,CAAhB,CAAmBkW,KAAnB,CAA2B,CACrC,MAAOxM,IAAG,CAAExH,IAAF,CAAQ,aAAR,CAAuBgU,KAAvB,CAAV,CACA,CAzBW,CA0BZkC,SAAS,CAAE,SAAUlW,IAAV,CAAgBlC,CAAhB,CAAmBkW,KAAnB,CAA2B,CACrC,MAAOxM,IAAG,CAAExH,IAAF,CAAQ,iBAAR,CAA2BgU,KAA3B,CAAV,CACA,CA5BW,CA6BZG,QAAQ,CAAE,SAAUnU,IAAV,CAAiB,CAC1B,MAAOmU,SAAQ,CAAE,CAAEnU,IAAI,CAACzB,UAAL,EAAmB,EAArB,EAA0BkP,UAA5B,CAAwCzN,IAAxC,CAAf,CACA,CA/BW,CAgCZkV,QAAQ,CAAE,SAAUlV,IAAV,CAAiB,CAC1B,MAAOmU,SAAQ,CAAEnU,IAAI,CAACyN,UAAP,CAAf,CACA,CAlCW,CAmCZ0H,QAAQ,CAAE,SAAUnV,IAAV,CAAiB,CAC1B,GAAK,MAAOA,KAAI,CAACmW,eAAZ,GAAgC,WAArC,CAAmD,CAClD,MAAOnW,KAAI,CAACmW,eAAZ,CACA,CAKD,GAAK5O,QAAQ,CAAEvH,IAAF,CAAQ,UAAR,CAAb,CAAoC,CACnCA,IAAI,CAAGA,IAAI,CAACoW,OAAL,EAAgBpW,IAAvB,CACA,CAED,MAAOrB,OAAM,CAACgB,KAAP,CAAc,EAAd,CAAkBK,IAAI,CAAC0H,UAAvB,CAAP,CACA,CAhDW,CAAb,CAiDG,SAAU7G,IAAV,CAAgB/B,EAAhB,CAAqB,CACvBH,MAAM,CAACG,EAAP,CAAW+B,IAAX,EAAoB,SAAUmT,KAAV,CAAiBpV,QAAjB,CAA4B,CAC/C,GAAI2Q,QAAO,CAAG5Q,MAAM,CAACoB,GAAP,CAAY,IAAZ,CAAkBjB,EAAlB,CAAsBkV,KAAtB,CAAd,CAEA,GAAKnT,IAAI,CAACxE,KAAL,CAAY,CAAC,CAAb,IAAqB,OAA1B,CAAoC,CACnCuC,QAAQ,CAAGoV,KAAX,CACA,CAED,GAAKpV,QAAQ,EAAI,MAAOA,SAAP,GAAoB,QAArC,CAAgD,CAC/C2Q,OAAO,CAAG5Q,MAAM,CAAC4M,MAAP,CAAe3M,QAAf,CAAyB2Q,OAAzB,CAAV,CACA,CAED,GAAK,KAAKnQ,MAAL,CAAc,CAAnB,CAAuB,CAGtB,GAAK,CAAC6V,gBAAgB,CAAEpU,IAAF,CAAtB,CAAiC,CAChClC,MAAM,CAACyO,UAAP,CAAmBmC,OAAnB,EACA,CAGD,GAAKyF,YAAY,CAACrM,IAAb,CAAmB9H,IAAnB,CAAL,CAAiC,CAChC0O,OAAO,CAAC8G,OAAR,GACA,CACD,CAED,MAAO,MAAK7W,SAAL,CAAgB+P,OAAhB,CAAP,CACA,CAzBD,CA0BA,CA5ED,EA6EA,GAAI+G,cAAa,CAAK,mBAAtB,CAKA,QAASC,cAAT,CAAwB3V,OAAxB,CAAkC,CACjC,GAAI4V,OAAM,CAAG,EAAb,CACA7X,MAAM,CAACkB,IAAP,CAAae,OAAO,CAACoH,KAAR,CAAesO,aAAf,GAAkC,EAA/C,CAAmD,SAAU9P,CAAV,CAAaiQ,IAAb,CAAoB,CACtED,MAAM,CAAEC,IAAF,CAAN,CAAiB,IAAjB,CACA,CAFD,EAGA,MAAOD,OAAP,CACA,CAwBD7X,MAAM,CAAC+X,SAAP,CAAmB,SAAU9V,OAAV,CAAoB,CAItCA,OAAO,CAAG,MAAOA,QAAP,GAAmB,QAAnB,CACT2V,aAAa,CAAE3V,OAAF,CADJ,CAETjC,MAAM,CAACgC,MAAP,CAAe,EAAf,CAAmBC,OAAnB,CAFD,CAIA,GACC+V,OADD,CAICC,MAJD,CAOCC,KAPD,CAUCC,MAVD,CAaC5R,IAAI,CAAG,EAbR,CAgBC6R,KAAK,CAAG,EAhBT,CAmBCC,WAAW,CAAG,CAAC,CAnBhB,CAsBCC,IAAI,CAAG,UAAW,CAGjBH,MAAM,CAAGA,MAAM,EAAIlW,OAAO,CAACsW,IAA3B,CAIAL,KAAK,CAAGF,MAAM,CAAG,IAAjB,CACA,KAAQI,KAAK,CAAC3X,MAAd,CAAsB4X,WAAW,CAAG,CAAC,CAArC,CAAyC,CACxCJ,MAAM,CAAGG,KAAK,CAACzN,KAAN,EAAT,CACA,MAAQ,EAAE0N,WAAF,CAAgB9R,IAAI,CAAC9F,MAA7B,CAAsC,CAGrC,GAAK8F,IAAI,CAAE8R,WAAF,CAAJ,CAAoB/W,KAApB,CAA2B2W,MAAM,CAAE,CAAF,CAAjC,CAAwCA,MAAM,CAAE,CAAF,CAA9C,IAA0D,KAA1D,EACJhW,OAAO,CAACuW,WADT,CACuB,CAGtBH,WAAW,CAAG9R,IAAI,CAAC9F,MAAnB,CACAwX,MAAM,CAAG,KAAT,CACA,CACD,CACD,CAGD,GAAK,CAAChW,OAAO,CAACgW,MAAd,CAAuB,CACtBA,MAAM,CAAG,KAAT,CACA,CAEDD,MAAM,CAAG,KAAT,CAGA,GAAKG,MAAL,CAAc,CAGb,GAAKF,MAAL,CAAc,CACb1R,IAAI,CAAG,EAAP,CAGA,CAJD,IAIO,CACNA,IAAI,CAAG,EAAP,CACA,CACD,CACD,CAhEF,CAmECyP,IAAI,CAAG,CAGNgB,GAAG,CAAE,UAAW,CACf,GAAKzQ,IAAL,CAAY,CAGX,GAAK0R,MAAM,EAAI,CAACD,MAAhB,CAAyB,CACxBK,WAAW,CAAG9R,IAAI,CAAC9F,MAAL,CAAc,CAA5B,CACA2X,KAAK,CAACxa,IAAN,CAAYqa,MAAZ,EACA,CAED,CAAE,QAASjB,IAAT,CAAcvG,IAAd,CAAqB,CACtBzQ,MAAM,CAACkB,IAAP,CAAauP,IAAb,CAAmB,SAAU5I,CAAV,CAAa3D,GAAb,CAAmB,CACrC,GAAK5F,UAAU,CAAE4F,GAAF,CAAf,CAAyB,CACxB,GAAK,CAACjC,OAAO,CAACiT,MAAT,EAAmB,CAACc,IAAI,CAACU,GAAL,CAAUxS,GAAV,CAAzB,CAA2C,CAC1CqC,IAAI,CAAC3I,IAAL,CAAWsG,GAAX,EACA,CACD,CAJD,IAIO,IAAKA,GAAG,EAAIA,GAAG,CAACzD,MAAX,EAAqBX,MAAM,CAAEoE,GAAF,CAAN,GAAkB,QAA5C,CAAuD,CAG7D8S,GAAG,CAAE9S,GAAF,CAAH,CACA,CACD,CAVD,EAWA,CAZD,EAYK3C,SAZL,EAcA,GAAK0W,MAAM,EAAI,CAACD,MAAhB,CAAyB,CACxBM,IAAI,GACJ,CACD,CACD,MAAO,KAAP,CACA,CA/BK,CAkCNG,MAAM,CAAE,UAAW,CAClBzY,MAAM,CAACkB,IAAP,CAAaK,SAAb,CAAwB,SAAUsG,CAAV,CAAa3D,GAAb,CAAmB,CAC1C,GAAI4S,MAAJ,CACA,MAAQ,CAAEA,KAAK,CAAG9W,MAAM,CAAC4D,OAAP,CAAgBM,GAAhB,CAAqBqC,IAArB,CAA2BuQ,KAA3B,CAAV,EAAiD,CAAC,CAA1D,CAA8D,CAC7DvQ,IAAI,CAACxE,MAAL,CAAa+U,KAAb,CAAoB,CAApB,EAGA,GAAKA,KAAK,EAAIuB,WAAd,CAA4B,CAC3BA,WAAW,GACX,CACD,CACD,CAVD,EAWA,MAAO,KAAP,CACA,CA/CK,CAmDN3B,GAAG,CAAE,SAAUvW,EAAV,CAAe,CACnB,MAAOA,GAAE,CACRH,MAAM,CAAC4D,OAAP,CAAgBzD,EAAhB,CAAoBoG,IAApB,EAA6B,CAAC,CADtB,CAERA,IAAI,CAAC9F,MAAL,CAAc,CAFf,CAGA,CAvDK,CA0DNiY,KAAK,CAAE,UAAW,CACjB,GAAKnS,IAAL,CAAY,CACXA,IAAI,CAAG,EAAP,CACA,CACD,MAAO,KAAP,CACA,CA/DK,CAoENoS,OAAO,CAAE,UAAW,CACnBR,MAAM,CAAGC,KAAK,CAAG,EAAjB,CACA7R,IAAI,CAAG0R,MAAM,CAAG,EAAhB,CACA,MAAO,KAAP,CACA,CAxEK,CAyENtP,QAAQ,CAAE,UAAW,CACpB,MAAO,CAACpC,IAAR,CACA,CA3EK,CAgFNqS,IAAI,CAAE,UAAW,CAChBT,MAAM,CAAGC,KAAK,CAAG,EAAjB,CACA,GAAK,CAACH,MAAD,EAAW,CAACD,MAAjB,CAA0B,CACzBzR,IAAI,CAAG0R,MAAM,CAAG,EAAhB,CACA,CACD,MAAO,KAAP,CACA,CAtFK,CAuFNE,MAAM,CAAE,UAAW,CAClB,MAAO,CAAC,CAACA,MAAT,CACA,CAzFK,CA4FNU,QAAQ,CAAE,SAAU3Y,OAAV,CAAmBuQ,IAAnB,CAA0B,CACnC,GAAK,CAAC0H,MAAN,CAAe,CACd1H,IAAI,CAAGA,IAAI,EAAI,EAAf,CACAA,IAAI,CAAG,CAAEvQ,OAAF,CAAWuQ,IAAI,CAAC/S,KAAL,CAAa+S,IAAI,CAAC/S,KAAL,EAAb,CAA4B+S,IAAvC,CAAP,CACA2H,KAAK,CAACxa,IAAN,CAAY6S,IAAZ,EACA,GAAK,CAACuH,MAAN,CAAe,CACdM,IAAI,GACJ,CACD,CACD,MAAO,KAAP,CACA,CAtGK,CAyGNA,IAAI,CAAE,UAAW,CAChBtC,IAAI,CAAC6C,QAAL,CAAe,IAAf,CAAqBtX,SAArB,EACA,MAAO,KAAP,CACA,CA5GK,CA+GN2W,KAAK,CAAE,UAAW,CACjB,MAAO,CAAC,CAACA,KAAT,CACA,CAjHK,CAnER,CAuLA,MAAOlC,KAAP,CACA,CAhMD,CAmMA,QAAS8C,SAAT,CAAmBC,CAAnB,CAAuB,CACtB,MAAOA,EAAP,CACA,CACD,QAASC,QAAT,CAAkBC,EAAlB,CAAuB,CACtB,KAAMA,GAAN,CACA,CAED,QAASC,WAAT,CAAqB/U,KAArB,CAA4BgV,OAA5B,CAAqCC,MAArC,CAA6CC,OAA7C,CAAuD,CACtD,GAAIC,OAAJ,CAEA,GAAI,CAGH,GAAKnV,KAAK,EAAI7F,UAAU,CAAIgb,MAAM,CAAGnV,KAAK,CAACoV,OAAnB,CAAxB,CAAyD,CACxDD,MAAM,CAAClb,IAAP,CAAa+F,KAAb,EAAqByB,IAArB,CAA2BuT,OAA3B,EAAqCK,IAArC,CAA2CJ,MAA3C,EAGA,CAJD,IAIO,IAAKjV,KAAK,EAAI7F,UAAU,CAAIgb,MAAM,CAAGnV,KAAK,CAACsV,IAAnB,CAAxB,CAAsD,CAC5DH,MAAM,CAAClb,IAAP,CAAa+F,KAAb,CAAoBgV,OAApB,CAA6BC,MAA7B,EAGA,CAJM,IAIA,CAKND,OAAO,CAAC7X,KAAR,CAAeqB,SAAf,CAA0B,CAAEwB,KAAF,EAAUzG,KAAV,CAAiB2b,OAAjB,CAA1B,EACA,CAKD,CAAC,MAAQlV,KAAR,CAAgB,CAIjBiV,MAAM,CAAC9X,KAAP,CAAcqB,SAAd,CAAyB,CAAEwB,KAAF,CAAzB,EACA,CACD,CAEDnE,MAAM,CAACgC,MAAP,CAAe,CAEd0X,QAAQ,CAAE,SAAUC,IAAV,CAAiB,CAC1B,GAAIC,OAAM,CAAG,CAIX,CAAE,QAAF,CAAY,UAAZ,CAAwB5Z,MAAM,CAAC+X,SAAP,CAAkB,QAAlB,CAAxB,CACC/X,MAAM,CAAC+X,SAAP,CAAkB,QAAlB,CADD,CAC+B,CAD/B,CAJW,CAMX,CAAE,SAAF,CAAa,MAAb,CAAqB/X,MAAM,CAAC+X,SAAP,CAAkB,aAAlB,CAArB,CACC/X,MAAM,CAAC+X,SAAP,CAAkB,aAAlB,CADD,CACoC,CADpC,CACuC,UADvC,CANW,CAQX,CAAE,QAAF,CAAY,MAAZ,CAAoB/X,MAAM,CAAC+X,SAAP,CAAkB,aAAlB,CAApB,CACC/X,MAAM,CAAC+X,SAAP,CAAkB,aAAlB,CADD,CACoC,CADpC,CACuC,UADvC,CARW,CAAb,CAWC8B,KAAK,CAAG,SAXT,CAYCN,OAAO,CAAG,CACTM,KAAK,CAAE,UAAW,CACjB,MAAOA,MAAP,CACA,CAHQ,CAITC,MAAM,CAAE,UAAW,CAClBC,QAAQ,CAACnU,IAAT,CAAerE,SAAf,EAA2BiY,IAA3B,CAAiCjY,SAAjC,EACA,MAAO,KAAP,CACA,CAPQ,CAQT,QAAS,SAAUpB,EAAV,CAAe,CACvB,MAAOoZ,QAAO,CAACE,IAAR,CAAc,IAAd,CAAoBtZ,EAApB,CAAP,CACA,CAVQ,CAaT6Z,IAAI,CAAE,UAA6C,CAClD,GAAIC,IAAG,CAAG1Y,SAAV,CAEA,MAAOvB,OAAM,CAAC0Z,QAAP,CAAiB,SAAUQ,QAAV,CAAqB,CAC5Cla,MAAM,CAACkB,IAAP,CAAa0Y,MAAb,CAAqB,SAAUza,CAAV,CAAagb,KAAb,CAAqB,CAGzC,GAAIha,GAAE,CAAG7B,UAAU,CAAE2b,GAAG,CAAEE,KAAK,CAAE,CAAF,CAAP,CAAL,CAAV,EAAmCF,GAAG,CAAEE,KAAK,CAAE,CAAF,CAAP,CAA/C,CAKAJ,QAAQ,CAAEI,KAAK,CAAE,CAAF,CAAP,CAAR,CAAwB,UAAW,CAClC,GAAIC,SAAQ,CAAGja,EAAE,EAAIA,EAAE,CAACmB,KAAH,CAAU,IAAV,CAAgBC,SAAhB,CAArB,CACA,GAAK6Y,QAAQ,EAAI9b,UAAU,CAAE8b,QAAQ,CAACb,OAAX,CAA3B,CAAkD,CACjDa,QAAQ,CAACb,OAAT,GACEc,QADF,CACYH,QAAQ,CAACI,MADrB,EAEE1U,IAFF,CAEQsU,QAAQ,CAACf,OAFjB,EAGEK,IAHF,CAGQU,QAAQ,CAACd,MAHjB,EAIA,CALD,IAKO,CACNc,QAAQ,CAAEC,KAAK,CAAE,CAAF,CAAL,CAAa,MAAf,CAAR,CACC,IADD,CAECha,EAAE,CAAG,CAAEia,QAAF,CAAH,CAAkB7Y,SAFrB,EAIA,CACD,CAbD,EAcA,CAtBD,EAuBA0Y,GAAG,CAAG,IAAN,CACA,CAzBM,EAyBHV,OAzBG,EAAP,CA0BA,CA1CQ,CA2CTE,IAAI,CAAE,SAAUc,WAAV,CAAuBC,UAAvB,CAAmCC,UAAnC,CAAgD,CACrD,GAAIC,SAAQ,CAAG,CAAf,CACA,QAASvB,QAAT,CAAkBwB,KAAlB,CAAyBZ,QAAzB,CAAmC9O,OAAnC,CAA4C2P,OAA5C,CAAsD,CACrD,MAAO,WAAW,CACjB,GAAIC,KAAI,CAAG,IAAX,CACCpK,IAAI,CAAGlP,SADR,CAECuZ,UAAU,CAAG,UAAW,CACvB,GAAIV,SAAJ,CAAcX,IAAd,CAKA,GAAKkB,KAAK,CAAGD,QAAb,CAAwB,CACvB,OACA,CAEDN,QAAQ,CAAGnP,OAAO,CAAC3J,KAAR,CAAeuZ,IAAf,CAAqBpK,IAArB,CAAX,CAIA,GAAK2J,QAAQ,GAAKL,QAAQ,CAACR,OAAT,EAAlB,CAAuC,CACtC,KAAM,IAAIwB,UAAJ,CAAe,0BAAf,CAAN,CACA,CAMDtB,IAAI,CAAGW,QAAQ,GAKZ,MAAOA,SAAP,GAAoB,QAApB,EACD,MAAOA,SAAP,GAAoB,UANP,CAAR,EAONA,QAAQ,CAACX,IAPV,CAUA,GAAKnb,UAAU,CAAEmb,IAAF,CAAf,CAA0B,CAGzB,GAAKmB,OAAL,CAAe,CACdnB,IAAI,CAACrb,IAAL,CACCgc,QADD,CAECjB,OAAO,CAAEuB,QAAF,CAAYX,QAAZ,CAAsBjB,QAAtB,CAAgC8B,OAAhC,CAFR,CAGCzB,OAAO,CAAEuB,QAAF,CAAYX,QAAZ,CAAsBf,OAAtB,CAA+B4B,OAA/B,CAHR,EAOA,CARD,IAQO,CAGNF,QAAQ,GAERjB,IAAI,CAACrb,IAAL,CACCgc,QADD,CAECjB,OAAO,CAAEuB,QAAF,CAAYX,QAAZ,CAAsBjB,QAAtB,CAAgC8B,OAAhC,CAFR,CAGCzB,OAAO,CAAEuB,QAAF,CAAYX,QAAZ,CAAsBf,OAAtB,CAA+B4B,OAA/B,CAHR,CAICzB,OAAO,CAAEuB,QAAF,CAAYX,QAAZ,CAAsBjB,QAAtB,CACNiB,QAAQ,CAACiB,UADH,CAJR,EAOA,CAGD,CA1BD,IA0BO,CAIN,GAAK/P,OAAO,GAAK6N,QAAjB,CAA4B,CAC3B+B,IAAI,CAAGlY,SAAP,CACA8N,IAAI,CAAG,CAAE2J,QAAF,CAAP,CACA,CAID,CAAEQ,OAAO,EAAIb,QAAQ,CAACkB,WAAtB,EAAqCJ,IAArC,CAA2CpK,IAA3C,EACA,CACD,CAzEF,CA4ECyK,OAAO,CAAGN,OAAO,CAChBE,UADgB,CAEhB,UAAW,CACV,GAAI,CACHA,UAAU,GACV,CAAC,MAAQ9R,CAAR,CAAY,CAEb,GAAKhJ,MAAM,CAAC0Z,QAAP,CAAgByB,aAArB,CAAqC,CACpCnb,MAAM,CAAC0Z,QAAP,CAAgByB,aAAhB,CAA+BnS,CAA/B,CACCkS,OAAO,CAACE,UADT,EAEA,CAKD,GAAKT,KAAK,CAAG,CAAR,EAAaD,QAAlB,CAA6B,CAI5B,GAAKzP,OAAO,GAAK+N,OAAjB,CAA2B,CAC1B6B,IAAI,CAAGlY,SAAP,CACA8N,IAAI,CAAG,CAAEzH,CAAF,CAAP,CACA,CAED+Q,QAAQ,CAACsB,UAAT,CAAqBR,IAArB,CAA2BpK,IAA3B,EACA,CACD,CACD,CAvGH,CA6GA,GAAKkK,KAAL,CAAa,CACZO,OAAO,GACP,CAFD,IAEO,CAIN,GAAKlb,MAAM,CAAC0Z,QAAP,CAAgB4B,YAArB,CAAoC,CACnCJ,OAAO,CAACE,UAAR,CAAqBpb,MAAM,CAAC0Z,QAAP,CAAgB4B,YAAhB,EAArB,CACA,CACDle,MAAM,CAACme,UAAP,CAAmBL,OAAnB,EACA,CACD,CAzHD,CA0HA,CAED,MAAOlb,OAAM,CAAC0Z,QAAP,CAAiB,SAAUQ,QAAV,CAAqB,CAG5CN,MAAM,CAAE,CAAF,CAAN,CAAa,CAAb,EAAiB5C,GAAjB,CACCmC,OAAO,CACN,CADM,CAENe,QAFM,CAGN5b,UAAU,CAAEmc,UAAF,CAAV,CACCA,UADD,CAEC3B,QALK,CAMNoB,QAAQ,CAACc,UANH,CADR,EAYApB,MAAM,CAAE,CAAF,CAAN,CAAa,CAAb,EAAiB5C,GAAjB,CACCmC,OAAO,CACN,CADM,CAENe,QAFM,CAGN5b,UAAU,CAAEic,WAAF,CAAV,CACCA,WADD,CAECzB,QALK,CADR,EAWAc,MAAM,CAAE,CAAF,CAAN,CAAa,CAAb,EAAiB5C,GAAjB,CACCmC,OAAO,CACN,CADM,CAENe,QAFM,CAGN5b,UAAU,CAAEkc,UAAF,CAAV,CACCA,UADD,CAECxB,OALK,CADR,EASA,CAnCM,EAmCHO,OAnCG,EAAP,CAoCA,CA9MQ,CAkNTA,OAAO,CAAE,SAAUhb,GAAV,CAAgB,CACxB,MAAOA,IAAG,EAAI,IAAP,CAAcyB,MAAM,CAACgC,MAAP,CAAezD,GAAf,CAAoBgb,OAApB,CAAd,CAA8CA,OAArD,CACA,CApNQ,CAZX,CAkOCQ,QAAQ,CAAG,EAlOZ,CAqOA/Z,MAAM,CAACkB,IAAP,CAAa0Y,MAAb,CAAqB,SAAUza,CAAV,CAAagb,KAAb,CAAqB,CACzC,GAAI5T,KAAI,CAAG4T,KAAK,CAAE,CAAF,CAAhB,CACCqB,WAAW,CAAGrB,KAAK,CAAE,CAAF,CADpB,CAMAZ,OAAO,CAAEY,KAAK,CAAE,CAAF,CAAP,CAAP,CAAwB5T,IAAI,CAACyQ,GAA7B,CAGA,GAAKwE,WAAL,CAAmB,CAClBjV,IAAI,CAACyQ,GAAL,CACC,UAAW,CAIV6C,KAAK,CAAG2B,WAAR,CACA,CANF,CAUC5B,MAAM,CAAE,EAAIza,CAAN,CAAN,CAAiB,CAAjB,EAAqBwZ,OAVtB,CAcCiB,MAAM,CAAE,EAAIza,CAAN,CAAN,CAAiB,CAAjB,EAAqBwZ,OAdtB,CAiBCiB,MAAM,CAAE,CAAF,CAAN,CAAa,CAAb,EAAiBhB,IAjBlB,CAoBCgB,MAAM,CAAE,CAAF,CAAN,CAAa,CAAb,EAAiBhB,IApBlB,EAsBA,CAKDrS,IAAI,CAACyQ,GAAL,CAAUmD,KAAK,CAAE,CAAF,CAAL,CAAW7B,IAArB,EAKAyB,QAAQ,CAAEI,KAAK,CAAE,CAAF,CAAP,CAAR,CAAyB,UAAW,CACnCJ,QAAQ,CAAEI,KAAK,CAAE,CAAF,CAAL,CAAa,MAAf,CAAR,CAAiC,OAASJ,QAAT,CAAoBpX,SAApB,CAAgC,IAAjE,CAAuEpB,SAAvE,EACA,MAAO,KAAP,CACA,CAHD,CAQAwY,QAAQ,CAAEI,KAAK,CAAE,CAAF,CAAL,CAAa,MAAf,CAAR,CAAkC5T,IAAI,CAACsS,QAAvC,CACA,CApDD,EAuDAU,OAAO,CAACA,OAAR,CAAiBQ,QAAjB,EAGA,GAAKJ,IAAL,CAAY,CACXA,IAAI,CAACvb,IAAL,CAAW2b,QAAX,CAAqBA,QAArB,EACA,CAGD,MAAOA,SAAP,CACA,CAxSa,CA2Sd0B,IAAI,CAAE,SAAUC,WAAV,CAAwB,CAC7B,GAGCC,UAAS,CAAGpa,SAAS,CAACd,MAHvB,CAMCtB,CAAC,CAAGwc,SANL,CASCC,eAAe,CAAGnZ,KAAK,CAAEtD,CAAF,CATxB,CAUC0c,aAAa,CAAGne,KAAK,CAACU,IAAN,CAAYmD,SAAZ,CAVjB,CAaCua,MAAM,CAAG9b,MAAM,CAAC0Z,QAAP,EAbV,CAgBCqC,UAAU,CAAG,SAAU5c,CAAV,CAAc,CAC1B,MAAO,UAAUgF,KAAV,CAAkB,CACxByX,eAAe,CAAEzc,CAAF,CAAf,CAAuB,IAAvB,CACA0c,aAAa,CAAE1c,CAAF,CAAb,CAAqBoC,SAAS,CAACd,MAAV,CAAmB,CAAnB,CAAuB/C,KAAK,CAACU,IAAN,CAAYmD,SAAZ,CAAvB,CAAiD4C,KAAtE,CACA,GAAK,CAAG,GAAEwX,SAAV,CAAwB,CACvBG,MAAM,CAACb,WAAP,CAAoBW,eAApB,CAAqCC,aAArC,EACA,CACD,CAND,CAOA,CAxBF,CA2BA,GAAKF,SAAS,EAAI,CAAlB,CAAsB,CACrBzC,UAAU,CAAEwC,WAAF,CAAeI,MAAM,CAAClW,IAAP,CAAamW,UAAU,CAAE5c,CAAF,CAAvB,EAA+Bga,OAA9C,CAAuD2C,MAAM,CAAC1C,MAA9D,CACT,CAACuC,SADQ,CAAV,CAIA,GAAKG,MAAM,CAACjC,KAAP,KAAmB,SAAnB,EACJvb,UAAU,CAAEud,aAAa,CAAE1c,CAAF,CAAb,EAAsB0c,aAAa,CAAE1c,CAAF,CAAb,CAAmBsa,IAA3C,CADX,CAC+D,CAE9D,MAAOqC,OAAM,CAACrC,IAAP,EAAP,CACA,CACD,CAGD,MAAQta,CAAC,EAAT,CAAc,CACb+Z,UAAU,CAAE2C,aAAa,CAAE1c,CAAF,CAAf,CAAsB4c,UAAU,CAAE5c,CAAF,CAAhC,CAAuC2c,MAAM,CAAC1C,MAA9C,CAAV,CACA,CAED,MAAO0C,OAAM,CAACvC,OAAP,EAAP,CACA,CAzVa,CAAf,EA+VA,GAAIyC,YAAW,CAAG,wDAAlB,CAEAhc,MAAM,CAAC0Z,QAAP,CAAgByB,aAAhB,CAAgC,SAAUlY,KAAV,CAAiBgZ,KAAjB,CAAyB,CAIxD,GAAK7e,MAAM,CAAC8e,OAAP,EAAkB9e,MAAM,CAAC8e,OAAP,CAAeC,IAAjC,EAAyClZ,KAAzC,EAAkD+Y,WAAW,CAAChS,IAAZ,CAAkB/G,KAAK,CAACf,IAAxB,CAAvD,CAAwF,CACvF9E,MAAM,CAAC8e,OAAP,CAAeC,IAAf,CAAqB,8BAAgClZ,KAAK,CAACmZ,OAA3D,CAAoEnZ,KAAK,CAACgZ,KAA1E,CAAiFA,KAAjF,EACA,CACD,CAPD,CAYAjc,MAAM,CAACqc,cAAP,CAAwB,SAAUpZ,KAAV,CAAkB,CACzC7F,MAAM,CAACme,UAAP,CAAmB,UAAW,CAC7B,KAAMtY,MAAN,CACA,CAFD,EAGA,CAJD,CAUA,GAAIqZ,UAAS,CAAGtc,MAAM,CAAC0Z,QAAP,EAAhB,CAEA1Z,MAAM,CAACG,EAAP,CAAUiW,KAAV,CAAkB,SAAUjW,EAAV,CAAe,CAEhCmc,SAAS,CACP7C,IADF,CACQtZ,EADR,EAMEoc,KANF,CAMS,SAAUtZ,KAAV,CAAkB,CACzBjD,MAAM,CAACqc,cAAP,CAAuBpZ,KAAvB,EACA,CARF,EAUA,MAAO,KAAP,CACA,CAbD,CAeAjD,MAAM,CAACgC,MAAP,CAAe,CAGdgB,OAAO,CAAE,KAHK,CAOdwZ,SAAS,CAAE,CAPG,CAUdpG,KAAK,CAAE,SAAUqG,IAAV,CAAiB,CAGvB,GAAKA,IAAI,GAAK,IAAT,CAAgB,EAAEzc,MAAM,CAACwc,SAAzB,CAAqCxc,MAAM,CAACgD,OAAjD,CAA2D,CAC1D,OACA,CAGDhD,MAAM,CAACgD,OAAP,CAAiB,IAAjB,CAGA,GAAKyZ,IAAI,GAAK,IAAT,EAAiB,EAAEzc,MAAM,CAACwc,SAAT,CAAqB,CAA3C,CAA+C,CAC9C,OACA,CAGDF,SAAS,CAACrB,WAAV,CAAuBhe,QAAvB,CAAiC,CAAE+C,MAAF,CAAjC,EACA,CA3Ba,CAAf,EA8BAA,MAAM,CAACoW,KAAP,CAAaqD,IAAb,CAAoB6C,SAAS,CAAC7C,IAA9B,CAGA,QAASiD,UAAT,EAAqB,CACpBzf,QAAQ,CAAC0f,mBAAT,CAA8B,kBAA9B,CAAkDD,SAAlD,EACAtf,MAAM,CAACuf,mBAAP,CAA4B,MAA5B,CAAoCD,SAApC,EACA1c,MAAM,CAACoW,KAAP,GACA,CAMD,GAAKnZ,QAAQ,CAAC2f,UAAT,GAAwB,UAAxB,EACF3f,QAAQ,CAAC2f,UAAT,GAAwB,SAAxB,EAAqC,CAAC3f,QAAQ,CAACgP,eAAT,CAAyB4Q,QADlE,CAC+E,CAG9Ezf,MAAM,CAACme,UAAP,CAAmBvb,MAAM,CAACoW,KAA1B,EAEA,CAND,IAMO,CAGNnZ,QAAQ,CAACqP,gBAAT,CAA2B,kBAA3B,CAA+CoQ,SAA/C,EAGAtf,MAAM,CAACkP,gBAAP,CAAyB,MAAzB,CAAiCoQ,SAAjC,EACA,CAOD,GAAII,OAAM,CAAG,SAAUhc,KAAV,CAAiBX,EAAjB,CAAqBsK,GAArB,CAA0BtG,KAA1B,CAAiC4Y,SAAjC,CAA4CC,QAA5C,CAAsDC,GAAtD,CAA4D,CACxE,GAAI9d,EAAC,CAAG,CAAR,CACCwC,GAAG,CAAGb,KAAK,CAACL,MADb,CAECyc,IAAI,CAAGzS,GAAG,EAAI,IAFf,CAKA,GAAK3K,MAAM,CAAE2K,GAAF,CAAN,GAAkB,QAAvB,CAAkC,CACjCsS,SAAS,CAAG,IAAZ,CACA,IAAM5d,CAAN,GAAWsL,IAAX,CAAiB,CAChBqS,MAAM,CAAEhc,KAAF,CAASX,EAAT,CAAahB,CAAb,CAAgBsL,GAAG,CAAEtL,CAAF,CAAnB,CAA0B,IAA1B,CAAgC6d,QAAhC,CAA0CC,GAA1C,CAAN,CACA,CAGD,CAPD,IAOO,IAAK9Y,KAAK,GAAKxB,SAAf,CAA2B,CACjCoa,SAAS,CAAG,IAAZ,CAEA,GAAK,CAACze,UAAU,CAAE6F,KAAF,CAAhB,CAA4B,CAC3B8Y,GAAG,CAAG,IAAN,CACA,CAED,GAAKC,IAAL,CAAY,CAGX,GAAKD,GAAL,CAAW,CACV9c,EAAE,CAAC/B,IAAH,CAAS0C,KAAT,CAAgBqD,KAAhB,EACAhE,EAAE,CAAG,IAAL,CAGA,CALD,IAKO,CACN+c,IAAI,CAAG/c,EAAP,CACAA,EAAE,CAAG,SAAUkB,IAAV,CAAgBoJ,GAAhB,CAAqBtG,KAArB,CAA6B,CACjC,MAAO+Y,KAAI,CAAC9e,IAAL,CAAW4B,MAAM,CAAEqB,IAAF,CAAjB,CAA2B8C,KAA3B,CAAP,CACA,CAFD,CAGA,CACD,CAED,GAAKhE,EAAL,CAAU,CACT,KAAQhB,CAAC,CAAGwC,GAAZ,CAAiBxC,CAAC,EAAlB,CAAuB,CACtBgB,EAAE,CACDW,KAAK,CAAE3B,CAAF,CADJ,CACWsL,GADX,CACgBwS,GAAG,CACpB9Y,KADoB,CAEpBA,KAAK,CAAC/F,IAAN,CAAY0C,KAAK,CAAE3B,CAAF,CAAjB,CAAwBA,CAAxB,CAA2BgB,EAAE,CAAEW,KAAK,CAAE3B,CAAF,CAAP,CAAcsL,GAAd,CAA7B,CAHC,CAAF,CAKA,CACD,CACD,CAED,GAAKsS,SAAL,CAAiB,CAChB,MAAOjc,MAAP,CACA,CAGD,GAAKoc,IAAL,CAAY,CACX,MAAO/c,GAAE,CAAC/B,IAAH,CAAS0C,KAAT,CAAP,CACA,CAED,MAAOa,IAAG,CAAGxB,EAAE,CAAEW,KAAK,CAAE,CAAF,CAAP,CAAc2J,GAAd,CAAL,CAA2BuS,QAArC,CACA,CAzDD,CA6DA,GAAIG,UAAS,CAAG,OAAhB,CACCC,UAAU,CAAG,WADd,CAIA,QAASC,WAAT,CAAqBC,GAArB,CAA0BC,MAA1B,CAAmC,CAClC,MAAOA,OAAM,CAACC,WAAP,EAAP,CACA,CAKD,QAASC,UAAT,CAAoBC,MAApB,CAA6B,CAC5B,MAAOA,OAAM,CAAC3a,OAAP,CAAgBoa,SAAhB,CAA2B,KAA3B,EAAmCpa,OAAnC,CAA4Cqa,UAA5C,CAAwDC,UAAxD,CAAP,CACA,CACD,GAAIM,WAAU,CAAG,SAAUC,KAAV,CAAkB,CAQlC,MAAOA,MAAK,CAACpf,QAAN,GAAmB,CAAnB,EAAwBof,KAAK,CAACpf,QAAN,GAAmB,CAA3C,EAAgD,CAAG,CAACof,KAAK,CAACpf,QAAjE,CACA,CATD,CAcA,QAASqf,KAAT,EAAgB,CACf,KAAKjb,OAAL,CAAe5C,MAAM,CAAC4C,OAAP,CAAiBib,IAAI,CAACC,GAAL,EAAhC,CACA,CAEDD,IAAI,CAACC,GAAL,CAAW,CAAX,CAEAD,IAAI,CAACvd,SAAL,CAAiB,CAEhBkK,KAAK,CAAE,SAAUoT,KAAV,CAAkB,CAGxB,GAAIzZ,MAAK,CAAGyZ,KAAK,CAAE,KAAKhb,OAAP,CAAjB,CAGA,GAAK,CAACuB,KAAN,CAAc,CACbA,KAAK,CAAG,EAAR,CAKA,GAAKwZ,UAAU,CAAEC,KAAF,CAAf,CAA2B,CAI1B,GAAKA,KAAK,CAACpf,QAAX,CAAsB,CACrBof,KAAK,CAAE,KAAKhb,OAAP,CAAL,CAAwBuB,KAAxB,CAKA,CAND,IAMO,CACN3G,MAAM,CAACugB,cAAP,CAAuBH,KAAvB,CAA8B,KAAKhb,OAAnC,CAA4C,CAC3CuB,KAAK,CAAEA,KADoC,CAE3C6Z,YAAY,CAAE,IAF6B,CAA5C,EAIA,CACD,CACD,CAED,MAAO7Z,MAAP,CACA,CAlCe,CAmChB8Z,GAAG,CAAE,SAAUL,KAAV,CAAiBM,IAAjB,CAAuB/Z,KAAvB,CAA+B,CACnC,GAAIga,KAAJ,CACC3T,KAAK,CAAG,KAAKA,KAAL,CAAYoT,KAAZ,CADT,CAKA,GAAK,MAAOM,KAAP,GAAgB,QAArB,CAAgC,CAC/B1T,KAAK,CAAEiT,SAAS,CAAES,IAAF,CAAX,CAAL,CAA6B/Z,KAA7B,CAGA,CAJD,IAIO,CAGN,IAAMga,IAAN,GAAcD,KAAd,CAAqB,CACpB1T,KAAK,CAAEiT,SAAS,CAAEU,IAAF,CAAX,CAAL,CAA6BD,IAAI,CAAEC,IAAF,CAAjC,CACA,CACD,CACD,MAAO3T,MAAP,CACA,CArDe,CAsDhB7J,GAAG,CAAE,SAAUid,KAAV,CAAiBnT,GAAjB,CAAuB,CAC3B,MAAOA,IAAG,GAAK9H,SAAR,CACN,KAAK6H,KAAL,CAAYoT,KAAZ,CADM,CAINA,KAAK,CAAE,KAAKhb,OAAP,CAAL,EAAyBgb,KAAK,CAAE,KAAKhb,OAAP,CAAL,CAAuB6a,SAAS,CAAEhT,GAAF,CAAhC,CAJ1B,CAKA,CA5De,CA6DhBqS,MAAM,CAAE,SAAUc,KAAV,CAAiBnT,GAAjB,CAAsBtG,KAAtB,CAA8B,CAarC,GAAKsG,GAAG,GAAK9H,SAAR,EACC8H,GAAG,EAAI,MAAOA,IAAP,GAAe,QAAxB,EAAsCtG,KAAK,GAAKxB,SADpD,CACkE,CAEjE,MAAO,MAAKhC,GAAL,CAAUid,KAAV,CAAiBnT,GAAjB,CAAP,CACA,CAQD,KAAKwT,GAAL,CAAUL,KAAV,CAAiBnT,GAAjB,CAAsBtG,KAAtB,EAIA,MAAOA,MAAK,GAAKxB,SAAV,CAAsBwB,KAAtB,CAA8BsG,GAArC,CACA,CA3Fe,CA4FhBgO,MAAM,CAAE,SAAUmF,KAAV,CAAiBnT,GAAjB,CAAuB,CAC9B,GAAItL,EAAJ,CACCqL,KAAK,CAAGoT,KAAK,CAAE,KAAKhb,OAAP,CADd,CAGA,GAAK4H,KAAK,GAAK7H,SAAf,CAA2B,CAC1B,OACA,CAED,GAAK8H,GAAG,GAAK9H,SAAb,CAAyB,CAGxB,GAAKF,KAAK,CAACC,OAAN,CAAe+H,GAAf,CAAL,CAA4B,CAI3BA,GAAG,CAAGA,GAAG,CAACrJ,GAAJ,CAASqc,SAAT,CAAN,CACA,CALD,IAKO,CACNhT,GAAG,CAAGgT,SAAS,CAAEhT,GAAF,CAAf,CAIAA,GAAG,CAAGA,GAAG,GAAID,MAAP,CACL,CAAEC,GAAF,CADK,CAEHA,GAAG,CAACpB,KAAJ,CAAWsO,aAAX,GAA8B,EAFjC,CAGA,CAEDxY,CAAC,CAAGsL,GAAG,CAAChK,MAAR,CAEA,MAAQtB,CAAC,EAAT,CAAc,CACb,MAAOqL,MAAK,CAAEC,GAAG,CAAEtL,CAAF,CAAL,CAAZ,CACA,CACD,CAGD,GAAKsL,GAAG,GAAK9H,SAAR,EAAqB3C,MAAM,CAACsD,aAAP,CAAsBkH,KAAtB,CAA1B,CAA0D,CAMzD,GAAKoT,KAAK,CAACpf,QAAX,CAAsB,CACrBof,KAAK,CAAE,KAAKhb,OAAP,CAAL,CAAwBD,SAAxB,CACA,CAFD,IAEO,CACN,MAAOib,MAAK,CAAE,KAAKhb,OAAP,CAAZ,CACA,CACD,CACD,CA1Ie,CA2IhBwb,OAAO,CAAE,SAAUR,KAAV,CAAkB,CAC1B,GAAIpT,MAAK,CAAGoT,KAAK,CAAE,KAAKhb,OAAP,CAAjB,CACA,MAAO4H,MAAK,GAAK7H,SAAV,EAAuB,CAAC3C,MAAM,CAACsD,aAAP,CAAsBkH,KAAtB,CAA/B,CACA,CA9Ie,CAAjB,CAgJA,GAAI6T,SAAQ,CAAG,GAAIR,KAAJ,EAAf,CAEA,GAAIS,SAAQ,CAAG,GAAIT,KAAJ,EAAf,CAcA,GAAIU,OAAM,CAAG,+BAAb,CACCC,UAAU,CAAG,QADd,CAGA,QAASC,QAAT,CAAkBP,IAAlB,CAAyB,CACxB,GAAKA,IAAI,GAAK,MAAd,CAAuB,CACtB,MAAO,KAAP,CACA,CAED,GAAKA,IAAI,GAAK,OAAd,CAAwB,CACvB,MAAO,MAAP,CACA,CAED,GAAKA,IAAI,GAAK,MAAd,CAAuB,CACtB,MAAO,KAAP,CACA,CAGD,GAAKA,IAAI,GAAK,CAACA,IAAD,CAAQ,EAAtB,CAA2B,CAC1B,MAAO,CAACA,IAAR,CACA,CAED,GAAKK,MAAM,CAACvU,IAAP,CAAakU,IAAb,CAAL,CAA2B,CAC1B,MAAOQ,KAAI,CAACC,KAAL,CAAYT,IAAZ,CAAP,CACA,CAED,MAAOA,KAAP,CACA,CAED,QAASU,SAAT,CAAmBvd,IAAnB,CAAyBoJ,GAAzB,CAA8ByT,IAA9B,CAAqC,CACpC,GAAIhc,KAAJ,CAIA,GAAKgc,IAAI,GAAKvb,SAAT,EAAsBtB,IAAI,CAAC7C,QAAL,GAAkB,CAA7C,CAAiD,CAChD0D,IAAI,CAAG,QAAUuI,GAAG,CAAC1H,OAAJ,CAAayb,UAAb,CAAyB,KAAzB,EAAiCha,WAAjC,EAAjB,CACA0Z,IAAI,CAAG7c,IAAI,CAAC7B,YAAL,CAAmB0C,IAAnB,CAAP,CAEA,GAAK,MAAOgc,KAAP,GAAgB,QAArB,CAAgC,CAC/B,GAAI,CACHA,IAAI,CAAGO,OAAO,CAAEP,IAAF,CAAd,CACA,CAAC,MAAQlV,CAAR,CAAY,CAAE,CAGhBsV,QAAQ,CAACL,GAAT,CAAc5c,IAAd,CAAoBoJ,GAApB,CAAyByT,IAAzB,EACA,CAPD,IAOO,CACNA,IAAI,CAAGvb,SAAP,CACA,CACD,CACD,MAAOub,KAAP,CACA,CAEDle,MAAM,CAACgC,MAAP,CAAe,CACdoc,OAAO,CAAE,SAAU/c,IAAV,CAAiB,CACzB,MAAOid,SAAQ,CAACF,OAAT,CAAkB/c,IAAlB,GAA4Bgd,QAAQ,CAACD,OAAT,CAAkB/c,IAAlB,CAAnC,CACA,CAHa,CAKd6c,IAAI,CAAE,SAAU7c,IAAV,CAAgBa,IAAhB,CAAsBgc,IAAtB,CAA6B,CAClC,MAAOI,SAAQ,CAACxB,MAAT,CAAiBzb,IAAjB,CAAuBa,IAAvB,CAA6Bgc,IAA7B,CAAP,CACA,CAPa,CASdW,UAAU,CAAE,SAAUxd,IAAV,CAAgBa,IAAhB,CAAuB,CAClCoc,QAAQ,CAAC7F,MAAT,CAAiBpX,IAAjB,CAAuBa,IAAvB,EACA,CAXa,CAed4c,KAAK,CAAE,SAAUzd,IAAV,CAAgBa,IAAhB,CAAsBgc,IAAtB,CAA6B,CACnC,MAAOG,SAAQ,CAACvB,MAAT,CAAiBzb,IAAjB,CAAuBa,IAAvB,CAA6Bgc,IAA7B,CAAP,CACA,CAjBa,CAmBda,WAAW,CAAE,SAAU1d,IAAV,CAAgBa,IAAhB,CAAuB,CACnCmc,QAAQ,CAAC5F,MAAT,CAAiBpX,IAAjB,CAAuBa,IAAvB,EACA,CArBa,CAAf,EAwBAlC,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjBkc,IAAI,CAAE,SAAUzT,GAAV,CAAetG,KAAf,CAAuB,CAC5B,GAAIhF,EAAJ,CAAO+C,IAAP,CAAagc,IAAb,CACC7c,IAAI,CAAG,KAAM,CAAN,CADR,CAEC2J,KAAK,CAAG3J,IAAI,EAAIA,IAAI,CAACsF,UAFtB,CAKA,GAAK8D,GAAG,GAAK9H,SAAb,CAAyB,CACxB,GAAK,KAAKlC,MAAV,CAAmB,CAClByd,IAAI,CAAGI,QAAQ,CAAC3d,GAAT,CAAcU,IAAd,CAAP,CAEA,GAAKA,IAAI,CAAC7C,QAAL,GAAkB,CAAlB,EAAuB,CAAC6f,QAAQ,CAAC1d,GAAT,CAAcU,IAAd,CAAoB,cAApB,CAA7B,CAAoE,CACnElC,CAAC,CAAG6L,KAAK,CAACvK,MAAV,CACA,MAAQtB,CAAC,EAAT,CAAc,CAIb,GAAK6L,KAAK,CAAE7L,CAAF,CAAV,CAAkB,CACjB+C,IAAI,CAAG8I,KAAK,CAAE7L,CAAF,CAAL,CAAW+C,IAAlB,CACA,GAAKA,IAAI,CAACrE,OAAL,CAAc,OAAd,IAA4B,CAAjC,CAAqC,CACpCqE,IAAI,CAAGub,SAAS,CAAEvb,IAAI,CAACxE,KAAL,CAAY,CAAZ,CAAF,CAAhB,CACAkhB,QAAQ,CAAEvd,IAAF,CAAQa,IAAR,CAAcgc,IAAI,CAAEhc,IAAF,CAAlB,CAAR,CACA,CACD,CACD,CACDmc,QAAQ,CAACJ,GAAT,CAAc5c,IAAd,CAAoB,cAApB,CAAoC,IAApC,EACA,CACD,CAED,MAAO6c,KAAP,CACA,CAGD,GAAK,MAAOzT,IAAP,GAAe,QAApB,CAA+B,CAC9B,MAAO,MAAKvJ,IAAL,CAAW,UAAW,CAC5Bod,QAAQ,CAACL,GAAT,CAAc,IAAd,CAAoBxT,GAApB,EACA,CAFM,CAAP,CAGA,CAED,MAAOqS,OAAM,CAAE,IAAF,CAAQ,SAAU3Y,KAAV,CAAkB,CACtC,GAAI+Z,KAAJ,CAOA,GAAK7c,IAAI,EAAI8C,KAAK,GAAKxB,SAAvB,CAAmC,CAIlCub,IAAI,CAAGI,QAAQ,CAAC3d,GAAT,CAAcU,IAAd,CAAoBoJ,GAApB,CAAP,CACA,GAAKyT,IAAI,GAAKvb,SAAd,CAA0B,CACzB,MAAOub,KAAP,CACA,CAIDA,IAAI,CAAGU,QAAQ,CAAEvd,IAAF,CAAQoJ,GAAR,CAAf,CACA,GAAKyT,IAAI,GAAKvb,SAAd,CAA0B,CACzB,MAAOub,KAAP,CACA,CAGD,OACA,CAGD,KAAKhd,IAAL,CAAW,UAAW,CAGrBod,QAAQ,CAACL,GAAT,CAAc,IAAd,CAAoBxT,GAApB,CAAyBtG,KAAzB,EACA,CAJD,EAKA,CAlCY,CAkCV,IAlCU,CAkCJA,KAlCI,CAkCG5C,SAAS,CAACd,MAAV,CAAmB,CAlCtB,CAkCyB,IAlCzB,CAkC+B,IAlC/B,CAAb,CAmCA,CA1EgB,CA4EjBoe,UAAU,CAAE,SAAUpU,GAAV,CAAgB,CAC3B,MAAO,MAAKvJ,IAAL,CAAW,UAAW,CAC5Bod,QAAQ,CAAC7F,MAAT,CAAiB,IAAjB,CAAuBhO,GAAvB,EACA,CAFM,CAAP,CAGA,CAhFgB,CAAlB,EAoFAzK,MAAM,CAACgC,MAAP,CAAe,CACdoW,KAAK,CAAE,SAAU/W,IAAV,CAAgB1C,IAAhB,CAAsBuf,IAAtB,CAA6B,CACnC,GAAI9F,MAAJ,CAEA,GAAK/W,IAAL,CAAY,CACX1C,IAAI,CAAG,CAAEA,IAAI,EAAI,IAAV,EAAmB,OAA1B,CACAyZ,KAAK,CAAGiG,QAAQ,CAAC1d,GAAT,CAAcU,IAAd,CAAoB1C,IAApB,CAAR,CAGA,GAAKuf,IAAL,CAAY,CACX,GAAK,CAAC9F,KAAD,EAAU3V,KAAK,CAACC,OAAN,CAAewb,IAAf,CAAf,CAAuC,CACtC9F,KAAK,CAAGiG,QAAQ,CAACvB,MAAT,CAAiBzb,IAAjB,CAAuB1C,IAAvB,CAA6BqB,MAAM,CAAC0D,SAAP,CAAkBwa,IAAlB,CAA7B,CAAR,CACA,CAFD,IAEO,CACN9F,KAAK,CAACxa,IAAN,CAAYsgB,IAAZ,EACA,CACD,CACD,MAAO9F,MAAK,EAAI,EAAhB,CACA,CACD,CAlBa,CAoBd4G,OAAO,CAAE,SAAU3d,IAAV,CAAgB1C,IAAhB,CAAuB,CAC/BA,IAAI,CAAGA,IAAI,EAAI,IAAf,CAEA,GAAIyZ,MAAK,CAAGpY,MAAM,CAACoY,KAAP,CAAc/W,IAAd,CAAoB1C,IAApB,CAAZ,CACCsgB,WAAW,CAAG7G,KAAK,CAAC3X,MADrB,CAECN,EAAE,CAAGiY,KAAK,CAACzN,KAAN,EAFN,CAGCuU,KAAK,CAAGlf,MAAM,CAACmf,WAAP,CAAoB9d,IAApB,CAA0B1C,IAA1B,CAHT,CAICmK,IAAI,CAAG,UAAW,CACjB9I,MAAM,CAACgf,OAAP,CAAgB3d,IAAhB,CAAsB1C,IAAtB,EACA,CANF,CASA,GAAKwB,EAAE,GAAK,YAAZ,CAA2B,CAC1BA,EAAE,CAAGiY,KAAK,CAACzN,KAAN,EAAL,CACAsU,WAAW,GACX,CAED,GAAK9e,EAAL,CAAU,CAIT,GAAKxB,IAAI,GAAK,IAAd,CAAqB,CACpByZ,KAAK,CAAClK,OAAN,CAAe,YAAf,EACA,CAGD,MAAOgR,MAAK,CAACE,IAAb,CACAjf,EAAE,CAAC/B,IAAH,CAASiD,IAAT,CAAeyH,IAAf,CAAqBoW,KAArB,EACA,CAED,GAAK,CAACD,WAAD,EAAgBC,KAArB,CAA6B,CAC5BA,KAAK,CAACxG,KAAN,CAAYJ,IAAZ,GACA,CACD,CArDa,CAwDd6G,WAAW,CAAE,SAAU9d,IAAV,CAAgB1C,IAAhB,CAAuB,CACnC,GAAI8L,IAAG,CAAG9L,IAAI,CAAG,YAAjB,CACA,MAAO0f,SAAQ,CAAC1d,GAAT,CAAcU,IAAd,CAAoBoJ,GAApB,GAA6B4T,QAAQ,CAACvB,MAAT,CAAiBzb,IAAjB,CAAuBoJ,GAAvB,CAA4B,CAC/DiO,KAAK,CAAE1Y,MAAM,CAAC+X,SAAP,CAAkB,aAAlB,EAAkCf,GAAlC,CAAuC,UAAW,CACxDqH,QAAQ,CAAC5F,MAAT,CAAiBpX,IAAjB,CAAuB,CAAE1C,IAAI,CAAG,OAAT,CAAkB8L,GAAlB,CAAvB,EACA,CAFM,CADwD,CAA5B,CAApC,CAKA,CA/Da,CAAf,EAkEAzK,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjBoW,KAAK,CAAE,SAAUzZ,IAAV,CAAgBuf,IAAhB,CAAuB,CAC7B,GAAImB,OAAM,CAAG,CAAb,CAEA,GAAK,MAAO1gB,KAAP,GAAgB,QAArB,CAAgC,CAC/Buf,IAAI,CAAGvf,IAAP,CACAA,IAAI,CAAG,IAAP,CACA0gB,MAAM,GACN,CAED,GAAK9d,SAAS,CAACd,MAAV,CAAmB4e,MAAxB,CAAiC,CAChC,MAAOrf,OAAM,CAACoY,KAAP,CAAc,KAAM,CAAN,CAAd,CAAyBzZ,IAAzB,CAAP,CACA,CAED,MAAOuf,KAAI,GAAKvb,SAAT,CACN,IADM,CAEN,KAAKzB,IAAL,CAAW,UAAW,CACrB,GAAIkX,MAAK,CAAGpY,MAAM,CAACoY,KAAP,CAAc,IAAd,CAAoBzZ,IAApB,CAA0Buf,IAA1B,CAAZ,CAGAle,MAAM,CAACmf,WAAP,CAAoB,IAApB,CAA0BxgB,IAA1B,EAEA,GAAKA,IAAI,GAAK,IAAT,EAAiByZ,KAAK,CAAE,CAAF,CAAL,GAAe,YAArC,CAAoD,CACnDpY,MAAM,CAACgf,OAAP,CAAgB,IAAhB,CAAsBrgB,IAAtB,EACA,CACD,CATD,CAFD,CAYA,CA1BgB,CA2BjBqgB,OAAO,CAAE,SAAUrgB,IAAV,CAAiB,CACzB,MAAO,MAAKuC,IAAL,CAAW,UAAW,CAC5BlB,MAAM,CAACgf,OAAP,CAAgB,IAAhB,CAAsBrgB,IAAtB,EACA,CAFM,CAAP,CAGA,CA/BgB,CAgCjB2gB,UAAU,CAAE,SAAU3gB,IAAV,CAAiB,CAC5B,MAAO,MAAKyZ,KAAL,CAAYzZ,IAAI,EAAI,IAApB,CAA0B,EAA1B,CAAP,CACA,CAlCgB,CAsCjB4a,OAAO,CAAE,SAAU5a,IAAV,CAAgBJ,GAAhB,CAAsB,CAC9B,GAAI0O,IAAJ,CACCsS,KAAK,CAAG,CADT,CAECC,KAAK,CAAGxf,MAAM,CAAC0Z,QAAP,EAFT,CAGCtL,QAAQ,CAAG,IAHZ,CAICjP,CAAC,CAAG,KAAKsB,MAJV,CAKC0Y,OAAO,CAAG,UAAW,CACpB,GAAK,CAAG,GAAEoG,KAAV,CAAoB,CACnBC,KAAK,CAACvE,WAAN,CAAmB7M,QAAnB,CAA6B,CAAEA,QAAF,CAA7B,EACA,CACD,CATF,CAWA,GAAK,MAAOzP,KAAP,GAAgB,QAArB,CAAgC,CAC/BJ,GAAG,CAAGI,IAAN,CACAA,IAAI,CAAGgE,SAAP,CACA,CACDhE,IAAI,CAAGA,IAAI,EAAI,IAAf,CAEA,MAAQQ,CAAC,EAAT,CAAc,CACb8N,GAAG,CAAGoR,QAAQ,CAAC1d,GAAT,CAAcyN,QAAQ,CAAEjP,CAAF,CAAtB,CAA6BR,IAAI,CAAG,YAApC,CAAN,CACA,GAAKsO,GAAG,EAAIA,GAAG,CAACyL,KAAhB,CAAwB,CACvB6G,KAAK,GACLtS,GAAG,CAACyL,KAAJ,CAAU1B,GAAV,CAAemC,OAAf,EACA,CACD,CACDA,OAAO,GACP,MAAOqG,MAAK,CAACjG,OAAN,CAAehb,GAAf,CAAP,CACA,CAjEgB,CAAlB,EAmEA,GAAIkhB,KAAI,CAAK,qCAAF,CAA0CC,MAArD,CAEA,GAAIC,QAAO,CAAG,GAAI7Y,OAAJ,CAAY,iBAAmB2Y,IAAnB,CAA0B,aAAtC,CAAqD,GAArD,CAAd,CAGA,GAAIG,UAAS,CAAG,CAAE,KAAF,CAAS,OAAT,CAAkB,QAAlB,CAA4B,MAA5B,CAAhB,CAEA,GAAI3T,gBAAe,CAAGhP,QAAQ,CAACgP,eAA/B,CAIC,GAAI4T,WAAU,CAAG,SAAUxe,IAAV,CAAiB,CAChC,MAAOrB,OAAM,CAACwF,QAAP,CAAiBnE,IAAI,CAACoI,aAAtB,CAAqCpI,IAArC,CAAP,CACA,CAFF,CAGCye,QAAQ,CAAG,CAAEA,QAAQ,CAAE,IAAZ,CAHZ,CAUA,GAAK7T,eAAe,CAAC8T,WAArB,CAAmC,CAClCF,UAAU,CAAG,SAAUxe,IAAV,CAAiB,CAC7B,MAAOrB,OAAM,CAACwF,QAAP,CAAiBnE,IAAI,CAACoI,aAAtB,CAAqCpI,IAArC,GACNA,IAAI,CAAC0e,WAAL,CAAkBD,QAAlB,IAAiCze,IAAI,CAACoI,aADvC,CAEA,CAHD,CAIA,CACF,GAAIuW,mBAAkB,CAAG,SAAU3e,IAAV,CAAgByJ,EAAhB,CAAqB,CAI5CzJ,IAAI,CAAGyJ,EAAE,EAAIzJ,IAAb,CAGA,MAAOA,KAAI,CAAC4e,KAAL,CAAWC,OAAX,GAAuB,MAAvB,EACN7e,IAAI,CAAC4e,KAAL,CAAWC,OAAX,GAAuB,EAAvB,EAMAL,UAAU,CAAExe,IAAF,CANV,EAQArB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,SAAlB,IAAkC,MATnC,CAUA,CAjBF,CAmBA,GAAI+e,KAAI,CAAG,SAAU/e,IAAV,CAAgBY,OAAhB,CAAyBd,QAAzB,CAAmCsP,IAAnC,CAA0C,CACpD,GAAI1P,IAAJ,CAASmB,IAAT,CACCme,GAAG,CAAG,EADP,CAIA,IAAMne,IAAN,GAAcD,QAAd,CAAwB,CACvBoe,GAAG,CAAEne,IAAF,CAAH,CAAcb,IAAI,CAAC4e,KAAL,CAAY/d,IAAZ,CAAd,CACAb,IAAI,CAAC4e,KAAL,CAAY/d,IAAZ,EAAqBD,OAAO,CAAEC,IAAF,CAA5B,CACA,CAEDnB,GAAG,CAAGI,QAAQ,CAACG,KAAT,CAAgBD,IAAhB,CAAsBoP,IAAI,EAAI,EAA9B,CAAN,CAGA,IAAMvO,IAAN,GAAcD,QAAd,CAAwB,CACvBZ,IAAI,CAAC4e,KAAL,CAAY/d,IAAZ,EAAqBme,GAAG,CAAEne,IAAF,CAAxB,CACA,CAED,MAAOnB,IAAP,CACA,CAlBD,CAuBA,QAASuf,UAAT,CAAoBjf,IAApB,CAA0B8c,IAA1B,CAAgCoC,UAAhC,CAA4CC,KAA5C,CAAoD,CACnD,GAAIC,SAAJ,CAAcC,KAAd,CACCC,aAAa,CAAG,EADjB,CAECC,YAAY,CAAGJ,KAAK,CACnB,UAAW,CACV,MAAOA,MAAK,CAACpV,GAAN,EAAP,CACA,CAHkB,CAInB,UAAW,CACV,MAAOpL,OAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB8c,IAAlB,CAAwB,EAAxB,CAAP,CACA,CARH,CASC0C,OAAO,CAAGD,YAAY,EATvB,CAUCE,IAAI,CAAGP,UAAU,EAAIA,UAAU,CAAE,CAAF,CAAxB,GAAmCvgB,MAAM,CAAC+gB,SAAP,CAAkB5C,IAAlB,EAA2B,EAA3B,CAAgC,IAAnE,CAVR,CAaC6C,aAAa,CAAG3f,IAAI,CAAC7C,QAAL,GACbwB,MAAM,CAAC+gB,SAAP,CAAkB5C,IAAlB,GAA4B2C,IAAI,GAAK,IAAT,EAAiB,CAACD,OADjC,GAEflB,OAAO,CAACjW,IAAR,CAAc1J,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB8c,IAAlB,CAAd,CAfF,CAiBA,GAAK6C,aAAa,EAAIA,aAAa,CAAE,CAAF,CAAb,GAAuBF,IAA7C,CAAoD,CAInDD,OAAO,CAAGA,OAAO,CAAG,CAApB,CAGAC,IAAI,CAAGA,IAAI,EAAIE,aAAa,CAAE,CAAF,CAA5B,CAGAA,aAAa,CAAG,CAACH,OAAD,EAAY,CAA5B,CAEA,MAAQF,aAAa,EAArB,CAA0B,CAIzB3gB,MAAM,CAACigB,KAAP,CAAc5e,IAAd,CAAoB8c,IAApB,CAA0B6C,aAAa,CAAGF,IAA1C,EACA,GAAK,CAAE,EAAIJ,KAAN,GAAkB,GAAMA,KAAK,CAAGE,YAAY,GAAKC,OAAjB,EAA4B,GAA1C,CAAlB,GAAuE,CAA5E,CAAgF,CAC/EF,aAAa,CAAG,CAAhB,CACA,CACDK,aAAa,CAAGA,aAAa,CAAGN,KAAhC,CAEA,CAEDM,aAAa,CAAGA,aAAa,CAAG,CAAhC,CACAhhB,MAAM,CAACigB,KAAP,CAAc5e,IAAd,CAAoB8c,IAApB,CAA0B6C,aAAa,CAAGF,IAA1C,EAGAP,UAAU,CAAGA,UAAU,EAAI,EAA3B,CACA,CAED,GAAKA,UAAL,CAAkB,CACjBS,aAAa,CAAG,CAACA,aAAD,EAAkB,CAACH,OAAnB,EAA8B,CAA9C,CAGAJ,QAAQ,CAAGF,UAAU,CAAE,CAAF,CAAV,CACVS,aAAa,CAAG,CAAET,UAAU,CAAE,CAAF,CAAV,CAAkB,CAApB,EAA0BA,UAAU,CAAE,CAAF,CAD1C,CAEV,CAACA,UAAU,CAAE,CAAF,CAFZ,CAGA,GAAKC,KAAL,CAAa,CACZA,KAAK,CAACM,IAAN,CAAaA,IAAb,CACAN,KAAK,CAACrQ,KAAN,CAAc6Q,aAAd,CACAR,KAAK,CAAC3e,GAAN,CAAY4e,QAAZ,CACA,CACD,CACD,MAAOA,SAAP,CACA,CAGD,GAAIQ,kBAAiB,CAAG,EAAxB,CAEA,QAASC,kBAAT,CAA4B7f,IAA5B,CAAmC,CAClC,GAAImS,KAAJ,CACCtU,GAAG,CAAGmC,IAAI,CAACoI,aADZ,CAECb,QAAQ,CAAGvH,IAAI,CAACuH,QAFjB,CAGCsX,OAAO,CAAGe,iBAAiB,CAAErY,QAAF,CAH5B,CAKA,GAAKsX,OAAL,CAAe,CACd,MAAOA,QAAP,CACA,CAED1M,IAAI,CAAGtU,GAAG,CAACiiB,IAAJ,CAASxhB,WAAT,CAAsBT,GAAG,CAACI,aAAJ,CAAmBsJ,QAAnB,CAAtB,CAAP,CACAsX,OAAO,CAAGlgB,MAAM,CAACmgB,GAAP,CAAY3M,IAAZ,CAAkB,SAAlB,CAAV,CAEAA,IAAI,CAAC5T,UAAL,CAAgBC,WAAhB,CAA6B2T,IAA7B,EAEA,GAAK0M,OAAO,GAAK,MAAjB,CAA0B,CACzBA,OAAO,CAAG,OAAV,CACA,CACDe,iBAAiB,CAAErY,QAAF,CAAjB,CAAgCsX,OAAhC,CAEA,MAAOA,QAAP,CACA,CAED,QAASkB,SAAT,CAAmBhT,QAAnB,CAA6BiT,IAA7B,CAAoC,CACnC,GAAInB,QAAJ,CAAa7e,IAAb,CACCigB,MAAM,CAAG,EADV,CAECxK,KAAK,CAAG,CAFT,CAGCrW,MAAM,CAAG2N,QAAQ,CAAC3N,MAHnB,CAMA,KAAQqW,KAAK,CAAGrW,MAAhB,CAAwBqW,KAAK,EAA7B,CAAkC,CACjCzV,IAAI,CAAG+M,QAAQ,CAAE0I,KAAF,CAAf,CACA,GAAK,CAACzV,IAAI,CAAC4e,KAAX,CAAmB,CAClB,SACA,CAEDC,OAAO,CAAG7e,IAAI,CAAC4e,KAAL,CAAWC,OAArB,CACA,GAAKmB,IAAL,CAAY,CAKX,GAAKnB,OAAO,GAAK,MAAjB,CAA0B,CACzBoB,MAAM,CAAExK,KAAF,CAAN,CAAkBuH,QAAQ,CAAC1d,GAAT,CAAcU,IAAd,CAAoB,SAApB,GAAmC,IAArD,CACA,GAAK,CAACigB,MAAM,CAAExK,KAAF,CAAZ,CAAwB,CACvBzV,IAAI,CAAC4e,KAAL,CAAWC,OAAX,CAAqB,EAArB,CACA,CACD,CACD,GAAK7e,IAAI,CAAC4e,KAAL,CAAWC,OAAX,GAAuB,EAAvB,EAA6BF,kBAAkB,CAAE3e,IAAF,CAApD,CAA+D,CAC9DigB,MAAM,CAAExK,KAAF,CAAN,CAAkBoK,iBAAiB,CAAE7f,IAAF,CAAnC,CACA,CACD,CAdD,IAcO,CACN,GAAK6e,OAAO,GAAK,MAAjB,CAA0B,CACzBoB,MAAM,CAAExK,KAAF,CAAN,CAAkB,MAAlB,CAGAuH,QAAQ,CAACJ,GAAT,CAAc5c,IAAd,CAAoB,SAApB,CAA+B6e,OAA/B,EACA,CACD,CACD,CAGD,IAAMpJ,KAAK,CAAG,CAAd,CAAiBA,KAAK,CAAGrW,MAAzB,CAAiCqW,KAAK,EAAtC,CAA2C,CAC1C,GAAKwK,MAAM,CAAExK,KAAF,CAAN,EAAmB,IAAxB,CAA+B,CAC9B1I,QAAQ,CAAE0I,KAAF,CAAR,CAAkBmJ,KAAlB,CAAwBC,OAAxB,CAAkCoB,MAAM,CAAExK,KAAF,CAAxC,CACA,CACD,CAED,MAAO1I,SAAP,CACA,CAEDpO,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjBqf,IAAI,CAAE,UAAW,CAChB,MAAOD,SAAQ,CAAE,IAAF,CAAQ,IAAR,CAAf,CACA,CAHgB,CAIjBG,IAAI,CAAE,UAAW,CAChB,MAAOH,SAAQ,CAAE,IAAF,CAAf,CACA,CANgB,CAOjBI,MAAM,CAAE,SAAU3H,KAAV,CAAkB,CACzB,GAAK,MAAOA,MAAP,GAAiB,SAAtB,CAAkC,CACjC,MAAOA,MAAK,CAAG,KAAKwH,IAAL,EAAH,CAAiB,KAAKE,IAAL,EAA7B,CACA,CAED,MAAO,MAAKrgB,IAAL,CAAW,UAAW,CAC5B,GAAK8e,kBAAkB,CAAE,IAAF,CAAvB,CAAkC,CACjChgB,MAAM,CAAE,IAAF,CAAN,CAAeqhB,IAAf,GACA,CAFD,IAEO,CACNrhB,MAAM,CAAE,IAAF,CAAN,CAAeuhB,IAAf,GACA,CACD,CANM,CAAP,CAOA,CAnBgB,CAAlB,EAqBA,GAAIE,eAAc,CAAK,uBAAvB,CAEA,GAAIC,SAAQ,CAAK,gCAAjB,CAEA,GAAIC,YAAW,CAAK,oCAApB,CAKA,GAAIC,QAAO,CAAG,CAGbC,MAAM,CAAE,CAAE,CAAF,CAAK,8BAAL,CAAqC,WAArC,CAHK,CAQbC,KAAK,CAAE,CAAE,CAAF,CAAK,SAAL,CAAgB,UAAhB,CARM,CASbC,GAAG,CAAE,CAAE,CAAF,CAAK,mBAAL,CAA0B,qBAA1B,CATQ,CAUbC,EAAE,CAAE,CAAE,CAAF,CAAK,gBAAL,CAAuB,kBAAvB,CAVS,CAWbC,EAAE,CAAE,CAAE,CAAF,CAAK,oBAAL,CAA2B,uBAA3B,CAXS,CAabC,QAAQ,CAAE,CAAE,CAAF,CAAK,EAAL,CAAS,EAAT,CAbG,CAAd,CAiBAN,OAAO,CAACO,QAAR,CAAmBP,OAAO,CAACC,MAA3B,CAEAD,OAAO,CAACQ,KAAR,CAAgBR,OAAO,CAACS,KAAR,CAAgBT,OAAO,CAACU,QAAR,CAAmBV,OAAO,CAACW,OAAR,CAAkBX,OAAO,CAACE,KAA7E,CACAF,OAAO,CAACY,EAAR,CAAaZ,OAAO,CAACK,EAArB,CAGA,QAASQ,OAAT,CAAiBviB,OAAjB,CAA0B8M,GAA1B,CAAgC,CAI/B,GAAIjM,IAAJ,CAEA,GAAK,MAAOb,QAAO,CAAC2J,oBAAf,GAAwC,WAA7C,CAA2D,CAC1D9I,GAAG,CAAGb,OAAO,CAAC2J,oBAAR,CAA8BmD,GAAG,EAAI,GAArC,CAAN,CAEA,CAHD,IAGO,IAAK,MAAO9M,QAAO,CAACkK,gBAAf,GAAoC,WAAzC,CAAuD,CAC7DrJ,GAAG,CAAGb,OAAO,CAACkK,gBAAR,CAA0B4C,GAAG,EAAI,GAAjC,CAAN,CAEA,CAHM,IAGA,CACNjM,GAAG,CAAG,EAAN,CACA,CAED,GAAKiM,GAAG,GAAKrK,SAAR,EAAqBqK,GAAG,EAAIpE,QAAQ,CAAE1I,OAAF,CAAW8M,GAAX,CAAzC,CAA4D,CAC3D,MAAOhN,OAAM,CAACgB,KAAP,CAAc,CAAEd,OAAF,CAAd,CAA2Ba,GAA3B,CAAP,CACA,CAED,MAAOA,IAAP,CACA,CAID,QAAS2hB,cAAT,CAAwB5hB,KAAxB,CAA+B6hB,WAA/B,CAA6C,CAC5C,GAAIxjB,EAAC,CAAG,CAAR,CACCyX,CAAC,CAAG9V,KAAK,CAACL,MADX,CAGA,KAAQtB,CAAC,CAAGyX,CAAZ,CAAezX,CAAC,EAAhB,CAAqB,CACpBkf,QAAQ,CAACJ,GAAT,CACCnd,KAAK,CAAE3B,CAAF,CADN,CAEC,YAFD,CAGC,CAACwjB,WAAD,EAAgBtE,QAAQ,CAAC1d,GAAT,CAAcgiB,WAAW,CAAExjB,CAAF,CAAzB,CAAgC,YAAhC,CAHjB,EAKA,CACD,CAGD,GAAIkI,MAAK,CAAG,WAAZ,CAEA,QAASub,cAAT,CAAwB9hB,KAAxB,CAA+BZ,OAA/B,CAAwC2iB,OAAxC,CAAiDC,SAAjD,CAA4DC,OAA5D,CAAsE,CACrE,GAAI1hB,KAAJ,CAAU4L,GAAV,CAAeD,GAAf,CAAoBgW,IAApB,CAA0BC,QAA1B,CAAoCrhB,CAApC,CACCshB,QAAQ,CAAGhjB,OAAO,CAACijB,sBAAR,EADZ,CAECC,KAAK,CAAG,EAFT,CAGCjkB,CAAC,CAAG,CAHL,CAICyX,CAAC,CAAG9V,KAAK,CAACL,MAJX,CAMA,KAAQtB,CAAC,CAAGyX,CAAZ,CAAezX,CAAC,EAAhB,CAAqB,CACpBkC,IAAI,CAAGP,KAAK,CAAE3B,CAAF,CAAZ,CAEA,GAAKkC,IAAI,EAAIA,IAAI,GAAK,CAAtB,CAA0B,CAGzB,GAAKvB,MAAM,CAAEuB,IAAF,CAAN,GAAmB,QAAxB,CAAmC,CAIlCrB,MAAM,CAACgB,KAAP,CAAcoiB,KAAd,CAAqB/hB,IAAI,CAAC7C,QAAL,CAAgB,CAAE6C,IAAF,CAAhB,CAA2BA,IAAhD,EAGA,CAPD,IAOO,IAAK,CAACgG,KAAK,CAAC2C,IAAN,CAAY3I,IAAZ,CAAN,CAA2B,CACjC+hB,KAAK,CAACxlB,IAAN,CAAYsC,OAAO,CAACmjB,cAAR,CAAwBhiB,IAAxB,CAAZ,EAGA,CAJM,IAIA,CACN4L,GAAG,CAAGA,GAAG,EAAIiW,QAAQ,CAACvjB,WAAT,CAAsBO,OAAO,CAACZ,aAAR,CAAuB,KAAvB,CAAtB,CAAb,CAGA0N,GAAG,CAAG,CAAE0U,QAAQ,CAAChY,IAAT,CAAerI,IAAf,GAAyB,CAAE,EAAF,CAAM,EAAN,CAA3B,EAAyC,CAAzC,EAA6CmD,WAA7C,EAAN,CACAwe,IAAI,CAAGpB,OAAO,CAAE5U,GAAF,CAAP,EAAkB4U,OAAO,CAACM,QAAjC,CACAjV,GAAG,CAACC,SAAJ,CAAgB8V,IAAI,CAAE,CAAF,CAAJ,CAAYhjB,MAAM,CAACsjB,aAAP,CAAsBjiB,IAAtB,CAAZ,CAA2C2hB,IAAI,CAAE,CAAF,CAA/D,CAGAphB,CAAC,CAAGohB,IAAI,CAAE,CAAF,CAAR,CACA,MAAQphB,CAAC,EAAT,CAAc,CACbqL,GAAG,CAAGA,GAAG,CAACqD,SAAV,CACA,CAIDtQ,MAAM,CAACgB,KAAP,CAAcoiB,KAAd,CAAqBnW,GAAG,CAAClE,UAAzB,EAGAkE,GAAG,CAAGiW,QAAQ,CAACpU,UAAf,CAGA7B,GAAG,CAAC4B,WAAJ,CAAkB,EAAlB,CACA,CACD,CACD,CAGDqU,QAAQ,CAACrU,WAAT,CAAuB,EAAvB,CAEA1P,CAAC,CAAG,CAAJ,CACA,MAAUkC,IAAI,CAAG+hB,KAAK,CAAEjkB,CAAC,EAAH,CAAtB,CAAkC,CAGjC,GAAK2jB,SAAS,EAAI9iB,MAAM,CAAC4D,OAAP,CAAgBvC,IAAhB,CAAsByhB,SAAtB,EAAoC,CAAC,CAAvD,CAA2D,CAC1D,GAAKC,OAAL,CAAe,CACdA,OAAO,CAACnlB,IAAR,CAAcyD,IAAd,EACA,CACD,SACA,CAED4hB,QAAQ,CAAGpD,UAAU,CAAExe,IAAF,CAArB,CAGA4L,GAAG,CAAGwV,MAAM,CAAES,QAAQ,CAACvjB,WAAT,CAAsB0B,IAAtB,CAAF,CAAgC,QAAhC,CAAZ,CAGA,GAAK4hB,QAAL,CAAgB,CACfP,aAAa,CAAEzV,GAAF,CAAb,CACA,CAGD,GAAK4V,OAAL,CAAe,CACdjhB,CAAC,CAAG,CAAJ,CACA,MAAUP,IAAI,CAAG4L,GAAG,CAAErL,CAAC,EAAH,CAApB,CAAgC,CAC/B,GAAK+f,WAAW,CAAC3X,IAAZ,CAAkB3I,IAAI,CAAC1C,IAAL,EAAa,EAA/B,CAAL,CAA2C,CAC1CkkB,OAAO,CAACjlB,IAAR,CAAcyD,IAAd,EACA,CACD,CACD,CACD,CAED,MAAO6hB,SAAP,CACA,CAGD,CAAE,UAAW,CACZ,GAAIA,SAAQ,CAAGjmB,QAAQ,CAACkmB,sBAAT,EAAf,CACCI,GAAG,CAAGL,QAAQ,CAACvjB,WAAT,CAAsB1C,QAAQ,CAACqC,aAAT,CAAwB,KAAxB,CAAtB,CADP,CAEC6N,KAAK,CAAGlQ,QAAQ,CAACqC,aAAT,CAAwB,OAAxB,CAFT,CAQA6N,KAAK,CAAC1N,YAAN,CAAoB,MAApB,CAA4B,OAA5B,EACA0N,KAAK,CAAC1N,YAAN,CAAoB,SAApB,CAA+B,SAA/B,EACA0N,KAAK,CAAC1N,YAAN,CAAoB,MAApB,CAA4B,GAA5B,EAEA8jB,GAAG,CAAC5jB,WAAJ,CAAiBwN,KAAjB,EAIA9O,OAAO,CAACmlB,UAAR,CAAqBD,GAAG,CAACE,SAAJ,CAAe,IAAf,EAAsBA,SAAtB,CAAiC,IAAjC,EAAwCnT,SAAxC,CAAkDiB,OAAvE,CAIAgS,GAAG,CAACrW,SAAJ,CAAgB,wBAAhB,CACA7O,OAAO,CAACqlB,cAAR,CAAyB,CAAC,CAACH,GAAG,CAACE,SAAJ,CAAe,IAAf,EAAsBnT,SAAtB,CAAgC2E,YAA3D,CACA,CAvBD,IA0BA,GACC0O,UAAS,CAAG,MADb,CAECC,WAAW,CAAG,gDAFf,CAGCC,cAAc,CAAG,qBAHlB,CAKA,QAASC,WAAT,EAAsB,CACrB,MAAO,KAAP,CACA,CAED,QAASC,YAAT,EAAuB,CACtB,MAAO,MAAP,CACA,CAQD,QAASC,WAAT,CAAqB3iB,IAArB,CAA2B1C,IAA3B,CAAkC,CACjC,MAAS0C,KAAI,GAAK4iB,iBAAiB,EAA5B,IAAuCtlB,IAAI,GAAK,OAAhD,CAAP,CACA,CAKD,QAASslB,kBAAT,EAA6B,CAC5B,GAAI,CACH,MAAOhnB,SAAQ,CAACkU,aAAhB,CACA,CAAC,MAAQ+S,GAAR,CAAc,CAAG,CACnB,CAED,QAASC,GAAT,CAAa9iB,IAAb,CAAmB+iB,KAAnB,CAA0BnkB,QAA1B,CAAoCie,IAApC,CAA0C/d,EAA1C,CAA8CkkB,GAA9C,CAAoD,CACnD,GAAIC,OAAJ,CAAY3lB,IAAZ,CAGA,GAAK,MAAOylB,MAAP,GAAiB,QAAtB,CAAiC,CAGhC,GAAK,MAAOnkB,SAAP,GAAoB,QAAzB,CAAoC,CAGnCie,IAAI,CAAGA,IAAI,EAAIje,QAAf,CACAA,QAAQ,CAAG0C,SAAX,CACA,CACD,IAAMhE,IAAN,GAAcylB,MAAd,CAAsB,CACrBD,EAAE,CAAE9iB,IAAF,CAAQ1C,IAAR,CAAcsB,QAAd,CAAwBie,IAAxB,CAA8BkG,KAAK,CAAEzlB,IAAF,CAAnC,CAA6C0lB,GAA7C,CAAF,CACA,CACD,MAAOhjB,KAAP,CACA,CAED,GAAK6c,IAAI,EAAI,IAAR,EAAgB/d,EAAE,EAAI,IAA3B,CAAkC,CAGjCA,EAAE,CAAGF,QAAL,CACAie,IAAI,CAAGje,QAAQ,CAAG0C,SAAlB,CACA,CALD,IAKO,IAAKxC,EAAE,EAAI,IAAX,CAAkB,CACxB,GAAK,MAAOF,SAAP,GAAoB,QAAzB,CAAoC,CAGnCE,EAAE,CAAG+d,IAAL,CACAA,IAAI,CAAGvb,SAAP,CACA,CALD,IAKO,CAGNxC,EAAE,CAAG+d,IAAL,CACAA,IAAI,CAAGje,QAAP,CACAA,QAAQ,CAAG0C,SAAX,CACA,CACD,CACD,GAAKxC,EAAE,GAAK,KAAZ,CAAoB,CACnBA,EAAE,CAAG4jB,WAAL,CACA,CAFD,IAEO,IAAK,CAAC5jB,EAAN,CAAW,CACjB,MAAOkB,KAAP,CACA,CAED,GAAKgjB,GAAG,GAAK,CAAb,CAAiB,CAChBC,MAAM,CAAGnkB,EAAT,CACAA,EAAE,CAAG,SAAUokB,KAAV,CAAkB,CAGtBvkB,MAAM,GAAGwkB,GAAT,CAAcD,KAAd,EACA,MAAOD,OAAM,CAAChjB,KAAP,CAAc,IAAd,CAAoBC,SAApB,CAAP,CACA,CALD,CAQApB,EAAE,CAACiE,IAAH,CAAUkgB,MAAM,CAAClgB,IAAP,GAAiBkgB,MAAM,CAAClgB,IAAP,CAAcpE,MAAM,CAACoE,IAAP,EAA/B,CAAV,CACA,CACD,MAAO/C,KAAI,CAACH,IAAL,CAAW,UAAW,CAC5BlB,MAAM,CAACukB,KAAP,CAAavN,GAAb,CAAkB,IAAlB,CAAwBoN,KAAxB,CAA+BjkB,EAA/B,CAAmC+d,IAAnC,CAAyCje,QAAzC,EACA,CAFM,CAAP,CAGA,CAMDD,MAAM,CAACukB,KAAP,CAAe,CAEd1nB,MAAM,CAAE,EAFM,CAIdma,GAAG,CAAE,SAAU3V,IAAV,CAAgB+iB,KAAhB,CAAuBnZ,OAAvB,CAAgCiT,IAAhC,CAAsCje,QAAtC,CAAiD,CAErD,GAAIwkB,YAAJ,CAAiBC,WAAjB,CAA8BzX,GAA9B,CACC0X,MADD,CACSC,CADT,CACYC,SADZ,CAECjK,OAFD,CAEUkK,QAFV,CAEoBnmB,IAFpB,CAE0BomB,UAF1B,CAEsCC,QAFtC,CAGCC,QAAQ,CAAG5G,QAAQ,CAAC1d,GAAT,CAAcU,IAAd,CAHZ,CAMA,GAAK,CAAC4jB,QAAN,CAAiB,CAChB,OACA,CAGD,GAAKha,OAAO,CAACA,OAAb,CAAuB,CACtBwZ,WAAW,CAAGxZ,OAAd,CACAA,OAAO,CAAGwZ,WAAW,CAACxZ,OAAtB,CACAhL,QAAQ,CAAGwkB,WAAW,CAACxkB,QAAvB,CACA,CAID,GAAKA,QAAL,CAAgB,CACfD,MAAM,CAAC8M,IAAP,CAAYM,eAAZ,CAA6BnB,eAA7B,CAA8ChM,QAA9C,EACA,CAGD,GAAK,CAACgL,OAAO,CAAC7G,IAAd,CAAqB,CACpB6G,OAAO,CAAC7G,IAAR,CAAepE,MAAM,CAACoE,IAAP,EAAf,CACA,CAGD,GAAK,EAAGugB,MAAM,CAAGM,QAAQ,CAACN,MAArB,CAAL,CAAqC,CACpCA,MAAM,CAAGM,QAAQ,CAACN,MAAT,CAAkB,EAA3B,CACA,CACD,GAAK,EAAGD,WAAW,CAAGO,QAAQ,CAACC,MAA1B,CAAL,CAA0C,CACzCR,WAAW,CAAGO,QAAQ,CAACC,MAAT,CAAkB,SAAUlc,CAAV,CAAc,CAI7C,MAAO,OAAOhJ,OAAP,GAAkB,WAAlB,EAAiCA,MAAM,CAACukB,KAAP,CAAaY,SAAb,GAA2Bnc,CAAC,CAACrK,IAA9D,CACNqB,MAAM,CAACukB,KAAP,CAAaa,QAAb,CAAsB9jB,KAAtB,CAA6BD,IAA7B,CAAmCE,SAAnC,CADM,CAC2CoB,SADlD,CAEA,CAND,CAOA,CAGDyhB,KAAK,CAAG,CAAEA,KAAK,EAAI,EAAX,EAAgB/a,KAAhB,CAAuBsO,aAAvB,GAA0C,CAAE,EAAF,CAAlD,CACAiN,CAAC,CAAGR,KAAK,CAAC3jB,MAAV,CACA,MAAQmkB,CAAC,EAAT,CAAc,CACb3X,GAAG,CAAG4W,cAAc,CAACna,IAAf,CAAqB0a,KAAK,CAAEQ,CAAF,CAA1B,GAAqC,EAA3C,CACAjmB,IAAI,CAAGqmB,QAAQ,CAAG/X,GAAG,CAAE,CAAF,CAArB,CACA8X,UAAU,CAAG,CAAE9X,GAAG,CAAE,CAAF,CAAH,EAAY,EAAd,EAAmB1I,KAAnB,CAA0B,GAA1B,EAAgCzC,IAAhC,EAAb,CAGA,GAAK,CAACnD,IAAN,CAAa,CACZ,SACA,CAGDic,OAAO,CAAG5a,MAAM,CAACukB,KAAP,CAAa3J,OAAb,CAAsBjc,IAAtB,GAAgC,EAA1C,CAGAA,IAAI,CAAG,CAAEsB,QAAQ,CAAG2a,OAAO,CAACyK,YAAX,CAA0BzK,OAAO,CAAC0K,QAA5C,GAA0D3mB,IAAjE,CAGAic,OAAO,CAAG5a,MAAM,CAACukB,KAAP,CAAa3J,OAAb,CAAsBjc,IAAtB,GAAgC,EAA1C,CAGAkmB,SAAS,CAAG7kB,MAAM,CAACgC,MAAP,CAAe,CAC1BrD,IAAI,CAAEA,IADoB,CAE1BqmB,QAAQ,CAAEA,QAFgB,CAG1B9G,IAAI,CAAEA,IAHoB,CAI1BjT,OAAO,CAAEA,OAJiB,CAK1B7G,IAAI,CAAE6G,OAAO,CAAC7G,IALY,CAM1BnE,QAAQ,CAAEA,QANgB,CAO1B0V,YAAY,CAAE1V,QAAQ,EAAID,MAAM,CAACmO,IAAP,CAAY9E,KAAZ,CAAkBsM,YAAlB,CAA+B3L,IAA/B,CAAqC/J,QAArC,CAPA,CAQ1B8L,SAAS,CAAEgZ,UAAU,CAAC7a,IAAX,CAAiB,GAAjB,CARe,CAAf,CASTua,WATS,CAAZ,CAYA,GAAK,EAAGK,QAAQ,CAAGH,MAAM,CAAEhmB,IAAF,CAApB,CAAL,CAAsC,CACrCmmB,QAAQ,CAAGH,MAAM,CAAEhmB,IAAF,CAAN,CAAiB,EAA5B,CACAmmB,QAAQ,CAACS,aAAT,CAAyB,CAAzB,CAGA,GAAK,CAAC3K,OAAO,CAAC4K,KAAT,EACJ5K,OAAO,CAAC4K,KAAR,CAAcpnB,IAAd,CAAoBiD,IAApB,CAA0B6c,IAA1B,CAAgC6G,UAAhC,CAA4CL,WAA5C,IAA8D,KAD/D,CACuE,CAEtE,GAAKrjB,IAAI,CAACiL,gBAAV,CAA6B,CAC5BjL,IAAI,CAACiL,gBAAL,CAAuB3N,IAAvB,CAA6B+lB,WAA7B,EACA,CACD,CACD,CAED,GAAK9J,OAAO,CAAC5D,GAAb,CAAmB,CAClB4D,OAAO,CAAC5D,GAAR,CAAY5Y,IAAZ,CAAkBiD,IAAlB,CAAwBwjB,SAAxB,EAEA,GAAK,CAACA,SAAS,CAAC5Z,OAAV,CAAkB7G,IAAxB,CAA+B,CAC9BygB,SAAS,CAAC5Z,OAAV,CAAkB7G,IAAlB,CAAyB6G,OAAO,CAAC7G,IAAjC,CACA,CACD,CAGD,GAAKnE,QAAL,CAAgB,CACf6kB,QAAQ,CAAC/iB,MAAT,CAAiB+iB,QAAQ,CAACS,aAAT,EAAjB,CAA2C,CAA3C,CAA8CV,SAA9C,EACA,CAFD,IAEO,CACNC,QAAQ,CAAClnB,IAAT,CAAeinB,SAAf,EACA,CAGD7kB,MAAM,CAACukB,KAAP,CAAa1nB,MAAb,CAAqB8B,IAArB,EAA8B,IAA9B,CACA,CAED,CApHa,CAuHd8Z,MAAM,CAAE,SAAUpX,IAAV,CAAgB+iB,KAAhB,CAAuBnZ,OAAvB,CAAgChL,QAAhC,CAA0CwlB,WAA1C,CAAwD,CAE/D,GAAI7jB,EAAJ,CAAO8jB,SAAP,CAAkBzY,GAAlB,CACC0X,MADD,CACSC,CADT,CACYC,SADZ,CAECjK,OAFD,CAEUkK,QAFV,CAEoBnmB,IAFpB,CAE0BomB,UAF1B,CAEsCC,QAFtC,CAGCC,QAAQ,CAAG5G,QAAQ,CAACD,OAAT,CAAkB/c,IAAlB,GAA4Bgd,QAAQ,CAAC1d,GAAT,CAAcU,IAAd,CAHxC,CAKA,GAAK,CAAC4jB,QAAD,EAAa,EAAGN,MAAM,CAAGM,QAAQ,CAACN,MAArB,CAAlB,CAAkD,CACjD,OACA,CAGDP,KAAK,CAAG,CAAEA,KAAK,EAAI,EAAX,EAAgB/a,KAAhB,CAAuBsO,aAAvB,GAA0C,CAAE,EAAF,CAAlD,CACAiN,CAAC,CAAGR,KAAK,CAAC3jB,MAAV,CACA,MAAQmkB,CAAC,EAAT,CAAc,CACb3X,GAAG,CAAG4W,cAAc,CAACna,IAAf,CAAqB0a,KAAK,CAAEQ,CAAF,CAA1B,GAAqC,EAA3C,CACAjmB,IAAI,CAAGqmB,QAAQ,CAAG/X,GAAG,CAAE,CAAF,CAArB,CACA8X,UAAU,CAAG,CAAE9X,GAAG,CAAE,CAAF,CAAH,EAAY,EAAd,EAAmB1I,KAAnB,CAA0B,GAA1B,EAAgCzC,IAAhC,EAAb,CAGA,GAAK,CAACnD,IAAN,CAAa,CACZ,IAAMA,IAAN,GAAcgmB,OAAd,CAAuB,CACtB3kB,MAAM,CAACukB,KAAP,CAAa9L,MAAb,CAAqBpX,IAArB,CAA2B1C,IAAI,CAAGylB,KAAK,CAAEQ,CAAF,CAAvC,CAA8C3Z,OAA9C,CAAuDhL,QAAvD,CAAiE,IAAjE,EACA,CACD,SACA,CAED2a,OAAO,CAAG5a,MAAM,CAACukB,KAAP,CAAa3J,OAAb,CAAsBjc,IAAtB,GAAgC,EAA1C,CACAA,IAAI,CAAG,CAAEsB,QAAQ,CAAG2a,OAAO,CAACyK,YAAX,CAA0BzK,OAAO,CAAC0K,QAA5C,GAA0D3mB,IAAjE,CACAmmB,QAAQ,CAAGH,MAAM,CAAEhmB,IAAF,CAAN,EAAkB,EAA7B,CACAsO,GAAG,CAAGA,GAAG,CAAE,CAAF,CAAH,EACL,GAAInG,OAAJ,CAAY,UAAYie,UAAU,CAAC7a,IAAX,CAAiB,eAAjB,CAAZ,CAAiD,SAA7D,CADD,CAIAwb,SAAS,CAAG9jB,CAAC,CAAGkjB,QAAQ,CAACrkB,MAAzB,CACA,MAAQmB,CAAC,EAAT,CAAc,CACbijB,SAAS,CAAGC,QAAQ,CAAEljB,CAAF,CAApB,CAEA,GAAK,CAAE6jB,WAAW,EAAIT,QAAQ,GAAKH,SAAS,CAACG,QAAxC,IACF,CAAC/Z,OAAD,EAAYA,OAAO,CAAC7G,IAAR,GAAiBygB,SAAS,CAACzgB,IADrC,IAEF,CAAC6I,GAAD,EAAQA,GAAG,CAACjD,IAAJ,CAAU6a,SAAS,CAAC9Y,SAApB,CAFN,IAGF,CAAC9L,QAAD,EAAaA,QAAQ,GAAK4kB,SAAS,CAAC5kB,QAApC,EACDA,QAAQ,GAAK,IAAb,EAAqB4kB,SAAS,CAAC5kB,QAJ5B,CAAL,CAI8C,CAC7C6kB,QAAQ,CAAC/iB,MAAT,CAAiBH,CAAjB,CAAoB,CAApB,EAEA,GAAKijB,SAAS,CAAC5kB,QAAf,CAA0B,CACzB6kB,QAAQ,CAACS,aAAT,GACA,CACD,GAAK3K,OAAO,CAACnC,MAAb,CAAsB,CACrBmC,OAAO,CAACnC,MAAR,CAAera,IAAf,CAAqBiD,IAArB,CAA2BwjB,SAA3B,EACA,CACD,CACD,CAID,GAAKa,SAAS,EAAI,CAACZ,QAAQ,CAACrkB,MAA5B,CAAqC,CACpC,GAAK,CAACma,OAAO,CAAC+K,QAAT,EACJ/K,OAAO,CAAC+K,QAAR,CAAiBvnB,IAAjB,CAAuBiD,IAAvB,CAA6B0jB,UAA7B,CAAyCE,QAAQ,CAACC,MAAlD,IAA+D,KADhE,CACwE,CAEvEllB,MAAM,CAAC4lB,WAAP,CAAoBvkB,IAApB,CAA0B1C,IAA1B,CAAgCsmB,QAAQ,CAACC,MAAzC,EACA,CAED,MAAOP,OAAM,CAAEhmB,IAAF,CAAb,CACA,CACD,CAGD,GAAKqB,MAAM,CAACsD,aAAP,CAAsBqhB,MAAtB,CAAL,CAAsC,CACrCtG,QAAQ,CAAC5F,MAAT,CAAiBpX,IAAjB,CAAuB,eAAvB,EACA,CACD,CA9La,CAgMd+jB,QAAQ,CAAE,SAAUS,WAAV,CAAwB,CAGjC,GAAItB,MAAK,CAAGvkB,MAAM,CAACukB,KAAP,CAAauB,GAAb,CAAkBD,WAAlB,CAAZ,CAEA,GAAI1mB,EAAJ,CAAOyC,CAAP,CAAUb,GAAV,CAAe6P,OAAf,CAAwBiU,SAAxB,CAAmCkB,YAAnC,CACCtV,IAAI,CAAG,GAAIhO,MAAJ,CAAWlB,SAAS,CAACd,MAArB,CADR,CAECqkB,QAAQ,CAAG,CAAEzG,QAAQ,CAAC1d,GAAT,CAAc,IAAd,CAAoB,QAApB,GAAkC,EAApC,EAA0C4jB,KAAK,CAAC5lB,IAAhD,GAA0D,EAFtE,CAGCic,OAAO,CAAG5a,MAAM,CAACukB,KAAP,CAAa3J,OAAb,CAAsB2J,KAAK,CAAC5lB,IAA5B,GAAsC,EAHjD,CAMA8R,IAAI,CAAE,CAAF,CAAJ,CAAY8T,KAAZ,CAEA,IAAMplB,CAAC,CAAG,CAAV,CAAaA,CAAC,CAAGoC,SAAS,CAACd,MAA3B,CAAmCtB,CAAC,EAApC,CAAyC,CACxCsR,IAAI,CAAEtR,CAAF,CAAJ,CAAYoC,SAAS,CAAEpC,CAAF,CAArB,CACA,CAEDolB,KAAK,CAACyB,cAAN,CAAuB,IAAvB,CAGA,GAAKpL,OAAO,CAACqL,WAAR,EAAuBrL,OAAO,CAACqL,WAAR,CAAoB7nB,IAApB,CAA0B,IAA1B,CAAgCmmB,KAAhC,IAA4C,KAAxE,CAAgF,CAC/E,OACA,CAGDwB,YAAY,CAAG/lB,MAAM,CAACukB,KAAP,CAAaO,QAAb,CAAsB1mB,IAAtB,CAA4B,IAA5B,CAAkCmmB,KAAlC,CAAyCO,QAAzC,CAAf,CAGA3lB,CAAC,CAAG,CAAJ,CACA,MAAQ,CAAEyR,OAAO,CAAGmV,YAAY,CAAE5mB,CAAC,EAAH,CAAxB,GAAqC,CAAColB,KAAK,CAAC2B,oBAAN,EAA9C,CAA6E,CAC5E3B,KAAK,CAAC4B,aAAN,CAAsBvV,OAAO,CAACvP,IAA9B,CAEAO,CAAC,CAAG,CAAJ,CACA,MAAQ,CAAEijB,SAAS,CAAGjU,OAAO,CAACkU,QAAR,CAAkBljB,CAAC,EAAnB,CAAd,GACP,CAAC2iB,KAAK,CAAC6B,6BAAN,EADF,CAC0C,CAIzC,GAAK,CAAC7B,KAAK,CAAC8B,UAAP,EAAqBxB,SAAS,CAAC9Y,SAAV,GAAwB,KAA7C,EACJwY,KAAK,CAAC8B,UAAN,CAAiBrc,IAAjB,CAAuB6a,SAAS,CAAC9Y,SAAjC,CADD,CACgD,CAE/CwY,KAAK,CAACM,SAAN,CAAkBA,SAAlB,CACAN,KAAK,CAACrG,IAAN,CAAa2G,SAAS,CAAC3G,IAAvB,CAEAnd,GAAG,CAAG,CAAE,CAAEf,MAAM,CAACukB,KAAP,CAAa3J,OAAb,CAAsBiK,SAAS,CAACG,QAAhC,GAA8C,EAAhD,EAAqDE,MAArD,EACPL,SAAS,CAAC5Z,OADL,EACe3J,KADf,CACsBsP,OAAO,CAACvP,IAD9B,CACoCoP,IADpC,CAAN,CAGA,GAAK1P,GAAG,GAAK4B,SAAb,CAAyB,CACxB,GAAK,CAAE4hB,KAAK,CAAC7U,MAAN,CAAe3O,GAAjB,IAA2B,KAAhC,CAAwC,CACvCwjB,KAAK,CAAC+B,cAAN,GACA/B,KAAK,CAACgC,eAAN,GACA,CACD,CACD,CACD,CACD,CAGD,GAAK3L,OAAO,CAAC4L,YAAb,CAA4B,CAC3B5L,OAAO,CAAC4L,YAAR,CAAqBpoB,IAArB,CAA2B,IAA3B,CAAiCmmB,KAAjC,EACA,CAED,MAAOA,MAAK,CAAC7U,MAAb,CACA,CA/Pa,CAiQdoV,QAAQ,CAAE,SAAUP,KAAV,CAAiBO,QAAjB,CAA4B,CACrC,GAAI3lB,EAAJ,CAAO0lB,SAAP,CAAkBrW,GAAlB,CAAuBiY,eAAvB,CAAwCC,gBAAxC,CACCX,YAAY,CAAG,EADhB,CAECR,aAAa,CAAGT,QAAQ,CAACS,aAF1B,CAGCna,GAAG,CAAGmZ,KAAK,CAACjiB,MAHb,CAMA,GAAKijB,aAAa,EAIjBna,GAAG,CAAC5M,QAJA,EAWJ,EAAG+lB,KAAK,CAAC5lB,IAAN,GAAe,OAAf,EAA0B4lB,KAAK,CAACoC,MAAN,EAAgB,CAA7C,CAXD,CAWoD,CAEnD,KAAQvb,GAAG,GAAK,IAAhB,CAAsBA,GAAG,CAAGA,GAAG,CAACxL,UAAJ,EAAkB,IAA9C,CAAqD,CAIpD,GAAKwL,GAAG,CAAC5M,QAAJ,GAAiB,CAAjB,EAAsB,EAAG+lB,KAAK,CAAC5lB,IAAN,GAAe,OAAf,EAA0ByM,GAAG,CAACzC,QAAJ,GAAiB,IAA9C,CAA3B,CAAkF,CACjF8d,eAAe,CAAG,EAAlB,CACAC,gBAAgB,CAAG,EAAnB,CACA,IAAMvnB,CAAC,CAAG,CAAV,CAAaA,CAAC,CAAGomB,aAAjB,CAAgCpmB,CAAC,EAAjC,CAAsC,CACrC0lB,SAAS,CAAGC,QAAQ,CAAE3lB,CAAF,CAApB,CAGAqP,GAAG,CAAGqW,SAAS,CAAC5kB,QAAV,CAAqB,GAA3B,CAEA,GAAKymB,gBAAgB,CAAElY,GAAF,CAAhB,GAA4B7L,SAAjC,CAA6C,CAC5C+jB,gBAAgB,CAAElY,GAAF,CAAhB,CAA0BqW,SAAS,CAAClP,YAAV,CACzB3V,MAAM,CAAEwO,GAAF,CAAO,IAAP,CAAN,CAAoBsI,KAApB,CAA2B1L,GAA3B,EAAmC,CAAC,CADX,CAEzBpL,MAAM,CAAC8M,IAAP,CAAa0B,GAAb,CAAkB,IAAlB,CAAwB,IAAxB,CAA8B,CAAEpD,GAAF,CAA9B,EAAwC3K,MAFzC,CAGA,CACD,GAAKimB,gBAAgB,CAAElY,GAAF,CAArB,CAA+B,CAC9BiY,eAAe,CAAC7oB,IAAhB,CAAsBinB,SAAtB,EACA,CACD,CACD,GAAK4B,eAAe,CAAChmB,MAArB,CAA8B,CAC7BslB,YAAY,CAACnoB,IAAb,CAAmB,CAAEyD,IAAI,CAAE+J,GAAR,CAAa0Z,QAAQ,CAAE2B,eAAvB,CAAnB,EACA,CACD,CACD,CACD,CAGDrb,GAAG,CAAG,IAAN,CACA,GAAKma,aAAa,CAAGT,QAAQ,CAACrkB,MAA9B,CAAuC,CACtCslB,YAAY,CAACnoB,IAAb,CAAmB,CAAEyD,IAAI,CAAE+J,GAAR,CAAa0Z,QAAQ,CAAEA,QAAQ,CAACpnB,KAAT,CAAgB6nB,aAAhB,CAAvB,CAAnB,EACA,CAED,MAAOQ,aAAP,CACA,CAzTa,CA2Tda,OAAO,CAAE,SAAU1kB,IAAV,CAAgB2kB,IAAhB,CAAuB,CAC/BrpB,MAAM,CAACugB,cAAP,CAAuB/d,MAAM,CAAC8mB,KAAP,CAAaxmB,SAApC,CAA+C4B,IAA/C,CAAqD,CACpD6kB,UAAU,CAAE,IADwC,CAEpD/I,YAAY,CAAE,IAFsC,CAIpDrd,GAAG,CAAErC,UAAU,CAAEuoB,IAAF,CAAV,CACJ,UAAW,CACV,GAAK,KAAKG,aAAV,CAA0B,CACxB,MAAOH,KAAI,CAAE,KAAKG,aAAP,CAAX,CACD,CACD,CALG,CAMJ,UAAW,CACV,GAAK,KAAKA,aAAV,CAA0B,CACxB,MAAO,MAAKA,aAAL,CAAoB9kB,IAApB,CAAP,CACD,CACD,CAdkD,CAgBpD+b,GAAG,CAAE,SAAU9Z,KAAV,CAAkB,CACtB3G,MAAM,CAACugB,cAAP,CAAuB,IAAvB,CAA6B7b,IAA7B,CAAmC,CAClC6kB,UAAU,CAAE,IADsB,CAElC/I,YAAY,CAAE,IAFoB,CAGlCiJ,QAAQ,CAAE,IAHwB,CAIlC9iB,KAAK,CAAEA,KAJ2B,CAAnC,EAMA,CAvBmD,CAArD,EAyBA,CArVa,CAuVd2hB,GAAG,CAAE,SAAUkB,aAAV,CAA0B,CAC9B,MAAOA,cAAa,CAAEhnB,MAAM,CAAC4C,OAAT,CAAb,CACNokB,aADM,CAEN,GAAIhnB,OAAM,CAAC8mB,KAAX,CAAkBE,aAAlB,CAFD,CAGA,CA3Va,CA6VdpM,OAAO,CAAE,CACRsM,IAAI,CAAE,CAGLC,QAAQ,CAAE,IAHL,CADE,CAMRC,KAAK,CAAE,CAGN5B,KAAK,CAAE,SAAUtH,IAAV,CAAiB,CAIvB,GAAIpT,GAAE,CAAG,MAAQoT,IAAjB,CAGA,GAAKuD,cAAc,CAACzX,IAAf,CAAqBc,EAAE,CAACnM,IAAxB,GACJmM,EAAE,CAACsc,KADC,EACQxe,QAAQ,CAAEkC,EAAF,CAAM,OAAN,CADrB,CACuC,CAGtCuc,cAAc,CAAEvc,EAAF,CAAM,OAAN,CAAegZ,UAAf,CAAd,CACA,CAGD,MAAO,MAAP,CACA,CAnBK,CAoBNwD,OAAO,CAAE,SAAUpJ,IAAV,CAAiB,CAIzB,GAAIpT,GAAE,CAAG,MAAQoT,IAAjB,CAGA,GAAKuD,cAAc,CAACzX,IAAf,CAAqBc,EAAE,CAACnM,IAAxB,GACJmM,EAAE,CAACsc,KADC,EACQxe,QAAQ,CAAEkC,EAAF,CAAM,OAAN,CADrB,CACuC,CAEtCuc,cAAc,CAAEvc,EAAF,CAAM,OAAN,CAAd,CACA,CAGD,MAAO,KAAP,CACA,CAnCK,CAuCNoX,QAAQ,CAAE,SAAUqC,KAAV,CAAkB,CAC3B,GAAIjiB,OAAM,CAAGiiB,KAAK,CAACjiB,MAAnB,CACA,MAAOmf,eAAc,CAACzX,IAAf,CAAqB1H,MAAM,CAAC3D,IAA5B,GACN2D,MAAM,CAAC8kB,KADD,EACUxe,QAAQ,CAAEtG,MAAF,CAAU,OAAV,CADlB,EAEN+b,QAAQ,CAAC1d,GAAT,CAAc2B,MAAd,CAAsB,OAAtB,CAFM,EAGNsG,QAAQ,CAAEtG,MAAF,CAAU,GAAV,CAHT,CAIA,CA7CK,CANC,CAsDRilB,YAAY,CAAE,CACbf,YAAY,CAAE,SAAUjC,KAAV,CAAkB,CAI/B,GAAKA,KAAK,CAAC7U,MAAN,GAAiB/M,SAAjB,EAA8B4hB,KAAK,CAACyC,aAAzC,CAAyD,CACxDzC,KAAK,CAACyC,aAAN,CAAoBQ,WAApB,CAAkCjD,KAAK,CAAC7U,MAAxC,CACA,CACD,CARY,CAtDN,CA7VK,CAAf,CAoaA,QAAS2X,eAAT,CAAyBvc,EAAzB,CAA6BnM,IAA7B,CAAmCqlB,UAAnC,CAAgD,CAG/C,GAAK,CAACA,UAAN,CAAmB,CAClB,GAAK3F,QAAQ,CAAC1d,GAAT,CAAcmK,EAAd,CAAkBnM,IAAlB,IAA6BgE,SAAlC,CAA8C,CAC7C3C,MAAM,CAACukB,KAAP,CAAavN,GAAb,CAAkBlM,EAAlB,CAAsBnM,IAAtB,CAA4BmlB,UAA5B,EACA,CACD,OACA,CAGDzF,QAAQ,CAACJ,GAAT,CAAcnT,EAAd,CAAkBnM,IAAlB,CAAwB,KAAxB,EACAqB,MAAM,CAACukB,KAAP,CAAavN,GAAb,CAAkBlM,EAAlB,CAAsBnM,IAAtB,CAA4B,CAC3BoN,SAAS,CAAE,KADgB,CAE3Bd,OAAO,CAAE,SAAUsZ,KAAV,CAAkB,CAC1B,GAAIkD,SAAJ,CAAc/X,MAAd,CACCgY,KAAK,CAAGrJ,QAAQ,CAAC1d,GAAT,CAAc,IAAd,CAAoBhC,IAApB,CADT,CAGA,GAAO4lB,KAAK,CAACoD,SAAN,CAAkB,CAApB,EAA2B,KAAMhpB,IAAN,CAAhC,CAA+C,CAK9C,GAAK,CAAC+oB,KAAK,CAACjnB,MAAZ,CAAqB,CAKpBinB,KAAK,CAAGhqB,KAAK,CAACU,IAAN,CAAYmD,SAAZ,CAAR,CACA8c,QAAQ,CAACJ,GAAT,CAAc,IAAd,CAAoBtf,IAApB,CAA0B+oB,KAA1B,EAKAD,QAAQ,CAAGzD,UAAU,CAAE,IAAF,CAAQrlB,IAAR,CAArB,CACA,KAAMA,IAAN,IACA+Q,MAAM,CAAG2O,QAAQ,CAAC1d,GAAT,CAAc,IAAd,CAAoBhC,IAApB,CAAT,CACA,GAAK+oB,KAAK,GAAKhY,MAAV,EAAoB+X,QAAzB,CAAoC,CACnCpJ,QAAQ,CAACJ,GAAT,CAAc,IAAd,CAAoBtf,IAApB,CAA0B,KAA1B,EACA,CAFD,IAEO,CACN+Q,MAAM,CAAG,EAAT,CACA,CACD,GAAKgY,KAAK,GAAKhY,MAAf,CAAwB,CAGvB6U,KAAK,CAACqD,wBAAN,GACArD,KAAK,CAAC+B,cAAN,GACA,MAAO5W,OAAM,CAACvL,KAAd,CACA,CAQD,CAjCD,IAiCO,IAAK,CAAEnE,MAAM,CAACukB,KAAP,CAAa3J,OAAb,CAAsBjc,IAAtB,GAAgC,EAAlC,EAAuC0mB,YAA5C,CAA2D,CACjEd,KAAK,CAACgC,eAAN,GACA,CAID,CA5CD,IA4CO,IAAKmB,KAAK,CAACjnB,MAAX,CAAoB,CAG1B4d,QAAQ,CAACJ,GAAT,CAAc,IAAd,CAAoBtf,IAApB,CAA0B,CACzBwF,KAAK,CAAEnE,MAAM,CAACukB,KAAP,CAAa+C,OAAb,CAINtnB,MAAM,CAACgC,MAAP,CAAe0lB,KAAK,CAAE,CAAF,CAApB,CAA2B1nB,MAAM,CAAC8mB,KAAP,CAAaxmB,SAAxC,CAJM,CAKNonB,KAAK,CAAChqB,KAAN,CAAa,CAAb,CALM,CAMN,IANM,CADkB,CAA1B,EAYA6mB,KAAK,CAACqD,wBAAN,GACA,CACD,CAnE0B,CAA5B,EAqEA,CAED5nB,MAAM,CAAC4lB,WAAP,CAAqB,SAAUvkB,IAAV,CAAgB1C,IAAhB,CAAsBumB,MAAtB,CAA+B,CAGnD,GAAK7jB,IAAI,CAACsb,mBAAV,CAAgC,CAC/Btb,IAAI,CAACsb,mBAAL,CAA0Bhe,IAA1B,CAAgCumB,MAAhC,EACA,CACD,CAND,CAQAllB,MAAM,CAAC8mB,KAAP,CAAe,SAAUloB,GAAV,CAAeipB,KAAf,CAAuB,CAGrC,GAAK,EAAG,eAAgB7nB,OAAM,CAAC8mB,KAA1B,CAAL,CAAyC,CACxC,MAAO,IAAI9mB,OAAM,CAAC8mB,KAAX,CAAkBloB,GAAlB,CAAuBipB,KAAvB,CAAP,CACA,CAGD,GAAKjpB,GAAG,EAAIA,GAAG,CAACD,IAAhB,CAAuB,CACtB,KAAKqoB,aAAL,CAAqBpoB,GAArB,CACA,KAAKD,IAAL,CAAYC,GAAG,CAACD,IAAhB,CAIA,KAAKmpB,kBAAL,CAA0BlpB,GAAG,CAACmpB,gBAAJ,EACxBnpB,GAAG,CAACmpB,gBAAJ,GAAyBplB,SAAzB,EAGA/D,GAAG,CAAC4oB,WAAJ,GAAoB,KAJI,CAKzB1D,UALyB,CAMzBC,WAND,CAWA,KAAKzhB,MAAL,CAAgB1D,GAAG,CAAC0D,MAAJ,EAAc1D,GAAG,CAAC0D,MAAJ,CAAW9D,QAAX,GAAwB,CAAxC,CACbI,GAAG,CAAC0D,MAAJ,CAAW1C,UADE,CAEbhB,GAAG,CAAC0D,MAFL,CAIA,KAAK6jB,aAAL,CAAqBvnB,GAAG,CAACunB,aAAzB,CACA,KAAK6B,aAAL,CAAqBppB,GAAG,CAACopB,aAAzB,CAGA,CAzBD,IAyBO,CACN,KAAKrpB,IAAL,CAAYC,GAAZ,CACA,CAGD,GAAKipB,KAAL,CAAa,CACZ7nB,MAAM,CAACgC,MAAP,CAAe,IAAf,CAAqB6lB,KAArB,EACA,CAGD,KAAKI,SAAL,CAAiBrpB,GAAG,EAAIA,GAAG,CAACqpB,SAAX,EAAwBxiB,IAAI,CAACyiB,GAAL,EAAzC,CAGA,KAAMloB,MAAM,CAAC4C,OAAb,EAAyB,IAAzB,CACA,CA/CD,CAmDA5C,MAAM,CAAC8mB,KAAP,CAAaxmB,SAAb,CAAyB,CACxBE,WAAW,CAAER,MAAM,CAAC8mB,KADI,CAExBgB,kBAAkB,CAAE/D,WAFI,CAGxBmC,oBAAoB,CAAEnC,WAHE,CAIxBqC,6BAA6B,CAAErC,WAJP,CAKxBoE,WAAW,CAAE,KALW,CAOxB7B,cAAc,CAAE,UAAW,CAC1B,GAAItd,EAAC,CAAG,KAAKge,aAAb,CAEA,KAAKc,kBAAL,CAA0BhE,UAA1B,CAEA,GAAK9a,CAAC,EAAI,CAAC,KAAKmf,WAAhB,CAA8B,CAC7Bnf,CAAC,CAACsd,cAAF,GACA,CACD,CAfuB,CAgBxBC,eAAe,CAAE,UAAW,CAC3B,GAAIvd,EAAC,CAAG,KAAKge,aAAb,CAEA,KAAKd,oBAAL,CAA4BpC,UAA5B,CAEA,GAAK9a,CAAC,EAAI,CAAC,KAAKmf,WAAhB,CAA8B,CAC7Bnf,CAAC,CAACud,eAAF,GACA,CACD,CAxBuB,CAyBxBqB,wBAAwB,CAAE,UAAW,CACpC,GAAI5e,EAAC,CAAG,KAAKge,aAAb,CAEA,KAAKZ,6BAAL,CAAqCtC,UAArC,CAEA,GAAK9a,CAAC,EAAI,CAAC,KAAKmf,WAAhB,CAA8B,CAC7Bnf,CAAC,CAAC4e,wBAAF,GACA,CAED,KAAKrB,eAAL,GACA,CAnCuB,CAAzB,CAuCAvmB,MAAM,CAACkB,IAAP,CAAa,CACZknB,MAAM,CAAE,IADI,CAEZC,OAAO,CAAE,IAFG,CAGZC,UAAU,CAAE,IAHA,CAIZC,cAAc,CAAE,IAJJ,CAKZC,OAAO,CAAE,IALG,CAMZC,MAAM,CAAE,IANI,CAOZC,UAAU,CAAE,IAPA,CAQZC,OAAO,CAAE,IARG,CASZC,KAAK,CAAE,IATK,CAUZC,KAAK,CAAE,IAVK,CAWZC,QAAQ,CAAE,IAXE,CAYZC,IAAI,CAAE,IAZM,CAaZ,OAAQ,IAbI,CAcZ/pB,IAAI,CAAE,IAdM,CAeZgqB,QAAQ,CAAE,IAfE,CAgBZve,GAAG,CAAE,IAhBO,CAiBZwe,OAAO,CAAE,IAjBG,CAkBZtC,MAAM,CAAE,IAlBI,CAmBZuC,OAAO,CAAE,IAnBG,CAoBZC,OAAO,CAAE,IApBG,CAqBZC,OAAO,CAAE,IArBG,CAsBZC,OAAO,CAAE,IAtBG,CAuBZC,OAAO,CAAE,IAvBG,CAwBZC,SAAS,CAAE,IAxBC,CAyBZC,WAAW,CAAE,IAzBD,CA0BZC,OAAO,CAAE,IA1BG,CA2BZC,OAAO,CAAE,IA3BG,CA4BZC,aAAa,CAAE,IA5BH,CA6BZC,SAAS,CAAE,IA7BC,CA8BZC,OAAO,CAAE,IA9BG,CAgCZC,KAAK,CAAE,SAAUvF,KAAV,CAAkB,CACxB,GAAIoC,OAAM,CAAGpC,KAAK,CAACoC,MAAnB,CAGA,GAAKpC,KAAK,CAACuF,KAAN,EAAe,IAAf,EAAuBnG,SAAS,CAAC3Z,IAAV,CAAgBua,KAAK,CAAC5lB,IAAtB,CAA5B,CAA2D,CAC1D,MAAO4lB,MAAK,CAACyE,QAAN,EAAkB,IAAlB,CAAyBzE,KAAK,CAACyE,QAA/B,CAA0CzE,KAAK,CAAC0E,OAAvD,CACA,CAGD,GAAK,CAAC1E,KAAK,CAACuF,KAAP,EAAgBnD,MAAM,GAAKhkB,SAA3B,EAAwCihB,WAAW,CAAC5Z,IAAZ,CAAkBua,KAAK,CAAC5lB,IAAxB,CAA7C,CAA8E,CAC7E,GAAKgoB,MAAM,CAAG,CAAd,CAAkB,CACjB,MAAO,EAAP,CACA,CAED,GAAKA,MAAM,CAAG,CAAd,CAAkB,CACjB,MAAO,EAAP,CACA,CAED,GAAKA,MAAM,CAAG,CAAd,CAAkB,CACjB,MAAO,EAAP,CACA,CAED,MAAO,EAAP,CACA,CAED,MAAOpC,MAAK,CAACuF,KAAb,CACA,CA1DW,CAAb,CA2DG9pB,MAAM,CAACukB,KAAP,CAAaqC,OA3DhB,EA6DA5mB,MAAM,CAACkB,IAAP,CAAa,CAAE6oB,KAAK,CAAE,SAAT,CAAoBC,IAAI,CAAE,UAA1B,CAAb,CAAqD,SAAUrrB,IAAV,CAAgB0mB,YAAhB,CAA+B,CACnFrlB,MAAM,CAACukB,KAAP,CAAa3J,OAAb,CAAsBjc,IAAtB,EAA+B,CAG9B6mB,KAAK,CAAE,UAAW,CAKjB6B,cAAc,CAAE,IAAF,CAAQ1oB,IAAR,CAAcqlB,UAAd,CAAd,CAGA,MAAO,MAAP,CACA,CAZ6B,CAa9BsD,OAAO,CAAE,UAAW,CAGnBD,cAAc,CAAE,IAAF,CAAQ1oB,IAAR,CAAd,CAGA,MAAO,KAAP,CACA,CApB6B,CAsB9B0mB,YAAY,CAAEA,YAtBgB,CAA/B,CAwBA,CAzBD,EAmCArlB,MAAM,CAACkB,IAAP,CAAa,CACZ+oB,UAAU,CAAE,WADA,CAEZC,UAAU,CAAE,UAFA,CAGZC,YAAY,CAAE,aAHF,CAIZC,YAAY,CAAE,YAJF,CAAb,CAKG,SAAUC,IAAV,CAAgBvE,GAAhB,CAAsB,CACxB9lB,MAAM,CAACukB,KAAP,CAAa3J,OAAb,CAAsByP,IAAtB,EAA+B,CAC9BhF,YAAY,CAAES,GADgB,CAE9BR,QAAQ,CAAEQ,GAFoB,CAI9BZ,MAAM,CAAE,SAAUX,KAAV,CAAkB,CACzB,GAAIxjB,IAAJ,CACCuB,MAAM,CAAG,IADV,CAECgoB,OAAO,CAAG/F,KAAK,CAACyD,aAFjB,CAGCnD,SAAS,CAAGN,KAAK,CAACM,SAHnB,CAOA,GAAK,CAACyF,OAAD,EAAcA,OAAO,GAAKhoB,MAAZ,EAAsB,CAACtC,MAAM,CAACwF,QAAP,CAAiBlD,MAAjB,CAAyBgoB,OAAzB,CAA1C,CAAiF,CAChF/F,KAAK,CAAC5lB,IAAN,CAAakmB,SAAS,CAACG,QAAvB,CACAjkB,GAAG,CAAG8jB,SAAS,CAAC5Z,OAAV,CAAkB3J,KAAlB,CAAyB,IAAzB,CAA+BC,SAA/B,CAAN,CACAgjB,KAAK,CAAC5lB,IAAN,CAAamnB,GAAb,CACA,CACD,MAAO/kB,IAAP,CACA,CAlB6B,CAA/B,CAoBA,CA1BD,EA4BAf,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CAEjBmiB,EAAE,CAAE,SAAUC,KAAV,CAAiBnkB,QAAjB,CAA2Bie,IAA3B,CAAiC/d,EAAjC,CAAsC,CACzC,MAAOgkB,GAAE,CAAE,IAAF,CAAQC,KAAR,CAAenkB,QAAf,CAAyBie,IAAzB,CAA+B/d,EAA/B,CAAT,CACA,CAJgB,CAKjBkkB,GAAG,CAAE,SAAUD,KAAV,CAAiBnkB,QAAjB,CAA2Bie,IAA3B,CAAiC/d,EAAjC,CAAsC,CAC1C,MAAOgkB,GAAE,CAAE,IAAF,CAAQC,KAAR,CAAenkB,QAAf,CAAyBie,IAAzB,CAA+B/d,EAA/B,CAAmC,CAAnC,CAAT,CACA,CAPgB,CAQjBqkB,GAAG,CAAE,SAAUJ,KAAV,CAAiBnkB,QAAjB,CAA2BE,EAA3B,CAAgC,CACpC,GAAI0kB,UAAJ,CAAelmB,IAAf,CACA,GAAKylB,KAAK,EAAIA,KAAK,CAACkC,cAAf,EAAiClC,KAAK,CAACS,SAA5C,CAAwD,CAGvDA,SAAS,CAAGT,KAAK,CAACS,SAAlB,CACA7kB,MAAM,CAAEokB,KAAK,CAAC4B,cAAR,CAAN,CAA+BxB,GAA/B,CACCK,SAAS,CAAC9Y,SAAV,CACC8Y,SAAS,CAACG,QAAV,CAAqB,GAArB,CAA2BH,SAAS,CAAC9Y,SADtC,CAEC8Y,SAAS,CAACG,QAHZ,CAICH,SAAS,CAAC5kB,QAJX,CAKC4kB,SAAS,CAAC5Z,OALX,EAOA,MAAO,KAAP,CACA,CACD,GAAK,MAAOmZ,MAAP,GAAiB,QAAtB,CAAiC,CAGhC,IAAMzlB,IAAN,GAAcylB,MAAd,CAAsB,CACrB,KAAKI,GAAL,CAAU7lB,IAAV,CAAgBsB,QAAhB,CAA0BmkB,KAAK,CAAEzlB,IAAF,CAA/B,EACA,CACD,MAAO,KAAP,CACA,CACD,GAAKsB,QAAQ,GAAK,KAAb,EAAsB,MAAOA,SAAP,GAAoB,UAA/C,CAA4D,CAG3DE,EAAE,CAAGF,QAAL,CACAA,QAAQ,CAAG0C,SAAX,CACA,CACD,GAAKxC,EAAE,GAAK,KAAZ,CAAoB,CACnBA,EAAE,CAAG4jB,WAAL,CACA,CACD,MAAO,MAAK7iB,IAAL,CAAW,UAAW,CAC5BlB,MAAM,CAACukB,KAAP,CAAa9L,MAAb,CAAqB,IAArB,CAA2B2L,KAA3B,CAAkCjkB,EAAlC,CAAsCF,QAAtC,EACA,CAFM,CAAP,CAGA,CA3CgB,CAAlB,EA+CA,GAKCsqB,UAAS,CAAG,6FALb,CAYCC,YAAY,CAAG,uBAZhB,CAeCC,QAAQ,CAAG,mCAfZ,CAgBCC,YAAY,CAAG,0CAhBhB,CAmBA,QAASC,mBAAT,CAA6BtpB,IAA7B,CAAmCoW,OAAnC,CAA6C,CAC5C,GAAK7O,QAAQ,CAAEvH,IAAF,CAAQ,OAAR,CAAR,EACJuH,QAAQ,CAAE6O,OAAO,CAACjZ,QAAR,GAAqB,EAArB,CAA0BiZ,OAA1B,CAAoCA,OAAO,CAAC3I,UAA9C,CAA0D,IAA1D,CADT,CAC4E,CAE3E,MAAO9O,OAAM,CAAEqB,IAAF,CAAN,CAAekV,QAAf,CAAyB,OAAzB,EAAoC,CAApC,GAA2ClV,IAAlD,CACA,CAED,MAAOA,KAAP,CACA,CAGD,QAASupB,cAAT,CAAwBvpB,IAAxB,CAA+B,CAC9BA,IAAI,CAAC1C,IAAL,CAAY,CAAE0C,IAAI,CAAC7B,YAAL,CAAmB,MAAnB,IAAgC,IAAlC,EAA2C,GAA3C,CAAiD6B,IAAI,CAAC1C,IAAlE,CACA,MAAO0C,KAAP,CACA,CACD,QAASwpB,cAAT,CAAwBxpB,IAAxB,CAA+B,CAC9B,GAAK,CAAEA,IAAI,CAAC1C,IAAL,EAAa,EAAf,EAAoBjB,KAApB,CAA2B,CAA3B,CAA8B,CAA9B,IAAsC,OAA3C,CAAqD,CACpD2D,IAAI,CAAC1C,IAAL,CAAY0C,IAAI,CAAC1C,IAAL,CAAUjB,KAAV,CAAiB,CAAjB,CAAZ,CACA,CAFD,IAEO,CACN2D,IAAI,CAACiJ,eAAL,CAAsB,MAAtB,EACA,CAED,MAAOjJ,KAAP,CACA,CAED,QAASypB,eAAT,CAAyBlsB,GAAzB,CAA8BmsB,IAA9B,CAAqC,CACpC,GAAI5rB,EAAJ,CAAOyX,CAAP,CAAUjY,IAAV,CAAgBqsB,QAAhB,CAA0BC,QAA1B,CAAoCC,QAApC,CAA8CC,QAA9C,CAAwDxG,MAAxD,CAEA,GAAKoG,IAAI,CAACvsB,QAAL,GAAkB,CAAvB,CAA2B,CAC1B,OACA,CAGD,GAAK6f,QAAQ,CAACD,OAAT,CAAkBxf,GAAlB,CAAL,CAA+B,CAC9BosB,QAAQ,CAAG3M,QAAQ,CAACvB,MAAT,CAAiBle,GAAjB,CAAX,CACAqsB,QAAQ,CAAG5M,QAAQ,CAACJ,GAAT,CAAc8M,IAAd,CAAoBC,QAApB,CAAX,CACArG,MAAM,CAAGqG,QAAQ,CAACrG,MAAlB,CAEA,GAAKA,MAAL,CAAc,CACb,MAAOsG,SAAQ,CAAC/F,MAAhB,CACA+F,QAAQ,CAACtG,MAAT,CAAkB,EAAlB,CAEA,IAAMhmB,IAAN,GAAcgmB,OAAd,CAAuB,CACtB,IAAMxlB,CAAC,CAAG,CAAJ,CAAOyX,CAAC,CAAG+N,MAAM,CAAEhmB,IAAF,CAAN,CAAe8B,MAAhC,CAAwCtB,CAAC,CAAGyX,CAA5C,CAA+CzX,CAAC,EAAhD,CAAqD,CACpDa,MAAM,CAACukB,KAAP,CAAavN,GAAb,CAAkB+T,IAAlB,CAAwBpsB,IAAxB,CAA8BgmB,MAAM,CAAEhmB,IAAF,CAAN,CAAgBQ,CAAhB,CAA9B,EACA,CACD,CACD,CACD,CAGD,GAAKmf,QAAQ,CAACF,OAAT,CAAkBxf,GAAlB,CAAL,CAA+B,CAC9BssB,QAAQ,CAAG5M,QAAQ,CAACxB,MAAT,CAAiBle,GAAjB,CAAX,CACAusB,QAAQ,CAAGnrB,MAAM,CAACgC,MAAP,CAAe,EAAf,CAAmBkpB,QAAnB,CAAX,CAEA5M,QAAQ,CAACL,GAAT,CAAc8M,IAAd,CAAoBI,QAApB,EACA,CACD,CAGD,QAASC,SAAT,CAAmBxsB,GAAnB,CAAwBmsB,IAAxB,CAA+B,CAC9B,GAAIniB,SAAQ,CAAGmiB,IAAI,CAACniB,QAAL,CAAcpE,WAAd,EAAf,CAGA,GAAKoE,QAAQ,GAAK,OAAb,EAAwB6Y,cAAc,CAACzX,IAAf,CAAqBpL,GAAG,CAACD,IAAzB,CAA7B,CAA+D,CAC9DosB,IAAI,CAACxZ,OAAL,CAAe3S,GAAG,CAAC2S,OAAnB,CAGA,CAJD,IAIO,IAAK3I,QAAQ,GAAK,OAAb,EAAwBA,QAAQ,GAAK,UAA1C,CAAuD,CAC7DmiB,IAAI,CAAC9V,YAAL,CAAoBrW,GAAG,CAACqW,YAAxB,CACA,CACD,CAED,QAASoW,SAAT,CAAmBC,UAAnB,CAA+B7a,IAA/B,CAAqCtP,QAArC,CAA+C4hB,OAA/C,CAAyD,CAGxDtS,IAAI,CAAG9S,MAAM,CAAC2D,KAAP,CAAc,EAAd,CAAkBmP,IAAlB,CAAP,CAEA,GAAIyS,SAAJ,CAAc1hB,KAAd,CAAqBqhB,OAArB,CAA8B0I,UAA9B,CAA0CtsB,IAA1C,CAAgDC,GAAhD,CACCC,CAAC,CAAG,CADL,CAECyX,CAAC,CAAG0U,UAAU,CAAC7qB,MAFhB,CAIC0D,KAAK,CAAGsM,IAAI,CAAE,CAAF,CAJb,CAKC+a,eAAe,CAAGltB,UAAU,CAAE6F,KAAF,CAL7B,CAQA,GAAKqnB,eAAe,EAChB5U,CAAC,CAAG,CAAJ,EAAS,MAAOzS,MAAP,GAAiB,QAA1B,EACD,CAAC9F,OAAO,CAACmlB,UADR,EACsBiH,QAAQ,CAACzgB,IAAT,CAAe7F,KAAf,CAF1B,CAEqD,CACpD,MAAOmnB,WAAU,CAACpqB,IAAX,CAAiB,SAAU4V,KAAV,CAAkB,CACzC,GAAId,KAAI,CAAGsV,UAAU,CAAC7pB,EAAX,CAAeqV,KAAf,CAAX,CACA,GAAK0U,eAAL,CAAuB,CACtB/a,IAAI,CAAE,CAAF,CAAJ,CAAYtM,KAAK,CAAC/F,IAAN,CAAY,IAAZ,CAAkB0Y,KAAlB,CAAyBd,IAAI,CAACyV,IAAL,EAAzB,CAAZ,CACA,CACDJ,QAAQ,CAAErV,IAAF,CAAQvF,IAAR,CAActP,QAAd,CAAwB4hB,OAAxB,CAAR,CACA,CANM,CAAP,CAOA,CAED,GAAKnM,CAAL,CAAS,CACRsM,QAAQ,CAAGN,aAAa,CAAEnS,IAAF,CAAQ6a,UAAU,CAAE,CAAF,CAAV,CAAgB7hB,aAAxB,CAAuC,KAAvC,CAA8C6hB,UAA9C,CAA0DvI,OAA1D,CAAxB,CACAvhB,KAAK,CAAG0hB,QAAQ,CAACpU,UAAjB,CAEA,GAAKoU,QAAQ,CAACna,UAAT,CAAoBtI,MAApB,GAA+B,CAApC,CAAwC,CACvCyiB,QAAQ,CAAG1hB,KAAX,CACA,CAGD,GAAKA,KAAK,EAAIuhB,OAAd,CAAwB,CACvBF,OAAO,CAAG7iB,MAAM,CAACoB,GAAP,CAAYqhB,MAAM,CAAES,QAAF,CAAY,QAAZ,CAAlB,CAA0C0H,aAA1C,CAAV,CACAW,UAAU,CAAG1I,OAAO,CAACpiB,MAArB,CAKA,KAAQtB,CAAC,CAAGyX,CAAZ,CAAezX,CAAC,EAAhB,CAAqB,CACpBF,IAAI,CAAGikB,QAAP,CAEA,GAAK/jB,CAAC,GApCGyX,CAAC,CAAG,CAoCb,CAAsB,CACrB3X,IAAI,CAAGe,MAAM,CAACqC,KAAP,CAAcpD,IAAd,CAAoB,IAApB,CAA0B,IAA1B,CAAP,CAGA,GAAKssB,UAAL,CAAkB,CAIjBvrB,MAAM,CAACgB,KAAP,CAAc6hB,OAAd,CAAuBJ,MAAM,CAAExjB,IAAF,CAAQ,QAAR,CAA7B,EACA,CACD,CAEDkC,QAAQ,CAAC/C,IAAT,CAAektB,UAAU,CAAEnsB,CAAF,CAAzB,CAAgCF,IAAhC,CAAsCE,CAAtC,EACA,CAED,GAAKosB,UAAL,CAAkB,CACjBrsB,GAAG,CAAG2jB,OAAO,CAAEA,OAAO,CAACpiB,MAAR,CAAiB,CAAnB,CAAP,CAA8BgJ,aAApC,CAGAzJ,MAAM,CAACoB,GAAP,CAAYyhB,OAAZ,CAAqBgI,aAArB,EAGA,IAAM1rB,CAAC,CAAG,CAAV,CAAaA,CAAC,CAAGosB,UAAjB,CAA6BpsB,CAAC,EAA9B,CAAmC,CAClCF,IAAI,CAAG4jB,OAAO,CAAE1jB,CAAF,CAAd,CACA,GAAKwiB,WAAW,CAAC3X,IAAZ,CAAkB/K,IAAI,CAACN,IAAL,EAAa,EAA/B,GACJ,CAAC0f,QAAQ,CAACvB,MAAT,CAAiB7d,IAAjB,CAAuB,YAAvB,CADG,EAEJe,MAAM,CAACwF,QAAP,CAAiBtG,GAAjB,CAAsBD,IAAtB,CAFD,CAEgC,CAE/B,GAAKA,IAAI,CAACL,GAAL,EAAY,CAAEK,IAAI,CAACN,IAAL,EAAa,EAAf,EAAoB6F,WAApB,KAAuC,QAAxD,CAAmE,CAGlE,GAAKxE,MAAM,CAAC0rB,QAAP,EAAmB,CAACzsB,IAAI,CAACH,QAA9B,CAAyC,CACxCkB,MAAM,CAAC0rB,QAAP,CAAiBzsB,IAAI,CAACL,GAAtB,CAA2B,CAC1BC,KAAK,CAAEI,IAAI,CAACJ,KAAL,EAAcI,IAAI,CAACO,YAAL,CAAmB,OAAnB,CADK,CAA3B,EAGA,CACD,CARD,IAQO,CACNT,OAAO,CAAEE,IAAI,CAAC4P,WAAL,CAAiB9L,OAAjB,CAA0B2nB,YAA1B,CAAwC,EAAxC,CAAF,CAAgDzrB,IAAhD,CAAsDC,GAAtD,CAAP,CACA,CACD,CACD,CACD,CACD,CACD,CAED,MAAOosB,WAAP,CACA,CAED,QAAS7S,OAAT,CAAiBpX,IAAjB,CAAuBpB,QAAvB,CAAiC0rB,QAAjC,CAA4C,CAC3C,GAAI1sB,KAAJ,CACCmkB,KAAK,CAAGnjB,QAAQ,CAAGD,MAAM,CAAC4M,MAAP,CAAe3M,QAAf,CAAyBoB,IAAzB,CAAH,CAAqCA,IADtD,CAEClC,CAAC,CAAG,CAFL,CAIA,KAAQ,CAAEF,IAAI,CAAGmkB,KAAK,CAAEjkB,CAAF,CAAd,GAAyB,IAAjC,CAAuCA,CAAC,EAAxC,CAA6C,CAC5C,GAAK,CAACwsB,QAAD,EAAa1sB,IAAI,CAACT,QAAL,GAAkB,CAApC,CAAwC,CACvCwB,MAAM,CAAC4rB,SAAP,CAAkBnJ,MAAM,CAAExjB,IAAF,CAAxB,EACA,CAED,GAAKA,IAAI,CAACW,UAAV,CAAuB,CACtB,GAAK+rB,QAAQ,EAAI9L,UAAU,CAAE5gB,IAAF,CAA3B,CAAsC,CACrCyjB,aAAa,CAAED,MAAM,CAAExjB,IAAF,CAAQ,QAAR,CAAR,CAAb,CACA,CACDA,IAAI,CAACW,UAAL,CAAgBC,WAAhB,CAA6BZ,IAA7B,EACA,CACD,CAED,MAAOoC,KAAP,CACA,CAEDrB,MAAM,CAACgC,MAAP,CAAe,CACdshB,aAAa,CAAE,SAAUmI,IAAV,CAAiB,CAC/B,MAAOA,KAAI,CAAC1oB,OAAL,CAAcwnB,SAAd,CAAyB,WAAzB,CAAP,CACA,CAHa,CAKdloB,KAAK,CAAE,SAAUhB,IAAV,CAAgBwqB,aAAhB,CAA+BC,iBAA/B,CAAmD,CACzD,GAAI3sB,EAAJ,CAAOyX,CAAP,CAAUmV,WAAV,CAAuBC,YAAvB,CACC3pB,KAAK,CAAGhB,IAAI,CAACoiB,SAAL,CAAgB,IAAhB,CADT,CAECwI,MAAM,CAAGpM,UAAU,CAAExe,IAAF,CAFpB,CAKA,GAAK,CAAChD,OAAO,CAACqlB,cAAT,GAA6BriB,IAAI,CAAC7C,QAAL,GAAkB,CAAlB,EAAuB6C,IAAI,CAAC7C,QAAL,GAAkB,EAAtE,GACH,CAACwB,MAAM,CAACmV,QAAP,CAAiB9T,IAAjB,CADH,CAC6B,CAG5B2qB,YAAY,CAAGvJ,MAAM,CAAEpgB,KAAF,CAArB,CACA0pB,WAAW,CAAGtJ,MAAM,CAAEphB,IAAF,CAApB,CAEA,IAAMlC,CAAC,CAAG,CAAJ,CAAOyX,CAAC,CAAGmV,WAAW,CAACtrB,MAA7B,CAAqCtB,CAAC,CAAGyX,CAAzC,CAA4CzX,CAAC,EAA7C,CAAkD,CACjDisB,QAAQ,CAAEW,WAAW,CAAE5sB,CAAF,CAAb,CAAoB6sB,YAAY,CAAE7sB,CAAF,CAAhC,CAAR,CACA,CACD,CAGD,GAAK0sB,aAAL,CAAqB,CACpB,GAAKC,iBAAL,CAAyB,CACxBC,WAAW,CAAGA,WAAW,EAAItJ,MAAM,CAAEphB,IAAF,CAAnC,CACA2qB,YAAY,CAAGA,YAAY,EAAIvJ,MAAM,CAAEpgB,KAAF,CAArC,CAEA,IAAMlD,CAAC,CAAG,CAAJ,CAAOyX,CAAC,CAAGmV,WAAW,CAACtrB,MAA7B,CAAqCtB,CAAC,CAAGyX,CAAzC,CAA4CzX,CAAC,EAA7C,CAAkD,CACjD2rB,cAAc,CAAEiB,WAAW,CAAE5sB,CAAF,CAAb,CAAoB6sB,YAAY,CAAE7sB,CAAF,CAAhC,CAAd,CACA,CACD,CAPD,IAOO,CACN2rB,cAAc,CAAEzpB,IAAF,CAAQgB,KAAR,CAAd,CACA,CACD,CAGD2pB,YAAY,CAAGvJ,MAAM,CAAEpgB,KAAF,CAAS,QAAT,CAArB,CACA,GAAK2pB,YAAY,CAACvrB,MAAb,CAAsB,CAA3B,CAA+B,CAC9BiiB,aAAa,CAAEsJ,YAAF,CAAgB,CAACC,MAAD,EAAWxJ,MAAM,CAAEphB,IAAF,CAAQ,QAAR,CAAjC,CAAb,CACA,CAGD,MAAOgB,MAAP,CACA,CA7Ca,CA+CdupB,SAAS,CAAE,SAAU9qB,KAAV,CAAkB,CAC5B,GAAIod,KAAJ,CAAU7c,IAAV,CAAgB1C,IAAhB,CACCic,OAAO,CAAG5a,MAAM,CAACukB,KAAP,CAAa3J,OADxB,CAECzb,CAAC,CAAG,CAFL,CAIA,KAAQ,CAAEkC,IAAI,CAAGP,KAAK,CAAE3B,CAAF,CAAd,IAA0BwD,SAAlC,CAA6CxD,CAAC,EAA9C,CAAmD,CAClD,GAAKwe,UAAU,CAAEtc,IAAF,CAAf,CAA0B,CACzB,GAAO6c,IAAI,CAAG7c,IAAI,CAAEgd,QAAQ,CAACzb,OAAX,CAAlB,CAA2C,CAC1C,GAAKsb,IAAI,CAACyG,MAAV,CAAmB,CAClB,IAAMhmB,IAAN,GAAcuf,KAAI,CAACyG,MAAnB,CAA4B,CAC3B,GAAK/J,OAAO,CAAEjc,IAAF,CAAZ,CAAuB,CACtBqB,MAAM,CAACukB,KAAP,CAAa9L,MAAb,CAAqBpX,IAArB,CAA2B1C,IAA3B,EAGA,CAJD,IAIO,CACNqB,MAAM,CAAC4lB,WAAP,CAAoBvkB,IAApB,CAA0B1C,IAA1B,CAAgCuf,IAAI,CAACgH,MAArC,EACA,CACD,CACD,CAID7jB,IAAI,CAAEgd,QAAQ,CAACzb,OAAX,CAAJ,CAA2BD,SAA3B,CACA,CACD,GAAKtB,IAAI,CAAEid,QAAQ,CAAC1b,OAAX,CAAT,CAAgC,CAI/BvB,IAAI,CAAEid,QAAQ,CAAC1b,OAAX,CAAJ,CAA2BD,SAA3B,CACA,CACD,CACD,CACD,CA/Ea,CAAf,EAkFA3C,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjBkqB,MAAM,CAAE,SAAUjsB,QAAV,CAAqB,CAC5B,MAAOwY,OAAM,CAAE,IAAF,CAAQxY,QAAR,CAAkB,IAAlB,CAAb,CACA,CAHgB,CAKjBwY,MAAM,CAAE,SAAUxY,QAAV,CAAqB,CAC5B,MAAOwY,OAAM,CAAE,IAAF,CAAQxY,QAAR,CAAb,CACA,CAPgB,CASjBV,IAAI,CAAE,SAAU4E,KAAV,CAAkB,CACvB,MAAO2Y,OAAM,CAAE,IAAF,CAAQ,SAAU3Y,KAAV,CAAkB,CACtC,MAAOA,MAAK,GAAKxB,SAAV,CACN3C,MAAM,CAACT,IAAP,CAAa,IAAb,CADM,CAEN,KAAKmZ,KAAL,GAAaxX,IAAb,CAAmB,UAAW,CAC7B,GAAK,KAAK1C,QAAL,GAAkB,CAAlB,EAAuB,KAAKA,QAAL,GAAkB,EAAzC,EAA+C,KAAKA,QAAL,GAAkB,CAAtE,CAA0E,CACzE,KAAKqQ,WAAL,CAAmB1K,KAAnB,CACA,CACD,CAJD,CAFD,CAOA,CARY,CAQV,IARU,CAQJA,KARI,CAQG5C,SAAS,CAACd,MARb,CAAb,CASA,CAnBgB,CAqBjB0rB,MAAM,CAAE,UAAW,CAClB,MAAOd,SAAQ,CAAE,IAAF,CAAQ9pB,SAAR,CAAmB,SAAUF,IAAV,CAAiB,CAClD,GAAK,KAAK7C,QAAL,GAAkB,CAAlB,EAAuB,KAAKA,QAAL,GAAkB,EAAzC,EAA+C,KAAKA,QAAL,GAAkB,CAAtE,CAA0E,CACzE,GAAI8D,OAAM,CAAGqoB,kBAAkB,CAAE,IAAF,CAAQtpB,IAAR,CAA/B,CACAiB,MAAM,CAAC3C,WAAP,CAAoB0B,IAApB,EACA,CACD,CALc,CAAf,CAMA,CA5BgB,CA8BjB+qB,OAAO,CAAE,UAAW,CACnB,MAAOf,SAAQ,CAAE,IAAF,CAAQ9pB,SAAR,CAAmB,SAAUF,IAAV,CAAiB,CAClD,GAAK,KAAK7C,QAAL,GAAkB,CAAlB,EAAuB,KAAKA,QAAL,GAAkB,EAAzC,EAA+C,KAAKA,QAAL,GAAkB,CAAtE,CAA0E,CACzE,GAAI8D,OAAM,CAAGqoB,kBAAkB,CAAE,IAAF,CAAQtpB,IAAR,CAA/B,CACAiB,MAAM,CAAC+pB,YAAP,CAAqBhrB,IAArB,CAA2BiB,MAAM,CAACwM,UAAlC,EACA,CACD,CALc,CAAf,CAMA,CArCgB,CAuCjBwd,MAAM,CAAE,UAAW,CAClB,MAAOjB,SAAQ,CAAE,IAAF,CAAQ9pB,SAAR,CAAmB,SAAUF,IAAV,CAAiB,CAClD,GAAK,KAAKzB,UAAV,CAAuB,CACtB,KAAKA,UAAL,CAAgBysB,YAAhB,CAA8BhrB,IAA9B,CAAoC,IAApC,EACA,CACD,CAJc,CAAf,CAKA,CA7CgB,CA+CjBkrB,KAAK,CAAE,UAAW,CACjB,MAAOlB,SAAQ,CAAE,IAAF,CAAQ9pB,SAAR,CAAmB,SAAUF,IAAV,CAAiB,CAClD,GAAK,KAAKzB,UAAV,CAAuB,CACtB,KAAKA,UAAL,CAAgBysB,YAAhB,CAA8BhrB,IAA9B,CAAoC,KAAKkK,WAAzC,EACA,CACD,CAJc,CAAf,CAKA,CArDgB,CAuDjBmN,KAAK,CAAE,UAAW,CACjB,GAAIrX,KAAJ,CACClC,CAAC,CAAG,CADL,CAGA,KAAQ,CAAEkC,IAAI,CAAG,KAAMlC,CAAN,CAAT,GAAwB,IAAhC,CAAsCA,CAAC,EAAvC,CAA4C,CAC3C,GAAKkC,IAAI,CAAC7C,QAAL,GAAkB,CAAvB,CAA2B,CAG1BwB,MAAM,CAAC4rB,SAAP,CAAkBnJ,MAAM,CAAEphB,IAAF,CAAQ,KAAR,CAAxB,EAGAA,IAAI,CAACwN,WAAL,CAAmB,EAAnB,CACA,CACD,CAED,MAAO,KAAP,CACA,CAvEgB,CAyEjBxM,KAAK,CAAE,SAAUwpB,aAAV,CAAyBC,iBAAzB,CAA6C,CACnDD,aAAa,CAAGA,aAAa,EAAI,IAAjB,CAAwB,KAAxB,CAAgCA,aAAhD,CACAC,iBAAiB,CAAGA,iBAAiB,EAAI,IAArB,CAA4BD,aAA5B,CAA4CC,iBAAhE,CAEA,MAAO,MAAK1qB,GAAL,CAAU,UAAW,CAC3B,MAAOpB,OAAM,CAACqC,KAAP,CAAc,IAAd,CAAoBwpB,aAApB,CAAmCC,iBAAnC,CAAP,CACA,CAFM,CAAP,CAGA,CAhFgB,CAkFjBL,IAAI,CAAE,SAAUtnB,KAAV,CAAkB,CACvB,MAAO2Y,OAAM,CAAE,IAAF,CAAQ,SAAU3Y,KAAV,CAAkB,CACtC,GAAI9C,KAAI,CAAG,KAAM,CAAN,GAAa,EAAxB,CACClC,CAAC,CAAG,CADL,CAECyX,CAAC,CAAG,KAAKnW,MAFV,CAIA,GAAK0D,KAAK,GAAKxB,SAAV,EAAuBtB,IAAI,CAAC7C,QAAL,GAAkB,CAA9C,CAAkD,CACjD,MAAO6C,KAAI,CAAC6L,SAAZ,CACA,CAGD,GAAK,MAAO/I,MAAP,GAAiB,QAAjB,EAA6B,CAACqmB,YAAY,CAACxgB,IAAb,CAAmB7F,KAAnB,CAA9B,EACJ,CAACyd,OAAO,CAAE,CAAEF,QAAQ,CAAChY,IAAT,CAAevF,KAAf,GAA0B,CAAE,EAAF,CAAM,EAAN,CAA5B,EAA0C,CAA1C,EAA8CK,WAA9C,EAAF,CADT,CAC2E,CAE1EL,KAAK,CAAGnE,MAAM,CAACsjB,aAAP,CAAsBnf,KAAtB,CAAR,CAEA,GAAI,CACH,KAAQhF,CAAC,CAAGyX,CAAZ,CAAezX,CAAC,EAAhB,CAAqB,CACpBkC,IAAI,CAAG,KAAMlC,CAAN,GAAa,EAApB,CAGA,GAAKkC,IAAI,CAAC7C,QAAL,GAAkB,CAAvB,CAA2B,CAC1BwB,MAAM,CAAC4rB,SAAP,CAAkBnJ,MAAM,CAAEphB,IAAF,CAAQ,KAAR,CAAxB,EACAA,IAAI,CAAC6L,SAAL,CAAiB/I,KAAjB,CACA,CACD,CAED9C,IAAI,CAAG,CAAP,CAGA,CAAC,MAAQ2H,CAAR,CAAY,CAAE,CAChB,CAED,GAAK3H,IAAL,CAAY,CACX,KAAKqX,KAAL,GAAayT,MAAb,CAAqBhoB,KAArB,EACA,CACD,CAnCY,CAmCV,IAnCU,CAmCJA,KAnCI,CAmCG5C,SAAS,CAACd,MAnCb,CAAb,CAoCA,CAvHgB,CAyHjB+rB,WAAW,CAAE,UAAW,CACvB,GAAIzJ,QAAO,CAAG,EAAd,CAGA,MAAOsI,SAAQ,CAAE,IAAF,CAAQ9pB,SAAR,CAAmB,SAAUF,IAAV,CAAiB,CAClD,GAAI+O,OAAM,CAAG,KAAKxQ,UAAlB,CAEA,GAAKI,MAAM,CAAC4D,OAAP,CAAgB,IAAhB,CAAsBmf,OAAtB,EAAkC,CAAvC,CAA2C,CAC1C/iB,MAAM,CAAC4rB,SAAP,CAAkBnJ,MAAM,CAAE,IAAF,CAAxB,EACA,GAAKrS,MAAL,CAAc,CACbA,MAAM,CAACqc,YAAP,CAAqBprB,IAArB,CAA2B,IAA3B,EACA,CACD,CAGD,CAXc,CAWZ0hB,OAXY,CAAf,CAYA,CAzIgB,CAAlB,EA4IA/iB,MAAM,CAACkB,IAAP,CAAa,CACZwrB,QAAQ,CAAE,QADE,CAEZC,SAAS,CAAE,SAFC,CAGZN,YAAY,CAAE,QAHF,CAIZO,WAAW,CAAE,OAJD,CAKZC,UAAU,CAAE,aALA,CAAb,CAMG,SAAU3qB,IAAV,CAAgB4qB,QAAhB,CAA2B,CAC7B9sB,MAAM,CAACG,EAAP,CAAW+B,IAAX,EAAoB,SAAUjC,QAAV,CAAqB,CACxC,GAAIa,MAAJ,CACCC,GAAG,CAAG,EADP,CAECgsB,MAAM,CAAG/sB,MAAM,CAAEC,QAAF,CAFhB,CAGCyB,IAAI,CAAGqrB,MAAM,CAACtsB,MAAP,CAAgB,CAHxB,CAICtB,CAAC,CAAG,CAJL,CAMA,KAAQA,CAAC,EAAIuC,IAAb,CAAmBvC,CAAC,EAApB,CAAyB,CACxB2B,KAAK,CAAG3B,CAAC,GAAKuC,IAAN,CAAa,IAAb,CAAoB,KAAKW,KAAL,CAAY,IAAZ,CAA5B,CACArC,MAAM,CAAE+sB,MAAM,CAAE5tB,CAAF,CAAR,CAAN,CAAuB2tB,QAAvB,EAAmChsB,KAAnC,EAIAlD,IAAI,CAAC0D,KAAL,CAAYP,GAAZ,CAAiBD,KAAK,CAACH,GAAN,EAAjB,EACA,CAED,MAAO,MAAKE,SAAL,CAAgBE,GAAhB,CAAP,CACA,CAjBD,CAkBA,CAzBD,EA0BA,GAAIisB,UAAS,CAAG,GAAIlmB,OAAJ,CAAY,KAAO2Y,IAAP,CAAc,iBAA1B,CAA6C,GAA7C,CAAhB,CAEA,GAAIwN,UAAS,CAAG,SAAU5rB,IAAV,CAAiB,CAK/B,GAAI0nB,KAAI,CAAG1nB,IAAI,CAACoI,aAAL,CAAmB2C,WAA9B,CAEA,GAAK,CAAC2c,IAAD,EAAS,CAACA,IAAI,CAACmE,MAApB,CAA6B,CAC5BnE,IAAI,CAAG3rB,MAAP,CACA,CAED,MAAO2rB,KAAI,CAACoE,gBAAL,CAAuB9rB,IAAvB,CAAP,CACA,CAZF,CAcA,GAAI+rB,UAAS,CAAG,GAAItmB,OAAJ,CAAY8Y,SAAS,CAAC1V,IAAV,CAAgB,GAAhB,CAAZ,CAAmC,GAAnC,CAAhB,CAIA,CAAE,UAAW,CAIZ,QAASmjB,kBAAT,EAA6B,CAG5B,GAAK,CAAC9J,GAAN,CAAY,CACX,OACA,CAED+J,SAAS,CAACrN,KAAV,CAAgBsN,OAAhB,CAA0B,8CACzB,mCADD,CAEAhK,GAAG,CAACtD,KAAJ,CAAUsN,OAAV,CACC,yEACA,qCADA,CAEA,kBAHD,CAIAthB,eAAe,CAACtM,WAAhB,CAA6B2tB,SAA7B,EAAyC3tB,WAAzC,CAAsD4jB,GAAtD,EAEA,GAAIiK,SAAQ,CAAGpwB,MAAM,CAAC+vB,gBAAP,CAAyB5J,GAAzB,CAAf,CACAkK,gBAAgB,CAAGD,QAAQ,CAACnhB,GAAT,GAAiB,IAApC,CAGAqhB,qBAAqB,CAAGC,kBAAkB,CAAEH,QAAQ,CAACI,UAAX,CAAlB,GAA8C,EAAtE,CAIArK,GAAG,CAACtD,KAAJ,CAAU4N,KAAV,CAAkB,KAAlB,CACAC,iBAAiB,CAAGH,kBAAkB,CAAEH,QAAQ,CAACK,KAAX,CAAlB,GAAyC,EAA7D,CAIAE,oBAAoB,CAAGJ,kBAAkB,CAAEH,QAAQ,CAACQ,KAAX,CAAlB,GAAyC,EAAhE,CAMAzK,GAAG,CAACtD,KAAJ,CAAUgO,QAAV,CAAqB,UAArB,CACAC,gBAAgB,CAAGP,kBAAkB,CAAEpK,GAAG,CAAC4K,WAAJ,CAAkB,CAApB,CAAlB,GAA8C,EAAjE,CAEAliB,eAAe,CAACpM,WAAhB,CAA6BytB,SAA7B,EAIA/J,GAAG,CAAG,IAAN,CACA,CAED,QAASoK,mBAAT,CAA6BS,OAA7B,CAAuC,CACtC,MAAOvrB,KAAI,CAACwrB,KAAL,CAAYC,UAAU,CAAEF,OAAF,CAAtB,CAAP,CACA,CAED,GAAIX,iBAAJ,CAAsBM,oBAAtB,CAA4CG,gBAA5C,CAA8DJ,iBAA9D,CACCJ,qBADD,CAECJ,SAAS,CAAGrwB,QAAQ,CAACqC,aAAT,CAAwB,KAAxB,CAFb,CAGCikB,GAAG,CAAGtmB,QAAQ,CAACqC,aAAT,CAAwB,KAAxB,CAHP,CAMA,GAAK,CAACikB,GAAG,CAACtD,KAAV,CAAkB,CACjB,OACA,CAIDsD,GAAG,CAACtD,KAAJ,CAAUsO,cAAV,CAA2B,aAA3B,CACAhL,GAAG,CAACE,SAAJ,CAAe,IAAf,EAAsBxD,KAAtB,CAA4BsO,cAA5B,CAA6C,EAA7C,CACAlwB,OAAO,CAACmwB,eAAR,CAA0BjL,GAAG,CAACtD,KAAJ,CAAUsO,cAAV,GAA6B,aAAvD,CAEAvuB,MAAM,CAACgC,MAAP,CAAe3D,OAAf,CAAwB,CACvBowB,iBAAiB,CAAE,UAAW,CAC7BpB,iBAAiB,GACjB,MAAOU,qBAAP,CACA,CAJsB,CAKvBW,cAAc,CAAE,UAAW,CAC1BrB,iBAAiB,GACjB,MAAOS,kBAAP,CACA,CARsB,CASvBa,aAAa,CAAE,UAAW,CACzBtB,iBAAiB,GACjB,MAAOI,iBAAP,CACA,CAZsB,CAavBmB,kBAAkB,CAAE,UAAW,CAC9BvB,iBAAiB,GACjB,MAAOK,sBAAP,CACA,CAhBsB,CAiBvBmB,aAAa,CAAE,UAAW,CACzBxB,iBAAiB,GACjB,MAAOa,iBAAP,CACA,CApBsB,CAAxB,EAsBA,CA1FD,IA6FA,QAASY,OAAT,CAAiBztB,IAAjB,CAAuBa,IAAvB,CAA6B6sB,QAA7B,CAAwC,CACvC,GAAIf,MAAJ,CAAWgB,QAAX,CAAqBC,QAArB,CAA+BluB,GAA/B,CAMCkf,KAAK,CAAG5e,IAAI,CAAC4e,KANd,CAQA8O,QAAQ,CAAGA,QAAQ,EAAI9B,SAAS,CAAE5rB,IAAF,CAAhC,CAKA,GAAK0tB,QAAL,CAAgB,CACfhuB,GAAG,CAAGguB,QAAQ,CAACG,gBAAT,CAA2BhtB,IAA3B,GAAqC6sB,QAAQ,CAAE7sB,IAAF,CAAnD,CAEA,GAAKnB,GAAG,GAAK,EAAR,EAAc,CAAC8e,UAAU,CAAExe,IAAF,CAA9B,CAAyC,CACxCN,GAAG,CAAGf,MAAM,CAACigB,KAAP,CAAc5e,IAAd,CAAoBa,IAApB,CAAN,CACA,CAOD,GAAK,CAAC7D,OAAO,CAACqwB,cAAR,EAAD,EAA6B1B,SAAS,CAAChjB,IAAV,CAAgBjJ,GAAhB,CAA7B,EAAsDqsB,SAAS,CAACpjB,IAAV,CAAgB9H,IAAhB,CAA3D,CAAoF,CAGnF8rB,KAAK,CAAG/N,KAAK,CAAC+N,KAAd,CACAgB,QAAQ,CAAG/O,KAAK,CAAC+O,QAAjB,CACAC,QAAQ,CAAGhP,KAAK,CAACgP,QAAjB,CAGAhP,KAAK,CAAC+O,QAAN,CAAiB/O,KAAK,CAACgP,QAAN,CAAiBhP,KAAK,CAAC+N,KAAN,CAAcjtB,GAAhD,CACAA,GAAG,CAAGguB,QAAQ,CAACf,KAAf,CAGA/N,KAAK,CAAC+N,KAAN,CAAcA,KAAd,CACA/N,KAAK,CAAC+O,QAAN,CAAiBA,QAAjB,CACA/O,KAAK,CAACgP,QAAN,CAAiBA,QAAjB,CACA,CACD,CAED,MAAOluB,IAAG,GAAK4B,SAAR,CAIN5B,GAAG,CAAG,EAJA,CAKNA,GALD,CAMA,CAGD,QAASouB,aAAT,CAAuBC,WAAvB,CAAoCC,MAApC,CAA6C,CAG5C,MAAO,CACN1uB,GAAG,CAAE,UAAW,CACf,GAAKyuB,WAAW,EAAhB,CAAqB,CAIpB,MAAO,MAAKzuB,GAAZ,CACA,OACA,CAGD,MAAO,CAAE,KAAKA,GAAL,CAAW0uB,MAAb,EAAsB/tB,KAAtB,CAA6B,IAA7B,CAAmCC,SAAnC,CAAP,CACA,CAZK,CAAP,CAcA,CAGD,GAAI+tB,YAAW,CAAG,CAAE,QAAF,CAAY,KAAZ,CAAmB,IAAnB,CAAlB,CACCC,UAAU,CAAGtyB,QAAQ,CAACqC,aAAT,CAAwB,KAAxB,EAAgC2gB,KAD9C,CAECuP,WAAW,CAAG,EAFf,CAKA,QAASC,eAAT,CAAyBvtB,IAAzB,CAAgC,CAG/B,GAAIwtB,QAAO,CAAGxtB,IAAI,CAAE,CAAF,CAAJ,CAAUsb,WAAV,GAA0Btb,IAAI,CAACxE,KAAL,CAAY,CAAZ,CAAxC,CACCyB,CAAC,CAAGmwB,WAAW,CAAC7uB,MADjB,CAGA,MAAQtB,CAAC,EAAT,CAAc,CACb+C,IAAI,CAAGotB,WAAW,CAAEnwB,CAAF,CAAX,CAAmBuwB,OAA1B,CACA,GAAKxtB,IAAI,GAAIqtB,WAAb,CAA0B,CACzB,MAAOrtB,KAAP,CACA,CACD,CACD,CAGD,QAASytB,cAAT,CAAwBztB,IAAxB,CAA+B,CAC9B,GAAI0tB,MAAK,CAAG5vB,MAAM,CAAC6vB,QAAP,CAAiB3tB,IAAjB,GAA2BstB,WAAW,CAAEttB,IAAF,CAAlD,CAEA,GAAK0tB,KAAL,CAAa,CACZ,MAAOA,MAAP,CACA,CACD,GAAK1tB,IAAI,GAAIqtB,WAAb,CAA0B,CACzB,MAAOrtB,KAAP,CACA,CACD,MAAOstB,YAAW,CAAEttB,IAAF,CAAX,CAAsButB,cAAc,CAAEvtB,IAAF,CAAd,EAA0BA,IAAvD,CACA,CAGD,GAKC4tB,aAAY,CAAG,2BALhB,CAMCC,WAAW,CAAG,KANf,CAOCC,OAAO,CAAG,CAAE/B,QAAQ,CAAE,UAAZ,CAAwBgC,UAAU,CAAE,QAApC,CAA8C/P,OAAO,CAAE,OAAvD,CAPX,CAQCgQ,kBAAkB,CAAG,CACpBC,aAAa,CAAE,GADK,CAEpBC,UAAU,CAAE,KAFQ,CARtB,CAaA,QAASC,kBAAT,CAA4BhvB,IAA5B,CAAkC8C,KAAlC,CAAyCmsB,QAAzC,CAAoD,CAInD,GAAIrsB,QAAO,CAAG0b,OAAO,CAACjW,IAAR,CAAcvF,KAAd,CAAd,CACA,MAAOF,QAAO,CAGbpB,IAAI,CAAC0tB,GAAL,CAAU,CAAV,CAAatsB,OAAO,CAAE,CAAF,CAAP,EAAiBqsB,QAAQ,EAAI,CAA7B,CAAb,GAAoDrsB,OAAO,CAAE,CAAF,CAAP,EAAgB,IAApE,CAHa,CAIbE,KAJD,CAKA,CAED,QAASqsB,mBAAT,CAA6BnvB,IAA7B,CAAmCovB,SAAnC,CAA8CC,GAA9C,CAAmDC,WAAnD,CAAgEC,MAAhE,CAAwEC,WAAxE,CAAsF,CACrF,GAAI1xB,EAAC,CAAGsxB,SAAS,GAAK,OAAd,CAAwB,CAAxB,CAA4B,CAApC,CACCK,KAAK,CAAG,CADT,CAECC,KAAK,CAAG,CAFT,CAKA,GAAKL,GAAG,IAAOC,WAAW,CAAG,QAAH,CAAc,SAAhC,CAAR,CAAsD,CACrD,MAAO,EAAP,CACA,CAED,KAAQxxB,CAAC,CAAG,CAAZ,CAAeA,CAAC,EAAI,CAApB,CAAwB,CAGvB,GAAKuxB,GAAG,GAAK,QAAb,CAAwB,CACvBK,KAAK,EAAI/wB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkBqvB,GAAG,CAAG9Q,SAAS,CAAEzgB,CAAF,CAAjC,CAAwC,IAAxC,CAA8CyxB,MAA9C,CAAT,CACA,CAGD,GAAK,CAACD,WAAN,CAAoB,CAGnBI,KAAK,EAAI/wB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,UAAYue,SAAS,CAAEzgB,CAAF,CAAvC,CAA8C,IAA9C,CAAoDyxB,MAApD,CAAT,CAGA,GAAKF,GAAG,GAAK,SAAb,CAAyB,CACxBK,KAAK,EAAI/wB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,SAAWue,SAAS,CAAEzgB,CAAF,CAApB,CAA4B,OAA9C,CAAuD,IAAvD,CAA6DyxB,MAA7D,CAAT,CAGA,CAJD,IAIO,CACNE,KAAK,EAAI9wB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,SAAWue,SAAS,CAAEzgB,CAAF,CAApB,CAA4B,OAA9C,CAAuD,IAAvD,CAA6DyxB,MAA7D,CAAT,CACA,CAID,CAhBD,IAgBO,CAGN,GAAKF,GAAG,GAAK,SAAb,CAAyB,CACxBK,KAAK,EAAI/wB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,UAAYue,SAAS,CAAEzgB,CAAF,CAAvC,CAA8C,IAA9C,CAAoDyxB,MAApD,CAAT,CACA,CAGD,GAAKF,GAAG,GAAK,QAAb,CAAwB,CACvBK,KAAK,EAAI/wB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,SAAWue,SAAS,CAAEzgB,CAAF,CAApB,CAA4B,OAA9C,CAAuD,IAAvD,CAA6DyxB,MAA7D,CAAT,CACA,CACD,CACD,CAGD,GAAK,CAACD,WAAD,EAAgBE,WAAW,EAAI,CAApC,CAAwC,CAIvCE,KAAK,EAAIluB,IAAI,CAAC0tB,GAAL,CAAU,CAAV,CAAa1tB,IAAI,CAACmuB,IAAL,CACrB3vB,IAAI,CAAE,SAAWovB,SAAS,CAAE,CAAF,CAAT,CAAejT,WAAf,EAAX,CAA0CiT,SAAS,CAAC/yB,KAAV,CAAiB,CAAjB,CAA5C,CAAJ,CACAmzB,WADA,CAEAE,KAFA,CAGAD,KAHA,CAIA,GALqB,CAAb,GASF,CATP,CAUA,CAED,MAAOC,MAAP,CACA,CAED,QAASE,iBAAT,CAA2B5vB,IAA3B,CAAiCovB,SAAjC,CAA4CK,KAA5C,CAAoD,CAGnD,GAAIF,OAAM,CAAG3D,SAAS,CAAE5rB,IAAF,CAAtB,CAIC6vB,eAAe,CAAG,CAAC7yB,OAAO,CAACowB,iBAAR,EAAD,EAAgCqC,KAJnD,CAKCH,WAAW,CAAGO,eAAe,EAC5BlxB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,WAAlB,CAA+B,KAA/B,CAAsCuvB,MAAtC,IAAmD,YANrD,CAOCO,gBAAgB,CAAGR,WAPpB,CASCvxB,GAAG,CAAG0vB,MAAM,CAAEztB,IAAF,CAAQovB,SAAR,CAAmBG,MAAnB,CATb,CAUCQ,UAAU,CAAG,SAAWX,SAAS,CAAE,CAAF,CAAT,CAAejT,WAAf,EAAX,CAA0CiT,SAAS,CAAC/yB,KAAV,CAAiB,CAAjB,CAVxD,CAcA,GAAKsvB,SAAS,CAAChjB,IAAV,CAAgB5K,GAAhB,CAAL,CAA6B,CAC5B,GAAK,CAAC0xB,KAAN,CAAc,CACb,MAAO1xB,IAAP,CACA,CACDA,GAAG,CAAG,MAAN,CACA,CAWD,GAAK,CAAE,CAACf,OAAO,CAACowB,iBAAR,EAAD,EAAgCkC,WAAhC,EACNvxB,GAAG,GAAK,MADF,EAEN,CAACkvB,UAAU,CAAElvB,GAAF,CAAX,EAAsBY,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,SAAlB,CAA6B,KAA7B,CAAoCuvB,MAApC,IAAiD,QAFnE,GAGJvvB,IAAI,CAACgwB,cAAL,GAAsB5wB,MAHvB,CAGgC,CAE/BkwB,WAAW,CAAG3wB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,WAAlB,CAA+B,KAA/B,CAAsCuvB,MAAtC,IAAmD,YAAjE,CAKAO,gBAAgB,CAAGC,UAAU,GAAI/vB,KAAjC,CACA,GAAK8vB,gBAAL,CAAwB,CACvB/xB,GAAG,CAAGiC,IAAI,CAAE+vB,UAAF,CAAV,CACA,CACD,CAGDhyB,GAAG,CAAGkvB,UAAU,CAAElvB,GAAF,CAAV,EAAqB,CAA3B,CAGA,MAASA,IAAG,CACXoxB,kBAAkB,CACjBnvB,IADiB,CAEjBovB,SAFiB,CAGjBK,KAAK,GAAMH,WAAW,CAAG,QAAH,CAAc,SAA/B,CAHY,CAIjBQ,gBAJiB,CAKjBP,MALiB,CAQjBxxB,GARiB,CADZ,CAWH,IAXJ,CAYA,CAEDY,MAAM,CAACgC,MAAP,CAAe,CAIdsvB,QAAQ,CAAE,CACTC,OAAO,CAAE,CACR5wB,GAAG,CAAE,SAAUU,IAAV,CAAgB0tB,QAAhB,CAA2B,CAC/B,GAAKA,QAAL,CAAgB,CAGf,GAAIhuB,IAAG,CAAG+tB,MAAM,CAAEztB,IAAF,CAAQ,SAAR,CAAhB,CACA,MAAON,IAAG,GAAK,EAAR,CAAa,GAAb,CAAmBA,GAA1B,CACA,CACD,CARO,CADA,CAJI,CAkBdggB,SAAS,CAAE,CACV,0BAA2B,IADjB,CAEV,cAAe,IAFL,CAGV,cAAe,IAHL,CAIV,WAAY,IAJF,CAKV,aAAc,IALJ,CAMV,aAAc,IANJ,CAOV,WAAY,IAPF,CAQV,aAAc,IARJ,CASV,gBAAiB,IATP,CAUV,kBAAmB,IAVT,CAWV,UAAW,IAXD,CAYV,aAAc,IAZJ,CAaV,eAAgB,IAbN,CAcV,aAAc,IAdJ,CAeV,UAAW,IAfD,CAgBV,QAAS,IAhBC,CAiBV,UAAW,IAjBD,CAkBV,SAAU,IAlBA,CAmBV,SAAU,IAnBA,CAoBV,OAAQ,IApBE,CAlBG,CA2Cd8O,QAAQ,CAAE,EA3CI,CA8Cd5P,KAAK,CAAE,SAAU5e,IAAV,CAAgBa,IAAhB,CAAsBiC,KAAtB,CAA6B2sB,KAA7B,CAAqC,CAG3C,GAAK,CAACzvB,IAAD,EAASA,IAAI,CAAC7C,QAAL,GAAkB,CAA3B,EAAgC6C,IAAI,CAAC7C,QAAL,GAAkB,CAAlD,EAAuD,CAAC6C,IAAI,CAAC4e,KAAlE,CAA0E,CACzE,OACA,CAGD,GAAIlf,IAAJ,CAASpC,IAAT,CAAeugB,KAAf,CACCsS,QAAQ,CAAG/T,SAAS,CAAEvb,IAAF,CADrB,CAECuvB,YAAY,CAAG1B,WAAW,CAAC/lB,IAAZ,CAAkB9H,IAAlB,CAFhB,CAGC+d,KAAK,CAAG5e,IAAI,CAAC4e,KAHd,CAQA,GAAK,CAACwR,YAAN,CAAqB,CACpBvvB,IAAI,CAAGytB,aAAa,CAAE6B,QAAF,CAApB,CACA,CAGDtS,KAAK,CAAGlf,MAAM,CAACsxB,QAAP,CAAiBpvB,IAAjB,GAA2BlC,MAAM,CAACsxB,QAAP,CAAiBE,QAAjB,CAAnC,CAGA,GAAKrtB,KAAK,GAAKxB,SAAf,CAA2B,CAC1BhE,IAAI,CAAG,MAAOwF,MAAd,CAGA,GAAKxF,IAAI,GAAK,QAAT,GAAuBoC,GAAG,CAAG4e,OAAO,CAACjW,IAAR,CAAcvF,KAAd,CAA7B,GAAwDpD,GAAG,CAAE,CAAF,CAAhE,CAAwE,CACvEoD,KAAK,CAAGmc,SAAS,CAAEjf,IAAF,CAAQa,IAAR,CAAcnB,GAAd,CAAjB,CAGApC,IAAI,CAAG,QAAP,CACA,CAGD,GAAKwF,KAAK,EAAI,IAAT,EAAiBA,KAAK,GAAKA,KAAhC,CAAwC,CACvC,OACA,CAKD,GAAKxF,IAAI,GAAK,QAAT,EAAqB,CAAC8yB,YAA3B,CAA0C,CACzCttB,KAAK,EAAIpD,GAAG,EAAIA,GAAG,CAAE,CAAF,CAAV,GAAqBf,MAAM,CAAC+gB,SAAP,CAAkByQ,QAAlB,EAA+B,EAA/B,CAAoC,IAAzD,CAAT,CACA,CAGD,GAAK,CAACnzB,OAAO,CAACmwB,eAAT,EAA4BrqB,KAAK,GAAK,EAAtC,EAA4CjC,IAAI,CAACrE,OAAL,CAAc,YAAd,IAAiC,CAAlF,CAAsF,CACrFoiB,KAAK,CAAE/d,IAAF,CAAL,CAAgB,SAAhB,CACA,CAGD,GAAK,CAACgd,KAAD,EAAU,EAAG,OAASA,MAAZ,CAAV,EACJ,CAAE/a,KAAK,CAAG+a,KAAK,CAACjB,GAAN,CAAW5c,IAAX,CAAiB8C,KAAjB,CAAwB2sB,KAAxB,CAAV,IAAgDnuB,SADjD,CAC6D,CAE5D,GAAK8uB,YAAL,CAAoB,CACnBxR,KAAK,CAACyR,WAAN,CAAmBxvB,IAAnB,CAAyBiC,KAAzB,EACA,CAFD,IAEO,CACN8b,KAAK,CAAE/d,IAAF,CAAL,CAAgBiC,KAAhB,CACA,CACD,CAED,CAvCD,IAuCO,CAGN,GAAK+a,KAAK,EAAI,OAASA,MAAlB,EACJ,CAAEne,GAAG,CAAGme,KAAK,CAACve,GAAN,CAAWU,IAAX,CAAiB,KAAjB,CAAwByvB,KAAxB,CAAR,IAA8CnuB,SAD/C,CAC2D,CAE1D,MAAO5B,IAAP,CACA,CAGD,MAAOkf,MAAK,CAAE/d,IAAF,CAAZ,CACA,CACD,CAzHa,CA2Hdie,GAAG,CAAE,SAAU9e,IAAV,CAAgBa,IAAhB,CAAsB4uB,KAAtB,CAA6BF,MAA7B,CAAsC,CAC1C,GAAIxxB,IAAJ,CAASwB,GAAT,CAAcse,KAAd,CACCsS,QAAQ,CAAG/T,SAAS,CAAEvb,IAAF,CADrB,CAECuvB,YAAY,CAAG1B,WAAW,CAAC/lB,IAAZ,CAAkB9H,IAAlB,CAFhB,CAOA,GAAK,CAACuvB,YAAN,CAAqB,CACpBvvB,IAAI,CAAGytB,aAAa,CAAE6B,QAAF,CAApB,CACA,CAGDtS,KAAK,CAAGlf,MAAM,CAACsxB,QAAP,CAAiBpvB,IAAjB,GAA2BlC,MAAM,CAACsxB,QAAP,CAAiBE,QAAjB,CAAnC,CAGA,GAAKtS,KAAK,EAAI,OAASA,MAAvB,CAA+B,CAC9B9f,GAAG,CAAG8f,KAAK,CAACve,GAAN,CAAWU,IAAX,CAAiB,IAAjB,CAAuByvB,KAAvB,CAAN,CACA,CAGD,GAAK1xB,GAAG,GAAKuD,SAAb,CAAyB,CACxBvD,GAAG,CAAG0vB,MAAM,CAAEztB,IAAF,CAAQa,IAAR,CAAc0uB,MAAd,CAAZ,CACA,CAGD,GAAKxxB,GAAG,GAAK,QAAR,EAAoB8C,IAAI,GAAIguB,mBAAjC,CAAsD,CACrD9wB,GAAG,CAAG8wB,kBAAkB,CAAEhuB,IAAF,CAAxB,CACA,CAGD,GAAK4uB,KAAK,GAAK,EAAV,EAAgBA,KAArB,CAA6B,CAC5BlwB,GAAG,CAAG0tB,UAAU,CAAElvB,GAAF,CAAhB,CACA,MAAO0xB,MAAK,GAAK,IAAV,EAAkBa,QAAQ,CAAE/wB,GAAF,CAA1B,CAAoCA,GAAG,EAAI,CAA3C,CAA+CxB,GAAtD,CACA,CAED,MAAOA,IAAP,CACA,CAhKa,CAAf,EAmKAY,MAAM,CAACkB,IAAP,CAAa,CAAE,QAAF,CAAY,OAAZ,CAAb,CAAoC,SAAU/B,CAAV,CAAasxB,SAAb,CAAyB,CAC5DzwB,MAAM,CAACsxB,QAAP,CAAiBb,SAAjB,EAA+B,CAC9B9vB,GAAG,CAAE,SAAUU,IAAV,CAAgB0tB,QAAhB,CAA0B+B,KAA1B,CAAkC,CACtC,GAAK/B,QAAL,CAAgB,CAIf,MAAOe,aAAY,CAAC9lB,IAAb,CAAmBhK,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,SAAlB,CAAnB,IAQJ,CAACA,IAAI,CAACgwB,cAAL,GAAsB5wB,MAAvB,EAAiC,CAACY,IAAI,CAACuwB,qBAAL,GAA6B5D,KAR3D,EASL5N,IAAI,CAAE/e,IAAF,CAAQ2uB,OAAR,CAAiB,UAAW,CAC/B,MAAOiB,iBAAgB,CAAE5vB,IAAF,CAAQovB,SAAR,CAAmBK,KAAnB,CAAvB,CACA,CAFG,CATC,CAYLG,gBAAgB,CAAE5vB,IAAF,CAAQovB,SAAR,CAAmBK,KAAnB,CAZlB,CAaA,CACD,CApB6B,CAsB9B7S,GAAG,CAAE,SAAU5c,IAAV,CAAgB8C,KAAhB,CAAuB2sB,KAAvB,CAA+B,CACnC,GAAI7sB,QAAJ,CACC2sB,MAAM,CAAG3D,SAAS,CAAE5rB,IAAF,CADnB,CAKCwwB,kBAAkB,CAAG,CAACxzB,OAAO,CAACwwB,aAAR,EAAD,EACpB+B,MAAM,CAAC3C,QAAP,GAAoB,UANtB,CAUC0C,WAAW,CAAG,CADIkB,kBAAkB,EAAIf,KAC1B,GACb9wB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,WAAlB,CAA+B,KAA/B,CAAsCuvB,MAAtC,IAAmD,YAXrD,CAYCN,QAAQ,CAAGQ,KAAK,CACfN,kBAAkB,CACjBnvB,IADiB,CAEjBovB,SAFiB,CAGjBK,KAHiB,CAIjBH,WAJiB,CAKjBC,MALiB,CADH,CAQf,CApBF,CAwBA,GAAKD,WAAW,EAAIkB,kBAApB,CAAyC,CACxCvB,QAAQ,EAAIztB,IAAI,CAACmuB,IAAL,CACX3vB,IAAI,CAAE,SAAWovB,SAAS,CAAE,CAAF,CAAT,CAAejT,WAAf,EAAX,CAA0CiT,SAAS,CAAC/yB,KAAV,CAAiB,CAAjB,CAA5C,CAAJ,CACA4wB,UAAU,CAAEsC,MAAM,CAAEH,SAAF,CAAR,CADV,CAEAD,kBAAkB,CAAEnvB,IAAF,CAAQovB,SAAR,CAAmB,QAAnB,CAA6B,KAA7B,CAAoCG,MAApC,CAFlB,CAGA,GAJW,CAAZ,CAMA,CAGD,GAAKN,QAAQ,GAAMrsB,OAAO,CAAG0b,OAAO,CAACjW,IAAR,CAAcvF,KAAd,CAAhB,CAAR,EACJ,CAAEF,OAAO,CAAE,CAAF,CAAP,EAAgB,IAAlB,IAA6B,IAD9B,CACqC,CAEpC5C,IAAI,CAAC4e,KAAL,CAAYwQ,SAAZ,EAA0BtsB,KAA1B,CACAA,KAAK,CAAGnE,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkBovB,SAAlB,CAAR,CACA,CAED,MAAOJ,kBAAiB,CAAEhvB,IAAF,CAAQ8C,KAAR,CAAemsB,QAAf,CAAxB,CACA,CAjE6B,CAA/B,CAmEA,CApED,EAsEAtwB,MAAM,CAACsxB,QAAP,CAAgB1D,UAAhB,CAA6BuB,YAAY,CAAE9wB,OAAO,CAACuwB,kBAAV,CACxC,SAAUvtB,IAAV,CAAgB0tB,QAAhB,CAA2B,CAC1B,GAAKA,QAAL,CAAgB,CACf,MAAO,CAAET,UAAU,CAAEQ,MAAM,CAAEztB,IAAF,CAAQ,YAAR,CAAR,CAAV,EACRA,IAAI,CAACuwB,qBAAL,GAA6BE,IAA7B,CACC1R,IAAI,CAAE/e,IAAF,CAAQ,CAAEusB,UAAU,CAAE,CAAd,CAAR,CAA2B,UAAW,CACzC,MAAOvsB,KAAI,CAACuwB,qBAAL,GAA6BE,IAApC,CACA,CAFG,CAFC,EAKF,IALL,CAMA,CACD,CAVuC,CAAzC,CAcA9xB,MAAM,CAACkB,IAAP,CAAa,CACZ6wB,MAAM,CAAE,EADI,CAEZC,OAAO,CAAE,EAFG,CAGZC,MAAM,CAAE,OAHI,CAAb,CAIG,SAAUC,MAAV,CAAkBC,MAAlB,CAA2B,CAC7BnyB,MAAM,CAACsxB,QAAP,CAAiBY,MAAM,CAAGC,MAA1B,EAAqC,CACpCC,MAAM,CAAE,SAAUjuB,KAAV,CAAkB,CACzB,GAAIhF,EAAC,CAAG,CAAR,CACCkzB,QAAQ,CAAG,EADZ,CAICC,KAAK,CAAG,MAAOnuB,MAAP,GAAiB,QAAjB,CAA4BA,KAAK,CAACI,KAAN,CAAa,GAAb,CAA5B,CAAiD,CAAEJ,KAAF,CAJ1D,CAMA,KAAQhF,CAAC,CAAG,CAAZ,CAAeA,CAAC,EAAhB,CAAqB,CACpBkzB,QAAQ,CAAEH,MAAM,CAAGtS,SAAS,CAAEzgB,CAAF,CAAlB,CAA0BgzB,MAA5B,CAAR,CACCG,KAAK,CAAEnzB,CAAF,CAAL,EAAcmzB,KAAK,CAAEnzB,CAAC,CAAG,CAAN,CAAnB,EAAgCmzB,KAAK,CAAE,CAAF,CADtC,CAEA,CAED,MAAOD,SAAP,CACA,CAdmC,CAArC,CAiBA,GAAKH,MAAM,GAAK,QAAhB,CAA2B,CAC1BlyB,MAAM,CAACsxB,QAAP,CAAiBY,MAAM,CAAGC,MAA1B,EAAmClU,GAAnC,CAAyCoS,iBAAzC,CACA,CACD,CAzBD,EA2BArwB,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjBme,GAAG,CAAE,SAAUje,IAAV,CAAgBiC,KAAhB,CAAwB,CAC5B,MAAO2Y,OAAM,CAAE,IAAF,CAAQ,SAAUzb,IAAV,CAAgBa,IAAhB,CAAsBiC,KAAtB,CAA8B,CAClD,GAAIysB,OAAJ,CAAYjvB,GAAZ,CACCP,GAAG,CAAG,EADP,CAECjC,CAAC,CAAG,CAFL,CAIA,GAAKsD,KAAK,CAACC,OAAN,CAAeR,IAAf,CAAL,CAA6B,CAC5B0uB,MAAM,CAAG3D,SAAS,CAAE5rB,IAAF,CAAlB,CACAM,GAAG,CAAGO,IAAI,CAACzB,MAAX,CAEA,KAAQtB,CAAC,CAAGwC,GAAZ,CAAiBxC,CAAC,EAAlB,CAAuB,CACtBiC,GAAG,CAAEc,IAAI,CAAE/C,CAAF,CAAN,CAAH,CAAmBa,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkBa,IAAI,CAAE/C,CAAF,CAAtB,CAA6B,KAA7B,CAAoCyxB,MAApC,CAAnB,CACA,CAED,MAAOxvB,IAAP,CACA,CAED,MAAO+C,MAAK,GAAKxB,SAAV,CACN3C,MAAM,CAACigB,KAAP,CAAc5e,IAAd,CAAoBa,IAApB,CAA0BiC,KAA1B,CADM,CAENnE,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkBa,IAAlB,CAFD,CAGA,CAnBY,CAmBVA,IAnBU,CAmBJiC,KAnBI,CAmBG5C,SAAS,CAACd,MAAV,CAAmB,CAnBtB,CAAb,CAoBA,CAtBgB,CAAlB,EA0BA,QAAS8xB,MAAT,CAAgBlxB,IAAhB,CAAsBY,OAAtB,CAA+Bkc,IAA/B,CAAqCtc,GAArC,CAA0C2wB,MAA1C,CAAmD,CAClD,MAAO,IAAID,MAAK,CAACjyB,SAAN,CAAgBF,IAApB,CAA0BiB,IAA1B,CAAgCY,OAAhC,CAAyCkc,IAAzC,CAA+Ctc,GAA/C,CAAoD2wB,MAApD,CAAP,CACA,CACDxyB,MAAM,CAACuyB,KAAP,CAAeA,KAAf,CAEAA,KAAK,CAACjyB,SAAN,CAAkB,CACjBE,WAAW,CAAE+xB,KADI,CAEjBnyB,IAAI,CAAE,SAAUiB,IAAV,CAAgBY,OAAhB,CAAyBkc,IAAzB,CAA+Btc,GAA/B,CAAoC2wB,MAApC,CAA4C1R,IAA5C,CAAmD,CACxD,KAAKzf,IAAL,CAAYA,IAAZ,CACA,KAAK8c,IAAL,CAAYA,IAAZ,CACA,KAAKqU,MAAL,CAAcA,MAAM,EAAIxyB,MAAM,CAACwyB,MAAP,CAActQ,QAAtC,CACA,KAAKjgB,OAAL,CAAeA,OAAf,CACA,KAAKkO,KAAL,CAAa,KAAK+X,GAAL,CAAW,KAAK9c,GAAL,EAAxB,CACA,KAAKvJ,GAAL,CAAWA,GAAX,CACA,KAAKif,IAAL,CAAYA,IAAI,GAAM9gB,MAAM,CAAC+gB,SAAP,CAAkB5C,IAAlB,EAA2B,EAA3B,CAAgC,IAAtC,CAAhB,CACA,CAVgB,CAWjB/S,GAAG,CAAE,UAAW,CACf,GAAI8T,MAAK,CAAGqT,KAAK,CAACE,SAAN,CAAiB,KAAKtU,IAAtB,CAAZ,CAEA,MAAOe,MAAK,EAAIA,KAAK,CAACve,GAAf,CACNue,KAAK,CAACve,GAAN,CAAW,IAAX,CADM,CAEN4xB,KAAK,CAACE,SAAN,CAAgBvQ,QAAhB,CAAyBvhB,GAAzB,CAA8B,IAA9B,CAFD,CAGA,CAjBgB,CAkBjB+xB,GAAG,CAAE,SAAUC,OAAV,CAAoB,CACxB,GAAIC,MAAJ,CACC1T,KAAK,CAAGqT,KAAK,CAACE,SAAN,CAAiB,KAAKtU,IAAtB,CADT,CAGA,GAAK,KAAKlc,OAAL,CAAa4wB,QAAlB,CAA6B,CAC5B,KAAKC,GAAL,CAAWF,KAAK,CAAG5yB,MAAM,CAACwyB,MAAP,CAAe,KAAKA,MAApB,EAClBG,OADkB,CACT,KAAK1wB,OAAL,CAAa4wB,QAAb,CAAwBF,OADf,CACwB,CADxB,CAC2B,CAD3B,CAC8B,KAAK1wB,OAAL,CAAa4wB,QAD3C,CAAnB,CAGA,CAJD,IAIO,CACN,KAAKC,GAAL,CAAWF,KAAK,CAAGD,OAAnB,CACA,CACD,KAAKzK,GAAL,CAAW,CAAE,KAAKrmB,GAAL,CAAW,KAAKsO,KAAlB,EAA4ByiB,KAA5B,CAAoC,KAAKziB,KAApD,CAEA,GAAK,KAAKlO,OAAL,CAAa8wB,IAAlB,CAAyB,CACxB,KAAK9wB,OAAL,CAAa8wB,IAAb,CAAkB30B,IAAlB,CAAwB,KAAKiD,IAA7B,CAAmC,KAAK6mB,GAAxC,CAA6C,IAA7C,EACA,CAED,GAAKhJ,KAAK,EAAIA,KAAK,CAACjB,GAApB,CAA0B,CACzBiB,KAAK,CAACjB,GAAN,CAAW,IAAX,EACA,CAFD,IAEO,CACNsU,KAAK,CAACE,SAAN,CAAgBvQ,QAAhB,CAAyBjE,GAAzB,CAA8B,IAA9B,EACA,CACD,MAAO,KAAP,CACA,CAzCgB,CAAlB,CA4CAsU,KAAK,CAACjyB,SAAN,CAAgBF,IAAhB,CAAqBE,SAArB,CAAiCiyB,KAAK,CAACjyB,SAAvC,CAEAiyB,KAAK,CAACE,SAAN,CAAkB,CACjBvQ,QAAQ,CAAE,CACTvhB,GAAG,CAAE,SAAU6f,KAAV,CAAkB,CACtB,GAAI9Q,OAAJ,CAIA,GAAK8Q,KAAK,CAACnf,IAAN,CAAW7C,QAAX,GAAwB,CAAxB,EACJgiB,KAAK,CAACnf,IAAN,CAAYmf,KAAK,CAACrC,IAAlB,GAA4B,IAA5B,EAAoCqC,KAAK,CAACnf,IAAN,CAAW4e,KAAX,CAAkBO,KAAK,CAACrC,IAAxB,GAAkC,IADvE,CAC8E,CAC7E,MAAOqC,MAAK,CAACnf,IAAN,CAAYmf,KAAK,CAACrC,IAAlB,CAAP,CACA,CAMDzO,MAAM,CAAG1P,MAAM,CAACmgB,GAAP,CAAYK,KAAK,CAACnf,IAAlB,CAAwBmf,KAAK,CAACrC,IAA9B,CAAoC,EAApC,CAAT,CAGA,MAAO,CAACzO,MAAD,EAAWA,MAAM,GAAK,MAAtB,CAA+B,CAA/B,CAAmCA,MAA1C,CACA,CAnBQ,CAoBTuO,GAAG,CAAE,SAAUuC,KAAV,CAAkB,CAKtB,GAAKxgB,MAAM,CAACgzB,EAAP,CAAUD,IAAV,CAAgBvS,KAAK,CAACrC,IAAtB,CAAL,CAAoC,CACnCne,MAAM,CAACgzB,EAAP,CAAUD,IAAV,CAAgBvS,KAAK,CAACrC,IAAtB,EAA8BqC,KAA9B,EACA,CAFD,IAEO,IAAKA,KAAK,CAACnf,IAAN,CAAW7C,QAAX,GAAwB,CAAxB,GACVwB,MAAM,CAACsxB,QAAP,CAAiB9Q,KAAK,CAACrC,IAAvB,GACAqC,KAAK,CAACnf,IAAN,CAAW4e,KAAX,CAAkB0P,aAAa,CAAEnP,KAAK,CAACrC,IAAR,CAA/B,GAAmD,IAFzC,CAAL,CAEuD,CAC7Dne,MAAM,CAACigB,KAAP,CAAcO,KAAK,CAACnf,IAApB,CAA0Bmf,KAAK,CAACrC,IAAhC,CAAsCqC,KAAK,CAAC0H,GAAN,CAAY1H,KAAK,CAACM,IAAxD,EACA,CAJM,IAIA,CACNN,KAAK,CAACnf,IAAN,CAAYmf,KAAK,CAACrC,IAAlB,EAA2BqC,KAAK,CAAC0H,GAAjC,CACA,CACD,CAlCQ,CADO,CAAlB,CAyCAqK,KAAK,CAACE,SAAN,CAAgBQ,SAAhB,CAA4BV,KAAK,CAACE,SAAN,CAAgBS,UAAhB,CAA6B,CACxDjV,GAAG,CAAE,SAAUuC,KAAV,CAAkB,CACtB,GAAKA,KAAK,CAACnf,IAAN,CAAW7C,QAAX,EAAuBgiB,KAAK,CAACnf,IAAN,CAAWzB,UAAvC,CAAoD,CACnD4gB,KAAK,CAACnf,IAAN,CAAYmf,KAAK,CAACrC,IAAlB,EAA2BqC,KAAK,CAAC0H,GAAjC,CACA,CACD,CALuD,CAAzD,CAQAloB,MAAM,CAACwyB,MAAP,CAAgB,CACfW,MAAM,CAAE,SAAUC,CAAV,CAAc,CACrB,MAAOA,EAAP,CACA,CAHc,CAIfC,KAAK,CAAE,SAAUD,CAAV,CAAc,CACpB,MAAO,KAAMvwB,IAAI,CAACywB,GAAL,CAAUF,CAAC,CAAGvwB,IAAI,CAAC0wB,EAAnB,EAA0B,CAAvC,CACA,CANc,CAOfrR,QAAQ,CAAE,OAPK,CAAhB,CAUAliB,MAAM,CAACgzB,EAAP,CAAYT,KAAK,CAACjyB,SAAN,CAAgBF,IAA5B,CAGAJ,MAAM,CAACgzB,EAAP,CAAUD,IAAV,CAAiB,EAAjB,CAKA,GACCS,MADD,CACQC,UADR,CAECC,QAAQ,CAAG,wBAFZ,CAGCC,IAAI,CAAG,aAHR,CAKA,QAASC,SAAT,EAAoB,CACnB,GAAKH,UAAL,CAAkB,CACjB,GAAKx2B,QAAQ,CAAC42B,MAAT,GAAoB,KAApB,EAA6Bz2B,MAAM,CAAC02B,qBAAzC,CAAiE,CAChE12B,MAAM,CAAC02B,qBAAP,CAA8BF,QAA9B,EACA,CAFD,IAEO,CACNx2B,MAAM,CAACme,UAAP,CAAmBqY,QAAnB,CAA6B5zB,MAAM,CAACgzB,EAAP,CAAUe,QAAvC,EACA,CAED/zB,MAAM,CAACgzB,EAAP,CAAUgB,IAAV,GACA,CACD,CAGD,QAASC,YAAT,EAAuB,CACtB72B,MAAM,CAACme,UAAP,CAAmB,UAAW,CAC7BiY,KAAK,CAAG7wB,SAAR,CACA,CAFD,EAGA,MAAS6wB,MAAK,CAAG/tB,IAAI,CAACyiB,GAAL,EAAjB,CACA,CAGD,QAASgM,MAAT,CAAgBv1B,IAAhB,CAAsBw1B,YAAtB,CAAqC,CACpC,GAAIrK,MAAJ,CACC3qB,CAAC,CAAG,CADL,CAEC6L,KAAK,CAAG,CAAEopB,MAAM,CAAEz1B,IAAV,CAFT,CAMAw1B,YAAY,CAAGA,YAAY,CAAG,CAAH,CAAO,CAAlC,CACA,KAAQh1B,CAAC,CAAG,CAAZ,CAAeA,CAAC,EAAI,EAAIg1B,YAAxB,CAAuC,CACtCrK,KAAK,CAAGlK,SAAS,CAAEzgB,CAAF,CAAjB,CACA6L,KAAK,CAAE,SAAW8e,KAAb,CAAL,CAA4B9e,KAAK,CAAE,UAAY8e,KAAd,CAAL,CAA6BnrB,IAAzD,CACA,CAED,GAAKw1B,YAAL,CAAoB,CACnBnpB,KAAK,CAACumB,OAAN,CAAgBvmB,KAAK,CAACgjB,KAAN,CAAcrvB,IAA9B,CACA,CAED,MAAOqM,MAAP,CACA,CAED,QAASqpB,YAAT,CAAsBlwB,KAAtB,CAA6Bga,IAA7B,CAAmCmW,SAAnC,CAA+C,CAC9C,GAAI9T,MAAJ,CACC8K,UAAU,CAAG,CAAEiJ,SAAS,CAACC,QAAV,CAAoBrW,IAApB,GAA8B,EAAhC,EAAqCxgB,MAArC,CAA6C42B,SAAS,CAACC,QAAV,CAAoB,GAApB,CAA7C,CADd,CAEC1d,KAAK,CAAG,CAFT,CAGCrW,MAAM,CAAG6qB,UAAU,CAAC7qB,MAHrB,CAIA,KAAQqW,KAAK,CAAGrW,MAAhB,CAAwBqW,KAAK,EAA7B,CAAkC,CACjC,GAAO0J,KAAK,CAAG8K,UAAU,CAAExU,KAAF,CAAV,CAAoB1Y,IAApB,CAA0Bk2B,SAA1B,CAAqCnW,IAArC,CAA2Cha,KAA3C,CAAf,CAAsE,CAGrE,MAAOqc,MAAP,CACA,CACD,CACD,CAED,QAASiU,iBAAT,CAA2BpzB,IAA3B,CAAiCwmB,KAAjC,CAAwC6M,IAAxC,CAA+C,CAC9C,GAAIvW,KAAJ,CAAUha,KAAV,CAAiBqd,MAAjB,CAAyBtC,KAAzB,CAAgCyV,OAAhC,CAAyCC,SAAzC,CAAoDC,cAApD,CAAoE3U,OAApE,CACC4U,KAAK,CAAG,SAAWjN,MAAX,EAAoB,UAAYA,MADzC,CAECkN,IAAI,CAAG,IAFR,CAGC1K,IAAI,CAAG,EAHR,CAICpK,KAAK,CAAG5e,IAAI,CAAC4e,KAJd,CAKC4T,MAAM,CAAGxyB,IAAI,CAAC7C,QAAL,EAAiBwhB,kBAAkB,CAAE3e,IAAF,CAL7C,CAMC2zB,QAAQ,CAAG3W,QAAQ,CAAC1d,GAAT,CAAcU,IAAd,CAAoB,QAApB,CANZ,CASA,GAAK,CAACqzB,IAAI,CAACtc,KAAX,CAAmB,CAClB8G,KAAK,CAAGlf,MAAM,CAACmf,WAAP,CAAoB9d,IAApB,CAA0B,IAA1B,CAAR,CACA,GAAK6d,KAAK,CAAC+V,QAAN,EAAkB,IAAvB,CAA8B,CAC7B/V,KAAK,CAAC+V,QAAN,CAAiB,CAAjB,CACAN,OAAO,CAAGzV,KAAK,CAACxG,KAAN,CAAYJ,IAAtB,CACA4G,KAAK,CAACxG,KAAN,CAAYJ,IAAZ,CAAmB,UAAW,CAC7B,GAAK,CAAC4G,KAAK,CAAC+V,QAAZ,CAAuB,CACtBN,OAAO,GACP,CACD,CAJD,CAKA,CACDzV,KAAK,CAAC+V,QAAN,GAEAF,IAAI,CAACjb,MAAL,CAAa,UAAW,CAGvBib,IAAI,CAACjb,MAAL,CAAa,UAAW,CACvBoF,KAAK,CAAC+V,QAAN,GACA,GAAK,CAACj1B,MAAM,CAACoY,KAAP,CAAc/W,IAAd,CAAoB,IAApB,EAA2BZ,MAAjC,CAA0C,CACzCye,KAAK,CAACxG,KAAN,CAAYJ,IAAZ,GACA,CACD,CALD,EAMA,CATD,EAUA,CAGD,IAAM6F,IAAN,GAAc0J,MAAd,CAAsB,CACrB1jB,KAAK,CAAG0jB,KAAK,CAAE1J,IAAF,CAAb,CACA,GAAKuV,QAAQ,CAAC1pB,IAAT,CAAe7F,KAAf,CAAL,CAA8B,CAC7B,MAAO0jB,MAAK,CAAE1J,IAAF,CAAZ,CACAqD,MAAM,CAAGA,MAAM,EAAIrd,KAAK,GAAK,QAA7B,CACA,GAAKA,KAAK,IAAO0vB,MAAM,CAAG,MAAH,CAAY,MAAzB,CAAV,CAA8C,CAI7C,GAAK1vB,KAAK,GAAK,MAAV,EAAoB6wB,QAApB,EAAgCA,QAAQ,CAAE7W,IAAF,CAAR,GAAqBxb,SAA1D,CAAsE,CACrEkxB,MAAM,CAAG,IAAT,CAGA,CAJD,IAIO,CACN,SACA,CACD,CACDxJ,IAAI,CAAElM,IAAF,CAAJ,CAAe6W,QAAQ,EAAIA,QAAQ,CAAE7W,IAAF,CAApB,EAAgCne,MAAM,CAACigB,KAAP,CAAc5e,IAAd,CAAoB8c,IAApB,CAA/C,CACA,CACD,CAGDyW,SAAS,CAAG,CAAC50B,MAAM,CAACsD,aAAP,CAAsBukB,KAAtB,CAAb,CACA,GAAK,CAAC+M,SAAD,EAAc50B,MAAM,CAACsD,aAAP,CAAsB+mB,IAAtB,CAAnB,CAAkD,CACjD,OACA,CAGD,GAAKyK,KAAK,EAAIzzB,IAAI,CAAC7C,QAAL,GAAkB,CAAhC,CAAoC,CAMnCk2B,IAAI,CAACQ,QAAL,CAAgB,CAAEjV,KAAK,CAACiV,QAAR,CAAkBjV,KAAK,CAACkV,SAAxB,CAAmClV,KAAK,CAACmV,SAAzC,CAAhB,CAGAP,cAAc,CAAGG,QAAQ,EAAIA,QAAQ,CAAC9U,OAAtC,CACA,GAAK2U,cAAc,EAAI,IAAvB,CAA8B,CAC7BA,cAAc,CAAGxW,QAAQ,CAAC1d,GAAT,CAAcU,IAAd,CAAoB,SAApB,CAAjB,CACA,CACD6e,OAAO,CAAGlgB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,SAAlB,CAAV,CACA,GAAK6e,OAAO,GAAK,MAAjB,CAA0B,CACzB,GAAK2U,cAAL,CAAsB,CACrB3U,OAAO,CAAG2U,cAAV,CACA,CAFD,IAEO,CAGNzT,QAAQ,CAAE,CAAE/f,IAAF,CAAF,CAAY,IAAZ,CAAR,CACAwzB,cAAc,CAAGxzB,IAAI,CAAC4e,KAAL,CAAWC,OAAX,EAAsB2U,cAAvC,CACA3U,OAAO,CAAGlgB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,SAAlB,CAAV,CACA+f,QAAQ,CAAE,CAAE/f,IAAF,CAAF,CAAR,CACA,CACD,CAGD,GAAK6e,OAAO,GAAK,QAAZ,EAAwBA,OAAO,GAAK,cAAZ,EAA8B2U,cAAc,EAAI,IAA7E,CAAoF,CACnF,GAAK70B,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,OAAlB,IAAgC,MAArC,CAA8C,CAG7C,GAAK,CAACuzB,SAAN,CAAkB,CACjBG,IAAI,CAACnvB,IAAL,CAAW,UAAW,CACrBqa,KAAK,CAACC,OAAN,CAAgB2U,cAAhB,CACA,CAFD,EAGA,GAAKA,cAAc,EAAI,IAAvB,CAA8B,CAC7B3U,OAAO,CAAGD,KAAK,CAACC,OAAhB,CACA2U,cAAc,CAAG3U,OAAO,GAAK,MAAZ,CAAqB,EAArB,CAA0BA,OAA3C,CACA,CACD,CACDD,KAAK,CAACC,OAAN,CAAgB,cAAhB,CACA,CACD,CACD,CAED,GAAKwU,IAAI,CAACQ,QAAV,CAAqB,CACpBjV,KAAK,CAACiV,QAAN,CAAiB,QAAjB,CACAH,IAAI,CAACjb,MAAL,CAAa,UAAW,CACvBmG,KAAK,CAACiV,QAAN,CAAiBR,IAAI,CAACQ,QAAL,CAAe,CAAf,CAAjB,CACAjV,KAAK,CAACkV,SAAN,CAAkBT,IAAI,CAACQ,QAAL,CAAe,CAAf,CAAlB,CACAjV,KAAK,CAACmV,SAAN,CAAkBV,IAAI,CAACQ,QAAL,CAAe,CAAf,CAAlB,CACA,CAJD,EAKA,CAGDN,SAAS,CAAG,KAAZ,CACA,IAAMzW,IAAN,GAAckM,KAAd,CAAqB,CAGpB,GAAK,CAACuK,SAAN,CAAkB,CACjB,GAAKI,QAAL,CAAgB,CACf,GAAK,UAAYA,SAAjB,CAA4B,CAC3BnB,MAAM,CAAGmB,QAAQ,CAACnB,MAAlB,CACA,CACD,CAJD,IAIO,CACNmB,QAAQ,CAAG3W,QAAQ,CAACvB,MAAT,CAAiBzb,IAAjB,CAAuB,QAAvB,CAAiC,CAAE6e,OAAO,CAAE2U,cAAX,CAAjC,CAAX,CACA,CAGD,GAAKrT,MAAL,CAAc,CACbwT,QAAQ,CAACnB,MAAT,CAAkB,CAACA,MAAnB,CACA,CAGD,GAAKA,MAAL,CAAc,CACbzS,QAAQ,CAAE,CAAE/f,IAAF,CAAF,CAAY,IAAZ,CAAR,CACA,CAID0zB,IAAI,CAACnvB,IAAL,CAAW,UAAW,CAKrB,GAAK,CAACiuB,MAAN,CAAe,CACdzS,QAAQ,CAAE,CAAE/f,IAAF,CAAF,CAAR,CACA,CACDgd,QAAQ,CAAC5F,MAAT,CAAiBpX,IAAjB,CAAuB,QAAvB,EACA,IAAM8c,IAAN,GAAckM,KAAd,CAAqB,CACpBrqB,MAAM,CAACigB,KAAP,CAAc5e,IAAd,CAAoB8c,IAApB,CAA0BkM,IAAI,CAAElM,IAAF,CAA9B,EACA,CACD,CAZD,EAaA,CAGDyW,SAAS,CAAGP,WAAW,CAAER,MAAM,CAAGmB,QAAQ,CAAE7W,IAAF,CAAX,CAAsB,CAA9B,CAAiCA,IAAjC,CAAuC4W,IAAvC,CAAvB,CACA,GAAK,EAAG5W,IAAI,GAAI6W,SAAX,CAAL,CAA6B,CAC5BA,QAAQ,CAAE7W,IAAF,CAAR,CAAmByW,SAAS,CAACzkB,KAA7B,CACA,GAAK0jB,MAAL,CAAc,CACbe,SAAS,CAAC/yB,GAAV,CAAgB+yB,SAAS,CAACzkB,KAA1B,CACAykB,SAAS,CAACzkB,KAAV,CAAkB,CAAlB,CACA,CACD,CACD,CACD,CAED,QAASklB,WAAT,CAAqBxN,KAArB,CAA4ByN,aAA5B,CAA4C,CAC3C,GAAIxe,MAAJ,CAAW5U,IAAX,CAAiBswB,MAAjB,CAAyBruB,KAAzB,CAAgC+a,KAAhC,CAGA,IAAMpI,KAAN,GAAe+Q,MAAf,CAAuB,CACtB3lB,IAAI,CAAGub,SAAS,CAAE3G,KAAF,CAAhB,CACA0b,MAAM,CAAG8C,aAAa,CAAEpzB,IAAF,CAAtB,CACAiC,KAAK,CAAG0jB,KAAK,CAAE/Q,KAAF,CAAb,CACA,GAAKrU,KAAK,CAACC,OAAN,CAAeyB,KAAf,CAAL,CAA8B,CAC7BquB,MAAM,CAAGruB,KAAK,CAAE,CAAF,CAAd,CACAA,KAAK,CAAG0jB,KAAK,CAAE/Q,KAAF,CAAL,CAAiB3S,KAAK,CAAE,CAAF,CAA9B,CACA,CAED,GAAK2S,KAAK,GAAK5U,IAAf,CAAsB,CACrB2lB,KAAK,CAAE3lB,IAAF,CAAL,CAAgBiC,KAAhB,CACA,MAAO0jB,MAAK,CAAE/Q,KAAF,CAAZ,CACA,CAEDoI,KAAK,CAAGlf,MAAM,CAACsxB,QAAP,CAAiBpvB,IAAjB,CAAR,CACA,GAAKgd,KAAK,EAAI,UAAYA,MAA1B,CAAkC,CACjC/a,KAAK,CAAG+a,KAAK,CAACkT,MAAN,CAAcjuB,KAAd,CAAR,CACA,MAAO0jB,MAAK,CAAE3lB,IAAF,CAAZ,CAIA,IAAM4U,KAAN,GAAe3S,MAAf,CAAuB,CACtB,GAAK,EAAG2S,KAAK,GAAI+Q,MAAZ,CAAL,CAA2B,CAC1BA,KAAK,CAAE/Q,KAAF,CAAL,CAAiB3S,KAAK,CAAE2S,KAAF,CAAtB,CACAwe,aAAa,CAAExe,KAAF,CAAb,CAAyB0b,MAAzB,CACA,CACD,CACD,CAZD,IAYO,CACN8C,aAAa,CAAEpzB,IAAF,CAAb,CAAwBswB,MAAxB,CACA,CACD,CACD,CAED,QAAS+B,UAAT,CAAoBlzB,IAApB,CAA0Bk0B,UAA1B,CAAsCtzB,OAAtC,CAAgD,CAC/C,GAAIyN,OAAJ,CACC8lB,OADD,CAEC1e,KAAK,CAAG,CAFT,CAGCrW,MAAM,CAAG8zB,SAAS,CAACkB,UAAV,CAAqBh1B,MAH/B,CAICsZ,QAAQ,CAAG/Z,MAAM,CAAC0Z,QAAP,GAAkBI,MAAlB,CAA0B,UAAW,CAG/C,MAAOka,KAAI,CAAC3yB,IAAZ,CACA,CAJU,CAJZ,CASC2yB,IAAI,CAAG,UAAW,CACjB,GAAKwB,OAAL,CAAe,CACd,MAAO,MAAP,CACA,CACD,GAAIE,YAAW,CAAGlC,KAAK,EAAIS,WAAW,EAAtC,CACCtY,SAAS,CAAG9Y,IAAI,CAAC0tB,GAAL,CAAU,CAAV,CAAa+D,SAAS,CAACqB,SAAV,CAAsBrB,SAAS,CAACzB,QAAhC,CAA2C6C,WAAxD,CADb,CAKCliB,IAAI,CAAGmI,SAAS,CAAG2Y,SAAS,CAACzB,QAAtB,EAAkC,CAL1C,CAMCF,OAAO,CAAG,EAAInf,IANf,CAOCsD,KAAK,CAAG,CAPT,CAQCrW,MAAM,CAAG6zB,SAAS,CAACsB,MAAV,CAAiBn1B,MAR3B,CAUA,KAAQqW,KAAK,CAAGrW,MAAhB,CAAwBqW,KAAK,EAA7B,CAAkC,CACjCwd,SAAS,CAACsB,MAAV,CAAkB9e,KAAlB,EAA0B4b,GAA1B,CAA+BC,OAA/B,EACA,CAED5Y,QAAQ,CAACiB,UAAT,CAAqB3Z,IAArB,CAA2B,CAAEizB,SAAF,CAAa3B,OAAb,CAAsBhX,SAAtB,CAA3B,EAGA,GAAKgX,OAAO,CAAG,CAAV,EAAelyB,MAApB,CAA6B,CAC5B,MAAOkb,UAAP,CACA,CAGD,GAAK,CAAClb,MAAN,CAAe,CACdsZ,QAAQ,CAACiB,UAAT,CAAqB3Z,IAArB,CAA2B,CAAEizB,SAAF,CAAa,CAAb,CAAgB,CAAhB,CAA3B,EACA,CAGDva,QAAQ,CAACkB,WAAT,CAAsB5Z,IAAtB,CAA4B,CAAEizB,SAAF,CAA5B,EACA,MAAO,MAAP,CACA,CA1CF,CA2CCA,SAAS,CAAGva,QAAQ,CAACR,OAAT,CAAkB,CAC7BlY,IAAI,CAAEA,IADuB,CAE7BwmB,KAAK,CAAE7nB,MAAM,CAACgC,MAAP,CAAe,EAAf,CAAmBuzB,UAAnB,CAFsB,CAG7Bb,IAAI,CAAE10B,MAAM,CAACgC,MAAP,CAAe,IAAf,CAAqB,CAC1BszB,aAAa,CAAE,EADW,CAE1B9C,MAAM,CAAExyB,MAAM,CAACwyB,MAAP,CAActQ,QAFI,CAArB,CAGHjgB,OAHG,CAHuB,CAO7B4zB,kBAAkB,CAAEN,UAPS,CAQ7BO,eAAe,CAAE7zB,OARY,CAS7B0zB,SAAS,CAAEnC,KAAK,EAAIS,WAAW,EATF,CAU7BpB,QAAQ,CAAE5wB,OAAO,CAAC4wB,QAVW,CAW7B+C,MAAM,CAAE,EAXqB,CAY7BvB,WAAW,CAAE,SAAUlW,IAAV,CAAgBtc,GAAhB,CAAsB,CAClC,GAAI2e,MAAK,CAAGxgB,MAAM,CAACuyB,KAAP,CAAclxB,IAAd,CAAoBizB,SAAS,CAACI,IAA9B,CAAoCvW,IAApC,CAA0Ctc,GAA1C,CACVyyB,SAAS,CAACI,IAAV,CAAeY,aAAf,CAA8BnX,IAA9B,GAAwCmW,SAAS,CAACI,IAAV,CAAelC,MAD7C,CAAZ,CAEA8B,SAAS,CAACsB,MAAV,CAAiBh4B,IAAjB,CAAuB4iB,KAAvB,EACA,MAAOA,MAAP,CACA,CAjB4B,CAkB7BpB,IAAI,CAAE,SAAU2W,OAAV,CAAoB,CACzB,GAAIjf,MAAK,CAAG,CAAZ,CAICrW,MAAM,CAAGs1B,OAAO,CAAGzB,SAAS,CAACsB,MAAV,CAAiBn1B,MAApB,CAA6B,CAJ9C,CAKA,GAAK+0B,OAAL,CAAe,CACd,MAAO,KAAP,CACA,CACDA,OAAO,CAAG,IAAV,CACA,KAAQ1e,KAAK,CAAGrW,MAAhB,CAAwBqW,KAAK,EAA7B,CAAkC,CACjCwd,SAAS,CAACsB,MAAV,CAAkB9e,KAAlB,EAA0B4b,GAA1B,CAA+B,CAA/B,EACA,CAGD,GAAKqD,OAAL,CAAe,CACdhc,QAAQ,CAACiB,UAAT,CAAqB3Z,IAArB,CAA2B,CAAEizB,SAAF,CAAa,CAAb,CAAgB,CAAhB,CAA3B,EACAva,QAAQ,CAACkB,WAAT,CAAsB5Z,IAAtB,CAA4B,CAAEizB,SAAF,CAAayB,OAAb,CAA5B,EACA,CAHD,IAGO,CACNhc,QAAQ,CAACsB,UAAT,CAAqBha,IAArB,CAA2B,CAAEizB,SAAF,CAAayB,OAAb,CAA3B,EACA,CACD,MAAO,KAAP,CACA,CAxC4B,CAAlB,CA3Cb,CAqFClO,KAAK,CAAGyM,SAAS,CAACzM,KArFnB,CAuFAwN,UAAU,CAAExN,KAAF,CAASyM,SAAS,CAACI,IAAV,CAAeY,aAAxB,CAAV,CAEA,KAAQxe,KAAK,CAAGrW,MAAhB,CAAwBqW,KAAK,EAA7B,CAAkC,CACjCpH,MAAM,CAAG6kB,SAAS,CAACkB,UAAV,CAAsB3e,KAAtB,EAA8B1Y,IAA9B,CAAoCk2B,SAApC,CAA+CjzB,IAA/C,CAAqDwmB,KAArD,CAA4DyM,SAAS,CAACI,IAAtE,CAAT,CACA,GAAKhlB,MAAL,CAAc,CACb,GAAKpR,UAAU,CAAEoR,MAAM,CAAC0P,IAAT,CAAf,CAAiC,CAChCpf,MAAM,CAACmf,WAAP,CAAoBmV,SAAS,CAACjzB,IAA9B,CAAoCizB,SAAS,CAACI,IAAV,CAAetc,KAAnD,EAA2DgH,IAA3D,CACC1P,MAAM,CAAC0P,IAAP,CAAY4W,IAAZ,CAAkBtmB,MAAlB,CADD,CAEA,CACD,MAAOA,OAAP,CACA,CACD,CAED1P,MAAM,CAACoB,GAAP,CAAYymB,KAAZ,CAAmBwM,WAAnB,CAAgCC,SAAhC,EAEA,GAAKh2B,UAAU,CAAEg2B,SAAS,CAACI,IAAV,CAAevkB,KAAjB,CAAf,CAA0C,CACzCmkB,SAAS,CAACI,IAAV,CAAevkB,KAAf,CAAqB/R,IAArB,CAA2BiD,IAA3B,CAAiCizB,SAAjC,EACA,CAGDA,SAAS,CACPja,QADF,CACYia,SAAS,CAACI,IAAV,CAAera,QAD3B,EAEEzU,IAFF,CAEQ0uB,SAAS,CAACI,IAAV,CAAe9uB,IAFvB,CAE6B0uB,SAAS,CAACI,IAAV,CAAeuB,QAF5C,EAGEzc,IAHF,CAGQ8a,SAAS,CAACI,IAAV,CAAelb,IAHvB,EAIEM,MAJF,CAIUwa,SAAS,CAACI,IAAV,CAAe5a,MAJzB,EAMA9Z,MAAM,CAACgzB,EAAP,CAAUkD,KAAV,CACCl2B,MAAM,CAACgC,MAAP,CAAegyB,IAAf,CAAqB,CACpB3yB,IAAI,CAAEA,IADc,CAEpB0zB,IAAI,CAAET,SAFc,CAGpBlc,KAAK,CAAEkc,SAAS,CAACI,IAAV,CAAetc,KAHF,CAArB,CADD,EAQA,MAAOkc,UAAP,CACA,CAEDt0B,MAAM,CAACu0B,SAAP,CAAmBv0B,MAAM,CAACgC,MAAP,CAAeuyB,SAAf,CAA0B,CAE5CC,QAAQ,CAAE,CACT,IAAK,CAAE,SAAUrW,IAAV,CAAgBha,KAAhB,CAAwB,CAC9B,GAAIqc,MAAK,CAAG,KAAK6T,WAAL,CAAkBlW,IAAlB,CAAwBha,KAAxB,CAAZ,CACAmc,SAAS,CAAEE,KAAK,CAACnf,IAAR,CAAc8c,IAAd,CAAoBwB,OAAO,CAACjW,IAAR,CAAcvF,KAAd,CAApB,CAA2Cqc,KAA3C,CAAT,CACA,MAAOA,MAAP,CACA,CAJI,CADI,CAFkC,CAU5C2V,OAAO,CAAE,SAAUtO,KAAV,CAAiB1mB,QAAjB,CAA4B,CACpC,GAAK7C,UAAU,CAAEupB,KAAF,CAAf,CAA2B,CAC1B1mB,QAAQ,CAAG0mB,KAAX,CACAA,KAAK,CAAG,CAAE,GAAF,CAAR,CACA,CAHD,IAGO,CACNA,KAAK,CAAGA,KAAK,CAACxe,KAAN,CAAasO,aAAb,CAAR,CACA,CAED,GAAIwG,KAAJ,CACCrH,KAAK,CAAG,CADT,CAECrW,MAAM,CAAGonB,KAAK,CAACpnB,MAFhB,CAIA,KAAQqW,KAAK,CAAGrW,MAAhB,CAAwBqW,KAAK,EAA7B,CAAkC,CACjCqH,IAAI,CAAG0J,KAAK,CAAE/Q,KAAF,CAAZ,CACAyd,SAAS,CAACC,QAAV,CAAoBrW,IAApB,EAA6BoW,SAAS,CAACC,QAAV,CAAoBrW,IAApB,GAA8B,EAA3D,CACAoW,SAAS,CAACC,QAAV,CAAoBrW,IAApB,EAA2BjQ,OAA3B,CAAoC/M,QAApC,EACA,CACD,CA3B2C,CA6B5Cs0B,UAAU,CAAE,CAAEhB,gBAAF,CA7BgC,CA+B5C2B,SAAS,CAAE,SAAUj1B,QAAV,CAAoBirB,OAApB,CAA8B,CACxC,GAAKA,OAAL,CAAe,CACdmI,SAAS,CAACkB,UAAV,CAAqBvnB,OAArB,CAA8B/M,QAA9B,EACA,CAFD,IAEO,CACNozB,SAAS,CAACkB,UAAV,CAAqB73B,IAArB,CAA2BuD,QAA3B,EACA,CACD,CArC2C,CAA1B,CAAnB,CAwCAnB,MAAM,CAACq2B,KAAP,CAAe,SAAUA,KAAV,CAAiB7D,MAAjB,CAAyBryB,EAAzB,CAA8B,CAC5C,GAAIm2B,IAAG,CAAGD,KAAK,EAAI,MAAOA,MAAP,GAAiB,QAA1B,CAAqCr2B,MAAM,CAACgC,MAAP,CAAe,EAAf,CAAmBq0B,KAAnB,CAArC,CAAkE,CAC3EJ,QAAQ,CAAE91B,EAAE,EAAI,CAACA,EAAD,EAAOqyB,MAAb,EACTl0B,UAAU,CAAE+3B,KAAF,CAAV,EAAuBA,KAFmD,CAG3ExD,QAAQ,CAAEwD,KAHiE,CAI3E7D,MAAM,CAAEryB,EAAE,EAAIqyB,MAAN,EAAgBA,MAAM,EAAI,CAACl0B,UAAU,CAAEk0B,MAAF,CAArB,EAAmCA,MAJgB,CAA5E,CAQA,GAAKxyB,MAAM,CAACgzB,EAAP,CAAUxO,GAAf,CAAqB,CACpB8R,GAAG,CAACzD,QAAJ,CAAe,CAAf,CAEA,CAHD,IAGO,CACN,GAAK,MAAOyD,IAAG,CAACzD,QAAX,GAAwB,QAA7B,CAAwC,CACvC,GAAKyD,GAAG,CAACzD,QAAJ,GAAgB7yB,OAAM,CAACgzB,EAAP,CAAUuD,MAA/B,CAAwC,CACvCD,GAAG,CAACzD,QAAJ,CAAe7yB,MAAM,CAACgzB,EAAP,CAAUuD,MAAV,CAAkBD,GAAG,CAACzD,QAAtB,CAAf,CAEA,CAHD,IAGO,CACNyD,GAAG,CAACzD,QAAJ,CAAe7yB,MAAM,CAACgzB,EAAP,CAAUuD,MAAV,CAAiBrU,QAAhC,CACA,CACD,CACD,CAGD,GAAKoU,GAAG,CAACle,KAAJ,EAAa,IAAb,EAAqBke,GAAG,CAACle,KAAJ,GAAc,IAAxC,CAA+C,CAC9Cke,GAAG,CAACle,KAAJ,CAAY,IAAZ,CACA,CAGDke,GAAG,CAACjW,GAAJ,CAAUiW,GAAG,CAACL,QAAd,CAEAK,GAAG,CAACL,QAAJ,CAAe,UAAW,CACzB,GAAK33B,UAAU,CAAEg4B,GAAG,CAACjW,GAAN,CAAf,CAA6B,CAC5BiW,GAAG,CAACjW,GAAJ,CAAQjiB,IAAR,CAAc,IAAd,EACA,CAED,GAAKk4B,GAAG,CAACle,KAAT,CAAiB,CAChBpY,MAAM,CAACgf,OAAP,CAAgB,IAAhB,CAAsBsX,GAAG,CAACle,KAA1B,EACA,CACD,CARD,CAUA,MAAOke,IAAP,CACA,CA1CD,CA4CAt2B,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjBw0B,MAAM,CAAE,SAAUH,KAAV,CAAiBI,EAAjB,CAAqBjE,MAArB,CAA6BrxB,QAA7B,CAAwC,CAG/C,MAAO,MAAKyL,MAAL,CAAaoT,kBAAb,EAAkCG,GAAlC,CAAuC,SAAvC,CAAkD,CAAlD,EAAsDkB,IAAtD,GAGLxf,GAHK,GAGC60B,OAHD,CAGU,CAAEnF,OAAO,CAAEkF,EAAX,CAHV,CAG2BJ,KAH3B,CAGkC7D,MAHlC,CAG0CrxB,QAH1C,CAAP,CAIA,CARgB,CASjBu1B,OAAO,CAAE,SAAUvY,IAAV,CAAgBkY,KAAhB,CAAuB7D,MAAvB,CAA+BrxB,QAA/B,CAA0C,CAClD,GAAIuX,MAAK,CAAG1Y,MAAM,CAACsD,aAAP,CAAsB6a,IAAtB,CAAZ,CACCwY,MAAM,CAAG32B,MAAM,CAACq2B,KAAP,CAAcA,KAAd,CAAqB7D,MAArB,CAA6BrxB,QAA7B,CADV,CAECy1B,WAAW,CAAG,UAAW,CAGxB,GAAI7B,KAAI,CAAGR,SAAS,CAAE,IAAF,CAAQv0B,MAAM,CAACgC,MAAP,CAAe,EAAf,CAAmBmc,IAAnB,CAAR,CAAmCwY,MAAnC,CAApB,CAGA,GAAKje,KAAK,EAAI2F,QAAQ,CAAC1d,GAAT,CAAc,IAAd,CAAoB,QAApB,CAAd,CAA+C,CAC9Co0B,IAAI,CAAC3V,IAAL,CAAW,IAAX,EACA,CACD,CAXF,CAYCwX,WAAW,CAACC,MAAZ,CAAqBD,WAArB,CAED,MAAOle,MAAK,EAAIie,MAAM,CAACve,KAAP,GAAiB,KAA1B,CACN,KAAKlX,IAAL,CAAW01B,WAAX,CADM,CAEN,KAAKxe,KAAL,CAAYue,MAAM,CAACve,KAAnB,CAA0Bwe,WAA1B,CAFD,CAGA,CA3BgB,CA4BjBxX,IAAI,CAAE,SAAUzgB,IAAV,CAAgB2gB,UAAhB,CAA4ByW,OAA5B,CAAsC,CAC3C,GAAIe,UAAS,CAAG,SAAU5X,KAAV,CAAkB,CACjC,GAAIE,KAAI,CAAGF,KAAK,CAACE,IAAjB,CACA,MAAOF,MAAK,CAACE,IAAb,CACAA,IAAI,CAAE2W,OAAF,CAAJ,CACA,CAJD,CAMA,GAAK,MAAOp3B,KAAP,GAAgB,QAArB,CAAgC,CAC/Bo3B,OAAO,CAAGzW,UAAV,CACAA,UAAU,CAAG3gB,IAAb,CACAA,IAAI,CAAGgE,SAAP,CACA,CACD,GAAK2c,UAAU,EAAI3gB,IAAI,GAAK,KAA5B,CAAoC,CACnC,KAAKyZ,KAAL,CAAYzZ,IAAI,EAAI,IAApB,CAA0B,EAA1B,EACA,CAED,MAAO,MAAKuC,IAAL,CAAW,UAAW,CAC5B,GAAI8d,QAAO,CAAG,IAAd,CACClI,KAAK,CAAGnY,IAAI,EAAI,IAAR,EAAgBA,IAAI,CAAG,YADhC,CAECo4B,MAAM,CAAG/2B,MAAM,CAAC+2B,MAFjB,CAGC7Y,IAAI,CAAGG,QAAQ,CAAC1d,GAAT,CAAc,IAAd,CAHR,CAKA,GAAKmW,KAAL,CAAa,CACZ,GAAKoH,IAAI,CAAEpH,KAAF,CAAJ,EAAiBoH,IAAI,CAAEpH,KAAF,CAAJ,CAAcsI,IAApC,CAA2C,CAC1C0X,SAAS,CAAE5Y,IAAI,CAAEpH,KAAF,CAAN,CAAT,CACA,CACD,CAJD,IAIO,CACN,IAAMA,KAAN,GAAeoH,KAAf,CAAsB,CACrB,GAAKA,IAAI,CAAEpH,KAAF,CAAJ,EAAiBoH,IAAI,CAAEpH,KAAF,CAAJ,CAAcsI,IAA/B,EAAuCuU,IAAI,CAAC3pB,IAAL,CAAW8M,KAAX,CAA5C,CAAiE,CAChEggB,SAAS,CAAE5Y,IAAI,CAAEpH,KAAF,CAAN,CAAT,CACA,CACD,CACD,CAED,IAAMA,KAAK,CAAGigB,MAAM,CAACt2B,MAArB,CAA6BqW,KAAK,EAAlC,EAAwC,CACvC,GAAKigB,MAAM,CAAEjgB,KAAF,CAAN,CAAgBzV,IAAhB,GAAyB,IAAzB,GACF1C,IAAI,EAAI,IAAR,EAAgBo4B,MAAM,CAAEjgB,KAAF,CAAN,CAAgBsB,KAAhB,GAA0BzZ,IADxC,CAAL,CACsD,CAErDo4B,MAAM,CAAEjgB,KAAF,CAAN,CAAgBie,IAAhB,CAAqB3V,IAArB,CAA2B2W,OAA3B,EACA/W,OAAO,CAAG,KAAV,CACA+X,MAAM,CAACh1B,MAAP,CAAe+U,KAAf,CAAsB,CAAtB,EACA,CACD,CAKD,GAAKkI,OAAO,EAAI,CAAC+W,OAAjB,CAA2B,CAC1B/1B,MAAM,CAACgf,OAAP,CAAgB,IAAhB,CAAsBrgB,IAAtB,EACA,CACD,CAlCM,CAAP,CAmCA,CA/EgB,CAgFjBk4B,MAAM,CAAE,SAAUl4B,IAAV,CAAiB,CACxB,GAAKA,IAAI,GAAK,KAAd,CAAsB,CACrBA,IAAI,CAAGA,IAAI,EAAI,IAAf,CACA,CACD,MAAO,MAAKuC,IAAL,CAAW,UAAW,CAC5B,GAAI4V,MAAJ,CACCoH,IAAI,CAAGG,QAAQ,CAAC1d,GAAT,CAAc,IAAd,CADR,CAECyX,KAAK,CAAG8F,IAAI,CAAEvf,IAAI,CAAG,OAAT,CAFb,CAGCugB,KAAK,CAAGhB,IAAI,CAAEvf,IAAI,CAAG,YAAT,CAHb,CAICo4B,MAAM,CAAG/2B,MAAM,CAAC+2B,MAJjB,CAKCt2B,MAAM,CAAG2X,KAAK,CAAGA,KAAK,CAAC3X,MAAT,CAAkB,CALjC,CAQAyd,IAAI,CAAC2Y,MAAL,CAAc,IAAd,CAGA72B,MAAM,CAACoY,KAAP,CAAc,IAAd,CAAoBzZ,IAApB,CAA0B,EAA1B,EAEA,GAAKugB,KAAK,EAAIA,KAAK,CAACE,IAApB,CAA2B,CAC1BF,KAAK,CAACE,IAAN,CAAWhhB,IAAX,CAAiB,IAAjB,CAAuB,IAAvB,EACA,CAGD,IAAM0Y,KAAK,CAAGigB,MAAM,CAACt2B,MAArB,CAA6BqW,KAAK,EAAlC,EAAwC,CACvC,GAAKigB,MAAM,CAAEjgB,KAAF,CAAN,CAAgBzV,IAAhB,GAAyB,IAAzB,EAAiC01B,MAAM,CAAEjgB,KAAF,CAAN,CAAgBsB,KAAhB,GAA0BzZ,IAAhE,CAAuE,CACtEo4B,MAAM,CAAEjgB,KAAF,CAAN,CAAgBie,IAAhB,CAAqB3V,IAArB,CAA2B,IAA3B,EACA2X,MAAM,CAACh1B,MAAP,CAAe+U,KAAf,CAAsB,CAAtB,EACA,CACD,CAGD,IAAMA,KAAK,CAAG,CAAd,CAAiBA,KAAK,CAAGrW,MAAzB,CAAiCqW,KAAK,EAAtC,CAA2C,CAC1C,GAAKsB,KAAK,CAAEtB,KAAF,CAAL,EAAkBsB,KAAK,CAAEtB,KAAF,CAAL,CAAe+f,MAAtC,CAA+C,CAC9Cze,KAAK,CAAEtB,KAAF,CAAL,CAAe+f,MAAf,CAAsBz4B,IAAtB,CAA4B,IAA5B,EACA,CACD,CAGD,MAAO8f,KAAI,CAAC2Y,MAAZ,CACA,CAnCM,CAAP,CAoCA,CAxHgB,CAAlB,EA2HA72B,MAAM,CAACkB,IAAP,CAAa,CAAE,QAAF,CAAY,MAAZ,CAAoB,MAApB,CAAb,CAA2C,SAAU/B,CAAV,CAAa+C,IAAb,CAAoB,CAC9D,GAAI80B,MAAK,CAAGh3B,MAAM,CAACG,EAAP,CAAW+B,IAAX,CAAZ,CACAlC,MAAM,CAACG,EAAP,CAAW+B,IAAX,EAAoB,SAAUm0B,KAAV,CAAiB7D,MAAjB,CAAyBrxB,QAAzB,CAAoC,CACvD,MAAOk1B,MAAK,EAAI,IAAT,EAAiB,MAAOA,MAAP,GAAiB,SAAlC,CACNW,KAAK,CAAC11B,KAAN,CAAa,IAAb,CAAmBC,SAAnB,CADM,CAEN,KAAKm1B,OAAL,CAAcxC,KAAK,CAAEhyB,IAAF,CAAQ,IAAR,CAAnB,CAAmCm0B,KAAnC,CAA0C7D,MAA1C,CAAkDrxB,QAAlD,CAFD,CAGA,CAJD,CAKA,CAPD,EAUAnB,MAAM,CAACkB,IAAP,CAAa,CACZ+1B,SAAS,CAAE/C,KAAK,CAAE,MAAF,CADJ,CAEZgD,OAAO,CAAEhD,KAAK,CAAE,MAAF,CAFF,CAGZiD,WAAW,CAAEjD,KAAK,CAAE,QAAF,CAHN,CAIZkD,MAAM,CAAE,CAAE7F,OAAO,CAAE,MAAX,CAJI,CAKZ8F,OAAO,CAAE,CAAE9F,OAAO,CAAE,MAAX,CALG,CAMZ+F,UAAU,CAAE,CAAE/F,OAAO,CAAE,QAAX,CANA,CAAb,CAOG,SAAUrvB,IAAV,CAAgB2lB,KAAhB,CAAwB,CAC1B7nB,MAAM,CAACG,EAAP,CAAW+B,IAAX,EAAoB,SAAUm0B,KAAV,CAAiB7D,MAAjB,CAAyBrxB,QAAzB,CAAoC,CACvD,MAAO,MAAKu1B,OAAL,CAAc7O,KAAd,CAAqBwO,KAArB,CAA4B7D,MAA5B,CAAoCrxB,QAApC,CAAP,CACA,CAFD,CAGA,CAXD,EAaAnB,MAAM,CAAC+2B,MAAP,CAAgB,EAAhB,CACA/2B,MAAM,CAACgzB,EAAP,CAAUgB,IAAV,CAAiB,UAAW,CAC3B,GAAIkC,MAAJ,CACC/2B,CAAC,CAAG,CADL,CAEC43B,MAAM,CAAG/2B,MAAM,CAAC+2B,MAFjB,CAIAvD,KAAK,CAAG/tB,IAAI,CAACyiB,GAAL,EAAR,CAEA,KAAQ/oB,CAAC,CAAG43B,MAAM,CAACt2B,MAAnB,CAA2BtB,CAAC,EAA5B,CAAiC,CAChC+2B,KAAK,CAAGa,MAAM,CAAE53B,CAAF,CAAd,CAGA,GAAK,CAAC+2B,KAAK,EAAN,EAAYa,MAAM,CAAE53B,CAAF,CAAN,GAAgB+2B,KAAjC,CAAyC,CACxCa,MAAM,CAACh1B,MAAP,CAAe5C,CAAC,EAAhB,CAAoB,CAApB,EACA,CACD,CAED,GAAK,CAAC43B,MAAM,CAACt2B,MAAb,CAAsB,CACrBT,MAAM,CAACgzB,EAAP,CAAU5T,IAAV,GACA,CACDoU,KAAK,CAAG7wB,SAAR,CACA,CApBD,CAsBA3C,MAAM,CAACgzB,EAAP,CAAUkD,KAAV,CAAkB,SAAUA,KAAV,CAAkB,CACnCl2B,MAAM,CAAC+2B,MAAP,CAAcn5B,IAAd,CAAoBs4B,KAApB,EACAl2B,MAAM,CAACgzB,EAAP,CAAU7iB,KAAV,GACA,CAHD,CAKAnQ,MAAM,CAACgzB,EAAP,CAAUe,QAAV,CAAqB,EAArB,CACA/zB,MAAM,CAACgzB,EAAP,CAAU7iB,KAAV,CAAkB,UAAW,CAC5B,GAAKsjB,UAAL,CAAkB,CACjB,OACA,CAEDA,UAAU,CAAG,IAAb,CACAG,QAAQ,GACR,CAPD,CASA5zB,MAAM,CAACgzB,EAAP,CAAU5T,IAAV,CAAiB,UAAW,CAC3BqU,UAAU,CAAG,IAAb,CACA,CAFD,CAIAzzB,MAAM,CAACgzB,EAAP,CAAUuD,MAAV,CAAmB,CAClBgB,IAAI,CAAE,GADY,CAElBC,IAAI,CAAE,GAFY,CAKlBtV,QAAQ,CAAE,GALQ,CAAnB,CAWAliB,MAAM,CAACG,EAAP,CAAUs3B,KAAV,CAAkB,SAAUC,IAAV,CAAgB/4B,IAAhB,CAAuB,CACxC+4B,IAAI,CAAG13B,MAAM,CAACgzB,EAAP,CAAYhzB,MAAM,CAACgzB,EAAP,CAAUuD,MAAV,CAAkBmB,IAAlB,GAA4BA,IAAxC,CAA+CA,IAAtD,CACA/4B,IAAI,CAAGA,IAAI,EAAI,IAAf,CAEA,MAAO,MAAKyZ,KAAL,CAAYzZ,IAAZ,CAAkB,SAAUmK,IAAV,CAAgBoW,KAAhB,CAAwB,CAChD,GAAIyY,QAAO,CAAGv6B,MAAM,CAACme,UAAP,CAAmBzS,IAAnB,CAAyB4uB,IAAzB,CAAd,CACAxY,KAAK,CAACE,IAAN,CAAa,UAAW,CACvBhiB,MAAM,CAACw6B,YAAP,CAAqBD,OAArB,EACA,CAFD,CAGA,CALM,CAAP,CAMA,CAVD,CAaA,CAAE,UAAW,CACZ,GAAIxqB,MAAK,CAAGlQ,QAAQ,CAACqC,aAAT,CAAwB,OAAxB,CAAZ,CACCyF,MAAM,CAAG9H,QAAQ,CAACqC,aAAT,CAAwB,QAAxB,CADV,CAECg3B,GAAG,CAAGvxB,MAAM,CAACpF,WAAP,CAAoB1C,QAAQ,CAACqC,aAAT,CAAwB,QAAxB,CAApB,CAFP,CAIA6N,KAAK,CAACxO,IAAN,CAAa,UAAb,CAIAN,OAAO,CAACw5B,OAAR,CAAkB1qB,KAAK,CAAChJ,KAAN,GAAgB,EAAlC,CAIA9F,OAAO,CAACy5B,WAAR,CAAsBxB,GAAG,CAAC9kB,QAA1B,CAIArE,KAAK,CAAGlQ,QAAQ,CAACqC,aAAT,CAAwB,OAAxB,CAAR,CACA6N,KAAK,CAAChJ,KAAN,CAAc,GAAd,CACAgJ,KAAK,CAACxO,IAAN,CAAa,OAAb,CACAN,OAAO,CAAC05B,UAAR,CAAqB5qB,KAAK,CAAChJ,KAAN,GAAgB,GAArC,CACA,CArBD,IAwBA,GAAI6zB,SAAJ,CACC9sB,UAAU,CAAGlL,MAAM,CAACmO,IAAP,CAAYjD,UAD1B,CAGAlL,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjBqM,IAAI,CAAE,SAAUnM,IAAV,CAAgBiC,KAAhB,CAAwB,CAC7B,MAAO2Y,OAAM,CAAE,IAAF,CAAQ9c,MAAM,CAACqO,IAAf,CAAqBnM,IAArB,CAA2BiC,KAA3B,CAAkC5C,SAAS,CAACd,MAAV,CAAmB,CAArD,CAAb,CACA,CAHgB,CAKjBw3B,UAAU,CAAE,SAAU/1B,IAAV,CAAiB,CAC5B,MAAO,MAAKhB,IAAL,CAAW,UAAW,CAC5BlB,MAAM,CAACi4B,UAAP,CAAmB,IAAnB,CAAyB/1B,IAAzB,EACA,CAFM,CAAP,CAGA,CATgB,CAAlB,EAYAlC,MAAM,CAACgC,MAAP,CAAe,CACdqM,IAAI,CAAE,SAAUhN,IAAV,CAAgBa,IAAhB,CAAsBiC,KAAtB,CAA8B,CACnC,GAAIpD,IAAJ,CAASme,KAAT,CACCgZ,KAAK,CAAG72B,IAAI,CAAC7C,QADd,CAIA,GAAK05B,KAAK,GAAK,CAAV,EAAeA,KAAK,GAAK,CAAzB,EAA8BA,KAAK,GAAK,CAA7C,CAAiD,CAChD,OACA,CAGD,GAAK,MAAO72B,KAAI,CAAC7B,YAAZ,GAA6B,WAAlC,CAAgD,CAC/C,MAAOQ,OAAM,CAACme,IAAP,CAAa9c,IAAb,CAAmBa,IAAnB,CAAyBiC,KAAzB,CAAP,CACA,CAID,GAAK+zB,KAAK,GAAK,CAAV,EAAe,CAACl4B,MAAM,CAACmV,QAAP,CAAiB9T,IAAjB,CAArB,CAA+C,CAC9C6d,KAAK,CAAGlf,MAAM,CAACm4B,SAAP,CAAkBj2B,IAAI,CAACsC,WAAL,EAAlB,IACLxE,MAAM,CAACmO,IAAP,CAAY9E,KAAZ,CAAkB+uB,IAAlB,CAAuBpuB,IAAvB,CAA6B9H,IAA7B,EAAsC81B,QAAtC,CAAiDr1B,SAD5C,CAAR,CAEA,CAED,GAAKwB,KAAK,GAAKxB,SAAf,CAA2B,CAC1B,GAAKwB,KAAK,GAAK,IAAf,CAAsB,CACrBnE,MAAM,CAACi4B,UAAP,CAAmB52B,IAAnB,CAAyBa,IAAzB,EACA,OACA,CAED,GAAKgd,KAAK,EAAI,OAASA,MAAlB,EACJ,CAAEne,GAAG,CAAGme,KAAK,CAACjB,GAAN,CAAW5c,IAAX,CAAiB8C,KAAjB,CAAwBjC,IAAxB,CAAR,IAA6CS,SAD9C,CAC0D,CACzD,MAAO5B,IAAP,CACA,CAEDM,IAAI,CAAC5B,YAAL,CAAmByC,IAAnB,CAAyBiC,KAAK,CAAG,EAAjC,EACA,MAAOA,MAAP,CACA,CAED,GAAK+a,KAAK,EAAI,OAASA,MAAlB,EAA2B,CAAEne,GAAG,CAAGme,KAAK,CAACve,GAAN,CAAWU,IAAX,CAAiBa,IAAjB,CAAR,IAAsC,IAAtE,CAA6E,CAC5E,MAAOnB,IAAP,CACA,CAEDA,GAAG,CAAGf,MAAM,CAAC8M,IAAP,CAAYuB,IAAZ,CAAkBhN,IAAlB,CAAwBa,IAAxB,CAAN,CAGA,MAAOnB,IAAG,EAAI,IAAP,CAAc4B,SAAd,CAA0B5B,GAAjC,CACA,CA7Ca,CA+Cdo3B,SAAS,CAAE,CACVx5B,IAAI,CAAE,CACLsf,GAAG,CAAE,SAAU5c,IAAV,CAAgB8C,KAAhB,CAAwB,CAC5B,GAAK,CAAC9F,OAAO,CAAC05B,UAAT,EAAuB5zB,KAAK,GAAK,OAAjC,EACJyE,QAAQ,CAAEvH,IAAF,CAAQ,OAAR,CADT,CAC6B,CAC5B,GAAIjC,IAAG,CAAGiC,IAAI,CAAC8C,KAAf,CACA9C,IAAI,CAAC5B,YAAL,CAAmB,MAAnB,CAA2B0E,KAA3B,EACA,GAAK/E,GAAL,CAAW,CACViC,IAAI,CAAC8C,KAAL,CAAa/E,GAAb,CACA,CACD,MAAO+E,MAAP,CACA,CACD,CAXI,CADI,CA/CG,CA+Dd8zB,UAAU,CAAE,SAAU52B,IAAV,CAAgB8C,KAAhB,CAAwB,CACnC,GAAIjC,KAAJ,CACC/C,CAAC,CAAG,CADL,CAKCk5B,SAAS,CAAGl0B,KAAK,EAAIA,KAAK,CAACkF,KAAN,CAAasO,aAAb,CALtB,CAOA,GAAK0gB,SAAS,EAAIh3B,IAAI,CAAC7C,QAAL,GAAkB,CAApC,CAAwC,CACvC,MAAU0D,IAAI,CAAGm2B,SAAS,CAAEl5B,CAAC,EAAH,CAA1B,CAAsC,CACrCkC,IAAI,CAACiJ,eAAL,CAAsBpI,IAAtB,EACA,CACD,CACD,CA5Ea,CAAf,EAgFA81B,QAAQ,CAAG,CACV/Z,GAAG,CAAE,SAAU5c,IAAV,CAAgB8C,KAAhB,CAAuBjC,IAAvB,CAA8B,CAClC,GAAKiC,KAAK,GAAK,KAAf,CAAuB,CAGtBnE,MAAM,CAACi4B,UAAP,CAAmB52B,IAAnB,CAAyBa,IAAzB,EACA,CAJD,IAIO,CACNb,IAAI,CAAC5B,YAAL,CAAmByC,IAAnB,CAAyBA,IAAzB,EACA,CACD,MAAOA,KAAP,CACA,CAVS,CAAX,CAaAlC,MAAM,CAACkB,IAAP,CAAalB,MAAM,CAACmO,IAAP,CAAY9E,KAAZ,CAAkB+uB,IAAlB,CAAuB1Y,MAAvB,CAA8BrW,KAA9B,CAAqC,MAArC,CAAb,CAA4D,SAAUlK,CAAV,CAAa+C,IAAb,CAAoB,CAC/E,GAAIo2B,OAAM,CAAGptB,UAAU,CAAEhJ,IAAF,CAAV,EAAsBlC,MAAM,CAAC8M,IAAP,CAAYuB,IAA/C,CAEAnD,UAAU,CAAEhJ,IAAF,CAAV,CAAqB,SAAUb,IAAV,CAAgBa,IAAhB,CAAsB0C,KAAtB,CAA8B,CAClD,GAAI7D,IAAJ,CAASmkB,MAAT,CACCqT,aAAa,CAAGr2B,IAAI,CAACsC,WAAL,EADjB,CAGA,GAAK,CAACI,KAAN,CAAc,CAGbsgB,MAAM,CAAGha,UAAU,CAAEqtB,aAAF,CAAnB,CACArtB,UAAU,CAAEqtB,aAAF,CAAV,CAA8Bx3B,GAA9B,CACAA,GAAG,CAAGu3B,MAAM,CAAEj3B,IAAF,CAAQa,IAAR,CAAc0C,KAAd,CAAN,EAA+B,IAA/B,CACL2zB,aADK,CAEL,IAFD,CAGArtB,UAAU,CAAEqtB,aAAF,CAAV,CAA8BrT,MAA9B,CACA,CACD,MAAOnkB,IAAP,CACA,CAfD,CAgBA,CAnBD,EAwBA,GAAIy3B,WAAU,CAAG,qCAAjB,CACCC,UAAU,CAAG,eADd,CAGAz4B,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjBmc,IAAI,CAAE,SAAUjc,IAAV,CAAgBiC,KAAhB,CAAwB,CAC7B,MAAO2Y,OAAM,CAAE,IAAF,CAAQ9c,MAAM,CAACme,IAAf,CAAqBjc,IAArB,CAA2BiC,KAA3B,CAAkC5C,SAAS,CAACd,MAAV,CAAmB,CAArD,CAAb,CACA,CAHgB,CAKjBi4B,UAAU,CAAE,SAAUx2B,IAAV,CAAiB,CAC5B,MAAO,MAAKhB,IAAL,CAAW,UAAW,CAC5B,MAAO,MAAMlB,MAAM,CAAC24B,OAAP,CAAgBz2B,IAAhB,GAA0BA,IAAhC,CAAP,CACA,CAFM,CAAP,CAGA,CATgB,CAAlB,EAYAlC,MAAM,CAACgC,MAAP,CAAe,CACdmc,IAAI,CAAE,SAAU9c,IAAV,CAAgBa,IAAhB,CAAsBiC,KAAtB,CAA8B,CACnC,GAAIpD,IAAJ,CAASme,KAAT,CACCgZ,KAAK,CAAG72B,IAAI,CAAC7C,QADd,CAIA,GAAK05B,KAAK,GAAK,CAAV,EAAeA,KAAK,GAAK,CAAzB,EAA8BA,KAAK,GAAK,CAA7C,CAAiD,CAChD,OACA,CAED,GAAKA,KAAK,GAAK,CAAV,EAAe,CAACl4B,MAAM,CAACmV,QAAP,CAAiB9T,IAAjB,CAArB,CAA+C,CAG9Ca,IAAI,CAAGlC,MAAM,CAAC24B,OAAP,CAAgBz2B,IAAhB,GAA0BA,IAAjC,CACAgd,KAAK,CAAGlf,MAAM,CAACyyB,SAAP,CAAkBvwB,IAAlB,CAAR,CACA,CAED,GAAKiC,KAAK,GAAKxB,SAAf,CAA2B,CAC1B,GAAKuc,KAAK,EAAI,OAASA,MAAlB,EACJ,CAAEne,GAAG,CAAGme,KAAK,CAACjB,GAAN,CAAW5c,IAAX,CAAiB8C,KAAjB,CAAwBjC,IAAxB,CAAR,IAA6CS,SAD9C,CAC0D,CACzD,MAAO5B,IAAP,CACA,CAED,MAASM,KAAI,CAAEa,IAAF,CAAJ,CAAeiC,KAAxB,CACA,CAED,GAAK+a,KAAK,EAAI,OAASA,MAAlB,EAA2B,CAAEne,GAAG,CAAGme,KAAK,CAACve,GAAN,CAAWU,IAAX,CAAiBa,IAAjB,CAAR,IAAsC,IAAtE,CAA6E,CAC5E,MAAOnB,IAAP,CACA,CAED,MAAOM,KAAI,CAAEa,IAAF,CAAX,CACA,CA/Ba,CAiCduwB,SAAS,CAAE,CACVnhB,QAAQ,CAAE,CACT3Q,GAAG,CAAE,SAAUU,IAAV,CAAiB,CAOrB,GAAIu3B,SAAQ,CAAG54B,MAAM,CAAC8M,IAAP,CAAYuB,IAAZ,CAAkBhN,IAAlB,CAAwB,UAAxB,CAAf,CAEA,GAAKu3B,QAAL,CAAgB,CACf,MAAOC,SAAQ,CAAED,QAAF,CAAY,EAAZ,CAAf,CACA,CAED,GACCJ,UAAU,CAACxuB,IAAX,CAAiB3I,IAAI,CAACuH,QAAtB,GACA6vB,UAAU,CAACzuB,IAAX,CAAiB3I,IAAI,CAACuH,QAAtB,GACAvH,IAAI,CAACgQ,IAHN,CAIE,CACD,MAAO,EAAP,CACA,CAED,MAAO,CAAC,CAAR,CACA,CAvBQ,CADA,CAjCG,CA6DdsnB,OAAO,CAAE,CACR,MAAO,SADC,CAER,QAAS,WAFD,CA7DK,CAAf,EA2EA,GAAK,CAACt6B,OAAO,CAACy5B,WAAd,CAA4B,CAC3B93B,MAAM,CAACyyB,SAAP,CAAiBjhB,QAAjB,CAA4B,CAC3B7Q,GAAG,CAAE,SAAUU,IAAV,CAAiB,CAIrB,GAAI+O,OAAM,CAAG/O,IAAI,CAACzB,UAAlB,CACA,GAAKwQ,MAAM,EAAIA,MAAM,CAACxQ,UAAtB,CAAmC,CAClCwQ,MAAM,CAACxQ,UAAP,CAAkB6R,aAAlB,CACA,CACD,MAAO,KAAP,CACA,CAV0B,CAW3BwM,GAAG,CAAE,SAAU5c,IAAV,CAAiB,CAIrB,GAAI+O,OAAM,CAAG/O,IAAI,CAACzB,UAAlB,CACA,GAAKwQ,MAAL,CAAc,CACbA,MAAM,CAACqB,aAAP,CAEA,GAAKrB,MAAM,CAACxQ,UAAZ,CAAyB,CACxBwQ,MAAM,CAACxQ,UAAP,CAAkB6R,aAAlB,CACA,CACD,CACD,CAvB0B,CAA5B,CAyBA,CAEDzR,MAAM,CAACkB,IAAP,CAAa,CACZ,UADY,CAEZ,UAFY,CAGZ,WAHY,CAIZ,aAJY,CAKZ,aALY,CAMZ,SANY,CAOZ,SAPY,CAQZ,QARY,CASZ,aATY,CAUZ,iBAVY,CAAb,CAWG,UAAW,CACblB,MAAM,CAAC24B,OAAP,CAAgB,KAAKn0B,WAAL,EAAhB,EAAuC,IAAvC,CACA,CAbD,EAoBC,QAASs0B,iBAAT,CAA2B30B,KAA3B,CAAmC,CAClC,GAAIgO,OAAM,CAAGhO,KAAK,CAACkF,KAAN,CAAasO,aAAb,GAAgC,EAA7C,CACA,MAAOxF,OAAM,CAACjI,IAAP,CAAa,GAAb,CAAP,CACA,CAGF,QAAS6uB,SAAT,CAAmB13B,IAAnB,CAA0B,CACzB,MAAOA,KAAI,CAAC7B,YAAL,EAAqB6B,IAAI,CAAC7B,YAAL,CAAmB,OAAnB,CAArB,EAAqD,EAA5D,CACA,CAED,QAASw5B,eAAT,CAAyB70B,KAAzB,CAAiC,CAChC,GAAK1B,KAAK,CAACC,OAAN,CAAeyB,KAAf,CAAL,CAA8B,CAC7B,MAAOA,MAAP,CACA,CACD,GAAK,MAAOA,MAAP,GAAiB,QAAtB,CAAiC,CAChC,MAAOA,MAAK,CAACkF,KAAN,CAAasO,aAAb,GAAgC,EAAvC,CACA,CACD,MAAO,EAAP,CACA,CAED3X,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjBi3B,QAAQ,CAAE,SAAU90B,KAAV,CAAkB,CAC3B,GAAI+0B,QAAJ,CAAa73B,IAAb,CAAmB+J,GAAnB,CAAwB+tB,QAAxB,CAAkCC,KAAlC,CAAyCx3B,CAAzC,CAA4Cy3B,UAA5C,CACCl6B,CAAC,CAAG,CADL,CAGA,GAAKb,UAAU,CAAE6F,KAAF,CAAf,CAA2B,CAC1B,MAAO,MAAKjD,IAAL,CAAW,SAAUU,CAAV,CAAc,CAC/B5B,MAAM,CAAE,IAAF,CAAN,CAAei5B,QAAf,CAAyB90B,KAAK,CAAC/F,IAAN,CAAY,IAAZ,CAAkBwD,CAAlB,CAAqBm3B,QAAQ,CAAE,IAAF,CAA7B,CAAzB,EACA,CAFM,CAAP,CAGA,CAEDG,OAAO,CAAGF,cAAc,CAAE70B,KAAF,CAAxB,CAEA,GAAK+0B,OAAO,CAACz4B,MAAb,CAAsB,CACrB,MAAUY,IAAI,CAAG,KAAMlC,CAAC,EAAP,CAAjB,CAAiC,CAChCg6B,QAAQ,CAAGJ,QAAQ,CAAE13B,IAAF,CAAnB,CACA+J,GAAG,CAAG/J,IAAI,CAAC7C,QAAL,GAAkB,CAAlB,EAAyB,IAAMs6B,gBAAgB,CAAEK,QAAF,CAAtB,CAAqC,GAApE,CAEA,GAAK/tB,GAAL,CAAW,CACVxJ,CAAC,CAAG,CAAJ,CACA,MAAUw3B,KAAK,CAAGF,OAAO,CAAEt3B,CAAC,EAAH,CAAzB,CAAqC,CACpC,GAAKwJ,GAAG,CAACvN,OAAJ,CAAa,IAAMu7B,KAAN,CAAc,GAA3B,EAAmC,CAAxC,CAA4C,CAC3ChuB,GAAG,EAAIguB,KAAK,CAAG,GAAf,CACA,CACD,CAGDC,UAAU,CAAGP,gBAAgB,CAAE1tB,GAAF,CAA7B,CACA,GAAK+tB,QAAQ,GAAKE,UAAlB,CAA+B,CAC9Bh4B,IAAI,CAAC5B,YAAL,CAAmB,OAAnB,CAA4B45B,UAA5B,EACA,CACD,CACD,CACD,CAED,MAAO,KAAP,CACA,CApCgB,CAsCjBC,WAAW,CAAE,SAAUn1B,KAAV,CAAkB,CAC9B,GAAI+0B,QAAJ,CAAa73B,IAAb,CAAmB+J,GAAnB,CAAwB+tB,QAAxB,CAAkCC,KAAlC,CAAyCx3B,CAAzC,CAA4Cy3B,UAA5C,CACCl6B,CAAC,CAAG,CADL,CAGA,GAAKb,UAAU,CAAE6F,KAAF,CAAf,CAA2B,CAC1B,MAAO,MAAKjD,IAAL,CAAW,SAAUU,CAAV,CAAc,CAC/B5B,MAAM,CAAE,IAAF,CAAN,CAAes5B,WAAf,CAA4Bn1B,KAAK,CAAC/F,IAAN,CAAY,IAAZ,CAAkBwD,CAAlB,CAAqBm3B,QAAQ,CAAE,IAAF,CAA7B,CAA5B,EACA,CAFM,CAAP,CAGA,CAED,GAAK,CAACx3B,SAAS,CAACd,MAAhB,CAAyB,CACxB,MAAO,MAAK4N,IAAL,CAAW,OAAX,CAAoB,EAApB,CAAP,CACA,CAED6qB,OAAO,CAAGF,cAAc,CAAE70B,KAAF,CAAxB,CAEA,GAAK+0B,OAAO,CAACz4B,MAAb,CAAsB,CACrB,MAAUY,IAAI,CAAG,KAAMlC,CAAC,EAAP,CAAjB,CAAiC,CAChCg6B,QAAQ,CAAGJ,QAAQ,CAAE13B,IAAF,CAAnB,CAGA+J,GAAG,CAAG/J,IAAI,CAAC7C,QAAL,GAAkB,CAAlB,EAAyB,IAAMs6B,gBAAgB,CAAEK,QAAF,CAAtB,CAAqC,GAApE,CAEA,GAAK/tB,GAAL,CAAW,CACVxJ,CAAC,CAAG,CAAJ,CACA,MAAUw3B,KAAK,CAAGF,OAAO,CAAEt3B,CAAC,EAAH,CAAzB,CAAqC,CAGpC,MAAQwJ,GAAG,CAACvN,OAAJ,CAAa,IAAMu7B,KAAN,CAAc,GAA3B,EAAmC,CAAC,CAA5C,CAAgD,CAC/ChuB,GAAG,CAAGA,GAAG,CAACrI,OAAJ,CAAa,IAAMq2B,KAAN,CAAc,GAA3B,CAAgC,GAAhC,CAAN,CACA,CACD,CAGDC,UAAU,CAAGP,gBAAgB,CAAE1tB,GAAF,CAA7B,CACA,GAAK+tB,QAAQ,GAAKE,UAAlB,CAA+B,CAC9Bh4B,IAAI,CAAC5B,YAAL,CAAmB,OAAnB,CAA4B45B,UAA5B,EACA,CACD,CACD,CACD,CAED,MAAO,KAAP,CACA,CAjFgB,CAmFjBE,WAAW,CAAE,SAAUp1B,KAAV,CAAiBq1B,QAAjB,CAA4B,CACxC,GAAI76B,KAAI,CAAG,MAAOwF,MAAlB,CACCs1B,YAAY,CAAG96B,IAAI,GAAK,QAAT,EAAqB8D,KAAK,CAACC,OAAN,CAAeyB,KAAf,CADrC,CAGA,GAAK,MAAOq1B,SAAP,GAAoB,SAApB,EAAiCC,YAAtC,CAAqD,CACpD,MAAOD,SAAQ,CAAG,KAAKP,QAAL,CAAe90B,KAAf,CAAH,CAA4B,KAAKm1B,WAAL,CAAkBn1B,KAAlB,CAA3C,CACA,CAED,GAAK7F,UAAU,CAAE6F,KAAF,CAAf,CAA2B,CAC1B,MAAO,MAAKjD,IAAL,CAAW,SAAU/B,CAAV,CAAc,CAC/Ba,MAAM,CAAE,IAAF,CAAN,CAAeu5B,WAAf,CACCp1B,KAAK,CAAC/F,IAAN,CAAY,IAAZ,CAAkBe,CAAlB,CAAqB45B,QAAQ,CAAE,IAAF,CAA7B,CAAuCS,QAAvC,CADD,CAECA,QAFD,EAIA,CALM,CAAP,CAMA,CAED,MAAO,MAAKt4B,IAAL,CAAW,UAAW,CAC5B,GAAIsL,UAAJ,CAAerN,CAAf,CAAkB6W,IAAlB,CAAwB0jB,UAAxB,CAEA,GAAKD,YAAL,CAAoB,CAGnBt6B,CAAC,CAAG,CAAJ,CACA6W,IAAI,CAAGhW,MAAM,CAAE,IAAF,CAAb,CACA05B,UAAU,CAAGV,cAAc,CAAE70B,KAAF,CAA3B,CAEA,MAAUqI,SAAS,CAAGktB,UAAU,CAAEv6B,CAAC,EAAH,CAAhC,CAA4C,CAG3C,GAAK6W,IAAI,CAAC2jB,QAAL,CAAentB,SAAf,CAAL,CAAkC,CACjCwJ,IAAI,CAACsjB,WAAL,CAAkB9sB,SAAlB,EACA,CAFD,IAEO,CACNwJ,IAAI,CAACijB,QAAL,CAAezsB,SAAf,EACA,CACD,CAGD,CAlBD,IAkBO,IAAKrI,KAAK,GAAKxB,SAAV,EAAuBhE,IAAI,GAAK,SAArC,CAAiD,CACvD6N,SAAS,CAAGusB,QAAQ,CAAE,IAAF,CAApB,CACA,GAAKvsB,SAAL,CAAiB,CAGhB6R,QAAQ,CAACJ,GAAT,CAAc,IAAd,CAAoB,eAApB,CAAqCzR,SAArC,EACA,CAMD,GAAK,KAAK/M,YAAV,CAAyB,CACxB,KAAKA,YAAL,CAAmB,OAAnB,CACC+M,SAAS,EAAIrI,KAAK,GAAK,KAAvB,CACA,EADA,CAEAka,QAAQ,CAAC1d,GAAT,CAAc,IAAd,CAAoB,eAApB,GAAyC,EAH1C,EAKA,CACD,CACD,CAzCM,CAAP,CA0CA,CA9IgB,CAgJjBg5B,QAAQ,CAAE,SAAU15B,QAAV,CAAqB,CAC9B,GAAIuM,UAAJ,CAAenL,IAAf,CACClC,CAAC,CAAG,CADL,CAGAqN,SAAS,CAAG,IAAMvM,QAAN,CAAiB,GAA7B,CACA,MAAUoB,IAAI,CAAG,KAAMlC,CAAC,EAAP,CAAjB,CAAiC,CAChC,GAAKkC,IAAI,CAAC7C,QAAL,GAAkB,CAAlB,EACJ,CAAE,IAAMs6B,gBAAgB,CAAEC,QAAQ,CAAE13B,IAAF,CAAV,CAAtB,CAA6C,GAA/C,EAAqDxD,OAArD,CAA8D2O,SAA9D,EAA4E,CAAC,CAD9E,CACkF,CAChF,MAAO,KAAP,CACD,CACD,CAED,MAAO,MAAP,CACA,CA7JgB,CAAlB,EAmKA,GAAIotB,QAAO,CAAG,KAAd,CAEA55B,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjB5C,GAAG,CAAE,SAAU+E,KAAV,CAAkB,CACtB,GAAI+a,MAAJ,CAAWne,GAAX,CAAgByqB,eAAhB,CACCnqB,IAAI,CAAG,KAAM,CAAN,CADR,CAGA,GAAK,CAACE,SAAS,CAACd,MAAhB,CAAyB,CACxB,GAAKY,IAAL,CAAY,CACX6d,KAAK,CAAGlf,MAAM,CAAC65B,QAAP,CAAiBx4B,IAAI,CAAC1C,IAAtB,GACPqB,MAAM,CAAC65B,QAAP,CAAiBx4B,IAAI,CAACuH,QAAL,CAAcpE,WAAd,EAAjB,CADD,CAGA,GAAK0a,KAAK,EACT,OAASA,MADL,EAEJ,CAAEne,GAAG,CAAGme,KAAK,CAACve,GAAN,CAAWU,IAAX,CAAiB,OAAjB,CAAR,IAAyCsB,SAF1C,CAGE,CACD,MAAO5B,IAAP,CACA,CAEDA,GAAG,CAAGM,IAAI,CAAC8C,KAAX,CAGA,GAAK,MAAOpD,IAAP,GAAe,QAApB,CAA+B,CAC9B,MAAOA,IAAG,CAACgC,OAAJ,CAAa62B,OAAb,CAAsB,EAAtB,CAAP,CACA,CAGD,MAAO74B,IAAG,EAAI,IAAP,CAAc,EAAd,CAAmBA,GAA1B,CACA,CAED,OACA,CAEDyqB,eAAe,CAAGltB,UAAU,CAAE6F,KAAF,CAA5B,CAEA,MAAO,MAAKjD,IAAL,CAAW,SAAU/B,CAAV,CAAc,CAC/B,GAAIC,IAAJ,CAEA,GAAK,KAAKZ,QAAL,GAAkB,CAAvB,CAA2B,CAC1B,OACA,CAED,GAAKgtB,eAAL,CAAuB,CACtBpsB,GAAG,CAAG+E,KAAK,CAAC/F,IAAN,CAAY,IAAZ,CAAkBe,CAAlB,CAAqBa,MAAM,CAAE,IAAF,CAAN,CAAeZ,GAAf,EAArB,CAAN,CACA,CAFD,IAEO,CACNA,GAAG,CAAG+E,KAAN,CACA,CAGD,GAAK/E,GAAG,EAAI,IAAZ,CAAmB,CAClBA,GAAG,CAAG,EAAN,CAEA,CAHD,IAGO,IAAK,MAAOA,IAAP,GAAe,QAApB,CAA+B,CACrCA,GAAG,EAAI,EAAP,CAEA,CAHM,IAGA,IAAKqD,KAAK,CAACC,OAAN,CAAetD,GAAf,CAAL,CAA4B,CAClCA,GAAG,CAAGY,MAAM,CAACoB,GAAP,CAAYhC,GAAZ,CAAiB,SAAU+E,KAAV,CAAkB,CACxC,MAAOA,MAAK,EAAI,IAAT,CAAgB,EAAhB,CAAqBA,KAAK,CAAG,EAApC,CACA,CAFK,CAAN,CAGA,CAED+a,KAAK,CAAGlf,MAAM,CAAC65B,QAAP,CAAiB,KAAKl7B,IAAtB,GAAgCqB,MAAM,CAAC65B,QAAP,CAAiB,KAAKjxB,QAAL,CAAcpE,WAAd,EAAjB,CAAxC,CAGA,GAAK,CAAC0a,KAAD,EAAU,EAAG,OAASA,MAAZ,CAAV,EAAiCA,KAAK,CAACjB,GAAN,CAAW,IAAX,CAAiB7e,GAAjB,CAAsB,OAAtB,IAAoCuD,SAA1E,CAAsF,CACrF,KAAKwB,KAAL,CAAa/E,GAAb,CACA,CACD,CAhCM,CAAP,CAiCA,CAlEgB,CAAlB,EAqEAY,MAAM,CAACgC,MAAP,CAAe,CACd63B,QAAQ,CAAE,CACThY,MAAM,CAAE,CACPlhB,GAAG,CAAE,SAAUU,IAAV,CAAiB,CAErB,GAAIjC,IAAG,CAAGY,MAAM,CAAC8M,IAAP,CAAYuB,IAAZ,CAAkBhN,IAAlB,CAAwB,OAAxB,CAAV,CACA,MAAOjC,IAAG,EAAI,IAAP,CACNA,GADM,CAON05B,gBAAgB,CAAE94B,MAAM,CAACT,IAAP,CAAa8B,IAAb,CAAF,CAPjB,CAQA,CAZM,CADC,CAeT0D,MAAM,CAAE,CACPpE,GAAG,CAAE,SAAUU,IAAV,CAAiB,CACrB,GAAI8C,MAAJ,CAAW0d,MAAX,CAAmB1iB,CAAnB,CACC8C,OAAO,CAAGZ,IAAI,CAACY,OADhB,CAEC6U,KAAK,CAAGzV,IAAI,CAACoQ,aAFd,CAGC4S,GAAG,CAAGhjB,IAAI,CAAC1C,IAAL,GAAc,YAHrB,CAIC2iB,MAAM,CAAG+C,GAAG,CAAG,IAAH,CAAU,EAJvB,CAKCkM,GAAG,CAAGlM,GAAG,CAAGvN,KAAK,CAAG,CAAX,CAAe7U,OAAO,CAACxB,MALjC,CAOA,GAAKqW,KAAK,CAAG,CAAb,CAAiB,CAChB3X,CAAC,CAAGoxB,GAAJ,CAEA,CAHD,IAGO,CACNpxB,CAAC,CAAGklB,GAAG,CAAGvN,KAAH,CAAW,CAAlB,CACA,CAGD,KAAQ3X,CAAC,CAAGoxB,GAAZ,CAAiBpxB,CAAC,EAAlB,CAAuB,CACtB0iB,MAAM,CAAG5f,OAAO,CAAE9C,CAAF,CAAhB,CAIA,GAAK,CAAE0iB,MAAM,CAACrQ,QAAP,EAAmBrS,CAAC,GAAK2X,KAA3B,GAGH,CAAC+K,MAAM,CAAClZ,QAHL,GAID,CAACkZ,MAAM,CAACjiB,UAAP,CAAkB+I,QAAnB,EACD,CAACC,QAAQ,CAAEiZ,MAAM,CAACjiB,UAAT,CAAqB,UAArB,CALP,CAAL,CAKkD,CAGjDuE,KAAK,CAAGnE,MAAM,CAAE6hB,MAAF,CAAN,CAAiBziB,GAAjB,EAAR,CAGA,GAAKilB,GAAL,CAAW,CACV,MAAOlgB,MAAP,CACA,CAGDmd,MAAM,CAAC1jB,IAAP,CAAauG,KAAb,EACA,CACD,CAED,MAAOmd,OAAP,CACA,CA3CM,CA6CPrD,GAAG,CAAE,SAAU5c,IAAV,CAAgB8C,KAAhB,CAAwB,CAC5B,GAAI21B,UAAJ,CAAejY,MAAf,CACC5f,OAAO,CAAGZ,IAAI,CAACY,OADhB,CAECqf,MAAM,CAAGthB,MAAM,CAAC0D,SAAP,CAAkBS,KAAlB,CAFV,CAGChF,CAAC,CAAG8C,OAAO,CAACxB,MAHb,CAKA,MAAQtB,CAAC,EAAT,CAAc,CACb0iB,MAAM,CAAG5f,OAAO,CAAE9C,CAAF,CAAhB,CAIA,GAAK0iB,MAAM,CAACrQ,QAAP,CACJxR,MAAM,CAAC4D,OAAP,CAAgB5D,MAAM,CAAC65B,QAAP,CAAgBhY,MAAhB,CAAuBlhB,GAAvB,CAA4BkhB,MAA5B,CAAhB,CAAsDP,MAAtD,EAAiE,CAAC,CADnE,CAEE,CACDwY,SAAS,CAAG,IAAZ,CACA,CAGD,CAGD,GAAK,CAACA,SAAN,CAAkB,CACjBz4B,IAAI,CAACoQ,aAAL,CAAqB,CAAC,CAAtB,CACA,CACD,MAAO6P,OAAP,CACA,CAtEM,CAfC,CADI,CAAf,EA4FAthB,MAAM,CAACkB,IAAP,CAAa,CAAE,OAAF,CAAW,UAAX,CAAb,CAAsC,UAAW,CAChDlB,MAAM,CAAC65B,QAAP,CAAiB,IAAjB,EAA0B,CACzB5b,GAAG,CAAE,SAAU5c,IAAV,CAAgB8C,KAAhB,CAAwB,CAC5B,GAAK1B,KAAK,CAACC,OAAN,CAAeyB,KAAf,CAAL,CAA8B,CAC7B,MAAS9C,KAAI,CAACkQ,OAAL,CAAevR,MAAM,CAAC4D,OAAP,CAAgB5D,MAAM,CAAEqB,IAAF,CAAN,CAAejC,GAAf,EAAhB,CAAsC+E,KAAtC,EAAgD,CAAC,CAAzE,CACA,CACD,CALwB,CAA1B,CAOA,GAAK,CAAC9F,OAAO,CAACw5B,OAAd,CAAwB,CACvB73B,MAAM,CAAC65B,QAAP,CAAiB,IAAjB,EAAwBl5B,GAAxB,CAA8B,SAAUU,IAAV,CAAiB,CAC9C,MAAOA,KAAI,CAAC7B,YAAL,CAAmB,OAAnB,IAAiC,IAAjC,CAAwC,IAAxC,CAA+C6B,IAAI,CAAC8C,KAA3D,CACA,CAFD,CAGA,CACD,CAbD,EAqBA9F,OAAO,CAAC07B,OAAR,CAAkB,aAAe38B,OAAjC,CAGA,GAAI48B,YAAW,CAAG,iCAAlB,CACCC,uBAAuB,CAAG,SAAUjxB,CAAV,CAAc,CACvCA,CAAC,CAACud,eAAF,GACA,CAHF,CAKAvmB,MAAM,CAACgC,MAAP,CAAehC,MAAM,CAACukB,KAAtB,CAA6B,CAE5B+C,OAAO,CAAE,SAAU/C,KAAV,CAAiBrG,IAAjB,CAAuB7c,IAAvB,CAA6B64B,YAA7B,CAA4C,CAEpD,GAAI/6B,EAAJ,CAAOiM,GAAP,CAAY6B,GAAZ,CAAiBktB,UAAjB,CAA6BC,MAA7B,CAAqClV,MAArC,CAA6CtK,OAA7C,CAAsDyf,WAAtD,CACCC,SAAS,CAAG,CAAEj5B,IAAI,EAAIpE,QAAV,CADb,CAEC0B,IAAI,CAAGX,MAAM,CAACI,IAAP,CAAammB,KAAb,CAAoB,MAApB,EAA+BA,KAAK,CAAC5lB,IAArC,CAA4C4lB,KAFpD,CAGCQ,UAAU,CAAG/mB,MAAM,CAACI,IAAP,CAAammB,KAAb,CAAoB,WAApB,EAAoCA,KAAK,CAACxY,SAAN,CAAgBxH,KAAhB,CAAuB,GAAvB,CAApC,CAAmE,EAHjF,CAKA6G,GAAG,CAAGivB,WAAW,CAAGptB,GAAG,CAAG5L,IAAI,CAAGA,IAAI,EAAIpE,QAAzC,CAGA,GAAKoE,IAAI,CAAC7C,QAAL,GAAkB,CAAlB,EAAuB6C,IAAI,CAAC7C,QAAL,GAAkB,CAA9C,CAAkD,CACjD,OACA,CAGD,GAAKw7B,WAAW,CAAChwB,IAAZ,CAAkBrL,IAAI,CAAGqB,MAAM,CAACukB,KAAP,CAAaY,SAAtC,CAAL,CAAyD,CACxD,OACA,CAED,GAAKxmB,IAAI,CAACd,OAAL,CAAc,GAAd,EAAsB,CAAC,CAA5B,CAAgC,CAG/BknB,UAAU,CAAGpmB,IAAI,CAAC4F,KAAL,CAAY,GAAZ,CAAb,CACA5F,IAAI,CAAGomB,UAAU,CAACpa,KAAX,EAAP,CACAoa,UAAU,CAACjjB,IAAX,GACA,CACDs4B,MAAM,CAAGz7B,IAAI,CAACd,OAAL,CAAc,GAAd,EAAsB,CAAtB,EAA2B,KAAOc,IAA3C,CAGA4lB,KAAK,CAAGA,KAAK,CAAEvkB,MAAM,CAAC4C,OAAT,CAAL,CACP2hB,KADO,CAEP,GAAIvkB,OAAM,CAAC8mB,KAAX,CAAkBnoB,IAAlB,CAAwB,MAAO4lB,MAAP,GAAiB,QAAjB,EAA6BA,KAArD,CAFD,CAKAA,KAAK,CAACoD,SAAN,CAAkBuS,YAAY,CAAG,CAAH,CAAO,CAArC,CACA3V,KAAK,CAACxY,SAAN,CAAkBgZ,UAAU,CAAC7a,IAAX,CAAiB,GAAjB,CAAlB,CACAqa,KAAK,CAAC8B,UAAN,CAAmB9B,KAAK,CAACxY,SAAN,CAClB,GAAIjF,OAAJ,CAAY,UAAYie,UAAU,CAAC7a,IAAX,CAAiB,eAAjB,CAAZ,CAAiD,SAA7D,CADkB,CAElB,IAFD,CAKAqa,KAAK,CAAC7U,MAAN,CAAe/M,SAAf,CACA,GAAK,CAAC4hB,KAAK,CAACjiB,MAAZ,CAAqB,CACpBiiB,KAAK,CAACjiB,MAAN,CAAejB,IAAf,CACA,CAGD6c,IAAI,CAAGA,IAAI,EAAI,IAAR,CACN,CAAEqG,KAAF,CADM,CAENvkB,MAAM,CAAC0D,SAAP,CAAkBwa,IAAlB,CAAwB,CAAEqG,KAAF,CAAxB,CAFD,CAKA3J,OAAO,CAAG5a,MAAM,CAACukB,KAAP,CAAa3J,OAAb,CAAsBjc,IAAtB,GAAgC,EAA1C,CACA,GAAK,CAACu7B,YAAD,EAAiBtf,OAAO,CAAC0M,OAAzB,EAAoC1M,OAAO,CAAC0M,OAAR,CAAgBhmB,KAAhB,CAAuBD,IAAvB,CAA6B6c,IAA7B,IAAwC,KAAjF,CAAyF,CACxF,OACA,CAID,GAAK,CAACgc,YAAD,EAAiB,CAACtf,OAAO,CAACuM,QAA1B,EAAsC,CAAC1oB,QAAQ,CAAE4C,IAAF,CAApD,CAA+D,CAE9D84B,UAAU,CAAGvf,OAAO,CAACyK,YAAR,EAAwB1mB,IAArC,CACA,GAAK,CAACq7B,WAAW,CAAChwB,IAAZ,CAAkBmwB,UAAU,CAAGx7B,IAA/B,CAAN,CAA8C,CAC7CyM,GAAG,CAAGA,GAAG,CAACxL,UAAV,CACA,CACD,KAAQwL,GAAR,CAAaA,GAAG,CAAGA,GAAG,CAACxL,UAAvB,CAAoC,CACnC06B,SAAS,CAAC18B,IAAV,CAAgBwN,GAAhB,EACA6B,GAAG,CAAG7B,GAAN,CACA,CAGD,GAAK6B,GAAG,IAAO5L,IAAI,CAACoI,aAAL,EAAsBxM,QAA7B,CAAR,CAAkD,CACjDq9B,SAAS,CAAC18B,IAAV,CAAgBqP,GAAG,CAACb,WAAJ,EAAmBa,GAAG,CAACstB,YAAvB,EAAuCn9B,MAAvD,EACA,CACD,CAGD+B,CAAC,CAAG,CAAJ,CACA,MAAQ,CAAEiM,GAAG,CAAGkvB,SAAS,CAAEn7B,CAAC,EAAH,CAAjB,GAA8B,CAAColB,KAAK,CAAC2B,oBAAN,EAAvC,CAAsE,CACrEmU,WAAW,CAAGjvB,GAAd,CACAmZ,KAAK,CAAC5lB,IAAN,CAAaQ,CAAC,CAAG,CAAJ,CACZg7B,UADY,CAEZvf,OAAO,CAAC0K,QAAR,EAAoB3mB,IAFrB,CAKAumB,MAAM,CAAG,CAAE7G,QAAQ,CAAC1d,GAAT,CAAcyK,GAAd,CAAmB,QAAnB,GAAiC,EAAnC,EAAyCmZ,KAAK,CAAC5lB,IAA/C,GACR0f,QAAQ,CAAC1d,GAAT,CAAcyK,GAAd,CAAmB,QAAnB,CADD,CAEA,GAAK8Z,MAAL,CAAc,CACbA,MAAM,CAAC5jB,KAAP,CAAc8J,GAAd,CAAmB8S,IAAnB,EACA,CAGDgH,MAAM,CAAGkV,MAAM,EAAIhvB,GAAG,CAAEgvB,MAAF,CAAtB,CACA,GAAKlV,MAAM,EAAIA,MAAM,CAAC5jB,KAAjB,EAA0Bqc,UAAU,CAAEvS,GAAF,CAAzC,CAAmD,CAClDmZ,KAAK,CAAC7U,MAAN,CAAewV,MAAM,CAAC5jB,KAAP,CAAc8J,GAAd,CAAmB8S,IAAnB,CAAf,CACA,GAAKqG,KAAK,CAAC7U,MAAN,GAAiB,KAAtB,CAA8B,CAC7B6U,KAAK,CAAC+B,cAAN,GACA,CACD,CACD,CACD/B,KAAK,CAAC5lB,IAAN,CAAaA,IAAb,CAGA,GAAK,CAACu7B,YAAD,EAAiB,CAAC3V,KAAK,CAACuD,kBAAN,EAAvB,CAAoD,CAEnD,GAAK,CAAE,CAAClN,OAAO,CAACsH,QAAT,EACNtH,OAAO,CAACsH,QAAR,CAAiB5gB,KAAjB,CAAwBg5B,SAAS,CAACj0B,GAAV,EAAxB,CAAyC6X,IAAzC,IAAoD,KADhD,GAEJP,UAAU,CAAEtc,IAAF,CAFX,CAEsB,CAIrB,GAAK+4B,MAAM,EAAI97B,UAAU,CAAE+C,IAAI,CAAE1C,IAAF,CAAN,CAApB,EAAwC,CAACF,QAAQ,CAAE4C,IAAF,CAAtD,CAAiE,CAGhE4L,GAAG,CAAG5L,IAAI,CAAE+4B,MAAF,CAAV,CAEA,GAAKntB,GAAL,CAAW,CACV5L,IAAI,CAAE+4B,MAAF,CAAJ,CAAiB,IAAjB,CACA,CAGDp6B,MAAM,CAACukB,KAAP,CAAaY,SAAb,CAAyBxmB,IAAzB,CAEA,GAAK4lB,KAAK,CAAC2B,oBAAN,EAAL,CAAoC,CACnCmU,WAAW,CAAC/tB,gBAAZ,CAA8B3N,IAA9B,CAAoCs7B,uBAApC,EACA,CAED54B,IAAI,CAAE1C,IAAF,CAAJ,GAEA,GAAK4lB,KAAK,CAAC2B,oBAAN,EAAL,CAAoC,CACnCmU,WAAW,CAAC1d,mBAAZ,CAAiChe,IAAjC,CAAuCs7B,uBAAvC,EACA,CAEDj6B,MAAM,CAACukB,KAAP,CAAaY,SAAb,CAAyBxiB,SAAzB,CAEA,GAAKsK,GAAL,CAAW,CACV5L,IAAI,CAAE+4B,MAAF,CAAJ,CAAiBntB,GAAjB,CACA,CACD,CACD,CACD,CAED,MAAOsX,MAAK,CAAC7U,MAAb,CACA,CAjJ2B,CAqJ5B8qB,QAAQ,CAAE,SAAU77B,IAAV,CAAgB0C,IAAhB,CAAsBkjB,KAAtB,CAA8B,CACvC,GAAIvb,EAAC,CAAGhJ,MAAM,CAACgC,MAAP,CACP,GAAIhC,OAAM,CAAC8mB,KAAX,EADO,CAEPvC,KAFO,CAGP,CACC5lB,IAAI,CAAEA,IADP,CAECwpB,WAAW,CAAE,IAFd,CAHO,CAAR,CASAnoB,MAAM,CAACukB,KAAP,CAAa+C,OAAb,CAAsBte,CAAtB,CAAyB,IAAzB,CAA+B3H,IAA/B,EACA,CAhK2B,CAA7B,EAoKArB,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CAEjBslB,OAAO,CAAE,SAAU3oB,IAAV,CAAgBuf,IAAhB,CAAuB,CAC/B,MAAO,MAAKhd,IAAL,CAAW,UAAW,CAC5BlB,MAAM,CAACukB,KAAP,CAAa+C,OAAb,CAAsB3oB,IAAtB,CAA4Buf,IAA5B,CAAkC,IAAlC,EACA,CAFM,CAAP,CAGA,CANgB,CAOjBuc,cAAc,CAAE,SAAU97B,IAAV,CAAgBuf,IAAhB,CAAuB,CACtC,GAAI7c,KAAI,CAAG,KAAM,CAAN,CAAX,CACA,GAAKA,IAAL,CAAY,CACX,MAAOrB,OAAM,CAACukB,KAAP,CAAa+C,OAAb,CAAsB3oB,IAAtB,CAA4Buf,IAA5B,CAAkC7c,IAAlC,CAAwC,IAAxC,CAAP,CACA,CACD,CAZgB,CAAlB,EAwBA,GAAK,CAAChD,OAAO,CAAC07B,OAAd,CAAwB,CACvB/5B,MAAM,CAACkB,IAAP,CAAa,CAAE6oB,KAAK,CAAE,SAAT,CAAoBC,IAAI,CAAE,UAA1B,CAAb,CAAqD,SAAUK,IAAV,CAAgBvE,GAAhB,CAAsB,CAG1E,GAAI7a,QAAO,CAAG,SAAUsZ,KAAV,CAAkB,CAC/BvkB,MAAM,CAACukB,KAAP,CAAaiW,QAAb,CAAuB1U,GAAvB,CAA4BvB,KAAK,CAACjiB,MAAlC,CAA0CtC,MAAM,CAACukB,KAAP,CAAauB,GAAb,CAAkBvB,KAAlB,CAA1C,EACA,CAFD,CAIAvkB,MAAM,CAACukB,KAAP,CAAa3J,OAAb,CAAsBkL,GAAtB,EAA8B,CAC7BN,KAAK,CAAE,UAAW,CACjB,GAAItmB,IAAG,CAAG,KAAKuK,aAAL,EAAsB,IAAhC,CACCixB,QAAQ,CAAGrc,QAAQ,CAACvB,MAAT,CAAiB5d,GAAjB,CAAsB4mB,GAAtB,CADZ,CAGA,GAAK,CAAC4U,QAAN,CAAiB,CAChBx7B,GAAG,CAACoN,gBAAJ,CAAsB+d,IAAtB,CAA4Bpf,OAA5B,CAAqC,IAArC,EACA,CACDoT,QAAQ,CAACvB,MAAT,CAAiB5d,GAAjB,CAAsB4mB,GAAtB,CAA2B,CAAE4U,QAAQ,EAAI,CAAd,EAAoB,CAA/C,EACA,CAT4B,CAU7B/U,QAAQ,CAAE,UAAW,CACpB,GAAIzmB,IAAG,CAAG,KAAKuK,aAAL,EAAsB,IAAhC,CACCixB,QAAQ,CAAGrc,QAAQ,CAACvB,MAAT,CAAiB5d,GAAjB,CAAsB4mB,GAAtB,EAA8B,CAD1C,CAGA,GAAK,CAAC4U,QAAN,CAAiB,CAChBx7B,GAAG,CAACyd,mBAAJ,CAAyB0N,IAAzB,CAA+Bpf,OAA/B,CAAwC,IAAxC,EACAoT,QAAQ,CAAC5F,MAAT,CAAiBvZ,GAAjB,CAAsB4mB,GAAtB,EAEA,CAJD,IAIO,CACNzH,QAAQ,CAACvB,MAAT,CAAiB5d,GAAjB,CAAsB4mB,GAAtB,CAA2B4U,QAA3B,EACA,CACD,CArB4B,CAA9B,CAuBA,CA9BD,EA+BA,CACD,GAAIxpB,SAAQ,CAAG9T,MAAM,CAAC8T,QAAtB,CAEA,GAAIrS,MAAK,CAAG4G,IAAI,CAACyiB,GAAL,EAAZ,CAEA,GAAIyS,OAAM,CAAK,IAAf,CAKA36B,MAAM,CAAC46B,QAAP,CAAkB,SAAU1c,IAAV,CAAiB,CAClC,GAAInO,IAAJ,CACA,GAAK,CAACmO,IAAD,EAAS,MAAOA,KAAP,GAAgB,QAA9B,CAAyC,CACxC,MAAO,KAAP,CACA,CAID,GAAI,CACHnO,GAAG,CAAK,GAAI3S,OAAM,CAACy9B,SAAX,EAAF,CAA2BC,eAA3B,CAA4C5c,IAA5C,CAAkD,UAAlD,CAAN,CACA,CAAC,MAAQlV,CAAR,CAAY,CACb+G,GAAG,CAAGpN,SAAN,CACA,CAED,GAAK,CAACoN,GAAD,EAAQA,GAAG,CAAClG,oBAAJ,CAA0B,aAA1B,EAA0CpJ,MAAvD,CAAgE,CAC/DT,MAAM,CAACiD,KAAP,CAAc,gBAAkBib,IAAhC,EACA,CACD,MAAOnO,IAAP,CACA,CAlBD,CAqBA,GACCgrB,SAAQ,CAAG,OADZ,CAECC,KAAK,CAAG,QAFT,CAGCC,eAAe,CAAG,uCAHnB,CAICC,YAAY,CAAG,oCAJhB,CAMA,QAASC,YAAT,CAAsBjJ,MAAtB,CAA8B3zB,GAA9B,CAAmC68B,WAAnC,CAAgDpkB,GAAhD,CAAsD,CAGrD,GAAKvU,KAAK,CAACC,OAAN,CAAenE,GAAf,CAAL,CAA4B,CAG3ByB,MAAM,CAACkB,IAAP,CAAa3C,GAAb,CAAkB,SAAUY,CAAV,CAAa4Z,CAAb,CAAiB,CAClC,GAAKqiB,WAAW,EAAIL,QAAQ,CAAC/wB,IAAT,CAAekoB,MAAf,CAApB,CAA8C,CAG7Clb,GAAG,CAAEkb,MAAF,CAAUnZ,CAAV,CAAH,CAEA,CALD,IAKO,CAGNoiB,WAAW,CACVjJ,MAAM,CAAG,GAAT,EAAiB,MAAOnZ,EAAP,GAAa,QAAb,EAAyBA,CAAC,EAAI,IAA9B,CAAqC5Z,CAArC,CAAyC,EAA1D,EAAiE,GADvD,CAEV4Z,CAFU,CAGVqiB,WAHU,CAIVpkB,GAJU,CAAX,CAMA,CACD,CAhBD,EAkBA,CArBD,IAqBO,IAAK,CAACokB,WAAD,EAAgBt7B,MAAM,CAAEvB,GAAF,CAAN,GAAkB,QAAvC,CAAkD,CAGxD,OAAM2D,KAAN,GAAc3D,IAAd,CAAoB,CACnB48B,WAAW,CAAEjJ,MAAM,CAAG,GAAT,CAAehwB,IAAf,CAAsB,GAAxB,CAA6B3D,GAAG,CAAE2D,IAAF,CAAhC,CAA0Ck5B,WAA1C,CAAuDpkB,GAAvD,CAAX,CACA,CAED,CAPM,IAOA,CAGNA,GAAG,CAAEkb,MAAF,CAAU3zB,GAAV,CAAH,CACA,CACD,CAIDyB,MAAM,CAACq7B,KAAP,CAAe,SAAUl1B,CAAV,CAAai1B,WAAb,CAA2B,CACzC,GAAIlJ,OAAJ,CACCoJ,CAAC,CAAG,EADL,CAECtkB,GAAG,CAAG,SAAUvM,GAAV,CAAe8wB,eAAf,CAAiC,CAGtC,GAAIp3B,MAAK,CAAG7F,UAAU,CAAEi9B,eAAF,CAAV,CACXA,eAAe,EADJ,CAEXA,eAFD,CAIAD,CAAC,CAAEA,CAAC,CAAC76B,MAAJ,CAAD,CAAgB+6B,kBAAkB,CAAE/wB,GAAF,CAAlB,CAA4B,GAA5B,CACf+wB,kBAAkB,CAAEr3B,KAAK,EAAI,IAAT,CAAgB,EAAhB,CAAqBA,KAAvB,CADnB,CAEA,CAXF,CAaA,GAAKgC,CAAC,EAAI,IAAV,CAAiB,CAChB,MAAO,EAAP,CACA,CAGD,GAAK1D,KAAK,CAACC,OAAN,CAAeyD,CAAf,GAAwBA,CAAC,CAAC5F,MAAF,EAAY,CAACP,MAAM,CAACwC,aAAP,CAAsB2D,CAAtB,CAA1C,CAAwE,CAGvEnG,MAAM,CAACkB,IAAP,CAAaiF,CAAb,CAAgB,UAAW,CAC1B6Q,GAAG,CAAE,KAAK9U,IAAP,CAAa,KAAKiC,KAAlB,CAAH,CACA,CAFD,EAIA,CAPD,IAOO,CAIN,IAAM+tB,MAAN,GAAgB/rB,EAAhB,CAAoB,CACnBg1B,WAAW,CAAEjJ,MAAF,CAAU/rB,CAAC,CAAE+rB,MAAF,CAAX,CAAuBkJ,WAAvB,CAAoCpkB,GAApC,CAAX,CACA,CACD,CAGD,MAAOskB,EAAC,CAACpxB,IAAF,CAAQ,GAAR,CAAP,CACA,CArCD,CAuCAlK,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjBy5B,SAAS,CAAE,UAAW,CACrB,MAAOz7B,OAAM,CAACq7B,KAAP,CAAc,KAAKK,cAAL,EAAd,CAAP,CACA,CAHgB,CAIjBA,cAAc,CAAE,UAAW,CAC1B,MAAO,MAAKt6B,GAAL,CAAU,UAAW,CAG3B,GAAIgN,SAAQ,CAAGpO,MAAM,CAACme,IAAP,CAAa,IAAb,CAAmB,UAAnB,CAAf,CACA,MAAO/P,SAAQ,CAAGpO,MAAM,CAAC0D,SAAP,CAAkB0K,QAAlB,CAAH,CAAkC,IAAjD,CACA,CALM,EAMNxB,MANM,CAME,UAAW,CACnB,GAAIjO,KAAI,CAAG,KAAKA,IAAhB,CAGA,MAAO,MAAKuD,IAAL,EAAa,CAAClC,MAAM,CAAE,IAAF,CAAN,CAAeuV,EAAf,CAAmB,WAAnB,CAAd,EACN2lB,YAAY,CAAClxB,IAAb,CAAmB,KAAKpB,QAAxB,CADM,EACgC,CAACqyB,eAAe,CAACjxB,IAAhB,CAAsBrL,IAAtB,CADjC,GAEJ,KAAK4S,OAAL,EAAgB,CAACkQ,cAAc,CAACzX,IAAf,CAAqBrL,IAArB,CAFb,CAAP,CAGA,CAbM,EAcNyC,GAdM,CAcD,SAAUjC,CAAV,CAAakC,IAAb,CAAoB,CACzB,GAAIjC,IAAG,CAAGY,MAAM,CAAE,IAAF,CAAN,CAAeZ,GAAf,EAAV,CAEA,GAAKA,GAAG,EAAI,IAAZ,CAAmB,CAClB,MAAO,KAAP,CACA,CAED,GAAKqD,KAAK,CAACC,OAAN,CAAetD,GAAf,CAAL,CAA4B,CAC3B,MAAOY,OAAM,CAACoB,GAAP,CAAYhC,GAAZ,CAAiB,SAAUA,GAAV,CAAgB,CACvC,MAAO,CAAE8C,IAAI,CAAEb,IAAI,CAACa,IAAb,CAAmBiC,KAAK,CAAE/E,GAAG,CAAC2D,OAAJ,CAAai4B,KAAb,CAAoB,MAApB,CAA1B,CAAP,CACA,CAFM,CAAP,CAGA,CAED,MAAO,CAAE94B,IAAI,CAAEb,IAAI,CAACa,IAAb,CAAmBiC,KAAK,CAAE/E,GAAG,CAAC2D,OAAJ,CAAai4B,KAAb,CAAoB,MAApB,CAA1B,CAAP,CACA,CA5BM,EA4BHr6B,GA5BG,EAAP,CA6BA,CAlCgB,CAAlB,EAsCA,GACCg7B,IAAG,CAAG,MADP,CAECC,KAAK,CAAG,MAFT,CAGCC,UAAU,CAAG,eAHd,CAICC,QAAQ,CAAG,4BAJZ,CAOCC,cAAc,CAAG,2DAPlB,CAQCC,UAAU,CAAG,gBARd,CASCC,SAAS,CAAG,OATb,CAoBCxG,UAAU,CAAG,EApBd,CA2BCyG,UAAU,CAAG,EA3Bd,CA8BCC,QAAQ,CAAG,KAAKx+B,MAAL,CAAa,GAAb,CA9BZ,CAiCCy+B,YAAY,CAAGn/B,QAAQ,CAACqC,aAAT,CAAwB,GAAxB,CAjChB,CAkCC88B,YAAY,CAAC/qB,IAAb,CAAoBH,QAAQ,CAACG,IAA7B,CAGD,QAASgrB,4BAAT,CAAsCC,SAAtC,CAAkD,CAGjD,MAAO,UAAUC,kBAAV,CAA8B5iB,IAA9B,CAAqC,CAE3C,GAAK,MAAO4iB,mBAAP,GAA8B,QAAnC,CAA8C,CAC7C5iB,IAAI,CAAG4iB,kBAAP,CACAA,kBAAkB,CAAG,GAArB,CACA,CAED,GAAIC,SAAJ,CACCr9B,CAAC,CAAG,CADL,CAECs9B,SAAS,CAAGF,kBAAkB,CAAC/3B,WAAnB,GAAiC6E,KAAjC,CAAwCsO,aAAxC,GAA2D,EAFxE,CAIA,GAAKrZ,UAAU,CAAEqb,IAAF,CAAf,CAA0B,CAGzB,MAAU6iB,QAAQ,CAAGC,SAAS,CAAEt9B,CAAC,EAAH,CAA9B,CAA0C,CAGzC,GAAKq9B,QAAQ,CAAE,CAAF,CAAR,GAAkB,GAAvB,CAA6B,CAC5BA,QAAQ,CAAGA,QAAQ,CAAC9+B,KAAT,CAAgB,CAAhB,GAAuB,GAAlC,CACA,CAAE4+B,SAAS,CAAEE,QAAF,CAAT,CAAwBF,SAAS,CAAEE,QAAF,CAAT,EAAyB,EAAnD,EAAwDtuB,OAAxD,CAAiEyL,IAAjE,EAGA,CALD,IAKO,CACN,CAAE2iB,SAAS,CAAEE,QAAF,CAAT,CAAwBF,SAAS,CAAEE,QAAF,CAAT,EAAyB,EAAnD,EAAwD5+B,IAAxD,CAA8D+b,IAA9D,EACA,CACD,CACD,CACD,CA3BD,CA4BA,CAGD,QAAS+iB,8BAAT,CAAwCJ,SAAxC,CAAmDr6B,OAAnD,CAA4D6zB,eAA5D,CAA6E6G,KAA7E,CAAqF,CAEpF,GAAIC,UAAS,CAAG,EAAhB,CACCC,gBAAgB,CAAKP,SAAS,GAAKJ,UADpC,CAGA,QAASY,QAAT,CAAkBN,QAAlB,CAA6B,CAC5B,GAAIhrB,SAAJ,CACAorB,SAAS,CAAEJ,QAAF,CAAT,CAAwB,IAAxB,CACAx8B,MAAM,CAACkB,IAAP,CAAao7B,SAAS,CAAEE,QAAF,CAAT,EAAyB,EAAtC,CAA0C,SAAU30B,CAAV,CAAak1B,kBAAb,CAAkC,CAC3E,GAAIC,oBAAmB,CAAGD,kBAAkB,CAAE96B,OAAF,CAAW6zB,eAAX,CAA4B6G,KAA5B,CAA5C,CACA,GAAK,MAAOK,oBAAP,GAA+B,QAA/B,EACJ,CAACH,gBADG,EACiB,CAACD,SAAS,CAAEI,mBAAF,CADhC,CAC0D,CAEzD/6B,OAAO,CAACw6B,SAAR,CAAkBvuB,OAAlB,CAA2B8uB,mBAA3B,EACAF,OAAO,CAAEE,mBAAF,CAAP,CACA,MAAO,MAAP,CACA,CAND,IAMO,IAAKH,gBAAL,CAAwB,CAC9B,MAAO,EAAGrrB,QAAQ,CAAGwrB,mBAAd,CAAP,CACA,CACD,CAXD,EAYA,MAAOxrB,SAAP,CACA,CAED,MAAOsrB,QAAO,CAAE76B,OAAO,CAACw6B,SAAR,CAAmB,CAAnB,CAAF,CAAP,EAAqC,CAACG,SAAS,CAAE,GAAF,CAAV,EAAqBE,OAAO,CAAE,GAAF,CAAxE,CACA,CAKD,QAASG,WAAT,CAAqB36B,MAArB,CAA6B1D,GAA7B,CAAmC,CAClC,GAAI6L,IAAJ,CAASlI,IAAT,CACC26B,WAAW,CAAGl9B,MAAM,CAACm9B,YAAP,CAAoBD,WAApB,EAAmC,EADlD,CAGA,IAAMzyB,GAAN,GAAa7L,IAAb,CAAmB,CAClB,GAAKA,GAAG,CAAE6L,GAAF,CAAH,GAAe9H,SAApB,CAAgC,CAC/B,CAAEu6B,WAAW,CAAEzyB,GAAF,CAAX,CAAqBnI,MAArB,CAAgCC,IAAI,GAAMA,IAAI,CAAG,EAAb,CAAtC,EAA6DkI,GAA7D,EAAqE7L,GAAG,CAAE6L,GAAF,CAAxE,CACA,CACD,CACD,GAAKlI,IAAL,CAAY,CACXvC,MAAM,CAACgC,MAAP,CAAe,IAAf,CAAqBM,MAArB,CAA6BC,IAA7B,EACA,CAED,MAAOD,OAAP,CACA,CAMD,QAAS86B,oBAAT,CAA8B9B,CAA9B,CAAiCqB,KAAjC,CAAwCU,SAAxC,CAAoD,CAEnD,GAAIC,GAAJ,CAAQ3+B,IAAR,CAAc4+B,aAAd,CAA6BC,aAA7B,CACChnB,QAAQ,CAAG8kB,CAAC,CAAC9kB,QADd,CAECimB,SAAS,CAAGnB,CAAC,CAACmB,SAFf,CAKA,MAAQA,SAAS,CAAE,CAAF,CAAT,GAAmB,GAA3B,CAAiC,CAChCA,SAAS,CAAC9xB,KAAV,GACA,GAAK2yB,EAAE,GAAK36B,SAAZ,CAAwB,CACvB26B,EAAE,CAAGhC,CAAC,CAACmC,QAAF,EAAcd,KAAK,CAACe,iBAAN,CAAyB,cAAzB,CAAnB,CACA,CACD,CAGD,GAAKJ,EAAL,CAAU,CACT,IAAM3+B,IAAN,GAAc6X,SAAd,CAAyB,CACxB,GAAKA,QAAQ,CAAE7X,IAAF,CAAR,EAAoB6X,QAAQ,CAAE7X,IAAF,CAAR,CAAiBqL,IAAjB,CAAuBszB,EAAvB,CAAzB,CAAuD,CACtDb,SAAS,CAACvuB,OAAV,CAAmBvP,IAAnB,EACA,MACA,CACD,CACD,CAGD,GAAK89B,SAAS,CAAE,CAAF,CAAT,EAAkBY,UAAvB,CAAmC,CAClCE,aAAa,CAAGd,SAAS,CAAE,CAAF,CAAzB,CACA,CAFD,IAEO,CAGN,IAAM99B,IAAN,GAAc0+B,UAAd,CAA0B,CACzB,GAAK,CAACZ,SAAS,CAAE,CAAF,CAAV,EAAmBnB,CAAC,CAACqC,UAAF,CAAch/B,IAAI,CAAG,GAAP,CAAa89B,SAAS,CAAE,CAAF,CAApC,CAAxB,CAAsE,CACrEc,aAAa,CAAG5+B,IAAhB,CACA,MACA,CACD,GAAK,CAAC6+B,aAAN,CAAsB,CACrBA,aAAa,CAAG7+B,IAAhB,CACA,CACD,CAGD4+B,aAAa,CAAGA,aAAa,EAAIC,aAAjC,CACA,CAKD,GAAKD,aAAL,CAAqB,CACpB,GAAKA,aAAa,GAAKd,SAAS,CAAE,CAAF,CAAhC,CAAwC,CACvCA,SAAS,CAACvuB,OAAV,CAAmBqvB,aAAnB,EACA,CACD,MAAOF,UAAS,CAAEE,aAAF,CAAhB,CACA,CACD,CAKD,QAASK,YAAT,CAAsBtC,CAAtB,CAAyBuC,QAAzB,CAAmClB,KAAnC,CAA0CmB,SAA1C,CAAsD,CACrD,GAAIC,MAAJ,CAAWC,OAAX,CAAoBC,IAApB,CAA0BhxB,GAA1B,CAA+BwJ,IAA/B,CACCknB,UAAU,CAAG,EADd,CAIClB,SAAS,CAAGnB,CAAC,CAACmB,SAAF,CAAY/+B,KAAZ,EAJb,CAOA,GAAK++B,SAAS,CAAE,CAAF,CAAd,CAAsB,CACrB,IAAMwB,IAAN,GAAc3C,EAAC,CAACqC,UAAhB,CAA6B,CAC5BA,UAAU,CAAEM,IAAI,CAACz5B,WAAL,EAAF,CAAV,CAAmC82B,CAAC,CAACqC,UAAF,CAAcM,IAAd,CAAnC,CACA,CACD,CAEDD,OAAO,CAAGvB,SAAS,CAAC9xB,KAAV,EAAV,CAGA,MAAQqzB,OAAR,CAAkB,CAEjB,GAAK1C,CAAC,CAAC4C,cAAF,CAAkBF,OAAlB,CAAL,CAAmC,CAClCrB,KAAK,CAAErB,CAAC,CAAC4C,cAAF,CAAkBF,OAAlB,CAAF,CAAL,CAAuCH,QAAvC,CACA,CAGD,GAAK,CAACpnB,IAAD,EAASqnB,SAAT,EAAsBxC,CAAC,CAAC6C,UAA7B,CAA0C,CACzCN,QAAQ,CAAGvC,CAAC,CAAC6C,UAAF,CAAcN,QAAd,CAAwBvC,CAAC,CAACkB,QAA1B,CAAX,CACA,CAED/lB,IAAI,CAAGunB,OAAP,CACAA,OAAO,CAAGvB,SAAS,CAAC9xB,KAAV,EAAV,CAEA,GAAKqzB,OAAL,CAAe,CAGd,GAAKA,OAAO,GAAK,GAAjB,CAAuB,CAEtBA,OAAO,CAAGvnB,IAAV,CAGA,CALD,IAKO,IAAKA,IAAI,GAAK,GAAT,EAAgBA,IAAI,GAAKunB,OAA9B,CAAwC,CAG9CC,IAAI,CAAGN,UAAU,CAAElnB,IAAI,CAAG,GAAP,CAAaunB,OAAf,CAAV,EAAsCL,UAAU,CAAE,KAAOK,OAAT,CAAvD,CAGA,GAAK,CAACC,IAAN,CAAa,CACZ,IAAMF,KAAN,GAAeJ,WAAf,CAA4B,CAG3B1wB,GAAG,CAAG8wB,KAAK,CAACx5B,KAAN,CAAa,GAAb,CAAN,CACA,GAAK0I,GAAG,CAAE,CAAF,CAAH,GAAa+wB,OAAlB,CAA4B,CAG3BC,IAAI,CAAGN,UAAU,CAAElnB,IAAI,CAAG,GAAP,CAAaxJ,GAAG,CAAE,CAAF,CAAlB,CAAV,EACN0wB,UAAU,CAAE,KAAO1wB,GAAG,CAAE,CAAF,CAAZ,CADX,CAEA,GAAKgxB,IAAL,CAAY,CAGX,GAAKA,IAAI,GAAK,IAAd,CAAqB,CACpBA,IAAI,CAAGN,UAAU,CAAEI,KAAF,CAAjB,CAGA,CAJD,IAIO,IAAKJ,UAAU,CAAEI,KAAF,CAAV,GAAwB,IAA7B,CAAoC,CAC1CC,OAAO,CAAG/wB,GAAG,CAAE,CAAF,CAAb,CACAwvB,SAAS,CAACvuB,OAAV,CAAmBjB,GAAG,CAAE,CAAF,CAAtB,EACA,CACD,MACA,CACD,CACD,CACD,CAGD,GAAKgxB,IAAI,GAAK,IAAd,CAAqB,CAGpB,GAAKA,IAAI,EAAI3C,CAAC,CAAC8C,MAAf,CAAwB,CACvBP,QAAQ,CAAGI,IAAI,CAAEJ,QAAF,CAAf,CACA,CAFD,IAEO,CACN,GAAI,CACHA,QAAQ,CAAGI,IAAI,CAAEJ,QAAF,CAAf,CACA,CAAC,MAAQ70B,CAAR,CAAY,CACb,MAAO,CACN6Q,KAAK,CAAE,aADD,CAEN5W,KAAK,CAAEg7B,IAAI,CAAGj1B,CAAH,CAAO,sBAAwByN,IAAxB,CAA+B,MAA/B,CAAwCunB,OAFpD,CAAP,CAIA,CACD,CACD,CACD,CACD,CACD,CAED,MAAO,CAAEnkB,KAAK,CAAE,SAAT,CAAoBqE,IAAI,CAAE2f,QAA1B,CAAP,CACA,CAED79B,MAAM,CAACgC,MAAP,CAAe,CAGdq8B,MAAM,CAAE,CAHM,CAMdC,YAAY,CAAE,EANA,CAOdC,IAAI,CAAE,EAPQ,CASdpB,YAAY,CAAE,CACbqB,GAAG,CAAEttB,QAAQ,CAACG,IADD,CAEb1S,IAAI,CAAE,KAFO,CAGb8/B,OAAO,CAAE1C,cAAc,CAAC/xB,IAAf,CAAqBkH,QAAQ,CAACwtB,QAA9B,CAHI,CAIb7hC,MAAM,CAAE,IAJK,CAKb8hC,WAAW,CAAE,IALA,CAMbC,KAAK,CAAE,IANM,CAObC,WAAW,CAAE,kDAPA,CAqBbC,OAAO,CAAE,CACR,IAAK3C,QADG,CAER58B,IAAI,CAAE,YAFE,CAGRksB,IAAI,CAAE,WAHE,CAIR1b,GAAG,CAAE,2BAJG,CAKRgvB,IAAI,CAAE,mCALE,CArBI,CA6BbvoB,QAAQ,CAAE,CACTzG,GAAG,CAAE,SADI,CAET0b,IAAI,CAAE,QAFG,CAGTsT,IAAI,CAAE,UAHG,CA7BG,CAmCbb,cAAc,CAAE,CACfnuB,GAAG,CAAE,aADU,CAEfxQ,IAAI,CAAE,cAFS,CAGfw/B,IAAI,CAAE,cAHS,CAnCH,CA2CbpB,UAAU,CAAE,CAGX,SAAU11B,MAHC,CAMX,YAAa,IANF,CASX,YAAayW,IAAI,CAACC,KATP,CAYX,WAAY3e,MAAM,CAAC46B,QAZR,CA3CC,CA8DbsC,WAAW,CAAE,CACZsB,GAAG,CAAE,IADO,CAEZt+B,OAAO,CAAE,IAFG,CA9DA,CATA,CAgFd8+B,SAAS,CAAE,SAAU18B,MAAV,CAAkB28B,QAAlB,CAA6B,CACvC,MAAOA,SAAQ,CAGdhC,UAAU,CAAEA,UAAU,CAAE36B,MAAF,CAAUtC,MAAM,CAACm9B,YAAjB,CAAZ,CAA6C8B,QAA7C,CAHI,CAMdhC,UAAU,CAAEj9B,MAAM,CAACm9B,YAAT,CAAuB76B,MAAvB,CANX,CAOA,CAxFa,CA0Fd48B,aAAa,CAAE7C,2BAA2B,CAAE5G,UAAF,CA1F5B,CA2Fd0J,aAAa,CAAE9C,2BAA2B,CAAEH,UAAF,CA3F5B,CA8FdkD,IAAI,CAAE,SAAUZ,GAAV,CAAev8B,OAAf,CAAyB,CAG9B,GAAK,MAAOu8B,IAAP,GAAe,QAApB,CAA+B,CAC9Bv8B,OAAO,CAAGu8B,GAAV,CACAA,GAAG,CAAG77B,SAAN,CACA,CAGDV,OAAO,CAAGA,OAAO,EAAI,EAArB,CAEA,GAAIo9B,UAAJ,CAGCC,QAHD,CAMCC,qBAND,CAOCC,eAPD,CAUCC,YAVD,CAaCC,SAbD,CAgBChjB,SAhBD,CAmBCijB,WAnBD,CAsBCxgC,CAtBD,CAyBCygC,QAzBD,CA4BCtE,CAAC,CAAGt7B,MAAM,CAACg/B,SAAP,CAAkB,EAAlB,CAAsB/8B,OAAtB,CA5BL,CA+BC49B,eAAe,CAAGvE,CAAC,CAACp7B,OAAF,EAAao7B,CA/BhC,CAkCCwE,kBAAkB,CAAGxE,CAAC,CAACp7B,OAAF,GAClB2/B,eAAe,CAACrhC,QAAhB,EAA4BqhC,eAAe,CAACt/B,MAD1B,EAEnBP,MAAM,CAAE6/B,eAAF,CAFa,CAGnB7/B,MAAM,CAACukB,KArCV,CAwCCxK,QAAQ,CAAG/Z,MAAM,CAAC0Z,QAAP,EAxCZ,CAyCCqmB,gBAAgB,CAAG//B,MAAM,CAAC+X,SAAP,CAAkB,aAAlB,CAzCpB,CA4CCioB,UAAU,CAAG1E,CAAC,CAAC0E,UAAF,EAAgB,EA5C9B,CA+CCC,cAAc,CAAG,EA/ClB,CAgDCC,mBAAmB,CAAG,EAhDvB,CAmDCC,QAAQ,CAAG,UAnDZ,CAsDCxD,KAAK,CAAG,CACP/f,UAAU,CAAE,CADL,CAIP8gB,iBAAiB,CAAE,SAAUjzB,GAAV,CAAgB,CAClC,GAAIpB,MAAJ,CACA,GAAKqT,SAAL,CAAiB,CAChB,GAAK,CAAC8iB,eAAN,CAAwB,CACvBA,eAAe,CAAG,EAAlB,CACA,MAAUn2B,KAAK,CAAGyyB,QAAQ,CAACpyB,IAAT,CAAe61B,qBAAf,CAAlB,CAA6D,CAC5DC,eAAe,CAAEn2B,KAAK,CAAE,CAAF,CAAL,CAAW7E,WAAX,GAA2B,GAA7B,CAAf,CACC,CAAEg7B,eAAe,CAAEn2B,KAAK,CAAE,CAAF,CAAL,CAAW7E,WAAX,GAA2B,GAA7B,CAAf,EAAqD,EAAvD,EACE7G,MADF,CACU0L,KAAK,CAAE,CAAF,CADf,CADD,CAGA,CACD,CACDA,KAAK,CAAGm2B,eAAe,CAAE/0B,GAAG,CAACjG,WAAJ,GAAoB,GAAtB,CAAvB,CACA,CACD,MAAO6E,MAAK,EAAI,IAAT,CAAgB,IAAhB,CAAuBA,KAAK,CAACa,IAAN,CAAY,IAAZ,CAA9B,CACA,CAlBM,CAqBPk2B,qBAAqB,CAAE,UAAW,CACjC,MAAO1jB,UAAS,CAAG6iB,qBAAH,CAA2B,IAA3C,CACA,CAvBM,CA0BPc,gBAAgB,CAAE,SAAUn+B,IAAV,CAAgBiC,KAAhB,CAAwB,CACzC,GAAKuY,SAAS,EAAI,IAAlB,CAAyB,CACxBxa,IAAI,CAAGg+B,mBAAmB,CAAEh+B,IAAI,CAACsC,WAAL,EAAF,CAAnB,CACN07B,mBAAmB,CAAEh+B,IAAI,CAACsC,WAAL,EAAF,CAAnB,EAA6CtC,IAD9C,CAEA+9B,cAAc,CAAE/9B,IAAF,CAAd,CAAyBiC,KAAzB,CACA,CACD,MAAO,KAAP,CACA,CAjCM,CAoCPm8B,gBAAgB,CAAE,SAAU3hC,IAAV,CAAiB,CAClC,GAAK+d,SAAS,EAAI,IAAlB,CAAyB,CACxB4e,CAAC,CAACmC,QAAF,CAAa9+B,IAAb,CACA,CACD,MAAO,KAAP,CACA,CAzCM,CA4CPqhC,UAAU,CAAE,SAAU5+B,GAAV,CAAgB,CAE3B,GAAKA,GAAL,CAAW,CACV,GAAKsb,SAAL,CAAiB,CAGhBigB,KAAK,CAAC7iB,MAAN,CAAc1Y,GAAG,CAAEu7B,KAAK,CAAC4D,MAAR,CAAjB,EACA,CAJD,IAIO,CAGN,OAAMvhC,KAAN,GAAcoC,IAAd,CAAoB,CACnB4+B,UAAU,CAAEhhC,IAAF,CAAV,CAAqB,CAAEghC,UAAU,CAAEhhC,IAAF,CAAZ,CAAsBoC,GAAG,CAAEpC,IAAF,CAAzB,CAArB,CACA,CACD,CACD,CACD,MAAO,KAAP,CACA,CA5DM,CA+DPwhC,KAAK,CAAE,SAAUC,UAAV,CAAuB,CAC7B,GAAIC,UAAS,CAAGD,UAAU,EAAIN,QAA9B,CACA,GAAKd,SAAL,CAAiB,CAChBA,SAAS,CAACmB,KAAV,CAAiBE,SAAjB,EACA,CACD96B,IAAI,CAAE,CAAF,CAAK86B,SAAL,CAAJ,CACA,MAAO,KAAP,CACA,CAtEM,CAtDT,CAgIA3mB,QAAQ,CAACR,OAAT,CAAkBojB,KAAlB,EAKArB,CAAC,CAACkD,GAAF,CAAQ,CAAE,CAAEA,GAAG,EAAIlD,CAAC,CAACkD,GAAT,EAAgBttB,QAAQ,CAACG,IAA3B,EAAoC,EAAtC,EACNtO,OADM,CACGk5B,SADH,CACc/qB,QAAQ,CAACwtB,QAAT,CAAoB,IADlC,CAAR,CAIApD,CAAC,CAAC38B,IAAF,CAASsD,OAAO,CAACqX,MAAR,EAAkBrX,OAAO,CAACtD,IAA1B,EAAkC28B,CAAC,CAAChiB,MAApC,EAA8CgiB,CAAC,CAAC38B,IAAzD,CAGA28B,CAAC,CAACmB,SAAF,CAAc,CAAEnB,CAAC,CAACkB,QAAF,EAAc,GAAhB,EAAsBh4B,WAAtB,GAAoC6E,KAApC,CAA2CsO,aAA3C,GAA8D,CAAE,EAAF,CAA5E,CAGA,GAAK2jB,CAAC,CAACqF,WAAF,EAAiB,IAAtB,CAA6B,CAC5BjB,SAAS,CAAGziC,QAAQ,CAACqC,aAAT,CAAwB,GAAxB,CAAZ,CAKA,GAAI,CACHogC,SAAS,CAACruB,IAAV,CAAiBiqB,CAAC,CAACkD,GAAnB,CAIAkB,SAAS,CAACruB,IAAV,CAAiBquB,SAAS,CAACruB,IAA3B,CACAiqB,CAAC,CAACqF,WAAF,CAAgBvE,YAAY,CAACsC,QAAb,CAAwB,IAAxB,CAA+BtC,YAAY,CAACwE,IAA5C,GACflB,SAAS,CAAChB,QAAV,CAAqB,IAArB,CAA4BgB,SAAS,CAACkB,IADvC,CAEA,CAAC,MAAQ53B,CAAR,CAAY,CAIbsyB,CAAC,CAACqF,WAAF,CAAgB,IAAhB,CACA,CACD,CAGD,GAAKrF,CAAC,CAACpd,IAAF,EAAUod,CAAC,CAACqD,WAAZ,EAA2B,MAAOrD,EAAC,CAACpd,IAAT,GAAkB,QAAlD,CAA6D,CAC5Dod,CAAC,CAACpd,IAAF,CAASle,MAAM,CAACq7B,KAAP,CAAcC,CAAC,CAACpd,IAAhB,CAAsBod,CAAC,CAACF,WAAxB,CAAT,CACA,CAGDsB,6BAA6B,CAAEjH,UAAF,CAAc6F,CAAd,CAAiBr5B,OAAjB,CAA0B06B,KAA1B,CAA7B,CAGA,GAAKjgB,SAAL,CAAiB,CAChB,MAAOigB,MAAP,CACA,CAIDgD,WAAW,CAAG3/B,MAAM,CAACukB,KAAP,EAAgB+W,CAAC,CAACz+B,MAAhC,CAGA,GAAK8iC,WAAW,EAAI3/B,MAAM,CAACq+B,MAAP,KAAoB,CAAxC,CAA4C,CAC3Cr+B,MAAM,CAACukB,KAAP,CAAa+C,OAAb,CAAsB,WAAtB,EACA,CAGDgU,CAAC,CAAC38B,IAAF,CAAS28B,CAAC,CAAC38B,IAAF,CAAO6e,WAAP,EAAT,CAGA8d,CAAC,CAACuF,UAAF,CAAe,CAAC7E,UAAU,CAAChyB,IAAX,CAAiBsxB,CAAC,CAAC38B,IAAnB,CAAhB,CAKA2gC,QAAQ,CAAGhE,CAAC,CAACkD,GAAF,CAAMz7B,OAAN,CAAe64B,KAAf,CAAsB,EAAtB,CAAX,CAGA,GAAK,CAACN,CAAC,CAACuF,UAAR,CAAqB,CAGpBjB,QAAQ,CAAGtE,CAAC,CAACkD,GAAF,CAAM9gC,KAAN,CAAa4hC,QAAQ,CAAC7+B,MAAtB,CAAX,CAGA,GAAK66B,CAAC,CAACpd,IAAF,GAAYod,CAAC,CAACqD,WAAF,EAAiB,MAAOrD,EAAC,CAACpd,IAAT,GAAkB,QAA/C,CAAL,CAAiE,CAChEohB,QAAQ,EAAI,CAAE3E,MAAM,CAAC3wB,IAAP,CAAas1B,QAAb,EAA0B,GAA1B,CAAgC,GAAlC,EAA0ChE,CAAC,CAACpd,IAAxD,CAGA,MAAOod,EAAC,CAACpd,IAAT,CACA,CAGD,GAAKod,CAAC,CAAC9wB,KAAF,GAAY,KAAjB,CAAyB,CACxB80B,QAAQ,CAAGA,QAAQ,CAACv8B,OAAT,CAAkB84B,UAAlB,CAA8B,IAA9B,CAAX,CACA+D,QAAQ,CAAG,CAAEjF,MAAM,CAAC3wB,IAAP,CAAas1B,QAAb,EAA0B,GAA1B,CAAgC,GAAlC,EAA0C,IAA1C,CAAmDzgC,KAAK,EAAxD,EAA+D+gC,QAA1E,CACA,CAGDtE,CAAC,CAACkD,GAAF,CAAQc,QAAQ,CAAGM,QAAnB,CAGA,CAvBD,IAuBO,IAAKtE,CAAC,CAACpd,IAAF,EAAUod,CAAC,CAACqD,WAAZ,EACX,CAAErD,CAAC,CAACuD,WAAF,EAAiB,EAAnB,EAAwBhhC,OAAxB,CAAiC,mCAAjC,IAA2E,CADrE,CACyE,CAC/Ey9B,CAAC,CAACpd,IAAF,CAASod,CAAC,CAACpd,IAAF,CAAOnb,OAAP,CAAgB44B,GAAhB,CAAqB,GAArB,CAAT,CACA,CAGD,GAAKL,CAAC,CAACwF,UAAP,CAAoB,CACnB,GAAK9gC,MAAM,CAACs+B,YAAP,CAAqBgB,QAArB,CAAL,CAAuC,CACtC3C,KAAK,CAAC0D,gBAAN,CAAwB,mBAAxB,CAA6CrgC,MAAM,CAACs+B,YAAP,CAAqBgB,QAArB,CAA7C,EACA,CACD,GAAKt/B,MAAM,CAACu+B,IAAP,CAAae,QAAb,CAAL,CAA+B,CAC9B3C,KAAK,CAAC0D,gBAAN,CAAwB,eAAxB,CAAyCrgC,MAAM,CAACu+B,IAAP,CAAae,QAAb,CAAzC,EACA,CACD,CAGD,GAAKhE,CAAC,CAACpd,IAAF,EAAUod,CAAC,CAACuF,UAAZ,EAA0BvF,CAAC,CAACuD,WAAF,GAAkB,KAA5C,EAAqD58B,OAAO,CAAC48B,WAAlE,CAAgF,CAC/ElC,KAAK,CAAC0D,gBAAN,CAAwB,cAAxB,CAAwC/E,CAAC,CAACuD,WAA1C,EACA,CAGDlC,KAAK,CAAC0D,gBAAN,CACC,QADD,CAEC/E,CAAC,CAACmB,SAAF,CAAa,CAAb,GAAoBnB,CAAC,CAACwD,OAAF,CAAWxD,CAAC,CAACmB,SAAF,CAAa,CAAb,CAAX,CAApB,CACCnB,CAAC,CAACwD,OAAF,CAAWxD,CAAC,CAACmB,SAAF,CAAa,CAAb,CAAX,GACGnB,CAAC,CAACmB,SAAF,CAAa,CAAb,IAAqB,GAArB,CAA2B,KAAON,QAAP,CAAkB,UAA7C,CAA0D,EAD7D,CADD,CAGCb,CAAC,CAACwD,OAAF,CAAW,GAAX,CALF,EASA,IAAM3/B,CAAN,GAAWm8B,EAAC,CAACyF,OAAb,CAAuB,CACtBpE,KAAK,CAAC0D,gBAAN,CAAwBlhC,CAAxB,CAA2Bm8B,CAAC,CAACyF,OAAF,CAAW5hC,CAAX,CAA3B,EACA,CAGD,GAAKm8B,CAAC,CAAC0F,UAAF,GACF1F,CAAC,CAAC0F,UAAF,CAAa5iC,IAAb,CAAmByhC,eAAnB,CAAoClD,KAApC,CAA2CrB,CAA3C,IAAmD,KAAnD,EAA4D5e,SAD1D,CAAL,CAC6E,CAG5E,MAAOigB,MAAK,CAAC6D,KAAN,EAAP,CACA,CAGDL,QAAQ,CAAG,OAAX,CAGAJ,gBAAgB,CAAC/oB,GAAjB,CAAsBskB,CAAC,CAACrF,QAAxB,EACA0G,KAAK,CAAC/2B,IAAN,CAAY01B,CAAC,CAAC2F,OAAd,EACAtE,KAAK,CAACnjB,IAAN,CAAY8hB,CAAC,CAACr4B,KAAd,EAGAo8B,SAAS,CAAG3C,6BAA6B,CAAER,UAAF,CAAcZ,CAAd,CAAiBr5B,OAAjB,CAA0B06B,KAA1B,CAAzC,CAGA,GAAK,CAAC0C,SAAN,CAAkB,CACjBz5B,IAAI,CAAE,CAAC,CAAH,CAAM,cAAN,CAAJ,CACA,CAFD,IAEO,CACN+2B,KAAK,CAAC/f,UAAN,CAAmB,CAAnB,CAGA,GAAK+iB,WAAL,CAAmB,CAClBG,kBAAkB,CAACxY,OAAnB,CAA4B,UAA5B,CAAwC,CAAEqV,KAAF,CAASrB,CAAT,CAAxC,EACA,CAGD,GAAK5e,SAAL,CAAiB,CAChB,MAAOigB,MAAP,CACA,CAGD,GAAKrB,CAAC,CAACsD,KAAF,EAAWtD,CAAC,CAAC3D,OAAF,CAAY,CAA5B,CAAgC,CAC/B8H,YAAY,CAAGriC,MAAM,CAACme,UAAP,CAAmB,UAAW,CAC5CohB,KAAK,CAAC6D,KAAN,CAAa,SAAb,EACA,CAFc,CAEZlF,CAAC,CAAC3D,OAFU,CAAf,CAGA,CAED,GAAI,CACHjb,SAAS,CAAG,KAAZ,CACA2iB,SAAS,CAAC6B,IAAV,CAAgBjB,cAAhB,CAAgCr6B,IAAhC,EACA,CAAC,MAAQoD,CAAR,CAAY,CAGb,GAAK0T,SAAL,CAAiB,CAChB,KAAM1T,EAAN,CACA,CAGDpD,IAAI,CAAE,CAAC,CAAH,CAAMoD,CAAN,CAAJ,CACA,CACD,CAGD,QAASpD,KAAT,CAAe26B,MAAf,CAAuBY,gBAAvB,CAAyC9D,SAAzC,CAAoD0D,OAApD,CAA8D,CAC7D,GAAIjD,UAAJ,CAAemD,OAAf,CAAwBh+B,KAAxB,CAA+B46B,QAA/B,CAAyCuD,QAAzC,CACCX,UAAU,CAAGU,gBADd,CAIA,GAAKzkB,SAAL,CAAiB,CAChB,OACA,CAEDA,SAAS,CAAG,IAAZ,CAGA,GAAK+iB,YAAL,CAAoB,CACnBriC,MAAM,CAACw6B,YAAP,CAAqB6H,YAArB,EACA,CAIDJ,SAAS,CAAG18B,SAAZ,CAGA48B,qBAAqB,CAAGwB,OAAO,EAAI,EAAnC,CAGApE,KAAK,CAAC/f,UAAN,CAAmB2jB,MAAM,CAAG,CAAT,CAAa,CAAb,CAAiB,CAApC,CAGAzC,SAAS,CAAGyC,MAAM,EAAI,GAAV,EAAiBA,MAAM,CAAG,GAA1B,EAAiCA,MAAM,GAAK,GAAxD,CAGA,GAAKlD,SAAL,CAAiB,CAChBQ,QAAQ,CAAGT,mBAAmB,CAAE9B,CAAF,CAAKqB,KAAL,CAAYU,SAAZ,CAA9B,CACA,CAGDQ,QAAQ,CAAGD,WAAW,CAAEtC,CAAF,CAAKuC,QAAL,CAAelB,KAAf,CAAsBmB,SAAtB,CAAtB,CAGA,GAAKA,SAAL,CAAiB,CAGhB,GAAKxC,CAAC,CAACwF,UAAP,CAAoB,CACnBM,QAAQ,CAAGzE,KAAK,CAACe,iBAAN,CAAyB,eAAzB,CAAX,CACA,GAAK0D,QAAL,CAAgB,CACfphC,MAAM,CAACs+B,YAAP,CAAqBgB,QAArB,EAAkC8B,QAAlC,CACA,CACDA,QAAQ,CAAGzE,KAAK,CAACe,iBAAN,CAAyB,MAAzB,CAAX,CACA,GAAK0D,QAAL,CAAgB,CACfphC,MAAM,CAACu+B,IAAP,CAAae,QAAb,EAA0B8B,QAA1B,CACA,CACD,CAGD,GAAKb,MAAM,GAAK,GAAX,EAAkBjF,CAAC,CAAC38B,IAAF,GAAW,MAAlC,CAA2C,CAC1C8hC,UAAU,CAAG,WAAb,CAGA,CAJD,IAIO,IAAKF,MAAM,GAAK,GAAhB,CAAsB,CAC5BE,UAAU,CAAG,aAAb,CAGA,CAJM,IAIA,CACNA,UAAU,CAAG5C,QAAQ,CAAChkB,KAAtB,CACAonB,OAAO,CAAGpD,QAAQ,CAAC3f,IAAnB,CACAjb,KAAK,CAAG46B,QAAQ,CAAC56B,KAAjB,CACA66B,SAAS,CAAG,CAAC76B,KAAb,CACA,CACD,CA7BD,IA6BO,CAGNA,KAAK,CAAGw9B,UAAR,CACA,GAAKF,MAAM,EAAI,CAACE,UAAhB,CAA6B,CAC5BA,UAAU,CAAG,OAAb,CACA,GAAKF,MAAM,CAAG,CAAd,CAAkB,CACjBA,MAAM,CAAG,CAAT,CACA,CACD,CACD,CAGD5D,KAAK,CAAC4D,MAAN,CAAeA,MAAf,CACA5D,KAAK,CAAC8D,UAAN,CAAmB,CAAEU,gBAAgB,EAAIV,UAAtB,EAAqC,EAAxD,CAGA,GAAK3C,SAAL,CAAiB,CAChB/jB,QAAQ,CAACkB,WAAT,CAAsB4kB,eAAtB,CAAuC,CAAEoB,OAAF,CAAWR,UAAX,CAAuB9D,KAAvB,CAAvC,EACA,CAFD,IAEO,CACN5iB,QAAQ,CAACsB,UAAT,CAAqBwkB,eAArB,CAAsC,CAAElD,KAAF,CAAS8D,UAAT,CAAqBx9B,KAArB,CAAtC,EACA,CAGD05B,KAAK,CAACqD,UAAN,CAAkBA,UAAlB,EACAA,UAAU,CAAGr9B,SAAb,CAEA,GAAKg9B,WAAL,CAAmB,CAClBG,kBAAkB,CAACxY,OAAnB,CAA4BwW,SAAS,CAAG,aAAH,CAAmB,WAAxD,CACC,CAAEnB,KAAF,CAASrB,CAAT,CAAYwC,SAAS,CAAGmD,OAAH,CAAah+B,KAAlC,CADD,EAEA,CAGD88B,gBAAgB,CAAClnB,QAAjB,CAA2BgnB,eAA3B,CAA4C,CAAElD,KAAF,CAAS8D,UAAT,CAA5C,EAEA,GAAKd,WAAL,CAAmB,CAClBG,kBAAkB,CAACxY,OAAnB,CAA4B,cAA5B,CAA4C,CAAEqV,KAAF,CAASrB,CAAT,CAA5C,EAGA,GAAK,CAAG,GAAEt7B,MAAM,CAACq+B,MAAjB,CAA4B,CAC3Br+B,MAAM,CAACukB,KAAP,CAAa+C,OAAb,CAAsB,UAAtB,EACA,CACD,CACD,CAED,MAAOqV,MAAP,CACA,CAphBa,CAshBd0E,OAAO,CAAE,SAAU7C,GAAV,CAAetgB,IAAf,CAAqB/c,QAArB,CAAgC,CACxC,MAAOnB,OAAM,CAACW,GAAP,CAAY69B,GAAZ,CAAiBtgB,IAAjB,CAAuB/c,QAAvB,CAAiC,MAAjC,CAAP,CACA,CAxhBa,CA0hBdmgC,SAAS,CAAE,SAAU9C,GAAV,CAAer9B,QAAf,CAA0B,CACpC,MAAOnB,OAAM,CAACW,GAAP,CAAY69B,GAAZ,CAAiB77B,SAAjB,CAA4BxB,QAA5B,CAAsC,QAAtC,CAAP,CACA,CA5hBa,CAAf,EA+hBAnB,MAAM,CAACkB,IAAP,CAAa,CAAE,KAAF,CAAS,MAAT,CAAb,CAAgC,SAAU/B,CAAV,CAAama,MAAb,CAAsB,CACrDtZ,MAAM,CAAEsZ,MAAF,CAAN,CAAmB,SAAUklB,GAAV,CAAetgB,IAAf,CAAqB/c,QAArB,CAA+BxC,IAA/B,CAAsC,CAGxD,GAAKL,UAAU,CAAE4f,IAAF,CAAf,CAA0B,CACzBvf,IAAI,CAAGA,IAAI,EAAIwC,QAAf,CACAA,QAAQ,CAAG+c,IAAX,CACAA,IAAI,CAAGvb,SAAP,CACA,CAGD,MAAO3C,OAAM,CAACo/B,IAAP,CAAap/B,MAAM,CAACgC,MAAP,CAAe,CAClCw8B,GAAG,CAAEA,GAD6B,CAElC7/B,IAAI,CAAE2a,MAF4B,CAGlCkjB,QAAQ,CAAE79B,IAHwB,CAIlCuf,IAAI,CAAEA,IAJ4B,CAKlC+iB,OAAO,CAAE9/B,QALyB,CAAf,CAMjBnB,MAAM,CAACwC,aAAP,CAAsBg8B,GAAtB,GAA+BA,GANd,CAAb,CAAP,CAOA,CAjBD,CAkBA,CAnBD,EAsBAx+B,MAAM,CAAC0rB,QAAP,CAAkB,SAAU8S,GAAV,CAAev8B,OAAf,CAAyB,CAC1C,MAAOjC,OAAM,CAACo/B,IAAP,CAAa,CACnBZ,GAAG,CAAEA,GADc,CAInB7/B,IAAI,CAAE,KAJa,CAKnB69B,QAAQ,CAAE,QALS,CAMnBhyB,KAAK,CAAE,IANY,CAOnBo0B,KAAK,CAAE,KAPY,CAQnB/hC,MAAM,CAAE,KARW,CAanB8gC,UAAU,CAAE,CACX,cAAe,UAAW,CAAE,CADjB,CAbO,CAgBnBQ,UAAU,CAAE,SAAUN,QAAV,CAAqB,CAChC79B,MAAM,CAACuD,UAAP,CAAmBs6B,QAAnB,CAA6B57B,OAA7B,EACA,CAlBkB,CAAb,CAAP,CAoBA,CArBD,CAwBAjC,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjBu/B,OAAO,CAAE,SAAU9V,IAAV,CAAiB,CACzB,GAAIzI,KAAJ,CAEA,GAAK,KAAM,CAAN,CAAL,CAAiB,CAChB,GAAK1kB,UAAU,CAAEmtB,IAAF,CAAf,CAA0B,CACzBA,IAAI,CAAGA,IAAI,CAACrtB,IAAL,CAAW,KAAM,CAAN,CAAX,CAAP,CACA,CAGD4kB,IAAI,CAAGhjB,MAAM,CAAEyrB,IAAF,CAAQ,KAAM,CAAN,EAAUhiB,aAAlB,CAAN,CAAwChI,EAAxC,CAA4C,CAA5C,EAAgDY,KAAhD,CAAuD,IAAvD,CAAP,CAEA,GAAK,KAAM,CAAN,EAAUzC,UAAf,CAA4B,CAC3BojB,IAAI,CAACqJ,YAAL,CAAmB,KAAM,CAAN,CAAnB,EACA,CAEDrJ,IAAI,CAAC5hB,GAAL,CAAU,UAAW,CACpB,GAAIC,KAAI,CAAG,IAAX,CAEA,MAAQA,IAAI,CAACmgC,iBAAb,CAAiC,CAChCngC,IAAI,CAAGA,IAAI,CAACmgC,iBAAZ,CACA,CAED,MAAOngC,KAAP,CACA,CARD,EAQI8qB,MARJ,CAQY,IARZ,EASA,CAED,MAAO,KAAP,CACA,CA5BgB,CA8BjBsV,SAAS,CAAE,SAAUhW,IAAV,CAAiB,CAC3B,GAAKntB,UAAU,CAAEmtB,IAAF,CAAf,CAA0B,CACzB,MAAO,MAAKvqB,IAAL,CAAW,SAAU/B,CAAV,CAAc,CAC/Ba,MAAM,CAAE,IAAF,CAAN,CAAeyhC,SAAf,CAA0BhW,IAAI,CAACrtB,IAAL,CAAW,IAAX,CAAiBe,CAAjB,CAA1B,EACA,CAFM,CAAP,CAGA,CAED,MAAO,MAAK+B,IAAL,CAAW,UAAW,CAC5B,GAAI8U,KAAI,CAAGhW,MAAM,CAAE,IAAF,CAAjB,CACCwW,QAAQ,CAAGR,IAAI,CAACQ,QAAL,EADZ,CAGA,GAAKA,QAAQ,CAAC/V,MAAd,CAAuB,CACtB+V,QAAQ,CAAC+qB,OAAT,CAAkB9V,IAAlB,EAEA,CAHD,IAGO,CACNzV,IAAI,CAACmW,MAAL,CAAaV,IAAb,EACA,CACD,CAVM,CAAP,CAWA,CAhDgB,CAkDjBzI,IAAI,CAAE,SAAUyI,IAAV,CAAiB,CACtB,GAAIiW,eAAc,CAAGpjC,UAAU,CAAEmtB,IAAF,CAA/B,CAEA,MAAO,MAAKvqB,IAAL,CAAW,SAAU/B,CAAV,CAAc,CAC/Ba,MAAM,CAAE,IAAF,CAAN,CAAeuhC,OAAf,CAAwBG,cAAc,CAAGjW,IAAI,CAACrtB,IAAL,CAAW,IAAX,CAAiBe,CAAjB,CAAH,CAA0BssB,IAAhE,EACA,CAFM,CAAP,CAGA,CAxDgB,CA0DjBkW,MAAM,CAAE,SAAU1hC,QAAV,CAAqB,CAC5B,KAAKmQ,MAAL,CAAanQ,QAAb,EAAwB8V,GAAxB,CAA6B,MAA7B,EAAsC7U,IAAtC,CAA4C,UAAW,CACtDlB,MAAM,CAAE,IAAF,CAAN,CAAewsB,WAAf,CAA4B,KAAKzjB,UAAjC,EACA,CAFD,EAGA,MAAO,KAAP,CACA,CA/DgB,CAAlB,EAmEA/I,MAAM,CAACmO,IAAP,CAAYvH,OAAZ,CAAoBitB,MAApB,CAA6B,SAAUxyB,IAAV,CAAiB,CAC7C,MAAO,CAACrB,MAAM,CAACmO,IAAP,CAAYvH,OAAZ,CAAoBg7B,OAApB,CAA6BvgC,IAA7B,CAAR,CACA,CAFD,CAGArB,MAAM,CAACmO,IAAP,CAAYvH,OAAZ,CAAoBg7B,OAApB,CAA8B,SAAUvgC,IAAV,CAAiB,CAC9C,MAAO,CAAC,EAAGA,IAAI,CAAC8sB,WAAL,EAAoB9sB,IAAI,CAACwgC,YAAzB,EAAyCxgC,IAAI,CAACgwB,cAAL,GAAsB5wB,MAAlE,CAAR,CACA,CAFD,CAOAT,MAAM,CAACm9B,YAAP,CAAoB2E,GAApB,CAA0B,UAAW,CACpC,GAAI,CACH,MAAO,IAAI1kC,OAAM,CAAC2kC,cAAX,EAAP,CACA,CAAC,MAAQ/4B,CAAR,CAAY,CAAE,CAChB,CAJD,CAMA,GAAIg5B,iBAAgB,CAAG,CAGrB,EAAG,GAHkB,CAOrB,KAAM,GAPe,CAAvB,CASCC,YAAY,CAAGjiC,MAAM,CAACm9B,YAAP,CAAoB2E,GAApB,EAThB,CAWAzjC,OAAO,CAAC6jC,IAAR,CAAe,CAAC,CAACD,YAAF,EAAoB,mBAAqBA,aAAxD,CACA5jC,OAAO,CAAC+gC,IAAR,CAAe6C,YAAY,CAAG,CAAC,CAACA,YAAhC,CAEAjiC,MAAM,CAACm/B,aAAP,CAAsB,SAAUl9B,OAAV,CAAoB,CACzC,GAAId,SAAJ,CAAcghC,aAAd,CAGA,GAAK9jC,OAAO,CAAC6jC,IAAR,EAAgBD,YAAY,EAAI,CAAChgC,OAAO,CAAC0+B,WAA9C,CAA4D,CAC3D,MAAO,CACNO,IAAI,CAAE,SAAUH,OAAV,CAAmB9K,QAAnB,CAA8B,CACnC,GAAI92B,EAAJ,CACC2iC,GAAG,CAAG7/B,OAAO,CAAC6/B,GAAR,EADP,CAGAA,GAAG,CAACM,IAAJ,CACCngC,OAAO,CAACtD,IADT,CAECsD,OAAO,CAACu8B,GAFT,CAGCv8B,OAAO,CAAC28B,KAHT,CAIC38B,OAAO,CAACogC,QAJT,CAKCpgC,OAAO,CAAC4P,QALT,EASA,GAAK5P,OAAO,CAACqgC,SAAb,CAAyB,CACxB,IAAMnjC,CAAN,GAAW8C,QAAO,CAACqgC,SAAnB,CAA+B,CAC9BR,GAAG,CAAE3iC,CAAF,CAAH,CAAW8C,OAAO,CAACqgC,SAAR,CAAmBnjC,CAAnB,CAAX,CACA,CACD,CAGD,GAAK8C,OAAO,CAACw7B,QAAR,EAAoBqE,GAAG,CAACxB,gBAA7B,CAAgD,CAC/CwB,GAAG,CAACxB,gBAAJ,CAAsBr+B,OAAO,CAACw7B,QAA9B,EACA,CAOD,GAAK,CAACx7B,OAAO,CAAC0+B,WAAT,EAAwB,CAACI,OAAO,CAAE,kBAAF,CAArC,CAA8D,CAC7DA,OAAO,CAAE,kBAAF,CAAP,CAAgC,gBAAhC,CACA,CAGD,IAAM5hC,CAAN,GAAW4hC,QAAX,CAAqB,CACpBe,GAAG,CAACzB,gBAAJ,CAAsBlhC,CAAtB,CAAyB4hC,OAAO,CAAE5hC,CAAF,CAAhC,EACA,CAGDgC,QAAQ,CAAG,SAAUxC,IAAV,CAAiB,CAC3B,MAAO,WAAW,CACjB,GAAKwC,QAAL,CAAgB,CACfA,QAAQ,CAAGghC,aAAa,CAAGL,GAAG,CAACS,MAAJ,CAC1BT,GAAG,CAACU,OAAJ,CAAcV,GAAG,CAACW,OAAJ,CAAcX,GAAG,CAACY,SAAJ,CAC3BZ,GAAG,CAACa,kBAAJ,CAAyB,IAF3B,CAIA,GAAKhkC,IAAI,GAAK,OAAd,CAAwB,CACvBmjC,GAAG,CAACtB,KAAJ,GACA,CAFD,IAEO,IAAK7hC,IAAI,GAAK,OAAd,CAAwB,CAK9B,GAAK,MAAOmjC,IAAG,CAACvB,MAAX,GAAsB,QAA3B,CAAsC,CACrCtK,QAAQ,CAAE,CAAF,CAAK,OAAL,CAAR,CACA,CAFD,IAEO,CACNA,QAAQ,CAGP6L,GAAG,CAACvB,MAHG,CAIPuB,GAAG,CAACrB,UAJG,CAAR,CAMA,CACD,CAfM,IAeA,CACNxK,QAAQ,CACP+L,gBAAgB,CAAEF,GAAG,CAACvB,MAAN,CAAhB,EAAkCuB,GAAG,CAACvB,MAD/B,CAEPuB,GAAG,CAACrB,UAFG,CAOP,CAAEqB,GAAG,CAACc,YAAJ,EAAoB,MAAtB,IAAmC,MAAnC,EACA,MAAOd,IAAG,CAACe,YAAX,GAA4B,QAD5B,CAEC,CAAEC,MAAM,CAAEhB,GAAG,CAACjE,QAAd,CAFD,CAGC,CAAEt+B,IAAI,CAAEuiC,GAAG,CAACe,YAAZ,CAVM,CAWPf,GAAG,CAAC1B,qBAAJ,EAXO,CAAR,CAaA,CACD,CACD,CAvCD,CAwCA,CAzCD,CA4CA0B,GAAG,CAACS,MAAJ,CAAaphC,QAAQ,EAArB,CACAghC,aAAa,CAAGL,GAAG,CAACU,OAAJ,CAAcV,GAAG,CAACY,SAAJ,CAAgBvhC,QAAQ,CAAE,OAAF,CAAtD,CAKA,GAAK2gC,GAAG,CAACW,OAAJ,GAAgB9/B,SAArB,CAAiC,CAChCm/B,GAAG,CAACW,OAAJ,CAAcN,aAAd,CACA,CAFD,IAEO,CACNL,GAAG,CAACa,kBAAJ,CAAyB,UAAW,CAGnC,GAAKb,GAAG,CAACllB,UAAJ,GAAmB,CAAxB,CAA4B,CAM3Bxf,MAAM,CAACme,UAAP,CAAmB,UAAW,CAC7B,GAAKpa,QAAL,CAAgB,CACfghC,aAAa,GACb,CACD,CAJD,EAKA,CACD,CAfD,CAgBA,CAGDhhC,QAAQ,CAAGA,QAAQ,CAAE,OAAF,CAAnB,CAEA,GAAI,CAGH2gC,GAAG,CAACZ,IAAJ,CAAUj/B,OAAO,CAAC4+B,UAAR,EAAsB5+B,OAAO,CAACic,IAA9B,EAAsC,IAAhD,EACA,CAAC,MAAQlV,CAAR,CAAY,CAGb,GAAK7H,QAAL,CAAgB,CACf,KAAM6H,EAAN,CACA,CACD,CACD,CA7HK,CA+HNw3B,KAAK,CAAE,UAAW,CACjB,GAAKr/B,QAAL,CAAgB,CACfA,QAAQ,GACR,CACD,CAnIK,CAAP,CAqIA,CACD,CA3ID,EAiJAnB,MAAM,CAACk/B,aAAP,CAAsB,SAAU5D,CAAV,CAAc,CACnC,GAAKA,CAAC,CAACqF,WAAP,CAAqB,CACpBrF,CAAC,CAAC9kB,QAAF,CAAWnX,MAAX,CAAoB,KAApB,CACA,CACD,CAJD,EAOAW,MAAM,CAACg/B,SAAP,CAAkB,CACjBF,OAAO,CAAE,CACRz/B,MAAM,CAAE,4CACP,kDAFO,CADQ,CAKjBmX,QAAQ,CAAE,CACTnX,MAAM,CAAE,yBADC,CALO,CAQjBs+B,UAAU,CAAE,CACX,cAAe,SAAUp+B,IAAV,CAAiB,CAC/BS,MAAM,CAACuD,UAAP,CAAmBhE,IAAnB,EACA,MAAOA,KAAP,CACA,CAJU,CARK,CAAlB,EAiBAS,MAAM,CAACk/B,aAAP,CAAsB,QAAtB,CAAgC,SAAU5D,CAAV,CAAc,CAC7C,GAAKA,CAAC,CAAC9wB,KAAF,GAAY7H,SAAjB,CAA6B,CAC5B24B,CAAC,CAAC9wB,KAAF,CAAU,KAAV,CACA,CACD,GAAK8wB,CAAC,CAACqF,WAAP,CAAqB,CACpBrF,CAAC,CAAC38B,IAAF,CAAS,KAAT,CACA,CACD,CAPD,EAUAqB,MAAM,CAACm/B,aAAP,CAAsB,QAAtB,CAAgC,SAAU7D,CAAV,CAAc,CAG7C,GAAKA,CAAC,CAACqF,WAAF,EAAiBrF,CAAC,CAACyH,WAAxB,CAAsC,CACrC,GAAI1jC,OAAJ,CAAY8B,QAAZ,CACA,MAAO,CACN+/B,IAAI,CAAE,SAAUr5B,CAAV,CAAaouB,QAAb,CAAwB,CAC7B52B,MAAM,CAAGW,MAAM,CAAE,UAAF,CAAN,CACPqO,IADO,CACDitB,CAAC,CAACyH,WAAF,EAAiB,EADhB,EAEP5kB,IAFO,CAED,CAAE6kB,OAAO,CAAE1H,CAAC,CAAC2H,aAAb,CAA4BrkC,GAAG,CAAE08B,CAAC,CAACkD,GAAnC,CAFC,EAGPra,EAHO,CAGH,YAHG,CAGWhjB,QAAQ,CAAG,SAAU+hC,GAAV,CAAgB,CAC7C7jC,MAAM,CAACoZ,MAAP,GACAtX,QAAQ,CAAG,IAAX,CACA,GAAK+hC,GAAL,CAAW,CACVjN,QAAQ,CAAEiN,GAAG,CAACvkC,IAAJ,GAAa,OAAb,CAAuB,GAAvB,CAA6B,GAA/B,CAAoCukC,GAAG,CAACvkC,IAAxC,CAAR,CACA,CACD,CATO,CAAT,CAYA1B,QAAQ,CAACyC,IAAT,CAAcC,WAAd,CAA2BN,MAAM,CAAE,CAAF,CAAjC,EACA,CAfK,CAgBNmhC,KAAK,CAAE,UAAW,CACjB,GAAKr/B,QAAL,CAAgB,CACfA,QAAQ,GACR,CACD,CApBK,CAAP,CAsBA,CACD,CA5BD,EAiCA,GAAIgiC,aAAY,CAAG,EAAnB,CACCC,MAAM,CAAG,mBADV,CAIApjC,MAAM,CAACg/B,SAAP,CAAkB,CACjBqE,KAAK,CAAE,UADU,CAEjBC,aAAa,CAAE,UAAW,CACzB,GAAIniC,SAAQ,CAAGgiC,YAAY,CAAC98B,GAAb,IAAwBrG,MAAM,CAAC4C,OAAP,CAAiB,GAAjB,CAAyB/D,KAAK,EAArE,CACA,KAAMsC,QAAN,EAAmB,IAAnB,CACA,MAAOA,SAAP,CACA,CANgB,CAAlB,EAUAnB,MAAM,CAACk/B,aAAP,CAAsB,YAAtB,CAAoC,SAAU5D,CAAV,CAAaiI,gBAAb,CAA+B5G,KAA/B,CAAuC,CAE1E,GAAI6G,aAAJ,CAAkBC,WAAlB,CAA+BC,iBAA/B,CACCC,QAAQ,CAAGrI,CAAC,CAAC+H,KAAF,GAAY,KAAZ,GAAuBD,MAAM,CAACp5B,IAAP,CAAasxB,CAAC,CAACkD,GAAf,EACjC,KADiC,CAEjC,MAAOlD,EAAC,CAACpd,IAAT,GAAkB,QAAlB,EACC,CAAEod,CAAC,CAACuD,WAAF,EAAiB,EAAnB,EACEhhC,OADF,CACW,mCADX,IACqD,CAFtD,EAGCulC,MAAM,CAACp5B,IAAP,CAAasxB,CAAC,CAACpd,IAAf,CAHD,EAG0B,MALhB,CADZ,CAUA,GAAKylB,QAAQ,EAAIrI,CAAC,CAACmB,SAAF,CAAa,CAAb,IAAqB,OAAtC,CAAgD,CAG/C+G,YAAY,CAAGlI,CAAC,CAACgI,aAAF,CAAkBhlC,UAAU,CAAEg9B,CAAC,CAACgI,aAAJ,CAAV,CAChChI,CAAC,CAACgI,aAAF,EADgC,CAEhChI,CAAC,CAACgI,aAFH,CAKA,GAAKK,QAAL,CAAgB,CACfrI,CAAC,CAAEqI,QAAF,CAAD,CAAgBrI,CAAC,CAAEqI,QAAF,CAAD,CAAc5gC,OAAd,CAAuBqgC,MAAvB,CAA+B,KAAOI,YAAtC,CAAhB,CACA,CAFD,IAEO,IAAKlI,CAAC,CAAC+H,KAAF,GAAY,KAAjB,CAAyB,CAC/B/H,CAAC,CAACkD,GAAF,EAAS,CAAE7D,MAAM,CAAC3wB,IAAP,CAAasxB,CAAC,CAACkD,GAAf,EAAuB,GAAvB,CAA6B,GAA/B,EAAuClD,CAAC,CAAC+H,KAAzC,CAAiD,GAAjD,CAAuDG,YAAhE,CACA,CAGDlI,CAAC,CAACqC,UAAF,CAAc,aAAd,EAAgC,UAAW,CAC1C,GAAK,CAAC+F,iBAAN,CAA0B,CACzB1jC,MAAM,CAACiD,KAAP,CAAcugC,YAAY,CAAG,iBAA7B,EACA,CACD,MAAOE,kBAAiB,CAAE,CAAF,CAAxB,CACA,CALD,CAQApI,CAAC,CAACmB,SAAF,CAAa,CAAb,EAAmB,MAAnB,CAGAgH,WAAW,CAAGrmC,MAAM,CAAEomC,YAAF,CAApB,CACApmC,MAAM,CAAEomC,YAAF,CAAN,CAAyB,UAAW,CACnCE,iBAAiB,CAAGniC,SAApB,CACA,CAFD,CAKAo7B,KAAK,CAAC7iB,MAAN,CAAc,UAAW,CAGxB,GAAK2pB,WAAW,GAAK9gC,SAArB,CAAiC,CAChC3C,MAAM,CAAE5C,MAAF,CAAN,CAAiBs7B,UAAjB,CAA6B8K,YAA7B,EAGA,CAJD,IAIO,CACNpmC,MAAM,CAAEomC,YAAF,CAAN,CAAyBC,WAAzB,CACA,CAGD,GAAKnI,CAAC,CAAEkI,YAAF,CAAN,CAAyB,CAGxBlI,CAAC,CAACgI,aAAF,CAAkBC,gBAAgB,CAACD,aAAnC,CAGAH,YAAY,CAACvlC,IAAb,CAAmB4lC,YAAnB,EACA,CAGD,GAAKE,iBAAiB,EAAIplC,UAAU,CAAEmlC,WAAF,CAApC,CAAsD,CACrDA,WAAW,CAAEC,iBAAiB,CAAE,CAAF,CAAnB,CAAX,CACA,CAEDA,iBAAiB,CAAGD,WAAW,CAAG9gC,SAAlC,CACA,CA3BD,EA8BA,MAAO,QAAP,CACA,CACD,CA5ED,EAsFAtE,OAAO,CAACulC,kBAAR,CAA+B,UAAW,CACzC,GAAIziB,KAAI,CAAGlkB,QAAQ,CAAC4mC,cAAT,CAAwBD,kBAAxB,CAA4C,EAA5C,EAAiDziB,IAA5D,CACAA,IAAI,CAACjU,SAAL,CAAiB,4BAAjB,CACA,MAAOiU,KAAI,CAACpY,UAAL,CAAgBtI,MAAhB,GAA2B,CAAlC,CACA,CAJ4B,EAA7B,CAWAT,MAAM,CAACmW,SAAP,CAAmB,SAAU+H,IAAV,CAAgBhe,OAAhB,CAAyB4jC,WAAzB,CAAuC,CACzD,GAAK,MAAO5lB,KAAP,GAAgB,QAArB,CAAgC,CAC/B,MAAO,EAAP,CACA,CACD,GAAK,MAAOhe,QAAP,GAAmB,SAAxB,CAAoC,CACnC4jC,WAAW,CAAG5jC,OAAd,CACAA,OAAO,CAAG,KAAV,CACA,CAED,GAAIsS,KAAJ,CAAUuxB,MAAV,CAAkBlhB,OAAlB,CAEA,GAAK,CAAC3iB,OAAN,CAAgB,CAIf,GAAK7B,OAAO,CAACulC,kBAAb,CAAkC,CACjC1jC,OAAO,CAAGjD,QAAQ,CAAC4mC,cAAT,CAAwBD,kBAAxB,CAA4C,EAA5C,CAAV,CAKApxB,IAAI,CAAGtS,OAAO,CAACZ,aAAR,CAAuB,MAAvB,CAAP,CACAkT,IAAI,CAACnB,IAAL,CAAYpU,QAAQ,CAACiU,QAAT,CAAkBG,IAA9B,CACAnR,OAAO,CAACR,IAAR,CAAaC,WAAb,CAA0B6S,IAA1B,EACA,CATD,IASO,CACNtS,OAAO,CAAGjD,QAAV,CACA,CACD,CAED8mC,MAAM,CAAGnuB,UAAU,CAAClM,IAAX,CAAiBwU,IAAjB,CAAT,CACA2E,OAAO,CAAG,CAACihB,WAAD,EAAgB,EAA1B,CAGA,GAAKC,MAAL,CAAc,CACb,MAAO,CAAE7jC,OAAO,CAACZ,aAAR,CAAuBykC,MAAM,CAAE,CAAF,CAA7B,CAAF,CAAP,CACA,CAEDA,MAAM,CAAGnhB,aAAa,CAAE,CAAE1E,IAAF,CAAF,CAAYhe,OAAZ,CAAqB2iB,OAArB,CAAtB,CAEA,GAAKA,OAAO,EAAIA,OAAO,CAACpiB,MAAxB,CAAiC,CAChCT,MAAM,CAAE6iB,OAAF,CAAN,CAAkBpK,MAAlB,GACA,CAED,MAAOzY,OAAM,CAACgB,KAAP,CAAc,EAAd,CAAkB+iC,MAAM,CAACh7B,UAAzB,CAAP,CACA,CA5CD,CAkDA/I,MAAM,CAACG,EAAP,CAAU+mB,IAAV,CAAiB,SAAUsX,GAAV,CAAewF,MAAf,CAAuB7iC,QAAvB,CAAkC,CAClD,GAAIlB,SAAJ,CAActB,IAAd,CAAoBk/B,QAApB,CACC7nB,IAAI,CAAG,IADR,CAECwO,GAAG,CAAGga,GAAG,CAAC3gC,OAAJ,CAAa,GAAb,CAFP,CAIA,GAAK2mB,GAAG,CAAG,CAAC,CAAZ,CAAgB,CACfvkB,QAAQ,CAAG64B,gBAAgB,CAAE0F,GAAG,CAAC9gC,KAAJ,CAAW8mB,GAAX,CAAF,CAA3B,CACAga,GAAG,CAAGA,GAAG,CAAC9gC,KAAJ,CAAW,CAAX,CAAc8mB,GAAd,CAAN,CACA,CAGD,GAAKlmB,UAAU,CAAE0lC,MAAF,CAAf,CAA4B,CAG3B7iC,QAAQ,CAAG6iC,MAAX,CACAA,MAAM,CAAGrhC,SAAT,CAGA,CAPD,IAOO,IAAKqhC,MAAM,EAAI,MAAOA,OAAP,GAAkB,QAAjC,CAA4C,CAClDrlC,IAAI,CAAG,MAAP,CACA,CAGD,GAAKqX,IAAI,CAACvV,MAAL,CAAc,CAAnB,CAAuB,CACtBT,MAAM,CAACo/B,IAAP,CAAa,CACZZ,GAAG,CAAEA,GADO,CAMZ7/B,IAAI,CAAEA,IAAI,EAAI,KANF,CAOZ69B,QAAQ,CAAE,MAPE,CAQZte,IAAI,CAAE8lB,MARM,CAAb,EASIp+B,IATJ,CASU,SAAUi9B,YAAV,CAAyB,CAGlChF,QAAQ,CAAGt8B,SAAX,CAEAyU,IAAI,CAACyV,IAAL,CAAWxrB,QAAQ,CAIlBD,MAAM,CAAE,OAAF,CAAN,CAAkBmsB,MAAlB,CAA0BnsB,MAAM,CAACmW,SAAP,CAAkB0sB,YAAlB,CAA1B,EAA6D/1B,IAA7D,CAAmE7M,QAAnE,CAJkB,CAOlB4iC,YAPD,EAYA,CA1BD,EA0BI/oB,MA1BJ,CA0BY3Y,QAAQ,EAAI,SAAUw7B,KAAV,CAAiB4D,MAAjB,CAA0B,CACjDvqB,IAAI,CAAC9U,IAAL,CAAW,UAAW,CACrBC,QAAQ,CAACG,KAAT,CAAgB,IAAhB,CAAsBu8B,QAAQ,EAAI,CAAElB,KAAK,CAACkG,YAAR,CAAsBtC,MAAtB,CAA8B5D,KAA9B,CAAlC,EACA,CAFD,EAGA,CA9BD,EA+BA,CAED,MAAO,KAAP,CACA,CA1DD,CAgEA38B,MAAM,CAACkB,IAAP,CAAa,CACZ,WADY,CAEZ,UAFY,CAGZ,cAHY,CAIZ,WAJY,CAKZ,aALY,CAMZ,UANY,CAAb,CAOG,SAAU/B,CAAV,CAAaR,IAAb,CAAoB,CACtBqB,MAAM,CAACG,EAAP,CAAWxB,IAAX,EAAoB,SAAUwB,EAAV,CAAe,CAClC,MAAO,MAAKgkB,EAAL,CAASxlB,IAAT,CAAewB,EAAf,CAAP,CACA,CAFD,CAGA,CAXD,EAgBAH,MAAM,CAACmO,IAAP,CAAYvH,OAAZ,CAAoBq9B,QAApB,CAA+B,SAAU5iC,IAAV,CAAiB,CAC/C,MAAOrB,OAAM,CAAC8D,IAAP,CAAa9D,MAAM,CAAC+2B,MAApB,CAA4B,SAAU52B,EAAV,CAAe,CACjD,MAAOkB,KAAI,GAAKlB,EAAE,CAACkB,IAAnB,CACA,CAFM,EAEHZ,MAFJ,CAGA,CAJD,CASAT,MAAM,CAACkkC,MAAP,CAAgB,CACfC,SAAS,CAAE,SAAU9iC,IAAV,CAAgBY,OAAhB,CAAyB9C,CAAzB,CAA6B,CACvC,GAAIilC,YAAJ,CAAiBC,OAAjB,CAA0BC,SAA1B,CAAqCC,MAArC,CAA6CC,SAA7C,CAAwDC,UAAxD,CAAoEC,iBAApE,CACCzW,QAAQ,CAAGjuB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,UAAlB,CADZ,CAECsjC,OAAO,CAAG3kC,MAAM,CAAEqB,IAAF,CAFjB,CAGCwmB,KAAK,CAAG,EAHT,CAMA,GAAKoG,QAAQ,GAAK,QAAlB,CAA6B,CAC5B5sB,IAAI,CAAC4e,KAAL,CAAWgO,QAAX,CAAsB,UAAtB,CACA,CAEDuW,SAAS,CAAGG,OAAO,CAACT,MAAR,EAAZ,CACAI,SAAS,CAAGtkC,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,KAAlB,CAAZ,CACAojC,UAAU,CAAGzkC,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,MAAlB,CAAb,CACAqjC,iBAAiB,CAAG,CAAEzW,QAAQ,GAAK,UAAb,EAA2BA,QAAQ,GAAK,OAA1C,GACnB,CAAEqW,SAAS,CAAGG,UAAd,EAA2B5mC,OAA3B,CAAoC,MAApC,EAA+C,CAAC,CADjD,CAKA,GAAK6mC,iBAAL,CAAyB,CACxBN,WAAW,CAAGO,OAAO,CAAC1W,QAAR,EAAd,CACAsW,MAAM,CAAGH,WAAW,CAAC/3B,GAArB,CACAg4B,OAAO,CAAGD,WAAW,CAACtS,IAAtB,CAEA,CALD,IAKO,CACNyS,MAAM,CAAGjW,UAAU,CAAEgW,SAAF,CAAV,EAA2B,CAApC,CACAD,OAAO,CAAG/V,UAAU,CAAEmW,UAAF,CAAV,EAA4B,CAAtC,CACA,CAED,GAAKnmC,UAAU,CAAE2D,OAAF,CAAf,CAA6B,CAG5BA,OAAO,CAAGA,OAAO,CAAC7D,IAAR,CAAciD,IAAd,CAAoBlC,CAApB,CAAuBa,MAAM,CAACgC,MAAP,CAAe,EAAf,CAAmBwiC,SAAnB,CAAvB,CAAV,CACA,CAED,GAAKviC,OAAO,CAACoK,GAAR,EAAe,IAApB,CAA2B,CAC1Bwb,KAAK,CAACxb,GAAN,CAAcpK,OAAO,CAACoK,GAAR,CAAcm4B,SAAS,CAACn4B,GAA1B,CAAkCk4B,MAA9C,CACA,CACD,GAAKtiC,OAAO,CAAC6vB,IAAR,EAAgB,IAArB,CAA4B,CAC3BjK,KAAK,CAACiK,IAAN,CAAe7vB,OAAO,CAAC6vB,IAAR,CAAe0S,SAAS,CAAC1S,IAA3B,CAAoCuS,OAAjD,CACA,CAED,GAAK,SAAWpiC,QAAhB,CAA0B,CACzBA,OAAO,CAAC2iC,KAAR,CAAcxmC,IAAd,CAAoBiD,IAApB,CAA0BwmB,KAA1B,EAEA,CAHD,IAGO,CACN8c,OAAO,CAACxkB,GAAR,CAAa0H,KAAb,EACA,CACD,CAjDc,CAAhB,CAoDA7nB,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CAGjBkiC,MAAM,CAAE,SAAUjiC,OAAV,CAAoB,CAG3B,GAAKV,SAAS,CAACd,MAAf,CAAwB,CACvB,MAAOwB,QAAO,GAAKU,SAAZ,CACN,IADM,CAEN,KAAKzB,IAAL,CAAW,SAAU/B,CAAV,CAAc,CACxBa,MAAM,CAACkkC,MAAP,CAAcC,SAAd,CAAyB,IAAzB,CAA+BliC,OAA/B,CAAwC9C,CAAxC,EACA,CAFD,CAFD,CAKA,CAED,GAAI0lC,KAAJ,CAAUC,GAAV,CACCzjC,IAAI,CAAG,KAAM,CAAN,CADR,CAGA,GAAK,CAACA,IAAN,CAAa,CACZ,OACA,CAMD,GAAK,CAACA,IAAI,CAACgwB,cAAL,GAAsB5wB,MAA5B,CAAqC,CACpC,MAAO,CAAE4L,GAAG,CAAE,CAAP,CAAUylB,IAAI,CAAE,CAAhB,CAAP,CACA,CAGD+S,IAAI,CAAGxjC,IAAI,CAACuwB,qBAAL,EAAP,CACAkT,GAAG,CAAGzjC,IAAI,CAACoI,aAAL,CAAmB2C,WAAzB,CACA,MAAO,CACNC,GAAG,CAAEw4B,IAAI,CAACx4B,GAAL,CAAWy4B,GAAG,CAACC,WADd,CAENjT,IAAI,CAAE+S,IAAI,CAAC/S,IAAL,CAAYgT,GAAG,CAACE,WAFhB,CAAP,CAIA,CApCgB,CAwCjB/W,QAAQ,CAAE,UAAW,CACpB,GAAK,CAAC,KAAM,CAAN,CAAN,CAAkB,CACjB,OACA,CAED,GAAIgX,aAAJ,CAAkBf,MAAlB,CAA0BhlC,GAA1B,CACCmC,IAAI,CAAG,KAAM,CAAN,CADR,CAEC6jC,YAAY,CAAG,CAAE74B,GAAG,CAAE,CAAP,CAAUylB,IAAI,CAAE,CAAhB,CAFhB,CAKA,GAAK9xB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,UAAlB,IAAmC,OAAxC,CAAkD,CAGjD6iC,MAAM,CAAG7iC,IAAI,CAACuwB,qBAAL,EAAT,CAEA,CALD,IAKO,CACNsS,MAAM,CAAG,KAAKA,MAAL,EAAT,CAIAhlC,GAAG,CAAGmC,IAAI,CAACoI,aAAX,CACAw7B,YAAY,CAAG5jC,IAAI,CAAC4jC,YAAL,EAAqB/lC,GAAG,CAAC+M,eAAxC,CACA,MAAQg5B,YAAY,GACjBA,YAAY,GAAK/lC,GAAG,CAACiiB,IAArB,EAA6B8jB,YAAY,GAAK/lC,GAAG,CAAC+M,eADjC,CAAZ,EAEPjM,MAAM,CAACmgB,GAAP,CAAY8kB,YAAZ,CAA0B,UAA1B,IAA2C,QAF5C,CAEuD,CAEtDA,YAAY,CAAGA,YAAY,CAACrlC,UAA5B,CACA,CACD,GAAKqlC,YAAY,EAAIA,YAAY,GAAK5jC,IAAjC,EAAyC4jC,YAAY,CAACzmC,QAAb,GAA0B,CAAxE,CAA4E,CAG3E0mC,YAAY,CAAGllC,MAAM,CAAEilC,YAAF,CAAN,CAAuBf,MAAvB,EAAf,CACAgB,YAAY,CAAC74B,GAAb,EAAoBrM,MAAM,CAACmgB,GAAP,CAAY8kB,YAAZ,CAA0B,gBAA1B,CAA4C,IAA5C,CAApB,CACAC,YAAY,CAACpT,IAAb,EAAqB9xB,MAAM,CAACmgB,GAAP,CAAY8kB,YAAZ,CAA0B,iBAA1B,CAA6C,IAA7C,CAArB,CACA,CACD,CAGD,MAAO,CACN54B,GAAG,CAAE63B,MAAM,CAAC73B,GAAP,CAAa64B,YAAY,CAAC74B,GAA1B,CAAgCrM,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,WAAlB,CAA+B,IAA/B,CAD/B,CAENywB,IAAI,CAAEoS,MAAM,CAACpS,IAAP,CAAcoT,YAAY,CAACpT,IAA3B,CAAkC9xB,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB,YAAlB,CAAgC,IAAhC,CAFlC,CAAP,CAIA,CAlFgB,CA8FjB4jC,YAAY,CAAE,UAAW,CACxB,MAAO,MAAK7jC,GAAL,CAAU,UAAW,CAC3B,GAAI6jC,aAAY,CAAG,KAAKA,YAAxB,CAEA,MAAQA,YAAY,EAAIjlC,MAAM,CAACmgB,GAAP,CAAY8kB,YAAZ,CAA0B,UAA1B,IAA2C,QAAnE,CAA8E,CAC7EA,YAAY,CAAGA,YAAY,CAACA,YAA5B,CACA,CAED,MAAOA,aAAY,EAAIh5B,eAAvB,CACA,CARM,CAAP,CASA,CAxGgB,CAAlB,EA4GAjM,MAAM,CAACkB,IAAP,CAAa,CAAEgyB,UAAU,CAAE,aAAd,CAA6BD,SAAS,CAAE,aAAxC,CAAb,CAAsE,SAAU3Z,MAAV,CAAkB6E,IAAlB,CAAyB,CAC9F,GAAI9R,IAAG,CAAG,gBAAkB8R,IAA5B,CAEAne,MAAM,CAACG,EAAP,CAAWmZ,MAAX,EAAsB,SAAUla,GAAV,CAAgB,CACrC,MAAO0d,OAAM,CAAE,IAAF,CAAQ,SAAUzb,IAAV,CAAgBiY,MAAhB,CAAwBla,GAAxB,CAA8B,CAGlD,GAAI0lC,IAAJ,CACA,GAAKrmC,QAAQ,CAAE4C,IAAF,CAAb,CAAwB,CACvByjC,GAAG,CAAGzjC,IAAN,CACA,CAFD,IAEO,IAAKA,IAAI,CAAC7C,QAAL,GAAkB,CAAvB,CAA2B,CACjCsmC,GAAG,CAAGzjC,IAAI,CAAC+K,WAAX,CACA,CAED,GAAKhN,GAAG,GAAKuD,SAAb,CAAyB,CACxB,MAAOmiC,IAAG,CAAGA,GAAG,CAAE3mB,IAAF,CAAN,CAAiB9c,IAAI,CAAEiY,MAAF,CAA/B,CACA,CAED,GAAKwrB,GAAL,CAAW,CACVA,GAAG,CAACK,QAAJ,CACC,CAAC94B,GAAD,CAAOjN,GAAP,CAAa0lC,GAAG,CAACE,WADlB,CAEC34B,GAAG,CAAGjN,GAAH,CAAS0lC,GAAG,CAACC,WAFjB,EAKA,CAND,IAMO,CACN1jC,IAAI,CAAEiY,MAAF,CAAJ,CAAiBla,GAAjB,CACA,CACD,CAvBY,CAuBVka,MAvBU,CAuBFla,GAvBE,CAuBGmC,SAAS,CAACd,MAvBb,CAAb,CAwBA,CAzBD,CA0BA,CA7BD,EAqCAT,MAAM,CAACkB,IAAP,CAAa,CAAE,KAAF,CAAS,MAAT,CAAb,CAAgC,SAAU/B,CAAV,CAAagf,IAAb,CAAoB,CACnDne,MAAM,CAACsxB,QAAP,CAAiBnT,IAAjB,EAA0BgR,YAAY,CAAE9wB,OAAO,CAACswB,aAAV,CACrC,SAAUttB,IAAV,CAAgB0tB,QAAhB,CAA2B,CAC1B,GAAKA,QAAL,CAAgB,CACfA,QAAQ,CAAGD,MAAM,CAAEztB,IAAF,CAAQ8c,IAAR,CAAjB,CAGA,MAAO6O,UAAS,CAAChjB,IAAV,CAAgB+kB,QAAhB,EACN/uB,MAAM,CAAEqB,IAAF,CAAN,CAAe4sB,QAAf,GAA2B9P,IAA3B,EAAoC,IAD9B,CAEN4Q,QAFD,CAGA,CACD,CAVoC,CAAtC,CAYA,CAbD,EAiBA/uB,MAAM,CAACkB,IAAP,CAAa,CAAEkkC,MAAM,CAAE,QAAV,CAAoBC,KAAK,CAAE,OAA3B,CAAb,CAAmD,SAAUnjC,IAAV,CAAgBvD,IAAhB,CAAuB,CACzEqB,MAAM,CAACkB,IAAP,CAAa,CAAE8wB,OAAO,CAAE,QAAU9vB,IAArB,CAA2BuV,OAAO,CAAE9Y,IAApC,CAA0C,GAAI,QAAUuD,IAAxD,CAAb,CACC,SAAUojC,YAAV,CAAwBC,QAAxB,CAAmC,CAGnCvlC,MAAM,CAACG,EAAP,CAAWolC,QAAX,EAAwB,SAAUxT,MAAV,CAAkB5tB,KAAlB,CAA0B,CACjD,GAAI4Y,UAAS,CAAGxb,SAAS,CAACd,MAAV,GAAsB6kC,YAAY,EAAI,MAAOvT,OAAP,GAAkB,SAAxD,CAAhB,CACCjB,KAAK,CAAGwU,YAAY,GAAMvT,MAAM,GAAK,IAAX,EAAmB5tB,KAAK,GAAK,IAA7B,CAAoC,QAApC,CAA+C,QAArD,CADrB,CAGA,MAAO2Y,OAAM,CAAE,IAAF,CAAQ,SAAUzb,IAAV,CAAgB1C,IAAhB,CAAsBwF,KAAtB,CAA8B,CAClD,GAAIjF,IAAJ,CAEA,GAAKT,QAAQ,CAAE4C,IAAF,CAAb,CAAwB,CAGvB,MAAOkkC,SAAQ,CAAC1nC,OAAT,CAAkB,OAAlB,IAAgC,CAAhC,CACNwD,IAAI,CAAE,QAAUa,IAAZ,CADE,CAENb,IAAI,CAACpE,QAAL,CAAcgP,eAAd,CAA+B,SAAW/J,IAA1C,CAFD,CAGA,CAGD,GAAKb,IAAI,CAAC7C,QAAL,GAAkB,CAAvB,CAA2B,CAC1BU,GAAG,CAAGmC,IAAI,CAAC4K,eAAX,CAIA,MAAOpJ,KAAI,CAAC0tB,GAAL,CACNlvB,IAAI,CAAC8f,IAAL,CAAW,SAAWjf,IAAtB,CADM,CACwBhD,GAAG,CAAE,SAAWgD,IAAb,CAD3B,CAENb,IAAI,CAAC8f,IAAL,CAAW,SAAWjf,IAAtB,CAFM,CAEwBhD,GAAG,CAAE,SAAWgD,IAAb,CAF3B,CAGNhD,GAAG,CAAE,SAAWgD,IAAb,CAHG,CAAP,CAKA,CAED,MAAOiC,MAAK,GAAKxB,SAAV,CAGN3C,MAAM,CAACmgB,GAAP,CAAY9e,IAAZ,CAAkB1C,IAAlB,CAAwBmyB,KAAxB,CAHM,CAMN9wB,MAAM,CAACigB,KAAP,CAAc5e,IAAd,CAAoB1C,IAApB,CAA0BwF,KAA1B,CAAiC2sB,KAAjC,CAND,CAOA,CA/BY,CA+BVnyB,IA/BU,CA+BJoe,SAAS,CAAGgV,MAAH,CAAYpvB,SA/BjB,CA+B4Boa,SA/B5B,CAAb,CAgCA,CApCD,CAqCA,CAzCD,EA0CA,CA3CD,EA8CA/c,MAAM,CAACkB,IAAP,CAAa,CAAE,4DACd,uEADc,CAEd,yDAFY,EAEgDqD,KAFhD,CAEuD,GAFvD,CAAb,CAGC,SAAUpF,CAAV,CAAa+C,IAAb,CAAoB,CAGpBlC,MAAM,CAACG,EAAP,CAAW+B,IAAX,EAAoB,SAAUgc,IAAV,CAAgB/d,EAAhB,CAAqB,CACxC,MAAOoB,UAAS,CAACd,MAAV,CAAmB,CAAnB,CACN,KAAK0jB,EAAL,CAASjiB,IAAT,CAAe,IAAf,CAAqBgc,IAArB,CAA2B/d,EAA3B,CADM,CAEN,KAAKmnB,OAAL,CAAcplB,IAAd,CAFD,CAGA,CAJD,CAKA,CAXD,EAaAlC,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CACjBwjC,KAAK,CAAE,SAAUC,MAAV,CAAkBC,KAAlB,CAA0B,CAChC,MAAO,MAAKzb,UAAL,CAAiBwb,MAAjB,EAA0Bvb,UAA1B,CAAsCwb,KAAK,EAAID,MAA/C,CAAP,CACA,CAHgB,CAAlB,EASAzlC,MAAM,CAACG,EAAP,CAAU6B,MAAV,CAAkB,CAEjBg0B,IAAI,CAAE,SAAU5R,KAAV,CAAiBlG,IAAjB,CAAuB/d,EAAvB,CAA4B,CACjC,MAAO,MAAKgkB,EAAL,CAASC,KAAT,CAAgB,IAAhB,CAAsBlG,IAAtB,CAA4B/d,EAA5B,CAAP,CACA,CAJgB,CAKjBwlC,MAAM,CAAE,SAAUvhB,KAAV,CAAiBjkB,EAAjB,CAAsB,CAC7B,MAAO,MAAKqkB,GAAL,CAAUJ,KAAV,CAAiB,IAAjB,CAAuBjkB,EAAvB,CAAP,CACA,CAPgB,CASjBylC,QAAQ,CAAE,SAAU3lC,QAAV,CAAoBmkB,KAApB,CAA2BlG,IAA3B,CAAiC/d,EAAjC,CAAsC,CAC/C,MAAO,MAAKgkB,EAAL,CAASC,KAAT,CAAgBnkB,QAAhB,CAA0Bie,IAA1B,CAAgC/d,EAAhC,CAAP,CACA,CAXgB,CAYjB0lC,UAAU,CAAE,SAAU5lC,QAAV,CAAoBmkB,KAApB,CAA2BjkB,EAA3B,CAAgC,CAG3C,MAAOoB,UAAS,CAACd,MAAV,GAAqB,CAArB,CACN,KAAK+jB,GAAL,CAAUvkB,QAAV,CAAoB,IAApB,CADM,CAEN,KAAKukB,GAAL,CAAUJ,KAAV,CAAiBnkB,QAAQ,EAAI,IAA7B,CAAmCE,EAAnC,CAFD,CAGA,CAlBgB,CAAlB,EAyBAH,MAAM,CAAC8lC,KAAP,CAAe,SAAU3lC,EAAV,CAAcD,OAAd,CAAwB,CACtC,GAAI+M,IAAJ,CAASwD,IAAT,CAAeq1B,KAAf,CAEA,GAAK,MAAO5lC,QAAP,GAAmB,QAAxB,CAAmC,CAClC+M,GAAG,CAAG9M,EAAE,CAAED,OAAF,CAAR,CACAA,OAAO,CAAGC,EAAV,CACAA,EAAE,CAAG8M,GAAL,CACA,CAID,GAAK,CAAC3O,UAAU,CAAE6B,EAAF,CAAhB,CAAyB,CACxB,MAAOwC,UAAP,CACA,CAGD8N,IAAI,CAAG/S,KAAK,CAACU,IAAN,CAAYmD,SAAZ,CAAuB,CAAvB,CAAP,CACAukC,KAAK,CAAG,UAAW,CAClB,MAAO3lC,GAAE,CAACmB,KAAH,CAAUpB,OAAO,EAAI,IAArB,CAA2BuQ,IAAI,CAAC9S,MAAL,CAAaD,KAAK,CAACU,IAAN,CAAYmD,SAAZ,CAAb,CAA3B,CAAP,CACA,CAFD,CAKAukC,KAAK,CAAC1hC,IAAN,CAAajE,EAAE,CAACiE,IAAH,CAAUjE,EAAE,CAACiE,IAAH,EAAWpE,MAAM,CAACoE,IAAP,EAAlC,CAEA,MAAO0hC,MAAP,CACA,CAzBD,CA2BA9lC,MAAM,CAAC+lC,SAAP,CAAmB,SAAUC,IAAV,CAAiB,CACnC,GAAKA,IAAL,CAAY,CACXhmC,MAAM,CAACwc,SAAP,GACA,CAFD,IAEO,CACNxc,MAAM,CAACoW,KAAP,CAAc,IAAd,EACA,CACD,CAND,CAOApW,MAAM,CAAC0C,OAAP,CAAiBD,KAAK,CAACC,OAAvB,CACA1C,MAAM,CAACimC,SAAP,CAAmBvnB,IAAI,CAACC,KAAxB,CACA3e,MAAM,CAAC4I,QAAP,CAAkBA,QAAlB,CACA5I,MAAM,CAAC1B,UAAP,CAAoBA,UAApB,CACA0B,MAAM,CAACvB,QAAP,CAAkBA,QAAlB,CACAuB,MAAM,CAACyd,SAAP,CAAmBA,SAAnB,CACAzd,MAAM,CAACrB,IAAP,CAAcmB,MAAd,CAEAE,MAAM,CAACkoB,GAAP,CAAaziB,IAAI,CAACyiB,GAAlB,CAEAloB,MAAM,CAACkmC,SAAP,CAAmB,SAAU3nC,GAAV,CAAgB,CAKlC,GAAII,KAAI,CAAGqB,MAAM,CAACrB,IAAP,CAAaJ,GAAb,CAAX,CACA,MAAO,CAAEI,IAAI,GAAK,QAAT,EAAqBA,IAAI,GAAK,QAAhC,GAKN,CAACwnC,KAAK,CAAE5nC,GAAG,CAAG+vB,UAAU,CAAE/vB,GAAF,CAAlB,CALP,CAMA,CAZD,CA8BA,GAAK,IAAL,CAAkD,CACjD6nC,iCAAkB,EAAZ,mCAAgB,UAAW,CAChC,MAAOpmC,OAAP,CACA,CAFK;AAAA,oGAAN,CAGA,CAKD,GAGCqmC,QAAO,CAAGjpC,MAAM,CAAC4C,MAHlB,CAMCsmC,EAAE,CAAGlpC,MAAM,CAACmpC,CANb,CAQAvmC,MAAM,CAACwmC,UAAP,CAAoB,SAAUjkC,IAAV,CAAiB,CACpC,GAAKnF,MAAM,CAACmpC,CAAP,GAAavmC,MAAlB,CAA2B,CAC1B5C,MAAM,CAACmpC,CAAP,CAAWD,EAAX,CACA,CAED,GAAK/jC,IAAI,EAAInF,MAAM,CAAC4C,MAAP,GAAkBA,MAA/B,CAAwC,CACvC5C,MAAM,CAAC4C,MAAP,CAAgBqmC,OAAhB,CACA,CAED,MAAOrmC,OAAP,CACA,CAVD,CAeA,GAAK,CAAC3C,QAAN,CAAiB,CAChBD,MAAM,CAAC4C,MAAP,CAAgB5C,MAAM,CAACmpC,CAAP,CAAWvmC,MAA3B,CACA,CAKD,MAAOA,OAAP,CACC,CAx1UD,E;;;;;;ACbA,GAAIssB,OAAM,CAAGma,mBAAO,CAAC,GAAD,CAApB,CAoBA,QAASluB,KAAT,CAAcoB,IAAd,CAAoB,CAClB,MAAO2S,OAAM,CAAC,CAAD,CAAI3S,IAAJ,CAAb,CACD,CAED5c,MAAM,CAACC,OAAP,CAAiBub,IAAjB,C;;;;;;ACxBA,GAAImuB,SAAQ,CAAGD,mBAAO,CAAC,GAAD,CAAtB,CAGA,GAAIE,gBAAe,CAAG,qBAAtB,CA8CA,QAASC,QAAT,CAAiBjtB,IAAjB,CAAuBktB,QAAvB,CAAiC,CAC/B,GAAI,MAAOltB,KAAP,EAAe,UAAf,EAA8BktB,QAAQ,EAAI,IAAZ,EAAoB,MAAOA,SAAP,EAAmB,UAAzE,CAAsF,CACpF,KAAM,IAAI9rB,UAAJ,CAAc4rB,eAAd,CAAN,CACD,CACD,GAAIG,SAAQ,CAAG,UAAW,CACxB,GAAIr2B,KAAI,CAAGlP,SAAX,CACIkJ,GAAG,CAAGo8B,QAAQ,CAAGA,QAAQ,CAACvlC,KAAT,CAAe,IAAf,CAAqBmP,IAArB,CAAH,CAAgCA,IAAI,CAAC,CAAD,CADtD,CAEIjG,KAAK,CAAGs8B,QAAQ,CAACt8B,KAFrB,CAIA,GAAIA,KAAK,CAACkM,GAAN,CAAUjM,GAAV,CAAJ,CAAoB,CAClB,MAAOD,MAAK,CAAC7J,GAAN,CAAU8J,GAAV,CAAP,CACD,CACD,GAAIiF,OAAM,CAAGiK,IAAI,CAACrY,KAAL,CAAW,IAAX,CAAiBmP,IAAjB,CAAb,CACAq2B,QAAQ,CAACt8B,KAAT,CAAiBA,KAAK,CAACyT,GAAN,CAAUxT,GAAV,CAAeiF,MAAf,GAA0BlF,KAA3C,CACA,MAAOkF,OAAP,CACD,CAXD,CAYAo3B,QAAQ,CAACt8B,KAAT,CAAiB,IAAKo8B,OAAO,CAACG,KAAR,EAAiBL,QAAtB,GAAjB,CACA,MAAOI,SAAP,CACD,CAGDF,OAAO,CAACG,KAAR,CAAgBL,QAAhB,CAEA3pC,MAAM,CAACC,OAAP,CAAiB4pC,OAAjB,C;;;;;;ACxEA,GAAII,SAAQ,CAAGP,mBAAO,CAAC,EAAD,CAAtB,CACIve,GAAG,CAAGue,mBAAO,CAAC,GAAD,CADjB,CAEIQ,QAAQ,CAAGR,mBAAO,CAAC,GAAD,CAFtB,CAKA,GAAIE,gBAAe,CAAG,qBAAtB,CAGA,GAAIO,UAAS,CAAGrkC,IAAI,CAAC0tB,GAArB,CACI4W,SAAS,CAAGtkC,IAAI,CAACukC,GADrB,CAyDA,QAASC,SAAT,CAAkB1tB,IAAlB,CAAwB8C,IAAxB,CAA8Bxa,OAA9B,CAAuC,CACrC,GAAIqlC,SAAJ,CACIC,QADJ,CAEIC,OAFJ,CAGI93B,MAHJ,CAII+3B,OAJJ,CAKIC,YALJ,CAMIC,cAAc,CAAG,CANrB,CAOIC,OAAO,CAAG,KAPd,CAQIC,MAAM,CAAG,KARb,CASIC,QAAQ,CAAG,IATf,CAWA,GAAI,MAAOnuB,KAAP,EAAe,UAAnB,CAA+B,CAC7B,KAAM,IAAIoB,UAAJ,CAAc4rB,eAAd,CAAN,CACD,CACDlqB,IAAI,CAAGwqB,QAAQ,CAACxqB,IAAD,CAAR,EAAkB,CAAzB,CACA,GAAIuqB,QAAQ,CAAC/kC,OAAD,CAAZ,CAAuB,CACrB2lC,OAAO,CAAG,CAAC,CAAC3lC,OAAO,CAAC2lC,OAApB,CACAC,MAAM,CAAG,WAAa5lC,QAAtB,CACAulC,OAAO,CAAGK,MAAM,CAAGX,SAAS,CAACD,QAAQ,CAAChlC,OAAO,CAACulC,OAAT,CAAR,EAA6B,CAA9B,CAAiC/qB,IAAjC,CAAZ,CAAqD+qB,OAArE,CACAM,QAAQ,CAAG,YAAc7lC,QAAd,CAAwB,CAAC,CAACA,OAAO,CAAC6lC,QAAlC,CAA6CA,QAAxD,CACD,CAED,QAASC,WAAT,CAAoBrQ,IAApB,CAA0B,CACxB,GAAIjnB,KAAI,CAAG62B,QAAX,CACIU,OAAO,CAAGT,QADd,CAGAD,QAAQ,CAAGC,QAAQ,CAAG5kC,SAAtB,CACAglC,cAAc,CAAGjQ,IAAjB,CACAhoB,MAAM,CAAGiK,IAAI,CAACrY,KAAL,CAAW0mC,OAAX,CAAoBv3B,IAApB,CAAT,CACA,MAAOf,OAAP,CACD,CAED,QAASu4B,YAAT,CAAqBvQ,IAArB,CAA2B,CAEzBiQ,cAAc,CAAGjQ,IAAjB,CAEA+P,OAAO,CAAGlsB,UAAU,CAAC2sB,YAAD,CAAezrB,IAAf,CAApB,CAEA,MAAOmrB,QAAO,CAAGG,UAAU,CAACrQ,IAAD,CAAb,CAAsBhoB,MAApC,CACD,CAED,QAASy4B,cAAT,CAAuBzQ,IAAvB,CAA6B,CAC3B,GAAI0Q,kBAAiB,CAAG1Q,IAAI,CAAGgQ,YAA/B,CACIW,mBAAmB,CAAG3Q,IAAI,CAAGiQ,cADjC,CAEIW,WAAW,CAAG7rB,IAAI,CAAG2rB,iBAFzB,CAIA,MAAOP,OAAM,CACTV,SAAS,CAACmB,WAAD,CAAcd,OAAO,CAAGa,mBAAxB,CADA,CAETC,WAFJ,CAGD,CAED,QAASC,aAAT,CAAsB7Q,IAAtB,CAA4B,CAC1B,GAAI0Q,kBAAiB,CAAG1Q,IAAI,CAAGgQ,YAA/B,CACIW,mBAAmB,CAAG3Q,IAAI,CAAGiQ,cADjC,CAMA,MAAQD,aAAY,GAAK/kC,SAAjB,EAA+BylC,iBAAiB,EAAI3rB,IAApD,EACL2rB,iBAAiB,CAAG,CADf,EACsBP,MAAM,EAAIQ,mBAAmB,EAAIb,OAD/D,CAED,CAED,QAASU,aAAT,EAAwB,CACtB,GAAIxQ,KAAI,CAAGxP,GAAG,EAAd,CACA,GAAIqgB,YAAY,CAAC7Q,IAAD,CAAhB,CAAwB,CACtB,MAAO8Q,aAAY,CAAC9Q,IAAD,CAAnB,CACD,CAED+P,OAAO,CAAGlsB,UAAU,CAAC2sB,YAAD,CAAeC,aAAa,CAACzQ,IAAD,CAA5B,CAApB,CACD,CAED,QAAS8Q,aAAT,CAAsB9Q,IAAtB,CAA4B,CAC1B+P,OAAO,CAAG9kC,SAAV,CAIA,GAAImlC,QAAQ,EAAIR,QAAhB,CAA0B,CACxB,MAAOS,WAAU,CAACrQ,IAAD,CAAjB,CACD,CACD4P,QAAQ,CAAGC,QAAQ,CAAG5kC,SAAtB,CACA,MAAO+M,OAAP,CACD,CAED,QAAS+4B,OAAT,EAAkB,CAChB,GAAIhB,OAAO,GAAK9kC,SAAhB,CAA2B,CACzBi1B,YAAY,CAAC6P,OAAD,CAAZ,CACD,CACDE,cAAc,CAAG,CAAjB,CACAL,QAAQ,CAAGI,YAAY,CAAGH,QAAQ,CAAGE,OAAO,CAAG9kC,SAA/C,CACD,CAED,QAAS+lC,MAAT,EAAiB,CACf,MAAOjB,QAAO,GAAK9kC,SAAZ,CAAwB+M,MAAxB,CAAiC84B,YAAY,CAACtgB,GAAG,EAAJ,CAApD,CACD,CAED,QAASygB,UAAT,EAAqB,CACnB,GAAIjR,KAAI,CAAGxP,GAAG,EAAd,CACI0gB,UAAU,CAAGL,YAAY,CAAC7Q,IAAD,CAD7B,CAGA4P,QAAQ,CAAG/lC,SAAX,CACAgmC,QAAQ,CAAG,IAAX,CACAG,YAAY,CAAGhQ,IAAf,CAEA,GAAIkR,UAAJ,CAAgB,CACd,GAAInB,OAAO,GAAK9kC,SAAhB,CAA2B,CACzB,MAAOslC,YAAW,CAACP,YAAD,CAAlB,CACD,CACD,GAAIG,MAAJ,CAAY,CAEVjQ,YAAY,CAAC6P,OAAD,CAAZ,CACAA,OAAO,CAAGlsB,UAAU,CAAC2sB,YAAD,CAAezrB,IAAf,CAApB,CACA,MAAOsrB,WAAU,CAACL,YAAD,CAAjB,CACD,CACF,CACD,GAAID,OAAO,GAAK9kC,SAAhB,CAA2B,CACzB8kC,OAAO,CAAGlsB,UAAU,CAAC2sB,YAAD,CAAezrB,IAAf,CAApB,CACD,CACD,MAAO/M,OAAP,CACD,CACDi5B,SAAS,CAACF,MAAV,CAAmBA,MAAnB,CACAE,SAAS,CAACD,KAAV,CAAkBA,KAAlB,CACA,MAAOC,UAAP,CACD,CAED5rC,MAAM,CAACC,OAAP,CAAiBqqC,QAAjB,C;;;;;;AC9LA,GAAIwB,SAAQ,CAAGpC,mBAAO,CAAC,EAAD,CAAtB,CACIqC,OAAO,CAAGrC,mBAAO,CAAC,GAAD,CADrB,CA0BA,GAAIsC,KAAI,CAAGF,QAAQ,CAACC,OAAD,CAAnB,CAEA/rC,MAAM,CAACC,OAAP,CAAiB+rC,IAAjB,C;;;;;;AC5BA,GAAIC,QAAO,CAAGvC,mBAAO,CAAC,EAAD,CAArB,CACI9sB,IAAI,CAAGqvB,OAAO,CAAC,MAAD,CAASvC,mBAAO,CAAC,GAAD,CAAhB,CADlB,CAGA9sB,IAAI,CAACsvB,WAAL,CAAmBxC,mBAAO,CAAC,EAAD,CAA1B,CACA1pC,MAAM,CAACC,OAAP,CAAiB2c,IAAjB,C;;;;;;ACmBA,GAAIjX,QAAO,CAAGD,KAAK,CAACC,OAApB,CAEA3F,MAAM,CAACC,OAAP,CAAiB0F,OAAjB,C;;;;;;ACTA,QAASwmC,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;ACpBA,GAAIC,YAAW,CAAG1C,mBAAO,CAAC,EAAD,CAAzB,CACI2C,WAAW,CAAG3C,mBAAO,CAAC,GAAD,CADzB,CAEIoC,QAAQ,CAAGpC,mBAAO,CAAC,EAAD,CAFtB,CAGI4C,cAAc,CAAG5C,mBAAO,CAAC,EAAD,CAH5B,CAkCA,GAAI6C,OAAM,CAAGT,QAAQ,CAAC,SAASvd,UAAT,CAAqBie,SAArB,CAAgC,CACpD,GAAIje,UAAU,EAAI,IAAlB,CAAwB,CACtB,MAAO,EAAP,CACD,CACD,GAAI7qB,OAAM,CAAG8oC,SAAS,CAAC9oC,MAAvB,CACA,GAAIA,MAAM,CAAG,CAAT,EAAc4oC,cAAc,CAAC/d,UAAD,CAAaie,SAAS,CAAC,CAAD,CAAtB,CAA2BA,SAAS,CAAC,CAAD,CAApC,CAAhC,CAA0E,CACxEA,SAAS,CAAG,EAAZ,CACD,CAFD,IAEO,IAAI9oC,MAAM,CAAG,CAAT,EAAc4oC,cAAc,CAACE,SAAS,CAAC,CAAD,CAAV,CAAeA,SAAS,CAAC,CAAD,CAAxB,CAA6BA,SAAS,CAAC,CAAD,CAAtC,CAAhC,CAA4E,CACjFA,SAAS,CAAG,CAACA,SAAS,CAAC,CAAD,CAAV,CAAZ,CACD,CACD,MAAOH,YAAW,CAAC9d,UAAD,CAAa6d,WAAW,CAACI,SAAD,CAAY,CAAZ,CAAxB,CAAwC,EAAxC,CAAlB,CACD,CAXoB,CAArB,CAaAxsC,MAAM,CAACC,OAAP,CAAiBssC,MAAjB,C;;;;;;AC/CA,CAAC,SAAS1kB,CAAT,CAAWnP,CAAX,CAAa,CAAC,MAAqD1Y,MAAM,CAACC,OAAP,CAAeyY,CAAC,EAArE,CAAwE,SAAxE,CAAoI,CAAlJ,CAAmJ,IAAnJ,CAAwJ,UAAU,CAAC,aAAa,GAAImP,EAAC,CAAC,aAAN,CAAoBnP,CAAC,CAAC,QAAtB,CAA+BzM,CAAC,CAAC,QAAjC,CAA0CwgC,CAAC,CAAC,MAA5C,CAAmDrqC,CAAC,CAAC,KAArD,CAA2Dm8B,CAAC,CAAC,MAA7D,CAAoEmO,CAAC,CAAC,OAAtE,CAA8EC,CAAC,CAAC,SAAhF,CAA0FvjC,CAAC,CAAC,MAA5F,CAAmGwjC,CAAC,CAAC,sFAArG,CAA4LC,CAAC,CAAC,qFAA9L,CAAoRC,CAAC,CAAC,SAASjlB,CAAT,CAAWnP,CAAX,CAAazM,CAAb,CAAe,CAAC,GAAIwgC,EAAC,CAACvhC,MAAM,CAAC2c,CAAD,CAAZ,CAAgB,MAAM,CAAC4kB,CAAD,EAAIA,CAAC,CAAC/oC,MAAF,EAAUgV,CAAd,CAAgBmP,CAAhB,CAAkB,GAAGniB,KAAK,CAACgT,CAAC,CAAC,CAAF,CAAI+zB,CAAC,CAAC/oC,MAAP,CAAL,CAAoByJ,IAApB,CAAyBlB,CAAzB,CAAH,CAA+B4b,CAAvD,CAAyD,CAA/W,CAAi2B2hB,CAAC,CAAC,CAACrkC,IAAI,CAAC,IAAN,CAAW4nC,QAAQ,CAAC,2DAA2DvlC,KAA3D,CAAiE,GAAjE,CAApB,CAA0FwlC,MAAM,CAAC,wFAAwFxlC,KAAxF,CAA8F,GAA9F,CAAjG,CAAn2B,CAAwiCqS,CAAC,CAAC,IAA1iC,CAA+iCzN,CAAC,CAAC,EAAjjC,CAAojCA,CAAC,CAACyN,CAAD,CAAD,CAAK2vB,CAAL,CAAO,GAAIyD,EAAC,CAAC,SAASplB,CAAT,CAAW,CAAC,MAAOA,EAAC,WAAY7L,EAApB,CAAsB,CAAxC,CAAyCkxB,CAAC,CAAC,SAASrlB,CAAT,CAAWnP,CAAX,CAAazM,CAAb,CAAe,CAAC,GAAIwgC,EAAJ,CAAM,GAAG,CAAC5kB,CAAJ,CAAM,MAAOhO,EAAP,CAAS,GAAG,UAAU,MAAOgO,EAApB,CAAsBzb,CAAC,CAACyb,CAAD,CAAD,GAAO4kB,CAAC,CAAC5kB,CAAT,EAAYnP,CAAC,GAAGtM,CAAC,CAACyb,CAAD,CAAD,CAAKnP,CAAL,CAAO+zB,CAAC,CAAC5kB,CAAZ,CAAb,CAAtB,IAAsD,CAAC,GAAIzlB,EAAC,CAACylB,CAAC,CAAC1iB,IAAR,CAAaiH,CAAC,CAAChK,CAAD,CAAD,CAAKylB,CAAL,CAAO4kB,CAAC,CAACrqC,CAAT,CAAW,OAAO6J,EAAC,GAAG4N,CAAC,CAAC4yB,CAAL,CAAD,CAASA,CAAhB,CAAkB,CAAjL,CAAkLU,CAAC,CAAC,SAAStlB,CAAT,CAAWnP,CAAX,CAAazM,CAAb,CAAe,CAAC,GAAGghC,CAAC,CAACplB,CAAD,CAAJ,CAAQ,MAAOA,EAAC,CAACviB,KAAF,EAAP,CAAiB,GAAImnC,EAAC,CAAC/zB,CAAC,CAAC,UAAU,MAAOA,EAAjB,CAAmB,CAAC00B,MAAM,CAAC10B,CAAR,CAAU20B,EAAE,CAACphC,CAAb,CAAnB,CAAmCyM,CAApC,CAAsC,EAA7C,CAAgD,MAAO+zB,EAAC,CAACa,IAAF,CAAOzlB,CAAP,CAAS,GAAI7L,EAAJ,CAAMywB,CAAN,CAAhB,CAAyB,CAAtS,CAAuSc,CAAC,CAAj/B,CAAChP,CAAC,CAACuO,CAAH,CAAKU,CAAC,CAAC,SAAS3lB,CAAT,CAAW,CAAC,GAAInP,EAAC,CAAC,CAACmP,CAAC,CAAC4lB,SAAF,EAAP,CAAqBxhC,CAAC,CAACnG,IAAI,CAAC4nC,GAAL,CAASh1B,CAAT,CAAvB,CAAmC+zB,CAAC,CAAC3mC,IAAI,CAAC6nC,KAAL,CAAW1hC,CAAC,CAAC,EAAb,CAArC,CAA6D,MAAM,CAACyM,CAAC,EAAE,CAAH,CAAK,GAAL,CAAS,GAAV,EAAeo0B,CAAC,CAACL,CAAD,CAAG,CAAH,CAAK,GAAL,CAAhB,CAA0B,GAA1B,CAA8BK,CAAC,CAA1C7gC,CAAC,CAAC,EAAwC,CAAG,CAAH,CAAK,GAAL,CAArC,CAA+C,CAA/H,CAAgIG,CAAC,CAAC,SAASyb,CAAT,CAAWnP,CAAX,CAAa,CAAC,GAAIzM,EAAC,CAAC,IAAIyM,CAAC,CAACk1B,IAAF,GAAS/lB,CAAC,CAAC+lB,IAAF,EAAb,GAAwBl1B,CAAC,CAACm1B,KAAF,GAAUhmB,CAAC,CAACgmB,KAAF,EAAlC,CAAN,CAAmDpB,CAAC,CAAC5kB,CAAC,CAACviB,KAAF,GAAU2U,GAAV,CAAchO,CAAd,CAAgBygC,CAAhB,CAArD,CAAwEtqC,CAAC,CAACsW,CAAC,CAAC+zB,CAAF,CAAI,CAA9E,CAAgFlO,CAAC,CAAC1W,CAAC,CAACviB,KAAF,GAAU2U,GAAV,CAAchO,CAAC,EAAE7J,CAAC,CAAC,CAAC,CAAF,CAAI,CAAP,CAAf,CAAyBsqC,CAAzB,CAAlF,CAA8G,MAAOoB,OAAM,CAAC,EAAE7hC,CAAC,CAAC,CAACyM,CAAC,CAAC+zB,CAAH,GAAOrqC,CAAC,CAACqqC,CAAC,CAAClO,CAAH,CAAKA,CAAC,CAACkO,CAAf,CAAJ,GAAwB,CAAzB,CAAb,CAAyC,CAAvS,CAAwSrjC,CAAC,CAAC,SAASye,CAAT,CAAW,CAAC,MAAOA,EAAC,CAAC,CAAF,CAAI/hB,IAAI,CAACmuB,IAAL,CAAUpM,CAAV,GAAc,CAAlB,CAAoB/hB,IAAI,CAAC6nC,KAAL,CAAW9lB,CAAX,CAA3B,CAAyC,CAA/V,CAAgWwO,CAAC,CAAC,SAASuW,CAAT,CAAW,CAAC,MAAM,CAACM,CAAC,CAACR,CAAH,CAAKO,CAAC,CAAC7jC,CAAP,CAASjJ,CAAC,CAACo+B,CAAX,CAAawP,CAAC,CAAC3rC,CAAf,CAAiBwqC,CAAC,CAACH,CAAnB,CAAqBrgC,CAAC,CAACH,CAAvB,CAAyBsyB,CAAC,CAAC7lB,CAA3B,CAA6Bs1B,EAAE,CAACnmB,CAAhC,CAAkComB,CAAC,CAACtB,CAApC,EAAuCC,CAAvC,GAA2C1hC,MAAM,CAAC0hC,CAAC,EAAE,EAAJ,CAAN,CAAcnlC,WAAd,GAA4BzB,OAA5B,CAAoC,IAApC,CAAyC,EAAzC,CAAjD,CAA8F,CAA5c,CAA6c0mC,CAAC,CAAC,SAAS7kB,CAAT,CAAW,CAAC,MAAO,KAAK,EAAL,GAASA,CAAhB,CAAkB,CAA7e,CAAysB,CAA2S0lB,CAAC,CAAC1zB,CAAF,CAAIqzB,CAAJ,CAAMK,CAAC,CAACnrC,CAAF,CAAI6qC,CAAV,CAAYM,CAAC,CAACptC,CAAF,CAAI,SAAS0nB,CAAT,CAAWnP,CAAX,CAAa,CAAC,MAAOy0B,EAAC,CAACtlB,CAAD,CAAG,CAACqmB,MAAM,CAACx1B,CAAC,CAACy1B,EAAV,CAAaC,GAAG,CAAC11B,CAAC,CAAC21B,EAAnB,CAAsBC,OAAO,CAAC51B,CAAC,CAAC41B,OAAhC,CAAH,CAAR,CAAqD,CAAnF,CAAoF,GAAItyB,EAAC,CAAC,UAAU,CAAC,QAAS8wB,EAAT,CAAWjlB,CAAX,CAAa,CAAC,KAAKsmB,EAAL,CAAQ,KAAKA,EAAL,EAASjB,CAAC,CAACrlB,CAAC,CAACqmB,MAAH,CAAU,IAAV,CAAe,CAAC,CAAhB,CAAlB,CAAqC,KAAKtsB,KAAL,CAAWiG,CAAX,CAArC,CAAmD,IAAIkmB,EAAC,CAACjB,CAAC,CAACvpC,SAAR,CAAkB,MAAOwqC,EAAC,CAACnsB,KAAF,CAAQ,SAASiG,CAAT,CAAW,CAAC,KAAK0mB,EAAL,CAAQ,SAAS1mB,CAAT,CAAW,CAAC,GAAInP,EAAC,CAACmP,CAAC,CAACylB,IAAR,CAAarhC,CAAC,CAAC4b,CAAC,CAACumB,GAAjB,CAAqB,GAAG,OAAO11B,CAAV,CAAY,MAAO,IAAIhQ,KAAJ,CAAS8lC,GAAT,CAAP,CAAqB,GAAGjB,CAAC,CAACb,CAAF,CAAIh0B,CAAJ,CAAH,CAAU,MAAO,IAAIhQ,KAAJ,EAAP,CAAgB,GAAGgQ,CAAC,WAAYhQ,KAAhB,CAAqB,MAAO,IAAIA,KAAJ,CAASgQ,CAAT,CAAP,CAAmB,GAAG,UAAU,MAAOA,EAAjB,EAAoB,CAAC,MAAMzL,IAAN,CAAWyL,CAAX,CAAxB,CAAsC,CAAC,GAAI+zB,EAAC,CAAC/zB,CAAC,CAACpM,KAAF,CAAQsgC,CAAR,CAAN,CAAiB,GAAGH,CAAH,CAAK,MAAOxgC,EAAC,CAAC,GAAIvD,KAAJ,CAASA,IAAI,CAAC+lC,GAAL,CAAShC,CAAC,CAAC,CAAD,CAAV,CAAcA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAnB,CAAqBA,CAAC,CAAC,CAAD,CAAD,EAAM,CAA3B,CAA6BA,CAAC,CAAC,CAAD,CAAD,EAAM,CAAnC,CAAqCA,CAAC,CAAC,CAAD,CAAD,EAAM,CAA3C,CAA6CA,CAAC,CAAC,CAAD,CAAD,EAAM,CAAnD,CAAqDA,CAAC,CAAC,CAAD,CAAD,EAAM,CAA3D,CAAT,CAAD,CAAyE,GAAI/jC,KAAJ,CAAS+jC,CAAC,CAAC,CAAD,CAAV,CAAcA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAnB,CAAqBA,CAAC,CAAC,CAAD,CAAD,EAAM,CAA3B,CAA6BA,CAAC,CAAC,CAAD,CAAD,EAAM,CAAnC,CAAqCA,CAAC,CAAC,CAAD,CAAD,EAAM,CAA3C,CAA6CA,CAAC,CAAC,CAAD,CAAD,EAAM,CAAnD,CAAqDA,CAAC,CAAC,CAAD,CAAD,EAAM,CAA3D,CAAjF,CAA+I,OAAO,IAAI/jC,KAAJ,CAASgQ,CAAT,CAAP,CAAmB,CAAnW,CAAoWmP,CAApW,CAAR,CAA+W,KAAKxkB,IAAL,EAA/W,CAA2X,CAA/Y,CAAgZ0qC,CAAC,CAAC1qC,IAAF,CAAO,UAAU,CAAC,GAAIwkB,EAAC,CAAC,KAAK0mB,EAAX,CAAc,KAAKG,EAAL,CAAQ7mB,CAAC,CAAC8mB,WAAF,EAAR,CAAwB,KAAKC,EAAL,CAAQ/mB,CAAC,CAACgnB,QAAF,EAAhC,CAA6C,KAAKC,EAAL,CAAQjnB,CAAC,CAACknB,OAAF,EAArD,CAAiE,KAAKC,EAAL,CAAQnnB,CAAC,CAAConB,MAAF,EAAzE,CAAoF,KAAKC,EAAL,CAAQrnB,CAAC,CAACsnB,QAAF,EAA5F,CAAyG,KAAKC,EAAL,CAAQvnB,CAAC,CAACwnB,UAAF,EAAjH,CAAgI,KAAKC,EAAL,CAAQznB,CAAC,CAAC0nB,UAAF,EAAxI,CAAuJ,KAAKC,GAAL,CAAS3nB,CAAC,CAAC4nB,eAAF,EAAhK,CAAoL,CAApmB,CAAqmB1B,CAAC,CAAC2B,MAAF,CAAS,UAAU,CAAC,MAAOnC,EAAP,CAAS,CAAloB,CAAmoBQ,CAAC,CAAC4B,OAAF,CAAU,UAAU,CAAC,MAAM,EAAE,iBAAiB,KAAKpB,EAAL,CAAQvtC,QAAR,EAAnB,CAAN,CAA6C,CAArsB,CAAssB+sC,CAAC,CAAC6B,MAAF,CAAS,SAAS/nB,CAAT,CAAWnP,CAAX,CAAa,CAAC,GAAIzM,EAAC,CAACkhC,CAAC,CAACtlB,CAAD,CAAP,CAAW,MAAO,MAAKgoB,OAAL,CAAan3B,CAAb,GAAiBzM,CAAjB,EAAoBA,CAAC,EAAE,KAAK6jC,KAAL,CAAWp3B,CAAX,CAA9B,CAA4C,CAApxB,CAAqxBq1B,CAAC,CAACgC,OAAF,CAAU,SAASloB,CAAT,CAAWnP,CAAX,CAAa,CAAC,MAAOy0B,EAAC,CAACtlB,CAAD,CAAD,CAAK,KAAKgoB,OAAL,CAAan3B,CAAb,CAAZ,CAA4B,CAAz0B,CAA00Bq1B,CAAC,CAACiC,QAAF,CAAW,SAASnoB,CAAT,CAAWnP,CAAX,CAAa,CAAC,MAAO,MAAKo3B,KAAL,CAAWp3B,CAAX,EAAcy0B,CAAC,CAACtlB,CAAD,CAAtB,CAA0B,CAA73B,CAA83BkmB,CAAC,CAACkC,EAAF,CAAK,SAASpoB,CAAT,CAAWnP,CAAX,CAAazM,CAAb,CAAe,CAAC,MAAOshC,EAAC,CAACb,CAAF,CAAI7kB,CAAJ,EAAO,KAAKnP,CAAL,CAAP,CAAe,KAAKwI,GAAL,CAASjV,CAAT,CAAW4b,CAAX,CAAtB,CAAoC,CAAv7B,CAAw7BkmB,CAAC,CAACH,IAAF,CAAO,SAAS/lB,CAAT,CAAW,CAAC,MAAO,MAAKooB,EAAL,CAAQpoB,CAAR,CAAU,IAAV,CAAeze,CAAf,CAAP,CAAyB,CAAp+B,CAAq+B2kC,CAAC,CAACF,KAAF,CAAQ,SAAShmB,CAAT,CAAW,CAAC,MAAO,MAAKooB,EAAL,CAAQpoB,CAAR,CAAU,IAAV,CAAe6kB,CAAf,CAAP,CAAyB,CAAlhC,CAAmhCqB,CAAC,CAACmC,GAAF,CAAM,SAASroB,CAAT,CAAW,CAAC,MAAO,MAAKooB,EAAL,CAAQpoB,CAAR,CAAU,IAAV,CAAezlB,CAAf,CAAP,CAAyB,CAA9jC,CAA+jC2rC,CAAC,CAACT,IAAF,CAAO,SAASzlB,CAAT,CAAW,CAAC,MAAO,MAAKooB,EAAL,CAAQpoB,CAAR,CAAU,IAAV,CAAe,MAAf,CAAP,CAA8B,CAAhnC,CAAinCkmB,CAAC,CAACoC,IAAF,CAAO,SAAStoB,CAAT,CAAW,CAAC,MAAO,MAAKooB,EAAL,CAAQpoB,CAAR,CAAU,IAAV,CAAe4kB,CAAf,CAAP,CAAyB,CAA7pC,CAA8pCsB,CAAC,CAACqC,MAAF,CAAS,SAASvoB,CAAT,CAAW,CAAC,MAAO,MAAKooB,EAAL,CAAQpoB,CAAR,CAAU,IAAV,CAAe5b,CAAf,CAAP,CAAyB,CAA5sC,CAA6sC8hC,CAAC,CAACjnC,MAAF,CAAS,SAAS+gB,CAAT,CAAW,CAAC,MAAO,MAAKooB,EAAL,CAAQpoB,CAAR,CAAU,IAAV,CAAenP,CAAf,CAAP,CAAyB,CAA3vC,CAA4vCq1B,CAAC,CAACsC,WAAF,CAAc,SAAS33B,CAAT,CAAW,CAAC,MAAO,MAAKu3B,EAAL,CAAQv3B,CAAR,CAAU,KAAV,CAAgBmP,CAAhB,CAAP,CAA0B,CAAhzC,CAAizCkmB,CAAC,CAACuC,IAAF,CAAO,UAAU,CAAC,MAAOxqC,KAAI,CAAC6nC,KAAL,CAAW,KAAK4C,OAAL,GAAe,GAA1B,CAAP,CAAsC,CAAz2C,CAA02CxC,CAAC,CAACwC,OAAF,CAAU,UAAU,CAAC,MAAO,MAAKhC,EAAL,CAAQiC,OAAR,EAAP,CAAyB,CAAx5C,CAAy5CzC,CAAC,CAAC8B,OAAF,CAAU,SAAShoB,CAAT,CAAW8kB,CAAX,CAAa,CAAC,GAAIC,EAAC,CAAC,IAAN,CAAWC,CAAC,CAAC,CAAC,CAACU,CAAC,CAACb,CAAF,CAAIC,CAAJ,CAAF,EAAUA,CAAvB,CAAyBG,CAAC,CAACS,CAAC,CAAClX,CAAF,CAAIxO,CAAJ,CAA3B,CAAkCkmB,CAAC,CAAC,SAASlmB,CAAT,CAAWnP,CAAX,CAAa,CAAC,GAAIzM,EAAC,CAACshC,CAAC,CAACptC,CAAF,CAAIysC,CAAC,CAACyB,EAAF,CAAK3lC,IAAI,CAAC+lC,GAAL,CAAS7B,CAAC,CAAC8B,EAAX,CAAch2B,CAAd,CAAgBmP,CAAhB,CAAL,CAAwB,GAAInf,KAAJ,CAASkkC,CAAC,CAAC8B,EAAX,CAAch2B,CAAd,CAAgBmP,CAAhB,CAA5B,CAA+C+kB,CAA/C,CAAN,CAAwD,MAAOC,EAAC,CAAC5gC,CAAD,CAAGA,CAAC,CAAC6jC,KAAF,CAAQ1tC,CAAR,CAAX,CAAsB,CAAhI,CAAiIonC,CAAC,CAAC,SAAS3hB,CAAT,CAAWnP,CAAX,CAAa,CAAC,MAAO60B,EAAC,CAACptC,CAAF,CAAIysC,CAAC,CAAC6D,MAAF,GAAW5oB,CAAX,EAActjB,KAAd,CAAoBqoC,CAAC,CAAC6D,MAAF,EAApB,CAA+B,CAAC5D,CAAC,CAAC,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAD,CAAW,CAAC,EAAD,CAAI,EAAJ,CAAO,EAAP,CAAU,GAAV,CAAb,EAA6BlsC,KAA7B,CAAmC+X,CAAnC,CAA/B,CAAJ,CAA0Ek0B,CAA1E,CAAP,CAAoF,CAArO,CAAsO/yB,CAAC,CAAC,KAAKm1B,EAA7O,CAAgP5iC,CAAC,CAAC,KAAKwiC,EAAvP,CAA0P3B,CAAC,CAAC,KAAK6B,EAAjQ,CAAoQ5B,CAAC,CAAC,OAAO,KAAKmB,EAAL,CAAQ,KAAR,CAAc,EAArB,CAAtQ,CAA+R,OAAOvB,CAAP,EAAU,IAAK1jC,EAAL,CAAO,MAAOyjC,EAAC,CAACkB,CAAC,CAAC,CAAD,CAAG,CAAH,CAAF,CAAQA,CAAC,CAAC,EAAD,CAAI,EAAJ,CAAjB,CAAyB,IAAKrB,EAAL,CAAO,MAAOG,EAAC,CAACkB,CAAC,CAAC,CAAD,CAAG3hC,CAAH,CAAF,CAAQ2hC,CAAC,CAAC,CAAD,CAAG3hC,CAAC,CAAC,CAAL,CAAjB,CAAyB,IAAKmyB,EAAL,CAAO,GAAI4O,EAAC,CAAC,KAAKuD,OAAL,GAAeC,SAAf,EAA0B,CAAhC,CAAkC30B,CAAC,CAAC,CAACnC,CAAC,CAACszB,CAAF,CAAItzB,CAAC,CAAC,CAAN,CAAQA,CAAT,EAAYszB,CAAhD,CAAkD,MAAOY,EAAC,CAAClB,CAAC,CAACI,CAAC,CAACjxB,CAAH,CAAKixB,CAAC,EAAE,EAAEjxB,CAAJ,CAAR,CAAe5P,CAAf,CAAR,CAA0B,IAAKhK,EAAL,CAAO,IAAI,MAAJ,CAAW,MAAOonC,EAAC,CAAC0D,CAAC,CAAC,OAAH,CAAW,CAAX,CAAR,CAAsB,IAAKT,EAAL,CAAO,MAAOjD,EAAC,CAAC0D,CAAC,CAAC,SAAH,CAAa,CAAb,CAAR,CAAwB,IAAKjhC,EAAL,CAAO,MAAOu9B,EAAC,CAAC0D,CAAC,CAAC,SAAH,CAAa,CAAb,CAAR,CAAwB,IAAKx0B,EAAL,CAAO,MAAO8wB,EAAC,CAAC0D,CAAC,CAAC,cAAH,CAAkB,CAAlB,CAAR,CAA6B,QAAQ,MAAO,MAAK5nC,KAAL,EAAP,CAA/S,CAAoU,CAAphE,CAAqhEyoC,CAAC,CAAC+B,KAAF,CAAQ,SAASjoB,CAAT,CAAW,CAAC,MAAO,MAAKgoB,OAAL,CAAahoB,CAAb,CAAe,CAAC,CAAhB,CAAP,CAA0B,CAAnkE,CAAokEkmB,CAAC,CAAC6C,IAAF,CAAO,SAASrS,CAAT,CAAWoO,CAAX,CAAa,CAAC,GAAIC,EAAJ,CAAMC,CAAC,CAACU,CAAC,CAAClX,CAAF,CAAIkI,CAAJ,CAAR,CAAeuO,CAAC,CAAC,OAAO,KAAKuB,EAAL,CAAQ,KAAR,CAAc,EAArB,CAAjB,CAA0CN,CAAC,CAAC,CAACnB,CAAC,CAAC,EAAF,CAAKA,CAAC,CAACxqC,CAAD,CAAD,CAAK0qC,CAAC,CAAC,MAAZ,CAAmBF,CAAC,CAACU,IAAF,CAAOR,CAAC,CAAC,MAA5B,CAAmCF,CAAC,CAACF,CAAD,CAAD,CAAKI,CAAC,CAAC,OAA1C,CAAkDF,CAAC,CAACxjC,CAAD,CAAD,CAAK0jC,CAAC,CAAC,UAAzD,CAAoEF,CAAC,CAACH,CAAD,CAAD,CAAKK,CAAC,CAAC,OAA3E,CAAmFF,CAAC,CAAC3gC,CAAD,CAAD,CAAK6gC,CAAC,CAAC,SAA1F,CAAoGF,CAAC,CAACl0B,CAAD,CAAD,CAAKo0B,CAAC,CAAC,SAA3G,CAAqHF,CAAC,CAAC/kB,CAAD,CAAD,CAAKilB,CAAC,CAAC,cAA5H,CAA2IF,CAA5I,EAA+IC,CAA/I,CAA5C,CAA8LrD,CAAC,CAACqD,CAAC,GAAGzqC,CAAJ,CAAM,KAAK0sC,EAAL,EAASnC,CAAC,CAAC,KAAKqC,EAAhB,CAAN,CAA0BrC,CAA1N,CAA4N,GAAGE,CAAC,GAAGH,CAAJ,EAAOG,CAAC,GAAGzjC,CAAd,CAAgB,CAAC,GAAIyQ,EAAC,CAAC,KAAKvU,KAAL,GAAa4b,GAAb,CAAiB,MAAjB,CAAwB,CAAxB,CAAN,CAAiCrH,CAAC,CAAC00B,EAAF,CAAKR,CAAL,EAAQvE,CAAR,EAAW3vB,CAAC,CAACxW,IAAF,EAAX,CAAoB,KAAKkrC,EAAL,CAAQ10B,CAAC,CAACqH,GAAF,CAAM,MAAN,CAAapb,IAAI,CAACukC,GAAL,CAAS,KAAKyE,EAAd,CAAiBj1B,CAAC,CAACg3B,WAAF,EAAjB,CAAb,EAAgDJ,MAAhD,EAA5B,CAAqF,CAAvI,IAA4I1C,EAAC,EAAE,KAAKQ,EAAL,CAAQR,CAAR,EAAWvE,CAAX,CAAH,CAAiB,MAAO,MAAKnmC,IAAL,GAAY,IAAnB,CAAwB,CAA1+E,CAA2+E0qC,CAAC,CAAC7sB,GAAF,CAAM,SAAS2G,CAAT,CAAWnP,CAAX,CAAa,CAAC,MAAO,MAAKpT,KAAL,GAAasrC,IAAb,CAAkB/oB,CAAlB,CAAoBnP,CAApB,CAAP,CAA8B,CAA7hF,CAA8hFq1B,CAAC,CAACnqC,GAAF,CAAM,SAASikB,CAAT,CAAW,CAAC,MAAO,MAAK0lB,CAAC,CAAClX,CAAF,CAAIxO,CAAJ,CAAL,GAAP,CAAsB,CAAtkF,CAAukFkmB,CAAC,CAAC9zB,GAAF,CAAM,SAAS4N,CAAT,CAAW8kB,CAAX,CAAa,CAAC,GAAIC,EAAJ,CAAMC,CAAC,CAAC,IAAR,CAAahlB,CAAC,CAACimB,MAAM,CAACjmB,CAAD,CAAR,CAAY,GAAIilB,EAAC,CAACS,CAAC,CAAClX,CAAF,CAAIsW,CAAJ,CAAN,CAAaoB,CAAC,CAAC,SAASr1B,CAAT,CAAW,CAAC,GAAIzM,EAAC,CAACkhC,CAAC,CAACN,CAAD,CAAP,CAAW,MAAOU,EAAC,CAACptC,CAAF,CAAI8L,CAAC,CAACqhC,IAAF,CAAOrhC,CAAC,CAACqhC,IAAF,GAASxnC,IAAI,CAACwrB,KAAL,CAAW5Y,CAAC,CAACmP,CAAb,CAAhB,CAAJ,CAAqCglB,CAArC,CAAP,CAA+C,CAArF,CAAsF,GAAGC,CAAC,GAAGJ,CAAP,CAAS,MAAO,MAAKxrB,GAAL,CAASwrB,CAAT,CAAW,KAAKkC,EAAL,CAAQ/mB,CAAnB,CAAP,CAA6B,GAAGilB,CAAC,GAAG1jC,CAAP,CAAS,MAAO,MAAK8X,GAAL,CAAS9X,CAAT,CAAW,KAAKslC,EAAL,CAAQ7mB,CAAnB,CAAP,CAA6B,GAAGilB,CAAC,GAAG1qC,CAAP,CAAS,MAAO2rC,EAAC,CAAC,CAAD,CAAR,CAAY,GAAGjB,CAAC,GAAGvO,CAAP,CAAS,MAAOwP,EAAC,CAAC,CAAD,CAAR,CAAY,GAAIvE,EAAC,CAAC,CAACoD,CAAC,CAAC,EAAF,CAAKA,CAAC,CAAC3gC,CAAD,CAAD,CAAK,GAAV,CAAc2gC,CAAC,CAACH,CAAD,CAAD,CAAK,IAAnB,CAAwBG,CAAC,CAACl0B,CAAD,CAAD,CAAK,GAA7B,CAAiCk0B,CAAlC,EAAqCE,CAArC,GAAyC,CAA/C,CAAiDjzB,CAAC,CAAC,KAAK00B,EAAL,CAAQiC,OAAR,GAAkB3oB,CAAC,CAAC2hB,CAAvE,CAAyE,MAAO+D,EAAC,CAACptC,CAAF,CAAI0Z,CAAJ,CAAM,IAAN,CAAP,CAAmB,CAA55F,CAA65Fk0B,CAAC,CAACxa,QAAF,CAAW,SAAS1L,CAAT,CAAWnP,CAAX,CAAa,CAAC,MAAO,MAAKuB,GAAL,CAAS,CAAC,CAAD,CAAG4N,CAAZ,CAAcnP,CAAd,CAAP,CAAwB,CAA98F,CAA+8Fq1B,CAAC,CAACX,MAAF,CAAS,SAASvlB,CAAT,CAAW,CAAC,GAAInP,EAAC,CAAC,IAAN,CAAW,GAAG,CAAC,KAAKi3B,OAAL,EAAJ,CAAmB,MAAM,cAAN,CAAqB,GAAI1jC,EAAC,CAAC4b,CAAC,EAAE,sBAAT,CAAgC4kB,CAAC,CAACc,CAAC,CAACC,CAAF,CAAI,IAAJ,CAAlC,CAA4CprC,CAAC,CAAC,KAAKsuC,OAAL,EAA9C,CAA6DnS,CAAC,CAAC,KAAK2Q,EAApE,CAAuExC,CAAC,CAAC,KAAK0C,EAA9E,CAAiFzC,CAAC,CAAC,KAAKiC,EAAxF,CAA2FxlC,CAAC,CAAChH,CAAC,CAAC2qC,QAA/F,CAAwGH,CAAC,CAACxqC,CAAC,CAAC4qC,MAA5G,CAAmHF,CAAC,CAAC,SAASjlB,CAAT,CAAW4kB,CAAX,CAAarqC,CAAb,CAAem8B,CAAf,CAAiB,CAAC,MAAO1W,EAAC,GAAGA,CAAC,CAAC4kB,CAAD,CAAD,EAAM5kB,CAAC,CAACnP,CAAD,CAAGzM,CAAH,CAAV,CAAD,EAAmB7J,CAAC,CAACqqC,CAAD,CAAD,CAAKqE,MAAL,CAAY,CAAZ,CAAcvS,CAAd,CAA1B,CAA2C,CAAlL,CAAmLwP,CAAC,CAAC,SAASlmB,CAAT,CAAW,CAAC,MAAO0lB,EAAC,CAAChP,CAAF,CAAIA,CAAC,CAAC,EAAF,EAAM,EAAV,CAAa1W,CAAb,CAAe,GAAf,CAAP,CAA2B,CAA5N,CAA6N2hB,CAAC,CAACpnC,CAAC,CAAC2uC,QAAF,EAAY,SAASlpB,CAAT,CAAWnP,CAAX,CAAazM,CAAb,CAAe,CAAC,GAAIwgC,EAAC,CAAC5kB,CAAC,CAAC,EAAF,CAAK,IAAL,CAAU,IAAhB,CAAqB,MAAO5b,EAAC,CAACwgC,CAAC,CAAChlC,WAAF,EAAD,CAAiBglC,CAAzB,CAA2B,CAA3S,CAA4S5yB,CAAC,CAAC,CAACm3B,EAAE,CAAC9lC,MAAM,CAAC,KAAKwjC,EAAN,CAAN,CAAgB/tC,KAAhB,CAAsB,CAAC,CAAvB,CAAJ,CAA8BswC,IAAI,CAAC,KAAKvC,EAAxC,CAA2CxB,CAAC,CAACP,CAAC,CAAC,CAA/C,CAAiDuE,EAAE,CAAC3D,CAAC,CAAChP,CAAF,CAAIoO,CAAC,CAAC,CAAN,CAAQ,CAAR,CAAU,GAAV,CAApD,CAAmEwE,GAAG,CAACrE,CAAC,CAAC1qC,CAAC,CAACgvC,WAAH,CAAezE,CAAf,CAAiBC,CAAjB,CAAmB,CAAnB,CAAxE,CAA8FyE,IAAI,CAACzE,CAAC,CAACD,CAAD,CAAD,EAAMC,CAAC,CAAC,IAAD,CAAM3gC,CAAN,CAA1G,CAAmHshC,CAAC,CAAC,KAAKuB,EAA1H,CAA6HwC,EAAE,CAAC/D,CAAC,CAAChP,CAAF,CAAI,KAAKuQ,EAAT,CAAY,CAAZ,CAAc,GAAd,CAAhI,CAAmJf,CAAC,CAAC7iC,MAAM,CAAC,KAAK8jC,EAAN,CAA3J,CAAqKuC,EAAE,CAACzE,CAAC,CAAC1qC,CAAC,CAACovC,WAAH,CAAe,KAAKxC,EAApB,CAAuB5lC,CAAvB,CAAyB,CAAzB,CAAzK,CAAqMqoC,GAAG,CAAC3E,CAAC,CAAC1qC,CAAC,CAACsvC,aAAH,CAAiB,KAAK1C,EAAtB,CAAyB5lC,CAAzB,CAA2B,CAA3B,CAA1M,CAAwOuoC,IAAI,CAACvoC,CAAC,CAAC,KAAK4lC,EAAN,CAA9O,CAAwP4C,CAAC,CAAC1mC,MAAM,CAACqzB,CAAD,CAAhQ,CAAoQsT,EAAE,CAACtE,CAAC,CAAChP,CAAF,CAAIA,CAAJ,CAAM,CAAN,CAAQ,GAAR,CAAvQ,CAAoRqO,CAAC,CAACmB,CAAC,CAAC,CAAD,CAAvR,CAA2R+D,EAAE,CAAC/D,CAAC,CAAC,CAAD,CAA/R,CAAmS3kC,CAAC,CAACogC,CAAC,CAACjL,CAAD,CAAGmO,CAAH,CAAK,CAAC,CAAN,CAAtS,CAA+SqF,CAAC,CAACvI,CAAC,CAACjL,CAAD,CAAGmO,CAAH,CAAK,CAAC,CAAN,CAAlT,CAA2TtgC,CAAC,CAAClB,MAAM,CAACwhC,CAAD,CAAnU,CAAuUsF,EAAE,CAACzE,CAAC,CAAChP,CAAF,CAAImO,CAAJ,CAAM,CAAN,CAAQ,GAAR,CAA1U,CAAuVnO,CAAC,CAACrzB,MAAM,CAAC,KAAKokC,EAAN,CAA/V,CAAyW2C,EAAE,CAAC1E,CAAC,CAAChP,CAAF,CAAI,KAAK+Q,EAAT,CAAY,CAAZ,CAAc,GAAd,CAA5W,CAA+X4C,GAAG,CAAC3E,CAAC,CAAChP,CAAF,CAAI,KAAKiR,GAAT,CAAa,CAAb,CAAe,GAAf,CAAnY,CAAuZ2C,CAAC,CAAC1F,CAAzZ,CAA9S,CAA0sB,MAAOxgC,EAAC,CAACjG,OAAF,CAAU6mC,CAAV,CAAY,SAAShlB,CAAT,CAAWnP,CAAX,CAAa,CAAC,MAAOA,EAAC,EAAEmB,CAAC,CAACgO,CAAD,CAAJ,EAAS4kB,CAAC,CAACzmC,OAAF,CAAU,GAAV,CAAc,EAAd,CAAhB,CAAkC,CAA5D,CAAP,CAAqE,CAAtyH,CAAuyH+nC,CAAC,CAACN,SAAF,CAAY,UAAU,CAAC,MAAO,IAAG,CAAC3nC,IAAI,CAACwrB,KAAL,CAAW,KAAKid,EAAL,CAAQ6D,iBAAR,GAA4B,EAAvC,CAAX,CAAsD,CAAp3H,CAAq3HrE,CAAC,CAACz/B,IAAF,CAAO,SAASuZ,CAAT,CAAW+kB,CAAX,CAAaC,CAAb,CAAe,CAAC,GAAIC,EAAJ,CAAMiB,CAAC,CAACR,CAAC,CAAClX,CAAF,CAAIuW,CAAJ,CAAR,CAAepD,CAAC,CAAC2D,CAAC,CAACtlB,CAAD,CAAlB,CAAsBhO,CAAC,CAAC,KAAK2vB,CAAC,CAACiE,SAAF,GAAc,KAAKA,SAAL,EAAnB,CAAxB,CAA6DrhC,CAAC,CAAC,KAAKo9B,CAApE,CAAsEyD,CAAC,CAACM,CAAC,CAACnhC,CAAF,CAAI,IAAJ,CAASo9B,CAAT,CAAxE,CAAoF,MAAOyD,EAAC,CAAC,CAACH,CAAC,CAAC,EAAF,CAAKA,CAAC,CAAC1jC,CAAD,CAAD,CAAK6jC,CAAC,CAAC,EAAZ,CAAeH,CAAC,CAACJ,CAAD,CAAD,CAAKO,CAApB,CAAsBH,CAAC,CAACH,CAAD,CAAD,CAAKM,CAAC,CAAC,CAA7B,CAA+BH,CAAC,CAACvO,CAAD,CAAD,CAAK,CAACnyB,CAAC,CAACyN,CAAH,EAAM,MAA1C,CAAiDizB,CAAC,CAAC1qC,CAAD,CAAD,CAAK,CAACgK,CAAC,CAACyN,CAAH,EAAM,KAA5D,CAAkEizB,CAAC,CAACL,CAAD,CAAD,CAAKrgC,CAAC,CAAC,IAAzE,CAA8E0gC,CAAC,CAAC7gC,CAAD,CAAD,CAAKG,CAAC,CAAC,GAArF,CAAyF0gC,CAAC,CAACp0B,CAAD,CAAD,CAAKtM,CAAC,CAAC,GAAhG,CAAoG0gC,CAArG,EAAwGiB,CAAxG,GAA4G3hC,CAA9G,CAAgHygC,CAAC,CAACI,CAAD,CAAGM,CAAC,CAACnkC,CAAF,CAAI6jC,CAAJ,CAA3H,CAAkI,CAAlmI,CAAmmIc,CAAC,CAAC8C,WAAF,CAAc,UAAU,CAAC,MAAO,MAAKf,KAAL,CAAWpD,CAAX,EAAcoC,EAArB,CAAwB,CAAppI,CAAqpIf,CAAC,CAAC2C,OAAF,CAAU,UAAU,CAAC,MAAOtkC,EAAC,CAAC,KAAK+hC,EAAN,CAAR,CAAkB,CAA5rI,CAA6rIJ,CAAC,CAACG,MAAF,CAAS,SAASrmB,CAAT,CAAWnP,CAAX,CAAa,CAAC,GAAG,CAACmP,CAAJ,CAAM,MAAO,MAAKsmB,EAAZ,CAAe,GAAIliC,EAAC,CAAC,KAAK3G,KAAL,EAAN,CAAmBmnC,CAAC,CAACS,CAAC,CAACrlB,CAAD,CAAGnP,CAAH,CAAK,CAAC,CAAN,CAAtB,CAA+B,MAAO+zB,EAAC,GAAGxgC,CAAC,CAACkiC,EAAF,CAAK1B,CAAR,CAAD,CAAYxgC,CAAnB,CAAqB,CAA7xI,CAA8xI8hC,CAAC,CAACzoC,KAAF,CAAQ,UAAU,CAAC,MAAOioC,EAAC,CAACptC,CAAF,CAAI,KAAKouC,EAAT,CAAY,IAAZ,CAAP,CAAyB,CAA10I,CAA20IR,CAAC,CAAC0C,MAAF,CAAS,UAAU,CAAC,MAAO,IAAI/nC,KAAJ,CAAS,KAAK6nC,OAAL,EAAT,CAAP,CAAgC,CAA/3I,CAAg4IxC,CAAC,CAACsE,MAAF,CAAS,UAAU,CAAC,MAAO,MAAK1C,OAAL,GAAe,KAAK2C,WAAL,EAAf,CAAkC,IAAzC,CAA8C,CAAl8I,CAAm8IvE,CAAC,CAACuE,WAAF,CAAc,UAAU,CAAC,MAAO,MAAK/D,EAAL,CAAQ+D,WAAR,EAAP,CAA6B,CAAz/I,CAA0/IvE,CAAC,CAAC/sC,QAAF,CAAW,UAAU,CAAC,MAAO,MAAKutC,EAAL,CAAQgE,WAAR,EAAP,CAA6B,CAA7iJ,CAA8iJzF,CAArjJ,CAAujJ,CAArpJ,EAAN,CAA8pJ,MAAOK,EAAC,CAAC5pC,SAAF,CAAYyY,CAAC,CAACzY,SAAd,CAAwB4pC,CAAC,CAACloC,MAAF,CAAS,SAAS4iB,CAAT,CAAWnP,CAAX,CAAa,CAAC,MAAOmP,EAAC,CAACnP,CAAD,CAAGsD,CAAH,CAAKmxB,CAAL,CAAD,CAASA,CAAhB,CAAkB,CAAjE,CAAkEA,CAAC,CAACe,MAAF,CAAShB,CAA3E,CAA6EC,CAAC,CAACqF,OAAF,CAAUvF,CAAvF,CAAyFE,CAAC,CAACmD,IAAF,CAAO,SAASzoB,CAAT,CAAW,CAAC,MAAOslB,EAAC,CAAC,IAAItlB,CAAL,CAAR,CAAgB,CAA5H,CAA6HslB,CAAC,CAACsF,EAAF,CAAKrmC,CAAC,CAACyN,CAAD,CAAnI,CAAuIszB,CAAC,CAACuF,EAAF,CAAKtmC,CAA5I,CAA8I+gC,CAArJ,CAAuJ,CAA/5M,CAAD,C;;;;;;ACAA,GAAIwF,eAAc,CAAGjJ,mBAAO,CAAC,GAAD,CAA5B,CACI0C,WAAW,CAAG1C,mBAAO,CAAC,EAAD,CADzB,CAEIoC,QAAQ,CAAGpC,mBAAO,CAAC,EAAD,CAFtB,CAGIkJ,iBAAiB,CAAGlJ,mBAAO,CAAC,EAAD,CAH/B,CA0BA,GAAImJ,WAAU,CAAG/G,QAAQ,CAAC,SAASgH,KAAT,CAAgBvuB,MAAhB,CAAwB,CAChD,MAAOquB,kBAAiB,CAACE,KAAD,CAAjB,CACHH,cAAc,CAACG,KAAD,CAAQ1G,WAAW,CAAC7nB,MAAD,CAAS,CAAT,CAAYquB,iBAAZ,CAA+B,IAA/B,CAAnB,CADX,CAEH,EAFJ,CAGD,CAJwB,CAAzB,CAMA5yC,MAAM,CAACC,OAAP,CAAiB4yC,UAAjB,C;;;;;;ACvBA,QAASE,SAAT,CAAkBD,KAAlB,CAAyBE,QAAzB,CAAmC,CACjC,GAAIj5B,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MADvC,CAEIiP,MAAM,CAAGjN,KAAK,CAAChC,MAAD,CAFlB,CAIA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvBiP,MAAM,CAACoH,KAAD,CAAN,CAAgBi5B,QAAQ,CAACF,KAAK,CAAC/4B,KAAD,CAAN,CAAeA,KAAf,CAAsB+4B,KAAtB,CAAxB,CACD,CACD,MAAOngC,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiB8yC,QAAjB,C;;;;;;ACpBA,GAAI5G,SAAQ,CAAGzC,mBAAO,CAAC,GAAD,CAAtB,CACIuJ,QAAQ,CAAGvJ,mBAAO,CAAC,EAAD,CADtB,CAEIwJ,WAAW,CAAGxJ,mBAAO,CAAC,EAAD,CAFzB,CAYA,QAASoC,SAAT,CAAkBlvB,IAAlB,CAAwBxJ,KAAxB,CAA+B,CAC7B,MAAO8/B,YAAW,CAACD,QAAQ,CAACr2B,IAAD,CAAOxJ,KAAP,CAAc+4B,QAAd,CAAT,CAAkCvvB,IAAI,CAAG,EAAzC,CAAlB,CACD,CAED5c,MAAM,CAACC,OAAP,CAAiB6rC,QAAjB,C;;;;;;ACFA,QAASnnC,KAAT,CAAcmuC,KAAd,CAAqB,CACnB,GAAIpvC,OAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MAAvC,CACA,MAAOA,OAAM,CAAGovC,KAAK,CAACpvC,MAAM,CAAG,CAAV,CAAR,CAAuBkC,SAApC,CACD,CAED5F,MAAM,CAACC,OAAP,CAAiB0E,IAAjB,C;;;;;;ACnBA,GAAIwuC,YAAW,CAAGzJ,mBAAO,CAAC,GAAD,CAAzB,CA8BA,QAAS0J,QAAT,CAAiBhsC,KAAjB,CAAwBisC,KAAxB,CAA+B,CAC7B,MAAOF,YAAW,CAAC/rC,KAAD,CAAQisC,KAAR,CAAlB,CACD,CAEDrzC,MAAM,CAACC,OAAP,CAAiBmzC,OAAjB,C;;;;;;AClCA,GAAInH,QAAO,CAAGvC,mBAAO,CAAC,EAAD,CAArB,CACI9sB,IAAI,CAAGqvB,OAAO,CAAC,KAAD,CAAQvC,mBAAO,CAAC,GAAD,CAAf,CADlB,CAGA9sB,IAAI,CAACsvB,WAAL,CAAmBxC,mBAAO,CAAC,EAAD,CAA1B,CACA1pC,MAAM,CAACC,OAAP,CAAiB2c,IAAjB,C;;;;;;ACJA,GAAI02B,SAAQ,CAAG5J,mBAAO,CAAC,EAAD,CAAtB,CACI6J,MAAM,CAAG7J,mBAAO,CAAC,EAAD,CADpB,CAEI8J,WAAW,CAAG9J,mBAAO,CAAC,EAAD,CAFzB,CAGI/jC,OAAO,CAAG+jC,mBAAO,CAAC,CAAD,CAHrB,CAIIjjC,WAAW,CAAGijC,mBAAO,CAAC,GAAD,CAJzB,CAKI+J,QAAQ,CAAG/J,mBAAO,CAAC,EAAD,CALtB,CAMIgK,WAAW,CAAGhK,mBAAO,CAAC,GAAD,CANzB,CAOIiK,YAAY,CAAGjK,mBAAO,CAAC,EAAD,CAP1B,CAUA,GAAIkK,OAAM,CAAG,cAAb,CACIC,MAAM,CAAG,cADb,CAIA,GAAIC,YAAW,CAAGrzC,MAAM,CAAC8C,SAAzB,CAGA,GAAIrC,eAAc,CAAG4yC,WAAW,CAAC5yC,cAAjC,CAmCA,QAAS6yC,QAAT,CAAiB3sC,KAAjB,CAAwB,CACtB,GAAIA,KAAK,EAAI,IAAb,CAAmB,CACjB,MAAO,KAAP,CACD,CACD,GAAIX,WAAW,CAACW,KAAD,CAAX,GACCzB,OAAO,CAACyB,KAAD,CAAP,EAAkB,MAAOA,MAAP,EAAgB,QAAlC,EAA8C,MAAOA,MAAK,CAACpC,MAAb,EAAuB,UAArE,EACCyuC,QAAQ,CAACrsC,KAAD,CADT,EACoBusC,YAAY,CAACvsC,KAAD,CADhC,EAC2CosC,WAAW,CAACpsC,KAAD,CAFvD,CAAJ,CAEqE,CACnE,MAAO,CAACA,KAAK,CAAC1D,MAAd,CACD,CACD,GAAIuM,IAAG,CAAGsjC,MAAM,CAACnsC,KAAD,CAAhB,CACA,GAAI6I,GAAG,EAAI2jC,MAAP,EAAiB3jC,GAAG,EAAI4jC,MAA5B,CAAoC,CAClC,MAAO,CAACzsC,KAAK,CAAC4sC,IAAd,CACD,CACD,GAAIN,WAAW,CAACtsC,KAAD,CAAf,CAAwB,CACtB,MAAO,CAACksC,QAAQ,CAAClsC,KAAD,CAAR,CAAgB1D,MAAxB,CACD,CACD,IAAK,GAAIgK,IAAT,GAAgBtG,MAAhB,CAAuB,CACrB,GAAIlG,cAAc,CAACG,IAAf,CAAoB+F,KAApB,CAA2BsG,GAA3B,CAAJ,CAAqC,CACnC,MAAO,MAAP,CACD,CACF,CACD,MAAO,KAAP,CACD,CAED1N,MAAM,CAACC,OAAP,CAAiB8zC,OAAjB,C;;;;;;ACvEA/zC,MAAM,CAACC,OAAP,CAAiB,EAAjB,C;;;;;;ACLA,GAAI0yC,eAAc,CAAGjJ,mBAAO,CAAC,GAAD,CAA5B,CACIoC,QAAQ,CAAGpC,mBAAO,CAAC,EAAD,CADtB,CAEIkJ,iBAAiB,CAAGlJ,mBAAO,CAAC,EAAD,CAF/B,CAwBA,GAAIuK,QAAO,CAAGnI,QAAQ,CAAC,SAASgH,KAAT,CAAgBvuB,MAAhB,CAAwB,CAC7C,MAAOquB,kBAAiB,CAACE,KAAD,CAAjB,CACHH,cAAc,CAACG,KAAD,CAAQvuB,MAAR,CADX,CAEH,EAFJ,CAGD,CAJqB,CAAtB,CAMAvkB,MAAM,CAACC,OAAP,CAAiBg0C,OAAjB,C;;;;;;AC9BA,GAAIC,YAAW,CAAGxK,mBAAO,CAAC,GAAD,CAAzB,CACIyK,IAAI,CAAGzK,mBAAO,CAAC,GAAD,CADlB,CAaA,QAASuC,QAAT,CAAiB9mC,IAAjB,CAAuByX,IAAvB,CAA6B1X,OAA7B,CAAsC,CACpC,MAAOgvC,YAAW,CAACC,IAAD,CAAOhvC,IAAP,CAAayX,IAAb,CAAmB1X,OAAnB,CAAlB,CACD,CAEDlF,MAAM,CAACC,OAAP,CAAiBgsC,OAAjB,C;;;;;;ACQA,QAAShC,SAAT,CAAkB7iC,KAAlB,CAAyB,CACvB,GAAIxF,KAAI,CAAG,MAAOwF,MAAlB,CACA,MAAOA,MAAK,EAAI,IAAT,GAAkBxF,IAAI,EAAI,QAAR,EAAoBA,IAAI,EAAI,UAA9C,CAAP,CACD,CAED5B,MAAM,CAACC,OAAP,CAAiBgqC,QAAjB,C;;;;;;AC9BA,GAAImC,YAAW,CAAG1C,mBAAO,CAAC,EAAD,CAAzB,CAgBA,QAAS0K,QAAT,CAAiBtB,KAAjB,CAAwB,CACtB,GAAIpvC,OAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MAAvC,CACA,MAAOA,OAAM,CAAG0oC,WAAW,CAAC0G,KAAD,CAAQ,CAAR,CAAd,CAA2B,EAAxC,CACD,CAED9yC,MAAM,CAACC,OAAP,CAAiBm0C,OAAjB,C;;;;;;ACrBA,GAAIrB,SAAQ,CAAGrJ,mBAAO,CAAC,EAAD,CAAtB,CACI2K,YAAY,CAAG3K,mBAAO,CAAC,CAAD,CAD1B,CAEI4K,UAAU,CAAG5K,mBAAO,CAAC,GAAD,CAFxB,CAGI6K,YAAY,CAAG7K,mBAAO,CAAC,GAAD,CAH1B,CAuBA,QAAS8K,OAAT,CAAgB15B,MAAhB,CAAwB25B,SAAxB,CAAmC,CACjC,GAAI35B,MAAM,EAAI,IAAd,CAAoB,CAClB,MAAO,EAAP,CACD,CACD,GAAIgQ,MAAK,CAAGioB,QAAQ,CAACwB,YAAY,CAACz5B,MAAD,CAAb,CAAuB,SAASsG,IAAT,CAAe,CACxD,MAAO,CAACA,IAAD,CAAP,CACD,CAFmB,CAApB,CAGAqzB,SAAS,CAAGJ,YAAY,CAACI,SAAD,CAAxB,CACA,MAAOH,WAAU,CAACx5B,MAAD,CAASgQ,KAAT,CAAgB,SAAS1jB,KAAT,CAAgBstC,IAAhB,CAAsB,CACrD,MAAOD,UAAS,CAACrtC,KAAD,CAAQstC,IAAI,CAAC,CAAD,CAAZ,CAAhB,CACD,CAFgB,CAAjB,CAGD,CAED10C,MAAM,CAACC,OAAP,CAAiBu0C,MAAjB,C;;;;;;mGCpCA,GAAMG,UACJl0C,eACA,WAAY,C,MACV,E,CAHJ,EAMO,GAAMiuB,MAAOimB,SAAO,40BAApB,KAAoB,CAAPA,CAAb,CAuHA,GAAMC,KAAMD,SAAO,2aAAnB,OAAmB,CAAPA,CAAZ,CAiDA,GAAME,YAAaF,SAAO,2TAA1B,cAA0B,CAAPA,CAAnB,CA0BA,GAAMG,QAASH,SAAO,4OAAtB,YAAsB,CAAPA,CAAf,CAgCA,GAAMnyC,MAAOmyC,SAAO,CAApB,OAAoB,CAAPA,CAAb,CCxOP,GAAMA,UACJl0C,eACA,WAAY,C,MACV,E,CAHJ,EAMO,GAAMiuB,QAAOimB,SAAO,ozBAApB,OAAoB,CAAPA,CAAb,CA8FA,GAAMC,OAAMD,SAAO,0/DAAnB,YAAmB,CAAPA,CAAZ,CAqLA,GAAMG,UAASH,SAAO,ilBAAtB,OAAsB,CAAPA,CAAf,CAwDA,GAAM3hC,KAAM2hC,SAAO,iDAAnB,aAAmB,CAAPA,CAAZ,C,GCjVCzzC,gBAAmCT,OAAnCS,c,IAAgB6zC,gBAAmBt0C,OAAnBs0C,c,YACR,8BAAkCC,O,IAA5CzwC,qB,CAEN,GAAI,CAAJ,QAAY,C,QACF,4BAA+B,C,MAC9B0wC,qBAAP,IAAOA,C,CADT,C,EAMK,4BAA8B,C,GACnC,c,CAAoB,C,eAIlB,G,CAAA,I,MAGEp7B,GAAIi5B,MAAR,M,OACOj5B,CAAP,E,CAAY,C,GACNq7B,SAAUpC,MAAd,CAAcA,C,IACV,iBAAJ,Q,CAAiC,C,GACzBqC,WAAYD,QAAlB,WAAkBA,E,IACdC,YAAJ,O,CAA2B,C,GAErB,CAAC10C,gBAAL,KAAKA,C,CAAwB,C,MAC3B,C,EAAA,S,UAGF,S,OAIJ,O,EAAA,I,QAGF,I,EAIK,sBAAuB,C,GACtB20C,WAAN,E,IAEIC,cAAJ,E,KACA,Q,GAAA,O,CAAyB,C,GACnB9wC,8BAA8B,CAAlC,QAAkC,CAA9BA,C,CAA2C,C,UAC7C,Q,EAAsBuW,OAAtB,QAAsBA,C,SAI1B,U,EClDF,GAAMw6B,MACJ70C,aACA,WAAY,C,MACV,E,CAHJ,EAMO,GAAM80C,eAAgBD,KAAtB,2BAAsBA,CAAtB,CACA,GAAME,UAAWF,KAAjB,uBAAiBA,CAAjB,CACA,GAAMG,WAAYH,KAAlB,4BAAkBA,CAAlB,CACA,GAAMI,WAAYJ,KAAlB,gBAAkBA,CAAlB,CACA,GAAMK,gBAAiBL,6FAAvB,CAGA,GAAMM,mBAAoBN,KAA1B,uBAA0BA,CAA1B,CACA,GAAMO,iBAAkBP,mEAAxB,C,iZCdP,SAKgB,8BAAkCN,OALlD,C,GAKMzwC,iB,IACSuxC,YAAepwC,MAAMnC,SAANmC,CAAtB/E,K,IACAg0C,QAAWl0C,OAAXk0C,M,CACR,GAAMoB,qBAAY,C,MAAO,kCAAP,M,CAAlB,EAEA,GAAI,CAAJ,MAAY,C,MACF,4BAA+B,C,MAC9Bd,qBAAP,IAAOA,C,CADT,C,EAaF,GAAMe,oCAA4B,YAA5BA,CAA4B,QAA5BA,CAA6D,C,GAE/D,kFACA,MAAOC,cAAP,eAFF,U,CAGE,C,MACA,K,KAME7gB,QAAJ,I,IACM8gB,WAAN,uB,IAEEh2C,wBACAA,oCAFF,SAEEA,C,CACA,C,OACSA,oCAAT,SAASA,C,KAGLi2C,YAAa,aAAe/gB,OAAS,IAATA,OAAlC,EAAmB,C,IAEf,C,MACK,sCAAsC,C,UAAA,kBAC1B,C,MACf,Q,EAFyC,CAAtC,C,CADT,CAME,YAAc,C,QAId,I,CACE,kCADF,wB,QAGA,K,EAnCJ,EAuCA,0BAA+C,C,GAAtB/0B,OAAsB,2DAAb01C,W,IAC1BK,oBAAY,IAAZA,CAAY,C,MAAQC,iBAAR,IAAQA,C,CAA1B,C,WAMA,O,CAAA,O,WAMA,O,CAAA,E,IAEI,SAAW,CAACh2C,OAAZ,UAA+BA,2BAAnC,C,CAAmE,C,UAGjE,W,CAAA,K,OAEA,U,KAGIi2C,kBAAmBj2C,OAAzB,Q,IACIk2C,cAAJ,K,IACIC,aAAJ,K,IAEMt2C,SA3BuC,CA2B1BG,MA3B0B,S,IA6B3Co2C,iBA7B2C,CAsCzCp2C,MAtCyC,iB,CA8B3Cq2C,mBA9B2C,CAsCzCr2C,MAtCyC,oB,CA+B3Cs2C,IA/B2C,CAsCzCt2C,MAtCyC,K,CAgC3Cu2C,UAhC2C,CAsCzCv2C,MAtCyC,W,sBAsCzCA,MAtCyC,a,CAiC3Cw2C,YAjC2C,kCAiC5Bx2C,qBAAuBA,OAjCK,oC,CAkC3Cy2C,IAlC2C,CAsCzCz2C,MAtCyC,K,CAmC3C02C,OAnC2C,CAsCzC12C,MAtCyC,Q,CAoC3Cy9B,SApC2C,CAsCzCz9B,MAtCyC,U,CAqC3C22C,YArC2C,CAsCzC32C,MAtCyC,a,IA8CzC,6BAAJ,U,CAA+C,C,GACvC42C,UAAW/2C,uBAAjB,UAAiBA,C,IACb+2C,kBAAoBA,iBAAxB,a,CAAwD,C,SAC3CA,iBAAX,a,MAIEC,oBAAqBlB,uCAA3B,gBAA2BA,C,IAIrBmB,WAAYD,mBAAqBA,8BAArBA,EAAqBA,CAArBA,CAAlB,E,eAzD6C,Q,CA4D3CpQ,cA5D2C,yB,CA6D3CsQ,kBA7D2C,6B,CA8D3CtqC,oBA9D2C,+B,CA+D3CsZ,sBA/D2C,iC,IAiErCixB,WAjEqC,CAiEtBf,gBAjEsB,W,IAmEzCn0B,OAAJ,E,WAKA,W,CACE2kB,gBACA,MAAOA,gBAAP,qBADAA,aAEA5mC,wBAHF,C,IAMEq1C,iBA9E2C,c,CA+E3CC,WA/E2C,S,CAmF3CK,kBAnF2C,gB,IAsFvCF,kBAtFuC,e,IA8FzC2B,cAAJ,I,IACMC,sBAAuBC,oJAA7B,IAA6BA,G,IASzBC,cAAJ,I,IACMC,sBAAuBF,2HAA7B,GAA6BA,G,IAQzBG,aAAJ,I,IAGIC,aAAJ,I,IAGIC,iBAAJ,I,IAGIC,iBAAJ,I,IAGIC,yBAAJ,K,IAGIC,iBAAJ,K,IAKIC,oBAAJ,K,IAGIC,gBAAJ,K,IAGIC,YAAJ,K,IAIIC,YAAJ,K,IAMIC,YAAJ,K,IAIIC,qBAAJ,K,IAMIC,mBAAJ,K,IAIIC,qBAAJ,K,IAGIC,cAAJ,I,IAGIC,cAAJ,I,IAIIC,UAAJ,K,IAGIC,cAAJ,E,IAGMC,iBAAkBrB,YAAa,0MAArC,KAAqC,CAAbA,C,IA4BlBsB,eAAgBtB,YAAa,gCAAnC,OAAmC,CAAbA,C,IASlBuB,qBAAJ,I,IACMC,6BAA8BxB,YAAa,mGAAjD,OAAiD,CAAbA,C,IAiBhCyB,QAAJ,I,IAKMC,aAAch5C,uBAApB,MAAoBA,C,IAQdi5C,uBAAe,GAAfA,CAA6B,C,GAC7BF,QAAUA,SAAd,G,CAA8B,C,WAK1B,MAAQ,sDAAZ,Q,CAAqC,C,IACnC,E,eAKA,qBACIzB,YAAa4B,IADjB,YACI5B,CADJ,CADF,oB,cAKE,qBACIA,YAAa4B,IADjB,YACI5B,CADJ,CADF,oB,qBAKE,0BACIA,SAASlyC,MAATkyC,2BAASlyC,CAATkyC,CAA6C4B,IADjD,iBACI5B,CADJ,CADF,2B,aAIc,oBAAuBA,YAAa4B,IAApC,WAAuB5B,CAAvB,CAAd,E,aACc,oBAAuBA,YAAa4B,IAApC,WAAuB5B,CAAvB,CAAd,E,cACe,qBAAwB4B,IAAxB,aAAf,K,iBACkBA,sBA1Be,K,iBA2BfA,sBA3Be,K,yBA4BPA,6BA5BO,K,iBA6BfA,qBA7Be,K,oBA8BZA,wBA9BY,K,gBA+BhBA,oBA/BgB,K,YAgCpBA,gBAhCoB,K,qBAiCXA,yBAjCW,K,mBAkCbA,uBAlCa,K,qBAmCXA,yBAnCW,K,YAoCpBA,gBApCoB,K,cAqClBA,mBArCkB,K,cAsClBA,mBAtCkB,K,UAuCtBA,cAvCsB,K,mBAyChBA,wBAAjB,iB,IAEA,kB,CAAwB,C,gBACtB,K,KAGF,mB,CAAyB,C,WACvB,I,KAIF,Y,CAAkB,C,aACD5B,yCAAf,IAAeA,G,cACf,E,IACIoB,oBAAJ,I,CAAgC,C,SAC9B,Y,CAAA,I,WACA,Y,CAAA,M,MAGEA,mBAAJ,I,CAA+B,C,SAC7B,Y,CAAA,G,WACA,Y,CAAA,K,WACA,Y,CAAA,G,MAGEA,0BAAJ,I,CAAsC,C,SACpC,Y,CAAA,U,WACA,Y,CAAA,K,WACA,Y,CAAA,G,MAGEA,sBAAJ,I,CAAkC,C,SAChC,Y,CAAA,M,WACA,Y,CAAA,Q,WACA,Y,CAAA,G,OAKAQ,IAAJ,Q,CAAkB,C,GACZ9B,eAAJ,oB,CAA2C,C,aAC1BhyC,MAAf,YAAeA,C,WAGjB,Y,CAAuB8zC,IAAvB,Q,MAGEA,IAAJ,Q,CAAkB,C,GACZ3B,eAAJ,oB,CAA2C,C,aAC1BnyC,MAAf,YAAeA,C,WAGjB,Y,CAAuB8zC,IAAvB,Q,MAGEA,IAAJ,iB,CAA2B,C,SACzB,mB,CAA8BA,IAA9B,iB,MAIF,Y,CAAkB,C,aAChB,O,EAAA,I,KAIF,c,CAAoB,C,SAClB,Y,CAAuB,eAAvB,MAAuB,C,MAIrB9B,aAAJ,K,CAAwB,C,SACtB,Y,CAAuB,CAAvB,OAAuB,C,QAChBK,aAAP,K,KAKF,M,CAAY,C,OACV,G,UAGF,G,CA1HF,C,IAkIM0B,uBAAe,IAAfA,CAA8B,C,UAClC,O,CAAA,I,CAAuB,CAAEnE,QAAzB,IAAuB,C,KACnB,C,KACF,U,CAAA,W,CAAA,I,EADF,CAEE,YAAc,C,KACd,S,CAAA,S,EALJ,C,IAeMoE,2BAAmB,IAAnBA,CAAmB,IAAnBA,CAAwC,C,GACxC,C,UACF,O,CAAA,I,CAAuB,C,UACVp3C,sBADU,IACVA,CADU,C,KAEfA,IAFe,C,EADzB,CAKE,YAAc,C,UACd,O,CAAA,I,CAAuB,C,UAAA,K,KAEfA,IAFe,C,QAMzB,e,CAAA,I,EAbF,C,IAsBMq3C,wBAAgB,KAAhBA,CAAgC,C,GAEhCp3C,SAAJ,E,IACIq3C,uBAAJ,E,IAEA,U,CAAgB,C,MACN,oBAAR,K,CADF,C,IAEO,C,GAECtyC,SAAUuyC,YAAhB,QAAgBA,C,mBACIvyC,SAAWA,QAA/B,CAA+BA,C,IAC/B,iB,CAAuB,C,MACbuyC,YAAYD,kBAApB,MAAQC,C,MAKZ,Y,CAAkB,C,GACZ,C,IACI,sCAAN,WAAM,C,CADR,CAEE,YAAc,E,IAIlB,W,CAAiB,C,SACf,W,CAAsB,CAAtB,OAAsB,C,MAKpB,MAAQ,CAACt3C,IAAb,e,CAAkC,C,IAC1B2kC,kCAAN,EAAMA,C,UAD0B,G,CAExB1iB,IAFwB,U,MAGhC,U,CAAA,W,CAA4BA,gBAA5B,iB,OACA,S,CAAiB8yB,mBACbA,8BADaA,KACbA,CADaA,CAAjB,K,KAKEuC,OAAJ,iB,CAAgC,C,IAC9B,I,CAAA,Y,CACEv5C,wBADF,iBACEA,C,CACAiC,wBAFF,I,SAOK2K,+BAA+BorC,sBAA/BprC,QAAP,CAAOA,C,CA/CT,C,IA2DIspC,UAAJ,W,CAA2B,C,CACxB,UAAW,C,GACN,C,GACIj0C,KAAMo3C,cAAZ,6DAAYA,C,IAGRp3C,kBAAJ,SAAIA,C,CAA8B,C,aAChC,I,EALJ,CAOE,YAAc,EARlB,C,KAWC,UAAW,C,GACN,C,GACIA,KAAMo3C,cAAZ,sCAAYA,C,IACR,gBAAgBp3C,2BAApB,SAAI,C,CAAuD,C,YACzD,I,EAHJ,CAKE,YAAc,EANlB,C,QAgBIu3C,0BAAkB,IAAlBA,CAAiC,C,MAC9B,yBACLvgC,oBADK,UAGLy9B,wBAA0BA,WAA1BA,aAAoDA,WAH/C,UAIL,UAAM,C,MACGA,YAAP,a,CALG,EAAP,KAAO,C,CADT,C,IAkBM+C,uBAAe,GAAfA,CAA6B,C,GAC7BC,qBAAuBA,cAA3B,Q,CAAmD,C,MACjD,M,KAIA,MAAOA,KAAP,qBACA,MAAOA,KAAP,cADA,UAEA,MAAOA,KAAP,cAFA,YAGA,EAAEA,yBAHF,aAGA,CAHA,EAIA,MAAOA,KAAP,kBAJA,YAKA,MAAOA,KAAP,eALA,YAMA,MAAOA,KAAP,eAPF,Q,CAQE,C,MACA,K,QAGF,M,CAjBF,C,IA0BMC,kBAAU,GAAVA,CAAwB,C,MACrB,iEACHr4C,cADG,MAEHA,KACE,sDADFA,UAEE,MAAOA,KAAP,WAFFA,UAGE,MAAOA,KAAP,WALN,Q,CADF,C,IAiBMs4C,uBAAe,UAAfA,CAAe,WAAfA,CAAe,IAAfA,CAAuD,C,GACvD,CAAC33B,MAAL,UAAKA,C,CAAmB,C,cAIxB,U,EAAA,O,CAA0B,cAAQ,C,KAChC,I,CAAA,S,CAAA,W,CAAA,I,CAAA,M,EADF,C,EALF,C,IAqBM43B,4BAAoB,WAApBA,CAA0C,C,GAC1Cr/B,aAAJ,E,cAGA,wB,CAAA,W,CAAA,I,KAGIi/B,aAAJ,WAAIA,C,CAA2B,C,aAC7B,W,QACA,K,KAIIK,SAAUC,qBAAhB,WAAgBA,E,cAGhB,qB,CAAA,W,CAAiD,C,QAAA,Q,YAElC3C,YAFkC,C,KAO/C,CAAC0C,iBAAqBA,UAAtB,SACAC,+CAFF,C,CAGE,C,aACA,W,QACA,K,KAIE,CAAC3C,aAAD,OAACA,CAAD,EAA0BK,YAA9B,OAA8BA,C,CAAsB,C,GAGhDe,cACA,CAACG,gBADDH,OACCG,CADDH,EAEA,MAAOuB,aAAP,qBAHF,U,CAIE,C,GACI,C,GACIC,cAAeD,YAArB,S,aACA,kB,CAAA,U,CAEE/C,mBACIA,8BADJA,YACIA,CADJA,CAFF,Y,EAFF,CAQE,YAAc,E,cAGlB,W,QACA,K,KAIE8C,sBAA0B,oBAAoBC,YAAlD,SAA8B,C,CAA4C,C,aACxE,W,QACA,K,KAGED,qBAAyB,mBAAmBC,YAAhD,SAA6B,C,CAA2C,C,aACtE,W,QACA,K,KAKAjC,iBACA,CAACiC,YADDjC,oBAEC,CAACiC,YAAD,SAAwB,CAACA,oBAF1BjC,oBAGA,UAAUiC,YAJZ,WAIE,C,CACA,C,UACA,O,CAAA,I,CAAuB,CAAE/E,QAAS+E,YAAlC,SAAkCA,EAAX,C,KACnBA,YAAJ,S,CAA2B,C,YACzB,S,CAAwBA,mCAAxB,MAAwBA,C,CAD1B,C,IAEO,C,YACL,S,CAAwBA,qCAAxB,MAAwBA,C,MAKxBhC,oBAAsBgC,uBAA1B,C,CAAsD,C,QAE1CA,YAAV,W,SACUv/B,iCAAV,GAAUA,C,SACAA,4BAAV,GAAUA,C,IACNu/B,0BAAJ,O,CAAyC,C,UACvC,O,CAAA,I,CAAuB,CAAE/E,QAAS+E,YAAlC,SAAkCA,EAAX,C,cACvB,W,CAAA,O,gBAKJ,uB,CAAA,W,CAAA,I,QAEA,M,CA9FF,C,IA0GME,4BAAoB,KAApBA,CAAoB,MAApBA,CAAoB,KAApBA,CAAmD,C,GAGrD1B,eACC2B,eAAmBA,SADpB3B,UAECrxC,mBAAqBA,QAHxB,YACEqxC,C,CAGA,C,MACA,M,KAOEX,iBA/rBuC,SA+rBpBrC,MAAvB,MAAuBA,C,CAAwB,CAA/C,C,IAEO,IAAIoC,iBAjsBgC,SAisBbnC,MAAvB,MAAuBA,CAAvB,CAA+C,CAA/C,KAGA,IAAI,CAAC+B,aAAD,MAACA,CAAD,EAAyBG,YAA7B,MAA6BA,CAA7B,CAAkD,C,MACvD,M,CADK,KAIA,IAAImB,oBAAJ,MAAIA,CAAJ,CAAiC,CAAjC,KAIA,IAAIpD,uBAAoBvuC,iCAAxB,EAAwBA,CAApBuuC,CAAJ,CAA6D,CAA7D,KAIA,IACL,CAACyE,gBAAoBA,SAApBA,cAA+CA,SAAhD,SACAC,QADA,UAEAjzC,yBAFA,GAGA0xC,cAJK,KAILA,CAJK,CAKL,CALK,KAUA,IACLf,yBACA,CA5tByC,iBA4tBxCnC,MAAuBxuC,iCAFnB,EAEmBA,CAAvBwuC,CAFI,CAGL,CAHK,KAOA,KAAI,CAAJ,MAGA,C,MACL,M,QAGF,K,CAvDF,C,IAqEM0E,8BAAsB,WAAtBA,CAA4C,C,GAC5ChpC,UAAJ,E,IACIlK,WAAJ,E,IACIgzC,YAAJ,E,IACIG,YAAJ,E,IACI1gC,OAAJ,E,cAEA,0B,CAAA,W,CAAA,I,KAEMjQ,WAT0C,CAS3BqwC,WAT2B,W,IAY5C,CAAJ,U,CAAiB,C,WAIXO,WAAY,C,SAAA,G,UAAA,G,SAAA,K,kBAIG/C,YAJH,C,GAMd7tC,WAAJ,M,OAGOiQ,CAAP,E,CAAY,C,KACHjQ,WAAP,CAAOA,C,WADG,I,CAEFzE,IAFE,W,CAEI8J,YAFJ,mB,OAGFqC,WAAR,IAAQA,E,QACCnM,KAAT,WAASA,E,WAGT,Q,CAAA,M,WACA,S,CAAA,K,WACA,Q,CAAA,I,cACA,uB,CAAA,W,CAAA,S,QACQq1C,UAAR,S,IAOEJ,iBACAH,uBADAG,OAEAxwC,WAHF,E,CAIE,C,OACSA,WAAT,E,YACarF,4BAAb,EAAaA,C,kBACb,I,CAAA,W,mBACA,I,CAAA,W,KACIqF,2BAAJ,C,CAAoC,C,YAClC,Y,CAAA,I,CAA+B2wC,OAA/B,K,GAVJ,C,IAYO,I,YAGL,Q,GAAA,O,EACAH,SADA,M,EAEAhzC,QAFA,M,EAGAozC,UAHA,Q,GAIC/C,sBAAwB,CAACG,YAPrB,MAOqBA,C,CAPrB,CAQL,C,SARK,KAUA,C,GAIDzyC,OAAJ,I,CAAmB,C,YACjB,Y,CAAA,I,CAAA,E,oBAGF,I,CAAA,W,MAIE,CAACq1C,UAAL,Q,CAAyB,C,aAMvB,iBAAiBP,YAAjB,eACA,WACE,MAAQx5C,kCAAR,GAAQA,CAAR,CADF,cAFF,KAEE,C,CAIA,C,iBACA,I,CAAA,W,eAKF,kB,CAAwB,C,MACd2G,+BAAR,GAAQA,C,OACAA,0BAAR,GAAQA,C,KAIJizC,OAAQJ,qBAAd,WAAcA,E,IACV,CAACE,+BAAL,KAAKA,C,CAAyC,C,aAK1C,C,GACF,Y,CAAkB,C,YAChB,c,CAAA,Y,CAAA,I,CAAA,K,EADF,C,IAEO,C,YAEL,Y,CAAA,I,CAAA,K,aAGF,O,CAAA,G,GARF,CASE,YAAc,E,cAIlB,yB,CAAA,W,CAAA,I,EAtHF,C,IA8HMM,oBAAqB,QAArBA,mBAAqB,UAAmB,C,GACxCC,gBAAJ,E,IACMC,gBAAiBjB,gBAAvB,QAAuBA,C,cAGvB,yB,CAAA,Q,CAAA,I,QAEQgB,WAAaC,eAArB,QAAqBA,E,CAA4B,C,aAE/C,wB,CAAA,U,CAAA,I,KAGIZ,kBAAJ,UAAIA,C,CAA+B,C,aAK/BW,6BAAJ,iB,CAAoD,C,mBAC/BA,WAAnB,O,uBAIF,U,gBAIF,wB,CAAA,Q,CAAA,I,EA1BF,C,WAqCA,Q,CAAqB,mBAAqB,C,GACpCt2B,UAAJ,E,IACIw2B,kBAAJ,E,IACIX,iBAAJ,E,IACIY,aAAJ,E,IACIC,gBAAJ,E,IAII,CAAJ,K,CAAY,C,MACV,O,KAIE,yBAA6B,CAACjB,QAAlC,KAAkCA,C,CAAgB,C,GAE5C,MAAOJ,OAAP,WAAJ,U,CAA0C,C,KAClC,eAAN,4BAAM,C,CADR,C,IAEO,C,MACGA,MAAR,QAAQA,E,IACJ,eAAJ,Q,CAA+B,C,KACvB,eAAN,iCAAM,C,OAMR,CAACrD,UAAL,W,CAA4B,C,GAExB,QAAO/1C,OAAP,0BACA,MAAOA,QAAP,eAFF,U,CAGE,C,GACI,eAAJ,Q,CAA+B,C,MACtBA,qBAAP,KAAOA,C,KAGLw5C,QAAJ,KAAIA,C,CAAgB,C,MACXx5C,qBAAoBo5C,MAA3B,SAAOp5C,C,SAIX,M,KAIE,CAAJ,U,CAAiB,C,aACf,G,aAIF,O,CAAA,E,IAEA,Q,CAAc,CAAd,C,IAEO,IAAIo5C,gBAAJ,MAA2B,C,KAGzBF,cAAP,OAAOA,C,cACQn1B,oCAAf,IAAeA,C,IACXw2B,2BAA+BA,wBAAnC,M,CAAqE,C,KAEnE,Y,CAFF,C,IAGO,IAAIA,wBAAJ,OAAsC,C,KAC3C,Y,CADK,KAEA,C,KAEL,W,CAAA,Y,GAZG,KAcA,C,GAGH,aACA,CADA,oBAEA,CAFA,qCAIAnB,qBAAuB,CALzB,C,CAME,C,MACOvC,oBACHA,8BADGA,KACHA,CADGA,CAAP,K,OAMKqC,cAAP,KAAOA,C,IAGH,CAAJ,I,CAAW,C,MACFlB,iBAAP,S,MAKAj0B,MAAJ,U,CAAwB,C,aACTA,KAAb,U,MAII22B,cAAerB,gBAAgBf,eAArC,IAAqBe,C,OAGbO,YAAcc,aAAtB,QAAsBA,E,CAA0B,C,GAE1Cd,0BAA8BA,cAAlC,O,CAA2D,C,aAKvDF,kBAAJ,WAAIA,C,CAAgC,C,aAKhCE,8BAAJ,iB,CAAqD,C,mBAChCA,YAAnB,O,uBAIF,W,UAEA,W,UAGF,I,IAGA,Q,CAAc,C,MACZ,M,KAIF,U,CAAgB,C,GACd,mB,CAAyB,C,WACV7zB,4BAA4BhC,KAAzC,aAAagC,C,OAENhC,KAAP,U,CAAwB,C,WAEtB,W,CAAuBA,KAAvB,U,GALJ,C,IAOO,C,WACL,I,KAGF,iB,CAAuB,C,WAMRizB,4CAAb,IAAaA,C,QAGf,W,KAGE2D,gBAAiB9C,eAAiB9zB,KAAjB8zB,UAAkC9zB,KAAvD,S,IAGA,kB,CAAwB,C,eACL42B,wCAAjB,GAAiBA,C,gBACAA,mCAAjB,GAAiBA,C,QAGZ9D,yCACHA,8BADGA,cACHA,CADGA,CAAP,c,CAlKF,C,WA6KA,S,CAAsB,aAAc,C,aAClC,G,aACA,I,CAFF,C,WAUA,W,CAAwB,UAAW,C,OACjC,I,YACA,K,CAFF,C,WAeA,gB,CAA6B,wBAA2B,C,GAElD,CAAJ,M,CAAa,C,aACX,E,MAGImD,OAAQpqC,IAAd,WAAcA,E,IACRmqC,QAAS9oC,KAAf,WAAeA,E,OACR6oC,gCAAP,KAAOA,C,CART,C,WAkBA,O,CAAoB,iCAAmC,C,GACjD,sBAAJ,U,CAAwC,C,cAIxC,U,EAAoBh4B,mBAApB,E,OACA,U,EAAA,I,CAAA,Y,EANF,C,WAgBA,U,CAAuB,oBAAqB,C,GACtCA,MAAJ,UAAIA,C,CAAmB,C,MACrB,U,EAAA,G,IAFJ,C,WAYA,W,CAAwB,oBAAqB,C,GACvCA,MAAJ,UAAIA,C,CAAmB,C,MACrB,U,EAAA,E,EAFJ,C,WAWA,c,CAA2B,UAAW,C,MACpC,E,CADF,C,OAIA,U,EAGF,WAAek0B,eAAf,G;;;;;;AC9tCA,GAAI4E,WAAU,CAAGvR,mBAAO,CAAC,GAAD,CAAxB,CAGA,GAAIwR,SAAQ,CAAG,MAAOjiC,KAAP,EAAe,QAAf,EAA2BA,IAA3B,EAAmCA,IAAI,CAACxY,MAAL,GAAgBA,MAAnD,EAA6DwY,IAA5E,CAGA,GAAIE,KAAI,CAAG8hC,UAAU,EAAIC,QAAd,EAA0BC,QAAQ,CAAC,aAAD,CAAR,EAArC,CAEAn7C,MAAM,CAACC,OAAP,CAAiBkZ,IAAjB,C;;;;;;ACRA,GAAI2yB,SAAQ,CAAGpC,mBAAO,CAAC,EAAD,CAAtB,CACI0R,SAAS,CAAG1R,mBAAO,CAAC,GAAD,CADvB,CAuBA,GAAI2R,QAAO,CAAGvP,QAAQ,CAAC,SAASwP,MAAT,CAAiB,CACtC,GAAI53C,OAAM,CAAG43C,MAAM,CAAC53C,MAApB,CACIsvC,QAAQ,CAAGtvC,MAAM,CAAG,CAAT,CAAa43C,MAAM,CAAC53C,MAAM,CAAG,CAAV,CAAnB,CAAkCkC,SADjD,CAGAotC,QAAQ,CAAG,MAAOA,SAAP,EAAmB,UAAnB,EAAiCsI,MAAM,CAAChyC,GAAP,GAAc0pC,QAA/C,EAA2DptC,SAAtE,CACA,MAAOw1C,UAAS,CAACE,MAAD,CAAStI,QAAT,CAAhB,CACD,CANqB,CAAtB,CAQAhzC,MAAM,CAACC,OAAP,CAAiBo7C,OAAjB,C;;;;;;AC/BA,GAAIE,gBAAe,CAAG7R,mBAAO,CAAC,EAAD,CAA7B,CACI8R,gBAAgB,CAAG9R,mBAAO,CAAC,EAAD,CAD9B,CAIA,GAAIoK,YAAW,CAAGrzC,MAAM,CAAC8C,SAAzB,CAGA,GAAIrC,eAAc,CAAG4yC,WAAW,CAAC5yC,cAAjC,CAyBA,GAAIu6C,QAAO,CAAGD,gBAAgB,CAAC,SAAS7oC,MAAT,CAAiBvL,KAAjB,CAAwBsG,GAAxB,CAA6B,CAC1D,GAAIxM,cAAc,CAACG,IAAf,CAAoBsR,MAApB,CAA4BjF,GAA5B,CAAJ,CAAsC,CACpCiF,MAAM,CAACjF,GAAD,CAAN,CAAY7M,IAAZ,CAAiBuG,KAAjB,EACD,CAFD,IAEO,CACLm0C,eAAe,CAAC5oC,MAAD,CAASjF,GAAT,CAAc,CAACtG,KAAD,CAAd,CAAf,CACD,CACF,CAN6B,CAA9B,CAQApH,MAAM,CAACC,OAAP,CAAiBw7C,OAAjB,C;;;;;;ACxCA,GAAInR,SAAQ,CAAGZ,mBAAO,CAAC,CAAD,CAAtB,CACIO,QAAQ,CAAGP,mBAAO,CAAC,EAAD,CADtB,CAIA,GAAIE,gBAAe,CAAG,qBAAtB,CA8CA,QAAS8R,SAAT,CAAkB9+B,IAAlB,CAAwB8C,IAAxB,CAA8Bxa,OAA9B,CAAuC,CACrC,GAAI2lC,QAAO,CAAG,IAAd,CACIE,QAAQ,CAAG,IADf,CAGA,GAAI,MAAOnuB,KAAP,EAAe,UAAnB,CAA+B,CAC7B,KAAM,IAAIoB,UAAJ,CAAc4rB,eAAd,CAAN,CACD,CACD,GAAIK,QAAQ,CAAC/kC,OAAD,CAAZ,CAAuB,CACrB2lC,OAAO,CAAG,WAAa3lC,QAAb,CAAuB,CAAC,CAACA,OAAO,CAAC2lC,OAAjC,CAA2CA,OAArD,CACAE,QAAQ,CAAG,YAAc7lC,QAAd,CAAwB,CAAC,CAACA,OAAO,CAAC6lC,QAAlC,CAA6CA,QAAxD,CACD,CACD,MAAOT,SAAQ,CAAC1tB,IAAD,CAAO8C,IAAP,CAAa,CAC1B,UAAWmrB,OADe,CAE1B,UAAWnrB,IAFe,CAG1B,WAAYqrB,QAHc,CAAb,CAAf,CAKD,CAED/qC,MAAM,CAACC,OAAP,CAAiBy7C,QAAjB,C;;;;;;ACpEA,GAAIzP,QAAO,CAAGvC,mBAAO,CAAC,EAAD,CAArB,CACI9sB,IAAI,CAAGqvB,OAAO,CAAC,OAAD,CAAUvC,mBAAO,CAAC,EAAD,CAAjB,CADlB,CAGA9sB,IAAI,CAACsvB,WAAL,CAAmBxC,mBAAO,CAAC,EAAD,CAA1B,CACA1pC,MAAM,CAACC,OAAP,CAAiB2c,IAAjB,C;;;;;;ACJA,GAAI++B,UAAS,CAAGjS,mBAAO,CAAC,GAAD,CAAvB,CACIQ,QAAQ,CAAGR,mBAAO,CAAC,GAAD,CADtB,CAsBA,QAASkS,MAAT,CAAeC,MAAf,CAAuBC,KAAvB,CAA8BC,KAA9B,CAAqC,CACnC,GAAIA,KAAK,GAAKn2C,SAAd,CAAyB,CACvBm2C,KAAK,CAAGD,KAAR,CACAA,KAAK,CAAGl2C,SAAR,CACD,CACD,GAAIm2C,KAAK,GAAKn2C,SAAd,CAAyB,CACvBm2C,KAAK,CAAG7R,QAAQ,CAAC6R,KAAD,CAAhB,CACAA,KAAK,CAAGA,KAAK,GAAKA,KAAV,CAAkBA,KAAlB,CAA0B,CAAlC,CACD,CACD,GAAID,KAAK,GAAKl2C,SAAd,CAAyB,CACvBk2C,KAAK,CAAG5R,QAAQ,CAAC4R,KAAD,CAAhB,CACAA,KAAK,CAAGA,KAAK,GAAKA,KAAV,CAAkBA,KAAlB,CAA0B,CAAlC,CACD,CACD,MAAOH,UAAS,CAACzR,QAAQ,CAAC2R,MAAD,CAAT,CAAmBC,KAAnB,CAA0BC,KAA1B,CAAhB,CACD,CAED/7C,MAAM,CAACC,OAAP,CAAiB27C,KAAjB,C;;;;;;ACtCA,GAAII,UAAS,CAAGtS,mBAAO,CAAC,EAAD,CAAvB,CACIuS,UAAU,CAAGvS,mBAAO,CAAC,EAAD,CADxB,CAEIwS,UAAU,CAAGxS,mBAAO,CAAC,GAAD,CAFxB,CAGI2K,YAAY,CAAG3K,mBAAO,CAAC,CAAD,CAH1B,CAIIyS,YAAY,CAAGzS,mBAAO,CAAC,EAAD,CAJ1B,CAKI/jC,OAAO,CAAG+jC,mBAAO,CAAC,CAAD,CALrB,CAMI+J,QAAQ,CAAG/J,mBAAO,CAAC,EAAD,CANtB,CAOInoC,UAAU,CAAGmoC,mBAAO,CAAC,EAAD,CAPxB,CAQIO,QAAQ,CAAGP,mBAAO,CAAC,EAAD,CARtB,CASIiK,YAAY,CAAGjK,mBAAO,CAAC,EAAD,CAT1B,CAyCA,QAAS0S,UAAT,CAAmBthC,MAAnB,CAA2Bk4B,QAA3B,CAAqCqJ,WAArC,CAAkD,CAChD,GAAIC,MAAK,CAAG32C,OAAO,CAACmV,MAAD,CAAnB,CACIyhC,SAAS,CAAGD,KAAK,EAAI7I,QAAQ,CAAC34B,MAAD,CAAjB,EAA6B64B,YAAY,CAAC74B,MAAD,CADzD,CAGAk4B,QAAQ,CAAGqB,YAAY,CAACrB,QAAD,CAAW,CAAX,CAAvB,CACA,GAAIqJ,WAAW,EAAI,IAAnB,CAAyB,CACvB,GAAI/1C,KAAI,CAAGwU,MAAM,EAAIA,MAAM,CAACrX,WAA5B,CACA,GAAI84C,SAAJ,CAAe,CACbF,WAAW,CAAGC,KAAK,CAAG,GAAIh2C,KAAJ,EAAH,CAAc,EAAjC,CACD,CAFD,IAGK,IAAI2jC,QAAQ,CAACnvB,MAAD,CAAZ,CAAsB,CACzBuhC,WAAW,CAAG96C,UAAU,CAAC+E,IAAD,CAAV,CAAmB21C,UAAU,CAACE,YAAY,CAACrhC,MAAD,CAAb,CAA7B,CAAsD,EAApE,CACD,CAFI,IAGA,CACHuhC,WAAW,CAAG,EAAd,CACD,CACF,CACD,CAACE,SAAS,CAAGP,SAAH,CAAeE,UAAzB,EAAqCphC,MAArC,CAA6C,SAAS1T,KAAT,CAAgB2S,KAAhB,CAAuBe,MAAvB,CAA+B,CAC1E,MAAOk4B,SAAQ,CAACqJ,WAAD,CAAcj1C,KAAd,CAAqB2S,KAArB,CAA4Be,MAA5B,CAAf,CACD,CAFD,EAGA,MAAOuhC,YAAP,CACD,CAEDr8C,MAAM,CAACC,OAAP,CAAiBm8C,SAAjB,C;;;;;;AChEA,GAAIp7B,eAAc,CAAG0oB,mBAAO,CAAC,GAAD,CAA5B,CAWA,QAAS6R,gBAAT,CAAyBzgC,MAAzB,CAAiCpN,GAAjC,CAAsCtG,KAAtC,CAA6C,CAC3C,GAAIsG,GAAG,EAAI,WAAP,EAAsBsT,cAA1B,CAA0C,CACxCA,cAAc,CAAClG,MAAD,CAASpN,GAAT,CAAc,CAC1B,eAAgB,IADU,CAE1B,aAAc,IAFY,CAG1B,QAAStG,KAHiB,CAI1B,WAAY,IAJc,CAAd,CAAd,CAMD,CAPD,IAOO,CACL0T,MAAM,CAACpN,GAAD,CAAN,CAActG,KAAd,CACD,CACF,CAEDpH,MAAM,CAACC,OAAP,CAAiBs7C,eAAjB,C;;;;;;ACAA,QAASiB,aAAT,CAAsBp1C,KAAtB,CAA6B,CAC3B,MAAOA,MAAK,EAAI,IAAT,EAAiB,MAAOA,MAAP,EAAgB,QAAxC,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBu8C,YAAjB,C;;;;;;A7BZA,QAASrQ,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;A8BpBA,GAAIxmC,QAAO,CAAG+jC,mBAAO,CAAC,CAAD,CAArB,CACI+S,KAAK,CAAG/S,mBAAO,CAAC,GAAD,CADnB,CAEIgT,YAAY,CAAGhT,mBAAO,CAAC,EAAD,CAF1B,CAGI1oC,QAAQ,CAAG0oC,mBAAO,CAAC,EAAD,CAHtB,CAaA,QAASiT,SAAT,CAAkBv1C,KAAlB,CAAyB0T,MAAzB,CAAiC,CAC/B,GAAInV,OAAO,CAACyB,KAAD,CAAX,CAAoB,CAClB,MAAOA,MAAP,CACD,CACD,MAAOq1C,MAAK,CAACr1C,KAAD,CAAQ0T,MAAR,CAAL,CAAuB,CAAC1T,KAAD,CAAvB,CAAiCs1C,YAAY,CAAC17C,QAAQ,CAACoG,KAAD,CAAT,CAApD,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiB08C,QAAjB,C;;;;;;ACpBA,GAAIl2C,YAAW,CAAGijC,mBAAO,CAAC,GAAD,CAAzB,CACI8S,YAAY,CAAG9S,mBAAO,CAAC,EAAD,CAD1B,CA4BA,QAASkJ,kBAAT,CAA2BxrC,KAA3B,CAAkC,CAChC,MAAOo1C,aAAY,CAACp1C,KAAD,CAAZ,EAAuBX,WAAW,CAACW,KAAD,CAAzC,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiB2yC,iBAAjB,C;;;;;;AChCA,GAAI5xC,SAAQ,CAAG0oC,mBAAO,CAAC,EAAD,CAAtB,CAMA,GAAIkT,aAAY,CAAG,qBAAnB,CACIC,eAAe,CAAG9yC,MAAM,CAAC6yC,YAAY,CAACj6B,MAAd,CAD5B,CAkBA,QAASm6B,aAAT,CAAsBn8B,MAAtB,CAA8B,CAC5BA,MAAM,CAAG3f,QAAQ,CAAC2f,MAAD,CAAjB,CACA,MAAQA,OAAM,EAAIk8B,eAAe,CAAC5vC,IAAhB,CAAqB0T,MAArB,CAAX,CACHA,MAAM,CAAC3a,OAAP,CAAe42C,YAAf,CAA6B,MAA7B,CADG,CAEHj8B,MAFJ,CAGD,CAED3gB,MAAM,CAACC,OAAP,CAAiB68C,YAAjB,C;;;;;;AC/BA,GAAIC,YAAW,CAAGrT,mBAAO,CAAC,GAAD,CAAzB,CACIsT,UAAU,CAAGtT,mBAAO,CAAC,GAAD,CADxB,CAEIuT,WAAW,CAAGvT,mBAAO,CAAC,GAAD,CAFzB,CAGIwT,YAAY,CAAGxT,mBAAO,CAAC,EAAD,CAH1B,CAIIyT,aAAa,CAAGzT,mBAAO,CAAC,GAAD,CAJ3B,CAKIhoB,OAAO,CAAGgoB,mBAAO,CAAC,EAAD,CALrB,CAMI0T,SAAS,CAAG1T,mBAAO,CAAC,GAAD,CANvB,CAOI2T,OAAO,CAAG3T,mBAAO,CAAC,EAAD,CAPrB,CAQI4T,eAAe,CAAG5T,mBAAO,CAAC,EAAD,CAR7B,CASI6T,SAAS,CAAG7T,mBAAO,CAAC,EAAD,CATvB,CAYA,GAAIE,gBAAe,CAAG,qBAAtB,CAGA,GAAI4T,eAAc,CAAG,CAArB,CACIC,kBAAkB,CAAG,CADzB,CAEIC,eAAe,CAAG,CAFtB,CAGIC,qBAAqB,CAAG,EAH5B,CAIIC,iBAAiB,CAAG,EAJxB,CAKIC,uBAAuB,CAAG,EAL9B,CAQA,GAAI1T,UAAS,CAAGrkC,IAAI,CAAC0tB,GAArB,CA2BA,QAASsqB,WAAT,CAAoBlhC,IAApB,CAA0BmhC,OAA1B,CAAmC9S,OAAnC,CAA4C+S,QAA5C,CAAsDC,OAAtD,CAA+DC,MAA/D,CAAuEC,GAAvE,CAA4EC,KAA5E,CAAmF,CACjF,GAAIC,UAAS,CAAGN,OAAO,CAAGN,kBAA1B,CACA,GAAI,CAACY,SAAD,EAAc,MAAOzhC,KAAP,EAAe,UAAjC,CAA6C,CAC3C,KAAM,IAAIoB,UAAJ,CAAc4rB,eAAd,CAAN,CACD,CACD,GAAIlmC,OAAM,CAAGs6C,QAAQ,CAAGA,QAAQ,CAACt6C,MAAZ,CAAqB,CAA1C,CACA,GAAI,CAACA,MAAL,CAAa,CACXq6C,OAAO,EAAI,EAAEH,iBAAiB,CAAGC,uBAAtB,CAAX,CACAG,QAAQ,CAAGC,OAAO,CAAGr4C,SAArB,CACD,CACDu4C,GAAG,CAAGA,GAAG,GAAKv4C,SAAR,CAAoBu4C,GAApB,CAA0BhU,SAAS,CAACoT,SAAS,CAACY,GAAD,CAAV,CAAiB,CAAjB,CAAzC,CACAC,KAAK,CAAGA,KAAK,GAAKx4C,SAAV,CAAsBw4C,KAAtB,CAA8Bb,SAAS,CAACa,KAAD,CAA/C,CACA16C,MAAM,EAAIu6C,OAAO,CAAGA,OAAO,CAACv6C,MAAX,CAAoB,CAArC,CAEA,GAAIq6C,OAAO,CAAGF,uBAAd,CAAuC,CACrC,GAAIS,cAAa,CAAGN,QAApB,CACIO,YAAY,CAAGN,OADnB,CAGAD,QAAQ,CAAGC,OAAO,CAAGr4C,SAArB,CACD,CACD,GAAIub,KAAI,CAAGk9B,SAAS,CAAGz4C,SAAH,CAAe8b,OAAO,CAAC9E,IAAD,CAA1C,CAEA,GAAI4hC,QAAO,CAAG,CACZ5hC,IADY,CACNmhC,OADM,CACG9S,OADH,CACY+S,QADZ,CACsBC,OADtB,CAC+BK,aAD/B,CAC8CC,YAD9C,CAEZL,MAFY,CAEJC,GAFI,CAECC,KAFD,CAAd,CAKA,GAAIj9B,IAAJ,CAAU,CACRi8B,SAAS,CAACoB,OAAD,CAAUr9B,IAAV,CAAT,CACD,CACDvE,IAAI,CAAG4hC,OAAO,CAAC,CAAD,CAAd,CACAT,OAAO,CAAGS,OAAO,CAAC,CAAD,CAAjB,CACAvT,OAAO,CAAGuT,OAAO,CAAC,CAAD,CAAjB,CACAR,QAAQ,CAAGQ,OAAO,CAAC,CAAD,CAAlB,CACAP,OAAO,CAAGO,OAAO,CAAC,CAAD,CAAjB,CACAJ,KAAK,CAAGI,OAAO,CAAC,CAAD,CAAP,CAAaA,OAAO,CAAC,CAAD,CAAP,GAAe54C,SAAf,CAChBy4C,SAAS,CAAG,CAAH,CAAOzhC,IAAI,CAAClZ,MADL,CAEjBymC,SAAS,CAACqU,OAAO,CAAC,CAAD,CAAP,CAAa96C,MAAd,CAAsB,CAAtB,CAFb,CAIA,GAAI,CAAC06C,KAAD,EAAUL,OAAO,EAAIL,eAAe,CAAGC,qBAAtB,CAArB,CAAmE,CACjEI,OAAO,EAAI,EAAEL,eAAe,CAAGC,qBAApB,CAAX,CACD,CACD,GAAI,CAACI,OAAD,EAAYA,OAAO,EAAIP,cAA3B,CAA2C,CACzC,GAAI7qC,OAAM,CAAGqqC,UAAU,CAACpgC,IAAD,CAAOmhC,OAAP,CAAgB9S,OAAhB,CAAvB,CACD,CAFD,IAEO,IAAI8S,OAAO,EAAIL,eAAX,EAA8BK,OAAO,EAAIJ,qBAA7C,CAAoE,CACzEhrC,MAAM,CAAGsqC,WAAW,CAACrgC,IAAD,CAAOmhC,OAAP,CAAgBK,KAAhB,CAApB,CACD,CAFM,IAEA,IAAI,CAACL,OAAO,EAAIH,iBAAX,EAAgCG,OAAO,GAAKP,cAAc,CAAGI,iBAAtB,CAAxC,GAAqF,CAACK,OAAO,CAACv6C,MAAlG,CAA0G,CAC/GiP,MAAM,CAAGwqC,aAAa,CAACvgC,IAAD,CAAOmhC,OAAP,CAAgB9S,OAAhB,CAAyB+S,QAAzB,CAAtB,CACD,CAFM,IAEA,CACLrrC,MAAM,CAAGuqC,YAAY,CAAC34C,KAAb,CAAmBqB,SAAnB,CAA8B44C,OAA9B,CAAT,CACD,CACD,GAAIl8B,OAAM,CAAGnB,IAAI,CAAG47B,WAAH,CAAiBM,OAAlC,CACA,MAAOC,gBAAe,CAACh7B,MAAM,CAAC3P,MAAD,CAAS6rC,OAAT,CAAP,CAA0B5hC,IAA1B,CAAgCmhC,OAAhC,CAAtB,CACD,CAED/9C,MAAM,CAACC,OAAP,CAAiB69C,UAAjB,C;;;;;;ACzGA,GAAI7B,WAAU,CAAGvS,mBAAO,CAAC,EAAD,CAAxB,CACIO,QAAQ,CAAGP,mBAAO,CAAC,EAAD,CADtB,CAWA,QAAS+U,WAAT,CAAoBn4C,IAApB,CAA0B,CACxB,MAAO,WAAW,CAIhB,GAAIoN,KAAI,CAAGlP,SAAX,CACA,OAAQkP,IAAI,CAAChQ,MAAb,EACE,IAAK,EAAL,CAAQ,MAAO,IAAI4C,KAAJ,EAAP,CACR,IAAK,EAAL,CAAQ,MAAO,IAAIA,KAAJ,CAASoN,IAAI,CAAC,CAAD,CAAb,CAAP,CACR,IAAK,EAAL,CAAQ,MAAO,IAAIpN,KAAJ,CAASoN,IAAI,CAAC,CAAD,CAAb,CAAkBA,IAAI,CAAC,CAAD,CAAtB,CAAP,CACR,IAAK,EAAL,CAAQ,MAAO,IAAIpN,KAAJ,CAASoN,IAAI,CAAC,CAAD,CAAb,CAAkBA,IAAI,CAAC,CAAD,CAAtB,CAA2BA,IAAI,CAAC,CAAD,CAA/B,CAAP,CACR,IAAK,EAAL,CAAQ,MAAO,IAAIpN,KAAJ,CAASoN,IAAI,CAAC,CAAD,CAAb,CAAkBA,IAAI,CAAC,CAAD,CAAtB,CAA2BA,IAAI,CAAC,CAAD,CAA/B,CAAoCA,IAAI,CAAC,CAAD,CAAxC,CAAP,CACR,IAAK,EAAL,CAAQ,MAAO,IAAIpN,KAAJ,CAASoN,IAAI,CAAC,CAAD,CAAb,CAAkBA,IAAI,CAAC,CAAD,CAAtB,CAA2BA,IAAI,CAAC,CAAD,CAA/B,CAAoCA,IAAI,CAAC,CAAD,CAAxC,CAA6CA,IAAI,CAAC,CAAD,CAAjD,CAAP,CACR,IAAK,EAAL,CAAQ,MAAO,IAAIpN,KAAJ,CAASoN,IAAI,CAAC,CAAD,CAAb,CAAkBA,IAAI,CAAC,CAAD,CAAtB,CAA2BA,IAAI,CAAC,CAAD,CAA/B,CAAoCA,IAAI,CAAC,CAAD,CAAxC,CAA6CA,IAAI,CAAC,CAAD,CAAjD,CAAsDA,IAAI,CAAC,CAAD,CAA1D,CAAP,CACR,IAAK,EAAL,CAAQ,MAAO,IAAIpN,KAAJ,CAASoN,IAAI,CAAC,CAAD,CAAb,CAAkBA,IAAI,CAAC,CAAD,CAAtB,CAA2BA,IAAI,CAAC,CAAD,CAA/B,CAAoCA,IAAI,CAAC,CAAD,CAAxC,CAA6CA,IAAI,CAAC,CAAD,CAAjD,CAAsDA,IAAI,CAAC,CAAD,CAA1D,CAA+DA,IAAI,CAAC,CAAD,CAAnE,CAAP,CARV,CAUA,GAAIgrC,YAAW,CAAGzC,UAAU,CAAC31C,IAAI,CAAC/C,SAAN,CAA5B,CACIoP,MAAM,CAAGrM,IAAI,CAAC/B,KAAL,CAAWm6C,WAAX,CAAwBhrC,IAAxB,CADb,CAKA,MAAOu2B,SAAQ,CAACt3B,MAAD,CAAR,CAAmBA,MAAnB,CAA4B+rC,WAAnC,CACD,CArBD,CAsBD,CAED1+C,MAAM,CAACC,OAAP,CAAiBw+C,UAAjB,C;;;;;;AC1BA,QAASl6C,MAAT,CAAeqY,IAAf,CAAqBquB,OAArB,CAA8Bv3B,IAA9B,CAAoC,CAClC,OAAQA,IAAI,CAAChQ,MAAb,EACE,IAAK,EAAL,CAAQ,MAAOkZ,KAAI,CAACvb,IAAL,CAAU4pC,OAAV,CAAP,CACR,IAAK,EAAL,CAAQ,MAAOruB,KAAI,CAACvb,IAAL,CAAU4pC,OAAV,CAAmBv3B,IAAI,CAAC,CAAD,CAAvB,CAAP,CACR,IAAK,EAAL,CAAQ,MAAOkJ,KAAI,CAACvb,IAAL,CAAU4pC,OAAV,CAAmBv3B,IAAI,CAAC,CAAD,CAAvB,CAA4BA,IAAI,CAAC,CAAD,CAAhC,CAAP,CACR,IAAK,EAAL,CAAQ,MAAOkJ,KAAI,CAACvb,IAAL,CAAU4pC,OAAV,CAAmBv3B,IAAI,CAAC,CAAD,CAAvB,CAA4BA,IAAI,CAAC,CAAD,CAAhC,CAAqCA,IAAI,CAAC,CAAD,CAAzC,CAAP,CAJV,CAMA,MAAOkJ,KAAI,CAACrY,KAAL,CAAW0mC,OAAX,CAAoBv3B,IAApB,CAAP,CACD,CAED1T,MAAM,CAACC,OAAP,CAAiBsE,KAAjB,C;;;;;;ACnBA,GAAIo6C,iBAAgB,CAAG,gBAAvB,CAGA,GAAIC,SAAQ,CAAG,kBAAf,CAUA,QAASC,QAAT,CAAiBz3C,KAAjB,CAAwB1D,MAAxB,CAAgC,CAC9B,GAAI9B,KAAI,CAAG,MAAOwF,MAAlB,CACA1D,MAAM,CAAGA,MAAM,EAAI,IAAV,CAAiBi7C,gBAAjB,CAAoCj7C,MAA7C,CAEA,MAAO,CAAC,CAACA,MAAF,GACJ9B,IAAI,EAAI,QAAR,EACEA,IAAI,EAAI,QAAR,EAAoBg9C,QAAQ,CAAC3xC,IAAT,CAAc7F,KAAd,CAFlB,GAGAA,KAAK,CAAG,CAAC,CAAT,EAAcA,KAAK,CAAG,CAAR,EAAa,CAA3B,EAAgCA,KAAK,CAAG1D,MAH/C,CAID,CAED1D,MAAM,CAACC,OAAP,CAAiB4+C,OAAjB,C;;;;;;ApCRA,QAAS1S,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;AqCZA,QAAS2S,QAAT,CAAiBliC,IAAjB,CAAuBw/B,SAAvB,CAAkC,CAChC,MAAO,UAASj1C,GAAT,CAAc,CACnB,MAAOyV,KAAI,CAACw/B,SAAS,CAACj1C,GAAD,CAAV,CAAX,CACD,CAFD,CAGD,CAEDnH,MAAM,CAACC,OAAP,CAAiB6+C,OAAjB,C;;;;;;ACdA,GAAIC,UAAS,CAAGrV,mBAAO,CAAC,GAAD,CAAvB,CACIsV,aAAa,CAAGtV,mBAAO,CAAC,GAAD,CAD3B,CAcA,QAAS0C,YAAT,CAAqB0G,KAArB,CAA4Bl1B,KAA5B,CAAmC62B,SAAnC,CAA8CwK,QAA9C,CAAwDtsC,MAAxD,CAAgE,CAC9D,GAAIoH,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,CAACpvC,MADnB,CAGA+wC,SAAS,GAAKA,SAAS,CAAGuK,aAAjB,CAAT,CACArsC,MAAM,GAAKA,MAAM,CAAG,EAAd,CAAN,CAEA,MAAO,EAAEoH,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI0D,MAAK,CAAG0rC,KAAK,CAAC/4B,KAAD,CAAjB,CACA,GAAI6D,KAAK,CAAG,CAAR,EAAa62B,SAAS,CAACrtC,KAAD,CAA1B,CAAmC,CACjC,GAAIwW,KAAK,CAAG,CAAZ,CAAe,CAEbwuB,WAAW,CAAChlC,KAAD,CAAQwW,KAAK,CAAG,CAAhB,CAAmB62B,SAAnB,CAA8BwK,QAA9B,CAAwCtsC,MAAxC,CAAX,CACD,CAHD,IAGO,CACLosC,SAAS,CAACpsC,MAAD,CAASvL,KAAT,CAAT,CACD,CACF,CAPD,IAOO,IAAI,CAAC63C,QAAL,CAAe,CACpBtsC,MAAM,CAACA,MAAM,CAACjP,MAAR,CAAN,CAAwB0D,KAAxB,CACD,CACF,CACD,MAAOuL,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBmsC,WAAjB,C;;;;;;ACxBA,QAAS8S,UAAT,EAAqB,CACnB,MAAO,MAAP,CACD,CAEDl/C,MAAM,CAACC,OAAP,CAAiBi/C,SAAjB,C;;;;;;ACjBA,GAAIx6C,GAAE,CAAGglC,mBAAO,CAAC,EAAD,CAAhB,CAUA,QAASyV,aAAT,CAAsBrM,KAAtB,CAA6BplC,GAA7B,CAAkC,CAChC,GAAIhK,OAAM,CAAGovC,KAAK,CAACpvC,MAAnB,CACA,MAAOA,MAAM,EAAb,CAAiB,CACf,GAAIgB,EAAE,CAACouC,KAAK,CAACpvC,MAAD,CAAL,CAAc,CAAd,CAAD,CAAmBgK,GAAnB,CAAN,CAA+B,CAC7B,MAAOhK,OAAP,CACD,CACF,CACD,MAAO,CAAC,CAAR,CACD,CAED1D,MAAM,CAACC,OAAP,CAAiBk/C,YAAjB,C;;;;;;ADPA,QAASD,UAAT,EAAqB,CACnB,MAAO,MAAP,CACD,CAEDl/C,MAAM,CAACC,OAAP,CAAiBi/C,SAAjB,C;;;;;;AEVA,QAASE,UAAT,CAAmBxiC,IAAnB,CAAyB,CACvB,MAAO,UAASxV,KAAT,CAAgB,CACrB,MAAOwV,KAAI,CAACxV,KAAD,CAAX,CACD,CAFD,CAGD,CAEDpH,MAAM,CAACC,OAAP,CAAiBm/C,SAAjB,C;;;;;;ACbA,GAAIz5C,QAAO,CAAG+jC,mBAAO,CAAC,CAAD,CAArB,CAmCA,QAAS2V,UAAT,EAAqB,CACnB,GAAI,CAAC76C,SAAS,CAACd,MAAf,CAAuB,CACrB,MAAO,EAAP,CACD,CACD,GAAI0D,MAAK,CAAG5C,SAAS,CAAC,CAAD,CAArB,CACA,MAAOmB,QAAO,CAACyB,KAAD,CAAP,CAAiBA,KAAjB,CAAyB,CAACA,KAAD,CAAhC,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBo/C,SAAjB,C;;;;;;AC3CA,GAAIC,YAAW,CAAG5V,mBAAO,CAAC,EAAD,CAAzB,CAWA,QAAS6V,cAAT,CAAuBzM,KAAvB,CAA8B1rC,KAA9B,CAAqC,CACnC,GAAI1D,OAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MAAvC,CACA,MAAO,CAAC,CAACA,MAAF,EAAY47C,WAAW,CAACxM,KAAD,CAAQ1rC,KAAR,CAAe,CAAf,CAAX,CAA+B,CAAC,CAAnD,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBs/C,aAAjB,C;;;;;;AChBA,GAAIzB,WAAU,CAAGpU,mBAAO,CAAC,EAAD,CAAxB,CAGA,GAAIiU,sBAAqB,CAAG,EAA5B,CAwCA,QAAS6B,WAAT,CAAoB5iC,IAApB,CAA0BwhC,KAA1B,CAAiCqB,KAAjC,CAAwC,CACtCrB,KAAK,CAAGqB,KAAK,CAAG75C,SAAH,CAAew4C,KAA5B,CACA,GAAIzrC,OAAM,CAAGmrC,UAAU,CAAClhC,IAAD,CAAO+gC,qBAAP,CAA8B/3C,SAA9B,CAAyCA,SAAzC,CAAoDA,SAApD,CAA+DA,SAA/D,CAA0EA,SAA1E,CAAqFw4C,KAArF,CAAvB,CACAzrC,MAAM,CAACu5B,WAAP,CAAqBsT,UAAU,CAACtT,WAAhC,CACA,MAAOv5B,OAAP,CACD,CAGD6sC,UAAU,CAACtT,WAAX,CAAyB,EAAzB,CAEAlsC,MAAM,CAACC,OAAP,CAAiBu/C,UAAjB,C;;;;;;ACrDA,GAAInL,aAAY,CAAG3K,mBAAO,CAAC,CAAD,CAA1B,CACIgW,UAAU,CAAGhW,mBAAO,CAAC,GAAD,CADxB,CA+BA,QAAShuB,OAAT,CAAgBo3B,KAAhB,CAAuB2B,SAAvB,CAAkC,CAChC,GAAI9hC,OAAM,CAAG,EAAb,CACA,GAAI,EAAEmgC,KAAK,EAAIA,KAAK,CAACpvC,MAAjB,CAAJ,CAA8B,CAC5B,MAAOiP,OAAP,CACD,CACD,GAAIoH,MAAK,CAAG,CAAC,CAAb,CACI4lC,OAAO,CAAG,EADd,CAEIj8C,MAAM,CAAGovC,KAAK,CAACpvC,MAFnB,CAIA+wC,SAAS,CAAGJ,YAAY,CAACI,SAAD,CAAY,CAAZ,CAAxB,CACA,MAAO,EAAE16B,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI0D,MAAK,CAAG0rC,KAAK,CAAC/4B,KAAD,CAAjB,CACA,GAAI06B,SAAS,CAACrtC,KAAD,CAAQ2S,KAAR,CAAe+4B,KAAf,CAAb,CAAoC,CAClCngC,MAAM,CAAC9R,IAAP,CAAYuG,KAAZ,EACAu4C,OAAO,CAAC9+C,IAAR,CAAakZ,KAAb,EACD,CACF,CACD2lC,UAAU,CAAC5M,KAAD,CAAQ6M,OAAR,CAAV,CACA,MAAOhtC,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiByb,MAAjB,C;;;;;;ACpDA,GAAIkkC,aAAY,CAAGlW,mBAAO,CAAC,GAAD,CAA1B,CACImW,MAAM,CAAGnW,mBAAO,CAAC,GAAD,CADpB,CAEI2K,YAAY,CAAG3K,mBAAO,CAAC,CAAD,CAF1B,CA2BA,QAASoW,MAAT,CAAehN,KAAf,CAAsBE,QAAtB,CAAgC,CAC9B,MAAQF,MAAK,EAAIA,KAAK,CAACpvC,MAAhB,CACHk8C,YAAY,CAAC9M,KAAD,CAAQuB,YAAY,CAACrB,QAAD,CAAW,CAAX,CAApB,CAAmC6M,MAAnC,CADT,CAEHj6C,SAFJ,CAGD,CAED5F,MAAM,CAACC,OAAP,CAAiB6/C,KAAjB,C;;;;;;AClBA,QAASC,QAAT,CAAiBjN,KAAjB,CAAwB,CACtB,GAAI/4B,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MADvC,CAEIs8C,QAAQ,CAAG,CAFf,CAGIrtC,MAAM,CAAG,EAHb,CAKA,MAAO,EAAEoH,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI0D,MAAK,CAAG0rC,KAAK,CAAC/4B,KAAD,CAAjB,CACA,GAAI3S,KAAJ,CAAW,CACTuL,MAAM,CAACqtC,QAAQ,EAAT,CAAN,CAAqB54C,KAArB,CACD,CACF,CACD,MAAOuL,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiB8/C,OAAjB,C;;;;;;AC9BA,GAAIhN,SAAQ,CAAGrJ,mBAAO,CAAC,EAAD,CAAtB,CACIuW,gBAAgB,CAAGvW,mBAAO,CAAC,GAAD,CAD9B,CAEIoC,QAAQ,CAAGpC,mBAAO,CAAC,EAAD,CAFtB,CAGIwW,mBAAmB,CAAGxW,mBAAO,CAAC,GAAD,CAHjC,CAsBA,GAAIyW,aAAY,CAAGrU,QAAQ,CAAC,SAASwP,MAAT,CAAiB,CAC3C,GAAI8E,OAAM,CAAGrN,QAAQ,CAACuI,MAAD,CAAS4E,mBAAT,CAArB,CACA,MAAQE,OAAM,CAAC18C,MAAP,EAAiB08C,MAAM,CAAC,CAAD,CAAN,GAAc9E,MAAM,CAAC,CAAD,CAAtC,CACH2E,gBAAgB,CAACG,MAAD,CADb,CAEH,EAFJ,CAGD,CAL0B,CAA3B,CAOApgD,MAAM,CAACC,OAAP,CAAiBkgD,YAAjB,C;;;;;;AC7BA,GAAIlU,QAAO,CAAGvC,mBAAO,CAAC,EAAD,CAArB,CACI9sB,IAAI,CAAGqvB,OAAO,CAAC,QAAD,CAAWvC,mBAAO,CAAC,GAAD,CAAlB,CADlB,CAGA9sB,IAAI,CAACsvB,WAAL,CAAmBxC,mBAAO,CAAC,EAAD,CAA1B,CACA1pC,MAAM,CAACC,OAAP,CAAiB2c,IAAjB,C;;;;;;ACIA,QAASyjC,UAAT,CAAmB19B,MAAnB,CAA2BmwB,KAA3B,CAAkC,CAChC,GAAI/4B,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGif,MAAM,CAACjf,MADpB,CAGAovC,KAAK,GAAKA,KAAK,CAAGptC,KAAK,CAAChC,MAAD,CAAlB,CAAL,CACA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvBovC,KAAK,CAAC/4B,KAAD,CAAL,CAAe4I,MAAM,CAAC5I,KAAD,CAArB,CACD,CACD,MAAO+4B,MAAP,CACD,CAED9yC,MAAM,CAACC,OAAP,CAAiBogD,SAAjB,C;;;;;;AlDHA,QAASlU,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;AmDnBA,GAAI2H,YAAW,CAAGrzC,MAAM,CAAC8C,SAAzB,CAOA,GAAI+8C,qBAAoB,CAAGxM,WAAW,CAAC9yC,QAAvC,CASA,QAASu/C,eAAT,CAAwBn5C,KAAxB,CAA+B,CAC7B,MAAOk5C,qBAAoB,CAACj/C,IAArB,CAA0B+F,KAA1B,CAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBsgD,cAAjB,C;;;;;;ACrBA,GAAIC,WAAU,CAAG9W,mBAAO,CAAC,EAAD,CAAxB,CACIO,QAAQ,CAAGP,mBAAO,CAAC,EAAD,CADtB,CAIA,GAAI+W,SAAQ,CAAG,wBAAf,CACIC,OAAO,CAAG,mBADd,CAEIC,MAAM,CAAG,4BAFb,CAGIC,QAAQ,CAAG,gBAHf,CAsBA,QAASr/C,WAAT,CAAoB6F,KAApB,CAA2B,CACzB,GAAI,CAAC6iC,QAAQ,CAAC7iC,KAAD,CAAb,CAAsB,CACpB,MAAO,MAAP,CACD,CAGD,GAAI6I,IAAG,CAAGuwC,UAAU,CAACp5C,KAAD,CAApB,CACA,MAAO6I,IAAG,EAAIywC,OAAP,EAAkBzwC,GAAG,EAAI0wC,MAAzB,EAAmC1wC,GAAG,EAAIwwC,QAA1C,EAAsDxwC,GAAG,EAAI2wC,QAApE,CACD,CAED5gD,MAAM,CAACC,OAAP,CAAiBsB,UAAjB,C;;;;;;ADnCA,GAAIuyC,YAAW,CAAGrzC,MAAM,CAAC8C,SAAzB,CAOA,GAAI+8C,qBAAoB,CAAGxM,WAAW,CAAC9yC,QAAvC,CASA,QAASu/C,eAAT,CAAwBn5C,KAAxB,CAA+B,CAC7B,MAAOk5C,qBAAoB,CAACj/C,IAArB,CAA0B+F,KAA1B,CAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBsgD,cAAjB,C;;;;;;AErBA,GAAInM,QAAO,CAAG1K,mBAAO,CAAC,EAAD,CAArB,CACIuJ,QAAQ,CAAGvJ,mBAAO,CAAC,EAAD,CADtB,CAEIwJ,WAAW,CAAGxJ,mBAAO,CAAC,EAAD,CAFzB,CAWA,QAASmX,SAAT,CAAkBjkC,IAAlB,CAAwB,CACtB,MAAOs2B,YAAW,CAACD,QAAQ,CAACr2B,IAAD,CAAOhX,SAAP,CAAkBwuC,OAAlB,CAAT,CAAqCx3B,IAAI,CAAG,EAA5C,CAAlB,CACD,CAED5c,MAAM,CAACC,OAAP,CAAiB4gD,QAAjB,C;;;;;;AdFA,QAAS3B,UAAT,EAAqB,CACnB,MAAO,MAAP,CACD,CAEDl/C,MAAM,CAACC,OAAP,CAAiBi/C,SAAjB,C;;;;;;AvCDA,QAAS/S,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;AsDpBA,GAAI2U,gBAAe,CAAGpX,mBAAO,CAAC,GAAD,CAA7B,CACIqX,cAAc,CAAGrX,mBAAO,CAAC,GAAD,CAD5B,CAEI2K,YAAY,CAAG3K,mBAAO,CAAC,CAAD,CAF1B,CAGI/jC,OAAO,CAAG+jC,mBAAO,CAAC,CAAD,CAHrB,CAaA,QAAS8R,iBAAT,CAA0Bl5B,MAA1B,CAAkC0+B,WAAlC,CAA+C,CAC7C,MAAO,UAASzyB,UAAT,CAAqBykB,QAArB,CAA+B,CACpC,GAAIp2B,KAAI,CAAGjX,OAAO,CAAC4oB,UAAD,CAAP,CAAsBuyB,eAAtB,CAAwCC,cAAnD,CACI1E,WAAW,CAAG2E,WAAW,CAAGA,WAAW,EAAd,CAAmB,EADhD,CAGA,MAAOpkC,KAAI,CAAC2R,UAAD,CAAajM,MAAb,CAAqB+xB,YAAY,CAACrB,QAAD,CAAW,CAAX,CAAjC,CAAgDqJ,WAAhD,CAAX,CACD,CALD,CAMD,CAEDr8C,MAAM,CAACC,OAAP,CAAiBu7C,gBAAjB,C;;;;;;ACZA,QAASyF,cAAT,CAAuBnO,KAAvB,CAA8B1rC,KAA9B,CAAqC85C,SAArC,CAAgD,CAC9C,GAAInnC,MAAK,CAAGmnC,SAAS,CAAG,CAAxB,CACIx9C,MAAM,CAAGovC,KAAK,CAACpvC,MADnB,CAGA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAIovC,KAAK,CAAC/4B,KAAD,CAAL,GAAiB3S,KAArB,CAA4B,CAC1B,MAAO2S,MAAP,CACD,CACF,CACD,MAAO,CAAC,CAAR,CACD,CAED/Z,MAAM,CAACC,OAAP,CAAiBghD,aAAjB,C;;;;;;ACbA,QAASE,UAAT,CAAmBrO,KAAnB,CAA0B1/B,KAA1B,CAAiCtO,GAAjC,CAAsC,CACpC,GAAIiV,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,CAACpvC,MADnB,CAGA,GAAI0P,KAAK,CAAG,CAAZ,CAAe,CACbA,KAAK,CAAG,CAACA,KAAD,CAAS1P,MAAT,CAAkB,CAAlB,CAAuBA,MAAM,CAAG0P,KAAxC,CACD,CACDtO,GAAG,CAAGA,GAAG,CAAGpB,MAAN,CAAeA,MAAf,CAAwBoB,GAA9B,CACA,GAAIA,GAAG,CAAG,CAAV,CAAa,CACXA,GAAG,EAAIpB,MAAP,CACD,CACDA,MAAM,CAAG0P,KAAK,CAAGtO,GAAR,CAAc,CAAd,CAAoBA,GAAG,CAAGsO,KAAP,GAAkB,CAA9C,CACAA,KAAK,IAAM,CAAX,CAEA,GAAIT,OAAM,CAAGjN,KAAK,CAAChC,MAAD,CAAlB,CACA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvBiP,MAAM,CAACoH,KAAD,CAAN,CAAgB+4B,KAAK,CAAC/4B,KAAK,CAAG3G,KAAT,CAArB,CACD,CACD,MAAOT,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBkhD,SAAjB,C;;;;;;AjBjBA,QAASjC,UAAT,EAAqB,CACnB,MAAO,MAAP,CACD,CAEDl/C,MAAM,CAACC,OAAP,CAAiBi/C,SAAjB,C;;;;;;AAJA,QAASA,UAAT,EAAqB,CACnB,MAAO,MAAP,CACD,CAEDl/C,MAAM,CAACC,OAAP,CAAiBi/C,SAAjB,C;;;;;;AIjBA,GAAII,YAAW,CAAG5V,mBAAO,CAAC,EAAD,CAAzB,CAWA,QAAS6V,cAAT,CAAuBzM,KAAvB,CAA8B1rC,KAA9B,CAAqC,CACnC,GAAI1D,OAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MAAvC,CACA,MAAO,CAAC,CAACA,MAAF,EAAY47C,WAAW,CAACxM,KAAD,CAAQ1rC,KAAR,CAAe,CAAf,CAAX,CAA+B,CAAC,CAAnD,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBs/C,aAAjB,C;;;;;;AcPA,QAAS6B,kBAAT,CAA2BtO,KAA3B,CAAkC1rC,KAAlC,CAAyCi6C,UAAzC,CAAqD,CACnD,GAAItnC,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MADvC,CAGA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI29C,UAAU,CAACj6C,KAAD,CAAQ0rC,KAAK,CAAC/4B,KAAD,CAAb,CAAd,CAAqC,CACnC,MAAO,KAAP,CACD,CACF,CACD,MAAO,MAAP,CACD,CAED/Z,MAAM,CAACC,OAAP,CAAiBmhD,iBAAjB,C;;;;;;ACrBA,GAAIE,SAAQ,CAAG5X,mBAAO,CAAC,EAAD,CAAtB,CACI6V,aAAa,CAAG7V,mBAAO,CAAC,EAAD,CAD3B,CAEI0X,iBAAiB,CAAG1X,mBAAO,CAAC,EAAD,CAF/B,CAGI6X,QAAQ,CAAG7X,mBAAO,CAAC,EAAD,CAHtB,CAII8X,SAAS,CAAG9X,mBAAO,CAAC,GAAD,CAJvB,CAKI+X,UAAU,CAAG/X,mBAAO,CAAC,GAAD,CALxB,CAQA,GAAIgY,iBAAgB,CAAG,GAAvB,CAWA,QAASC,SAAT,CAAkB7O,KAAlB,CAAyBE,QAAzB,CAAmCqO,UAAnC,CAA+C,CAC7C,GAAItnC,MAAK,CAAG,CAAC,CAAb,CACI6nC,QAAQ,CAAGrC,aADf,CAEI77C,MAAM,CAAGovC,KAAK,CAACpvC,MAFnB,CAGIm+C,QAAQ,CAAG,IAHf,CAIIlvC,MAAM,CAAG,EAJb,CAKImvC,IAAI,CAAGnvC,MALX,CAOA,GAAI0uC,UAAJ,CAAgB,CACdQ,QAAQ,CAAG,KAAX,CACAD,QAAQ,CAAGR,iBAAX,CACD,CAHD,IAIK,IAAI19C,MAAM,EAAIg+C,gBAAd,CAAgC,CACnC,GAAIxgC,IAAG,CAAG8xB,QAAQ,CAAG,IAAH,CAAUwO,SAAS,CAAC1O,KAAD,CAArC,CACA,GAAI5xB,GAAJ,CAAS,CACP,MAAOugC,WAAU,CAACvgC,GAAD,CAAjB,CACD,CACD2gC,QAAQ,CAAG,KAAX,CACAD,QAAQ,CAAGL,QAAX,CACAO,IAAI,CAAG,GAAIR,SAAJ,EAAP,CACD,CARI,IASA,CACHQ,IAAI,CAAG9O,QAAQ,CAAG,EAAH,CAAQrgC,MAAvB,CACD,CACDovC,KAAK,CACL,MAAO,EAAEhoC,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI0D,MAAK,CAAG0rC,KAAK,CAAC/4B,KAAD,CAAjB,CACIiY,QAAQ,CAAGghB,QAAQ,CAAGA,QAAQ,CAAC5rC,KAAD,CAAX,CAAqBA,KAD5C,CAGAA,KAAK,CAAIi6C,UAAU,EAAIj6C,KAAK,GAAK,CAAzB,CAA8BA,KAA9B,CAAsC,CAA9C,CACA,GAAIy6C,QAAQ,EAAI7vB,QAAQ,GAAKA,QAA7B,CAAuC,CACrC,GAAIgwB,UAAS,CAAGF,IAAI,CAACp+C,MAArB,CACA,MAAOs+C,SAAS,EAAhB,CAAoB,CAClB,GAAIF,IAAI,CAACE,SAAD,CAAJ,GAAoBhwB,QAAxB,CAAkC,CAChC,QAAS+vB,MAAT,CACD,CACF,CACD,GAAI/O,QAAJ,CAAc,CACZ8O,IAAI,CAACjhD,IAAL,CAAUmxB,QAAV,EACD,CACDrf,MAAM,CAAC9R,IAAP,CAAYuG,KAAZ,EACD,CAXD,IAYK,IAAI,CAACw6C,QAAQ,CAACE,IAAD,CAAO9vB,QAAP,CAAiBqvB,UAAjB,CAAb,CAA2C,CAC9C,GAAIS,IAAI,GAAKnvC,MAAb,CAAqB,CACnBmvC,IAAI,CAACjhD,IAAL,CAAUmxB,QAAV,EACD,CACDrf,MAAM,CAAC9R,IAAP,CAAYuG,KAAZ,EACD,CACF,CACD,MAAOuL,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiB0hD,QAAjB,C;;;;;;ACrEA,KAAMM,oBAAmB,CAAG,OAA5B,CAEA,KAAMC,WAAU,CAAG,GAAnB,CACA,KAAMvD,iBAAgB,CAAG7Q,MAAM,CAAC6Q,gBAAP,EACI,gBAD7B,CAIA,KAAMwD,0BAAyB,CAAG,EAAlC,CAEAniD,MAAM,CAACC,OAAP,CAAiB,CACfgiD,mBADe,CAEfC,UAFe,CAGfvD,gBAHe,CAIfwD,yBAJe,CAAjB,C;;;;;;ACXA,GAAI5G,gBAAe,CAAG7R,mBAAO,CAAC,EAAD,CAA7B,CACI8R,gBAAgB,CAAG9R,mBAAO,CAAC,EAAD,CAD9B,CA+BA,GAAI0Y,MAAK,CAAG5G,gBAAgB,CAAC,SAAS7oC,MAAT,CAAiBvL,KAAjB,CAAwBsG,GAAxB,CAA6B,CACxD6tC,eAAe,CAAC5oC,MAAD,CAASjF,GAAT,CAActG,KAAd,CAAf,CACD,CAF2B,CAA5B,CAIApH,MAAM,CAACC,OAAP,CAAiBmiD,KAAjB,C;;;;;;ACjBA,QAASz/C,KAAT,CAAcmwC,KAAd,CAAqB,CACnB,MAAQA,MAAK,EAAIA,KAAK,CAACpvC,MAAhB,CAA0BovC,KAAK,CAAC,CAAD,CAA/B,CAAqCltC,SAA5C,CACD,CAED5F,MAAM,CAACC,OAAP,CAAiB0C,IAAjB,C;;;;;;ACtBA,GAAI44C,gBAAe,CAAG7R,mBAAO,CAAC,EAAD,CAA7B,CACIwS,UAAU,CAAGxS,mBAAO,CAAC,GAAD,CADxB,CAEI2K,YAAY,CAAG3K,mBAAO,CAAC,CAAD,CAF1B,CAgCA,QAAS2Y,UAAT,CAAmBvnC,MAAnB,CAA2Bk4B,QAA3B,CAAqC,CACnC,GAAIrgC,OAAM,CAAG,EAAb,CACAqgC,QAAQ,CAAGqB,YAAY,CAACrB,QAAD,CAAW,CAAX,CAAvB,CAEAkJ,UAAU,CAACphC,MAAD,CAAS,SAAS1T,KAAT,CAAgBsG,GAAhB,CAAqBoN,MAArB,CAA6B,CAC9CygC,eAAe,CAAC5oC,MAAD,CAASjF,GAAT,CAAcslC,QAAQ,CAAC5rC,KAAD,CAAQsG,GAAR,CAAaoN,MAAb,CAAtB,CAAf,CACD,CAFS,CAAV,CAGA,MAAOnI,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBoiD,SAAjB,C;;;;;;AC1CA,GAAI7G,iBAAgB,CAAG9R,mBAAO,CAAC,EAAD,CAA9B,CAsCA,GAAI4Y,UAAS,CAAG9G,gBAAgB,CAAC,SAAS7oC,MAAT,CAAiBvL,KAAjB,CAAwBsG,GAAxB,CAA6B,CAC5DiF,MAAM,CAACjF,GAAG,CAAG,CAAH,CAAO,CAAX,CAAN,CAAoB7M,IAApB,CAAyBuG,KAAzB,EACD,CAF+B,CAE7B,UAAW,CAAE,MAAO,CAAC,EAAD,CAAK,EAAL,CAAP,CAAkB,CAFF,CAAhC,CAIApH,MAAM,CAACC,OAAP,CAAiBqiD,SAAjB,C;;;;;;ACtCA,mCAAC,SAASx8C,IAAT,CAAe,CAEhB,GAAIy8C,SAAQ,CAAG,MAAf,CACIC,SAAS,CAAG,MADhB,CAEIC,WAAW,CAAG,CAFlB,CAGIC,SAAS,CAAG58C,IAAI,CAACwrB,KAHrB,CAIIqxB,OAAO,CAAG78C,IAAI,CAACukC,GAJnB,CAKIuY,OAAO,CAAG98C,IAAI,CAAC0tB,GALnB,CAMIqvB,UAAU,CAAG/8C,IAAI,CAACC,MANtB,CAQA,QAAS+8C,UAAT,CAAoBC,KAApB,CAA2BprB,IAA3B,CAAiC,CAE7BorB,KAAK,CAAIA,KAAD,CAAUA,KAAV,CAAkB,EAA1B,CACAprB,IAAI,CAAGA,IAAI,EAAI,EAAf,CAGA,GAAIorB,KAAK,WAAYD,UAArB,CAAgC,CAC7B,MAAOC,MAAP,CACF,CAED,GAAI,EAAE,eAAgBD,UAAlB,CAAJ,CAAkC,CAC9B,MAAO,IAAIA,UAAJ,CAAcC,KAAd,CAAqBprB,IAArB,CAAP,CACH,CAED,GAAIqrB,IAAG,CAAGC,UAAU,CAACF,KAAD,CAApB,CACA,KAAKG,cAAL,CAAsBH,KAAtB,CACA,KAAKI,EAAL,CAAUH,GAAG,CAACvW,CADd,CAEA,KAAK2W,EAAL,CAAUJ,GAAG,CAAC7V,CAFd,CAGA,KAAKkW,EAAL,CAAUL,GAAG,CAAC35C,CAHd,CAIA,KAAKi6C,EAAL,CAAUN,GAAG,CAAC55C,CAJd,CAKA,KAAKm6C,OAAL,CAAeb,SAAS,CAAC,IAAI,KAAKY,EAAV,CAAT,CAAyB,GALxC,CAMA,KAAKE,OAAL,CAAe7rB,IAAI,CAACyV,MAAL,EAAe4V,GAAG,CAAC5V,MANlC,CAOA,KAAKqW,aAAL,CAAqB9rB,IAAI,CAAC+rB,YAA1B,CAMA,GAAI,KAAKP,EAAL,CAAU,CAAd,CAAiB,CAAE,KAAKA,EAAL,CAAUT,SAAS,CAAC,KAAKS,EAAN,CAAnB,CAA+B,CAClD,GAAI,KAAKC,EAAL,CAAU,CAAd,CAAiB,CAAE,KAAKA,EAAL,CAAUV,SAAS,CAAC,KAAKU,EAAN,CAAnB,CAA+B,CAClD,GAAI,KAAKC,EAAL,CAAU,CAAd,CAAiB,CAAE,KAAKA,EAAL,CAAUX,SAAS,CAAC,KAAKW,EAAN,CAAnB,CAA+B,CAElD,KAAKM,GAAL,CAAWX,GAAG,CAACY,EAAf,CACA,KAAKC,MAAL,CAAcpB,WAAW,EAAzB,CACH,CAEDK,SAAS,CAACv/C,SAAV,CAAsB,CAClBugD,MAAM,CAAE,UAAW,CACf,MAAO,MAAKC,aAAL,GAAuB,GAA9B,CACH,CAHiB,CAIlBC,OAAO,CAAE,UAAW,CAChB,MAAO,CAAC,KAAKF,MAAL,EAAR,CACH,CANiB,CAOlBnU,OAAO,CAAE,UAAW,CAChB,MAAO,MAAKgU,GAAZ,CACH,CATiB,CAUlBM,gBAAgB,CAAE,UAAW,CAC3B,MAAO,MAAKf,cAAZ,CACD,CAZiB,CAalBgB,SAAS,CAAE,UAAW,CAClB,MAAO,MAAKV,OAAZ,CACH,CAfiB,CAgBlBW,QAAQ,CAAE,UAAW,CACjB,MAAO,MAAKb,EAAZ,CACH,CAlBiB,CAmBlBS,aAAa,CAAE,UAAW,CAEtB,GAAIf,IAAG,CAAG,KAAKoB,KAAL,EAAV,CACA,MAAO,CAACpB,GAAG,CAACvW,CAAJ,CAAQ,GAAR,CAAcuW,GAAG,CAAC7V,CAAJ,CAAQ,GAAtB,CAA4B6V,GAAG,CAAC35C,CAAJ,CAAQ,GAArC,EAA4C,IAAnD,CACH,CAvBiB,CAwBlBg7C,YAAY,CAAE,UAAW,CAErB,GAAIrB,IAAG,CAAG,KAAKoB,KAAL,EAAV,CACA,GAAIE,MAAJ,CAAWC,KAAX,CAAkBC,KAAlB,CAAyBC,CAAzB,CAA4BC,CAA5B,CAA+BC,CAA/B,CACAL,KAAK,CAAGtB,GAAG,CAACvW,CAAJ,CAAM,GAAd,CACA8X,KAAK,CAAGvB,GAAG,CAAC7V,CAAJ,CAAM,GAAd,CACAqX,KAAK,CAAGxB,GAAG,CAAC35C,CAAJ,CAAM,GAAd,CAEA,GAAIi7C,KAAK,EAAI,OAAb,CAAsB,CAACG,CAAC,CAAGH,KAAK,CAAG,KAAZ,CAAmB,CAA1C,IAAgD,CAACG,CAAC,CAAG3+C,IAAI,CAAC8+C,GAAL,CAAU,CAACN,KAAK,CAAG,KAAT,EAAkB,KAA5B,CAAoC,GAApC,CAAJ,CAA8C,CAC/F,GAAIC,KAAK,EAAI,OAAb,CAAsB,CAACG,CAAC,CAAGH,KAAK,CAAG,KAAZ,CAAmB,CAA1C,IAAgD,CAACG,CAAC,CAAG5+C,IAAI,CAAC8+C,GAAL,CAAU,CAACL,KAAK,CAAG,KAAT,EAAkB,KAA5B,CAAoC,GAApC,CAAJ,CAA8C,CAC/F,GAAIC,KAAK,EAAI,OAAb,CAAsB,CAACG,CAAC,CAAGH,KAAK,CAAG,KAAZ,CAAmB,CAA1C,IAAgD,CAACG,CAAC,CAAG7+C,IAAI,CAAC8+C,GAAL,CAAU,CAACJ,KAAK,CAAG,KAAT,EAAkB,KAA5B,CAAoC,GAApC,CAAJ,CAA8C,CAC/F,MAAQ,QAASC,CAAV,CAAgB,OAASC,CAAzB,CAA+B,OAASC,CAA/C,CACH,CApCiB,CAqClBE,QAAQ,CAAE,SAASz9C,KAAT,CAAgB,CACtB,KAAKk8C,EAAL,CAAUwB,UAAU,CAAC19C,KAAD,CAApB,CACA,KAAKm8C,OAAL,CAAeb,SAAS,CAAC,IAAI,KAAKY,EAAV,CAAT,CAAyB,GAAxC,CACA,MAAO,KAAP,CACH,CAzCiB,CA0ClByB,KAAK,CAAE,UAAW,CACd,GAAIC,IAAG,CAAGC,QAAQ,CAAC,KAAK9B,EAAN,CAAU,KAAKC,EAAf,CAAmB,KAAKC,EAAxB,CAAlB,CACA,MAAO,CAAEzW,CAAC,CAAEoY,GAAG,CAACpY,CAAJ,CAAQ,GAAb,CAAkBrO,CAAC,CAAEymB,GAAG,CAACzmB,CAAzB,CAA4BviB,CAAC,CAAEgpC,GAAG,CAAChpC,CAAnC,CAAsC5S,CAAC,CAAE,KAAKk6C,EAA9C,CAAP,CACH,CA7CiB,CA8ClB4B,WAAW,CAAE,UAAW,CACpB,GAAIF,IAAG,CAAGC,QAAQ,CAAC,KAAK9B,EAAN,CAAU,KAAKC,EAAf,CAAmB,KAAKC,EAAxB,CAAlB,CACA,GAAIzW,EAAC,CAAG8V,SAAS,CAACsC,GAAG,CAACpY,CAAJ,CAAQ,GAAT,CAAjB,CAAgCrO,CAAC,CAAGmkB,SAAS,CAACsC,GAAG,CAACzmB,CAAJ,CAAQ,GAAT,CAA7C,CAA4DviB,CAAC,CAAG0mC,SAAS,CAACsC,GAAG,CAAChpC,CAAJ,CAAQ,GAAT,CAAzE,CACA,MAAQ,MAAKsnC,EAAL,EAAW,CAAZ,CACL,OAAU1W,CAAV,CAAc,IAAd,CAAqBrO,CAArB,CAAyB,KAAzB,CAAiCviB,CAAjC,CAAqC,IADhC,CAEL,QAAU4wB,CAAV,CAAc,IAAd,CAAqBrO,CAArB,CAAyB,KAAzB,CAAiCviB,CAAjC,CAAqC,KAArC,CAA4C,KAAKunC,OAAjD,CAA2D,GAF7D,CAGH,CApDiB,CAqDlB4B,KAAK,CAAE,UAAW,CACd,GAAIC,IAAG,CAAGC,QAAQ,CAAC,KAAKlC,EAAN,CAAU,KAAKC,EAAf,CAAmB,KAAKC,EAAxB,CAAlB,CACA,MAAO,CAAEzW,CAAC,CAAEwY,GAAG,CAACxY,CAAJ,CAAQ,GAAb,CAAkBrO,CAAC,CAAE6mB,GAAG,CAAC7mB,CAAzB,CAA4B1kB,CAAC,CAAEurC,GAAG,CAACvrC,CAAnC,CAAsCzQ,CAAC,CAAE,KAAKk6C,EAA9C,CAAP,CACH,CAxDiB,CAyDlBgC,WAAW,CAAE,UAAW,CACpB,GAAIF,IAAG,CAAGC,QAAQ,CAAC,KAAKlC,EAAN,CAAU,KAAKC,EAAf,CAAmB,KAAKC,EAAxB,CAAlB,CACA,GAAIzW,EAAC,CAAG8V,SAAS,CAAC0C,GAAG,CAACxY,CAAJ,CAAQ,GAAT,CAAjB,CAAgCrO,CAAC,CAAGmkB,SAAS,CAAC0C,GAAG,CAAC7mB,CAAJ,CAAQ,GAAT,CAA7C,CAA4D1kB,CAAC,CAAG6oC,SAAS,CAAC0C,GAAG,CAACvrC,CAAJ,CAAQ,GAAT,CAAzE,CACA,MAAQ,MAAKypC,EAAL,EAAW,CAAZ,CACL,OAAU1W,CAAV,CAAc,IAAd,CAAqBrO,CAArB,CAAyB,KAAzB,CAAiC1kB,CAAjC,CAAqC,IADhC,CAEL,QAAU+yB,CAAV,CAAc,IAAd,CAAqBrO,CAArB,CAAyB,KAAzB,CAAiC1kB,CAAjC,CAAqC,KAArC,CAA4C,KAAK0pC,OAAjD,CAA2D,GAF7D,CAGH,CA/DiB,CAgElBgC,KAAK,CAAE,SAASC,UAAT,CAAqB,CACxB,MAAOC,SAAQ,CAAC,KAAKtC,EAAN,CAAU,KAAKC,EAAf,CAAmB,KAAKC,EAAxB,CAA4BmC,UAA5B,CAAf,CACH,CAlEiB,CAmElBE,WAAW,CAAE,SAASF,UAAT,CAAqB,CAC9B,MAAO,IAAM,KAAKD,KAAL,CAAWC,UAAX,CAAb,CACH,CArEiB,CAsElBG,MAAM,CAAE,SAASC,UAAT,CAAqB,CACzB,MAAOC,UAAS,CAAC,KAAK1C,EAAN,CAAU,KAAKC,EAAf,CAAmB,KAAKC,EAAxB,CAA4B,KAAKC,EAAjC,CAAqCsC,UAArC,CAAhB,CACH,CAxEiB,CAyElBE,YAAY,CAAE,SAASF,UAAT,CAAqB,CAC/B,MAAO,IAAM,KAAKD,MAAL,CAAYC,UAAZ,CAAb,CACH,CA3EiB,CA4ElBxB,KAAK,CAAE,UAAW,CACd,MAAO,CAAE3X,CAAC,CAAEiW,SAAS,CAAC,KAAKS,EAAN,CAAd,CAAyBhW,CAAC,CAAEuV,SAAS,CAAC,KAAKU,EAAN,CAArC,CAAgD/5C,CAAC,CAAEq5C,SAAS,CAAC,KAAKW,EAAN,CAA5D,CAAuEj6C,CAAC,CAAE,KAAKk6C,EAA/E,CAAP,CACH,CA9EiB,CA+ElByC,WAAW,CAAE,UAAW,CACpB,MAAQ,MAAKzC,EAAL,EAAW,CAAZ,CACL,OAAUZ,SAAS,CAAC,KAAKS,EAAN,CAAnB,CAA+B,IAA/B,CAAsCT,SAAS,CAAC,KAAKU,EAAN,CAA/C,CAA2D,IAA3D,CAAkEV,SAAS,CAAC,KAAKW,EAAN,CAA3E,CAAuF,GADlF,CAEL,QAAUX,SAAS,CAAC,KAAKS,EAAN,CAAnB,CAA+B,IAA/B,CAAsCT,SAAS,CAAC,KAAKU,EAAN,CAA/C,CAA2D,IAA3D,CAAkEV,SAAS,CAAC,KAAKW,EAAN,CAA3E,CAAuF,IAAvF,CAA8F,KAAKE,OAAnG,CAA6G,GAF/G,CAGH,CAnFiB,CAoFlByC,eAAe,CAAE,UAAW,CACxB,MAAO,CAAEvZ,CAAC,CAAEiW,SAAS,CAACuD,OAAO,CAAC,KAAK9C,EAAN,CAAU,GAAV,CAAP,CAAwB,GAAzB,CAAT,CAAyC,GAA9C,CAAmDhW,CAAC,CAAEuV,SAAS,CAACuD,OAAO,CAAC,KAAK7C,EAAN,CAAU,GAAV,CAAP,CAAwB,GAAzB,CAAT,CAAyC,GAA/F,CAAoG/5C,CAAC,CAAEq5C,SAAS,CAACuD,OAAO,CAAC,KAAK5C,EAAN,CAAU,GAAV,CAAP,CAAwB,GAAzB,CAAT,CAAyC,GAAhJ,CAAqJj6C,CAAC,CAAE,KAAKk6C,EAA7J,CAAP,CACH,CAtFiB,CAuFlB4C,qBAAqB,CAAE,UAAW,CAC9B,MAAQ,MAAK5C,EAAL,EAAW,CAAZ,CACL,OAAUZ,SAAS,CAACuD,OAAO,CAAC,KAAK9C,EAAN,CAAU,GAAV,CAAP,CAAwB,GAAzB,CAAnB,CAAmD,KAAnD,CAA2DT,SAAS,CAACuD,OAAO,CAAC,KAAK7C,EAAN,CAAU,GAAV,CAAP,CAAwB,GAAzB,CAApE,CAAoG,KAApG,CAA4GV,SAAS,CAACuD,OAAO,CAAC,KAAK5C,EAAN,CAAU,GAAV,CAAP,CAAwB,GAAzB,CAArH,CAAqJ,IADhJ,CAEL,QAAUX,SAAS,CAACuD,OAAO,CAAC,KAAK9C,EAAN,CAAU,GAAV,CAAP,CAAwB,GAAzB,CAAnB,CAAmD,KAAnD,CAA2DT,SAAS,CAACuD,OAAO,CAAC,KAAK7C,EAAN,CAAU,GAAV,CAAP,CAAwB,GAAzB,CAApE,CAAoG,KAApG,CAA4GV,SAAS,CAACuD,OAAO,CAAC,KAAK5C,EAAN,CAAU,GAAV,CAAP,CAAwB,GAAzB,CAArH,CAAqJ,KAArJ,CAA6J,KAAKE,OAAlK,CAA4K,GAF9K,CAGH,CA3FiB,CA4FlB4C,MAAM,CAAE,UAAW,CACf,GAAI,KAAK7C,EAAL,GAAY,CAAhB,CAAmB,CACf,MAAO,aAAP,CACH,CAED,GAAI,KAAKA,EAAL,CAAU,CAAd,CAAiB,CACb,MAAO,MAAP,CACH,CAED,MAAO8C,SAAQ,CAACX,QAAQ,CAAC,KAAKtC,EAAN,CAAU,KAAKC,EAAf,CAAmB,KAAKC,EAAxB,CAA4B,IAA5B,CAAT,CAAR,EAAuD,KAA9D,CACH,CAtGiB,CAuGlBgD,QAAQ,CAAE,SAASC,WAAT,CAAsB,CAC5B,GAAIC,WAAU,CAAG,IAAMC,aAAa,CAAC,KAAKrD,EAAN,CAAU,KAAKC,EAAf,CAAmB,KAAKC,EAAxB,CAA4B,KAAKC,EAAjC,CAApC,CACA,GAAImD,iBAAgB,CAAGF,UAAvB,CACA,GAAI7C,aAAY,CAAG,KAAKD,aAAL,CAAqB,oBAArB,CAA4C,EAA/D,CAEA,GAAI6C,WAAJ,CAAiB,CACb,GAAI/nB,EAAC,CAAGukB,SAAS,CAACwD,WAAD,CAAjB,CACAG,gBAAgB,CAAG,IAAMD,aAAa,CAACjoB,CAAC,CAAC4kB,EAAH,CAAO5kB,CAAC,CAAC6kB,EAAT,CAAa7kB,CAAC,CAAC8kB,EAAf,CAAmB9kB,CAAC,CAAC+kB,EAArB,CAAtC,CACH,CAED,MAAO,8CAA8CI,YAA9C,CAA2D,gBAA3D,CAA4E6C,UAA5E,CAAuF,eAAvF,CAAuGE,gBAAvG,CAAwH,GAA/H,CACH,CAlHiB,CAmHlBzlD,QAAQ,CAAE,SAASosC,MAAT,CAAiB,CACvB,GAAIsZ,UAAS,CAAG,CAAC,CAACtZ,MAAlB,CACAA,MAAM,CAAGA,MAAM,EAAI,KAAKoW,OAAxB,CAEA,GAAImD,gBAAe,CAAG,KAAtB,CACA,GAAIC,SAAQ,CAAG,KAAKtD,EAAL,CAAU,CAAV,EAAe,KAAKA,EAAL,EAAW,CAAzC,CACA,GAAIuD,iBAAgB,CAAG,CAACH,SAAD,EAAcE,QAAd,GAA2BxZ,MAAM,GAAK,KAAX,EAAoBA,MAAM,GAAK,MAA/B,EAAyCA,MAAM,GAAK,MAApD,EAA8DA,MAAM,GAAK,MAAzE,EAAmFA,MAAM,GAAK,MAA9F,EAAwGA,MAAM,GAAK,MAA9I,CAAvB,CAEA,GAAIyZ,gBAAJ,CAAsB,CAGlB,GAAIzZ,MAAM,GAAK,MAAX,EAAqB,KAAKkW,EAAL,GAAY,CAArC,CAAwC,CACpC,MAAO,MAAK6C,MAAL,EAAP,CACH,CACD,MAAO,MAAKJ,WAAL,EAAP,CACH,CACD,GAAI3Y,MAAM,GAAK,KAAf,CAAsB,CAClBuZ,eAAe,CAAG,KAAKZ,WAAL,EAAlB,CACH,CACD,GAAI3Y,MAAM,GAAK,MAAf,CAAuB,CACnBuZ,eAAe,CAAG,KAAKT,qBAAL,EAAlB,CACH,CACD,GAAI9Y,MAAM,GAAK,KAAX,EAAoBA,MAAM,GAAK,MAAnC,CAA2C,CACvCuZ,eAAe,CAAG,KAAKjB,WAAL,EAAlB,CACH,CACD,GAAItY,MAAM,GAAK,MAAf,CAAuB,CACnBuZ,eAAe,CAAG,KAAKjB,WAAL,CAAiB,IAAjB,CAAlB,CACH,CACD,GAAItY,MAAM,GAAK,MAAf,CAAuB,CACnBuZ,eAAe,CAAG,KAAKb,YAAL,CAAkB,IAAlB,CAAlB,CACH,CACD,GAAI1Y,MAAM,GAAK,MAAf,CAAuB,CACnBuZ,eAAe,CAAG,KAAKb,YAAL,EAAlB,CACH,CACD,GAAI1Y,MAAM,GAAK,MAAf,CAAuB,CACnBuZ,eAAe,CAAG,KAAKR,MAAL,EAAlB,CACH,CACD,GAAI/Y,MAAM,GAAK,KAAf,CAAsB,CAClBuZ,eAAe,CAAG,KAAKrB,WAAL,EAAlB,CACH,CACD,GAAIlY,MAAM,GAAK,KAAf,CAAsB,CAClBuZ,eAAe,CAAG,KAAKzB,WAAL,EAAlB,CACH,CAED,MAAOyB,gBAAe,EAAI,KAAKjB,WAAL,EAA1B,CACH,CAhKiB,CAiKlBpgD,KAAK,CAAE,UAAW,CACd,MAAOw9C,UAAS,CAAC,KAAK9hD,QAAL,EAAD,CAAhB,CACH,CAnKiB,CAqKlB8lD,kBAAkB,CAAE,SAAS1jD,EAAT,CAAasQ,IAAb,CAAmB,CACnC,GAAIqvC,MAAK,CAAG3/C,EAAE,CAACmB,KAAH,CAAS,IAAT,CAAe,CAAC,IAAD,EAAO3D,MAAP,CAAc,GAAGD,KAAH,CAASU,IAAT,CAAcqS,IAAd,CAAd,CAAf,CAAZ,CACA,KAAKyvC,EAAL,CAAUJ,KAAK,CAACI,EAAhB,CACA,KAAKC,EAAL,CAAUL,KAAK,CAACK,EAAhB,CACA,KAAKC,EAAL,CAAUN,KAAK,CAACM,EAAhB,CACA,KAAKwB,QAAL,CAAc9B,KAAK,CAACO,EAApB,EACA,MAAO,KAAP,CACH,CA5KiB,CA6KlByD,OAAO,CAAE,UAAW,CAChB,MAAO,MAAKD,kBAAL,CAAwBC,OAAxB,CAAiCviD,SAAjC,CAAP,CACH,CA/KiB,CAgLlBwiD,QAAQ,CAAE,UAAW,CACjB,MAAO,MAAKF,kBAAL,CAAwBE,QAAxB,CAAkCxiD,SAAlC,CAAP,CACH,CAlLiB,CAmLlByiD,MAAM,CAAE,UAAW,CACf,MAAO,MAAKH,kBAAL,CAAwBG,MAAxB,CAAgCziD,SAAhC,CAAP,CACH,CArLiB,CAsLlB0iD,UAAU,CAAE,UAAW,CACnB,MAAO,MAAKJ,kBAAL,CAAwBI,UAAxB,CAAoC1iD,SAApC,CAAP,CACH,CAxLiB,CAyLlB2iD,QAAQ,CAAE,UAAW,CACjB,MAAO,MAAKL,kBAAL,CAAwBK,QAAxB,CAAkC3iD,SAAlC,CAAP,CACH,CA3LiB,CA4LlB4iD,SAAS,CAAE,UAAW,CAClB,MAAO,MAAKN,kBAAL,CAAwBM,SAAxB,CAAmC5iD,SAAnC,CAAP,CACH,CA9LiB,CA+LlB6iD,IAAI,CAAE,UAAW,CACb,MAAO,MAAKP,kBAAL,CAAwBO,IAAxB,CAA8B7iD,SAA9B,CAAP,CACH,CAjMiB,CAmMlB8iD,iBAAiB,CAAE,SAASlkD,EAAT,CAAasQ,IAAb,CAAmB,CAClC,MAAOtQ,GAAE,CAACmB,KAAH,CAAS,IAAT,CAAe,CAAC,IAAD,EAAO3D,MAAP,CAAc,GAAGD,KAAH,CAASU,IAAT,CAAcqS,IAAd,CAAd,CAAf,CAAP,CACH,CArMiB,CAsMlB6zC,SAAS,CAAE,UAAW,CAClB,MAAO,MAAKD,iBAAL,CAAuBC,SAAvB,CAAkC/iD,SAAlC,CAAP,CACH,CAxMiB,CAyMlBgjD,UAAU,CAAE,UAAW,CACnB,MAAO,MAAKF,iBAAL,CAAuBE,UAAvB,CAAmChjD,SAAnC,CAAP,CACH,CA3MiB,CA4MlBijD,aAAa,CAAE,UAAW,CACtB,MAAO,MAAKH,iBAAL,CAAuBG,aAAvB,CAAsCjjD,SAAtC,CAAP,CACH,CA9MiB,CA+MlBkjD,eAAe,CAAE,UAAW,CACxB,MAAO,MAAKJ,iBAAL,CAAuBI,eAAvB,CAAwCljD,SAAxC,CAAP,CACH,CAjNiB,CAkNlBmjD,KAAK,CAAE,UAAW,CACd,MAAO,MAAKL,iBAAL,CAAuBK,KAAvB,CAA8BnjD,SAA9B,CAAP,CACH,CApNiB,CAqNlBojD,MAAM,CAAE,UAAW,CACf,MAAO,MAAKN,iBAAL,CAAuBM,MAAvB,CAA+BpjD,SAA/B,CAAP,CACH,CAvNiB,CAAtB,CA4NAs+C,SAAS,CAAC+E,SAAV,CAAsB,SAAS9E,KAAT,CAAgBprB,IAAhB,CAAsB,CACxC,GAAI,MAAOorB,MAAP,EAAgB,QAApB,CAA8B,CAC1B,GAAI+E,SAAQ,CAAG,EAAf,CACA,IAAK,GAAI1lD,EAAT,GAAc2gD,MAAd,CAAqB,CACjB,GAAIA,KAAK,CAAC7hD,cAAN,CAAqBkB,CAArB,CAAJ,CAA6B,CACzB,GAAIA,CAAC,GAAK,GAAV,CAAe,CACX0lD,QAAQ,CAAC1lD,CAAD,CAAR,CAAc2gD,KAAK,CAAC3gD,CAAD,CAAnB,CACH,CAFD,IAGK,CACD0lD,QAAQ,CAAC1lD,CAAD,CAAR,CAAc2lD,mBAAmB,CAAChF,KAAK,CAAC3gD,CAAD,CAAN,CAAjC,CACH,CACJ,CACJ,CACD2gD,KAAK,CAAG+E,QAAR,CACH,CAED,MAAOhF,UAAS,CAACC,KAAD,CAAQprB,IAAR,CAAhB,CACH,CAjBD,CAkCA,QAASsrB,WAAT,CAAoBF,KAApB,CAA2B,CAEvB,GAAIC,IAAG,CAAG,CAAEvW,CAAC,CAAE,CAAL,CAAQU,CAAC,CAAE,CAAX,CAAc9jC,CAAC,CAAE,CAAjB,CAAV,CACA,GAAID,EAAC,CAAG,CAAR,CACA,GAAIm1B,EAAC,CAAG,IAAR,CACA,GAAIviB,EAAC,CAAG,IAAR,CACA,GAAInC,EAAC,CAAG,IAAR,CACA,GAAI+pC,GAAE,CAAG,KAAT,CACA,GAAIxW,OAAM,CAAG,KAAb,CAEA,GAAI,MAAO2V,MAAP,EAAgB,QAApB,CAA8B,CAC1BA,KAAK,CAAGiF,mBAAmB,CAACjF,KAAD,CAA3B,CACH,CAED,GAAI,MAAOA,MAAP,EAAgB,QAApB,CAA8B,CAC1B,GAAIkF,cAAc,CAAClF,KAAK,CAACtW,CAAP,CAAd,EAA2Bwb,cAAc,CAAClF,KAAK,CAAC5V,CAAP,CAAzC,EAAsD8a,cAAc,CAAClF,KAAK,CAAC15C,CAAP,CAAxE,CAAmF,CAC/E25C,GAAG,CAAGkF,QAAQ,CAACnF,KAAK,CAACtW,CAAP,CAAUsW,KAAK,CAAC5V,CAAhB,CAAmB4V,KAAK,CAAC15C,CAAzB,CAAd,CACAu6C,EAAE,CAAG,IAAL,CACAxW,MAAM,CAAGliC,MAAM,CAAC63C,KAAK,CAACtW,CAAP,CAAN,CAAgBqE,MAAhB,CAAuB,CAAC,CAAxB,IAA+B,GAA/B,CAAqC,MAArC,CAA8C,KAAvD,CACH,CAJD,IAKK,IAAImX,cAAc,CAAClF,KAAK,CAACnW,CAAP,CAAd,EAA2Bqb,cAAc,CAAClF,KAAK,CAACxkB,CAAP,CAAzC,EAAsD0pB,cAAc,CAAClF,KAAK,CAAC/mC,CAAP,CAAxE,CAAmF,CACpFuiB,CAAC,CAAGwpB,mBAAmB,CAAChF,KAAK,CAACxkB,CAAP,CAAvB,CACAviB,CAAC,CAAG+rC,mBAAmB,CAAChF,KAAK,CAAC/mC,CAAP,CAAvB,CACAgnC,GAAG,CAAGmF,QAAQ,CAACpF,KAAK,CAACnW,CAAP,CAAUrO,CAAV,CAAaviB,CAAb,CAAd,CACA4nC,EAAE,CAAG,IAAL,CACAxW,MAAM,CAAG,KAAT,CACH,CANI,IAOA,IAAI6a,cAAc,CAAClF,KAAK,CAACnW,CAAP,CAAd,EAA2Bqb,cAAc,CAAClF,KAAK,CAACxkB,CAAP,CAAzC,EAAsD0pB,cAAc,CAAClF,KAAK,CAAClpC,CAAP,CAAxE,CAAmF,CACpF0kB,CAAC,CAAGwpB,mBAAmB,CAAChF,KAAK,CAACxkB,CAAP,CAAvB,CACA1kB,CAAC,CAAGkuC,mBAAmB,CAAChF,KAAK,CAAClpC,CAAP,CAAvB,CACAmpC,GAAG,CAAGoF,QAAQ,CAACrF,KAAK,CAACnW,CAAP,CAAUrO,CAAV,CAAa1kB,CAAb,CAAd,CACA+pC,EAAE,CAAG,IAAL,CACAxW,MAAM,CAAG,KAAT,CACH,CAED,GAAI2V,KAAK,CAAC7hD,cAAN,CAAqB,GAArB,CAAJ,CAA+B,CAC3BkI,CAAC,CAAG25C,KAAK,CAAC35C,CAAV,CACH,CACJ,CAEDA,CAAC,CAAG07C,UAAU,CAAC17C,CAAD,CAAd,CAEA,MAAO,CACHw6C,EAAE,CAAEA,EADD,CAEHxW,MAAM,CAAE2V,KAAK,CAAC3V,MAAN,EAAgBA,MAFrB,CAGHX,CAAC,CAAEkW,OAAO,CAAC,GAAD,CAAMC,OAAO,CAACI,GAAG,CAACvW,CAAL,CAAQ,CAAR,CAAb,CAHP,CAIHU,CAAC,CAAEwV,OAAO,CAAC,GAAD,CAAMC,OAAO,CAACI,GAAG,CAAC7V,CAAL,CAAQ,CAAR,CAAb,CAJP,CAKH9jC,CAAC,CAAEs5C,OAAO,CAAC,GAAD,CAAMC,OAAO,CAACI,GAAG,CAAC35C,CAAL,CAAQ,CAAR,CAAb,CALP,CAMHD,CAAC,CAAEA,CANA,CAAP,CAQH,CAcD,QAAS8+C,SAAT,CAAkBzb,CAAlB,CAAqBU,CAArB,CAAwB9jC,CAAxB,CAA0B,CACtB,MAAO,CACHojC,CAAC,CAAEwZ,OAAO,CAACxZ,CAAD,CAAI,GAAJ,CAAP,CAAkB,GADlB,CAEHU,CAAC,CAAE8Y,OAAO,CAAC9Y,CAAD,CAAI,GAAJ,CAAP,CAAkB,GAFlB,CAGH9jC,CAAC,CAAE48C,OAAO,CAAC58C,CAAD,CAAI,GAAJ,CAAP,CAAkB,GAHlB,CAAP,CAKH,CAMD,QAASg8C,SAAT,CAAkB5Y,CAAlB,CAAqBU,CAArB,CAAwB9jC,CAAxB,CAA2B,CAEvBojC,CAAC,CAAGwZ,OAAO,CAACxZ,CAAD,CAAI,GAAJ,CAAX,CACAU,CAAC,CAAG8Y,OAAO,CAAC9Y,CAAD,CAAI,GAAJ,CAAX,CACA9jC,CAAC,CAAG48C,OAAO,CAAC58C,CAAD,CAAI,GAAJ,CAAX,CAEA,GAAImqB,IAAG,CAAGovB,OAAO,CAACnW,CAAD,CAAIU,CAAJ,CAAO9jC,CAAP,CAAjB,CAA4BghC,GAAG,CAAGsY,OAAO,CAAClW,CAAD,CAAIU,CAAJ,CAAO9jC,CAAP,CAAzC,CACA,GAAIujC,EAAJ,CAAOrO,CAAP,CAAU1kB,CAAC,CAAG,CAAC2Z,GAAG,CAAG6W,GAAP,EAAc,CAA5B,CAEA,GAAG7W,GAAG,EAAI6W,GAAV,CAAe,CACXuC,CAAC,CAAGrO,CAAC,CAAG,CAAR,CACH,CAFD,IAGK,CACD,GAAIwP,EAAC,CAAGva,GAAG,CAAG6W,GAAd,CACA9L,CAAC,CAAG1kB,CAAC,CAAG,GAAJ,CAAUk0B,CAAC,EAAI,EAAIva,GAAJ,CAAU6W,GAAd,CAAX,CAAgC0D,CAAC,EAAIva,GAAG,CAAG6W,GAAV,CAArC,CACA,OAAO7W,GAAP,EACI,IAAKiZ,EAAL,CAAQG,CAAC,CAAG,CAACO,CAAC,CAAG9jC,CAAL,EAAU0kC,CAAV,EAAeZ,CAAC,CAAG9jC,CAAJ,CAAQ,CAAR,CAAY,CAA3B,CAAJ,CAAmC,MAC3C,IAAK8jC,EAAL,CAAQP,CAAC,CAAG,CAACvjC,CAAC,CAAGojC,CAAL,EAAUsB,CAAV,CAAc,CAAlB,CAAqB,MAC7B,IAAK1kC,EAAL,CAAQujC,CAAC,CAAG,CAACH,CAAC,CAAGU,CAAL,EAAUY,CAAV,CAAc,CAAlB,CAAqB,MAHjC,CAMAnB,CAAC,EAAI,CAAL,CACH,CAED,MAAO,CAAEA,CAAC,CAAEA,CAAL,CAAQrO,CAAC,CAAEA,CAAX,CAAc1kB,CAAC,CAAEA,CAAjB,CAAP,CACH,CAMD,QAASuuC,SAAT,CAAkBxb,CAAlB,CAAqBrO,CAArB,CAAwB1kB,CAAxB,CAA2B,CACvB,GAAI4yB,EAAJ,CAAOU,CAAP,CAAU9jC,CAAV,CAEAujC,CAAC,CAAGqZ,OAAO,CAACrZ,CAAD,CAAI,GAAJ,CAAX,CACArO,CAAC,CAAG0nB,OAAO,CAAC1nB,CAAD,CAAI,GAAJ,CAAX,CACA1kB,CAAC,CAAGosC,OAAO,CAACpsC,CAAD,CAAI,GAAJ,CAAX,CAEA,QAASwuC,QAAT,CAAiBhyB,CAAjB,CAAoBiyB,CAApB,CAAuBzgC,CAAvB,CAA0B,CACtB,GAAGA,CAAC,CAAG,CAAP,CAAUA,CAAC,EAAI,CAAL,CACV,GAAGA,CAAC,CAAG,CAAP,CAAUA,CAAC,EAAI,CAAL,CACV,GAAGA,CAAC,CAAG,EAAE,CAAT,CAAY,MAAOwO,EAAC,CAAG,CAACiyB,CAAC,CAAGjyB,CAAL,EAAU,CAAV,CAAcxO,CAAzB,CACZ,GAAGA,CAAC,CAAG,EAAE,CAAT,CAAY,MAAOygC,EAAP,CACZ,GAAGzgC,CAAC,CAAG,EAAE,CAAT,CAAY,MAAOwO,EAAC,CAAG,CAACiyB,CAAC,CAAGjyB,CAAL,GAAW,EAAE,CAAF,CAAMxO,CAAjB,EAAsB,CAAjC,CACZ,MAAOwO,EAAP,CACH,CAED,GAAGkI,CAAC,GAAK,CAAT,CAAY,CACRkO,CAAC,CAAGU,CAAC,CAAG9jC,CAAC,CAAGwQ,CAAZ,CACH,CAFD,IAGK,CACD,GAAIyuC,EAAC,CAAGzuC,CAAC,CAAG,GAAJ,CAAUA,CAAC,EAAI,EAAI0kB,CAAR,CAAX,CAAwB1kB,CAAC,CAAG0kB,CAAJ,CAAQ1kB,CAAC,CAAG0kB,CAA5C,CACA,GAAIlI,EAAC,CAAG,EAAIxc,CAAJ,CAAQyuC,CAAhB,CACA7b,CAAC,CAAG4b,OAAO,CAAChyB,CAAD,CAAIiyB,CAAJ,CAAO1b,CAAC,CAAG,EAAE,CAAb,CAAX,CACAO,CAAC,CAAGkb,OAAO,CAAChyB,CAAD,CAAIiyB,CAAJ,CAAO1b,CAAP,CAAX,CACAvjC,CAAC,CAAGg/C,OAAO,CAAChyB,CAAD,CAAIiyB,CAAJ,CAAO1b,CAAC,CAAG,EAAE,CAAb,CAAX,CACH,CAED,MAAO,CAAEH,CAAC,CAAEA,CAAC,CAAG,GAAT,CAAcU,CAAC,CAAEA,CAAC,CAAG,GAArB,CAA0B9jC,CAAC,CAAEA,CAAC,CAAG,GAAjC,CAAP,CACH,CAMD,QAAS47C,SAAT,CAAkBxY,CAAlB,CAAqBU,CAArB,CAAwB9jC,CAAxB,CAA2B,CAEvBojC,CAAC,CAAGwZ,OAAO,CAACxZ,CAAD,CAAI,GAAJ,CAAX,CACAU,CAAC,CAAG8Y,OAAO,CAAC9Y,CAAD,CAAI,GAAJ,CAAX,CACA9jC,CAAC,CAAG48C,OAAO,CAAC58C,CAAD,CAAI,GAAJ,CAAX,CAEA,GAAImqB,IAAG,CAAGovB,OAAO,CAACnW,CAAD,CAAIU,CAAJ,CAAO9jC,CAAP,CAAjB,CAA4BghC,GAAG,CAAGsY,OAAO,CAAClW,CAAD,CAAIU,CAAJ,CAAO9jC,CAAP,CAAzC,CACA,GAAIujC,EAAJ,CAAOrO,CAAP,CAEA,GAAIwP,EAAC,CAAGva,GAAG,CAAG6W,GAAd,CACA9L,CAAC,CAAG/K,GAAG,GAAK,CAAR,CAAY,CAAZ,CAAgBua,CAAC,CAAGva,GAAxB,CAEA,GAAGA,GAAG,EAAI6W,GAAV,CAAe,CACXuC,CAAC,CAAG,CAAJ,CACH,CAFD,IAGK,CACD,OAAOpZ,GAAP,EACI,IAAKiZ,EAAL,CAAQG,CAAC,CAAG,CAACO,CAAC,CAAG9jC,CAAL,EAAU0kC,CAAV,EAAeZ,CAAC,CAAG9jC,CAAJ,CAAQ,CAAR,CAAY,CAA3B,CAAJ,CAAmC,MAC3C,IAAK8jC,EAAL,CAAQP,CAAC,CAAG,CAACvjC,CAAC,CAAGojC,CAAL,EAAUsB,CAAV,CAAc,CAAlB,CAAqB,MAC7B,IAAK1kC,EAAL,CAAQujC,CAAC,CAAG,CAACH,CAAC,CAAGU,CAAL,EAAUY,CAAV,CAAc,CAAlB,CAAqB,MAHjC,CAKAnB,CAAC,EAAI,CAAL,CACH,CACD,MAAO,CAAEA,CAAC,CAAEA,CAAL,CAAQrO,CAAC,CAAEA,CAAX,CAAcviB,CAAC,CAhBRwX,GAgBP,CAAP,CACH,CAMA,QAAS20B,SAAT,CAAkBvb,CAAlB,CAAqBrO,CAArB,CAAwBviB,CAAxB,CAA2B,CAExB4wB,CAAC,CAAGqZ,OAAO,CAACrZ,CAAD,CAAI,GAAJ,CAAP,CAAkB,CAAtB,CACArO,CAAC,CAAG0nB,OAAO,CAAC1nB,CAAD,CAAI,GAAJ,CAAX,CACAviB,CAAC,CAAGiqC,OAAO,CAACjqC,CAAD,CAAI,GAAJ,CAAX,CAEA,GAAI5Z,EAAC,CAAG0D,IAAI,CAAC6nC,KAAL,CAAWf,CAAX,CAAR,CACIC,CAAC,CAAGD,CAAC,CAAGxqC,CADZ,CAEIi0B,CAAC,CAAGra,CAAC,EAAI,EAAIuiB,CAAR,CAFT,CAGI+pB,CAAC,CAAGtsC,CAAC,EAAI,EAAI6wB,CAAC,CAAGtO,CAAZ,CAHT,CAII1W,CAAC,CAAG7L,CAAC,EAAI,EAAI,CAAC,EAAI6wB,CAAL,EAAUtO,CAAlB,CAJT,CAKIgqB,GAAG,CAAGnmD,CAAC,CAAG,CALd,CAMIqqC,CAAC,CAAG,CAACzwB,CAAD,CAAIssC,CAAJ,CAAOjyB,CAAP,CAAUA,CAAV,CAAaxO,CAAb,CAAgB7L,CAAhB,EAAmBusC,GAAnB,CANR,CAOIpb,CAAC,CAAG,CAACtlB,CAAD,CAAI7L,CAAJ,CAAOA,CAAP,CAAUssC,CAAV,CAAajyB,CAAb,CAAgBA,CAAhB,EAAmBkyB,GAAnB,CAPR,CAQIl/C,CAAC,CAAG,CAACgtB,CAAD,CAAIA,CAAJ,CAAOxO,CAAP,CAAU7L,CAAV,CAAaA,CAAb,CAAgBssC,CAAhB,EAAmBC,GAAnB,CARR,CAUA,MAAO,CAAE9b,CAAC,CAAEA,CAAC,CAAG,GAAT,CAAcU,CAAC,CAAEA,CAAC,CAAG,GAArB,CAA0B9jC,CAAC,CAAEA,CAAC,CAAG,GAAjC,CAAP,CACH,CAMD,QAASo8C,SAAT,CAAkBhZ,CAAlB,CAAqBU,CAArB,CAAwB9jC,CAAxB,CAA2Bm8C,UAA3B,CAAuC,CAEnC,GAAIgD,IAAG,CAAG,CACNC,IAAI,CAAC/F,SAAS,CAACjW,CAAD,CAAT,CAAazrC,QAAb,CAAsB,EAAtB,CAAD,CADE,CAENynD,IAAI,CAAC/F,SAAS,CAACvV,CAAD,CAAT,CAAansC,QAAb,CAAsB,EAAtB,CAAD,CAFE,CAGNynD,IAAI,CAAC/F,SAAS,CAACr5C,CAAD,CAAT,CAAarI,QAAb,CAAsB,EAAtB,CAAD,CAHE,CAAV,CAOA,GAAIwkD,UAAU,EAAIgD,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,GAAoBF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,CAAlC,EAAsDF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,GAAoBF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,CAA1E,EAA8FF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,GAAoBF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,CAAtH,CAAwI,CACpI,MAAOF,IAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,EAAmBF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,CAAnB,CAAsCF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,CAA7C,CACH,CAED,MAAOF,IAAG,CAACr7C,IAAJ,CAAS,EAAT,CAAP,CACH,CAMD,QAAS04C,UAAT,CAAmBpZ,CAAnB,CAAsBU,CAAtB,CAAyB9jC,CAAzB,CAA4BD,CAA5B,CAA+Bw8C,UAA/B,CAA2C,CAEvC,GAAI4C,IAAG,CAAG,CACNC,IAAI,CAAC/F,SAAS,CAACjW,CAAD,CAAT,CAAazrC,QAAb,CAAsB,EAAtB,CAAD,CADE,CAENynD,IAAI,CAAC/F,SAAS,CAACvV,CAAD,CAAT,CAAansC,QAAb,CAAsB,EAAtB,CAAD,CAFE,CAGNynD,IAAI,CAAC/F,SAAS,CAACr5C,CAAD,CAAT,CAAarI,QAAb,CAAsB,EAAtB,CAAD,CAHE,CAINynD,IAAI,CAACE,mBAAmB,CAACv/C,CAAD,CAApB,CAJE,CAAV,CAQA,GAAIw8C,UAAU,EAAI4C,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,GAAoBF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,CAAlC,EAAsDF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,GAAoBF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,CAA1E,EAA8FF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,GAAoBF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,CAAlH,EAAsIF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,GAAoBF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,CAA9J,CAAgL,CAC5K,MAAOF,IAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,EAAmBF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,CAAnB,CAAsCF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,CAAtC,CAAyDF,GAAG,CAAC,CAAD,CAAH,CAAOE,MAAP,CAAc,CAAd,CAAhE,CACH,CAED,MAAOF,IAAG,CAACr7C,IAAJ,CAAS,EAAT,CAAP,CACH,CAKD,QAASq5C,cAAT,CAAuB/Z,CAAvB,CAA0BU,CAA1B,CAA6B9jC,CAA7B,CAAgCD,CAAhC,CAAmC,CAE/B,GAAIo/C,IAAG,CAAG,CACNC,IAAI,CAACE,mBAAmB,CAACv/C,CAAD,CAApB,CADE,CAENq/C,IAAI,CAAC/F,SAAS,CAACjW,CAAD,CAAT,CAAazrC,QAAb,CAAsB,EAAtB,CAAD,CAFE,CAGNynD,IAAI,CAAC/F,SAAS,CAACvV,CAAD,CAAT,CAAansC,QAAb,CAAsB,EAAtB,CAAD,CAHE,CAINynD,IAAI,CAAC/F,SAAS,CAACr5C,CAAD,CAAT,CAAarI,QAAb,CAAsB,EAAtB,CAAD,CAJE,CAAV,CAOA,MAAOwnD,IAAG,CAACr7C,IAAJ,CAAS,EAAT,CAAP,CACH,CAID21C,SAAS,CAAC8F,MAAV,CAAmB,SAAUC,MAAV,CAAkBC,MAAlB,CAA0B,CACzC,GAAI,CAACD,MAAD,EAAW,CAACC,MAAhB,CAAwB,CAAE,MAAO,MAAP,CAAe,CACzC,MAAOhG,UAAS,CAAC+F,MAAD,CAAT,CAAkB9C,WAAlB,IAAmCjD,SAAS,CAACgG,MAAD,CAAT,CAAkB/C,WAAlB,EAA1C,CACH,CAHD,CAKAjD,SAAS,CAAC/8C,MAAV,CAAmB,UAAW,CAC1B,MAAO+8C,UAAS,CAAC+E,SAAV,CAAoB,CACvBpb,CAAC,CAAEoW,UAAU,EADU,CAEvB1V,CAAC,CAAE0V,UAAU,EAFU,CAGvBx5C,CAAC,CAAEw5C,UAAU,EAHU,CAApB,CAAP,CAKH,CAND,CAcA,QAASqE,WAAT,CAAoBnE,KAApB,CAA2BgG,MAA3B,CAAmC,CAC/BA,MAAM,CAAIA,MAAM,GAAK,CAAZ,CAAiB,CAAjB,CAAsBA,MAAM,EAAI,EAAzC,CACA,GAAI3D,IAAG,CAAGtC,SAAS,CAACC,KAAD,CAAT,CAAiBoC,KAAjB,EAAV,CACAC,GAAG,CAAC7mB,CAAJ,EAASwqB,MAAM,CAAG,GAAlB,CACA3D,GAAG,CAAC7mB,CAAJ,CAAQyqB,OAAO,CAAC5D,GAAG,CAAC7mB,CAAL,CAAf,CACA,MAAOukB,UAAS,CAACsC,GAAD,CAAhB,CACH,CAED,QAAS+B,SAAT,CAAkBpE,KAAlB,CAAyBgG,MAAzB,CAAiC,CAC7BA,MAAM,CAAIA,MAAM,GAAK,CAAZ,CAAiB,CAAjB,CAAsBA,MAAM,EAAI,EAAzC,CACA,GAAI3D,IAAG,CAAGtC,SAAS,CAACC,KAAD,CAAT,CAAiBoC,KAAjB,EAAV,CACAC,GAAG,CAAC7mB,CAAJ,EAASwqB,MAAM,CAAG,GAAlB,CACA3D,GAAG,CAAC7mB,CAAJ,CAAQyqB,OAAO,CAAC5D,GAAG,CAAC7mB,CAAL,CAAf,CACA,MAAOukB,UAAS,CAACsC,GAAD,CAAhB,CACH,CAED,QAASgC,UAAT,CAAmBrE,KAAnB,CAA0B,CACtB,MAAOD,UAAS,CAACC,KAAD,CAAT,CAAiBmE,UAAjB,CAA4B,GAA5B,CAAP,CACH,CAED,QAASH,QAAT,CAAkBhE,KAAlB,CAAyBgG,MAAzB,CAAiC,CAC7BA,MAAM,CAAIA,MAAM,GAAK,CAAZ,CAAiB,CAAjB,CAAsBA,MAAM,EAAI,EAAzC,CACA,GAAI3D,IAAG,CAAGtC,SAAS,CAACC,KAAD,CAAT,CAAiBoC,KAAjB,EAAV,CACAC,GAAG,CAACvrC,CAAJ,EAASkvC,MAAM,CAAG,GAAlB,CACA3D,GAAG,CAACvrC,CAAJ,CAAQmvC,OAAO,CAAC5D,GAAG,CAACvrC,CAAL,CAAf,CACA,MAAOipC,UAAS,CAACsC,GAAD,CAAhB,CACH,CAED,QAAS4B,SAAT,CAAkBjE,KAAlB,CAAyBgG,MAAzB,CAAiC,CAC7BA,MAAM,CAAIA,MAAM,GAAK,CAAZ,CAAiB,CAAjB,CAAsBA,MAAM,EAAI,EAAzC,CACA,GAAI/F,IAAG,CAAGF,SAAS,CAACC,KAAD,CAAT,CAAiBqB,KAAjB,EAAV,CACApB,GAAG,CAACvW,CAAJ,CAAQmW,OAAO,CAAC,CAAD,CAAID,OAAO,CAAC,GAAD,CAAMK,GAAG,CAACvW,CAAJ,CAAQiW,SAAS,CAAC,IAAM,EAAGqG,MAAM,CAAG,GAAZ,CAAP,CAAvB,CAAX,CAAf,CACA/F,GAAG,CAAC7V,CAAJ,CAAQyV,OAAO,CAAC,CAAD,CAAID,OAAO,CAAC,GAAD,CAAMK,GAAG,CAAC7V,CAAJ,CAAQuV,SAAS,CAAC,IAAM,EAAGqG,MAAM,CAAG,GAAZ,CAAP,CAAvB,CAAX,CAAf,CACA/F,GAAG,CAAC35C,CAAJ,CAAQu5C,OAAO,CAAC,CAAD,CAAID,OAAO,CAAC,GAAD,CAAMK,GAAG,CAAC35C,CAAJ,CAAQq5C,SAAS,CAAC,IAAM,EAAGqG,MAAM,CAAG,GAAZ,CAAP,CAAvB,CAAX,CAAf,CACA,MAAOjG,UAAS,CAACE,GAAD,CAAhB,CACH,CAED,QAASiE,OAAT,CAAiBlE,KAAjB,CAAwBgG,MAAxB,CAAgC,CAC5BA,MAAM,CAAIA,MAAM,GAAK,CAAZ,CAAiB,CAAjB,CAAsBA,MAAM,EAAI,EAAzC,CACA,GAAI3D,IAAG,CAAGtC,SAAS,CAACC,KAAD,CAAT,CAAiBoC,KAAjB,EAAV,CACAC,GAAG,CAACvrC,CAAJ,EAASkvC,MAAM,CAAG,GAAlB,CACA3D,GAAG,CAACvrC,CAAJ,CAAQmvC,OAAO,CAAC5D,GAAG,CAACvrC,CAAL,CAAf,CACA,MAAOipC,UAAS,CAACsC,GAAD,CAAhB,CACH,CAID,QAASiC,KAAT,CAActE,KAAd,CAAqBgG,MAArB,CAA6B,CACzB,GAAI3D,IAAG,CAAGtC,SAAS,CAACC,KAAD,CAAT,CAAiBoC,KAAjB,EAAV,CACA,GAAI8D,IAAG,CAAG,CAAC7D,GAAG,CAACxY,CAAJ,CAAQmc,MAAT,EAAmB,GAA7B,CACA3D,GAAG,CAACxY,CAAJ,CAAQqc,GAAG,CAAG,CAAN,CAAU,IAAMA,GAAhB,CAAsBA,GAA9B,CACA,MAAOnG,UAAS,CAACsC,GAAD,CAAhB,CACH,CAOD,QAASoC,WAAT,CAAoBzE,KAApB,CAA2B,CACvB,GAAIqC,IAAG,CAAGtC,SAAS,CAACC,KAAD,CAAT,CAAiBoC,KAAjB,EAAV,CACAC,GAAG,CAACxY,CAAJ,CAAQ,CAACwY,GAAG,CAACxY,CAAJ,CAAQ,GAAT,EAAgB,GAAxB,CACA,MAAOkW,UAAS,CAACsC,GAAD,CAAhB,CACH,CAED,QAASuC,MAAT,CAAe5E,KAAf,CAAsB,CAClB,GAAIqC,IAAG,CAAGtC,SAAS,CAACC,KAAD,CAAT,CAAiBoC,KAAjB,EAAV,CACA,GAAIvY,EAAC,CAAGwY,GAAG,CAACxY,CAAZ,CACA,MAAO,CACHkW,SAAS,CAACC,KAAD,CADN,CAEHD,SAAS,CAAC,CAAElW,CAAC,CAAE,CAACA,CAAC,CAAG,GAAL,EAAY,GAAjB,CAAsBrO,CAAC,CAAE6mB,GAAG,CAAC7mB,CAA7B,CAAgC1kB,CAAC,CAAEurC,GAAG,CAACvrC,CAAvC,CAAD,CAFN,CAGHipC,SAAS,CAAC,CAAElW,CAAC,CAAE,CAACA,CAAC,CAAG,GAAL,EAAY,GAAjB,CAAsBrO,CAAC,CAAE6mB,GAAG,CAAC7mB,CAA7B,CAAgC1kB,CAAC,CAAEurC,GAAG,CAACvrC,CAAvC,CAAD,CAHN,CAAP,CAKH,CAED,QAAS+tC,OAAT,CAAgB7E,KAAhB,CAAuB,CACnB,GAAIqC,IAAG,CAAGtC,SAAS,CAACC,KAAD,CAAT,CAAiBoC,KAAjB,EAAV,CACA,GAAIvY,EAAC,CAAGwY,GAAG,CAACxY,CAAZ,CACA,MAAO,CACHkW,SAAS,CAACC,KAAD,CADN,CAEHD,SAAS,CAAC,CAAElW,CAAC,CAAE,CAACA,CAAC,CAAG,EAAL,EAAW,GAAhB,CAAqBrO,CAAC,CAAE6mB,GAAG,CAAC7mB,CAA5B,CAA+B1kB,CAAC,CAAEurC,GAAG,CAACvrC,CAAtC,CAAD,CAFN,CAGHipC,SAAS,CAAC,CAAElW,CAAC,CAAE,CAACA,CAAC,CAAG,GAAL,EAAY,GAAjB,CAAsBrO,CAAC,CAAE6mB,GAAG,CAAC7mB,CAA7B,CAAgC1kB,CAAC,CAAEurC,GAAG,CAACvrC,CAAvC,CAAD,CAHN,CAIHipC,SAAS,CAAC,CAAElW,CAAC,CAAE,CAACA,CAAC,CAAG,GAAL,EAAY,GAAjB,CAAsBrO,CAAC,CAAE6mB,GAAG,CAAC7mB,CAA7B,CAAgC1kB,CAAC,CAAEurC,GAAG,CAACvrC,CAAvC,CAAD,CAJN,CAAP,CAMH,CAED,QAAS6tC,gBAAT,CAAyB3E,KAAzB,CAAgC,CAC5B,GAAIqC,IAAG,CAAGtC,SAAS,CAACC,KAAD,CAAT,CAAiBoC,KAAjB,EAAV,CACA,GAAIvY,EAAC,CAAGwY,GAAG,CAACxY,CAAZ,CACA,MAAO,CACHkW,SAAS,CAACC,KAAD,CADN,CAEHD,SAAS,CAAC,CAAElW,CAAC,CAAE,CAACA,CAAC,CAAG,EAAL,EAAW,GAAhB,CAAqBrO,CAAC,CAAE6mB,GAAG,CAAC7mB,CAA5B,CAA+B1kB,CAAC,CAAEurC,GAAG,CAACvrC,CAAtC,CAAD,CAFN,CAGHipC,SAAS,CAAC,CAAElW,CAAC,CAAE,CAACA,CAAC,CAAG,GAAL,EAAY,GAAjB,CAAsBrO,CAAC,CAAE6mB,GAAG,CAAC7mB,CAA7B,CAAgC1kB,CAAC,CAAEurC,GAAG,CAACvrC,CAAvC,CAAD,CAHN,CAAP,CAKH,CAED,QAAS0tC,UAAT,CAAmBxE,KAAnB,CAA0Bn8C,OAA1B,CAAmCsiD,MAAnC,CAA2C,CACvCtiD,OAAO,CAAGA,OAAO,EAAI,CAArB,CACAsiD,MAAM,CAAGA,MAAM,EAAI,EAAnB,CAEA,GAAI9D,IAAG,CAAGtC,SAAS,CAACC,KAAD,CAAT,CAAiBoC,KAAjB,EAAV,CACA,GAAIgE,KAAI,CAAG,IAAMD,MAAjB,CACA,GAAIllD,IAAG,CAAG,CAAC8+C,SAAS,CAACC,KAAD,CAAV,CAAV,CAEA,IAAKqC,GAAG,CAACxY,CAAJ,CAAQ,CAAEwY,GAAG,CAACxY,CAAJ,EAASuc,IAAI,CAAGviD,OAAP,EAAkB,CAA3B,CAAD,CAAkC,GAAnC,EAA0C,GAAvD,CAA4D,EAAEA,OAA9D,EAAyE,CACrEw+C,GAAG,CAACxY,CAAJ,CAAQ,CAACwY,GAAG,CAACxY,CAAJ,CAAQuc,IAAT,EAAiB,GAAzB,CACAnlD,GAAG,CAACnD,IAAJ,CAASiiD,SAAS,CAACsC,GAAD,CAAlB,EACH,CACD,MAAOphD,IAAP,CACH,CAED,QAASyjD,cAAT,CAAuB1E,KAAvB,CAA8Bn8C,OAA9B,CAAuC,CACnCA,OAAO,CAAGA,OAAO,EAAI,CAArB,CACA,GAAIo+C,IAAG,CAAGlC,SAAS,CAACC,KAAD,CAAT,CAAiBgC,KAAjB,EAAV,CACA,GAAInY,EAAC,CAAGoY,GAAG,CAACpY,CAAZ,CAAerO,CAAC,CAAGymB,GAAG,CAACzmB,CAAvB,CAA0BviB,CAAC,CAAGgpC,GAAG,CAAChpC,CAAlC,CACA,GAAIhY,IAAG,CAAG,EAAV,CACA,GAAIolD,aAAY,CAAG,EAAIxiD,OAAvB,CAEA,MAAOA,OAAO,EAAd,CAAkB,CACd5C,GAAG,CAACnD,IAAJ,CAASiiD,SAAS,CAAC,CAAElW,CAAC,CAAEA,CAAL,CAAQrO,CAAC,CAAEA,CAAX,CAAcviB,CAAC,CAAEA,CAAjB,CAAD,CAAlB,EACAA,CAAC,CAAG,CAACA,CAAC,CAAGotC,YAAL,EAAqB,CAAzB,CACH,CAED,MAAOplD,IAAP,CACH,CAKD8+C,SAAS,CAACuG,GAAV,CAAgB,SAASR,MAAT,CAAiBC,MAAjB,CAAyBC,MAAzB,CAAiC,CAC7CA,MAAM,CAAIA,MAAM,GAAK,CAAZ,CAAiB,CAAjB,CAAsBA,MAAM,EAAI,EAAzC,CAEA,GAAIO,KAAI,CAAGxG,SAAS,CAAC+F,MAAD,CAAT,CAAkBzE,KAAlB,EAAX,CACA,GAAImF,KAAI,CAAGzG,SAAS,CAACgG,MAAD,CAAT,CAAkB1E,KAAlB,EAAX,CAEA,GAAI/tB,EAAC,CAAG0yB,MAAM,CAAG,GAAjB,CAEA,GAAIS,KAAI,CAAG,CACP/c,CAAC,CAAG,CAAC8c,IAAI,CAAC9c,CAAL,CAAS6c,IAAI,CAAC7c,CAAf,EAAoBpW,CAArB,CAA0BizB,IAAI,CAAC7c,CAD3B,CAEPU,CAAC,CAAG,CAACoc,IAAI,CAACpc,CAAL,CAASmc,IAAI,CAACnc,CAAf,EAAoB9W,CAArB,CAA0BizB,IAAI,CAACnc,CAF3B,CAGP9jC,CAAC,CAAG,CAACkgD,IAAI,CAAClgD,CAAL,CAASigD,IAAI,CAACjgD,CAAf,EAAoBgtB,CAArB,CAA0BizB,IAAI,CAACjgD,CAH3B,CAIPD,CAAC,CAAG,CAACmgD,IAAI,CAACngD,CAAL,CAASkgD,IAAI,CAAClgD,CAAf,EAAoBitB,CAArB,CAA0BizB,IAAI,CAAClgD,CAJ3B,CAAX,CAOA,MAAO05C,UAAS,CAAC0G,IAAD,CAAhB,CACH,CAhBD,CAyBA1G,SAAS,CAAC2G,WAAV,CAAwB,SAASZ,MAAT,CAAiBC,MAAjB,CAAyB,CAC7C,GAAIY,GAAE,CAAG5G,SAAS,CAAC+F,MAAD,CAAlB,CACA,GAAIc,GAAE,CAAG7G,SAAS,CAACgG,MAAD,CAAlB,CACA,MAAO,CAAChjD,IAAI,CAAC0tB,GAAL,CAASk2B,EAAE,CAACrF,YAAH,EAAT,CAA2BsF,EAAE,CAACtF,YAAH,EAA3B,EAA8C,IAA/C,GAAwDv+C,IAAI,CAACukC,GAAL,CAASqf,EAAE,CAACrF,YAAH,EAAT,CAA2BsF,EAAE,CAACtF,YAAH,EAA3B,EAA8C,IAAtG,CAAP,CACH,CAJD,CAgBAvB,SAAS,CAAC8G,UAAV,CAAuB,SAASf,MAAT,CAAiBC,MAAjB,CAAyBe,KAAzB,CAAgC,CACnD,GAAIJ,YAAW,CAAG3G,SAAS,CAAC2G,WAAV,CAAsBZ,MAAtB,CAA8BC,MAA9B,CAAlB,CACA,GAAIgB,WAAJ,CAAgBC,GAAhB,CAEAA,GAAG,CAAG,KAAN,CAEAD,UAAU,CAAGE,kBAAkB,CAACH,KAAD,CAA/B,CACA,OAAQC,UAAU,CAACG,KAAX,CAAmBH,UAAU,CAAC9V,IAAtC,EACI,IAAK,SAAL,CACA,IAAK,UAAL,CACI+V,GAAG,CAAGN,WAAW,EAAI,GAArB,CACA,MACJ,IAAK,SAAL,CACIM,GAAG,CAAGN,WAAW,EAAI,CAArB,CACA,MACJ,IAAK,UAAL,CACIM,GAAG,CAAGN,WAAW,EAAI,CAArB,CACA,MAVR,CAYA,MAAOM,IAAP,CAEH,CArBD,CAgCAjH,SAAS,CAACoH,YAAV,CAAyB,SAASC,SAAT,CAAoBC,SAApB,CAA+B12C,IAA/B,CAAqC,CAC1D,GAAI22C,UAAS,CAAG,IAAhB,CACA,GAAIC,UAAS,CAAG,CAAhB,CACA,GAAIb,YAAJ,CACA,GAAIc,sBAAJ,CAA2BN,KAA3B,CAAkCjW,IAAlC,CACAtgC,IAAI,CAAGA,IAAI,EAAI,EAAf,CACA62C,qBAAqB,CAAG72C,IAAI,CAAC62C,qBAA7B,CACAN,KAAK,CAAGv2C,IAAI,CAACu2C,KAAb,CACAjW,IAAI,CAAGtgC,IAAI,CAACsgC,IAAZ,CAEA,IAAK,GAAI5xC,EAAC,CAAE,CAAZ,CAAeA,CAAC,CAAGgoD,SAAS,CAAC1mD,MAA7B,CAAsCtB,CAAC,EAAvC,CAA2C,CACvCqnD,WAAW,CAAG3G,SAAS,CAAC2G,WAAV,CAAsBU,SAAtB,CAAiCC,SAAS,CAAChoD,CAAD,CAA1C,CAAd,CACA,GAAIqnD,WAAW,CAAGa,SAAlB,CAA6B,CACzBA,SAAS,CAAGb,WAAZ,CACAY,SAAS,CAAGvH,SAAS,CAACsH,SAAS,CAAChoD,CAAD,CAAV,CAArB,CACH,CACJ,CAED,GAAI0gD,SAAS,CAAC8G,UAAV,CAAqBO,SAArB,CAAgCE,SAAhC,CAA2C,CAAC,QAAQJ,KAAT,CAAe,OAAOjW,IAAtB,CAA3C,GAA2E,CAACuW,qBAAhF,CAAuG,CACnG,MAAOF,UAAP,CACH,CAFD,IAGK,CACD32C,IAAI,CAAC62C,qBAAL,CAA2B,KAA3B,CACA,MAAOzH,UAAS,CAACoH,YAAV,CAAuBC,SAAvB,CAAiC,CAAC,MAAD,CAAS,MAAT,CAAjC,CAAkDz2C,IAAlD,CAAP,CACH,CACJ,CAzBD,CA+BA,GAAI82C,MAAK,CAAG1H,SAAS,CAAC0H,KAAV,CAAkB,CAC1BC,SAAS,CAAE,QADe,CAE1BC,YAAY,CAAE,QAFY,CAG1BC,IAAI,CAAE,KAHoB,CAI1BC,UAAU,CAAE,QAJc,CAK1BC,KAAK,CAAE,QALmB,CAM1BC,KAAK,CAAE,QANmB,CAO1BC,MAAM,CAAE,QAPkB,CAQ1BC,KAAK,CAAE,KARmB,CAS1BC,cAAc,CAAE,QATU,CAU1BC,IAAI,CAAE,KAVoB,CAW1BC,UAAU,CAAE,QAXc,CAY1BC,KAAK,CAAE,QAZmB,CAa1BC,SAAS,CAAE,QAbe,CAc1BC,WAAW,CAAE,QAda,CAe1BC,SAAS,CAAE,QAfe,CAgB1BC,UAAU,CAAE,QAhBc,CAiB1BC,SAAS,CAAE,QAjBe,CAkB1BC,KAAK,CAAE,QAlBmB,CAmB1BC,cAAc,CAAE,QAnBU,CAoB1BC,QAAQ,CAAE,QApBgB,CAqB1BC,OAAO,CAAE,QArBiB,CAsB1BC,IAAI,CAAE,KAtBoB,CAuB1BC,QAAQ,CAAE,QAvBgB,CAwB1BC,QAAQ,CAAE,QAxBgB,CAyB1BC,aAAa,CAAE,QAzBW,CA0B1BC,QAAQ,CAAE,QA1BgB,CA2B1BC,SAAS,CAAE,QA3Be,CA4B1BC,QAAQ,CAAE,QA5BgB,CA6B1BC,SAAS,CAAE,QA7Be,CA8B1BC,WAAW,CAAE,QA9Ba,CA+B1BC,cAAc,CAAE,QA/BU,CAgC1BC,UAAU,CAAE,QAhCc,CAiC1BC,UAAU,CAAE,QAjCc,CAkC1BC,OAAO,CAAE,QAlCiB,CAmC1BC,UAAU,CAAE,QAnCc,CAoC1BC,YAAY,CAAE,QApCY,CAqC1BC,aAAa,CAAE,QArCW,CAsC1BC,aAAa,CAAE,QAtCW,CAuC1BC,aAAa,CAAE,QAvCW,CAwC1BC,aAAa,CAAE,QAxCW,CAyC1BC,UAAU,CAAE,QAzCc,CA0C1BC,QAAQ,CAAE,QA1CgB,CA2C1BC,WAAW,CAAE,QA3Ca,CA4C1BC,OAAO,CAAE,QA5CiB,CA6C1BC,OAAO,CAAE,QA7CiB,CA8C1BC,UAAU,CAAE,QA9Cc,CA+C1BC,SAAS,CAAE,QA/Ce,CAgD1BC,WAAW,CAAE,QAhDa,CAiD1BC,WAAW,CAAE,QAjDa,CAkD1BC,OAAO,CAAE,KAlDiB,CAmD1BC,SAAS,CAAE,QAnDe,CAoD1BC,UAAU,CAAE,QApDc,CAqD1BC,IAAI,CAAE,QArDoB,CAsD1BC,SAAS,CAAE,QAtDe,CAuD1BC,IAAI,CAAE,QAvDoB,CAwD1BC,KAAK,CAAE,QAxDmB,CAyD1BC,WAAW,CAAE,QAzDa,CA0D1BC,IAAI,CAAE,QA1DoB,CA2D1BC,QAAQ,CAAE,QA3DgB,CA4D1BC,OAAO,CAAE,QA5DiB,CA6D1BC,SAAS,CAAE,QA7De,CA8D1BC,MAAM,CAAE,QA9DkB,CA+D1BC,KAAK,CAAE,QA/DmB,CAgE1BC,KAAK,CAAE,QAhEmB,CAiE1BC,QAAQ,CAAE,QAjEgB,CAkE1BC,aAAa,CAAE,QAlEW,CAmE1BC,SAAS,CAAE,QAnEe,CAoE1BC,YAAY,CAAE,QApEY,CAqE1BC,SAAS,CAAE,QArEe,CAsE1BC,UAAU,CAAE,QAtEc,CAuE1BC,SAAS,CAAE,QAvEe,CAwE1BC,oBAAoB,CAAE,QAxEI,CAyE1BC,SAAS,CAAE,QAzEe,CA0E1BC,UAAU,CAAE,QA1Ec,CA2E1BC,SAAS,CAAE,QA3Ee,CA4E1BC,SAAS,CAAE,QA5Ee,CA6E1BC,WAAW,CAAE,QA7Ea,CA8E1BC,aAAa,CAAE,QA9EW,CA+E1BC,YAAY,CAAE,QA/EY,CAgF1BC,cAAc,CAAE,KAhFU,CAiF1BC,cAAc,CAAE,KAjFU,CAkF1BC,cAAc,CAAE,QAlFU,CAmF1BC,WAAW,CAAE,QAnFa,CAoF1BC,IAAI,CAAE,KApFoB,CAqF1BC,SAAS,CAAE,QArFe,CAsF1BC,KAAK,CAAE,QAtFmB,CAuF1BC,OAAO,CAAE,KAvFiB,CAwF1BC,MAAM,CAAE,QAxFkB,CAyF1BC,gBAAgB,CAAE,QAzFQ,CA0F1BC,UAAU,CAAE,QA1Fc,CA2F1BC,YAAY,CAAE,QA3FY,CA4F1BC,YAAY,CAAE,QA5FY,CA6F1BC,cAAc,CAAE,QA7FU,CA8F1BC,eAAe,CAAE,QA9FS,CA+F1BC,iBAAiB,CAAE,QA/FO,CAgG1BC,eAAe,CAAE,QAhGS,CAiG1BC,eAAe,CAAE,QAjGS,CAkG1BC,YAAY,CAAE,QAlGY,CAmG1BC,SAAS,CAAE,QAnGe,CAoG1BC,SAAS,CAAE,QApGe,CAqG1BC,QAAQ,CAAE,QArGgB,CAsG1BC,WAAW,CAAE,QAtGa,CAuG1BC,IAAI,CAAE,QAvGoB,CAwG1BC,OAAO,CAAE,QAxGiB,CAyG1BC,KAAK,CAAE,QAzGmB,CA0G1BC,SAAS,CAAE,QA1Ge,CA2G1BC,MAAM,CAAE,QA3GkB,CA4G1BC,SAAS,CAAE,QA5Ge,CA6G1BC,MAAM,CAAE,QA7GkB,CA8G1BC,aAAa,CAAE,QA9GW,CA+G1BC,SAAS,CAAE,QA/Ge,CAgH1BC,aAAa,CAAE,QAhHW,CAiH1BC,aAAa,CAAE,QAjHW,CAkH1BC,UAAU,CAAE,QAlHc,CAmH1BC,SAAS,CAAE,QAnHe,CAoH1BC,IAAI,CAAE,QApHoB,CAqH1BC,IAAI,CAAE,QArHoB,CAsH1BC,IAAI,CAAE,QAtHoB,CAuH1BC,UAAU,CAAE,QAvHc,CAwH1BC,MAAM,CAAE,QAxHkB,CAyH1BC,aAAa,CAAE,QAzHW,CA0H1BC,GAAG,CAAE,KA1HqB,CA2H1BC,SAAS,CAAE,QA3He,CA4H1BC,SAAS,CAAE,QA5He,CA6H1BC,WAAW,CAAE,QA7Ha,CA8H1BC,MAAM,CAAE,QA9HkB,CA+H1BC,UAAU,CAAE,QA/Hc,CAgI1BC,QAAQ,CAAE,QAhIgB,CAiI1BC,QAAQ,CAAE,QAjIgB,CAkI1BC,MAAM,CAAE,QAlIkB,CAmI1BC,MAAM,CAAE,QAnIkB,CAoI1BC,OAAO,CAAE,QApIiB,CAqI1BC,SAAS,CAAE,QArIe,CAsI1BC,SAAS,CAAE,QAtIe,CAuI1BC,SAAS,CAAE,QAvIe,CAwI1BC,IAAI,CAAE,QAxIoB,CAyI1BC,WAAW,CAAE,QAzIa,CA0I1BC,SAAS,CAAE,QA1Ie,CA2I1BC,GAAG,CAAE,QA3IqB,CA4I1BC,IAAI,CAAE,QA5IoB,CA6I1BC,OAAO,CAAE,QA7IiB,CA8I1BC,MAAM,CAAE,QA9IkB,CA+I1BC,SAAS,CAAE,QA/Ie,CAgJ1BC,MAAM,CAAE,QAhJkB,CAiJ1BC,KAAK,CAAE,QAjJmB,CAkJ1BC,KAAK,CAAE,KAlJmB,CAmJ1BC,UAAU,CAAE,QAnJc,CAoJ1BC,MAAM,CAAE,KApJkB,CAqJ1BC,WAAW,CAAE,QArJa,CAA9B,CAyJA,GAAIzN,SAAQ,CAAGtD,SAAS,CAACsD,QAAV,CAOf,SAAczZ,CAAd,CAAiB,CACb,GAAImnB,QAAO,CAAG,EAAd,CACA,IAAK,GAAI1xD,EAAT,GAAcuqC,EAAd,CAAiB,CACb,GAAIA,CAAC,CAACzrC,cAAF,CAAiBkB,CAAjB,CAAJ,CAAyB,CACrB0xD,OAAO,CAACnnB,CAAC,CAACvqC,CAAD,CAAF,CAAP,CAAgBA,CAAhB,CACH,CACJ,CACD,MAAO0xD,QAAP,CACH,CAfmC,CAAKtJ,KAAL,CAApC,CAkBA,QAAS1F,WAAT,CAAoB17C,CAApB,CAAuB,CACnBA,CAAC,CAAGmoB,UAAU,CAACnoB,CAAD,CAAd,CAEA,GAAIggC,KAAK,CAAChgC,CAAD,CAAL,EAAYA,CAAC,CAAG,CAAhB,EAAqBA,CAAC,CAAG,CAA7B,CAAgC,CAC5BA,CAAC,CAAG,CAAJ,CACH,CAED,MAAOA,EAAP,CACH,CAGD,QAAS68C,QAAT,CAAiBvtC,CAAjB,CAAoB8a,GAApB,CAAyB,CACrB,GAAIugC,cAAc,CAACr7C,CAAD,CAAlB,CAAuB,CAAEA,CAAC,CAAG,MAAJ,CAAa,CAEtC,GAAIs7C,eAAc,CAAGC,YAAY,CAACv7C,CAAD,CAAjC,CACAA,CAAC,CAAGiqC,OAAO,CAACnvB,GAAD,CAAMovB,OAAO,CAAC,CAAD,CAAIrxB,UAAU,CAAC7Y,CAAD,CAAd,CAAb,CAAX,CAGA,GAAIs7C,cAAJ,CAAoB,CAChBt7C,CAAC,CAAGojB,QAAQ,CAACpjB,CAAC,CAAG8a,GAAL,CAAU,EAAV,CAAR,CAAwB,GAA5B,CACH,CAGD,GAAK1tB,IAAI,CAAC4nC,GAAL,CAASh1B,CAAC,CAAG8a,GAAb,EAAoB,QAAzB,CAAoC,CAChC,MAAO,EAAP,CACH,CAGD,MAAQ9a,EAAC,CAAG8a,GAAL,CAAYjC,UAAU,CAACiC,GAAD,CAA7B,CACH,CAGD,QAASw1B,QAAT,CAAiB3mD,GAAjB,CAAsB,CAClB,MAAOsgD,QAAO,CAAC,CAAD,CAAIC,OAAO,CAAC,CAAD,CAAIvgD,GAAJ,CAAX,CAAd,CACH,CAGD,QAAS6xD,gBAAT,CAAyB7xD,GAAzB,CAA8B,CAC1B,MAAOy5B,SAAQ,CAACz5B,GAAD,CAAM,EAAN,CAAf,CACH,CAID,QAAS0xD,eAAT,CAAwBr7C,CAAxB,CAA2B,CACvB,MAAO,OAAOA,EAAP,EAAY,QAAZ,EAAwBA,CAAC,CAAC5X,OAAF,CAAU,GAAV,GAAkB,CAAC,CAA3C,EAAgDywB,UAAU,CAAC7Y,CAAD,CAAV,GAAkB,CAAzE,CACH,CAGD,QAASu7C,aAAT,CAAsBv7C,CAAtB,CAAyB,CACrB,MAAO,OAAOA,EAAP,GAAa,QAAb,EAAyBA,CAAC,CAAC5X,OAAF,CAAU,GAAV,GAAkB,CAAC,CAAnD,CACH,CAGD,QAAS2nD,KAAT,CAAc3b,CAAd,CAAiB,CACb,MAAOA,EAAC,CAACppC,MAAF,EAAY,CAAZ,CAAgB,IAAMopC,CAAtB,CAA0B,GAAKA,CAAtC,CACH,CAGD,QAASib,oBAAT,CAA6BrvC,CAA7B,CAAgC,CAC5B,GAAIA,CAAC,EAAI,CAAT,CAAY,CACRA,CAAC,CAAIA,CAAC,CAAG,GAAL,CAAY,GAAhB,CACH,CAED,MAAOA,EAAP,CACH,CAGD,QAASiwC,oBAAT,CAA6B5a,CAA7B,CAAgC,CAC5B,MAAOjoC,KAAI,CAACwrB,KAAL,CAAWC,UAAU,CAACwc,CAAD,CAAV,CAAgB,GAA3B,EAAgC/sC,QAAhC,CAAyC,EAAzC,CAAP,CACH,CAED,QAASmzD,oBAAT,CAA6BvnB,CAA7B,CAAgC,CAC5B,MAAQsnB,gBAAe,CAACtnB,CAAD,CAAf,CAAqB,GAA7B,CACH,CAED,GAAI52B,SAAQ,CAAI,UAAW,CASvB,GAAIo+C,SAAQ,CAAG,MAHE,sBAGF,CAAqB,OAArB,CANG,eAMH,CAA6C,GAA5D,CAKA,GAAIC,kBAAiB,CAAG,cAAgBD,QAAhB,CAA2B,YAA3B,CAA0CA,QAA1C,CAAqD,YAArD,CAAoEA,QAApE,CAA+E,WAAvG,CACA,GAAIE,kBAAiB,CAAG,cAAgBF,QAAhB,CAA2B,YAA3B,CAA0CA,QAA1C,CAAqD,YAArD,CAAoEA,QAApE,CAA+E,YAA/E,CAA8FA,QAA9F,CAAyG,WAAjI,CAEA,MAAO,CACHA,QAAQ,CAAE,GAAIrqD,OAAJ,CAAWqqD,QAAX,CADP,CAEHpR,GAAG,CAAE,GAAIj5C,OAAJ,CAAW,MAAQsqD,iBAAnB,CAFF,CAGH7K,IAAI,CAAE,GAAIz/C,OAAJ,CAAW,OAASuqD,iBAApB,CAHH,CAIHlP,GAAG,CAAE,GAAIr7C,OAAJ,CAAW,MAAQsqD,iBAAnB,CAJF,CAKHE,IAAI,CAAE,GAAIxqD,OAAJ,CAAW,OAASuqD,iBAApB,CALH,CAMHtP,GAAG,CAAE,GAAIj7C,OAAJ,CAAW,MAAQsqD,iBAAnB,CANF,CAOHG,IAAI,CAAE,GAAIzqD,OAAJ,CAAW,OAASuqD,iBAApB,CAPH,CAQHG,IAAI,CAAE,sDARH,CASHC,IAAI,CAAE,sDATH,CAUHC,IAAI,CAAE,sEAVH,CAWHC,IAAI,CAAE,sEAXH,CAAP,CAaH,CA9Bc,EAAf,CAmCA,QAAS3M,eAAT,CAAwBlF,KAAxB,CAA+B,CAC3B,MAAO,CAAC,CAAC/sC,QAAQ,CAACo+C,QAAT,CAAkBznD,IAAlB,CAAuBo2C,KAAvB,CAAT,CACH,CAKD,QAASiF,oBAAT,CAA6BjF,KAA7B,CAAoC,CAEhCA,KAAK,CAAGA,KAAK,CAAC/8C,OAAN,CAAcu8C,QAAd,CAAuB,EAAvB,EAA2Bv8C,OAA3B,CAAmCw8C,SAAnC,CAA8C,EAA9C,EAAkD/6C,WAAlD,EAAR,CACA,GAAIotD,MAAK,CAAG,KAAZ,CACA,GAAIrK,KAAK,CAACzH,KAAD,CAAT,CAAkB,CACdA,KAAK,CAAGyH,KAAK,CAACzH,KAAD,CAAb,CACA8R,KAAK,CAAG,IAAR,CACH,CAHD,IAIK,IAAI9R,KAAK,EAAI,aAAb,CAA4B,CAC7B,MAAO,CAAEtW,CAAC,CAAE,CAAL,CAAQU,CAAC,CAAE,CAAX,CAAc9jC,CAAC,CAAE,CAAjB,CAAoBD,CAAC,CAAE,CAAvB,CAA0BgkC,MAAM,CAAE,MAAlC,CAAP,CACH,CAMD,GAAI9gC,MAAJ,CACA,GAAKA,KAAK,CAAG0J,QAAQ,CAACgtC,GAAT,CAAar2C,IAAb,CAAkBo2C,KAAlB,CAAb,CAAwC,CACpC,MAAO,CAAEtW,CAAC,CAAEngC,KAAK,CAAC,CAAD,CAAV,CAAe6gC,CAAC,CAAE7gC,KAAK,CAAC,CAAD,CAAvB,CAA4BjD,CAAC,CAAEiD,KAAK,CAAC,CAAD,CAApC,CAAP,CACH,CACD,GAAKA,KAAK,CAAG0J,QAAQ,CAACwzC,IAAT,CAAc78C,IAAd,CAAmBo2C,KAAnB,CAAb,CAAyC,CACrC,MAAO,CAAEtW,CAAC,CAAEngC,KAAK,CAAC,CAAD,CAAV,CAAe6gC,CAAC,CAAE7gC,KAAK,CAAC,CAAD,CAAvB,CAA4BjD,CAAC,CAAEiD,KAAK,CAAC,CAAD,CAApC,CAAyClD,CAAC,CAAEkD,KAAK,CAAC,CAAD,CAAjD,CAAP,CACH,CACD,GAAKA,KAAK,CAAG0J,QAAQ,CAACovC,GAAT,CAAaz4C,IAAb,CAAkBo2C,KAAlB,CAAb,CAAwC,CACpC,MAAO,CAAEnW,CAAC,CAAEtgC,KAAK,CAAC,CAAD,CAAV,CAAeiyB,CAAC,CAAEjyB,KAAK,CAAC,CAAD,CAAvB,CAA4BuN,CAAC,CAAEvN,KAAK,CAAC,CAAD,CAApC,CAAP,CACH,CACD,GAAKA,KAAK,CAAG0J,QAAQ,CAACu+C,IAAT,CAAc5nD,IAAd,CAAmBo2C,KAAnB,CAAb,CAAyC,CACrC,MAAO,CAAEnW,CAAC,CAAEtgC,KAAK,CAAC,CAAD,CAAV,CAAeiyB,CAAC,CAAEjyB,KAAK,CAAC,CAAD,CAAvB,CAA4BuN,CAAC,CAAEvN,KAAK,CAAC,CAAD,CAApC,CAAyClD,CAAC,CAAEkD,KAAK,CAAC,CAAD,CAAjD,CAAP,CACH,CACD,GAAKA,KAAK,CAAG0J,QAAQ,CAACgvC,GAAT,CAAar4C,IAAb,CAAkBo2C,KAAlB,CAAb,CAAwC,CACpC,MAAO,CAAEnW,CAAC,CAAEtgC,KAAK,CAAC,CAAD,CAAV,CAAeiyB,CAAC,CAAEjyB,KAAK,CAAC,CAAD,CAAvB,CAA4B0P,CAAC,CAAE1P,KAAK,CAAC,CAAD,CAApC,CAAP,CACH,CACD,GAAKA,KAAK,CAAG0J,QAAQ,CAACw+C,IAAT,CAAc7nD,IAAd,CAAmBo2C,KAAnB,CAAb,CAAyC,CACrC,MAAO,CAAEnW,CAAC,CAAEtgC,KAAK,CAAC,CAAD,CAAV,CAAeiyB,CAAC,CAAEjyB,KAAK,CAAC,CAAD,CAAvB,CAA4B0P,CAAC,CAAE1P,KAAK,CAAC,CAAD,CAApC,CAAyClD,CAAC,CAAEkD,KAAK,CAAC,CAAD,CAAjD,CAAP,CACH,CACD,GAAKA,KAAK,CAAG0J,QAAQ,CAAC4+C,IAAT,CAAcjoD,IAAd,CAAmBo2C,KAAnB,CAAb,CAAyC,CACrC,MAAO,CACHtW,CAAC,CAAEynB,eAAe,CAAC5nD,KAAK,CAAC,CAAD,CAAN,CADf,CAEH6gC,CAAC,CAAE+mB,eAAe,CAAC5nD,KAAK,CAAC,CAAD,CAAN,CAFf,CAGHjD,CAAC,CAAE6qD,eAAe,CAAC5nD,KAAK,CAAC,CAAD,CAAN,CAHf,CAIHlD,CAAC,CAAE+qD,mBAAmB,CAAC7nD,KAAK,CAAC,CAAD,CAAN,CAJnB,CAKH8gC,MAAM,CAAEynB,KAAK,CAAG,MAAH,CAAY,MALtB,CAAP,CAOH,CACD,GAAKvoD,KAAK,CAAG0J,QAAQ,CAAC0+C,IAAT,CAAc/nD,IAAd,CAAmBo2C,KAAnB,CAAb,CAAyC,CACrC,MAAO,CACHtW,CAAC,CAAEynB,eAAe,CAAC5nD,KAAK,CAAC,CAAD,CAAN,CADf,CAEH6gC,CAAC,CAAE+mB,eAAe,CAAC5nD,KAAK,CAAC,CAAD,CAAN,CAFf,CAGHjD,CAAC,CAAE6qD,eAAe,CAAC5nD,KAAK,CAAC,CAAD,CAAN,CAHf,CAIH8gC,MAAM,CAAEynB,KAAK,CAAG,MAAH,CAAY,KAJtB,CAAP,CAMH,CACD,GAAKvoD,KAAK,CAAG0J,QAAQ,CAAC2+C,IAAT,CAAchoD,IAAd,CAAmBo2C,KAAnB,CAAb,CAAyC,CACrC,MAAO,CACHtW,CAAC,CAAEynB,eAAe,CAAC5nD,KAAK,CAAC,CAAD,CAAL,CAAW,EAAX,CAAgBA,KAAK,CAAC,CAAD,CAAtB,CADf,CAEH6gC,CAAC,CAAE+mB,eAAe,CAAC5nD,KAAK,CAAC,CAAD,CAAL,CAAW,EAAX,CAAgBA,KAAK,CAAC,CAAD,CAAtB,CAFf,CAGHjD,CAAC,CAAE6qD,eAAe,CAAC5nD,KAAK,CAAC,CAAD,CAAL,CAAW,EAAX,CAAgBA,KAAK,CAAC,CAAD,CAAtB,CAHf,CAIHlD,CAAC,CAAE+qD,mBAAmB,CAAC7nD,KAAK,CAAC,CAAD,CAAL,CAAW,EAAX,CAAgBA,KAAK,CAAC,CAAD,CAAtB,CAJnB,CAKH8gC,MAAM,CAAEynB,KAAK,CAAG,MAAH,CAAY,MALtB,CAAP,CAOH,CACD,GAAKvoD,KAAK,CAAG0J,QAAQ,CAACy+C,IAAT,CAAc9nD,IAAd,CAAmBo2C,KAAnB,CAAb,CAAyC,CACrC,MAAO,CACHtW,CAAC,CAAEynB,eAAe,CAAC5nD,KAAK,CAAC,CAAD,CAAL,CAAW,EAAX,CAAgBA,KAAK,CAAC,CAAD,CAAtB,CADf,CAEH6gC,CAAC,CAAE+mB,eAAe,CAAC5nD,KAAK,CAAC,CAAD,CAAL,CAAW,EAAX,CAAgBA,KAAK,CAAC,CAAD,CAAtB,CAFf,CAGHjD,CAAC,CAAE6qD,eAAe,CAAC5nD,KAAK,CAAC,CAAD,CAAL,CAAW,EAAX,CAAgBA,KAAK,CAAC,CAAD,CAAtB,CAHf,CAIH8gC,MAAM,CAAEynB,KAAK,CAAG,MAAH,CAAY,KAJtB,CAAP,CAMH,CAED,MAAO,MAAP,CACH,CAED,QAAS7K,mBAAT,CAA4B8K,KAA5B,CAAmC,CAG/B,GAAI7K,MAAJ,CAAWjW,IAAX,CACA8gB,KAAK,CAAGA,KAAK,EAAI,CAAC,QAAQ,IAAT,CAAe,OAAO,OAAtB,CAAjB,CACA7K,KAAK,CAAG,CAAC6K,KAAK,CAAC7K,KAAN,EAAe,IAAhB,EAAsBxpC,WAAtB,EAAR,CACAuzB,IAAI,CAAG,CAAC8gB,KAAK,CAAC9gB,IAAN,EAAc,OAAf,EAAwBvsC,WAAxB,EAAP,CACA,GAAIwiD,KAAK,GAAK,IAAV,EAAkBA,KAAK,GAAK,KAAhC,CAAuC,CACnCA,KAAK,CAAG,IAAR,CACH,CACD,GAAIjW,IAAI,GAAK,OAAT,EAAoBA,IAAI,GAAK,OAAjC,CAA0C,CACtCA,IAAI,CAAG,OAAP,CACH,CACD,MAAO,CAAC,QAAQiW,KAAT,CAAgB,OAAOjW,IAAvB,CAAP,CACH,CAGD,GAAI,OAAiCh0C,MAAM,CAACC,OAA5C,CAAqD,CACjDD,MAAM,CAACC,OAAP,CAAiB6iD,SAAjB,CACH,CAFD,IAIK,IAAI,IAAJ,CAAgD,CACjDzZ,mCAAO,UAAY,CAAC,MAAOyZ,UAAP,CAAkB,CAAhC;AAAA,oGAAN,CACH,CAFI,IAIA,EAIJ,CAtqCD,EAsqCGh9C,IAtqCH,E;;;;;;ACJA,GAAI67C,SAAQ,CAAGjY,mBAAO,CAAC,EAAD,CAAtB,CAoBA,QAASqrB,KAAT,CAAcjiB,KAAd,CAAqB,CACnB,MAAQA,MAAK,EAAIA,KAAK,CAACpvC,MAAhB,CAA0Bi+C,QAAQ,CAAC7O,KAAD,CAAlC,CAA4C,EAAnD,CACD,CAED9yC,MAAM,CAACC,OAAP,CAAiB80D,IAAjB,C;;;;;;ACxBA,GAAI9qB,SAAQ,CAAGP,mBAAO,CAAC,EAAD,CAAtB,CAGA,GAAIsrB,aAAY,CAAGv0D,MAAM,CAACw0D,MAA1B,CAUA,GAAIhZ,WAAU,CAAI,UAAW,CAC3B,QAASnhC,OAAT,EAAkB,CAAE,CACpB,MAAO,UAASzU,KAAT,CAAgB,CACrB,GAAI,CAAC4jC,QAAQ,CAAC5jC,KAAD,CAAb,CAAsB,CACpB,MAAO,EAAP,CACD,CACD,GAAI2uD,YAAJ,CAAkB,CAChB,MAAOA,aAAY,CAAC3uD,KAAD,CAAnB,CACD,CACDyU,MAAM,CAACvX,SAAP,CAAmB8C,KAAnB,CACA,GAAIsM,OAAM,CAAG,GAAImI,OAAJ,EAAb,CACAA,MAAM,CAACvX,SAAP,CAAmBqC,SAAnB,CACA,MAAO+M,OAAP,CACD,CAXD,CAYD,CAdiB,EAAlB,CAgBA3S,MAAM,CAACC,OAAP,CAAiBg8C,UAAjB,C;;;;;;AC7BA,GAAIiZ,YAAW,CAAGxrB,mBAAO,CAAC,GAAD,CAAzB,CACIyrB,gBAAgB,CAAGzrB,mBAAO,CAAC,GAAD,CAD9B,CAEI0rB,YAAY,CAAG1rB,mBAAO,CAAC,GAAD,CAF1B,CAGI+U,UAAU,CAAG/U,mBAAO,CAAC,EAAD,CAHxB,CAII2rB,aAAa,CAAG3rB,mBAAO,CAAC,EAAD,CAJ3B,CAKI4rB,SAAS,CAAG5rB,mBAAO,CAAC,EAAD,CALvB,CAMI6rB,OAAO,CAAG7rB,mBAAO,CAAC,GAAD,CANrB,CAOI8rB,cAAc,CAAG9rB,mBAAO,CAAC,EAAD,CAP5B,CAQIvwB,IAAI,CAAGuwB,mBAAO,CAAC,EAAD,CARlB,CAWA,GAAI8T,eAAc,CAAG,CAArB,CACIC,kBAAkB,CAAG,CADzB,CAEIC,eAAe,CAAG,CAFtB,CAGIC,qBAAqB,CAAG,EAH5B,CAII8X,aAAa,CAAG,GAJpB,CAKIC,cAAc,CAAG,GALrB,CA0BA,QAASxY,aAAT,CAAsBtgC,IAAtB,CAA4BmhC,OAA5B,CAAqC9S,OAArC,CAA8C+S,QAA9C,CAAwDC,OAAxD,CAAiEK,aAAjE,CAAgFC,YAAhF,CAA8FL,MAA9F,CAAsGC,GAAtG,CAA2GC,KAA3G,CAAkH,CAChH,GAEIC,UAAS,CAAGN,OAAO,CAAGN,kBAF1B,CAGIkY,SAAS,CAAG5X,OAAO,EAAIL,eAAe,CAAGC,qBAAtB,CAHvB,CAKIr3C,IAAI,CAAG+3C,SAAS,CAAGz4C,SAAH,CAAe64C,UAAU,CAAC7hC,IAAD,CAL7C,CAOA,QAASg5C,QAAT,EAAmB,CACjB,GAAIlyD,OAAM,CAAGc,SAAS,CAACd,MAAvB,CACIgQ,IAAI,CAAGhO,KAAK,CAAChC,MAAD,CADhB,CAEIqW,KAAK,CAAGrW,MAFZ,CAIA,MAAOqW,KAAK,EAAZ,CAAgB,CACdrG,IAAI,CAACqG,KAAD,CAAJ,CAAcvV,SAAS,CAACuV,KAAD,CAAvB,CACD,CACD,GAAI47C,SAAJ,CAAe,CACb,GAAIzpB,YAAW,CAAGopB,SAAS,CAACM,OAAD,CAA3B,CACIC,YAAY,CAAGT,YAAY,CAAC1hD,IAAD,CAAOw4B,WAAP,CAD/B,CAED,CACD,GAAI8R,QAAJ,CAAc,CACZtqC,IAAI,CAAGwhD,WAAW,CAACxhD,IAAD,CAAOsqC,QAAP,CAAiBC,OAAjB,CAA0B0X,SAA1B,CAAlB,CACD,CACD,GAAIrX,aAAJ,CAAmB,CACjB5qC,IAAI,CAAGyhD,gBAAgB,CAACzhD,IAAD,CAAO4qC,aAAP,CAAsBC,YAAtB,CAAoCoX,SAApC,CAAvB,CACD,CACDjyD,MAAM,EAAImyD,YAAV,CACA,GAAIF,SAAS,EAAIjyD,MAAM,CAAG06C,KAA1B,CAAiC,CAC/B,GAAI0X,WAAU,CAAGN,cAAc,CAAC9hD,IAAD,CAAOw4B,WAAP,CAA/B,CACA,MAAOmpB,cAAa,CAClBz4C,IADkB,CACZmhC,OADY,CACHb,YADG,CACW0Y,OAAO,CAAC1pB,WADnB,CACgCjB,OADhC,CAElBv3B,IAFkB,CAEZoiD,UAFY,CAEA5X,MAFA,CAEQC,GAFR,CAEaC,KAAK,CAAG16C,MAFrB,CAApB,CAID,CACD,GAAIg7C,YAAW,CAhCJX,OAAO,CAAGP,cAgCH,CAASvS,OAAT,CAAmB,IAArC,CACI7nC,EAAE,CAAGi7C,SAAS,CAAGK,WAAW,CAAC9hC,IAAD,CAAd,CAAuBA,IADzC,CAGAlZ,MAAM,CAAGgQ,IAAI,CAAChQ,MAAd,CACA,GAAIw6C,MAAJ,CAAY,CACVxqC,IAAI,CAAG6hD,OAAO,CAAC7hD,IAAD,CAAOwqC,MAAP,CAAd,CACD,CAFD,IAEO,IAnCIH,OAAO,CAAG2X,cAmCV,EAAUhyD,MAAM,CAAG,CAAvB,CAA0B,CAC/BgQ,IAAI,CAACiH,OAAL,GACD,CACD,GA1CUojC,OAAO,CAAG0X,aA0ChB,EAAStX,GAAG,CAAGz6C,MAAnB,CAA2B,CACzBgQ,IAAI,CAAChQ,MAAL,CAAcy6C,GAAd,CACD,CACD,GAAI,MAAQ,OAAShlC,IAAjB,EAAyB,eAAgBy8C,QAA7C,CAAsD,CACpDxyD,EAAE,CAAGkD,IAAI,EAAIm4C,UAAU,CAACr7C,EAAD,CAAvB,CACD,CACD,MAAOA,GAAE,CAACmB,KAAH,CAASm6C,WAAT,CAAsBhrC,IAAtB,CAAP,CACD,CACD,MAAOkiD,QAAP,CACD,CAED51D,MAAM,CAACC,OAAP,CAAiBi9C,YAAjB,C;;;;;;AC3FA,GAAI6Y,WAAU,CAAGrsB,mBAAO,CAAC,EAAD,CAAxB,CACI2T,OAAO,CAAG3T,mBAAO,CAAC,EAAD,CADrB,CAEI4T,eAAe,CAAG5T,mBAAO,CAAC,EAAD,CAF7B,CAKA,GAAI8T,eAAc,CAAG,CAArB,CACIC,kBAAkB,CAAG,CADzB,CAEIuY,qBAAqB,CAAG,CAF5B,CAGItY,eAAe,CAAG,CAHtB,CAIIE,iBAAiB,CAAG,EAJxB,CAKIC,uBAAuB,CAAG,EAL9B,CAwBA,QAASwX,cAAT,CAAuBz4C,IAAvB,CAA6BmhC,OAA7B,CAAsCkY,QAAtC,CAAgD/pB,WAAhD,CAA6DjB,OAA7D,CAAsE+S,QAAtE,CAAgFC,OAAhF,CAAyFC,MAAzF,CAAiGC,GAAjG,CAAsGC,KAAtG,CAA6G,CAC3G,GAAI8X,QAAO,CAAGnY,OAAO,CAAGL,eAAxB,CACIoY,UAAU,CAAGI,OAAO,CAAGjY,OAAH,CAAar4C,SADrC,CAEIuwD,eAAe,CAAGD,OAAO,CAAGtwD,SAAH,CAAeq4C,OAF5C,CAGImY,WAAW,CAAGF,OAAO,CAAGlY,QAAH,CAAcp4C,SAHvC,CAIIywD,gBAAgB,CAAGH,OAAO,CAAGtwD,SAAH,CAAeo4C,QAJ7C,CAMAD,OAAO,EAAKmY,OAAO,CAAGtY,iBAAH,CAAuBC,uBAA1C,CACAE,OAAO,EAAI,EAAEmY,OAAO,CAAGrY,uBAAH,CAA6BD,iBAAtC,CAAX,CAEA,GAAI,EAAEG,OAAO,CAAGiY,qBAAZ,CAAJ,CAAwC,CACtCjY,OAAO,EAAI,EAAEP,cAAc,CAAGC,kBAAnB,CAAX,CACD,CACD,GAAIe,QAAO,CAAG,CACZ5hC,IADY,CACNmhC,OADM,CACG9S,OADH,CACYmrB,WADZ,CACyBN,UADzB,CACqCO,gBADrC,CAEZF,eAFY,CAEKjY,MAFL,CAEaC,GAFb,CAEkBC,KAFlB,CAAd,CAKA,GAAIzrC,OAAM,CAAGsjD,QAAQ,CAAC1xD,KAAT,CAAeqB,SAAf,CAA0B44C,OAA1B,CAAb,CACA,GAAIuX,UAAU,CAACn5C,IAAD,CAAd,CAAsB,CACpBygC,OAAO,CAAC1qC,MAAD,CAAS6rC,OAAT,CAAP,CACD,CACD7rC,MAAM,CAACu5B,WAAP,CAAqBA,WAArB,CACA,MAAOoR,gBAAe,CAAC3qC,MAAD,CAASiK,IAAT,CAAemhC,OAAf,CAAtB,CACD,CAED/9C,MAAM,CAACC,OAAP,CAAiBo1D,aAAjB,C;;;;;;A7B1CA,QAASnW,UAAT,EAAqB,CACnB,MAAO,MAAP,CACD,CAEDl/C,MAAM,CAACC,OAAP,CAAiBi/C,SAAjB,C;;;;;;AvCDA,QAAS/S,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;AAJA,QAASA,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;AqERA,QAAS/lC,KAAT,EAAgB,CAEf,CAEDpG,MAAM,CAACC,OAAP,CAAiBmG,IAAjB,C;;;;;;ACEA,QAASkwD,UAAT,EAAqB,CACnB,MAAO,EAAP,CACD,CAEDt2D,MAAM,CAACC,OAAP,CAAiBq2D,SAAjB,C;;;;;;ADVA,QAASlwD,KAAT,EAAgB,CAEf,CAEDpG,MAAM,CAACC,OAAP,CAAiBmG,IAAjB,C;;;;;;AEhBA,GAAImwD,YAAW,CAAG7sB,mBAAO,CAAC,EAAD,CAAzB,CACI6R,eAAe,CAAG7R,mBAAO,CAAC,EAAD,CAD7B,CAaA,QAAS8sB,WAAT,CAAoB7zC,MAApB,CAA4BmI,KAA5B,CAAmChQ,MAAnC,CAA2C27C,UAA3C,CAAuD,CACrD,GAAIC,MAAK,CAAG,CAAC57C,MAAb,CACAA,MAAM,GAAKA,MAAM,CAAG,EAAd,CAAN,CAEA,GAAIf,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGonB,KAAK,CAACpnB,MADnB,CAGA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAIgK,IAAG,CAAGod,KAAK,CAAC/Q,KAAD,CAAf,CAEA,GAAI48C,SAAQ,CAAGF,UAAU,CACrBA,UAAU,CAAC37C,MAAM,CAACpN,GAAD,CAAP,CAAciV,MAAM,CAACjV,GAAD,CAApB,CAA2BA,GAA3B,CAAgCoN,MAAhC,CAAwC6H,MAAxC,CADW,CAErB/c,SAFJ,CAIA,GAAI+wD,QAAQ,GAAK/wD,SAAjB,CAA4B,CAC1B+wD,QAAQ,CAAGh0C,MAAM,CAACjV,GAAD,CAAjB,CACD,CACD,GAAIgpD,KAAJ,CAAW,CACTnb,eAAe,CAACzgC,MAAD,CAASpN,GAAT,CAAcipD,QAAd,CAAf,CACD,CAFD,IAEO,CACLJ,WAAW,CAACz7C,MAAD,CAASpN,GAAT,CAAcipD,QAAd,CAAX,CACD,CACF,CACD,MAAO77C,OAAP,CACD,CAED9a,MAAM,CAACC,OAAP,CAAiBu2D,UAAjB,C;;;;;;ACvCA,GAAIjb,gBAAe,CAAG7R,mBAAO,CAAC,EAAD,CAA7B,CACIhlC,EAAE,CAAGglC,mBAAO,CAAC,EAAD,CADhB,CAIA,GAAIoK,YAAW,CAAGrzC,MAAM,CAAC8C,SAAzB,CAGA,GAAIrC,eAAc,CAAG4yC,WAAW,CAAC5yC,cAAjC,CAYA,QAASq1D,YAAT,CAAqBz7C,MAArB,CAA6BpN,GAA7B,CAAkCtG,KAAlC,CAAyC,CACvC,GAAIwvD,SAAQ,CAAG97C,MAAM,CAACpN,GAAD,CAArB,CACA,GAAI,EAAExM,cAAc,CAACG,IAAf,CAAoByZ,MAApB,CAA4BpN,GAA5B,GAAoChJ,EAAE,CAACkyD,QAAD,CAAWxvD,KAAX,CAAxC,GACCA,KAAK,GAAKxB,SAAV,EAAuB,EAAE8H,GAAG,GAAIoN,OAAT,CAD5B,CAC+C,CAC7CygC,eAAe,CAACzgC,MAAD,CAASpN,GAAT,CAActG,KAAd,CAAf,CACD,CACF,CAEDpH,MAAM,CAACC,OAAP,CAAiBs2D,WAAjB,C;;;;;;ACKA,QAAS7xD,GAAT,CAAY0C,KAAZ,CAAmBisC,KAAnB,CAA0B,CACxB,MAAOjsC,MAAK,GAAKisC,KAAV,EAAoBjsC,KAAK,GAAKA,KAAV,EAAmBisC,KAAK,GAAKA,KAAxD,CACD,CAEDrzC,MAAM,CAACC,OAAP,CAAiByE,EAAjB,C;;;;;;ACpCA,GAAIo6C,QAAO,CAAGpV,mBAAO,CAAC,EAAD,CAArB,CAGA,GAAImtB,WAAU,CAAG/X,OAAO,CAACr+C,MAAM,CAAC+M,IAAR,CAAc/M,MAAd,CAAxB,CAEAT,MAAM,CAACC,OAAP,CAAiB42D,UAAjB,C;;;;;;ACIA,QAAS7a,UAAT,CAAmBlJ,KAAnB,CAA0BE,QAA1B,CAAoC,CAClC,GAAIj5B,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MADvC,CAGA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAIsvC,QAAQ,CAACF,KAAK,CAAC/4B,KAAD,CAAN,CAAeA,KAAf,CAAsB+4B,KAAtB,CAAR,GAAyC,KAA7C,CAAoD,CAClD,MACD,CACF,CACD,MAAOA,MAAP,CACD,CAED9yC,MAAM,CAACC,OAAP,CAAiB+7C,SAAjB,C;;;;;;ACrBA,GAAI8C,QAAO,CAAGpV,mBAAO,CAAC,EAAD,CAArB,CAGA,GAAIyS,aAAY,CAAG2C,OAAO,CAACr+C,MAAM,CAACC,cAAR,CAAwBD,MAAxB,CAA1B,CAEAT,MAAM,CAACC,OAAP,CAAiBk8C,YAAjB,C;;;;;;AFLA,GAAI2C,QAAO,CAAGpV,mBAAO,CAAC,EAAD,CAArB,CAGA,GAAImtB,WAAU,CAAG/X,OAAO,CAACr+C,MAAM,CAAC+M,IAAR,CAAc/M,MAAd,CAAxB,CAEAT,MAAM,CAACC,OAAP,CAAiB42D,UAAjB,C;;;;;;AGLA,GAAItyD,MAAK,CAAGmlC,mBAAO,CAAC,EAAD,CAAnB,CAGA,GAAIS,UAAS,CAAGrkC,IAAI,CAAC0tB,GAArB,CAWA,QAASyf,SAAT,CAAkBr2B,IAAlB,CAAwBxJ,KAAxB,CAA+BgpC,SAA/B,CAA0C,CACxChpC,KAAK,CAAG+2B,SAAS,CAAC/2B,KAAK,GAAKxN,SAAV,CAAuBgX,IAAI,CAAClZ,MAAL,CAAc,CAArC,CAA0C0P,KAA3C,CAAkD,CAAlD,CAAjB,CACA,MAAO,WAAW,CAChB,GAAIM,KAAI,CAAGlP,SAAX,CACIuV,KAAK,CAAG,CAAC,CADb,CAEIrW,MAAM,CAAGymC,SAAS,CAACz2B,IAAI,CAAChQ,MAAL,CAAc0P,KAAf,CAAsB,CAAtB,CAFtB,CAGI0/B,KAAK,CAAGptC,KAAK,CAAChC,MAAD,CAHjB,CAKA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvBovC,KAAK,CAAC/4B,KAAD,CAAL,CAAerG,IAAI,CAACN,KAAK,CAAG2G,KAAT,CAAnB,CACD,CACDA,KAAK,CAAG,CAAC,CAAT,CACA,GAAI+8C,UAAS,CAAGpxD,KAAK,CAAC0N,KAAK,CAAG,CAAT,CAArB,CACA,MAAO,EAAE2G,KAAF,CAAU3G,KAAjB,CAAwB,CACtB0jD,SAAS,CAAC/8C,KAAD,CAAT,CAAmBrG,IAAI,CAACqG,KAAD,CAAvB,CACD,CACD+8C,SAAS,CAAC1jD,KAAD,CAAT,CAAmBgpC,SAAS,CAACtJ,KAAD,CAA5B,CACA,MAAOvuC,MAAK,CAACqY,IAAD,CAAO,IAAP,CAAak6C,SAAb,CAAZ,CACD,CAhBD,CAiBD,CAED92D,MAAM,CAACC,OAAP,CAAiBgzC,QAAjB,C;;;;;;A7EnBA,QAAS9G,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;A8EpBA,GAAI4qB,cAAa,CAAGrtB,mBAAO,CAAC,GAAD,CAA3B,CAGA,GAAIstB,WAAU,CAAG,kGAAjB,CAGA,GAAIC,aAAY,CAAG,UAAnB,CASA,GAAIva,aAAY,CAAGqa,aAAa,CAAC,SAASp2C,MAAT,CAAiB,CAChD,GAAIhO,OAAM,CAAG,EAAb,CACA,GAAIgO,MAAM,CAACnV,UAAP,CAAkB,CAAlB,IAAyB,EAA7B,CAAyC,CACvCmH,MAAM,CAAC9R,IAAP,CAAY,EAAZ,EACD,CACD8f,MAAM,CAAC3a,OAAP,CAAegxD,UAAf,CAA2B,SAAS1qD,KAAT,CAAgBuvC,MAAhB,CAAwBqb,KAAxB,CAA+BC,SAA/B,CAA0C,CACnExkD,MAAM,CAAC9R,IAAP,CAAYq2D,KAAK,CAAGC,SAAS,CAACnxD,OAAV,CAAkBixD,YAAlB,CAAgC,IAAhC,CAAH,CAA4Cpb,MAAM,EAAIvvC,KAAvE,EACD,CAFD,EAGA,MAAOqG,OAAP,CACD,CAT+B,CAAhC,CAWA3S,MAAM,CAACC,OAAP,CAAiBy8C,YAAjB,C;;;;;;ACnBA,QAAS0a,eAAT,EAA0B,CACxB,KAAKC,QAAL,CAAgB,EAAhB,CACA,KAAKrjB,IAAL,CAAY,CAAZ,CACD,CAEDh0C,MAAM,CAACC,OAAP,CAAiBm3D,cAAjB,C;;;;;;ACZA,GAAIjY,aAAY,CAAGzV,mBAAO,CAAC,EAAD,CAA1B,CAGA,GAAI4tB,WAAU,CAAG5xD,KAAK,CAACnC,SAAvB,CAGA,GAAIyB,OAAM,CAAGsyD,UAAU,CAACtyD,MAAxB,CAWA,QAASuyD,gBAAT,CAAyB7pD,GAAzB,CAA8B,CAC5B,GAAIyT,KAAI,CAAG,KAAKk2C,QAAhB,CACIt9C,KAAK,CAAGolC,YAAY,CAACh+B,IAAD,CAAOzT,GAAP,CADxB,CAGA,GAAIqM,KAAK,CAAG,CAAZ,CAAe,CACb,MAAO,MAAP,CACD,CACD,GAAIy9C,UAAS,CAAGr2C,IAAI,CAACzd,MAAL,CAAc,CAA9B,CACA,GAAIqW,KAAK,EAAIy9C,SAAb,CAAwB,CACtBr2C,IAAI,CAAC7X,GAAL,GACD,CAFD,IAEO,CACLtE,MAAM,CAAC3D,IAAP,CAAY8f,IAAZ,CAAkBpH,KAAlB,CAAyB,CAAzB,EACD,CACD,EAAE,KAAKi6B,IAAP,CACA,MAAO,KAAP,CACD,CAEDh0C,MAAM,CAACC,OAAP,CAAiBs3D,eAAjB,C;;;;;;AClCA,GAAIpY,aAAY,CAAGzV,mBAAO,CAAC,EAAD,CAA1B,CAWA,QAAS+tB,aAAT,CAAsB/pD,GAAtB,CAA2B,CACzB,GAAIyT,KAAI,CAAG,KAAKk2C,QAAhB,CACIt9C,KAAK,CAAGolC,YAAY,CAACh+B,IAAD,CAAOzT,GAAP,CADxB,CAGA,MAAOqM,MAAK,CAAG,CAAR,CAAYnU,SAAZ,CAAwBub,IAAI,CAACpH,KAAD,CAAJ,CAAY,CAAZ,CAA/B,CACD,CAED/Z,MAAM,CAACC,OAAP,CAAiBw3D,YAAjB,C;;;;;;AClBA,GAAItY,aAAY,CAAGzV,mBAAO,CAAC,EAAD,CAA1B,CAWA,QAASguB,aAAT,CAAsBhqD,GAAtB,CAA2B,CACzB,MAAOyxC,aAAY,CAAC,KAAKkY,QAAN,CAAgB3pD,GAAhB,CAAZ,CAAmC,CAAC,CAA3C,CACD,CAED1N,MAAM,CAACC,OAAP,CAAiBy3D,YAAjB,C;;;;;;ACfA,GAAIvY,aAAY,CAAGzV,mBAAO,CAAC,EAAD,CAA1B,CAYA,QAASiuB,aAAT,CAAsBjqD,GAAtB,CAA2BtG,KAA3B,CAAkC,CAChC,GAAI+Z,KAAI,CAAG,KAAKk2C,QAAhB,CACIt9C,KAAK,CAAGolC,YAAY,CAACh+B,IAAD,CAAOzT,GAAP,CADxB,CAGA,GAAIqM,KAAK,CAAG,CAAZ,CAAe,CACb,EAAE,KAAKi6B,IAAP,CACA7yB,IAAI,CAACtgB,IAAL,CAAU,CAAC6M,GAAD,CAAMtG,KAAN,CAAV,EACD,CAHD,IAGO,CACL+Z,IAAI,CAACpH,KAAD,CAAJ,CAAY,CAAZ,EAAiB3S,KAAjB,CACD,CACD,MAAO,KAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiB03D,YAAjB,C;;;;;;AnFTA,QAASxrB,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;AoFpBA,GAAIyrB,QAAO,CAAGluB,mBAAO,CAAC,GAAD,CAArB,CACImuB,OAAO,CAAGnuB,mBAAO,CAAC,GAAD,CADrB,CAEIiT,QAAQ,CAAGjT,mBAAO,CAAC,EAAD,CAFtB,CAaA,QAAS4K,WAAT,CAAoBx5B,MAApB,CAA4Bg9C,KAA5B,CAAmCrjB,SAAnC,CAA8C,CAC5C,GAAI16B,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGo0D,KAAK,CAACp0D,MADnB,CAEIiP,MAAM,CAAG,EAFb,CAIA,MAAO,EAAEoH,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAIgxC,KAAI,CAAGojB,KAAK,CAAC/9C,KAAD,CAAhB,CACI3S,KAAK,CAAGwwD,OAAO,CAAC98C,MAAD,CAAS45B,IAAT,CADnB,CAGA,GAAID,SAAS,CAACrtC,KAAD,CAAQstC,IAAR,CAAb,CAA4B,CAC1BmjB,OAAO,CAACllD,MAAD,CAASgqC,QAAQ,CAACjI,IAAD,CAAO55B,MAAP,CAAjB,CAAiC1T,KAAjC,CAAP,CACD,CACF,CACD,MAAOuL,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBq0C,UAAjB,C;;;;;;AC7BA,GAAIqI,SAAQ,CAAGjT,mBAAO,CAAC,EAAD,CAAtB,CACIquB,KAAK,CAAGruB,mBAAO,CAAC,EAAD,CADnB,CAWA,QAASkuB,QAAT,CAAiB98C,MAAjB,CAAyB45B,IAAzB,CAA+B,CAC7BA,IAAI,CAAGiI,QAAQ,CAACjI,IAAD,CAAO55B,MAAP,CAAf,CAEA,GAAIf,MAAK,CAAG,CAAZ,CACIrW,MAAM,CAAGgxC,IAAI,CAAChxC,MADlB,CAGA,MAAOoX,MAAM,EAAI,IAAV,EAAkBf,KAAK,CAAGrW,MAAjC,CAAyC,CACvCoX,MAAM,CAAGA,MAAM,CAACi9C,KAAK,CAACrjB,IAAI,CAAC36B,KAAK,EAAN,CAAL,CAAN,CAAf,CACD,CACD,MAAQA,MAAK,EAAIA,KAAK,EAAIrW,MAAnB,CAA6BoX,MAA7B,CAAsClV,SAA7C,CACD,CAED5F,MAAM,CAACC,OAAP,CAAiB23D,OAAjB,C;;;;;;ACtBA,GAAIjZ,iBAAgB,CAAG,gBAAvB,CA4BA,QAASqZ,SAAT,CAAkB5wD,KAAlB,CAAyB,CACvB,MAAO,OAAOA,MAAP,EAAgB,QAAhB,EACLA,KAAK,CAAG,CAAC,CADJ,EACSA,KAAK,CAAG,CAAR,EAAa,CADtB,EAC2BA,KAAK,EAAIu3C,gBAD3C,CAED,CAED3+C,MAAM,CAACC,OAAP,CAAiB+3D,QAAjB,C;;;;;;AClCA,GAAIC,YAAW,CAAGvuB,mBAAO,CAAC,GAAD,CAAzB,CACIqJ,QAAQ,CAAGrJ,mBAAO,CAAC,EAAD,CADtB,CAEIwuB,YAAY,CAAGxuB,mBAAO,CAAC,GAAD,CAF1B,CAGIyuB,SAAS,CAAGzuB,mBAAO,CAAC,GAAD,CAHvB,CAIIkJ,iBAAiB,CAAGlJ,mBAAO,CAAC,EAAD,CAJ/B,CAOA,GAAIS,UAAS,CAAGrkC,IAAI,CAAC0tB,GAArB,CAqBA,QAAS4kC,MAAT,CAAetlB,KAAf,CAAsB,CACpB,GAAI,EAAEA,KAAK,EAAIA,KAAK,CAACpvC,MAAjB,CAAJ,CAA8B,CAC5B,MAAO,EAAP,CACD,CACD,GAAIA,OAAM,CAAG,CAAb,CACAovC,KAAK,CAAGmlB,WAAW,CAACnlB,KAAD,CAAQ,SAASulB,KAAT,CAAgB,CACzC,GAAIzlB,iBAAiB,CAACylB,KAAD,CAArB,CAA8B,CAC5B30D,MAAM,CAAGymC,SAAS,CAACkuB,KAAK,CAAC30D,MAAP,CAAeA,MAAf,CAAlB,CACA,MAAO,KAAP,CACD,CACF,CALkB,CAAnB,CAMA,MAAOy0D,UAAS,CAACz0D,MAAD,CAAS,SAASqW,KAAT,CAAgB,CACvC,MAAOg5B,SAAQ,CAACD,KAAD,CAAQolB,YAAY,CAACn+C,KAAD,CAApB,CAAf,CACD,CAFe,CAAhB,CAGD,CAED/Z,MAAM,CAACC,OAAP,CAAiBm4D,KAAjB,C;;;;;;AC5CA,GAAI72D,WAAU,CAAGmoC,mBAAO,CAAC,EAAD,CAAxB,CACIsuB,QAAQ,CAAGtuB,mBAAO,CAAC,GAAD,CADtB,CA4BA,QAASjjC,YAAT,CAAqBW,KAArB,CAA4B,CAC1B,MAAOA,MAAK,EAAI,IAAT,EAAiB4wD,QAAQ,CAAC5wD,KAAK,CAAC1D,MAAP,CAAzB,EAA2C,CAACnC,UAAU,CAAC6F,KAAD,CAA7D,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBwG,WAAjB,C;;;;;;AxFhBA,QAAS0lC,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;AyFpBA,GAAImsB,QAAO,CAAG5uB,mBAAO,CAAC,GAAD,CAArB,CACIl8B,IAAI,CAAGk8B,mBAAO,CAAC,EAAD,CADlB,CAWA,QAASwS,WAAT,CAAoBphC,MAApB,CAA4Bk4B,QAA5B,CAAsC,CACpC,MAAOl4B,OAAM,EAAIw9C,OAAO,CAACx9C,MAAD,CAASk4B,QAAT,CAAmBxlC,IAAnB,CAAxB,CACD,CAEDxN,MAAM,CAACC,OAAP,CAAiBi8C,UAAjB,C;;;;;;ACfA,GAAIoF,SAAQ,CAAG5X,mBAAO,CAAC,EAAD,CAAtB,CACI6V,aAAa,CAAG7V,mBAAO,CAAC,EAAD,CAD3B,CAEI0X,iBAAiB,CAAG1X,mBAAO,CAAC,EAAD,CAF/B,CAGIqJ,QAAQ,CAAGrJ,mBAAO,CAAC,EAAD,CAHtB,CAII0V,SAAS,CAAG1V,mBAAO,CAAC,EAAD,CAJvB,CAKI6X,QAAQ,CAAG7X,mBAAO,CAAC,EAAD,CALtB,CAQA,GAAIgY,iBAAgB,CAAG,GAAvB,CAaA,QAAS/O,eAAT,CAAwBG,KAAxB,CAA+BvuB,MAA/B,CAAuCyuB,QAAvC,CAAiDqO,UAAjD,CAA6D,CAC3D,GAAItnC,MAAK,CAAG,CAAC,CAAb,CACI6nC,QAAQ,CAAGrC,aADf,CAEIsC,QAAQ,CAAG,IAFf,CAGIn+C,MAAM,CAAGovC,KAAK,CAACpvC,MAHnB,CAIIiP,MAAM,CAAG,EAJb,CAKI4lD,YAAY,CAAGh0C,MAAM,CAAC7gB,MAL1B,CAOA,GAAI,CAACA,MAAL,CAAa,CACX,MAAOiP,OAAP,CACD,CACD,GAAIqgC,QAAJ,CAAc,CACZzuB,MAAM,CAAGwuB,QAAQ,CAACxuB,MAAD,CAAS66B,SAAS,CAACpM,QAAD,CAAlB,CAAjB,CACD,CACD,GAAIqO,UAAJ,CAAgB,CACdO,QAAQ,CAAGR,iBAAX,CACAS,QAAQ,CAAG,KAAX,CACD,CAHD,IAIK,IAAIt9B,MAAM,CAAC7gB,MAAP,EAAiBg+C,gBAArB,CAAuC,CAC1CE,QAAQ,CAAGL,QAAX,CACAM,QAAQ,CAAG,KAAX,CACAt9B,MAAM,CAAG,GAAI+8B,SAAJ,CAAa/8B,MAAb,CAAT,CACD,CACDw9B,KAAK,CACL,MAAO,EAAEhoC,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI0D,MAAK,CAAG0rC,KAAK,CAAC/4B,KAAD,CAAjB,CACIiY,QAAQ,CAAGghB,QAAQ,EAAI,IAAZ,CAAmB5rC,KAAnB,CAA2B4rC,QAAQ,CAAC5rC,KAAD,CADlD,CAGAA,KAAK,CAAIi6C,UAAU,EAAIj6C,KAAK,GAAK,CAAzB,CAA8BA,KAA9B,CAAsC,CAA9C,CACA,GAAIy6C,QAAQ,EAAI7vB,QAAQ,GAAKA,QAA7B,CAAuC,CACrC,GAAIwmC,YAAW,CAAGD,YAAlB,CACA,MAAOC,WAAW,EAAlB,CAAsB,CACpB,GAAIj0C,MAAM,CAACi0C,WAAD,CAAN,GAAwBxmC,QAA5B,CAAsC,CACpC,QAAS+vB,MAAT,CACD,CACF,CACDpvC,MAAM,CAAC9R,IAAP,CAAYuG,KAAZ,EACD,CARD,IASK,IAAI,CAACw6C,QAAQ,CAACr9B,MAAD,CAASyN,QAAT,CAAmBqvB,UAAnB,CAAb,CAA6C,CAChD1uC,MAAM,CAAC9R,IAAP,CAAYuG,KAAZ,EACD,CACF,CACD,MAAOuL,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiB0yC,cAAjB,C;;;;;;AClEA,KAAM8lB,OAAM,CAAG/uB,mBAAO,CAAC,GAAD,CAAtB,CACA,KAAM54B,QAAO,CAAG,CAAC1H,CAAD,CAAIC,CAAJ,CAAOqvD,KAAP,GACd,GAAID,OAAJ,CAAWrvD,CAAX,CAAcsvD,KAAd,EAAqB5nD,OAArB,CAA6B,GAAI2nD,OAAJ,CAAWpvD,CAAX,CAAcqvD,KAAd,CAA7B,CADF,CAGA14D,MAAM,CAACC,OAAP,CAAiB6Q,OAAjB,C;;;;;;ACJA,KAAM6nD,MAAK,CAAGjvB,mBAAO,CAAC,GAAD,CAArB,CACA,KAAM,CAAEwY,UAAF,CAAcvD,gBAAd,EAAmCjV,mBAAO,CAAC,EAAD,CAAhD,CACA,KAAM,CAAEkvB,EAAF,CAAM/wC,CAAN,EAAY6hB,mBAAO,CAAC,GAAD,CAAzB,CAEA,KAAM,CAAEmvB,kBAAF,EAAyBnvB,mBAAO,CAAC,GAAD,CAAtC,CACA,KAAM+uB,OAAO,CACXh1D,WAAW,CAAET,OAAF,CAAWkC,OAAX,CAAoB,CAC7B,GAAI,CAACA,OAAD,EAAY,MAAOA,QAAP,GAAmB,QAAnC,CAA6C,CAC3CA,OAAO,CAAG,CACRwzD,KAAK,CAAE,CAAC,CAACxzD,OADD,CAER4zD,iBAAiB,CAAE,KAFX,CAAV,CAID,CACD,GAAI91D,OAAO,WAAYy1D,OAAvB,CAA+B,CAC7B,GAAIz1D,OAAO,CAAC01D,KAAR,GAAkB,CAAC,CAACxzD,OAAO,CAACwzD,KAA5B,EACA11D,OAAO,CAAC81D,iBAAR,GAA8B,CAAC,CAAC5zD,OAAO,CAAC4zD,iBAD5C,CAC+D,CAC7D,MAAO91D,QAAP,CACD,CAHD,IAGO,CACLA,OAAO,CAAGA,OAAO,CAACA,OAAlB,CACD,CACF,CAPD,IAOO,IAAI,MAAOA,QAAP,GAAmB,QAAvB,CAAiC,CACtC,KAAM,IAAIgb,UAAJ,CAAe,oBAAmBhb,OAAQ,EAA1C,CAAN,CACD,CAED,GAAIA,OAAO,CAACU,MAAR,CAAiBw+C,UAArB,CAAiC,CAC/B,KAAM,IAAIlkC,UAAJ,CACH,0BAAyBkkC,UAAW,aADjC,CAAN,CAGD,CAEDyW,KAAK,CAAC,QAAD,CAAW31D,OAAX,CAAoBkC,OAApB,CAAL,CACA,KAAKA,OAAL,CAAeA,OAAf,CACA,KAAKwzD,KAAL,CAAa,CAAC,CAACxzD,OAAO,CAACwzD,KAAvB,CAGA,KAAKI,iBAAL,CAAyB,CAAC,CAAC5zD,OAAO,CAAC4zD,iBAAnC,CAEA,KAAM1sD,EAAC,CAAGpJ,OAAO,CAAC0D,IAAR,GAAe4F,KAAf,CAAqBpH,OAAO,CAACwzD,KAAR,CAAgBE,EAAE,CAAC/wC,CAAC,CAACkxC,KAAH,CAAlB,CAA8BH,EAAE,CAAC/wC,CAAC,CAACmxC,IAAH,CAArD,CAAV,CAEA,GAAI,CAAC5sD,CAAL,CAAQ,CACN,KAAM,IAAI4R,UAAJ,CAAe,oBAAmBhb,OAAQ,EAA1C,CAAN,CACD,CAED,KAAKkd,GAAL,CAAWld,OAAX,CAGA,KAAKi2D,KAAL,CAAa,CAAC7sD,CAAC,CAAC,CAAD,CAAf,CACA,KAAK8sD,KAAL,CAAa,CAAC9sD,CAAC,CAAC,CAAD,CAAf,CACA,KAAK+sD,KAAL,CAAa,CAAC/sD,CAAC,CAAC,CAAD,CAAf,CAEA,GAAI,KAAK6sD,KAAL,CAAata,gBAAb,EAAiC,KAAKsa,KAAL,CAAa,CAAlD,CAAqD,CACnD,KAAM,IAAIj7C,UAAJ,CAAc,uBAAd,CAAN,CACD,CAED,GAAI,KAAKk7C,KAAL,CAAava,gBAAb,EAAiC,KAAKua,KAAL,CAAa,CAAlD,CAAqD,CACnD,KAAM,IAAIl7C,UAAJ,CAAc,uBAAd,CAAN,CACD,CAED,GAAI,KAAKm7C,KAAL,CAAaxa,gBAAb,EAAiC,KAAKwa,KAAL,CAAa,CAAlD,CAAqD,CACnD,KAAM,IAAIn7C,UAAJ,CAAc,uBAAd,CAAN,CACD,CAGD,GAAI,CAAC5R,CAAC,CAAC,CAAD,CAAN,CAAW,CACT,KAAKgtD,UAAL,CAAkB,EAAlB,CACD,CAFD,IAEO,CACL,KAAKA,UAAL,CAAkBhtD,CAAC,CAAC,CAAD,CAAD,CAAK5E,KAAL,CAAW,GAAX,EAAgBnD,GAAhB,CAAqBwI,EAAD,EAAQ,CAC5C,GAAI,WAAWI,IAAX,CAAgBJ,EAAhB,CAAJ,CAAyB,CACvB,KAAMhJ,IAAG,CAAG,CAACgJ,EAAb,CACA,GAAIhJ,GAAG,EAAI,CAAP,EAAYA,GAAG,CAAG86C,gBAAtB,CAAwC,CACtC,MAAO96C,IAAP,CACD,CACF,CACD,MAAOgJ,GAAP,CACD,CARiB,CAAlB,CASD,CAED,KAAKwsD,KAAL,CAAajtD,CAAC,CAAC,CAAD,CAAD,CAAOA,CAAC,CAAC,CAAD,CAAD,CAAK5E,KAAL,CAAW,GAAX,CAAP,CAAyB,EAAtC,CACA,KAAK4lC,MAAL,GACD,CAEDA,MAAM,EAAI,CACR,KAAKpqC,OAAL,CAAgB,GAAE,KAAKi2D,KAAM,IAAG,KAAKC,KAAM,IAAG,KAAKC,KAAM,EAAzD,CACA,GAAI,KAAKC,UAAL,CAAgB11D,MAApB,CAA4B,CAC1B,KAAKV,OAAL,EAAiB,IAAG,KAAKo2D,UAAL,CAAgBjsD,IAAhB,CAAqB,GAArB,CAA0B,EAA9C,CACD,CACD,MAAO,MAAKnK,OAAZ,CACD,CAEDhC,QAAQ,EAAI,CACV,MAAO,MAAKgC,OAAZ,CACD,CAED8N,OAAO,CAAEuiC,KAAF,CAAS,CACdslB,KAAK,CAAC,gBAAD,CAAmB,KAAK31D,OAAxB,CAAiC,KAAKkC,OAAtC,CAA+CmuC,KAA/C,CAAL,CACA,GAAI,EAAEA,KAAK,WAAYolB,OAAnB,CAAJ,CAAgC,CAC9B,GAAI,MAAOplB,MAAP,GAAiB,QAAjB,EAA6BA,KAAK,GAAK,KAAKrwC,OAAhD,CAAyD,CACvD,MAAO,EAAP,CACD,CACDqwC,KAAK,CAAG,GAAIolB,OAAJ,CAAWplB,KAAX,CAAkB,KAAKnuC,OAAvB,CAAR,CACD,CAED,GAAImuC,KAAK,CAACrwC,OAAN,GAAkB,KAAKA,OAA3B,CAAoC,CAClC,MAAO,EAAP,CACD,CAED,MAAO,MAAKs2D,WAAL,CAAiBjmB,KAAjB,GAA2B,KAAKkmB,UAAL,CAAgBlmB,KAAhB,CAAlC,CACD,CAEDimB,WAAW,CAAEjmB,KAAF,CAAS,CAClB,GAAI,EAAEA,KAAK,WAAYolB,OAAnB,CAAJ,CAAgC,CAC9BplB,KAAK,CAAG,GAAIolB,OAAJ,CAAWplB,KAAX,CAAkB,KAAKnuC,OAAvB,CAAR,CACD,CAED,MACE2zD,mBAAkB,CAAC,KAAKI,KAAN,CAAa5lB,KAAK,CAAC4lB,KAAnB,CAAlB,EACAJ,kBAAkB,CAAC,KAAKK,KAAN,CAAa7lB,KAAK,CAAC6lB,KAAnB,CADlB,EAEAL,kBAAkB,CAAC,KAAKM,KAAN,CAAa9lB,KAAK,CAAC8lB,KAAnB,CAHpB,CAKD,CAEDI,UAAU,CAAElmB,KAAF,CAAS,CACjB,GAAI,EAAEA,KAAK,WAAYolB,OAAnB,CAAJ,CAAgC,CAC9BplB,KAAK,CAAG,GAAIolB,OAAJ,CAAWplB,KAAX,CAAkB,KAAKnuC,OAAvB,CAAR,CACD,CAGD,GAAI,KAAKk0D,UAAL,CAAgB11D,MAAhB,EAA0B,CAAC2vC,KAAK,CAAC+lB,UAAN,CAAiB11D,MAAhD,CAAwD,CACtD,MAAO,CAAC,CAAR,CACD,CAFD,IAEO,IAAI,CAAC,KAAK01D,UAAL,CAAgB11D,MAAjB,EAA2B2vC,KAAK,CAAC+lB,UAAN,CAAiB11D,MAAhD,CAAwD,CAC7D,MAAO,EAAP,CACD,CAFM,IAEA,IAAI,CAAC,KAAK01D,UAAL,CAAgB11D,MAAjB,EAA2B,CAAC2vC,KAAK,CAAC+lB,UAAN,CAAiB11D,MAAjD,CAAyD,CAC9D,MAAO,EAAP,CACD,CAED,GAAItB,EAAC,CAAG,CAAR,CACA,EAAG,CACD,KAAMgH,EAAC,CAAG,KAAKgwD,UAAL,CAAgBh3D,CAAhB,CAAV,CACA,KAAMiH,EAAC,CAAGgqC,KAAK,CAAC+lB,UAAN,CAAiBh3D,CAAjB,CAAV,CACAu2D,KAAK,CAAC,oBAAD,CAAuBv2D,CAAvB,CAA0BgH,CAA1B,CAA6BC,CAA7B,CAAL,CACA,GAAID,CAAC,GAAKxD,SAAN,EAAmByD,CAAC,GAAKzD,SAA7B,CAAwC,CACtC,MAAO,EAAP,CACD,CAFD,IAEO,IAAIyD,CAAC,GAAKzD,SAAV,CAAqB,CAC1B,MAAO,EAAP,CACD,CAFM,IAEA,IAAIwD,CAAC,GAAKxD,SAAV,CAAqB,CAC1B,MAAO,CAAC,CAAR,CACD,CAFM,IAEA,IAAIwD,CAAC,GAAKC,CAAV,CAAa,CAClB,SACD,CAFM,IAEA,CACL,MAAOwvD,mBAAkB,CAACzvD,CAAD,CAAIC,CAAJ,CAAzB,CACD,CACF,CAfD,MAeS,EAAEjH,CAfX,EAgBD,CAEDo3D,YAAY,CAAEnmB,KAAF,CAAS,CACnB,GAAI,EAAEA,KAAK,WAAYolB,OAAnB,CAAJ,CAAgC,CAC9BplB,KAAK,CAAG,GAAIolB,OAAJ,CAAWplB,KAAX,CAAkB,KAAKnuC,OAAvB,CAAR,CACD,CAED,GAAI9C,EAAC,CAAG,CAAR,CACA,EAAG,CACD,KAAMgH,EAAC,CAAG,KAAKiwD,KAAL,CAAWj3D,CAAX,CAAV,CACA,KAAMiH,EAAC,CAAGgqC,KAAK,CAACgmB,KAAN,CAAYj3D,CAAZ,CAAV,CACAu2D,KAAK,CAAC,oBAAD,CAAuBv2D,CAAvB,CAA0BgH,CAA1B,CAA6BC,CAA7B,CAAL,CACA,GAAID,CAAC,GAAKxD,SAAN,EAAmByD,CAAC,GAAKzD,SAA7B,CAAwC,CACtC,MAAO,EAAP,CACD,CAFD,IAEO,IAAIyD,CAAC,GAAKzD,SAAV,CAAqB,CAC1B,MAAO,EAAP,CACD,CAFM,IAEA,IAAIwD,CAAC,GAAKxD,SAAV,CAAqB,CAC1B,MAAO,CAAC,CAAR,CACD,CAFM,IAEA,IAAIwD,CAAC,GAAKC,CAAV,CAAa,CAClB,SACD,CAFM,IAEA,CACL,MAAOwvD,mBAAkB,CAACzvD,CAAD,CAAIC,CAAJ,CAAzB,CACD,CACF,CAfD,MAeS,EAAEjH,CAfX,EAgBD,CAIDq3D,GAAG,CAAEC,OAAF,CAAW/vD,UAAX,CAAuB,CACxB,OAAQ+vD,OAAR,EACE,IAAK,UAAL,CACE,KAAKN,UAAL,CAAgB11D,MAAhB,CAAyB,CAAzB,CACA,KAAKy1D,KAAL,CAAa,CAAb,CACA,KAAKD,KAAL,CAAa,CAAb,CACA,KAAKD,KAAL,GACA,KAAKQ,GAAL,CAAS,KAAT,CAAgB9vD,UAAhB,EACA,MACF,IAAK,UAAL,CACE,KAAKyvD,UAAL,CAAgB11D,MAAhB,CAAyB,CAAzB,CACA,KAAKy1D,KAAL,CAAa,CAAb,CACA,KAAKD,KAAL,GACA,KAAKO,GAAL,CAAS,KAAT,CAAgB9vD,UAAhB,EACA,MACF,IAAK,UAAL,CAIE,KAAKyvD,UAAL,CAAgB11D,MAAhB,CAAyB,CAAzB,CACA,KAAK+1D,GAAL,CAAS,OAAT,CAAkB9vD,UAAlB,EACA,KAAK8vD,GAAL,CAAS,KAAT,CAAgB9vD,UAAhB,EACA,MAGF,IAAK,YAAL,CACE,GAAI,KAAKyvD,UAAL,CAAgB11D,MAAhB,GAA2B,CAA/B,CAAkC,CAChC,KAAK+1D,GAAL,CAAS,OAAT,CAAkB9vD,UAAlB,EACD,CACD,KAAK8vD,GAAL,CAAS,KAAT,CAAgB9vD,UAAhB,EACA,MAEF,IAAK,OAAL,CAKE,GACE,KAAKuvD,KAAL,GAAe,CAAf,EACA,KAAKC,KAAL,GAAe,CADf,EAEA,KAAKC,UAAL,CAAgB11D,MAAhB,GAA2B,CAH7B,CAIE,CACA,KAAKu1D,KAAL,GACD,CACD,KAAKC,KAAL,CAAa,CAAb,CACA,KAAKC,KAAL,CAAa,CAAb,CACA,KAAKC,UAAL,CAAkB,EAAlB,CACA,MACF,IAAK,OAAL,CAKE,GAAI,KAAKD,KAAL,GAAe,CAAf,EAAoB,KAAKC,UAAL,CAAgB11D,MAAhB,GAA2B,CAAnD,CAAsD,CACpD,KAAKw1D,KAAL,GACD,CACD,KAAKC,KAAL,CAAa,CAAb,CACA,KAAKC,UAAL,CAAkB,EAAlB,CACA,MACF,IAAK,OAAL,CAKE,GAAI,KAAKA,UAAL,CAAgB11D,MAAhB,GAA2B,CAA/B,CAAkC,CAChC,KAAKy1D,KAAL,GACD,CACD,KAAKC,UAAL,CAAkB,EAAlB,CACA,MAGF,IAAK,KAAL,CACE,GAAI,KAAKA,UAAL,CAAgB11D,MAAhB,GAA2B,CAA/B,CAAkC,CAChC,KAAK01D,UAAL,CAAkB,CAAC,CAAD,CAAlB,CACD,CAFD,IAEO,CACL,GAAIh3D,EAAC,CAAG,KAAKg3D,UAAL,CAAgB11D,MAAxB,CACA,MAAO,EAAEtB,CAAF,EAAO,CAAd,CAAiB,CACf,GAAI,MAAO,MAAKg3D,UAAL,CAAgBh3D,CAAhB,CAAP,GAA8B,QAAlC,CAA4C,CAC1C,KAAKg3D,UAAL,CAAgBh3D,CAAhB,IACAA,CAAC,CAAG,CAAC,CAAL,CACD,CACF,CACD,GAAIA,CAAC,GAAK,CAAC,CAAX,CAAc,CAEZ,KAAKg3D,UAAL,CAAgBv4D,IAAhB,CAAqB,CAArB,EACD,CACF,CACD,GAAI8I,UAAJ,CAAgB,CAGd,GAAI,KAAKyvD,UAAL,CAAgB,CAAhB,IAAuBzvD,UAA3B,CAAuC,CACrC,GAAIy/B,KAAK,CAAC,KAAKgwB,UAAL,CAAgB,CAAhB,CAAD,CAAT,CAA+B,CAC7B,KAAKA,UAAL,CAAkB,CAACzvD,UAAD,CAAa,CAAb,CAAlB,CACD,CACF,CAJD,IAIO,CACL,KAAKyvD,UAAL,CAAkB,CAACzvD,UAAD,CAAa,CAAb,CAAlB,CACD,CACF,CACD,MAEF,QACE,KAAM,IAAIvJ,MAAJ,CAAW,+BAA8Bs5D,OAAQ,EAAjD,CAAN,CApGJ,CAsGA,KAAKtsB,MAAL,GACA,KAAKltB,GAAL,CAAW,KAAKld,OAAhB,CACA,MAAO,KAAP,CACD,CAzRU,CA4RbhD,MAAM,CAACC,OAAP,CAAiBw4D,MAAjB,C;;;;;;ACjSA,KAAME,MAAK,CACT,MAAOx6C,QAAP,GAAmB,QAAnB,EACAA,OAAO,CAACw7C,GADR,EAEAx7C,OAAO,CAACw7C,GAAR,CAAYC,UAFZ,EAGA,cAAc3sD,IAAd,CAAmBkR,OAAO,CAACw7C,GAAR,CAAYC,UAA/B,CAJY,CAKV,CAAC,GAAGlmD,IAAJ,GAAayL,OAAO,CAACjZ,KAAR,CAAc,QAAd,CAAwB,GAAGwN,IAA3B,CALH,CAMV,IAAM,CAAE,CANZ,CAQA1T,MAAM,CAACC,OAAP,CAAiB04D,KAAjB,C;;;;;;ACRA,KAAM,CAAExW,yBAAF,EAAgCzY,mBAAO,CAAC,EAAD,CAA7C,CACA,KAAMivB,MAAK,CAAGjvB,mBAAO,CAAC,GAAD,CAArB,CACAzpC,OAAO,CAAGD,MAAM,CAACC,OAAP,CAAiB,EAA3B,CAGA,KAAM24D,GAAE,CAAG34D,OAAO,CAAC24D,EAAR,CAAa,EAAxB,CACA,KAAM/2D,IAAG,CAAG5B,OAAO,CAAC4B,GAAR,CAAc,EAA1B,CACA,KAAMgmB,EAAC,CAAG5nB,OAAO,CAAC4nB,CAAR,CAAY,EAAtB,CACA,GAAI48B,EAAC,CAAG,CAAR,CAEA,KAAMoV,YAAW,CAAG,CAAC10D,IAAD,CAAOiC,KAAP,CAAc0yD,QAAd,GAA2B,CAC7C,KAAM//C,MAAK,CAAG0qC,CAAC,EAAf,CACAkU,KAAK,CAAC5+C,KAAD,CAAQ3S,KAAR,CAAL,CACAygB,CAAC,CAAC1iB,IAAD,CAAD,CAAU4U,KAAV,CACAlY,GAAG,CAACkY,KAAD,CAAH,CAAa3S,KAAb,CACAwxD,EAAE,CAAC7+C,KAAD,CAAF,CAAY,GAAIhQ,OAAJ,CAAW3C,KAAX,CAAkB0yD,QAAQ,CAAG,GAAH,CAASl0D,SAAnC,CAAZ,CACD,CAND,CAcAi0D,WAAW,CAAC,mBAAD,CAAsB,aAAtB,CAAX,CACAA,WAAW,CAAC,wBAAD,CAA2B,QAA3B,CAAX,CAMAA,WAAW,CAAC,sBAAD,CAAyB,4BAAzB,CAAX,CAKAA,WAAW,CAAC,aAAD,CAAiB,IAAGh4D,GAAG,CAACgmB,CAAC,CAACkyC,iBAAH,CAAsB,MAA7B,CACP,IAAGl4D,GAAG,CAACgmB,CAAC,CAACkyC,iBAAH,CAAsB,MADrB,CAEP,IAAGl4D,GAAG,CAACgmB,CAAC,CAACkyC,iBAAH,CAAsB,GAFrC,CAAX,CAIAF,WAAW,CAAC,kBAAD,CAAsB,IAAGh4D,GAAG,CAACgmB,CAAC,CAACmyC,sBAAH,CAA2B,MAAlC,CACP,IAAGn4D,GAAG,CAACgmB,CAAC,CAACmyC,sBAAH,CAA2B,MAD1B,CAEP,IAAGn4D,GAAG,CAACgmB,CAAC,CAACmyC,sBAAH,CAA2B,GAF/C,CAAX,CAOAH,WAAW,CAAC,sBAAD,CAA0B,MAAKh4D,GAAG,CAACgmB,CAAC,CAACkyC,iBAAH,CAC5C,IAAGl4D,GAAG,CAACgmB,CAAC,CAACoyC,oBAAH,CAAyB,GADrB,CAAX,CAGAJ,WAAW,CAAC,2BAAD,CAA+B,MAAKh4D,GAAG,CAACgmB,CAAC,CAACmyC,sBAAH,CACjD,IAAGn4D,GAAG,CAACgmB,CAAC,CAACoyC,oBAAH,CAAyB,GADrB,CAAX,CAOAJ,WAAW,CAAC,YAAD,CAAgB,QAAOh4D,GAAG,CAACgmB,CAAC,CAACqyC,oBAAH,CACpC,SAAQr4D,GAAG,CAACgmB,CAAC,CAACqyC,oBAAH,CAAyB,MAD1B,CAAX,CAGAL,WAAW,CAAC,iBAAD,CAAqB,SAAQh4D,GAAG,CAACgmB,CAAC,CAACsyC,yBAAH,CAC1C,SAAQt4D,GAAG,CAACgmB,CAAC,CAACsyC,yBAAH,CAA8B,MAD/B,CAAX,CAMAN,WAAW,CAAC,iBAAD,CAAoB,eAApB,CAAX,CAMAA,WAAW,CAAC,OAAD,CAAW,UAASh4D,GAAG,CAACgmB,CAAC,CAACuyC,eAAH,CACjC,SAAQv4D,GAAG,CAACgmB,CAAC,CAACuyC,eAAH,CAAoB,MADrB,CAAX,CAYAP,WAAW,CAAC,WAAD,CAAe,KAAIh4D,GAAG,CAACgmB,CAAC,CAACwyC,WAAH,CAChC,GAAEx4D,GAAG,CAACgmB,CAAC,CAACyyC,UAAH,CAAe,IACnBz4D,GAAG,CAACgmB,CAAC,CAAC0yC,KAAH,CAAU,GAFJ,CAAX,CAIAV,WAAW,CAAC,MAAD,CAAU,IAAGh4D,GAAG,CAACgmB,CAAC,CAAC2yC,SAAH,CAAc,GAA9B,CAAX,CAKAX,WAAW,CAAC,YAAD,CAAgB,WAAUh4D,GAAG,CAACgmB,CAAC,CAAC4yC,gBAAH,CACvC,GAAE54D,GAAG,CAACgmB,CAAC,CAAC6yC,eAAH,CAAoB,IACxB74D,GAAG,CAACgmB,CAAC,CAAC0yC,KAAH,CAAU,GAFJ,CAAX,CAIAV,WAAW,CAAC,OAAD,CAAW,IAAGh4D,GAAG,CAACgmB,CAAC,CAAC8yC,UAAH,CAAe,GAAhC,CAAX,CAEAd,WAAW,CAAC,MAAD,CAAS,cAAT,CAAX,CAKAA,WAAW,CAAC,uBAAD,CAA2B,GAAEh4D,GAAG,CAACgmB,CAAC,CAACmyC,sBAAH,CAA2B,UAA3D,CAAX,CACAH,WAAW,CAAC,kBAAD,CAAsB,GAAEh4D,GAAG,CAACgmB,CAAC,CAACkyC,iBAAH,CAAsB,UAAjD,CAAX,CAEAF,WAAW,CAAC,aAAD,CAAiB,YAAWh4D,GAAG,CAACgmB,CAAC,CAAC+yC,gBAAH,CAAqB,GAApC,CACP,UAAS/4D,GAAG,CAACgmB,CAAC,CAAC+yC,gBAAH,CAAqB,GAD1B,CAEP,UAAS/4D,GAAG,CAACgmB,CAAC,CAAC+yC,gBAAH,CAAqB,GAF1B,CAGP,MAAK/4D,GAAG,CAACgmB,CAAC,CAACyyC,UAAH,CAAe,KACtBz4D,GAAG,CAACgmB,CAAC,CAAC0yC,KAAH,CAAU,GAJP,CAKP,MALT,CAAX,CAOAV,WAAW,CAAC,kBAAD,CAAsB,YAAWh4D,GAAG,CAACgmB,CAAC,CAACgzC,qBAAH,CAA0B,GAAzC,CACP,UAASh5D,GAAG,CAACgmB,CAAC,CAACgzC,qBAAH,CAA0B,GAD/B,CAEP,UAASh5D,GAAG,CAACgmB,CAAC,CAACgzC,qBAAH,CAA0B,GAF/B,CAGP,MAAKh5D,GAAG,CAACgmB,CAAC,CAAC6yC,eAAH,CAAoB,KAC3B74D,GAAG,CAACgmB,CAAC,CAAC0yC,KAAH,CAAU,GAJP,CAKP,MALd,CAAX,CAOAV,WAAW,CAAC,QAAD,CAAY,IAAGh4D,GAAG,CAACgmB,CAAC,CAACizC,IAAH,CAAS,OAAMj5D,GAAG,CAACgmB,CAAC,CAACkzC,WAAH,CAAgB,GAApD,CAAX,CACAlB,WAAW,CAAC,aAAD,CAAiB,IAAGh4D,GAAG,CAACgmB,CAAC,CAACizC,IAAH,CAAS,OAAMj5D,GAAG,CAACgmB,CAAC,CAACmzC,gBAAH,CAAqB,GAA9D,CAAX,CAIAnB,WAAW,CAAC,QAAD,CAAY,GAAE,aACX,SAAU,GAAE1X,yBAA0B,IAD9B,CAEP,gBAAeA,yBAA0B,MAFlC,CAGP,gBAAeA,yBAA0B,MAHlC,CAIP,cAJJ,CAAX,CAKA0X,WAAW,CAAC,WAAD,CAAch4D,GAAG,CAACgmB,CAAC,CAACozC,MAAH,CAAjB,CAA6B,IAA7B,CAAX,CAIApB,WAAW,CAAC,WAAD,CAAc,SAAd,CAAX,CAEAA,WAAW,CAAC,WAAD,CAAe,SAAQh4D,GAAG,CAACgmB,CAAC,CAACqzC,SAAH,CAAc,MAAxC,CAA+C,IAA/C,CAAX,CACAj7D,OAAO,CAACk7D,gBAAR,CAA2B,KAA3B,CAEAtB,WAAW,CAAC,OAAD,CAAW,IAAGh4D,GAAG,CAACgmB,CAAC,CAACqzC,SAAH,CAAc,GAAEr5D,GAAG,CAACgmB,CAAC,CAACkzC,WAAH,CAAgB,GAApD,CAAX,CACAlB,WAAW,CAAC,YAAD,CAAgB,IAAGh4D,GAAG,CAACgmB,CAAC,CAACqzC,SAAH,CAAc,GAAEr5D,GAAG,CAACgmB,CAAC,CAACmzC,gBAAH,CAAqB,GAA9D,CAAX,CAIAnB,WAAW,CAAC,WAAD,CAAc,SAAd,CAAX,CAEAA,WAAW,CAAC,WAAD,CAAe,SAAQh4D,GAAG,CAACgmB,CAAC,CAACuzC,SAAH,CAAc,MAAxC,CAA+C,IAA/C,CAAX,CACAn7D,OAAO,CAACo7D,gBAAR,CAA2B,KAA3B,CAEAxB,WAAW,CAAC,OAAD,CAAW,IAAGh4D,GAAG,CAACgmB,CAAC,CAACuzC,SAAH,CAAc,GAAEv5D,GAAG,CAACgmB,CAAC,CAACkzC,WAAH,CAAgB,GAApD,CAAX,CACAlB,WAAW,CAAC,YAAD,CAAgB,IAAGh4D,GAAG,CAACgmB,CAAC,CAACuzC,SAAH,CAAc,GAAEv5D,GAAG,CAACgmB,CAAC,CAACmzC,gBAAH,CAAqB,GAA9D,CAAX,CAGAnB,WAAW,CAAC,iBAAD,CAAqB,IAAGh4D,GAAG,CAACgmB,CAAC,CAACizC,IAAH,CAAS,QAAOj5D,GAAG,CAACgmB,CAAC,CAAC8yC,UAAH,CAAe,OAA7D,CAAX,CACAd,WAAW,CAAC,YAAD,CAAgB,IAAGh4D,GAAG,CAACgmB,CAAC,CAACizC,IAAH,CAAS,QAAOj5D,GAAG,CAACgmB,CAAC,CAAC2yC,SAAH,CAAc,OAAvD,CAAX,CAIAX,WAAW,CAAC,gBAAD,CAAoB,SAAQh4D,GAAG,CAACgmB,CAAC,CAACizC,IAAH,CACzC,QAAOj5D,GAAG,CAACgmB,CAAC,CAAC8yC,UAAH,CAAe,IAAG94D,GAAG,CAACgmB,CAAC,CAACkzC,WAAH,CAAgB,GADrC,CACyC,IADzC,CAAX,CAEA96D,OAAO,CAACq7D,qBAAR,CAAgC,QAAhC,CAMAzB,WAAW,CAAC,aAAD,CAAiB,SAAQh4D,GAAG,CAACgmB,CAAC,CAACkzC,WAAH,CAAgB,GAA5B,CACP,WADO,CAEP,IAAGl5D,GAAG,CAACgmB,CAAC,CAACkzC,WAAH,CAAgB,GAFf,CAGP,OAHT,CAAX,CAKAlB,WAAW,CAAC,kBAAD,CAAsB,SAAQh4D,GAAG,CAACgmB,CAAC,CAACmzC,gBAAH,CAAqB,GAAjC,CACP,WADO,CAEP,IAAGn5D,GAAG,CAACgmB,CAAC,CAACmzC,gBAAH,CAAqB,GAFpB,CAGP,OAHd,CAAX,CAMAnB,WAAW,CAAC,MAAD,CAAS,iBAAT,CAAX,C;;;;;;AClLA,GAAI5tB,QAAO,CAAGvC,mBAAO,CAAC,EAAD,CAArB,CACI9sB,IAAI,CAAGqvB,OAAO,CAAC,MAAD,CAASvC,mBAAO,CAAC,CAAD,CAAhB,CAA6BA,mBAAO,CAAC,GAAD,CAApC,CADlB,CAGA9sB,IAAI,CAACsvB,WAAL,CAAmBxC,mBAAO,CAAC,EAAD,CAA1B,CACA1pC,MAAM,CAACC,OAAP,CAAiB2c,IAAjB,C;;;;;;ACJA,GAAI45C,WAAU,CAAG9sB,mBAAO,CAAC,EAAD,CAAxB,CACI6xB,cAAc,CAAG7xB,mBAAO,CAAC,GAAD,CAD5B,CAEI8xB,MAAM,CAAG9xB,mBAAO,CAAC,GAAD,CAFpB,CAmCA,GAAI+xB,SAAQ,CAAGF,cAAc,CAAC,SAASzgD,MAAT,CAAiB6H,MAAjB,CAAyB,CACrD6zC,UAAU,CAAC7zC,MAAD,CAAS64C,MAAM,CAAC74C,MAAD,CAAf,CAAyB7H,MAAzB,CAAV,CACD,CAF4B,CAA7B,CAIA9a,MAAM,CAACC,OAAP,CAAiBw7D,QAAjB,C;;;;;;ACvCA,GAAIC,SAAQ,CAAGhyB,mBAAO,CAAC,GAAD,CAAtB,CACImX,QAAQ,CAAGnX,mBAAO,CAAC,EAAD,CADtB,CAoBA,GAAIiyB,KAAI,CAAG9a,QAAQ,CAAC,SAAS/lC,MAAT,CAAiBg9C,KAAjB,CAAwB,CAC1C,MAAOh9C,OAAM,EAAI,IAAV,CAAiB,EAAjB,CAAsB4gD,QAAQ,CAAC5gD,MAAD,CAASg9C,KAAT,CAArC,CACD,CAFkB,CAAnB,CAIA93D,MAAM,CAACC,OAAP,CAAiB07D,IAAjB,C;;;;;;ACxBC,2FAAW,CACV,aAEA,GAAIC,SAAJ,CACA,GAAI,CACFA,QAAQ,CAAI,MAAOC,KAAP,GAAgB,WAAhB,EAA+B,MAAOA,KAAI,CAACC,QAAZ,GAAyB,WAAzD,CAAwED,IAAI,CAACC,QAAL,CAAc,SAAd,CAAyB,CAAEC,WAAW,CAAE,MAAf,CAAzB,CAAxE,CAA4H,IAAvI,CACD,CAAC,MAAO50C,GAAP,CAAW,CACXhI,OAAO,CAAC68C,GAAR,CAAY,wDAAZ,EACD,CAED,GAAIC,QAAO,CAAG,EAAd,CACEC,QAAQ,CAAG,EADb,CAMA,GAAIC,YAAW,CAAG,CAUhBv4D,GAAG,CAAE,SAASw4D,IAAT,CAAeC,IAAf,CAAqBn3D,OAArB,CAA8B,CACjC,GAAIo3D,YAAW,CAAIp3D,OAAO,EAAI02D,QAAX,EAAuB12D,OAAO,CAACo3D,WAAlD,CAEA,GAAIC,QAAO,CAAGH,IAAI,CAAC14D,MAAnB,CACE84D,OAAO,CAAGH,IAAI,CAAC34D,MADjB,CAIA,GAAI64D,OAAO,GAAK,CAAhB,CAAmB,MAAOC,QAAP,CACnB,GAAIA,OAAO,GAAK,CAAhB,CAAmB,MAAOD,QAAP,CAGnB,GAAIE,OAAJ,CAAYC,OAAZ,CAAqBt6D,CAArB,CAAwByC,CAAxB,CAA2BqL,GAA3B,CAGA,IAAK9N,CAAC,CAAC,CAAP,CAAUA,CAAC,CAACo6D,OAAZ,CAAqB,EAAEp6D,CAAvB,CAA0B,CACxB65D,OAAO,CAAC75D,CAAD,CAAP,CAAaA,CAAb,CACA85D,QAAQ,CAAC95D,CAAD,CAAR,CAAci6D,IAAI,CAAC7wD,UAAL,CAAgBpJ,CAAhB,CAAd,CACD,CACD65D,OAAO,CAACO,OAAD,CAAP,CAAmBA,OAAnB,CAEA,GAAIG,OAAJ,CACA,GAAIL,WAAJ,CAAiB,CAEf,IAAKl6D,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGm6D,OAAhB,CAAyB,EAAEn6D,CAA3B,CAA8B,CAC5Bs6D,OAAO,CAAGt6D,CAAC,CAAG,CAAd,CAEA,IAAKyC,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAG23D,OAAhB,CAAyB,EAAE33D,CAA3B,CAA8B,CAC5B43D,MAAM,CAAGC,OAAT,CAGAC,MAAM,CAAG,IAAMf,QAAQ,CAAC9qD,OAAT,CAAiBsrD,IAAI,CAAC1T,MAAL,CAAYtmD,CAAZ,CAAjB,CAAiC8I,MAAM,CAACC,YAAP,CAAoB+wD,QAAQ,CAACr3D,CAAD,CAA5B,CAAjC,CAAf,CAEA63D,OAAO,CAAGT,OAAO,CAACp3D,CAAD,CAAP,EAAc83D,MAAM,CAAG,CAAH,CAAO,CAA3B,CAAV,CAGAzsD,GAAG,CAAGusD,MAAM,CAAG,CAAf,CACA,GAAIC,OAAO,CAAGxsD,GAAd,CAAmB,CACjBwsD,OAAO,CAAGxsD,GAAV,CACD,CAEDA,GAAG,CAAG+rD,OAAO,CAACp3D,CAAC,CAAG,CAAL,CAAP,CAAiB,CAAvB,CACA,GAAI63D,OAAO,CAAGxsD,GAAd,CAAmB,CACjBwsD,OAAO,CAAGxsD,GAAV,CACD,CAGD+rD,OAAO,CAACp3D,CAAD,CAAP,CAAa43D,MAAb,CACD,CAGDR,OAAO,CAACp3D,CAAD,CAAP,CAAa63D,OAAb,CACD,CACF,CA/BD,IAgCK,CAEH,IAAKt6D,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGm6D,OAAhB,CAAyB,EAAEn6D,CAA3B,CAA8B,CAC5Bs6D,OAAO,CAAGt6D,CAAC,CAAG,CAAd,CAEA,IAAKyC,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAG23D,OAAhB,CAAyB,EAAE33D,CAA3B,CAA8B,CAC5B43D,MAAM,CAAGC,OAAT,CAGAC,MAAM,CAAGP,IAAI,CAAC5wD,UAAL,CAAgBpJ,CAAhB,IAAuB85D,QAAQ,CAACr3D,CAAD,CAAxC,CAEA63D,OAAO,CAAGT,OAAO,CAACp3D,CAAD,CAAP,EAAc83D,MAAM,CAAG,CAAH,CAAO,CAA3B,CAAV,CAGAzsD,GAAG,CAAGusD,MAAM,CAAG,CAAf,CACA,GAAIC,OAAO,CAAGxsD,GAAd,CAAmB,CACjBwsD,OAAO,CAAGxsD,GAAV,CACD,CAEDA,GAAG,CAAG+rD,OAAO,CAACp3D,CAAC,CAAG,CAAL,CAAP,CAAiB,CAAvB,CACA,GAAI63D,OAAO,CAAGxsD,GAAd,CAAmB,CACjBwsD,OAAO,CAAGxsD,GAAV,CACD,CAGD+rD,OAAO,CAACp3D,CAAD,CAAP,CAAa43D,MAAb,CACD,CAGDR,OAAO,CAACp3D,CAAD,CAAP,CAAa63D,OAAb,CACD,CACF,CACD,MAAOA,QAAP,CACD,CAhGe,CAAlB,CAqGA,GAAI,OAAiCrzB,wBAAM,GAAK,IAA5C,EAAoDA,wBAAxD,CAAoE,CAClEA,mCAAO,UAAW,CAChB,MAAO8yB,YAAP,CACD,CAFK;AAAA,oGAAN,CAGD,CAJD,IAMK,IAAI,OAAiCn8D,MAAM,GAAK,IAA5C,EAAoD,MAAOC,QAAP,GAAmB,WAAvE,EAAsFD,MAAM,CAACC,OAAP,GAAmBA,OAA7G,CAAsH,CACzHD,MAAM,CAACC,OAAP,CAAiBk8D,WAAjB,CACD,CAFI,IAIA,IAAI,MAAOljD,KAAP,GAAgB,WAAhB,EAA+B,MAAOA,KAAI,CAAC2jD,WAAZ,GAA4B,UAA3D,EAAyE,MAAO3jD,KAAI,CAAC4jD,aAAZ,GAA8B,UAA3G,CAAuH,CAC1H5jD,IAAI,CAACkjD,WAAL,CAAmBA,WAAnB,CACD,CAFI,IAIA,IAAI,MAAO97D,OAAP,GAAkB,WAAlB,EAAiCA,MAAM,GAAK,IAAhD,CAAsD,CACzDA,MAAM,CAAC87D,WAAP,CAAqBA,WAArB,CACD,CACF,CAtIA,GAAD,C;;;;;;;ACeA,QAASW,UAAT,CAAmBC,KAAnB,CAA0B,CACxB,GAAIhjD,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGq5D,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACr5D,MADvC,CAEIiP,MAAM,CAAG,EAFb,CAIA,MAAO,EAAEoH,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAIs5D,KAAI,CAAGD,KAAK,CAAChjD,KAAD,CAAhB,CACApH,MAAM,CAACqqD,IAAI,CAAC,CAAD,CAAL,CAAN,CAAkBA,IAAI,CAAC,CAAD,CAAtB,CACD,CACD,MAAOrqD,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiB68D,SAAjB,C;;;;;;AC3BA,GAAIG,WAAU,CAAGvzB,mBAAO,CAAC,GAAD,CAAxB,CACI4C,cAAc,CAAG5C,mBAAO,CAAC,EAAD,CAD5B,CAEIwzB,QAAQ,CAAGxzB,mBAAO,CAAC,GAAD,CAFtB,CAKA,GAAIyzB,eAAc,CAAG5rC,UAArB,CAGA,GAAI6Y,UAAS,CAAGtkC,IAAI,CAACukC,GAArB,CACI+yB,YAAY,CAAGt3D,IAAI,CAACC,MADxB,CAkCA,QAASA,OAAT,CAAgB+1C,KAAhB,CAAuBC,KAAvB,CAA8BshB,QAA9B,CAAwC,CACtC,GAAIA,QAAQ,EAAI,MAAOA,SAAP,EAAmB,SAA/B,EAA4C/wB,cAAc,CAACwP,KAAD,CAAQC,KAAR,CAAeshB,QAAf,CAA9D,CAAwF,CACtFthB,KAAK,CAAGshB,QAAQ,CAAGz3D,SAAnB,CACD,CACD,GAAIy3D,QAAQ,GAAKz3D,SAAjB,CAA4B,CAC1B,GAAI,MAAOm2C,MAAP,EAAgB,SAApB,CAA+B,CAC7BshB,QAAQ,CAAGthB,KAAX,CACAA,KAAK,CAAGn2C,SAAR,CACD,CAHD,IAIK,IAAI,MAAOk2C,MAAP,EAAgB,SAApB,CAA+B,CAClCuhB,QAAQ,CAAGvhB,KAAX,CACAA,KAAK,CAAGl2C,SAAR,CACD,CACF,CACD,GAAIk2C,KAAK,GAAKl2C,SAAV,EAAuBm2C,KAAK,GAAKn2C,SAArC,CAAgD,CAC9Ck2C,KAAK,CAAG,CAAR,CACAC,KAAK,CAAG,CAAR,CACD,CAHD,IAIK,CACHD,KAAK,CAAGohB,QAAQ,CAACphB,KAAD,CAAhB,CACA,GAAIC,KAAK,GAAKn2C,SAAd,CAAyB,CACvBm2C,KAAK,CAAGD,KAAR,CACAA,KAAK,CAAG,CAAR,CACD,CAHD,IAGO,CACLC,KAAK,CAAGmhB,QAAQ,CAACnhB,KAAD,CAAhB,CACD,CACF,CACD,GAAID,KAAK,CAAGC,KAAZ,CAAmB,CACjB,GAAItlC,KAAI,CAAGqlC,KAAX,CACAA,KAAK,CAAGC,KAAR,CACAA,KAAK,CAAGtlC,IAAR,CACD,CACD,GAAI4mD,QAAQ,EAAIvhB,KAAK,CAAG,CAApB,EAAyBC,KAAK,CAAG,CAArC,CAAwC,CACtC,GAAIuhB,KAAI,CAAGF,YAAY,EAAvB,CACA,MAAOhzB,UAAS,CAAC0R,KAAK,CAAIwhB,IAAI,EAAIvhB,KAAK,CAAGD,KAAR,CAAgBqhB,cAAc,CAAC,OAAS,CAACG,IAAI,CAAG,EAAR,EAAY55D,MAAZ,CAAqB,CAA9B,CAAD,CAAlC,CAAd,CAAsFq4C,KAAtF,CAAhB,CACD,CACD,MAAOkhB,WAAU,CAACnhB,KAAD,CAAQC,KAAR,CAAjB,CACD,CAED/7C,MAAM,CAACC,OAAP,CAAiB8F,MAAjB,C;;;;;;ACjFA,GAAIsuC,aAAY,CAAG3K,mBAAO,CAAC,CAAD,CAA1B,CACI6zB,MAAM,CAAG7zB,mBAAO,CAAC,GAAD,CADpB,CAEI8K,MAAM,CAAG9K,mBAAO,CAAC,EAAD,CAFpB,CAwBA,QAAS8zB,OAAT,CAAgB1iD,MAAhB,CAAwB25B,SAAxB,CAAmC,CACjC,MAAOD,OAAM,CAAC15B,MAAD,CAASyiD,MAAM,CAAClpB,YAAY,CAACI,SAAD,CAAb,CAAf,CAAb,CACD,CAEDz0C,MAAM,CAACC,OAAP,CAAiBu9D,MAAjB,C;;;;;;AC5BA,iCAAiC,olE;;;;;;ACAjC,GAAInpB,aAAY,CAAG3K,mBAAO,CAAC,CAAD,CAA1B,CACI+zB,SAAS,CAAG/zB,mBAAO,CAAC,GAAD,CADvB,CAsCA,QAASg0B,UAAT,CAAmB5qB,KAAnB,CAA0B2B,SAA1B,CAAqC,CACnC,MAAQ3B,MAAK,EAAIA,KAAK,CAACpvC,MAAhB,CACH+5D,SAAS,CAAC3qB,KAAD,CAAQuB,YAAY,CAACI,SAAD,CAAY,CAAZ,CAApB,CAAoC,IAApC,CADN,CAEH,EAFJ,CAGD,CAEDz0C,MAAM,CAACC,OAAP,CAAiBy9D,SAAjB,C;;;;;;AC5CA,GAAIzxB,QAAO,CAAGvC,mBAAO,CAAC,EAAD,CAArB,CACI9sB,IAAI,CAAGqvB,OAAO,CAAC,OAAD,CAAUvC,mBAAO,CAAC,GAAD,CAAjB,CADlB,CAGA9sB,IAAI,CAACsvB,WAAL,CAAmBxC,mBAAO,CAAC,EAAD,CAA1B,CACA1pC,MAAM,CAACC,OAAP,CAAiB2c,IAAjB,C;;;;;;ACJA,GAAIqvB,QAAO,CAAGvC,mBAAO,CAAC,EAAD,CAArB,CACI9sB,IAAI,CAAGqvB,OAAO,CAAC,WAAD,CAAcvC,mBAAO,CAAC,EAAD,CAArB,CADlB,CAGA9sB,IAAI,CAACsvB,WAAL,CAAmBxC,mBAAO,CAAC,EAAD,CAA1B,CACA1pC,MAAM,CAACC,OAAP,CAAiB2c,IAAjB,C;;;;;;ACJA,GAAIkvB,SAAQ,CAAGpC,mBAAO,CAAC,EAAD,CAAtB,CACI0uB,KAAK,CAAG1uB,mBAAO,CAAC,GAAD,CADnB,CAmBA,GAAIi0B,IAAG,CAAG7xB,QAAQ,CAACssB,KAAD,CAAlB,CAEAp4D,MAAM,CAACC,OAAP,CAAiB09D,GAAjB,C;;;;;;ACrBA,GAAIC,UAAS,CAAGl0B,mBAAO,CAAC,EAAD,CAAvB,CAGA,GAAIm0B,gBAAe,CAAG,CAAtB,CACIC,kBAAkB,CAAG,CADzB,CAqBA,QAASC,UAAT,CAAmB32D,KAAnB,CAA0B,CACxB,MAAOw2D,UAAS,CAACx2D,KAAD,CAAQy2D,eAAe,CAAGC,kBAA1B,CAAhB,CACD,CAED99D,MAAM,CAACC,OAAP,CAAiB89D,SAAjB,C;;;;;;AC5BA,GAAI3xB,YAAW,CAAG1C,mBAAO,CAAC,EAAD,CAAzB,CACIoC,QAAQ,CAAGpC,mBAAO,CAAC,EAAD,CADtB,CAEIiY,QAAQ,CAAGjY,mBAAO,CAAC,EAAD,CAFtB,CAGIkJ,iBAAiB,CAAGlJ,mBAAO,CAAC,EAAD,CAH/B,CAqBA,GAAIs0B,MAAK,CAAGlyB,QAAQ,CAAC,SAASwP,MAAT,CAAiB,CACpC,MAAOqG,SAAQ,CAACvV,WAAW,CAACkP,MAAD,CAAS,CAAT,CAAY1I,iBAAZ,CAA+B,IAA/B,CAAZ,CAAf,CACD,CAFmB,CAApB,CAIA5yC,MAAM,CAACC,OAAP,CAAiB+9D,KAAjB,C;;;;;;ACnBC,WAAY,CAAE,aAIf,GAAIxnC,GAAE,CAAK1wB,IAAI,CAAC0wB,EAAhB,CACIynC,GAAG,CAAIn4D,IAAI,CAACm4D,GADhB,CAEI1nC,GAAG,CAAIzwB,IAAI,CAACywB,GAFhB,CAGI48B,GAAG,CAAIrtD,IAAI,CAACqtD,GAHhB,CAII+K,IAAI,CAAGp4D,IAAI,CAACo4D,IAJhB,CAKIC,IAAI,CAAGr4D,IAAI,CAACs4D,KALhB,CAMIC,IAAI,CAAGv4D,IAAI,CAACu4D,IANhB,CAOIC,GAAG,CAAI9nC,EAAE,CAAG,GAPhB,CAcA,GAAI+nC,MAAK,CAAG,KAAO,EAAP,CAAY,EAAZ,CAAiB,EAA7B,CACIC,KAAK,CAAG,OADZ,CAEIC,KAAK,CAAG,OAFZ,CAIA,QAASC,SAAT,CAAkBpxB,IAAlB,CAAwB,CAAE,MAAOA,KAAI,CAACiD,OAAL,GAAiBguB,KAAjB,CAAyB,GAAzB,CAA+BC,KAAtC,CAA8C,CACxE,QAASG,WAAT,CAAoB95D,CAApB,CAAwB,CAAE,MAAO,IAAI6D,KAAJ,CAAS,CAAC7D,CAAC,CAAG,GAAJ,CAAU25D,KAAX,EAAoBD,KAA7B,CAAP,CAA6C,CACvE,QAASK,OAAT,CAAgBtxB,IAAhB,CAAwB,CAAE,MAAOoxB,SAAQ,CAACpxB,IAAD,CAAR,CAAiBmxB,KAAxB,CAAgC,CAK1D,GAAIxyD,EAAC,CAAGqyD,GAAG,CAAG,OAAd,CAEA,QAASO,eAAT,CAAwBhlD,CAAxB,CAA2BxQ,CAA3B,CAA8B,CAAE,MAAO80D,KAAI,CAACF,GAAG,CAACpkD,CAAD,CAAH,CAAS0c,GAAG,CAACtqB,CAAD,CAAZ,CAAkBknD,GAAG,CAAC9pD,CAAD,CAAH,CAAS40D,GAAG,CAAChyD,CAAD,CAA/B,CAAoCsqB,GAAG,CAAC1c,CAAD,CAAvC,CAAX,CAAyD,CACzF,QAASilD,YAAT,CAAqBjlD,CAArB,CAAwBxQ,CAAxB,CAA8B,CAAE,MAAO60D,KAAI,CAACD,GAAG,CAAC50D,CAAD,CAAH,CAASktB,GAAG,CAACtqB,CAAD,CAAZ,CAAkBsqB,GAAG,CAACltB,CAAD,CAAH,CAAS40D,GAAG,CAAChyD,CAAD,CAAZ,CAAkBgyD,GAAG,CAACpkD,CAAD,CAAxC,CAAX,CAA0D,CAE1F,QAASklD,QAAT,CAAiBntB,CAAjB,CAAoBotB,GAApB,CAAyBC,GAAzB,CAA+B,CAAE,MAAOd,KAAI,CAACF,GAAG,CAACrsB,CAAD,CAAJ,CAASrb,GAAG,CAACqb,CAAD,CAAH,CAASqsB,GAAG,CAACe,GAAD,CAAZ,CAAoB7L,GAAG,CAAC8L,GAAD,CAAH,CAAW1oC,GAAG,CAACyoC,GAAD,CAA3C,CAAX,CAA+D,CAChG,QAASE,SAAT,CAAkBttB,CAAlB,CAAqBotB,GAArB,CAA0BC,GAA1B,CAA+B,CAAE,MAAOf,KAAI,CAACD,GAAG,CAACe,GAAD,CAAH,CAAWf,GAAG,CAACgB,GAAD,CAAd,CAAsB1oC,GAAG,CAACyoC,GAAD,CAAH,CAAWzoC,GAAG,CAAC0oC,GAAD,CAAd,CAAsB1oC,GAAG,CAACqb,CAAD,CAAhD,CAAX,CAAkE,CAEnG,QAASutB,aAAT,CAAsBpxB,CAAtB,CAAyBqxB,EAAzB,CAA6B,CAAE,MAAOd,IAAG,EAAI,OAAS,YAAcvwB,CAA3B,CAAH,CAAmCqxB,EAA1C,CAA+C,CAE9E,QAASC,gBAAT,CAAyBzyB,CAAzB,CAA4B,CACxB,GAAIA,CAAC,CAAG,CAAR,CACIA,CAAC,CAAG,CAAJ,CAIJ,MAAO,WAAY9mC,IAAI,CAACqtD,GAAL,CAASvmB,CAAC,CAAG,YAAcA,CAAC,CAAG,UAAlB,CAAb,CAAnB,CACH,CAID,QAAS0yB,iBAAT,CAA0BvxB,CAA1B,CAA6B,CAAE,MAAOuwB,IAAG,EAAI,SAAW,WAAavwB,CAA5B,CAAV,CAA2C,CAE1E,QAASwxB,kBAAT,CAA2BryB,CAA3B,CAA8B,CAE1B,GAAIsyB,EAAC,CAAGlB,GAAG,EAAI,OAASL,GAAG,CAAC/wB,CAAD,CAAZ,CAAkB,KAAO+wB,GAAG,CAAC,EAAI/wB,CAAL,CAA5B,CAAsC,OAAS+wB,GAAG,CAAC,EAAI/wB,CAAL,CAAtD,CAAX,CAGA,MAAOA,EAAC,CAAGsyB,CAAJ,CAFClB,GAAG,CAAG,QAEP,CAAY9nC,EAAnB,CACH,CAED,QAASipC,UAAT,CAAmB1xB,CAAnB,CAAsB,CAElB,GAAIb,EAAC,CAAGoyB,gBAAgB,CAACvxB,CAAD,CAAxB,CACI2xB,CAAC,CAAGH,iBAAiB,CAACryB,CAAD,CADzB,CAGA,MAAO,CACH+xB,GAAG,CAAEH,WAAW,CAACY,CAAD,CAAI,CAAJ,CADb,CAEHC,EAAE,CAAEd,cAAc,CAACa,CAAD,CAAI,CAAJ,CAFf,CAAP,CAIH,CAGD,GAAIE,QAAO,CAAG,EAAd,CAKAA,OAAO,CAACC,WAAR,CAAsB,SAAUvyB,IAAV,CAAgBwyB,GAAhB,CAAqBC,GAArB,CAA0B,CAE5C,GACIf,IAAG,CAAGV,GAAG,CAAGwB,GADhB,CAEI/xB,CAAC,CAAK6wB,MAAM,CAACtxB,IAAD,CAFhB,CAIIR,CAAC,CAAI2yB,SAAS,CAAC1xB,CAAD,CAJlB,CAKI6D,CAAC,CAAIutB,YAAY,CAACpxB,CAAD,CALXuwB,GAAG,CAAG,CAACyB,GAKI,CAAZ,CAAsBjzB,CAAC,CAAC6yB,EALjC,CAOA,MAAO,CACHZ,OAAO,CAAEA,OAAO,CAACntB,CAAD,CAAIotB,GAAJ,CAASlyB,CAAC,CAACmyB,GAAX,CADb,CAEHC,QAAQ,CAAEA,QAAQ,CAACttB,CAAD,CAAIotB,GAAJ,CAASlyB,CAAC,CAACmyB,GAAX,CAFf,CAAP,CAIH,CAbD,CAkBA,GAAIe,MAAK,CAAGJ,OAAO,CAACI,KAAR,CAAgB,CACxB,CAAC,CAAC,KAAF,CAAS,SAAT,CAA0B,QAA1B,CADwB,CAExB,CAAG,CAAC,GAAJ,CAAS,YAAT,CAA0B,aAA1B,CAFwB,CAGxB,CAAK,CAAC,CAAN,CAAS,MAAT,CAA0B,MAA1B,CAHwB,CAIxB,CAAI,CAAC,EAAL,CAAS,cAAT,CAA0B,cAA1B,CAJwB,CAKxB,CAAI,CAAC,EAAL,CAAS,UAAT,CAA0B,OAA1B,CALwB,CAMxB,CAAM,CAAN,CAAS,eAAT,CAA0B,YAA1B,CANwB,CAA5B,CAWAJ,OAAO,CAACK,OAAR,CAAkB,SAAUC,KAAV,CAAiBC,QAAjB,CAA2BC,OAA3B,CAAoC,CAClDJ,KAAK,CAACn/D,IAAN,CAAW,CAACq/D,KAAD,CAAQC,QAAR,CAAkBC,OAAlB,CAAX,EACH,CAFD,CAOA,GAAIC,GAAE,CAAG,MAAT,CAEA,QAASC,YAAT,CAAqBvyB,CAArB,CAAwBqxB,EAAxB,CAA4B,CAAE,MAAOt5D,KAAI,CAACwrB,KAAL,CAAWyc,CAAC,CAAGsyB,EAAJ,CAASjB,EAAE,EAAI,EAAI5oC,EAAR,CAAtB,CAAP,CAA4C,CAE1E,QAAS+pC,cAAT,CAAuBC,EAAvB,CAA2BpB,EAA3B,CAA+B1mD,CAA/B,CAAkC,CAAE,MAAO2nD,GAAE,CAAG,CAACG,EAAE,CAAGpB,EAAN,GAAa,EAAI5oC,EAAjB,CAAL,CAA4B9d,CAAnC,CAAuC,CAC3E,QAAS+nD,cAAT,CAAuBC,EAAvB,CAA2BxzB,CAA3B,CAA8BwyB,CAA9B,CAAkC,CAAE,MAAOjB,MAAK,CAAGiC,EAAR,CAAa,OAASzC,GAAG,CAAC/wB,CAAD,CAAzB,CAA+B,OAAS+wB,GAAG,CAAC,EAAIyB,CAAL,CAAlD,CAA4D,CAEhG,QAASiB,UAAT,CAAmB/zB,CAAnB,CAAsBoyB,GAAtB,CAA2BjxB,CAA3B,CAA8B,CAAE,MAAOswB,KAAI,CAAC,CAACJ,GAAG,CAACrxB,CAAD,CAAH,CAASqxB,GAAG,CAACe,GAAD,CAAH,CAAWf,GAAG,CAAClwB,CAAD,CAAxB,GAAgCxX,GAAG,CAACyoC,GAAD,CAAH,CAAWzoC,GAAG,CAACwX,CAAD,CAA9C,CAAD,CAAX,CAAkE,CAGlG,QAAS6yB,QAAT,CAAiBh0B,CAAjB,CAAoBwyB,EAApB,CAAwBJ,GAAxB,CAA6BC,GAA7B,CAAkCvmD,CAAlC,CAAqCw0B,CAArC,CAAwCwyB,CAAxC,CAA2C,CAEvC,GAAIv/D,EAAC,CAAGwgE,SAAS,CAAC/zB,CAAD,CAAIoyB,GAAJ,CAASC,GAAT,CAAjB,CACI71D,CAAC,CAAGm3D,aAAa,CAACpgE,CAAD,CAAIi/D,EAAJ,CAAQ1mD,CAAR,CADrB,CAEA,MAAO+nD,cAAa,CAACr3D,CAAD,CAAI8jC,CAAJ,CAAOwyB,CAAP,CAApB,CACH,CAKDE,OAAO,CAACiB,QAAR,CAAmB,SAAUvzB,IAAV,CAAgBwyB,GAAhB,CAAqBC,GAArB,CAA0B,CAEzC,GAAIX,GAAE,CAAGd,GAAG,CAAG,CAACyB,GAAhB,CAGIhyB,CAAC,CAAG6wB,MAAM,CAACtxB,IAAD,CAHd,CAII50B,CAAC,CAAG4nD,WAAW,CAACvyB,CAAD,CAAIqxB,EAAJ,CAJnB,CAKIsB,EAAE,CAAGH,aAAa,CAAC,CAAD,CAAInB,EAAJ,CAAQ1mD,CAAR,CALtB,CAOIw0B,CAAC,CAAGoyB,gBAAgB,CAACoB,EAAD,CAPxB,CAQIhB,CAAC,CAAGH,iBAAiB,CAACryB,CAAD,CARzB,CASI+xB,GAAG,CAAGH,WAAW,CAACY,CAAD,CAAI,CAAJ,CATrB,CAWIoB,KAAK,CAAGL,aAAa,CAACC,EAAD,CAAKxzB,CAAL,CAAQwyB,CAAR,CAXzB,CAaIt9D,CAbJ,CAaOwC,GAbP,CAaY+1B,IAbZ,CAakBomC,IAblB,CAawBC,KAbxB,CAgBA,GAAIruD,OAAM,CAAG,CACTsuD,SAAS,CAAEtC,UAAU,CAACmC,KAAD,CADZ,CAETI,KAAK,CAAEvC,UAAU,CAACmC,KAAK,CAAG,GAAT,CAFR,CAAb,CAKA,IAAK1+D,CAAC,CAAG,CAAJ,CAAOwC,GAAG,CAAGo7D,KAAK,CAACt8D,MAAxB,CAAgCtB,CAAC,CAAGwC,GAApC,CAAyCxC,CAAC,EAAI,CAA9C,CAAiD,CAC7Cu4B,IAAI,CAAGqlC,KAAK,CAAC59D,CAAD,CAAZ,CAEA2+D,IAAI,CAAGH,OAAO,CAACjmC,IAAI,CAAC,CAAD,CAAJ,CAAU2jC,GAAX,CAAgBc,EAAhB,CAvBRd,GAAG,CAAGwB,GAuBE,CAAyBb,GAAzB,CAA8BvmD,CAA9B,CAAiCw0B,CAAjC,CAAoCwyB,CAApC,CAAd,CACAsB,KAAK,CAAGF,KAAK,EAAIC,IAAI,CAAGD,KAAX,CAAb,CAEAnuD,MAAM,CAACgoB,IAAI,CAAC,CAAD,CAAL,CAAN,CAAkBgkC,UAAU,CAACqC,KAAD,CAA5B,CACAruD,MAAM,CAACgoB,IAAI,CAAC,CAAD,CAAL,CAAN,CAAkBgkC,UAAU,CAACoC,IAAD,CAA5B,CACH,CAED,MAAOpuD,OAAP,CACH,CAlCD,CAuCA,QAASwuD,WAAT,CAAoBpzB,CAApB,CAAuB,CAEnB,GACIb,EAAC,CAAGoxB,GAAG,EAAI,QAAU,UAAYvwB,CAA1B,CADX,CAIIl0B,CAAC,CAJGykD,GAAG,EAAI,QAAU,UAAYvwB,CAA1B,CAIF,CAAIuwB,GAAG,CAAG,KAAN,CAAcL,GAAG,CAAC/wB,CAAD,CAJ9B,CAKI7jC,CAAC,CAAIi1D,GAAG,CAAG,KAAN,CAAcL,GAAG,CAHlBK,GAAG,EAAI,OAAS,UAAYvwB,CAAzB,CAGe,CAL1B,CAMIqzB,EAAE,CAAG,OAAS,MAAQ7qC,GAAG,CAAC2W,CAAD,CAN7B,CAQA,MAAO,CACHyyB,EAAE,CAAEd,cAAc,CAAChlD,CAAD,CAAIxQ,CAAJ,CADf,CAEH41D,GAAG,CAAEH,WAAW,CAACjlD,CAAD,CAAIxQ,CAAJ,CAFb,CAGHg4D,IAAI,CAAED,EAHH,CAAP,CAKH,CAEDxB,OAAO,CAAC0B,eAAR,CAA0B,SAAUh0B,IAAV,CAAgBwyB,GAAhB,CAAqBC,GAArB,CAA0B,CAEhD,GACIf,IAAG,CAAGV,GAAG,CAAGwB,GADhB,CAEI/xB,CAAC,CAAK6wB,MAAM,CAACtxB,IAAD,CAFhB,CAIIR,CAAC,CAAGq0B,UAAU,CAACpzB,CAAD,CAJlB,CAKI6D,CAAC,CAAGutB,YAAY,CAACpxB,CAAD,CALVuwB,GAAG,CAAG,CAACyB,GAKG,CAAZ,CAAsBjzB,CAAC,CAAC6yB,EALhC,CAMI/yB,CAAC,CAAGsyB,QAAQ,CAACttB,CAAD,CAAIotB,GAAJ,CAASlyB,CAAC,CAACmyB,GAAX,CANhB,CAQIsC,EAAE,CAAGpD,IAAI,CAACF,GAAG,CAACrsB,CAAD,CAAJ,CAASuhB,GAAG,CAAC6L,GAAD,CAAH,CAAWzoC,GAAG,CAACuW,CAAC,CAACmyB,GAAH,CAAd,CAAwBhB,GAAG,CAACnxB,CAAC,CAACmyB,GAAH,CAAH,CAAa1oC,GAAG,CAACqb,CAAD,CAAjD,CARb,CAUAhF,CAAC,CAAGA,CAAC,CAAGyyB,eAAe,CAACzyB,CAAD,CAAvB,CAEA,MAAO,CACHmyB,OAAO,CAAEA,OAAO,CAACntB,CAAD,CAAIotB,GAAJ,CAASlyB,CAAC,CAACmyB,GAAX,CADb,CAEHC,QAAQ,CAAEtyB,CAFP,CAGH40B,QAAQ,CAAE10B,CAAC,CAACu0B,IAHT,CAIHI,gBAAgB,CAAEF,EAJf,CAAP,CAMH,CApBD,CA2BA3B,OAAO,CAAC8B,mBAAR,CAA8B,SAAUp0B,IAAV,CAAgB,CAE1C,GAAIS,EAAC,CAAG6wB,MAAM,CAACtxB,IAAI,EAAI,GAAI5kC,KAAJ,EAAT,CAAd,CACI61B,CAAC,CAAGkhC,SAAS,CAAC1xB,CAAD,CADjB,CAEI3hC,CAAC,CAAG+0D,UAAU,CAACpzB,CAAD,CAFlB,CAII4zB,KAAK,CAAG,SAJZ,CAMI3C,GAAG,CAAGX,IAAI,CAACJ,GAAG,CAAC1/B,CAAC,CAAC0gC,GAAH,CAAH,CAAahB,GAAG,CAAC7xD,CAAC,CAAC6yD,GAAH,CAAhB,CAA0B1oC,GAAG,CAACgI,CAAC,CAAC0gC,GAAH,CAAH,CAAa1oC,GAAG,CAACnqB,CAAC,CAAC6yD,GAAH,CAAhB,CAA0B1oC,GAAG,CAACgI,CAAC,CAACohC,EAAF,CAAOvzD,CAAC,CAACuzD,EAAV,CAAxD,CANd,CAOIlG,GAAG,CAAG0E,IAAI,CAACwD,KAAK,CAAG1D,GAAG,CAACe,GAAD,CAAZ,CAAmB5yD,CAAC,CAACi1D,IAAF,CAASM,KAAK,CAAGprC,GAAG,CAACyoC,GAAD,CAAvC,CAPd,CAQIkB,KAAK,CAAG/B,IAAI,CAAC5nC,GAAG,CAACgI,CAAC,CAAC0gC,GAAH,CAAH,CAAahB,GAAG,CAAC1/B,CAAC,CAACohC,EAAF,CAAOvzD,CAAC,CAACuzD,EAAV,CAAjB,CAAgC1B,GAAG,CAAC1/B,CAAC,CAAC0gC,GAAH,CAAH,CAAa1oC,GAAG,CAACnqB,CAAC,CAAC6yD,GAAH,CAAhB,CACpC1oC,GAAG,CAACgI,CAAC,CAAC0gC,GAAH,CAAH,CAAahB,GAAG,CAAC7xD,CAAC,CAAC6yD,GAAH,CAAhB,CAA0B1oC,GAAG,CAACgI,CAAC,CAACohC,EAAF,CAAOvzD,CAAC,CAACuzD,EAAV,CADzB,CARhB,CAWA,MAAO,CACHiC,QAAQ,CAAE,CAAC,EAAIrrC,GAAG,CAACkjC,GAAD,CAAR,EAAiB,CADxB,CAEHoI,KAAK,CAAE,IAAM,IAAMpI,GAAN,EAAayG,KAAK,CAAG,CAAR,CAAY,CAAC,CAAb,CAAiB,CAA9B,EAAmCp6D,IAAI,CAAC0wB,EAFlD,CAGH0pC,KAAK,CAAEA,KAHJ,CAAP,CAKH,CAlBD,CAqBA,QAAS4B,WAAT,CAAoBx0B,IAApB,CAA0BV,CAA1B,CAA6B,CACzB,MAAO,IAAIlkC,KAAJ,CAAS4kC,IAAI,CAACiD,OAAL,GAAiB3D,CAAC,CAAG2xB,KAAJ,CAAY,EAAtC,CAAP,CACH,CAIDqB,OAAO,CAACmC,YAAR,CAAuB,SAAUz0B,IAAV,CAAgBwyB,GAAhB,CAAqBC,GAArB,CAA0BiC,KAA1B,CAAiC,CACpD,GAAIn6C,EAAC,CAAG,GAAInf,KAAJ,CAAS4kC,IAAT,CAAR,CACA,GAAI00B,KAAJ,CAAWn6C,CAAC,CAACo6C,WAAF,CAAc,CAAd,CAAiB,CAAjB,CAAoB,CAApB,CAAuB,CAAvB,EAAX,IACKp6C,EAAC,CAACq6C,QAAF,CAAW,CAAX,CAAc,CAAd,CAAiB,CAAjB,CAAoB,CAApB,EAEL,GAAIC,GAAE,CAAG,MAAQ7D,GAAjB,CACI8D,EAAE,CAAGxC,OAAO,CAAC0B,eAAR,CAAwBz5C,CAAxB,CAA2Bi4C,GAA3B,CAAgCC,GAAhC,EAAqCb,QAArC,CAAgDiD,EADzD,CAEIE,EAFJ,CAEQC,EAFR,CAEYC,IAFZ,CAEkBrhD,GAFlB,CAEuB9X,CAFvB,CAE0BC,CAF1B,CAE6Bm5D,EAF7B,CAEiCC,EAFjC,CAEqC10B,CAFrC,CAEwC20B,KAFxC,CAE+CC,EAF/C,CAEmDC,EAFnD,CAEuDC,EAFvD,CAKA,IAAK,GAAIzgE,EAAC,CAAG,CAAb,CAAgBA,CAAC,EAAI,EAArB,CAAyBA,CAAC,EAAI,CAA9B,CAAiC,CAC7BigE,EAAE,CAAGzC,OAAO,CAAC0B,eAAR,CAAwBQ,UAAU,CAACj6C,CAAD,CAAIzlB,CAAJ,CAAlC,CAA0C09D,GAA1C,CAA+CC,GAA/C,EAAoDb,QAApD,CAA+DiD,EAApE,CACAG,EAAE,CAAG1C,OAAO,CAAC0B,eAAR,CAAwBQ,UAAU,CAACj6C,CAAD,CAAIzlB,CAAC,CAAG,CAAR,CAAlC,CAA8C09D,GAA9C,CAAmDC,GAAnD,EAAwDb,QAAxD,CAAmEiD,EAAxE,CAEA/4D,CAAC,CAAG,CAACg5D,EAAE,CAAGE,EAAN,EAAY,CAAZ,CAAgBD,EAApB,CACAh5D,CAAC,CAAG,CAACi5D,EAAE,CAAGF,EAAN,EAAY,CAAhB,CACAI,EAAE,CAAG,CAACn5D,CAAD,EAAM,EAAID,CAAV,CAAL,CACAq5D,EAAE,CAAG,CAACr5D,CAAC,CAAGo5D,EAAJ,CAASn5D,CAAV,EAAem5D,EAAf,CAAoBH,EAAzB,CACAt0B,CAAC,CAAG1kC,CAAC,CAAGA,CAAJ,CAAQ,EAAID,CAAJ,CAAQi5D,EAApB,CACAK,KAAK,CAAG,CAAR,CAEA,GAAI30B,CAAC,EAAI,CAAT,CAAY,CACR80B,EAAE,CAAG/8D,IAAI,CAACg9D,IAAL,CAAU/0B,CAAV,GAAgBjoC,IAAI,CAAC4nC,GAAL,CAAStkC,CAAT,EAAc,CAA9B,CAAL,CACAu5D,EAAE,CAAGH,EAAE,CAAGK,EAAV,CACAD,EAAE,CAAGJ,EAAE,CAAGK,EAAV,CACA,GAAI/8D,IAAI,CAAC4nC,GAAL,CAASi1B,EAAT,GAAgB,CAApB,CAAuBD,KAAK,GAC5B,GAAI58D,IAAI,CAAC4nC,GAAL,CAASk1B,EAAT,GAAgB,CAApB,CAAuBF,KAAK,GAC5B,GAAIC,EAAE,CAAG,CAAC,CAAV,CAAaA,EAAE,CAAGC,EAAL,CAChB,CAED,GAAIF,KAAK,GAAK,CAAd,CAAiB,CACb,GAAIN,EAAE,CAAG,CAAT,CAAYG,IAAI,CAAGngE,CAAC,CAAGugE,EAAX,CAAZ,IACKzhD,IAAG,CAAG9e,CAAC,CAAGugE,EAAV,CAER,CAJD,IAIO,IAAID,KAAK,GAAK,CAAd,CAAiB,CACpBH,IAAI,CAAGngE,CAAC,EAAIqgE,EAAE,CAAG,CAAL,CAASG,EAAT,CAAcD,EAAlB,CAAR,CACAzhD,GAAG,CAAG9e,CAAC,EAAIqgE,EAAE,CAAG,CAAL,CAASE,EAAT,CAAcC,EAAlB,CAAP,CACH,CAED,GAAIL,IAAI,EAAIrhD,GAAZ,CAAiB,MAEjBkhD,EAAE,CAAGE,EAAL,CACH,CAED,GAAI3vD,OAAM,CAAG,EAAb,CAEA,GAAI4vD,IAAJ,CAAU5vD,MAAM,CAAC4vD,IAAP,CAAcT,UAAU,CAACj6C,CAAD,CAAI06C,IAAJ,CAAxB,CACV,GAAIrhD,GAAJ,CAASvO,MAAM,CAACuO,GAAP,CAAa4gD,UAAU,CAACj6C,CAAD,CAAI3G,GAAJ,CAAvB,CAET,GAAI,CAACqhD,IAAD,EAAS,CAACrhD,GAAd,CAAmBvO,MAAM,CAAC8vD,EAAE,CAAG,CAAL,CAAS,UAAT,CAAsB,YAAvB,CAAN,CAA6C,IAA7C,CAEnB,MAAO9vD,OAAP,CACH,CApDD,CAwDA,GAAI,IAAJ,CAAkE3S,MAAM,CAACC,OAAP,CAAiB2/D,OAAjB,CAAlE,IACK,GAGJ,CA/SA,GAAD,C;;;;;;ACNA;;;;;GAwBA,CAAC,UAAY,CAEZ,GAAImD,OAAM,CAAI,SAAUxpC,GAAV,CAAe,CAC5B,aACAA,GAAG,CAAIA,GAAD,CAAQA,GAAR,CAAc,EAApB,CACA,GAAIypC,KAAI,CAAG,CACVC,OAAO,CAAE,MADC,CAEVC,SAAS,CAAE,MAFD,CAGVC,UAAU,CAAE,YAHF,CAIVC,SAAS,CAAE,MAJD,CAKVxhE,IAAI,CAAE,QALI,CAMVsvB,QAAQ,CAAE,MANA,CAOVqG,SAAS,CAAE,OAPD,CAQV8rC,SAAS,CAAE,KARD,CASVC,OAAO,CAAE,KATC,CAUVv7B,GAAG,CAAE1nC,MAVK,CAAX,CAYA,GAAIkjE,KAAJ,CAAUC,KAAV,CAAiBC,EAAjB,CAAqBC,EAArB,CAAyBC,OAAzB,CAAkCC,QAAlC,CAA4CC,IAA5C,CAAkDC,MAAlD,CAA0DC,UAA1D,CAAsEC,QAAtE,CAAgFC,QAAhF,CAA0FC,KAA1F,CAAiGC,QAAjG,CAA2GC,YAA3G,CAAyHC,YAAzH,CAAuIC,IAAvI,CAEAH,QAAQ,CAAG,EAAX,CACAA,QAAQ,CAACI,EAAT,CAAc,MAAOC,eAAP,EAAyB,WAAvC,CACAL,QAAQ,CAACM,MAAT,CAAkB,CAAC,CAACpkE,MAAM,CAACokE,MAA3B,CACAN,QAAQ,CAACO,KAAT,CAAiB,CAAC,CAACrkE,MAAM,CAACqkE,KAAT,EAAkBC,SAAS,CAACC,SAAV,CAAoB9jE,OAApB,CAA4B,OAA5B,GAAwC,CAA3E,CACAqjE,QAAQ,CAACU,EAAT,CAA0B,KAA1B,CACAV,QAAQ,CAACW,MAAT,CAAkBrkE,MAAM,CAAC8C,SAAP,CAAiBvC,QAAjB,CAA0BK,IAA1B,CAA+BhB,MAAM,CAAC0kE,WAAtC,EAAmDjkE,OAAnD,CAA2D,aAA3D,EAA4E,CAA9F,CACAqjE,QAAQ,CAACa,SAAT,CAAsBb,QAAQ,CAACM,MAAT,EAAmBN,QAAQ,CAACI,EAA5B,EAAkCJ,QAAQ,CAACO,KAAjE,CAEA,GAAIO,OAAM,CAAG,EAAb,CACAhB,QAAQ,CAAG,UAAY,CACtB,CADD,CAEAH,MAAM,CAAGI,KAAK,CAAG,KAAjB,CAIA,GAAI7gE,KAAI,CAAG,UAAY,CAEtBkgE,IAAI,CAAGt/D,KAAK,CAAC++D,IAAD,CAAOzpC,GAAP,CAAZ,CACAgqC,IAAI,CAACN,OAAL,CAAeiC,QAAQ,CAAC3B,IAAI,CAACN,OAAN,CAAvB,CACAM,IAAI,CAACL,SAAL,CAAiBgC,QAAQ,CAAC3B,IAAI,CAACL,SAAN,CAAzB,CACAK,IAAI,CAACryC,QAAL,CAAgBqyC,IAAI,CAACryC,QAAL,CAAczpB,WAAd,EAAhB,CACA87D,IAAI,CAAChsC,SAAL,CAAkBA,SAAS,CAAClQ,KAAV,CAAgB,GAAKk8C,IAAI,CAAChsC,SAA1B,CAAD,CAAyCgsC,IAAI,CAAChsC,SAA9C,CAA0DyrC,IAAI,CAACzrC,SAAhF,CAEA+sC,IAAI,CAAGf,IAAI,CAACx7B,GAAL,CAAS7nC,QAAhB,CAEA,GAAIilE,KAAI,CAAG5B,IAAI,CAACryC,QAAL,CAAcpwB,OAAd,CAAsB,IAAtB,EAA8B,CAAC,CAA1C,CACA,GAAIskE,OAAM,CAAG7B,IAAI,CAACryC,QAAL,CAAcpwB,OAAd,CAAsB,MAAtB,EAAgC,CAAC,CAA9C,CAGA,GAAIqkE,IAAI,EAAIC,MAAZ,CAAoB,CACnB,IAAK,GAAIhjE,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGm1B,SAAS,CAAClQ,KAAV,CAAgB,GAAKk8C,IAAI,CAAChsC,SAA1B,EAAqC7zB,MAAzD,CAAiEtB,CAAC,EAAlE,CAAsE,CACrE,GAAI4zB,KAAI,CAAGuB,SAAS,CAAClQ,KAAV,CAAgB,GAAKk8C,IAAI,CAAChsC,SAA1B,EAAqCn1B,CAArC,CAAX,CAEA,GAAI+iE,IAAJ,CAAU,CACT,GAAInvC,IAAI,CAACiX,CAAL,CAAS,GAAb,CAAkB,CACjBjX,IAAI,CAACiX,CAAL,CAASjX,IAAI,CAACiX,CAAL,CAAS,GAAlB,CACA,CAFD,IAEO,CACNjX,IAAI,CAACiX,CAAL,CAASjX,IAAI,CAACiX,CAAL,CAAS,EAAIjX,IAAI,CAACiX,CAAlB,EAAuB,EAAIjX,IAAI,CAAC71B,CAAhC,CAAT,CACA,CACD,CAED,GAAIilE,MAAJ,CAAY,CACX,GAAIpvC,IAAI,CAACqvC,CAAL,CAAS,GAAb,CAAkB,CACjBrvC,IAAI,CAACqvC,CAAL,CAASrvC,IAAI,CAACqvC,CAAL,CAAS,GAAlB,CACA,CAFD,IAEO,CACNrvC,IAAI,CAACqvC,CAAL,CAASrvC,IAAI,CAACqvC,CAAL,CAAS,EAAIrvC,IAAI,CAACqvC,CAAlB,EAAuB,EAAIrvC,IAAI,CAAC4W,CAAhC,CAAT,CACA,CACD,CAEDrV,SAAS,CAAClQ,KAAV,CAAgB,GAAKk8C,IAAI,CAAChsC,SAA1B,EAAqCn1B,CAArC,EAA0C4zB,IAA1C,CACA,CACD,CACDutC,IAAI,CAAC3hE,IAAL,CAAaA,IAAI,CAAC,GAAK2hE,IAAI,CAAC3hE,IAAX,CAAL,CAAyB2hE,IAAI,CAAC3hE,IAA9B,CAAqCohE,IAAI,CAACphE,IAAtD,CAEA4hE,KAAK,CAAG8B,IAAI,CAACC,OAAL,EAAR,CAEA5B,OAAO,CAAGzjE,QAAQ,CAACqC,aAAT,CAAuB,QAAvB,CAAV,CAEAshE,IAAI,CAAG3jE,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAP,CACA,GAAIihE,KAAK,CAACgC,YAAN,CAAmB,MAAnB,CAAJ,CAAgC,CAC/B3B,IAAI,CAACnhE,YAAL,CAAkB,aAAlB,CAAiC,WAAjC,EAEAmhE,IAAI,CAACr+B,MAAL,CAAc,UAAY,CACzBi+B,EAAE,CAAII,IAAI,CAACxsC,MAAL,CAAc,CAAf,CAAoBwsC,IAAI,CAACxsC,MAAzB,CAAkC,EAAvC,CACAqsC,EAAE,CAAIG,IAAI,CAAC5yC,KAAL,CAAa,CAAd,CAAmB4yC,IAAI,CAAC5yC,KAAxB,CAAgC,EAArC,CACA0yC,OAAO,CAACtsC,MAAR,CAAiBosC,EAAjB,CACAE,OAAO,CAAC1yC,KAAR,CAAgByyC,EAAhB,CACAE,QAAQ,CAAGD,OAAO,CAAC8B,UAAR,CAAmB,IAAnB,CAAX,CACAC,IAAI,CAACrsD,KAAL,GACA,CAPD,CAQAwqD,IAAI,CAACnhE,YAAL,CAAkB,KAAlB,CAAyB8gE,KAAK,CAAC/gE,YAAN,CAAmB,MAAnB,CAAzB,EACA,CAZD,IAYO,CACNohE,IAAI,CAACr+B,MAAL,CAAc,UAAY,CACzBi+B,EAAE,CAAG,EAAL,CACAC,EAAE,CAAG,EAAL,CACAG,IAAI,CAACxsC,MAAL,CAAcosC,EAAd,CACAI,IAAI,CAAC5yC,KAAL,CAAayyC,EAAb,CACAC,OAAO,CAACtsC,MAAR,CAAiBosC,EAAjB,CACAE,OAAO,CAAC1yC,KAAR,CAAgByyC,EAAhB,CACAE,QAAQ,CAAGD,OAAO,CAAC8B,UAAR,CAAmB,IAAnB,CAAX,CACAC,IAAI,CAACrsD,KAAL,GACA,CATD,CAUAwqD,IAAI,CAACnhE,YAAL,CAAkB,KAAlB,CAAyB,EAAzB,EACA,CAED,CAtED,CA0EA,GAAIgjE,KAAI,CAAG,EAAX,CAIAA,IAAI,CAACrsD,KAAL,CAAa,UAAY,CACxByqD,MAAM,CAAG,IAAT,CACA4B,IAAI,CAACzwD,KAAL,GACAgvD,QAAQ,GACR,CAJD,CAQAyB,IAAI,CAACzwD,KAAL,CAAa,UAAY,CAExB,GAAI,CAAC6uD,MAAL,CAAa,CACZ,OACA,CACDmB,MAAM,CAAG,EAAT,CACAlB,UAAU,CAAG,KAAb,CACAC,QAAQ,CAAG,KAAX,CACAJ,QAAQ,CAAC+B,SAAT,CAAmB,CAAnB,CAAsB,CAAtB,CAAyBjC,EAAzB,CAA6BD,EAA7B,EACAG,QAAQ,CAACgC,SAAT,CAAmB/B,IAAnB,CAAyB,CAAzB,CAA4B,CAA5B,CAA+BH,EAA/B,CAAmCD,EAAnC,EAEA6B,IAAI,CAACO,OAAL,CAAalC,OAAb,EAGAtjE,MAAM,CAACw6B,YAAP,CAAoBupC,YAApB,EACA/jE,MAAM,CAACw6B,YAAP,CAAoBwpC,YAApB,EACA,CAhBD,CAoBAqB,IAAI,CAACtyD,KAAL,CAAa,UAAY,CACxB,GAAI,CAAC0wD,MAAD,EAAWE,QAAf,CAAyB,CACxB,OACA,CACD,GAAI8B,SAAQ,CAAG,UAAY,CAC1B/B,UAAU,CAAGkB,MAAM,CAAC,CAAD,CAAnB,CACAjB,QAAQ,CAAG,KAAX,CACA,GAAIiB,MAAM,CAACvhE,MAAP,CAAgB,CAApB,CAAuB,CACtBuhE,MAAM,CAACr3D,KAAP,GACA83D,IAAI,CAACtyD,KAAL,GACA,CAGD,CATD,CAUA,GAAI6xD,MAAM,CAACvhE,MAAP,CAAgB,CAApB,CAAuB,CACtBsgE,QAAQ,CAAG,IAAX,CACA,GAAIruC,IAAG,CAAG,UAAY,CAErB,CAAC,MAAD,CAAS,WAAT,CAAsB,SAAtB,CAAiC,WAAjC,CAA8C,YAA9C,CAA4D,WAA5D,EAAyEowC,OAAzE,CAAiF,SAAU38D,CAAV,CAAa,CAC7F,GAAIA,CAAC,GAAI67D,OAAM,CAAC,CAAD,CAAN,CAAU//D,OAAnB,CAA4B,CAC3Bq+D,IAAI,CAACn6D,CAAD,CAAJ,CAAU67D,MAAM,CAAC,CAAD,CAAN,CAAU//D,OAAV,CAAkBkE,CAAlB,CAAV,CACA,CACD,CAJD,EAKAmuB,SAAS,CAAC5B,GAAV,CAAcsvC,MAAM,CAAC,CAAD,CAAN,CAAU//D,OAAxB,CAAiC,UAAY,CAC5C4gE,QAAQ,GACR,CAFD,CAEG,KAFH,EAGA,CAVD,CAWA,GAAI/B,UAAJ,CAAgB,CACfxsC,SAAS,CAAC5B,GAAV,CAAcouC,UAAU,CAAC7+D,OAAzB,CAAkC,UAAY,CAC7CywB,GAAG,GACH,CAFD,CAEG,IAFH,EAGA,CAJD,IAIO,CACNA,GAAG,GACH,CACD,CACD,CAnCD,CAwCA,GAAI/zB,KAAI,CAAG,EAAX,CACA,GAAIsD,QAAO,CAAG,SAAUq0B,GAAV,CAAe,CAC5BA,GAAG,CAAC7gB,CAAJ,CAAU,MAAO6gB,IAAG,CAAC7gB,CAAZ,GAAmB,QAApB,CAAgC5S,IAAI,CAAC4nC,GAAL,CAASnU,GAAG,CAAC7gB,CAAJ,CAAQ,CAAjB,CAAhC,CAAsD6gB,GAAG,CAAC7gB,CAAlE,CACA6gB,GAAG,CAAC8rC,CAAJ,CAAQ3B,EAAE,CAAGnqC,GAAG,CAAC8rC,CAAjB,CACA9rC,GAAG,CAAC0T,CAAJ,CAAQw2B,EAAE,CAAGlqC,GAAG,CAAC0T,CAAjB,CACA1T,GAAG,CAACp5B,CAAJ,CAAQujE,EAAE,CAAGnqC,GAAG,CAACp5B,CAAjB,CACAo5B,GAAG,CAACqT,CAAJ,CAAQ62B,EAAE,CAAGlqC,GAAG,CAACqT,CAAjB,CACArT,GAAG,CAAC30B,GAAJ,CAAU,CAAC,GAAK20B,GAAG,CAAC7gB,CAAV,EAAahV,MAAvB,CACA,MAAO61B,IAAP,CACA,CARD,CAaA33B,IAAI,CAACokE,MAAL,CAAc,SAAUzsC,GAAV,CAAe,CAC5BA,GAAG,CAAGr0B,OAAO,CAACq0B,GAAD,CAAb,CACA,GAAI0sC,KAAI,CAAG,KAAX,CACA,GAAI1sC,GAAG,CAAC30B,GAAJ,GAAY,CAAhB,CAAmB,CAClB20B,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAJ,CAAQ,GAAxB,CACAo5B,GAAG,CAACp5B,CAAJ,CAAQo5B,GAAG,CAACp5B,CAAJ,CAAQ,GAAhB,CACA8lE,IAAI,CAAG,IAAP,CACA,CAJD,IAIO,IAAI1sC,GAAG,CAAC30B,GAAJ,EAAW,CAAf,CAAkB,CACxB20B,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAJ,CAAQ,IAAxB,CACAo5B,GAAG,CAACp5B,CAAJ,CAAQo5B,GAAG,CAACp5B,CAAJ,CAAQ,IAAhB,CACA8lE,IAAI,CAAG,IAAP,CACA,CACDrC,QAAQ,CAAC+B,SAAT,CAAmB,CAAnB,CAAsB,CAAtB,CAAyBjC,EAAzB,CAA6BD,EAA7B,EACAG,QAAQ,CAACgC,SAAT,CAAmB/B,IAAnB,CAAyB,CAAzB,CAA4B,CAA5B,CAA+BH,EAA/B,CAAmCD,EAAnC,EACAG,QAAQ,CAACsC,SAAT,GACAtC,QAAQ,CAACuC,IAAT,CAAgB5C,IAAI,CAACH,SAAL,CAAiB,GAAjB,CAAuBt9D,IAAI,CAAC6nC,KAAL,CAAWpU,GAAG,CAACqT,CAAJ,EAASrT,GAAG,CAAC7gB,CAAJ,CAAQ,EAAR,CAAa,IAAb,CAAoB,CAA7B,CAAX,CAAvB,CAAqE,KAArE,CAA6E6qD,IAAI,CAACJ,UAAlG,CACAS,QAAQ,CAACwC,SAAT,CAAqB,QAArB,CACA,GAAIH,IAAJ,CAAU,CACTrC,QAAQ,CAACyC,MAAT,CAAgB9sC,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAJ,CAAQ,CAAhC,CAAmCo5B,GAAG,CAAC0T,CAAvC,EACA22B,QAAQ,CAAC0C,MAAT,CAAgB/sC,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAZ,CAAgBo5B,GAAG,CAACqT,CAAJ,CAAQ,CAAxC,CAA2CrT,GAAG,CAAC0T,CAA/C,EACA22B,QAAQ,CAAC2C,gBAAT,CAA0BhtC,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAtC,CAAyCo5B,GAAG,CAAC0T,CAA7C,CAAgD1T,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAA5D,CAA+Do5B,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAAJ,CAAQ,CAA/E,EACAg3B,QAAQ,CAAC0C,MAAT,CAAgB/sC,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAA5B,CAA+Bo5B,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAAZ,CAAgBrT,GAAG,CAACqT,CAAJ,CAAQ,CAAvD,EACAg3B,QAAQ,CAAC2C,gBAAT,CAA0BhtC,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAtC,CAAyCo5B,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAArD,CAAwDrT,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAZ,CAAgBo5B,GAAG,CAACqT,CAAJ,CAAQ,CAAhF,CAAmFrT,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAA/F,EACAg3B,QAAQ,CAAC0C,MAAT,CAAgB/sC,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACqT,CAAJ,CAAQ,CAAhC,CAAmCrT,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAA/C,EACAg3B,QAAQ,CAAC2C,gBAAT,CAA0BhtC,GAAG,CAAC8rC,CAA9B,CAAiC9rC,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAA7C,CAAgDrT,GAAG,CAAC8rC,CAApD,CAAuD9rC,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAAZ,CAAgBrT,GAAG,CAACqT,CAAJ,CAAQ,CAA/E,EACAg3B,QAAQ,CAAC0C,MAAT,CAAgB/sC,GAAG,CAAC8rC,CAApB,CAAuB9rC,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAAJ,CAAQ,CAAvC,EACAg3B,QAAQ,CAAC2C,gBAAT,CAA0BhtC,GAAG,CAAC8rC,CAA9B,CAAiC9rC,GAAG,CAAC0T,CAArC,CAAwC1T,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACqT,CAAJ,CAAQ,CAAxD,CAA2DrT,GAAG,CAAC0T,CAA/D,EACA,CAVD,IAUO,CACN22B,QAAQ,CAAC4C,GAAT,CAAajtC,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAJ,CAAQ,CAA7B,CAAgCo5B,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAAJ,CAAQ,CAAhD,CAAmDrT,GAAG,CAACqT,CAAJ,CAAQ,CAA3D,CAA8D,CAA9D,CAAiE,EAAI9mC,IAAI,CAAC0wB,EAA1E,EACA,CACDotC,QAAQ,CAAC6C,SAAT,CAAqB,QAAUlD,IAAI,CAACN,OAAL,CAAax2B,CAAvB,CAA2B,GAA3B,CAAiC82B,IAAI,CAACN,OAAL,CAAa91B,CAA9C,CAAkD,GAAlD,CAAwDo2B,IAAI,CAACN,OAAL,CAAa55D,CAArE,CAAyE,GAAzE,CAA+EkwB,GAAG,CAACoT,CAAnF,CAAuF,GAA5G,CACAi3B,QAAQ,CAAC8C,IAAT,GACA9C,QAAQ,CAAC+C,SAAT,GACA/C,QAAQ,CAACsC,SAAT,GACAtC,QAAQ,CAACgD,MAAT,GACAhD,QAAQ,CAAC6C,SAAT,CAAqB,QAAUlD,IAAI,CAACL,SAAL,CAAez2B,CAAzB,CAA6B,GAA7B,CAAmC82B,IAAI,CAACL,SAAL,CAAe/1B,CAAlD,CAAsD,GAAtD,CAA4Do2B,IAAI,CAACL,SAAL,CAAe75D,CAA3E,CAA+E,GAA/E,CAAqFkwB,GAAG,CAACoT,CAAzF,CAA6F,GAAlH,CAEA,GAAK,MAAOpT,IAAG,CAAC7gB,CAAZ,GAAmB,QAAnB,EAA+B6gB,GAAG,CAAC7gB,CAAJ,CAAQ,GAA3C,CAAgD,CAC/CkrD,QAAQ,CAACiD,QAAT,CAAkB,CAAEttC,GAAG,CAAC7gB,CAAJ,CAAQ,IAAT,CAAiB,CAAjB,CAAqB5S,IAAI,CAAC6nC,KAAL,CAAWpU,GAAG,CAAC7gB,CAAJ,CAAQ,IAAnB,CAAtB,EAAkD,IAApE,CAA0E5S,IAAI,CAAC6nC,KAAL,CAAWpU,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAJ,CAAQ,CAA3B,CAA1E,CAAyG2F,IAAI,CAAC6nC,KAAL,CAAWpU,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAAZ,CAAgBrT,GAAG,CAACqT,CAAJ,CAAQ,GAAnC,CAAzG,EACA,CAFD,IAEO,CACNg3B,QAAQ,CAACiD,QAAT,CAAkBttC,GAAG,CAAC7gB,CAAtB,CAAyB5S,IAAI,CAAC6nC,KAAL,CAAWpU,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAJ,CAAQ,CAA3B,CAAzB,CAAwD2F,IAAI,CAAC6nC,KAAL,CAAWpU,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAAZ,CAAgBrT,GAAG,CAACqT,CAAJ,CAAQ,IAAnC,CAAxD,EACA,CACDg3B,QAAQ,CAAC+C,SAAT,GACA,CA3CD,CAgDA/kE,IAAI,CAACklE,SAAL,CAAiB,SAAUvtC,GAAV,CAAe,CAC/BA,GAAG,CAAGr0B,OAAO,CAACq0B,GAAD,CAAb,CAEA,GAAIA,GAAG,CAAC30B,GAAJ,GAAY,CAAhB,CAAmB,CAClB20B,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAJ,CAAQ,GAAxB,CACAo5B,GAAG,CAACp5B,CAAJ,CAAQo5B,GAAG,CAACp5B,CAAJ,CAAQ,GAAhB,CAEA,CAJD,IAIO,IAAIo5B,GAAG,CAAC30B,GAAJ,EAAW,CAAf,CAAkB,CACxB20B,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAJ,CAAQ,IAAxB,CACAo5B,GAAG,CAACp5B,CAAJ,CAAQo5B,GAAG,CAACp5B,CAAJ,CAAQ,IAAhB,CAEA,CACDyjE,QAAQ,CAAC+B,SAAT,CAAmB,CAAnB,CAAsB,CAAtB,CAAyBjC,EAAzB,CAA6BD,EAA7B,EACAG,QAAQ,CAACgC,SAAT,CAAmB/B,IAAnB,CAAyB,CAAzB,CAA4B,CAA5B,CAA+BH,EAA/B,CAAmCD,EAAnC,EACAG,QAAQ,CAACsC,SAAT,GACAtC,QAAQ,CAACuC,IAAT,CAAgB5C,IAAI,CAACH,SAAL,CAAiB,GAAjB,CAAuBt9D,IAAI,CAAC6nC,KAAL,CAAWpU,GAAG,CAACqT,CAAJ,EAASrT,GAAG,CAAC7gB,CAAJ,CAAQ,EAAR,CAAa,GAAb,CAAmB,CAA5B,CAAX,CAAvB,CAAoE,KAApE,CAA4E6qD,IAAI,CAACJ,UAAjG,CACAS,QAAQ,CAACwC,SAAT,CAAqB,QAArB,CACAxC,QAAQ,CAAC6C,SAAT,CAAqB,QAAUlD,IAAI,CAACN,OAAL,CAAax2B,CAAvB,CAA2B,GAA3B,CAAiC82B,IAAI,CAACN,OAAL,CAAa91B,CAA9C,CAAkD,GAAlD,CAAwDo2B,IAAI,CAACN,OAAL,CAAa55D,CAArE,CAAyE,GAAzE,CAA+EkwB,GAAG,CAACoT,CAAnF,CAAuF,GAA5G,CACAi3B,QAAQ,CAACmD,QAAT,CAAkBxtC,GAAG,CAAC8rC,CAAtB,CAAyB9rC,GAAG,CAAC0T,CAA7B,CAAgC1T,GAAG,CAACp5B,CAApC,CAAuCo5B,GAAG,CAACqT,CAA3C,EACAg3B,QAAQ,CAAC6C,SAAT,CAAqB,QAAUlD,IAAI,CAACL,SAAL,CAAez2B,CAAzB,CAA6B,GAA7B,CAAmC82B,IAAI,CAACL,SAAL,CAAe/1B,CAAlD,CAAsD,GAAtD,CAA4Do2B,IAAI,CAACL,SAAL,CAAe75D,CAA3E,CAA+E,GAA/E,CAAqFkwB,GAAG,CAACoT,CAAzF,CAA6F,GAAlH,CAEA,GAAK,MAAOpT,IAAG,CAAC7gB,CAAZ,GAAmB,QAAnB,EAA+B6gB,GAAG,CAAC7gB,CAAJ,CAAQ,GAA3C,CAAgD,CAC/CkrD,QAAQ,CAACiD,QAAT,CAAkB,CAAEttC,GAAG,CAAC7gB,CAAJ,CAAQ,IAAT,CAAiB,CAAjB,CAAqB5S,IAAI,CAAC6nC,KAAL,CAAWpU,GAAG,CAAC7gB,CAAJ,CAAQ,IAAnB,CAAtB,EAAkD,IAApE,CAA0E5S,IAAI,CAAC6nC,KAAL,CAAWpU,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAJ,CAAQ,CAA3B,CAA1E,CAAyG2F,IAAI,CAAC6nC,KAAL,CAAWpU,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAAZ,CAAgBrT,GAAG,CAACqT,CAAJ,CAAQ,GAAnC,CAAzG,EACA,CAFD,IAEO,CACNg3B,QAAQ,CAACiD,QAAT,CAAkBttC,GAAG,CAAC7gB,CAAtB,CAAyB5S,IAAI,CAAC6nC,KAAL,CAAWpU,GAAG,CAAC8rC,CAAJ,CAAQ9rC,GAAG,CAACp5B,CAAJ,CAAQ,CAA3B,CAAzB,CAAwD2F,IAAI,CAAC6nC,KAAL,CAAWpU,GAAG,CAAC0T,CAAJ,CAAQ1T,GAAG,CAACqT,CAAZ,CAAgBrT,GAAG,CAACqT,CAAJ,CAAQ,IAAnC,CAAxD,EACA,CACDg3B,QAAQ,CAAC+C,SAAT,GACA,CA3BD,CAgCA,GAAIK,MAAK,CAAG,SAAUnrB,MAAV,CAAkBlkB,IAAlB,CAAwB,CACnCA,IAAI,CAAG,CAAE,MAAOA,KAAR,GAAkB,QAAlB,CAA6B,CACpCJ,SAAS,CAAEI,IADyB,CAA7B,CAEJA,IAFG,GAEM,EAFb,CAGAssC,QAAQ,CAAG,UAAY,CACtB,GAAI,CACH,GAAI,MAAQpoB,OAAR,GAAoB,QAApB,CAAgCA,MAAM,CAAG,CAAzC,CAA+CA,MAAM,GAAK,EAA9D,CAAmE,CAClE,GAAIyM,EAAC,CAAG,CACP1mD,IAAI,CAAE,OADC,CAEPsD,OAAO,CAAE,CACRwT,CAAC,CAAEmjC,MADK,CAFF,CAAR,CAMA,GAAI,aAAelkB,KAAf,EAAuBJ,SAAS,CAAClQ,KAAV,CAAgB,GAAKsQ,IAAI,CAACJ,SAA1B,CAA3B,CAAiE,CAChE+wB,CAAC,CAACpjD,OAAF,CAAUqyB,SAAV,CAAsB,GAAKI,IAAI,CAACJ,SAAhC,CACA,CACD,GAAI,QAAUI,KAAV,EAAkB/1B,IAAI,CAAC,GAAK+1B,IAAI,CAAC/1B,IAAX,CAA1B,CAA4C,CAC3C0mD,CAAC,CAACpjD,OAAF,CAAUtD,IAAV,CAAiB,GAAK+1B,IAAI,CAAC/1B,IAA3B,CACA,CACD,CAAC,SAAD,CAAY,WAAZ,EAAyBmkE,OAAzB,CAAiC,SAAUp5B,CAAV,CAAa,CAC7C,GAAIA,CAAC,GAAIhV,KAAT,CAAe,CACd2wB,CAAC,CAACpjD,OAAF,CAAUynC,CAAV,EAAeu4B,QAAQ,CAACvtC,IAAI,CAACgV,CAAD,CAAL,CAAvB,CACA,CACD,CAJD,EAKA,CAAC,WAAD,CAAc,YAAd,EAA4Bo5B,OAA5B,CAAoC,SAAUp5B,CAAV,CAAa,CAChD,GAAIA,CAAC,GAAIhV,KAAT,CAAe,CACd2wB,CAAC,CAACpjD,OAAF,CAAUynC,CAAV,EAAehV,IAAI,CAACgV,CAAD,CAAnB,CACA,CACD,CAJD,EAKAs4B,MAAM,CAACpkE,IAAP,CAAYynD,CAAZ,EACA,GAAI2c,MAAM,CAACvhE,MAAP,CAAgB,GAApB,CAAyB,CACxB,KAAM,IAAItD,MAAJ,CAAU,oCAAV,CAAN,CACA,CACDslE,IAAI,CAACtyD,KAAL,GACA,CA5BD,IA4BO,CACNsyD,IAAI,CAACzwD,KAAL,GACA,CACD,CAAC,MAAOhJ,CAAP,CAAU,CACX,KAAM,IAAI7L,MAAJ,CAAU,iCAAmC6L,CAAC,CAACoT,OAA/C,CAAN,CACA,CACD,CApCD,CAqCA,GAAIykD,MAAJ,CAAY,CACXG,QAAQ,GACR,CACD,CA5CD,CAiDA,GAAIlvD,MAAK,CAAG,SAAUkyD,YAAV,CAAwB,CACnChD,QAAQ,CAAG,UAAY,CACtB,GAAI,CACH,GAAI9jE,EAAC,CAAG8mE,YAAY,CAACh2C,KAArB,CACA,GAAI2b,EAAC,CAAGq6B,YAAY,CAAC5vC,MAArB,CACA,GAAI6vC,OAAM,CAAGhnE,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAb,CACA,GAAI4kE,MAAK,CAAIhnE,CAAC,CAAGujE,EAAJ,CAAS92B,CAAC,CAAG62B,EAAd,CAAqBtjE,CAAC,CAAGujE,EAAzB,CAAgC92B,CAAC,CAAG62B,EAAhD,CACAyD,MAAM,CAACxkE,YAAP,CAAoB,aAApB,CAAmC,WAAnC,EACAwkE,MAAM,CAAC1hC,MAAP,CAAc,UAAU,CACvBo+B,QAAQ,CAAC+B,SAAT,CAAmB,CAAnB,CAAsB,CAAtB,CAAyBjC,EAAzB,CAA6BD,EAA7B,EACAG,QAAQ,CAACgC,SAAT,CAAmBsB,MAAnB,CAA2B,CAA3B,CAA8B,CAA9B,CAAiCxD,EAAjC,CAAqCD,EAArC,EACA6B,IAAI,CAACO,OAAL,CAAalC,OAAb,EACA,CAJD,CAKAuD,MAAM,CAACxkE,YAAP,CAAoB,KAApB,CAA2BukE,YAAY,CAACxkE,YAAb,CAA0B,KAA1B,CAA3B,EACAykE,MAAM,CAAC7vC,MAAP,CAAiBuV,CAAC,CAAGu6B,KAArB,CACAD,MAAM,CAACj2C,KAAP,CAAgB9wB,CAAC,CAAGgnE,KAApB,CACA,CAAC,MAAOl7D,CAAP,CAAU,CACX,KAAM,IAAI7L,MAAJ,CAAU,iCAAmC6L,CAAC,CAACoT,OAA/C,CAAN,CACA,CACD,CAlBD,CAmBA,GAAIykD,MAAJ,CAAY,CACXG,QAAQ,GACR,CACD,CAvBD,CA2BA,GAAImD,MAAK,CAAG,SAAUC,YAAV,CAAwB,CACnCpD,QAAQ,CAAG,UAAY,CACtB,GAAI,CACH,GAAIoD,YAAY,GAAK,MAArB,CAA6B,CAC5BnD,KAAK,CAAG,IAAR,CACAwB,IAAI,CAACzwD,KAAL,GACAivD,KAAK,CAAG,KAAR,CACA,OACA,CAIDmD,YAAY,CAAC93D,gBAAb,CAA8B,MAA9B,CAAsC,UAAY,CACjD+3D,SAAS,CAAC,IAAD,CAAT,CACA,CAFD,CAEG,KAFH,EAIA,CAAC,MAAOr7D,CAAP,CAAU,CACX,KAAM,IAAI7L,MAAJ,CAAU,iCAAmC6L,CAAC,CAACoT,OAA/C,CAAN,CACA,CACD,CAlBD,CAmBA,GAAIykD,MAAJ,CAAY,CACXG,QAAQ,GACR,CACD,CAvBD,CA2BA,GAAIsD,OAAM,CAAG,SAAUC,MAAV,CAAkB,CAE9B,GAAI,CAACnnE,MAAM,CAAConE,GAAR,EAAe,CAACpnE,MAAM,CAAConE,GAAP,CAAWC,eAA/B,CAAgD,CAC/CrnE,MAAM,CAAConE,GAAP,CAAapnE,MAAM,CAAConE,GAAP,EAAc,EAA3B,CACApnE,MAAM,CAAConE,GAAP,CAAWC,eAAX,CAA6B,SAAUlmE,GAAV,CAAe,CAC3C,MAAOA,IAAP,CACA,CAFD,CAGA,CACD,GAAI2iE,QAAQ,CAACa,SAAb,CAAwB,CACvB,GAAI2C,SAAQ,CAAG,KAAf,CACAhD,SAAS,CAACiD,YAAV,CAAyBjD,SAAS,CAACiD,YAAV,EAA0BjD,SAAS,CAACkD,aAApC,EAAqDlD,SAAS,CAACmD,cAA/D,EAAiFnD,SAAS,CAACoD,eAA3F,EAA8GpD,SAAS,CAACqD,kBAAjJ,CACA/D,QAAQ,CAAG,UAAY,CACtB,GAAI,CACH,GAAIuD,MAAM,GAAK,MAAf,CAAuB,CACtBtD,KAAK,CAAG,IAAR,CACAwB,IAAI,CAACzwD,KAAL,GACAivD,KAAK,CAAG,KAAR,CACA,OACA,CACDyD,QAAQ,CAAGznE,QAAQ,CAACqC,aAAT,CAAuB,OAAvB,CAAX,CACAolE,QAAQ,CAAC12C,KAAT,CAAiByyC,EAAjB,CACAiE,QAAQ,CAACtwC,MAAT,CAAkBosC,EAAlB,CACAkB,SAAS,CAACiD,YAAV,CAAuB,CACtBR,KAAK,CAAE,IADe,CAEtBa,KAAK,CAAE,KAFe,CAAvB,CAGG,SAAUC,MAAV,CAAkB,CACpBP,QAAQ,CAAC9lE,GAAT,CAAe4lE,GAAG,CAACC,eAAJ,CAAoBQ,MAApB,CAAf,CACAP,QAAQ,CAACQ,IAAT,GACAb,SAAS,CAACK,QAAD,CAAT,CACA,CAPD,CAOG,UAAY,CACd,CARD,EASA,CAAC,MAAO17D,CAAP,CAAU,CACX,KAAM,IAAI7L,MAAJ,CAAU,kCAAoC6L,CAAC,CAACoT,OAAhD,CAAN,CACA,CACD,CAvBD,CAwBA,GAAIykD,MAAJ,CAAY,CACXG,QAAQ,GACR,CACD,CAED,CAxCD,CA6CA,QAASqD,UAAT,CAAmBF,KAAnB,CAA0B,CACzB,GAAIA,KAAK,CAACgB,MAAN,EAAgBhB,KAAK,CAACiB,KAAtB,EAA+BnE,KAAnC,CAA0C,CACzC,MAAO,MAAP,CACA,CAED,GAAI,CACHN,QAAQ,CAAC+B,SAAT,CAAmB,CAAnB,CAAsB,CAAtB,CAAyBjC,EAAzB,CAA6BD,EAA7B,EACAG,QAAQ,CAACgC,SAAT,CAAmBwB,KAAnB,CAA0B,CAA1B,CAA6B,CAA7B,CAAgC1D,EAAhC,CAAoCD,EAApC,EACA,CAAC,MAAOx3D,CAAP,CAAU,CAEX,CACDo4D,YAAY,CAAG7lD,UAAU,CAAC,UAAY,CACrC8oD,SAAS,CAACF,KAAD,CAAT,CACA,CAFwB,CAEtB7vC,SAAS,CAACzB,QAFY,CAAzB,CAGAwvC,IAAI,CAACO,OAAL,CAAalC,OAAb,EACA,CAED,GAAI2B,KAAI,CAAG,EAAX,CAIAA,IAAI,CAACC,OAAL,CAAe,UAAY,CAC1B,GAAI3rB,IAAG,CAAG,KAAV,CAEA,GAAI0uB,QAAO,CAAG,UAAY,CACzB,GAAIhD,KAAI,CAAGhB,IAAI,CAACx3D,oBAAL,CAA0B,MAA1B,EAAkC,CAAlC,EAAqCA,oBAArC,CAA0D,MAA1D,CAAX,CACA,IAAK,GAAI+M,EAAC,CAAGyrD,IAAI,CAAC5hE,MAAb,CAAqBtB,CAAC,CAAIyX,CAAC,CAAG,CAAnC,CAAuCzX,CAAC,EAAI,CAA5C,CAA+CA,CAAC,EAAhD,CAAoD,CACnD,GAAK,mBAAD,CAAsB6K,IAAtB,CAA2Bq4D,IAAI,CAACljE,CAAD,CAAJ,CAAQK,YAAR,CAAqB,KAArB,CAA3B,CAAJ,CAA6D,CAC5D,MAAO6iE,KAAI,CAACljE,CAAD,CAAX,CACA,CACD,CACD,MAAO,MAAP,CACA,CARD,CASA,GAAImhE,IAAI,CAACruB,OAAT,CAAkB,CACjB0E,GAAG,CAAG2pB,IAAI,CAACruB,OAAX,CACA,CAFD,IAEO,IAAIquB,IAAI,CAACF,SAAT,CAAoB,CAE1BzpB,GAAG,CAAG0qB,IAAI,CAAC13D,cAAL,CAAoB22D,IAAI,CAACF,SAAzB,CAAN,CACAzpB,GAAG,CAACl3C,YAAJ,CAAiB,MAAjB,CAAyBk3C,GAAG,CAACn3C,YAAJ,CAAiB,KAAjB,CAAzB,EACA,CAJM,IAIA,CAENm3C,GAAG,CAAG0uB,OAAO,EAAb,CACA,GAAI1uB,GAAG,GAAK,KAAZ,CAAmB,CAClBA,GAAG,CAAG0qB,IAAI,CAAC/hE,aAAL,CAAmB,MAAnB,CAAN,CACAq3C,GAAG,CAACl3C,YAAJ,CAAiB,KAAjB,CAAwB,MAAxB,EACA4hE,IAAI,CAACx3D,oBAAL,CAA0B,MAA1B,EAAkC,CAAlC,EAAqClK,WAArC,CAAiDg3C,GAAjD,EACA,CACD,CACDA,GAAG,CAACl3C,YAAJ,CAAiB,MAAjB,CAAyB,WAAzB,EACA,MAAOk3C,IAAP,CACA,CA7BD,CA8BA0rB,IAAI,CAACO,OAAL,CAAe,SAAU0C,MAAV,CAAkB,CAChC,GAAI9mC,IAAG,CAAG8mC,MAAM,CAACC,SAAP,CAAiB,WAAjB,CAAV,CACA,GAAIjF,IAAI,CAACD,OAAT,CAAkB,CAEjBC,IAAI,CAACD,OAAL,CAAa7hC,GAAb,EACA,CACD,GAAI8hC,IAAI,CAACruB,OAAT,CAAkB,CACjBquB,IAAI,CAACruB,OAAL,CAAaxyC,YAAb,CAA0B,MAA1B,CAAkC++B,GAAlC,EACA8hC,IAAI,CAACruB,OAAL,CAAaxyC,YAAb,CAA0B,KAA1B,CAAiC++B,GAAjC,EACA,CAHD,IAGO,IAAI8hC,IAAI,CAACF,SAAT,CAAoB,CAE1B,GAAIzpB,IAAG,CAAG0qB,IAAI,CAAC13D,cAAL,CAAoB22D,IAAI,CAACF,SAAzB,CAAV,CACAzpB,GAAG,CAACl3C,YAAJ,CAAiB,MAAjB,CAAyB++B,GAAzB,EACAmY,GAAG,CAACl3C,YAAJ,CAAiB,KAAjB,CAAwB++B,GAAxB,EACA,CALM,IAKA,CAEN,GAAI0iC,QAAQ,CAACI,EAAT,EAAeJ,QAAQ,CAACO,KAA5B,CAAmC,CAGlC,GAAIphD,IAAG,CAAGkgD,KAAV,CACAA,KAAK,CAAGc,IAAI,CAAC/hE,aAAL,CAAmB,MAAnB,CAAR,CAEA,GAAI4hE,QAAQ,CAACO,KAAb,CAAoB,CACnBlB,KAAK,CAAC9gE,YAAN,CAAmB,KAAnB,CAA0B,MAA1B,EACA,CACD8gE,KAAK,CAAC9gE,YAAN,CAAmB,KAAnB,CAA0B,MAA1B,EACA8gE,KAAK,CAAC9gE,YAAN,CAAmB,MAAnB,CAA2B,WAA3B,EACA4hE,IAAI,CAACx3D,oBAAL,CAA0B,MAA1B,EAAkC,CAAlC,EAAqClK,WAArC,CAAiD4gE,KAAjD,EACAA,KAAK,CAAC9gE,YAAN,CAAmB,MAAnB,CAA2B++B,GAA3B,EACA,GAAIne,GAAG,CAACzgB,UAAR,CAAoB,CACnBygB,GAAG,CAACzgB,UAAJ,CAAeC,WAAf,CAA2BwgB,GAA3B,EACA,CACD,CAhBD,IAgBO,CACNkgD,KAAK,CAAC9gE,YAAN,CAAmB,MAAnB,CAA2B++B,GAA3B,EACA,CACD,CACD,CApCD,CAwCA,QAASyjC,SAAT,CAAkB1c,GAAlB,CAAuB,CACtB,GAAIigB,eAAc,CAAG,kCAArB,CACAjgB,GAAG,CAAGA,GAAG,CAACxiD,OAAJ,CAAYyiE,cAAZ,CAA4B,SAAUr8D,CAAV,CAAaqgC,CAAb,CAAgBU,CAAhB,CAAmB9jC,CAAnB,CAAsB,CACvD,MAAOojC,EAAC,CAAGA,CAAJ,CAAQU,CAAR,CAAYA,CAAZ,CAAgB9jC,CAAhB,CAAoBA,CAA3B,CACA,CAFK,CAAN,CAGA,GAAIsJ,OAAM,CAAG,4CAA4ChG,IAA5C,CAAiD67C,GAAjD,CAAb,CACA,MAAO71C,OAAM,CAAG,CACf85B,CAAC,CAAE3Q,QAAQ,CAACnpB,MAAM,CAAC,CAAD,CAAP,CAAY,EAAZ,CADI,CAEfw6B,CAAC,CAAErR,QAAQ,CAACnpB,MAAM,CAAC,CAAD,CAAP,CAAY,EAAZ,CAFI,CAGftJ,CAAC,CAAEyyB,QAAQ,CAACnpB,MAAM,CAAC,CAAD,CAAP,CAAY,EAAZ,CAHI,CAAH,CAIT,KAJJ,CAKA,CAKD,QAAS1O,MAAT,CAAeykE,GAAf,CAAoBnvC,GAApB,CAAyB,CACxB,GAAIovC,UAAS,CAAG,EAAhB,CAEA,OAAKC,SAAL,GAAiBF,IAAjB,CAAsB,CACrBC,SAAS,CAACC,QAAD,CAAT,CAAsBF,GAAG,CAACE,QAAD,CAAzB,CACA,CACD,IAAKA,QAAL,GAAiBrvC,IAAjB,CAAsB,CACrBovC,SAAS,CAACC,QAAD,CAAT,CAAsBrvC,GAAG,CAACqvC,QAAD,CAAzB,CACA,CACD,MAAOD,UAAP,CACA,CAMD,QAASE,aAAT,EAAwB,CACvB,MAAOvE,KAAI,CAACxtC,MAAL,EAAewtC,IAAI,CAACwE,QAApB,EAAgCxE,IAAI,CAACyE,YAArC,EAAqDzE,IAAI,CAAC0E,SAAjE,CACA,CAKD,GAAIzxC,UAAS,CAAG,EAAhB,CAIAA,SAAS,CAACzB,QAAV,CAAqB,EAArB,CAIAyB,SAAS,CAAClQ,KAAV,CAAkB,EAAlB,CACAkQ,SAAS,CAAClQ,KAAV,CAAgB4hD,IAAhB,CAAuB,CAAC,CACvB5D,CAAC,CAAE,GADoB,CAEvBp4B,CAAC,CAAE,GAFoB,CAGvB9sC,CAAC,CAAE,GAHoB,CAIvBysC,CAAC,CAAE,GAJoB,CAKvBD,CAAC,CAAE,GALoB,CAAD,CAMpB,CACD04B,CAAC,CAAE,GADF,CAEDp4B,CAAC,CAAE,GAFF,CAGD9sC,CAAC,CAAE,GAHF,CAIDysC,CAAC,CAAE,GAJF,CAKDD,CAAC,CAAE,GALF,CANoB,CAYnB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CAZmB,CAkBnB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CAlBmB,CAwBnB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CAxBmB,CA8BnB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CA9BmB,CAoCnB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CApCmB,CA0CnB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CA1CmB,CAgDnB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CAhDmB,CAsDnB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CAtDmB,CA4DnB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CA5DmB,CAAvB,CAmEApV,SAAS,CAAClQ,KAAV,CAAgB6hD,IAAhB,CAAuB,CAAC,CACvB7D,CAAC,CAAE,GADoB,CAEvBp4B,CAAC,CAAE,GAFoB,CAGvB9sC,CAAC,CAAE,GAHoB,CAIvBysC,CAAC,CAAE,GAJoB,CAKvBD,CAAC,CAAE,CALoB,CAAD,CAAvB,CAOApV,SAAS,CAAClQ,KAAV,CAAgB/d,GAAhB,CAAsB,CAAC,CACtB+7D,CAAC,CAAE,CADmB,CAEtBp4B,CAAC,CAAE,CAFmB,CAGtB9sC,CAAC,CAAE,CAHmB,CAItBysC,CAAC,CAAE,CAJmB,CAKtBD,CAAC,CAAE,CALmB,CAAD,CAMnB,CACD04B,CAAC,CAAE,GADF,CAEDp4B,CAAC,CAAE,GAFF,CAGD9sC,CAAC,CAAE,GAHF,CAIDysC,CAAC,CAAE,GAJF,CAKDD,CAAC,CAAE,CALF,CANmB,CAYlB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,CALD,CAZkB,CAkBlB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,CALD,CAlBkB,CAwBlB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,CALD,CAxBkB,CA8BlB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,CALD,CA9BkB,CAoClB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,CALD,CApCkB,CAAtB,CA2CApV,SAAS,CAAClQ,KAAV,CAAgB8hD,OAAhB,CAA0B,CAAC,CAC1B9D,CAAC,CAAE,IADuB,CAE1Bp4B,CAAC,CAAE,IAFuB,CAG1B9sC,CAAC,CAAE,CAHuB,CAI1BysC,CAAC,CAAE,CAJuB,CAK1BD,CAAC,CAAE,CALuB,CAAD,CAMvB,CACD04B,CAAC,CAAE,IADF,CAEDp4B,CAAC,CAAE,IAFF,CAGD9sC,CAAC,CAAE,GAHF,CAIDysC,CAAC,CAAE,GAJF,CAKDD,CAAC,CAAE,GALF,CANuB,CAYtB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CAZsB,CAkBtB,CACF04B,CAAC,CAAE,IADD,CAEFp4B,CAAC,CAAE,IAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CAlBsB,CAwBtB,CACF04B,CAAC,CAAE,IADD,CAEFp4B,CAAC,CAAE,IAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CAxBsB,CA8BtB,CACF04B,CAAC,CAAE,IADD,CAEFp4B,CAAC,CAAE,IAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,GALD,CA9BsB,CAoCtB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,CALD,CApCsB,CAA1B,CA2CApV,SAAS,CAAClQ,KAAV,CAAgB+hD,KAAhB,CAAwB,CAAC,CACxB/D,CAAC,CAAE,GADqB,CAExBp4B,CAAC,CAAE,CAFqB,CAGxB9sC,CAAC,CAAE,GAHqB,CAIxBysC,CAAC,CAAE,GAJqB,CAKxBD,CAAC,CAAE,CALqB,CAAD,CAMrB,CACD04B,CAAC,CAAE,GADF,CAEDp4B,CAAC,CAAE,GAFF,CAGD9sC,CAAC,CAAE,GAHF,CAIDysC,CAAC,CAAE,GAJF,CAKDD,CAAC,CAAE,CALF,CANqB,CAYpB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,CALD,CAZoB,CAkBpB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,CALD,CAlBoB,CAwBpB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,CALD,CAxBoB,CA8BpB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,CALD,CA9BoB,CAoCpB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,CALD,CApCoB,CA0CpB,CACF04B,CAAC,CAAE,GADD,CAEFp4B,CAAC,CAAE,GAFD,CAGF9sC,CAAC,CAAE,GAHD,CAIFysC,CAAC,CAAE,GAJD,CAKFD,CAAC,CAAE,CALD,CA1CoB,CAAxB,CAwDApV,SAAS,CAAC5B,GAAV,CAAgB,SAAU4D,GAAV,CAAe8vC,EAAf,CAAmBC,MAAnB,CAA2BtzC,IAA3B,CAAiC,CAChD,GAAIuzC,cAAa,CAAGhyC,SAAS,CAAClQ,KAAV,CAAgBwhD,YAAY,GAAK,MAAL,CAActF,IAAI,CAAChsC,SAA/C,CAApB,CACA,GAAI+xC,MAAM,GAAK,IAAf,CAAqB,CACpBtzC,IAAI,CAAI,MAAOA,KAAP,GAAgB,WAAjB,CAAgCA,IAAhC,CAAuCuzC,aAAa,CAAC7lE,MAAd,CAAuB,CAArE,CACA,CAFD,IAEO,CACNsyB,IAAI,CAAI,MAAOA,KAAP,GAAgB,WAAjB,CAAgCA,IAAhC,CAAuC,CAA9C,CACA,CACDqzC,EAAE,CAAIA,EAAD,CAAOA,EAAP,CAAY,UAAY,CAC5B,CADD,CAEA,GAAKrzC,IAAI,CAAGuzC,aAAa,CAAC7lE,MAAtB,EAAkCsyB,IAAI,EAAI,CAA9C,CAAkD,CACjDp0B,IAAI,CAAC2hE,IAAI,CAAC3hE,IAAN,CAAJ,CAAgBqC,KAAK,CAACs1B,GAAD,CAAMgwC,aAAa,CAACvzC,IAAD,CAAnB,CAArB,EACAouC,YAAY,CAAG5lD,UAAU,CAAC,UAAY,CACrC,GAAI8qD,MAAJ,CAAY,CACXtzC,IAAI,CAAGA,IAAI,CAAG,CAAd,CACA,CAFD,IAEO,CACNA,IAAI,CAAGA,IAAI,CAAG,CAAd,CACA,CACDuB,SAAS,CAAC5B,GAAV,CAAc4D,GAAd,CAAmB8vC,EAAnB,CAAuBC,MAAvB,CAA+BtzC,IAA/B,EACA,CAPwB,CAOtBuB,SAAS,CAACzB,QAPY,CAAzB,CASAwvC,IAAI,CAACO,OAAL,CAAalC,OAAb,EACA,CAZD,IAYO,CACN0F,EAAE,GAEF,CACD,CAzBD,CA2BAhmE,IAAI,GACJ,MAAO,CACN2jE,KAAK,CAAEA,KADD,CAENI,KAAK,CAAEA,KAFD,CAGNryD,KAAK,CAAEA,KAHD,CAINwyD,MAAM,CAAEA,MAJF,CAKNtyD,KAAK,CAAEywD,IAAI,CAACzwD,KALN,CAMNu0D,OAAO,CAAE,CACRxE,SAAS,CAAEb,QAAQ,CAACa,SADZ,CANH,CAAP,CAUA,CA7yBD,CAgzBA,GAAI,IAAJ,CAAiD,CAChD37B,iCAAO,EAAD,mCAAK,UAAY,CACtB,MAAO05B,OAAP,CACA,CAFK;AAAA,oGAAN,CAGA,CAJD,IAMK,GAQL,CAh0BD,I;;;;;;ACxBA,iCAAiC,ggF;;;;;;ACAjC,GAAI1uB,aAAY,CAAG3K,mBAAO,CAAC,CAAD,CAA1B,CACIiY,QAAQ,CAAGjY,mBAAO,CAAC,EAAD,CADtB,CA0BA,QAAS+/B,OAAT,CAAgB32B,KAAhB,CAAuBE,QAAvB,CAAiC,CAC/B,MAAQF,MAAK,EAAIA,KAAK,CAACpvC,MAAhB,CAA0Bi+C,QAAQ,CAAC7O,KAAD,CAAQuB,YAAY,CAACrB,QAAD,CAAW,CAAX,CAApB,CAAlC,CAAuE,EAA9E,CACD,CAEDhzC,MAAM,CAACC,OAAP,CAAiBwpE,MAAjB,C;;;;;;AC9BAzpE,MAAM,CAACC,OAAP,CAAiBypC,mBAAO,CAAC,EAAD,CAAxB,C;;;;;;ACAA,GAAIggC,QAAO,CAAGhgC,mBAAO,CAAC,GAAD,CAArB,CACIigC,cAAc,CAAGjgC,mBAAO,CAAC,EAAD,CAD5B,CAIA,GAAI7oC,KAAI,CAAG6E,KAAK,CAACnC,SAAN,CAAgB1C,IAA3B,CAWA,QAAS+oE,UAAT,CAAmBhtD,IAAnB,CAAyBlE,CAAzB,CAA4B,CAC1B,MAAOA,EAAC,EAAI,CAAL,CACH,UAAe,CAAE,MAAOkE,KAAI,CAACrY,KAAL,CAAWqB,SAAX,CAAsBpB,SAAtB,CAAP,CAA0C,CADxD,CAEH,UAAY,CAAE,MAAOoY,KAAI,CAACrY,KAAL,CAAWqB,SAAX,CAAsBpB,SAAtB,CAAP,CAA0C,CAF5D,CAGD,CAWD,QAASqlE,QAAT,CAAiBjtD,IAAjB,CAAuBlE,CAAvB,CAA0B,CACxB,MAAOA,EAAC,EAAI,CAAL,CACH,SAAStP,CAAT,CAAYC,CAAZ,CAAe,CAAE,MAAOuT,KAAI,CAACxT,CAAD,CAAIC,CAAJ,CAAX,CAAoB,CADlC,CAEH,SAASD,CAAT,CAAY,CAAE,MAAOwT,KAAI,CAACxT,CAAD,CAAX,CAAiB,CAFnC,CAGD,CASD,QAAS0gE,WAAT,CAAoBh3B,KAApB,CAA2B,CACzB,GAAIpvC,OAAM,CAAGovC,KAAK,CAAGA,KAAK,CAACpvC,MAAT,CAAkB,CAApC,CACIiP,MAAM,CAAGjN,KAAK,CAAChC,MAAD,CADlB,CAGA,MAAOA,MAAM,EAAb,CAAiB,CACfiP,MAAM,CAACjP,MAAD,CAAN,CAAiBovC,KAAK,CAACpvC,MAAD,CAAtB,CACD,CACD,MAAOiP,OAAP,CACD,CASD,QAASo3D,aAAT,CAAsBntD,IAAtB,CAA4B,CAC1B,MAAO,UAAS9B,MAAT,CAAiB,CACtB,MAAO8B,KAAI,CAAC,EAAD,CAAK9B,MAAL,CAAX,CACD,CAFD,CAGD,CAWD,QAASkvD,WAAT,CAAoBptD,IAApB,CAA0BxJ,KAA1B,CAAiC,CAC/B,MAAO,WAAW,CAChB,GAAI1P,OAAM,CAAGc,SAAS,CAACd,MAAvB,CACI8zD,SAAS,CAAG9zD,MAAM,CAAG,CADzB,CAEIgQ,IAAI,CAAGhO,KAAK,CAAChC,MAAD,CAFhB,CAIA,MAAOA,MAAM,EAAb,CAAiB,CACfgQ,IAAI,CAAChQ,MAAD,CAAJ,CAAec,SAAS,CAACd,MAAD,CAAxB,CACD,CACD,GAAIovC,MAAK,CAAGp/B,IAAI,CAACN,KAAD,CAAhB,CACI0jD,SAAS,CAAGpjD,IAAI,CAAC/S,KAAL,CAAW,CAAX,CAAcyS,KAAd,CADhB,CAGA,GAAI0/B,KAAJ,CAAW,CACTjyC,IAAI,CAAC0D,KAAL,CAAWuyD,SAAX,CAAsBhkB,KAAtB,EACD,CACD,GAAI1/B,KAAK,EAAIokD,SAAb,CAAwB,CACtB32D,IAAI,CAAC0D,KAAL,CAAWuyD,SAAX,CAAsBpjD,IAAI,CAAC/S,KAAL,CAAWyS,KAAK,CAAG,CAAnB,CAAtB,EACD,CACD,MAAOwJ,KAAI,CAACrY,KAAL,CAAW,IAAX,CAAiBuyD,SAAjB,CAAP,CACD,CAlBD,CAmBD,CAWD,QAASmT,cAAT,CAAuBrtD,IAAvB,CAA6BstD,MAA7B,CAAqC,CACnC,MAAO,WAAW,CAChB,GAAIxmE,OAAM,CAAGc,SAAS,CAACd,MAAvB,CACA,GAAI,CAACA,MAAL,CAAa,CACX,OACD,CACD,GAAIgQ,KAAI,CAAGhO,KAAK,CAAChC,MAAD,CAAhB,CACA,MAAOA,MAAM,EAAb,CAAiB,CACfgQ,IAAI,CAAChQ,MAAD,CAAJ,CAAec,SAAS,CAACd,MAAD,CAAxB,CACD,CACD,GAAIiP,OAAM,CAAGe,IAAI,CAAC,CAAD,CAAJ,CAAUw2D,MAAM,CAAC3lE,KAAP,CAAaqB,SAAb,CAAwB8N,IAAxB,CAAvB,CACAkJ,IAAI,CAACrY,KAAL,CAAWqB,SAAX,CAAsB8N,IAAtB,EACA,MAAOf,OAAP,CACD,CAZD,CAaD,CAiBD,QAASuhC,YAAT,CAAqBC,IAArB,CAA2BhvC,IAA3B,CAAiCyX,IAAjC,CAAuC1X,OAAvC,CAAgD,CAC9C,GAAIilE,MAAK,CAAG,MAAOhlE,KAAP,EAAe,UAA3B,CACIilE,KAAK,CAAGjlE,IAAI,GAAK1E,MAAM,CAAC0E,IAAD,CAD3B,CAGA,GAAIilE,KAAJ,CAAW,CACTllE,OAAO,CAAG0X,IAAV,CACAA,IAAI,CAAGzX,IAAP,CACAA,IAAI,CAAGS,SAAP,CACD,CACD,GAAIgX,IAAI,EAAI,IAAZ,CAAkB,CAChB,KAAM,IAAIoB,UAAJ,EAAN,CACD,CACD9Y,OAAO,GAAKA,OAAO,CAAG,EAAf,CAAP,CAEA,GAAImlE,OAAM,CAAG,CACX,MAAO,OAASnlE,QAAT,CAAmBA,OAAO,CAAColE,GAA3B,CAAiC,IAD7B,CAEX,QAAS,SAAWplE,QAAX,CAAqBA,OAAO,CAACqlE,KAA7B,CAAqC,IAFnC,CAGX,QAAS,SAAWrlE,QAAX,CAAqBA,OAAO,CAACslE,KAA7B,CAAqC,IAHnC,CAIX,YAAa,aAAetlE,QAAf,CAAyBA,OAAO,CAACulE,SAAjC,CAA6C,IAJ/C,CAKX,QAAS,SAAWvlE,QAAX,CAAqBA,OAAO,CAACwlE,KAA7B,CAAqC,IALnC,CAAb,CAQA,GAAIC,cAAa,CAAGR,KAAK,CAAGvtD,IAAH,CAAU+sD,cAAnC,CACIiB,UAAU,CAAI,SAAW1lE,QAAZ,EAAwBA,OAAO,CAACqlE,KADjD,CAEIM,UAAU,CAAI,SAAW3lE,QAAZ,EAAwBA,OAAO,CAACslE,KAFjD,CAGIM,UAAU,CAAI,SAAW5lE,QAAZ,EAAwBA,OAAO,CAACwlE,KAHjD,CAIIK,QAAQ,CAAGZ,KAAK,CAAGvtD,IAAI,CAACouD,YAAL,EAAH,CAAyBplE,SAJ7C,CAMA,GAAIqlE,QAAO,CAAGd,KAAK,CAAGvtD,IAAH,CAAU,CAC3B,MAAOu3B,IAAI,CAACgK,GADe,CAE3B,SAAUhK,IAAI,CAAC+2B,MAFY,CAG3B,QAAS/2B,IAAI,CAAC7uC,KAHa,CAI3B,QAAS6uC,IAAI,CAACo2B,KAJa,CAK3B,UAAWp2B,IAAI,CAAC4xB,OALW,CAM3B,UAAW5xB,IAAI,CAACxuC,OANW,CAO3B,UAAWwuC,IAAI,CAACg3B,OAPW,CAQ3B,aAAch3B,IAAI,CAAC5yC,UARQ,CAS3B,YAAa4yC,IAAI,CAACi3B,SATS,CAU3B,WAAYj3B,IAAI,CAACnB,QAVU,CAW3B,OAAQmB,IAAI,CAAC3mC,IAXc,CAY3B,QAAS2mC,IAAI,CAACu2B,KAZa,CAa3B,YAAav2B,IAAI,CAACoJ,SAbS,CAc3B,SAAUpJ,IAAI,CAACk3B,MAdY,CAA7B,CAiBA,GAAIltB,IAAG,CAAG8sB,OAAO,CAAC9sB,GAAlB,CACI+sB,MAAM,CAAGD,OAAO,CAACC,MADrB,CAEI5lE,KAAK,CAAG2lE,OAAO,CAAC3lE,KAFpB,CAGIilE,KAAK,CAAGU,OAAO,CAACV,KAHpB,CAIIpmE,IAAI,CAAG8mE,OAAO,CAAClF,OAJnB,CAKIpgE,OAAO,CAAGslE,OAAO,CAACtlE,OALtB,CAMIwlE,OAAO,CAAGF,OAAO,CAACE,OANtB,CAOI5pE,UAAU,CAAG0pE,OAAO,CAAC1pE,UAPzB,CAQI6pE,SAAS,CAAGH,OAAO,CAACG,SARxB,CASI59D,IAAI,CAAGy9D,OAAO,CAACz9D,IATnB,CAUIk9D,KAAK,CAAGO,OAAO,CAACP,KAVpB,CAWIntB,SAAS,CAAG0tB,OAAO,CAAC1tB,SAXxB,CAYI8tB,MAAM,CAAGJ,OAAO,CAACI,MAZrB,CAcA,GAAIC,cAAa,CAAG99D,IAAI,CAACk8D,OAAO,CAAC6B,SAAT,CAAxB,CAEA,GAAIC,SAAQ,CAAG,CACb,YAAa,SAASnsB,SAAT,CAAoB,CAC/B,MAAO,WAAW,CAChB,GAAIj4C,MAAK,CAAG5C,SAAS,CAAC,CAAD,CAArB,CACA,MAAOmB,QAAO,CAACyB,KAAD,CAAP,CACHi4C,SAAS,CAACyqB,UAAU,CAAC1iE,KAAD,CAAX,CADN,CAEHi4C,SAAS,CAAC96C,KAAV,CAAgBqB,SAAhB,CAA2BpB,SAA3B,CAFJ,CAGD,CALD,CAMD,CARY,CASb,WAAY,SAASwuC,QAAT,CAAmB,CAC7B,MAAO,WAAW,CAChB,GAAIp2B,KAAI,CAAGpY,SAAS,CAAC,CAAD,CAApB,CACI45C,KAAK,CAAG55C,SAAS,CAAC,CAAD,CADrB,CAEImO,MAAM,CAAGqgC,QAAQ,CAACp2B,IAAD,CAAOwhC,KAAP,CAFrB,CAGI16C,MAAM,CAAGiP,MAAM,CAACjP,MAHpB,CAKA,GAAI2mE,MAAM,CAACC,GAAP,EAAc,MAAOlsB,MAAP,EAAgB,QAAlC,CAA4C,CAC1CA,KAAK,CAAGA,KAAK,CAAG,CAAR,CAAaA,KAAK,CAAG,CAArB,CAA0B,CAAlC,CACA,MAAQ16C,OAAM,EAAIA,MAAM,EAAI06C,KAArB,CAA8BzrC,MAA9B,CAAuCk3D,OAAO,CAACl3D,MAAD,CAASyrC,KAAT,CAArD,CACD,CACD,MAAOzrC,OAAP,CACD,CAXD,CAYD,CAtBY,CAuBb,QAAS,SAAS84D,KAAT,CAAgB,CACvB,MAAO,UAAS9oD,MAAT,CAAiB,CACtB,GAAI/F,KAAI,CAAG,IAAX,CACA,GAAI,CAACrb,UAAU,CAACqb,IAAD,CAAf,CAAuB,CACrB,MAAO6uD,MAAK,CAAC7uD,IAAD,CAAOnc,MAAM,CAACkiB,MAAD,CAAb,CAAZ,CACD,CACD,GAAIo6C,MAAK,CAAG,EAAZ,CACA54D,IAAI,CAACqJ,IAAI,CAACmV,MAAD,CAAL,CAAe,SAASjV,GAAT,CAAc,CAC/B,GAAInM,UAAU,CAACohB,MAAM,CAACjV,GAAD,CAAP,CAAd,CAA6B,CAC3BqvD,KAAK,CAACl8D,IAAN,CAAW,CAAC6M,GAAD,CAAMkP,IAAI,CAACrZ,SAAL,CAAemK,GAAf,CAAN,CAAX,EACD,CACF,CAJG,CAAJ,CAMA+9D,KAAK,CAAC7uD,IAAD,CAAOnc,MAAM,CAACkiB,MAAD,CAAb,CAAL,CAEAxe,IAAI,CAAC44D,KAAD,CAAQ,SAASC,IAAT,CAAe,CACzB,GAAI51D,MAAK,CAAG41D,IAAI,CAAC,CAAD,CAAhB,CACA,GAAIz7D,UAAU,CAAC6F,KAAD,CAAd,CAAuB,CACrBwV,IAAI,CAACrZ,SAAL,CAAey5D,IAAI,CAAC,CAAD,CAAnB,EAA0B51D,KAA1B,CACD,CAFD,IAEO,CACL,MAAOwV,KAAI,CAACrZ,SAAL,CAAey5D,IAAI,CAAC,CAAD,CAAnB,CAAP,CACD,CACF,CAPG,CAAJ,CAQA,MAAOpgD,KAAP,CACD,CAvBD,CAwBD,CAhDY,CAiDb,SAAU,SAAS8uD,MAAT,CAAiB,CACzB,MAAO,UAAShzD,CAAT,CAAY,CACjB,GAAI0lC,MAAK,CAAG1lC,CAAC,CAAG,CAAJ,CAAQ,CAAR,CAAa6kC,SAAS,CAAC7kC,CAAD,CAAT,CAAe,CAAxC,CACA,MAAO6xD,MAAK,CAACmB,MAAM,CAAChzD,CAAD,CAAP,CAAY0lC,KAAZ,CAAZ,CACD,CAHD,CAID,CAtDY,CAuDb,QAAS,SAASssB,KAAT,CAAgB,CACvB,MAAO,UAAS9tD,IAAT,CAAe+iC,OAAf,CAAwB,CAC7B,GAAIvB,MAAK,CAAGuB,OAAO,CAAGA,OAAO,CAACj8C,MAAX,CAAoB,CAAvC,CACA,MAAO6mE,MAAK,CAACG,KAAK,CAAC9tD,IAAD,CAAO+iC,OAAP,CAAN,CAAuBvB,KAAvB,CAAZ,CACD,CAHD,CAID,CA5DY,CA6Db,eAAgB,SAAS4sB,YAAT,CAAuB,CACrC,MAAO,UAAS7nE,OAAT,CAAkB,CACvB,MAAO+wC,YAAW,CAACC,IAAD,CAAO62B,YAAY,CAAC7nE,OAAD,CAAnB,CAA8B+B,OAA9B,CAAlB,CACD,CAFD,CAGD,CAjEY,CAAf,CA8EA,QAASymE,QAAT,CAAiBxmE,IAAjB,CAAuByX,IAAvB,CAA6B,CAC3B,GAAIytD,MAAM,CAACC,GAAX,CAAgB,CACd,GAAI3qB,QAAO,CAAG+pB,OAAO,CAACkC,aAAR,CAAsBzmE,IAAtB,CAAd,CACA,GAAIw6C,OAAJ,CAAa,CACX,MAAOisB,cAAa,CAAChvD,IAAD,CAAO+iC,OAAP,CAApB,CACD,CACD,GAAIjnC,EAAC,CAAG,CAACyxD,KAAD,EAAUT,OAAO,CAACmC,WAAR,CAAoB1mE,IAApB,CAAlB,CACA,GAAIuT,CAAJ,CAAO,CACL,MAAOmzD,YAAW,CAACjvD,IAAD,CAAOlE,CAAP,CAAlB,CACD,CACF,CACD,MAAOkE,KAAP,CACD,CAWD,QAASkvD,UAAT,CAAmB3mE,IAAnB,CAAyByX,IAAzB,CAA+BlE,CAA/B,CAAkC,CAChC,MAAQkyD,WAAU,EAAKP,MAAM,CAACE,KAAP,EAAgB7xD,CAAC,CAAG,CAApC,CACH6xD,KAAK,CAAC3tD,IAAD,CAAOlE,CAAP,CADF,CAEHkE,IAFJ,CAGD,CAWD,QAASmvD,UAAT,CAAmB5mE,IAAnB,CAAyByX,IAAzB,CAA+BlE,CAA/B,CAAkC,CAChC,GAAI2xD,MAAM,CAACG,KAAP,GAAiBK,UAAU,EAAI,CAACnB,OAAO,CAACsC,SAAR,CAAkB7mE,IAAlB,CAAhC,CAAJ,CAA8D,CAC5D,GAAIgc,KAAI,CAAGuoD,OAAO,CAACuC,YAAR,CAAqB9mE,IAArB,CAAX,CACIiO,KAAK,CAAG+N,IAAI,EAAIA,IAAI,CAAC/N,KADzB,CAGA,MAAOA,MAAK,GAAMxN,SAAX,CAAuBu4C,GAAG,CAACvhC,IAAD,CAAOlE,CAAP,CAA1B,CAAsCsxD,UAAU,CAACptD,IAAD,CAAOxJ,KAAP,CAAvD,CACD,CACD,MAAOwJ,KAAP,CACD,CAWD,QAASsvD,UAAT,CAAmB/mE,IAAnB,CAAyByX,IAAzB,CAA+BlE,CAA/B,CAAkC,CAChC,MAAQ2xD,OAAM,CAACK,KAAP,EAAgBhyD,CAAC,CAAG,CAApB,GAA0BoyD,UAAU,EAAI,CAACpB,OAAO,CAACyC,SAAR,CAAkBhnE,IAAlB,CAAzC,CAAD,CACHulE,KAAK,CAAC9tD,IAAD,CAAO8sD,OAAO,CAAC0C,WAAR,CAAoBjnE,IAApB,GAA6BukE,OAAO,CAAC2C,QAAR,CAAiB3zD,CAAjB,CAApC,CADF,CAEHkE,IAFJ,CAGD,CAUD,QAAS0vD,YAAT,CAAqBxxD,MAArB,CAA6B45B,IAA7B,CAAmC,CACjCA,IAAI,CAAG22B,MAAM,CAAC32B,IAAD,CAAb,CAEA,GAAI36B,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGgxC,IAAI,CAAChxC,MADlB,CAGIiP,MAAM,CAAGrN,KAAK,CAAC7E,MAAM,CAACqa,MAAD,CAAP,CAHlB,CAIIyxD,MAAM,CAAG55D,MAJb,CAMA,MAAO45D,MAAM,EAAI,IAAV,EAAkB,EAAExyD,KAAF,CAAUrW,MAAnC,CAA2C,CACzC,GAAIgK,IAAG,CAAGgnC,IAAI,CAAC36B,KAAD,CAAd,CACI3S,KAAK,CAAGmlE,MAAM,CAAC7+D,GAAD,CADlB,CAGA,GAAItG,KAAK,EAAI,IAAT,EACA,EAAE7F,UAAU,CAAC6F,KAAD,CAAV,EAAqB+jE,OAAO,CAAC/jE,KAAD,CAA5B,EAAuCgkE,SAAS,CAAChkE,KAAD,CAAlD,CADJ,CACgE,CAC9DmlE,MAAM,CAAC7+D,GAAD,CAAN,CAAcpI,KAAK,CAACyU,KAAK,EAVbrW,MAAM,CAAG,CAUD,CAAqB0D,KAArB,CAA6B3G,MAAM,CAAC2G,KAAD,CAApC,CAAnB,CACD,CACDmlE,MAAM,CAAGA,MAAM,CAAC7+D,GAAD,CAAf,CACD,CACD,MAAOiF,OAAP,CACD,CASD,QAAS65D,WAAT,CAAoBtnE,OAApB,CAA6B,CAC3B,MAAO4F,EAAC,CAACkgE,YAAF,CAAe/+B,OAAf,CAAuB/mC,OAAvB,EAAgCU,SAAhC,CAAP,CACD,CASD,QAAS6mE,gBAAT,CAAyBtnE,IAAzB,CAA+ByX,IAA/B,CAAqC,CACnC,GAAI8vD,SAAQ,CAAGhD,OAAO,CAACiD,WAAR,CAAoBxnE,IAApB,GAA6BA,IAA5C,CACIynE,UAAU,CAAGlD,OAAO,CAACmD,KAAR,CAAcH,QAAd,GAA2BA,QAD5C,CAEII,UAAU,CAAG5nE,OAFjB,CAIA,MAAO,UAASA,OAAT,CAAkB,CACvB,GAAI6nE,QAAO,CAAG5C,KAAK,CAAGY,QAAH,CAAcE,OAAjC,CACI+B,OAAO,CAAG7C,KAAK,CAAGY,QAAQ,CAAC6B,UAAD,CAAX,CAA0BhwD,IAD7C,CAEIqwD,UAAU,CAAG/B,MAAM,CAACA,MAAM,CAAC,EAAD,CAAK4B,UAAL,CAAP,CAAyB5nE,OAAzB,CAFvB,CAIA,MAAOgvC,YAAW,CAAC64B,OAAD,CAAUL,QAAV,CAAoBM,OAApB,CAA6BC,UAA7B,CAAlB,CACD,CAND,CAOD,CAWD,QAASpB,YAAT,CAAqBjvD,IAArB,CAA2BlE,CAA3B,CAA8B,CAC5B,MAAOomC,QAAO,CAACliC,IAAD,CAAO,SAASA,IAAT,CAAe,CAClC,MAAO,OAAOA,KAAP,EAAe,UAAf,CAA4BitD,OAAO,CAACjtD,IAAD,CAAOlE,CAAP,CAAnC,CAA+CkE,IAAtD,CACD,CAFa,CAAd,CAGD,CAaD,QAASgvD,cAAT,CAAuBhvD,IAAvB,CAA6B+iC,OAA7B,CAAsC,CACpC,MAAOb,QAAO,CAACliC,IAAD,CAAO,SAASA,IAAT,CAAe,CAClC,GAAIlE,EAAC,CAAGinC,OAAO,CAACj8C,MAAhB,CACA,MAAOkmE,UAAS,CAACc,KAAK,CAACb,OAAO,CAACjtD,IAAD,CAAOlE,CAAP,CAAR,CAAmBinC,OAAnB,CAAN,CAAmCjnC,CAAnC,CAAhB,CACD,CAHa,CAAd,CAID,CAUD,QAASomC,QAAT,CAAiBliC,IAAjB,CAAuBw/B,SAAvB,CAAkC,CAChC,MAAO,WAAW,CAChB,GAAI14C,OAAM,CAAGc,SAAS,CAACd,MAAvB,CACA,GAAI,CAACA,MAAL,CAAa,CACX,MAAOkZ,KAAI,EAAX,CACD,CACD,GAAIlJ,KAAI,CAAGhO,KAAK,CAAChC,MAAD,CAAhB,CACA,MAAOA,MAAM,EAAb,CAAiB,CACfgQ,IAAI,CAAChQ,MAAD,CAAJ,CAAec,SAAS,CAACd,MAAD,CAAxB,CACD,CACD,GAAIqW,MAAK,CAAGswD,MAAM,CAACK,KAAP,CAAe,CAAf,CAAoBhnE,MAAM,CAAG,CAAzC,CACAgQ,IAAI,CAACqG,KAAD,CAAJ,CAAcqiC,SAAS,CAAC1oC,IAAI,CAACqG,KAAD,CAAL,CAAvB,CACA,MAAO6C,KAAI,CAACrY,KAAL,CAAWqB,SAAX,CAAsB8N,IAAtB,CAAP,CACD,CAZD,CAaD,CAWD,QAASuS,KAAT,CAAc9gB,IAAd,CAAoByX,IAApB,CAA0BsvB,WAA1B,CAAuC,CACrC,GAAIv5B,OAAJ,CACI+5D,QAAQ,CAAGhD,OAAO,CAACiD,WAAR,CAAoBxnE,IAApB,GAA6BA,IAD5C,CAEI+nE,OAAO,CAAGtwD,IAFd,CAGIg5C,OAAO,CAAG4V,QAAQ,CAACkB,QAAD,CAHtB,CAKA,GAAI9W,OAAJ,CAAa,CACXsX,OAAO,CAAGtX,OAAO,CAACh5C,IAAD,CAAjB,CACD,CAFD,IAGK,IAAIytD,MAAM,CAACI,SAAX,CAAsB,CACzB,GAAIf,OAAO,CAACyD,MAAR,CAAer6B,KAAf,CAAqB45B,QAArB,CAAJ,CAAoC,CAClCQ,OAAO,CAAGjD,aAAa,CAACrtD,IAAD,CAAOktD,UAAP,CAAvB,CACD,CAFD,IAGK,IAAIJ,OAAO,CAACyD,MAAR,CAAeryD,MAAf,CAAsB4xD,QAAtB,CAAJ,CAAqC,CACxCQ,OAAO,CAAGjD,aAAa,CAACrtD,IAAD,CAAOmtD,YAAY,CAACntD,IAAD,CAAnB,CAAvB,CACD,CAFI,IAGA,IAAI8sD,OAAO,CAACyD,MAAR,CAAejsD,GAAf,CAAmBwrD,QAAnB,CAAJ,CAAkC,CACrCQ,OAAO,CAAGjD,aAAa,CAACrtD,IAAD,CAAO0vD,WAAP,CAAvB,CACD,CACF,CACDnoE,IAAI,CAACmnE,aAAD,CAAgB,SAAS8B,MAAT,CAAiB,CACnCjpE,IAAI,CAACulE,OAAO,CAAC6B,SAAR,CAAkB6B,MAAlB,CAAD,CAA4B,SAASC,SAAT,CAAoB,CAClD,GAAIX,QAAQ,EAAIW,SAAhB,CAA2B,CACzB,GAAIlsD,KAAI,CAAGuoD,OAAO,CAACuC,YAAR,CAAqBS,QAArB,CAAX,CACIY,UAAU,CAAGnsD,IAAI,EAAIA,IAAI,CAACmsD,UAD9B,CAGA36D,MAAM,CAAG26D,UAAU,CACfvB,SAAS,CAACW,QAAD,CAAWR,SAAS,CAACQ,QAAD,CAAWQ,OAAX,CAAoBE,MAApB,CAApB,CAAiDA,MAAjD,CADM,CAEflB,SAAS,CAACQ,QAAD,CAAWX,SAAS,CAACW,QAAD,CAAWQ,OAAX,CAAoBE,MAApB,CAApB,CAAiDA,MAAjD,CAFb,CAIAz6D,MAAM,CAAGg5D,OAAO,CAACe,QAAD,CAAW/5D,MAAX,CAAhB,CACAA,MAAM,CAAGm5D,SAAS,CAACY,QAAD,CAAW/5D,MAAX,CAAmBy6D,MAAnB,CAAlB,CACA,MAAO,MAAP,CACD,CACF,CAbG,CAAJ,CAcA,MAAO,CAACz6D,MAAR,CACD,CAhBG,CAAJ,CAkBAA,MAAM,GAAKA,MAAM,CAAGu6D,OAAd,CAAN,CACA,GAAIv6D,MAAM,EAAIiK,IAAd,CAAoB,CAClBjK,MAAM,CAAGi4D,UAAU,CAAGL,KAAK,CAAC53D,MAAD,CAAS,CAAT,CAAR,CAAsB,UAAW,CAClD,MAAOiK,KAAI,CAACrY,KAAL,CAAW,IAAX,CAAiBC,SAAjB,CAAP,CACD,CAFD,CAGD,CACDmO,MAAM,CAACs5B,OAAP,CAAiBwgC,eAAe,CAACC,QAAD,CAAW9vD,IAAX,CAAhC,CACAjK,MAAM,CAACu5B,WAAP,CAAqBtvB,IAAI,CAACsvB,WAAL,CAAmBA,WAAxC,CAEA,MAAOv5B,OAAP,CACD,CAID,GAAI,CAACy3D,KAAL,CAAY,CACV,MAAOnkD,KAAI,CAAC9gB,IAAD,CAAOyX,IAAP,CAAa+tD,aAAb,CAAX,CACD,CACD,GAAI7/D,EAAC,CAAG8R,IAAR,CAGA,GAAImgD,MAAK,CAAG,EAAZ,CACA54D,IAAI,CAACmnE,aAAD,CAAgB,SAAS8B,MAAT,CAAiB,CACnCjpE,IAAI,CAACulE,OAAO,CAAC6B,SAAR,CAAkB6B,MAAlB,CAAD,CAA4B,SAAS1/D,GAAT,CAAc,CAC5C,GAAIkP,KAAI,CAAG9R,CAAC,CAAC4+D,OAAO,CAACmD,KAAR,CAAcn/D,GAAd,GAAsBA,GAAvB,CAAZ,CACA,GAAIkP,IAAJ,CAAU,CACRmgD,KAAK,CAACl8D,IAAN,CAAW,CAAC6M,GAAD,CAAMuY,IAAI,CAACvY,GAAD,CAAMkP,IAAN,CAAY9R,CAAZ,CAAV,CAAX,EACD,CACF,CALG,CAAJ,CAMD,CAPG,CAAJ,CAUA3G,IAAI,CAACqJ,IAAI,CAAC1C,CAAD,CAAL,CAAU,SAAS4C,GAAT,CAAc,CAC1B,GAAIkP,KAAI,CAAG9R,CAAC,CAAC4C,GAAD,CAAZ,CACA,GAAI,MAAOkP,KAAP,EAAe,UAAnB,CAA+B,CAC7B,GAAIlZ,OAAM,CAAGq5D,KAAK,CAACr5D,MAAnB,CACA,MAAOA,MAAM,EAAb,CAAiB,CACf,GAAIq5D,KAAK,CAACr5D,MAAD,CAAL,CAAc,CAAd,GAAoBgK,GAAxB,CAA6B,CAC3B,OACD,CACF,CACDkP,IAAI,CAACqvB,OAAL,CAAewgC,eAAe,CAAC/+D,GAAD,CAAMkP,IAAN,CAA9B,CACAmgD,KAAK,CAACl8D,IAAN,CAAW,CAAC6M,GAAD,CAAMkP,IAAN,CAAX,EACD,CACF,CAZG,CAAJ,CAeAzY,IAAI,CAAC44D,KAAD,CAAQ,SAASC,IAAT,CAAe,CACzBlyD,CAAC,CAACkyD,IAAI,CAAC,CAAD,CAAL,CAAD,CAAaA,IAAI,CAAC,CAAD,CAAjB,CACD,CAFG,CAAJ,CAIAlyD,CAAC,CAACmhC,OAAF,CAAYugC,UAAZ,CACA1hE,CAAC,CAACohC,WAAF,CAAgBphC,CAAhB,CAGA3G,IAAI,CAACqJ,IAAI,CAAC1C,CAAD,CAAL,CAAU,SAAS4C,GAAT,CAAc,CAC1BvJ,IAAI,CAACulE,OAAO,CAAC6D,WAAR,CAAoB7/D,GAApB,GAA4B,EAA7B,CAAiC,SAAS8/D,KAAT,CAAgB,CACnD1iE,CAAC,CAAC0iE,KAAD,CAAD,CAAW1iE,CAAC,CAAC4C,GAAD,CAAZ,CACD,CAFG,CAAJ,CAGD,CAJG,CAAJ,CAMA,MAAO5C,EAAP,CACD,CAED9K,MAAM,CAACC,OAAP,CAAiBi0C,WAAjB,C;;;;;;ACvjBAj0C,OAAO,CAAC0sE,WAAR,CAAsB,CAGpB,OAAQ,SAHY,CAIpB,YAAa,cAJO,CAKpB,UAAW,SALS,CAMpB,YAAa,WANO,CAOpB,SAAU,UAPU,CAQpB,YAAa,aARO,CASpB,gBAAiB,iBATG,CAUpB,aAAc,cAVM,CAWpB,QAAS,MAXW,CAcpB,WAAY,YAdQ,CAepB,UAAW,SAfS,CAgBpB,WAAY,KAhBQ,CAmBpB,KAAM,aAnBc,CAoBpB,IAAK,WApBe,CAqBpB,IAAK,UArBe,CAsBpB,MAAO,OAtBa,CAuBpB,UAAW,WAvBS,CAwBpB,SAAU,UAxBU,CAyBpB,MAAO,MAzBa,CA0BpB,UAAW,UA1BS,CA2BpB,QAAS,QA3BW,CA4BpB,QAAS,KA5BW,CA6BpB,YAAa,KA7BO,CA8BpB,aAAc,QA9BM,CA+BpB,UAAW,WA/BS,CAgCpB,WAAY,UAhCQ,CAiCpB,SAAU,OAjCU,CAkCpB,aAAc,OAlCM,CAmCpB,WAAY,WAnCQ,CAoCpB,gBAAiB,gBApCG,CAqCpB,SAAU,SArCU,CAsCpB,YAAa,IAtCO,CAuCpB,UAAW,OAvCS,CAwCpB,OAAQ,SAxCY,CAyCpB,YAAa,QAzCO,CA0CpB,OAAQ,MA1CY,CA2CpB,UAAW,MA3CS,CA4CpB,OAAQ,KA5CY,CA6CpB,OAAQ,KA7CY,CA8CpB,SAAU,iBA9CU,CA+CpB,SAAU,OA/CU,CAgDpB,QAAS,IAhDW,CAiDpB,UAAW,MAjDS,CAkDpB,OAAQ,MAlDY,CAmDpB,QAAS,KAnDW,CAoDpB,OAAQ,KApDY,CAqDpB,SAAU,iBArDU,CAsDpB,SAAU,OAtDU,CAuDpB,QAAS,IAvDW,CAwDpB,sBAAuB,KAxDH,CAyDpB,wBAAyB,OAzDL,CA0DpB,0BAA2B,SA1DP,CA2DpB,WAAY,WA3DQ,CA4DpB,gBAAiB,gBA5DG,CA6DpB,UAAW,MA7DS,CA8DpB,SAAU,SA9DU,CA+DpB,UAAW,UA/DS,CAgEpB,QAAS,YAhEW,CAiEpB,UAAW,SAjES,CAkEpB,SAAU,WAlEU,CAAtB,CAsEA1sE,OAAO,CAACsrE,SAAR,CAAoB,CAClB,IAAK,CACH,WADG,CACU,aADV,CACyB,SADzB,CACoC,WADpC,CACiD,MADjD,CACyD,QADzD,CAEH,OAFG,CAEM,YAFN,CAEoB,aAFpB,CAEmC,iBAFnC,CAEsD,OAFtD,CAE+D,MAF/D,CAGH,WAHG,CAGU,WAHV,CAGuB,QAHvB,CAGiC,UAHjC,CAG6C,SAH7C,CAGwD,QAHxD,CAGkE,UAHlE,CAIH,UAJG,CAIS,OAJT,CAIkB,QAJlB,CAI4B,MAJ5B,CAIoC,WAJpC,CAIiD,UAJjD,CAI4D,MAJ5D,CAIoE,SAJpE,CAKH,OALG,CAKM,cALN,CAKsB,QALtB,CAKgC,UALhC,CAK4C,MAL5C,CAKoD,SALpD,CAK+D,WAL/D,CAMH,UANG,CAMS,OANT,CAMkB,QANlB,CADa,CASlB,IAAK,CACH,KADG,CACI,OADJ,CACa,KADb,CACoB,QADpB,CAC8B,eAD9B,CAC+C,UAD/C,CAC2D,iBAD3D,CAEH,IAFG,CAEG,QAFH,CAEa,MAFb,CAEqB,SAFrB,CAEgC,SAFhC,CAE2C,OAF3C,CAEoD,eAFpD,CAGH,WAHG,CAGU,QAHV,CAGoB,YAHpB,CAGkC,SAHlC,CAG6C,QAH7C,CAGuD,aAHvD,CAIH,UAJG,CAIS,UAJT,CAIqB,cAJrB,CAIqC,WAJrC,CAIkD,OAJlD,CAI2D,YAJ3D,CAKH,QALG,CAKO,MALP,CAKe,WALf,CAK4B,gBAL5B,CAK8C,WAL9C,CAK2D,UAL3D,CAKuE,IALvE,CAMH,OANG,CAMM,QANN,CAMgB,MANhB,CAMwB,WANxB,CAMqC,SANrC,CAMgD,UANhD,CAM4D,eAN5D,CAOH,aAPG,CAOY,SAPZ,CAOuB,aAPvB,CAOsC,cAPtC,CAOsD,SAPtD,CAQH,cARG,CAQa,OARb,CAQsB,YARtB,CAQoC,QARpC,CAQ8C,aAR9C,CAQ6D,KAR7D,CASH,SATG,CASQ,IATR,CASc,KATd,CASqB,KATrB,CAS4B,OAT5B,CASqC,UATrC,CASiD,SATjD,CAS4D,cAT5D,CAUH,UAVG,CAUS,QAVT,CAUmB,WAVnB,CAUgC,SAVhC,CAU2C,SAV3C,CAUsD,MAVtD,CAU8D,OAV9D,CAWH,aAXG,CAWY,IAXZ,CAWkB,KAXlB,CAWyB,KAXzB,CAWgC,SAXhC,CAW2C,WAX3C,CAWwD,iBAXxD,CAYH,OAZG,CAYM,QAZN,CAYgB,OAZhB,CAYyB,cAZzB,CAYyC,OAZzC,CAYkD,UAZlD,CAY8D,KAZ9D,CAYqE,MAZrE,CAaH,QAbG,CAaO,UAbP,CAamB,KAbnB,CAa0B,QAb1B,CAaoC,UAbpC,CAagD,UAbhD,CAa4D,SAb5D,CAcH,cAdG,CAca,WAdb,CAc0B,MAd1B,CAckC,QAdlC,CAc4C,YAd5C,CAc0D,MAd1D,CAckE,SAdlE,CAeH,QAfG,CAeO,QAfP,CAeiB,OAfjB,CAe0B,YAf1B,CAewC,OAfxC,CAeiD,QAfjD,CAe2D,QAf3D,CAgBH,QAhBG,CAgBO,UAhBP,CAgBmB,QAhBnB,CAgB6B,YAhB7B,CAgB2C,MAhB3C,CAgBmD,QAhBnD,CAgB6D,aAhB7D,CAiBH,eAjBG,CAiBc,iBAjBd,CAiBiC,mBAjBjC,CAiBsD,cAjBtD,CAkBH,OAlBG,CAkBM,YAlBN,CAkBoB,YAlBpB,CAkBkC,UAlBlC,CAkB8C,OAlB9C,CAkBuD,MAlBvD,CAkB+D,WAlB/D,CAmBH,gBAnBG,CAmBe,WAnBf,CAmB4B,KAnB5B,CAmBmC,UAnBnC,CAmB+C,MAnB/C,CAmBuD,OAnBvD,CAmBgE,WAnBhE,CAoBH,cApBG,CAoBa,gBApBb,CAoB+B,UApB/B,CAoB2C,OApB3C,CAoBoD,QApBpD,CAoB8D,UApB9D,CAqBH,OArBG,CAqBM,WArBN,CAqBmB,SArBnB,CAqB8B,MArB9B,CAqBsC,KArBtC,CAqB6C,KArB7C,CAqBoD,WArBpD,CAsBH,eAtBG,CATa,CAiClB,IAAK,CACH,cADG,CACa,YADb,CAC2B,OAD3B,CACoC,cADpC,CACoD,gBADpD,CAEH,UAFG,CAES,eAFT,CAE0B,cAF1B,CAE0C,mBAF1C,CAE+D,OAF/D,CAGH,cAHG,CAGa,aAHb,CAG4B,SAH5B,CAGuC,gBAHvC,CAGyD,kBAHzD,CAIH,YAJG,CAIW,eAJX,CAI4B,aAJ5B,CAI2C,aAJ3C,CAI0D,cAJ1D,CAKH,iBALG,CAKgB,WALhB,CAK6B,SAL7B,CAKwC,UALxC,CAKoD,aALpD,CAMH,eANG,CAMc,WANd,CAM2B,aAN3B,CAM0C,WAN1C,CAMuD,gBANvD,CAOH,QAPG,CAOO,aAPP,CAOsB,SAPtB,CAOiC,KAPjC,CAOwC,OAPxC,CAOiD,eAPjD,CAQH,mBARG,CAQkB,WARlB,CAQ+B,SAR/B,CAQ0C,WAR1C,CAQuD,QARvD,CAQiE,OARjE,CASH,SATG,CASQ,SATR,CAjCa,CA4ClB,IAAK,CACH,MADG,CACK,SADL,CACgB,YADhB,CA5Ca,CAApB,CAkDAtrE,OAAO,CAACosE,QAAR,CAAmB,CACjB,IAAK,CAAC,CAAD,CAAI,CAAJ,CADY,CAEjB,IAAK,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAFY,CAGjB,IAAK,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,CAHY,CAAnB,CAOApsE,OAAO,CAAC4rE,WAAR,CAAsB,CACpB,iBAAkB,CADE,CAEpB,YAAa,CAFO,CAGpB,QAAS,CAHW,CAIpB,SAAU,CAJU,CAKpB,OAAQ,CALY,CAMpB,WAAY,CANQ,CAOpB,YAAa,CAPO,CAQpB,gBAAiB,CARG,CASpB,UAAW,CATS,CAUpB,WAAY,CAVQ,CAWpB,eAAgB,CAXI,CAYpB,gBAAiB,CAZG,CAapB,oBAAqB,CAbD,CAcpB,cAAe,CAdK,CAepB,UAAW,CAfS,CAgBpB,cAAe,CAhBK,CAiBpB,eAAgB,CAjBI,CAkBpB,UAAW,CAlBS,CAmBpB,eAAgB,CAnBI,CAoBpB,QAAS,CApBW,CAqBpB,aAAc,CArBM,CAsBpB,SAAU,CAtBU,CAuBpB,cAAe,CAvBK,CAwBpB,MAAO,CAxBa,CAyBpB,UAAW,CAzBS,CA0BpB,YAAa,CA1BO,CA2BpB,YAAa,CA3BO,CA4BpB,SAAU,CA5BU,CA6BpB,cAAe,CA7BK,CA8BpB,SAAU,CA9BU,CA+BpB,SAAU,CA/BU,CAgCpB,OAAQ,CAhCY,CAiCpB,iBAAkB,CAjCE,CAkCpB,YAAa,CAlCO,CAmCpB,QAAS,CAnCW,CAoCpB,YAAa,CApCO,CAAtB,CAwCA5rE,OAAO,CAAC2rE,aAAR,CAAwB,CACtB,UAAW,CAAC,CAAD,CADW,CAEtB,cAAe,CAAC,CAAD,CAAI,CAAJ,CAFO,CAAxB,CAMA3rE,OAAO,CAACmsE,WAAR,CAAsB,CACpB,kBAAmB,CAAC,CAAD,CAAI,CAAJ,CADC,CAEpB,eAAgB,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAFI,CAGpB,gBAAiB,CAAC,CAAD,CAAI,CAAJ,CAHG,CAIpB,aAAc,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAJM,CAKpB,eAAgB,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CALI,CAMpB,iBAAkB,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CANE,CAOpB,QAAS,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAPW,CAQpB,iBAAkB,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CARE,CASpB,mBAAoB,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CATA,CAUpB,cAAe,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAVK,CAWpB,cAAe,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAXK,CAYpB,eAAgB,CAAC,CAAD,CAAI,CAAJ,CAZI,CAapB,YAAa,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAbO,CAcpB,WAAY,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAdQ,CAepB,cAAe,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAfK,CAgBpB,gBAAiB,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAhBG,CAiBpB,YAAa,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAjBO,CAkBpB,cAAe,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAlBK,CAmBpB,YAAa,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAnBO,CAoBpB,iBAAkB,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CApBE,CAqBpB,UAAW,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,CArBS,CAsBpB,gBAAiB,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAtBG,CAuBpB,oBAAqB,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAvBD,CAwBpB,UAAW,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAxBS,CAyBpB,YAAa,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAzBO,CA0BpB,aAAc,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,CA1BM,CA2BpB,QAAS,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CA3BW,CA4BpB,UAAW,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CA5BS,CA6BpB,UAAW,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CA7BS,CAAtB,CAiCAnsE,OAAO,CAACgsE,YAAR,CAAuB,CACrB,YAAa,CAAE,QAAS,CAAX,CADQ,CAErB,gBAAiB,CAAE,QAAS,CAAX,CAFI,CAGrB,cAAe,CAAE,QAAS,CAAX,CAHM,CAIrB,kBAAmB,CAAE,QAAS,CAAX,CAJE,CAKrB,cAAe,CAAE,QAAS,CAAX,CALM,CAMrB,kBAAmB,CAAE,QAAS,CAAX,CANE,CAOrB,aAAc,CAAE,QAAS,CAAX,CAPO,CAQrB,gBAAiB,CAAE,QAAS,CAAX,CARI,CASrB,WAAY,CAAE,QAAS,CAAX,CATS,CAUrB,eAAgB,CAAE,QAAS,CAAX,CAVK,CAWrB,UAAW,CAAE,QAAS,CAAX,CAXU,CAYrB,eAAgB,CAAE,QAAS,CAAX,CAZK,CAarB,UAAW,CAAE,QAAS,CAAX,CAbU,CAcrB,SAAU,CAAE,QAAS,CAAX,CAdW,CAAvB,CAkBAhsE,OAAO,CAACktE,MAAR,CAAiB,CACf,QAAS,CACP,OAAQ,IADD,CAEP,OAAQ,IAFD,CAGP,UAAW,IAHJ,CAIP,YAAa,IAJN,CAKP,cAAe,IALR,CAMP,SAAU,IANH,CAOP,SAAU,IAPH,CAQP,UAAW,IARJ,CADM,CAWf,SAAU,CACR,SAAU,IADF,CAER,YAAa,IAFL,CAGR,gBAAiB,IAHT,CAIR,WAAY,IAJJ,CAKR,cAAe,IALP,CAMR,kBAAmB,IANX,CAOR,eAAgB,IAPR,CAQR,aAAc,IARN,CASR,WAAY,IATJ,CAUR,cAAe,IAVP,CAWR,eAAgB,IAXR,CAYR,kBAAmB,IAZX,CAaR,QAAS,IAbD,CAcR,WAAY,IAdJ,CAeR,eAAgB,IAfR,CAgBR,YAAa,IAhBL,CAXK,CA6Bf,MAAO,CACL,MAAO,IADF,CAEL,UAAW,IAFN,CAGL,QAAS,IAHJ,CAIL,SAAU,IAJL,CAKL,aAAc,IALT,CA7BQ,CAAjB,CAuCAltE,OAAO,CAACstE,WAAR,CAAuB,UAAW,CAChC,GAAIrsE,eAAc,CAAGT,MAAM,CAAC8C,SAAP,CAAiBrC,cAAtC,CACI4Z,MAAM,CAAG7a,OAAO,CAAC0sE,WADrB,CAEIh6D,MAAM,CAAG,EAFb,CAIA,IAAK,GAAIjF,IAAT,GAAgBoN,OAAhB,CAAwB,CACtB,GAAI1T,MAAK,CAAG0T,MAAM,CAACpN,GAAD,CAAlB,CACA,GAAIxM,cAAc,CAACG,IAAf,CAAoBsR,MAApB,CAA4BvL,KAA5B,CAAJ,CAAwC,CACtCuL,MAAM,CAACvL,KAAD,CAAN,CAAcvG,IAAd,CAAmB6M,GAAnB,EACD,CAFD,IAEO,CACLiF,MAAM,CAACvL,KAAD,CAAN,CAAgB,CAACsG,GAAD,CAAhB,CACD,CACF,CACD,MAAOiF,OAAP,CACD,CAdsB,EAAvB,CAiBA1S,OAAO,CAAC4sE,KAAR,CAAgB,CACd,YAAa,QADC,CAEd,gBAAiB,YAFH,CAGd,cAAe,UAHD,CAId,kBAAmB,cAJL,CAKd,SAAU,OALI,CAMd,cAAe,YAND,CAOd,cAAe,UAPD,CAQd,kBAAmB,cARL,CASd,WAAY,MATE,CAUd,gBAAiB,WAVH,CAWd,eAAgB,UAXF,CAYd,oBAAqB,eAZP,CAad,QAAS,KAbK,CAcd,eAAgB,UAdF,CAed,cAAe,SAfD,CAgBd,aAAc,QAhBA,CAiBd,gBAAiB,WAjBH,CAkBd,kBAAmB,aAlBL,CAmBd,WAAY,OAnBE,CAoBd,eAAgB,WApBF,CAqBd,WAAY,KArBE,CAsBd,cAAe,QAtBD,CAuBd,gBAAiB,UAvBH,CAwBd,aAAc,KAxBA,CAyBd,YAAa,OAzBC,CA0Bd,iBAAkB,YA1BJ,CA2Bd,WAAY,MA3BE,CA4Bd,aAAc,QA5BA,CA6Bd,YAAa,MA7BC,CA8Bd,eAAgB,SA9BF,CA+Bd,iBAAkB,WA/BJ,CAgCd,SAAU,KAhCI,CAAhB,CAoCA5sE,OAAO,CAAC+rE,SAAR,CAAoB,CAClB,YAAa,IADK,CAElB,OAAQ,IAFU,CAGlB,YAAa,IAHK,CAIlB,WAAY,IAJM,CAKlB,QAAS,IALS,CAMlB,QAAS,IANS,CAOlB,eAAgB,IAPE,CAApB,CAWA/rE,OAAO,CAACksE,SAAR,CAAoB,CAClB,MAAO,IADW,CAElB,SAAU,IAFQ,CAGlB,WAAY,IAHM,CAIlB,OAAQ,IAJU,CAKlB,UAAW,IALO,CAMlB,SAAU,IANQ,CAOlB,aAAc,IAPI,CAQlB,SAAU,IARQ,CASlB,KAAM,IATY,CAUlB,KAAM,IAVY,CAWlB,MAAO,IAXW,CAYlB,UAAW,IAZO,CAalB,KAAM,IAbY,CAclB,MAAO,IAdW,CAelB,kBAAmB,IAfD,CAgBlB,QAAS,IAhBS,CAiBlB,WAAY,IAjBM,CAkBlB,WAAY,IAlBM,CAmBlB,UAAW,IAnBO,CAoBlB,eAAgB,IApBE,CAqBlB,aAAc,IArBI,CAsBlB,SAAU,IAtBQ,CAuBlB,QAAS,IAvBS,CAwBlB,aAAc,IAxBI,CAyBlB,WAAY,IAzBM,CA0BlB,MAAO,IA1BW,CA2BlB,YAAa,IA3BK,CA4BlB,gBAAiB,IA5BC,CAApB,C;;;;;;ACxUAnsE,MAAM,CAACC,OAAP,CAAiB,CACf,MAAOypC,mBAAO,CAAC,GAAD,CADC,CAEf,SAAUA,mBAAO,CAAC,GAAD,CAFF,CAGf,QAASA,mBAAO,CAAC,GAAD,CAHD,CAIf,QAASA,mBAAO,CAAC,GAAD,CAJD,CAKf,UAAWA,mBAAO,CAAC,EAAD,CALH,CAMf,UAAWA,mBAAO,CAAC,CAAD,CANH,CAOf,UAAWA,mBAAO,CAAC,GAAD,CAPH,CAQf,aAAcA,mBAAO,CAAC,EAAD,CARN,CASf,YAAaA,mBAAO,CAAC,GAAD,CATL,CAUf,WAAYA,mBAAO,CAAC,GAAD,CAVJ,CAWf,OAAQA,mBAAO,CAAC,EAAD,CAXA,CAYf,QAASA,mBAAO,CAAC,GAAD,CAZD,CAaf,YAAaA,mBAAO,CAAC,EAAD,CAbL,CAcf,SAAUA,mBAAO,CAAC,GAAD,CAdF,CAAjB,C;;;;;;ACAA,GAAIoU,WAAU,CAAGpU,mBAAO,CAAC,EAAD,CAAxB,CAGA,GAAI+rB,cAAa,CAAG,GAApB,CAmBA,QAAStX,IAAT,CAAavhC,IAAb,CAAmBlE,CAAnB,CAAsB+mC,KAAtB,CAA6B,CAC3B/mC,CAAC,CAAG+mC,KAAK,CAAG75C,SAAH,CAAe8S,CAAxB,CACAA,CAAC,CAAIkE,IAAI,EAAIlE,CAAC,EAAI,IAAd,CAAsBkE,IAAI,CAAClZ,MAA3B,CAAoCgV,CAAxC,CACA,MAAOolC,WAAU,CAAClhC,IAAD,CAAO64C,aAAP,CAAsB7vD,SAAtB,CAAiCA,SAAjC,CAA4CA,SAA5C,CAAuDA,SAAvD,CAAkE8S,CAAlE,CAAjB,CACD,CAED1Y,MAAM,CAACC,OAAP,CAAiBk+C,GAAjB,C;;;;;;ArHZA,QAAShS,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;AsHpBA,GAAIsS,WAAU,CAAG/U,mBAAO,CAAC,EAAD,CAAxB,CACIvwB,IAAI,CAAGuwB,mBAAO,CAAC,EAAD,CADlB,CAIA,GAAI8T,eAAc,CAAG,CAArB,CAYA,QAASR,WAAT,CAAoBpgC,IAApB,CAA0BmhC,OAA1B,CAAmC9S,OAAnC,CAA4C,CAC1C,GACI3kC,KAAI,CAAGm4C,UAAU,CAAC7hC,IAAD,CADrB,CAGA,QAASg5C,QAAT,EAAmB,CACjB,GAAIxyD,GAAE,CAAI,MAAQ,OAAS+V,IAAjB,EAAyB,eAAgBy8C,QAA1C,CAAqDtvD,IAArD,CAA4DsW,IAArE,CACA,MAAOxZ,GAAE,CAACmB,KAAH,CALIw5C,OAAO,CAAGP,cAKL,CAASvS,OAAT,CAAmB,IAA5B,CAAkCzmC,SAAlC,CAAP,CACD,CACD,MAAOoxD,QAAP,CACD,CAED51D,MAAM,CAACC,OAAP,CAAiB+8C,UAAjB,C;;;;;;AC1BA,GAAI/B,WAAU,CAAG,MAAOn7C,OAAP,EAAiB,QAAjB,EAA6BA,MAA7B,EAAuCA,MAAM,CAACW,MAAP,GAAkBA,MAAzD,EAAmEX,MAApF,CAEAE,MAAM,CAACC,OAAP,CAAiBg7C,UAAjB,C;;;;;;ACHA,GAAI12C,MAAK,CAAGmlC,mBAAO,CAAC,EAAD,CAAnB,CACI+U,UAAU,CAAG/U,mBAAO,CAAC,EAAD,CADxB,CAEIwT,YAAY,CAAGxT,mBAAO,CAAC,EAAD,CAF1B,CAGI2rB,aAAa,CAAG3rB,mBAAO,CAAC,EAAD,CAH3B,CAII4rB,SAAS,CAAG5rB,mBAAO,CAAC,EAAD,CAJvB,CAKI8rB,cAAc,CAAG9rB,mBAAO,CAAC,EAAD,CAL5B,CAMIvwB,IAAI,CAAGuwB,mBAAO,CAAC,EAAD,CANlB,CAiBA,QAASuT,YAAT,CAAqBrgC,IAArB,CAA2BmhC,OAA3B,CAAoCK,KAApC,CAA2C,CACzC,GAAI93C,KAAI,CAAGm4C,UAAU,CAAC7hC,IAAD,CAArB,CAEA,QAASg5C,QAAT,EAAmB,CACjB,GAAIlyD,OAAM,CAAGc,SAAS,CAACd,MAAvB,CACIgQ,IAAI,CAAGhO,KAAK,CAAChC,MAAD,CADhB,CAEIqW,KAAK,CAAGrW,MAFZ,CAGIwoC,WAAW,CAAGopB,SAAS,CAACM,OAAD,CAH3B,CAKA,MAAO77C,KAAK,EAAZ,CAAgB,CACdrG,IAAI,CAACqG,KAAD,CAAJ,CAAcvV,SAAS,CAACuV,KAAD,CAAvB,CACD,CACD,GAAIkkC,QAAO,CAAIv6C,MAAM,CAAG,CAAT,EAAcgQ,IAAI,CAAC,CAAD,CAAJ,GAAYw4B,WAA1B,EAAyCx4B,IAAI,CAAChQ,MAAM,CAAG,CAAV,CAAJ,GAAqBwoC,WAA/D,CACV,EADU,CAEVspB,cAAc,CAAC9hD,IAAD,CAAOw4B,WAAP,CAFlB,CAIAxoC,MAAM,EAAIu6C,OAAO,CAACv6C,MAAlB,CACA,GAAIA,MAAM,CAAG06C,KAAb,CAAoB,CAClB,MAAOiX,cAAa,CAClBz4C,IADkB,CACZmhC,OADY,CACHb,YADG,CACW0Y,OAAO,CAAC1pB,WADnB,CACgCtmC,SADhC,CAElB8N,IAFkB,CAEZuqC,OAFY,CAEHr4C,SAFG,CAEQA,SAFR,CAEmBw4C,KAAK,CAAG16C,MAF3B,CAApB,CAGD,CACD,GAAIN,GAAE,CAAI,MAAQ,OAAS+V,IAAjB,EAAyB,eAAgBy8C,QAA1C,CAAqDtvD,IAArD,CAA4DsW,IAArE,CACA,MAAOrY,MAAK,CAACnB,EAAD,CAAK,IAAL,CAAWsQ,IAAX,CAAZ,CACD,CACD,MAAOkiD,QAAP,CACD,CAED51D,MAAM,CAACC,OAAP,CAAiBg9C,WAAjB,C;;;;;;AC5CA,GAAI9S,UAAS,CAAGrkC,IAAI,CAAC0tB,GAArB,CAaA,QAAS0hC,YAAT,CAAqBxhD,IAArB,CAA2BsqC,QAA3B,CAAqCC,OAArC,CAA8C0X,SAA9C,CAAyD,CACvD,GAAI8X,UAAS,CAAG,CAAC,CAAjB,CACIC,UAAU,CAAGh6D,IAAI,CAAChQ,MADtB,CAEIiqE,aAAa,CAAG1vB,OAAO,CAACv6C,MAF5B,CAGIkqE,SAAS,CAAG,CAAC,CAHjB,CAIIC,UAAU,CAAG7vB,QAAQ,CAACt6C,MAJ1B,CAKIoqE,WAAW,CAAG3jC,SAAS,CAACujC,UAAU,CAAGC,aAAd,CAA6B,CAA7B,CAL3B,CAMIh7D,MAAM,CAAGjN,KAAK,CAACmoE,UAAU,CAAGC,WAAd,CANlB,CASA,MAAO,EAAEF,SAAF,CAAcC,UAArB,CAAiC,CAC/Bl7D,MAAM,CAACi7D,SAAD,CAAN,CAAoB5vB,QAAQ,CAAC4vB,SAAD,CAA5B,CACD,CACD,MAAO,EAAEH,SAAF,CAAcE,aAArB,CAAoC,CAClC,GANgB,CAAChY,SAMb,EAAe8X,SAAS,CAAGC,UAA/B,CAA2C,CACzC/6D,MAAM,CAACsrC,OAAO,CAACwvB,SAAD,CAAR,CAAN,CAA6B/5D,IAAI,CAAC+5D,SAAD,CAAjC,CACD,CACF,CACD,MAAOK,WAAW,EAAlB,CAAsB,CACpBn7D,MAAM,CAACi7D,SAAS,EAAV,CAAN,CAAsBl6D,IAAI,CAAC+5D,SAAS,EAAV,CAA1B,CACD,CACD,MAAO96D,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBi1D,WAAjB,C;;;;;;ACrCA,GAAI/qB,UAAS,CAAGrkC,IAAI,CAAC0tB,GAArB,CAaA,QAAS2hC,iBAAT,CAA0BzhD,IAA1B,CAAgCsqC,QAAhC,CAA0CC,OAA1C,CAAmD0X,SAAnD,CAA8D,CAC5D,GAAI8X,UAAS,CAAG,CAAC,CAAjB,CACIC,UAAU,CAAGh6D,IAAI,CAAChQ,MADtB,CAEIqqE,YAAY,CAAG,CAAC,CAFpB,CAGIJ,aAAa,CAAG1vB,OAAO,CAACv6C,MAH5B,CAIIsqE,UAAU,CAAG,CAAC,CAJlB,CAKIC,WAAW,CAAGjwB,QAAQ,CAACt6C,MAL3B,CAMIoqE,WAAW,CAAG3jC,SAAS,CAACujC,UAAU,CAAGC,aAAd,CAA6B,CAA7B,CAN3B,CAOIh7D,MAAM,CAAGjN,KAAK,CAACooE,WAAW,CAAGG,WAAf,CAPlB,CAUA,MAAO,EAAER,SAAF,CAAcK,WAArB,CAAkC,CAChCn7D,MAAM,CAAC86D,SAAD,CAAN,CAAoB/5D,IAAI,CAAC+5D,SAAD,CAAxB,CACD,CACD,GAAItmC,OAAM,CAAGsmC,SAAb,CACA,MAAO,EAAEO,UAAF,CAAeC,WAAtB,CAAmC,CACjCt7D,MAAM,CAACw0B,MAAM,CAAG6mC,UAAV,CAAN,CAA8BhwB,QAAQ,CAACgwB,UAAD,CAAtC,CACD,CACD,MAAO,EAAED,YAAF,CAAiBJ,aAAxB,CAAuC,CACrC,GAVgB,CAAChY,SAUb,EAAe8X,SAAS,CAAGC,UAA/B,CAA2C,CACzC/6D,MAAM,CAACw0B,MAAM,CAAG8W,OAAO,CAAC8vB,YAAD,CAAjB,CAAN,CAAyCr6D,IAAI,CAAC+5D,SAAS,EAAV,CAA7C,CACD,CACF,CACD,MAAO96D,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBk1D,gBAAjB,C;;;;;;AChCA,QAASC,aAAT,CAAsBtiB,KAAtB,CAA6B5G,WAA7B,CAA0C,CACxC,GAAIxoC,OAAM,CAAGovC,KAAK,CAACpvC,MAAnB,CACIiP,MAAM,CAAG,CADb,CAGA,MAAOjP,MAAM,EAAb,CAAiB,CACf,GAAIovC,KAAK,CAACpvC,MAAD,CAAL,GAAkBwoC,WAAtB,CAAmC,CACjC,EAAEv5B,MAAF,CACD,CACF,CACD,MAAOA,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBm1D,YAAjB,C;;;;;;ACpBA,GAAI/U,UAAS,CAAG3W,mBAAO,CAAC,EAAD,CAAvB,CACImV,OAAO,CAAGnV,mBAAO,CAAC,EAAD,CADrB,CAIA,GAAIU,UAAS,CAAGtkC,IAAI,CAACukC,GAArB,CAYA,QAASkrB,QAAT,CAAiBziB,KAAjB,CAAwB6M,OAAxB,CAAiC,CAC/B,GAAIuuB,UAAS,CAAGp7B,KAAK,CAACpvC,MAAtB,CACIA,MAAM,CAAG0mC,SAAS,CAACuV,OAAO,CAACj8C,MAAT,CAAiBwqE,SAAjB,CADtB,CAEIC,QAAQ,CAAG9tB,SAAS,CAACvN,KAAD,CAFxB,CAIA,MAAOpvC,MAAM,EAAb,CAAiB,CACf,GAAIqW,MAAK,CAAG4lC,OAAO,CAACj8C,MAAD,CAAnB,CACAovC,KAAK,CAACpvC,MAAD,CAAL,CAAgBm7C,OAAO,CAAC9kC,KAAD,CAAQm0D,SAAR,CAAP,CAA4BC,QAAQ,CAACp0D,KAAD,CAApC,CAA8CnU,SAA9D,CACD,CACD,MAAOktC,MAAP,CACD,CAED9yC,MAAM,CAACC,OAAP,CAAiBs1D,OAAjB,C;;;;;;AC5BA,GAAIhxD,MAAK,CAAGmlC,mBAAO,CAAC,EAAD,CAAnB,CACI+U,UAAU,CAAG/U,mBAAO,CAAC,EAAD,CADxB,CAEIvwB,IAAI,CAAGuwB,mBAAO,CAAC,EAAD,CAFlB,CAKA,GAAI8T,eAAc,CAAG,CAArB,CAcA,QAASL,cAAT,CAAuBvgC,IAAvB,CAA6BmhC,OAA7B,CAAsC9S,OAAtC,CAA+C+S,QAA/C,CAAyD,CACvD,GACI13C,KAAI,CAAGm4C,UAAU,CAAC7hC,IAAD,CADrB,CAGA,QAASg5C,QAAT,EAAmB,CACjB,GAAI6X,UAAS,CAAG,CAAC,CAAjB,CACIC,UAAU,CAAGlpE,SAAS,CAACd,MAD3B,CAEIkqE,SAAS,CAAG,CAAC,CAFjB,CAGIC,UAAU,CAAG7vB,QAAQ,CAACt6C,MAH1B,CAIIgQ,IAAI,CAAGhO,KAAK,CAACmoE,UAAU,CAAGH,UAAd,CAJhB,CAKItqE,EAAE,CAAI,MAAQ,OAAS+V,IAAjB,EAAyB,eAAgBy8C,QAA1C,CAAqDtvD,IAArD,CAA4DsW,IALrE,CAOA,MAAO,EAAEgxD,SAAF,CAAcC,UAArB,CAAiC,CAC/Bn6D,IAAI,CAACk6D,SAAD,CAAJ,CAAkB5vB,QAAQ,CAAC4vB,SAAD,CAA1B,CACD,CACD,MAAOF,UAAU,EAAjB,CAAqB,CACnBh6D,IAAI,CAACk6D,SAAS,EAAV,CAAJ,CAAoBppE,SAAS,CAAC,EAAEipE,SAAH,CAA7B,CACD,CACD,MAAOlpE,MAAK,CAACnB,EAAD,CAjBD26C,OAAO,CAAGP,cAiBJ,CAASvS,OAAT,CAAmB,IAAxB,CAA8Bv3B,IAA9B,CAAZ,CACD,CACD,MAAOkiD,QAAP,CACD,CAED51D,MAAM,CAACC,OAAP,CAAiBk9C,aAAjB,C;;;;;;A7H1BA,QAAShR,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;A8HpBA,GAAIqqB,WAAU,CAAG9sB,mBAAO,CAAC,EAAD,CAAxB,CACIl8B,IAAI,CAAGk8B,mBAAO,CAAC,EAAD,CADlB,CAYA,QAAS0kC,WAAT,CAAoBtzD,MAApB,CAA4B6H,MAA5B,CAAoC,CAClC,MAAO7H,OAAM,EAAI07C,UAAU,CAAC7zC,MAAD,CAASnV,IAAI,CAACmV,MAAD,CAAb,CAAuB7H,MAAvB,CAA3B,CACD,CAED9a,MAAM,CAACC,OAAP,CAAiBmuE,UAAjB,C;;;;;;AChBA,GAAIC,UAAS,CAAG3kC,mBAAO,CAAC,GAAD,CAAvB,CAEA,GAAI1oB,eAAc,CAAI,UAAW,CAC/B,GAAI,CACF,GAAIpE,KAAI,CAAGyxD,SAAS,CAAC5tE,MAAD,CAAS,gBAAT,CAApB,CACAmc,IAAI,CAAC,EAAD,CAAK,EAAL,CAAS,EAAT,CAAJ,CACA,MAAOA,KAAP,CACD,CAAC,MAAO3Q,CAAP,CAAU,CAAE,CACf,CANqB,EAAtB,CAQAjM,MAAM,CAACC,OAAP,CAAiB+gB,cAAjB,C;;;;;;ACFA,QAASstD,SAAT,CAAkBxzD,MAAlB,CAA0BpN,GAA1B,CAA+B,CAC7B,MAAOoN,OAAM,EAAI,IAAV,CAAiBlV,SAAjB,CAA6BkV,MAAM,CAACpN,GAAD,CAA1C,CACD,CAED1N,MAAM,CAACC,OAAP,CAAiBquE,QAAjB,C;;;;;;ACZA,GAAI1Q,UAAS,CAAGl0B,mBAAO,CAAC,EAAD,CAAvB,CAGA,GAAIo0B,mBAAkB,CAAG,CAAzB,CA4BA,QAASx4D,MAAT,CAAe8B,KAAf,CAAsB,CACpB,MAAOw2D,UAAS,CAACx2D,KAAD,CAAQ02D,kBAAR,CAAhB,CACD,CAED99D,MAAM,CAACC,OAAP,CAAiBqF,KAAjB,C;;;;;;ACnCA,GAAIw4C,WAAU,CAAGpU,mBAAO,CAAC,EAAD,CAAxB,CAGA,GAAIgU,gBAAe,CAAG,CAAtB,CA2CA,QAAS6sB,MAAT,CAAe3tD,IAAf,CAAqBwhC,KAArB,CAA4BqB,KAA5B,CAAmC,CACjCrB,KAAK,CAAGqB,KAAK,CAAG75C,SAAH,CAAew4C,KAA5B,CACA,GAAIzrC,OAAM,CAAGmrC,UAAU,CAAClhC,IAAD,CAAO8gC,eAAP,CAAwB93C,SAAxB,CAAmCA,SAAnC,CAA8CA,SAA9C,CAAyDA,SAAzD,CAAoEA,SAApE,CAA+Ew4C,KAA/E,CAAvB,CACAzrC,MAAM,CAACu5B,WAAP,CAAqBq+B,KAAK,CAACr+B,WAA3B,CACA,MAAOv5B,OAAP,CACD,CAGD43D,KAAK,CAACr+B,WAAN,CAAoB,EAApB,CAEAlsC,MAAM,CAACC,OAAP,CAAiBsqE,KAAjB,C;;;;;;ACxDA,GAAI/pB,WAAU,CAAG9W,mBAAO,CAAC,EAAD,CAAxB,CACI8S,YAAY,CAAG9S,mBAAO,CAAC,EAAD,CAD1B,CAEIjkC,aAAa,CAAGikC,mBAAO,CAAC,GAAD,CAF3B,CAKA,GAAI6kC,UAAS,CAAG,uBAAhB,CACIC,QAAQ,CAAG,gBADf,CAqBA,QAASrD,QAAT,CAAiB/jE,KAAjB,CAAwB,CACtB,GAAI,CAACo1C,YAAY,CAACp1C,KAAD,CAAjB,CAA0B,CACxB,MAAO,MAAP,CACD,CACD,GAAI6I,IAAG,CAAGuwC,UAAU,CAACp5C,KAAD,CAApB,CACA,MAAO6I,IAAG,EAAIu+D,QAAP,EAAmBv+D,GAAG,EAAIs+D,SAA1B,EACJ,MAAOnnE,MAAK,CAACiY,OAAb,EAAwB,QAAxB,EAAoC,MAAOjY,MAAK,CAACjC,IAAb,EAAqB,QAAzD,EAAqE,CAACM,aAAa,CAAC2B,KAAD,CADtF,CAED,CAEDpH,MAAM,CAACC,OAAP,CAAiBkrE,OAAjB,C;;;;;;ACnCA,GAAI3qB,WAAU,CAAG9W,mBAAO,CAAC,EAAD,CAAxB,CACIyS,YAAY,CAAGzS,mBAAO,CAAC,EAAD,CAD1B,CAEI8S,YAAY,CAAG9S,mBAAO,CAAC,EAAD,CAF1B,CAKA,GAAI+kC,UAAS,CAAG,iBAAhB,CAGA,GAAIC,UAAS,CAAGvzB,QAAQ,CAAC53C,SAAzB,CACIuwC,WAAW,CAAGrzC,MAAM,CAAC8C,SADzB,CAIA,GAAIorE,aAAY,CAAGD,SAAS,CAAC1tE,QAA7B,CAGA,GAAIE,eAAc,CAAG4yC,WAAW,CAAC5yC,cAAjC,CAGA,GAAI0tE,iBAAgB,CAAGD,YAAY,CAACttE,IAAb,CAAkBZ,MAAlB,CAAvB,CA8BA,QAASgF,cAAT,CAAuB2B,KAAvB,CAA8B,CAC5B,GAAI,CAACo1C,YAAY,CAACp1C,KAAD,CAAb,EAAwBo5C,UAAU,CAACp5C,KAAD,CAAV,EAAqBqnE,SAAjD,CAA4D,CAC1D,MAAO,MAAP,CACD,CACD,GAAIpoE,MAAK,CAAG81C,YAAY,CAAC/0C,KAAD,CAAxB,CACA,GAAIf,KAAK,GAAK,IAAd,CAAoB,CAClB,MAAO,KAAP,CACD,CACD,GAAIC,KAAI,CAAGpF,cAAc,CAACG,IAAf,CAAoBgF,KAApB,CAA2B,aAA3B,GAA6CA,KAAK,CAAC5C,WAA9D,CACA,MAAO,OAAO6C,KAAP,EAAe,UAAf,EAA6BA,IAAI,WAAYA,KAA7C,EACLqoE,YAAY,CAACttE,IAAb,CAAkBiF,IAAlB,GAA2BsoE,gBAD7B,CAED,CAED5uE,MAAM,CAACC,OAAP,CAAiBwF,aAAjB,C;;;;;;AC7DA,GAAI8tC,OAAM,CAAG7J,mBAAO,CAAC,EAAD,CAApB,CACI8S,YAAY,CAAG9S,mBAAO,CAAC,EAAD,CAD1B,CAIA,GAAImlC,WAAU,CAAG,kBAAjB,CAmBA,QAASzD,UAAT,CAAmBhkE,KAAnB,CAA0B,CACxB,MAAOo1C,aAAY,CAACp1C,KAAD,CAAZ,EAAuBmsC,MAAM,CAACnsC,KAAD,CAAN,EAAiBynE,UAA/C,CACD,CAED7uE,MAAM,CAACC,OAAP,CAAiBmrE,SAAjB,C;;;;;;AC3BA,GAAIxN,UAAS,CAAGl0B,mBAAO,CAAC,EAAD,CAAvB,CACI2K,YAAY,CAAG3K,mBAAO,CAAC,CAAD,CAD1B,CAIA,GAAIm0B,gBAAe,CAAG,CAAtB,CA4CA,QAAS7qB,SAAT,CAAkBp2B,IAAlB,CAAwB,CACtB,MAAOy3B,aAAY,CAAC,MAAOz3B,KAAP,EAAe,UAAf,CAA4BA,IAA5B,CAAmCghD,SAAS,CAAChhD,IAAD,CAAOihD,eAAP,CAA7C,CAAnB,CACD,CAED79D,MAAM,CAACC,OAAP,CAAiB+yC,QAAjB,C;;;;;;ACpDA,GAAI8K,WAAU,CAAGpU,mBAAO,CAAC,EAAD,CAAxB,CACImX,QAAQ,CAAGnX,mBAAO,CAAC,EAAD,CADtB,CAIA,GAAIolC,gBAAe,CAAG,GAAtB,CAwBA,GAAIpE,MAAK,CAAG7pB,QAAQ,CAAC,SAASjkC,IAAT,CAAe+iC,OAAf,CAAwB,CAC3C,MAAO7B,WAAU,CAAClhC,IAAD,CAAOkyD,eAAP,CAAwBlpE,SAAxB,CAAmCA,SAAnC,CAA8CA,SAA9C,CAAyD+5C,OAAzD,CAAjB,CACD,CAFmB,CAApB,CAIA3/C,MAAM,CAACC,OAAP,CAAiByqE,KAAjB,C;;;;;;ACxBA,QAAS3rB,UAAT,CAAmBjM,KAAnB,CAA0BvuB,MAA1B,CAAkC,CAChC,GAAIxK,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAG6gB,MAAM,CAAC7gB,MADpB,CAEIyjC,MAAM,CAAG2L,KAAK,CAACpvC,MAFnB,CAIA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvBovC,KAAK,CAAC3L,MAAM,CAAGptB,KAAV,CAAL,CAAwBwK,MAAM,CAACxK,KAAD,CAA9B,CACD,CACD,MAAO+4B,MAAP,CACD,CAED9yC,MAAM,CAACC,OAAP,CAAiB8+C,SAAjB,C;;;;;;ACnBA,GAAIz3C,OAAM,CAAGoiC,mBAAO,CAAC,GAAD,CAApB,CACI8J,WAAW,CAAG9J,mBAAO,CAAC,EAAD,CADzB,CAEI/jC,OAAO,CAAG+jC,mBAAO,CAAC,CAAD,CAFrB,CAKA,GAAIqlC,iBAAgB,CAAGznE,MAAM,CAAGA,MAAM,CAAC0nE,kBAAV,CAA+BppE,SAA5D,CASA,QAASo5C,cAAT,CAAuB53C,KAAvB,CAA8B,CAC5B,MAAOzB,QAAO,CAACyB,KAAD,CAAP,EAAkBosC,WAAW,CAACpsC,KAAD,CAA7B,EACL,CAAC,EAAE2nE,gBAAgB,EAAI3nE,KAApB,EAA6BA,KAAK,CAAC2nE,gBAAD,CAApC,CADH,CAED,CAED/uE,MAAM,CAACC,OAAP,CAAiB++C,aAAjB,C;;;;;;ACnBA,GAAI7lC,KAAI,CAAGuwB,mBAAO,CAAC,EAAD,CAAlB,CAGA,GAAIpiC,OAAM,CAAG6R,IAAI,CAAC7R,MAAlB,CAEAtH,MAAM,CAACC,OAAP,CAAiBqH,MAAjB,C;;;;;;ACLA,GAAIyrC,SAAQ,CAAGrJ,mBAAO,CAAC,EAAD,CAAtB,CACI2W,SAAS,CAAG3W,mBAAO,CAAC,EAAD,CADvB,CAEI/jC,OAAO,CAAG+jC,mBAAO,CAAC,CAAD,CAFrB,CAGIulC,QAAQ,CAAGvlC,mBAAO,CAAC,EAAD,CAHtB,CAIIgT,YAAY,CAAGhT,mBAAO,CAAC,EAAD,CAJ1B,CAKIquB,KAAK,CAAGruB,mBAAO,CAAC,EAAD,CALnB,CAMI1oC,QAAQ,CAAG0oC,mBAAO,CAAC,EAAD,CANtB,CAyBA,QAAS2hC,OAAT,CAAgBjkE,KAAhB,CAAuB,CACrB,GAAIzB,OAAO,CAACyB,KAAD,CAAX,CAAoB,CAClB,MAAO2rC,SAAQ,CAAC3rC,KAAD,CAAQ2wD,KAAR,CAAf,CACD,CACD,MAAOkX,SAAQ,CAAC7nE,KAAD,CAAR,CAAkB,CAACA,KAAD,CAAlB,CAA4Bi5C,SAAS,CAAC3D,YAAY,CAAC17C,QAAQ,CAACoG,KAAD,CAAT,CAAb,CAA5C,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBorE,MAAjB,C;;;;;;A3IhBA,QAASl/B,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;A4IpBA,GAAIoR,UAAS,CAAG7T,mBAAO,CAAC,EAAD,CAAvB,CAGA,GAAIE,gBAAe,CAAG,qBAAtB,CAmBA,QAASra,OAAT,CAAgB7W,CAAhB,CAAmBkE,IAAnB,CAAyB,CACvB,GAAIjK,OAAJ,CACA,GAAI,MAAOiK,KAAP,EAAe,UAAnB,CAA+B,CAC7B,KAAM,IAAIoB,UAAJ,CAAc4rB,eAAd,CAAN,CACD,CACDlxB,CAAC,CAAG6kC,SAAS,CAAC7kC,CAAD,CAAb,CACA,MAAO,WAAW,CAChB,GAAI,EAAEA,CAAF,CAAM,CAAV,CAAa,CACX/F,MAAM,CAAGiK,IAAI,CAACrY,KAAL,CAAW,IAAX,CAAiBC,SAAjB,CAAT,CACD,CACD,GAAIkU,CAAC,EAAI,CAAT,CAAY,CACVkE,IAAI,CAAGhX,SAAP,CACD,CACD,MAAO+M,OAAP,CACD,CARD,CASD,CAED3S,MAAM,CAACC,OAAP,CAAiBsvB,MAAjB,C;;;;;;ACvCAvvB,MAAM,CAACC,OAAP,CAAiB,CACf,MAAO,KADQ,CAEf,QAAS,KAFM,CAGf,QAAS,KAHM,CAIf,YAAa,KAJE,CAKf,QAAS,KALM,CAAjB,C;;;;;;ACAA,GAAIm3D,eAAc,CAAG1tB,mBAAO,CAAC,EAAD,CAA5B,CACI6tB,eAAe,CAAG7tB,mBAAO,CAAC,EAAD,CAD7B,CAEI+tB,YAAY,CAAG/tB,mBAAO,CAAC,GAAD,CAF1B,CAGIguB,YAAY,CAAGhuB,mBAAO,CAAC,GAAD,CAH1B,CAIIiuB,YAAY,CAAGjuB,mBAAO,CAAC,GAAD,CAJ1B,CAaA,QAASwlC,UAAT,CAAmBC,OAAnB,CAA4B,CAC1B,GAAIp1D,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGyrE,OAAO,EAAI,IAAX,CAAkB,CAAlB,CAAsBA,OAAO,CAACzrE,MAD3C,CAGA,KAAK0rE,KAAL,GACA,MAAO,EAAEr1D,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI2rE,MAAK,CAAGF,OAAO,CAACp1D,KAAD,CAAnB,CACA,KAAKmH,GAAL,CAASmuD,KAAK,CAAC,CAAD,CAAd,CAAmBA,KAAK,CAAC,CAAD,CAAxB,EACD,CACF,CAGDH,SAAS,CAAC3rE,SAAV,CAAoB6rE,KAApB,CAA4BhY,cAA5B,CACA8X,SAAS,CAAC3rE,SAAV,CAAoB,QAApB,EAAgCg0D,eAAhC,CACA2X,SAAS,CAAC3rE,SAAV,CAAoBK,GAApB,CAA0B6zD,YAA1B,CACAyX,SAAS,CAAC3rE,SAAV,CAAoBoW,GAApB,CAA0B+9C,YAA1B,CACAwX,SAAS,CAAC3rE,SAAV,CAAoB2d,GAApB,CAA0By2C,YAA1B,CAEA33D,MAAM,CAACC,OAAP,CAAiBivE,SAAjB,C;;;;;;ACrBA,QAASpuB,gBAAT,CAAyBhO,KAAzB,CAAgCxwB,MAAhC,CAAwC0wB,QAAxC,CAAkDqJ,WAAlD,CAA+D,CAC7D,GAAItiC,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MADvC,CAGA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI0D,MAAK,CAAG0rC,KAAK,CAAC/4B,KAAD,CAAjB,CACAuI,MAAM,CAAC+5B,WAAD,CAAcj1C,KAAd,CAAqB4rC,QAAQ,CAAC5rC,KAAD,CAA7B,CAAsC0rC,KAAtC,CAAN,CACD,CACD,MAAOuJ,YAAP,CACD,CAEDr8C,MAAM,CAACC,OAAP,CAAiB6gD,eAAjB,C;;;;;;AAXA,QAASA,gBAAT,CAAyBhO,KAAzB,CAAgCxwB,MAAhC,CAAwC0wB,QAAxC,CAAkDqJ,WAAlD,CAA+D,CAC7D,GAAItiC,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MADvC,CAGA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI0D,MAAK,CAAG0rC,KAAK,CAAC/4B,KAAD,CAAjB,CACAuI,MAAM,CAAC+5B,WAAD,CAAcj1C,KAAd,CAAqB4rC,QAAQ,CAAC5rC,KAAD,CAA7B,CAAsC0rC,KAAtC,CAAN,CACD,CACD,MAAOuJ,YAAP,CACD,CAEDr8C,MAAM,CAACC,OAAP,CAAiB6gD,eAAjB,C;;;;;;ACrBA,GAAIhV,SAAQ,CAAGpC,mBAAO,CAAC,EAAD,CAAtB,CACI4C,cAAc,CAAG5C,mBAAO,CAAC,EAAD,CAD5B,CAUA,QAAS6xB,eAAT,CAAwB+T,QAAxB,CAAkC,CAChC,MAAOxjC,SAAQ,CAAC,SAAShxB,MAAT,CAAiBy0D,OAAjB,CAA0B,CACxC,GAAIx1D,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAG6rE,OAAO,CAAC7rE,MADrB,CAEI+yD,UAAU,CAAG/yD,MAAM,CAAG,CAAT,CAAa6rE,OAAO,CAAC7rE,MAAM,CAAG,CAAV,CAApB,CAAmCkC,SAFpD,CAGI65C,KAAK,CAAG/7C,MAAM,CAAG,CAAT,CAAa6rE,OAAO,CAAC,CAAD,CAApB,CAA0B3pE,SAHtC,CAKA6wD,UAAU,CAAI6Y,QAAQ,CAAC5rE,MAAT,CAAkB,CAAlB,EAAuB,MAAO+yD,WAAP,EAAqB,UAA7C,EACR/yD,MAAM,GAAI+yD,UADF,EAET7wD,SAFJ,CAIA,GAAI65C,KAAK,EAAInT,cAAc,CAACijC,OAAO,CAAC,CAAD,CAAR,CAAaA,OAAO,CAAC,CAAD,CAApB,CAAyB9vB,KAAzB,CAA3B,CAA4D,CAC1DgX,UAAU,CAAG/yD,MAAM,CAAG,CAAT,CAAakC,SAAb,CAAyB6wD,UAAtC,CACA/yD,MAAM,CAAG,CAAT,CACD,CACDoX,MAAM,CAAGra,MAAM,CAACqa,MAAD,CAAf,CACA,MAAO,EAAEf,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAIif,OAAM,CAAG4sD,OAAO,CAACx1D,KAAD,CAApB,CACA,GAAI4I,MAAJ,CAAY,CACV2sD,QAAQ,CAACx0D,MAAD,CAAS6H,MAAT,CAAiB5I,KAAjB,CAAwB08C,UAAxB,CAAR,CACD,CACF,CACD,MAAO37C,OAAP,CACD,CAtBc,CAAf,CAuBD,CAED9a,MAAM,CAACC,OAAP,CAAiBs7D,cAAjB,C;;;;;;AC3BA,QAASiU,aAAT,CAAsB10D,MAAtB,CAA8B,CAC5B,GAAInI,OAAM,CAAG,EAAb,CACA,GAAImI,MAAM,EAAI,IAAd,CAAoB,CAClB,IAAK,GAAIpN,IAAT,GAAgBjN,OAAM,CAACqa,MAAD,CAAtB,CAAgC,CAC9BnI,MAAM,CAAC9R,IAAP,CAAY6M,GAAZ,EACD,CACF,CACD,MAAOiF,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBuvE,YAAjB,C;;;;;;ACnBA,GAAIl7B,WAAU,CAAG5K,mBAAO,CAAC,GAAD,CAAxB,CACI+lC,KAAK,CAAG/lC,mBAAO,CAAC,GAAD,CADnB,CAYA,QAASgyB,SAAT,CAAkB5gD,MAAlB,CAA0Bg9C,KAA1B,CAAiC,CAC/B,MAAOxjB,WAAU,CAACx5B,MAAD,CAASg9C,KAAT,CAAgB,SAAS1wD,KAAT,CAAgBstC,IAAhB,CAAsB,CACrD,MAAO+6B,MAAK,CAAC30D,MAAD,CAAS45B,IAAT,CAAZ,CACD,CAFgB,CAAjB,CAGD,CAED10C,MAAM,CAACC,OAAP,CAAiBy7D,QAAjB,C;;;;;;AClBA,GAAI/1D,QAAO,CAAG+jC,mBAAO,CAAC,CAAD,CAArB,CACIulC,QAAQ,CAAGvlC,mBAAO,CAAC,EAAD,CADtB,CAIA,GAAIgmC,aAAY,CAAG,kDAAnB,CACIC,aAAa,CAAG,OADpB,CAWA,QAASlzB,MAAT,CAAer1C,KAAf,CAAsB0T,MAAtB,CAA8B,CAC5B,GAAInV,OAAO,CAACyB,KAAD,CAAX,CAAoB,CAClB,MAAO,MAAP,CACD,CACD,GAAIxF,KAAI,CAAG,MAAOwF,MAAlB,CACA,GAAIxF,IAAI,EAAI,QAAR,EAAoBA,IAAI,EAAI,QAA5B,EAAwCA,IAAI,EAAI,SAAhD,EACAwF,KAAK,EAAI,IADT,EACiB6nE,QAAQ,CAAC7nE,KAAD,CAD7B,CACsC,CACpC,MAAO,KAAP,CACD,CACD,MAAOuoE,cAAa,CAAC1iE,IAAd,CAAmB7F,KAAnB,GAA6B,CAACsoE,YAAY,CAACziE,IAAb,CAAkB7F,KAAlB,CAA9B,EACJ0T,MAAM,EAAI,IAAV,EAAkB1T,KAAK,GAAI3G,OAAM,CAACqa,MAAD,CADpC,CAED,CAED9a,MAAM,CAACC,OAAP,CAAiBw8C,KAAjB,C;;;;;;AC5BA,GAAI8Z,YAAW,CAAG7sB,mBAAO,CAAC,EAAD,CAAzB,CACIiT,QAAQ,CAAGjT,mBAAO,CAAC,EAAD,CADtB,CAEImV,OAAO,CAAGnV,mBAAO,CAAC,EAAD,CAFrB,CAGIO,QAAQ,CAAGP,mBAAO,CAAC,EAAD,CAHtB,CAIIquB,KAAK,CAAGruB,mBAAO,CAAC,EAAD,CAJnB,CAgBA,QAASmuB,QAAT,CAAiB/8C,MAAjB,CAAyB45B,IAAzB,CAA+BttC,KAA/B,CAAsCqvD,UAAtC,CAAkD,CAChD,GAAI,CAACxsB,QAAQ,CAACnvB,MAAD,CAAb,CAAuB,CACrB,MAAOA,OAAP,CACD,CACD45B,IAAI,CAAGiI,QAAQ,CAACjI,IAAD,CAAO55B,MAAP,CAAf,CAEA,GAAIf,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGgxC,IAAI,CAAChxC,MADlB,CAGI6oE,MAAM,CAAGzxD,MAHb,CAKA,MAAOyxD,MAAM,EAAI,IAAV,EAAkB,EAAExyD,KAAF,CAAUrW,MAAnC,CAA2C,CACzC,GAAIgK,IAAG,CAAGqqD,KAAK,CAACrjB,IAAI,CAAC36B,KAAD,CAAL,CAAf,CACI48C,QAAQ,CAAGvvD,KADf,CAGA,GAAI2S,KAAK,EAPKrW,MAAM,CAAG,CAOvB,CAAwB,CACtB,GAAIkzD,SAAQ,CAAG2V,MAAM,CAAC7+D,GAAD,CAArB,CACAipD,QAAQ,CAAGF,UAAU,CAAGA,UAAU,CAACG,QAAD,CAAWlpD,GAAX,CAAgB6+D,MAAhB,CAAb,CAAuC3mE,SAA5D,CACA,GAAI+wD,QAAQ,GAAK/wD,SAAjB,CAA4B,CAC1B+wD,QAAQ,CAAG1sB,QAAQ,CAAC2sB,QAAD,CAAR,CACPA,QADO,CAEN/X,OAAO,CAACnK,IAAI,CAAC36B,KAAK,CAAG,CAAT,CAAL,CAAP,CAA2B,EAA3B,CAAgC,EAFrC,CAGD,CACF,CACDw8C,WAAW,CAACgW,MAAD,CAAS7+D,GAAT,CAAcipD,QAAd,CAAX,CACA4V,MAAM,CAAGA,MAAM,CAAC7+D,GAAD,CAAf,CACD,CACD,MAAOoN,OAAP,CACD,CAED9a,MAAM,CAACC,OAAP,CAAiB43D,OAAjB,C;;;;;;AC9CA,GAAI+X,UAAS,CAAGlmC,mBAAO,CAAC,GAAD,CAAvB,CACImmC,OAAO,CAAGnmC,mBAAO,CAAC,GAAD,CADrB,CA6BA,QAAS+lC,MAAT,CAAe30D,MAAf,CAAuB45B,IAAvB,CAA6B,CAC3B,MAAO55B,OAAM,EAAI,IAAV,EAAkB+0D,OAAO,CAAC/0D,MAAD,CAAS45B,IAAT,CAAek7B,SAAf,CAAhC,CACD,CAED5vE,MAAM,CAACC,OAAP,CAAiBwvE,KAAjB,C;;;;;;ACzBA,QAASG,UAAT,CAAmB90D,MAAnB,CAA2BpN,GAA3B,CAAgC,CAC9B,MAAOoN,OAAM,EAAI,IAAV,EAAkBpN,GAAG,GAAIjN,OAAM,CAACqa,MAAD,CAAtC,CACD,CAED9a,MAAM,CAACC,OAAP,CAAiB2vE,SAAjB,C;;;;;;ACZA,GAAIjzB,SAAQ,CAAGjT,mBAAO,CAAC,EAAD,CAAtB,CACI8J,WAAW,CAAG9J,mBAAO,CAAC,EAAD,CADzB,CAEI/jC,OAAO,CAAG+jC,mBAAO,CAAC,CAAD,CAFrB,CAGImV,OAAO,CAAGnV,mBAAO,CAAC,EAAD,CAHrB,CAIIsuB,QAAQ,CAAGtuB,mBAAO,CAAC,GAAD,CAJtB,CAKIquB,KAAK,CAAGruB,mBAAO,CAAC,EAAD,CALnB,CAgBA,QAASmmC,QAAT,CAAiB/0D,MAAjB,CAAyB45B,IAAzB,CAA+Bo7B,OAA/B,CAAwC,CACtCp7B,IAAI,CAAGiI,QAAQ,CAACjI,IAAD,CAAO55B,MAAP,CAAf,CAEA,GAAIf,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGgxC,IAAI,CAAChxC,MADlB,CAEIiP,MAAM,CAAG,KAFb,CAIA,MAAO,EAAEoH,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAIgK,IAAG,CAAGqqD,KAAK,CAACrjB,IAAI,CAAC36B,KAAD,CAAL,CAAf,CACA,GAAI,EAAEpH,MAAM,CAAGmI,MAAM,EAAI,IAAV,EAAkBg1D,OAAO,CAACh1D,MAAD,CAASpN,GAAT,CAApC,CAAJ,CAAwD,CACtD,MACD,CACDoN,MAAM,CAAGA,MAAM,CAACpN,GAAD,CAAf,CACD,CACD,GAAIiF,MAAM,EAAI,EAAEoH,KAAF,EAAWrW,MAAzB,CAAiC,CAC/B,MAAOiP,OAAP,CACD,CACDjP,MAAM,CAAGoX,MAAM,EAAI,IAAV,CAAiB,CAAjB,CAAqBA,MAAM,CAACpX,MAArC,CACA,MAAO,CAAC,CAACA,MAAF,EAAYs0D,QAAQ,CAACt0D,MAAD,CAApB,EAAgCm7C,OAAO,CAACnxC,GAAD,CAAMhK,MAAN,CAAvC,GACJiC,OAAO,CAACmV,MAAD,CAAP,EAAmB04B,WAAW,CAAC14B,MAAD,CAD1B,CAAP,CAED,CAED9a,MAAM,CAACC,OAAP,CAAiB4vE,OAAjB,C;;;;;;ACtCA,GAAIE,WAAU,CAAGrmC,mBAAO,CAAC,GAAD,CAAxB,CAwBA,GAAIsmC,KAAI,CAAGD,UAAU,EAArB,CAEA/vE,MAAM,CAACC,OAAP,CAAiB+vE,IAAjB,C;;;;;;AC1BA,GAAIC,cAAa,CAAGvmC,mBAAO,CAAC,GAAD,CAA3B,CACImX,QAAQ,CAAGnX,mBAAO,CAAC,EAAD,CADtB,CAEIhoB,OAAO,CAAGgoB,mBAAO,CAAC,EAAD,CAFrB,CAGIwmC,WAAW,CAAGxmC,mBAAO,CAAC,GAAD,CAHzB,CAII/jC,OAAO,CAAG+jC,mBAAO,CAAC,CAAD,CAJrB,CAKIqsB,UAAU,CAAGrsB,mBAAO,CAAC,EAAD,CALxB,CAQA,GAAIE,gBAAe,CAAG,qBAAtB,CAGA,GAAI8T,gBAAe,CAAG,CAAtB,CACIE,iBAAiB,CAAG,EADxB,CAEI6X,aAAa,CAAG,GAFpB,CAGIqZ,eAAe,CAAG,GAHtB,CAYA,QAASiB,WAAT,CAAoBI,SAApB,CAA+B,CAC7B,MAAOtvB,SAAQ,CAAC,SAASuvB,KAAT,CAAgB,CAC9B,GAAI1sE,OAAM,CAAG0sE,KAAK,CAAC1sE,MAAnB,CACIqW,KAAK,CAAGrW,MADZ,CAEI2sE,MAAM,CAAGJ,aAAa,CAAC1sE,SAAd,CAAwB+sE,IAFrC,CAIA,GAAIH,SAAJ,CAAe,CACbC,KAAK,CAACz1D,OAAN,GACD,CACD,MAAOZ,KAAK,EAAZ,CAAgB,CACd,GAAI6C,KAAI,CAAGwzD,KAAK,CAACr2D,KAAD,CAAhB,CACA,GAAI,MAAO6C,KAAP,EAAe,UAAnB,CAA+B,CAC7B,KAAM,IAAIoB,UAAJ,CAAc4rB,eAAd,CAAN,CACD,CACD,GAAIymC,MAAM,EAAI,CAACza,OAAX,EAAsBsa,WAAW,CAACtzD,IAAD,CAAX,EAAqB,SAA/C,CAA0D,CACxD,GAAIg5C,QAAO,CAAG,GAAIqa,cAAJ,CAAkB,EAAlB,CAAsB,IAAtB,CAAd,CACD,CACF,CACDl2D,KAAK,CAAG67C,OAAO,CAAG77C,KAAH,CAAWrW,MAA1B,CACA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvBkZ,IAAI,CAAGwzD,KAAK,CAACr2D,KAAD,CAAZ,CAEA,GAAIyuB,SAAQ,CAAG0nC,WAAW,CAACtzD,IAAD,CAA1B,CACIuE,IAAI,CAAGqnB,QAAQ,EAAI,SAAZ,CAAwB9mB,OAAO,CAAC9E,IAAD,CAA/B,CAAwChX,SADnD,CAGA,GAAIub,IAAI,EAAI40C,UAAU,CAAC50C,IAAI,CAAC,CAAD,CAAL,CAAlB,EACEA,IAAI,CAAC,CAAD,CAAJ,GAAYs0C,aAAa,CAAG/X,eAAhB,CAAkCE,iBAAlC,CAAsDkxB,eAAlE,CADF,EAEE,CAAC3tD,IAAI,CAAC,CAAD,CAAJ,CAAQzd,MAFX,EAEqByd,IAAI,CAAC,CAAD,CAAJ,EAAW,CAFpC,CAGM,CACJy0C,OAAO,CAAGA,OAAO,CAACsa,WAAW,CAAC/uD,IAAI,CAAC,CAAD,CAAL,CAAZ,CAAP,CAA8B5c,KAA9B,CAAoCqxD,OAApC,CAA6Cz0C,IAAI,CAAC,CAAD,CAAjD,CAAV,CACD,CALD,IAKO,CACLy0C,OAAO,CAAIh5C,IAAI,CAAClZ,MAAL,EAAe,CAAf,EAAoBqyD,UAAU,CAACn5C,IAAD,CAA/B,CACNg5C,OAAO,CAACptB,QAAD,CAAP,EADM,CAENotB,OAAO,CAAC0a,IAAR,CAAa1zD,IAAb,CAFJ,CAGD,CACF,CACD,MAAO,WAAW,CAChB,GAAIlJ,KAAI,CAAGlP,SAAX,CACI4C,KAAK,CAAGsM,IAAI,CAAC,CAAD,CADhB,CAGA,GAAIkiD,OAAO,EAAIliD,IAAI,CAAChQ,MAAL,EAAe,CAA1B,EAA+BiC,OAAO,CAACyB,KAAD,CAA1C,CAAmD,CACjD,MAAOwuD,QAAO,CAAC2a,KAAR,CAAcnpE,KAAd,EAAqBA,KAArB,EAAP,CACD,CACD,GAAI2S,MAAK,CAAG,CAAZ,CACIpH,MAAM,CAAGjP,MAAM,CAAG0sE,KAAK,CAACr2D,KAAD,CAAL,CAAaxV,KAAb,CAAmB,IAAnB,CAAyBmP,IAAzB,CAAH,CAAoCtM,KADvD,CAGA,MAAO,EAAE2S,KAAF,CAAUrW,MAAjB,CAAyB,CACvBiP,MAAM,CAAGy9D,KAAK,CAACr2D,KAAD,CAAL,CAAa1Y,IAAb,CAAkB,IAAlB,CAAwBsR,MAAxB,CAAT,CACD,CACD,MAAOA,OAAP,CACD,CAdD,CAeD,CAlDc,CAAf,CAmDD,CAED3S,MAAM,CAACC,OAAP,CAAiB8vE,UAAjB,C;;;;;;ApFjEA,QAAS3pE,KAAT,EAAgB,CAEf,CAEDpG,MAAM,CAACC,OAAP,CAAiBmG,IAAjB,C;;;;;;AqFHA,QAASoqE,WAAT,EAAsB,CACpB,MAAO,EAAP,CACD,CAEDxwE,MAAM,CAACC,OAAP,CAAiBuwE,UAAjB,C;;;;;;ACjBA,GAAIjsE,MAAK,CAAGmlC,mBAAO,CAAC,EAAD,CAAnB,CACIqJ,QAAQ,CAAGrJ,mBAAO,CAAC,EAAD,CADtB,CAEI0uB,KAAK,CAAG1uB,mBAAO,CAAC,GAAD,CAFnB,CAyBA,QAAS0R,UAAT,CAAmBtI,KAAnB,CAA0BE,QAA1B,CAAoC,CAClC,GAAI,EAAEF,KAAK,EAAIA,KAAK,CAACpvC,MAAjB,CAAJ,CAA8B,CAC5B,MAAO,EAAP,CACD,CACD,GAAIiP,OAAM,CAAGylD,KAAK,CAACtlB,KAAD,CAAlB,CACA,GAAIE,QAAQ,EAAI,IAAhB,CAAsB,CACpB,MAAOrgC,OAAP,CACD,CACD,MAAOogC,SAAQ,CAACpgC,MAAD,CAAS,SAAS0lD,KAAT,CAAgB,CACtC,MAAO9zD,MAAK,CAACyuC,QAAD,CAAWptC,SAAX,CAAsByyD,KAAtB,CAAZ,CACD,CAFc,CAAf,CAGD,CAEDr4D,MAAM,CAACC,OAAP,CAAiBm7C,SAAjB,C;;;;;;AC7BA,QAAS6c,YAAT,CAAqBnlB,KAArB,CAA4B2B,SAA5B,CAAuC,CACrC,GAAI16B,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MADvC,CAEIs8C,QAAQ,CAAG,CAFf,CAGIrtC,MAAM,CAAG,EAHb,CAKA,MAAO,EAAEoH,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI0D,MAAK,CAAG0rC,KAAK,CAAC/4B,KAAD,CAAjB,CACA,GAAI06B,SAAS,CAACrtC,KAAD,CAAQ2S,KAAR,CAAe+4B,KAAf,CAAb,CAAoC,CAClCngC,MAAM,CAACqtC,QAAQ,EAAT,CAAN,CAAqB54C,KAArB,CACD,CACF,CACD,MAAOuL,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBg4D,WAAjB,C;;;;;;ACjBA,QAASC,aAAT,CAAsBxqD,GAAtB,CAA2B,CACzB,MAAO,UAASoN,MAAT,CAAiB,CACtB,MAAOA,OAAM,EAAI,IAAV,CAAiBlV,SAAjB,CAA6BkV,MAAM,CAACpN,GAAD,CAA1C,CACD,CAFD,CAGD,CAED1N,MAAM,CAACC,OAAP,CAAiBi4D,YAAjB,C;;;;;;ACJA,QAASC,UAAT,CAAmBz/C,CAAnB,CAAsBs6B,QAAtB,CAAgC,CAC9B,GAAIj5B,MAAK,CAAG,CAAC,CAAb,CACIpH,MAAM,CAAGjN,KAAK,CAACgT,CAAD,CADlB,CAGA,MAAO,EAAEqB,KAAF,CAAUrB,CAAjB,CAAoB,CAClB/F,MAAM,CAACoH,KAAD,CAAN,CAAgBi5B,QAAQ,CAACj5B,KAAD,CAAxB,CACD,CACD,MAAOpH,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBk4D,SAAjB,C;;;;;;ACnBAn4D,MAAM,CAACC,OAAP,CAAiB,SAASD,MAAT,CAAiB,CACjC,GAAI,CAACA,MAAM,CAACywE,eAAZ,CAA6B,CAC5BzwE,MAAM,CAAC0wE,SAAP,CAAmB,UAAW,CAAE,CAAhC,CACA1wE,MAAM,CAAC83D,KAAP,CAAe,EAAf,CAEA,GAAI,CAAC93D,MAAM,CAACwZ,QAAZ,CAAsBxZ,MAAM,CAACwZ,QAAP,CAAkB,EAAlB,CACtB/Y,MAAM,CAACugB,cAAP,CAAsBhhB,MAAtB,CAA8B,QAA9B,CAAwC,CACvCgqB,UAAU,CAAE,IAD2B,CAEvCpmB,GAAG,CAAE,UAAW,CACf,MAAO5D,OAAM,CAAC6Z,CAAd,CACA,CAJsC,CAAxC,EAMApZ,MAAM,CAACugB,cAAP,CAAsBhhB,MAAtB,CAA8B,IAA9B,CAAoC,CACnCgqB,UAAU,CAAE,IADuB,CAEnCpmB,GAAG,CAAE,UAAW,CACf,MAAO5D,OAAM,CAACoC,CAAd,CACA,CAJkC,CAApC,EAMApC,MAAM,CAACywE,eAAP,CAAyB,CAAzB,CACA,CACD,MAAOzwE,OAAP,CACA,CArBD,C;;;;;;ACAA;AACA;AACA;;;;;;;ACFA;AACA;;;;;;;;ACDA,GAAI2wE,YAAW,CAAGjnC,mBAAO,CAAC,GAAD,CAAzB,CAsBA,QAASqC,QAAT,CAAiB+G,KAAjB,CAAwBvuB,MAAxB,CAAgC,CAC9B,MAAQuuB,MAAK,EAAIA,KAAK,CAACpvC,MAAf,EAAyB6gB,MAAzB,EAAmCA,MAAM,CAAC7gB,MAA3C,CACHitE,WAAW,CAAC79B,KAAD,CAAQvuB,MAAR,CADR,CAEHuuB,KAFJ,CAGD,CAED9yC,MAAM,CAACC,OAAP,CAAiB8rC,OAAjB,C;;;;;;AC5BA,GAAIgH,SAAQ,CAAGrJ,mBAAO,CAAC,EAAD,CAAtB,CACI4V,WAAW,CAAG5V,mBAAO,CAAC,EAAD,CADzB,CAEIknC,eAAe,CAAGlnC,mBAAO,CAAC,GAAD,CAF7B,CAGI0V,SAAS,CAAG1V,mBAAO,CAAC,EAAD,CAHvB,CAII2W,SAAS,CAAG3W,mBAAO,CAAC,EAAD,CAJvB,CAOA,GAAI4tB,WAAU,CAAG5xD,KAAK,CAACnC,SAAvB,CAGA,GAAIyB,OAAM,CAAGsyD,UAAU,CAACtyD,MAAxB,CAaA,QAAS2rE,YAAT,CAAqB79B,KAArB,CAA4BvuB,MAA5B,CAAoCyuB,QAApC,CAA8CqO,UAA9C,CAA0D,CACxD,GAAIvgD,QAAO,CAAGugD,UAAU,CAAGuvB,eAAH,CAAqBtxB,WAA7C,CACIvlC,KAAK,CAAG,CAAC,CADb,CAEIrW,MAAM,CAAG6gB,MAAM,CAAC7gB,MAFpB,CAGIo+C,IAAI,CAAGhP,KAHX,CAKA,GAAIA,KAAK,GAAKvuB,MAAd,CAAsB,CACpBA,MAAM,CAAG87B,SAAS,CAAC97B,MAAD,CAAlB,CACD,CACD,GAAIyuB,QAAJ,CAAc,CACZ8O,IAAI,CAAG/O,QAAQ,CAACD,KAAD,CAAQsM,SAAS,CAACpM,QAAD,CAAjB,CAAf,CACD,CACD,MAAO,EAAEj5B,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAIw9C,UAAS,CAAG,CAAhB,CACI95C,KAAK,CAAGmd,MAAM,CAACxK,KAAD,CADlB,CAEIiY,QAAQ,CAAGghB,QAAQ,CAAGA,QAAQ,CAAC5rC,KAAD,CAAX,CAAqBA,KAF5C,CAIA,MAAO,CAAC85C,SAAS,CAAGpgD,OAAO,CAACghD,IAAD,CAAO9vB,QAAP,CAAiBkvB,SAAjB,CAA4BG,UAA5B,CAApB,EAA+D,CAAC,CAAvE,CAA0E,CACxE,GAAIS,IAAI,GAAKhP,KAAb,CAAoB,CAClB9tC,MAAM,CAAC3D,IAAP,CAAYygD,IAAZ,CAAkBZ,SAAlB,CAA6B,CAA7B,EACD,CACDl8C,MAAM,CAAC3D,IAAP,CAAYyxC,KAAZ,CAAmBoO,SAAnB,CAA8B,CAA9B,EACD,CACF,CACD,MAAOpO,MAAP,CACD,CAED9yC,MAAM,CAACC,OAAP,CAAiB0wE,WAAjB,C;;;;;;ACxCA,QAASC,gBAAT,CAAyB99B,KAAzB,CAAgC1rC,KAAhC,CAAuC85C,SAAvC,CAAkDG,UAAlD,CAA8D,CAC5D,GAAItnC,MAAK,CAAGmnC,SAAS,CAAG,CAAxB,CACIx9C,MAAM,CAAGovC,KAAK,CAACpvC,MADnB,CAGA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI29C,UAAU,CAACvO,KAAK,CAAC/4B,KAAD,CAAN,CAAe3S,KAAf,CAAd,CAAqC,CACnC,MAAO2S,MAAP,CACD,CACF,CACD,MAAO,CAAC,CAAR,CACD,CAED/Z,MAAM,CAACC,OAAP,CAAiB2wE,eAAjB,C;;;;;;ACtBA,GAAIz3D,KAAI,CAAGuwB,mBAAO,CAAC,EAAD,CAAlB,CAkBA,GAAIve,IAAG,CAAG,UAAW,CACnB,MAAOhS,KAAI,CAACzQ,IAAL,CAAUyiB,GAAV,EAAP,CACD,CAFD,CAIAnrB,MAAM,CAACC,OAAP,CAAiBkrB,GAAjB,C;;;;;;ACtBA,GAAI0lD,UAAS,CAAGnnC,mBAAO,CAAC,GAAD,CAAvB,CACImV,OAAO,CAAGnV,mBAAO,CAAC,EAAD,CADrB,CAIA,GAAI4tB,WAAU,CAAG5xD,KAAK,CAACnC,SAAvB,CAGA,GAAIyB,OAAM,CAAGsyD,UAAU,CAACtyD,MAAxB,CAWA,QAAS06C,WAAT,CAAoB5M,KAApB,CAA2B6M,OAA3B,CAAoC,CAClC,GAAIj8C,OAAM,CAAGovC,KAAK,CAAG6M,OAAO,CAACj8C,MAAX,CAAoB,CAAtC,CACI8zD,SAAS,CAAG9zD,MAAM,CAAG,CADzB,CAGA,MAAOA,MAAM,EAAb,CAAiB,CACf,GAAIqW,MAAK,CAAG4lC,OAAO,CAACj8C,MAAD,CAAnB,CACA,GAAIA,MAAM,EAAI8zD,SAAV,EAAuBz9C,KAAK,GAAK+2D,QAArC,CAA+C,CAC7C,GAAIA,SAAQ,CAAG/2D,KAAf,CACA,GAAI8kC,OAAO,CAAC9kC,KAAD,CAAX,CAAoB,CAClB/U,MAAM,CAAC3D,IAAP,CAAYyxC,KAAZ,CAAmB/4B,KAAnB,CAA0B,CAA1B,EACD,CAFD,IAEO,CACL82D,SAAS,CAAC/9B,KAAD,CAAQ/4B,KAAR,CAAT,CACD,CACF,CACF,CACD,MAAO+4B,MAAP,CACD,CAED9yC,MAAM,CAACC,OAAP,CAAiBy/C,UAAjB,C;;;;;;ACpCA,GAAI/C,SAAQ,CAAGjT,mBAAO,CAAC,EAAD,CAAtB,CACI/kC,IAAI,CAAG+kC,mBAAO,CAAC,EAAD,CADlB,CAEIr2B,MAAM,CAAGq2B,mBAAO,CAAC,GAAD,CAFpB,CAGIquB,KAAK,CAAGruB,mBAAO,CAAC,EAAD,CAHnB,CAaA,QAASmnC,UAAT,CAAmB/1D,MAAnB,CAA2B45B,IAA3B,CAAiC,CAC/BA,IAAI,CAAGiI,QAAQ,CAACjI,IAAD,CAAO55B,MAAP,CAAf,CACAA,MAAM,CAAGzH,MAAM,CAACyH,MAAD,CAAS45B,IAAT,CAAf,CACA,MAAO55B,OAAM,EAAI,IAAV,EAAkB,MAAOA,OAAM,CAACi9C,KAAK,CAACpzD,IAAI,CAAC+vC,IAAD,CAAL,CAAN,CAAtC,CACD,CAED10C,MAAM,CAACC,OAAP,CAAiB4wE,SAAjB,C;;;;;;ACnBA,GAAIjZ,QAAO,CAAGluB,mBAAO,CAAC,GAAD,CAArB,CACIyX,SAAS,CAAGzX,mBAAO,CAAC,EAAD,CADvB,CAWA,QAASr2B,OAAT,CAAgByH,MAAhB,CAAwB45B,IAAxB,CAA8B,CAC5B,MAAOA,KAAI,CAAChxC,MAAL,CAAc,CAAd,CAAkBoX,MAAlB,CAA2B88C,OAAO,CAAC98C,MAAD,CAASqmC,SAAS,CAACzM,IAAD,CAAO,CAAP,CAAU,CAAC,CAAX,CAAlB,CAAzC,CACD,CAED10C,MAAM,CAACC,OAAP,CAAiBoT,MAAjB,C;;;;;;ACfA,GAAI09D,cAAa,CAAGrnC,mBAAO,CAAC,GAAD,CAA3B,CAaA,GAAI4uB,QAAO,CAAGyY,aAAa,EAA3B,CAEA/wE,MAAM,CAACC,OAAP,CAAiBq4D,OAAjB,C;;;;;;ACRA,QAASyY,cAAT,CAAuBZ,SAAvB,CAAkC,CAChC,MAAO,UAASr1D,MAAT,CAAiBk4B,QAAjB,CAA2Bg+B,QAA3B,CAAqC,CAC1C,GAAIj3D,MAAK,CAAG,CAAC,CAAb,CACIk3D,QAAQ,CAAGxwE,MAAM,CAACqa,MAAD,CADrB,CAEIgQ,KAAK,CAAGkmD,QAAQ,CAACl2D,MAAD,CAFpB,CAGIpX,MAAM,CAAGonB,KAAK,CAACpnB,MAHnB,CAKA,MAAOA,MAAM,EAAb,CAAiB,CACf,GAAIgK,IAAG,CAAGod,KAAK,CAACqlD,SAAS,CAAGzsE,MAAH,CAAY,EAAEqW,KAAxB,CAAf,CACA,GAAIi5B,QAAQ,CAACi+B,QAAQ,CAACvjE,GAAD,CAAT,CAAgBA,GAAhB,CAAqBujE,QAArB,CAAR,GAA2C,KAA/C,CAAsD,CACpD,MACD,CACF,CACD,MAAOn2D,OAAP,CACD,CAbD,CAcD,CAED9a,MAAM,CAACC,OAAP,CAAiB8wE,aAAjB,C;;;;;;ACxBA,CAAC,SAAS9kE,CAAT,CAAWyM,CAAX,CAAa,CAAC,MAAqD1Y,MAAM,CAACC,OAAP,CAAeyY,CAAC,CAACgxB,mBAAO,CAAC,CAAD,CAAR,CAArE,CAAwF,SAAxF,CAA+K,CAA7L,CAA8L,IAA9L,CAAmM,SAASz9B,CAAT,CAAW,CAAC,aAAaA,CAAC,CAACA,CAAC,EAAEA,CAAC,CAAC/K,cAAF,CAAiB,SAAjB,CAAH,CAA+B+K,CAAC,CAACilE,OAAjC,CAAyCjlE,CAA3C,CAA6C,GAAIyM,EAAC,CAAC,CAACvT,IAAI,CAAC,IAAN,CAAW4nC,QAAQ,CAAC,8DAA8DvlC,KAA9D,CAAoE,GAApE,CAApB,CAA6FkqC,aAAa,CAAC,8BAA8BlqC,KAA9B,CAAoC,GAApC,CAA3G,CAAoJgqC,WAAW,CAAC,uBAAuBhqC,KAAvB,CAA6B,GAA7B,CAAhK,CAAkMwlC,MAAM,CAAC,qFAAqFxlC,KAArF,CAA2F,GAA3F,CAAzM,CAAyS4pC,WAAW,CAAC,sDAAsD5pC,KAAtD,CAA4D,GAA5D,CAArT,CAAsX2pE,OAAO,CAAC,SAASllE,CAAT,CAAW,CAAC,MAAOA,EAAC,CAAC,GAAT,CAAa,CAAvZ,CAAwZ0kC,SAAS,CAAC,CAAla,CAAoaygC,OAAO,CAAC,CAACC,GAAG,CAAC,UAAL,CAAgBC,EAAE,CAAC,OAAnB,CAA2B5R,CAAC,CAAC,YAA7B,CAA0C6R,EAAE,CAAC,cAA7C,CAA4DC,GAAG,CAAC,oBAAhE,CAAqFC,IAAI,CAAC,0BAA1F,CAA5a,CAAkiBC,YAAY,CAAC,CAACC,MAAM,CAAC,OAAR,CAAgBC,IAAI,CAAC,QAArB,CAA8BrzC,CAAC,CAAC,kBAAhC,CAAmDnyB,CAAC,CAAC,cAArD,CAAoE4lC,EAAE,CAAC,YAAvE,CAAoFpF,CAAC,CAAC,cAAtF,CAAqGkF,EAAE,CAAC,YAAxG,CAAqH/D,CAAC,CAAC,WAAvH,CAAmIwD,EAAE,CAAC,UAAtI,CAAiJrE,CAAC,CAAC,aAAnJ,CAAiKgE,EAAE,CAAC,YAApK,CAAiLjE,CAAC,CAAC,YAAnL,CAAgM4kC,EAAE,CAAC,WAAnM,CAA/iB,CAAN,CAAswB,MAAO5lE,EAAC,CAACiiC,MAAF,CAASx1B,CAAT,CAAW,IAAX,CAAgB,CAAC,CAAjB,EAAoBA,CAA3B,CAA6B,CAA5iC,CAAD,C;;;;;;ACAA,CAAC,SAAS5N,CAAT,CAAWmB,CAAX,CAAa,CAAC,MAAqDjM,MAAM,CAACC,OAAP,CAAegM,CAAC,CAACy9B,mBAAO,CAAC,CAAD,CAAR,CAArE,CAAwF,SAAxF,CAA+K,CAA7L,CAA8L,IAA9L,CAAmM,SAAS5+B,CAAT,CAAW,CAAC,aAAaA,CAAC,CAACA,CAAC,EAAEA,CAAC,CAAC5J,cAAF,CAAiB,SAAjB,CAAH,CAA+B4J,CAAC,CAAComE,OAAjC,CAAyCpmE,CAA3C,CAA6C,GAAImB,EAAC,CAAC,CAAC9G,IAAI,CAAC,IAAN,CAAW4nC,QAAQ,CAAC,yDAAyDvlC,KAAzD,CAA+D,GAA/D,CAApB,CAAwFkqC,aAAa,CAAC,8BAA8BlqC,KAA9B,CAAoC,GAApC,CAAtG,CAA+IgqC,WAAW,CAAC,uBAAuBhqC,KAAvB,CAA6B,GAA7B,CAA3J,CAA6LwlC,MAAM,CAAC,qHAAqHxlC,KAArH,CAA2H,GAA3H,CAApM,CAAoU4pC,WAAW,CAAC,qDAAqD5pC,KAArD,CAA2D,GAA3D,CAAhV,CAAgZ2pE,OAAO,CAAC,SAASrmE,CAAT,CAAW,CAAC,MAAOA,EAAP,CAAS,CAA7a,CAA8a6lC,SAAS,CAAC,CAAxb,CAA0b+gC,YAAY,CAAC,CAACC,MAAM,CAAC,OAAR,CAAgBC,IAAI,CAAC,SAArB,CAA+BrzC,CAAC,CAAC,qBAAjC,CAAuDnyB,CAAC,CAAC,WAAzD,CAAqE4lC,EAAE,CAAC,UAAxE,CAAmFpF,CAAC,CAAC,SAArF,CAA+FkF,EAAE,CAAC,SAAlG,CAA4G/D,CAAC,CAAC,UAA9G,CAAyHwD,EAAE,CAAC,UAA5H,CAAuIrE,CAAC,CAAC,UAAzI,CAAoJgE,EAAE,CAAC,UAAvJ,CAAkKjE,CAAC,CAAC,WAApK,CAAgL4kC,EAAE,CAAC,WAAnL,CAAvc,CAAuoBT,OAAO,CAAC,CAACE,EAAE,CAAC,QAAJ,CAAaD,GAAG,CAAC,WAAjB,CAA6B3R,CAAC,CAAC,YAA/B,CAA4C6R,EAAE,CAAC,aAA/C,CAA6DC,GAAG,CAAC,oBAAjE,CAAsFC,IAAI,CAAC,0BAA3F,CAA/oB,CAAN,CAA6wB,MAAO3mE,EAAC,CAACojC,MAAF,CAASjiC,CAAT,CAAW,IAAX,CAAgB,CAAC,CAAjB,EAAoBA,CAA3B,CAA6B,CAAnjC,CAAD,C;;;;;;ACAA,CAAC,SAASA,CAAT,CAAWsyB,CAAX,CAAa,CAAC,MAAqDv+B,MAAM,CAACC,OAAP,CAAes+B,CAAC,CAACmL,mBAAO,CAAC,CAAD,CAAR,CAArE,CAAwF,SAAxF,CAA+K,CAA7L,CAA8L,IAA9L,CAAmM,SAASz9B,CAAT,CAAW,CAAC,aAAaA,CAAC,CAACA,CAAC,EAAEA,CAAC,CAAC/K,cAAF,CAAiB,SAAjB,CAAH,CAA+B+K,CAAC,CAACilE,OAAjC,CAAyCjlE,CAA3C,CAA6C,GAAIsyB,EAAC,CAAC,CAACp5B,IAAI,CAAC,IAAN,CAAWisC,WAAW,CAAC,kDAAkD5pC,KAAlD,CAAwD,GAAxD,CAAvB,CAAoFulC,QAAQ,CAAC,uDAAuDvlC,KAAvD,CAA6D,GAA7D,CAA7F,CAA+JkqC,aAAa,CAAC,qCAAqClqC,KAArC,CAA2C,GAA3C,CAA7K,CAA6NgqC,WAAW,CAAC,uBAAuBhqC,KAAvB,CAA6B,GAA7B,CAAzO,CAA2QwlC,MAAM,CAAC,2FAA2FxlC,KAA3F,CAAiG,GAAjG,CAAlR,CAAwXmpC,SAAS,CAAC,CAAlY,CAAoYygC,OAAO,CAAC,CAACE,EAAE,CAAC,MAAJ,CAAWD,GAAG,CAAC,SAAf,CAAyB3R,CAAC,CAAC,YAA3B,CAAwC6R,EAAE,CAAC,uBAA3C,CAAmEC,GAAG,CAAC,4BAAvE,CAAoGC,IAAI,CAAC,kCAAzG,CAA5Y,CAAyhBC,YAAY,CAAC,CAACC,MAAM,CAAC,OAAR,CAAgBC,IAAI,CAAC,SAArB,CAA+BrzC,CAAC,CAAC,eAAjC,CAAiDnyB,CAAC,CAAC,WAAnD,CAA+D4lC,EAAE,CAAC,YAAlE,CAA+EpF,CAAC,CAAC,UAAjF,CAA4FkF,EAAE,CAAC,UAA/F,CAA0G/D,CAAC,CAAC,QAA5G,CAAqHwD,EAAE,CAAC,SAAxH,CAAkIrE,CAAC,CAAC,QAApI,CAA6IgE,EAAE,CAAC,UAAhJ,CAA2JjE,CAAC,CAAC,QAA7J,CAAsK4kC,EAAE,CAAC,SAAzK,CAAtiB,CAA0tBV,OAAO,CAAC,SAASllE,CAAT,CAAW,CAAC,MAAOA,EAAC,CAAC,GAAT,CAAa,CAA3vB,CAAN,CAAmwB,MAAOA,EAAC,CAACiiC,MAAF,CAAS3P,CAAT,CAAW,IAAX,CAAgB,CAAC,CAAjB,EAAoBA,CAA3B,CAA6B,CAAziC,CAAD,C;;;;;;ACAA,CAAC,SAASuzC,CAAT,CAAW5kC,CAAX,CAAa,CAAC,MAAqDltC,MAAM,CAACC,OAAP,CAAeitC,CAAC,CAACxD,mBAAO,CAAC,CAAD,CAAR,CAArE,CAAwF,SAAxF,CAA+K,CAA7L,CAA8L,IAA9L,CAAmM,SAASooC,CAAT,CAAW,CAAC,aAAaA,CAAC,CAACA,CAAC,EAAEA,CAAC,CAAC5wE,cAAF,CAAiB,SAAjB,CAAH,CAA+B4wE,CAAC,CAACZ,OAAjC,CAAyCY,CAA3C,CAA6C,GAAI5kC,EAAC,CAAC,CAAC/nC,IAAI,CAAC,IAAN,CAAW4nC,QAAQ,CAAC,uCAAuCvlC,KAAvC,CAA6C,GAA7C,CAApB,CAAsEkqC,aAAa,CAAC,uBAAuBlqC,KAAvB,CAA6B,GAA7B,CAApF,CAAsHgqC,WAAW,CAAC,sBAAsBhqC,KAAtB,CAA4B,GAA5B,CAAlI,CAAmKwlC,MAAM,CAAC,0EAA0ExlC,KAA1E,CAAgF,GAAhF,CAA1K,CAA+P4pC,WAAW,CAAC,kDAAkD5pC,KAAlD,CAAwD,GAAxD,CAA3Q,CAAwUkqE,YAAY,CAAC,CAACC,MAAM,CAAC,SAAR,CAAkBC,IAAI,CAAC,SAAvB,CAAiCrzC,CAAC,CAAC,WAAnC,CAA+CnyB,CAAC,CAAC,KAAjD,CAAuD4lC,EAAE,CAAC,SAA1D,CAAoEpF,CAAC,CAAC,KAAtE,CAA4EkF,EAAE,CAAC,SAA/E,CAAyF/D,CAAC,CAAC,KAA3F,CAAiGwD,EAAE,CAAC,SAApG,CAA8GrE,CAAC,CAAC,MAAhH,CAAuHgE,EAAE,CAAC,WAA1H,CAAsIjE,CAAC,CAAC,KAAxI,CAA8I4kC,EAAE,CAAC,SAAjJ,CAArV,CAAifV,OAAO,CAAC,SAASW,CAAT,CAAW,CAAC,MAAOA,EAAP,CAAS,CAA9gB,CAA+gB1kC,MAAM,CAAC,CAACkkC,EAAE,CAAC,OAAJ,CAAYD,GAAG,CAAC,UAAhB,CAA2B3R,CAAC,CAAC,YAA7B,CAA0C6R,EAAE,CAAC,gBAA7C,CAA8DC,GAAG,CAAC,sBAAlE,CAAyFC,IAAI,CAAC,4BAA9F,CAA2H53D,CAAC,CAAC,UAA7H,CAAwIk4D,EAAE,CAAC,YAA3I,CAAwJC,GAAG,CAAC,kBAA5J,CAA+KC,IAAI,CAAC,uBAApL,CAAthB,CAAmuBb,OAAO,CAAC,CAACE,EAAE,CAAC,OAAJ,CAAYD,GAAG,CAAC,UAAhB,CAA2B3R,CAAC,CAAC,YAA7B,CAA0C6R,EAAE,CAAC,gBAA7C,CAA8DC,GAAG,CAAC,sBAAlE,CAAyFC,IAAI,CAAC,4BAA9F,CAA2H53D,CAAC,CAAC,UAA7H,CAAwIk4D,EAAE,CAAC,YAA3I,CAAwJC,GAAG,CAAC,kBAA5J,CAA+KC,IAAI,CAAC,uBAApL,CAA3uB,CAAN,CAA+7B,MAAOH,EAAC,CAAC5jC,MAAF,CAAShB,CAAT,CAAW,IAAX,CAAgB,CAAC,CAAjB,EAAoBA,CAA3B,CAA6B,CAAruC,CAAD,C;;;;;;ACAA,CAAC,SAASjhC,CAAT,CAAW0gC,CAAX,CAAa,CAAC,MAAqD3sC,MAAM,CAACC,OAAP,CAAe0sC,CAAC,CAACjD,mBAAO,CAAC,CAAD,CAAR,CAArE,CAAwF,SAAxF,CAA+K,CAA7L,CAA8L,IAA9L,CAAmM,SAASz9B,CAAT,CAAW,CAAC,aAAaA,CAAC,CAACA,CAAC,EAAEA,CAAC,CAAC/K,cAAF,CAAiB,SAAjB,CAAH,CAA+B+K,CAAC,CAACilE,OAAjC,CAAyCjlE,CAA3C,CAA6C,GAAI0gC,EAAC,CAAC,CAACxnC,IAAI,CAAC,IAAN,CAAW4nC,QAAQ,CAAC,2DAA2DvlC,KAA3D,CAAiE,GAAjE,CAApB,CAA0FkqC,aAAa,CAAC,8BAA8BlqC,KAA9B,CAAoC,GAApC,CAAxG,CAAiJgqC,WAAW,CAAC,uBAAuBhqC,KAAvB,CAA6B,GAA7B,CAA7J,CAA+LwlC,MAAM,CAAC,gGAAgGxlC,KAAhG,CAAsG,GAAtG,CAAtM,CAAiTmpC,SAAS,CAAC,CAA3T,CAA6TS,WAAW,CAAC,kDAAkD5pC,KAAlD,CAAwD,GAAxD,CAAzU,CAAsY4pE,OAAO,CAAC,CAACE,EAAE,CAAC,OAAJ,CAAYD,GAAG,CAAC,UAAhB,CAA2B3R,CAAC,CAAC,YAA7B,CAA0C6R,EAAE,CAAC,aAA7C,CAA2DC,GAAG,CAAC,mBAA/D,CAAmFC,IAAI,CAAC,wBAAxF,CAA9Y,CAAggBC,YAAY,CAAC,CAACC,MAAM,CAAC,QAAR,CAAiBC,IAAI,CAAC,OAAtB,CAA8BrzC,CAAC,CAAC,iBAAhC,CAAkDnyB,CAAC,CAAC,WAApD,CAAgE4lC,EAAE,CAAC,WAAnE,CAA+EpF,CAAC,CAAC,SAAjF,CAA2FkF,EAAE,CAAC,QAA9F,CAAuG/D,CAAC,CAAC,WAAzG,CAAqHwD,EAAE,CAAC,WAAxH,CAAoIrE,CAAC,CAAC,SAAtI,CAAgJgE,EAAE,CAAC,SAAnJ,CAA6JjE,CAAC,CAAC,SAA/J,CAAyK4kC,EAAE,CAAC,SAA5K,CAA7gB,CAAosBV,OAAO,CAAC,SAASllE,CAAT,CAAW,CAAC,MAAOA,EAAC,CAAC,GAAT,CAAa,CAAruB,CAAN,CAA6uB,MAAOA,EAAC,CAACiiC,MAAF,CAASvB,CAAT,CAAW,IAAX,CAAgB,CAAC,CAAjB,EAAoBA,CAA3B,CAA6B,CAAnhC,CAAD,C;;;;;;ACAA,CAAC,SAAS1gC,CAAT,CAAW7C,CAAX,CAAa,CAAC,MAAqDpJ,MAAM,CAACC,OAAP,CAAemJ,CAAC,CAACsgC,mBAAO,CAAC,CAAD,CAAR,CAArE,CAAwF,SAAxF,CAA+K,CAA7L,CAA8L,IAA9L,CAAmM,SAASz9B,CAAT,CAAW,CAAC,aAAaA,CAAC,CAACA,CAAC,EAAEA,CAAC,CAAC/K,cAAF,CAAiB,SAAjB,CAAH,CAA+B+K,CAAC,CAACilE,OAAjC,CAAyCjlE,CAA3C,CAA6C,GAAI7C,EAAC,CAAC,CAACjE,IAAI,CAAC,IAAN,CAAW4nC,QAAQ,CAAC,6DAA6DvlC,KAA7D,CAAmE,GAAnE,CAApB,CAA4FkqC,aAAa,CAAC,8BAA8BlqC,KAA9B,CAAoC,GAApC,CAA1G,CAAmJgqC,WAAW,CAAC,uBAAuBhqC,KAAvB,CAA6B,GAA7B,CAA/J,CAAiMwlC,MAAM,CAAC,0FAA0FxlC,KAA1F,CAAgG,GAAhG,CAAxM,CAA6S4pC,WAAW,CAAC,kDAAkD5pC,KAAlD,CAAwD,GAAxD,CAAzT,CAAsX2pE,OAAO,CAAC,SAASllE,CAAT,CAAW,CAAC,MAAOA,EAAC,CAAC,GAAT,CAAa,CAAvZ,CAAwZ0kC,SAAS,CAAC,CAAla,CAAoaygC,OAAO,CAAC,CAACE,EAAE,CAAC,OAAJ,CAAYD,GAAG,CAAC,UAAhB,CAA2B3R,CAAC,CAAC,YAA7B,CAA0C6R,EAAE,CAAC,aAA7C,CAA2DC,GAAG,CAAC,mBAA/D,CAAmFC,IAAI,CAAC,wBAAxF,CAA5a,CAA8hBC,YAAY,CAAC,CAACC,MAAM,CAAC,SAAR,CAAkBC,IAAI,CAAC,YAAvB,CAAoCrzC,CAAC,CAAC,mBAAtC,CAA0DnyB,CAAC,CAAC,YAA5D,CAAyE4lC,EAAE,CAAC,YAA5E,CAAyFpF,CAAC,CAAC,SAA3F,CAAqGkF,EAAE,CAAC,QAAxG,CAAiH/D,CAAC,CAAC,SAAnH,CAA6HwD,EAAE,CAAC,UAAhI,CAA2IrE,CAAC,CAAC,WAA7I,CAAyJgE,EAAE,CAAC,YAA5J,CAAyKjE,CAAC,CAAC,UAA3K,CAAsL4kC,EAAE,CAAC,SAAzL,CAA3iB,CAAN,CAAsvB,MAAO5lE,EAAC,CAACiiC,MAAF,CAAS9kC,CAAT,CAAW,IAAX,CAAgB,CAAC,CAAjB,EAAoBA,CAA3B,CAA6B,CAA5hC,CAAD,C;;;;;;ACAA,CAAC,SAAS6C,CAAT,CAAW7J,CAAX,CAAa,CAAC,MAAqDpC,MAAM,CAACC,OAAP,CAAemC,CAAC,CAACsnC,mBAAO,CAAC,CAAD,CAAR,CAArE,CAAwF,SAAxF,CAA+K,CAA7L,CAA8L,IAA9L,CAAmM,SAASz9B,CAAT,CAAW,CAAC,aAAaA,CAAC,CAACA,CAAC,EAAEA,CAAC,CAAC/K,cAAF,CAAiB,SAAjB,CAAH,CAA+B+K,CAAC,CAACilE,OAAjC,CAAyCjlE,CAA3C,CAA6C,GAAI7J,EAAC,CAAC,CAAC+C,IAAI,CAAC,IAAN,CAAW4nC,QAAQ,CAAC,6DAA6DvlC,KAA7D,CAAmE,GAAnE,CAApB,CAA4FkqC,aAAa,CAAC,2BAA2BlqC,KAA3B,CAAiC,GAAjC,CAA1G,CAAgJgqC,WAAW,CAAC,uBAAuBhqC,KAAvB,CAA6B,GAA7B,CAA5J,CAA8LwlC,MAAM,CAAC,mGAAmGxlC,KAAnG,CAAyG,GAAzG,CAArM,CAAmT4pC,WAAW,CAAC,kDAAkD5pC,KAAlD,CAAwD,GAAxD,CAA/T,CAA4X2pE,OAAO,CAAC,SAASllE,CAAT,CAAW,CAAC,MAAOA,EAAC,CAAC,GAAT,CAAa,CAA7Z,CAA8Z0kC,SAAS,CAAC,CAAxa,CAA0a+gC,YAAY,CAAC,CAACC,MAAM,CAAC,OAAR,CAAgBC,IAAI,CAAC,OAArB,CAA6BrzC,CAAC,CAAC,cAA/B,CAA8CnyB,CAAC,CAAC,QAAhD,CAAyD4lC,EAAE,CAAC,UAA5D,CAAuEpF,CAAC,CAAC,SAAzE,CAAmFkF,EAAE,CAAC,WAAtF,CAAkG/D,CAAC,CAAC,OAApG,CAA4GwD,EAAE,CAAC,QAA/G,CAAwHrE,CAAC,CAAC,SAA1H,CAAoIgE,EAAE,CAAC,aAAvI,CAAqJjE,CAAC,CAAC,KAAvJ,CAA6J4kC,EAAE,CAAC,QAAhK,CAAvb,CAAimBT,OAAO,CAAC,CAACE,EAAE,CAAC,OAAJ,CAAYD,GAAG,CAAC,UAAhB,CAA2B3R,CAAC,CAAC,YAA7B,CAA0C6R,EAAE,CAAC,aAA7C,CAA2DC,GAAG,CAAC,mBAA/D,CAAmFC,IAAI,CAAC,yBAAxF,CAAzmB,CAAN,CAAmuB,MAAOxlE,EAAC,CAACiiC,MAAF,CAAS9rC,CAAT,CAAW,IAAX,CAAgB,CAAC,CAAjB,EAAoBA,CAA3B,CAA6B,CAAzgC,CAAD,C;;;;;;ACAA,CAAC,SAAS6J,CAAT,CAAW0gC,CAAX,CAAa,CAAC,MAAqD3sC,MAAM,CAACC,OAAP,CAAe0sC,CAAC,CAACjD,mBAAO,CAAC,CAAD,CAAR,CAArE,CAAwF,SAAxF,CAAkL,CAAhM,CAAiM,IAAjM,CAAsM,SAASz9B,CAAT,CAAW,CAAC,aAAaA,CAAC,CAACA,CAAC,EAAEA,CAAC,CAAC/K,cAAF,CAAiB,SAAjB,CAAH,CAA+B+K,CAAC,CAACilE,OAAjC,CAAyCjlE,CAA3C,CAA6C,GAAI0gC,EAAC,CAAC,CAACxnC,IAAI,CAAC,OAAN,CAAc4nC,QAAQ,CAAC,iFAAiFvlC,KAAjF,CAAuF,GAAvF,CAAvB,CAAmHkqC,aAAa,CAAC,8BAA8BlqC,KAA9B,CAAoC,GAApC,CAAjI,CAA0KgqC,WAAW,CAAC,uBAAuBhqC,KAAvB,CAA6B,GAA7B,CAAtL,CAAwNmpC,SAAS,CAAC,CAAlO,CAAoO3D,MAAM,CAAC,2FAA2FxlC,KAA3F,CAAiG,GAAjG,CAA3O,CAAiV4pC,WAAW,CAAC,kDAAkD5pC,KAAlD,CAAwD,GAAxD,CAA7V,CAA0Z2pE,OAAO,CAAC,SAASllE,CAAT,CAAW,CAAC,MAAOA,EAAC,CAAC,GAAT,CAAa,CAA3b,CAA4bmlE,OAAO,CAAC,CAACE,EAAE,CAAC,OAAJ,CAAYD,GAAG,CAAC,UAAhB,CAA2B3R,CAAC,CAAC,YAA7B,CAA0C6R,EAAE,CAAC,uBAA7C,CAAqEC,GAAG,CAAC,kCAAzE,CAA4GC,IAAI,CAAC,wCAAjH,CAApc,CAA+lBC,YAAY,CAAC,CAACC,MAAM,CAAC,OAAR,CAAgBC,IAAI,CAAC,OAArB,CAA6BrzC,CAAC,CAAC,iBAA/B,CAAiDnyB,CAAC,CAAC,WAAnD,CAA+D4lC,EAAE,CAAC,YAAlE,CAA+EpF,CAAC,CAAC,UAAjF,CAA4FkF,EAAE,CAAC,UAA/F,CAA0G/D,CAAC,CAAC,QAA5G,CAAqHwD,EAAE,CAAC,SAAxH,CAAkIrE,CAAC,CAAC,QAApI,CAA6IgE,EAAE,CAAC,UAAhJ,CAA2JjE,CAAC,CAAC,QAA7J,CAAsK4kC,EAAE,CAAC,SAAzK,CAA5mB,CAAN,CAAuyB,MAAO5lE,EAAC,CAACiiC,MAAF,CAASvB,CAAT,CAAW,IAAX,CAAgB,CAAC,CAAjB,EAAoBA,CAA3B,CAA6B,CAAhlC,CAAD,C;;;;;;ACAA,CAAC,SAAS1gC,CAAT,CAAW7C,CAAX,CAAa,CAAC,MAAqDpJ,MAAM,CAACC,OAAP,CAAemJ,CAAC,CAACsgC,mBAAO,CAAC,CAAD,CAAR,CAArE,CAAwF,SAAxF,CAA+K,CAA7L,CAA8L,IAA9L,CAAmM,SAASz9B,CAAT,CAAW,CAAC,aAAaA,CAAC,CAACA,CAAC,EAAEA,CAAC,CAAC/K,cAAF,CAAiB,SAAjB,CAAH,CAA+B+K,CAAC,CAACilE,OAAjC,CAAyCjlE,CAA3C,CAA6C,GAAI7C,EAAC,CAAC,CAACjE,IAAI,CAAC,IAAN,CAAW4nC,QAAQ,CAAC,iFAAiFvlC,KAAjF,CAAuF,GAAvF,CAApB,CAAgHkqC,aAAa,CAAC,8BAA8BlqC,KAA9B,CAAoC,GAApC,CAA9H,CAAuKgqC,WAAW,CAAC,uBAAuBhqC,KAAvB,CAA6B,GAA7B,CAAnL,CAAqNwlC,MAAM,CAAC,2FAA2FxlC,KAA3F,CAAiG,GAAjG,CAA5N,CAAkU4pC,WAAW,CAAC,kDAAkD5pC,KAAlD,CAAwD,GAAxD,CAA9U,CAA2Y2pE,OAAO,CAAC,SAASllE,CAAT,CAAW,CAAC,MAAOA,EAAC,CAAC,GAAT,CAAa,CAA5a,CAA6a0kC,SAAS,CAAC,CAAvb,CAAybygC,OAAO,CAAC,CAACE,EAAE,CAAC,OAAJ,CAAYD,GAAG,CAAC,UAAhB,CAA2B3R,CAAC,CAAC,YAA7B,CAA0C6R,EAAE,CAAC,uBAA7C,CAAqEC,GAAG,CAAC,kCAAzE,CAA4GC,IAAI,CAAC,wCAAjH,CAAjc,CAA4lBC,YAAY,CAAC,CAACC,MAAM,CAAC,OAAR,CAAgBC,IAAI,CAAC,OAArB,CAA6BrzC,CAAC,CAAC,iBAA/B,CAAiDnyB,CAAC,CAAC,WAAnD,CAA+D4lC,EAAE,CAAC,YAAlE,CAA+EpF,CAAC,CAAC,UAAjF,CAA4FkF,EAAE,CAAC,UAA/F,CAA0G/D,CAAC,CAAC,QAA5G,CAAqHwD,EAAE,CAAC,SAAxH,CAAkIrE,CAAC,CAAC,QAApI,CAA6IgE,EAAE,CAAC,UAAhJ,CAA2JjE,CAAC,CAAC,QAA7J,CAAsK4kC,EAAE,CAAC,SAAzK,CAAzmB,CAAN,CAAoyB,MAAO5lE,EAAC,CAACiiC,MAAF,CAAS9kC,CAAT,CAAW,IAAX,CAAgB,CAAC,CAAjB,EAAoBA,CAA3B,CAA6B,CAA1kC,CAAD,C;;;;;;ACAA,CAAC,SAASqjC,CAAT,CAAW5kB,CAAX,CAAa,CAAC,MAAqD7nB,MAAM,CAACC,OAAP,CAAe4nB,CAAC,EAArE,CAAwE,SAAxE,CAAwJ,CAAtK,CAAuK,IAAvK,CAA4K,UAAU,CAAC,aAAa,MAAO,UAAS4kB,CAAT,CAAW5kB,CAAX,CAAa5b,CAAb,CAAe,CAAC,GAAIyM,EAAC,CAACmP,CAAC,CAACtkB,SAAR,CAAkB0I,CAAC,CAACwmC,EAAF,CAAKi/B,YAAL,CAAkB,CAACC,MAAM,CAAC,OAAR,CAAgBC,IAAI,CAAC,QAArB,CAA8BrzC,CAAC,CAAC,eAAhC,CAAgDnyB,CAAC,CAAC,UAAlD,CAA6D4lC,EAAE,CAAC,YAAhE,CAA6EpF,CAAC,CAAC,SAA/E,CAAyFkF,EAAE,CAAC,UAA5F,CAAuG/D,CAAC,CAAC,OAAzG,CAAiHwD,EAAE,CAAC,SAApH,CAA8HrE,CAAC,CAAC,SAAhI,CAA0IgE,EAAE,CAAC,WAA7I,CAAyJjE,CAAC,CAAC,QAA3J,CAAoK4kC,EAAE,CAAC,UAAvK,CAAlB,CAAqM,GAAIllC,EAAC,CAAC,SAASF,CAAT,CAAW5kB,CAAX,CAAanP,CAAb,CAAei0B,CAAf,CAAiB,CAAC,IAAI,GAAIoB,EAAJ,CAAM3rC,CAAN,CAAQsqC,CAAR,CAAUtjC,CAAC,CAACsP,CAAC,CAACg4B,OAAF,GAAYghC,YAAxB,CAAqC7kC,CAAC,CAAC,CAAC,CAAChzB,CAAC,CAAC,GAAH,CAAO4yB,CAAC,CAAC,EAAT,CAAYsB,CAAC,CAAC,QAAd,CAAD,CAAyB,CAACl0B,CAAC,CAAC,GAAH,CAAO4yB,CAAC,CAAC,EAAT,CAAzB,CAAsC,CAAC5yB,CAAC,CAAC,IAAH,CAAQ4yB,CAAC,CAAC,EAAV,CAAasB,CAAC,CAAC,QAAf,CAAtC,CAA+D,CAACl0B,CAAC,CAAC,GAAH,CAAO4yB,CAAC,CAAC,EAAT,CAA/D,CAA4E,CAAC5yB,CAAC,CAAC,IAAH,CAAQ4yB,CAAC,CAAC,EAAV,CAAasB,CAAC,CAAC,MAAf,CAA5E,CAAmG,CAACl0B,CAAC,CAAC,GAAH,CAAO4yB,CAAC,CAAC,EAAT,CAAnG,CAAgH,CAAC5yB,CAAC,CAAC,IAAH,CAAQ4yB,CAAC,CAAC,EAAV,CAAasB,CAAC,CAAC,KAAf,CAAhH,CAAsI,CAACl0B,CAAC,CAAC,GAAH,CAAO4yB,CAAC,CAAC,EAAT,CAAtI,CAAmJ,CAAC5yB,CAAC,CAAC,IAAH,CAAQ4yB,CAAC,CAAC,EAAV,CAAasB,CAAC,CAAC,OAAf,CAAnJ,CAA2K,CAACl0B,CAAC,CAAC,GAAH,CAAO4yB,CAAC,CAAC,EAAT,CAA3K,CAAwL,CAAC5yB,CAAC,CAAC,IAAH,CAAQk0B,CAAC,CAAC,MAAV,CAAxL,CAAvC,CAAkPxP,CAAC,CAACsO,CAAC,CAACnpC,MAAtP,CAA6PmW,CAAC,CAAC,CAAnQ,CAAqQA,CAAC,CAAC0kB,CAAvQ,CAAyQ1kB,CAAC,EAAE,CAA5Q,CAA8Q,CAAC,GAAI+yB,EAAC,CAACC,CAAC,CAAChzB,CAAD,CAAP,CAAW+yB,CAAC,CAACmB,CAAF,GAAMA,CAAC,CAACpB,CAAC,CAAC1gC,CAAC,CAACwgC,CAAD,CAAD,CAAKn+B,IAAL,CAAUoK,CAAV,CAAYk0B,CAAC,CAACmB,CAAd,CAAgB,CAAC,CAAjB,CAAD,CAAqBr1B,CAAC,CAACpK,IAAF,CAAOm+B,CAAP,CAASG,CAAC,CAACmB,CAAX,CAAa,CAAC,CAAd,CAA9B,EAAgD,GAAI3hC,EAAC,CAACtG,IAAI,CAACwrB,KAAL,CAAWxrB,IAAI,CAAC4nC,GAAL,CAASK,CAAT,CAAX,CAAN,CAA8B,GAAGrB,CAAC,CAACqB,CAAC,CAAC,CAAJ,CAAM3hC,CAAC,EAAEwgC,CAAC,CAACH,CAAL,EAAQ,CAACG,CAAC,CAACH,CAApB,CAAsB,CAAC,IAAIrgC,CAAJ,EAAOyN,CAAC,CAAC,CAAT,GAAa+yB,CAAC,CAACC,CAAC,CAAChzB,CAAC,CAAC,CAAH,CAAhB,EAAuB,GAAIizB,EAAC,CAAC1jC,CAAC,CAACwjC,CAAC,CAAC/yB,CAAH,CAAP,CAAazX,CAAC,CAAC,UAAU,MAAO0qC,EAAjB,CAAmBA,CAAC,CAAC9mC,OAAF,CAAU,IAAV,CAAeoG,CAAf,CAAnB,CAAqC0gC,CAAC,CAAC1gC,CAAD,CAAGyb,CAAH,CAAK+kB,CAAC,CAAC/yB,CAAP,CAAS6yB,CAAT,CAAxC,CAAoD,MAAM,CAAC,OAAO7kB,EAAC,CAACzlB,CAAD,CAAG,CAACsqC,CAAC,CAACtjC,CAAC,CAACuoE,MAAH,CAAUvoE,CAAC,CAACwoE,IAAd,EAAoB5rE,OAApB,CAA4B,IAA5B,CAAiC5D,CAAjC,CAAX,CAA+C,CAAriB,CAAsiBsW,CAAC,CAACghB,EAAF,CAAK,SAAS+S,CAAT,CAAW5kB,CAAX,CAAa,CAAC,MAAO8kB,EAAC,CAACF,CAAD,CAAG5kB,CAAH,CAAK,IAAL,CAAU,CAAC,CAAX,CAAR,CAAsB,CAAzC,CAA0CnP,CAAC,CAACw5D,IAAF,CAAO,SAASzlC,CAAT,CAAW5kB,CAAX,CAAa,CAAC,MAAO8kB,EAAC,CAACF,CAAD,CAAG5kB,CAAH,CAAK,IAAL,CAAR,CAAmB,CAAlF,CAAmF,GAAIkmB,EAAC,CAAC,SAAStB,CAAT,CAAW,CAAC,MAAOA,EAAC,CAAC4B,EAAF,CAAKpiC,CAAC,CAACmiC,GAAF,EAAL,CAAaniC,CAAC,EAArB,CAAwB,CAA1C,CAA2CyM,CAAC,CAACy5D,KAAF,CAAQ,SAAS1lC,CAAT,CAAW,CAAC,MAAO,MAAK/S,EAAL,CAAQqU,CAAC,CAAC,IAAD,CAAT,CAAgBtB,CAAhB,CAAP,CAA0B,CAA9C,CAA+C/zB,CAAC,CAAC05D,OAAF,CAAU,SAAS3lC,CAAT,CAAW,CAAC,MAAO,MAAKylC,IAAL,CAAUnkC,CAAC,CAAC,IAAD,CAAX,CAAkBtB,CAAlB,CAAP,CAA4B,CAAjG,CAAkG,CAAp/B,CAAq/B,CAAzrC,CAAD,C;;;;;;ACAA,CAAC,SAASxgC,CAAT,CAAW4b,CAAX,CAAa,CAAC,MAAqD7nB,MAAM,CAACC,OAAP,CAAe4nB,CAAC,EAArE,CAAwE,SAAxE,CAA2J,CAAzK,CAA0K,IAA1K,CAA+K,UAAU,CAAC,aAAa,MAAO,UAAS5b,CAAT,CAAW4b,CAAX,CAAa8kB,CAAb,CAAe,CAAC,GAAIj0B,EAAC,CAACmP,CAAC,CAACtkB,SAAR,CAAkBkpC,CAAC,CAAC/zB,CAAC,CAAC00B,MAAtB,CAA6BF,CAAC,CAAC,CAACmkC,GAAG,CAAC,WAAL,CAAiBC,EAAE,CAAC,QAApB,CAA6B5R,CAAC,CAAC,YAA/B,CAA4C6R,EAAE,CAAC,cAA/C,CAA8DC,GAAG,CAAC,qBAAlE,CAAwFC,IAAI,CAAC,2BAA7F,CAA/B,CAAyJ9kC,CAAC,CAAC8F,EAAF,CAAK2+B,OAAL,CAAalkC,CAAb,CAAex0B,CAAC,CAAC00B,MAAF,CAAS,SAASnhC,CAAT,CAAW,CAAC,IAAK,EAAL,GAASA,CAAT,GAAaA,CAAC,CAAC,sBAAf,EAAuC,GAAI4b,EAAC,CAAC,KAAK6oB,OAAL,GAAe0gC,OAArB,CAA6BzkC,CAAC,CAAC,IAAK,EAAL,GAAS9kB,CAAT,CAAW,EAAX,CAAcA,CAA7C,CAA+CnP,CAAC,CAACzM,CAAC,CAACjG,OAAF,CAAU,mCAAV,CAA8C,SAASiG,CAAT,CAAW4b,CAAX,CAAanP,CAAb,CAAe,CAAC,GAAI+zB,EAAC,CAAC/zB,CAAC,EAAEA,CAAC,CAAC+H,WAAF,EAAT,CAAyB,MAAOoH,EAAC,EAAE8kB,CAAC,CAACj0B,CAAD,CAAJ,EAASw0B,CAAC,CAACx0B,CAAD,CAAV,EAAei0B,CAAC,CAACF,CAAD,CAAD,CAAKzmC,OAAL,CAAa,gCAAb,CAA8C,SAASiG,CAAT,CAAW4b,CAAX,CAAa8kB,CAAb,CAAe,CAAC,MAAO9kB,EAAC,EAAE8kB,CAAC,CAAChsC,KAAF,CAAQ,CAAR,CAAV,CAAqB,CAAnF,CAAtB,CAA2G,CAAlM,CAAjD,CAAqP,MAAO8rC,EAAC,CAACprC,IAAF,CAAO,IAAP,CAAYqX,CAAZ,CAAP,CAAsB,CAAvU,CAAwU,CAAvgB,CAAwgB,CAA/sB,CAAD,C;;;;;;ACAA,GAAIq6B,SAAQ,CAAGrJ,mBAAO,CAAC,EAAD,CAAtB,CACI2K,YAAY,CAAG3K,mBAAO,CAAC,CAAD,CAD1B,CAEI2oC,OAAO,CAAG3oC,mBAAO,CAAC,GAAD,CAFrB,CAGI4oC,UAAU,CAAG5oC,mBAAO,CAAC,GAAD,CAHxB,CAII0V,SAAS,CAAG1V,mBAAO,CAAC,EAAD,CAJvB,CAKI6oC,eAAe,CAAG7oC,mBAAO,CAAC,GAAD,CAL7B,CAMIyC,QAAQ,CAAGzC,mBAAO,CAAC,GAAD,CANtB,CAiBA,QAAS2C,YAAT,CAAqB9d,UAArB,CAAiCie,SAAjC,CAA4CgmC,MAA5C,CAAoD,CAClD,GAAIz4D,MAAK,CAAG,CAAC,CAAb,CACAyyB,SAAS,CAAGuG,QAAQ,CAACvG,SAAS,CAAC9oC,MAAV,CAAmB8oC,SAAnB,CAA+B,CAACL,QAAD,CAAhC,CAA4CiT,SAAS,CAAC/K,YAAD,CAArD,CAApB,CAEA,GAAI1hC,OAAM,CAAG0/D,OAAO,CAAC9jD,UAAD,CAAa,SAASnnB,KAAT,CAAiC,CAChE,GAAIqrE,SAAQ,CAAG1/B,QAAQ,CAACvG,SAAD,CAAY,SAASwG,QAAT,CAAmB,CACpD,MAAOA,SAAQ,CAAC5rC,KAAD,CAAf,CACD,CAFsB,CAAvB,CAGA,MAAO,CAAE,WAAYqrE,QAAd,CAAwB,QAAS,EAAE14D,KAAnC,CAA0C,QAAS3S,KAAnD,CAAP,CACD,CALmB,CAApB,CAOA,MAAOkrE,WAAU,CAAC3/D,MAAD,CAAS,SAASmI,MAAT,CAAiBu4B,KAAjB,CAAwB,CAChD,MAAOk/B,gBAAe,CAACz3D,MAAD,CAASu4B,KAAT,CAAgBm/B,MAAhB,CAAtB,CACD,CAFgB,CAAjB,CAGD,CAEDxyE,MAAM,CAACC,OAAP,CAAiBosC,WAAjB,C;;;;;;AlLxBA,QAAS0G,SAAT,CAAkBD,KAAlB,CAAyBE,QAAzB,CAAmC,CACjC,GAAIj5B,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MADvC,CAEIiP,MAAM,CAAGjN,KAAK,CAAChC,MAAD,CAFlB,CAIA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvBiP,MAAM,CAACoH,KAAD,CAAN,CAAgBi5B,QAAQ,CAACF,KAAK,CAAC/4B,KAAD,CAAN,CAAeA,KAAf,CAAsB+4B,KAAtB,CAAxB,CACD,CACD,MAAOngC,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiB8yC,QAAjB,C;;;;;;AmLVA,QAASu/B,WAAT,CAAoBx/B,KAApB,CAA2B4/B,QAA3B,CAAqC,CACnC,GAAIhvE,OAAM,CAAGovC,KAAK,CAACpvC,MAAnB,CAEAovC,KAAK,CAAC/tC,IAAN,CAAW2tE,QAAX,EACA,MAAOhvE,MAAM,EAAb,CAAiB,CACfovC,KAAK,CAACpvC,MAAD,CAAL,CAAgBovC,KAAK,CAACpvC,MAAD,CAAL,CAAc0D,KAA9B,CACD,CACD,MAAO0rC,MAAP,CACD,CAED9yC,MAAM,CAACC,OAAP,CAAiBqyE,UAAjB,C;;;;;;ACpBA,GAAIK,iBAAgB,CAAGjpC,mBAAO,CAAC,GAAD,CAA9B,CAgBA,QAAS6oC,gBAAT,CAAyBz3D,MAAzB,CAAiCu4B,KAAjC,CAAwCm/B,MAAxC,CAAgD,CAC9C,GAAIz4D,MAAK,CAAG,CAAC,CAAb,CACI64D,WAAW,CAAG93D,MAAM,CAAC23D,QADzB,CAEII,WAAW,CAAGx/B,KAAK,CAACo/B,QAFxB,CAGI/uE,MAAM,CAAGkvE,WAAW,CAAClvE,MAHzB,CAIIovE,YAAY,CAAGN,MAAM,CAAC9uE,MAJ1B,CAMA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAIiP,OAAM,CAAGggE,gBAAgB,CAACC,WAAW,CAAC74D,KAAD,CAAZ,CAAqB84D,WAAW,CAAC94D,KAAD,CAAhC,CAA7B,CACA,GAAIpH,MAAJ,CAAY,CACV,GAAIoH,KAAK,EAAI+4D,YAAb,CAA2B,CACzB,MAAOngE,OAAP,CACD,CACD,GAAIogE,MAAK,CAAGP,MAAM,CAACz4D,KAAD,CAAlB,CACA,MAAOpH,OAAM,EAAIogE,KAAK,EAAI,MAAT,CAAkB,CAAC,CAAnB,CAAuB,CAA3B,CAAb,CACD,CACF,CAQD,MAAOj4D,OAAM,CAACf,KAAP,CAAes5B,KAAK,CAACt5B,KAA5B,CACD,CAED/Z,MAAM,CAACC,OAAP,CAAiBsyE,eAAjB,C;;;;;;AC3CA,GAAItD,SAAQ,CAAGvlC,mBAAO,CAAC,EAAD,CAAtB,CAUA,QAASipC,iBAAT,CAA0BvrE,KAA1B,CAAiCisC,KAAjC,CAAwC,CACtC,GAAIjsC,KAAK,GAAKisC,KAAd,CAAqB,CACnB,GAAI2/B,aAAY,CAAG5rE,KAAK,GAAKxB,SAA7B,CACIqtE,SAAS,CAAG7rE,KAAK,GAAK,IAD1B,CAEI8rE,cAAc,CAAG9rE,KAAK,GAAKA,KAF/B,CAGI+rE,WAAW,CAAGlE,QAAQ,CAAC7nE,KAAD,CAH1B,CAKA,GAAIgsE,aAAY,CAAG//B,KAAK,GAAKztC,SAA7B,CACIytE,SAAS,CAAGhgC,KAAK,GAAK,IAD1B,CAEIigC,cAAc,CAAGjgC,KAAK,GAAKA,KAF/B,CAGIkgC,WAAW,CAAGtE,QAAQ,CAAC57B,KAAD,CAH1B,CAKA,GAAK,CAACggC,SAAD,EAAc,CAACE,WAAf,EAA8B,CAACJ,WAA/B,EAA8C/rE,KAAK,CAAGisC,KAAvD,EACC8/B,WAAW,EAAIC,YAAf,EAA+BE,cAA/B,EAAiD,CAACD,SAAlD,EAA+D,CAACE,WADjE,EAECN,SAAS,EAAIG,YAAb,EAA6BE,cAF9B,EAGC,CAACN,YAAD,EAAiBM,cAHlB,EAIA,CAACJ,cAJL,CAIqB,CACnB,MAAO,EAAP,CACD,CACD,GAAK,CAACD,SAAD,EAAc,CAACE,WAAf,EAA8B,CAACI,WAA/B,EAA8CnsE,KAAK,CAAGisC,KAAvD,EACCkgC,WAAW,EAAIP,YAAf,EAA+BE,cAA/B,EAAiD,CAACD,SAAlD,EAA+D,CAACE,WADjE,EAECE,SAAS,EAAIL,YAAb,EAA6BE,cAF9B,EAGC,CAACE,YAAD,EAAiBF,cAHlB,EAIA,CAACI,cAJL,CAIqB,CACnB,MAAO,CAAC,CAAR,CACD,CACF,CACD,MAAO,EAAP,CACD,CAEDtzE,MAAM,CAACC,OAAP,CAAiB0yE,gBAAjB,C;;;;;;ACxCA,GAAI1D,SAAQ,CAAGvlC,mBAAO,CAAC,EAAD,CAAtB,CAYA,QAASkW,aAAT,CAAsB9M,KAAtB,CAA6BE,QAA7B,CAAuCqO,UAAvC,CAAmD,CACjD,GAAItnC,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,CAACpvC,MADnB,CAGA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI0D,MAAK,CAAG0rC,KAAK,CAAC/4B,KAAD,CAAjB,CACIknB,OAAO,CAAG+R,QAAQ,CAAC5rC,KAAD,CADtB,CAGA,GAAI65B,OAAO,EAAI,IAAX,GAAoBjP,QAAQ,GAAKpsB,SAAb,CACfq7B,OAAO,GAAKA,OAAZ,EAAuB,CAACguC,QAAQ,CAAChuC,OAAD,CADjB,CAEhBogB,UAAU,CAACpgB,OAAD,CAAUjP,QAAV,CAFd,CAAJ,CAGO,CACL,GAAIA,SAAQ,CAAGiP,OAAf,CACItuB,MAAM,CAAGvL,KADb,CAED,CACF,CACD,MAAOuL,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiB2/C,YAAjB,C;;;;;;ACtBA,QAASC,OAAT,CAAgBz4C,KAAhB,CAAuBisC,KAAvB,CAA8B,CAC5B,MAAOjsC,MAAK,CAAGisC,KAAf,CACD,CAEDrzC,MAAM,CAACC,OAAP,CAAiB4/C,MAAjB,C;;;;;;ACbA,GAAI2zB,gBAAe,CAAG9pC,mBAAO,CAAC,GAAD,CAA7B,CACI8S,YAAY,CAAG9S,mBAAO,CAAC,EAAD,CAD1B,CAiBA,QAASyJ,YAAT,CAAqB/rC,KAArB,CAA4BisC,KAA5B,CAAmC0K,OAAnC,CAA4C0Y,UAA5C,CAAwDv3C,KAAxD,CAA+D,CAC7D,GAAI9X,KAAK,GAAKisC,KAAd,CAAqB,CACnB,MAAO,KAAP,CACD,CACD,GAAIjsC,KAAK,EAAI,IAAT,EAAiBisC,KAAK,EAAI,IAA1B,EAAmC,CAACmJ,YAAY,CAACp1C,KAAD,CAAb,EAAwB,CAACo1C,YAAY,CAACnJ,KAAD,CAA5E,CAAsF,CACpF,MAAOjsC,MAAK,GAAKA,KAAV,EAAmBisC,KAAK,GAAKA,KAApC,CACD,CACD,MAAOmgC,gBAAe,CAACpsE,KAAD,CAAQisC,KAAR,CAAe0K,OAAf,CAAwB0Y,UAAxB,CAAoCtjB,WAApC,CAAiDj0B,KAAjD,CAAtB,CACD,CAEDlf,MAAM,CAACC,OAAP,CAAiBkzC,WAAjB,C;;;;;;AC3BA,GAAIsgC,MAAK,CAAG/pC,mBAAO,CAAC,GAAD,CAAnB,CACIgqC,WAAW,CAAGhqC,mBAAO,CAAC,GAAD,CADzB,CAEIiqC,UAAU,CAAGjqC,mBAAO,CAAC,GAAD,CAFxB,CAGIkqC,YAAY,CAAGlqC,mBAAO,CAAC,GAAD,CAH1B,CAII6J,MAAM,CAAG7J,mBAAO,CAAC,EAAD,CAJpB,CAKI/jC,OAAO,CAAG+jC,mBAAO,CAAC,CAAD,CALrB,CAMI+J,QAAQ,CAAG/J,mBAAO,CAAC,EAAD,CANtB,CAOIiK,YAAY,CAAGjK,mBAAO,CAAC,EAAD,CAP1B,CAUA,GAAImqC,qBAAoB,CAAG,CAA3B,CAGA,GAAIC,QAAO,CAAG,oBAAd,CACIC,QAAQ,CAAG,gBADf,CAEItF,SAAS,CAAG,iBAFhB,CAKA,GAAI36B,YAAW,CAAGrzC,MAAM,CAAC8C,SAAzB,CAGA,GAAIrC,eAAc,CAAG4yC,WAAW,CAAC5yC,cAAjC,CAgBA,QAASsyE,gBAAT,CAAyB14D,MAAzB,CAAiCu4B,KAAjC,CAAwC0K,OAAxC,CAAiD0Y,UAAjD,CAA6Dud,SAA7D,CAAwE90D,KAAxE,CAA+E,CAC7E,GAAI+0D,SAAQ,CAAGtuE,OAAO,CAACmV,MAAD,CAAtB,CACIo5D,QAAQ,CAAGvuE,OAAO,CAAC0tC,KAAD,CADtB,CAEI8gC,MAAM,CAAGF,QAAQ,CAAGF,QAAH,CAAcxgC,MAAM,CAACz4B,MAAD,CAFzC,CAGIs5D,MAAM,CAAGF,QAAQ,CAAGH,QAAH,CAAcxgC,MAAM,CAACF,KAAD,CAHzC,CAKA8gC,MAAM,CAAGA,MAAM,EAAIL,OAAV,CAAoBrF,SAApB,CAAgC0F,MAAzC,CACAC,MAAM,CAAGA,MAAM,EAAIN,OAAV,CAAoBrF,SAApB,CAAgC2F,MAAzC,CAEA,GAAIC,SAAQ,CAAGF,MAAM,EAAI1F,SAAzB,CACI6F,QAAQ,CAAGF,MAAM,EAAI3F,SADzB,CAEI8F,SAAS,CAAGJ,MAAM,EAAIC,MAF1B,CAIA,GAAIG,SAAS,EAAI9gC,QAAQ,CAAC34B,MAAD,CAAzB,CAAmC,CACjC,GAAI,CAAC24B,QAAQ,CAACJ,KAAD,CAAb,CAAsB,CACpB,MAAO,MAAP,CACD,CACD4gC,QAAQ,CAAG,IAAX,CACAI,QAAQ,CAAG,KAAX,CACD,CACD,GAAIE,SAAS,EAAI,CAACF,QAAlB,CAA4B,CAC1Bn1D,KAAK,GAAKA,KAAK,CAAG,GAAIu0D,MAAJ,EAAb,CAAL,CACA,MAAQQ,SAAQ,EAAItgC,YAAY,CAAC74B,MAAD,CAAzB,CACH44D,WAAW,CAAC54D,MAAD,CAASu4B,KAAT,CAAgB0K,OAAhB,CAAyB0Y,UAAzB,CAAqCud,SAArC,CAAgD90D,KAAhD,CADR,CAEHy0D,UAAU,CAAC74D,MAAD,CAASu4B,KAAT,CAAgB8gC,MAAhB,CAAwBp2B,OAAxB,CAAiC0Y,UAAjC,CAA6Cud,SAA7C,CAAwD90D,KAAxD,CAFd,CAGD,CACD,GAAI,EAAE6+B,OAAO,CAAG81B,oBAAZ,CAAJ,CAAuC,CACrC,GAAIW,aAAY,CAAGH,QAAQ,EAAInzE,cAAc,CAACG,IAAf,CAAoByZ,MAApB,CAA4B,aAA5B,CAA/B,CACI25D,YAAY,CAAGH,QAAQ,EAAIpzE,cAAc,CAACG,IAAf,CAAoBgyC,KAApB,CAA2B,aAA3B,CAD/B,CAGA,GAAImhC,YAAY,EAAIC,YAApB,CAAkC,CAChC,GAAIC,aAAY,CAAGF,YAAY,CAAG15D,MAAM,CAAC1T,KAAP,EAAH,CAAoB0T,MAAnD,CACI65D,YAAY,CAAGF,YAAY,CAAGphC,KAAK,CAACjsC,KAAN,EAAH,CAAmBisC,KADlD,CAGAn0B,KAAK,GAAKA,KAAK,CAAG,GAAIu0D,MAAJ,EAAb,CAAL,CACA,MAAOO,UAAS,CAACU,YAAD,CAAeC,YAAf,CAA6B52B,OAA7B,CAAsC0Y,UAAtC,CAAkDv3C,KAAlD,CAAhB,CACD,CACF,CACD,GAAI,CAACq1D,SAAL,CAAgB,CACd,MAAO,MAAP,CACD,CACDr1D,KAAK,GAAKA,KAAK,CAAG,GAAIu0D,MAAJ,EAAb,CAAL,CACA,MAAOG,aAAY,CAAC94D,MAAD,CAASu4B,KAAT,CAAgB0K,OAAhB,CAAyB0Y,UAAzB,CAAqCud,SAArC,CAAgD90D,KAAhD,CAAnB,CACD,CAEDlf,MAAM,CAACC,OAAP,CAAiBuzE,eAAjB,C;;;;;;A/ClFA,GAAIpc,eAAc,CAAG1tB,mBAAO,CAAC,EAAD,CAA5B,CACI6tB,eAAe,CAAG7tB,mBAAO,CAAC,EAAD,CAD7B,CAEI+tB,YAAY,CAAG/tB,mBAAO,CAAC,GAAD,CAF1B,CAGIguB,YAAY,CAAGhuB,mBAAO,CAAC,GAAD,CAH1B,CAIIiuB,YAAY,CAAGjuB,mBAAO,CAAC,GAAD,CAJ1B,CAaA,QAASwlC,UAAT,CAAmBC,OAAnB,CAA4B,CAC1B,GAAIp1D,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGyrE,OAAO,EAAI,IAAX,CAAkB,CAAlB,CAAsBA,OAAO,CAACzrE,MAD3C,CAGA,KAAK0rE,KAAL,GACA,MAAO,EAAEr1D,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI2rE,MAAK,CAAGF,OAAO,CAACp1D,KAAD,CAAnB,CACA,KAAKmH,GAAL,CAASmuD,KAAK,CAAC,CAAD,CAAd,CAAmBA,KAAK,CAAC,CAAD,CAAxB,EACD,CACF,CAGDH,SAAS,CAAC3rE,SAAV,CAAoB6rE,KAApB,CAA4BhY,cAA5B,CACA8X,SAAS,CAAC3rE,SAAV,CAAoB,QAApB,EAAgCg0D,eAAhC,CACA2X,SAAS,CAAC3rE,SAAV,CAAoBK,GAApB,CAA0B6zD,YAA1B,CACAyX,SAAS,CAAC3rE,SAAV,CAAoBoW,GAApB,CAA0B+9C,YAA1B,CACAwX,SAAS,CAAC3rE,SAAV,CAAoB2d,GAApB,CAA0By2C,YAA1B,CAEA33D,MAAM,CAACC,OAAP,CAAiBivE,SAAjB,C;;;;;;AgD/BA,GAAI5tB,SAAQ,CAAG5X,mBAAO,CAAC,EAAD,CAAtB,CACIkrC,SAAS,CAAGlrC,mBAAO,CAAC,GAAD,CADvB,CAEI6X,QAAQ,CAAG7X,mBAAO,CAAC,EAAD,CAFtB,CAKA,GAAImqC,qBAAoB,CAAG,CAA3B,CACIgB,sBAAsB,CAAG,CAD7B,CAgBA,QAASnB,YAAT,CAAqB5gC,KAArB,CAA4BO,KAA5B,CAAmC0K,OAAnC,CAA4C0Y,UAA5C,CAAwDud,SAAxD,CAAmE90D,KAAnE,CAA0E,CACxE,GAAI41D,UAAS,CAAG/2B,OAAO,CAAG81B,oBAA1B,CACI3F,SAAS,CAAGp7B,KAAK,CAACpvC,MADtB,CAEIqxE,SAAS,CAAG1hC,KAAK,CAAC3vC,MAFtB,CAIA,GAAIwqE,SAAS,EAAI6G,SAAb,EAA0B,EAAED,SAAS,EAAIC,SAAS,CAAG7G,SAA3B,CAA9B,CAAqE,CACnE,MAAO,MAAP,CACD,CAED,GAAI8G,QAAO,CAAG91D,KAAK,CAACtb,GAAN,CAAUkvC,KAAV,CAAd,CACA,GAAIkiC,OAAO,EAAI91D,KAAK,CAACtb,GAAN,CAAUyvC,KAAV,CAAf,CAAiC,CAC/B,MAAO2hC,QAAO,EAAI3hC,KAAlB,CACD,CACD,GAAIt5B,MAAK,CAAG,CAAC,CAAb,CACIpH,MAAM,CAAG,IADb,CAEImvC,IAAI,CAAI/D,OAAO,CAAG82B,sBAAX,CAAqC,GAAIvzB,SAAJ,EAArC,CAAoD17C,SAF/D,CAIAsZ,KAAK,CAACgC,GAAN,CAAU4xB,KAAV,CAAiBO,KAAjB,EACAn0B,KAAK,CAACgC,GAAN,CAAUmyB,KAAV,CAAiBP,KAAjB,EAGA,MAAO,EAAE/4B,KAAF,CAAUm0D,SAAjB,CAA4B,CAC1B,GAAI+G,SAAQ,CAAGniC,KAAK,CAAC/4B,KAAD,CAApB,CACIm7D,QAAQ,CAAG7hC,KAAK,CAACt5B,KAAD,CADpB,CAGA,GAAI08C,UAAJ,CAAgB,CACd,GAAI0e,SAAQ,CAAGL,SAAS,CACpBre,UAAU,CAACye,QAAD,CAAWD,QAAX,CAAqBl7D,KAArB,CAA4Bs5B,KAA5B,CAAmCP,KAAnC,CAA0C5zB,KAA1C,CADU,CAEpBu3C,UAAU,CAACwe,QAAD,CAAWC,QAAX,CAAqBn7D,KAArB,CAA4B+4B,KAA5B,CAAmCO,KAAnC,CAA0Cn0B,KAA1C,CAFd,CAGD,CACD,GAAIi2D,QAAQ,GAAKvvE,SAAjB,CAA4B,CAC1B,GAAIuvE,QAAJ,CAAc,CACZ,SACD,CACDxiE,MAAM,CAAG,KAAT,CACA,MACD,CAED,GAAImvC,IAAJ,CAAU,CACR,GAAI,CAAC8yB,SAAS,CAACvhC,KAAD,CAAQ,SAAS6hC,QAAT,CAAmBE,QAAnB,CAA6B,CAC7C,GAAI,CAAC7zB,QAAQ,CAACO,IAAD,CAAOszB,QAAP,CAAT,GACCH,QAAQ,GAAKC,QAAb,EAAyBlB,SAAS,CAACiB,QAAD,CAAWC,QAAX,CAAqBn3B,OAArB,CAA8B0Y,UAA9B,CAA0Cv3C,KAA1C,CADnC,CAAJ,CAC0F,CACxF,MAAO4iC,KAAI,CAACjhD,IAAL,CAAUu0E,QAAV,CAAP,CACD,CACF,CALS,CAAd,CAKQ,CACNziE,MAAM,CAAG,KAAT,CACA,MACD,CACF,CAVD,IAUO,IAAI,EACLsiE,QAAQ,GAAKC,QAAb,EACElB,SAAS,CAACiB,QAAD,CAAWC,QAAX,CAAqBn3B,OAArB,CAA8B0Y,UAA9B,CAA0Cv3C,KAA1C,CAFN,CAAJ,CAGA,CACLvM,MAAM,CAAG,KAAT,CACA,MACD,CACF,CACDuM,KAAK,CAAC,QAAD,CAAL,CAAgB4zB,KAAhB,EACA5zB,KAAK,CAAC,QAAD,CAAL,CAAgBm0B,KAAhB,EACA,MAAO1gC,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiByzE,WAAjB,C;;;;;;ACxEA,QAASkB,UAAT,CAAmB9hC,KAAnB,CAA0B2B,SAA1B,CAAqC,CACnC,GAAI16B,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MADvC,CAGA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI+wC,SAAS,CAAC3B,KAAK,CAAC/4B,KAAD,CAAN,CAAeA,KAAf,CAAsB+4B,KAAtB,CAAb,CAA2C,CACzC,MAAO,KAAP,CACD,CACF,CACD,MAAO,MAAP,CACD,CAED9yC,MAAM,CAACC,OAAP,CAAiB20E,SAAjB,C;;;;;;AtHUA,QAASlwE,GAAT,CAAY0C,KAAZ,CAAmBisC,KAAnB,CAA0B,CACxB,MAAOjsC,MAAK,GAAKisC,KAAV,EAAoBjsC,KAAK,GAAKA,KAAV,EAAmBisC,KAAK,GAAKA,KAAxD,CACD,CAEDrzC,MAAM,CAACC,OAAP,CAAiByE,EAAjB,C;;;;;;AuHpCA,GAAI2wE,WAAU,CAAG3rC,mBAAO,CAAC,GAAD,CAAxB,CAGA,GAAImqC,qBAAoB,CAAG,CAA3B,CAGA,GAAI//B,YAAW,CAAGrzC,MAAM,CAAC8C,SAAzB,CAGA,GAAIrC,eAAc,CAAG4yC,WAAW,CAAC5yC,cAAjC,CAeA,QAAS0yE,aAAT,CAAsB94D,MAAtB,CAA8Bu4B,KAA9B,CAAqC0K,OAArC,CAA8C0Y,UAA9C,CAA0Dud,SAA1D,CAAqE90D,KAArE,CAA4E,CAC1E,GAAI41D,UAAS,CAAG/2B,OAAO,CAAG81B,oBAA1B,CACIyB,QAAQ,CAAGD,UAAU,CAACv6D,MAAD,CADzB,CAEIy6D,SAAS,CAAGD,QAAQ,CAAC5xE,MAFzB,CAGI8xE,QAAQ,CAAGH,UAAU,CAAChiC,KAAD,CAHzB,CAII0hC,SAAS,CAAGS,QAAQ,CAAC9xE,MAJzB,CAMA,GAAI6xE,SAAS,EAAIR,SAAb,EAA0B,CAACD,SAA/B,CAA0C,CACxC,MAAO,MAAP,CACD,CACD,GAAI/6D,MAAK,CAAGw7D,SAAZ,CACA,MAAOx7D,KAAK,EAAZ,CAAgB,CACd,GAAIrM,IAAG,CAAG4nE,QAAQ,CAACv7D,KAAD,CAAlB,CACA,GAAI,EAAE+6D,SAAS,CAAGpnE,GAAG,GAAI2lC,MAAV,CAAkBnyC,cAAc,CAACG,IAAf,CAAoBgyC,KAApB,CAA2B3lC,GAA3B,CAA7B,CAAJ,CAAmE,CACjE,MAAO,MAAP,CACD,CACF,CAED,GAAIsnE,QAAO,CAAG91D,KAAK,CAACtb,GAAN,CAAUkX,MAAV,CAAd,CACA,GAAIk6D,OAAO,EAAI91D,KAAK,CAACtb,GAAN,CAAUyvC,KAAV,CAAf,CAAiC,CAC/B,MAAO2hC,QAAO,EAAI3hC,KAAlB,CACD,CACD,GAAI1gC,OAAM,CAAG,IAAb,CACAuM,KAAK,CAACgC,GAAN,CAAUpG,MAAV,CAAkBu4B,KAAlB,EACAn0B,KAAK,CAACgC,GAAN,CAAUmyB,KAAV,CAAiBv4B,MAAjB,EAEA,GAAI26D,SAAQ,CAAGX,SAAf,CACA,MAAO,EAAE/6D,KAAF,CAAUw7D,SAAjB,CAA4B,CAC1B7nE,GAAG,CAAG4nE,QAAQ,CAACv7D,KAAD,CAAd,CACA,GAAI68C,SAAQ,CAAG97C,MAAM,CAACpN,GAAD,CAArB,CACIwnE,QAAQ,CAAG7hC,KAAK,CAAC3lC,GAAD,CADpB,CAGA,GAAI+oD,UAAJ,CAAgB,CACd,GAAI0e,SAAQ,CAAGL,SAAS,CACpBre,UAAU,CAACye,QAAD,CAAWte,QAAX,CAAqBlpD,GAArB,CAA0B2lC,KAA1B,CAAiCv4B,MAAjC,CAAyCoE,KAAzC,CADU,CAEpBu3C,UAAU,CAACG,QAAD,CAAWse,QAAX,CAAqBxnE,GAArB,CAA0BoN,MAA1B,CAAkCu4B,KAAlC,CAAyCn0B,KAAzC,CAFd,CAGD,CAED,GAAI,EAAEi2D,QAAQ,GAAKvvE,SAAb,CACGgxD,QAAQ,GAAKse,QAAb,EAAyBlB,SAAS,CAACpd,QAAD,CAAWse,QAAX,CAAqBn3B,OAArB,CAA8B0Y,UAA9B,CAA0Cv3C,KAA1C,CADrC,CAEEi2D,QAFJ,CAAJ,CAGO,CACLxiE,MAAM,CAAG,KAAT,CACA,MACD,CACD8iE,QAAQ,GAAKA,QAAQ,CAAG/nE,GAAG,EAAI,aAAvB,CAAR,CACD,CACD,GAAIiF,MAAM,EAAI,CAAC8iE,QAAf,CAAyB,CACvB,GAAIC,QAAO,CAAG56D,MAAM,CAACrX,WAArB,CACIkyE,OAAO,CAAGtiC,KAAK,CAAC5vC,WADpB,CAIA,GAAIiyE,OAAO,EAAIC,OAAX,EACC,eAAiB76D,OAAjB,EAA2B,eAAiBu4B,MAD7C,EAEA,EAAE,MAAOqiC,QAAP,EAAkB,UAAlB,EAAgCA,OAAO,WAAYA,QAAnD,EACA,MAAOC,QAAP,EAAkB,UADlB,EACgCA,OAAO,WAAYA,QADrD,CAFJ,CAGmE,CACjEhjE,MAAM,CAAG,KAAT,CACD,CACF,CACDuM,KAAK,CAAC,QAAD,CAAL,CAAgBpE,MAAhB,EACAoE,KAAK,CAAC,QAAD,CAAL,CAAgBm0B,KAAhB,EACA,MAAO1gC,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiB2zE,YAAjB,C;;;;;;AtHxFA,GAAI90B,QAAO,CAAGpV,mBAAO,CAAC,EAAD,CAArB,CAGA,GAAImtB,WAAU,CAAG/X,OAAO,CAACr+C,MAAM,CAAC+M,IAAR,CAAc/M,MAAd,CAAxB,CAEAT,MAAM,CAACC,OAAP,CAAiB42D,UAAjB,C;;;;;;AtEIA,QAAS9jB,SAAT,CAAkBD,KAAlB,CAAyBE,QAAzB,CAAmC,CACjC,GAAIj5B,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MADvC,CAEIiP,MAAM,CAAGjN,KAAK,CAAChC,MAAD,CAFlB,CAIA,MAAO,EAAEqW,KAAF,CAAUrW,MAAjB,CAAyB,CACvBiP,MAAM,CAACoH,KAAD,CAAN,CAAgBi5B,QAAQ,CAACF,KAAK,CAAC/4B,KAAD,CAAN,CAAeA,KAAf,CAAsB+4B,KAAtB,CAAxB,CACD,CACD,MAAOngC,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiB8yC,QAAjB,C;;;;;;A6LnBA,GAAI6iC,YAAW,CAAG9vE,IAAI,CAAC6nC,KAAvB,CACIyvB,YAAY,CAAGt3D,IAAI,CAACC,MADxB,CAYA,QAASk3D,WAAT,CAAoBnhB,KAApB,CAA2BC,KAA3B,CAAkC,CAChC,MAAOD,MAAK,CAAG85B,WAAW,CAACxY,YAAY,IAAMrhB,KAAK,CAAGD,KAAR,CAAgB,CAAtB,CAAb,CAA1B,CACD,CAED97C,MAAM,CAACC,OAAP,CAAiBg9D,UAAjB,C;;;;;;AjMDA,QAAS9wB,SAAT,CAAkB/kC,KAAlB,CAAyB,CACvB,MAAOA,MAAP,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBksC,QAAjB,C;;;;;;AkMXA,QAASwP,UAAT,CAAmBE,MAAnB,CAA2BC,KAA3B,CAAkCC,KAAlC,CAAyC,CACvC,GAAIF,MAAM,GAAKA,MAAf,CAAuB,CACrB,GAAIE,KAAK,GAAKn2C,SAAd,CAAyB,CACvBi2C,MAAM,CAAGA,MAAM,EAAIE,KAAV,CAAkBF,MAAlB,CAA2BE,KAApC,CACD,CACD,GAAID,KAAK,GAAKl2C,SAAd,CAAyB,CACvBi2C,MAAM,CAAGA,MAAM,EAAIC,KAAV,CAAkBD,MAAlB,CAA2BC,KAApC,CACD,CACF,CACD,MAAOD,OAAP,CACD,CAED77C,MAAM,CAACC,OAAP,CAAiB07C,SAAjB,C;;;;;;A3JRA,QAASuD,UAAT,EAAqB,CACnB,MAAO,MAAP,CACD,CAEDl/C,MAAM,CAACC,OAAP,CAAiBi/C,SAAjB,C;;;;;;A4JhBA,GAAItV,gBAAe,CAAG,qBAAtB,CAsBA,QAAS2zB,OAAT,CAAgB9oB,SAAhB,CAA2B,CACzB,GAAI,MAAOA,UAAP,EAAoB,UAAxB,CAAoC,CAClC,KAAM,IAAIz2B,UAAJ,CAAc4rB,eAAd,CAAN,CACD,CACD,MAAO,WAAW,CAChB,GAAIl2B,KAAI,CAAGlP,SAAX,CACA,OAAQkP,IAAI,CAAChQ,MAAb,EACE,IAAK,EAAL,CAAQ,MAAO,CAAC+wC,SAAS,CAACpzC,IAAV,CAAe,IAAf,CAAR,CACR,IAAK,EAAL,CAAQ,MAAO,CAACozC,SAAS,CAACpzC,IAAV,CAAe,IAAf,CAAqBqS,IAAI,CAAC,CAAD,CAAzB,CAAR,CACR,IAAK,EAAL,CAAQ,MAAO,CAAC+gC,SAAS,CAACpzC,IAAV,CAAe,IAAf,CAAqBqS,IAAI,CAAC,CAAD,CAAzB,CAA8BA,IAAI,CAAC,CAAD,CAAlC,CAAR,CACR,IAAK,EAAL,CAAQ,MAAO,CAAC+gC,SAAS,CAACpzC,IAAV,CAAe,IAAf,CAAqBqS,IAAI,CAAC,CAAD,CAAzB,CAA8BA,IAAI,CAAC,CAAD,CAAlC,CAAuCA,IAAI,CAAC,CAAD,CAA3C,CAAR,CAJV,CAMA,MAAO,CAAC+gC,SAAS,CAAClwC,KAAV,CAAgB,IAAhB,CAAsBmP,IAAtB,CAAR,CACD,CATD,CAUD,CAED1T,MAAM,CAACC,OAAP,CAAiBs9D,MAAjB,C;;;;;;AlD9BA,QAASiS,aAAT,CAAsB10D,MAAtB,CAA8B,CAC5B,GAAInI,OAAM,CAAG,EAAb,CACA,GAAImI,MAAM,EAAI,IAAd,CAAoB,CAClB,IAAK,GAAIpN,IAAT,GAAgBjN,OAAM,CAACqa,MAAD,CAAtB,CAAgC,CAC9BnI,MAAM,CAAC9R,IAAP,CAAY6M,GAAZ,EACD,CACF,CACD,MAAOiF,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBuvE,YAAjB,C;;;;;;A5EPA,QAASppE,KAAT,EAAgB,CAEf,CAEDpG,MAAM,CAACC,OAAP,CAAiBmG,IAAjB,C;;;;;;ACEA,QAASkwD,UAAT,EAAqB,CACnB,MAAO,EAAP,CACD,CAEDt2D,MAAM,CAACC,OAAP,CAAiBq2D,SAAjB,C;;;;;;A8HtBA,GAAIhV,SAAQ,CAAG5X,mBAAO,CAAC,EAAD,CAAtB,CACI6V,aAAa,CAAG7V,mBAAO,CAAC,EAAD,CAD3B,CAEI0X,iBAAiB,CAAG1X,mBAAO,CAAC,EAAD,CAF/B,CAGIqJ,QAAQ,CAAGrJ,mBAAO,CAAC,EAAD,CAHtB,CAII0V,SAAS,CAAG1V,mBAAO,CAAC,EAAD,CAJvB,CAKI6X,QAAQ,CAAG7X,mBAAO,CAAC,EAAD,CALtB,CAQA,GAAIU,UAAS,CAAGtkC,IAAI,CAACukC,GAArB,CAYA,QAAS4V,iBAAT,CAA0B3E,MAA1B,CAAkCtI,QAAlC,CAA4CqO,UAA5C,CAAwD,CACtD,GAAIO,SAAQ,CAAGP,UAAU,CAAGD,iBAAH,CAAuB7B,aAAhD,CACI77C,MAAM,CAAG43C,MAAM,CAAC,CAAD,CAAN,CAAU53C,MADvB,CAEIqxE,SAAS,CAAGz5B,MAAM,CAAC53C,MAFvB,CAGI0xE,QAAQ,CAAGL,SAHf,CAIIc,MAAM,CAAGnwE,KAAK,CAACqvE,SAAD,CAJlB,CAKIe,SAAS,CAAGC,QALhB,CAMIpjE,MAAM,CAAG,EANb,CAQA,MAAOyiE,QAAQ,EAAf,CAAmB,CACjB,GAAItiC,MAAK,CAAGwI,MAAM,CAAC85B,QAAD,CAAlB,CACA,GAAIA,QAAQ,EAAIpiC,QAAhB,CAA0B,CACxBF,KAAK,CAAGC,QAAQ,CAACD,KAAD,CAAQsM,SAAS,CAACpM,QAAD,CAAjB,CAAhB,CACD,CACD8iC,SAAS,CAAG1rC,SAAS,CAAC0I,KAAK,CAACpvC,MAAP,CAAeoyE,SAAf,CAArB,CACAD,MAAM,CAACT,QAAD,CAAN,CAAmB,CAAC/zB,UAAD,GAAgBrO,QAAQ,EAAKtvC,MAAM,EAAI,GAAV,EAAiBovC,KAAK,CAACpvC,MAAN,EAAgB,GAA9D,EACf,GAAI49C,SAAJ,CAAa8zB,QAAQ,EAAItiC,KAAzB,CADe,CAEfltC,SAFJ,CAGD,CACDktC,KAAK,CAAGwI,MAAM,CAAC,CAAD,CAAd,CAEA,GAAIvhC,MAAK,CAAG,CAAC,CAAb,CACI+nC,IAAI,CAAG+zB,MAAM,CAAC,CAAD,CADjB,CAGA9zB,KAAK,CACL,MAAO,EAAEhoC,KAAF,CAAUrW,MAAV,EAAoBiP,MAAM,CAACjP,MAAP,CAAgBoyE,SAA3C,CAAsD,CACpD,GAAI1uE,MAAK,CAAG0rC,KAAK,CAAC/4B,KAAD,CAAjB,CACIiY,QAAQ,CAAGghB,QAAQ,CAAGA,QAAQ,CAAC5rC,KAAD,CAAX,CAAqBA,KAD5C,CAGAA,KAAK,CAAIi6C,UAAU,EAAIj6C,KAAK,GAAK,CAAzB,CAA8BA,KAA9B,CAAsC,CAA9C,CACA,GAAI,EAAE06C,IAAI,CACFP,QAAQ,CAACO,IAAD,CAAO9vB,QAAP,CADN,CAEF4vB,QAAQ,CAACjvC,MAAD,CAASqf,QAAT,CAAmBqvB,UAAnB,CAFZ,CAAJ,CAGO,CACL+zB,QAAQ,CAAGL,SAAX,CACA,MAAO,EAAEK,QAAT,CAAmB,CACjB,GAAI3nE,MAAK,CAAGooE,MAAM,CAACT,QAAD,CAAlB,CACA,GAAI,EAAE3nE,KAAK,CACH8zC,QAAQ,CAAC9zC,KAAD,CAAQukB,QAAR,CADL,CAEH4vB,QAAQ,CAACtG,MAAM,CAAC85B,QAAD,CAAP,CAAmBpjD,QAAnB,CAA6BqvB,UAA7B,CAFZ,CAAJ,CAGM,CACJ,QAASU,MAAT,CACD,CACF,CACD,GAAID,IAAJ,CAAU,CACRA,IAAI,CAACjhD,IAAL,CAAUmxB,QAAV,EACD,CACDrf,MAAM,CAAC9R,IAAP,CAAYuG,KAAZ,EACD,CACF,CACD,MAAOuL,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBggD,gBAAjB,C;;;;;;ACzEA,GAAIrN,kBAAiB,CAAGlJ,mBAAO,CAAC,EAAD,CAA/B,CASA,QAASwW,oBAAT,CAA6B94C,KAA7B,CAAoC,CAClC,MAAOwrC,kBAAiB,CAACxrC,KAAD,CAAjB,CAA2BA,KAA3B,CAAmC,EAA1C,CACD,CAEDpH,MAAM,CAACC,OAAP,CAAiBigD,mBAAjB,C;;;;;;ACbA,GAAIiB,UAAS,CAAGzX,mBAAO,CAAC,EAAD,CAAvB,CAaA,QAAS+zB,UAAT,CAAmB3qB,KAAnB,CAA0B2B,SAA1B,CAAqCuhC,MAArC,CAA6C7F,SAA7C,CAAwD,CACtD,GAAIzsE,OAAM,CAAGovC,KAAK,CAACpvC,MAAnB,CACIqW,KAAK,CAAGo2D,SAAS,CAAGzsE,MAAH,CAAY,CAAC,CADlC,CAGA,MAAO,CAACysE,SAAS,CAAGp2D,KAAK,EAAR,CAAa,EAAEA,KAAF,CAAUrW,MAAjC,GACL+wC,SAAS,CAAC3B,KAAK,CAAC/4B,KAAD,CAAN,CAAeA,KAAf,CAAsB+4B,KAAtB,CADX,CACyC,CAAE,CAE3C,MAAOkjC,OAAM,CACT70B,SAAS,CAACrO,KAAD,CAASq9B,SAAS,CAAG,CAAH,CAAOp2D,KAAzB,CAAkCo2D,SAAS,CAAGp2D,KAAK,CAAG,CAAX,CAAerW,MAA1D,CADA,CAETy9C,SAAS,CAACrO,KAAD,CAASq9B,SAAS,CAAGp2D,KAAK,CAAG,CAAX,CAAe,CAAjC,CAAsCo2D,SAAS,CAAGzsE,MAAH,CAAYqW,KAA3D,CAFb,CAGD,CAED/Z,MAAM,CAACC,OAAP,CAAiBw9D,SAAjB,C;;;;;;ACzBA,GAAItc,UAAS,CAAGzX,mBAAO,CAAC,EAAD,CAAvB,CACI4C,cAAc,CAAG5C,mBAAO,CAAC,EAAD,CAD5B,CAEI6T,SAAS,CAAG7T,mBAAO,CAAC,EAAD,CAFvB,CAoBA,QAAS/oC,MAAT,CAAemyC,KAAf,CAAsB1/B,KAAtB,CAA6BtO,GAA7B,CAAkC,CAChC,GAAIpB,OAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MAAvC,CACA,GAAI,CAACA,MAAL,CAAa,CACX,MAAO,EAAP,CACD,CACD,GAAIoB,GAAG,EAAI,MAAOA,IAAP,EAAc,QAArB,EAAiCwnC,cAAc,CAACwG,KAAD,CAAQ1/B,KAAR,CAAetO,GAAf,CAAnD,CAAwE,CACtEsO,KAAK,CAAG,CAAR,CACAtO,GAAG,CAAGpB,MAAN,CACD,CAHD,IAIK,CACH0P,KAAK,CAAGA,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBmqC,SAAS,CAACnqC,KAAD,CAArC,CACAtO,GAAG,CAAGA,GAAG,GAAKc,SAAR,CAAoBlC,MAApB,CAA6B65C,SAAS,CAACz4C,GAAD,CAA5C,CACD,CACD,MAAOq8C,UAAS,CAACrO,KAAD,CAAQ1/B,KAAR,CAAetO,GAAf,CAAhB,CACD,CAED9E,MAAM,CAACC,OAAP,CAAiBU,KAAjB,C;;;;;;A3C3BA,QAASs3D,YAAT,CAAqBnlB,KAArB,CAA4B2B,SAA5B,CAAuC,CACrC,GAAI16B,MAAK,CAAG,CAAC,CAAb,CACIrW,MAAM,CAAGovC,KAAK,EAAI,IAAT,CAAgB,CAAhB,CAAoBA,KAAK,CAACpvC,MADvC,CAEIs8C,QAAQ,CAAG,CAFf,CAGIrtC,MAAM,CAAG,EAHb,CAKA,MAAO,EAAEoH,KAAF,CAAUrW,MAAjB,CAAyB,CACvB,GAAI0D,MAAK,CAAG0rC,KAAK,CAAC/4B,KAAD,CAAjB,CACA,GAAI06B,SAAS,CAACrtC,KAAD,CAAQ2S,KAAR,CAAe+4B,KAAf,CAAb,CAAoC,CAClCngC,MAAM,CAACqtC,QAAQ,EAAT,CAAN,CAAqB54C,KAArB,CACD,CACF,CACD,MAAOuL,OAAP,CACD,CAED3S,MAAM,CAACC,OAAP,CAAiBg4D,WAAjB,C;;;;;;A4CxBA,KAAMnnD,QAAO,CAAG44B,mBAAO,CAAC,GAAD,CAAvB,CACA,KAAMusC,GAAE,CAAG,CAAC7sE,CAAD,CAAIC,CAAJ,CAAOqvD,KAAP,GAAiB5nD,OAAO,CAAC1H,CAAD,CAAIC,CAAJ,CAAOqvD,KAAP,CAAP,CAAuB,CAAnD,CACA14D,MAAM,CAACC,OAAP,CAAiBg2E,EAAjB,C;;;;;;ACFA,KAAMC,QAAO,CAAG,UAAhB,CACA,KAAMrd,mBAAkB,CAAG,CAACzvD,CAAD,CAAIC,CAAJ,GAAU,CACnC,KAAM8sE,KAAI,CAAGD,OAAO,CAACjpE,IAAR,CAAa7D,CAAb,CAAb,CACA,KAAMgtE,KAAI,CAAGF,OAAO,CAACjpE,IAAR,CAAa5D,CAAb,CAAb,CAEA,GAAI8sE,IAAI,EAAIC,IAAZ,CAAkB,CAChBhtE,CAAC,CAAG,CAACA,CAAL,CACAC,CAAC,CAAG,CAACA,CAAL,CACD,CAED,MAAOD,EAAC,GAAKC,CAAN,CAAU,CAAV,CACF8sE,IAAI,EAAI,CAACC,IAAV,CAAkB,CAAC,CAAnB,CACCA,IAAI,EAAI,CAACD,IAAV,CAAkB,CAAlB,CACA/sE,CAAC,CAAGC,CAAJ,CAAQ,CAAC,CAAT,CACA,CAJJ,CAKD,CAdD,CAgBA,KAAMgtE,oBAAmB,CAAG,CAACjtE,CAAD,CAAIC,CAAJ,GAAUwvD,kBAAkB,CAACxvD,CAAD,CAAID,CAAJ,CAAxD,CAEApJ,MAAM,CAACC,OAAP,CAAiB,CACf44D,kBADe,CAEfwd,mBAFe,CAAjB,C;;;;;;ACnBA,KAAMz0D,MAAK,CAAG8nB,mBAAO,CAAC,GAAD,CAArB,CACA,KAAMhlC,GAAE,CAAGglC,mBAAO,CAAC,GAAD,CAAlB,CAEA,KAAMp7B,KAAI,CAAG,CAACgoE,QAAD,CAAWC,QAAX,GAAwB,CACnC,GAAI7xE,EAAE,CAAC4xE,QAAD,CAAWC,QAAX,CAAN,CAA4B,CAC1B,MAAO,KAAP,CACD,CAFD,IAEO,CACL,KAAMC,GAAE,CAAG50D,KAAK,CAAC00D,QAAD,CAAhB,CACA,KAAMG,GAAE,CAAG70D,KAAK,CAAC20D,QAAD,CAAhB,CACA,GAAIphD,OAAM,CAAG,EAAb,CACA,GAAIqhD,EAAE,CAACpd,UAAH,CAAc11D,MAAd,EAAwB+yE,EAAE,CAACrd,UAAH,CAAc11D,MAA1C,CAAkD,CAChDyxB,MAAM,CAAG,KAAT,CACA,GAAIuhD,cAAa,CAAG,YAApB,CACD,CACD,IAAK,KAAMhpE,IAAX,GAAkB8oE,GAAlB,CAAsB,CACpB,GAAI9oE,GAAG,GAAK,OAAR,EAAmBA,GAAG,GAAK,OAA3B,EAAsCA,GAAG,GAAK,OAAlD,CAA2D,CACzD,GAAI8oE,EAAE,CAAC9oE,GAAD,CAAF,GAAY+oE,EAAE,CAAC/oE,GAAD,CAAlB,CAAyB,CACvB,MAAOynB,OAAM,CAAGznB,GAAhB,CACD,CACF,CACF,CACD,MAAOgpE,cAAP,CACD,CACF,CApBD,CAqBA12E,MAAM,CAACC,OAAP,CAAiBqO,IAAjB,C;;;;;;ACxBA,KAAM,CAAC4zC,UAAD,EAAexY,mBAAO,CAAC,EAAD,CAA5B,CACA,KAAM,CAAEkvB,EAAF,CAAM/wC,CAAN,EAAY6hB,mBAAO,CAAC,GAAD,CAAzB,CACA,KAAM+uB,OAAM,CAAG/uB,mBAAO,CAAC,GAAD,CAAtB,CAEA,KAAM9nB,MAAK,CAAG,CAAC5e,OAAD,CAAUkC,OAAV,GAAsB,CAClC,GAAI,CAACA,OAAD,EAAY,MAAOA,QAAP,GAAmB,QAAnC,CAA6C,CAC3CA,OAAO,CAAG,CACRwzD,KAAK,CAAE,CAAC,CAACxzD,OADD,CAER4zD,iBAAiB,CAAE,KAFX,CAAV,CAID,CAED,GAAI91D,OAAO,WAAYy1D,OAAvB,CAA+B,CAC7B,MAAOz1D,QAAP,CACD,CAED,GAAI,MAAOA,QAAP,GAAmB,QAAvB,CAAiC,CAC/B,MAAO,KAAP,CACD,CAED,GAAIA,OAAO,CAACU,MAAR,CAAiBw+C,UAArB,CAAiC,CAC/B,MAAO,KAAP,CACD,CAED,KAAMzV,EAAC,CAAGvnC,OAAO,CAACwzD,KAAR,CAAgBE,EAAE,CAAC/wC,CAAC,CAACkxC,KAAH,CAAlB,CAA8BH,EAAE,CAAC/wC,CAAC,CAACmxC,IAAH,CAA1C,CACA,GAAI,CAACvsB,CAAC,CAACx/B,IAAF,CAAOjK,OAAP,CAAL,CAAsB,CACpB,MAAO,KAAP,CACD,CAED,GAAI,CACF,MAAO,IAAIy1D,OAAJ,CAAWz1D,OAAX,CAAoBkC,OAApB,CAAP,CACD,CAAC,MAAOyxE,EAAP,CAAW,CACX,MAAO,KAAP,CACD,CACF,CA9BD,CAgCA32E,MAAM,CAACC,OAAP,CAAiB2hB,KAAjB,C;;;;;;ACpCA,KAAM9Q,QAAO,CAAG44B,mBAAO,CAAC,GAAD,CAAvB,CACA,KAAMhlC,GAAE,CAAG,CAAC0E,CAAD,CAAIC,CAAJ,CAAOqvD,KAAP,GAAiB5nD,OAAO,CAAC1H,CAAD,CAAIC,CAAJ,CAAOqvD,KAAP,CAAP,GAAyB,CAArD,CACA14D,MAAM,CAACC,OAAP,CAAiByE,EAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFe,iFAAuB,YAAY,E;;ACE3C,MAAMkyE,iBAAiB,GAAG,eAA1B;AACA,MAAMC,iBAAiB,GAAG,eAA1B;AACA,MAAMC,wCAAwC,GAAG,gDAAjD;AACA,MAAMC,iBAAiB,GAAG,eAA1B,C;;;;;;;;;;ACHA,MAAMC,MAAM,GAAG,OAAO,EAAtB;AACA,MAAMC,IAAI,GAAG,KAAKD,MAAlB;AACA,MAAME,GAAG,GAAG,KAAKD,IAAjB;AACA,MAAME,IAAI,GAAG,IAAID,GAAjB;AAEA,SAASE,iBAAT,CAA2BC,aAA3B,EAAkD;AAExD,QAAMC,OAAO,GAAGxxE,IAAI,CAAC6nC,KAAL,CAAW0pC,aAAa,GAAG,EAA3B,IAAiC,EAAjD;AACA,QAAME,KAAK,GAAGzxE,IAAI,CAAC6nC,KAAL,CAAW0pC,aAAa,GAAG,IAA3B,CAAd;AAEA,QAAM18C,IAAI,GAAG,CAAC28C,OAAD,EAJGD,aAAa,GAAG,EAInB,CAAb;;AACA,MAAIE,KAAK,GAAG,CAAZ,EAAe;AACd58C,QAAI,CAACxpB,OAAL,CAAaomE,KAAb;AACA;;AAED,SAAO58C,IAAI,CAACt2B,GAAL,CAAS8kD,IAAI,IAAIj+C,MAAM,CAACi+C,IAAD,CAAN,CAAaquB,QAAb,CAAsB,CAAtB,EAAyB,GAAzB,CAAjB,EAAgDrqE,IAAhD,CAAqD,GAArD,CAAP;AACA,C;;;;;;;;;;;;;;;;;;ACTM,SAASsqE,QAAT,CAAkBp1E,GAAlB,EAAuBq1E,EAAvB,EAA2B;AAMhC,SAAOr1E,GAAP;AAID,C;;;;;;AChBD;AAEO,SAASs1E,YAAT,CAAsBC,GAAtB,EAAwC,GAAGhwD,MAA3C,EAA6E;AACnF,SAAOiwD,OAAO,CAACC,IAAR,CAAalwD,MAAM,CAACvjB,GAAP,CAAWmjB,KAAK,IACnC,IAAIqwD,OAAJ,CAAYz7D,OAAO,IAAIw7D,GAAG,CAACroE,gBAAJ,CAAqBiY,KAArB,EAA4B,SAASjM,IAAT,CAActP,CAAd,EAAiB;AACnE2rE,OAAG,CAACh4D,mBAAJ,CAAwB4H,KAAxB,EAA+BjM,IAA/B;AACAa,WAAO,CAACnQ,CAAD,CAAP;AACA,GAHsB,CAAvB,CADmB,CAAb,CAAP;AAMA;AAEM,SAAS8rE,YAAT,CAAsBH,GAAtB,EAAoC10E,QAApC,EAA4E;AAClF,SAAO,IAAI20E,OAAJ,CAAYz7D,OAAO,IAAI;AAC7B,UAAM47D,KAAK,GAAGtyE,KAAK,CAACwsE,IAAN,CAAW0F,GAAG,CAACp+D,QAAf,EAAyBzJ,IAAzB,CAA8BioE,KAAK,IAAIA,KAAK,CAAC9wE,OAAN,CAAchE,QAAd,CAAvC,CAAd;;AACA,QAAI80E,KAAJ,EAAW;AACV57D,aAAO,CAAC47D,KAAD,CAAP;AACA;AACA;;AAED,UAAMC,QAAQ,GAAG,IAAIC,gBAAJ,CAAqBC,SAAS,IAAI;AAClD,WAAK,MAAMC,QAAX,IAAuBD,SAAvB,EAAkC;AACjC,aAAK,MAAMj2E,IAAX,IAAmBk2E,QAAQ,CAACC,UAA5B,EAAwC;AACvC,cAAIn2E,IAAI,CAACT,QAAL,KAAkBk1C,IAAI,CAAC2hC,YAAvB,IAAwCp2E,IAAD,CAAYgF,OAAZ,CAAoBhE,QAApB,CAA3C,EAA0E;AACzE+0E,oBAAQ,CAACM,UAAT;AACAn8D,mBAAO,CAACq7D,QAAQ,CAACv1E,IAAD,EAAO6iE,WAAP,CAAT,CAAP;AACA;AACA;AACD;AACD;AACD,KAVgB,CAAjB;AAWAkT,YAAQ,CAACO,OAAT,CAAiBZ,GAAjB,EAAsB;AAAEa,eAAS,EAAE;AAAb,KAAtB;AACA,GAnBM,CAAP;AAoBA;AAEM,SAASC,gBAAT,CAA0Bd,GAA1B,EAAwC10E,QAAxC,EAA0DkB,QAA1D,EAAqG;AAC3G,OAAK,MAAM4zE,KAAX,IAAoBtyE,KAAK,CAACwsE,IAAN,CAAW0F,GAAG,CAACp+D,QAAf,EAAyB3J,MAAzB,CAAgCmoE,KAAK,IAAIA,KAAK,CAAC9wE,OAAN,CAAchE,QAAd,CAAzC,CAApB,EAAuF;AACtFkB,YAAQ,CAAC4zE,KAAD,CAAR;AACA;;AAEDW,wBAAsB,CAACf,GAAD,EAAM10E,QAAN,EAAgBkB,QAAhB,CAAtB;AACA;AAEM,SAASu0E,sBAAT,CAAgCf,GAAhC,EAA8C10E,QAA9C,EAAgEkB,QAAhE,EAA2G;AACjH,MAAI8zE,gBAAJ,CAAqBC,SAAS,IAAI;AACjC,SAAK,MAAMC,QAAX,IAAuBD,SAAvB,EAAkC;AACjC,WAAK,MAAMj2E,IAAX,IAAmBk2E,QAAQ,CAACC,UAA5B,EAAwC;AACvC,YAAIn2E,IAAI,CAACT,QAAL,KAAkBk1C,IAAI,CAAC2hC,YAAvB,IAAwCp2E,IAAD,CAAYgF,OAAZ,CAAoBhE,QAApB,CAA3C,EAA0E;AACzEkB,kBAAQ,CAACqzE,QAAQ,CAACv1E,IAAD,EAAO6iE,WAAP,CAAT,CAAR;AACA;AACD;AACD;AACD,GARD,EAQGyT,OARH,CAQWZ,GARX,EAQgB;AAAEa,aAAS,EAAE;AAAb,GARhB;AASA;AAEM,SAASG,iBAAT,CAA2BhB,GAA3B,EAAyC10E,QAAzC,EAAiF;AACvF,SAAO,IAAI20E,OAAJ,CAAYz7D,OAAO,IAAI;AAC7B,UAAM47D,KAAK,GAAGJ,GAAG,CAACiB,aAAJ,CAAkB31E,QAAlB,CAAd;;AACA,QAAI80E,KAAJ,EAAW;AACV57D,aAAO,CAAC47D,KAAD,CAAP;AACA;AACA;;AAED,UAAMC,QAAQ,GAAG,IAAIC,gBAAJ,CAAqBC,SAAS,IAAI;AAClD,WAAK,MAAMC,QAAX,IAAuBD,SAAvB,EAAkC;AACjC,aAAK,MAAMj2E,IAAX,IAAmBk2E,QAAQ,CAACC,UAA5B,EAAwC;AACvC,cAAIn2E,IAAI,CAACT,QAAL,KAAkBk1C,IAAI,CAAC2hC,YAA3B,EAAyC;AAGxC,kBAAMN,KAAK,GAAGJ,GAAG,CAACiB,aAAJ,CAAkB31E,QAAlB,CAAd;;AACA,gBAAI80E,KAAJ,EAAW;AACVC,sBAAQ,CAACM,UAAT;AACAn8D,qBAAO,CAAC47D,KAAD,CAAP;AACA;;AAED;AACA;AACD;AACD;AACD,KAhBgB,CAAjB;AAiBAC,YAAQ,CAACO,OAAT,CAAiBZ,GAAjB,EAAsB;AAAEa,eAAS,EAAE,IAAb;AAAmBK,aAAO,EAAE;AAA5B,KAAtB;AACA,GAzBM,CAAP;AA0BA;AAEM,SAASC,uBAAT,CAAiCnB,GAAjC,EAA+C10E,QAA/C,EAAiE;AAAE81E,OAAK,GAAG,KAAV;AAAiBC,SAAO,GAAG;AAA3B,IAA+E;AAAED,OAAK,EAAE,IAAT;AAAeC,SAAO,EAAE;AAAxB,CAAhJ,EAAuM;AAC7M,SAAO,IAAIpB,OAAJ,CAAYz7D,OAAO,IAAI;AAC7B,UAAM67D,QAAQ,GAAG,IAAIC,gBAAJ,CAAqBC,SAAS,IAAI;AAClD,WAAK,MAAMC,QAAX,IAAuBD,SAAvB,EAAkC;AACjC,aAAK,MAAMj2E,IAAX,IAAmB,CAAC,IAAI82E,KAAK,GAAGZ,QAAQ,CAACC,UAAZ,GAAyB,EAAlC,CAAD,EAAwC,IAAIY,OAAO,GAAGb,QAAQ,CAACc,YAAZ,GAA2B,EAAtC,CAAxC,CAAnB,EAAuG;AACtG,cAAIh3E,IAAI,CAACT,QAAL,KAAkBk1C,IAAI,CAAC2hC,YAA3B,EAAyC;AAGxC,kBAAMN,KAAK,GAAGJ,GAAG,CAACiB,aAAJ,CAAkB31E,QAAlB,CAAd;;AACA,gBAAI80E,KAAJ,EAAW;AACVC,sBAAQ,CAACM,UAAT;AACAn8D,qBAAO,CAAC47D,KAAD,CAAP;AACA;;AAED;AACA;AACD;AACD;AACD,KAhBgB,CAAjB;AAiBAC,YAAQ,CAACO,OAAT,CAAiBZ,GAAjB,EAAsB;AAAEa,eAAS,EAAE,IAAb;AAAmBK,aAAO,EAAE;AAA5B,KAAtB;AACA,GAnBM,CAAP;AAoBA;AAEM,SAASK,aAAT,CAAuB9lE,MAAvB,EAA4CtF,EAA5C,EAA6D29B,MAA7D,EAAiG;AACvG,MAAIr4B,MAAM,CAAC5K,QAAP,CAAgBsF,EAAhB,CAAJ,EAAyB,OAAO8pE,OAAO,CAACz7D,OAAR,EAAP;AAEzB,SAAO,IAAIy7D,OAAJ,CAAY,CAACz7D,OAAD,EAAUC,MAAV,KAAqB;AACvC,UAAM47D,QAAQ,GAAG,IAAIC,gBAAJ,CAAqB,MAAM;AAC3C,UAAI7kE,MAAM,CAAC5K,QAAP,CAAgBsF,EAAhB,CAAJ,EAAyBqO,OAAO;AAChC,KAFgB,CAAjB;AAIA67D,YAAQ,CAACO,OAAT,CAAiBnlE,MAAjB,EAAyB;AAAEylE,aAAO,EAAE,IAAX;AAAiBL,eAAS,EAAE;AAA5B,KAAzB;AACA,QAAI/sC,MAAJ,EAAYA,MAAM,CAAChvB,IAAP,CAAY,MAAM;AAAEu7D,cAAQ,CAACM,UAAT;AAAuBl8D,YAAM,CAAC,IAAIjc,KAAJ,CAAU,UAAV,CAAD,CAAN;AAAgC,KAA3E;AACZ,GAPM,CAAP;AAQA;AAEM,SAASg5E,aAAT,CAAuBrrE,EAAvB,EAAwC29B,MAAxC,EAA4E;AAElF,QAAMr4B,MAAM,GAAGnT,QAAQ,CAACgP,eAAxB;AAEA,MAAI,CAACmE,MAAM,CAAC5K,QAAP,CAAgBsF,EAAhB,CAAL,EAA0B,OAAO8pE,OAAO,CAACz7D,OAAR,EAAP;AAE1B,SAAO,IAAIy7D,OAAJ,CAAY,CAACz7D,OAAD,EAAUC,MAAV,KAAqB;AACvC,UAAM47D,QAAQ,GAAG,IAAIC,gBAAJ,CAAqB,MAAM;AAC3C,UAAI,CAAC7kE,MAAM,CAAC5K,QAAP,CAAgBsF,EAAhB,CAAL,EAA0BqO,OAAO;AACjC,KAFgB,CAAjB;AAIA67D,YAAQ,CAACO,OAAT,CAAiBnlE,MAAjB,EAAyB;AAAEylE,aAAO,EAAE,IAAX;AAAiBL,eAAS,EAAE;AAA5B,KAAzB;AACA,QAAI/sC,MAAJ,EAAYA,MAAM,CAAChvB,IAAP,CAAY,MAAM;AAAEu7D,cAAQ,CAACM,UAAT;AAAuBl8D,YAAM,CAAC,IAAIjc,KAAJ,CAAU,UAAV,CAAD,CAAN;AAAgC,KAA3E;AACZ,GAPM,CAAP;AAQA;AAEM,SAASi5E,mBAAT,CAA6BzB,GAA7B,EAA2C10E,QAA3C,EAA6DkB,QAA7D,EAAkGk1E,gCAAyC,GAAG,KAA9I,EAA2J;AACjK,OAAK,MAAMtB,KAAX,IAAoBJ,GAAG,CAACvqE,gBAAJ,CAAqBnK,QAArB,CAApB,EAAoD;AACnDkB,YAAQ,CAAC4zE,KAAD,CAAR;AACA;;AAEDuB,2BAAyB,CAAC3B,GAAD,EAAM10E,QAAN,EAAgBkB,QAAhB,EAA0Bk1E,gCAA1B,CAAzB;AACA;AAEM,SAASC,yBAAT,CAAmC3B,GAAnC,EAAiD10E,QAAjD,EAAmEkB,QAAnE,EAAwGk1E,gCAAyC,GAAG,KAApJ,EAAiK;AACvK,MAAIpB,gBAAJ,CAAqBC,SAAS,IAAI;AAGjC,UAAM3+D,QAAQ,GAAG,IAAIggE,GAAJ,EAAjB;;AACA,SAAK,MAAMpB,QAAX,IAAuBD,SAAvB,EAAkC;AACjC,WAAK,MAAMj2E,IAAX,IAAmBk2E,QAAQ,CAACC,UAA5B,EAAwC;AACvC,YAAIn2E,IAAI,CAACT,QAAL,KAAkBk1C,IAAI,CAAC2hC,YAA3B,EAAyC;AAExC,cAAKp2E,IAAD,CAAYgF,OAAZ,CAAoBhE,QAApB,CAAJ,EAAmC;AAClCsW,oBAAQ,CAACS,GAAT,CAAa/X,IAAb;AACA,gBAAIo3E,gCAAJ,EAAsC;AACtC;;AAED,eAAK,MAAMtB,KAAX,IAAqB91E,IAAD,CAAYmL,gBAAZ,CAA6BnK,QAA7B,CAApB,EAA4D;AAC3DsW,oBAAQ,CAACS,GAAT,CAAa+9D,KAAb;AACA;AACD;AACD;AACD;;AACD,SAAK,MAAMA,KAAX,IAAoBx+D,QAApB,EAA8B;AAC7BpV,cAAQ,CAACqzE,QAAQ,CAACO,KAAD,EAAQjT,WAAR,CAAT,CAAR;AACA;AACD,GAtBD,EAsBGyT,OAtBH,CAsBWZ,GAtBX,EAsBgB;AAAEa,aAAS,EAAE,IAAb;AAAmBK,WAAO,EAAE;AAA5B,GAtBhB;AAuBA;AAEM,SAASn9D,KAAT,CAA2BtI,MAA3B,EAAyC;AAC/C,SAAOA,MAAM,CAACE,SAAd,EAAyBF,MAAM,CAACvQ,WAAP,CAAmBuQ,MAAM,CAACE,SAA1B;;AACzB,SAAOF,MAAP;AACA;AAEM,SAASgX,KAAT,CAAe7oB,GAAf,EAAiCooB,MAAc,GAAG,CAAlD,EAA2D;AACjEpoB,KAAG,CAACi4E,aAAJ,CAAkB,IAAIC,UAAJ,CAAe,OAAf,EAAwB;AACzCpuD,WAAO,EAAE,IADgC;AAEzCC,cAAU,EAAE,IAF6B;AAGzCG,UAAM,EAAE,CAHiC;AAIzCgB,WAAO,EAAE,CAJgC;AAKzCC,WAAO,EAAE,CALgC;AAMzCP,WAAO,EAAE,CANgC;AAOzCC,WAAO,EAAE,CAPgC;AAQzCzC;AARyC,GAAxB,CAAlB;AAUA;;AAEDS,KAAK,CAACsvD,mBAAN,GAA6B1tE,CAAD,IAA4BA,CAAC,CAACmgB,OAAF,KAAc,CAAd,IAAmBngB,CAAC,CAACogB,OAAF,KAAc,CAAzF;;AAEO,MAAMutD,eAAe,GAAG,kBAAU,MAAyC;AACjFjC,cAAY,CAACt3E,MAAD,EAAS,QAAT,CAAZ,CAA+Bqc,IAA/B,CAAoC,MAAM;AAAEk9D,mBAAe,CAACnsE,KAAhB,CAAsB2hE,KAAtB;AAAgC,GAA5E;AAEA,MAAIyK,cAAJ;;AAEA,MAAIx5E,MAAM,CAACw5E,cAAX,EAA2B;AAC1BA,kBAAc,GAAGx5E,MAAM,CAACw5E,cAAxB;AACA,GAFD,MAEO;AACN,UAAMC,oBAAoB,GAAG55E,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAA7B;AACAu3E,wBAAoB,CAAC52D,KAArB,CAA2B+N,KAA3B,GAAmC6oD,oBAAoB,CAAC52D,KAArB,CAA2BmU,MAA3B,GAAoC,MAAvE;AACAyiD,wBAAoB,CAAC52D,KAArB,CAA2BgO,QAA3B,GAAsC,OAAtC;AACAhxB,YAAQ,CAACkkB,IAAT,CAAcxhB,WAAd,CAA0Bk3E,oBAA1B;AACAD,kBAAc,GAAGC,oBAAoB,CAACjlD,qBAArB,EAAjB;;AAGA,QAAI,CAACglD,cAAc,CAACxiD,MAAhB,IAA0B,CAACwiD,cAAc,CAAC5oD,KAA9C,EAAqD;AACpD4oD,oBAAc,GAAG35E,QAAQ,CAACgP,eAAT,CAAyB2lB,qBAAzB,EAAjB;AACA;;AAEDilD,wBAAoB,CAACp+D,MAArB;AACA;;AAED,SAAO,eAAOm+D,cAAP,EAAuB,CAAC,QAAD,EAAW,OAAX,CAAvB,CAAP;AACA,CAvB8B,CAAxB;AAyBA,SAASE,iBAAT,CAA2BnC,GAA3B,EAAsD;AAC5D,MAAI,CAACA,GAAD,IAAQ,CAACA,GAAG,CAAC1vC,YAAjB,EAA+B,OAAO,KAAP;AAE/B,QAAM;AAAE54B,OAAF;AAAOylB,QAAP;AAAailD,UAAb;AAAqBlpD;AAArB,MAA+B8mD,GAAG,CAAC/iD,qBAAJ,EAArC;AAEA,SACCvlB,GAAG,IAAI,CAAP,IACAylB,IAAI,IAAI,CADR,IAEAilD,MAAM,IAAIJ,eAAe,GAAGviD,MAF5B,IAGAvG,KAAK,IAAI8oD,eAAe,GAAG3oD,KAJ5B;AAMA;;AAED,SAASgpD,qBAAT,GAAiC;AAChC,QAAMC,YAAY,GAAGC,eAAe,EAApC;AACA,QAAMplD,IAAI,GAAG10B,MAAM,CAAC4nC,WAApB;AACA,QAAM34B,GAAG,GAAGjP,MAAM,CAAC2nC,WAAP,GAAqBkyC,YAAjC;AACA,QAAMjpD,KAAK,GAAG2oD,eAAe,GAAG3oD,KAAhC;AACA,QAAMoG,MAAM,GAAGuiD,eAAe,GAAGviD,MAAlB,GAA2B6iD,YAA1C;AAEA,SAAO;AACNE,WAAO,EAAEF,YADH;AAENnlD,QAFM;AAGNzlB,OAHM;AAIN0qE,UAAM,EAAE1qE,GAAG,GAAG+nB,MAJR;AAKNvG,SAAK,EAAEiE,IAAI,GAAG9D,KALR;AAMNA,SANM;AAONoG;AAPM,GAAP;AASA;;AAKM,SAASgjD,yBAAT,CAAmC74E,GAAnC,EAAyD;AAC/D,QAAMsmC,IAAI,GAAGtmC,GAAG,CAACqzB,qBAAJ,EAAb;AACA,QAAMvlB,GAAG,GAAGxJ,IAAI,CAAC0tB,GAAL,CAAS,CAAT,EAAYsU,IAAI,CAACkyC,MAAL,GAAclyC,IAAI,CAACzQ,MAA/B,CAAZ;AACA,QAAM2iD,MAAM,GAAGl0E,IAAI,CAACukC,GAAL,CAASuvC,eAAe,GAAGviD,MAA3B,EAAmCyQ,IAAI,CAACkyC,MAAxC,CAAf;;AACA,MAAIlyC,IAAI,CAACzQ,MAAL,KAAgB,CAApB,EAAuB;AACtB,WAAO,CAAP;AACA;;AACD,SAAOvxB,IAAI,CAAC0tB,GAAL,CAAS,CAAT,EAAY,CAACwmD,MAAM,GAAG1qE,GAAV,IAAiBw4B,IAAI,CAACzQ,MAAlC,CAAP;AACA;;AAED,MAAMijD,SAAS,GAAG,sBAAO,MAAM;AAC9B,QAAMplC,OAAO,GAAGh1C,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAhB;AACA2yC,SAAO,CAAChyB,KAAR,CAAcksD,KAAd,GAAsB,MAAtB;AAEA,SAAO,CAACl5C,SAAD,EAAYqkD,cAAZ,KAA+B;AACrC,UAAMC,cAAc,GAAGtlC,OAAO,CAACulC,YAA/B;AACA,UAAMC,eAAe,GAHD,EAGI,GACvB,EAAEx6E,QAAQ,CAACgP,eAAT,CAAyByrE,YAAzB,GAAwCzkD,SAAxC,GAAoDqkD,cAApD,GAAqEC,cAAvE,CADD;AAEA,QAAIE,eAAe,GAAG,CAAtB,EAAyBx6E,QAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqB8lB,OAArB,EAAzB,KACKA,OAAO,CAACx5B,MAAR;AACLw5B,WAAO,CAAChyB,KAAR,CAAcmU,MAAd,GAAwB,GAAEqjD,eAAgB,IAA1C;AACA,GAPD;AAQA,CAZiB,CAAlB;;AAcA,IAAIE,YAAY,GAAG,KAAnB;AACA,IAAIC,qBAAJ;AAMO,SAASC,eAAT,CAAyBphD,EAAzB,EAA0Cw4C,IAA1C,EAA8D;AACpE6I,aADoE;AAEpEC,qBAFoE;AAGpEC,WAAS,EAAEC,iBAHyD;AAIpEC,QAJoE;AAKpEC;AALoE,CAA9D,EAYmB;AACzB,QAAMC,sBAAsB,GAAGR,qBAAqB,GAAG,EAAvD;;AAEA,MAAIO,eAAe,IAAI,CAAC1hD,EAAE,CAACwO,YAA3B,EAAyC;AAExC,WAAO,IAAI2vC,OAAJ,CAAYyD,GAAG,IAAI;AACzBvkD,2BAAqB,CAAC,MAAM;AAC3B,YAAI8jD,qBAAqB,KAAKQ,sBAA9B,EAAsD;AACtD,SAACP,eAAe,CAAC,GAAGt2E,SAAJ,CAAf,IAAiCqzE,OAAO,CAACz7D,OAAR,EAAlC,EAAqDM,IAArD,CAA0D4+D,GAA1D;AACA,OAHoB,CAArB;AAIA,KALM,CAAP;AAMA;;AAED,MAAIP,WAAW,KAAK,MAAhB,IAA0B,CAACI,MAA/B,EAAuC;AACtC;AACA;;AAED,MAAI,CAACzhD,EAAE,CAACwO,YAAR,EAAsB;AACrB/oB,WAAO,CAACjZ,KAAR,CAAc,yBAAd;AACA;AACA;;AAED,MAAI60E,WAAW,KAAK,MAAhB,IAA0BI,MAA9B,EAAsC;AACrC,UAAM7sE,IAAI,GAAGorB,EAAE,CAAC7E,qBAAH,GAA2BvlB,GAA3B,GAAiC6rE,MAAM,CAACzhD,EAArD;AACA,QAAIprB,IAAJ,EAAUjO,MAAM,CAACk7E,QAAP,CAAgB,CAAhB,EAAmBjtE,IAAnB;AACV;;AAED,QAAMktE,QAAQ,GAAGvB,qBAAqB,EAAtC;;AAEA,QAAM10E,MAAM,GAAG,mBAAW,EAAX,EAAem0B,EAAE,CAAC7E,qBAAH,EAAf,CAAf;;AACAtvB,QAAM,CAAC+J,GAAP,IAAcksE,QAAQ,CAACpB,OAAvB;AACA70E,QAAM,CAACy0E,MAAP,IAAiBwB,QAAQ,CAACpB,OAA1B;AAEA,QAAM9qE,GAAG,GAAGksE,QAAQ,CAAClsE,GAAT,GAAe/J,MAAM,CAAC+J,GAAtB,GAA4B,CAAxC;;AAEA,MAAIyrE,WAAW,KAAK,QAAhB,IAA4Bx1E,MAAM,CAAC8xB,MAAP,IAAiBmkD,QAAQ,CAACnkD,MAA1D,EAAkE;AACjE0jD,eAAW,GAAG,KAAd;AACA;;AAED,MAAIU,gBAAgB,GAAG,IAAvB;AACA,MAAIC,OAAJ;;AAEA,MAAIX,WAAW,KAAK,KAApB,EAA2B;AAE1BT,aAAS,GAAGhrE,GAAH,EAAQksE,QAAQ,CAACnkD,MAAjB,CAAT;AACAqkD,WAAO,GAAGpsE,GAAV;AACA,GAJD,MAIO,IAAI4iE,IAAI,IAAI6I,WAAW,KAAK,OAA5B,EAAqC;AAE3C,UAAMY,OAAO,GAAGR,MAAM,IAAI,OAAOA,MAAM,CAACjJ,IAAd,KAAuB,QAAjC,GACfiJ,MAAM,CAACjJ,IADQ,GAEfA,IAAI,CAACr9C,qBAAL,GAA6BvlB,GAF9B;AAGA,QAAIhB,IAAI,GAAGorB,EAAE,CAAC7E,qBAAH,GAA2BvlB,GAA3B,GAAiCqsE,OAA5C;;AAEA,QAAIA,OAAO,GAAG,CAAd,EAAiB;AAEhBrtE,UAAI,IAAIqtE,OAAR;AACA,KAHD,MAGO,IAAIA,OAAO,GAAGH,QAAQ,CAACnkD,MAAT,GAAkB,EAAhC,EAAoC;AAE1C/oB,UAAI,IAAIqtE,OAAO,GAAGH,QAAQ,CAACnkD,MAAnB,GAA4B,EAApC;AACA;;AAEDqkD,WAAO,GAAGr7E,MAAM,CAACq7E,OAAP,GAAiBptE,IAA3B;AACAmtE,oBAAgB,GAAG,KAAnB;AACA,GAjBM,MAiBA,IAAIV,WAAW,KAAK,QAApB,EAA8B;AACpC,UAAMa,MAAM,GAAG,CAACJ,QAAQ,CAACnkD,MAAT,GAAkB9xB,MAAM,CAAC8xB,MAA1B,IAAoC,CAAnD;AACA,UAAMwkD,UAAU,GAAGvsE,GAAG,GAAGssE,MAAzB;;AAEA,QAAI7B,iBAAiB,CAACrgD,EAAD,CAArB,EAA2B;AAC1B,YAAMoiD,iBAAiB,GAAGD,UAAU,IAAIx7E,MAAM,CAACq7E,OAArB,GAA+B,MAA/B,GAAwC,IAAlE;AAEA,UAAII,iBAAiB,KAAKZ,iBAA1B,EAA6C;AAC7C;;AAEDQ,WAAO,GAAGG,UAAV;AACA,GAXM,MAWA,IAAIt2E,MAAM,CAAC+J,GAAP,IAAc,CAAd,IAAmB/J,MAAM,CAACy0E,MAAP,IAAiBwB,QAAQ,CAACnkD,MAAjD,EAAyD,CAI/D,CAJM,MAIA,IAAI0jD,WAAW,KAAK,QAApB,EAA8B;AAEpCW,WAAO,GAAGpsE,GAAV;AACA,GAHM,MAGA,IAAI/J,MAAM,CAAC+J,GAAP,GAAaksE,QAAQ,CAACpB,OAA1B,EAAmC;AAGzCsB,WAAO,GAAGpsE,GAAV;AACA,GAJM,MAIA,IAAIksE,QAAQ,CAACnkD,MAAT,GAAkB9xB,MAAM,CAACy0E,MAAzB,IACVz0E,MAAM,CAAC8xB,MAAP,GAAgBmkD,QAAQ,CAACnkD,MADnB,EAC2B;AAEjC,QAAI0jD,WAAW,KAAK,MAApB,EAA4B;AAC3BW,aAAO,GAAGpsE,GAAV;AACA,KAFD,MAEO;AAENosE,aAAO,GAAGF,QAAQ,CAAClsE,GAAT,GAAe/J,MAAM,CAACy0E,MAAtB,GAA+BwB,QAAQ,CAACnkD,MAAlD;AACA;AACD,GATM,MASA;AAGNqkD,WAAO,GAAGpsE,GAAV;AACA;;AAED,MAAIosE,OAAO,KAAK91E,SAAhB,EAA2B;AAC1B,QAAI61E,gBAAJ,EAAsBC,OAAO,IAAIvB,eAAe,EAA1B;AACtB,UAAM4B,cAAc,GAAGL,OAAO,GAAGF,QAAQ,CAAClsE,GAAnB,GAAyB,MAAzB,GAAkC,IAAzD;AACA,QAAIksE,QAAQ,CAAClsE,GAAT,KAAiBosE,OAAjB,IAA6BV,mBAAmB,IAAIA,mBAAmB,KAAKe,cAAhF,EAAiG;AACjG17E,UAAM,CAAC+nC,QAAP,CAAgB,CAAhB,EAAmBszC,OAAnB;AACAd,gBAAY,GAAG,IAAf;AACAjD,gBAAY,CAACt3E,MAAD,EAAS,QAAT,CAAZ,CAA+Bqc,IAA/B,CAAoC,MAAM;AAAEk+D,kBAAY,GAAG,KAAf;AAAuB,KAAnE;AACA;AACD;;AAEDE,eAAe,CAACnB,mBAAhB,GAAsC,MAAeiB,YAArD;;AAEA,MAAMoB,aAAS,GAAG;AAAEC,WAAS,EAAE,EAAb;AAAiBC,cAAY,EAAE;AAA/B,CAAlB;AAEO,SAASC,YAAT,CAAsB9Y,SAAtB,EAAyC6Y,YAAqB,GAAG,KAAjE,EAAwE;AAC9EF,eAAS,CAACE,YAAY,GAAG,cAAH,GAAoB,WAAjC,CAAT,CAAuDr7E,IAAvD,CAA4DwiE,SAA5D;AACA;AAEM,MAAM8W,eAAe,GAAG,kBAAU,CAACiC,0BAAoC,GAAG,KAAxC,KAA0D;AAClG,QAAMp4C,OAAO,GAAG,CACf,GAAGg4C,aAAS,CAACC,SADE,EAEf,IAAIG,0BAA0B,GAAGJ,aAAS,CAACE,YAAb,GAA4B,EAA1D,CAFe,CAAhB;AAKA,SAAOl4C,OAAO,CACZ3/B,GADK,CACDwI,EAAE,IAAI3M,QAAQ,CAAC0M,cAAT,CAAwBC,EAAxB,CADL,EAELwvE,MAFK,CAEE,CAACjzE,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAAC,CAACwrB,qBAAF,GAA0BwC,MAF1C,EAEkD,CAFlD,CAAP;AAGA,CAT8B,CAAxB;AAWA,MAAMilD,gBAAgB,GAAG,kBAAU,MAAM;AAC/C,MAAI;AACH,WAAOp8E,QAAQ,CAAC0M,cAAT,CAAwB,cAAxB,EAAwC2vE,SAA/C;AACA,GAFD,CAEE,OAAOtwE,CAAP,EAAU;AACX,WAAO,EAAP;AACA;AACD,CAN+B,CAAzB;AAQA,SAASuwE,MAAT,CAAgBp5D,GAAhB,EAA6B;AACnC,MAAIF,KAAK,GAAGu5D,QAAQ,CAACr5D,GAAD,CAApB;AACA,SAAO;AACN1H,UAAM,GAAG;AACR,UAAI,CAACwH,KAAL,EAAY;AACZA,WAAK,CAACxH,MAAN;AACAwH,WAAK,CAACpR,WAAN,GAAoB,EAApB;AACAoR,WAAK,GAAGtd,SAAR;AACA;;AANK,GAAP;AAQA;;AAED,SAAS62E,QAAT,CAAkBr5D,GAAlB,EAAuB;AACtB,QAAMF,KAAK,GAAGhjB,QAAQ,CAACqC,aAAT,CAAuB,OAAvB,CAAd;AACA2gB,OAAK,CAACpR,WAAN,GAAoBsR,GAApB;AAEA,GAACljB,QAAQ,CAACyC,IAAT,IAAiBzC,QAAQ,CAACgP,eAA3B,EAA4CtM,WAA5C,CAAwDsgB,KAAxD;AAEA,SAAOA,KAAP;AACA;;AAIM,MAAMw5D,cAAc,GAAG,CAAC,MAAM;AAEpC,MAAI,OAAOr8E,MAAP,KAAkB,WAAtB,EAAmC,OAAQ4L,CAAD,IAAUA,CAAjB;AAEnC,QAAM0wE,SAAS,GAAI,uBAAsBj0E,IAAI,CAACyiB,GAAL,EAAW,EAApD;AACA,QAAM9Z,QAAQ,GAAG,IAAIurE,OAAJ,EAAjB;AAGAjF,cAAY,CAACt3E,MAAD,EAAS,kBAAT,EAA6B,MAA7B,CAAZ,CAAiDqc,IAAjD,CAAsD,MAAM;AAC3D68D,6BAAyB,CAACr5E,QAAQ,CAACkkB,IAAV,EAAiB,IAAGu4D,SAAU,GAA9B,EAAkC1wE,CAAC,IAAI;AAC/D,UAAI,CAACoF,QAAQ,CAACsI,GAAT,CAAa1N,CAAb,CAAL,EAAsBA,CAAC,CAACyP,MAAF;AACtB,KAFwB,CAAzB;AAGA,GAJD;AAMA,SAAQw5B,OAAD,IAA0B;AAChCA,WAAO,CAACxyC,YAAR,CAAqBi6E,SAArB,EAAgC,EAAhC;AACAtrE,YAAQ,CAAC4I,GAAT,CAAai7B,OAAb;AACA,WAAOA,OAAP;AACA,GAJD;AAKA,CAnB6B,GAAvB,C;;;;;ACncP;AAEO,SAAS2nC,mBAAT,CAA6Bj7B,QAA7B,EAA2Ek7B,QAA4C,GAAG,EAA1H,EAAuI;AAC7I,QAAM,CAACC,cAAD,EAAiBC,cAAjB,IAAwC,oBAAYp7B,QAAZ,EAAuByjB,CAAD,IAAiC,OAAOA,CAAP,KAAa,QAApE,CAA9C;;AACA,QAAM,CAAC4X,cAAD,EAAiBC,cAAjB,IAAwC,oBAAYJ,QAAZ,EAAuBzX,CAAD,IAAiC,OAAOA,CAAP,KAAa,QAApE,CAA9C;;AAEA,SAAO,CACN,CAACyX,QAAQ,CAACp5E,MAAV,IACA,EAAEy5E,UAAU,CAAC,GAAGF,cAAJ,CAAV,IAAiCG,SAAS,CAAC,GAAGH,cAAJ,CAA1C,IAAiEI,gBAAgB,CAAC,GAAGH,cAAJ,CAAnF,CAFM,MAIN,CAACt7B,QAAQ,CAACl+C,MAAV,IACCy5E,UAAU,CAAC,GAAGJ,cAAJ,CAAV,IAAiCK,SAAS,CAAC,GAAGL,cAAJ,CAA1C,IAAiEM,gBAAgB,CAAC,GAAGL,cAAJ,CAL5E,CAAP;AAOA;AAGM,MAAMM,OAA6B,GAAG;AAC5CC,WAAS,EAAS,mDAD0B;AAE5CC,UAAQ,EAAU,4EAF0B;AAG5CC,kBAAgB,EAAE,uDAH0B;AAI5CC,OAAK,EAAa,wCAJ0B;AAK5CC,SAAO,EAAW,gDAL0B;AAM5CC,WAAS,EAAS,gDAN0B;AAO5CC,qBAAmB,EAAE,oDAPuB;AAQ5C7oE,QAAM,EAAY,yCAR0B;AAS5C8oE,OAAK,EAAa,mBAT0B;AAU5CC,SAAO,EAAW,8BAV0B;AAW5CC,MAAI,EAAc,qCAX0B;AAY5CC,YAAU,EAAQ,iDAZ0B;AAa5CC,QAAM,EAAY,gGAb0B;AAc5CC,kBAAgB,EAAE,2EAd0B;AAe5CxsE,YAAU,EAAQ,2CAf0B;AAgB5CysE,WAAS,EAAS,4BAhB0B;AAiB5CC,gBAAc,EAAI,6EAjB0B;AAkB5CC,UAAQ,EAAU,2FAlB0B;AAmB5CC,aAAW,EAAO,qDAnB0B;AAoB5CC,QAAM,EAAY,+BApB0B;AAqB5CC,gBAAc,EAAI,mDArB0B;AAsB5CC,YAAU,EAAQ;AAtB0B,CAAtC;AA0BA,MAAMC,WAAsD,GAAG;AACrEnB,UAAQ,EAAE9oC,IAAI,IAAI;AACjB,UAAMpoC,KAAK,GAAGgxE,OAAO,CAACE,QAAR,CAAiB7wE,IAAjB,CAAsB+nC,IAAtB,CAAd;AACA,QAAI,CAACpoC,KAAL,EAAY,OAAOA,KAAP;AACZA,SAAK,CAACtH,MAAN,CAAa,CAAb,EAAgB,CAAhB,EAAmBsH,KAAK,CAAC,CAAD,CAAL,IAAYA,KAAK,CAAC,CAAD,CAAL,IAAYA,KAAK,CAAC,CAAD,CAAL,CAAStG,OAAT,CAAiB,QAAjB,EAA2B,IAA3B,CAA3C;AACA,WAAOsG,KAAP;AACA;AANoE,CAA/D;AAYA,MAAMsyE,OAAO,GAAG,sBAAO,MAAe;AAC5C,MAAI1+E,QAAQ,CAACgP,eAAT,CAAyBs2D,YAAzB,CAAsC,aAAtC,CAAJ,EAA0D;AACzD,WAAO,SAAP;AACA;;AACD,MAAItlE,QAAQ,CAACgP,eAAT,CAAyBzM,YAAzB,CAAsC,OAAtC,CAAJ,EAAoD;AACnD,WAAO,IAAP;AACA;;AACD,SAAO,KAAP;AACA,CARsB,CAAhB;AAUA,SAAS26E,SAAT,CAAmB,GAAG/1D,KAAtB,EAAiD;AACvD,QAAMw3D,OAAO,GAAGD,OAAO,EAAvB;AACA,SAAOv3D,KAAK,CAACy3D,IAAN,CAAWl9E,IAAI,IAAIA,IAAI,KAAKi9E,OAA5B,CAAP;AACA;AAED,MAAME,YAA4E,GAAG;AACpFC,IAAE,EAAE;AACH9N,WAAO,EAAE,UADN;AAEH+N,aAAS,EAAE,CAAC,MAAD,EAAS,QAAT,EAAmB,YAAnB,EAAiC,UAAjC,EAA6C,gBAA7C,EAA+D,UAA/D,EAA2E,kBAA3E,EAA+F,SAA/F,EAA0G,YAA1G,EAAwH,OAAxH,EAAiI,QAAjI,EAA2I,SAA3I,EAAsJ,OAAtJ;AAFR,GADgF;AAKpFC,KAAG,EAAE;AACJD,aAAS,EAAE,CAAC,WAAD,EAAc,qBAAd,EAAqC,QAArC;AADP,GAL+E;AAQpF/5E,SAAO,EAAE;AACR+5E,aAAS,EAAE;AADH;AAR2E,CAArF;AAaO,MAAME,QAAQ,GAAG,kBAAU,MAAiB;AAClDxH,cAAY,CAACz3E,QAAD,EAAW,mBAAX,CAAZ,CAA4Cwc,IAA5C,CAAiD,MAAM;AACtDyiE,YAAQ,CAAC1xE,KAAT,CAAe2hE,KAAf;AACA,GAFD;AAGA,QAAMgQ,IAAI,GAAGL,YAAY,CAACH,OAAO,EAAR,CAAzB;AACA,SAAOQ,IAAI,CAACH,SAAL,CAAelvE,IAAf,CAAoBovE,QAAQ,IAAI7B,OAAO,CAAC6B,QAAD,CAAP,CAAkBlyE,IAAlB,CAAuBkH,QAAQ,CAACkrE,QAAhC,CAAhC,KAA8ED,IAAI,CAAClO,OAA1F;AACA,CANuB,CAAjB;AAQA,SAASiM,UAAT,CAAoB,GAAG91D,KAAvB,EAAmD;AACzD,QAAMi4D,QAAQ,GAAGH,QAAQ,EAAzB;AACA,SAAO93D,KAAK,CAACy3D,IAAN,CAAWl9E,IAAI,IAAIA,IAAI,KAAK09E,QAA5B,CAAP;AACA;AAEM,SAASjC,gBAAT,CAA0B,GAAGkC,OAA7B,EAAyD;AAC/D,SAAOA,OAAO,CAACT,IAAR,CAAaU,KAAK,IAAIA,KAAK,CAACvyE,IAAN,CAAWkH,QAAQ,CAACkrE,QAApB,CAAtB,CAAP;AACA;AAEM,MAAMI,gBAAgB,GAAG,sBAAO,MAAqB;AAC3D,QAAMnzE,KAAK,GAAG6H,QAAQ,CAACkrE,QAAT,CAAkB/yE,KAAlB,CAAwBgxE,OAAO,CAACc,SAAhC,CAAd;AACA,MAAI9xE,KAAJ,EAAW,OAAOA,KAAK,CAAC,CAAD,CAAZ;AACX,CAH+B,CAAzB;AAKA,SAASozE,kBAAT,CAA4B,GAAGC,UAA/B,EAA8D;AACpE,QAAMC,GAAG,GAAG,CAACH,gBAAgB,MAAM,EAAvB,EAA2Bh4E,WAA3B,EAAZ;AACA,MAAI,CAACm4E,GAAL,EAAU,OAAO,KAAP;AACV,SAAOD,UAAU,CAACb,IAAX,CAAgB9iE,CAAC,IAAIA,CAAC,CAACvU,WAAF,OAAoBm4E,GAAzC,CAAP;AACA;AAEM,MAAMC,kBAAkB,GAAG,sBAAO,MAAqB;AAC7D,QAAMvzE,KAAK,GAAG6H,QAAQ,CAACkrE,QAAT,CAAkB/yE,KAAlB,CAAwBgxE,OAAO,CAACiB,WAAhC,CAAd;AACA,MAAIjyE,KAAJ,EAAW,OAAOA,KAAK,CAAC,CAAD,CAAZ;AACX,CAHiC,CAA3B;AAKA,SAASwzE,oBAAT,CAA8B,GAAGC,YAAjC,EAAkE;AACxE,QAAMC,KAAK,GAAG,CAACH,kBAAkB,MAAM,EAAzB,EAA6Bp4E,WAA7B,EAAd;AACA,MAAI,CAACu4E,KAAL,EAAY,OAAO,KAAP;AACZ,SAAOD,YAAY,CAACjB,IAAb,CAAkB9iE,CAAC,IAAIA,CAAC,CAACvU,WAAF,OAAoBu4E,KAA3C,CAAP;AACA;AAEM,MAAMC,aAAa,GAAG,sBAAO,MAAqB;AACxD,QAAM3zE,KAAK,GAAG6H,QAAQ,CAACkrE,QAAT,CAAkB/yE,KAAlB,CAAwBgxE,OAAO,CAACkB,MAAhC,CAAd;AACA,MAAIlyE,KAAJ,EAAW,OAAOA,KAAK,CAAC,CAAD,CAAZ;AACX,CAH4B,CAAtB;AAKA,MAAM4zE,kBAAkB,GAAG,sBAAO,MAAqB;AAC7D,QAAM5zE,KAAK,GAAG6H,QAAQ,CAACkrE,QAAT,CAAkB/yE,KAAlB,CAAwBgxE,OAAO,CAACK,OAAhC,CAAd;AACA,MAAIrxE,KAAJ,EAAW,OAAOA,KAAK,CAAC,CAAD,CAAZ;AACX,CAHiC,CAA3B;AAKA,MAAM6zE,YAAY,GAAG,CAACd,QAAgB,GAAGlrE,QAAQ,CAACkrE,QAA7B,KAA0C;AACrE,QAAMG,KAAK,GAAG/+E,MAAM,CAAC+M,IAAP,CAAY8vE,OAAZ,EAAqBvtE,IAArB,CAA0BrC,GAAG,IAAI2xE,QAAQ,CAAC/yE,KAAT,CAAegxE,OAAO,CAAC5vE,GAAD,CAAtB,CAAjC,CAAd;AACA,MAAI,CAAC8xE,KAAL,EAAY,OAAOH,QAAQ,CAAC53E,WAAT,EAAP;AAGZ,SAAO,CACN+3E,KADM,EAEN,GAAG,CAACH,QAAQ,CAAC/yE,KAAT,CAAegxE,OAAO,CAACkC,KAAD,CAAtB,KAAkC,EAAnC,EAAuC7+E,KAAvC,CAA6C,CAA7C,CAFG,EAILkP,MAJK,CAIEmM,CAAC,IAAIA,CAJP,EAKL7O,IALK,CAKA,GALA,EAML1F,WANK,EAAP;AAOA,CAZM;AAuBP,MAAM24E,kBAAkB,GAAG,WAA3B;AAEO,SAASC,aAAT,CAAuB/a,IAAvB,EAAyD;AAM/D,QAAMhxD,IAAI,GAAGgxD,IAAI,CAAC7iE,YAAL,CAAkB,MAAlB,CAAb;AAEA,QAAM69E,SAAS,GAAGhb,IAAI,CAACxzD,WAAL,CAAiBpO,MAAjB,KAA4B,CAA9C;AACA,QAAM28E,aAAa,GAAGD,kBAAkB,CAACnzE,IAAnB,CAAwBqH,IAAxB,CAAtB;AAEA,SAAOgsE,SAAS,IAAID,aAApB;AACA;AAEM,SAASE,WAAT,CAAqBjb,IAArB,EAAuD;AAG7D,QAAMhxD,IAAI,GAAGgxD,IAAI,CAAC7iE,YAAL,CAAkB,MAAlB,CAAb;AACA,SAAO,OAAO6R,IAAP,KAAgB,QAAhB,IAA4BA,IAAI,CAACksE,UAAL,CAAgB,aAAhB,CAA5B,IAA8DlsE,IAAI,KAAK,GAA9E;AACA;AAEM,MAAMmsE,sBAAsB,GAAG,sBAAO,MAAMvgF,QAAQ,CAACkkB,IAAT,CAAcs8D,SAAd,CAAwBj4E,QAAxB,CAAiC,YAAjC,CAAb,CAA/B,C;;;;;;;;;;;;;;AClLP,MAAMk4E,aAAa,GAAG;AACrB,OAAK,OADgB;AAErB,OAAK,QAFgB;AAGrB,OAAK,QAHgB;AAIrB,OAAK,MAJgB;AAKrB,OAAK,MALgB;AAMrB,OAAK;AANgB,CAAtB;AASO,SAASC,UAAT,CAAoBC,GAApB,EAA0C;AAChD,SAAOA,GAAG,GACTA,GAAG,CAAC7/E,QAAJ,GAAegF,OAAf,CAAuB,YAAvB,EAAqCoG,CAAC,IAAIu0E,aAAa,CAACv0E,CAAD,CAAvD,CADS,GAET,EAFD;AAGA,C;;;;ACXD;AACA;AACA;;AAKA,SAAS00E,iBAAT,CAA8BC,cAA9B,EAAwG;AACvG,SAAO,CAACC,OAAD,EAAU,GAAGz8D,MAAb,KACN,kBACCy8D,OADD,EAECz8D,MAAM,CAAClgB,GAAP,CAAW08E,cAAX,CAFD,EAGC,CAACxiD,CAAD,EAAIviB,CAAJ,KAAW,GAAEuiB,CAAE,GAAEviB,CAAC,KAAKpW,SAAN,GAAkB,EAAlB,GAAuBoW,CAAE,EAH3C,EAIE7O,IAJF,CAIO,EAJP,CADD;AAMA;;AAEM,MAAM8zE,MAAyC,GAAGH,iBAAiB,CAACriD,kBAAD,CAAnE;AAEA,MAAMjtB,aAAyC,GAAGsvE,iBAAiB,CAACF,UAAD,CAAnE;AAIA,SAASM,IAAT,CAAcL,GAAd,EAA6C;AACnD,SAAO;AAAEM,YAAQ,EAAEN;AAAZ,GAAP;AACA;AAED,MAAMO,kBAAkB,GAAG,IAA3B;AAEO,SAASC,UAAT,CAAoBj4E,CAApB,EAA+BC,CAA/B,EAAmD;AACzD,SAAOi4E,qBAAW,CAAC19E,GAAZ,CAAgBwF,CAAhB,EAAmBC,CAAnB,KAAyB+3E,kBAAkB,GAAGt7E,IAAI,CAAC0tB,GAAL,CAASpqB,CAAC,CAAC1F,MAAX,EAAmB2F,CAAC,CAAC3F,MAArB,CAArD;AACA;AAEM,MAAM69E,UAAU,GAAG,sBAAnB;AAEP,MAAMC,eAA4G,GAAGV,iBAAiB,CAACzb,CAAC,IAAI;AAE3I,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAOn6D,MAAM,CAACm6D,CAAD,CAAb;AAE3B,MAAI,CAACA,CAAL,EAAQ,OAAO,EAAP;AAER,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAOub,UAAU,CAACvb,CAAD,CAAjB;AAE3B,MAAI3/D,KAAK,CAACC,OAAN,CAAc0/D,CAAd,CAAJ,EAAsB,OAAOA,CAAC,CAACx1D,MAAF,CAAS0uB,CAAC,IAAIA,CAAC,IAAI,OAAOA,CAAC,CAAC4iD,QAAT,KAAsB,QAAzC,EAAmD98E,GAAnD,CAAuDk6B,CAAC,IAAIA,CAAC,CAAC4iD,QAA9D,EAAwEh0E,IAAxE,CAA6E,EAA7E,CAAP;AAEtB,MAAIk4D,CAAC,CAACnkE,cAAF,CAAiB,UAAjB,CAAJ,EAAkC,OAAOmkE,CAAC,CAAC8b,QAAT;AAClC,QAAM,IAAInjE,SAAJ,CAAe,wCAAuC9S,MAAM,CAACm6D,CAAD,CAAI,EAAhE,CAAN;AACA,CAZqI,CAAtI;AAoBO,MAAM32C,WAAI,GAAG,eACnB8yD,eADmB,EAEnBC,MAAM,IAAI;AAKT,QAAMxqC,QAAQ,GAAG/2C,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAjB;AACA00C,UAAQ,CAAC9mC,SAAT,GAAqBsxE,MAArB;;AACA,MAAIxqC,QAAQ,CAACyqC,iBAAT,KAA+B,CAAnC,EAAsC;AACrC,UAAM,IAAIthF,KAAJ,CAAW,4DAA2D62C,QAAQ,CAACyqC,iBAAkB,EAAjG,CAAN;AACA;;AACD,QAAM1J,KAAK,GAAGP,QAAQ,CAACxgC,QAAQ,CAACxS,iBAAV,EAA6BsgC,WAA7B,CAAtB;AACAiT,OAAK,CAACt8D,MAAN;AACA,SAAOs8D,KAAP;AACA,CAfkB,CAAb;AAqBA,MAAM2J,KAAK,GAAG,eACpBH,eADoB,EAEpBN,IAFoB,CAAd,C;;;AC5EP;AAEA;AACA;AACA;AAEO,MAAMU,UAAU,GAAG,sBAAO,MAAM;AACtC,MAAIC,YAAY,EAAhB,EAAoB;AACnB,WAAO,IAAP;AACA,GAFD,MAEO,IAAI3hF,QAAQ,CAAC24E,aAAT,CAAuB,kCAAvB,CAAJ,EAAgE;AACtE,WAAO,IAAP;AACA;AACD,CANyB,CAAnB;AAQA,MAAMgJ,YAAY,GAAG,sBAAO,MAAqBC,oBAAoB,CAAC5hF,QAAD,CAAhD,CAArB;AAEA,MAAM4hF,oBAAoB,GAAI5hF,QAAD,IAAiD;AACpF,MAAIk9E,SAAS,CAAC,KAAD,CAAb,EAAsB;AAErB,UAAM2E,iBAAiB,GAAG91E,CAAC,IAAI,CAAC,GAAGA,CAAC,CAACD,UAAN,EAAkB6D,MAAlB,CAAyBmM,CAAC,IAAIA,CAAC,CAACva,QAAF,KAAe,CAA7C,EAAgDb,MAAhD,CAAuD,GAAG,CAAC,GAAGqL,CAAC,CAACuN,QAAN,EAAgBnV,GAAhB,CAAoB09E,iBAApB,CAA1D,CAA/B;;AACA,UAAMn4D,MAAM,GAAG1pB,QAAQ,CAAC24E,aAAT,CAAuB,uBAAvB,CAAf;AACA,UAAMvzC,QAAQ,GAAG1b,MAAM,IAAIm4D,iBAAiB,CAACn4D,MAAD,CAAjB,CAA0B,CAA1B,CAA3B;AACA,WAAO0b,QAAQ,IAAIA,QAAQ,CAACxzB,WAA5B;AACA;;AAED,QAAMwzD,IAAwB,GAAIplE,QAAQ,CAAC24E,aAAT,CAAuB,sCAAvB,CAAlC;AACA,MAAI,CAACvT,IAAD,IAASA,IAAI,CAACob,SAAL,CAAej4E,QAAf,CAAwB,gBAAxB,CAAb,EAAwD;AACxD,QAAMk1E,OAAO,GAAGL,OAAO,CAACK,OAAR,CAAgBhxE,IAAhB,CAAqB24D,IAAI,CAAC+Z,QAA1B,CAAhB;;AACA,MAAI1B,OAAJ,EAAa;AACZ,WAAOA,OAAO,CAAC,CAAD,CAAd;AACA;AACD,CAfM;AAiBA,MAAMqE,mBAAmB,GAAG,sBAAO,MAAe,CAAC,CAAC9hF,QAAQ,CAAC0M,cAAT,CAAwB,SAAxB,CAAxB,CAA5B;AAEA,MAAMq1E,gBAAgB,GAAG,sBAAO,YAA8B;AACpE,QAAMC,OAAO,GAAGhiF,QAAQ,CAAC24E,aAAT,CAAuB,WAAvB,CAAhB;;AACA,MAAIqJ,OAAO,YAAYC,gBAAvB,EAAyC;AACxC,WAAOD,OAAO,CAAC96E,KAAf;AACA;;AAED,QAAMg7E,QAAQ,GAAG,MAAMC,gBAAgB,EAAvC;AACA,SAAOD,QAAQ,IAAIA,QAAQ,CAACjhE,IAArB,IAA6BihE,QAAQ,CAACjhE,IAAT,CAAcmhE,OAAlD;AACA,CAR+B,CAAzB;AAUA,MAAMD,gBAAgB,GAAG,sBAAO,MACtC,CAACT,UAAU,EAAX,GAAgB/J,OAAO,CAACz7D,OAAR,EAAhB,GAAoCimB,IAAI,CAAC;AAAEZ,KAAG,EAAE,cAAP;AAAuB7/B,MAAI,EAAE;AAA7B,CAAD,CAAJ,CAClC8a,IADkC,CAC7ByE,IAAI,IAAIA,IAAI,CAACA,IAAL,IAAaA,IAAI,CAACA,IAAL,CAAUmhE,OAAvB,GAAiCnhE,IAAjC,GAAwCvb,SADnB,CADL,CAAzB;AAIP,MAAM28E,UAAU,GAAG,sCAAnB;AAEO,MAAMC,gBAAgB,GAAG,CAC/B,mBAD+B,EAE/B,oBAF+B,EAG/B,2BAH+B,EAI/B,yBAJ+B,EAK/B,0CAL+B,EAM/B,oDAN+B,EAO/B,qBAP+B,EAQ/B,oBAR+B,EAS/B,wBAT+B,EAU/B,+BAV+B,EAW/B,mBAX+B,EAY9Br1E,IAZ8B,CAYzB,IAZyB,CAAzB;AAcA,SAASs1E,mBAAT,CAA6BvtC,OAA7B,EAA4D;AAClE,MAAI,EAAEA,OAAO,YAAYwtC,iBAArB,CAAJ,EAA6C;AAE7C,QAAM;AAAEpuE,QAAF;AAAQquE;AAAR,MAAmBztC,OAAzB;AAGA,MAAI,CAAC/gC,QAAQ,CAACwuE,MAAT,CAAgBC,QAAhB,CAAyBD,MAAM,CAACn7E,KAAP,CAAa,GAAb,EAAkB7G,KAAlB,CAAwB,CAAC,CAAzB,EAA4BwM,IAA5B,CAAiC,GAAjC,CAAzB,CAAL,EAAsE;AAEtE,QAAM,GAAGm4B,QAAH,IAAehxB,IAAI,CAAChI,KAAL,CAAWi2E,UAAX,KAA0B,EAA/C;AACA,MAAIj9C,QAAJ,EAAc,OAAOA,QAAP;AACd;AAEM,SAASu9C,WAAT,CAAqBv9C,QAAiB,GAAGu8C,YAAY,EAArD,EAAiF;AACvF,MAAI,CAACv8C,QAAL,EAAe;AACd,WAAOuyC,OAAO,CAACx7D,MAAR,CAAe,IAAIjc,KAAJ,CAAU,sCAAV,CAAf,CAAP;AACA;;AAED,SAAOiiC,IAAI,CAAC;AACXZ,OAAG,EAAE9gB,MAAc,SAAQ2kB,QAAS,aADzB;AAEX1jC,QAAI,EAAE,MAFK;AAGXkhF,YAAQ,EAAE,KAAK9L,MAAMA;AAHV,GAAD,CAAX;AAKA,C;;ACxFD;AAIA;AAEO,MAAM71D,YAKX,GAAG;AACJ4hE,UAAQ,EAAE,IADN;AAEJz9C,UAAQ,EAAE,IAFN;AAGJq9C,QAAM,EAAE,wBAHJ;AAIJtD,UAAQ,EAAElrE,QAAQ,CAACkrE;AAJf,CALE;AAYA,SAAS2D,SAAT,CAAmBC,YAAnB,EAAoC;AAC1C,MAAI,CAAC9uE,QAAQ,CAACwtB,QAAT,CAAkB6+C,UAAlB,CAA6B,MAA7B,CAAL,EAA2C;AAE3Cr/D,cAAI,CAACwhE,MAAL,GAAcxuE,QAAQ,CAACwuE,MAAvB;AAEAM,cAAY,CAACvmE,IAAb,CAAkB,MAAM;AACvByE,gBAAI,CAACmkB,QAAL,GAAgBu8C,YAAY,EAA5B;AACAI,oBAAgB,GAAGvlE,IAAnB,CAAwBxI,IAAI,IAAI;AAAEiN,kBAAI,CAAC4hE,QAAL,GAAgB7uE,IAAhB;AAAuB,KAAzD;AACA,GAHD;AAIA;AAEM,SAASgvE,kBAAT,GAA8B;AACpC,MAAI7iF,MAAM,KAAKA,MAAM,CAACgT,MAAtB,EAA8B,OAAOwkE,OAAO,CAACz7D,OAAR,EAAP;AAE9B,SAAOu7D,YAAY,CAACt3E,MAAD,EAAS,SAAT,CAAZ,CAAgCqc,IAAhC,CAAqC,CAAC;AAAEyE,QAAI,EAAE;AAAEhe;AAAF;AAAR,GAAD,KAAgC;AAC3E1C,UAAM,CAACyqE,MAAP,CAAc/pD,YAAd,EAAoBhe,OAApB;AACA,GAFM,CAAP;AAGA,C;;ACfD,MAAMggF,mBAAN,SAAkC/iF,KAAlC,CAAwC;AACvCqD,aAAW,CAAC4b,OAAD,EAAUH,KAAV,EAAiB;AAC3B;AACA,SAAKG,OAAL,GAAeA,OAAf;AACA,SAAKH,KAAL,GAAaA,KAAb;AACA;;AALsC;;AAQjC,SAASkkE,oBAAT,CAAmDC,YAAnD,EAAgGC,wBAAiC,GAAG,KAApI,EAIJ;AACF,QAAMC,SAAS,GAAG,IAAIC,GAAJ,EAAlB;AAsDA,SAAO;AACNC,kBAAc,EArCf,UAAwB;AAAE7hF,UAAF;AAAQuf;AAAR,KAAxB,EAAwCuiE,YAAxC,EAAsDvgF,OAAtD,EAA+D;AAC9D,YAAMwgF,QAAQ,GAAGJ,SAAS,CAAC3/E,GAAV,CAAchC,IAAd,CAAjB;;AACA,UAAI,CAAC+hF,QAAL,EAAe;AACd,YAAIL,wBAAJ,EAA8B;AAC7BI,sBAAY,CAAC;AAAEx9E,iBAAK,EAAE;AAAEmZ,qBAAO,EAAG,8BAA6Bzd,IAAK,EAA9C;AAAiDsd,mBAAK,EAAE;AAAxD;AAAT,WAAD,CAAZ;AACA;;AACD,eAAO,KAAP;AACA;;AAED,UAAI4hB,QAAJ;;AAEA,UAAI;AACHA,gBAAQ,GAAG6iD,QAAQ,CAACxiE,IAAD,EAAOhe,OAAP,CAAnB;AACA,OAFD,CAEE,OAAO8I,CAAP,EAAU;AACXkT,eAAO,CAACjZ,KAAR,CAAc+F,CAAd;AACAy3E,oBAAY,CAAC;AAAEx9E,eAAK,EAAE;AAAEmZ,mBAAO,EAAEpT,CAAC,CAACoT,OAAb;AAAsBH,iBAAK,EAAEjT,CAAC,CAACiT;AAA/B;AAAT,SAAD,CAAZ;AACA,eAAO,KAAP;AACA;;AAED,UAAI4hB,QAAQ,YAAY+2C,OAAxB,EAAiC;AAChC/2C,gBAAQ,CACNpkB,IADF,CAEEyE,IAAI,IAAIuiE,YAAY,CAAC;AAAEviE;AAAF,SAAD,CAFtB,EAGElV,CAAC,IAAI;AACJkT,iBAAO,CAACjZ,KAAR,CAAc+F,CAAd;AACAy3E,sBAAY,CAAC;AAAEx9E,iBAAK,EAAE;AAAEmZ,qBAAO,EAAEpT,CAAC,CAACoT,OAAb;AAAsBH,mBAAK,EAAEjT,CAAC,CAACiT;AAA/B;AAAT,WAAD,CAAZ;AACA,SANH;AASA,eAAO,IAAP;AACA,OAXD,MAWO;AACNwkE,oBAAY,CAAC;AAAEviE,cAAI,EAAE2f;AAAR,SAAD,CAAZ;AACA,eAAO,KAAP;AACA;AACD,KAEM;AAEN8iD,eAAW,EA/CZ,gBAA2BhiF,IAA3B,EAAiCuf,IAAjC,EAAuChe,OAAvC,EAAgD;AAC/C,YAAM;AAAEge,YAAI,EAAEq9B,OAAR;AAAiBt4C;AAAjB,UAA2B,MAAMm9E,YAAY,CAAC;AAAEzhF,YAAF;AAAQuf;AAAR,OAAD,EAAiBhe,OAAjB,CAAnD;;AACA,UAAI+C,KAAJ,EAAW;AACV,cAAM,IAAIi9E,mBAAJ,CAAwBj9E,KAAK,CAACmZ,OAA9B,EAAwC,GAAEnZ,KAAK,CAACgZ,KAAM,sBAAqBtd,IAAK,WAAhF,CAAN;AACA,OAFD,MAEO;AACN,eAAO48C,OAAP;AACA;AACD,KAsCM;AAGNqlC,eAAW,EAvDZ,UAAqBjiF,IAArB,EAA2BwC,QAA3B,EAAqC;AACpC,UAAIm/E,SAAS,CAAC5pE,GAAV,CAAc/X,IAAd,CAAJ,EAAyB;AACxB,cAAM,IAAIxB,KAAJ,CAAW,iBAAgBwB,IAAK,mBAAhC,CAAN;AACA;;AACD2hF,eAAS,CAACriE,GAAV,CAActf,IAAd,EAAoBwC,QAApB;AACA;AA+CM,GAAP;AAKA,C;;AC5FM,SAAS0/E,YAAT,CAAsBlnE,IAAtB,EAA4F;AAClG,SAAO,CAAC,GAAGlJ,IAAJ,KACN,IAAImkE,OAAJ,CAAY,CAACz7D,OAAD,EAAUC,MAAV,KACXO,IAAI,CAAC,GAAGlJ,IAAJ,EAAU,CAAC,GAAG9M,OAAJ,KAAgB;AAC7B,QAAI69D,MAAM,CAACsf,OAAP,CAAeC,SAAnB,EAA8B;AAC7B3nE,YAAM,CAAC,IAAIjc,KAAJ,CAAUqkE,MAAM,CAACsf,OAAP,CAAeC,SAAf,CAAyB3kE,OAAnC,CAAD,CAAN;AACA,KAFD,MAEO;AACNjD,aAAO,CAACxV,OAAO,CAAClD,MAAR,GAAiB,CAAjB,GAAqBkD,OAArB,GAA+BA,OAAO,CAAC,CAAD,CAAvC,CAAP;AACA;AACD,GANG,CADL,CADD;AAUA,C;;ACXD;AACA;;AAEA,MAAMy8E,YAAY,GAAGS,YAAY,CAACrf,MAAM,CAACsf,OAAP,CAAeH,WAAhB,CAAjC;;AAEA,MAAM;AACLH,gBADK;AAELG,aAFK;AAGLC;AAHK,IAIFT,oBAAoB,CAAC5hF,GAAG,IAAI6hF,YAAY,CAAC7hF,GAAD,CAApB,CAJxB;AAMAijE,MAAM,CAACsf,OAAP,CAAeE,SAAf,CAAyBJ,WAAzB,CAAqC,CAACriF,GAAD,EAAM0iF,MAAN,EAAcR,YAAd,KAA+BD,cAAc,CAACjiF,GAAD,EAAMkiF,YAAN,CAAlF;;;ACXO,SAASS,iBAAT,GAAsC;AAC5C,SAAO1f,MAAM,CAAC2f,SAAP,CAAiBC,kBAAxB;AACA,C;;ACFD;AACA;AAEO,eAAeC,eAAf,CAA+B7iD,GAA/B,EAA2D;AACjE,MAAI0iD,iBAAiB,EAArB,EAAyB;AAEzB,QAAMP,WAAW,CAAC,iBAAD,EAAoBniD,GAApB,CAAjB;AACA;AAEM,SAAS8iD,YAAT,CAAsB9iD,GAAtB,EAAqD;AAC3D,SAAOmiD,WAAW,CAAC,cAAD,EAAiBniD,GAAjB,CAAlB;AACA,C;;;;;;ACXD;AAEO,SAASvgB,GAAT,CAAaxT,GAAb,EAA0BtG,KAA1B,EAAwC;AAC9C,SAAOw8E,WAAW,CAAC,UAAD,EAAa,CAAC,KAAD,EAAQl2E,GAAR,EAAatG,KAAb,CAAb,CAAlB;AACA;AAEM,SAASsL,cAAT,CAAehF,GAAf,EAA4B82E,MAA5B,EAAqF;AAC3F,SAAOZ,WAAW,CAAC,UAAD,EAAa,CAAC,OAAD,EAAUl2E,GAAV,EAAe82E,MAAf,CAAb,CAAlB;AACA;;AAED,SAASC,OAAT,CAAiB/2E,GAAjB,EAA8B;AAC7B,SAAOk2E,WAAW,CAAC,UAAD,EAAa,CAAC,QAAD,EAAWl2E,GAAX,CAAb,CAAlB;AACA;;AACD;AAEO,SAAS0hE,KAAT,GAAiB;AACvB,SAAOwU,WAAW,CAAC,UAAD,EAAa,CAAC,OAAD,CAAb,CAAlB;AACA,C;;;AChBD;AACA;AACA;;AAgBA,MAAMc,UAAN,SAAyBtkF,KAAzB,CAA+B;AAG9BqD,aAAW,CAACg+B,GAAD,EAAM+B,MAAN,EAAc;AACxB,UAAO,GAAE/B,GAAI,uBAAsB+B,MAAO,EAA1C;AADwB,SAFzBA,MAEyB;AAExB,SAAKA,MAAL,GAAcA,MAAd;AACA;;AAN6B;;AA8BxB,eAAenB,IAAf,CAAoBn9B,OAApB,EAA6C;AACnD,QAAM;AAAEqX,UAAF;AAAUklB,OAAV;AAAeuC,WAAf;AAAwB7iB,QAAxB;AAA8Bvf,QAA9B;AAAoCkhF,YAApC;AAA8C6B,cAA9C;AAA0DC;AAA1D,MAA0EC,kBAAkB,CAAC3/E,OAAD,CAAlG;;AAEA,MAAI49E,QAAJ,EAAc;AACb,UAAMvtE,MAAM,GAAG,MAAMuvE,cAAA,CAAerjD,GAAf,EAAoBqhD,QAApB,CAArB;;AACA,QAAIvtE,MAAJ,EAAY;AACX,aAAOwvE,eAAe,CAACxvE,MAAD,EAAS3T,IAAT,CAAtB;AACA;AACD;;AAED,QAAMk/B,QAAQ,GAAG,OAAO6jD,UAAU,GACjCK,KAAK,CAACvjD,GAAD,EAAM;AACVllB,UADU;AAEVynB,WAFU;AAGV4gD,eAHU;AAIVxgE,QAAI,EAAEjD;AAJI,GAAN,CAAL,CAKGzE,IALH,CAKQ,MAAM+vB,CAAN,KAAY;AACnBmX,MAAE,EAAEnX,CAAC,CAACmX,EADa;AAEnBpgB,UAAM,EAAEiJ,CAAC,CAACjJ,MAFS;AAGnBQ,WAAO,EAAE,oBAAYt+B,KAAK,CAACwsE,IAAN,CAAWzlC,CAAC,CAACzI,OAAF,CAAUmrC,OAAV,EAAX,CAAZ,CAHU;AAInB3sE,QAAI,EAAE,MAAMiqC,CAAC,CAACjqC,IAAF;AAJO,GAAZ,CALR,CADiC,GAYjCohF,WAAW,CAAC,MAAD,EAAS;AAAErnE,UAAF;AAAUklB,OAAV;AAAeuC,WAAf;AAAwB7iB,QAAxB;AAA8ByjE;AAA9B,GAAT,CAZK,CAAjB;;AAeA,MAAI,CAAC9jD,QAAQ,CAAC8iB,EAAd,EAAkB;AACjB,UAAM,IAAI8gC,UAAJ,CAAejjD,GAAf,EAAoBX,QAAQ,CAAC0C,MAA7B,CAAN;AACA;;AAED,MAAIs/C,QAAJ,EAAc;AACbgC,OAAA,CAAarjD,GAAb,EAAkBX,QAAlB;AACA;;AAED,SAAOikD,eAAe,CAACjkD,QAAD,EAAWl/B,IAAX,CAAtB;AACA;;AAGDygC,IAAI,CAAC4iD,UAAL,GAAmB//E,OAAD,IACjB4/E,OAAA,CAAgBD,kBAAkB,CAAC3/E,OAAD,CAAlB,CAA4Bu8B,GAA5C,CADD;;AAGA,SAASojD,kBAAT,CAA4B;AAAEtoE,QAAM,GAAG,KAAX;AAAkBklB,KAAlB;AAAuByjD,OAAK,GAAG,EAA/B;AAAmClhD,SAAO,GAAG,EAA7C;AAAiD7iB,MAAjD;AAAuDvf,MAAI,GAAG,MAA9D;AAAsEgjF,aAAtE;AAAmF9B,UAAQ,GAAG;AAA9F,CAA5B,EASG;AACF,QAAMqC,UAAU,GAAG,IAAI1d,GAAJ,CAAQtkE,YAAO,CAACw/E,MAAhB,CAAnB;AAGA,QAAMyC,UAAU,GAAG,IAAI3d,GAAJ,CAAQhmC,GAAR,EAAa0jD,UAAb,CAAnB;;AAGA,OAAK,MAAM,CAACz3E,GAAD,EAAMrL,GAAN,CAAX,IAAyB5B,MAAM,CAAC0uE,OAAP,CAAe+V,KAAf,CAAzB,EAAgD;AAC/CE,cAAU,CAACC,YAAX,CAAwBnkE,GAAxB,CAA4BxT,GAA5B,EAAiCxC,MAAM,CAAC7I,GAAD,CAAvC;AACA;;AAED,QAAMijF,QAAQ,GAAGF,UAAU,CAACG,QAAX,CAAoB/9E,KAApB,CAA0B,GAA1B,EAA+B7G,KAA/B,CAAqC,CAAC,CAAtC,EAAyCwM,IAAzC,CAA8C,GAA9C,MAAuDg4E,UAAU,CAACI,QAAX,CAAoB/9E,KAApB,CAA0B,GAA1B,EAA+B7G,KAA/B,CAAqC,CAAC,CAAtC,EAAyCwM,IAAzC,CAA8C,GAA9C,CAAxE;;AACA,MAAIm4E,QAAJ,EAAc;AAEbF,cAAU,CAACC,YAAX,CAAwBnkE,GAAxB,CAA4B,KAA5B,EAAmC,KAAnC;AAGA,QAAI,CAAC0jE,WAAL,EAAkBA,WAAW,GAAG,SAAd;;AAElB,QAAIroE,MAAM,KAAK,KAAX,IAAoBA,MAAM,KAAK,MAAnC,EAA2C;AAE1C,UAAIpZ,YAAO,CAAC4/E,QAAZ,EAAsB/+C,OAAO,CAAC,WAAD,CAAP,GAAuB7gC,YAAO,CAAC4/E,QAA/B;AACtB;;AAKDqC,cAAU,CAACG,QAAX,GAAsBH,UAAU,CAACG,QAAX,CAAoBv/E,OAApB,CAA4B,OAA5B,EAAqC,MAArC,CAAtB;AACA;;AAED,QAAM2+E,UAAU,GAAGQ,UAAU,CAACxC,MAAX,KAAsByC,UAAU,CAACzC,MAApD;;AAGA,MAAI,OAAOxhE,IAAP,KAAgB,QAApB,EAA8B;AAC7B6iB,WAAO,CAAC,cAAD,CAAP,GAA0B,mCAA1B;AAGA7iB,QAAI,GAAG,IAAIqkE,eAAJ,CAAoBrkE,IAApB,EAA0BngB,QAA1B,EAAP;AACA;;AAED,SAAO;AACNub,UADM;AAENklB,OAAG,EAAE2jD,UAAU,CAAC9wE,IAFV;AAGN0vB,WAHM;AAIN7iB,QAJM;AAKNvf,QALM;AAMNkhF,YANM;AAON8B,eAAW,EAAEA,WAAW,IAAI,MAPtB;AAQND;AARM,GAAP;AAUA;;AAED,SAASI,eAAT,CAAyBjkD,QAAzB,EAAmCl/B,IAAnC,EAAuD;AACtD,UAAQA,IAAR;AACC,SAAK,MAAL;AACC,aAAOk/B,QAAQ,CAACt+B,IAAhB;;AACD,SAAK,MAAL;AACC,aAAOmf,IAAI,CAACC,KAAL,CAAWkf,QAAQ,CAACt+B,IAApB,CAAP;;AACD,SAAK,KAAL;AACC,aAAOs+B,QAAP;;AACD;AACC,YAAM,IAAI1gC,KAAJ,CAAW,iBAAgBwB,IAAK,EAAhC,CAAN;AARF;AAUA,C;;ACjKD;AAEO,SAAS6jF,QAAT,CAAkBhkD,GAAlB,EAA+BikD,QAA/B,EAAkD;AAExD9B,aAAW,CAAC,UAAD,EAAa;AAEvBniD,OAAG,EAAE,IAAIgmC,GAAJ,CAAQhmC,GAAR,EAAattB,QAAQ,CAACG,IAAtB,EAA4BA,IAFV;AAGvBoxE;AAHuB,GAAb,CAAX;AAKA,C;;ACTM,SAASC,cAAT,GAAkC;AACxC,SAAOlhB,MAAM,CAACsf,OAAP,CAAel3E,EAAtB;AACA;AAEM,MAAM+4E,MAAM,GAAGnhB,MAAM,CAACsf,OAAP,CAAe6B,MAA9B;AAEA,MAAMC,aAAa,GAAG,CAAC3xE,IAAY,GAAG,EAAhB,KAAuB,IAAIuzD,GAAJ,CAAQvzD,IAAR,EAAc0xE,MAAM,CAAC,cAAD,CAApB,CAA7C;AACA,MAAME,aAAa,GAAG,MAAM3xE,QAAQ,CAACwuE,MAAT,KAAoBkD,aAAa,GAAGlD,MAAhE,C;;ACPA,MAAMoD,eAAe,GAAG,oBAAxB;AACA,MAAMC,mBAAmB,GAAG,wBAA5B;AACA,MAAMC,yBAAyB,GAAG,6BAAlC,C;;ACJQ,wDAAS,E;;ACExB;AACA;AACA;AAEA,MAAMC,gBAAgB,GAAG,IAAI1M,GAAJ,CAAQ,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,OAA/B,EAAwC,OAAxC,EAAiD,IAAjD,EAAuD,IAAvD,EAA6D,IAA7D,EAAmE,IAAnE,EAAyE,IAAzE,EAA+E,IAA/E,EAAqF,IAArF,EAA2F,OAA3F,EAAoG,OAApG,EAA6G,OAA7G,EAAsH,OAAtH,EAA+H,IAA/H,EAAqI,IAArI,EAA2I,OAA3I,EAAoJ,OAApJ,EAA6J,IAA7J,EAAmK,IAAnK,EAAyK,IAAzK,EAA+K,IAA/K,EAAqL,KAArL,EAA4L,IAA5L,EAAkM,OAAlM,EAA2M,OAA3M,EAAoN,OAApN,EAA6N,IAA7N,EAAmO,IAAnO,EAAyO,IAAzO,EAA+O,IAA/O,EAAqP,IAArP,EAA2P,IAA3P,EAAiQ,IAAjQ,EAAuQ,IAAvQ,EAA6Q,IAA7Q,EAAmR,IAAnR,EAAyR,IAAzR,EAA+R,OAA/R,EAAwS,IAAxS,EAA8S,IAA9S,EAAoT,MAApT,EAA4T,KAA5T,EAAmU,IAAnU,EAAyU,IAAzU,EAA+U,IAA/U,EAAqV,OAArV,EAA8V,IAA9V,EAAoW,IAApW,EAA0W,IAA1W,EAAgX,KAAhX,EAAuX,IAAvX,EAA6X,IAA7X,EAAmY,OAAnY,EAA4Y,OAA5Y,EAAqZ,IAArZ,EAA2Z,IAA3Z,EAAia,IAAja,EAAua,IAAva,EAA6a,IAA7a,EAAmb,OAAnb,EAA4b,IAA5b,EAAkc,IAAlc,EAAwc,IAAxc,EAA8c,IAA9c,EAAod,IAApd,EAA0d,IAA1d,EAAge,IAAhe,EAAse,OAAte,CAAR,CAAzB;AAEA,MAAM2M,iBAAiB,GAAG,IAAI3M,GAAJ,CAAQ,CAAC,MAAD,EAAS,KAAT,EAAgB,KAAhB,CAAR,CAA1B;AAEO,IAAItrC,WAAM,GAAGy2B,SAAS,CAACyhB,QAAV,IAAsB,IAAnC;;AAEP,SAASC,aAAT,CAAuBC,YAAvB,EAAqC;AAEpC,MAAI;AACH,WAAO,OAAQ,CAAD,EAAIC,cAAJ,CAAmBD,YAAnB,CAAP,KAA4C,QAAnD;AACA,GAFD,CAEE,OAAOr6E,CAAP,EAAU;AACX,WAAO,KAAP;AACA;AACD;;AAED,SAASu6E,eAAT,GAA2B;AAC1B,QAAMC,YAAY,GAAG,OAAOvmF,QAAP,KAAoB,WAApB,IAAmCA,QAAQ,CAACgP,eAAT,CAAyBzM,YAAzB,CAAsC,MAAtC,CAAxD;;AACA,MAAIgkF,YAAY,IAAKP,gBAAgB,CAACvsE,GAAjB,CAAqB8sE,YAArB,CAArB,EAA0D;AAEzD,UAAMv4C,MAAM,GAAGu4C,YAAY,CAACh/E,WAAb,GAA2BzB,OAA3B,CAAmC,GAAnC,EAAwC,GAAxC,CAAf;;AACA,QAAIqgF,aAAa,CAACn4C,MAAD,CAAjB,EAA2B;AAC1Bw4C,yBAAmB,CAAC,MAAM;AAAE9C,mBAAW,CAAC,qBAAD,EAAwB11C,MAAxB,CAAX;AAA6C,OAAtD,CAAnB;AACA,aAAOA,MAAP;AACA;AACD;;AAED,SAAO01C,WAAW,CAAC,qBAAD,CAAlB;AACA;;AAED,IAAI+C,QAAJ;AAEO,eAAeC,SAAf,GAA0C;AAChD,QAAMH,YAAY,GAAG,MAAMD,eAAe,EAA1C;AACA,MAAIC,YAAY,IAAI,CAACN,iBAAiB,CAACxsE,GAAlB,CAAsB8sE,YAAtB,CAArB,EAA0Dv4C,WAAM,GAAGu4C,YAAT;;AAI1D,MACCI,YAAY,CAACC,OAAb,CAAqBf,eAArB,MAA0CU,YAA1C,IACAI,YAAY,CAACC,OAAb,CAAqBb,yBAArB,MAAoDc,UAFrD,EAGE;AACD,QAAI;AAEHJ,cAAQ,GAAGhlE,IAAI,CAACC,KAAL,CAAWilE,YAAY,CAACC,OAAb,CAAqBd,mBAArB,KAA6C,EAAxD,CAAX;AACA;AACA,KAJD,CAIE,OAAO/5E,CAAP,EAAU;AACXkT,aAAO,CAACjZ,KAAR,CAAc,6BAAd,EAA6C+F,CAA7C;AACA;AACD;;AAKD06E,UAAQ,GAAG,MAAM/C,WAAW,CAAC,MAAD,EAAS6C,YAAT,CAA5B;;AAEA,MAAI;AACHI,gBAAY,CAACG,OAAb,CAAqBhB,mBAArB,EAA0CrkE,IAAI,CAACslE,SAAL,CAAeN,QAAf,CAA1C;AACAE,gBAAY,CAACG,OAAb,CAAqBjB,eAArB,EAAsCU,YAAtC;AACAI,gBAAY,CAACG,OAAb,CAAqBf,yBAArB,EAAgDc,UAAhD;AACA,GAJD,CAIE,OAAO96E,CAAP,EAAU;AACXkT,WAAO,CAACjZ,KAAR,CAAc,kDAAd,EAAkE+F,CAAlE;AAEA46E,gBAAY,CAACK,UAAb,CAAwB,2BAAxB;AACAL,gBAAY,CAACK,UAAb,CAAwB,yBAAxB;AACA;AACD;AAGM,SAASC,IAAT,CAAcC,WAAd,EAAmC,GAAGC,aAAtC,EAAqF;AAC3F,MAAI,CAACD,WAAL,EAAkB,OAAO,EAAP;;AAElB,MAAI,CAACT,QAAL,EAAe;AAIbxnE,WAAO,CAACjZ,KAAR,CAAc,6BAAd,EAA6CkhF,WAA7C;AACA,WAAOA,WAAP;AAED;;AAED,QAAM/nE,OAAO,GAAGsnE,QAAQ,CAACS,WAAD,CAAxB;AAEA,MAAI,CAAC/nE,OAAL,EAAc,OAAO+nE,WAAP;AAGd,MAAIC,aAAa,CAAC3jF,MAAd,KAAyB,CAA7B,EAAgC,OAAO2b,OAAP;AAIhC,SAAOA,OAAO,CAACrZ,OAAR,CAAgB,iBAAhB,EAAmC,CAACsG,KAAD,EAAQuvC,MAAR,KAAmBwrC,aAAa,CAACxrC,MAAM,GAAG,CAAV,CAAnE,CAAP;AAKA,C;;;;;;;;;;;;;;;;;;AClGM,UAAUyrC,KAAV,CAAgBl0E,KAAhB,EAA+BtO,GAA/B,EAA8D;AACpE,OAAK,IAAI1C,CAAC,GAAGgR,KAAb,EAAoBhR,CAAC,GAAG0C,GAAxB,EAA6B,EAAE1C,CAA/B,EAAkC;AACjC,UAAMA,CAAN;AACA;AACD;AAQM,UAAUu7D,GAAV,CAAc,GAAG4pB,SAAjB,EAA4B;AAClC,QAAMC,UAAU,GAAGD,SAAS,CAACljF,GAAV,CAAcojF,EAAE,IAAIA,EAAE,CAACngF,MAAM,CAACC,QAAR,CAAF,EAApB,CAAnB;AACA,MAAIX,OAAJ;;AAEA,SAAO,CAACA,OAAO,GAAG4gF,UAAU,CAACnjF,GAAX,CAAeqjF,GAAG,IAAIA,GAAG,CAAC37E,IAAJ,EAAtB,CAAX,EAA8C+yE,IAA9C,CAAmDryC,CAAC,IAAI,CAACA,CAAC,CAAC5jC,IAA3D,CAAP,EAAyE;AACxE,UAAMjC,OAAO,CAACvC,GAAR,CAAYooC,CAAC,IAAIA,CAAC,CAACrlC,KAAnB,CAAN;AACA;AACD,C;;;;;;;AClBD;AAEO,SAASugF,OAAT,CAAoBvjF,QAApB,EAAwC4yB,QAAiB,GAAG,CAA5D,EAA2E;AACjF,SAAO,IAAI6gD,OAAJ,CAAYz7D,OAAO,IAAI;AAC7B,KAAC,SAASwrE,MAAT,GAAkB;AAClB,YAAMvlF,GAAG,GAAG+B,QAAQ,EAApB;;AACA,UAAI,CAAC/B,GAAL,EAAU;AACTmc,kBAAU,CAACopE,MAAD,EAAS5wD,QAAT,CAAV;AACA;AACA;;AACD5a,aAAO,CAAC/Z,GAAD,CAAP;AACA,KAPD;AAQA,GATM,CAAP;AAUA;AASM,MAAMwlF,cAAc,GAAG,CAAC,MAAM;AAIpC,QAAMC,MAAM,GAAG,EAAf;AAEA,QAAMnyD,GAAG,GAAGoyD,aAAa,CAAC,MAAM;AAC/B,UAAM30E,KAAK,GAAG40E,WAAW,CAAC78D,GAAZ,EAAd;;AACA,OAAG;AACF,uBAAS28D,MAAT,EAAiB,CAAC;AAAEG,iBAAF;AAAa7jF,gBAAb;AAAuBgY,eAAvB;AAAgCC;AAAhC,OAAD,KAA8D;AAC9E,cAAM;AAAEjV,eAAF;AAASyB;AAAT,YAAkBo/E,SAAS,CAACl8E,IAAV,EAAxB;;AAEA,YAAIlD,IAAJ,EAAU;AACTuT,iBAAO;AACP,iBAAO,IAAP;AACA;;AAED,YAAI;AACHhY,kBAAQ,CAACgD,KAAD,CAAR;AACA,SAFD,CAEE,OAAO6E,CAAP,EAAU;AACX,cAAIg8E,SAAS,CAACC,MAAd,EAAsBD,SAAS,CAACC,MAAV;AACtB7rE,gBAAM,CAACpQ,CAAD,CAAN;AACA,iBAAO,IAAP;AACA;AACD,OAfD;;AAiBA,UAAI,CAAC67E,MAAM,CAACpkF,MAAZ,EAAoB;AACnB;AACA;AACD,KArBD,QAqBSskF,WAAW,CAAC78D,GAAZ,KAAoB/X,KAApB,GA3BQ,OADA,EAOjB;;AAsBAuiB,OAAG;AACH,GAzBwB,CAAzB;AA2BA,SAAO,qBAAa,CAAIpH,UAAJ,EAA6BnqB,QAA7B,KACnB,IAAIyzE,OAAJ,CAAY,CAACz7D,OAAD,EAAUC,MAAV,KAAqB;AAChC,UAAM40D,QAAQ,GAAI3pE,MAAM,CAACC,QAAP,IAAmBgnB,UAApB,GAAkCA,UAAlC,GAA+C7oB,KAAK,CAACwsE,IAAN,CAAW3jD,UAAX,CAAhE;AAEAu5D,UAAM,CAACjnF,IAAP,CAAY;AAAEonF,eAAS,EAAEhX,QAAQ,CAAC3pE,MAAM,CAACC,QAAR,CAAR,EAAb;AAA0CnD,cAA1C;AAAoDgY,aAApD;AAA6DC;AAA7D,KAAZ;AACAsZ,OAAG;AACH,GALD,CADM,CAAP;AAQA,CAzC6B,GAAvB;AAiDA,SAASwyD,KAAT,CAAqB/jF,QAArB,EAAqG;AAAE4vC,MAAI,GAAG,GAAT;AAActZ,OAAK,GAAG,EAAtB;AAA0B0tD,mBAAiB,GAAG;AAA9C,IAA0H,EAA/N,EAAyP;AAC/P,MAAIC,MAAJ;;AAEA,YAAUC,gBAAV,GAA6B;AAC5B,UAAMnZ,OAAO,GAAG,EAAhB;AACA,UAAMoZ,QAAQ,GAAG,EAAjB;;AAEA,aAASC,UAAT,GAAkC;AACjC,UAAIrZ,OAAO,CAACzrE,MAAZ,EAAoB;AACnB,eAAO,IAAIm0E,OAAJ,CAAY,CAACz7D,OAAD,EAAUC,MAAV,KAAqB;AAAEksE,kBAAQ,CAAC1nF,IAAT,CAAc;AAAEub,mBAAF;AAAWC;AAAX,WAAd;AAAqC,SAAxE,CAAP;AACA,OAFD,MAEO;AACN,eAAQzW,SAAR;AACA;AACD;;AAEDyiF,UAAM,GAAG,sBAAO,YAAY;AAC3BI,mBAAa;AACb,UAAI,CAACtZ,OAAO,CAACzrE,MAAb,EAAqB;;AACrB,UAAI;AACH,cAAMkD,OAAO,GAAG,OAAMxC,QAAQ,CAAC+qE,OAAD,CAAd,KAA2B,EAA3C;;AACA,aAAK,MAAM,CAAC;AAAE/yD,iBAAF;AAAWC;AAAX,SAAD,EAAsB1J,MAAtB,CAAX,IAA4CgrD,GAAG,CAAC4qB,QAAD,EAAW3hF,OAAX,CAA/C,EAAoE;AACnE,cAAI+L,MAAM,YAAYvS,KAAtB,EAA6Bic,MAAM,CAAC1J,MAAD,CAAN,CAA7B,KACKyJ,OAAO,CAACzJ,MAAD,CAAP;AACL;AACD,OAND,CAME,OAAO1G,CAAP,EAAU;AACX,aAAK,MAAM;AAAEoQ;AAAF,SAAX,IAAyBksE,QAAzB,EAAmC;AAClClsE,gBAAM,CAACpQ,CAAD,CAAN;AACA;AACD;AACD,KAdQ,CAAT;AAgBA,UAAM2uB,OAAO,GAAGF,KAAK,GAAG,mBAAW2tD,MAAX,EAAmB3tD,KAAnB,CAAH,GAA+BghB,cAAQ,CAAC2sC,MAAD,CAA5D;;AAEA,WAAOlZ,OAAO,CAACzrE,MAAR,GAAiBswC,IAAxB,EAA8B;AAC7B,YAAMq7B,KAAK,GAAG,MAAMmZ,UAAU,EAA9B;AACA,UAAInZ,KAAK,KAAKzpE,SAAd,EAAyB,MAAM,IAAIxF,KAAJ,CAAU,uCAAV,CAAN;AACzB+uE,aAAO,CAACtuE,IAAR,CAAawuE,KAAb;AACAz0C,aAAO;AACP;;AAED,UAAM8tD,WAAW,GAAGF,UAAU,EAA9B;AACAH,UAAM;AACN,UAAMK,WAAN;AACA;;AAED,MAAIC,YAAJ;;AAEA,WAASF,aAAT,GAAyB;AACxBE,gBAAY,GAAGL,gBAAgB,EAA/B;AACAK,gBAAY,CAAC58E,IAAb;AACA;;AAED08E,eAAa;AAEb,MAAIL,iBAAJ,EAAuB/nF,MAAM,CAACkP,gBAAP,CAAwB,cAAxB,EAAwC,MAAM;AAAE84E,UAAM;AAAK,GAA3D,EAA6D,IAA7D;AAEvB,SAAOhZ,KAAK,IAAI;AACf,UAAM;AAAEjoE;AAAF,QAAYuhF,YAAY,CAAC58E,IAAb,CAAkBsjE,KAAlB,CAAlB;AACA,QAAIjoE,KAAK,KAAKxB,SAAd,EAAyB,MAAM,IAAIxF,KAAJ,CAAU,mDAAV,CAAN;AACzB,WAAOgH,KAAP;AACA,GAJD;AAKA;;AAED,SAAS2V,MAAT,CAAmBP,OAAnB,EAAwCpY,QAAxC,EAAiG;AAChG,SAAOoY,OAAO,CAACE,IAAR,CAAatY,QAAb,EAAuBA,QAAvB,CAAP;AACA;;AAIM,SAASwkF,SAAT,CACNxkF,QADM,EAEyD;AAC/D,SAAO,UAAS,GAAGsP,IAAZ,EAAkB;AACxB,WAAQ,SAAS3H,IAAT,CAAck8E,SAAd,EAAyB9gF,GAAzB,EAA8B0hF,QAA9B,EAAwC;AAC/C,YAAM;AAAEzhF,aAAF;AAASyB;AAAT,UAAkB,CAACggF,QAAD,GAAYZ,SAAS,CAACl8E,IAAV,CAAe5E,GAAf,CAAZ,GAAkC8gF,SAAS,CAACa,KAAV,CAAgB3hF,GAAhB,CAA1D;;AAEA,UAAI0B,IAAJ,EAAU;AACT,eAAOzB,KAAP;AACA,OAFD,MAEO,IAAI,EAAEA,KAAK,YAAYywE,OAAnB,CAAJ,EAAiC;AACvC,eAAO9rE,IAAI,CAACk8E,SAAD,EAAY7gF,KAAZ,EAAmB,KAAnB,CAAX;AACA,OAFM,MAEA;AACN,eAAOA,KAAK,CAACsV,IAAN,CACNra,GAAG,IAAI0J,IAAI,CAACk8E,SAAD,EAAY5lF,GAAZ,EAAiB,KAAjB,CADL,EAEN8kB,GAAG,IAAIpb,IAAI,CAACk8E,SAAD,EAAY9gE,GAAZ,EAAiB,IAAjB,CAFL,CAAP;AAIA;AACD,KAbM,CAaJ6tB,OAAO,CAACzwC,KAAR,CAAcH,QAAd,EAAwB,IAAxB,EAA8BsP,IAA9B,CAbI,EAaiC9N,SAbjC,EAa4C,KAb5C,CAAP;AAcA,GAfD;AAgBA;AAgBM,SAASmjF,SAAT,CAAmBC,OAAnB,EAA4B,GAAG9rE,GAA/B,EAAoC;AAC1C,SAAO0rE,SAAS,CAAC,WAAU,GAAGl1E,IAAb,EAAmB;AACnC,QAAIu1E,KAAK,GAAGD,OAAO,CAAC,GAAGt1E,IAAJ,CAAnB;;AACA,SAAK,MAAMtQ,EAAX,IAAiB8Z,GAAjB,EAAsB;AACrB+rE,WAAK,GAAG7lF,EAAE,EAAC,MAAM6lF,KAAP,EAAV;AACA;;AACD,WAAOA,KAAP;AACA,GANe,CAAhB;AAOA;AAIM,SAASC,YAAT,CAAyB1sE,OAAzB,EAAyE;AAC/E,MAAIna,GAAG,GAAGma,OAAV;AACAA,SAAO,CAACE,IAAR,CAAa2oD,CAAC,IAAI;AAAEhjE,OAAG,GAAGgjE,CAAN;AAAU,GAA9B;AACA,SAAO;AAAEzhE,OAAG,EAAE,MAAMvB;AAAb,GAAP;AACA;AAEM,SAAS8mF,UAAT,CACN/kF,QADM,EAENglF,WAAqC,GAAG/jB,CAAC,IAAIA,CAFvC,EAGF;AACJ,QAAMyiB,MAAM,GAAG,IAAItE,GAAJ,EAAf;AAEA,SAAQ,UAAS,GAAG9vE,IAAZ,EAAkB;AACzB,UAAMhG,GAAG,GAAG07E,WAAW,CAAC,GAAG11E,IAAJ,CAAvB;AAGA,UAAM21E,IAAI,GAAGvB,MAAM,CAACnuE,GAAP,CAAWjM,GAAX,IACZqP,MAAM,CAAC+qE,MAAM,CAAClkF,GAAP,CAAW8J,GAAX,CAAD,EAA+C,MAAMsnC,OAAO,CAACzwC,KAAR,CAAcH,QAAd,EAAwB,IAAxB,EAA8BsP,IAA9B,CAArD,CADM,GAEZshC,OAAO,CAACzwC,KAAR,CAAcH,QAAd,EAAwB,IAAxB,EAA8BsP,IAA9B,CAFD;;AAIA,QAAI21E,IAAI,YAAYxR,OAApB,EAA6B;AAC5BiQ,YAAM,CAAC5mE,GAAP,CAAWxT,GAAX,EAAgB27E,IAAhB;AAEAtsE,YAAM,CAACssE,IAAD,EAAO,MAAM;AAClB,YAAIvB,MAAM,CAAClkF,GAAP,CAAW8J,GAAX,MAAoB27E,IAAxB,EAA8BvB,MAAM,CAACwB,MAAP,CAAc57E,GAAd;AAC9B,OAFK,CAAN;AAGA;;AAED,WAAO27E,IAAP;AACA,GAjBD;AAkBA;AAEM,SAASE,KAAT,CAAsDnlF,QAAtD,EAAsE;AAC5E,MAAIiX,KAAJ;AAEA,SAAQ,UAAS,GAAG3H,IAAZ,EAAkB;AACzB,UAAM21E,IAAI,GAAGhuE,KAAK,GACjB0B,MAAM,CAAC1B,KAAD,EAAQ,MAAM25B,OAAO,CAACzwC,KAAR,CAAcH,QAAd,EAAwB,IAAxB,EAA8BsP,IAA9B,CAAd,CADW,GAEjBshC,OAAO,CAACzwC,KAAR,CAAcH,QAAd,EAAwB,IAAxB,EAA8BsP,IAA9B,CAFD;;AAIA,QAAI21E,IAAI,YAAYxR,OAApB,EAA6B;AAC5Bx8D,WAAK,GAAGguE,IAAR;AAEAtsE,YAAM,CAACssE,IAAD,EAAO,MAAM;AAClB,YAAIhuE,KAAK,KAAKguE,IAAd,EAAoBhuE,KAAK,GAAGzV,SAAR;AACpB,OAFK,CAAN;AAGA;;AAED,WAAOyjF,IAAP;AACA,GAdD;AAeA;AAIM,SAAS3tC,cAAT,CAAkBt3C,QAAlB,EAA6E;AACnF,MAAIoY,OAAJ;AAEA,SAAO,MAAM;AACZA,WAAO,GAAGA,OAAO,IAAIq7D,OAAO,CAACz7D,OAAR,GAAkBM,IAAlB,CAAuB,MAAM;AACjDF,aAAO,GAAG,IAAV;AACApY,cAAQ;AACR,KAHoB,CAArB;AAIA,WAAOoY,OAAP;AACA,GAND;AAOA;AAGM,SAASgtE,aAAT,CAAuBplF,QAAvB,EAA4CkmC,QAAgB,GAAG,CAA/D,EAA8E;AACpF,MAAI1rB,SAAJ;AAEA,QAAM6qE,MAAM,GAAG1B,aAAa,CAAC,MAAM;AAClC,QAAInpE,SAAJ,EAAemY,qBAAqB,CAAC,MAAM;AAAE0yD,YAAM;AAAK,KAApB,CAArB,CAAf,KACKrlF,QAAQ;AACbwa,aAAS,IAAI,CAAb;AACA,GAJ2B,CAA5B;AAMA,SAAO,MAAM;AACZA,aAAS,GAAG0rB,QAAZ;AACAvT,yBAAqB,CAAC,MAAM;AAAE0yD,YAAM;AAAK,KAApB,CAArB;AACA,GAHD;AAIA;AAMM,SAAS1B,aAAT,CAA0B3jF,QAA1B,EAAuF;AAC7F,MAAIsP,IAAI,GAAG,EAAX;AACA,MAAI8I,OAAJ;AAEA,SAAO,CAAC,GAAGpT,CAAJ,KAAU;AAChBsK,QAAI,GAAGtK,CAAP;AACAoT,WAAO,GAAGA,OAAO,IAAI,IAAIq7D,OAAJ,CAAY,CAACyD,GAAD,EAAMoO,GAAN,KAAc;AAC9C3yD,2BAAqB,CAAC,MAAM;AAC3Bva,eAAO,GAAG,IAAV;;AACA,YAAI;AACH8+D,aAAG,CAACl3E,QAAQ,CAAC,GAAGsP,IAAJ,CAAT,CAAH;AACA,SAFD,CAEE,OAAOzH,CAAP,EAAU;AACXy9E,aAAG,CAACz9E,CAAD,CAAH;AACA;AACD,OAPoB,CAArB;AAQA,KAToB,CAArB;AAUA,WAAOuQ,OAAP;AACA,GAbD;AAcA;AAMM,MAAMmtE,0BAA0B,GAAG,CAAC,MAAM;AAChD,MAAI7B,MAAM,GAAG,EAAb;AAEA,QAAMnyD,GAAG,GAAG+lB,cAAQ,CAAC,MAAM;AAC1B,SAAK,MAAMt4C,EAAX,IAAiB0kF,MAAjB,EAAyB;AACxB,UAAI;AACH1kF,UAAE;AACF,OAFD,CAEE,OAAO6I,CAAP,EAAU,CAAe;AAC3B;;AACD67E,UAAM,GAAG,EAAT;AACA,GAPmB,CAApB;AASA,SAAO,UAAS1jF,QAAT,EAA+B;AAErC,QAAIwlF,MAAM,GAAG,KAAb;AAOA,WAAO,CAAC,GAAGxgF,CAAJ,KAAoB;AAG1B,UAAIwgF,MAAJ,EAAY;AACX,uBAAO9B,MAAP,EAAe1jF,QAAf;AACA,OAFD,MAEO;AACNwlF,cAAM,GAAG,IAAT;AACA;;AAED9B,YAAM,CAACjnF,IAAP,CAAYuD,QAAZ;AACAuxB,SAAG;AACH,KAXD;AAYA,GArBD;AAsBA,CAlCyC,GAAnC;AAwCA,SAASk0D,YAAT,CAAyBzlF,QAAzB,EAAsF;AAC5F,MAAIsP,IAAI,GAAG,EAAX;AACA,MAAI8I,OAAJ;AAEA,SAAO,CAAC,GAAGpT,CAAJ,KAAU;AAChBsK,QAAI,GAAGtK,CAAP;AACAoT,WAAO,GAAGA,OAAO,IAAI,IAAIq7D,OAAJ,CAAY,CAACyD,GAAD,EAAMoO,GAAN,KAAc;AAC9ChD,yBAAmB,CAAC,MAAM;AACzBlqE,eAAO,GAAG,IAAV;;AACA,YAAI;AACH8+D,aAAG,CAACl3E,QAAQ,CAAC,GAAGsP,IAAJ,CAAT,CAAH;AACA,SAFD,CAEE,OAAOzH,CAAP,EAAU;AACXy9E,aAAG,CAACz9E,CAAD,CAAH;AACA;AACD,OAPkB,CAAnB;AAQA,KAToB,CAArB;AAUA,WAAOuQ,OAAP;AACA,GAbD;AAcA,C;;;ACnWD;AACA;;AAIA,SAASstE,WAAT,CAAqBC,KAArB,EAA4B;AAC3B,QAAMC,WAAW,GAAGD,KAAK,CAACl6E,MAAN,CAAawmB,CAAC,IAAI,CAACA,CAAC,CAACurB,QAAF,CAAW,KAAX,CAAD,IAAsBvrB,CAAC,KAAK,YAA9C,CAApB;AACA,QAAM4zD,OAAO,GAAGF,KAAK,CAACl6E,MAAN,CAAawmB,CAAC,IAAIA,CAAC,CAACurB,QAAF,CAAW,KAAX,KAAqBvrB,CAAC,KAAK,YAA7C,CAAhB;AACA,SAAO;AAAE2zD,eAAF;AAAeC;AAAf,GAAP;AACA;;AAMM,MAAMtwE,eAAG,GAAG,kBACjBowE,KAAD,IAAkBnG,WAAW,CAAC,aAAD,EAAgB;AAAEsG,WAAS,EAAE,UAAb;AAAyB,KAAGJ,WAAW,CAACC,KAAD;AAAvC,CAAhB,CADX,EAElBA,KAAK,IAAIA,KAAK,CAAC58E,IAAN,CAAW,GAAX,CAFS,CAAZ;AAUA,MAAMg9E,OAAO,GAAGZ,KAAK,CAAC,MAAOQ,KAAP,IAAwB;AACpD,MAAI,MAAMpwE,eAAG,CAACowE,KAAD,CAAb,EAAsB;AAEtB,QAAM;AAAEC,eAAF;AAAeC;AAAf,MAA2BH,WAAW,CAACC,KAAD,CAA5C;AAEA,QAAMK,OAAO,GAAG,MAAMxG,WAAW,CAAC,aAAD,EAAgB;AAAEsG,aAAS,EAAE,SAAb;AAAwBF,eAAxB;AAAqCC;AAArC,GAAhB,CAAjC;;AACA,MAAIG,OAAJ,EAAa;AACZzwE,mBAAG,CAAClM,KAAJ,CAAUyT,GAAV,CAAc6oE,KAAK,CAAC58E,IAAN,CAAW,GAAX,CAAd,EAA+B,IAA/B;AACA,GAFD,MAEO;AACN,UAAM,IAAI/M,KAAJ,CAAW,+BAA8B2pF,KAAK,CAAC58E,IAAN,CAAW,IAAX,CAAiB,EAA1D,CAAN;AACA;AACD,CAX2B,CAArB,C;;AC1BP;AACA;AAEO,eAAek9E,cAAf,CAA8B;AACpC7L,QADoC;AAEpC8L,UAFoC;AAGpCC,OAAK,GAAG,EAH4B;AAIpCP;AAJoC,CAA9B,EAUHQ,mBAVG,EAUuE;AAC7E,MAAIR,WAAW,CAACtmF,MAAZ,IAAsB,EAAC,MAAM+mF,eAAA,CAAgBT,WAAhB,CAAP,CAA1B,EAA+D;AAC9D,UAAMU,OAAO,GAAG,0CAAhB;;AAEA,QAAI,SAA0C,EAAC,MAAMD,eAAA,CAAgB,CAACC,OAAD,CAAhB,CAAP,CAA9C,EAAiF;AAChFV,iBAAW,CAACnpF,IAAZ,CAAiB6pF,OAAjB;AACA;;AAED,UAAMF,mBAAmB,CAACR,WAAW,CAACpoC,QAAZ,CAAqB8oC,OAArB,IAAgC,oFAAhC,GAAuH,EAAxH,CAAzB;AAEA,UAAMD,OAAA,CAAoBT,WAApB,CAAN;AACA;;AAED,MAAIW,WAAJ;;AACA,MAAI;AACHA,eAAW,GAAG,MAAM/G,WAAW,CAAC,UAAD,EAAa;AAAEpF,YAAF;AAAU8L,cAAV;AAAoBC,WAApB;AAA2BK,iBAAW,EAAE;AAAxC,KAAb,CAA/B;AACA,GAFD,CAEE,OAAO3+E,CAAP,EAAU;AACXkT,WAAO,CAACjZ,KAAR,CAAc,6BAAd,EAA6C+F,CAA7C;AAEA0+E,eAAW,GAAG,MAAM/G,WAAW,CAAC,UAAD,EAAa;AAAEpF,YAAF;AAAU8L,cAAV;AAAoBC,WAApB;AAA2BK,iBAAW,EAAE;AAAxC,KAAb,CAA/B;AACA;;AAED,QAAM12E,IAAI,GAAG,IAAIuzD,GAAJ,CAAQkjB,WAAR,EAAqBz2E,IAArB,CAA0BvT,KAA1B,CAAgC,CAAhC,CAAb;AACA,QAAMqX,KAAK,GAAG,IAAIwtE,eAAJ,CAAoBtxE,IAApB,EAA0BtQ,GAA1B,CAA8B,cAA9B,CAAd;AAEA,MAAI,CAACoU,KAAL,EAAY,MAAM,IAAI5X,KAAJ,CAAU,6BAAV,CAAN;AAEZ,SAAO4X,KAAP;AACA,C;;ACzCD;AAEA,MAAM6yE,SAAS,GAAG,IAAIrH,GAAJ,EAAlB;AAEAK,WAAW,CAAC,WAAD,EAAc,CAAC;AAAE1+E,MAAF;AAAQuO;AAAR,CAAD,KAAoB;AAC5C,QAAMtP,QAAQ,GAAGymF,SAAS,CAACjnF,GAAV,CAAcuB,IAAd,CAAjB;AAEA,MAAIf,QAAJ,EAAc,OAAOA,QAAQ,CAAC,GAAGsP,IAAJ,CAAf;AACd,CAJU,CAAX;AASO,SAASo3E,SAAT,CAA4C1mF,QAA5C,EAAyD;AAAEe,MAAF;AAAQ4lF,OAAK,GAAG,IAAhB;AAAsBC,cAAY,GAAG;AAArC,CAAzD,EAAsK;AAC5K,MAAIH,SAAS,CAAClxE,GAAV,CAAcxU,IAAd,CAAJ,EAAyB;AACxB,UAAM,IAAI/E,KAAJ,CAAW,gCAA+B+E,IAAK,WAA/C,CAAN;AACA;;AAED0lF,WAAS,CAAC3pE,GAAV,CAAc/b,IAAd,EAAoBf,QAApB;;AAEA,WAAS6mF,SAAT,CAAmB,GAAGv3E,IAAtB,EAA4B;AAC3BtP,YAAQ,CAAC,GAAGsP,IAAJ,CAAR;AACA;;AAED,QAAM20E,MAAW,GAAG,CAAC,GAAG30E,IAAJ,KAAa;AAChCkwE,eAAW,CAAC,WAAD,EAAc;AAAEz+E,UAAF;AAAQuO,UAAR;AAAcs3E;AAAd,KAAd,CAAX;;AAEA,QAAID,KAAJ,EAAW;AACVE,eAAS,CAAC,GAAGv3E,IAAJ,CAAT;AACA;AACD,GAND;;AAQA20E,QAAM,CAAC0C,KAAP,GAAeE,SAAf;AAEA,SAAO5C,MAAP;AACA,C;;ACnCD;AAEO,SAAS6C,UAAT,CAAoBzpD,GAApB,EAAiCzU,KAAe,GAAG,IAAnD,EAAyD;AAC/D,SAAOm+D,WAAW,CAACn+D,KAAD,EAAQyU,GAAR,CAAlB;AACA;AAIM,SAAS0pD,WAAT,CAAqBn+D,KAArB,EAAmC,GAAGo+D,IAAtC,EAAsD;AAC5D,MAAIC,UAAJ;AAEA,MAAI,OAAOr+D,KAAP,KAAiB,QAArB,EAA+BA,KAAK,GAAG,CAAC,CAACA,KAAV;;AAE/B,UAAQA,KAAR;AACC,SAAK,OAAL;AACCq+D,gBAAU,GAAG,CAAb;AACA;;AACD,SAAK,IAAL;AACA,SAAK,MAAL;AACCA,gBAAU,GAAGD,IAAI,CAAC1nF,MAAL,GAAc,CAA3B;AACA;;AACD,SAAK,KAAL;AACA,SAAK,MAAL;AACC2nF,gBAAU,GAAG,CAAC,CAAd;AACA;;AACD;AACC,YAAM,IAAIjrF,KAAJ,CAAW,4BAA2B4sB,KAAM,EAA5C,CAAN;AAbF;;AAiBAo+D,MAAI,GAAGA,IAAI,CAAC/mF,GAAL,CAASo9B,GAAG,IAAI,IAAIgmC,GAAJ,CAAQhmC,GAAR,EAAattB,QAAQ,CAACG,IAAtB,EAA4BA,IAA5C,CAAP;AAEA,SAAOsvE,WAAW,CAAC,aAAD,EAAgB;AAAEwH,QAAF;AAAQC;AAAR,GAAhB,CAAlB;AACA,C;;ACjCD;AACA;AAEA,MAAMC,cAAc,GAAG,EAAvB;AAEO,SAASC,kBAAT,CAAiBnnF,QAAjB,EAAuC;AAC7CknF,gBAAc,CAACzqF,IAAf,CAAoBuD,QAApB;AACA;AAEDy/E,WAAW,CAAC,iBAAD,EAAoB,MAAM;AAAE,OAAK,MAAMzgF,EAAX,IAAiBkoF,cAAjB,EAAiCloF,EAAE;AAAK,CAApE,CAAX;AAGA,MAAMqmF,iBAAM,GAAG1B,aAAa,CAAC3gF,KAAK,IAAIw8E,WAAW,CAAC,YAAD,EAAex8E,KAAf,CAArB,CAA5B;AAEO,SAASkd,IAAT,CAAcxH,KAAe,GAAG,KAAhC,EAAuC;AAC7C,SAAO2sE,iBAAM,CAAC;AAAES,aAAS,EAAE,MAAb;AAAqBptE;AAArB,GAAD,CAAb;AACA;AAEM,SAAS0H,eAAT,GAAgB;AACtB,SAAOilE,iBAAM,CAAC;AAAES,aAAS,EAAE;AAAb,GAAD,CAAb;AACA,C;;ACpBD;AAEO,SAAStmF,GAAT,CAAa8J,GAAb,EAA+C;AACrD,SAAOk2E,WAAW,CAAC,SAAD,EAAY,CAAC,KAAD,EAAQl2E,GAAR,CAAZ,CAAlB;AACA;AAEM,SAASwT,WAAT,CAAaxT,GAAb,EAA0BtG,KAA1B,EAAwC;AAC9C,SAAOw8E,WAAW,CAAC,SAAD,EAAY,CAAC,KAAD,EAAQl2E,GAAR,EAAatG,KAAb,CAAZ,CAAlB;AACA;AAEM,SAASq9E,eAAT,CAAiB/2E,GAAjB,EAA8B;AACpC,SAAOk2E,WAAW,CAAC,SAAD,EAAY,CAAC,QAAD,EAAWl2E,GAAX,CAAZ,CAAlB;AACA;AACD;AAEO,SAASiM,WAAT,CAAajM,GAAb,EAA4C;AAClD,SAAOk2E,WAAW,CAAC,SAAD,EAAY,CAAC,KAAD,EAAQl2E,GAAR,CAAZ,CAAlB;AACA;AAEM,SAAS0hE,aAAT,GAAiB;AACvB,SAAOwU,WAAW,CAAC,SAAD,EAAY,CAAC,OAAD,CAAZ,CAAlB;AACA,C;;;;;;ACfM,SAAS4H,UAAT,CAAoBjmF,MAApB,EAAiDod,MAAjD,EAAmG;AACzG,OAAK,MAAMjV,GAAX,IAAkBjN,MAAM,CAAC+M,IAAP,CAAYmV,MAAZ,CAAlB,EAAuC;AACtC,QACCpd,MAAM,CAACmI,GAAD,CAAN,IAAeiV,MAAM,CAACjV,GAAD,CAArB,IACA,OAAOnI,MAAM,CAACmI,GAAD,CAAb,KAAuB,QADvB,IACmC,OAAOiV,MAAM,CAACjV,GAAD,CAAb,KAAuB,QAD1D,IAEA,CAAChI,KAAK,CAACC,OAAN,CAAcgd,MAAM,CAACjV,GAAD,CAApB,CAFD,IAE+B,CAAChI,KAAK,CAACC,OAAN,CAAcJ,MAAM,CAACmI,GAAD,CAApB,CAHjC,EAIE;AACD89E,gBAAU,CAACjmF,MAAM,CAACmI,GAAD,CAAP,EAAciV,MAAM,CAACjV,GAAD,CAApB,CAAV;AACA,KAND,MAMO;AACNnI,YAAM,CAACmI,GAAD,CAAN,GAAciV,MAAM,CAACjV,GAAD,CAApB;AACA;AACD;;AACD,SAAOnI,MAAP;AACA,C;;;;AClBD;AACA;AACA;AACA;;AAEA,MAAMkmF,KAAK,GAAG3H,YAAY,CAAC,CAAC4H,KAAD,EAAQtnF,QAAR,KAAqBqgE,MAAM,CAACknB,OAAP,CAAeZ,KAAf,CAAqB7pE,GAArB,CAAyBwqE,KAAzB,EAAgCtnF,QAAhC,CAAtB,CAA1B;;AACA,MAAMwnF,IAAI,GAAG,CAACl+E,GAAD,EAAMtG,KAAN,KAAgBqkF,KAAK,CAAC;AAAE,GAAC/9E,GAAD,GAAOtG;AAAT,CAAD,CAAlC;;AACA,MAAMykF,KAAK,GAAG/H,YAAY,CAAC,CAACt2E,IAAD,EAAOpJ,QAAP,KAAoBqgE,MAAM,CAACknB,OAAP,CAAeZ,KAAf,CAAqBnnF,GAArB,CAAyB4J,IAAzB,EAA+BpJ,QAA/B,CAArB,CAA1B;;AACA,MAAM0nF,IAAI,GAAG,OAAOp+E,GAAP,EAAYwK,YAAY,GAAG,IAA3B,KAAoC,CAAC,MAAM2zE,KAAK,CAAC;AAAE,GAACn+E,GAAD,GAAOwK;AAAT,CAAD,CAAZ,EAAuCxK,GAAvC,CAAjD;;AACA,MAAMq+E,OAAO,GAAGjI,YAAY,CAAC,CAACt2E,IAAD,EAAOpJ,QAAP,KAAoBqgE,MAAM,CAACknB,OAAP,CAAeZ,KAAf,CAAqBrvE,MAArB,CAA4BlO,IAA5B,EAAkCpJ,QAAlC,CAArB,CAA5B;;AACA,MAAM4nF,MAAM,GAAGlI,YAAY,CAAC1/E,QAAQ,IAAIqgE,MAAM,CAACknB,OAAP,CAAeZ,KAAf,CAAqB3b,KAArB,CAA2BhrE,QAA3B,CAAb,CAA3B;;AAEA,MAAM6nF,UAAU,GAAG9C,UAAU,CAAC,CAAIz7E,GAAJ,EAAiBtK,EAAjB,KAAoCA,EAAE,EAAvC,CAA7B;AAEO,SAASQ,WAAT,CAAa8J,GAAb,EAA+C;AACrD,SAAOu+E,UAAU,CAACv+E,GAAD,EAAM,MAAMo+E,IAAI,CAACp+E,GAAD,EAAM,IAAN,CAAhB,CAAjB;AACA;AAEM,SAASgY,MAAT,GAAgD;AACtD,SAAOmmE,KAAK,CAAC,IAAD,CAAZ;AACA;AAEM,SAASK,WAAT,CAAgC1+E,IAAhC,EAAyE;AAC/E,QAAM2+E,QAAQ,GAAG,EAAjB;;AACA,OAAK,MAAMC,CAAX,IAAgB5+E,IAAhB,EAAsB;AACrB2+E,YAAQ,CAACC,CAAD,CAAR,GAAc,IAAd;AACA;;AACD,SAAOP,KAAK,CAACM,QAAD,CAAZ;AACA;AAEM,SAASjrE,WAAT,CAAaxT,GAAb,EAA0BtG,KAA1B,EAAuD;AAC7D,SAAO6kF,UAAU,CAACv+E,GAAD,EAAM,MAAMk+E,IAAI,CAACl+E,GAAD,EAAMtG,KAAN,CAAhB,CAAjB;AACA;AAEM,SAASilF,WAAT,CAAqBC,QAArB,EAAoE;AAC1E,SAAOb,KAAK,CAACa,QAAD,CAAZ;AACA;;AAED,SAASC,aAAT,CAAuB7+E,GAAvB,EAAoCwK,YAApC,EAAyDs0E,QAAzD,EAA0E71B,QAA1E,EAA6G;AAG5G,SAAOitB,WAAW,CAAC,aAAD,EAAgB,CAACl2E,GAAD,EAAMwK,YAAN,EAAoBs0E,QAApB,EAA8B71B,QAA9B,CAAhB,CAAlB;AACA;;AAKD,SAASwC,KAAT,CAAezrD,GAAf,EAA4BtG,KAA5B,EAAuE;AACtE,SAAO6kF,UAAU,CAACv+E,GAAD,EAAM,YAAY;AAClC,UAAM++E,QAAQ,GAAGjB,UAAU,CAAC,OAAMM,IAAI,CAACp+E,GAAD,CAAV,KAAmB,EAApB,EAAwBtG,KAAxB,CAA3B;AACA,WAAOwkF,IAAI,CAACl+E,GAAD,EAAM++E,QAAN,CAAX;AACA,GAHgB,CAAjB;AAIA;;AAKD,SAASC,YAAT,CAAsBh/E,GAAtB,EAAmCtG,KAAnC,EAA8E;AAC7E,SAAO6kF,UAAU,CAACv+E,GAAD,EAAM,YAAY;AAClC,UAAM++E,QAAQ,GAAGhsF,MAAM,CAACyqE,MAAP,CAAc,OAAM4gB,IAAI,CAACp+E,GAAD,CAAV,KAAmB,EAAjC,EAAqCtG,KAArC,CAAjB;AACA,WAAOwkF,IAAI,CAACl+E,GAAD,EAAM++E,QAAN,CAAX;AACA,GAHgB,CAAjB;AAIA;;AAOD,SAASE,WAAT,CAAqBj/E,GAArB,EAAkCoqD,KAAlC,EAAoE;AACnE,SAAOm0B,UAAU,CAACv+E,GAAD,EAAM,YAAY;AAClC,UAAMk/E,MAAM,GAAG,MAAMd,IAAI,CAACp+E,GAAD,CAAzB;AACA,QAAI,CAACk/E,MAAL,EAAa;;AACb,SAAK,MAAMl4C,IAAX,IAAmBojB,KAAnB,EAA0B;AACzBpjB,UAAI,CAAC2nC,MAAL,CAAY,CAAC76E,GAAD,EAAMkM,GAAN,EAAWtL,CAAX,EAAc;AAAEsB;AAAF,OAAd,KAA6B;AACxC,YAAI,CAAClC,GAAL,EAAU;AACV,YAAIY,CAAC,GAAGsB,MAAM,GAAG,CAAjB,EAAoB,OAAOlC,GAAG,CAACkM,GAAD,CAAV;AACpB,eAAOlM,GAAG,CAACkM,GAAD,CAAV;AACA,OAJD,EAIGk/E,MAJH;AAKA;;AACD,WAAOhB,IAAI,CAACl+E,GAAD,EAAMk/E,MAAN,CAAX;AACA,GAXgB,CAAjB;AAYA;;AAED,SAASnI,eAAT,CAAiB/2E,GAAjB,EAA6C;AAC5C,SAAOu+E,UAAU,CAACv+E,GAAD,EAAM,MAAMq+E,OAAO,CAACr+E,GAAD,CAAnB,CAAjB;AACA;;AACD;AAEO,SAASm/E,cAAT,CAAwBr/E,IAAxB,EAAuD;AAC7D,SAAOu+E,OAAO,CAACv+E,IAAD,CAAd;AACA;AAEM,SAASmM,WAAT,CAAajM,GAAb,EAA4C;AAClD,SAAOu+E,UAAU,CAACv+E,GAAD,EAAM,YAAY;AAClC,UAAMo/E,QAAQ,GAAGhnF,IAAI,CAACC,MAAL,EAAjB;AACA,WAAO,CAAC,MAAM+lF,IAAI,CAACp+E,GAAD,EAAMo/E,QAAN,CAAX,MAAgCA,QAAvC;AACA,GAHgB,CAAjB;AAIA;AAEM,eAAet/E,YAAf,GAAyC;AAC/C,SAAO/M,MAAM,CAAC+M,IAAP,EAAY,MAAMq+E,KAAK,CAAC,IAAD,CAAvB,EAAP;AACA;AAEM,SAASzc,aAAT,GAAgC;AACtC,SAAO4c,MAAM,EAAb;AACA;;AAED,MAAMe,OAAN,CAAiB;AAIhBtpF,aAAW,CAACiK,GAAD,EAAmCg7D,GAAnC,EAA2C;AAAA,SAHtDskB,IAGsD;AAAA,SAFtD7nE,QAEsD;AACrD,SAAK6nE,IAAL,GAAYt/E,GAAZ;AACA,SAAKyX,QAAL,GAAgBujD,GAAhB;AACA;;AAED9kE,KAAG,GAAe;AACjB,WAAOA,WAAG,CAAC,KAAKopF,IAAL,EAAD,CAAH,CAAiBtwE,IAAjB,CAAsBra,GAAG,IAAKA,GAAG,KAAK,IAAR,GAAe,KAAK8iB,QAApB,GAA+B9iB,GAA7D,CAAP;AACA;;AAED6e,KAAG,CAAC9Z,KAAD,EAA0B;AAC5B,WAAO8Z,WAAG,CAAC,KAAK8rE,IAAL,EAAD,EAAc5lF,KAAd,CAAV;AACA;;AAED+xD,OAAK,CAAC/xD,KAAD,EAAkC;AACtC,WAAO+xD,KAAK,CAAC,KAAK6zB,IAAL,EAAD,EAAe5lF,KAAf,CAAZ;AACA;;AAEDmlF,eAAa,CAACC,QAAD,EAAc71B,QAAd,EAA6C;AACzD,WAAO41B,aAAa,CAAC,KAAKS,IAAL,EAAD,EAAc,KAAK7nE,QAAnB,EAA6BqnE,QAA7B,EAAuC71B,QAAvC,CAApB;AACA;;AAEDs2B,YAAU,CAAC,GAAGv4C,IAAJ,EAAmC;AAC5C,WAAOi4C,WAAW,CAAC,KAAKK,IAAL,EAAD,EAAc,CAACt4C,IAAD,CAAd,CAAlB;AACA;;AAED40C,QAAM,GAAkB;AACvB,WAAO7E,eAAO,CAAC,KAAKuI,IAAL,EAAD,CAAd;AACA;;AAEDrzE,KAAG,GAAqB;AACvB,WAAOA,WAAG,CAAC,KAAKqzE,IAAL,EAAD,CAAV;AACA;;AAnCe;;AAsCV,SAAS/mE,IAAT,CAAiBvY,GAAjB,EAAwDwK,YAAxD,EAAqF;AAC3F,QAAMg1E,YAAY,GAAG,OAAOx/E,GAAP,KAAe,QAAf,GAA0B,MAAMA,GAAhC,GAAsC,sBAAOA,GAAP,CAA3D;AAEA,SAAO,IAAIq/E,OAAJ,CAAYG,YAAZ,EAA0Bh1E,YAA1B,CAAP;AACA;;AAED,MAAMi1E,qBAAN,CAAuB;AAMtB1pF,aAAW,CAAC0xB,MAAD,EAAiBuzC,GAAjB,EAA+B0kB,SAA/B,EAAmEC,QAAnE,EAAsF;AAAA,SALjGC,OAKiG;AAAA,SAJjGC,UAIiG;AAAA,SAHjGpoE,QAGiG;AAAA,SAFjG2mE,IAEiG;AAChG,SAAKwB,OAAL,GAAen4D,MAAf;AACA,SAAKhQ,QAAL,GAAgBujD,GAAhB;AACA,SAAK6kB,UAAL,GAAkBH,SAAlB;;AAEA,QAAIC,QAAJ,EAAc;AACb,WAAKvB,IAAL,GAAY3D,KAAK,CAAC,MAAM36E,IAAN,IAAc;AAC/B,cAAMwO,CAAC,GAAG,MAAM,KAAKwxE,mBAAL,CAAyBhgF,IAAzB,CAAhB;AACA,eAAOA,IAAI,CAACnJ,GAAL,CAASqJ,GAAG,IAAIsO,CAAC,CAAC,KAAKuxE,UAAL,CAAgB7/E,GAAhB,CAAD,CAAjB,CAAP;AACA,OAHgB,EAGd;AAAEsmC,YAAI,EAAE+hC,QAAR;AAAkBr7C,aAAK,EAAE;AAAzB,OAHc,CAAjB;AAIA,KALD,MAKO;AACN,WAAKoxD,IAAL,GAAYp+E,GAAG,IAAI9J,WAAG,CAAC,KAAK6pF,OAAL,CAAa//E,GAAb,CAAD,CAAtB;AACA;AACD;;AAED+/E,SAAO,CAAC//E,GAAD,EAAsB;AAC5B,WAAO,KAAK4/E,OAAL,GAAe,KAAKC,UAAL,CAAgB7/E,GAAhB,CAAtB;AACA;;AAED9J,KAAG,CAAC8J,GAAD,EAA0B;AAC5B,WAAO,KAAKo+E,IAAL,CAAUp+E,GAAV,EAAegP,IAAf,CAAoBra,GAAG,IAAKA,GAAG,KAAK,IAAR,GAAe,KAAK8iB,QAAL,EAAf,GAAiC9iB,GAA7D,CAAP;AACA;;AAEDqrF,aAAW,CAAChgF,GAAD,EAAiC;AAC3C,WAAO,KAAKo+E,IAAL,CAAUp+E,GAAV,CAAP;AACA;;AAED,QAAMgY,MAAN,GAAyC;AACxC,UAAMioE,UAAU,GAAG,MAAMjoE,MAAM,EAA/B;AACA,WAAO,oBAAYioE,UAAZ,EAAwB,CAACC,GAAD,EAAM5xE,CAAN,EAASowE,CAAT,KAAe;AAC7C,UAAIA,CAAC,CAAC5L,UAAF,CAAa,KAAK8M,OAAlB,CAAJ,EAAgC;AAC/BM,WAAG,CAACxB,CAAC,CAACzrF,KAAF,CAAQ,KAAK2sF,OAAL,CAAa5pF,MAArB,CAAD,CAAH,GAAoCsY,CAApC;AACA;AACD,KAJM,EAIJ,EAJI,CAAP;AAKA;;AAED,QAAMkwE,WAAN,CAAkB1+E,IAAlB,EAA4D;AAC3D,UAAMqgF,SAAS,GAAG,MAAM3B,WAAW,CAAC1+E,IAAI,CAACnJ,GAAL,CAAS+nF,CAAC,IAAI,KAAKqB,OAAL,CAAarB,CAAb,CAAd,CAAD,CAAnC;AACA,WAAO,oBAAYyB,SAAZ,EAAuB,CAACD,GAAD,EAAM5xE,CAAN,EAASowE,CAAT,KAAe;AAC5CwB,SAAG,CAACxB,CAAC,CAACzrF,KAAF,CAAQ,KAAK2sF,OAAL,CAAa5pF,MAArB,CAAD,CAAH,GAAqCsY,CAAC,KAAK,IAAN,GAAa,KAAKmJ,QAAL,EAAb,GAA+BnJ,CAApE;AACA,KAFM,EAEJ,EAFI,CAAP;AAGA;;AAED,QAAMwxE,mBAAN,CAA0BhgF,IAA1B,EAA2E;AAC1E,UAAMqgF,SAAS,GAAG,MAAM3B,WAAW,CAAC1+E,IAAI,CAACnJ,GAAL,CAAS+nF,CAAC,IAAI,KAAKqB,OAAL,CAAarB,CAAb,CAAd,CAAD,CAAnC;AACA,WAAO,oBAAYyB,SAAZ,EAAuB,CAACD,GAAD,EAAM5xE,CAAN,EAASowE,CAAT,KAAe;AAC5CwB,SAAG,CAACxB,CAAC,CAACzrF,KAAF,CAAQ,KAAK2sF,OAAL,CAAa5pF,MAArB,CAAD,CAAH,GAAoCsY,CAApC;AACA,KAFM,EAEJ,EAFI,CAAP;AAGA;;AAEDkF,KAAG,CAACxT,GAAD,EAActG,KAAd,EAAuC;AACzC,WAAO8Z,WAAG,CAAC,KAAKusE,OAAL,CAAa//E,GAAb,CAAD,EAAoBtG,KAApB,CAAV;AACA;;AAED+xD,OAAK,CAACzrD,GAAD,EAActG,KAAd,EAA+C;AACnD,WAAO+xD,KAAK,CAAC,KAAKs0B,OAAL,CAAa//E,GAAb,CAAD,EAAqBtG,KAArB,CAAZ;AACA;;AAED6lF,YAAU,CAACv/E,GAAD,EAAc,GAAGgnC,IAAjB,EAAgD;AACzD,WAAOi4C,WAAW,CAAC,KAAKc,OAAL,CAAa//E,GAAb,CAAD,EAAoB,CAACgnC,IAAD,CAApB,CAAlB;AACA;;AAED40C,QAAM,CAAC57E,GAAD,EAA6B;AAClC,WAAO+2E,eAAO,CAAC,KAAKgJ,OAAL,CAAa//E,GAAb,CAAD,CAAd;AACA;;AAEDm/E,gBAAc,CAACr/E,IAAD,EAAgC;AAC7C,WAAOq/E,cAAc,CAACr/E,IAAI,CAACnJ,GAAL,CAAS+nF,CAAC,IAAI,KAAKqB,OAAL,CAAarB,CAAb,CAAd,CAAD,CAArB;AACA;;AAEDzyE,KAAG,CAACjM,GAAD,EAAgC;AAClC,WAAOiM,WAAG,CAAC,KAAK8zE,OAAL,CAAa//E,GAAb,CAAD,CAAV;AACA;;AA9EqB;;AAiFhB,SAASogF,UAAT,CAAuB34D,MAAvB,EAAuCjd,YAAvC,EAA8D61E,oBAA6C,GAAG1oB,CAAC,IAAIA,CAAnH,EAAsHgoB,QAAiB,GAAG,KAA1I,EAAmK;AACzK,SAAO,IAAIF,qBAAJ,CAAkBh4D,MAAlB,EAA0Bjd,YAA1B,EAAwC61E,oBAAxC,EAA8DV,QAA9D,CAAP;AACA;;AAED,MAAMW,mBAAN,CAAqB;AAIpBvqF,aAAW,CAACwqF,OAAD,EAAkBvlB,GAAlB,EAAgC;AAAA,SAH3CwlB,QAG2C;AAAA,SAF3C/oE,QAE2C;AAC1C,SAAK+oE,QAAL,GAAgBD,OAAhB;AACA,SAAK9oE,QAAL,GAAgBujD,GAAhB;AACA;;AAED9kE,KAAG,CAAC8J,GAAD,EAA0B;AAC5B,WAAO9J,WAAG,CAAC,KAAKsqF,QAAN,CAAH,CAAmBxxE,IAAnB,CAAwBra,GAAG,IAChCA,GAAG,KAAK,IAAR,IAAgBA,GAAG,CAACqL,GAAD,CAAH,KAAa9H,SAA9B,GAA2C,KAAKuf,QAAL,EAA3C,GAA6D9iB,GAAG,CAACqL,GAAD,CAD1D,CAAP;AAGA;;AAEDggF,aAAW,CAAChgF,GAAD,EAAiC;AAC3C,WAAO9J,WAAG,CAAC,KAAKsqF,QAAN,CAAH,CAAmBxxE,IAAnB,CAAwBra,GAAG,IAChCA,GAAG,KAAK,IAAR,IAAgBA,GAAG,CAACqL,GAAD,CAAH,KAAa9H,SAA9B,GAA2C,IAA3C,GAAkDvD,GAAG,CAACqL,GAAD,CAD/C,CAAP;AAGA;;AAEDgY,QAAM,GAA6B;AAClC,WAAO9hB,WAAG,CAAC,KAAKsqF,QAAN,CAAH,CAAmBxxE,IAAnB,CAAwBra,GAAG,IAAKA,GAAG,KAAK,IAAR,GAAe,EAAf,GAAoBA,GAApD,CAAP;AACA;;AAED,QAAM6pF,WAAN,CAAkB1+E,IAAlB,EAA4D;AAC3D,UAAMqgF,SAAS,GAAG,CAAC,MAAMjqF,WAAG,CAAC,KAAKsqF,QAAN,CAAV,KAA8B,EAAhD;AACA,WAAO,oBAAY1gF,IAAZ,EAAkB,CAACogF,GAAD,EAAMlgF,GAAN,KAAc;AACtCkgF,SAAG,CAAClgF,GAAD,CAAH,GAAWmgF,SAAS,CAACngF,GAAD,CAAT,KAAmB9H,SAAnB,GAA+B,KAAKuf,QAAL,EAA/B,GAAiD0oE,SAAS,CAACngF,GAAD,CAArE;AACA,KAFM,EAEJ,EAFI,CAAP;AAGA;;AAED,QAAM8/E,mBAAN,CAA0BhgF,IAA1B,EAA2E;AAC1E,UAAMqgF,SAAS,GAAG,CAAC,MAAMjqF,WAAG,CAAC,KAAKsqF,QAAN,CAAV,KAA8B,EAAhD;AACA,WAAO,oBAAY1gF,IAAZ,EAAkB,CAACogF,GAAD,EAAMlgF,GAAN,KAAc;AACtCkgF,SAAG,CAAClgF,GAAD,CAAH,GAAWmgF,SAAS,CAACngF,GAAD,CAAT,KAAmB9H,SAAnB,GAA+B,IAA/B,GAAsCioF,SAAS,CAACngF,GAAD,CAA1D;AACA,KAFM,EAEJ,EAFI,CAAP;AAGA;;AAEDwT,KAAG,CAACxT,GAAD,EAActG,KAAd,EAAuC;AACzC,WAAOslF,YAAY,CAAC,KAAKwB,QAAN,EAAgB;AAAE,OAACxgF,GAAD,GAAOtG;AAAT,KAAhB,CAAnB;AACA;;AAED+xD,OAAK,CAACzrD,GAAD,EAActG,KAAd,EAA+C;AACnD,WAAO+xD,KAAK,CAAC,KAAK+0B,QAAN,EAAgB;AAAE,OAACxgF,GAAD,GAAOtG;AAAT,KAAhB,CAAZ;AACA;;AAED6lF,YAAU,CAACv/E,GAAD,EAAc,GAAGgnC,IAAjB,EAAgD;AACzD,WAAOi4C,WAAW,CAAC,KAAKuB,QAAN,EAAgB,CAAC,CAACxgF,GAAD,EAAM,GAAGgnC,IAAT,CAAD,CAAhB,CAAlB;AACA;;AAED40C,QAAM,CAAC57E,GAAD,EAA6B;AAClC,WAAOi/E,WAAW,CAAC,KAAKuB,QAAN,EAAgB,CAAC,CAACxgF,GAAD,CAAD,CAAhB,CAAlB;AACA;;AAEDm/E,gBAAc,CAACr/E,IAAD,EAAgC;AAC7C,WAAOm/E,WAAW,CAAC,KAAKuB,QAAN,EAAgB1gF,IAAI,CAACnJ,GAAL,CAAS+nF,CAAC,IAAI,CAACA,CAAD,CAAd,CAAhB,CAAlB;AACA;;AAEDzyE,KAAG,CAACjM,GAAD,EAAgC;AAClC,WAAO9J,WAAG,CAAC,KAAKsqF,QAAN,CAAH,CAAmBxxE,IAAnB,CAAwBra,GAAG,IAAKA,GAAG,KAAK,IAAR,IAAgBA,GAAG,CAACqL,GAAD,CAAH,KAAa9H,SAA7D,CAAP;AACA;;AAEDwpE,OAAK,GAAkB;AACtB,WAAOqV,eAAO,CAAC,KAAKyJ,QAAN,CAAd;AACA;;AAjEmB;;AAoEd,SAASC,QAAT,CAAqBF,OAArB,EAAsC/1E,YAAtC,EAA6E;AACnF,SAAO,IAAI81E,mBAAJ,CAAgBC,OAAhB,EAAyB/1E,YAAzB,CAAP;AACA,C;;ACpTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACTO,MAAMk2E,QAAN,CAAqB;AAS3B3qF,aAAW,CAAC4qF,QAAD,EAAmB;AAAA,SAR9BhqF,GAQ8B;AAAA,SAF9BgqF,QAE8B;AAC7B,SAAKhqF,GAAL,GAAW,IAAIm/E,GAAJ,EAAX;AACA,SAAK6K,QAAL,GAAgBA,QAAhB;AACA;;AAEDzqF,KAAG,CAAC8J,GAAD,EAAS82E,MAAc,GAAGzO,QAA1B,EAA8C;AAChD,UAAM5qD,GAAG,GAAGziB,IAAI,CAACyiB,GAAL,EAAZ;AACA,UAAMkkD,KAAK,GAAG,KAAKhrE,GAAL,CAAST,GAAT,CAAa8J,GAAb,CAAd;;AACA,QAAI2hE,KAAK,IAAKlkD,GAAG,GAAGkkD,KAAK,CAACif,UAAZ,GAAyB9J,MAAvC,EAAgD;AAC/CnV,WAAK,CAACkf,OAAN,GAAgBpjE,GAAhB;AACA,aAAOkkD,KAAK,CAACjoE,KAAb;AACA;AACD;;AAED8Z,KAAG,CAACxT,GAAD,EAAStG,KAAT,EAAyB;AAC3B,UAAM+jB,GAAG,GAAGziB,IAAI,CAACyiB,GAAL,EAAZ;AACA,SAAK9mB,GAAL,CAAS6c,GAAT,CAAaxT,GAAb,EAAkB;AAAEtG,WAAF;AAASknF,gBAAU,EAAEnjE,GAArB;AAA0BojE,aAAO,EAAEpjE;AAAnC,KAAlB;;AAEA,QAAI,KAAK9mB,GAAL,CAAS2vC,IAAT,GAAgB,KAAKq6C,QAAzB,EAAmC;AAElC3oF,WAAK,CAACwsE,IAAN,CAAW,KAAK7tE,GAAL,CAAS8qE,OAAT,EAAX,EACEpqE,IADF,CACO,CAAC,GAAGqE,CAAH,CAAD,EAAQ,GAAGC,CAAH,CAAR,KAAkBA,CAAC,CAACklF,OAAF,GAAYnlF,CAAC,CAACmlF,OADvC,EAEE5tF,KAFF,CAES,KAAK0tF,QAAL,GAAgB,CAAjB,GAAsB,CAF9B,EAGEtoB,OAHF,CAGU,CAAC,CAACr4D,GAAD,CAAD,KAAW,KAAKrJ,GAAL,CAASilF,MAAT,CAAgB57E,GAAhB,CAHrB;AAIA;;AAED,WAAO,IAAP;AACA;;AAED47E,QAAM,CAAC57E,GAAD,EAAkB;AACvB,WAAO,KAAKrJ,GAAL,CAASilF,MAAT,CAAgB57E,GAAhB,CAAP;AACA;;AAED0hE,OAAK,GAAS;AACb,SAAK/qE,GAAL,CAAS+qE,KAAT;AACA;;AA5C0B,C;;;ACA5B;AAOO,eAAeof,UAAf,CAA6Bvd,QAA7B,EAAoD7sE,QAApD,EAAuG;AAC7G,OAAK,MAAM/B,GAAX,IAAkB4uE,QAAlB,EAA4B;AAC3B,UAAM7sE,QAAQ,CAAC/B,GAAD,CAAd;AACA;AACD;AAEM,eAAeosF,WAAf,CAA8B37C,KAA9B,EAA0C2B,SAA1C,EAAgG;AACtG,QAAMi6C,UAAU,GAAG,MAAM7W,OAAO,CAACt3D,GAAR,CAAYuyB,KAAK,CAACzuC,GAAN,CAAUowC,SAAV,CAAZ,CAAzB;AACA,SAAO3B,KAAK,CAACjjC,MAAN,CAAa,CAAC5D,CAAD,EAAI7J,CAAJ,KAAUssF,UAAU,CAACtsF,CAAD,CAAjC,CAAP;AACA;AAEM,eAAeusF,WAAf,CAAiC1d,QAAjC,EAAwD7sE,QAAxD,EAAgGwqF,YAAhG,EAA6H;AACnI,MAAIvyC,WAAW,GAAGuyC,YAAlB;;AAEA,OAAK,MAAMvsF,GAAX,IAAkB4uE,QAAlB,EAA4B;AAC3B50B,eAAW,GAAG,MAAMj4C,QAAQ,CAACi4C,WAAD,EAAch6C,GAAd,CAA5B;AACA;;AAED,SAAOg6C,WAAP;AACA;AAEM,MAAMwyC,SAAS,GAAGjG,SAAS,CAAC,WAAuB3X,QAAvB,EAA8Cx8B,SAA9C,EAA2F;AAC7H,OAAK,MAAMpyC,GAAX,IAAkB4uE,QAAlB,EAA4B;AAC3B,QAAI,MAAMx8B,SAAS,CAACpyC,GAAD,CAAnB,EAA0B,OAAOA,GAAP;AAC1B;AACD,CAJiC,CAA3B;;AAcP,SAASysF,cAAT,CAA8Bh8C,KAA9B,EAAmDupC,MAAnD,EAA8EuS,YAA9E,EAA+FG,QAA/F,EAAwH;AACvH,MAAI,CAACj8C,KAAK,CAACpvC,MAAX,EAAmB,OAAOm0E,OAAO,CAACz7D,OAAR,CAAgBwyE,YAAhB,CAAP;AAEnB,SAAO,IAAI/W,OAAJ,CAAY,CAACz7D,OAAD,EAAUC,MAAV,KAAqB;AACvC,QAAIuC,SAAS,GAAGk0B,KAAK,CAACpvC,MAAtB;AACA,QAAIulF,KAAK,GAAG2F,YAAZ;;AAEA,aAASI,SAAT,CAAmB3pB,CAAnB,EAAsB;AACrB,UAAIzmD,SAAS,KAAK,CAAlB,EAAqB;AAErBqqE,WAAK,GAAG5M,MAAM,CAAC4M,KAAD,EAAQ5jB,CAAR,CAAd;;AAEA,UAAI4jB,KAAK,KAAK8F,QAAV,IAAsB,EAAEnwE,SAAF,KAAgB,CAA1C,EAA6C;AAC5CA,iBAAS,GAAG,CAAZ;AACAxC,eAAO,CAAC6sE,KAAD,CAAP;AACA;AACD;;AAED,aAASgG,QAAT,CAAkB9nE,GAAlB,EAAuB;AACtB,UAAIvI,SAAS,KAAK,CAAlB,EAAqB;AAErBA,eAAS,GAAG,CAAZ;AACAvC,YAAM,CAAC8K,GAAD,CAAN;AACA;;AAED2rB,SAAK,CAACizB,OAAN,CAAcvpD,OAAO,IAAIA,OAAO,CAACE,IAAR,CAAasyE,SAAb,EAAwBC,QAAxB,CAAzB;AACA,GAvBM,CAAP;AAwBA;;AAOM,SAASC,SAAT,CAAsBp8C,KAAtB,EAAkC2B,SAAlC,EAA4F;AAClG,SAAOq6C,cAAc,CAACh8C,KAAK,CAACzuC,GAAN,CAAUowC,SAAV,CAAD,EAAuB,CAACrrC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,IAAI,CAAC,CAACC,CAAxC,EAA2C,KAA3C,EAAkD,IAAlD,CAArB;AACA;AAOM,SAAS8lF,UAAT,CAAuBr8C,KAAvB,EAAmC2B,SAAnC,EAA6F;AACnG,SAAOq6C,cAAc,CAACh8C,KAAK,CAACzuC,GAAN,CAAUowC,SAAV,CAAD,EAAuB,CAACrrC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,IAAI,CAAC,CAACC,CAAxC,EAA2C,IAA3C,EAAiD,KAAjD,CAArB;AACA;AAIM,MAAM+lF,SAAS,GAAG,qBAAa,CAAOne,QAAP,EAA8B7sE,QAA9B,KAAgE;AACrG,QAAMg8C,MAAM,GAAG,EAAf;;AACA,OAAK,MAAMilB,CAAX,IAAgB4L,QAAhB,EAA0B;AACzB,UAAMt+D,MAAM,GAAGvO,QAAQ,CAACihE,CAAD,CAAvB;AACA,QAAI1yD,MAAJ,EAAYytC,MAAM,CAACv/C,IAAP,CAAY8R,MAAM,CAAC,CAAD,CAAlB;AACZ;;AACD,SAAOytC,MAAP;AACA,CAPwB,CAAlB,C;;;AC1FP;AACA;AACA;AACA;AACA;AAEA,MAAMivC,UAAU,GAAG,IAAIC,OAAJ,EAAnB;AACA,MAAMC,YAAM,GAAG,IAAI/V,GAAJ,EAAf;AACA,MAAMgW,YAAY,GAAG,IAAI,MAAM,EAAV,EAArB;;AAEA,MAAMC,mBAAmB,GAAG,kBAAUttF,GAAG,IAAI;AAC5C42E,yBAAuB,CAAC52E,GAAD,EAAMutF,WAAK,CAACC,aAAZ,EAA2B;AAAE3W,SAAK,EAAE,IAAT;AAAeC,WAAO,EAAE;AAAxB,GAA3B,CAAvB,CAAkFv8D,IAAlF,CAAuF,MAAM+yE,mBAAmB,CAAChiF,KAApB,CAA0B67E,MAA1B,CAAiCnnF,GAAjC,CAA7F;AACA,SAAOuD,KAAK,CAACwsE,IAAN,CAAW/vE,GAAG,CAACkL,gBAAJ,CAAqBqiF,WAAK,CAACC,aAA3B,CAAX,CAAP;AACA,CAH2B,CAA5B;;AAUO,MAAMD,WAAN,CAAY;AAIlB,SAAOE,aAAP,CAAqBztF,GAAM,GAAGjC,QAAQ,CAACkkB,IAAvC,EAA4D;AAC3D,UAAMyrE,IAAI,GAAGJ,mBAAmB,CAACttF,GAAD,CAAhC;AAIA,QAAIwC,IAAI,GAAGkrF,IAAI,CAAClvF,KAAL,CAAW,CAAC,CAAZ,EAAe,CAAf,CAAX;;AACA,QAAIgE,IAAJ,EAAU;AACT,SAAG;AACF,YAAIA,IAAI,CAACmrF,kBAAT,EAA6B;AAC7B,OAFD,QAEUnrF,IAAI,GAAGA,IAAI,CAACorF,aAFtB;;AAKA,UAAI,CAACprF,IAAL,EAAWkrF,IAAI,CAACvmF,GAAL;AACX;;AAED,WAAOumF,IAAP;AACA;;AAED,SAAON,MAAP,CAAcptF,GAAd,EAA+B;AAC9B,WAAOutF,WAAK,CAACE,aAAN,CAAoBztF,GAApB,EAAyBkC,GAAzB,CAA6B4H,CAAC,IAAIyjF,WAAK,CAACM,WAAN,CAAkB/jF,CAAlB,CAAlC,CAAP;AACA;;AAED,SAAOgkF,oBAAP,CAA4B9tF,GAA5B,EAAmD;AAClD,WAAOutF,WAAK,CAACE,aAAN,CAAoBztF,GAApB,EAAyB0N,MAAzB,CAAgCmM,CAAC,IAAIA,CAAC,CAACksB,YAAvC,CAAP;AACA;;AAED,SAAOgoD,aAAP,CAAqB/tF,GAArB,EAAsC;AACrC,WAAOitF,SAAS,CAACM,WAAK,CAACO,oBAAN,CAA2B9tF,GAA3B,CAAD,EAAkCy1E,GAAG,IAAI;AACxD,YAAMuY,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAW0F,GAAX,CAAd;AACA,UAAIuY,KAAJ,EAAW,OAAO,CAACA,KAAD,CAAP;AACX,KAHe,CAAhB;AAIA;;AAID,SAAOC,aAAP,CAAqBhnF,CAArB,EAAgCC,CAAhC,EAA2CgnF,SAA3C,EAA8DC,YAA9D,EAAoFC,YAApF,EAA2G;AAC1G,QAAIjhF,GAAJ,EAAS0qE,MAAT;;AACA,QAAI5wE,CAAC,IAAIC,CAAT,EAAY;AACX,OAACiG,GAAD,EAAM0qE,MAAN,IAAgB5wE,CAAC,CAAConF,cAAF,CAAiBnnF,CAAjB,MAAwB,MAAxB,GAAiC,CAACD,CAAD,EAAIC,CAAJ,CAAjC,GAA0C,CAACA,CAAD,EAAID,CAAJ,CAA1D;AACA,KAFD,MAEO,IAAIA,CAAC,IAAIC,CAAT,EAAY;AAClBiG,SAAG,GAAG0qE,MAAM,GAAGvC,QAAQ,CAACruE,CAAC,IAAIC,CAAN,EAASqmF,WAAT,CAAvB;AACA,KAFM,MAEA;AACN;AACA;;AAED,UAAME,aAAa,GAAGF,WAAK,CAACE,aAAN,EAAtB;AACA,QAAIa,IAAI,GAAGb,aAAa,CAAC9uF,OAAd,CAAsBwO,GAAG,CAAC4lC,OAA1B,CAAX;AACA,QAAIw7C,IAAI,GAAGd,aAAa,CAAC9uF,OAAd,CAAsBk5E,MAAM,CAAC9kC,OAA7B,CAAX;AAEA,QAAIi7C,KAAJ;;AAEA,SAAK,MAAMlkF,CAAX,IAAgB2jF,aAAa,CAACjvF,KAAd,CAAoB8vF,IAApB,EAA0BC,IAAI,GAAG,CAAjC,CAAhB,EAAqD;AACpDP,WAAK,GAAGT,WAAK,CAACM,WAAN,CAAkB/jF,CAAlB,CAAR;AACA,UAAIkkF,KAAK,CAACQ,KAAN,CAAYhxE,SAAhB,EAA2B;AAC3B,UAAIwwE,KAAK,CAACS,SAAN,EAAJ,EAAuBT,KAAK,CAACU,QAAN;AACvB;;AAKD,WACC,CAACV,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAW0d,aAAa,CAAC,EAAEa,IAAH,CAAxB,CAAT,MACCJ,SAAS,GAAG,CAAZ,IAAiBF,KAAK,CAAC98E,MADxB,CADD,EAGE;AACD,UAAI88E,KAAK,CAACQ,KAAN,CAAYhxE,SAAZ,IAAyBwwE,KAAK,CAACS,SAAN,EAA7B,EAAgD;AAC/CP,iBAAS;AACTF,aAAK,CAACU,QAAN;AACA;AACD;;AAED,WACC,CAACV,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAW0d,aAAa,CAAC,EAAEc,IAAH,CAAxB,CAAT,KACA,EAAEH,YAAY,IAAIJ,KAAK,CAACj7C,OAAN,CAAcwrC,SAAd,CAAwBj4E,QAAxB,CAAiC8nF,YAAjC,CAAlB,CADA,KAECD,YAAY,GAAG,CAAf,IAAoBH,KAAK,CAAC98E,MAF3B,CADD,EAIE;AACD,UAAI88E,KAAK,CAACQ,KAAN,CAAYhxE,SAAZ,IAAyBwwE,KAAK,CAACS,SAAN,EAA7B,EAAgD;AAC/CN,oBAAY;AACZH,aAAK,CAACU,QAAN;AACA;AACD;AACD;;AAYD,SAAOb,WAAP,CAAmB96C,OAAnB,EAAwD;AACvD,UAAMi7C,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAWh9B,OAAX,CAAd;;AACA,QAAI,CAACi7C,KAAL,EAAY;AACX,YAAM,IAAI/vF,KAAJ,CAAW,kCAAiC8K,MAAM,CAACgqC,OAAD,CAAU,EAA5D,CAAN;AACA;;AACD,WAAOi7C,KAAP;AACA;;AAED,SAAOje,IAAP,CAAYh9B,OAAZ,EAAmD;AAClD,QAAI,CAACA,OAAL,EAAc,OAAO,IAAP;AAEd,QAAIA,OAAO,YAAYw6C,WAAvB,EAA8B,OAAOx6C,OAAP;AAE9B,UAAM47C,YAAY,GAAG57C,OAAO,CAACp7B,OAAR,CAAgB41E,WAAK,CAACC,aAAtB,CAArB;AACA,QAAI,CAACmB,YAAL,EAAmB,OAAO,IAAP;AAEnB,QAAIzB,UAAU,CAAC11E,GAAX,CAAem3E,YAAf,CAAJ,EAAkC,OAAOzB,UAAU,CAACzrF,GAAX,CAAektF,YAAf,CAAP;AAElC,UAAMzhB,KAAK,GAAGyhB,YAAY,CAACjY,aAAb,CAA2B6W,WAAK,CAACqB,aAAjC,KAAmDD,YAAjE;AACA,UAAMX,KAAK,GAAG,IAAIT,WAAJ,CAAUF,YAAV,EAAwB/X,QAAQ,CAACqZ,YAAD,EAAe/rB,WAAf,CAAhC,EAA6DsK,KAA7D,CAAd;AAEAggB,cAAU,CAACnuE,GAAX,CAAe4vE,YAAf,EAA6BX,KAA7B;AACAZ,gBAAM,CAACt1E,GAAP,CAAWk2E,KAAX;AAEA,WAAOA,KAAP;AACA;;AAED1sF,aAAW,CAACuU,KAAD,EAA6Bm4E,KAA7B,EAAiD9gB,KAAjD,EAAqE;AAAA,SArChFn6B,OAqCgF;AAAA,SApChFm6B,KAoCgF;AAAA,SAlChFh8D,MAkCgF;AAAA,SAjChFmG,QAiCgF,GAjCrE,IAAIggE,GAAJ,EAiCqE;AAAA,SA9BhFmX,KA8BgF,GA7B/E;AAAEhxE,eAAS,EAAE,KAAb;AAAoBklB,aAAO,EAAE,EAA7B;AAAiCmsD,eAAS,EAAE,EAA5C;AAAgDC,UAAI,EAAE,IAAIzN,GAAJ;AAAtD,KA6B+E;AAAA,SA6ChF0N,wBA7CgF,GA6CrDvH,0BAA0B,CAAC,MAAM;AAC3D,WAAKz0C,OAAL,CAAawrC,SAAb,CAAuBj8D,MAAvB,CAA8B,mBAA9B,EAAmD,KAAK0sE,gBAAL,CAAsB,IAAtB,MAGlD,KAAKj8C,OAAL,CAAahuC,OAAb,CAAqB,+BAArB,KAEAxB,KAAK,CAACwsE,IAAN,CAAW,KAAK14D,QAAhB,EAA0BslE,IAA1B,CAA+B9iE,CAAC,IAAI,CAACA,CAAC,CAACm1E,gBAAF,EAArC,CALkD,CAAnD;AAOA,KARoD,CA7C2B;;AAC/E,QAAIn5E,KAAK,KAAKw3E,YAAd,EAA4B;AAC3B,YAAM,IAAIpvF,KAAJ,CAAU,gEAAV,CAAN;AACA;;AAED,SAAK80C,OAAL,GAAei7C,KAAf;AACA,SAAK9gB,KAAL,GAAaA,KAAb;AAEA,UAAM+hB,EAAE,GAAG,KAAKl8C,OAAL,CAAa66C,aAAxB;AACA,SAAK18E,MAAL,GAAc+9E,EAAE,IAAI1B,WAAK,CAACxd,IAAN,CAAYkf,EAAD,CAAUt3E,OAAV,CAAkB,QAAlB,CAAX,CAApB;AACA,QAAI,KAAKzG,MAAT,EAAiB,KAAKA,MAAL,CAAYmG,QAAZ,CAAqBS,GAArB,CAAyB,IAAzB;AACjB;;AAED42E,UAAQ,GAAG;AACV,QAAI,KAAKF,KAAL,CAAWhxE,SAAf,EAA0B;AAC1B,SAAKgxE,KAAL,CAAWK,SAAX,CAAqB3sF,GAArB,CAAyBjB,EAAE,IAAIA,EAAE,EAAjC;AACA,SAAKutF,KAAL,CAAW9rD,OAAX,CAAmBxgC,GAAnB,CAAuBjB,EAAE,IAAIA,EAAE,EAA/B;AACA;;AAED+3E,QAAM,GAAG;AAER,UAAMA,MAAM,GAAGd,yBAAyB,CAAC,KAAKhL,KAAN,CAAzB,IAAyC;AAAE31C,QAAE,EAAE,KAAK21C,KAAL,CAAWx6C,qBAAX,GAAmCvlB;AAAzC,KAAxD;AACA,QAAI,CAAC6rE,MAAL,EAAa;AACbpkD,yBAAqB,CAAC,MAAM;AAC3B,UAAI,CAAC,KAAKs4C,KAAL,CAAWnnC,YAAhB,EAA8B;AAC9B4yC,qBAAe,CAAC,KAAKzL,KAAN,EAAazpE,SAAb,EAAwB;AAAEm1E,mBAAW,EAAE,MAAf;AAAuBI;AAAvB,OAAxB,CAAf;AACA,KAHoB,CAArB;AAIA;;AAEDkW,eAAa,CAAC/kF,KAAD,EAAW;AACvB,SAAK4oC,OAAL,CAAawrC,SAAb,CAAuBj8D,MAAvB,CAA8B,uBAA9B,EAAuD,CAAC,CAACnY,KAAzD;;AAEA,QAAI,KAAKglF,SAAL,EAAJ,EAAsB;AACrB,WAAKJ,wBAAL;;AACA,WAAK,MAAM76D,CAAX,IAAgB,KAAKk7D,UAAL,EAAhB,EAAmCl7D,CAAC,CAAC66D,wBAAF;AACnC;AACD;;AAEDM,kBAAgB,CAACngF,QAAD,EAA+B;AAC9C,SAAK,MAAMiS,GAAX,IAAkB,KAAK4xB,OAAL,CAAa7nC,gBAAb,CAA8B,yCAA9B,CAAlB,EAA4FiW,GAAG,CAAC5H,MAAJ;;AAC5F,SAAKw5B,OAAL,CAAa7lB,OAAb,CAAqB,GAAGhe,QAAxB;AACA;;AAcDm/E,gBAAc,CAACn9C,KAAD,EAAiC;AAC9C,QAAI,CAAC,KAAKu9C,SAAL,EAAD,IAAqB,CAACv9C,KAAK,CAACu9C,SAAN,EAA1B,EAA6C;AAC7C,WAAQv9C,KAAK,CAACg8B,KAAN,CAAY1+D,uBAAZ,CAAoC,KAAK0+D,KAAzC,IAAkD14B,IAAI,CAAC86C,2BAAxD,GAAuF,IAAvF,GAA8F,MAArG;AACA;;AAEDC,cAAY,GAAU;AACrB,QAAIvB,KAAK,GAAG,IAAZ;AAEA,QAAIlvD,OAAO,GAAG,KAAKiU,OAAnB;;AACA,WAAQjU,OAAO,GAAGA,OAAO,CAAC8uD,aAA1B,EAA0C;AACzC,UAAI9uD,OAAO,CAAC/5B,OAAR,CAAgBwoF,WAAK,CAACC,aAAtB,CAAJ,EAA0CQ,KAAK,GAAG1Y,QAAQ,CAACx2C,OAAD,EAAU8jC,WAAV,CAAhB;AAC1C;;AAED,WAAO2qB,WAAK,CAACM,WAAN,CAAkBG,KAAlB,CAAP;AACA;;AAEDoB,YAAU,GAAY;AACrB,UAAMn3E,OAAO,GAAG,EAAhB;AACA,QAAI6vC,KAAK,GAAG,IAAZ;;AACA,WAAQA,KAAK,GAAGA,KAAK,CAAC52C,MAAtB,EAA+B+G,OAAO,CAACvZ,IAAR,CAAaopD,KAAb;;AAC/B,WAAO7vC,OAAP;AACA;;AAEDu3E,SAAO,CAAC;AAAE1W,aAAS,GAAG,MAAd;AAAsB2W,uBAAmB,GAAG;AAA5C,MAAsH,EAAvH,EAA2HrC,MAAqB,GAAGG,WAAK,CAACE,aAAN,EAAnJ,EAAkL;AACxL,QAAI71E,KAAK,GAAGw1E,MAAM,CAACzuF,OAAP,CAAe,KAAKo0C,OAApB,CAAZ;AACA,QAAI3vC,MAAJ;;AAEA,OAAG;AACFwU,WAAK,IAAIkhE,SAAS,KAAK,MAAd,GAAuB,CAAvB,GAA2B,CAAC,CAArC;AACA,YAAM4W,OAAO,GAAGtC,MAAM,CAACx1E,KAAD,CAAtB;AACAxU,YAAM,GAAGssF,OAAT;AACA,UAAI,CAACtsF,MAAL,EAAa,OAAO,IAAP;AACb,UAAIqsF,mBAAmB,IAAIrsF,MAAM,CAAC2B,OAAP,CAAe,eAAf,CAA3B,EAA4D;AAC5D,KAND,QAMS,CAAC3B,MAAM,CAAC2iC,YANjB;;AAQA,WAAOwnD,WAAK,CAACxd,IAAN,CAAW3sE,MAAX,CAAP;AACA;;AAEDusF,gBAAc,CAAC5sF,OAAD,EAAqB;AAClC,QAAI,CAAC,KAAKgwC,OAAL,CAAa66C,aAAlB,EAAiC,OAAO,IAAP;AAEjC,UAAMR,MAAM,GAAG7pF,KAAK,CAACwsE,IAAN,CAAW,KAAKh9B,OAAL,CAAa66C,aAAb,CAA2Bv2E,QAAtC,EACb3J,MADa,CACN5D,CAAC,IAAIA,CAAC,CAAC/E,OAAF,CAAUwoF,WAAK,CAACC,aAAhB,CADC,CAAf;AAGA,WAAO,KAAKgC,OAAL,CAAazsF,OAAb,EAAsBqqF,MAAtB,CAAP;AACA;;AAEDwC,YAAU,CAACn1E,IAAD,EAAiC,GAAGlJ,IAApC,EAA2D;AACpE,UAAMnO,MAAM,GAAGyvC,OAAO,CAACzwC,KAAR,CAAcqY,IAAd,EAAoB,IAApB,EAA0BlJ,IAA1B,CAAf;;AACA,QAAInO,MAAJ,EAAY;AACX,aAAOA,MAAP;AACA,KAFD,MAEO;AACN,UAAI,KAAK8N,MAAT,EAAiB,OAAO,KAAKA,MAAL,CAAY0+E,UAAZ,CAAuBn1E,IAAvB,EAA6B,GAAGlJ,IAAhC,CAAP;AACjB;AACD;;AAEDs+E,mBAAiB,CAAC9sF,OAAU,GAAG;AAAE0sF,uBAAmB,EAAE;AAAvB,GAAd,EAAqD;AACrE,QAAI,KAAK18C,OAAL,CAAahN,YAAjB,EAA+B,OAAO,IAAP;AAC/B,WAAO,KAAKypD,OAAL,CAAa;AAAE1W,eAAS,EAAE,MAAb;AAAqB,SAAG/1E;AAAxB,KAAb,KAAmD,KAAKysF,OAAL,CAAa;AAAE1W,eAAS,EAAE,IAAb;AAAmB,SAAG/1E;AAAtB,KAAb,CAA1D;AACA;;AAED+sF,WAAS,GAAY;AACpB,WAAO,KAAK/8C,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,SAAhC,CAAP;AACA;;AAEDypF,aAAW,GAAY;AACtB,WAAO,KAAKh9C,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,WAAhC,CAAP;AACA;;AAED0pF,QAAM,GAAY;AACjB,WAAO,KAAKj9C,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,MAAhC,KAA2C,KAAKysC,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,oBAAhC,CAAlD;AACA;;AAED2pF,YAAU,GAAY;AACrB,QAAI,CAAC,KAAKD,MAAL,EAAL,EAAoB;AACnB,aAAO,KAAP;AACA;;AACD,QAAI,KAAKj9C,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,oBAAhC,CAAJ,EAA2D;AAC1D,aAAO,CAAC,KAAKysC,OAAL,CAAa2jC,aAAb,CAA2B,GAA3B,EAAgC6H,SAAhC,CAA0Cj4E,QAA1C,CAAmD,MAAnD,CAAR;AACA,KAFD,MAEO;AACN,aAAO,CAAC,KAAKysC,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,MAAhC,CAAR;AACA;AACD;;AAED4pF,YAAU,GAAY;AACrB,QAAI,CAAC,KAAKF,MAAL,EAAL,EAAoB;AACnB,aAAO,KAAP;AACA;;AACD,QAAI,KAAKj9C,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,oBAAhC,CAAJ,EAA2D;AAC1D,aAAO,KAAKysC,OAAL,CAAa2jC,aAAb,CAA2B,GAA3B,EAAgC6H,SAAhC,CAA0Cj4E,QAA1C,CAAmD,MAAnD,CAAP;AACA,KAFD,MAEO;AACN,aAAO,KAAKysC,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,MAAhC,CAAP;AACA;AACD;;AAED6oF,WAAS,GAAY;AACpB,WAAO,KAAKp8C,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,SAAhC,KAA8C,KAAKysC,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,aAAhC,CAArD;AACA;;AAED6pF,mBAAiB,GAAY;AAC5B,WAAO,KAAKhB,SAAL,MAAoB,CAAC,CAAC,KAAKp8C,OAAL,CAAa66C,aAAnC,IAAoD,KAAK76C,OAAL,CAAa66C,aAAb,CAA2BrP,SAA3B,CAAqCj4E,QAArC,CAA8C,eAA9C,CAA3D;AACA;;AAED8pF,UAAQ,GAAW;AAClB,UAAMr9C,OAAO,GAAG,KAAKs9C,eAAL,EAAhB;AACA,WAAOt9C,OAAO,IAAIA,OAAO,CAACpjC,WAAnB,IAAkC,EAAzC;AACA;;AAED0gF,iBAAe,GAAuB;AACrC,WAAQ,KAAKnjB,KAAL,CAAWwJ,aAAX,CAAyB,yBAAzB,KACP,KAAKxJ,KAAL,CAAWwJ,aAAX,CAAyB,QAAzB,CADD;AAEA;;AAED4Z,aAAW,GAAW;AACrB,UAAMv9C,OAAO,GAAG,KAAKs9C,eAAL,EAAhB;;AACA,QAAIt9C,OAAJ,EAAa;AACZ,aAAOA,OAAO,CAAC5gC,IAAf;AACA;;AACD,WAAO,EAAP;AACA;;AAEDo+E,aAAW,GAAsB;AAChC,WAAOjb,QAAQ,CAAC,KAAKpI,KAAL,CAAWwJ,aAAX,CAAyB,wBAAzB,CAAD,EAAqD6J,iBAArD,CAAf;AACA;;AAEDiQ,YAAU,GAAW;AACpB,WAAO,KAAKz9C,OAAL,CAAa09C,OAAb,CAAqBnxD,GAArB,IAA4B,KAAKixD,WAAL,GAAmBp+E,IAAtD;AACA;;AAEDu+E,aAAW,GAAgB;AAC1B,WAAO,KAAKxjB,KAAL,CAAWwJ,aAAX,CAAyB,KAAzB,CAAP;AACA;;AAEDia,iBAAe,GAAsB;AACpC,WAAOrb,QAAQ,CAAC,KAAKpI,KAAL,CAAWwJ,aAAX,CAAyB,+BAAzB,CAAD,EAA4D6J,iBAA5D,CAAf;AACA;;AAEDqQ,qBAAmB,GAAuB;AACzC,WAAQ,KAAK1jB,KAAL,CAAWwJ,aAAX,CAAyB,UAAzB,CAAR;AACA;;AAEDma,gBAAc,GAAuB;AACpC,WAAQ,KAAK3jB,KAAL,CAAWwJ,aAAX,CAAyB,kCAAzB,CAAR;AACA;;AAEDoa,YAAU,GAAsB;AAC/B,WAAQ,KAAK5jB,KAAL,CAAWwJ,aAAX,CAAyB,oBAAzB,CAAR;AACA;;AAEDqa,qBAAmB,GAAW;AAE7B,UAAMC,eAAe,GAAG,KAAKj+C,OAAL,CAAa2jC,aAAb,CAA2B,cAA3B,CAAxB;AACA,UAAMvsE,KAAK,GAAG6mF,eAAe,IAAK,OAAD,CAAUxmF,IAAV,CAAewmF,eAAe,CAACrhF,WAA/B,CAAjC;AACA,WAAOxF,KAAK,IAAIwvB,QAAQ,CAACxvB,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAAjB,IAAmC,CAA1C;AACA;;AAED,SAAO8mF,WAAP,CAAmBC,QAAnB,EAAkD;AACjD,WAAOv3D,QAAQ,CAACu3D,QAAQ,CAACC,KAAT,IAAkBD,QAAQ,CAACvhF,WAA5B,EAAyC,EAAzC,CAAR,IAAwD,CAA/D;AACA;;AAEDyhF,UAAQ,GAAY;AACnB,UAAMr+C,OAAO,GAAG,KAAKs+C,sBAAL,EAAhB;;AAEA,WAAOt+C,OAAO,IAAIw6C,WAAK,CAAC0D,WAAN,CAAkBl+C,OAAlB,CAAlB;AACA;;AAEDs+C,wBAAsB,GAAiB;AACtC,QAAI,KAAKrB,MAAL,EAAJ,EAAmB;AAClB,aAAO,KAAKj9C,OAAL,CAAa2jC,aAAb,CAA2B,CACjC,kCADiC,EAEjC,8BAFiC,EAGjC,oCAHiC,EAIjC,eAJiC,EAKhC1rE,IALgC,CAK3B,IAL2B,CAA3B,CAAP;AAMA,KAPD,MAOO;AACN,aAAO,KAAKkiE,KAAL,CAAWwJ,aAAX,CAAyB,mBAAzB,CAAP;AACA;AACD;;AAED4a,qBAAmB,GAAiC;AACnD,UAAMC,YAAY,GAAG9b,GAAG,IAAI,CAACA,GAAD,EAAM8X,WAAK,CAAC0D,WAAN,CAAkBxb,GAAlB,CAAN,CAA5B;;AACA,QAAI,KAAKua,MAAL,EAAJ,EAAmB;AAClB,aAAOzsF,KAAK,CAACwsE,IAAN,CAAW,KAAKh9B,OAAL,CAAa7nC,gBAAb,CAA8B,iCAA9B,CAAX,EAA6EhJ,GAA7E,CAAiFqvF,YAAjF,CAAP;AACA,KAFD,MAEO;AACN,aAAOhuF,KAAK,CAACwsE,IAAN,CAAW,KAAK7C,KAAL,CAAWhiE,gBAAX,CAA4B,mBAA5B,CAAX,EAA6DhJ,GAA7D,CAAiEqvF,YAAjE,CAAP;AACA;AACD;;AAEDC,WAAS,GAAY;AACpB,UAAMxyE,IAAI,GAAG,KAAK+zB,OAAL,CAAazyC,YAAb,CAA0B,aAA1B,CAAb;;AACA,QAAI0e,IAAJ,EAAU;AACT,aAAOA,IAAP;AACA;;AACD,UAAM+zB,OAAO,GAAG,KAAK0+C,gBAAL,EAAhB;;AACA,QAAI1+C,OAAJ,EAAa;AACZ,YAAM5oC,KAAK,GAAGgxE,OAAO,CAACK,OAAR,CAAgBhxE,IAAhB,CAAqBuoC,OAAO,CAACmqC,QAA7B,CAAd;;AACA,UAAI/yE,KAAJ,EAAW;AACV,eAAOA,KAAK,CAAC,CAAD,CAAZ;AACA;AACD;AACD;;AAEDunF,cAAY,GAAW;AACtB,UAAMC,MAAM,GAAG,KAAKH,SAAL,EAAf;;AACA,QAAIG,MAAJ,EAAY;AACX,aAAQ,SAAQA,MAAO,GAAvB;AACA;;AACD,WAAO,EAAP;AACA;;AAEDF,kBAAgB,GAAuB;AACtC,WAAQ,KAAKvkB,KAAL,CAAWwJ,aAAX,CAAyB,2CAAzB,CAAR;AACA;;AAEDkb,cAAY,GAAY;AACvB,UAAM5yE,IAAI,GAAG,KAAK+zB,OAAL,CAAazyC,YAAb,CAA0B,gBAA1B,CAAb;;AACA,QAAI0e,IAAJ,EAAU;AACT,aAAOA,IAAP;AACA;;AACD,UAAM+zB,OAAO,GAAG,KAAK8+C,gBAAL,EAAhB;;AACA,QAAI9+C,OAAJ,EAAa;AACZ,YAAM5oC,KAAK,GAAGgxE,OAAO,CAACc,SAAR,CAAkBzxE,IAAlB,CAAuBuoC,OAAO,CAACmqC,QAA/B,CAAd;;AACA,UAAI/yE,KAAJ,EAAW;AACV,eAAOA,KAAK,CAAC,CAAD,CAAZ;AACA;AACD,KALD,MAKO;AACN,aAAOmzE,gBAAgB,EAAvB;AACA;AACD;;AAEDuU,kBAAgB,GAAuB;AACtC,QAAI,KAAK7B,MAAL,EAAJ,EAAmB;AAClB,aAAQ,KAAK9iB,KAAL,CAAWwJ,aAAX,CAAyB,+CAAzB,CAAR;AACA,KAFD,MAEO,IAAI,KAAKyY,SAAL,EAAJ,EAAsB;AAE5B,aAAQ,KAAKjiB,KAAL,CAAWwJ,aAAX,CAAyB,4CAAzB,CAAR;AACA;AACD;;AAEDob,eAAa,GAAW;AACvB,UAAM9yE,IAAI,GAAG,KAAK+zB,OAAL,CAAazyC,YAAb,CAA0B,aAA1B,CAAb;;AACA,QAAI0e,IAAJ,EAAU;AACT,aAAOA,IAAP;AACA;;AAED,UAAM+zB,OAAO,GAAG,KAAKg/C,iBAAL,EAAhB;;AACA,QAAIh/C,OAAJ,EAAa;AACZ,aAAOA,OAAO,CAACpjC,WAAf;AACA;;AAED,UAAMtP,IAAI,GAAG,KAAK2xF,iBAAL,EAAb;;AACA,QAAI3xF,IAAJ,EAAU;AACT,aAAOA,IAAP;AACA;;AAED,UAAM47E,SAAS,GAAG,KAAK2V,YAAL,EAAlB;;AACA,QAAI3V,SAAJ,EAAe;AACd,aAAQ,QAAOA,SAAU,EAAzB;AACA;;AAED,WAAO,YAAP;AACA;;AAEDgW,kBAAgB,GAAW;AAC1B,UAAM9uB,IAAI,GAAG,KAAK4uB,iBAAL,EAAb;;AACA,QAAI5uB,IAAJ,EAAU;AACT,aAAOA,IAAI,CAAChxD,IAAZ;AACA;;AACD,WAAQ,WAAU,KAAK2/E,aAAL,EAAqB,GAAvC;AACA;;AAEDC,mBAAiB,GAAuB;AACvC,WAAQ,KAAKh/C,OAAL,CAAa2jC,aAAb,CAA2B,WAA3B,CAAR;AACA;;AAEDsb,mBAAiB,GAAW;AAC3B,UAAMhzE,IAAI,GAAG,KAAK+zB,OAAL,CAAazyC,YAAb,CAA0B,aAA1B,CAAb;;AACA,QAAI0e,IAAJ,EAAU;AACT,aAAOA,IAAP;AACA;;AAED,UAAM+zB,OAAO,GAAG,KAAKA,OAAL,CAAa2jC,aAAb,CAA2B,SAA3B,CAAhB;AACA,QAAI,CAAC3jC,OAAL,EAAc,OAAO,EAAP;AACd,UAAM1yC,IAAI,GAAG0yC,OAAO,CAACpjC,WAAR,IAAuB,EAApC;AACA,WAAOtP,IAAI,CAACwD,OAAL,CAAa,WAAb,EAA0B,EAA1B,CAAP;AACA;;AAEDquF,iBAAe,GAAY;AAC1B,UAAMn/C,OAAO,GAAG,KAAKo/C,sBAAL,EAAhB;AACA,QAAI,CAACp/C,OAAL,EAAc;AACd,WAAOpZ,QAAQ,CAAE,KAAD,CAAQnvB,IAAR,CACfuoC,OAAO,CAACpjC,WAAR,IACAojC,OAAO,CAACzyC,YAAR,CAAqB,WAArB,CAFe,CAAD,EAGZ,EAHY,CAAR,IAGG,CAHV;AAIA;;AAED6xF,wBAAsB,GAAiB;AACtC,QAAI,KAAKnC,MAAL,EAAJ,EAAmB;AAClB,aAAO,KAAKj9C,OAAL,CAAa2jC,aAAb,CAA2B,oBAA3B,CAAP;AACA,KAFD,MAEO,IAAI,KAAKyY,SAAL,EAAJ,EAAsB;AAC5B,aAAO,KAAKp8C,OAAL,CAAa2jC,aAAb,CAA2B,0BAA3B,CAAP;AACA;AACD;;AAED0b,qBAAmB,GAAW;AAC7B,UAAMC,SAAS,GAAG,KAAKC,uBAAL,EAAlB;AACA,QAAI,CAACD,SAAL,EAAgB,OAAO,EAAP;AAChB,WAAOA,SAAS,CAAC3yF,GAAV,IAAiB,EAAxB;AACA;;AAED4yF,yBAAuB,GAAsB;AAC5C,WAAQ,KAAKv/C,OAAL,CAAa2jC,aAAb,CAA2B,gBAA3B,CAAR;AACA;;AAED6b,kBAAgB,GAAW;AAC1B,UAAMx/C,OAAO,GAAG,KAAKy/C,mBAAL,EAAhB;AACA,WAAOz/C,OAAO,IAAIA,OAAO,CAACpjC,WAAnB,IAAkC,EAAzC;AACA;;AAED6iF,qBAAmB,GAAiB;AACnC,WAAO,KAAKtlB,KAAL,CAAWwJ,aAAX,CAAyB,0BAAzB,CAAP;AACA;;AAED+b,kBAAgB,GAAW;AAC1B,UAAM1/C,OAAO,GAAG,KAAK2/C,mBAAL,EAAhB;AACA,WAAO3/C,OAAO,IAAIA,OAAO,CAACpjC,WAAnB,IAAkC,EAAzC;AACA;;AAED+iF,qBAAmB,GAAiB;AACnC,WAAO,KAAKxlB,KAAL,CAAWwJ,aAAX,CAAyB,mBAAzB,CAAP;AACA;;AAEDic,0BAAwB,GAAiB;AACxC,WAAO,KAAKzlB,KAAL,CAAWwJ,aAAX,CAAyB,kBAAzB,CAAP;AACA;;AAEDkc,iBAAe,GAAiB;AAC/B,WAAO,KAAKC,cAAL,CAAoB,mBAApB,CAAP;AACA;;AAEDC,mBAAiB,GAAiB;AACjC,WAAO,KAAKD,cAAL,CAAoB,uBAApB,CAAP;AACA;;AAEDA,gBAAc,CAAC9xF,QAAD,EAAiC;AAC9C,UAAMgyF,eAA4B,GAAI,KAAK7lB,KAAL,CAAW6lB,eAAjD;;AACA,QAAIA,eAAe,CAACl7C,OAAhB,KAA4B,GAAhC,EAAqC;AACpC,aAAQk7C,eAAe,CAACA,eAAjB,CAAuCrc,aAAvC,CAAqD31E,QAArD,CAAP;AACA,KAFD,MAEO;AACN,aAAOgyF,eAAe,CAACrc,aAAhB,CAA8B31E,QAA9B,CAAP;AACA;AACD;;AAEDiyF,cAAY,GAAU;AACrB,UAAMjgD,OAAO,GAAG,KAAKkgD,mBAAL,EAAhB;AACA,WAAOlgD,OAAO,IAAI,IAAIxsC,IAAJ,CAASwsC,OAAO,CAACzyC,YAAR,CAAqB,UAArB,CAAT,CAAlB;AACA;;AAED2yF,qBAAmB,GAAiB;AACnC,WAAO,KAAK/lB,KAAL,CAAWwJ,aAAX,CAAyB,MAAzB,CAAP;AACA;;AAEDwc,sBAAoB,GAAW;AAC9B,UAAMngD,OAAO,GAAG,KAAKogD,2BAAL,EAAhB;AACA,WAAOpgD,OAAO,IAAKxsC,IAAI,CAACkZ,KAAL,CAAWszB,OAAO,CAACzyC,YAAR,CAAqB,UAArB,CAAX,IAA+C,IAA3D,IAAoE,CAA3E;AACA;;AAED6yF,6BAA2B,GAAiB;AAC3C,WAAO,KAAKjmB,KAAL,CAAWwJ,aAAX,CAAyB,uBAAzB,CAAP;AACA;;AAED0c,aAAW,GAAW;AACrB,WAAO,KAAKrgD,OAAL,CAAazyC,YAAb,CAA0B,eAA1B,KAA8C,EAArD;AACA;;AAED+yF,qBAAmB,GAAiB;AACnC,WAAO,KAAKnmB,KAAL,CAAWwJ,aAAX,CAAyB,YAAzB,CAAP;AACA;;AAED4c,SAAO,GAAY;AAClB,UAAMC,IAAI,GAAG55D,QAAQ,CAAC,KAAKoZ,OAAL,CAAazyC,YAAb,CAA0B,WAA1B,CAAD,EAAyC,EAAzC,CAArB;AACA,QAAI,CAAC2mC,KAAK,CAACssD,IAAD,CAAV,EAAkB,OAAOA,IAAP;AAClB;;AAEDC,gBAAc,GAAiB;AAC9B,QAAI,CAAC,KAAKxD,MAAL,EAAL,EAAoB;AACpB,WAAO,KAAKj9C,OAAL,CAAa2jC,aAAb,CAA2B,OAA3B,CAAP;AACA;;AAED+c,mBAAiB,GAAiB;AACjC,WAAO,KAAKvmB,KAAL,CAAWwJ,aAAX,CAAyB,UAAzB,CAAP;AACA;;AAEDgd,iCAA+B,GAAiB;AAC/C,WAAO,KAAKxmB,KAAL,CAAWwJ,aAAX,CAAyB,SAAzB,CAAP;AACA;;AAEDid,oBAAkB,CAACh5E,KAAD,EAAiBi5E,MAAjB,EAAiCC,sBAA+B,GAAG,KAAnE,EAAwF;AACzG,UAAMvxE,MAAM,GAAG,KAAKoxE,+BAAL,EAAf;AACA,QAAI,CAACpxE,MAAL,EAAa;AACb,QAAI3H,KAAJ,EAAW2H,MAAM,CAAC/hB,YAAP,CAAoB,iBAApB,EAAuCqzF,MAAvC;AACX,QAAI,KAAKE,WAAL,OAAuBn5E,KAA3B,EAAkC;AAClC,QAAI,CAACA,KAAD,IAAUk5E,sBAAV,IAAoCvxE,MAAM,CAAChiB,YAAP,CAAoB,iBAApB,MAA2CszF,MAAnF,EAA2F;AAC3F,QAAI,CAACj5E,KAAL,EAAY2H,MAAM,CAAClX,eAAP,CAAuB,iBAAvB;AACZ8c,SAAK,CAAC5F,MAAD,CAAL;AACA;;AAEDyxE,aAAW,GAAW;AACrB,UAAMhhD,OAAO,GAAG,KAAKihD,kBAAL,EAAhB;;AACA,QAAIjhD,OAAJ,EAAa;AACZ,aAAOA,OAAO,CAACpjC,WAAf;AACA;;AACD,WAAO,EAAP;AACA;;AAEDqkF,oBAAkB,GAAiB;AAClC,WAAO,KAAK9mB,KAAL,CAAWwJ,aAAX,CAAyB,eAAzB,CAAP;AACA;;AAEDud,QAAM,GAAY;AACjB,WAAO,KAAKlhD,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,QAAhC,KAA6C,CAAC,CAAC,KAAK4mE,KAAL,CAAWwJ,aAAX,CAAyB,aAAzB,CAAtD;AACA;;AAEDwd,WAAS,GAAY;AACpB,QAAI,KAAKnhD,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,eAAhC,CAAJ,EAAsD;AACrD,aAAO,CAAC,CAAC,KAAK4mE,KAAL,CAAWwJ,aAAX,CAAyB,gBAAzB,CAAT;AACA;;AACD,WAAO,KAAK3jC,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,SAAhC,CAAP;AACA;;AAED6tF,aAAW,GAAY;AACtB,WAAO,CAAC,CAAC,KAAKxB,wBAAL,EAAT;AACA;;AAEDyB,UAAQ,GAAY;AACnB,QAAI,KAAKrhD,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,eAAhC,CAAJ,EAAsD;AACrD,aAAO,KAAKysC,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,kBAAhC,CAAP;AACA;;AACD,WAAO,KAAKysC,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,QAAhC,CAAP;AACA;;AAED+tF,WAAS,GAAY;AACpB,WAAO,KAAKthD,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,SAAhC,CAAP;AACA;;AAED0oF,kBAAgB,CAACsF,iBAA0B,GAAG,KAA9B,EAA8C;AAE7D,QAAI,KAAKvhD,OAAL,CAAahuC,OAAb,CAAqB,2CAArB,CAAJ,EAAuE,OAAO,IAAP;AACvE,QAAI,CAAC,KAAKguC,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,uBAAhC,CAAL,EAA+D,OAAO,KAAP;AAC/D,QAAI,KAAKysC,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,gCAAhC,CAAJ,EAAuE,OAAO,KAAP;;AACvE,QAAIguF,iBAAJ,EAAuB;AACtB,UAAI,KAAKvhD,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,mBAAhC,KAAwD,KAAKysC,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,cAAhC,CAA5D,EAA6G,OAAO,KAAP;AAC7G,aAAO,IAAP;AACA,KAHD,MAGO;AACN,UAAI,KAAKysC,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,yBAAhC,CAAJ,EAAgE,OAAO,IAAP;AAChE,aAAO,CAAC,KAAKysC,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,mBAAhC,CAAR;AACA;AACD;;AAEDwtF,aAAW,GAAY;AACtB,WAAO,KAAK/gD,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,WAAhC,CAAP;AACA;;AAGDmoF,WAAS,GAAY;AAEpB,QAAI,KAAK17C,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,UAAhC,CAAJ,EAAiD,OAAO,KAAP;AAEjD,QAAI,CAACvI,QAAQ,CAACkkB,IAAT,CAAcs8D,SAAd,CAAwBj4E,QAAxB,CAAiC,sBAAjC,CAAD,IAA6D,KAAK0oF,gBAAL,EAAjE,EAA0F,OAAO,KAAP;AAC1F,UAAM;AAAE99E;AAAF,QAAa,IAAnB;;AACA,QAAIA,MAAJ,EAAY;AACX,UAAIA,MAAM,CAAC4iF,WAAP,EAAJ,EAA0B,OAAO,KAAP;AAC1B,UAAI5iF,MAAM,CAAC6hC,OAAP,CAAewrC,SAAf,CAAyBj4E,QAAzB,CAAkC,qBAAlC,CAAJ,EAA8D,OAAO,KAAP;AAC9D,UAAI,CAAC4K,MAAM,CAACu9E,SAAP,EAAL,EAAyB,OAAO,KAAP;AACzB;;AAED,WAAO,IAAP;AACA;;AAED8F,kBAAgB,GAAY;AAC3B,WAAO,EACN,KAAKxhD,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,2BAAhC,KACC,CAACvI,QAAQ,CAACkkB,IAAT,CAAcs8D,SAAd,CAAwBj4E,QAAxB,CAAiC,sBAAjC,CAAD,IAA6D,KAAK0oF,gBAAL,CAAsB,IAAtB,CAD9D,IAEA,KAAK8E,WAAL,EAFA,IAGA,CAAC,KAAKrF,SAAL,EAJK,CAAP;AAMA;;AAED+F,YAAU,GAAG;AACZ,WAAO,KAAKzhD,OAAL,CAAawrC,SAAb,CAAuBj4E,QAAvB,CAAgC,cAAhC,CAAP;AACA;;AAEDmuF,WAAS,GAAG;AACX,WAAO,KAAKvnB,KAAL,CAAWqR,SAAX,CAAqBj4E,QAArB,CAA8B,OAA9B,CAAP;AACA;;AAEDouF,aAAW,GAAG;AACb,WAAO,KAAKxnB,KAAL,CAAWqR,SAAX,CAAqBj4E,QAArB,CAA8B,UAA9B,CAAP;AACA;;AAEDquF,WAAS,GAAG;AACX,WAAO,KAAKznB,KAAL,CAAWqR,SAAX,CAAqBj4E,QAArB,CAA8B,SAA9B,CAAP;AACA;;AAxqBiB;AAANinF,W,CACLC,a,GAAgB,kF;AADXD,W,CAELqB,a,GAAgB,Q;;AAFXrB,W,CAqCLqH,gB,GAAmB,CAAC50F,GAAM,GAAGjC,QAAQ,CAACkkB,IAAnB,KAA4B1e,KAAK,CAACwsE,IAAN,CAAWqd,YAAX,EAAmB1/E,MAAnB,CAA0BsgF,KAAK,IAAIhuF,GAAG,CAACsG,QAAJ,CAAa0nF,KAAK,CAACj7C,OAAnB,CAAnC,C;;AC1DvD;AAEA;AAEO,MAAM8hD,eAAe,GAAG7O,KAAK,CAAC,MAAO8O,QAAP,IAAoF;AACxH,QAAMhG,IAAI,GAAGgG,QAAQ,CACnB5yF,GADW,CACPooC,CAAC,IAAIA,CAAC,CAAC5/B,EADA,EAEXxI,GAFW,CAEPwI,EAAE,IAAK,MAAKA,EAAG,EAFR,EAGXM,IAHW,CAGN,GAHM,CAAb;AAKA,QAAM;AAAEgU,QAAI,EAAE;AAAE3H;AAAF;AAAR,MAA0B,MAAM6oB,IAAI,CAAC;AAC1CZ,OAAG,EAAG,UAASwvD,IAAK,OADsB;AAE1C/L,SAAK,EAAE;AAAEgS,WAAK,EAAE,GAAT;AAAcC,cAAQ,EAAE;AAAxB,KAFmC;AAG1Cv1F,QAAI,EAAE;AAHoC,GAAD,CAA1C;AAMA,SAAO4X,QAAQ,CAACnV,GAAT,CAAayoC,CAAC,IAAIA,CAAC,CAAC3rB,IAApB,CAAP;AACA,CAbmC,EAajC;AAAE6yB,MAAI,EAAE;AAAR,CAbiC,CAA7B,C;;;;;;ACJP;AAEO,SAASojD,YAAT,CAAsBC,WAAtB,EAAqE;AAC3E,QAAM;AAAE5qD,KAAF;AAAKU,KAAL;AAAQ9jC;AAAR,MAAcy5C,mBAAS,CAACu0C,WAAD,CAAT,CAAuBjzC,KAAvB,EAApB;AACA,SAAO,CAAC3X,CAAD,EAAIU,CAAJ,EAAO9jC,CAAP,CAAP;AACA;AAEM,SAASiuF,cAAT,CAAwB,CAAC7qD,CAAD,EAAIU,CAAJ,EAAO9jC,CAAP,CAAxB,EAAqD;AAC3D,SAAOy5C,mBAAS,CAAC;AAAErW,KAAF;AAAKU,KAAL;AAAQ9jC;AAAR,GAAD,CAAT,CAAuBq8C,WAAvB,EAAP;AACA,C;;ACTD;AAOA,MAAM6xC,YAAY,GAAGpjF,QAAQ,CAACD,IAAT,CAAclO,OAAd,CAAsB,GAAtB,EAA2B,EAA3B,KAAkC,mBAAvD;AACA,IAAIwxF,mBAAJ;AAEO,SAASC,eAAT,CAAyBC,KAAzB,EAAwCC,OAAxC,EAAyDC,QAAzD,EAA4ExzF,QAA5E,EAA0G;AAChH,MAAI,CAACs7E,kBAAkB,CAAC,WAAD,CAAvB,EAAsC;AAEtCmY,6BAAW,CAAC59E,GAAZ,CAAgB,eAAhB;AAEA,MAAI69E,OAAJ;AAEA,QAAMC,WAAW,GAAGC,6BAAa,CAACD,WAAd,CAA0B;AAC7Cv1F,QAAI,EAAEm1F,OADuC;AAE7CloF,aAAS,EAAE,mBAFkC;AAG7CsjE,SAAK,EAAE,CAAC,CAHqC;AAI7CklB,YAAQ,EAAE32D,MAAM,IAAI;AACnB,YAAM/Q,SAAS,GAAGrwB,QAAQ,CAAC24E,aAAT,CAAuB,wBAAvB,CAAlB;AACA,UAAI,CAACtoD,SAAL,EAAgB;;AAEhB,UAAI+Q,MAAJ,EAAY;AACX,YAAIk2D,mBAAJ,EAAyBA,mBAAmB,CAACntE,KAApB;AACzBmtE,2BAAmB,GAAGO,WAAtB;AACAD,eAAO,GAAGn3E,sBAAM,CAAC+N,IAAK,mCAAtB;AACA6B,iBAAS,CAACnB,MAAV,CAAiB0oE,OAAjB;AACA1zF,gBAAQ,CAAC0zF,OAAD,CAAR;AACA3jF,gBAAQ,CAACD,IAAT,GAAgBwjF,KAAhB;AACA,OAPD,MAOO;AACNI,eAAO,CAACp8E,MAAR;AACA;AACD;AAlB4C,GAA1B,CAApB;;AAqBA,MAAIk8E,QAAJ,EAAc;AAEbG,eAAW,CAACvoE,KAAZ,CAAkB7O,sBAAM,CAAC+N,IAAK,2CAA0CkpE,QAAS,QAAjF;AACA;;AAED,MAAIF,KAAK,KAAKH,YAAd,EAA4BQ,WAAW,CAAC1tE,KAAZ;AAC5B,C;;AC5CD;AACA;AACA;AAEO,MAAM6tE,SAAqB,GAAGngB,YAAY,CAAC73E,QAAQ,CAACgP,eAAV,EAA2B,MAA3B,CAAZ,CAGnCwN,IAHmC,CAG9B,MAAMirE,OAAO,CAAC,MAAMznF,QAAQ,CAACkkB,IAAhB,EAAsB,EAAtB,CAHiB,CAA9B;AAKA,MAAM+zE,gBAA4B,GAAGD,SAAS,CACnDx7E,IAD0C,CACrC,MAAMm7D,OAAO,CAACC,IAAR,CAAa,CACxBc,iBAAiB,CAAC14E,QAAQ,CAACkkB,IAAV,EAAgB+4D,UAAU,CAAC,UAAD,CAAV,GAAyB,0BAAzB,GAAsD,YAAtE,CADO,EAExBib,aAFwB,CAAb,CAD+B,CAArC;AAMA,MAAMA,aAAyB,GAAGF,SAAS,CAChDx7E,IADuC,CAClC,MAAMm7D,OAAO,CAACC,IAAR,CAAa,CACxBH,YAAY,CAACt3E,MAAD,EAAS,kBAAT,EAA6B,MAA7B,CADY,EAExBsnF,OAAO,CAAC,MAAMznF,QAAQ,CAAC2f,UAAT,KAAwB,aAAxB,IAAyC3f,QAAQ,CAAC2f,UAAT,KAAwB,UAAxE,EAAoF,GAApF,CAFiB,CAAb,CAD4B,CAAlC;AAMA,MAAMw4E,YAAwB,GAAGH,SAAS,CAC/Cx7E,IADsC,CACjC,MAAMm7D,OAAO,CAACC,IAAR,CAAa,CACxBH,YAAY,CAACt3E,MAAD,EAAS,MAAT,CADY,EAExBsnF,OAAO,CAAC,MAAMznF,QAAQ,CAAC2f,UAAT,KAAwB,UAA/B,EAA2C,GAA3C,CAFiB,CAAb,CAD2B,CAAjC,C;;;;;;ACpBP;AACA;AACA;AACA;AACA;;AAEA,MAAMy4E,iBAAN,CAAgB;AACf,SAAOC,WAAP,GAAqB;AAAE,WAAO,IAAP;AAAc;;AAQrC90F,aAAW,GAAG;AAAA,SAHdyxC,OAGc,GAHSh1C,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAGT;AAAA,SAFdiH,IAEc,GAFMklB,WAAK,oCAEX;AACb,QAAI,KAAKjrB,WAAL,CAAiB+0F,OAArB,EAA8B,KAAKtjD,OAAL,CAAa9lB,MAAb,CAAoB,KAAK5lB,IAAzB;AAC9B,SAAK/F,WAAL,CAAiBo+D,KAAjB,CAAuBnlD,IAAvB,CAA4B,MAAM,KAAK+7E,EAAL,EAAlC;AACA;;AAEDA,IAAE,GAAG,CAAE;;AAEPx+E,KAAG,CAACi7B,OAAD,EAAuB;AAAEwjD,YAAF;AAAY3lB;AAAZ,GAAvB,EAAoF;AACtF,QAAI2lB,QAAQ,IAAI,CAAC,KAAKj1F,WAAL,CAAiB+0F,OAAlC,EAA2C;AAC1CtjD,aAAO,CAAChyB,KAAR,CAAc6vD,KAAd,GAAsB7nE,MAAM,CAAC6nE,KAAD,CAA5B;AACA,WAAK79B,OAAL,CAAa9lB,MAAb,CAAoB8lB,OAApB;AACA,KAHD,MAGO;AACN,UAAIA,OAAO,YAAYyjD,aAAvB,EAAsC;AACrC,aAAKnvF,IAAL,CAAU4lB,MAAV,CAAiB8lB,OAAjB;AACA,OAFD,MAEO;AACN,cAAM0jD,EAAE,GAAGlqE,WAAK,qBAAoBqkD,KAAM,SAA1C;AACA6lB,UAAE,CAACxpE,MAAH,CAAU8lB,OAAV;AACA,aAAK1rC,IAAL,CAAU4lB,MAAV,CAAiBwpE,EAAjB;AACA;AACD;AACD;;AA7Bc;;AAAVN,iB,CAEEO,Q;AAFFP,iB,CAGEz2B,K,GAAsBi3B,Y;AAHxBR,iB,CAIEE,O,GAAmB,I;AA4B3B,MAAMO,UAAU,GAAG;AAClBC,UAAQ,oBAAE,uBAAcV,iBAAd,CAAwB;AAAA;AAAA;AAAA,WAgBjCW,iBAhBiC,GAgBblR,aAAa,CAAC,MAAM;AACvC,cAAM;AAAE92D;AAAF,YAAY,KAAKikB,OAAL,CAAargB,qBAAb,EAAlB;AACA,cAAMqkE,YAAY,GAAGh5F,QAAQ,CAAC24E,aAAT,CAAuB,uBAAvB,CAArB;AACAqgB,oBAAY,CAACh2E,KAAb,CAAmBi2E,WAAnB,GAAkC,GAAEloE,KAAM,IAA1C;AACA,OAJgC,CAhBA;AAAA;;AACjC,WAAOsnE,WAAP,GAAqB;AAAE,aAAOnb,SAAS,CAAC,KAAD,CAAT,IAAoB,CAAC,CAACl9E,QAAQ,CAAC24E,aAAT,CAAuB,uBAAvB,CAA7B;AAA+E;;AAItG4f,MAAE,GAAG;AACJ,WAAKvjD,OAAL,CAAawrC,SAAb,CAAuBzmE,GAAvB,CAA2B,sBAA3B;AACA/Z,cAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqB,KAAK8lB,OAA1B;AACA,WAAK+jD,iBAAL;AACA;;AAEDh/E,OAAG,CAACi7B,OAAD,EAAavd,IAAb,EAAsB;AACxB,YAAM1d,GAAN,CAAUi7B,OAAV,EAAmBvd,IAAnB;AACA,WAAKshE,iBAAL;AACA;;AAdgC,GAA1B,SAEAJ,QAFA,GAEW,UAFX,SAGAh3B,KAHA,GAGQi3B,gBAHR,QADU;AAwBlBM,UAAQ,sBAAE,uBAAcd,iBAAd,CAAwB;AACjC,WAAOC,WAAP,GAAqB;AAAE,aAAOnb,SAAS,CAAC,IAAD,CAAhB;AAAyB;;AAIhDqb,MAAE,GAAG;AACJ,YAAMvjD,OAAO,GAAGh1C,QAAQ,CAACkkB,IAAT,CAAcy0D,aAAd,CAA4B,yBAA5B,CAAhB;AAEA3jC,aAAO,CAAC9lB,MAAR,CAAe,GAAG,KAAK8lB,OAAL,CAAa17B,QAA/B;AACA,WAAK07B,OAAL,GAAeA,OAAf;AACA;;AAEDj7B,OAAG,CAACi7B,OAAD,EAAU;AACZ,WAAKA,OAAL,CAAa9lB,MAAb,CAAoBV,WAAK,kCAAzB,EAA4DwmB,OAA5D;AACA;;AAdgC,GAA1B,UAEA2sB,KAFA,GAEQi3B,gBAFR,UAGAN,OAHA,GAGU,KAHV,SAxBU;AAyClBa,kBAAgB,EAAE,cAAcf,iBAAd,CAAwB;AACzC,WAAOC,WAAP,GAAqB;AAAE,aAAOnb,SAAS,CAAC,KAAD,CAAhB;AAA0B;;AAEjDqb,MAAE,GAAG;AACJ,WAAKvjD,OAAL,CAAawrC,SAAb,CAAuBzmE,GAAvB,CAA2B,yBAA3B;AACA,WAAKi7B,OAAL,CAAahyB,KAAb,CAAmB5T,GAAnB,GAA0B,GAAE,IAAIgtE,gBAAgB,EAAG,IAAnD;AACAp8E,cAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqB,KAAK8lB,OAA1B;AACA;;AAPwC,GAzCxB;AAmDlBokD,oBAAkB,sBAAE,iCAAchB,iBAAd,CAAwB;AAC3C,WAAOC,WAAP,GAAqB;AAAE,aAAO,CAACnb,SAAS,CAAC,KAAD,CAAjB;AAA2B;;AAGlDqb,MAAE,GAAG;AACJ,WAAKvjD,OAAL,CAAawrC,SAAb,CAAuBzmE,GAAvB,CAA2B,gCAA3B;AACA/Z,cAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqB,KAAK8lB,OAA1B;AACA,WAAKA,OAAL,CAAahyB,KAAb,CAAmB5T,GAAnB,GAA0B,GAAE,IAAI6qE,eAAe,CAAC,IAAD,CAAO,IAAtD;;AAEA,UAAI,CAACj6E,QAAQ,CAAC24E,aAAT,CAAuB,wBAAvB,CAAL,EAAuD;AACtD,aAAK3jC,OAAL,CAAape,MAAb,GAAsB,IAAtB;AAEA,YAAIyiE,oBAAJ,CAAyBpqB,OAAO,IAAI;AACnC,eAAKj6B,OAAL,CAAape,MAAb,GAAsBq4C,OAAO,CAAC,CAAD,CAAP,CAAWqqB,cAAjC;AACA,SAFD,EAEGhhB,OAFH,CAEWt4E,QAAQ,CAAC24E,aAAT,CAAuB,SAAvB,CAFX;AAGA;AACD;;AAhB0C,GAA1B,UAEVggB,QAFU,GAEC,kBAFD,SAnDA;AAsElBY,SAAO,sBAAE,sBAAcnB,iBAAd,CAAwB;AAChC,WAAOC,WAAP,GAAqB;AAAE,aAAOnb,SAAS,CAAC,IAAD,CAAhB;AAAyB;;AAKhDqb,MAAE,GAAG;AACJ,UAAIiB,IAAI,GAAGx5F,QAAQ,CAAC24E,aAAT,CAAuB,gCAAvB,CAAX;;AACA,UAAI6gB,IAAJ,EAAU,CAET,CAFD,MAEO,IAAIx5F,QAAQ,CAAC24E,aAAT,CAAuB,qBAAvB,CAAJ,EAAmD;AACzD6gB,YAAI,GAAGhrE,WAAK,wBAAZ;AACAxuB,gBAAQ,CAAC24E,aAAT,CAAuB,qBAAvB,EAA8CzpD,MAA9C,CAAqDsqE,IAArD;AACA,OAHM,MAGA;AAKN;AACA;;AAGDA,UAAI,CAACtqE,MAAL,CAAY,GAAG,KAAK8lB,OAAL,CAAa17B,QAA5B;AACA,WAAK07B,OAAL,GAAewkD,IAAf;AACA;;AAxB+B,GAA1B,UAECb,QAFD,GAEY,kBAFZ,UAGCh3B,KAHD,GAGSi3B,gBAHT,UAICN,OAJD,GAIW,KAJX,SAtEW;AAiGlBmB,OAAK,EAAErB,iBAASA;AAjGE,CAAnB;;AAoGA,MAAMsB,YAA4B,GAAG,kBAAWz0F,IAAD,IAAoC;AAClF,MAAIorB,SAAJ;;AACA,MAAIwoE,UAAU,CAAC5zF,IAAD,CAAV,CAAiBozF,WAAjB,EAAJ,EAAoC;AACnChoE,aAAS,GAAG,IAAIwoE,UAAU,CAAC5zF,IAAD,CAAd,EAAZ;AACA,GAFD,MAEO,IAAI4zF,UAAU,CAAC5zF,IAAD,CAAV,CAAiB0zF,QAArB,EAA+B;AACrCtoE,aAAS,GAAGqpE,YAAY,CAACb,UAAU,CAAC5zF,IAAD,CAAV,CAAiB0zF,QAAlB,CAAxB;AAGA;;AAED,MAAItoE,SAAJ,EAAe;AACd,WAAOA,SAAP;AACA,GAFD,MAEO;AACN,UAAMspE,cAAc,GAAGd,UAAU,CAACY,KAAlC;AACA,WAAO,IAAIE,cAAJ,EAAP;AACA;AACD,CAhBoC,CAArC;;AAkBO,SAASC,UAAT,CACN5kD,OADM,EAEN;AACC3kB,WAAS,EAAEwpE,aAAa,GAAG,CAAC,UAAD,EAAa,kBAAb,EAAiC,oBAAjC,EAAuDhqF,IAAvD,CAA4D5K,IAAI,IAAI4zF,UAAU,CAAC5zF,IAAD,CAAV,CAAiBozF,WAAjB,EAApE,KAAuG,OADnI;AAECG,UAAQ,GAAG,KAFZ;AAGC3lB,OAAK,GAAG;AAHT,IAQK,EAVC,EAWL;AACD6mB,cAAY,CAACG,aAAD,CAAZ,CAA4B9/E,GAA5B,CAAgCi7B,OAAhC,EAAyC;AAAEwjD,YAAF;AAAY3lB;AAAZ,GAAzC;AACA,C;;AC1KD;AAEA,MAAMinB,KAAK,GAAG,gEAAd;AACO,SAASC,UAAT,CAAoBr1F,GAAW,GAAG,CAAlC,EAA6C;AACnD,QAAMrE,GAAG,GAAG,IAAImF,KAAJ,CAAUd,GAAV,CAAZ;;AACA,OAAK,MAAMxC,CAAX,IAAgBklF,KAAK,CAAC,CAAD,EAAI1iF,GAAJ,CAArB,EAA+B;AAC9BrE,OAAG,CAAC6B,CAAD,CAAH,GAAS43F,KAAK,CAACtxC,MAAN,CAAa5iD,IAAI,CAACC,MAAL,KAAgBi0F,KAAK,CAACt2F,MAAtB,GAA+B,CAA5C,CAAT;AACA;;AACD,SAAOnD,GAAG,CAAC4M,IAAJ,CAAS,EAAT,CAAP;AACA;AAEM,SAAS+sF,QAAT,CAAkBrZ,GAAlB,EAAuC;AAC7C,MAAI3sE,IAAI,GAAG,CAAX;;AACA,OAAK,MAAMimF,IAAX,IAAmBtZ,GAAnB,EAAwB;AACvB3sE,QAAI,GAAK,CAACA,IAAI,IAAI,CAAT,IAAcA,IAAf,GAAuBimF,IAAI,CAAC3uF,UAAL,CAAgB,CAAhB,CAAxB,GAA8C,CAArD;AACA;;AACD,SAAO0I,IAAP;AACA,C;;ACjBD;AAEA;AACA;AACA;AAEA,MAAMkmF,YAAY,GAAG,WAArB;AACA,MAAMC,cAAc,GAAG,aAAvB;AACO,MAAM,CAACC,IAAD,EAAOC,MAAP,IAAiB,CAAC,MAAD,EAAS,QAAT,CAAvB;AAEA,MAAMp2D,IAAI,GAAG,OAAOrnB,KAAP,EAAiCyyE,MAAjC,KAAqD;AACxE,MAAI,CAAC3N,UAAU,EAAf,EAAmB,MAAM,IAAIxhF,KAAJ,CAAU,eAAV,CAAN;AAEnB,QAAMmkB,MAAM,GAAG6qE,SAAS,CAACG,MAAD,EAASY,KAAK,IAAI;AACzC,UAAMtjF,EAAE,GAAGsjF,KAAK,CAACoF,WAAN,EAAX;AACA,UAAMrgD,OAAO,GAAGi7C,KAAK,CAAC6C,cAAN,EAAhB;AACA,WAAOnmF,EAAE,IAAIqoC,OAAN,IAAiBA,OAAO,CAAC09C,OAAR,CAAgB4H,WAAhB,KAAgC19E,KAAjD,GAAyD,CAAC;AAAEjQ,QAAF;AAAMqoC;AAAN,KAAD,CAAzD,GAA6EtvC,SAApF;AACA,GAJuB,CAAxB;AAMA,MAAI,CAAC2e,MAAM,CAAC7gB,MAAZ,EAAoB;;AAEpB,QAAM+2F,cAAc,GAAG,CAACjzB,MAAD,EAAShlE,IAAT,KAAkB;AACxC,SAAK,MAAM;AAAE0yC;AAAF,KAAX,IAA0B3wB,MAA1B,EAAkC;AACjC,UAAIijD,MAAJ,EAAYtyB,OAAO,CAAC09C,OAAR,CAAgB4H,WAAhB,GAA8BhzB,MAA9B;AACZ,UAAItyB,OAAO,CAACwrC,SAAR,CAAkBj4E,QAAlB,CAA2B,SAA3B,CAAJ,EAA2CysC,OAAO,CAAC09C,OAAR,CAAgBpwF,IAAhB,GAAuBA,IAAvB,CAA3C,KACK0yC,OAAO,CAACpjC,WAAR,GAAsBtP,IAAtB;AACL;AACD,GAND;;AAQAi4F,gBAAc,CAAC39E,KAAK,KAAKw9E,IAAV,GAAiBC,MAAjB,GAA0BD,IAA3B,EAAiCx9E,KAAK,KAAKw9E,IAAV,GAAiB,WAAjB,GAA+B,aAAhE,CAAd;;AAEA,MAAI;AACH,UAAMj4D,IAAI,CAAC;AACV9lB,YAAM,EAAE,MADE;AAEVklB,SAAG,EAAE3kB,KAAK,KAAKw9E,IAAV,GAAiBF,YAAjB,GAAgCC,cAF3B;AAGVl5E,UAAI,EAAE;AAAEtU,UAAE,EAAE0X,MAAM,CAAClgB,GAAP,CAAW,CAAC;AAAEwI;AAAF,SAAD,KAAYA,EAAvB,EAA2BM,IAA3B,CAAgC,GAAhC;AAAN,OAHI;AAIVvL,UAAI,EAAE;AAJI,KAAD,CAAV;AAMA64F,kBAAc,CAAC70F,SAAD,EAAYkX,KAAK,KAAKw9E,IAAV,GAAiBC,MAAjB,GAA0BD,IAAtC,CAAd;AACA,GARD,CAQE,OAAOruF,CAAP,EAAU;AACXwuF,kBAAc,CAAC39E,KAAD,EAAQA,KAAR,CAAd;AACA,UAAM7Q,CAAN;AACA;AACD,CAjCM;AAmCA,MAAMuY,cAAI,GAAG2jE,KAAK,CAACoH,MAAM,IAAIprD,IAAI,CAACm2D,IAAD,EAAO/K,MAAP,CAAf,EAA+B;AAAEv7C,MAAI,EAAE;AAAR,CAA/B,CAAlB;AACA,MAAM0mD,MAAM,GAAGvS,KAAK,CAACoH,MAAM,IAAIprD,IAAI,CAACo2D,MAAD,EAAShL,MAAT,CAAf,EAAiC;AAAEv7C,MAAI,EAAE;AAAR,CAAjC,CAApB,C;;;AC7CP;AAEO,MAAM2mD,UAAU,GAAG;AACzBC,WAAS,EAAE,WADc;AAEzBC,KAAG,EAAE,KAFoB;AAGzBC,OAAK,EAAE,OAHkB;AAIzBC,QAAM,EAAE,QAJiB;AAKzBC,OAAK,EAAE,GALkB;AAMzBC,QAAM,EAAE,QANiB;AAOzBC,UAAQ,EAAE,UAPe;AAQzBC,KAAG,EAAE,KARoB;AASzBC,MAAI,EAAE,MATmB;AAUzBC,MAAI,EAAE,WAVmB;AAWzBC,IAAE,EAAE,SAXqB;AAYzBC,OAAK,EAAE,YAZkB;AAazBC,MAAI,EAAE,WAbmB;AAczBC,OAAK,EAAE,OAdkB;AAezBC,SAAO,EAAE,SAfgB;AAgBzBC,KAAG,EAAE;AAhBoB,CAAnB;AAuBP,MAAMC,QAAQ,GAAG;AAChB,QAAM,MADU;AAEhB,OAAK,WAFW;AAGhB,OAAK,KAHW;AAIhB,QAAM,OAJU;AAKhB,QAAM,OALU;AAMhB,QAAM,MANU;AAOhB,QAAM,KAPU;AAQhB,QAAM,aARU;AAShB,QAAM,WATU;AAUhB,QAAM,QAVU;AAWhB,QAAM,SAXU;AAYhB,QAAM,WAZU;AAahB,QAAM,KAbU;AAchB,QAAM,MAdU;AAehB,QAAM,YAfU;AAgBhB,QAAM,UAhBU;AAiBhB,QAAM,aAjBU;AAkBhB,QAAM,YAlBU;AAmBhB,QAAM,QAnBU;AAoBhB,QAAM,QApBU;AAqBhB,QAAM,aArBU;AAsBhB,QAAM,cAtBU;AAuBhB,QAAM,YAvBU;AAwBhB,QAAM,UAxBU;AAyBhB,QAAM,UAzBU;AA0BhB,QAAM,UA1BU;AA2BhB,QAAM,UA3BU;AA4BhB,SAAO,UA5BS;AA6BhB,SAAO,UA7BS;AA8BhB,SAAO,UA9BS;AA+BhB,SAAO,UA/BS;AAgChB,SAAO,UAhCS;AAiChB,SAAO,UAjCS;AAkChB,SAAO,UAlCS;AAmChB,SAAO,KAnCS;AAoChB,SAAO,UApCS;AAqChB,SAAO,eArCS;AAsChB,SAAO,QAtCS;AAuChB,SAAO,IAvCS;AAwChB,SAAO,IAxCS;AAyChB,SAAO,IAzCS;AA0ChB,SAAO,IA1CS;AA2ChB,SAAO,IA3CS;AA4ChB,SAAO,IA5CS;AA6ChB,SAAO,IA7CS;AA8ChB,SAAO,IA9CS;AA+ChB,SAAO,IA/CS;AAgDhB,SAAO,KAhDS;AAiDhB,SAAO,KAjDS;AAkDhB,SAAO,KAlDS;AAmDhB,SAAO,UAnDS;AAoDhB,SAAO,aApDS;AAqDhB,SAAO,GArDS;AAsDhB,SAAO,GAtDS;AAuDhB,SAAO,GAvDS;AAwDhB,SAAO,GAxDS;AAyDhB,SAAO,GAzDS;AA0DhB,SAAO,GA1DS;AA2DhB,SAAO,GA3DS;AA4DhB,SAAO,GA5DS;AA6DhB,SAAO,IA7DS;AA8DhB,SAAO,GA9DS;AA+DhB,SAAO;AA/DS,CAAjB;AAmEO,SAASC,mBAAT,CAAqBC,QAArB,EAAmE;AACzE,MAAI,CAACA,QAAD,IAAa1yD,KAAK,CAAC0yD,QAAD,CAAtB,EAAkC;AACjC,WAAO,EAAP;AACA;;AAED,MAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;AACjCA,YAAQ,GAAG,CAACA,QAAD,EAAW,KAAX,EAAkB,KAAlB,EAAyB,KAAzB,EAAgC,KAAhC,CAAX;AACA,GAFD,MAEO,IAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;AACxC,UAAMt0F,KAAK,GAAGs0F,QAAQ,CAACt0F,KAAT,CAAe,GAAf,CAAd;AACA,UAAMvF,IAAI,GAAG65B,QAAQ,CAACt0B,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAArB;AAEA,UAAMu0F,SAAS,GAAG,CAAC,GAAGv0F,KAAK,CAAC7G,KAAN,CAAY,CAAZ,EAAe0D,GAAf,CAAmBk6B,CAAC,IAAIA,CAAC,KAAK,MAA9B,CAAJ,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE,KAAhE,CAAlB;AACA,UAAM,CAACy9D,GAAD,EAAMC,IAAN,EAAYruF,KAAZ,EAAmBsuF,IAAnB,IAA2BH,SAAjC;AACAD,YAAQ,GAAG,CAAC75F,IAAD,EAAO+5F,GAAP,EAAYC,IAAZ,EAAkBruF,KAAlB,EAAyBsuF,IAAzB,CAAX;AACA;;AAED,QAAM,CAAChwE,OAAD,EAAU,GAAG6vE,SAAb,IAA0BD,QAAhC;;AAEA,QAAMK,QAAQ,GAAG,kBAAUJ,SAAV,EAAqB,CAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,EAA4B,UAA5B,CAArB,EAA8D,CAACtnD,SAAD,EAAYtvC,IAAZ,KAAqBsvC,SAAS,IAAItvC,IAAhG,EACf0K,MADe,CACRw1D,CAAC,IAAIA,CADG,EAEfl4D,IAFe,CAEV,EAFU,CAAjB;;AAIA,QAAMivF,OAAO,GAAGR,QAAQ,CAAC1vE,OAAD,CAAR,IAAqBhhB,MAAM,CAACC,YAAP,CAAoB+gB,OAApB,CAArC;AAEA,SAAQ,GAAEiwE,QAAS,GAAEC,OAAQ,EAA7B;AACA;AAEM,SAASC,iBAAT,CAA2B70E,KAA3B,EAAiDs0E,QAAjD,EAAuF;AAG7F,MAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;AACjCA,YAAQ,GAAG,CAACA,QAAD,EAAW,KAAX,EAAkB,KAAlB,EAAyB,KAAzB,EAAgC,KAAhC,CAAX;AACA,GAFD,MAEO,IAAIA,QAAQ,CAACp4F,MAAT,KAAoB,CAAxB,EAA2B;AAEhCo4F,YAAD,CAAgBj7F,IAAhB,CAAqB,KAArB;AACA;;AAED,QAAMy7F,SAAS,GAAGC,YAAY,CAAC/0E,KAAD,CAA9B;AACA,QAAMg1E,SAAS,GAAGC,YAAY,CAACX,QAAD,CAA9B;AACA,SAAOQ,SAAS,KAAKE,SAArB;AACA;AAEM,SAASD,YAAT,CAAsB/0E,KAAtB,EAAoD;AAC1D,QAAMs0E,QAAQ,GAAG,CAACt0E,KAAK,CAAC0E,OAAP,EAAgB1E,KAAK,CAAC6D,MAAtB,EAA8B7D,KAAK,CAACiE,OAApC,EAA6CjE,KAAK,CAACuE,QAAnD,EAA6DvE,KAAK,CAACoE,OAAnE,CAAjB;AAYA,SAAO6wE,YAAY,CAACX,QAAD,CAAnB;AACA;AAEM,SAASW,YAAT,CAAsBX,QAAtB,EAAkD;AACxD,QAAMp4F,MAAM,GAAG,CAAf;AACA,MAAIwQ,IAAI,GAAG4nF,QAAQ,CAAC,CAAD,CAAR,GAAc,KAAKp4F,MAA9B;;AACA,OAAK,MAAMtB,CAAX,IAAgBklF,KAAK,CAAC,CAAD,EAAI5jF,MAAJ,CAArB,EAAkC;AACjC,QAAIo4F,QAAQ,CAAC15F,CAAD,CAAZ,EAAiB;AAChB8R,UAAI,IAAI,KAAK9R,CAAb;AACA;AACD;;AACD,SAAO8R,IAAP;AACA,C;;;AC/JD;;AAGA,MAAMwoF,KAAK,GAAG,sBAAO,MAAM;AAC1B,QAAMC,KAAK,GAAGjzD,mBAAO,CAAC,CAAD,CAArB;;AACA,QAAMkzD,UAAU,GAAG1uD,WAAM,CAACzmC,WAAP,EAAnB;AACA,MAAIm1F,UAAU,CAACpc,UAAX,CAAsB,IAAtB,CAAJ,EAAiCmc,KAAK,CAACzuD,MAAN,CAAaxE,mBAAO,CAAC,GAAD,CAApB;AACjC,MAAIkzD,UAAU,CAACpc,UAAX,CAAsB,IAAtB,CAAJ,EAAiCmc,KAAK,CAACzuD,MAAN,CAAaxE,mBAAO,CAAC,GAAD,CAApB;AACjC,MAAIkzD,UAAU,CAACpc,UAAX,CAAsB,IAAtB,CAAJ,EAAiCmc,KAAK,CAACzuD,MAAN,CAAaxE,mBAAO,CAAC,GAAD,CAApB;AACjC,MAAIkzD,UAAU,CAACpc,UAAX,CAAsB,IAAtB,CAAJ,EAAiCmc,KAAK,CAACzuD,MAAN,CAAaxE,mBAAO,CAAC,GAAD,CAApB;AACjC,MAAIkzD,UAAU,CAACpc,UAAX,CAAsB,IAAtB,CAAJ,EAAiCmc,KAAK,CAACzuD,MAAN,CAAaxE,mBAAO,CAAC,GAAD,CAApB;AACjC,MAAIkzD,UAAU,CAACpc,UAAX,CAAsB,IAAtB,CAAJ,EAAiCmc,KAAK,CAACzuD,MAAN,CAAaxE,mBAAO,CAAC,GAAD,CAApB;AACjC,MAAIkzD,UAAU,CAACpc,UAAX,CAAsB,IAAtB,CAAJ,EAAiCmc,KAAK,CAACzuD,MAAN,CAAaxE,mBAAO,CAAC,GAAD,CAApB;AACjC,MAAIkzD,UAAU,CAACpc,UAAX,CAAsB,OAAtB,CAAJ,EAAoCmc,KAAK,CAACzuD,MAAN,CAAaxE,mBAAO,CAAC,GAAD,CAApB;AACpC,MAAIkzD,UAAU,CAACpc,UAAX,CAAsB,IAAtB,CAAJ,EAAiCmc,KAAK,CAACzuD,MAAN,CAAaxE,mBAAO,CAAC,GAAD,CAApB;AACjCizD,OAAK,CAAC13F,MAAN,CAAaykC,mBAAO,CAAC,GAAD,CAApB;AACAizD,OAAK,CAAC13F,MAAN,CAAaykC,mBAAO,CAAC,GAAD,CAApB;AACA,SAAOizD,KAAP;AACA,CAfa,CAAd;;AAiBO,MAAMA,kBAAK,GAAG,CAAC,GAAGjpF,IAAJ,KAAkB,IAAIgpF,KAAJ,GAAY,GAAGhpF,IAAf,CAAhC;AAEA,SAASmpF,YAAT,CAAsBhhD,MAAtB,EAA8C;AACpD,SAAOA,MAAM,CAAC0qC,cAAP,CAAsBr4C,WAAtB,CAAP;AACA;AAEM,SAAS4uD,UAAT,CAAoBxvD,IAApB,EAAqD;AAC3D,SAAOqvD,kBAAK,CAACrvD,IAAD,CAAL,CAAYF,MAAZ,CAAmB,GAAnB,CAAP;AACA;AAEM,SAAS2vD,cAAT,CAAwBzvD,IAAxB,EAAyD;AAC/D,SAAOqvD,kBAAK,CAACrvD,IAAD,CAAL,CAAYF,MAAZ,CAAmB,OAAnB,CAAP;AACA;AAEM,SAAS4vD,cAAT,CAAwB9qB,IAAxB,EAAoCx4C,EAApC,EAAmE;AACzE,SAAOijE,kBAAK,CAACjjE,EAAD,CAAL,CAAUw4C,IAAV,CAAeA,IAAf,EAAqB,IAArB,CAAP;AACA;AAEM,SAAS+qB,kBAAT,CAA4B/qB,IAA5B,EAAgD;AACtD,SAAOyqB,kBAAK,CAACzqB,IAAD,CAAL,CAAYE,OAAZ,EAAP;AACA,C;;ACzCM,SAAS8qB,gBAAT,CAA0BC,EAA1B,EAAiC/zF,CAAjC,EAA4CC,CAA5C,EAAuD;AAC7D,UAAQ8zF,EAAR;AACC,SAAK,IAAL;AAAW,aAAO/zF,CAAC,IAAIC,CAAZ;;AACX,SAAK,IAAL;AAAW,aAAOD,CAAC,IAAIC,CAAZ;;AACX,SAAK,GAAL;AAAU,aAAOD,CAAC,GAAGC,CAAX;;AACV,SAAK,GAAL;AAAU,aAAOD,CAAC,GAAGC,CAAX;;AACV,SAAK,IAAL;AAAW,aAAOD,CAAC,IAAIC,CAAZ;;AACX,SAAK,IAAL;AAAW,aAAOD,CAAC,IAAIC,CAAZ;;AACX;AAAS,YAAM,IAAIjJ,KAAJ,CAAW,sBAAqB+8F,EAAG,EAAnC,CAAN;AAPV;AASA;AAEM,SAASC,eAAT,CAAyBD,EAAzB,EAAgC;AACtC,UAAQA,EAAR;AACC,SAAK,IAAL;AAAW,aAAO,IAAP;;AACX,SAAK,IAAL;AAAW,aAAO,IAAP;;AACX,SAAK,GAAL;AAAU,aAAO,IAAP;;AACV,SAAK,GAAL;AAAU,aAAO,IAAP;;AACV,SAAK,IAAL;AAAW,aAAO,GAAP;;AACX,SAAK,IAAL;AAAW,aAAO,GAAP;;AACX;AAAS,YAAM,IAAI/8F,KAAJ,CAAW,sBAAqB+8F,EAAG,EAAnC,CAAN;AAPV;AASA;AAEM,SAASE,cAAT,CAAwBF,EAAxB,EAA+B;AACrC,UAAQA,EAAR;AACC,SAAK,IAAL;AAAW,aAAO,GAAP;;AACX,SAAK,IAAL;AAAW,aAAO,GAAP;;AACX,SAAK,GAAL;AAAU,aAAO,GAAP;;AACV,SAAK,GAAL;AAAU,aAAO,GAAP;;AACV,SAAK,IAAL;AAAW,aAAO,GAAP;;AACX,SAAK,IAAL;AAAW,aAAO,GAAP;;AACX;AAAS,YAAM,IAAI/8F,KAAJ,CAAW,sBAAqB+8F,EAAG,EAAnC,CAAN;AAPV;AASA;AAQM,SAASG,WAAT,CAAqBC,GAArB,EAAkCtyF,IAAlC,EAAgDuyF,IAAhD,EAAsE;AAC5E,SAAO,CAAC,IAAIA,IAAL,IAAaD,GAAb,GAAmBC,IAAI,GAAGvyF,IAAjC;AACA;AASM,SAASwyF,aAAT,CAAuBF,GAAvB,EAAoCtyF,IAApC,EAAkD7D,KAAlD,EAAyE;AAC/E,MAAIm2F,GAAG,KAAK,CAACxnB,QAAT,IAAqB9qE,IAAI,KAAK8qE,QAAlC,EAA4C;AAC3C,WAAO,GAAP;AACA,GAFD,MAEO,IAAIwnB,GAAG,KAAK,CAACxnB,QAAb,EAAuB;AAC7B,WAAO,CAAP;AACA,GAFM,MAEA,IAAI9qE,IAAI,KAAK8qE,QAAb,EAAuB;AAC7B,WAAO,CAAP;AACA;;AACD,SAAO,CAAC3uE,KAAK,GAAGm2F,GAAT,KAAiBtyF,IAAI,GAAGsyF,GAAxB,CAAP;AACA;AAcM,SAASG,WAAT,CAAqBC,OAArB,EAAsCC,QAAtC,EAAwDC,KAAxD,EAAuEC,MAAvE,EAAuF12F,KAAvF,EAA8G;AACpH,SAAOk2F,WAAW,CAACO,KAAD,EAAQC,MAAR,EAAgBL,aAAa,CAACE,OAAD,EAAUC,QAAV,EAAoBx2F,KAApB,CAA7B,CAAlB;AACA;AAOM,SAAS22F,cAAT,CAAwB30F,CAAxB,EAAmCsP,CAAnC,EAAsD;AAC5D,SAAO,CAAEtP,CAAC,GAAGsP,CAAL,GAAUA,CAAX,IAAgBA,CAAvB;AACA,C;;;;;;;ACnFM,SAASslF,gBAAT,CAAuDl5E,MAAvD,EAAoFm5E,QAApF,EAAsGC,cAAgC,GAAGliF,CAAC,IAAIA,CAA9I,EAAoK;AAC1K,QAAM2G,MAAM,GAAGmC,MAAM,CAACq5E,MAAP,CAAcF,QAAd,EAAwBr8F,IAAxB,KAAiC,MAAjC,GACd8D,KAAK,CAACwsE,IAAN,CAQD,WAAqBksB,WAArB,EAAkC;AACjC,SAAK,MAAM79F,GAAX,IAAkB69F,WAAlB,EAA+B;AAC9B,WAAK,MAAMC,MAAX,IAAqB99F,GAAG,CAAC09F,QAAD,CAAH,CAAcz2F,KAAd,CAAoB,GAApB,CAArB,EAA+C;AAC9C,cAAM,CAAC,GAAGjH,GAAG,CAACI,KAAJ,CAAU,CAAV,EAAas9F,QAAb,CAAJ,EAA4BI,MAA5B,EAAoC,GAAG99F,GAAG,CAACI,KAAJ,CAAUs9F,QAAQ,GAAG,CAArB,CAAvC,CAAN;AACA;AACD;AACD,GAdW,CAAWn5E,MAAM,CAAC1d,KAAlB,CAAX,CADc,GAEd0d,MAAM,CAAC1d,KAFR;AAIA,SAAO,kBAAUub,MAAV,EAAkBpiB,GAAG,IAAI29F,cAAc,CAAC39F,GAAG,CAAC09F,QAAD,CAAJ,CAAvC,CAAP;AAYA,C;;ACrBD,IAAIK,iBAAO,GAAG,CAAd;AACO,SAASC,SAAT,GAA6B;AACnC,QAAMtuF,GAAG,GAAG,CAAC,EAAEquF,iBAAH,EAAYt9F,QAAZ,EAAZ;AACAgnF,aAAW,CAACwW,IAAZ,CAAiBvuF,GAAjB;AACA,SAAOA,GAAP;AACA;AAEM,SAASwuF,OAAT,CAAiBxuF,GAAjB,EAA8B9K,IAA9B,EAA4C;AAClD6iF,aAAW,CAAC32D,OAAZ,CAAoBlsB,IAApB,EAA0B8K,GAA1B;AACA,C;;ACTD;AACA;AAEO,eAAeyuF,oBAAf,CAAoC7xF,EAApC,EAAgD8xF,YAAhD,EAAiEC,aAAqB,GAAG,EAAzF,EAA6F;AACnG,MAAI,EAAC,MAAMC,WAAW,CAAChyF,EAAD,CAAlB,CAAJ,EAA4B;AAG5B,QAAMse,GAAG,GAAGziB,IAAI,CAACyiB,GAAL,EAAZ;;AACA,OAAK,MAAM,CAACte,EAAD,EAAKsU,IAAL,CAAX,IAAyB1gB,MAAM,CAAC0uE,OAAP,EAAe,MAAMwvB,YAAY,CAACj5E,MAAb,EAArB,EAAzB,EAAsE;AACrE,UAAM;AAAEo5E;AAAF,QAAiB39E,IAAI,IAAI,EAA/B;;AACA,QAAI,CAAC29E,UAAD,IAAgB3zE,GAAG,GAAG2zE,UAAP,GAJI5nB,GAAG,GAAG0nB,aAI7B,EAAyD;AACxDD,kBAAY,CAACrV,MAAb,CAAoBz8E,EAApB;AACA;AACD;AACD;AAEM,eAAegyF,WAAf,CAA2BhyF,EAA3B,EAAuCmqB,QAAgB,GAAGmgD,IAA1D,EAAgE;AACtE,QAAM,IAAIU,OAAJ,CAAYyD,GAAG,IAAI98D,UAAU,CAAC,MAAMkoE,mBAAmB,CAACpL,GAAD,CAA1B,EAAiC,KAAjC,CAA7B,CAAN;AACA,QAAMyjB,WAAW,GAAGC,uBAAO,CAAC/4E,IAAR,CAAc,cAAapZ,EAAG,EAA9B,EAAiC,CAAjC,CAApB;AACA,QAAMse,GAAG,GAAGziB,IAAI,CAACyiB,GAAL,EAAZ;AACA,MAAKA,GAAG,IAAG,MAAM4zE,WAAW,CAACn7F,GAAZ,EAAT,CAAJ,GAAkCozB,QAAtC,EAAgD,OAAO,KAAP;AAChD+nE,aAAW,CAAC79E,GAAZ,CAAgBiK,GAAhB;AACA,SAAO,IAAP;AACA,C;;ACvBM,MAAM8zE,cAAc,GAAG,CAC7B,KAD6B,EAE7B,SAF6B,EAG7B,QAH6B,EAI7B,UAJ6B,EAK7B,KAL6B,EAM7B,SAN6B,EAO7B,SAP6B,CAAvB;AAUA,SAASC,eAAT,CAAyB9gB,SAAzB,EAAqD;AAC3D,SAAO6gB,cAAc,CAACngB,IAAf,CAAoBqgB,aAAa,IAAIA,aAAa,KAAK/gB,SAAS,CAAC32E,WAAV,EAAvD,CAAP;AACA,C;;ACZM,SAAS23F,UAAT,CAAoB,GAAGC,IAAvB,EAA6C;AACnD,SAAOA,IAAI,CAACtvF,IAAL,CAAU1N,GAAG,IACnBA,GAAG,KAAKuD,SAAR,IAAqBvD,GAAG,KAAK,IAA7B,KAAsC,OAAOA,GAAP,KAAe,QAAf,IAA2B,CAAC+mC,KAAK,CAAC/mC,GAAD,CAAvE,CADM,CAAP;AAGA,C;;;;;;;;;ACHD;AACA;AACA;AACA;AAOA,MAAMi9F,eAOL,GAAG;AACHC,MAAI,EAAE,EADH;AAEHC,UAAQ,EAAE;AAFP,CAPJ;AAeA,MAAMC,aAML,GAAG;AACHC,SAAO,EAAE,EADN;AAEHrgF,SAAO,EAAE,EAFN;AAGHsgF,MAAI,EAAE,EAHH;AAIHvhB,WAAS,EAAE;AAJR,CANJ;;AAcA,MAAMwhB,WAAW,GAAGx8F,EAAE,IAAI;AAAE,MAAI;AAAE,WAAOA,EAAE,EAAT;AAAc,GAApB,CAAqB,OAAO6I,CAAP,EAAU;AAAEkT,WAAO,CAACjZ,KAAR,CAAc+F,CAAd;AAAmB;AAAE,CAAlF;;AAEA,MAAM4zF,WAAW,GAAG,CAACz7F,QAAD,EAAW07F,eAAX,EAA4B;AAAE9O,WAAF;AAAankF;AAAb,IAAoB,EAAhD,KAAuD;AAC1E,QAAMsjF,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAW4tB,eAAX,CAAd;;AACA,MAAI3P,KAAJ,EAAW;AAEV,UAAM4P,IAAI,GAAG,sBAAO,MAAMH,WAAW,CAACx7F,QAAD,CAAxB,CAAb;;AACA,QAAIyI,EAAJ,EAAQsjF,KAAK,CAACQ,KAAN,CAAYM,IAAZ,CAAiB/vE,GAAjB,CAAqBrU,EAArB,EAAyBkzF,IAAzB;AACR,KAAC/O,SAAS,GAAGb,KAAK,CAACQ,KAAN,CAAYK,SAAf,GAA2Bb,KAAK,CAACQ,KAAN,CAAY9rD,OAAjD,EAA0DhkC,IAA1D,CAA+Dk/F,IAA/D;AACA,QAAI/O,SAAS,IAAIb,KAAK,CAACQ,KAAN,CAAYhxE,SAA7B,EAAwCogF,IAAI;AAC5C,GAND,MAMO;AACNH,eAAW,CAACx7F,QAAD,CAAX;AACA;AACD,CAXD;;AAaA,SAAS47F,eAAT,CAAyBp+F,IAAzB,EAA+BszC,OAA/B,EAAwC;AACvC,OAAK,MAAM;AAAEhyC,YAAF;AAAYkB,YAAZ;AAAsBc,WAAtB;AAA+B+6F;AAA/B,GAAX,IAA0DX,eAAe,CAAC19F,IAAD,CAAzE,EAAiF;AAChF,UAAMyP,QAAQ,GAAGnO,QAAQ,IAAI,CAACgyC,OAAO,CAAChuC,OAAR,CAAgBhE,QAAhB,CAAb,GAChBwC,KAAK,CAACwsE,IAAN,CAAWh9B,OAAO,CAAC7nC,gBAAR,CAAyBnK,QAAzB,CAAX,CADgB,GAEhB,CAACgyC,OAAD,CAFD;;AAGA,SAAK,MAAMjpC,CAAX,IAAgBoF,QAAhB,EAA0B;AACzB,UAAI4uF,UAAU,CAACtmF,GAAX,CAAe1N,CAAf,CAAJ,EAAuB;AACvBg0F,gBAAU,CAAChmF,GAAX,CAAehO,CAAf;AACA4zF,iBAAW,CAAC,MAAMz7F,QAAQ,CAAC6H,CAAD,CAAf,EAAoBA,CAApB,EAAuB/G,OAAvB,CAAX;AACA;AACD;AACD;;AAED,SAASg7F,aAAT,CAAuBhrD,OAAvB,EAA6C;AAC5C,QAAMi7C,KAAK,GAAGT,WAAK,CAACM,WAAN,CAAkB96C,OAAlB,CAAd;AAEA,QAAMirD,qBAAqB,GAC1BhQ,KAAK,CAACgC,MAAN,MAAkBsN,aAAa,CAACE,IAAhC,IACAxP,KAAK,CAACmB,SAAN,MAAqBmO,aAAa,CAACC,OADnC,IAEAvP,KAAK,CAAC8B,SAAN,MAAqBwN,aAAa,CAACpgF,OAFnC,IAGA8wE,KAAK,CAAC+B,WAAN,MAAuBuN,aAAa,CAACrhB,SAHrC,IAIA,EALD;;AAOA,OAAK,MAAM;AAAEh6E,YAAF;AAAYc,WAAZ;AAAqB+6F;AAArB,GAAX,IAAgDE,qBAAhD,EAAuE;AACtE,QAAIF,UAAU,CAACtmF,GAAX,CAAew2E,KAAf,CAAJ,EAA2B;AAC3B8P,cAAU,CAAChmF,GAAX,CAAek2E,KAAf;AACA0P,eAAW,CAAC,MAAMz7F,QAAQ,CAAC+rF,KAAD,CAAf,EAAwBA,KAAK,CAACj7C,OAA9B,EAAuChwC,OAAvC,CAAX;AACA;;AAED,SAAOirF,KAAP;AACA;;AAEM,SAASiQ,cAAT,CAAwB/4E,KAAxB,EAAyDjjB,QAAzD,EAAyFc,OAAzF,EAAmH;AACzH,MAAI,CAACmiB,KAAL,EAAYA,KAAK,GAAG5mB,MAAM,CAAC+M,IAAP,CAAYiyF,aAAZ,CAAR;AACZ,QAAMpwB,KAAK,GAAG;AAAEjrE,YAAF;AAAYc,WAAZ;AAAqB+6F,cAAU,EAAE,IAAIrjB,OAAJ;AAAjC,GAAd;;AACA,OAAK,MAAMh7E,IAAX,IAAmBylB,KAAnB,EAA0Bo4E,aAAa,CAAC79F,IAAD,CAAb,CAAoBf,IAApB,CAAyBwuE,KAAzB;AAC1B;AAEM,SAASgxB,gBAAT,CAA0Bh5E,KAA1B,EAA4DnkB,QAA5D,EAA+EkB,QAA/E,EAAiHc,OAAjH,EAA2I;AACjJ,QAAMmqE,KAAK,GAAG;AAAEnsE,YAAF;AAAYkB,YAAZ;AAAsBc,WAAtB;AAA+B+6F,cAAU,EAAE,IAAIrjB,OAAJ;AAA3C,GAAd;;AACA,OAAK,MAAMh7E,IAAX,IAAmBylB,KAAnB,EAA0Bi4E,eAAe,CAAC19F,IAAD,CAAf,CAAsBf,IAAtB,CAA2BwuE,KAA3B;AAC1B;;AAID,MAAMixB,sBAAsB,GAAG,MAAM;AACpC,MAAI9sE,GAAW,GAAG1tB,IAAI,CAACmuB,IAAL,CAAUssE,MAAM,CAACC,WAAP,GAAqB,EAA/B,CAAlB;AACA,QAAMnlF,KAAK,GAAG,EAAd;AACA,MAAIjZ,CAAC,GAAG,CAAR;AACA,SAAO,MAAM+tF,KAAN,IAAe;AACrB,UAAMz3E,CAAC,GAAGtW,CAAC,EAAX;AAEA,UAAMq+F,UAAU,GAAGtQ,KAAK,CAACQ,KAAN,CAAYM,IAAZ,CAAiBrtF,GAAjB,CAAqB,QAArB,CAAnB;AACA,WAAO68F,UAAU,IAAIA,UAAU,EAA/B;;AACA,UAAM/tF,KAAK,GAAG2I,KAAK,CAAC3C,CAAD,CAAL,GAAW,MAAM;AAC9B,aAAO2C,KAAK,CAAC3C,CAAD,CAAZ;;AACA,UAAIy3E,KAAK,CAACQ,KAAN,CAAYhxE,SAAZ,IAAyBwwE,KAAK,CAACS,SAAN,EAA7B,EAAgD;AAC/CT,aAAK,CAACU,QAAN;AACA,OAFD,MAEO,IAAIn4E,CAAC,GAAG8a,GAAR,EAAa;AACnBA,WAAG;AACH,cAAMktE,SAAS,GAAGrlF,KAAK,CAACtL,IAAN,CAAW4wF,OAAX,CAAlB;AACA,YAAID,SAAJ,EAAeA,SAAS;AACxB;AACD,KATD;;AAUA,QAAIhoF,CAAC,GAAG8a,GAAR,EAAa9gB,KAAK;AAClB,GAhBD;AAiBA,CArBD;;AAuBO,SAASkuF,YAAT,CAAsBrB,IAAtB,EAAyCsB,qBAA+B,GAAGP,sBAAsB,EAAjG,EAAqG;AAC3G,QAAM/Q,MAAM,GAAGH,SAAS,CAAC,CACxBmQ,IAAI,CAACr4F,OAAL,CAAawoF,WAAK,CAACC,aAAnB,KAAqC4P,IADb,EAExB,GAAGA,IAAI,CAAClyF,gBAAL,CAAsBqiF,WAAK,CAACC,aAA5B,CAFqB,CAAD,EAGrB1jF,CAAC,IAAIA,CAAC,YAAY84D,WAAb,GAA2B,CAACm7B,aAAa,CAACj0F,CAAD,CAAd,CAA3B,GAAgDrG,SAHhC,CAAxB;AAKAo6F,iBAAe,CAAC,MAAD,EAAST,IAAT,CAAf;AAEAhQ,QAAM,CAACxpB,OAAP,CAAe86B,qBAAf;AACA;AAED,MAAMC,oBAAoB,GAAG,oBAA7B;AAEO,SAASC,uBAAT,GAAmC;AAEzCX,gBAAc,CAAC,CAAC,MAAD,CAAD,EAAWjQ,KAAK,IAAI;AACjC,UAAM5/D,SAAS,GAAG4/D,KAAK,CAAC9gB,KAAN,CAAYwJ,aAAZ,CAA0B,aAA1B,CAAlB;AACA,QAAI,CAACtoD,SAAL,EAAgB;AAChBmoD,oBAAgB,CAACnoD,SAAD,EAAY,MAAZ,EAAoB,MAAM;AACzC,YAAMnM,IAAI,GAAG+rE,KAAK,CAAC0C,WAAN,EAAb;AACA,UAAIzuE,IAAJ,EAAU47E,eAAe,CAAC,UAAD,EAAa57E,IAAb,CAAf;AACV,KAHe,CAAhB;AAIA,GAPa,CAAd;AASA,QAAMwrE,aAAa,GAAGF,WAAK,CAACE,aAAN,CAAoB1vF,QAAQ,CAACkkB,IAA7B,CAAtB;;AAEA,QAAM48E,4BAA4B,GAAGV,sBAAsB,EAA3D;;AACA,OAAK,MAAMr0F,CAAX,IAAgB2jF,aAAhB,EAA+BgR,YAAY,CAAC30F,CAAD,EAAI+0F,4BAAJ,CAAZ;;AAE/B,MAAIr8F,IAAI,GAAGirF,aAAa,CAACjvF,KAAd,CAAoB,CAAC,CAArB,EAAwB,CAAxB,CAAX;;AAEA,MAAIgE,IAAJ,EAAU;AACT,OAAG;AAAEA,UAAI,CAAC+7E,SAAL,CAAezmE,GAAf,CAAmB6mF,oBAAnB;AAA2C,KAAhD,QAAwD,CAACn8F,IAAI,GAAGA,IAAI,CAACorF,aAAb,KAA+BprF,IAAI,KAAKzE,QAAQ,CAACkkB,IAAzG;AACA;AACD;AAEM,SAAS68E,sBAAT,GAAkC;AACxC,OAAK,MAAMrpB,GAAX,IAAkB13E,QAAQ,CAACmN,gBAAT,CAA2B,IAAGyzF,oBAAqB,EAAnD,CAAlB,EAAyElpB,GAAG,CAAC8I,SAAJ,CAAchlE,MAAd,CAAqBolF,oBAArB;;AAGzE,QAAMI,EAAE,GAAG,IAAI3H,oBAAJ,CAAyBpqB,OAAO,IAAI;AAC9C,UAAMgyB,YAAY,GAAG/R,SAAS,CAACjgB,OAAD,EAAU,CAAC;AAAE5pE,YAAF;AAAUi0F;AAAV,KAAD,KAAgCA,cAAc,IAAI,CAAC9J,WAAK,CAACxd,IAAN,CAAW3sE,MAAX,CAAD,CAA5D,CAA9B;AACA,QAAI,CAAC47F,YAAY,CAACz9F,MAAlB,EAA0B;AAE1B,UAAMksF,aAAa,GAAGF,WAAK,CAACE,aAAN,EAAtB;;AACA,UAAML,MAAM,GAAG,iBAAS4R,YAAT,EAAuBhR,KAAK,IAAIP,aAAa,CAAC9uF,OAAd,CAAsBqvF,KAAK,CAACj7C,OAA5B,CAAhC,CAAf;;AAGA,SAAK,MAAMi7C,KAAX,IAAoBZ,MAApB,EAA4BY,KAAK,CAACU,QAAN;;AAG5BnB,eAAK,CAACU,aAAN,CAAoBb,MAAM,CAAC5uF,KAAP,CAAa,CAAC,CAAd,EAAiB,CAAjB,CAApB,EAAyC4uF,MAAM,CAAC,CAAD,CAA/C,EAAoD,EAApD,EAAwD,EAAxD,EAA4DuR,oBAA5D;AACA,GAZU,EAYR;AAAEM,cAAU,EAAE;AAAd,GAZQ,CAAX;AAcAhB,gBAAc,CAAC,IAAD,EAAO,MAAMjQ,KAAN,IAAe;AAEnC,UAAMhX,aAAa,CAACj5E,QAAQ,CAACkkB,IAAV,EAAgB+rE,KAAK,CAACj7C,OAAtB,CAAnB;AACAgsD,MAAE,CAAC1oB,OAAH,CAAW2X,KAAK,CAACj7C,OAAjB;AACA2qD,eAAW,CAAC,MAAM;AACjBqB,QAAE,CAACG,SAAH,CAAalR,KAAK,CAACj7C,OAAnB;AACAi7C,WAAK,CAACQ,KAAN,CAAYhxE,SAAZ,GAAwB,IAAxB;AACA,KAHU,EAGRwwE,KAAK,CAACj7C,OAHE,CAAX;AAIA,GARa,EAQX;AAAE87C,aAAS,EAAE;AAAb,GARW,CAAd;;AAWA,MAAI7T,UAAU,CAAC,UAAD,CAAd,EAA4B;AAC3B,UAAMmkB,WAAW,GAAGphG,QAAQ,CAACkkB,IAAT,CAAcy0D,aAAd,CAA4B,cAA5B,CAApB;AACA,QAAIyoB,WAAJ,EAAiB/nB,yBAAyB,CAAC+nB,WAAD,EAAc,QAAd,EAAwBV,YAAxB,EAAsC,IAAtC,CAAzB;AACjB,GAHD,MAGO;AACN,UAAMW,SAAS,GAAG,kBAAU3pB,GAAG,IAAI;AAAE,UAAIA,GAAJ,EAASe,sBAAsB,CAACf,GAAD,EAAM,QAAN,EAAgBgpB,YAAhB,CAAtB;AAAsD,KAAlF,CAAlB;;AACAR,kBAAc,CAAC,IAAD,EAAOjQ,KAAK,IAAI;AAAEoR,eAAS,CAACpR,KAAK,CAACj7C,OAAN,CAAc66C,aAAf,CAAT;AAAyC,KAA3D,CAAd;AACA;;AAED6Q,cAAY,CAAC1gG,QAAQ,CAACkkB,IAAV,CAAZ;AACA,C;;ACrMM,MAAMo9E,mBAAmB,GAAG,0BAA5B,C;;ACDP;AAWA,MAAM3W,sBAAS,GAAG;AACjBzM,WAAS,EAAE,EADM;AAEjBqjB,YAAU,EAAE,EAFK;AAGjB9B,MAAI,EAAE;AAHW,CAAlB;AAeO,SAAS+B,oBAAT,CAA8B9/F,IAA9B,EAA6DwC,QAA7D,EAAuE;AAC7E,MAAI,CAACymF,sBAAS,CAACjpF,IAAD,CAAd,EAAsB;AACrBipF,0BAAS,CAACjpF,IAAD,CAAT,GAAkB,EAAlB;AACA;;AACDipF,wBAAS,CAACjpF,IAAD,CAAT,CAAgBf,IAAhB,CAAqBuD,QAArB;AACA;;AAGD,SAASu9F,iBAAT,CAA2Bn6E,KAA3B,EAAkC;AACjC,QAAM;AAAEjiB,UAAF;AAAUmmB,UAAM,EAAE;AAAE9pB,UAAF;AAAQuf;AAAR;AAAlB,MAAqCqG,KAA3C;AACA,QAAMtK,GAAG,GAAG2tE,sBAAS,CAACjpF,IAAD,CAArB;;AACA,MAAI,CAACsb,GAAL,EAAU;AAIT;AACA;;AAED,MAAI0kF,SAAS,GAAI,GAAEhgG,IAAK,GAAxB;;AACA,UAAQA,IAAR;AACC,SAAK,YAAL;AACCggG,eAAS,IAAIzgF,IAAI,CAACw+E,IAAL,CAAU9yF,EAAvB;AACA;;AACD,SAAK,eAAL;AACC+0F,eAAS,IAAIzgF,IAAI,CAACu+E,OAAL,CAAa7yF,EAA1B;AACA;;AACD,SAAK,eAAL;AACC+0F,eAAS,IAAK,GAAEzgF,IAAI,CAAC0gF,SAAU,IAAG1gF,IAAI,CAAC2gF,IAAL,CAAUj1F,EAAG,EAA/C;AACA;;AACD,SAAK,WAAL;AACA,SAAK,MAAL;AACA,SAAK,cAAL;AACA;AACC+0F,eAAS,IAAIzgF,IAAI,CAACtU,EAAlB;AACA;AAfF;;AAkBA,QAAM48E,MAAM,GAAGlkF,MAAM,CAACM,OAAP,IAAkBN,MAAM,CAACM,OAAP,CAAeiF,CAAf,CAAiB+B,EAAjB,KAAwB+0F,SAA1C,GACd,CAACr8F,MAAM,CAACM,OAAP,CAAeiF,CAAf,CAAiB2+E,MAAjB,IAA2B,CAA5B,IAAiC,CADnB,GAEd,CAFD;AAIA,QAAM5jF,OAAO,GAAG,EACf,GAAGsb,IADY;AAEfrW,KAAC,EAAE;AACF+B,QAAE,EAAE+0F,SADF;AAEFhgG,UAFE;AAGF6nF;AAHE;AAFY,GAAhB;AASAlkF,QAAM,CAACM,OAAP,GAAiBA,OAAjB;AAEA,QAAMk8F,WAAW,GAAGx8F,MAAM,CAACszE,aAAP,CAAsB,eAAc2oB,mBAAoB,IAAxD,CAApB;;AACA,OAAK,MAAMp+F,EAAX,IAAiB8Z,GAAjB,EAAsB;AACrB,QAAI;AACH9Z,QAAE,CAAC2+F,WAAD,EAAcl8F,OAAd,CAAF;AACA,KAFD,CAEE,OAAOoG,CAAP,EAAU;AACXkT,aAAO,CAAC68C,GAAR,CAAY/vD,CAAZ;AACA;AACD;AACD;;AAEM,SAAS+1F,cAAT,GAA0B;AAChC9hG,UAAQ,CAACqP,gBAAT,CAA0B,QAA1B,EAAqCoyF,iBAArC,EAA8D,IAA9D;AACA,QAAMzF,IAAI,GAAGh8F,QAAQ,CAACqC,aAAT,CAAuB,MAAvB,CAAb;AACA25F,MAAI,CAAC/2F,IAAL,GAAY,gBAAZ;AACA+2F,MAAI,CAACxhF,OAAL,GAAe8mF,mBAAf;AACAthG,UAAQ,CAACyC,IAAT,CAAcC,WAAd,CAA0Bs5F,IAA1B;AACAA,MAAI,CAACziB,aAAL,CAAmB,IAAIwoB,WAAJ,CAAgB,cAAhB,CAAnB;AACA,C;;;;;;;AC5FD,MAAM9lE,OAAO,GAAG,IAAIq9C,GAAJ,EAAhB;AAEO,MAAM0oB,UAAU,GAAG,MAAM;AAC/BhiG,UAAQ,CAACkkB,IAAT,CAAcs8D,SAAd,CAAwBzmE,GAAxB,CAA4B,GAAG,qBAAavU,KAAK,CAACwsE,IAAN,CAAW/1C,OAAX,CAAb,EAAkCz2B,KAAK,CAACwsE,IAAN,CAAWhyE,QAAQ,CAACkkB,IAAT,CAAcs8D,SAAzB,CAAlC,CAA/B;AACA,CAFM;AAIA,SAASzmE,eAAT,CAAa,GAAGkoF,MAAhB,EAAkC;AACxC,OAAK,MAAMC,GAAX,IAAkBD,MAAlB,EAA0BhmE,OAAO,CAACliB,GAAR,CAAYmoF,GAAZ;;AAC1B,MAAIliG,QAAQ,CAACgP,eAAb,EAA8BhP,QAAQ,CAACgP,eAAT,CAAyBwxE,SAAzB,CAAmCzmE,GAAnC,CAAuC,GAAGkoF,MAA1C;AAC9B,MAAIjiG,QAAQ,CAACkkB,IAAb,EAAmBlkB,QAAQ,CAACkkB,IAAT,CAAcs8D,SAAd,CAAwBzmE,GAAxB,CAA4B,GAAGkoF,MAA/B;AACnB;AAEM,SAASzmF,kBAAT,CAAgB,GAAGymF,MAAnB,EAAqC;AAC3C,OAAK,MAAMC,GAAX,IAAkBD,MAAlB,EAA0BhmE,OAAO,CAACmtD,MAAR,CAAe8Y,GAAf;;AAC1B,MAAIliG,QAAQ,CAACgP,eAAb,EAA8BhP,QAAQ,CAACgP,eAAT,CAAyBwxE,SAAzB,CAAmChlE,MAAnC,CAA0C,GAAGymF,MAA7C;AAC9B,MAAIjiG,QAAQ,CAACkkB,IAAb,EAAmBlkB,QAAQ,CAACkkB,IAAT,CAAcs8D,SAAd,CAAwBhlE,MAAxB,CAA+B,GAAGymF,MAAlC;AACnB;AAEM,SAAS19E,kBAAT,CAAgB3H,KAAhB,EAAgC,GAAGqlF,MAAnC,EAAqD;AAC3D,MAAIrlF,KAAJ,EAAW7C,eAAG,CAAC,GAAGkoF,MAAJ,CAAH,CAAX,KACKzmF,kBAAM,CAAC,GAAGymF,MAAJ,CAAN;AACL,C;;ACND,IAAIE,mBAAJ;;AACA,MAAMC,YAAY,GAAIC,KAAD,IAAyC;AAC7D,QAAMphF,IAAI,GAAGohF,KAAK,CAACxyF,IAAN,CAAWoR,IAAI,IAAI;AAC/BkhF,uBAAmB,GAAGlhF,IAAI,CAACqhF,aAAL,IAAsBrhF,IAAI,CAACgrB,QAAjD;AACA,WAAOhrB,IAAI,CAACR,MAAL,GAAcQ,IAAI,CAACR,MAAL,CAAYihC,QAAZ,CAAqBzgC,IAAI,CAACg2C,SAA1B,CAAd,GAAqDh2C,IAAI,CAACC,IAAjE;AACA,GAHY,CAAb;AAKA,SAAOD,IAAI,GAAGA,IAAI,CAACgrB,QAAR,GAAmBvmC,SAA9B;AACA,CAPD;;AASA,MAAM68F,aAAa,GAAGC,UAAU,IAAI;AACnC,QAAM3oF,KAAK,GAAG2oF,UAAU,CAAC5hG,OAAX,CAAmBuhG,mBAAnB,CAAd;;AACA,MAAItoF,KAAK,KAAK,CAAC,CAAf,EAAkB;AACjB;AACA;;AACD,SAAOwX,UAAU,CAACmxE,UAAU,CAACC,SAAX,CAAqB5oF,KAAK,GAAGsoF,mBAAmB,CAAC3+F,MAA5B,GAAqC,CAA1D,CAAD,CAAjB;AACA,CAND;;AAQA,MAAMk/F,YAAY,GAAG,OAAOj+B,SAAP,KAAqB,WAA1C;AAEO,MAAM6E,OAAO,GAAGo5B,YAAY,GAClCN,YAAY,CAACO,WAAW,EAAZ,CAAZ,IAA+B,oBADG,GAElC,wCAFM;AAIA,MAAM7/F,OAAO,GAAG4/F,YAAY,GAClCH,aAAa,CAAC99B,SAAS,CAACC,SAAX,CAAb,IAAsC69B,aAAa,CAAC99B,SAAS,CAACm+B,UAAX,CAAnD,IAA6E,oBAD3C,GAElC,wCAFM;AAIA,MAAMC,EAAE,GAAGH,YAAY,GAC7BN,YAAY,CAACU,MAAM,EAAP,CAAZ,IAA0B,eADG,GAE7B,mCAFM;;AAIP,SAASH,WAAT,GAAuB;AACtB,SAAO,CACN;AACCliF,UAAM,EAAEgkD,SAAS,CAACC,SADnB;AAECzN,aAAS,EAAE,MAFZ;AAGChrB,YAAQ,EAAE;AAHX,GADM,EAKH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACC,SADhB;AAEFzN,aAAS,EAAE,MAFT;AAGFhrB,YAAQ,EAAE;AAHR,GALG,EASH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACC,SADhB;AAEFzN,aAAS,EAAE,KAFT;AAGFhrB,YAAQ,EAAE;AAHR,GATG,EAaH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACC,SADhB;AAEFzN,aAAS,EAAE,QAFT;AAGFhrB,YAAQ,EAAE;AAHR,GAbG,EAiBH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACC,SADhB;AAEFzN,aAAS,EAAE,SAFT;AAGFqrC,iBAAa,EAAE,UAHb;AAIFr2D,YAAQ,EAAE;AAJR,GAjBG,EAsBH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACs+B,MADhB;AAEF9rC,aAAS,EAAE,OAFT;AAGFhrB,YAAQ,EAAE,QAHR;AAIFq2D,iBAAa,EAAE;AAJb,GAtBG,EA2BH;AACFphF,QAAI,EAAE/gB,MAAM,CAACqkE,KADX;AAEFv4B,YAAQ,EAAE,OAFR;AAGFq2D,iBAAa,EAAE;AAHb,GA3BG,EA+BH;AACF7hF,UAAM,EAAEgkD,SAAS,CAACs+B,MADhB;AAEF9rC,aAAS,EAAE,MAFT;AAGFhrB,YAAQ,EAAE;AAHR,GA/BG,EAmCH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACs+B,MADhB;AAEF9rC,aAAS,EAAE,KAFT;AAGFhrB,YAAQ,EAAE;AAHR,GAnCG,EAuCH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACC,SADhB;AAEFzN,aAAS,EAAE,SAFT;AAGFhrB,YAAQ,EAAE;AAHR,GAvCG,EA2CH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACs+B,MADhB;AAEF9rC,aAAS,EAAE,QAFT;AAGFhrB,YAAQ,EAAE;AAHR,GA3CG,EA+CH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACC,SADhB;AAEFzN,aAAS,EAAE,UAFT;AAGFhrB,YAAQ,EAAE;AAHR,GA/CG,EAmDH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACC,SADhB;AAEFzN,aAAS,EAAE,MAFT;AAGFhrB,YAAQ,EAAE,UAHR;AAIFq2D,iBAAa,EAAE;AAJb,GAnDG,EAwDH;AACF7hF,UAAM,EAAEgkD,SAAS,CAACC,SADhB;AAEFzN,aAAS,EAAE,OAFT;AAGFhrB,YAAQ,EAAE,SAHR;AAIFq2D,iBAAa,EAAE;AAJb,GAxDG,EA6DH;AAEF7hF,UAAM,EAAEgkD,SAAS,CAACC,SAFhB;AAGFzN,aAAS,EAAE,SAHT;AAIFhrB,YAAQ,EAAE,UAJR;AAKFq2D,iBAAa,EAAE;AALb,GA7DG,CAAP;AAqEA;;AAED,SAASQ,MAAT,GAAkB;AACjB,SAAO,CACN;AACCriF,UAAM,EAAEgkD,SAAS,CAACu+B,QADnB;AAEC/rC,aAAS,EAAE,KAFZ;AAGChrB,YAAQ,EAAE;AAHX,GADM,EAKH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACu+B,QADhB;AAEF/rC,aAAS,EAAE,KAFT;AAGFhrB,YAAQ,EAAE;AAHR,GALG,EASH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACC,SADhB;AAEFzN,aAAS,EAAE,QAFT;AAGFhrB,YAAQ,EAAE;AAHR,GATG,EAaH;AACFxrB,UAAM,EAAEgkD,SAAS,CAACu+B,QADhB;AAEF/rC,aAAS,EAAE,OAFT;AAGFhrB,YAAQ,EAAE;AAHR,GAbG,CAAP;AAmBA,C;;AC7ID;AAEA;AACA;AACA;AAEO,SAASg3D,YAAT,CACN5X,OAAqC,GAAG,MAAM,CAAE,CAD1C,EAEN6X,OAFM,EAGNC,OAAiB,GAAG,KAHd,EAINC,MAAe,GAAGnc,IAAI,CAAC,UAAD,CAJhB,EAKNoc,OAAgB,GAAGpc,IAAI,CAAC,WAAD,CALjB,EAMNqc,OAAiB,GAAG,KANd,EAONC,SAAmB,GAAG,KAPhB,EAQL;AACD,QAAMh/E,MAAM,GAAG9D,WAAY;SACnByiF,OAAO,IAAIziF,KAAa,OAAMyiF,OAAQ,YAAY,wBAAuBC,OAAO,IAAI,SAAU;;6BAE1EI,SAAS,IAAI,UAAW;MAC/CH,MAAM,IAAI3iF,KAAa,sBAAqB2iF,MAAO,GAAG;MACtDC,OAAO,IAAI5iF,KAAa,uBAAsB4iF,OAAQ,GAAG;;gBAE/CH,OAAQ,WAAUA,OAAQ,qBAAoBC,OAAO,IAAI,SAAU;MAC7EG,OAAO,IAAI7iF,KAAa,oBAAoB;;;EARjD;AAaA8D,QAAM,CAAClV,gBAAP,CAAwB,OAAxB,EAAiC,MAAM;AACtC,UAAMqF,QAAQ,GAAG6iE,QAAQ,CAAChzD,MAAM,CAACo0D,aAAP,CAAqB,sBAArB,CAAD,EAA+CsJ,gBAA/C,CAAzB;AACA,UAAMuhB,QAAQ,GAAG,CAAC9uF,QAAQ,CAACJ,OAA3B;AACAI,YAAQ,CAACJ,OAAT,GAAmBkvF,QAAnB;AACAj/E,UAAM,CAACi8D,SAAP,CAAiBj8D,MAAjB,CAAwB,SAAxB,EAAmCi/E,QAAnC;AACAnY,WAAO,CAACmY,QAAD,CAAP;AACA,GAND;AAQA,SAAOj/E,MAAP;AACA;AAEM,SAASihD,IAAT,CAAcz5C,QAAd,EAAgC+tB,OAAgB,GAAG,MAAnD,EAA2DvqC,SAAkB,GAAG,EAAhF,EAAoF6jF,KAAc,GAAG,EAArG,EAAyG;AAC/G,QAAM5tB,IAAI,GAAGxlE,QAAQ,CAACqC,aAAT,CAAuBy3C,OAAvB,CAAb;AACA0rB,MAAI,CAACj2D,SAAL,GAAiBA,SAAjB;AACAi2D,MAAI,CAACgb,SAAL,CAAezmE,GAAf,CAAmB,UAAnB;AACAyrD,MAAI,CAAC5zD,WAAL,GAAmB5G,MAAM,CAACC,YAAP,CAAoB8gB,QAApB,CAAnB;AACAy5C,MAAI,CAAChjE,YAAL,CAAkB,OAAlB,EAA2B4wF,KAA3B;AACA,SAAO5tB,IAAP;AACA;AAEM,SAASi+B,mBAAT,CAAkBjY,KAAlB,EAAkCtnF,QAAlC,EAA4F;AAElGsnF,OAAK,GAAG,GAAG9qF,MAAH,CAAU8qF,KAAV,CAAR;AAEA,QAAMkY,WAAW,GAAG,EAApB;AACAA,aAAW,CAAC/iG,IAAZ,CAAiB,SAAjB;;AAEA,OAAK,MAAMgjG,IAAX,IAAmBnY,KAAK,CAACrnF,GAAN,CAAUD,QAAV,CAAnB,EAAwC;AACvC,QAAI,OAAOy/F,IAAP,KAAgB,QAApB,EAA8B;AAC7BD,iBAAW,CAAC/iG,IAAZ,CAAiBgjG,IAAjB;AACA,KAFD,MAEO,IAAIA,IAAJ,EAAU;AAChBD,iBAAW,CAAC/iG,IAAZ,CAAiB,GAAGgjG,IAApB;AACA;AACD;;AAEDD,aAAW,CAAC/iG,IAAZ,CAAiB,UAAjB;AAEA,SAAO+iG,WAAW,CAACz2F,IAAZ,CAAiB,IAAjB,CAAP;AACA;AAEM,SAAS4qF,yBAAT,CAAqB;AAAEv1F,MAAF;AAAQshG,cAAR;AAAsBr0F,WAAtB;AAAiC6jF,OAAjC;AAAwC9+E,SAAxC;AAAiDyjF,UAAjD;AAA2DllB;AAA3D,CAArB,EAQU;AAChB,QAAM79B,OAAO,GAAGv0B,WAAY;kCACKnM,OAAO,IAAI,UAAW,IAAG/E,SAAU;;MAE/D6jF,KAAK,IAAI3yE,KAAa,UAAS2yE,KAAM,GAAG;MACxCwQ,YAAY,IAAInjF,KAAa,iBAAgBmjF,YAAa,GAAG;MAC7DthG,IAAK;;EALV;AASAs3F,YAAU,CAAC5kD,OAAD,EAAU;AAAE3kB,aAAS,EAAE,SAAb;AAAwBwiD;AAAxB,GAAV,CAAV;AAEA,QAAM3pE,CAAC,GAAG8rC,OAAO,CAAC2jC,aAAR,CAAsB,GAAtB,CAAV;AACAzvE,GAAC,CAACmG,gBAAF,CAAmB,OAAnB,EAA4B,MAAM;AACjCiF,WAAO,GAAG,CAACA,OAAX;AACA0gC,WAAO,CAACwrC,SAAR,CAAkBj8D,MAAlB,CAAyB,UAAzB,EAAqCjQ,OAArC;AACAyjF,YAAQ,CAACzjF,OAAD,CAAR;AACA,GAJD;AAMA,SAAOpL,CAAP;AACA;AAEM,SAAS26F,iBAAT,CAA2BvhG,IAA3B,EAAyC8wF,KAAzC,EAAwD0Q,QAAxD,EAAiF5/F,QAAjF,EAA2G;AACjH,QAAM8wC,OAAO,GAAGh1C,QAAQ,CAACqC,aAAT,CAAuB,MAAvB,CAAhB;AACA2yC,SAAO,CAACzlC,SAAR,GAAoB,yBAApB;AACAylC,SAAO,CAACo+C,KAAR,GAAgBA,KAAhB;AAEA,MAAIx2E,KAAJ;;AAEA,QAAMmnF,OAAO,GAAGC,MAAM,IAAI;AACzB,QAAIpnF,KAAK,KAAKonF,MAAd,EAAsB;AACtBpnF,SAAK,GAAGonF,MAAR;;AACA,QAAIpnF,KAAJ,EAAW;AACVo4B,aAAO,CAACpjC,WAAR,GAAuB,IAAGtP,IAAK,EAA/B;AACA0yC,aAAO,CAACwrC,SAAR,CAAkBzmE,GAAlB,CAAsB,QAAtB;AACA,KAHD,MAGO;AACNi7B,aAAO,CAACpjC,WAAR,GAAuB,IAAGtP,IAAK,EAA/B;AACA0yC,aAAO,CAACwrC,SAAR,CAAkBhlE,MAAlB,CAAyB,QAAzB;AACA;AACD,GAVD;;AAYAw5B,SAAO,CAAC3lC,gBAAR,CAAyB,OAAzB,EAAkC,MAAM;AACvCnL,YAAQ,CAAC,CAAC0Y,KAAF,CAAR;AACAmnF,WAAO,CAAC,CAACnnF,KAAF,CAAP;AACA,GAHD;AAKAo4B,SAAO,CAAC3lC,gBAAR,CAAyB,SAAzB,EAAoC,MAAM;AAAE00F,WAAO,CAACD,QAAQ,EAAT,CAAP;AAAsB,GAAlE;AAEAC,SAAO,CAACD,QAAQ,EAAT,CAAP;AAEA,SAAO9uD,OAAP;AACA,C;;AC/HD;AACA;AACA;AAEO,MAAM7P,UAAI,GAAGkkD,KAAK,CAAC,CAAC7uE,OAAD,EAAgC;AAAE6Q,YAAU,GAAG;AAAf,IAAqD,EAArF,KAA2G,IAAIssD,OAAJ,CAAY,CAACz7D,OAAD,EAAUC,MAAV,KAAqB;AACrK,QAAM8nF,OAAO,GAAGxjF,WAAY,2CAA5B;AACA,QAAM4P,SAAS,GAAG5P,WAAY,gCAA9B;AACA4P,WAAS,CAACnB,MAAV,CAAiB1U,OAAO,YAAYqqD,WAAnB,GAAiCrqD,OAAjC,GAA2CiG,WAAY,QAAOA,IAAA,CAAYjG,OAAZ,CAAqB,QAApG;AACAxa,UAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqB+0E,OAArB,EAA8B5zE,SAA9B;;AAEA,WAAS6zE,OAAT,GAAmB;AAClBhoF,WAAO;AACPioF,SAAK;AACL;;AAED,WAAS34D,MAAT,GAAkB;AACjBrvB,UAAM,CAAC,IAAIjc,KAAJ,CAAU,uBAAV,CAAD,CAAN;AACAikG,SAAK;AACL;;AAED,WAASA,KAAT,GAAiB;AAChBnkG,YAAQ,CAACkkB,IAAT,CAAcxE,mBAAd,CAAkC,OAAlC,EAA2C0kF,eAA3C;AACA/zE,aAAS,CAAC7U,MAAV;AACAyoF,WAAO,CAACzoF,MAAR;AACA;;AAED,WAAS4oF,eAAT,CAAyBr4F,CAAzB,EAA2C;AAC1C,QAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACI,MAAzB,EAAiC;AAChC,UAAIxvE,UAAJ,EAAgBmgB,MAAM,GAAtB,KACK04D,OAAO;AACZ;AACD;;AAEDlkG,UAAQ,CAACkkB,IAAT,CAAc7U,gBAAd,CAA+B,OAA/B,EAAwC+0F,eAAxC;;AAEA,MAAI/4E,UAAJ,EAAgB;AACfgF,aAAS,CAACnB,MAAV,CACCm1E,UAAU,CAAC,SAAD,EAAY,cAAZ,EAA4BH,OAA5B,CADX,EAECG,UAAU,CAAC,QAAD,EAAW,cAAX,EAA2B74D,MAA3B,EAAmC,IAAnC,CAFX;AAIA,GALD,MAKO;AACNnb,aAAS,CAACnB,MAAV,CAAiBm1E,UAAU,CAAC,IAAD,EAAO3+F,SAAP,EAAkBw+F,OAAlB,EAA2B,IAA3B,CAA3B;AACA;AACD,CAvCoI,CAA5G,CAAlB;AAyCA,SAASG,UAAT,CAAoB/hG,IAApB,EAAkC4/F,GAAlC,EAAgD7W,OAAhD,EAAsEv+D,KAAtE,EAAuF;AAC7F,QAAMw3E,GAAG,GAAGtkG,QAAQ,CAACqC,aAAT,CAAuB,OAAvB,CAAZ;AACAiiG,KAAG,CAAC9hG,YAAJ,CAAiB,MAAjB,EAAyB,QAAzB;AACA8hG,KAAG,CAAC9hG,YAAJ,CAAiB,OAAjB,EAA0BF,IAA1B;AACA,MAAI+oF,OAAJ,EAAaiZ,GAAG,CAACj1F,gBAAJ,CAAqB,OAArB,EAA8Bg8E,OAA9B;AACb,MAAI6W,GAAJ,EAASoC,GAAG,CAAC9jB,SAAJ,CAAczmE,GAAd,CAAkBmoF,GAAlB;AACT,MAAIp1E,KAAJ,EAAW+J,qBAAqB,CAAC,MAAM;AAAEytE,OAAG,CAACx3E,KAAJ;AAAc,GAAvB,CAArB;AACX,SAAOw3E,GAAP;AACA,C;;;;;;;;;;ACrDM,MAAMC,uBAAuB,GAAG,uBAAhC,C;;;;;ACCP;AAEA;AAUO,IAAIxjE,qBAAJ;AACP,IAAIyjE,gBAAJ;AACA,IAAI5zB,sBAAJ;AASA,MAAMyS,SAAS,GAAG;AAAEohB,WAAS,EAAE,EAAb;AAAiBC,aAAW,EAAE,EAA9B;AAAkCC,MAAI,EAAE;AAAxC,CAAlB;AAEO,SAAShhB,yBAAT,CACNz/E,QADM,EAENsa,IAA6B,GAAG,MAF1B,EAGNomF,QAAgB,GAAG,CAHb,EAIC;AACP1gG,UAAQ,CAAC0gG,QAAT,GAAoBA,QAApB;AACAvhB,WAAS,CAAC7kE,IAAD,CAAT,CAAgB7d,IAAhB,CAAqBuD,QAArB;AACAm/E,WAAS,CAAC7kE,IAAD,CAAT,CAAgB3Z,IAAhB,CAAqB,CAACqE,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAAC07F,QAAF,GAAaz7F,CAAC,CAACy7F,QAA9C;AACA;;AAED,MAAMC,YAAY,GAAG,CAAC,MAAM;AAC3B,WAASC,YAAT,CAAsBzhB,SAAtB,EAAiC0hB,IAAjC,EAAuC3hF,GAAvC,EAA4CiW,GAA5C,EAAiD;AAChD,SAAK,MAAMoqD,QAAX,IAAuBJ,SAAvB,EAAkC,IAAI;AAAEI,cAAQ,CAACshB,IAAD,EAAO3hF,GAAP,EAAYiW,GAAZ,CAAR;AAA2B,KAAjC,CAAkC,OAAOttB,CAAP,EAAU;AAAEkT,aAAO,CAACjZ,KAAR,CAAc+F,CAAd;AAAmB;AACnG;;AAED,WAASyvC,QAAT,CAAkBwpD,SAAlB,EAA6B3hB,SAA7B,EAAwC;AACvC,QAAI4hB,MAAJ;AAEA,UAAMC,SAAS,GAAGF,SAAS,CAAC,CAACD,IAAD,EAAc3hF,GAAd,EAA2BiW,GAA3B,KAA+D;AAC1FyrE,kBAAY,CAACzhB,SAAD,EAAY0hB,IAAZ,EAAkBE,MAAlB,EAA0B5rE,GAA1B,CAAZ;AACA4rE,YAAM,GAAG,IAAT;AACA,KAH0B,CAA3B;AAKA,WAAO,CAACF,IAAD,EAAO3hF,GAAP,EAAYiW,GAAZ,KAAoB;AAC1B,UAAI,CAAC4rE,MAAL,EAAaA,MAAM,GAAG7hF,GAAT;AACb8hF,eAAS,CAACH,IAAD,EAAO3hF,GAAP,EAAYiW,GAAZ,CAAT;AACA,KAHD;AAIA;;AAED,QAAM8rE,cAAc,GAAG3pD,QAAQ,CAACqsC,aAAD,EAAgBxE,SAAS,CAACqhB,WAA1B,CAA/B;AACA,QAAMU,OAAO,GAAG5pD,QAAQ,CAACmuC,YAAD,EAAetG,SAAS,CAACshB,IAAzB,CAAxB;AAEA,SAAO,CAACI,IAAD,EAAO3hF,GAAP,EAAYiW,GAAZ,KAAoB;AAC1B,QAAIgqD,SAAS,CAACohB,SAAV,CAAoBjhG,MAAxB,EAAgCshG,YAAY,CAACzhB,SAAS,CAACohB,SAAX,EAAsBM,IAAtB,EAA4B3hF,GAA5B,EAAiCiW,GAAjC,CAAZ;AAChC,QAAIgqD,SAAS,CAACqhB,WAAV,CAAsBlhG,MAA1B,EAAkC2hG,cAAc,CAACJ,IAAD,EAAO3hF,GAAP,EAAYiW,GAAZ,CAAd;AAClC,QAAIgqD,SAAS,CAACshB,IAAV,CAAenhG,MAAnB,EAA2B4hG,OAAO,CAACL,IAAD,EAAO3hF,GAAP,EAAYiW,GAAZ,CAAP;AAC3B,GAJD;AAKA,CA3BoB,GAArB;;AA6BO,SAASrY,iBAAT,CAAaqkF,IAAb,EAA0BrgG,OAAsB,GAAG;AAAE61E,aAAW,EAAE;AAAf,CAAnD,EAA4EyqB,KAAc,GAAG,KAA7F,EAAoG;AAC1G,MAAI,CAACA,KAAD,IAAUD,IAAI,KAAKtkE,qBAAvB,EAAgC;AAEhC6vC,wBAAQ,GAAG7vC,qBAAX;AACAA,uBAAO,GAAGskE,IAAV;AACAb,kBAAgB,GAAGzjE,qBAAO,CAACiU,OAAR,CAAgBp7B,OAAhB,CAAwB,YAAxB,CAAnB;AAEA,QAAMmhE,SAAS,GAAGnK,sBAAQ,IAAIA,sBAAQ,CAAC0f,cAAT,CAAwBvvD,qBAAxB,CAA9B;AACA8jE,cAAY,CAAC9jE,qBAAD,EAAU6vC,sBAAV,EAAoB,EAAE,GAAG5rE,OAAL;AAAc,QAAI+1E,SAAS,GAAG;AAAEA;AAAF,KAAH,GAAmBr1E,SAAhC;AAAd,GAApB,CAAZ;AACA;AAEM,MAAM6/F,mBAAmB,GAAGjc,aAAa,CAAC,MAAM;AACtD,MAAIvoD,qBAAO,IAAIo5C,yBAAyB,CAACp5C,qBAAO,CAACouC,KAAT,CAAxC,EAAyD;AAEzD,QAAMq2B,gBAAgB,GAAGzkE,qBAAO,IAAIA,qBAAO,CAAC+wD,iBAAR,EAApC;;AACA,MAAI0T,gBAAgB,IAAIrrB,yBAAyB,CAACqrB,gBAAgB,CAACr2B,KAAlB,CAAjD,EAA2E;AAC1EnuD,qBAAG,CAACwkF,gBAAD,CAAH;AACA;AACA;;AAED,QAAMnW,MAAM,GAAGG,WAAK,CAACQ,aAAN,EAAf;AACA,QAAMyV,YAAY,GAAGpW,MAAM,CAACzuF,OAAP,CAAemgC,qBAAf,CAArB;;AACA,QAAM2kE,aAAa,GAAG,iBAASrW,MAAM,CAAC1/E,MAAP,CAAcsgF,KAAK,IAAIA,KAAK,CAACS,SAAN,EAAvB,CAAT,EAAoDT,KAAK,IAAIrqF,IAAI,CAAC4nC,GAAL,CAAS6hD,MAAM,CAACzuF,OAAP,CAAeqvF,KAAf,IAAwBwV,YAAjC,CAA7D,CAAtB;;AACA,QAAME,cAAc,GAAG,gBAAQD,aAAR,EAAuB,CAAC;AAAEv2B;AAAF,GAAD,KAAegL,yBAAyB,CAAChL,KAAD,CAA/D,CAAvB;;AACA,MAAIw2B,cAAJ,EAAoB3kF,iBAAG,CAAC2kF,cAAD,CAAH;AACpB,CAd+C,CAAzC;AAgBA,SAAS5B,OAAT,GAAmB;AACzB,MAAI,CAAChjE,qBAAD,IAAYA,qBAAO,CAAC2vD,SAAR,EAAhB,EAAqC;AACrC6U,qBAAmB;AACnB;AAED,MAAMK,MAAM,GAAG;AACdD,gBAAc,EAAG1V,KAAD,IAAkBA,KAAK,CAAC6B,iBAAN,EADpB;AAEd+T,IAAE,EAAG5V,KAAD,IAAkBA,KAAK,CAACwB,OAAN,CAAc;AAAE1W,aAAS,EAAE;AAAb,GAAd,CAFR;AAGd+qB,MAAI,EAAG7V,KAAD,IAAkBA,KAAK,CAACwB,OAAN,CAAc;AAAE1W,aAAS,EAAE;AAAb,GAAd,CAHV;AAId3rE,KAAG,EAAE,MAA0BogF,WAAK,CAACQ,aAAN,GAAsB,CAAtB,CAJjB;AAKdlW,QAAM,EAAE,MAA0B0V,WAAK,CAACQ,aAAN,GAAsBvvF,KAAtB,CAA4B,CAAC,CAA7B,EAAgC,CAAhC,CALpB;AAMdslG,WAAS,EAAG9V,KAAD,IAAkBA,KAAK,CAAC2B,cAAN,CAAqB;AAAE7W,aAAS,EAAE;AAAb,GAArB,KAA6CkV,KAAK,CAAC98E,MANlE;AAOd6yF,aAAW,EAAG/V,KAAD,IAAkBA,KAAK,CAAC4B,UAAN,CAAiB5B,KAAK,CAAC2B,cAAvB,EAAuC;AAAE7W,aAAS,EAAE;AAAb,GAAvC,CAPjB;AAQdkrB,mBAAiB,EAAGhW,KAAD,IAAkB,CAACA,KAAK,CAAC98E,MAAN,IAAgB88E,KAAjB,EAAwB4B,UAAxB,CAAmC5B,KAAK,CAAC2B,cAAzC,EAAyD;AAAE7W,aAAS,EAAE;AAAb,GAAzD,CARvB;AASdmrB,UAAQ,EAAGjW,KAAD,IAAkBA,KAAK,CAACuB,YAAN,GAAqBI,cAArB,CAAoC;AAAE7W,aAAS,EAAE;AAAb,GAApC,KAA4DkV,KAAK,CAACuB,YAAN,EAT1E;AAUd2U,YAAU,EAAGlW,KAAD,IAAkBA,KAAK,CAACuB,YAAN,GAAqBI,cAArB,CAAoC;AAAE7W,aAAS,EAAE;AAAb,GAApC,CAVhB;AAWdqrB,cAAY,EAAGnW,KAAD,IAAkBA,KAAK,CAACuB,YAAN,EAXlB;AAYd6U,UAAQ,EAAGpW,KAAD,IAAkBA,KAAK,CAAC98E,MAZpB;AAady9D,UAAQ,EAAE,MAA0BA,sBAAQA;AAb9B,CAAf;AAgBO,SAAS01B,IAAT,CAAcvrB,SAAd,EAA+C/1E,OAA/C,EAAqF2zF,QAArF,EAA0G;AAChH,MAAI,CAAC53D,qBAAD,IAAY,CAACA,qBAAO,CAACiU,OAAR,CAAgBhN,YAAjC,EAA+C;AAC9Cu9D,uBAAmB;AACnB;AACA;;AAED,QAAMgB,QAAQ,GAAGX,MAAM,CAAC7qB,SAAD,CAAvB;;AAEA,MAAI,CAACh6C,qBAAD,IAAYwlE,QAAQ,CAAC/iG,MAAzB,EAAiC;AAChC,QAAI,CAACm1F,QAAD,IAAa,CAACA,QAAQ,EAA1B,EAA8B,MAAM,IAAIz4F,KAAJ,CAAU,8CAAV,CAAN;AAC9B;;AAED,QAAMmF,MAAM,GAAGkhG,QAAQ,CAAExlE,qBAAF,CAAvB;;AAEA,MAAI,CAAC17B,MAAL,EAAa;AACZ,QAAIszF,QAAQ,IAAIA,QAAQ,EAAxB,EAA4B;AAE5B,QAAI53D,qBAAJ,EAAa,OAAO/f,iBAAG,CAAC+f,qBAAD,EAAU;AAAE85C,iBAAW,EAAE;AAAf,KAAV,CAAV;AACb,UAAM,IAAI36E,KAAJ,CAAU,yBAAV,CAAN;AACA,GALD,MAKO,IAAI6gC,qBAAO,KAAK17B,MAAhB,EAAwB;AAC9B,QAAI07B,qBAAJ,EAAa,OAAO/f,iBAAG,CAAC+f,qBAAD,EAAU;AAAE85C,iBAAW,EAAE;AAAf,KAAV,CAAV;AACb,UAAM,IAAI36E,KAAJ,CAAU,wBAAV,CAAN;AACA;;AAED8gB,mBAAG,CAAC3b,MAAD,EAASL,OAAT,CAAH;AACA;AAED,IAAIi2E,oBAAJ;AAIA0I,yBAAW,CAAC,CAAC5iD,OAAD,EAAU6vC,QAAV,EAAoB;AAAEiK;AAAF,CAApB,KAAwC;AACnD,MACCjK,QAAQ,IAAI7vC,OAAO,KAAK6vC,QAAxB,IACG,CAAC,MAAD,EAAS,OAAT,CAAD,CAAwClvB,QAAxC,CAAiDm5B,WAAjD,CADF,KAEG95C,OAAO,CAACiU,OAAR,CAAgBwrC,SAAhB,CAA0Bj4E,QAA1B,CAAmC,mBAAnC,KAA2DqoE,QAAQ,CAAC57B,OAAT,CAAiBwrC,SAAjB,CAA2Bj4E,QAA3B,CAAoC,mBAApC,CAF9D,CADD,EAIE;AACD0yE,wBAAM,GAAG;AACRzhD,QAAE,EAAEuH,OAAO,CAACouC,KAAR,CAAcx6C,qBAAd,GAAsCvlB,GADlC;AAER4iE,UAAI,EAAEpB,QAAQ,CAACzB,KAAT,CAAex6C,qBAAf,GAAuCvlB;AAFrC,KAAT;AAIA,GATD,MASO;AACN6rE,wBAAM,GAAGv1E,SAAT;AACA;AACD,CAbU,EAaR,WAbQ,EAaK,CAACmwE,QAbN,CAAX;AAeA8N,yBAAW,CAAC,CAAC5iD,OAAD,EAAU6vC,QAAV,EAAoB;AAAEmK,WAAF;AAAaF;AAAb,CAApB,KAAmD;AAC9DD,iBAAe,CAAC75C,OAAO,CAACouC,KAAT,EAAgByB,QAAQ,IAAIA,QAAQ,CAACzB,KAArC,EAA4C;AAAE0L,eAAF;AAAeE,aAAf;AAA0BE,UAA1B;AAAkCC,mBAAe,EAAE;AAAnD,GAA5C,CAAf;AACA,CAFU,EAER,aAFQ,EAEO,CAFP,CAAX;AAKAyI,yBAAW,CAAC,CAAC5iD,OAAD,EAAU6vC,QAAV,EAAoB;AAAEiK,aAAF;AAAeE;AAAf,CAApB,KAAmD;AAC9D,MAAIF,WAAW,KAAK,MAApB,EAA4B;AAE5B2U,aAAK,CAACU,aAAN,CAAoBnvD,OAApB,EAA6Bg6C,SAAS,KAAK,MAAd,GAAuBnK,QAAvB,GAAkClrE,SAA/D,EAA0E,EAA1E,EAA8E,EAA9E;AACA,CAJU,EAIR,WAJQ,CAAX;AAOAw6F,cAAc,CAAC,CAAC,SAAD,CAAD,EAAc,mBAAWjQ,KAAK,IAAI;AAC/C,MAAI,CAAClvD,qBAAL,EAAc;AACd,MAAIA,qBAAO,IAAI/gC,QAAQ,CAACuI,QAAT,CAAkBw4B,qBAAO,CAACiU,OAA1B,CAAf,EAAmD;AACnD,MAAIwvD,gBAAgB,IAAIA,gBAAgB,KAAKvU,KAAK,CAACj7C,OAAN,CAAcp7B,OAAd,CAAsB,YAAtB,CAA7C,EAAkF;AAClFoH,mBAAG,CAACivE,KAAD,CAAH;AACA,CAL2B,EAKzB,GALyB,EAKpB;AAAEtlD,SAAO,EAAE,IAAX;AAAiBE,UAAQ,EAAE;AAA3B,CALoB,CAAd,EAK+B;AAAEimD,WAAS,EAAE;AAAb,CAL/B,CAAd;AAOA,MAAM0V,eAAe,GAAI,GAAEjC,uBAAwB,IAAGtwF,QAAQ,CAACkrE,QAAS,EAAxE;;AACA,MAAMsnB,iBAAiB,GAAG,MAAMC,cAAc,CAACF,eAAD,CAA9C;;AACA,IAAIG,2BAAoC,GAAG,KAA3C;AACO,MAAMC,8BAA8B,GAAI9qF,CAAD,IAAgB;AAAE6qF,6BAA2B,GAAG7qF,CAA9B;AAAkC,CAA3F;AAGP,MAAM+qF,cAAc,GAAGJ,iBAAiB,EAAxC;AACAvG,cAAc,CAAC,IAAD,EAAOjQ,KAAK,IAAI;AAC7B,MAAIlvD,qBAAJ,EAAa;AACb,MAAI,CAAC8lE,cAAL,EAAqB,OAAO7lF,iBAAG,CAACivE,KAAD,CAAV;AACrB,MAAIA,KAAK,CAACoF,WAAN,OAAwBwR,cAA5B,EAA4C;AAC5C,MAAIF,2BAAJ,EAAiCG,OAAO,CAACC,iBAAR,GAA4B,QAA5B;AACjC/lF,mBAAG,CAACivE,KAAD,EAAQ;AAAEpV,eAAW,EAAEisB,OAAO,CAACC,iBAAR,KAA8B,QAA9B,GAAyC,QAAzC,GAAoD;AAAnE,GAAR,CAAH;AACA,CANa,EAMX;AAAEjW,WAAS,EAAE;AAAb,CANW,CAAd;AAQAnN,yBAAW,CAAC5iD,OAAO,IAAI;AACtB,QAAMp0B,EAAE,GAAGo0B,OAAO,CAACs0D,WAAR,EAAX;AACA,MAAI,CAAC1oF,EAAL,EAAS;AACT+5F,gBAAc,CAACF,eAAD,CAAd,GAAkC75F,EAAlC;AACA,CAJU,EAIR,aAJQ,CAAX;AAMAg3E,yBAAW,CAAC,CAAC5iD,OAAD,EAAU6vC,QAAV,KAAuB;AAClC,MAAIA,QAAJ,EAAc;AACbA,YAAQ,CAACzB,KAAT,CAAeqR,SAAf,CAAyBhlE,MAAzB,CAAgC,cAAhC;AACAo1D,YAAQ,CAAC57B,OAAT,CAAiBwrC,SAAjB,CAA2BhlE,MAA3B,CAAkC,cAAlC;AACA;;AACD,MAAIulB,OAAJ,EAAa;AACZA,WAAO,CAACouC,KAAR,CAAcqR,SAAd,CAAwBzmE,GAAxB,CAA4B,cAA5B;AACAgnB,WAAO,CAACiU,OAAR,CAAgBwrC,SAAhB,CAA0BzmE,GAA1B,CAA8B,cAA9B;AACA;AACD,CATU,EASR,WATQ,CAAX,C;;;;;;;;;ACtMA;AAEA,MAAMitF,SAAS,GAAG,IAAI1jB,GAAJ,EAAlB;AAEO,MAAM2jB,cAAN,CAAe;AA6BrB1jG,aAAW,CAACugC,OAAD,EAAoC7iB,KAApC,EAA6CimF,MAA7C,EAAwDzvE,IAAxD,EAAiE;AAAA,SA5B5E5V,KA4B4E;AAAA,SA3B5EqlF,MA2B4E;AAAA,SA1B5E7H,IA0B4E,GA1B7D,CA0B6D;AAAA,SAzB5E8H,QAyB4E,GAzBzD,GAyByD;AAAA,SAxB5EhiF,KAwB4E;AAAA,SAvB5E6vB,OAuB4E;AAAA,SAtB5EoyD,OAsB4E,GAtBlE,EAsBkE;AAAA,SArB5EpyF,OAqB4E,GArBlE,EAqBkE;AAAA,SApB5EqyF,aAoB4E,GApB5D,EAoB4D;AAAA,SAnB5Eh7D,MAmB4E;AAAA,SAlB5Ei7D,aAkB4E,GAlB5C,KAkB4C;AAAA,SAhB5ErmF,IAgB4E,GAhBrE,kBAAU,MAAM;AACtB,YAAMA,IAAI,GAAG,KAAKY,KAAL,CAAWlS,MAAX,CAAkBmM,CAAC,IAAI,KAAK9G,OAAL,CAAauyF,KAAb,CAAmB53F,MAAM,IAAIA,MAAM,CAACmM,CAAD,CAAnC,CAAvB,CAAb;;AAEA,UAAI,KAAKuwB,MAAT,EAAiB;AAChB,cAAM+hC,QAAQ,GAAG7hC,CAAC,IAAI;AAAE,gBAAMzwB,CAAC,GAAG,KAAKorF,MAAL,CAAY36D,CAAZ,EAAe,KAAKF,MAApB,CAAV;AAAuC,iBAAOvwB,CAAC,YAAY+oD,WAAb,GAA2B/oD,CAAC,CAAClK,WAA7B,GAA2C5G,MAAM,CAAC8Q,CAAD,CAAxD;AAA8D,SAA7H;;AACA,cAAMuI,MAAM,GAAG,IAAIi/D,GAAJ,CAAQriE,IAAI,CAAC9c,GAAL,CAASooC,CAAC,IAAI,CAACA,CAAD,EAAI6hC,QAAQ,CAAC7hC,CAAD,CAAZ,CAAd,CAAR,CAAf;AACAtrB,YAAI,CAACpc,IAAL,CAAU,CAACqE,CAAD,EAAIC,CAAJ,KAAWkb,MAAD,CAAc3gB,GAAd,CAAkBwF,CAAlB,EAAqBs+F,aAArB,CAAoCnjF,MAAD,CAAc3gB,GAAd,CAAkByF,CAAlB,CAAnC,EAAyDzD,SAAzD,EAAoE;AAAEswE,iBAAO,EAAE;AAAX,SAApE,CAApB;AACA;;AAED,UAAI,KAAKsxB,aAAL,KAAuB,MAA3B,EAAmC;AAClCrmF,YAAI,CAACxG,OAAL;AACA;;AAED,aAAOwG,IAAP;AACA,KAdM,CAgBqE;AAAA,SAoC5EwmF,UApC4E,GAoC/D5f,aAAa,CAAC,MAAM;AAChC,WAAKwX,IAAL,GAAYxB,cAAc,CAAC,KAAKwB,IAAN,EAAYz5F,IAAI,CAACmuB,IAAL,CAAU,KAAK9S,IAAL,GAAYzd,MAAZ,GAAqB,KAAK2jG,QAApC,CAAZ,CAAd,IAA4E,CAAxF;AACA,YAAMj0F,KAAK,GAAG,KAAKmsF,IAAL,GAAY,KAAK8H,QAAjB,IAA6B,CAA3C;AACA1rF,WAAK,CAAC,KAAK0J,KAAN,CAAL;;AACA,WAAK,MAAMuiF,MAAX,IAAqB,KAAKzmF,IAAL,GAAYxgB,KAAZ,CAAkByS,KAAlB,EAAyBA,KAAK,GAAG,KAAKi0F,QAAtC,CAArB,EAAsE;AACrE,cAAMpiF,EAAE,GAAG/kB,QAAQ,CAACqC,aAAT,CAAuB,IAAvB,CAAX;AACA,aAAK8iB,KAAL,CAAW+J,MAAX,CAAkBnK,EAAlB;AACA,cAAM4iF,GAAG,GAAG,KAAKT,MAAL,CAAYQ,MAAZ,CAAZ;;AAEA,aAAK,MAAM/6F,EAAX,IAAiB,KAAKy6F,OAAtB,EAA+B;AAC9B,gBAAMpiF,EAAE,GAAGhlB,QAAQ,CAACqC,aAAT,CAAuB,IAAvB,CAAX;AACA,gBAAMmY,OAAO,GAAImtF,GAAG,CAACh7F,EAAD,CAApB;AACA,cAAI6N,OAAO,YAAYqqD,WAAvB,EAAoC7/C,EAAE,CAACkK,MAAH,CAAU1U,OAAV,EAApC,KACKwK,EAAE,CAACpT,WAAH,GAAiB4I,OAAjB;AACLuK,YAAE,CAACmK,MAAH,CAAUlK,EAAV;AACA;AACD;;AAED,WAAK,MAAM+yD,QAAX,IAAuB,KAAKsvB,aAA5B,EAA2CtvB,QAAQ;AACnD,KAnByB,CApCkD;AAC3E,SAAKl2D,KAAL,GAAaZ,KAAb;AACA,SAAKimF,MAAL,GAAcA,MAAd;AACA3mG,UAAM,CAACyqE,MAAP,CAAc,IAAd,EAAoBvzC,IAApB;AAEA,UAAMgsE,KAAK,GAAG,KAAKzuD,OAAL,GAAeh1C,QAAQ,CAACqC,aAAT,CAAuB,OAAvB,CAA7B;AACAohG,SAAK,CAACzgF,KAAN,CAAY+N,KAAZ,GAAoB,MAApB;AAEA,UAAMlM,KAAK,GAAG7kB,QAAQ,CAACqC,aAAT,CAAuB,OAAvB,CAAd;AACA,UAAM8iB,KAAK,GAAG,KAAKA,KAAL,GAAaoyD,QAAQ,CAACv3E,QAAQ,CAACqC,aAAT,CAAuB,OAAvB,CAAD,EAAkCulG,uBAAlC,CAAnC;AACAnE,SAAK,CAACv0E,MAAN,CAAarK,KAAb,EAAoBM,KAApB;;AAEA,UAAMJ,GAAE,GAAG/kB,QAAQ,CAACqC,aAAT,CAAuB,IAAvB,CAAX;;AACAwiB,SAAK,CAACqK,MAAN,CAAanK,GAAb;;AAEA,SAAK,MAAM,CAACpY,EAAD,EAAKk7F,KAAL,CAAX,IAA0BtnG,MAAM,CAAC0uE,OAAP,CAAenrC,OAAf,CAA1B,EAAmD;AAClD,YAAMve,EAAE,GAAGvlB,QAAQ,CAACqC,aAAT,CAAuB,IAAvB,CAAX;AACAkjB,QAAE,CAAClW,gBAAH,CAAoB,OAApB,EAA6By4F,YAA7B;AACAviF,QAAE,CAAC3T,WAAH,GAAiBi2F,KAAjB;AACA,WAAKT,OAAL,CAAazmG,IAAb,CAAkBgM,EAAlB;;AACAoY,SAAE,CAACmK,MAAH,CAAU3J,EAAV;;AAEA,UAAI,KAAK8mB,MAAL,KAAgB1/B,EAApB,EAAwB4Y,EAAE,CAACi7D,SAAH,CAAazmE,GAAb,CAAkB,QAAO,KAAKutF,aAAc,EAA5C;AACxB;;AAEDN,aAAS,CAAChmF,GAAV,CAAcyiF,KAAd,EAAqB,IAArB;AAEA,SAAKvwF,KAAL;AACA;;AAEDA,OAAK,GAAG;AACP,SAAKmsF,IAAL,GAAY,CAAZ;AACA,SAAKp+E,IAAL,CAAU1T,KAAV,CAAgB2hE,KAAhB;AACA,SAAKu4B,UAAL;AACA;;AAuBDM,qBAAmB,CAACC,WAAD,EAA2Bh8D,WAA3B,EAAgDlf,KAAhD,EAAgE;AAClF,UAAMkxD,MAAM,GAAGh+E,QAAQ,CAACqC,aAAT,CAAuB,OAAvB,CAAf;AAEA27E,UAAM,CAACx7E,YAAP,CAAoB,aAApB,EAAmCwpC,WAAnC;AAGA,QAAIlf,KAAJ,EAAW+J,qBAAqB,CAAC,MAAM;AAAEmnD,YAAM,CAAClxD,KAAP;AAAiB,KAA1B,CAArB;AAEX,QAAIm7E,UAAJ;AAEAjqB,UAAM,CAAC3uE,gBAAP,CAAwB,OAAxB,EAAiC,MAAM;AACtC,UAAIiwE,KAAJ;;AACA,UAAI7+D,sBAAM,CAAC4gE,UAAP,CAAkBt0E,IAAlB,CAAuBixE,MAAM,CAAC92E,KAA9B,CAAJ,EAA0C;AACzC,cAAM,GAAGy5E,GAAH,EAAQunB,KAAK,GAAG,EAAhB,IAAuBznF,sBAAM,CAAC4gE,UAAP,CAAkB50E,IAAlB,CAAuBuxE,MAAM,CAAC92E,KAA9B,CAA7B;AACAo4E,aAAK,GAAG,IAAIz1E,MAAJ,CAAW82E,GAAX,EAAgBunB,KAAhB,CAAR;AACA,OAHD,MAGO;AACN5oB,aAAK,GAAG,IAAIz1E,MAAJ,CAAW,uBAAem0E,MAAM,CAAC92E,KAAtB,CAAX,EAAyC,GAAzC,CAAR;AACA;;AAED,UAAI+gG,UAAJ,EAAgB,eAAO,KAAKjzF,OAAZ,EAAqBizF,UAArB;AAChB,UAAIjqB,MAAM,CAAC92E,KAAX,EAAkB,KAAK8N,OAAL,CAAarU,IAAb,CAAkBsnG,UAAU,GAAIhnF,IAAD,IAAaq+D,KAAK,CAACvyE,IAAN,CAAWi7F,WAAW,CAAC/mF,IAAD,CAAtB,CAA5C;AAClB,WAAK/N,KAAL;AACA,KAZD;AAcA,WAAO8qE,MAAP;AACA;;AAEDmqB,qBAAmB,CAACnzF,OAAD,EAAa;AAC/B,UAAM0iE,GAAG,GAAGj3D,sBAAM,CAAC+N,IAAK;;aAEbxZ,OAAO,CAAC7Q,GAAR,CAAY,CAAC;AAAEc,UAAF;AAAQmjG;AAAR,KAAD,KAA+B3nF,sBAAM,CAACghE,KAAM,WAAU2mB,eAAe,GAAG,UAAH,GAAgB,EAAG,IAAGnjG,IAAK,WAA5G,CAAwH;SAFnI;AAIA,UAAMojG,YAAY,GAAG9wB,QAAQ,CAACG,GAAG,CAACiB,aAAJ,CAAkB,QAAlB,CAAD,EAA8B2vB,iBAA9B,CAA7B;AAEA,QAAIL,UAAJ;AACA,SAAKjzF,OAAL,CAAarU,IAAb,CAAkBsnG,UAAU,GAAGjzF,OAAO,CAACqzF,YAAY,CAAC7zF,aAAd,CAAP,CAAoC7E,MAAnE;AAEA04F,gBAAY,CAACh5F,gBAAb,CAA8B,QAA9B,EAAwC,MAAM;AAC7C,qBAAO,KAAK2F,OAAZ,EAAqBizF,UAArB;;AACA,YAAMt4F,MAAM,GAAGqF,OAAO,CAACqzF,YAAY,CAAC7zF,aAAd,CAAP,CAAoC7E,MAAnD;AACA,WAAKqF,OAAL,CAAarU,IAAb,CAAkBsnG,UAAU,GAAGt4F,MAA/B;AACA,WAAKuD,KAAL;AACA,KALD;AAOA,WAAOwkE,GAAP;AACA;;AAED6wB,yBAAuB,GAAG;AACzB,UAAM7wB,GAAG,GAAGj3D,sBAAM,CAAC+N,IAAK;;;;;;SAAxB;AAQAkpD,OAAG,CAACiB,aAAJ,CAAkB,oBAAlB,EAAwCtpE,gBAAxC,CAAyD,OAAzD,EAAkE,MAAM;AAAE,WAAKgwF,IAAL;AAAa,WAAKoI,UAAL;AAAoB,KAA3G;AACA/vB,OAAG,CAACiB,aAAJ,CAAkB,gBAAlB,EAAoCtpE,gBAApC,CAAqD,OAArD,EAA8D,MAAM;AAAE,WAAKgwF,IAAL;AAAa,WAAKoI,UAAL;AAAoB,KAAvG;AAEA,UAAMz2E,QAAQ,GAAG0mD,GAAG,CAACiB,aAAJ,CAAkB,oBAAlB,CAAjB;AACA,UAAM6vB,KAAK,GAAG9wB,GAAG,CAACiB,aAAJ,CAAkB,iBAAlB,CAAd;AAWA,SAAK0uB,aAAL,CAAmB1mG,IAAnB,CATgB,MAAM;AACrB,YAAM8nG,KAAK,GAAG7iG,IAAI,CAACmuB,IAAL,CAAU,KAAK9S,IAAL,GAAYzd,MAAZ,GAAqB,KAAK2jG,QAApC,CAAd;AACAzvB,SAAG,CAACl1E,YAAJ,CAAiB,aAAjB,EAAgCwI,MAAM,CAAC,KAAKq0F,IAAL,KAAc,CAAf,CAAtC;AACA3nB,SAAG,CAACl1E,YAAJ,CAAiB,YAAjB,EAA+BwI,MAAM,CAAC,KAAKq0F,IAAL,KAAcoJ,KAAK,GAAG,CAAvB,CAArC;AAEAz3E,cAAQ,CAACpf,WAAT,GAAuB5G,MAAM,CAAC,KAAKq0F,IAAL,GAAY,CAAb,CAA7B;AACAmJ,WAAK,CAAC52F,WAAN,GAAoB5G,MAAM,CAACy9F,KAAK,IAAI,CAAV,CAA1B;AACA,KAED;AAEA,WAAO/wB,GAAP;AACA;;AAED7yE,MAAI,CAAC6jG,EAAD,EAAsBC,cAAtB,EAA+C;AAClD,SAAKt8D,MAAL,GAAc,OAAOq8D,EAAP,KAAc,QAAd,GAAyB,KAAKtB,OAAL,CAAasB,EAAb,CAAzB,GAA4CA,EAA1D;AACA,SAAKpB,aAAL,GAAqBqB,cAAc,GAAI,KAAKrB,aAAL,KAAuB,KAAvB,GAA+B,MAA/B,GAAwC,KAA5C,GAAqD,KAAxF;AACA,SAAKp0F,KAAL;AACA;;AAtKoB;AAyKf,SAAS40F,YAAT,CAAsB;AAAEziG,QAAM,EAAEujG;AAAV,CAAtB,EAA0D;AAChE,QAAMnF,KAAK,GAAGlsB,QAAQ,CAACqxB,UAAU,CAAChvF,OAAX,CAAmB,OAAnB,CAAD,EAA8BivF,gBAA9B,CAAtB;AAEA,QAAMF,cAAc,GAAGC,UAAU,CAACpoB,SAAX,CAAqBj4E,QAArB,CAA8B,UAA9B,KAA6CqgG,UAAU,CAACpoB,SAAX,CAAqBj4E,QAArB,CAA8B,UAA9B,CAApE;AAEA,QAAMugG,QAAQ,GAAG9B,SAAS,CAACtjG,GAAV,CAAc+/F,KAAd,CAAjB;;AACA,MAAIqF,QAAJ,EAAc;AACb,UAAMjvF,KAAK,GAAG,CAAC,GAAG09D,QAAQ,CAACqxB,UAAU,CAAC/Y,aAAZ,EAA2BhrB,WAA3B,CAAR,CAAgDvrD,QAApD,EAA8D1Y,OAA9D,CAAsEgoG,UAAtE,CAAd;AACAE,YAAQ,CAACjkG,IAAT,CAAcgV,KAAd,EAAqB8uF,cAArB;AACA,GAHD,MAGO;AACN,UAAMxjF,KAAK,GAAGs+E,KAAK,CAAC9qB,aAAN,CAAoB,OAApB,CAAd;AACA,UAAMyuB,OAAO,GAAG5hG,KAAK,CAACwsE,IAAN,CAAWyxB,KAAK,CAACt2F,gBAAN,CAAuB,UAAvB,CAAX,CAAhB;AACA,UAAM47F,IAAI,GAAGvjG,KAAK,CAACwsE,IAAN,CAAW7sD,KAAK,CAAChY,gBAAN,CAAuB,IAAvB,CAAX,CAAb;;AAEA,QAAIw7F,cAAJ,EAAoB;AACnBI,UAAI,CAACtuF,OAAL;AACA,KAFD,MAEO;AACN,YAAMZ,KAAK,GAAGutF,OAAO,CAACxmG,OAAR,CAAgBgoG,UAAhB,CAAd;;AACA,YAAMI,YAAY,GAAG,kBAAUrB,GAAG,IAAI;AAAE,cAAMsB,IAAI,GAAGtB,GAAG,CAACx6F,gBAAJ,CAAqB,IAArB,EAA2B0M,KAA3B,CAAb;AAAgD,eAAOovF,IAAI,CAACr3F,WAAZ;AAA0B,OAA7F,CAArB;;AACAm3F,UAAI,CAAClkG,IAAL,CAAU,CAACqkG,IAAD,EAAOC,IAAP,KAAgBH,YAAY,CAACE,IAAD,CAAZ,CAAmB1B,aAAnB,CAAiCwB,YAAY,CAACG,IAAD,CAA7C,EAAqDzjG,SAArD,EAAgE;AAAEswE,eAAO,EAAE;AAAX,OAAhE,CAA1B;AACA;;AAED7wD,SAAK,CAAC+J,MAAN,CAAa,GAAG65E,IAAhB;AACA;;AAED,MAAIJ,cAAJ,EAAoB;AACnBC,cAAU,CAACpoB,SAAX,CAAqBj8D,MAArB,CAA4B,UAA5B;AACAqkF,cAAU,CAACpoB,SAAX,CAAqBj8D,MAArB,CAA4B,WAA5B;AACA,GAHD,MAGO;AACN,UAAMqsD,QAAQ,GAAG6yB,KAAK,CAAC9qB,aAAN,CAAoB,uBAApB,CAAjB;AACA,QAAI/H,QAAJ,EAAcA,QAAQ,CAAC4P,SAAT,CAAmBhlE,MAAnB,CAA0B,UAA1B;AACd,QAAIo1D,QAAJ,EAAcA,QAAQ,CAAC4P,SAAT,CAAmBhlE,MAAnB,CAA0B,WAA1B;AACdotF,cAAU,CAACpoB,SAAX,CAAqBzmE,GAArB,CAAyB,UAAzB;AACA;AACD,C;;;;;;;;;;AClND;;;;;GAMA,QAASqvF,QAAT,CAAiB9nG,GAAjB,CAAsB,CACpB,GAAI,MAAO8F,OAAP,GAAkB,UAAlB,EAAgC,MAAOA,OAAM,CAACC,QAAd,GAA2B,QAA/D,CAAyE,CACvE+hG,OAAO,CAAG,SAAU9nG,GAAV,CAAe,CACvB,MAAO,OAAOA,IAAd,CACD,CAFD,CAGD,CAJD,IAIO,CACL8nG,OAAO,CAAG,SAAU9nG,GAAV,CAAe,CACvB,MAAOA,IAAG,EAAI,MAAO8F,OAAP,GAAkB,UAAzB,EAAuC9F,GAAG,CAACiC,WAAJ,GAAoB6D,MAA3D,EAAqE9F,GAAG,GAAK8F,MAAM,CAAC/D,SAApF,CAAgG,QAAhG,CAA2G,MAAO/B,IAAzH,CACD,CAFD,CAGD,CAED,MAAO8nG,QAAO,CAAC9nG,GAAD,CAAd,CACD,CAED,QAAS+nG,gBAAT,CAAyB/nG,GAAzB,CAA8BkM,GAA9B,CAAmCtG,KAAnC,CAA0C,CACxC,GAAIsG,GAAG,GAAIlM,IAAX,CAAgB,CACdf,MAAM,CAACugB,cAAP,CAAsBxf,GAAtB,CAA2BkM,GAA3B,CAAgC,CAC9BtG,KAAK,CAAEA,KADuB,CAE9B4iB,UAAU,CAAE,IAFkB,CAG9B/I,YAAY,CAAE,IAHgB,CAI9BiJ,QAAQ,CAAE,IAJoB,CAAhC,EAMD,CAPD,IAOO,CACL1oB,GAAG,CAACkM,GAAD,CAAH,CAAWtG,KAAX,CACD,CAED,MAAO5F,IAAP,CACD,CAED,QAASgoG,SAAT,EAAoB,CAClBA,QAAQ,CAAG/oG,MAAM,CAACyqE,MAAP,EAAiB,SAAU3lE,MAAV,CAAkB,CAC5C,IAAK,GAAInD,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGoC,SAAS,CAACd,MAA9B,CAAsCtB,CAAC,EAAvC,CAA2C,CACzC,GAAIugB,OAAM,CAAGne,SAAS,CAACpC,CAAD,CAAtB,CAEA,IAAK,GAAIsL,IAAT,GAAgBiV,OAAhB,CAAwB,CACtB,GAAIliB,MAAM,CAAC8C,SAAP,CAAiBrC,cAAjB,CAAgCG,IAAhC,CAAqCshB,MAArC,CAA6CjV,GAA7C,CAAJ,CAAuD,CACrDnI,MAAM,CAACmI,GAAD,CAAN,CAAciV,MAAM,CAACjV,GAAD,CAApB,CACD,CACF,CACF,CAED,MAAOnI,OAAP,CACD,CAZD,CAcA,MAAOikG,SAAQ,CAACjlG,KAAT,CAAe,IAAf,CAAqBC,SAArB,CAAP,CACD,CAED,QAASilG,cAAT,CAAuBlkG,MAAvB,CAA+B,CAC7B,IAAK,GAAInD,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGoC,SAAS,CAACd,MAA9B,CAAsCtB,CAAC,EAAvC,CAA2C,CACzC,GAAIugB,OAAM,CAAGne,SAAS,CAACpC,CAAD,CAAT,EAAgB,IAAhB,CAAuBoC,SAAS,CAACpC,CAAD,CAAhC,CAAsC,EAAnD,CACA,GAAIsnG,QAAO,CAAGjpG,MAAM,CAAC+M,IAAP,CAAYmV,MAAZ,CAAd,CAEA,GAAI,MAAOliB,OAAM,CAACkpG,qBAAd,GAAwC,UAA5C,CAAwD,CACtDD,OAAO,CAAGA,OAAO,CAAC9oG,MAAR,CAAeH,MAAM,CAACkpG,qBAAP,CAA6BhnF,MAA7B,EAAqC9S,MAArC,CAA4C,SAAU+5F,GAAV,CAAe,CAClF,MAAOnpG,OAAM,CAACopG,wBAAP,CAAgClnF,MAAhC,CAAwCinF,GAAxC,EAA6C5/E,UAApD,CACD,CAFwB,CAAf,CAAV,CAGD,CAED0/E,OAAO,CAAC3jC,OAAR,CAAgB,SAAUr4D,GAAV,CAAe,CAC7B67F,eAAe,CAAChkG,MAAD,CAASmI,GAAT,CAAciV,MAAM,CAACjV,GAAD,CAApB,CAAf,CACD,CAFD,EAGD,CAED,MAAOnI,OAAP,CACD,CAED,QAASukG,8BAAT,CAAuCnnF,MAAvC,CAA+ConF,QAA/C,CAAyD,CACvD,GAAIpnF,MAAM,EAAI,IAAd,CAAoB,MAAO,EAAP,CACpB,GAAIpd,OAAM,CAAG,EAAb,CACA,GAAIykG,WAAU,CAAGvpG,MAAM,CAAC+M,IAAP,CAAYmV,MAAZ,CAAjB,CACA,GAAIjV,IAAJ,CAAStL,CAAT,CAEA,IAAKA,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAG4nG,UAAU,CAACtmG,MAA3B,CAAmCtB,CAAC,EAApC,CAAwC,CACtCsL,GAAG,CAAGs8F,UAAU,CAAC5nG,CAAD,CAAhB,CACA,GAAI2nG,QAAQ,CAACjpG,OAAT,CAAiB4M,GAAjB,GAAyB,CAA7B,CAAgC,SAChCnI,MAAM,CAACmI,GAAD,CAAN,CAAciV,MAAM,CAACjV,GAAD,CAApB,CACD,CAED,MAAOnI,OAAP,CACD,CAED,QAAS0kG,yBAAT,CAAkCtnF,MAAlC,CAA0ConF,QAA1C,CAAoD,CAClD,GAAIpnF,MAAM,EAAI,IAAd,CAAoB,MAAO,EAAP,CAEpB,GAAIpd,OAAM,CAAGukG,6BAA6B,CAACnnF,MAAD,CAASonF,QAAT,CAA1C,CAEA,GAAIr8F,IAAJ,CAAStL,CAAT,CAEA,GAAI3B,MAAM,CAACkpG,qBAAX,CAAkC,CAChC,GAAIO,iBAAgB,CAAGzpG,MAAM,CAACkpG,qBAAP,CAA6BhnF,MAA7B,CAAvB,CAEA,IAAKvgB,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAG8nG,gBAAgB,CAACxmG,MAAjC,CAAyCtB,CAAC,EAA1C,CAA8C,CAC5CsL,GAAG,CAAGw8F,gBAAgB,CAAC9nG,CAAD,CAAtB,CACA,GAAI2nG,QAAQ,CAACjpG,OAAT,CAAiB4M,GAAjB,GAAyB,CAA7B,CAAgC,SAChC,GAAI,CAACjN,MAAM,CAAC8C,SAAP,CAAiB4mG,oBAAjB,CAAsC9oG,IAAtC,CAA2CshB,MAA3C,CAAmDjV,GAAnD,CAAL,CAA8D,SAC9DnI,MAAM,CAACmI,GAAD,CAAN,CAAciV,MAAM,CAACjV,GAAD,CAApB,CACD,CACF,CAED,MAAOnI,OAAP,CACD,CAED,QAAS6kG,mBAAT,CAA4B7pG,GAA5B,CAAiC,CAC/B,MAAO8pG,mBAAkB,CAAC9pG,GAAD,CAAlB,EAA2B+pG,gBAAgB,CAAC/pG,GAAD,CAA3C,EAAoDgqG,kBAAkB,EAA7E,CACD,CAED,QAASF,mBAAT,CAA4B9pG,GAA5B,CAAiC,CAC/B,GAAImF,KAAK,CAACC,OAAN,CAAcpF,GAAd,CAAJ,CAAwB,CACtB,IAAK,GAAI6B,EAAC,CAAG,CAAR,CAAWooG,IAAI,CAAG,GAAI9kG,MAAJ,CAAUnF,GAAG,CAACmD,MAAd,CAAvB,CAA8CtB,CAAC,CAAG7B,GAAG,CAACmD,MAAtD,CAA8DtB,CAAC,EAA/D,CAAmEooG,IAAI,CAACpoG,CAAD,CAAJ,CAAU7B,GAAG,CAAC6B,CAAD,CAAb,CAEnE,MAAOooG,KAAP,CACD,CACF,CAED,QAASF,iBAAT,CAA0BG,IAA1B,CAAgC,CAC9B,GAAInjG,MAAM,CAACC,QAAP,GAAmB9G,OAAM,CAACgqG,IAAD,CAAzB,EAAmChqG,MAAM,CAAC8C,SAAP,CAAiBvC,QAAjB,CAA0BK,IAA1B,CAA+BopG,IAA/B,IAAyC,oBAAhF,CAAsG,MAAO/kG,MAAK,CAACwsE,IAAN,CAAWu4B,IAAX,CAAP,CACvG,CAED,QAASF,mBAAT,EAA8B,CAC5B,KAAM,IAAIvsF,UAAJ,CAAc,iDAAd,CAAN,CACD,CAED,GAAIhb,0BAAO,CAAG,QAAd,CAEA,QAAS4hE,UAAT,CAAmBpyD,OAAnB,CAA4B,CAC1B,GAAI,MAAOnS,OAAP,GAAkB,WAAlB,EAAiCA,MAAM,CAACskE,SAA5C,CAAuD,CACrD,MAAO,CAAC,CAERA,SAAS,CAACC,SAAV,CAAoBt4D,KAApB,CAA0BkG,OAA1B,CAFA,CAGD,CACF,CAED,GAAIk4F,WAAU,CAAG9lC,SAAS,CAAC,uDAAD,CAA1B,CACA,GAAI+lC,KAAI,CAAG/lC,SAAS,CAAC,OAAD,CAApB,CACA,GAAIgmC,QAAO,CAAGhmC,SAAS,CAAC,UAAD,CAAvB,CACA,GAAIimC,OAAM,CAAGjmC,SAAS,CAAC,SAAD,CAAT,EAAwB,CAACA,SAAS,CAAC,SAAD,CAAlC,EAAiD,CAACA,SAAS,CAAC,UAAD,CAAxE,CACA,GAAIkmC,IAAG,CAAGlmC,SAAS,CAAC,iBAAD,CAAnB,CACA,GAAImmC,iBAAgB,CAAGnmC,SAAS,CAAC,SAAD,CAAT,EAAwBA,SAAS,CAAC,UAAD,CAAxD,CAEA,GAAIomC,YAAW,CAAG,CAChBC,OAAO,CAAE,KADO,CAEhBC,OAAO,CAAE,KAFO,CAAlB,CAKA,QAAS9jF,qBAAT,CAAYrZ,EAAZ,CAAgByZ,KAAhB,CAAuBpkB,EAAvB,CAA2B,CACzB2K,EAAE,CAACwB,gBAAH,CAAoBiY,KAApB,CAA2BpkB,EAA3B,CAA+B,CAACsnG,UAAD,EAAeM,WAA9C,EACD,CAED,QAASvjF,sBAAT,CAAa1Z,EAAb,CAAiByZ,KAAjB,CAAwBpkB,EAAxB,CAA4B,CAC1B2K,EAAE,CAAC6R,mBAAH,CAAuB4H,KAAvB,CAA8BpkB,EAA9B,CAAkC,CAACsnG,UAAD,EAAeM,WAAjD,EACD,CAED,QAAS9jG,0BAAT,CAEA6G,EAFA,CAIA7K,QAJA,CAIU,CACR,GAAI,CAACA,QAAL,CAAe,OACfA,QAAQ,CAAC,CAAD,CAAR,GAAgB,GAAhB,GAAwBA,QAAQ,CAAGA,QAAQ,CAACy/F,SAAT,CAAmB,CAAnB,CAAnC,EAEA,GAAI50F,EAAJ,CAAQ,CACN,GAAI,CACF,GAAIA,EAAE,CAAC7G,OAAP,CAAgB,CACd,MAAO6G,GAAE,CAAC7G,OAAH,CAAWhE,QAAX,CAAP,CACD,CAFD,IAEO,IAAI6K,EAAE,CAAC0C,iBAAP,CAA0B,CAC/B,MAAO1C,GAAE,CAAC0C,iBAAH,CAAqBvN,QAArB,CAAP,CACD,CAFM,IAEA,IAAI6K,EAAE,CAACuC,qBAAP,CAA8B,CACnC,MAAOvC,GAAE,CAACuC,qBAAH,CAAyBpN,QAAzB,CAAP,CACD,CACF,CAAC,MAAO4H,CAAP,CAAU,CACV,MAAO,MAAP,CACD,CACF,CAED,MAAO,MAAP,CACD,CAED,QAASqgG,gBAAT,CAAyBp9F,EAAzB,CAA6B,CAC3B,MAAOA,GAAE,CAAC81B,IAAH,EAAW91B,EAAE,GAAK7N,QAAlB,EAA8B6N,EAAE,CAAC81B,IAAH,CAAQpiC,QAAtC,CAAiDsM,EAAE,CAAC81B,IAApD,CAA2D91B,EAAE,CAAClL,UAArE,CACD,CAED,QAASiX,QAAT,CAEA/L,EAFA,CAIA7K,QAJA,CAMAkoG,GANA,CAMKC,UANL,CAMiB,CACf,GAAIt9F,EAAJ,CAAQ,CACNq9F,GAAG,CAAGA,GAAG,EAAIlrG,QAAb,CAEA,EAAG,CACD,GAAIgD,QAAQ,EAAI,IAAZ,GAAqBA,QAAQ,CAAC,CAAD,CAAR,GAAgB,GAAhB,CAAsB6K,EAAE,CAAClL,UAAH,GAAkBuoG,GAAlB,EAAyBlkG,yBAAO,CAAC6G,EAAD,CAAK7K,QAAL,CAAtD,CAAuEgE,yBAAO,CAAC6G,EAAD,CAAK7K,QAAL,CAAnG,GAAsHmoG,UAAU,EAAIt9F,EAAE,GAAKq9F,GAA/I,CAAoJ,CAClJ,MAAOr9F,GAAP,CACD,CAED,GAAIA,EAAE,GAAKq9F,GAAX,CAAgB,MAEjB,CAPD,MAOSr9F,EAAE,CAAGo9F,eAAe,CAACp9F,EAAD,CAP7B,EAQD,CAED,MAAO,KAAP,CACD,CAED,GAAIu9F,QAAO,CAAG,MAAd,CAEA,QAAS9uE,YAAT,CAAqBzuB,EAArB,CAAyB5I,IAAzB,CAA+B2X,KAA/B,CAAsC,CACpC,GAAI/O,EAAE,EAAI5I,IAAV,CAAgB,CACd,GAAI4I,EAAE,CAAC2yE,SAAP,CAAkB,CAChB3yE,EAAE,CAAC2yE,SAAH,CAAa5jE,KAAK,CAAG,KAAH,CAAW,QAA7B,EAAuC3X,IAAvC,EACD,CAFD,IAEO,CACL,GAAIsK,UAAS,CAAG,CAAC,IAAM1B,EAAE,CAAC0B,SAAT,CAAqB,GAAtB,EAA2BzJ,OAA3B,CAAmCslG,OAAnC,CAA4C,GAA5C,EAAiDtlG,OAAjD,CAAyD,IAAMb,IAAN,CAAa,GAAtE,CAA2E,GAA3E,CAAhB,CACA4I,EAAE,CAAC0B,SAAH,CAAe,CAACA,SAAS,EAAIqN,KAAK,CAAG,IAAM3X,IAAT,CAAgB,EAAzB,CAAV,EAAwCa,OAAxC,CAAgDslG,OAAhD,CAAyD,GAAzD,CAAf,CACD,CACF,CACF,CAED,QAASloF,IAAT,CAAarV,EAAb,CAAiBqT,IAAjB,CAAuB/e,GAAvB,CAA4B,CAC1B,GAAI6gB,MAAK,CAAGnV,EAAE,EAAIA,EAAE,CAACmV,KAArB,CAEA,GAAIA,KAAJ,CAAW,CACT,GAAI7gB,GAAG,GAAK,IAAK,EAAjB,CAAoB,CAClB,GAAInC,QAAQ,CAACmP,WAAT,EAAwBnP,QAAQ,CAACmP,WAAT,CAAqB+gB,gBAAjD,CAAmE,CACjE/tB,GAAG,CAAGnC,QAAQ,CAACmP,WAAT,CAAqB+gB,gBAArB,CAAsCriB,EAAtC,CAA0C,EAA1C,CAAN,CACD,CAFD,IAEO,IAAIA,EAAE,CAACw9F,YAAP,CAAqB,CAC1BlpG,GAAG,CAAG0L,EAAE,CAACw9F,YAAT,CACD,CAED,MAAOnqF,KAAI,GAAK,IAAK,EAAd,CAAkB/e,GAAlB,CAAwBA,GAAG,CAAC+e,IAAD,CAAlC,CACD,CARD,IAQO,CACL,GAAI,EAAEA,IAAI,GAAI8B,MAAV,GAAoB9B,IAAI,CAACtgB,OAAL,CAAa,QAAb,IAA2B,CAAC,CAApD,CAAuD,CACrDsgB,IAAI,CAAG,WAAaA,IAApB,CACD,CAED8B,KAAK,CAAC9B,IAAD,CAAL,CAAc/e,GAAG,EAAI,MAAOA,IAAP,GAAe,QAAf,CAA0B,EAA1B,CAA+B,IAAnC,CAAjB,CACD,CACF,CACF,CAED,QAASmpG,OAAT,CAAgBz9F,EAAhB,CAAoB09F,QAApB,CAA8B,CAC5B,GAAIC,kBAAiB,CAAG,EAAxB,CAEA,GAAI,MAAO39F,GAAP,GAAc,QAAlB,CAA4B,CAC1B29F,iBAAiB,CAAG39F,EAApB,CACD,CAFD,IAEO,CACL,EAAG,CACD,GAAIquC,UAAS,CAAGh5B,GAAG,CAACrV,EAAD,CAAK,WAAL,CAAnB,CAEA,GAAIquC,SAAS,EAAIA,SAAS,GAAK,MAA/B,CAAuC,CACrCsvD,iBAAiB,CAAGtvD,SAAS,CAAG,GAAZ,CAAkBsvD,iBAAtC,CACD,CAGF,CARD,MAQS,CAACD,QAAD,GAAc19F,EAAE,CAAGA,EAAE,CAAClL,UAAtB,CART,EASD,CAED,GAAI8oG,SAAQ,CAAGtrG,MAAM,CAACurG,SAAP,EAAoBvrG,MAAM,CAACwrG,eAA3B,EAA8CxrG,MAAM,CAACyrG,SAArD,EAAkEzrG,MAAM,CAAC0rG,WAAxF,CAGA,MAAOJ,SAAQ,EAAI,GAAIA,SAAJ,CAAaD,iBAAb,CAAnB,CACD,CAED,QAAS37F,KAAT,CAAcq7F,GAAd,CAAmBpxD,OAAnB,CAA4BzyC,QAA5B,CAAsC,CACpC,GAAI6jG,GAAJ,CAAS,CACP,GAAI5hG,KAAI,CAAG4hG,GAAG,CAACt+F,oBAAJ,CAAyBktC,OAAzB,CAAX,CACI53C,CAAC,CAAG,CADR,CAEIsW,CAAC,CAAGlP,IAAI,CAAC9F,MAFb,CAIA,GAAI6D,QAAJ,CAAc,CACZ,KAAOnF,CAAC,CAAGsW,CAAX,CAActW,CAAC,EAAf,CAAmB,CACjBmF,QAAQ,CAACiC,IAAI,CAACpH,CAAD,CAAL,CAAUA,CAAV,CAAR,CACD,CACF,CAED,MAAOoH,KAAP,CACD,CAED,MAAO,EAAP,CACD,CAED,QAASwiG,0BAAT,EAAqC,CACnC,GAAIC,iBAAgB,CAAG/rG,QAAQ,CAAC+rG,gBAAhC,CAEA,GAAIA,gBAAJ,CAAsB,CACpB,MAAOA,iBAAP,CACD,CAFD,IAEO,CACL,MAAO/rG,SAAQ,CAACgP,eAAhB,CACD,CACF,CAYD,QAASg9F,QAAT,CAAiBn+F,EAAjB,CAAqBo+F,yBAArB,CAAgDC,yBAAhD,CAA2EC,SAA3E,CAAsF97E,SAAtF,CAAiG,CAC/F,GAAI,CAACxiB,EAAE,CAAC8mB,qBAAJ,EAA6B9mB,EAAE,GAAK1N,MAAxC,CAAgD,OAChD,GAAIisG,OAAJ,CAAYh9F,GAAZ,CAAiBylB,IAAjB,CAAuBilD,MAAvB,CAA+BlpD,KAA/B,CAAsCuG,MAAtC,CAA8CpG,KAA9C,CAEA,GAAIljB,EAAE,GAAK1N,MAAP,EAAiB0N,EAAE,GAAKi+F,yBAAyB,EAArD,CAAyD,CACvDM,MAAM,CAAGv+F,EAAE,CAAC8mB,qBAAH,EAAT,CACAvlB,GAAG,CAAGg9F,MAAM,CAACh9F,GAAb,CACAylB,IAAI,CAAGu3E,MAAM,CAACv3E,IAAd,CACAilD,MAAM,CAAGsyB,MAAM,CAACtyB,MAAhB,CACAlpD,KAAK,CAAGw7E,MAAM,CAACx7E,KAAf,CACAuG,MAAM,CAAGi1E,MAAM,CAACj1E,MAAhB,CACApG,KAAK,CAAGq7E,MAAM,CAACr7E,KAAf,CACD,CARD,IAQO,CACL3hB,GAAG,CAAG,CAAN,CACAylB,IAAI,CAAG,CAAP,CACAilD,MAAM,CAAG35E,MAAM,CAACksG,WAAhB,CACAz7E,KAAK,CAAGzwB,MAAM,CAACmsG,UAAf,CACAn1E,MAAM,CAAGh3B,MAAM,CAACksG,WAAhB,CACAt7E,KAAK,CAAG5wB,MAAM,CAACmsG,UAAf,CACD,CAED,GAAI,CAACL,yBAAyB,EAAIC,yBAA9B,GAA4Dr+F,EAAE,GAAK1N,MAAvE,CAA+E,CAE7EkwB,SAAS,CAAGA,SAAS,EAAIxiB,EAAE,CAAClL,UAA5B,CAGA,GAAI,CAAC6nG,UAAL,CAAiB,CACf,EAAG,CACD,GAAIn6E,SAAS,EAAIA,SAAS,CAACsE,qBAAvB,GAAiDzR,GAAG,CAACmN,SAAD,CAAY,WAAZ,CAAH,GAAgC,MAAhC,EAA0C67E,yBAAyB,EAAIhpF,GAAG,CAACmN,SAAD,CAAY,UAAZ,CAAH,GAA+B,QAAvJ,CAAJ,CAAsK,CACpK,GAAIk8E,cAAa,CAAGl8E,SAAS,CAACsE,qBAAV,EAApB,CAEAvlB,GAAG,EAAIm9F,aAAa,CAACn9F,GAAd,CAAoBwsB,QAAQ,CAAC1Y,GAAG,CAACmN,SAAD,CAAY,kBAAZ,CAAJ,CAAnC,CACAwE,IAAI,EAAI03E,aAAa,CAAC13E,IAAd,CAAqB+G,QAAQ,CAAC1Y,GAAG,CAACmN,SAAD,CAAY,mBAAZ,CAAJ,CAArC,CACAypD,MAAM,CAAG1qE,GAAG,CAAGg9F,MAAM,CAACj1E,MAAtB,CACAvG,KAAK,CAAGiE,IAAI,CAAGu3E,MAAM,CAACr7E,KAAtB,CACA,MACD,CAGF,CAZD,MAYSV,SAAS,CAAGA,SAAS,CAAC1tB,UAZ/B,EAaD,CACF,CAED,GAAIwpG,SAAS,EAAIt+F,EAAE,GAAK1N,MAAxB,CAAgC,CAE9B,GAAIqsG,SAAQ,CAAGlB,MAAM,CAACj7E,SAAS,EAAIxiB,EAAd,CAArB,CACI4+F,MAAM,CAAGD,QAAQ,EAAIA,QAAQ,CAACtjG,CADlC,CAEIwjG,MAAM,CAAGF,QAAQ,EAAIA,QAAQ,CAAC3+D,CAFlC,CAIA,GAAI2+D,QAAJ,CAAc,CACZp9F,GAAG,EAAIs9F,MAAP,CACA73E,IAAI,EAAI43E,MAAR,CACA17E,KAAK,EAAI07E,MAAT,CACAt1E,MAAM,EAAIu1E,MAAV,CACA5yB,MAAM,CAAG1qE,GAAG,CAAG+nB,MAAf,CACAvG,KAAK,CAAGiE,IAAI,CAAG9D,KAAf,CACD,CACF,CAED,MAAO,CACL3hB,GAAG,CAAEA,GADA,CAELylB,IAAI,CAAEA,IAFD,CAGLilD,MAAM,CAAEA,MAHH,CAILlpD,KAAK,CAAEA,KAJF,CAKLG,KAAK,CAAEA,KALF,CAMLoG,MAAM,CAAEA,MANH,CAAP,CAQD,CAUD,QAASw1E,eAAT,CAAwB9+F,EAAxB,CAA4B++F,MAA5B,CAAoCC,UAApC,CAAgD,CAC9C,GAAI15F,OAAM,CAAG25F,0BAA0B,CAACj/F,EAAD,CAAK,IAAL,CAAvC,CACIk/F,SAAS,CAAGf,OAAO,CAACn+F,EAAD,CAAP,CAAY++F,MAAZ,CADhB,CAIA,MAAOz5F,MAAP,CAAe,CACb,GAAI65F,cAAa,CAAGhB,OAAO,CAAC74F,MAAD,CAAP,CAAgB05F,UAAhB,CAApB,CACIloE,OAAO,CAAG,IAAK,EADnB,CAGA,GAAIkoE,UAAU,GAAK,KAAf,EAAwBA,UAAU,GAAK,MAA3C,CAAmD,CACjDloE,OAAO,CAAGooE,SAAS,EAAIC,aAAvB,CACD,CAFD,IAEO,CACLroE,OAAO,CAAGooE,SAAS,EAAIC,aAAvB,CACD,CAED,GAAI,CAACroE,OAAL,CAAc,MAAOxxB,OAAP,CACd,GAAIA,MAAM,GAAK24F,yBAAyB,EAAxC,CAA4C,MAC5C34F,MAAM,CAAG25F,0BAA0B,CAAC35F,MAAD,CAAS,KAAT,CAAnC,CACD,CAED,MAAO,MAAP,CACD,CAWD,QAAS85F,SAAT,CAAkBp/F,EAAlB,CAAsBq/F,QAAtB,CAAgCloG,OAAhC,CAAyC,CACvC,GAAImoG,aAAY,CAAG,CAAnB,CACIjrG,CAAC,CAAG,CADR,CAEIoX,QAAQ,CAAGzL,EAAE,CAACyL,QAFlB,CAIA,MAAOpX,CAAC,CAAGoX,QAAQ,CAAC9V,MAApB,CAA4B,CAC1B,GAAI8V,QAAQ,CAACpX,CAAD,CAAR,CAAY8gB,KAAZ,CAAkBC,OAAlB,GAA8B,MAA9B,EAAwC3J,QAAQ,CAACpX,CAAD,CAAR,GAAgBkrG,QAAQ,CAACC,KAAjE,EAA0E/zF,QAAQ,CAACpX,CAAD,CAAR,GAAgBkrG,QAAQ,CAACE,OAAnG,EAA8G1zF,OAAO,CAACN,QAAQ,CAACpX,CAAD,CAAT,CAAc8C,OAAO,CAACuoG,SAAtB,CAAiC1/F,EAAjC,CAAqC,KAArC,CAAzH,CAAsK,CACpK,GAAIs/F,YAAY,GAAKD,QAArB,CAA+B,CAC7B,MAAO5zF,SAAQ,CAACpX,CAAD,CAAf,CACD,CAEDirG,YAAY,GACb,CAEDjrG,CAAC,GACF,CAED,MAAO,KAAP,CACD,CASD,QAASmR,UAAT,CAAmBxF,EAAnB,CAAuB7K,QAAvB,CAAiC,CAC/B,GAAIyB,KAAI,CAAGoJ,EAAE,CAAC2/F,gBAAd,CAEA,MAAO/oG,IAAI,GAAKA,IAAI,GAAK2oG,QAAQ,CAACC,KAAlB,EAA2BnqF,GAAG,CAACze,IAAD,CAAO,SAAP,CAAH,GAAyB,MAApD,EAA8DzB,QAAQ,EAAI,CAACgE,yBAAO,CAACvC,IAAD,CAAOzB,QAAP,CAAvF,CAAX,CAAqH,CACnHyB,IAAI,CAAGA,IAAI,CAACgpG,sBAAZ,CACD,CAED,MAAOhpG,KAAI,EAAI,IAAf,CACD,CAUD,QAASoV,wBAAT,CAAehM,EAAf,CAAmB7K,QAAnB,CAA6B,CAC3B,GAAI6W,MAAK,CAAG,CAAZ,CAEA,GAAI,CAAChM,EAAD,EAAO,CAACA,EAAE,CAAClL,UAAf,CAA2B,CACzB,MAAO,CAAC,CAAR,CACD,CAID,MAAOkL,EAAE,CAAGA,EAAE,CAAC4/F,sBAAf,CAAuC,CACrC,GAAI5/F,EAAE,CAAClC,QAAH,CAAY4U,WAAZ,KAA8B,UAA9B,EAA4C1S,EAAE,GAAKu/F,QAAQ,CAAChoG,KAA5D,GAAsE,CAACpC,QAAD,EAAagE,yBAAO,CAAC6G,EAAD,CAAK7K,QAAL,CAA1F,CAAJ,CAA+G,CAC7G6W,KAAK,GACN,CACF,CAED,MAAOA,MAAP,CACD,CASD,QAAS6zF,wBAAT,CAAiC7/F,EAAjC,CAAqC,CACnC,GAAI8/F,WAAU,CAAG,CAAjB,CACItxB,SAAS,CAAG,CADhB,CAEIuxB,WAAW,CAAG9B,yBAAyB,EAF3C,CAIA,GAAIj+F,EAAJ,CAAQ,CACN,EAAG,CACD,GAAI2+F,SAAQ,CAAGlB,MAAM,CAACz9F,EAAD,CAArB,CACI4+F,MAAM,CAAGD,QAAQ,CAACtjG,CADtB,CAEIwjG,MAAM,CAAGF,QAAQ,CAAC3+D,CAFtB,CAGA8/D,UAAU,EAAI9/F,EAAE,CAACooB,UAAH,CAAgBw2E,MAA9B,CACApwB,SAAS,EAAIxuE,EAAE,CAACmoB,SAAH,CAAe02E,MAA5B,CACD,CAND,MAMS7+F,EAAE,GAAK+/F,WAAP,GAAuB//F,EAAE,CAAGA,EAAE,CAAClL,UAA/B,CANT,EAOD,CAED,MAAO,CAACgrG,UAAD,CAAatxB,SAAb,CAAP,CACD,CASD,QAASwxB,cAAT,CAAuBxtG,GAAvB,CAA4BiB,GAA5B,CAAiC,CAC/B,IAAK,GAAIY,EAAT,GAAc7B,IAAd,CAAmB,CACjB,GAAI,CAACA,GAAG,CAACW,cAAJ,CAAmBkB,CAAnB,CAAL,CAA4B,SAE5B,IAAK,GAAIsL,IAAT,GAAgBlM,IAAhB,CAAqB,CACnB,GAAIA,GAAG,CAACN,cAAJ,CAAmBwM,GAAnB,GAA2BlM,GAAG,CAACkM,GAAD,CAAH,GAAanN,GAAG,CAAC6B,CAAD,CAAH,CAAOsL,GAAP,CAA5C,CAAyD,MAAOogC,OAAM,CAAC1rC,CAAD,CAAb,CAC1D,CACF,CAED,MAAO,CAAC,CAAR,CACD,CAED,QAAS4qG,2BAAT,CAAoCj/F,EAApC,CAAwCigG,WAAxC,CAAqD,CAEnD,GAAI,CAACjgG,EAAD,EAAO,CAACA,EAAE,CAAC8mB,qBAAf,CAAsC,MAAOm3E,0BAAyB,EAAhC,CACtC,GAAI1nG,KAAI,CAAGyJ,EAAX,CACA,GAAIkgG,QAAO,CAAG,KAAd,CAEA,EAAG,CAED,GAAI3pG,IAAI,CAAC4pG,WAAL,CAAmB5pG,IAAI,CAAC6pG,WAAxB,EAAuC7pG,IAAI,CAACm2E,YAAL,CAAoBn2E,IAAI,CAACq2E,YAApE,CAAkF,CAChF,GAAIyzB,QAAO,CAAGhrF,GAAG,CAAC9e,IAAD,CAAjB,CAEA,GAAIA,IAAI,CAAC4pG,WAAL,CAAmB5pG,IAAI,CAAC6pG,WAAxB,GAAwCC,OAAO,CAACh2E,SAAR,EAAqB,MAArB,EAA+Bg2E,OAAO,CAACh2E,SAAR,EAAqB,QAA5F,GAAyG9zB,IAAI,CAACm2E,YAAL,CAAoBn2E,IAAI,CAACq2E,YAAzB,GAA0CyzB,OAAO,CAAC/1E,SAAR,EAAqB,MAArB,EAA+B+1E,OAAO,CAAC/1E,SAAR,EAAqB,QAA9F,CAA7G,CAAsN,CACpN,GAAI,CAAC/zB,IAAI,CAACuwB,qBAAN,EAA+BvwB,IAAI,GAAKpE,QAAQ,CAACkkB,IAArD,CAA2D,MAAO4nF,0BAAyB,EAAhC,CAC3D,GAAIiC,OAAO,EAAID,WAAf,CAA4B,MAAO1pG,KAAP,CAC5B2pG,OAAO,CAAG,IAAV,CACD,CACF,CAGF,CAbD,MAaS3pG,IAAI,CAAGA,IAAI,CAACzB,UAbrB,EAeA,MAAOmpG,0BAAyB,EAAhC,CACD,CAED,QAAS/mG,OAAT,CAAgBopG,GAAhB,CAAqBxsG,GAArB,CAA0B,CACxB,GAAIwsG,GAAG,EAAIxsG,GAAX,CAAgB,CACd,IAAK,GAAI6L,IAAT,GAAgB7L,IAAhB,CAAqB,CACnB,GAAIA,GAAG,CAACX,cAAJ,CAAmBwM,GAAnB,CAAJ,CAA6B,CAC3B2gG,GAAG,CAAC3gG,GAAD,CAAH,CAAW7L,GAAG,CAAC6L,GAAD,CAAd,CACD,CACF,CACF,CAED,MAAO2gG,IAAP,CACD,CAED,QAASC,YAAT,CAAqBC,KAArB,CAA4BC,KAA5B,CAAmC,CACjC,MAAO1oG,KAAI,CAACwrB,KAAL,CAAWi9E,KAAK,CAACj/F,GAAjB,IAA0BxJ,IAAI,CAACwrB,KAAL,CAAWk9E,KAAK,CAACl/F,GAAjB,CAA1B,EAAmDxJ,IAAI,CAACwrB,KAAL,CAAWi9E,KAAK,CAACx5E,IAAjB,IAA2BjvB,IAAI,CAACwrB,KAAL,CAAWk9E,KAAK,CAACz5E,IAAjB,CAA9E,EAAwGjvB,IAAI,CAACwrB,KAAL,CAAWi9E,KAAK,CAACl3E,MAAjB,IAA6BvxB,IAAI,CAACwrB,KAAL,CAAWk9E,KAAK,CAACn3E,MAAjB,CAArI,EAAiKvxB,IAAI,CAACwrB,KAAL,CAAWi9E,KAAK,CAACt9E,KAAjB,IAA4BnrB,IAAI,CAACwrB,KAAL,CAAWk9E,KAAK,CAACv9E,KAAjB,CAApM,CACD,CAED,GAAIw9E,iBAAJ,CAEA,QAAS/yD,2BAAT,CAAkBt3C,QAAlB,CAA4B4pC,EAA5B,CAAgC,CAC9B,MAAO,WAAY,CACjB,GAAI,CAACygE,gBAAL,CAAuB,CACrB,GAAI/6F,KAAI,CAAGlP,SAAX,CACIkqG,KAAK,CAAG,IADZ,CAGA,GAAIh7F,IAAI,CAAChQ,MAAL,GAAgB,CAApB,CAAuB,CACrBU,QAAQ,CAAC/C,IAAT,CAAcqtG,KAAd,CAAqBh7F,IAAI,CAAC,CAAD,CAAzB,EACD,CAFD,IAEO,CACLtP,QAAQ,CAACG,KAAT,CAAemqG,KAAf,CAAsBh7F,IAAtB,EACD,CAED+6F,gBAAgB,CAAGjwF,UAAU,CAAC,UAAY,CACxCiwF,gBAAgB,CAAG,IAAK,EAAxB,CACD,CAF4B,CAE1BzgE,EAF0B,CAA7B,CAGD,CACF,CAfD,CAgBD,CAED,QAAS2gE,eAAT,EAA0B,CACxB9zE,YAAY,CAAC4zE,gBAAD,CAAZ,CACAA,gBAAgB,CAAG,IAAK,EAAxB,CACD,CAED,QAASlzB,SAAT,CAAkBxtE,EAAlB,CAAsBs3D,CAAtB,CAAyBp4B,CAAzB,CAA4B,CAC1Bl/B,EAAE,CAACooB,UAAH,EAAiBkvC,CAAjB,CACAt3D,EAAE,CAACmoB,SAAH,EAAgB+W,CAAhB,CACD,CAED,QAAS3nC,MAAT,CAAeyI,EAAf,CAAmB,CACjB,GAAI6gG,QAAO,CAAGvuG,MAAM,CAACuuG,OAArB,CACA,GAAIplE,EAAC,CAAGnpC,MAAM,CAAC4C,MAAP,EAAiB5C,MAAM,CAACwuG,KAAhC,CAEA,GAAID,OAAO,EAAIA,OAAO,CAACE,GAAvB,CAA4B,CAC1B,MAAOF,QAAO,CAACE,GAAR,CAAY/gG,EAAZ,EAAgB2Y,SAAhB,CAA0B,IAA1B,CAAP,CACD,CAFD,IAEO,IAAI8iB,CAAJ,CAAO,CACZ,MAAOA,EAAC,CAACz7B,EAAD,CAAD,CAAMzI,KAAN,CAAY,IAAZ,EAAkB,CAAlB,CAAP,CACD,CAFM,IAEA,CACL,MAAOyI,GAAE,CAAC2Y,SAAH,CAAa,IAAb,CAAP,CACD,CACF,CAED,QAASqoF,QAAT,CAAiBhhG,EAAjB,CAAqB+5B,IAArB,CAA2B,CACzB1kB,GAAG,CAACrV,EAAD,CAAK,UAAL,CAAiB,UAAjB,CAAH,CACAqV,GAAG,CAACrV,EAAD,CAAK,KAAL,CAAY+5B,IAAI,CAACx4B,GAAjB,CAAH,CACA8T,GAAG,CAACrV,EAAD,CAAK,MAAL,CAAa+5B,IAAI,CAAC/S,IAAlB,CAAH,CACA3R,GAAG,CAACrV,EAAD,CAAK,OAAL,CAAc+5B,IAAI,CAAC7W,KAAnB,CAAH,CACA7N,GAAG,CAACrV,EAAD,CAAK,QAAL,CAAe+5B,IAAI,CAACzQ,MAApB,CAAH,CACD,CAED,QAAS23E,UAAT,CAAmBjhG,EAAnB,CAAuB,CACrBqV,GAAG,CAACrV,EAAD,CAAK,UAAL,CAAiB,EAAjB,CAAH,CACAqV,GAAG,CAACrV,EAAD,CAAK,KAAL,CAAY,EAAZ,CAAH,CACAqV,GAAG,CAACrV,EAAD,CAAK,MAAL,CAAa,EAAb,CAAH,CACAqV,GAAG,CAACrV,EAAD,CAAK,OAAL,CAAc,EAAd,CAAH,CACAqV,GAAG,CAACrV,EAAD,CAAK,QAAL,CAAe,EAAf,CAAH,CACD,CAED,GAAIlI,0BAAO,CAAG,WAAa,GAAI6C,KAAJ,GAAW8nC,OAAX,EAA3B,CAEA,QAASy+D,sBAAT,EAAiC,CAC/B,GAAIC,gBAAe,CAAG,EAAtB,CACIC,mBADJ,CAEA,MAAO,CACLC,qBAAqB,CAAE,UAAiC,CACtDF,eAAe,CAAG,EAAlB,CACA,GAAI,CAAC,KAAKhqG,OAAL,CAAaqyB,SAAlB,CAA6B,OAC7B,GAAI/d,SAAQ,CAAG,GAAG7Y,KAAH,CAASU,IAAT,CAAc,KAAK0M,EAAL,CAAQyL,QAAtB,CAAf,CACAA,QAAQ,CAACusD,OAAT,CAAiB,SAAUiS,KAAV,CAAiB,CAChC,GAAI50D,GAAG,CAAC40D,KAAD,CAAQ,SAAR,CAAH,GAA0B,MAA1B,EAAoCA,KAAK,GAAKs1B,QAAQ,CAACC,KAA3D,CAAkE,OAClE2B,eAAe,CAACruG,IAAhB,CAAqB,CACnB0E,MAAM,CAAEyyE,KADW,CAEnBlwC,IAAI,CAAEokE,OAAO,CAACl0B,KAAD,CAFM,CAArB,EAKA,GAAIq3B,SAAQ,CAAG5F,aAAa,CAAC,EAAD,CAAKyF,eAAe,CAACA,eAAe,CAACxrG,MAAhB,CAAyB,CAA1B,CAAf,CAA4CokC,IAAjD,CAA5B,CAGA,GAAIkwC,KAAK,CAACs3B,qBAAV,CAAiC,CAC/B,GAAIC,YAAW,CAAG/D,MAAM,CAACxzB,KAAD,CAAQ,IAAR,CAAxB,CAEA,GAAIu3B,WAAJ,CAAiB,CACfF,QAAQ,CAAC//F,GAAT,EAAgBigG,WAAW,CAAC1iE,CAA5B,CACAwiE,QAAQ,CAACt6E,IAAT,EAAiBw6E,WAAW,CAACtjG,CAA7B,CACD,CACF,CAED+rE,KAAK,CAACq3B,QAAN,CAAiBA,QAAjB,CACD,CApBD,EAqBD,CA1BI,CA2BLG,iBAAiB,CAAE,SAA2B1yF,KAA3B,CAAkC,CACnDoyF,eAAe,CAACruG,IAAhB,CAAqBic,KAArB,EACD,CA7BI,CA8BL2yF,oBAAoB,CAAE,SAA8BlqG,MAA9B,CAAsC,CAC1D2pG,eAAe,CAAClqG,MAAhB,CAAuB+oG,aAAa,CAACmB,eAAD,CAAkB,CACpD3pG,MAAM,CAAEA,MAD4C,CAAlB,CAApC,CAEI,CAFJ,EAGD,CAlCI,CAmCLmqG,UAAU,CAAE,SAAoBtrG,QAApB,CAA8B,CACxC,GAAIsqG,MAAK,CAAG,IAAZ,CAEA,GAAI,CAAC,KAAKxpG,OAAL,CAAaqyB,SAAlB,CAA6B,CAC3BsD,YAAY,CAACs0E,mBAAD,CAAZ,CACA,GAAI,MAAO/qG,SAAP,GAAoB,UAAxB,CAAoCA,QAAQ,GAC5C,OACD,CAED,GAAIurG,UAAS,CAAG,KAAhB,CACIC,aAAa,CAAG,CADpB,CAEAV,eAAe,CAACnpC,OAAhB,CAAwB,SAAUjpD,KAAV,CAAiB,CACvC,GAAI6d,KAAI,CAAG,CAAX,CACIp1B,MAAM,CAAGuX,KAAK,CAACvX,MADnB,CAEI8pG,QAAQ,CAAG9pG,MAAM,CAAC8pG,QAFtB,CAGIQ,MAAM,CAAG3D,OAAO,CAAC3mG,MAAD,CAHpB,CAIIuqG,YAAY,CAAGvqG,MAAM,CAACuqG,YAJ1B,CAKIC,UAAU,CAAGxqG,MAAM,CAACwqG,UALxB,CAMIC,aAAa,CAAGlzF,KAAK,CAACgrB,IAN1B,CAOImoE,YAAY,CAAGzE,MAAM,CAACjmG,MAAD,CAAS,IAAT,CAPzB,CASA,GAAI0qG,YAAJ,CAAkB,CAEhBJ,MAAM,CAACvgG,GAAP,EAAc2gG,YAAY,CAACpjE,CAA3B,CACAgjE,MAAM,CAAC96E,IAAP,EAAek7E,YAAY,CAAChkG,CAA5B,CACD,CAED1G,MAAM,CAACsqG,MAAP,CAAgBA,MAAhB,CAEA,GAAItqG,MAAM,CAAC+pG,qBAAX,CAAkC,CAEhC,GAAIhB,WAAW,CAACwB,YAAD,CAAeD,MAAf,CAAX,EAAqC,CAACvB,WAAW,CAACe,QAAD,CAAWQ,MAAX,CAAjD,EACJ,CAACG,aAAa,CAAC1gG,GAAd,CAAoBugG,MAAM,CAACvgG,GAA5B,GAAoC0gG,aAAa,CAACj7E,IAAd,CAAqB86E,MAAM,CAAC96E,IAAhE,IAA0E,CAACs6E,QAAQ,CAAC//F,GAAT,CAAeugG,MAAM,CAACvgG,GAAvB,GAA+B+/F,QAAQ,CAACt6E,IAAT,CAAgB86E,MAAM,CAAC96E,IAAtD,CAD1E,CACuI,CAErI4F,IAAI,CAAGu1E,iBAAiB,CAACF,aAAD,CAAgBF,YAAhB,CAA8BC,UAA9B,CAA0CrB,KAAK,CAACxpG,OAAhD,CAAxB,CACD,CACF,CAGD,GAAI,CAACopG,WAAW,CAACuB,MAAD,CAASR,QAAT,CAAhB,CAAoC,CAClC9pG,MAAM,CAACuqG,YAAP,CAAsBT,QAAtB,CACA9pG,MAAM,CAACwqG,UAAP,CAAoBF,MAApB,CAEA,GAAI,CAACl1E,IAAL,CAAW,CACTA,IAAI,CAAG+zE,KAAK,CAACxpG,OAAN,CAAcqyB,SAArB,CACD,CAEDm3E,KAAK,CAAC/0E,OAAN,CAAcp0B,MAAd,CAAsByqG,aAAtB,CAAqCH,MAArC,CAA6Cl1E,IAA7C,EACD,CAED,GAAIA,IAAJ,CAAU,CACRg1E,SAAS,CAAG,IAAZ,CACAC,aAAa,CAAG9pG,IAAI,CAAC0tB,GAAL,CAASo8E,aAAT,CAAwBj1E,IAAxB,CAAhB,CACAE,YAAY,CAACt1B,MAAM,CAAC4qG,mBAAR,CAAZ,CACA5qG,MAAM,CAAC4qG,mBAAP,CAA6B3xF,UAAU,CAAC,UAAY,CAClDjZ,MAAM,CAACqqG,aAAP,CAAuB,CAAvB,CACArqG,MAAM,CAACuqG,YAAP,CAAsB,IAAtB,CACAvqG,MAAM,CAAC8pG,QAAP,CAAkB,IAAlB,CACA9pG,MAAM,CAACwqG,UAAP,CAAoB,IAApB,CACAxqG,MAAM,CAAC+pG,qBAAP,CAA+B,IAA/B,CACD,CANsC,CAMpC30E,IANoC,CAAvC,CAOAp1B,MAAM,CAAC+pG,qBAAP,CAA+B30E,IAA/B,CACD,CACF,CApDD,EAqDAE,YAAY,CAACs0E,mBAAD,CAAZ,CAEA,GAAI,CAACQ,SAAL,CAAgB,CACd,GAAI,MAAOvrG,SAAP,GAAoB,UAAxB,CAAoCA,QAAQ,GAC7C,CAFD,IAEO,CACL+qG,mBAAmB,CAAG3wF,UAAU,CAAC,UAAY,CAC3C,GAAI,MAAOpa,SAAP,GAAoB,UAAxB,CAAoCA,QAAQ,GAC7C,CAF+B,CAE7BwrG,aAF6B,CAAhC,CAGD,CAEDV,eAAe,CAAG,EAAlB,CACD,CA9GI,CA+GLv1E,OAAO,CAAE,SAAiBp0B,MAAjB,CAAyB6qG,WAAzB,CAAsCP,MAAtC,CAA8C/5E,QAA9C,CAAwD,CAC/D,GAAIA,QAAJ,CAAc,CACZ1S,GAAG,CAAC7d,MAAD,CAAS,YAAT,CAAuB,EAAvB,CAAH,CACA6d,GAAG,CAAC7d,MAAD,CAAS,WAAT,CAAsB,EAAtB,CAAH,CACA,GAAImnG,SAAQ,CAAGlB,MAAM,CAAC,KAAKz9F,EAAN,CAArB,CACI4+F,MAAM,CAAGD,QAAQ,EAAIA,QAAQ,CAACtjG,CADlC,CAEIwjG,MAAM,CAAGF,QAAQ,EAAIA,QAAQ,CAAC3+D,CAFlC,CAGIsiE,UAAU,CAAG,CAACD,WAAW,CAACr7E,IAAZ,CAAmB86E,MAAM,CAAC96E,IAA3B,GAAoC43E,MAAM,EAAI,CAA9C,CAHjB,CAII2D,UAAU,CAAG,CAACF,WAAW,CAAC9gG,GAAZ,CAAkBugG,MAAM,CAACvgG,GAA1B,GAAkCs9F,MAAM,EAAI,CAA5C,CAJjB,CAKArnG,MAAM,CAACgrG,UAAP,CAAoB,CAAC,CAACF,UAAtB,CACA9qG,MAAM,CAACirG,UAAP,CAAoB,CAAC,CAACF,UAAtB,CACAltF,GAAG,CAAC7d,MAAD,CAAS,WAAT,CAAsB,eAAiB8qG,UAAjB,CAA8B,KAA9B,CAAsCC,UAAtC,CAAmD,OAAzE,CAAH,CACAG,OAAO,CAAClrG,MAAD,CAAP,CAEA6d,GAAG,CAAC7d,MAAD,CAAS,YAAT,CAAuB,aAAeuwB,QAAf,CAA0B,IAA1B,EAAkC,KAAK5wB,OAAL,CAAauwB,MAAb,CAAsB,IAAM,KAAKvwB,OAAL,CAAauwB,MAAzC,CAAkD,EAApF,CAAvB,CAAH,CACArS,GAAG,CAAC7d,MAAD,CAAS,WAAT,CAAsB,oBAAtB,CAAH,CACA,MAAOA,OAAM,CAAC2hC,QAAd,GAA2B,QAA3B,EAAuCrM,YAAY,CAACt1B,MAAM,CAAC2hC,QAAR,CAAnD,CACA3hC,MAAM,CAAC2hC,QAAP,CAAkB1oB,UAAU,CAAC,UAAY,CACvC4E,GAAG,CAAC7d,MAAD,CAAS,YAAT,CAAuB,EAAvB,CAAH,CACA6d,GAAG,CAAC7d,MAAD,CAAS,WAAT,CAAsB,EAAtB,CAAH,CACAA,MAAM,CAAC2hC,QAAP,CAAkB,KAAlB,CACA3hC,MAAM,CAACgrG,UAAP,CAAoB,KAApB,CACAhrG,MAAM,CAACirG,UAAP,CAAoB,KAApB,CACD,CAN2B,CAMzB16E,QANyB,CAA5B,CAOD,CACF,CAxII,CAAP,CA0ID,CAED,QAAS26E,QAAT,CAAiBlrG,MAAjB,CAAyB,CACvB,MAAOA,OAAM,CAAC6rB,WAAd,CACD,CAED,QAAS8+E,kBAAT,CAA2BF,aAA3B,CAA0CX,QAA1C,CAAoDQ,MAApD,CAA4D3qG,OAA5D,CAAqE,CACnE,MAAOY,KAAI,CAACg9D,IAAL,CAAUh9D,IAAI,CAAC8+C,GAAL,CAASyqD,QAAQ,CAAC//F,GAAT,CAAe0gG,aAAa,CAAC1gG,GAAtC,CAA2C,CAA3C,EAAgDxJ,IAAI,CAAC8+C,GAAL,CAASyqD,QAAQ,CAACt6E,IAAT,CAAgBi7E,aAAa,CAACj7E,IAAvC,CAA6C,CAA7C,CAA1D,EAA6GjvB,IAAI,CAACg9D,IAAL,CAAUh9D,IAAI,CAAC8+C,GAAL,CAASyqD,QAAQ,CAAC//F,GAAT,CAAeugG,MAAM,CAACvgG,GAA/B,CAAoC,CAApC,EAAyCxJ,IAAI,CAAC8+C,GAAL,CAASyqD,QAAQ,CAACt6E,IAAT,CAAgB86E,MAAM,CAAC96E,IAAhC,CAAsC,CAAtC,CAAnD,CAA7G,CAA4M7vB,OAAO,CAACqyB,SAA3N,CACD,CAED,GAAIm5E,QAAO,CAAG,EAAd,CACA,GAAIvkB,2BAAQ,CAAG,CACbwkB,mBAAmB,CAAE,IADR,CAAf,CAGA,GAAIC,cAAa,CAAG,CAClBC,KAAK,CAAE,SAAeC,MAAf,CAAuB,CAE5B,IAAK,GAAIhsF,OAAT,GAAmBqnE,2BAAnB,CAA6B,CAC3B,GAAIA,0BAAQ,CAACjrF,cAAT,CAAwB4jB,MAAxB,GAAmC,EAAEA,MAAM,GAAIgsF,OAAZ,CAAvC,CAA4D,CAC1DA,MAAM,CAAChsF,MAAD,CAAN,CAAiBqnE,0BAAQ,CAACrnE,MAAD,CAAzB,CACD,CACF,CAED4rF,OAAO,CAAC7vG,IAAR,CAAaiwG,MAAb,EACD,CAViB,CAWlBC,WAAW,CAAE,SAAqBC,SAArB,CAAgCC,QAAhC,CAA0C9qE,GAA1C,CAA+C,CAC1D,GAAIuoE,MAAK,CAAG,IAAZ,CAEA,KAAKwC,aAAL,CAAqB,KAArB,CAEA/qE,GAAG,CAACuF,MAAJ,CAAa,UAAY,CACvBgjE,KAAK,CAACwC,aAAN,CAAsB,IAAtB,CACD,CAFD,CAIA,GAAIC,gBAAe,CAAGH,SAAS,CAAG,QAAlC,CACAN,OAAO,CAAC3qC,OAAR,CAAgB,SAAU+qC,MAAV,CAAkB,CAChC,GAAI,CAACG,QAAQ,CAACH,MAAM,CAACM,UAAR,CAAb,CAAkC,OAElC,GAAIH,QAAQ,CAACH,MAAM,CAACM,UAAR,CAAR,CAA4BD,eAA5B,CAAJ,CAAkD,CAChDF,QAAQ,CAACH,MAAM,CAACM,UAAR,CAAR,CAA4BD,eAA5B,EAA6C1H,aAAa,CAAC,CACzDwH,QAAQ,CAAEA,QAD+C,CAAD,CAEvD9qE,GAFuD,CAA1D,EAGD,CAID,GAAI8qE,QAAQ,CAAC/rG,OAAT,CAAiB4rG,MAAM,CAACM,UAAxB,GAAuCH,QAAQ,CAACH,MAAM,CAACM,UAAR,CAAR,CAA4BJ,SAA5B,CAA3C,CAAmF,CACjFC,QAAQ,CAACH,MAAM,CAACM,UAAR,CAAR,CAA4BJ,SAA5B,EAAuCvH,aAAa,CAAC,CACnDwH,QAAQ,CAAEA,QADyC,CAAD,CAEjD9qE,GAFiD,CAApD,EAGD,CACF,CAhBD,EAiBD,CAtCiB,CAuClBkrE,iBAAiB,CAAE,SAA2BJ,QAA3B,CAAqCljG,EAArC,CAAyCo+E,QAAzC,CAA4D,CAC7EukB,OAAO,CAAC3qC,OAAR,CAAgB,SAAU+qC,MAAV,CAAkB,CAChC,GAAIM,WAAU,CAAGN,MAAM,CAACM,UAAxB,CACA,GAAI,CAACH,QAAQ,CAAC/rG,OAAT,CAAiBksG,UAAjB,CAAD,EAAiC,CAACN,MAAM,CAACH,mBAA7C,CAAkE,OAClE,GAAIW,YAAW,CAAG,GAAIR,OAAJ,CAAWG,QAAX,CAAqBljG,EAArB,CAAyBkjG,QAAQ,CAAC/rG,OAAlC,CAAlB,CACAosG,WAAW,CAACL,QAAZ,CAAuBA,QAAvB,CACAK,WAAW,CAACpsG,OAAZ,CAAsB+rG,QAAQ,CAAC/rG,OAA/B,CACA+rG,QAAQ,CAACG,UAAD,CAAR,CAAuBE,WAAvB,CAEA9H,QAAQ,CAACrd,QAAD,CAAWmlB,WAAW,CAACnlB,QAAvB,CAAR,CACD,CATD,EAWA,IAAK,GAAIrnE,OAAT,GAAmBmsF,SAAQ,CAAC/rG,OAA5B,CAAqC,CACnC,GAAI,CAAC+rG,QAAQ,CAAC/rG,OAAT,CAAiBhE,cAAjB,CAAgC4jB,MAAhC,CAAL,CAA8C,SAC9C,GAAIuf,SAAQ,CAAG,KAAKktE,YAAL,CAAkBN,QAAlB,CAA4BnsF,MAA5B,CAAoCmsF,QAAQ,CAAC/rG,OAAT,CAAiB4f,MAAjB,CAApC,CAAf,CAEA,GAAI,MAAOuf,SAAP,GAAoB,WAAxB,CAAqC,CACnC4sE,QAAQ,CAAC/rG,OAAT,CAAiB4f,MAAjB,EAA2Buf,QAA3B,CACD,CACF,CACF,CA3DiB,CA4DlBmtE,kBAAkB,CAAE,SAA4BrsG,IAA5B,CAAkC8rG,QAAlC,CAA4C,CAC9D,GAAIQ,gBAAe,CAAG,EAAtB,CACAf,OAAO,CAAC3qC,OAAR,CAAgB,SAAU+qC,MAAV,CAAkB,CAChC,GAAI,MAAOA,OAAM,CAACW,eAAd,GAAkC,UAAtC,CAAkD,OAElDjI,QAAQ,CAACiI,eAAD,CAAkBX,MAAM,CAACW,eAAP,CAAuBpwG,IAAvB,CAA4B4vG,QAAQ,CAACH,MAAM,CAACM,UAAR,CAApC,CAAyDjsG,IAAzD,CAAlB,CAAR,CACD,CAJD,EAKA,MAAOssG,gBAAP,CACD,CApEiB,CAqElBF,YAAY,CAAE,SAAsBN,QAAtB,CAAgC9rG,IAAhC,CAAsCiC,KAAtC,CAA6C,CACzD,GAAIsqG,cAAJ,CACAhB,OAAO,CAAC3qC,OAAR,CAAgB,SAAU+qC,MAAV,CAAkB,CAEhC,GAAI,CAACG,QAAQ,CAACH,MAAM,CAACM,UAAR,CAAb,CAAkC,OAElC,GAAIN,MAAM,CAACa,eAAP,EAA0B,MAAOb,OAAM,CAACa,eAAP,CAAuBxsG,IAAvB,CAAP,GAAwC,UAAtE,CAAkF,CAChFusG,aAAa,CAAGZ,MAAM,CAACa,eAAP,CAAuBxsG,IAAvB,EAA6B9D,IAA7B,CAAkC4vG,QAAQ,CAACH,MAAM,CAACM,UAAR,CAA1C,CAA+DhqG,KAA/D,CAAhB,CACD,CACF,CAPD,EAQA,MAAOsqG,cAAP,CACD,CAhFiB,CAApB,CAmFA,QAASj4B,cAAT,CAAuBm4B,IAAvB,CAA6B,CAC3B,GAAIX,SAAQ,CAAGW,IAAI,CAACX,QAApB,CACIY,MAAM,CAAGD,IAAI,CAACC,MADlB,CAEI1sG,IAAI,CAAGysG,IAAI,CAACzsG,IAFhB,CAGI2sG,QAAQ,CAAGF,IAAI,CAACE,QAHpB,CAIIC,OAAO,CAAGH,IAAI,CAACG,OAJnB,CAKIC,IAAI,CAAGJ,IAAI,CAACI,IALhB,CAMIC,MAAM,CAAGL,IAAI,CAACK,MANlB,CAOIC,QAAQ,CAAGN,IAAI,CAACM,QAPpB,CAQIC,QAAQ,CAAGP,IAAI,CAACO,QARpB,CASIC,iBAAiB,CAAGR,IAAI,CAACQ,iBAT7B,CAUIC,iBAAiB,CAAGT,IAAI,CAACS,iBAV7B,CAWIpoF,aAAa,CAAG2nF,IAAI,CAAC3nF,aAXzB,CAYIqoF,WAAW,CAAGV,IAAI,CAACU,WAZvB,CAaIC,oBAAoB,CAAGX,IAAI,CAACW,oBAbhC,CAcAtB,QAAQ,CAAGA,QAAQ,EAAIY,MAAM,EAAIA,MAAM,CAAChsG,yBAAD,CAAvC,CACA,GAAI,CAACorG,QAAL,CAAe,OACf,GAAI9qE,IAAJ,CACIjhC,OAAO,CAAG+rG,QAAQ,CAAC/rG,OADvB,CAEIstG,MAAM,CAAG,KAAOrtG,IAAI,CAACujD,MAAL,CAAY,CAAZ,EAAejoC,WAAf,EAAP,CAAsCtb,IAAI,CAAC2rC,MAAL,CAAY,CAAZ,CAFnD,CAIA,GAAIzwC,MAAM,CAAC4hG,WAAP,EAAsB,CAACyI,UAAvB,EAAqC,CAACC,IAA1C,CAAgD,CAC9CxkE,GAAG,CAAG,GAAI87D,YAAJ,CAAgB98F,IAAhB,CAAsB,CAC1BmmB,OAAO,CAAE,IADiB,CAE1BC,UAAU,CAAE,IAFc,CAAtB,CAAN,CAID,CALD,IAKO,CACL4a,GAAG,CAAGjmC,QAAQ,CAACuyG,WAAT,CAAqB,OAArB,CAAN,CACAtsE,GAAG,CAACusE,SAAJ,CAAcvtG,IAAd,CAAoB,IAApB,CAA0B,IAA1B,EACD,CAEDghC,GAAG,CAACzM,EAAJ,CAASs4E,IAAI,EAAIH,MAAjB,CACA1rE,GAAG,CAAC+rC,IAAJ,CAAW+/B,MAAM,EAAIJ,MAArB,CACA1rE,GAAG,CAAC09D,IAAJ,CAAWiO,QAAQ,EAAID,MAAvB,CACA1rE,GAAG,CAAC7gC,KAAJ,CAAYysG,OAAZ,CACA5rE,GAAG,CAAC+rE,QAAJ,CAAeA,QAAf,CACA/rE,GAAG,CAACgsE,QAAJ,CAAeA,QAAf,CACAhsE,GAAG,CAACisE,iBAAJ,CAAwBA,iBAAxB,CACAjsE,GAAG,CAACksE,iBAAJ,CAAwBA,iBAAxB,CACAlsE,GAAG,CAAClc,aAAJ,CAAoBA,aAApB,CACAkc,GAAG,CAACwsE,QAAJ,CAAeL,WAAW,CAAGA,WAAW,CAACM,WAAf,CAA6BhtG,SAAvD,CAEA,GAAIitG,mBAAkB,CAAGpJ,aAAa,CAAC,EAAD,CAAK8I,oBAAL,CAA2B3B,aAAa,CAACY,kBAAd,CAAiCrsG,IAAjC,CAAuC8rG,QAAvC,CAA3B,CAAtC,CAEA,IAAK,GAAInsF,OAAT,GAAmB+tF,mBAAnB,CAAuC,CACrC1sE,GAAG,CAACrhB,MAAD,CAAH,CAAc+tF,kBAAkB,CAAC/tF,MAAD,CAAhC,CACD,CAED,GAAI+sF,MAAJ,CAAY,CACVA,MAAM,CAACp4B,aAAP,CAAqBtzC,GAArB,EACD,CAED,GAAIjhC,OAAO,CAACstG,MAAD,CAAX,CAAqB,CACnBttG,OAAO,CAACstG,MAAD,CAAP,CAAgBnxG,IAAhB,CAAqB4vG,QAArB,CAA+B9qE,GAA/B,EACD,CACF,CAED,GAAI4qE,YAAW,CAAG,SAAqBC,SAArB,CAAgCC,QAAhC,CAA0C,CAC1D,GAAIW,KAAI,CAAGptG,SAAS,CAACd,MAAV,CAAmB,CAAnB,EAAwBc,SAAS,CAAC,CAAD,CAAT,GAAiBoB,SAAzC,CAAqDpB,SAAS,CAAC,CAAD,CAA9D,CAAoE,EAA/E,CACIylB,aAAa,CAAG2nF,IAAI,CAACzrE,GADzB,CAEIhlB,IAAI,CAAG8oF,wBAAwB,CAAC2H,IAAD,CAAO,CAAC,KAAD,CAAP,CAFnC,CAIAhB,aAAa,CAACG,WAAd,CAA0B93E,IAA1B,CAA+Bq0E,QAA/B,EAAyC0D,SAAzC,CAAoDC,QAApD,CAA8DxH,aAAa,CAAC,CAC1EqJ,MAAM,CAAEA,MADkE,CAE1EC,QAAQ,CAAEA,QAFgE,CAG1EC,OAAO,CAAEA,OAHiE,CAI1EnB,MAAM,CAAEA,MAJkE,CAK1EoB,MAAM,CAAEA,MALkE,CAM1EC,UAAU,CAAEA,UAN8D,CAO1EnB,OAAO,CAAEA,OAPiE,CAQ1EoB,WAAW,CAAEA,WAR6D,CAS1EC,WAAW,CAAEC,KAT6D,CAU1Ef,WAAW,CAAEA,WAV6D,CAW1EgB,cAAc,CAAEhG,QAAQ,CAAChsE,MAXiD,CAY1ErX,aAAa,CAAEA,aAZ2D,CAa1EioF,QAAQ,CAAEA,QAbgE,CAc1EE,iBAAiB,CAAEA,iBAduD,CAe1ED,QAAQ,CAAEA,0BAfgE,CAgB1EE,iBAAiB,CAAEA,iBAhBuD,CAiB1EkB,kBAAkB,CAAEC,mBAjBsD,CAkB1EC,oBAAoB,CAAEC,qBAlBoD,CAmB1EC,cAAc,CAAE,UAA0B,CACxCR,WAAW,CAAG,IAAd,CACD,CArByE,CAsB1ES,aAAa,CAAE,UAAyB,CACtCT,WAAW,CAAG,KAAd,CACD,CAxByE,CAyB1EU,qBAAqB,CAAE,SAA+B1uG,IAA/B,CAAqC,CAC1D2uG,cAAc,CAAC,CACb7C,QAAQ,CAAEA,QADG,CAEb9rG,IAAI,CAAEA,IAFO,CAGb8kB,aAAa,CAAEA,aAHF,CAAD,CAAd,CAKD,CA/ByE,CAAD,CAgCxE9I,IAhCwE,CAA3E,EAiCD,CAtCD,CAwCA,QAAS2yF,eAAT,CAAwBC,IAAxB,CAA8B,CAC5Bt6B,aAAa,CAACgwB,aAAa,CAAC,CAC1B6I,WAAW,CAAEA,WADa,CAE1BP,OAAO,CAAEA,OAFiB,CAG1BD,QAAQ,CAAEgB,MAHgB,CAI1BjB,MAAM,CAAEA,MAJkB,CAK1BK,QAAQ,CAAEA,QALgB,CAM1BE,iBAAiB,CAAEA,iBANO,CAO1BD,QAAQ,CAAEA,0BAPgB,CAQ1BE,iBAAiB,CAAEA,iBARO,CAAD,CASxB0B,IATwB,CAAd,CAAb,CAUD,CAED,GAAIjB,OAAJ,CACIC,QADJ,CAEIC,OAFJ,CAGInB,MAHJ,CAIIoB,MAJJ,CAKIC,UALJ,CAMInB,OANJ,CAOIoB,WAPJ,CAQIjB,QARJ,CASIC,0BATJ,CAUIC,iBAVJ,CAWIC,iBAXJ,CAYI2B,WAZJ,CAaI1B,WAbJ,CAcI2B,mBAAmB,CAAG,KAd1B,CAeIC,eAAe,CAAG,KAftB,CAgBIC,SAAS,CAAG,EAhBhB,CAiBIC,MAjBJ,CAkBIC,QAlBJ,CAmBIC,MAnBJ,CAoBIC,MApBJ,CAqBIC,eArBJ,CAsBIC,cAtBJ,CAuBIpB,KAvBJ,CAwBIqB,UAxBJ,CAyBIC,aAzBJ,CA0BIC,qBAAqB,CAAG,KA1B5B,CA2BIC,sBAAsB,CAAG,KA3B7B,CA4BIC,kBA5BJ,CA8BAC,mBA9BA,CA+BIC,gCAAgC,CAAG,EA/BvC,CAiCAC,OAAO,CAAG,KAjCV,CAkCIC,iBAAiB,CAAG,EAlCxB,CAqCA,GAAIC,eAAc,CAAG,MAAOj1G,SAAP,GAAoB,WAAzC,CACIk1G,uBAAuB,CAAGtK,GAD9B,CAEIuK,gBAAgB,CAAG1K,IAAI,EAAID,UAAR,CAAqB,UAArB,CAAkC,OAFzD,CAIA4K,gBAAgB,CAAGH,cAAc,EAAI,CAACpK,gBAAnB,EAAuC,CAACD,GAAxC,EAA+C,aAAe5qG,SAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAJjF,CAKIgzG,uBAAuB,CAAG,UAAY,CACxC,GAAI,CAACJ,cAAL,CAAqB,OAErB,GAAIzK,UAAJ,CAAgB,CACd,MAAO,MAAP,CACD,CAED,GAAI38F,GAAE,CAAG7N,QAAQ,CAACqC,aAAT,CAAuB,GAAvB,CAAT,CACAwL,EAAE,CAACmV,KAAH,CAASsN,OAAT,CAAmB,qBAAnB,CACA,MAAOziB,GAAE,CAACmV,KAAH,CAASsyF,aAAT,GAA2B,MAAlC,CACD,CAV6B,EAL9B,CAgBIC,gBAAgB,CAAG,SAA0B1nG,EAA1B,CAA8B7I,OAA9B,CAAuC,CAC5D,GAAIwwG,MAAK,CAAGtyF,GAAG,CAACrV,EAAD,CAAf,CACI4nG,OAAO,CAAG75E,QAAQ,CAAC45E,KAAK,CAACzkF,KAAP,CAAR,CAAwB6K,QAAQ,CAAC45E,KAAK,CAACE,WAAP,CAAhC,CAAsD95E,QAAQ,CAAC45E,KAAK,CAACG,YAAP,CAA9D,CAAqF/5E,QAAQ,CAAC45E,KAAK,CAACI,eAAP,CAA7F,CAAuHh6E,QAAQ,CAAC45E,KAAK,CAACK,gBAAP,CAD7I,CAEIC,MAAM,CAAG7I,QAAQ,CAACp/F,EAAD,CAAK,CAAL,CAAQ7I,OAAR,CAFrB,CAGI+wG,MAAM,CAAG9I,QAAQ,CAACp/F,EAAD,CAAK,CAAL,CAAQ7I,OAAR,CAHrB,CAIIgxG,aAAa,CAAGF,MAAM,EAAI5yF,GAAG,CAAC4yF,MAAD,CAJjC,CAKIG,cAAc,CAAGF,MAAM,EAAI7yF,GAAG,CAAC6yF,MAAD,CALlC,CAMIG,eAAe,CAAGF,aAAa,EAAIp6E,QAAQ,CAACo6E,aAAa,CAACrlF,UAAf,CAAR,CAAqCiL,QAAQ,CAACo6E,aAAa,CAAC/c,WAAf,CAA7C,CAA2E+S,OAAO,CAAC8J,MAAD,CAAP,CAAgB/kF,KANlI,CAOIolF,gBAAgB,CAAGF,cAAc,EAAIr6E,QAAQ,CAACq6E,cAAc,CAACtlF,UAAhB,CAAR,CAAsCiL,QAAQ,CAACq6E,cAAc,CAAChd,WAAhB,CAA9C,CAA6E+S,OAAO,CAAC+J,MAAD,CAAP,CAAgBhlF,KAPtI,CASA,GAAIykF,KAAK,CAACvyF,OAAN,GAAkB,MAAtB,CAA8B,CAC5B,MAAOuyF,MAAK,CAACY,aAAN,GAAwB,QAAxB,EAAoCZ,KAAK,CAACY,aAAN,GAAwB,gBAA5D,CAA+E,UAA/E,CAA4F,YAAnG,CACD,CAED,GAAIZ,KAAK,CAACvyF,OAAN,GAAkB,MAAtB,CAA8B,CAC5B,MAAOuyF,MAAK,CAACa,mBAAN,CAA0B/uG,KAA1B,CAAgC,GAAhC,EAAqC9D,MAArC,EAA+C,CAA/C,CAAmD,UAAnD,CAAgE,YAAvE,CACD,CAED,GAAIsyG,MAAM,EAAIE,aAAa,CAAC,OAAD,CAAvB,EAAoCA,aAAa,CAAC,OAAD,CAAb,GAA2B,MAAnE,CAA2E,CACzE,GAAIM,mBAAkB,CAAGN,aAAa,CAAC,OAAD,CAAb,GAA2B,MAA3B,CAAoC,MAApC,CAA6C,OAAtE,CACA,MAAOD,OAAM,GAAKE,cAAc,CAAC/mC,KAAf,GAAyB,MAAzB,EAAmC+mC,cAAc,CAAC/mC,KAAf,GAAyBonC,kBAAjE,CAAN,CAA6F,UAA7F,CAA0G,YAAjH,CACD,CAED,MAAOR,OAAM,GAAKE,aAAa,CAAC/yF,OAAd,GAA0B,OAA1B,EAAqC+yF,aAAa,CAAC/yF,OAAd,GAA0B,MAA/D,EAAyE+yF,aAAa,CAAC/yF,OAAd,GAA0B,OAAnG,EAA8G+yF,aAAa,CAAC/yF,OAAd,GAA0B,MAAxI,EAAkJizF,eAAe,EAAIT,OAAnB,EAA8BD,KAAK,CAACL,gBAAD,CAAL,GAA4B,MAA5M,EAAsNY,MAAM,EAAIP,KAAK,CAACL,gBAAD,CAAL,GAA4B,MAAtC,EAAgDe,eAAe,CAAGC,gBAAlB,CAAqCV,OAAhT,CAAN,CAAiU,UAAjU,CAA8U,YAArV,CACD,CAxCD,CAyCIc,kBAAkB,CAAG,SAA4BC,QAA5B,CAAsCC,UAAtC,CAAkDC,QAAlD,CAA4D,CACnF,GAAIC,YAAW,CAAGD,QAAQ,CAAGF,QAAQ,CAAC3hF,IAAZ,CAAmB2hF,QAAQ,CAACpnG,GAAtD,CACIwnG,WAAW,CAAGF,QAAQ,CAAGF,QAAQ,CAAC5lF,KAAZ,CAAoB4lF,QAAQ,CAAC18B,MADvD,CAEI+8B,eAAe,CAAGH,QAAQ,CAAGF,QAAQ,CAACzlF,KAAZ,CAAoBylF,QAAQ,CAACr/E,MAF3D,CAGI2/E,WAAW,CAAGJ,QAAQ,CAAGD,UAAU,CAAC5hF,IAAd,CAAqB4hF,UAAU,CAACrnG,GAH1D,CAII2nG,WAAW,CAAGL,QAAQ,CAAGD,UAAU,CAAC7lF,KAAd,CAAsB6lF,UAAU,CAAC38B,MAJ3D,CAKIk9B,eAAe,CAAGN,QAAQ,CAAGD,UAAU,CAAC1lF,KAAd,CAAsB0lF,UAAU,CAACt/E,MAL/D,CAMA,MAAOw/E,YAAW,GAAKG,WAAhB,EAA+BF,WAAW,GAAKG,WAA/C,EAA8DJ,WAAW,CAAGE,eAAe,CAAG,CAAhC,GAAsCC,WAAW,CAAGE,eAAe,CAAG,CAA3I,CACD,CAjDD,CAyDAC,2BAA2B,CAAG,SAAqC9xC,CAArC,CAAwCp4B,CAAxC,CAA2C,CACvE,GAAIjpC,IAAJ,CACAmwG,SAAS,CAACr1B,IAAV,CAAe,SAAUmyB,QAAV,CAAoB,CACjC,GAAI19F,SAAS,CAAC09F,QAAD,CAAb,CAAyB,OACzB,GAAInpE,KAAI,CAAGokE,OAAO,CAAC+E,QAAD,CAAlB,CACImG,SAAS,CAAGnG,QAAQ,CAACprG,yBAAD,CAAR,CAAkBX,OAAlB,CAA0BmyG,oBAD1C,CAEIC,kBAAkB,CAAGjyC,CAAC,EAAIv9B,IAAI,CAAC/S,IAAL,CAAYqiF,SAAjB,EAA8B/xC,CAAC,EAAIv9B,IAAI,CAAChX,KAAL,CAAasmF,SAFzE,CAGIG,gBAAgB,CAAGtqE,CAAC,EAAInF,IAAI,CAACx4B,GAAL,CAAW8nG,SAAhB,EAA6BnqE,CAAC,EAAInF,IAAI,CAACkyC,MAAL,CAAco9B,SAHvE,CAKA,GAAIA,SAAS,EAAIE,kBAAb,EAAmCC,gBAAvC,CAAyD,CACvD,MAAOvzG,IAAG,CAAGitG,QAAb,CACD,CACF,CAVD,EAWA,MAAOjtG,IAAP,CACD,CAvED,CAwEIwzG,aAAa,CAAG,SAAuBtyG,OAAvB,CAAgC,CAClD,QAASuyG,KAAT,CAAcrwG,KAAd,CAAqB4kC,IAArB,CAA2B,CACzB,MAAO,UAAUtS,EAAV,CAAcw4C,IAAd,CAAoB4gC,MAApB,CAA4B3sE,GAA5B,CAAiC,CACtC,GAAIuxE,UAAS,CAAGh+E,EAAE,CAACx0B,OAAH,CAAWmzD,KAAX,CAAiBlzD,IAAjB,EAAyB+sE,IAAI,CAAChtE,OAAL,CAAamzD,KAAb,CAAmBlzD,IAA5C,EAAoDu0B,EAAE,CAACx0B,OAAH,CAAWmzD,KAAX,CAAiBlzD,IAAjB,GAA0B+sE,IAAI,CAAChtE,OAAL,CAAamzD,KAAb,CAAmBlzD,IAAjH,CAEA,GAAIiC,KAAK,EAAI,IAAT,GAAkB4kC,IAAI,EAAI0rE,SAA1B,CAAJ,CAA0C,CAGxC,MAAO,KAAP,CACD,CAJD,IAIO,IAAItwG,KAAK,EAAI,IAAT,EAAiBA,KAAK,GAAK,KAA/B,CAAsC,CAC3C,MAAO,MAAP,CACD,CAFM,IAEA,IAAI4kC,IAAI,EAAI5kC,KAAK,GAAK,OAAtB,CAA+B,CACpC,MAAOA,MAAP,CACD,CAFM,IAEA,IAAI,MAAOA,MAAP,GAAiB,UAArB,CAAiC,CACtC,MAAOqwG,KAAI,CAACrwG,KAAK,CAACsyB,EAAD,CAAKw4C,IAAL,CAAW4gC,MAAX,CAAmB3sE,GAAnB,CAAN,CAA+B6F,IAA/B,CAAJ,CAAyCtS,EAAzC,CAA6Cw4C,IAA7C,CAAmD4gC,MAAnD,CAA2D3sE,GAA3D,CAAP,CACD,CAFM,IAEA,CACL,GAAIwxE,WAAU,CAAG,CAAC3rE,IAAI,CAAGtS,EAAH,CAAQw4C,IAAb,EAAmBhtE,OAAnB,CAA2BmzD,KAA3B,CAAiClzD,IAAlD,CACA,MAAOiC,MAAK,GAAK,IAAV,EAAkB,MAAOA,MAAP,GAAiB,QAAjB,EAA6BA,KAAK,GAAKuwG,UAAzD,EAAuEvwG,KAAK,CAAC+F,IAAN,EAAc/F,KAAK,CAACtG,OAAN,CAAc62G,UAAd,EAA4B,CAAC,CAAzH,CACD,CACF,CAjBD,CAkBD,CAED,GAAIt/C,MAAK,CAAG,EAAZ,CACA,GAAIu/C,cAAa,CAAG1yG,OAAO,CAACmzD,KAA5B,CAEA,GAAI,CAACu/C,aAAD,EAAkBtO,OAAO,CAACsO,aAAD,CAAP,EAA0B,QAAhD,CAA0D,CACxDA,aAAa,CAAG,CACdzyG,IAAI,CAAEyyG,aADQ,CAAhB,CAGD,CAEDv/C,KAAK,CAAClzD,IAAN,CAAayyG,aAAa,CAACzyG,IAA3B,CACAkzD,KAAK,CAACw/C,SAAN,CAAkBJ,IAAI,CAACG,aAAa,CAAC5rE,IAAf,CAAqB,IAArB,CAAtB,CACAqsB,KAAK,CAACy/C,QAAN,CAAiBL,IAAI,CAACG,aAAa,CAACG,GAAf,CAArB,CACA1/C,KAAK,CAAC2/C,WAAN,CAAoBJ,aAAa,CAACI,WAAlC,CACA9yG,OAAO,CAACmzD,KAAR,CAAgBA,KAAhB,CACD,CA5GD,CA6GIm7C,mBAAmB,CAAG,UAA+B,CACvD,GAAI,CAAC+B,uBAAD,EAA4BvC,OAAhC,CAAyC,CACvC5vF,GAAG,CAAC4vF,OAAD,CAAU,SAAV,CAAqB,MAArB,CAAH,CACD,CACF,CAjHD,CAkHIU,qBAAqB,CAAG,UAAiC,CAC3D,GAAI,CAAC6B,uBAAD,EAA4BvC,OAAhC,CAAyC,CACvC5vF,GAAG,CAAC4vF,OAAD,CAAU,SAAV,CAAqB,EAArB,CAAH,CACD,CACF,CAtHD,CAyHA,GAAImC,cAAJ,CAAoB,CAClBj1G,QAAQ,CAACqP,gBAAT,CAA0B,OAA1B,CAAmC,SAAU42B,GAAV,CAAe,CAChD,GAAI+tE,eAAJ,CAAqB,CACnB/tE,GAAG,CAAC5c,cAAJ,GACA4c,GAAG,CAAC3c,eAAJ,EAAuB2c,GAAG,CAAC3c,eAAJ,EAAvB,CACA2c,GAAG,CAACtb,wBAAJ,EAAgCsb,GAAG,CAACtb,wBAAJ,EAAhC,CACAqpF,eAAe,CAAG,KAAlB,CACA,MAAO,MAAP,CACD,CACF,CARD,CAQG,IARH,EASD,CAED,GAAI+D,8BAA6B,CAAG,SAAuC9xE,GAAvC,CAA4C,CAC9E,GAAI2sE,MAAJ,CAAY,CACV3sE,GAAG,CAAGA,GAAG,CAACrZ,OAAJ,CAAcqZ,GAAG,CAACrZ,OAAJ,CAAY,CAAZ,CAAd,CAA+BqZ,GAArC,CAEA,GAAI+xE,QAAO,CAAGf,2BAA2B,CAAChxE,GAAG,CAAC/Z,OAAL,CAAc+Z,GAAG,CAAC9Z,OAAlB,CAAzC,CAEA,GAAI6rF,OAAJ,CAAa,CAEX,GAAI1wF,MAAK,CAAG,EAAZ,CAEA,IAAK,GAAIplB,EAAT,GAAc+jC,IAAd,CAAmB,CACjB,GAAIA,GAAG,CAACjlC,cAAJ,CAAmBkB,CAAnB,CAAJ,CAA2B,CACzBolB,KAAK,CAACplB,CAAD,CAAL,CAAW+jC,GAAG,CAAC/jC,CAAD,CAAd,CACD,CACF,CAEDolB,KAAK,CAACjiB,MAAN,CAAeiiB,KAAK,CAACqqF,MAAN,CAAeqG,OAA9B,CACA1wF,KAAK,CAAC+B,cAAN,CAAuB,IAAK,EAA5B,CACA/B,KAAK,CAACgC,eAAN,CAAwB,IAAK,EAA7B,CAEA0uF,OAAO,CAACryG,yBAAD,CAAP,CAAiBsyG,WAAjB,CAA6B3wF,KAA7B,EACD,CACF,CACF,CAvBD,CAyBA,GAAI4wF,sBAAqB,CAAG,SAA+BjyE,GAA/B,CAAoC,CAC9D,GAAI2sE,MAAJ,CAAY,CACVA,MAAM,CAACjwG,UAAP,CAAkBgD,yBAAlB,EAA2BwyG,gBAA3B,CAA4ClyE,GAAG,CAAC5gC,MAAhD,EACD,CACF,CAJD,CAYA,QAAS+nG,SAAT,CAAkBv/F,EAAlB,CAAsB7I,OAAtB,CAA+B,CAC7B,GAAI,EAAE6I,EAAE,EAAIA,EAAE,CAACtM,QAAT,EAAqBsM,EAAE,CAACtM,QAAH,GAAgB,CAAvC,CAAJ,CAA+C,CAC7C,KAAM,8CAA8Cb,MAA9C,CAAqD,GAAGI,QAAH,CAAYK,IAAZ,CAAiB0M,EAAjB,CAArD,CAAN,CACD,CAED,KAAKA,EAAL,CAAUA,EAAV,CAEA,KAAK7I,OAAL,CAAeA,OAAO,CAAGskG,QAAQ,CAAC,EAAD,CAAKtkG,OAAL,CAAjC,CAEA6I,EAAE,CAAClI,yBAAD,CAAF,CAAc,IAAd,CACA,GAAIsmF,SAAQ,CAAG,CACb9zB,KAAK,CAAE,IADM,CAEbtzD,IAAI,CAAE,IAFO,CAGb6G,QAAQ,CAAE,KAHG,CAIb0sG,KAAK,CAAE,IAJM,CAKbnwF,MAAM,CAAE,IALK,CAMbslF,SAAS,CAAE,WAAWxgG,IAAX,CAAgBc,EAAE,CAAClC,QAAnB,EAA+B,KAA/B,CAAuC,IANrC,CAOb0sG,aAAa,CAAE,CAPF,CASbC,UAAU,CAAE,KATC,CAWbC,qBAAqB,CAAE,IAXV,CAabC,iBAAiB,CAAE,IAbN,CAcbz9B,SAAS,CAAE,UAAqB,CAC9B,MAAOw6B,iBAAgB,CAAC1nG,EAAD,CAAK,KAAK7I,OAAV,CAAvB,CACD,CAhBY,CAiBbyzG,UAAU,CAAE,gBAjBC,CAkBbC,WAAW,CAAE,iBAlBA,CAmBbC,SAAS,CAAE,eAnBE,CAoBbC,MAAM,CAAE,QApBK,CAqBbjpG,MAAM,CAAE,IArBK,CAsBbkpG,eAAe,CAAE,IAtBJ,CAuBbxhF,SAAS,CAAE,CAvBE,CAwBb9B,MAAM,CAAE,IAxBK,CAyBb4nB,OAAO,CAAE,SAAiB27D,YAAjB,CAA+BlG,MAA/B,CAAuC,CAC9CkG,YAAY,CAAC37D,OAAb,CAAqB,MAArB,CAA6By1D,MAAM,CAAChhG,WAApC,EACD,CA3BY,CA4BbmnG,UAAU,CAAE,KA5BC,CA6BbC,cAAc,CAAE,KA7BH,CA8BbC,UAAU,CAAE,SA9BC,CA+Bbz+E,KAAK,CAAE,CA/BM,CAgCb0+E,gBAAgB,CAAE,KAhCL,CAiCbC,mBAAmB,CAAE,CAACvrE,MAAM,CAAChS,QAAP,CAAkBgS,MAAlB,CAA2BztC,MAA5B,EAAoCy7B,QAApC,CAA6Cz7B,MAAM,CAACi5G,gBAApD,CAAsE,EAAtE,GAA6E,CAjCrF,CAkCbC,aAAa,CAAE,KAlCF,CAmCbC,aAAa,CAAE,mBAnCF,CAoCbC,cAAc,CAAE,KApCH,CAqCbC,iBAAiB,CAAE,CArCN,CAsCbC,cAAc,CAAE,CACdt0C,CAAC,CAAE,CADW,CAEdp4B,CAAC,CAAE,CAFW,CAtCH,CA0Cb2sE,cAAc,CAAEtM,QAAQ,CAACsM,cAAT,GAA4B,KAA5B,EAAqC,gBAAkBv5G,OA1C1D,CA2Cbg3G,oBAAoB,CAAE,CA3CT,CAAf,CA6CAzG,aAAa,CAACS,iBAAd,CAAgC,IAAhC,CAAsCtjG,EAAtC,CAA0Co+E,QAA1C,EAEA,IAAK,GAAIhnF,KAAT,GAAiBgnF,SAAjB,CAA2B,CACzB,EAAEhnF,IAAI,GAAID,QAAV,IAAuBA,OAAO,CAACC,IAAD,CAAP,CAAgBgnF,QAAQ,CAAChnF,IAAD,CAA/C,EACD,CAEDqyG,aAAa,CAACtyG,OAAD,CAAb,CAGA,IAAK,GAAI9B,GAAT,GAAe,KAAf,CAAqB,CACnB,GAAIA,EAAE,CAACslD,MAAH,CAAU,CAAV,IAAiB,GAAjB,EAAwB,MAAO,MAAKtlD,EAAL,CAAP,GAAoB,UAAhD,CAA4D,CAC1D,KAAKA,EAAL,EAAW,KAAKA,EAAL,EAAS61B,IAAT,CAAc,IAAd,CAAX,CACD,CACF,CAGD,KAAK4gF,eAAL,CAAuB30G,OAAO,CAACq0G,aAAR,CAAwB,KAAxB,CAAgCjE,gBAAvD,CAEA,GAAI,KAAKuE,eAAT,CAA0B,CAExB,KAAK30G,OAAL,CAAam0G,mBAAb,CAAmC,CAAnC,CACD,CAGD,GAAIn0G,OAAO,CAAC00G,cAAZ,CAA4B,CAC1BxyF,oBAAE,CAACrZ,EAAD,CAAK,aAAL,CAAoB,KAAK+rG,WAAzB,CAAF,CACD,CAFD,IAEO,CACL1yF,oBAAE,CAACrZ,EAAD,CAAK,WAAL,CAAkB,KAAK+rG,WAAvB,CAAF,CACA1yF,oBAAE,CAACrZ,EAAD,CAAK,YAAL,CAAmB,KAAK+rG,WAAxB,CAAF,CACD,CAED,GAAI,KAAKD,eAAT,CAA0B,CACxBzyF,oBAAE,CAACrZ,EAAD,CAAK,UAAL,CAAiB,IAAjB,CAAF,CACAqZ,oBAAE,CAACrZ,EAAD,CAAK,WAAL,CAAkB,IAAlB,CAAF,CACD,CAEDomG,SAAS,CAACtzG,IAAV,CAAe,KAAKkN,EAApB,EAEA7I,OAAO,CAACozG,KAAR,EAAiBpzG,OAAO,CAACozG,KAAR,CAAc10G,GAA/B,EAAsC,KAAKmB,IAAL,CAAUG,OAAO,CAACozG,KAAR,CAAc10G,GAAd,CAAkB,IAAlB,GAA2B,EAArC,CAAtC,CAEA4lG,QAAQ,CAAC,IAAD,CAAOyF,qBAAqB,EAA5B,CAAR,CACD,CAED3B,QAAQ,CAAC/pG,SAAT,CAEA,CACEE,WAAW,CAAE6pG,QADf,CAEE+K,gBAAgB,CAAE,SAA0B9yG,MAA1B,CAAkC,CAClD,GAAI,CAAC,KAAKwI,EAAL,CAAQtF,QAAR,CAAiBlD,MAAjB,CAAD,EAA6BA,MAAM,GAAK,KAAKwI,EAAjD,CAAqD,CACnD2mG,UAAU,CAAG,IAAb,CACD,CACF,CANH,CAOEqF,aAAa,CAAE,SAAuB5zE,GAAvB,CAA4B5gC,MAA5B,CAAoC,CACjD,MAAO,OAAO,MAAKL,OAAL,CAAa+1E,SAApB,GAAkC,UAAlC,CAA+C,KAAK/1E,OAAL,CAAa+1E,SAAb,CAAuB55E,IAAvB,CAA4B,IAA5B,CAAkC8kC,GAAlC,CAAuC5gC,MAAvC,CAA+CutG,MAA/C,CAA/C,CAAwG,KAAK5tG,OAAL,CAAa+1E,SAA5H,CACD,CATH,CAUE6+B,WAAW,CAAE,SAEb3zE,GAFa,CAER,CACH,GAAI,CAACA,GAAG,CAAC5a,UAAT,CAAqB,OAErB,GAAImjF,MAAK,CAAG,IAAZ,CACI3gG,EAAE,CAAG,KAAKA,EADd,CAEI7I,OAAO,CAAG,KAAKA,OAFnB,CAGI6zG,eAAe,CAAG7zG,OAAO,CAAC6zG,eAH9B,CAIIn3G,IAAI,CAAGukC,GAAG,CAACvkC,IAJf,CAKIo4G,KAAK,CAAG7zE,GAAG,CAACrZ,OAAJ,EAAeqZ,GAAG,CAACrZ,OAAJ,CAAY,CAAZ,CAAf,EAAiCqZ,GAAG,CAAC1Z,WAAJ,EAAmB0Z,GAAG,CAAC1Z,WAAJ,GAAoB,OAAvC,EAAkD0Z,GAL/F,CAMI5gC,MAAM,CAAG,CAACy0G,KAAK,EAAI7zE,GAAV,EAAe5gC,MAN5B,CAOI00G,cAAc,CAAG9zE,GAAG,CAAC5gC,MAAJ,CAAW20G,UAAX,GAA0B/zE,GAAG,CAACuO,IAAJ,EAAYvO,GAAG,CAACuO,IAAJ,CAAS,CAAT,CAAZ,EAA2BvO,GAAG,CAACg0E,YAAJ,EAAoBh0E,GAAG,CAACg0E,YAAJ,GAAmB,CAAnB,CAAzE,GAAmG50G,MAPxH,CAQIsK,MAAM,CAAG3K,OAAO,CAAC2K,MARrB,CAUAuqG,sBAAsB,CAACrsG,EAAD,CAAtB,CAGA,GAAI+kG,MAAJ,CAAY,CACV,OACD,CAED,GAAI,wBAAwB7lG,IAAxB,CAA6BrL,IAA7B,GAAsCukC,GAAG,CAACvc,MAAJ,GAAe,CAArD,EAA0D1kB,OAAO,CAAC0G,QAAtE,CAAgF,CAC9E,OACD,CAGD,GAAIquG,cAAc,CAACI,iBAAnB,CAAsC,CACpC,OACD,CAED90G,MAAM,CAAGuU,OAAO,CAACvU,MAAD,CAASL,OAAO,CAACuoG,SAAjB,CAA4B1/F,EAA5B,CAAgC,KAAhC,CAAhB,CAEA,GAAIxI,MAAM,EAAIA,MAAM,CAAC2hC,QAArB,CAA+B,CAC7B,OACD,CAED,GAAIgsE,UAAU,GAAK3tG,MAAnB,CAA2B,CAEzB,OACD,CAGD2sG,QAAQ,CAAGn4F,uBAAK,CAACxU,MAAD,CAAhB,CACA6sG,iBAAiB,CAAGr4F,uBAAK,CAACxU,MAAD,CAASL,OAAO,CAACuoG,SAAjB,CAAzB,CAEA,GAAI,MAAO59F,OAAP,GAAkB,UAAtB,CAAkC,CAChC,GAAIA,MAAM,CAACxO,IAAP,CAAY,IAAZ,CAAkB8kC,GAAlB,CAAuB5gC,MAAvB,CAA+B,IAA/B,CAAJ,CAA0C,CACxCuuG,cAAc,CAAC,CACb7C,QAAQ,CAAEvC,KADG,CAEbmD,MAAM,CAAEoI,cAFK,CAGb90G,IAAI,CAAE,QAHO,CAIb2sG,QAAQ,CAAEvsG,MAJG,CAKbysG,IAAI,CAAEjkG,EALO,CAMbkkG,MAAM,CAAElkG,EANK,CAAD,CAAd,CASAgjG,WAAW,CAAC,QAAD,CAAWrC,KAAX,CAAkB,CAC3BvoE,GAAG,CAAEA,GADsB,CAAlB,CAAX,CAGA4yE,eAAe,EAAI5yE,GAAG,CAAC5a,UAAvB,EAAqC4a,GAAG,CAAC5c,cAAJ,EAArC,CACA,OACD,CACF,CAjBD,IAiBO,IAAI1Z,MAAJ,CAAY,CACjBA,MAAM,CAAGA,MAAM,CAACrI,KAAP,CAAa,GAAb,EAAkBs3E,IAAlB,CAAuB,SAAUrM,QAAV,CAAoB,CAClDA,QAAQ,CAAG34D,OAAO,CAACmgG,cAAD,CAAiBxnC,QAAQ,CAAC/rE,IAAT,EAAjB,CAAkCqH,EAAlC,CAAsC,KAAtC,CAAlB,CAEA,GAAI0kE,QAAJ,CAAc,CACZqhC,cAAc,CAAC,CACb7C,QAAQ,CAAEvC,KADG,CAEbmD,MAAM,CAAEp/B,QAFK,CAGbttE,IAAI,CAAE,QAHO,CAIb2sG,QAAQ,CAAEvsG,MAJG,CAKb0sG,MAAM,CAAElkG,EALK,CAMbikG,IAAI,CAAEjkG,EANO,CAAD,CAAd,CASAgjG,WAAW,CAAC,QAAD,CAAWrC,KAAX,CAAkB,CAC3BvoE,GAAG,CAAEA,GADsB,CAAlB,CAAX,CAGA,MAAO,KAAP,CACD,CACF,CAlBQ,CAAT,CAoBA,GAAIt2B,MAAJ,CAAY,CACVkpG,eAAe,EAAI5yE,GAAG,CAAC5a,UAAvB,EAAqC4a,GAAG,CAAC5c,cAAJ,EAArC,CACA,OACD,CACF,CAED,GAAIrkB,OAAO,CAACijB,MAAR,EAAkB,CAACrO,OAAO,CAACmgG,cAAD,CAAiB/0G,OAAO,CAACijB,MAAzB,CAAiCpa,EAAjC,CAAqC,KAArC,CAA9B,CAA2E,CACzE,OACD,CAGD,KAAKusG,iBAAL,CAAuBn0E,GAAvB,CAA4B6zE,KAA5B,CAAmCz0G,MAAnC,EACD,CA1GH,CA2GE+0G,iBAAiB,CAAE,SAEnBn0E,GAFmB,CAInB6zE,KAJmB,CAMnBz0G,MANmB,CAMX,CACN,GAAImpG,MAAK,CAAG,IAAZ,CACI3gG,EAAE,CAAG2gG,KAAK,CAAC3gG,EADf,CAEI7I,OAAO,CAAGwpG,KAAK,CAACxpG,OAFpB,CAGIwH,aAAa,CAAGqB,EAAE,CAACrB,aAHvB,CAII6tG,WAJJ,CAMA,GAAIh1G,MAAM,EAAI,CAACutG,MAAX,EAAqBvtG,MAAM,CAAC1C,UAAP,GAAsBkL,EAA/C,CAAmD,CACjD,GAAI2oG,SAAQ,CAAGxK,OAAO,CAAC3mG,MAAD,CAAtB,CACAssG,MAAM,CAAG9jG,EAAT,CACA+kG,MAAM,CAAGvtG,MAAT,CACAwtG,QAAQ,CAAGD,MAAM,CAACjwG,UAAlB,CACAowG,MAAM,CAAGH,MAAM,CAACtkG,WAAhB,CACA0kG,UAAU,CAAG3tG,MAAb,CACAyuG,WAAW,CAAG9uG,OAAO,CAACmzD,KAAtB,CACAi1C,QAAQ,CAACE,OAAT,CAAmBsF,MAAnB,CACAsB,MAAM,CAAG,CACP7uG,MAAM,CAAEutG,MADD,CAEP1mF,OAAO,CAAE,CAAC4tF,KAAK,EAAI7zE,GAAV,EAAe/Z,OAFjB,CAGPC,OAAO,CAAE,CAAC2tF,KAAK,EAAI7zE,GAAV,EAAe9Z,OAHjB,CAAT,CAKAmoF,eAAe,CAAGJ,MAAM,CAAChoF,OAAP,CAAiBsqF,QAAQ,CAAC3hF,IAA5C,CACA0/E,cAAc,CAAGL,MAAM,CAAC/nF,OAAP,CAAiBqqF,QAAQ,CAACpnG,GAA3C,CACA,KAAKkrG,MAAL,CAAc,CAACR,KAAK,EAAI7zE,GAAV,EAAe/Z,OAA7B,CACA,KAAKquF,MAAL,CAAc,CAACT,KAAK,EAAI7zE,GAAV,EAAe9Z,OAA7B,CACAymF,MAAM,CAAC5vF,KAAP,CAAa,aAAb,EAA8B,KAA9B,CAEAq3F,WAAW,CAAG,UAAuB,CACnCxJ,WAAW,CAAC,YAAD,CAAerC,KAAf,CAAsB,CAC/BvoE,GAAG,CAAEA,GAD0B,CAAtB,CAAX,CAIA,GAAImnE,QAAQ,CAAC4D,aAAb,CAA4B,CAC1BxC,KAAK,CAACgM,OAAN,GAEA,OACD,CAIDhM,KAAK,CAACiM,yBAAN,GAEA,GAAI,CAAC/P,OAAD,EAAY8D,KAAK,CAACmL,eAAtB,CAAuC,CACrC/G,MAAM,CAACrF,SAAP,CAAmB,IAAnB,CACD,CAGDiB,KAAK,CAACkM,iBAAN,CAAwBz0E,GAAxB,CAA6B6zE,KAA7B,EAGAlG,cAAc,CAAC,CACb7C,QAAQ,CAAEvC,KADG,CAEbvpG,IAAI,CAAE,QAFO,CAGb8kB,aAAa,CAAEkc,GAHF,CAAD,CAAd,CAOA3J,WAAW,CAACs2E,MAAD,CAAS5tG,OAAO,CAAC0zG,WAAjB,CAA8B,IAA9B,CAAX,CACD,CA/BD,CAkCA1zG,OAAO,CAAC4zG,MAAR,CAAetxG,KAAf,CAAqB,GAArB,EAA0Bu+D,OAA1B,CAAkC,SAAU0M,QAAV,CAAoB,CACpD1iE,IAAI,CAAC+iG,MAAD,CAASrgC,QAAQ,CAAC/rE,IAAT,EAAT,CAA0Bm0G,iBAA1B,CAAJ,CACD,CAFD,EAGAzzF,oBAAE,CAAC1a,aAAD,CAAgB,UAAhB,CAA4BurG,6BAA5B,CAAF,CACA7wF,oBAAE,CAAC1a,aAAD,CAAgB,WAAhB,CAA6BurG,6BAA7B,CAAF,CACA7wF,oBAAE,CAAC1a,aAAD,CAAgB,WAAhB,CAA6BurG,6BAA7B,CAAF,CACA7wF,oBAAE,CAAC1a,aAAD,CAAgB,SAAhB,CAA2BgiG,KAAK,CAACgM,OAAjC,CAAF,CACAtzF,oBAAE,CAAC1a,aAAD,CAAgB,UAAhB,CAA4BgiG,KAAK,CAACgM,OAAlC,CAAF,CACAtzF,oBAAE,CAAC1a,aAAD,CAAgB,aAAhB,CAA+BgiG,KAAK,CAACgM,OAArC,CAAF,CAEA,GAAI9P,OAAO,EAAI,KAAKiP,eAApB,CAAqC,CACnC,KAAK30G,OAAL,CAAam0G,mBAAb,CAAmC,CAAnC,CACAvG,MAAM,CAACrF,SAAP,CAAmB,IAAnB,CACD,CAEDsD,WAAW,CAAC,YAAD,CAAe,IAAf,CAAqB,CAC9B5qE,GAAG,CAAEA,GADyB,CAArB,CAAX,CAIA,GAAIjhC,OAAO,CAACw1B,KAAR,GAAkB,CAACx1B,OAAO,CAACk0G,gBAAT,EAA6BY,KAA/C,IAA0D,CAAC,KAAKH,eAAN,EAAyB,EAAElP,IAAI,EAAID,UAAV,CAAnF,CAAJ,CAA+G,CAC7G,GAAI4C,QAAQ,CAAC4D,aAAb,CAA4B,CAC1B,KAAKwJ,OAAL,GAEA,OACD,CAKDtzF,oBAAE,CAAC1a,aAAD,CAAgB,SAAhB,CAA2BgiG,KAAK,CAACoM,mBAAjC,CAAF,CACA1zF,oBAAE,CAAC1a,aAAD,CAAgB,UAAhB,CAA4BgiG,KAAK,CAACoM,mBAAlC,CAAF,CACA1zF,oBAAE,CAAC1a,aAAD,CAAgB,aAAhB,CAA+BgiG,KAAK,CAACoM,mBAArC,CAAF,CACA1zF,oBAAE,CAAC1a,aAAD,CAAgB,WAAhB,CAA6BgiG,KAAK,CAACqM,4BAAnC,CAAF,CACA3zF,oBAAE,CAAC1a,aAAD,CAAgB,WAAhB,CAA6BgiG,KAAK,CAACqM,4BAAnC,CAAF,CACA71G,OAAO,CAAC00G,cAAR,EAA0BxyF,oBAAE,CAAC1a,aAAD,CAAgB,aAAhB,CAA+BgiG,KAAK,CAACqM,4BAArC,CAA5B,CACArM,KAAK,CAACsM,eAAN,CAAwBx8F,UAAU,CAAC+7F,WAAD,CAAcr1G,OAAO,CAACw1B,KAAtB,CAAlC,CACD,CAjBD,IAiBO,CACL6/E,WAAW,GACZ,CACF,CACF,CAtNH,CAuNEQ,4BAA4B,CAAE,SAE9B9uG,CAF8B,CAE3B,CACD,GAAI+tG,MAAK,CAAG/tG,CAAC,CAAC6gB,OAAF,CAAY7gB,CAAC,CAAC6gB,OAAF,CAAU,CAAV,CAAZ,CAA2B7gB,CAAvC,CAEA,GAAInG,IAAI,CAAC0tB,GAAL,CAAS1tB,IAAI,CAAC4nC,GAAL,CAASssE,KAAK,CAAC5tF,OAAN,CAAgB,KAAKouF,MAA9B,CAAT,CAAgD10G,IAAI,CAAC4nC,GAAL,CAASssE,KAAK,CAAC3tF,OAAN,CAAgB,KAAKouF,MAA9B,CAAhD,GAA0F30G,IAAI,CAAC6nC,KAAL,CAAW,KAAKzoC,OAAL,CAAam0G,mBAAb,EAAoC,KAAKQ,eAAL,EAAwBx5G,MAAM,CAACi5G,gBAA/B,EAAmD,CAAvF,CAAX,CAA9F,CAAqM,CACnM,KAAKwB,mBAAL,GACD,CACF,CA/NH,CAgOEA,mBAAmB,CAAE,UAA+B,CAClDhI,MAAM,EAAI+H,iBAAiB,CAAC/H,MAAD,CAA3B,CACAj4E,YAAY,CAAC,KAAKmgF,eAAN,CAAZ,CAEA,KAAKL,yBAAL,GACD,CArOH,CAsOEA,yBAAyB,CAAE,UAAqC,CAC9D,GAAIjuG,cAAa,CAAG,KAAKqB,EAAL,CAAQrB,aAA5B,CACA+a,qBAAG,CAAC/a,aAAD,CAAgB,SAAhB,CAA2B,KAAKouG,mBAAhC,CAAH,CACArzF,qBAAG,CAAC/a,aAAD,CAAgB,UAAhB,CAA4B,KAAKouG,mBAAjC,CAAH,CACArzF,qBAAG,CAAC/a,aAAD,CAAgB,aAAhB,CAA+B,KAAKouG,mBAApC,CAAH,CACArzF,qBAAG,CAAC/a,aAAD,CAAgB,WAAhB,CAA6B,KAAKquG,4BAAlC,CAAH,CACAtzF,qBAAG,CAAC/a,aAAD,CAAgB,WAAhB,CAA6B,KAAKquG,4BAAlC,CAAH,CACAtzF,qBAAG,CAAC/a,aAAD,CAAgB,aAAhB,CAA+B,KAAKquG,4BAApC,CAAH,CACD,CA9OH,CA+OEH,iBAAiB,CAAE,SAEnBz0E,GAFmB,CAInB6zE,KAJmB,CAIZ,CACLA,KAAK,CAAGA,KAAK,EAAI7zE,GAAG,CAAC1Z,WAAJ,EAAmB,OAAnB,EAA8B0Z,GAA/C,CAEA,GAAI,CAAC,KAAK0zE,eAAN,EAAyBG,KAA7B,CAAoC,CAClC,GAAI,KAAK90G,OAAL,CAAa00G,cAAjB,CAAiC,CAC/BxyF,oBAAE,CAAClnB,QAAD,CAAW,aAAX,CAA0B,KAAK+6G,YAA/B,CAAF,CACD,CAFD,IAEO,IAAIjB,KAAJ,CAAW,CAChB5yF,oBAAE,CAAClnB,QAAD,CAAW,WAAX,CAAwB,KAAK+6G,YAA7B,CAAF,CACD,CAFM,IAEA,CACL7zF,oBAAE,CAAClnB,QAAD,CAAW,WAAX,CAAwB,KAAK+6G,YAA7B,CAAF,CACD,CACF,CARD,IAQO,CACL7zF,oBAAE,CAAC0rF,MAAD,CAAS,SAAT,CAAoB,IAApB,CAAF,CACA1rF,oBAAE,CAACyqF,MAAD,CAAS,WAAT,CAAsB,KAAKqJ,YAA3B,CAAF,CACD,CAED,GAAI,CACF,GAAIh7G,QAAQ,CAAC6lB,SAAb,CAAwB,CAEtBo1F,SAAS,CAAC,UAAY,CACpBj7G,QAAQ,CAAC6lB,SAAT,CAAmBpK,KAAnB,GACD,CAFQ,CAAT,CAGD,CALD,IAKO,CACLtb,MAAM,CAAC+6G,YAAP,GAAsBC,eAAtB,GACD,CACF,CAAC,MAAOl0F,GAAP,CAAY,CAAE,CACjB,CA7QH,CA8QEm0F,YAAY,CAAE,SAAsBziB,QAAtB,CAAgC1yD,GAAhC,CAAqC,CAEjD8tE,mBAAmB,CAAG,KAAtB,CAEA,GAAIpC,MAAM,EAAIiB,MAAd,CAAsB,CACpB/B,WAAW,CAAC,aAAD,CAAgB,IAAhB,CAAsB,CAC/B5qE,GAAG,CAAEA,GAD0B,CAAtB,CAAX,CAIA,GAAI,KAAK0zE,eAAT,CAA0B,CACxBzyF,oBAAE,CAAClnB,QAAD,CAAW,UAAX,CAAuBk4G,qBAAvB,CAAF,CACD,CAED,GAAIlzG,QAAO,CAAG,KAAKA,OAAnB,CAEA,CAAC2zF,QAAD,EAAar8D,WAAW,CAACs2E,MAAD,CAAS5tG,OAAO,CAAC2zG,SAAjB,CAA4B,KAA5B,CAAxB,CACAr8E,WAAW,CAACs2E,MAAD,CAAS5tG,OAAO,CAACyzG,UAAjB,CAA6B,IAA7B,CAAX,CACArL,QAAQ,CAAChsE,MAAT,CAAkB,IAAlB,CACAu3D,QAAQ,EAAI,KAAK0iB,YAAL,EAAZ,CAEAzH,cAAc,CAAC,CACb7C,QAAQ,CAAE,IADG,CAEb9rG,IAAI,CAAE,OAFO,CAGb8kB,aAAa,CAAEkc,GAHF,CAAD,CAAd,CAKD,CArBD,IAqBO,CACL,KAAKq1E,QAAL,GACD,CACF,CA1SH,CA2SEC,gBAAgB,CAAE,UAA4B,CAC5C,GAAIpH,QAAJ,CAAc,CACZ,KAAKmG,MAAL,CAAcnG,QAAQ,CAACjoF,OAAvB,CACA,KAAKquF,MAAL,CAAcpG,QAAQ,CAAChoF,OAAvB,CAEAmnF,mBAAmB,GAEnB,GAAIjuG,OAAM,CAAGrF,QAAQ,CAACw7G,gBAAT,CAA0BrH,QAAQ,CAACjoF,OAAnC,CAA4CioF,QAAQ,CAAChoF,OAArD,CAAb,CACA,GAAIhZ,OAAM,CAAG9N,MAAb,CAEA,MAAOA,MAAM,EAAIA,MAAM,CAAC20G,UAAxB,CAAoC,CAClC30G,MAAM,CAAGA,MAAM,CAAC20G,UAAP,CAAkBwB,gBAAlB,CAAmCrH,QAAQ,CAACjoF,OAA5C,CAAqDioF,QAAQ,CAAChoF,OAA9D,CAAT,CACA,GAAI9mB,MAAM,GAAK8N,MAAf,CAAuB,MACvBA,MAAM,CAAG9N,MAAT,CACD,CAEDutG,MAAM,CAACjwG,UAAP,CAAkBgD,yBAAlB,EAA2BwyG,gBAA3B,CAA4C9yG,MAA5C,EAEA,GAAI8N,MAAJ,CAAY,CACV,EAAG,CACD,GAAIA,MAAM,CAACxN,yBAAD,CAAV,CAAqB,CACnB,GAAI81G,SAAQ,CAAG,IAAK,EAApB,CACAA,QAAQ,CAAGtoG,MAAM,CAACxN,yBAAD,CAAN,CAAgBsyG,WAAhB,CAA4B,CACrC/rF,OAAO,CAAEioF,QAAQ,CAACjoF,OADmB,CAErCC,OAAO,CAAEgoF,QAAQ,CAAChoF,OAFmB,CAGrC9mB,MAAM,CAAEA,MAH6B,CAIrCssG,MAAM,CAAEx+F,MAJ6B,CAA5B,CAAX,CAOA,GAAIsoG,QAAQ,EAAI,CAAC,KAAKz2G,OAAL,CAAag0G,cAA9B,CAA8C,CAC5C,MACD,CACF,CAED3zG,MAAM,CAAG8N,MAAT,CACD,CAhBD,MAkBOA,MAAM,CAAGA,MAAM,CAACxQ,UAlBvB,EAmBD,CAED6wG,qBAAqB,GACtB,CACF,CArVH,CAsVEuH,YAAY,CAAE,SAEd90E,GAFc,CAET,CACH,GAAIiuE,MAAJ,CAAY,CACV,GAAIlvG,QAAO,CAAG,KAAKA,OAAnB,CACIw0G,iBAAiB,CAAGx0G,OAAO,CAACw0G,iBADhC,CAEIC,cAAc,CAAGz0G,OAAO,CAACy0G,cAF7B,CAGIK,KAAK,CAAG7zE,GAAG,CAACrZ,OAAJ,CAAcqZ,GAAG,CAACrZ,OAAJ,CAAY,CAAZ,CAAd,CAA+BqZ,GAH3C,CAIIy1E,WAAW,CAAG5I,OAAO,EAAIxH,MAAM,CAACwH,OAAD,CAAU,IAAV,CAJnC,CAKIrG,MAAM,CAAGqG,OAAO,EAAI4I,WAAX,EAA0BA,WAAW,CAACxyG,CALnD,CAMIwjG,MAAM,CAAGoG,OAAO,EAAI4I,WAAX,EAA0BA,WAAW,CAAC7tE,CANnD,CAOI8tE,oBAAoB,CAAGzG,uBAAuB,EAAIL,mBAA3B,EAAkDnH,uBAAuB,CAACmH,mBAAD,CAPpG,CAQIlyC,EAAE,CAAG,CAACm3C,KAAK,CAAC5tF,OAAN,CAAgBgoF,MAAM,CAAChoF,OAAvB,CAAiCutF,cAAc,CAACt0C,CAAjD,GAAuDsnC,MAAM,EAAI,CAAjE,EAAsE,CAACkP,oBAAoB,CAAGA,oBAAoB,CAAC,CAAD,CAApB,CAA0B7G,gCAAgC,CAAC,CAAD,CAA7D,CAAmE,CAAxF,GAA8FrI,MAAM,EAAI,CAAxG,CAR/E,CASImP,EAAE,CAAG,CAAC9B,KAAK,CAAC3tF,OAAN,CAAgB+nF,MAAM,CAAC/nF,OAAvB,CAAiCstF,cAAc,CAAC1sE,CAAjD,GAAuD2/D,MAAM,EAAI,CAAjE,EAAsE,CAACiP,oBAAoB,CAAGA,oBAAoB,CAAC,CAAD,CAApB,CAA0B7G,gCAAgC,CAAC,CAAD,CAA7D,CAAmE,CAAxF,GAA8FpI,MAAM,EAAI,CAAxG,CAT/E,CAWA,GAAI,CAACU,QAAQ,CAAChsE,MAAV,EAAoB,CAAC2yE,mBAAzB,CAA8C,CAC5C,GAAIyF,iBAAiB,EAAI5zG,IAAI,CAAC0tB,GAAL,CAAS1tB,IAAI,CAAC4nC,GAAL,CAASssE,KAAK,CAAC5tF,OAAN,CAAgB,KAAKouF,MAA9B,CAAT,CAAgD10G,IAAI,CAAC4nC,GAAL,CAASssE,KAAK,CAAC3tF,OAAN,CAAgB,KAAKouF,MAA9B,CAAhD,EAAyFf,iBAAlH,CAAqI,CACnI,OACD,CAED,KAAKwB,YAAL,CAAkB/0E,GAAlB,CAAuB,IAAvB,EACD,CAED,GAAI6sE,OAAJ,CAAa,CACX,GAAI4I,WAAJ,CAAiB,CACfA,WAAW,CAAC3vG,CAAZ,EAAiB42D,EAAE,EAAIyxC,MAAM,EAAI,CAAd,CAAnB,CACAsH,WAAW,CAAC/uE,CAAZ,EAAiBivE,EAAE,EAAIvH,MAAM,EAAI,CAAd,CAAnB,CACD,CAHD,IAGO,CACLqH,WAAW,CAAG,CACZxyG,CAAC,CAAE,CADS,CAEZC,CAAC,CAAE,CAFS,CAGZyjC,CAAC,CAAE,CAHS,CAIZiB,CAAC,CAAE,CAJS,CAKZ9hC,CAAC,CAAE42D,EALS,CAMZh2B,CAAC,CAAEivE,EANS,CAAd,CAQD,CAED,GAAIC,UAAS,CAAG,UAAUn7G,MAAV,CAAiBg7G,WAAW,CAACxyG,CAA7B,CAAgC,GAAhC,EAAqCxI,MAArC,CAA4Cg7G,WAAW,CAACvyG,CAAxD,CAA2D,GAA3D,EAAgEzI,MAAhE,CAAuEg7G,WAAW,CAAC9uE,CAAnF,CAAsF,GAAtF,EAA2FlsC,MAA3F,CAAkGg7G,WAAW,CAAC7tE,CAA9G,CAAiH,GAAjH,EAAsHntC,MAAtH,CAA6Hg7G,WAAW,CAAC3vG,CAAzI,CAA4I,GAA5I,EAAiJrL,MAAjJ,CAAwJg7G,WAAW,CAAC/uE,CAApK,CAAuK,GAAvK,CAAhB,CACAzpB,GAAG,CAAC4vF,OAAD,CAAU,iBAAV,CAA6B+I,SAA7B,CAAH,CACA34F,GAAG,CAAC4vF,OAAD,CAAU,cAAV,CAA0B+I,SAA1B,CAAH,CACA34F,GAAG,CAAC4vF,OAAD,CAAU,aAAV,CAAyB+I,SAAzB,CAAH,CACA34F,GAAG,CAAC4vF,OAAD,CAAU,WAAV,CAAuB+I,SAAvB,CAAH,CACAzH,MAAM,CAAGzxC,EAAT,CACA0xC,MAAM,CAAGuH,EAAT,CACAzH,QAAQ,CAAG2F,KAAX,CACD,CAED7zE,GAAG,CAAC5a,UAAJ,EAAkB4a,GAAG,CAAC5c,cAAJ,EAAlB,CACD,CACF,CAxYH,CAyYEgyF,YAAY,CAAE,UAAwB,CAGpC,GAAI,CAACvI,OAAL,CAAc,CACZ,GAAIziF,UAAS,CAAG,KAAKrrB,OAAL,CAAau0G,cAAb,CAA8Bv5G,QAAQ,CAACkkB,IAAvC,CAA8CytF,MAA9D,CACI/pE,IAAI,CAAGokE,OAAO,CAAC4G,MAAD,CAAS,IAAT,CAAesC,uBAAf,CAAwC,IAAxC,CAA8C7kF,SAA9C,CADlB,CAEIrrB,OAAO,CAAG,KAAKA,OAFnB,CAIA,GAAIkwG,uBAAJ,CAA6B,CAE3BL,mBAAmB,CAAGxkF,SAAtB,CAEA,MAAOnN,GAAG,CAAC2xF,mBAAD,CAAsB,UAAtB,CAAH,GAAyC,QAAzC,EAAqD3xF,GAAG,CAAC2xF,mBAAD,CAAsB,WAAtB,CAAH,GAA0C,MAA/F,EAAyGA,mBAAmB,GAAK70G,QAAxI,CAAkJ,CAChJ60G,mBAAmB,CAAGA,mBAAmB,CAAClyG,UAA1C,CACD,CAED,GAAIkyG,mBAAmB,GAAK70G,QAAQ,CAACkkB,IAAjC,EAAyC2wF,mBAAmB,GAAK70G,QAAQ,CAACgP,eAA9E,CAA+F,CAC7F,GAAI6lG,mBAAmB,GAAK70G,QAA5B,CAAsC60G,mBAAmB,CAAG/I,yBAAyB,EAA/C,CACtClkE,IAAI,CAACx4B,GAAL,EAAYylG,mBAAmB,CAAC7+E,SAAhC,CACA4R,IAAI,CAAC/S,IAAL,EAAaggF,mBAAmB,CAAC5+E,UAAjC,CACD,CAJD,IAIO,CACL4+E,mBAAmB,CAAG/I,yBAAyB,EAA/C,CACD,CAEDgJ,gCAAgC,CAAGpH,uBAAuB,CAACmH,mBAAD,CAA1D,CACD,CAED/B,OAAO,CAAGF,MAAM,CAACpsF,SAAP,CAAiB,IAAjB,CAAV,CACA8V,WAAW,CAACw2E,OAAD,CAAU9tG,OAAO,CAACyzG,UAAlB,CAA8B,KAA9B,CAAX,CACAn8E,WAAW,CAACw2E,OAAD,CAAU9tG,OAAO,CAACs0G,aAAlB,CAAiC,IAAjC,CAAX,CACAh9E,WAAW,CAACw2E,OAAD,CAAU9tG,OAAO,CAAC2zG,SAAlB,CAA6B,IAA7B,CAAX,CACAz1F,GAAG,CAAC4vF,OAAD,CAAU,YAAV,CAAwB,EAAxB,CAAH,CACA5vF,GAAG,CAAC4vF,OAAD,CAAU,WAAV,CAAuB,EAAvB,CAAH,CACA5vF,GAAG,CAAC4vF,OAAD,CAAU,YAAV,CAAwB,YAAxB,CAAH,CACA5vF,GAAG,CAAC4vF,OAAD,CAAU,QAAV,CAAoB,CAApB,CAAH,CACA5vF,GAAG,CAAC4vF,OAAD,CAAU,KAAV,CAAiBlrE,IAAI,CAACx4B,GAAtB,CAAH,CACA8T,GAAG,CAAC4vF,OAAD,CAAU,MAAV,CAAkBlrE,IAAI,CAAC/S,IAAvB,CAAH,CACA3R,GAAG,CAAC4vF,OAAD,CAAU,OAAV,CAAmBlrE,IAAI,CAAC7W,KAAxB,CAAH,CACA7N,GAAG,CAAC4vF,OAAD,CAAU,QAAV,CAAoBlrE,IAAI,CAACzQ,MAAzB,CAAH,CACAjU,GAAG,CAAC4vF,OAAD,CAAU,SAAV,CAAqB,KAArB,CAAH,CACA5vF,GAAG,CAAC4vF,OAAD,CAAU,UAAV,CAAsBoC,uBAAuB,CAAG,UAAH,CAAgB,OAA7D,CAAH,CACAhyF,GAAG,CAAC4vF,OAAD,CAAU,QAAV,CAAoB,QAApB,CAAH,CACA5vF,GAAG,CAAC4vF,OAAD,CAAU,eAAV,CAA2B,MAA3B,CAAH,CACA1F,QAAQ,CAACC,KAAT,CAAiByF,OAAjB,CACAziF,SAAS,CAAC3tB,WAAV,CAAsBowG,OAAtB,EAEA5vF,GAAG,CAAC4vF,OAAD,CAAU,kBAAV,CAA8BwB,eAAe,CAAG14E,QAAQ,CAACk3E,OAAO,CAAC9vF,KAAR,CAAc+N,KAAf,CAA1B,CAAkD,GAAlD,CAAwD,IAAxD,CAA+DwjF,cAAc,CAAG34E,QAAQ,CAACk3E,OAAO,CAAC9vF,KAAR,CAAcmU,MAAf,CAAzB,CAAkD,GAAjH,CAAuH,GAArJ,CAAH,CACD,CACF,CAzbH,CA0bE6jF,YAAY,CAAE,SAEd/0E,GAFc,CAId0yD,QAJc,CAIJ,CACR,GAAI6V,MAAK,CAAG,IAAZ,CAEA,GAAIsK,aAAY,CAAG7yE,GAAG,CAAC6yE,YAAvB,CACA,GAAI9zG,QAAO,CAAGwpG,KAAK,CAACxpG,OAApB,CACA6rG,WAAW,CAAC,WAAD,CAAc,IAAd,CAAoB,CAC7B5qE,GAAG,CAAEA,GADwB,CAApB,CAAX,CAIA,GAAImnE,QAAQ,CAAC4D,aAAb,CAA4B,CAC1B,KAAKwJ,OAAL,GAEA,OACD,CAED3J,WAAW,CAAC,YAAD,CAAe,IAAf,CAAX,CAEA,GAAI,CAACzD,QAAQ,CAAC4D,aAAd,CAA6B,CAC3Ba,OAAO,CAAGzsG,KAAK,CAACwtG,MAAD,CAAf,CACAf,OAAO,CAACtE,SAAR,CAAoB,KAApB,CACAsE,OAAO,CAAC7uF,KAAR,CAAc,aAAd,EAA+B,EAA/B,CAEA,KAAK84F,UAAL,GAEAx/E,WAAW,CAACu1E,OAAD,CAAU,KAAK7sG,OAAL,CAAa0zG,WAAvB,CAAoC,KAApC,CAAX,CACAtL,QAAQ,CAAChoG,KAAT,CAAiBysG,OAAjB,CACD,CAGDrD,KAAK,CAACuN,OAAN,CAAgBd,SAAS,CAAC,UAAY,CACpCpK,WAAW,CAAC,OAAD,CAAUrC,KAAV,CAAX,CACA,GAAIpB,QAAQ,CAAC4D,aAAb,CAA4B,OAE5B,GAAI,CAACxC,KAAK,CAACxpG,OAAN,CAAcwzG,iBAAnB,CAAsC,CACpC7G,MAAM,CAACviF,YAAP,CAAoByiF,OAApB,CAA6Be,MAA7B,EACD,CAEDpE,KAAK,CAACsN,UAAN,GAEAlI,cAAc,CAAC,CACb7C,QAAQ,CAAEvC,KADG,CAEbvpG,IAAI,CAAE,OAFO,CAAD,CAAd,CAID,CAdwB,CAAzB,CAeA,CAAC0zF,QAAD,EAAar8D,WAAW,CAACs2E,MAAD,CAAS5tG,OAAO,CAAC2zG,SAAjB,CAA4B,IAA5B,CAAxB,CAEA,GAAIhgB,QAAJ,CAAc,CACZqb,eAAe,CAAG,IAAlB,CACAxF,KAAK,CAACwN,OAAN,CAAgBC,WAAW,CAACzN,KAAK,CAAC+M,gBAAP,CAAyB,EAAzB,CAA3B,CACD,CAHD,IAGO,CAELh0F,qBAAG,CAACvnB,QAAD,CAAW,SAAX,CAAsBwuG,KAAK,CAACgM,OAA5B,CAAH,CACAjzF,qBAAG,CAACvnB,QAAD,CAAW,UAAX,CAAuBwuG,KAAK,CAACgM,OAA7B,CAAH,CACAjzF,qBAAG,CAACvnB,QAAD,CAAW,aAAX,CAA0BwuG,KAAK,CAACgM,OAAhC,CAAH,CAEA,GAAI1B,YAAJ,CAAkB,CAChBA,YAAY,CAACoD,aAAb,CAA6B,MAA7B,CACAl3G,OAAO,CAACm4C,OAAR,EAAmBn4C,OAAO,CAACm4C,OAAR,CAAgBh8C,IAAhB,CAAqBqtG,KAArB,CAA4BsK,YAA5B,CAA0ClG,MAA1C,CAAnB,CACD,CAED1rF,oBAAE,CAAClnB,QAAD,CAAW,MAAX,CAAmBwuG,KAAnB,CAAF,CAEAtrF,GAAG,CAAC0vF,MAAD,CAAS,WAAT,CAAsB,eAAtB,CAAH,CACD,CAEDmB,mBAAmB,CAAG,IAAtB,CACAvF,KAAK,CAAC2N,YAAN,CAAqBlB,SAAS,CAACzM,KAAK,CAAC4M,YAAN,CAAmBriF,IAAnB,CAAwBy1E,KAAxB,CAA+B7V,QAA/B,CAAyC1yD,GAAzC,CAAD,CAA9B,CACA/e,oBAAE,CAAClnB,QAAD,CAAW,aAAX,CAA0BwuG,KAA1B,CAAF,CACA2E,KAAK,CAAG,IAAR,CAEA,GAAIxI,MAAJ,CAAY,CACVznF,GAAG,CAACljB,QAAQ,CAACkkB,IAAV,CAAgB,aAAhB,CAA+B,MAA/B,CAAH,CACD,CACF,CAvgBH,CAygBE+zF,WAAW,CAAE,SAEbhyE,GAFa,CAER,CACH,GAAIp4B,GAAE,CAAG,KAAKA,EAAd,CACIxI,MAAM,CAAG4gC,GAAG,CAAC5gC,MADjB,CAEImxG,QAFJ,CAGIC,UAHJ,CAIIrtC,MAJJ,CAKIpkE,OAAO,CAAG,KAAKA,OALnB,CAMImzD,KAAK,CAAGnzD,OAAO,CAACmzD,KANpB,CAOIi7C,cAAc,CAAGhG,QAAQ,CAAChsE,MAP9B,CAQIg7E,OAAO,CAAGtI,WAAW,GAAK37C,KAR9B,CASIkkD,OAAO,CAAGr3G,OAAO,CAACH,IATtB,CAUIy3G,YAAY,CAAGlK,WAAW,EAAIgB,cAVlC,CAWIsD,QAXJ,CAYIlI,KAAK,CAAG,IAZZ,CAaI+N,cAAc,CAAG,KAbrB,CAeA,GAAIxH,OAAJ,CAAa,OAEb,QAASyH,cAAT,CAAuBv3G,IAAvB,CAA6B4uB,KAA7B,CAAoC,CAClCg9E,WAAW,CAAC5rG,IAAD,CAAOupG,KAAP,CAAcjF,aAAa,CAAC,CACrCtjE,GAAG,CAAEA,GADgC,CAErCm2E,OAAO,CAAEA,OAF4B,CAGrCK,IAAI,CAAE/F,QAAQ,CAAG,UAAH,CAAgB,YAHO,CAIrCttC,MAAM,CAAEA,MAJ6B,CAKrCotC,QAAQ,CAAEA,QAL2B,CAMrCC,UAAU,CAAEA,UANyB,CAOrC4F,OAAO,CAAEA,OAP4B,CAQrCC,YAAY,CAAEA,YARuB,CASrCj3G,MAAM,CAAEA,MAT6B,CAUrCoa,SAAS,CAAEA,SAV0B,CAWrCi9F,MAAM,CAAE,SAAgBr3G,MAAhB,CAAwBiqB,KAAxB,CAA+B,CACrC,MAAOqtF,QAAO,CAAChL,MAAD,CAAS9jG,EAAT,CAAa+kG,MAAb,CAAqB4D,QAArB,CAA+BnxG,MAA/B,CAAuC2mG,OAAO,CAAC3mG,MAAD,CAA9C,CAAwD4gC,GAAxD,CAA6D3W,KAA7D,CAAd,CACD,CAboC,CAcrCstF,OAAO,CAAEA,OAd4B,CAAD,CAenC/oF,KAfmC,CAA3B,CAAX,CAgBD,CAGD,QAASk3E,QAAT,EAAmB,CACjByR,aAAa,CAAC,0BAAD,CAAb,CAEAhO,KAAK,CAACU,qBAAN,GAEA,GAAIV,KAAK,GAAK8N,YAAd,CAA4B,CAC1BA,YAAY,CAACpN,qBAAb,GACD,CACF,CAGD,QAASzvF,UAAT,CAAmBo9F,SAAnB,CAA8B,CAC5BL,aAAa,CAAC,mBAAD,CAAsB,CACjCK,SAAS,CAAEA,SADsB,CAAtB,CAAb,CAIA,GAAIA,SAAJ,CAAe,CAEb,GAAIT,OAAJ,CAAa,CACXhJ,cAAc,CAAC0I,UAAf,GACD,CAFD,IAEO,CACL1I,cAAc,CAAC0J,UAAf,CAA0BtO,KAA1B,EACD,CAED,GAAIA,KAAK,GAAK8N,YAAd,CAA4B,CAE1BhgF,WAAW,CAACs2E,MAAD,CAASR,WAAW,CAAGA,WAAW,CAACptG,OAAZ,CAAoByzG,UAAvB,CAAoCrF,cAAc,CAACpuG,OAAf,CAAuByzG,UAA/E,CAA2F,KAA3F,CAAX,CACAn8E,WAAW,CAACs2E,MAAD,CAAS5tG,OAAO,CAACyzG,UAAjB,CAA6B,IAA7B,CAAX,CACD,CAED,GAAIrG,WAAW,GAAK5D,KAAhB,EAAyBA,KAAK,GAAKpB,QAAQ,CAAChsE,MAAhD,CAAwD,CACtDgxE,WAAW,CAAG5D,KAAd,CACD,CAFD,IAEO,IAAIA,KAAK,GAAKpB,QAAQ,CAAChsE,MAAnB,EAA6BgxE,WAAjC,CAA8C,CACnDA,WAAW,CAAG,IAAd,CACD,CAGD,GAAIkK,YAAY,GAAK9N,KAArB,CAA4B,CAC1BA,KAAK,CAACuO,qBAAN,CAA8B13G,MAA9B,CACD,CAEDmpG,KAAK,CAACgB,UAAN,CAAiB,UAAY,CAC3BgN,aAAa,CAAC,2BAAD,CAAb,CACAhO,KAAK,CAACuO,qBAAN,CAA8B,IAA9B,CACD,CAHD,EAKA,GAAIvO,KAAK,GAAK8N,YAAd,CAA4B,CAC1BA,YAAY,CAAC9M,UAAb,GACA8M,YAAY,CAACS,qBAAb,CAAqC,IAArC,CACD,CACF,CAGD,GAAI13G,MAAM,GAAKutG,MAAX,EAAqB,CAACA,MAAM,CAAC5rE,QAA7B,EAAyC3hC,MAAM,GAAKwI,EAAX,EAAiB,CAACxI,MAAM,CAAC2hC,QAAtE,CAAgF,CAC9EwtE,UAAU,CAAG,IAAb,CACD,CAGD,GAAI,CAACxvG,OAAO,CAACg0G,cAAT,EAA2B,CAAC/yE,GAAG,CAAC0rE,MAAhC,EAA0CtsG,MAAM,GAAKrF,QAAzD,CAAmE,CACjE4yG,MAAM,CAACjwG,UAAP,CAAkBgD,yBAAlB,EAA2BwyG,gBAA3B,CAA4ClyE,GAAG,CAAC5gC,MAAhD,EAGA,CAACw3G,SAAD,EAAc9E,6BAA6B,CAAC9xE,GAAD,CAA3C,CACD,CAED,CAACjhC,OAAO,CAACg0G,cAAT,EAA2B/yE,GAAG,CAAC3c,eAA/B,EAAkD2c,GAAG,CAAC3c,eAAJ,EAAlD,CACA,MAAOizF,eAAc,CAAG,IAAxB,CACD,CAGD,QAASK,QAAT,EAAmB,CACjB3K,0BAAQ,CAAGp4F,uBAAK,CAAC+4F,MAAD,CAAhB,CACAT,iBAAiB,CAAGt4F,uBAAK,CAAC+4F,MAAD,CAAS5tG,OAAO,CAACuoG,SAAjB,CAAzB,CAEAqG,cAAc,CAAC,CACb7C,QAAQ,CAAEvC,KADG,CAEbvpG,IAAI,CAAE,QAFO,CAGb6sG,IAAI,CAAEjkG,EAHO,CAIbokG,QAAQ,CAAEA,0BAJG,CAKbE,iBAAiB,CAAEA,iBALN,CAMbpoF,aAAa,CAAEkc,GANF,CAAD,CAAd,CAQD,CAED,GAAIA,GAAG,CAAC5c,cAAJ,GAAuB,IAAK,EAAhC,CAAmC,CACjC4c,GAAG,CAAC5a,UAAJ,EAAkB4a,GAAG,CAAC5c,cAAJ,EAAlB,CACD,CAEDhkB,MAAM,CAAGuU,OAAO,CAACvU,MAAD,CAASL,OAAO,CAACuoG,SAAjB,CAA4B1/F,EAA5B,CAAgC,IAAhC,CAAhB,CACA2uG,aAAa,CAAC,UAAD,CAAb,CACA,GAAIpP,QAAQ,CAAC4D,aAAb,CAA4B,MAAOuL,eAAP,CAE5B,GAAI3J,MAAM,CAACrqG,QAAP,CAAgB09B,GAAG,CAAC5gC,MAApB,GAA+BA,MAAM,CAAC2hC,QAAP,EAAmB3hC,MAAM,CAACgrG,UAA1B,EAAwChrG,MAAM,CAACirG,UAA9E,EAA4F9B,KAAK,CAACuO,qBAAN,GAAgC13G,MAAhI,CAAwI,CACtI,MAAOoa,UAAS,CAAC,KAAD,CAAhB,CACD,CAEDu0F,eAAe,CAAG,KAAlB,CAEA,GAAIZ,cAAc,EAAI,CAACpuG,OAAO,CAAC0G,QAA3B,GAAwC0wG,OAAO,CAAGC,OAAO,GAAKjzC,MAAM,CAAG,CAACuoC,MAAM,CAACppG,QAAP,CAAgBqqG,MAAhB,CAAf,CAAV,CACjDR,WAAW,GAAK,IAAhB,EAAwB,CAAC,KAAKM,WAAL,CAAmBoB,WAAW,CAAC6D,SAAZ,CAAsB,IAAtB,CAA4BvE,cAA5B,CAA4CR,MAA5C,CAAoD3sE,GAApD,CAApB,GAAiFkyB,KAAK,CAACy/C,QAAN,CAAe,IAAf,CAAqBxE,cAArB,CAAqCR,MAArC,CAA6C3sE,GAA7C,CADvG,CAAJ,CAC+J,CAC7JywE,QAAQ,CAAG,KAAKmD,aAAL,CAAmB5zE,GAAnB,CAAwB5gC,MAAxB,IAAoC,UAA/C,CACAmxG,QAAQ,CAAGxK,OAAO,CAAC4G,MAAD,CAAlB,CACA4J,aAAa,CAAC,eAAD,CAAb,CACA,GAAIpP,QAAQ,CAAC4D,aAAb,CAA4B,MAAOuL,eAAP,CAE5B,GAAInzC,MAAJ,CAAY,CACVypC,QAAQ,CAAGlB,MAAX,CAEA5G,OAAO,GAEP,KAAK+Q,UAAL,GAEAU,aAAa,CAAC,QAAD,CAAb,CAEA,GAAI,CAACpP,QAAQ,CAAC4D,aAAd,CAA6B,CAC3B,GAAI+B,MAAJ,CAAY,CACVpB,MAAM,CAACviF,YAAP,CAAoBwjF,MAApB,CAA4BG,MAA5B,EACD,CAFD,IAEO,CACLpB,MAAM,CAACjvG,WAAP,CAAmBkwG,MAAnB,EACD,CACF,CAED,MAAOnzF,UAAS,CAAC,IAAD,CAAhB,CACD,CAED,GAAIu9F,YAAW,CAAG3pG,SAAS,CAACxF,EAAD,CAAK7I,OAAO,CAACuoG,SAAb,CAA3B,CAEA,GAAI,CAACyP,WAAD,EAAgBC,YAAY,CAACh3E,GAAD,CAAMywE,QAAN,CAAgB,IAAhB,CAAZ,EAAqC,CAACsG,WAAW,CAACh2E,QAAtE,CAAgF,CAE9E,GAAIg2E,WAAW,GAAKpK,MAApB,CAA4B,CAC1B,MAAOnzF,UAAS,CAAC,KAAD,CAAhB,CACD,CAGD,GAAIu9F,WAAW,EAAInvG,EAAE,GAAKo4B,GAAG,CAAC5gC,MAA9B,CAAsC,CACpCA,MAAM,CAAG23G,WAAT,CACD,CAED,GAAI33G,MAAJ,CAAY,CACVoxG,UAAU,CAAGzK,OAAO,CAAC3mG,MAAD,CAApB,CACD,CAED,GAAIs3G,OAAO,CAAChL,MAAD,CAAS9jG,EAAT,CAAa+kG,MAAb,CAAqB4D,QAArB,CAA+BnxG,MAA/B,CAAuCoxG,UAAvC,CAAmDxwE,GAAnD,CAAwD,CAAC,CAAC5gC,MAA1D,CAAP,GAA6E,KAAjF,CAAwF,CACtF0lG,OAAO,GACPl9F,EAAE,CAACnL,WAAH,CAAekwG,MAAf,EACAC,QAAQ,CAAGhlG,EAAX,CAEA+uG,OAAO,GACP,MAAOn9F,UAAS,CAAC,IAAD,CAAhB,CACD,CACF,CAvBD,IAuBO,IAAIpa,MAAM,CAAC1C,UAAP,GAAsBkL,EAA1B,CAA8B,CACnC4oG,UAAU,CAAGzK,OAAO,CAAC3mG,MAAD,CAApB,CACA,GAAI01E,UAAS,CAAG,CAAhB,CACImiC,qBADJ,CAEIC,cAAc,CAAGvK,MAAM,CAACjwG,UAAP,GAAsBkL,EAF3C,CAGIuvG,eAAe,CAAG,CAAC7G,kBAAkB,CAAC3D,MAAM,CAAC5rE,QAAP,EAAmB4rE,MAAM,CAACjD,MAA1B,EAAoC6G,QAArC,CAA+CnxG,MAAM,CAAC2hC,QAAP,EAAmB3hC,MAAM,CAACsqG,MAA1B,EAAoC8G,UAAnF,CAA+FC,QAA/F,CAHzC,CAII2G,KAAK,CAAG3G,QAAQ,CAAG,KAAH,CAAW,MAJ/B,CAKI4G,eAAe,CAAG3Q,cAAc,CAACtnG,MAAD,CAAS,KAAT,CAAgB,KAAhB,CAAd,EAAwCsnG,cAAc,CAACiG,MAAD,CAAS,KAAT,CAAgB,KAAhB,CAL5E,CAMI2K,YAAY,CAAGD,eAAe,CAAGA,eAAe,CAACtnF,SAAnB,CAA+B,IAAK,EANtE,CAQA,GAAIw+E,UAAU,GAAKnvG,MAAnB,CAA2B,CACzB63G,qBAAqB,CAAGzG,UAAU,CAAC4G,KAAD,CAAlC,CACA3I,qBAAqB,CAAG,KAAxB,CACAC,sBAAsB,CAAG,CAACyI,eAAD,EAAoBp4G,OAAO,CAACszG,UAA5B,EAA0C6E,cAAnE,CACD,CAEDpiC,SAAS,CAAGyiC,iBAAiB,CAACv3E,GAAD,CAAM5gC,MAAN,CAAcoxG,UAAd,CAA0BC,QAA1B,CAAoC0G,eAAe,CAAG,CAAH,CAAOp4G,OAAO,CAACqzG,aAAlE,CAAiFrzG,OAAO,CAACuzG,qBAAR,EAAiC,IAAjC,CAAwCvzG,OAAO,CAACqzG,aAAhD,CAAgErzG,OAAO,CAACuzG,qBAAzJ,CAAgL5D,sBAAhL,CAAwMH,UAAU,GAAKnvG,MAAvN,CAA7B,CACA,GAAI4U,QAAJ,CAEA,GAAI8gE,SAAS,GAAK,CAAlB,CAAqB,CAEnB,GAAI0iC,UAAS,CAAG5jG,uBAAK,CAAC+4F,MAAD,CAArB,CAEA,EAAG,CACD6K,SAAS,EAAI1iC,SAAb,CACA9gE,OAAO,CAAG44F,QAAQ,CAACv5F,QAAT,CAAkBmkG,SAAlB,CAAV,CACD,CAHD,MAGSxjG,OAAO,GAAKiJ,GAAG,CAACjJ,OAAD,CAAU,SAAV,CAAH,GAA4B,MAA5B,EAAsCA,OAAO,GAAK64F,OAAvD,CAHhB,EAID,CAGD,GAAI/3B,SAAS,GAAK,CAAd,EAAmB9gE,OAAO,GAAK5U,MAAnC,CAA2C,CACzC,MAAOoa,UAAS,CAAC,KAAD,CAAhB,CACD,CAED+0F,UAAU,CAAGnvG,MAAb,CACAovG,aAAa,CAAG15B,SAAhB,CACA,GAAIzsE,YAAW,CAAGjJ,MAAM,CAACuqF,kBAAzB,CACItgE,KAAK,CAAG,KADZ,CAEAA,KAAK,CAAGyrD,SAAS,GAAK,CAAtB,CAEA,GAAI2iC,WAAU,CAAGf,OAAO,CAAChL,MAAD,CAAS9jG,EAAT,CAAa+kG,MAAb,CAAqB4D,QAArB,CAA+BnxG,MAA/B,CAAuCoxG,UAAvC,CAAmDxwE,GAAnD,CAAwD3W,KAAxD,CAAxB,CAEA,GAAIouF,UAAU,GAAK,KAAnB,CAA0B,CACxB,GAAIA,UAAU,GAAK,CAAf,EAAoBA,UAAU,GAAK,CAAC,CAAxC,CAA2C,CACzCpuF,KAAK,CAAGouF,UAAU,GAAK,CAAvB,CACD,CAED3I,OAAO,CAAG,IAAV,CACAz2F,UAAU,CAACq/F,SAAD,CAAY,EAAZ,CAAV,CACA5S,OAAO,GAEP,GAAIz7E,KAAK,EAAI,CAAChhB,WAAd,CAA2B,CACzBT,EAAE,CAACnL,WAAH,CAAekwG,MAAf,EACD,CAFD,IAEO,CACLvtG,MAAM,CAAC1C,UAAP,CAAkBysB,YAAlB,CAA+BwjF,MAA/B,CAAuCtjF,KAAK,CAAGhhB,WAAH,CAAiBjJ,MAA7D,EACD,CAGD,GAAIi4G,eAAJ,CAAqB,CACnBjiC,QAAQ,CAACiiC,eAAD,CAAkB,CAAlB,CAAqBC,YAAY,CAAGD,eAAe,CAACtnF,SAApD,CAAR,CACD,CAED68E,QAAQ,CAAGD,MAAM,CAACjwG,UAAlB,CAGA,GAAIu6G,qBAAqB,GAAKx3G,SAA1B,EAAuC,CAACivG,sBAA5C,CAAoE,CAClEC,kBAAkB,CAAGhvG,IAAI,CAAC4nC,GAAL,CAAS0vE,qBAAqB,CAAGlR,OAAO,CAAC3mG,MAAD,CAAP,CAAgBg4G,KAAhB,CAAjC,CAArB,CACD,CAEDT,OAAO,GACP,MAAOn9F,UAAS,CAAC,IAAD,CAAhB,CACD,CACF,CAED,GAAI5R,EAAE,CAACtF,QAAH,CAAYqqG,MAAZ,CAAJ,CAAyB,CACvB,MAAOnzF,UAAS,CAAC,KAAD,CAAhB,CACD,CACF,CAED,MAAO,MAAP,CACD,CAvxBH,CAwxBEs9F,qBAAqB,CAAE,IAxxBzB,CAyxBEa,cAAc,CAAE,UAA0B,CACxCr2F,qBAAG,CAACvnB,QAAD,CAAW,WAAX,CAAwB,KAAK+6G,YAA7B,CAAH,CACAxzF,qBAAG,CAACvnB,QAAD,CAAW,WAAX,CAAwB,KAAK+6G,YAA7B,CAAH,CACAxzF,qBAAG,CAACvnB,QAAD,CAAW,aAAX,CAA0B,KAAK+6G,YAA/B,CAAH,CACAxzF,qBAAG,CAACvnB,QAAD,CAAW,UAAX,CAAuB+3G,6BAAvB,CAAH,CACAxwF,qBAAG,CAACvnB,QAAD,CAAW,WAAX,CAAwB+3G,6BAAxB,CAAH,CACAxwF,qBAAG,CAACvnB,QAAD,CAAW,WAAX,CAAwB+3G,6BAAxB,CAAH,CACD,CAhyBH,CAiyBE8F,YAAY,CAAE,UAAwB,CACpC,GAAIrxG,cAAa,CAAG,KAAKqB,EAAL,CAAQrB,aAA5B,CACA+a,qBAAG,CAAC/a,aAAD,CAAgB,SAAhB,CAA2B,KAAKguG,OAAhC,CAAH,CACAjzF,qBAAG,CAAC/a,aAAD,CAAgB,UAAhB,CAA4B,KAAKguG,OAAjC,CAAH,CACAjzF,qBAAG,CAAC/a,aAAD,CAAgB,WAAhB,CAA6B,KAAKguG,OAAlC,CAAH,CACAjzF,qBAAG,CAAC/a,aAAD,CAAgB,aAAhB,CAA+B,KAAKguG,OAApC,CAAH,CACAjzF,qBAAG,CAACvnB,QAAD,CAAW,aAAX,CAA0B,IAA1B,CAAH,CACD,CAxyBH,CAyyBEw6G,OAAO,CAAE,SAETv0E,GAFS,CAEJ,CACH,GAAIp4B,GAAE,CAAG,KAAKA,EAAd,CACI7I,OAAO,CAAG,KAAKA,OADnB,CAGAitG,0BAAQ,CAAGp4F,uBAAK,CAAC+4F,MAAD,CAAhB,CACAT,iBAAiB,CAAGt4F,uBAAK,CAAC+4F,MAAD,CAAS5tG,OAAO,CAACuoG,SAAjB,CAAzB,CACAsD,WAAW,CAAC,MAAD,CAAS,IAAT,CAAe,CACxB5qE,GAAG,CAAEA,GADmB,CAAf,CAAX,CAGA4sE,QAAQ,CAAGD,MAAM,EAAIA,MAAM,CAACjwG,UAA5B,CAEAsvG,0BAAQ,CAAGp4F,uBAAK,CAAC+4F,MAAD,CAAhB,CACAT,iBAAiB,CAAGt4F,uBAAK,CAAC+4F,MAAD,CAAS5tG,OAAO,CAACuoG,SAAjB,CAAzB,CAEA,GAAIH,QAAQ,CAAC4D,aAAb,CAA4B,CAC1B,KAAKsK,QAAL,GAEA,OACD,CAEDvH,mBAAmB,CAAG,KAAtB,CACAY,sBAAsB,CAAG,KAAzB,CACAD,qBAAqB,CAAG,KAAxB,CACAoJ,aAAa,CAAC,KAAK9B,OAAN,CAAb,CACArhF,YAAY,CAAC,KAAKmgF,eAAN,CAAZ,CAEAiD,eAAe,CAAC,KAAKhC,OAAN,CAAf,CAEAgC,eAAe,CAAC,KAAK5B,YAAN,CAAf,CAGA,GAAI,KAAKxC,eAAT,CAA0B,CACxBpyF,qBAAG,CAACvnB,QAAD,CAAW,MAAX,CAAmB,IAAnB,CAAH,CACAunB,qBAAG,CAAC1Z,EAAD,CAAK,WAAL,CAAkB,KAAKmtG,YAAvB,CAAH,CACD,CAED,KAAK4C,cAAL,GAEA,KAAKC,YAAL,GAEA,GAAIlT,MAAJ,CAAY,CACVznF,GAAG,CAACljB,QAAQ,CAACkkB,IAAV,CAAgB,aAAhB,CAA+B,EAA/B,CAAH,CACD,CAEDhB,GAAG,CAAC0vF,MAAD,CAAS,WAAT,CAAsB,EAAtB,CAAH,CAEA,GAAI3sE,GAAJ,CAAS,CACP,GAAIktE,KAAJ,CAAW,CACTltE,GAAG,CAAC5a,UAAJ,EAAkB4a,GAAG,CAAC5c,cAAJ,EAAlB,CACA,CAACrkB,OAAO,CAAC+zG,UAAT,EAAuB9yE,GAAG,CAAC3c,eAAJ,EAAvB,CACD,CAEDwpF,OAAO,EAAIA,OAAO,CAACnwG,UAAnB,EAAiCmwG,OAAO,CAACnwG,UAAR,CAAmBC,WAAnB,CAA+BkwG,OAA/B,CAAjC,CAEA,GAAInB,MAAM,GAAKkB,QAAX,EAAuBT,WAAW,EAAIA,WAAW,CAACM,WAAZ,GAA4B,OAAtE,CAA+E,CAE7Eb,OAAO,EAAIA,OAAO,CAAClvG,UAAnB,EAAiCkvG,OAAO,CAAClvG,UAAR,CAAmBC,WAAnB,CAA+BivG,OAA/B,CAAjC,CACD,CAED,GAAIe,MAAJ,CAAY,CACV,GAAI,KAAK+G,eAAT,CAA0B,CACxBpyF,qBAAG,CAACqrF,MAAD,CAAS,SAAT,CAAoB,IAApB,CAAH,CACD,CAED+H,iBAAiB,CAAC/H,MAAD,CAAjB,CAEAA,MAAM,CAAC5vF,KAAP,CAAa,aAAb,EAA8B,EAA9B,CAGA,GAAImwF,KAAK,EAAI,CAACY,mBAAd,CAAmC,CACjCz3E,WAAW,CAACs2E,MAAD,CAASR,WAAW,CAAGA,WAAW,CAACptG,OAAZ,CAAoByzG,UAAvB,CAAoC,KAAKzzG,OAAL,CAAayzG,UAArE,CAAiF,KAAjF,CAAX,CACD,CAEDn8E,WAAW,CAACs2E,MAAD,CAAS,KAAK5tG,OAAL,CAAa0zG,WAAtB,CAAmC,KAAnC,CAAX,CAEA9E,cAAc,CAAC,CACb7C,QAAQ,CAAE,IADG,CAEb9rG,IAAI,CAAE,UAFO,CAGb6sG,IAAI,CAAEe,QAHO,CAIbZ,QAAQ,CAAE,IAJG,CAKbE,iBAAiB,CAAE,IALN,CAMbpoF,aAAa,CAAEkc,GANF,CAAD,CAAd,CASA,GAAI0rE,MAAM,GAAKkB,QAAf,CAAyB,CACvB,GAAIZ,0BAAQ,EAAI,CAAhB,CAAmB,CAEjB2B,cAAc,CAAC,CACbjC,MAAM,CAAEkB,QADK,CAEb5tG,IAAI,CAAE,KAFO,CAGb6sG,IAAI,CAAEe,QAHO,CAIbd,MAAM,CAAEJ,MAJK,CAKb5nF,aAAa,CAAEkc,GALF,CAAD,CAAd,CASA2tE,cAAc,CAAC,CACb7C,QAAQ,CAAE,IADG,CAEb9rG,IAAI,CAAE,QAFO,CAGb6sG,IAAI,CAAEe,QAHO,CAIb9oF,aAAa,CAAEkc,GAJF,CAAD,CAAd,CAQA2tE,cAAc,CAAC,CACbjC,MAAM,CAAEkB,QADK,CAEb5tG,IAAI,CAAE,MAFO,CAGb6sG,IAAI,CAAEe,QAHO,CAIbd,MAAM,CAAEJ,MAJK,CAKb5nF,aAAa,CAAEkc,GALF,CAAD,CAAd,CAQA2tE,cAAc,CAAC,CACb7C,QAAQ,CAAE,IADG,CAEb9rG,IAAI,CAAE,MAFO,CAGb6sG,IAAI,CAAEe,QAHO,CAIb9oF,aAAa,CAAEkc,GAJF,CAAD,CAAd,CAMD,CAEDmsE,WAAW,EAAIA,WAAW,CAAC4L,IAAZ,EAAf,CACD,CArCD,IAqCO,CACL,GAAI/L,0BAAQ,GAAKD,QAAjB,CAA2B,CACzB,GAAIC,0BAAQ,EAAI,CAAhB,CAAmB,CAEjB2B,cAAc,CAAC,CACb7C,QAAQ,CAAE,IADG,CAEb9rG,IAAI,CAAE,QAFO,CAGb6sG,IAAI,CAAEe,QAHO,CAIb9oF,aAAa,CAAEkc,GAJF,CAAD,CAAd,CAOA2tE,cAAc,CAAC,CACb7C,QAAQ,CAAE,IADG,CAEb9rG,IAAI,CAAE,MAFO,CAGb6sG,IAAI,CAAEe,QAHO,CAIb9oF,aAAa,CAAEkc,GAJF,CAAD,CAAd,CAMD,CACF,CACF,CAED,GAAImnE,QAAQ,CAAChsE,MAAb,CAAqB,CAEnB,GAAI6wE,0BAAQ,EAAI,IAAZ,EAAoBA,0BAAQ,GAAK,CAAC,CAAtC,CAAyC,CACvCA,0BAAQ,CAAGD,QAAX,CACAG,iBAAiB,CAAGD,iBAApB,CACD,CAED0B,cAAc,CAAC,CACb7C,QAAQ,CAAE,IADG,CAEb9rG,IAAI,CAAE,KAFO,CAGb6sG,IAAI,CAAEe,QAHO,CAIb9oF,aAAa,CAAEkc,GAJF,CAAD,CAAd,CAQA,KAAK+3E,IAAL,GACD,CACF,CACF,CAED,KAAK1C,QAAL,GACD,CA98BH,CA+8BEA,QAAQ,CAAE,UAAoB,CAC5BzK,WAAW,CAAC,SAAD,CAAY,IAAZ,CAAX,CACAc,MAAM,CAAGiB,MAAM,CAAGC,QAAQ,CAAGC,OAAO,CAAGC,MAAM,CAAGlB,OAAO,CAAGmB,UAAU,CAAGC,WAAW,CAAGiB,MAAM,CAAGC,QAAQ,CAAGhB,KAAK,CAAGlB,0BAAQ,CAAGE,iBAAiB,CAAGH,QAAQ,CAAGE,iBAAiB,CAAGsC,UAAU,CAAGC,aAAa,CAAGrC,WAAW,CAAG0B,WAAW,CAAG1G,QAAQ,CAACE,OAAT,CAAmBF,QAAQ,CAACC,KAAT,CAAiBD,QAAQ,CAAChoG,KAAT,CAAiBgoG,QAAQ,CAAChsE,MAAT,CAAkB,IAA/S,CACA4zE,iBAAiB,CAACnvC,OAAlB,CAA0B,SAAUh4D,EAAV,CAAc,CACtCA,EAAE,CAACyG,OAAH,CAAa,IAAb,CACD,CAFD,EAGA0gG,iBAAiB,CAACxxG,MAAlB,CAA2B4wG,MAAM,CAAGC,MAAM,CAAG,CAA7C,CACD,CAt9BH,CAu9BE4J,WAAW,CAAE,SAEbh4E,GAFa,CAER,CACH,OAAQA,GAAG,CAACvkC,IAAZ,EACE,IAAK,MAAL,CACA,IAAK,SAAL,CACE,KAAK84G,OAAL,CAAav0E,GAAb,EAEA,MAEF,IAAK,WAAL,CACA,IAAK,UAAL,CACE,GAAI2sE,MAAJ,CAAY,CACV,KAAKqF,WAAL,CAAiBhyE,GAAjB,EAEAi4E,eAAe,CAACj4E,GAAD,CAAf,CACD,CAED,MAEF,IAAK,aAAL,CACEA,GAAG,CAAC5c,cAAJ,GACA,MAnBJ,CAqBD,CA/+BH,CAq/BE5lB,OAAO,CAAE,UAAmB,CAC1B,GAAIovE,MAAK,CAAG,EAAZ,CACIhlE,EADJ,CAEIyL,QAAQ,CAAG,KAAKzL,EAAL,CAAQyL,QAFvB,CAGIpX,CAAC,CAAG,CAHR,CAIIsW,CAAC,CAAGc,QAAQ,CAAC9V,MAJjB,CAKIwB,OAAO,CAAG,KAAKA,OALnB,CAOA,KAAO9C,CAAC,CAAGsW,CAAX,CAActW,CAAC,EAAf,CAAmB,CACjB2L,EAAE,CAAGyL,QAAQ,CAACpX,CAAD,CAAb,CAEA,GAAI0X,OAAO,CAAC/L,EAAD,CAAK7I,OAAO,CAACuoG,SAAb,CAAwB,KAAK1/F,EAA7B,CAAiC,KAAjC,CAAX,CAAoD,CAClDglE,KAAK,CAAClyE,IAAN,CAAWkN,EAAE,CAACtL,YAAH,CAAgByC,OAAO,CAACi0G,UAAxB,GAAuCkF,WAAW,CAACtwG,EAAD,CAA7D,EACD,CACF,CAED,MAAOglE,MAAP,CACD,CAtgCH,CA4gCEhuE,IAAI,CAAE,SAAcguE,KAAd,CAAqB,CACzB,GAAI2Y,MAAK,CAAG,EAAZ,CACImmB,MAAM,CAAG,KAAK9jG,EADlB,CAEA,KAAKpK,OAAL,GAAeoiE,OAAf,CAAuB,SAAUl5D,EAAV,CAAczK,CAAd,CAAiB,CACtC,GAAI2L,GAAE,CAAG8jG,MAAM,CAACr4F,QAAP,CAAgBpX,CAAhB,CAAT,CAEA,GAAI0X,OAAO,CAAC/L,EAAD,CAAK,KAAK7I,OAAL,CAAauoG,SAAlB,CAA6BoE,MAA7B,CAAqC,KAArC,CAAX,CAAwD,CACtDnmB,KAAK,CAAC7+E,EAAD,CAAL,CAAYkB,EAAZ,CACD,CACF,CAND,CAMG,IANH,EAOAglE,KAAK,CAAChN,OAAN,CAAc,SAAUl5D,EAAV,CAAc,CAC1B,GAAI6+E,KAAK,CAAC7+E,EAAD,CAAT,CAAe,CACbglG,MAAM,CAAC/uG,WAAP,CAAmB4oF,KAAK,CAAC7+E,EAAD,CAAxB,EACAglG,MAAM,CAACjvG,WAAP,CAAmB8oF,KAAK,CAAC7+E,EAAD,CAAxB,EACD,CACF,CALD,EAMD,CA5hCH,CAiiCEqxG,IAAI,CAAE,UAAgB,CACpB,GAAI5F,MAAK,CAAG,KAAKpzG,OAAL,CAAaozG,KAAzB,CACAA,KAAK,EAAIA,KAAK,CAACp3F,GAAf,EAAsBo3F,KAAK,CAACp3F,GAAN,CAAU,IAAV,CAAtB,CACD,CApiCH,CA4iCEpH,OAAO,CAAE,SAAmB/L,EAAnB,CAAuB7K,QAAvB,CAAiC,CACxC,MAAO4W,QAAO,CAAC/L,EAAD,CAAK7K,QAAQ,EAAI,KAAKgC,OAAL,CAAauoG,SAA9B,CAAyC,KAAK1/F,EAA9C,CAAkD,KAAlD,CAAd,CACD,CA9iCH,CAsjCE+W,MAAM,CAAE,SAAgB3f,IAAhB,CAAsBiC,KAAtB,CAA6B,CACnC,GAAIlC,QAAO,CAAG,KAAKA,OAAnB,CAEA,GAAIkC,KAAK,GAAK,IAAK,EAAnB,CAAsB,CACpB,MAAOlC,QAAO,CAACC,IAAD,CAAd,CACD,CAFD,IAEO,CACL,GAAIusG,cAAa,CAAGd,aAAa,CAACW,YAAd,CAA2B,IAA3B,CAAiCpsG,IAAjC,CAAuCiC,KAAvC,CAApB,CAEA,GAAI,MAAOsqG,cAAP,GAAyB,WAA7B,CAA0C,CACxCxsG,OAAO,CAACC,IAAD,CAAP,CAAgBusG,aAAhB,CACD,CAFD,IAEO,CACLxsG,OAAO,CAACC,IAAD,CAAP,CAAgBiC,KAAhB,CACD,CAED,GAAIjC,IAAI,GAAK,OAAb,CAAsB,CACpBqyG,aAAa,CAACtyG,OAAD,CAAb,CACD,CACF,CACF,CAxkCH,CA6kCEo5G,OAAO,CAAE,UAAmB,CAC1BvN,WAAW,CAAC,SAAD,CAAY,IAAZ,CAAX,CACA,GAAIhjG,GAAE,CAAG,KAAKA,EAAd,CACAA,EAAE,CAAClI,yBAAD,CAAF,CAAc,IAAd,CACA4hB,qBAAG,CAAC1Z,EAAD,CAAK,WAAL,CAAkB,KAAK+rG,WAAvB,CAAH,CACAryF,qBAAG,CAAC1Z,EAAD,CAAK,YAAL,CAAmB,KAAK+rG,WAAxB,CAAH,CACAryF,qBAAG,CAAC1Z,EAAD,CAAK,aAAL,CAAoB,KAAK+rG,WAAzB,CAAH,CAEA,GAAI,KAAKD,eAAT,CAA0B,CACxBpyF,qBAAG,CAAC1Z,EAAD,CAAK,UAAL,CAAiB,IAAjB,CAAH,CACA0Z,qBAAG,CAAC1Z,EAAD,CAAK,WAAL,CAAkB,IAAlB,CAAH,CACD,CAGDrI,KAAK,CAACnC,SAAN,CAAgBwiE,OAAhB,CAAwB1kE,IAAxB,CAA6B0M,EAAE,CAACV,gBAAH,CAAoB,aAApB,CAA7B,CAAiE,SAAUU,EAAV,CAAc,CAC7EA,EAAE,CAACR,eAAH,CAAmB,WAAnB,EACD,CAFD,EAIA,KAAKmtG,OAAL,GAEA,KAAKC,yBAAL,GAEAxG,SAAS,CAACnvG,MAAV,CAAiBmvG,SAAS,CAACrzG,OAAV,CAAkB,KAAKiN,EAAvB,CAAjB,CAA6C,CAA7C,EACA,KAAKA,EAAL,CAAUA,EAAE,CAAG,IAAf,CACD,CArmCH,CAsmCEiuG,UAAU,CAAE,UAAsB,CAChC,GAAI,CAAC7I,WAAL,CAAkB,CAChBpC,WAAW,CAAC,WAAD,CAAc,IAAd,CAAX,CACA,GAAIzD,QAAQ,CAAC4D,aAAb,CAA4B,OAC5B9tF,GAAG,CAAC2uF,OAAD,CAAU,SAAV,CAAqB,MAArB,CAAH,CAEA,GAAI,KAAK7sG,OAAL,CAAawzG,iBAAb,EAAkC3G,OAAO,CAAClvG,UAA9C,CAA0D,CACxDkvG,OAAO,CAAClvG,UAAR,CAAmBC,WAAnB,CAA+BivG,OAA/B,EACD,CAEDoB,WAAW,CAAG,IAAd,CACD,CACF,CAlnCH,CAmnCE6J,UAAU,CAAE,SAAoB1K,WAApB,CAAiC,CAC3C,GAAIA,WAAW,CAACM,WAAZ,GAA4B,OAAhC,CAAyC,CACvC,KAAKoJ,UAAL,GAEA,OACD,CAED,GAAI7I,WAAJ,CAAiB,CACfpC,WAAW,CAAC,WAAD,CAAc,IAAd,CAAX,CACA,GAAIzD,QAAQ,CAAC4D,aAAb,CAA4B,OAE5B,GAAIW,MAAM,CAACppG,QAAP,CAAgBqqG,MAAhB,GAA2B,CAAC,KAAK5tG,OAAL,CAAamzD,KAAb,CAAmB2/C,WAAnD,CAAgE,CAC9DnG,MAAM,CAACviF,YAAP,CAAoByiF,OAApB,CAA6Be,MAA7B,EACD,CAFD,IAEO,IAAIG,MAAJ,CAAY,CACjBpB,MAAM,CAACviF,YAAP,CAAoByiF,OAApB,CAA6BkB,MAA7B,EACD,CAFM,IAEA,CACLpB,MAAM,CAACjvG,WAAP,CAAmBmvG,OAAnB,EACD,CAED,GAAI,KAAK7sG,OAAL,CAAamzD,KAAb,CAAmB2/C,WAAvB,CAAoC,CAClC,KAAKr+E,OAAL,CAAam5E,MAAb,CAAqBf,OAArB,EACD,CAED3uF,GAAG,CAAC2uF,OAAD,CAAU,SAAV,CAAqB,EAArB,CAAH,CACAoB,WAAW,CAAG,KAAd,CACD,CACF,CA7oCH,CAFA,CAkpCA,QAASiL,gBAAT,CAEAj4E,GAFA,CAEK,CACH,GAAIA,GAAG,CAAC6yE,YAAR,CAAsB,CACpB7yE,GAAG,CAAC6yE,YAAJ,CAAiBuF,UAAjB,CAA8B,MAA9B,CACD,CAEDp4E,GAAG,CAAC5a,UAAJ,EAAkB4a,GAAG,CAAC5c,cAAJ,EAAlB,CACD,CAED,QAASszF,QAAT,CAAiB5K,MAAjB,CAAyBD,IAAzB,CAA+Bc,MAA/B,CAAuC4D,QAAvC,CAAiD5E,QAAjD,CAA2D6E,UAA3D,CAAuE1sF,aAAvE,CAAsFu0F,eAAtF,CAAuG,CACrG,GAAIr4E,IAAJ,CACI8qE,QAAQ,CAAGgB,MAAM,CAACpsG,yBAAD,CADrB,CAEI44G,QAAQ,CAAGxN,QAAQ,CAAC/rG,OAAT,CAAiB03G,MAFhC,CAGI8B,MAHJ,CAKA,GAAIr+G,MAAM,CAAC4hG,WAAP,EAAsB,CAACyI,UAAvB,EAAqC,CAACC,IAA1C,CAAgD,CAC9CxkE,GAAG,CAAG,GAAI87D,YAAJ,CAAgB,MAAhB,CAAwB,CAC5B32E,OAAO,CAAE,IADmB,CAE5BC,UAAU,CAAE,IAFgB,CAAxB,CAAN,CAID,CALD,IAKO,CACL4a,GAAG,CAAGjmC,QAAQ,CAACuyG,WAAT,CAAqB,OAArB,CAAN,CACAtsE,GAAG,CAACusE,SAAJ,CAAc,MAAd,CAAsB,IAAtB,CAA4B,IAA5B,EACD,CAEDvsE,GAAG,CAACzM,EAAJ,CAASs4E,IAAT,CACA7rE,GAAG,CAAC+rC,IAAJ,CAAW+/B,MAAX,CACA9rE,GAAG,CAACqnE,OAAJ,CAAcsF,MAAd,CACA3sE,GAAG,CAACw4E,WAAJ,CAAkBjI,QAAlB,CACAvwE,GAAG,CAAC5Y,OAAJ,CAAcukF,QAAQ,EAAIE,IAA1B,CACA7rE,GAAG,CAACy4E,WAAJ,CAAkBjI,UAAU,EAAIzK,OAAO,CAAC8F,IAAD,CAAvC,CACA7rE,GAAG,CAACq4E,eAAJ,CAAsBA,eAAtB,CACAr4E,GAAG,CAAClc,aAAJ,CAAoBA,aAApB,CACAgoF,MAAM,CAACx4B,aAAP,CAAqBtzC,GAArB,EAEA,GAAIs4E,QAAJ,CAAc,CACZC,MAAM,CAAGD,QAAQ,CAACp9G,IAAT,CAAc4vG,QAAd,CAAwB9qE,GAAxB,CAA6Blc,aAA7B,CAAT,CACD,CAED,MAAOy0F,OAAP,CACD,CAED,QAAS7D,kBAAT,CAA2B9sG,EAA3B,CAA+B,CAC7BA,EAAE,CAAC0/F,SAAH,CAAe,KAAf,CACD,CAED,QAASoQ,UAAT,EAAqB,CACnB5I,OAAO,CAAG,KAAV,CACD,CAED,QAASkI,aAAT,CAAsBh3E,GAAtB,CAA2BywE,QAA3B,CAAqC3F,QAArC,CAA+C,CAC7C,GAAInpE,KAAI,CAAGokE,OAAO,CAAC34F,SAAS,CAAC09F,QAAQ,CAACljG,EAAV,CAAckjG,QAAQ,CAAC/rG,OAAT,CAAiBuoG,SAA/B,CAAV,CAAlB,CACA,GAAIoR,OAAM,CAAG,EAAb,CACA,MAAOjI,SAAQ,CAAGzwE,GAAG,CAAC/Z,OAAJ,CAAc0b,IAAI,CAAChX,KAAL,CAAa+tF,MAA3B,EAAqC14E,GAAG,CAAC/Z,OAAJ,EAAe0b,IAAI,CAAChX,KAApB,EAA6BqV,GAAG,CAAC9Z,OAAJ,CAAcyb,IAAI,CAACkyC,MAAhD,EAA0D7zC,GAAG,CAAC/Z,OAAJ,EAAe0b,IAAI,CAAC/S,IAAtH,CAA6HoR,GAAG,CAAC/Z,OAAJ,CAAc0b,IAAI,CAAChX,KAAnB,EAA4BqV,GAAG,CAAC9Z,OAAJ,CAAcyb,IAAI,CAACx4B,GAA/C,EAAsD62B,GAAG,CAAC/Z,OAAJ,EAAe0b,IAAI,CAAChX,KAApB,EAA6BqV,GAAG,CAAC9Z,OAAJ,CAAcyb,IAAI,CAACkyC,MAAL,CAAc6kC,MAA3P,CACD,CAED,QAASnB,kBAAT,CAA2Bv3E,GAA3B,CAAgC5gC,MAAhC,CAAwCoxG,UAAxC,CAAoDC,QAApD,CAA8D2B,aAA9D,CAA6EE,qBAA7E,CAAoGD,UAApG,CAAgHsG,YAAhH,CAA8H,CAC5H,GAAIC,YAAW,CAAGnI,QAAQ,CAAGzwE,GAAG,CAAC9Z,OAAP,CAAiB8Z,GAAG,CAAC/Z,OAA/C,CACI4yF,YAAY,CAAGpI,QAAQ,CAAGD,UAAU,CAACt/E,MAAd,CAAuBs/E,UAAU,CAAC1lF,KAD7D,CAEIguF,QAAQ,CAAGrI,QAAQ,CAAGD,UAAU,CAACrnG,GAAd,CAAoBqnG,UAAU,CAAC5hF,IAFtD,CAGImqF,QAAQ,CAAGtI,QAAQ,CAAGD,UAAU,CAAC38B,MAAd,CAAuB28B,UAAU,CAAC7lF,KAHzD,CAII9pB,MAAM,CAAG,KAJb,CAMA,GAAI,CAACwxG,UAAL,CAAiB,CAEf,GAAIsG,YAAY,EAAIhK,kBAAkB,CAAGkK,YAAY,CAAGzG,aAAxD,CAAuE,CAGrE,GAAI,CAAC3D,qBAAD,GAA2BD,aAAa,GAAK,CAAlB,CAAsBoK,WAAW,CAAGE,QAAQ,CAAGD,YAAY,CAAGvG,qBAAf,CAAuC,CAAtF,CAA0FsG,WAAW,CAAGG,QAAQ,CAAGF,YAAY,CAAGvG,qBAAf,CAAuC,CAArL,CAAJ,CAA6L,CAE3L7D,qBAAqB,CAAG,IAAxB,CACD,CAED,GAAI,CAACA,qBAAL,CAA4B,CAE1B,GAAID,aAAa,GAAK,CAAlB,CAAsBoK,WAAW,CAAGE,QAAQ,CAAGnK,kBAA/C,CACFiK,WAAW,CAAGG,QAAQ,CAAGpK,kBAD3B,CAC+C,CAC7C,MAAO,CAACH,aAAR,CACD,CACF,CAND,IAMO,CACL3tG,MAAM,CAAG,IAAT,CACD,CACF,CAjBD,IAiBO,CAEL,GAAI+3G,WAAW,CAAGE,QAAQ,CAAGD,YAAY,EAAI,EAAIzG,aAAR,CAAZ,CAAqC,CAA9D,EAAmEwG,WAAW,CAAGG,QAAQ,CAAGF,YAAY,EAAI,EAAIzG,aAAR,CAAZ,CAAqC,CAArI,CAAwI,CACtI,MAAO4G,oBAAmB,CAAC55G,MAAD,CAA1B,CACD,CACF,CACF,CAEDyB,MAAM,CAAGA,MAAM,EAAIwxG,UAAnB,CAEA,GAAIxxG,MAAJ,CAAY,CAEV,GAAI+3G,WAAW,CAAGE,QAAQ,CAAGD,YAAY,CAAGvG,qBAAf,CAAuC,CAAhE,EAAqEsG,WAAW,CAAGG,QAAQ,CAAGF,YAAY,CAAGvG,qBAAf,CAAuC,CAAzI,CAA4I,CAC1I,MAAOsG,YAAW,CAAGE,QAAQ,CAAGD,YAAY,CAAG,CAAxC,CAA4C,CAA5C,CAAgD,CAAC,CAAxD,CACD,CACF,CAED,MAAO,EAAP,CACD,CASD,QAASG,oBAAT,CAA6B55G,MAA7B,CAAqC,CACnC,GAAIwU,uBAAK,CAAC+4F,MAAD,CAAL,CAAgB/4F,uBAAK,CAACxU,MAAD,CAAzB,CAAmC,CACjC,MAAO,EAAP,CACD,CAFD,IAEO,CACL,MAAO,CAAC,CAAR,CACD,CACF,CASD,QAAS84G,YAAT,CAAqBtwG,EAArB,CAAyB,CACvB,GAAI8yE,IAAG,CAAG9yE,EAAE,CAACisC,OAAH,CAAajsC,EAAE,CAAC0B,SAAhB,CAA4B1B,EAAE,CAAClM,GAA/B,CAAqCkM,EAAE,CAACuG,IAAxC,CAA+CvG,EAAE,CAAC+D,WAA5D,CACI1P,CAAC,CAAGy+E,GAAG,CAACn9E,MADZ,CAEI07G,GAAG,CAAG,CAFV,CAIA,MAAOh9G,CAAC,EAAR,CAAY,CACVg9G,GAAG,EAAIv+B,GAAG,CAACr1E,UAAJ,CAAepJ,CAAf,CAAP,CACD,CAED,MAAOg9G,IAAG,CAACp+G,QAAJ,CAAa,EAAb,CAAP,CACD,CAED,QAASo5G,uBAAT,CAAgCjhG,IAAhC,CAAsC,CACpC+7F,iBAAiB,CAACxxG,MAAlB,CAA2B,CAA3B,CACA,GAAI27G,OAAM,CAAGlmG,IAAI,CAACrM,oBAAL,CAA0B,OAA1B,CAAb,CACA,GAAI8G,IAAG,CAAGyrG,MAAM,CAAC37G,MAAjB,CAEA,MAAOkQ,GAAG,EAAV,CAAc,CACZ,GAAI7F,GAAE,CAAGsxG,MAAM,CAACzrG,GAAD,CAAf,CACA7F,EAAE,CAACyG,OAAH,EAAc0gG,iBAAiB,CAACr0G,IAAlB,CAAuBkN,EAAvB,CAAd,CACD,CACF,CAED,QAASotG,UAAT,CAAmB/3G,EAAnB,CAAuB,CACrB,MAAOob,WAAU,CAACpb,EAAD,CAAK,CAAL,CAAjB,CACD,CAED,QAAS66G,gBAAT,CAAyBpxG,EAAzB,CAA6B,CAC3B,MAAOguB,aAAY,CAAChuB,EAAD,CAAnB,CACD,CAGD,GAAIsoG,cAAJ,CAAoB,CAClB/tF,oBAAE,CAAClnB,QAAD,CAAW,WAAX,CAAwB,SAAUimC,GAAV,CAAe,CACvC,GAAI,CAACmnE,QAAQ,CAAChsE,MAAT,EAAmB2yE,mBAApB,GAA4C9tE,GAAG,CAAC5a,UAApD,CAAgE,CAC9D4a,GAAG,CAAC5c,cAAJ,GACD,CACF,CAJC,CAAF,CAKD,CAGD+jF,QAAQ,CAACgS,KAAT,CAAiB,CACfl4F,EAAE,CAAEA,oBADW,CAEfK,GAAG,CAAEA,qBAFU,CAGfrE,GAAG,CAAEA,GAHU,CAIfrT,IAAI,CAAEA,IAJS,CAKfyI,EAAE,CAAE,SAAYzK,EAAZ,CAAgB7K,QAAhB,CAA0B,CAC5B,MAAO,CAAC,CAAC4W,OAAO,CAAC/L,EAAD,CAAK7K,QAAL,CAAe6K,EAAf,CAAmB,KAAnB,CAAhB,CACD,CAPc,CAQf9I,MAAM,CAAEA,MARO,CASfy2C,QAAQ,CAAEA,0BATK,CAUf5hC,OAAO,CAAEA,OAVM,CAWf0iB,WAAW,CAAEA,WAXE,CAYfl3B,KAAK,CAAEA,KAZQ,CAafyU,KAAK,CAAEA,uBAbQ,CAcfwlG,QAAQ,CAAEpE,SAdK,CAefqE,cAAc,CAAEvB,eAfD,CAgBfwB,eAAe,CAAEhK,gBAhBF,CAiBftI,QAAQ,CAAEA,QAjBK,CAAjB,CAyBAG,QAAQ,CAAC1pG,GAAT,CAAe,SAAUsxC,OAAV,CAAmB,CAChC,MAAOA,QAAO,CAACrvC,yBAAD,CAAd,CACD,CAFD,CASAynG,QAAQ,CAACuD,KAAT,CAAiB,UAAY,CAC3B,IAAK,GAAI6O,KAAI,CAAGl7G,SAAS,CAACd,MAArB,CAA6BgtG,OAAO,CAAG,GAAIhrG,MAAJ,CAAUg6G,IAAV,CAAvC,CAAwD1yB,IAAI,CAAG,CAApE,CAAuEA,IAAI,CAAG0yB,IAA9E,CAAoF1yB,IAAI,EAAxF,CAA4F,CAC1F0jB,OAAO,CAAC1jB,IAAD,CAAP,CAAgBxoF,SAAS,CAACwoF,IAAD,CAAzB,CACD,CAED,GAAI0jB,OAAO,CAAC,CAAD,CAAP,CAAWjtG,WAAX,GAA2BiC,KAA/B,CAAsCgrG,OAAO,CAAGA,OAAO,CAAC,CAAD,CAAjB,CACtCA,OAAO,CAAC3qC,OAAR,CAAgB,SAAU+qC,MAAV,CAAkB,CAChC,GAAI,CAACA,MAAM,CAACvtG,SAAR,EAAqB,CAACutG,MAAM,CAACvtG,SAAP,CAAiBE,WAA3C,CAAwD,CACtD,KAAM,gEAAgE7C,MAAhE,CAAuE,GAAGI,QAAH,CAAYK,IAAZ,CAAiByvG,MAAjB,CAAvE,CAAN,CACD,CAED,GAAIA,MAAM,CAACwO,KAAX,CAAkBhS,QAAQ,CAACgS,KAAT,CAAiB7V,aAAa,CAAC,EAAD,CAAK6D,QAAQ,CAACgS,KAAd,CAAqBxO,MAAM,CAACwO,KAA5B,CAA9B,CAClB1O,aAAa,CAACC,KAAd,CAAoBC,MAApB,EACD,CAPD,EAQD,CAdD,CAsBAxD,QAAQ,CAACr4C,MAAT,CAAkB,SAAUlnD,EAAV,CAAc7I,OAAd,CAAuB,CACvC,MAAO,IAAIooG,SAAJ,CAAav/F,EAAb,CAAiB7I,OAAjB,CAAP,CACD,CAFD,CAKAooG,QAAQ,CAACtqG,OAAT,CAAmBA,yBAAnB,CAEA,GAAI28G,YAAW,CAAG,EAAlB,CACIC,QADJ,CAEIC,YAFJ,CAGIC,SAAS,CAAG,KAHhB,CAIIC,eAJJ,CAKIC,eALJ,CAMIC,UANJ,CAOIC,0BAPJ,CASA,QAASC,iBAAT,EAA4B,CAC1B,QAASC,WAAT,EAAsB,CACpB,KAAKj0B,QAAL,CAAgB,CACdk0B,MAAM,CAAE,IADM,CAEdC,iBAAiB,CAAE,EAFL,CAGdC,WAAW,CAAE,EAHC,CAIdC,YAAY,CAAE,IAJA,CAAhB,CAOA,IAAK,GAAIp9G,GAAT,GAAe,KAAf,CAAqB,CACnB,GAAIA,EAAE,CAACslD,MAAH,CAAU,CAAV,IAAiB,GAAjB,EAAwB,MAAO,MAAKtlD,EAAL,CAAP,GAAoB,UAAhD,CAA4D,CAC1D,KAAKA,EAAL,EAAW,KAAKA,EAAL,EAAS61B,IAAT,CAAc,IAAd,CAAX,CACD,CACF,CACF,CAEDmnF,UAAU,CAAC78G,SAAX,CAAuB,CACrB6vG,WAAW,CAAE,SAAqBxB,IAArB,CAA2B,CACtC,GAAI3nF,cAAa,CAAG2nF,IAAI,CAAC3nF,aAAzB,CAEA,GAAI,KAAKgnF,QAAL,CAAc4I,eAAlB,CAAmC,CACjCzyF,oBAAE,CAAClnB,QAAD,CAAW,UAAX,CAAuB,KAAKugH,iBAA5B,CAAF,CACD,CAFD,IAEO,CACL,GAAI,KAAKv7G,OAAL,CAAa00G,cAAjB,CAAiC,CAC/BxyF,oBAAE,CAAClnB,QAAD,CAAW,aAAX,CAA0B,KAAKwgH,yBAA/B,CAAF,CACD,CAFD,IAEO,IAAIz2F,aAAa,CAAC6C,OAAlB,CAA2B,CAChC1F,oBAAE,CAAClnB,QAAD,CAAW,WAAX,CAAwB,KAAKwgH,yBAA7B,CAAF,CACD,CAFM,IAEA,CACLt5F,oBAAE,CAAClnB,QAAD,CAAW,WAAX,CAAwB,KAAKwgH,yBAA7B,CAAF,CACD,CACF,CACF,CAfoB,CAgBrBC,iBAAiB,CAAE,SAA2BC,KAA3B,CAAkC,CACnD,GAAI32F,cAAa,CAAG22F,KAAK,CAAC32F,aAA1B,CAGA,GAAI,CAAC,KAAK/kB,OAAL,CAAa27G,cAAd,EAAgC,CAAC52F,aAAa,CAAC4nF,MAAnD,CAA2D,CACzD,KAAK4O,iBAAL,CAAuBx2F,aAAvB,EACD,CACF,CAvBoB,CAwBrB62F,IAAI,CAAE,UAAgB,CACpB,GAAI,KAAK7P,QAAL,CAAc4I,eAAlB,CAAmC,CACjCpyF,qBAAG,CAACvnB,QAAD,CAAW,UAAX,CAAuB,KAAKugH,iBAA5B,CAAH,CACD,CAFD,IAEO,CACLh5F,qBAAG,CAACvnB,QAAD,CAAW,aAAX,CAA0B,KAAKwgH,yBAA/B,CAAH,CACAj5F,qBAAG,CAACvnB,QAAD,CAAW,WAAX,CAAwB,KAAKwgH,yBAA7B,CAAH,CACAj5F,qBAAG,CAACvnB,QAAD,CAAW,WAAX,CAAwB,KAAKwgH,yBAA7B,CAAH,CACD,CAEDK,+BAA+B,GAC/BC,gBAAgB,GAChBrS,cAAc,GACf,CApCoB,CAqCrBsS,OAAO,CAAE,UAAmB,CAC1BhB,UAAU,CAAGJ,YAAY,CAAGD,QAAQ,CAAGE,SAAS,CAAGI,0BAA0B,CAAGH,eAAe,CAAGC,eAAe,CAAG,IAApH,CACAL,WAAW,CAACj8G,MAAZ,CAAqB,CAArB,CACD,CAxCoB,CAyCrBg9G,yBAAyB,CAAE,SAAmCv6E,GAAnC,CAAwC,CACjE,KAAKs6E,iBAAL,CAAuBt6E,GAAvB,CAA4B,IAA5B,EACD,CA3CoB,CA4CrBs6E,iBAAiB,CAAE,SAA2Bt6E,GAA3B,CAAgC0yD,QAAhC,CAA0C,CAC3D,GAAI6V,MAAK,CAAG,IAAZ,CAEA,GAAIrpC,EAAC,CAAG,CAACl/B,GAAG,CAACrZ,OAAJ,CAAcqZ,GAAG,CAACrZ,OAAJ,CAAY,CAAZ,CAAd,CAA+BqZ,GAAhC,EAAqC/Z,OAA7C,CACI6gB,CAAC,CAAG,CAAC9G,GAAG,CAACrZ,OAAJ,CAAcqZ,GAAG,CAACrZ,OAAJ,CAAY,CAAZ,CAAd,CAA+BqZ,GAAhC,EAAqC9Z,OAD7C,CAEI/nB,IAAI,CAAGpE,QAAQ,CAACw7G,gBAAT,CAA0Br2C,CAA1B,CAA6Bp4B,CAA7B,CAFX,CAGAgzE,UAAU,CAAG95E,GAAb,CAKA,GAAI0yD,QAAQ,EAAI8R,IAAZ,EAAoBD,UAApB,EAAkCG,MAAtC,CAA8C,CAC5CqW,UAAU,CAAC/6E,GAAD,CAAM,KAAKjhC,OAAX,CAAoBZ,IAApB,CAA0Bu0F,QAA1B,CAAV,CAEA,GAAIsoB,eAAc,CAAGnU,0BAA0B,CAAC1oG,IAAD,CAAO,IAAP,CAA/C,CAEA,GAAIw7G,SAAS,GAAK,CAACI,0BAAD,EAA+B76C,CAAC,GAAK06C,eAArC,EAAwD9yE,CAAC,GAAK+yE,eAAnE,CAAb,CAAkG,CAChGE,0BAA0B,EAAIa,+BAA+B,EAA7D,CAEAb,0BAA0B,CAAG/D,WAAW,CAAC,UAAY,CACnD,GAAIiF,QAAO,CAAGpU,0BAA0B,CAAC9sG,QAAQ,CAACw7G,gBAAT,CAA0Br2C,CAA1B,CAA6Bp4B,CAA7B,CAAD,CAAkC,IAAlC,CAAxC,CAEA,GAAIm0E,OAAO,GAAKD,cAAhB,CAAgC,CAC9BA,cAAc,CAAGC,OAAjB,CACAJ,gBAAgB,GACjB,CAEDE,UAAU,CAAC/6E,GAAD,CAAMuoE,KAAK,CAACxpG,OAAZ,CAAqBk8G,OAArB,CAA8BvoB,QAA9B,CAAV,CACD,CATuC,CASrC,EATqC,CAAxC,CAUAknB,eAAe,CAAG16C,CAAlB,CACA26C,eAAe,CAAG/yE,CAAlB,CACD,CACF,CArBD,IAqBO,CAEL,GAAI,CAAC,KAAK/nC,OAAL,CAAas7G,YAAd,EAA8BxT,0BAA0B,CAAC1oG,IAAD,CAAO,IAAP,CAA1B,GAA2C0nG,yBAAyB,EAAtG,CAA0G,CACxGgV,gBAAgB,GAChB,OACD,CAEDE,UAAU,CAAC/6E,GAAD,CAAM,KAAKjhC,OAAX,CAAoB8nG,0BAA0B,CAAC1oG,IAAD,CAAO,KAAP,CAA9C,CAA6D,KAA7D,CAAV,CACD,CACF,CArFoB,CAAvB,CAuFA,MAAOklG,SAAQ,CAAC4W,UAAD,CAAa,CAC1BhP,UAAU,CAAE,QADc,CAE1BT,mBAAmB,CAAE,IAFK,CAAb,CAAf,CAID,CAED,QAASqQ,iBAAT,EAA4B,CAC1BrB,WAAW,CAAC55C,OAAZ,CAAoB,SAAUm7C,UAAV,CAAsB,CACxClD,aAAa,CAACkD,UAAU,CAACG,GAAZ,CAAb,CACD,CAFD,EAGA1B,WAAW,CAAG,EAAd,CACD,CAED,QAASoB,gCAAT,EAA2C,CACzC/C,aAAa,CAACkC,0BAAD,CAAb,CACD,CAED,GAAIgB,WAAU,CAAGxlE,0BAAQ,CAAC,SAAUvV,GAAV,CAAejhC,OAAf,CAAwB2sG,MAAxB,CAAgCyP,UAAhC,CAA4C,CAEpE,GAAI,CAACp8G,OAAO,CAACm7G,MAAb,CAAqB,OACrB,GAAIh7C,EAAC,CAAG,CAACl/B,GAAG,CAACrZ,OAAJ,CAAcqZ,GAAG,CAACrZ,OAAJ,CAAY,CAAZ,CAAd,CAA+BqZ,GAAhC,EAAqC/Z,OAA7C,CACI6gB,CAAC,CAAG,CAAC9G,GAAG,CAACrZ,OAAJ,CAAcqZ,GAAG,CAACrZ,OAAJ,CAAY,CAAZ,CAAd,CAA+BqZ,GAAhC,EAAqC9Z,OAD7C,CAEIk1F,IAAI,CAAGr8G,OAAO,CAACo7G,iBAFnB,CAGIhnF,KAAK,CAAGp0B,OAAO,CAACq7G,WAHpB,CAIIzS,WAAW,CAAG9B,yBAAyB,EAJ3C,CAKA,GAAIwV,mBAAkB,CAAG,KAAzB,CACIC,cADJ,CAGA,GAAI5B,YAAY,GAAKhO,MAArB,CAA6B,CAC3BgO,YAAY,CAAGhO,MAAf,CACAmP,gBAAgB,GAChBpB,QAAQ,CAAG16G,OAAO,CAACm7G,MAAnB,CACAoB,cAAc,CAAGv8G,OAAO,CAACw8G,QAAzB,CAEA,GAAI9B,QAAQ,GAAK,IAAjB,CAAuB,CACrBA,QAAQ,CAAG5S,0BAA0B,CAAC6E,MAAD,CAAS,IAAT,CAArC,CACD,CACF,CAED,GAAI8P,UAAS,CAAG,CAAhB,CACA,GAAIC,cAAa,CAAGhC,QAApB,CAEA,EAAG,CACD,GAAI7xG,GAAE,CAAG6zG,aAAT,CACI95E,IAAI,CAAGokE,OAAO,CAACn+F,EAAD,CADlB,CAEIuB,GAAG,CAAGw4B,IAAI,CAACx4B,GAFf,CAGI0qE,MAAM,CAAGlyC,IAAI,CAACkyC,MAHlB,CAIIjlD,IAAI,CAAG+S,IAAI,CAAC/S,IAJhB,CAKIjE,KAAK,CAAGgX,IAAI,CAAChX,KALjB,CAMIG,KAAK,CAAG6W,IAAI,CAAC7W,KANjB,CAOIoG,MAAM,CAAGyQ,IAAI,CAACzQ,MAPlB,CAQIwqF,UAAU,CAAG,IAAK,EARtB,CASIC,UAAU,CAAG,IAAK,EATtB,CAUI3T,WAAW,CAAGpgG,EAAE,CAACogG,WAVrB,CAWIxzB,YAAY,CAAG5sE,EAAE,CAAC4sE,YAXtB,CAYI+6B,KAAK,CAAGtyF,GAAG,CAACrV,EAAD,CAZf,CAaIg0G,UAAU,CAAGh0G,EAAE,CAACooB,UAbpB,CAcI6rF,UAAU,CAAGj0G,EAAE,CAACmoB,SAdpB,CAgBA,GAAInoB,EAAE,GAAK+/F,WAAX,CAAwB,CACtB+T,UAAU,CAAG5wF,KAAK,CAAGk9E,WAAR,GAAwBuH,KAAK,CAACt9E,SAAN,GAAoB,MAApB,EAA8Bs9E,KAAK,CAACt9E,SAAN,GAAoB,QAAlD,EAA8Ds9E,KAAK,CAACt9E,SAAN,GAAoB,SAA1G,CAAb,CACA0pF,UAAU,CAAGzqF,MAAM,CAAGsjD,YAAT,GAA0B+6B,KAAK,CAACr9E,SAAN,GAAoB,MAApB,EAA8Bq9E,KAAK,CAACr9E,SAAN,GAAoB,QAAlD,EAA8Dq9E,KAAK,CAACr9E,SAAN,GAAoB,SAA5G,CAAb,CACD,CAHD,IAGO,CACLwpF,UAAU,CAAG5wF,KAAK,CAAGk9E,WAAR,GAAwBuH,KAAK,CAACt9E,SAAN,GAAoB,MAApB,EAA8Bs9E,KAAK,CAACt9E,SAAN,GAAoB,QAA1E,CAAb,CACA0pF,UAAU,CAAGzqF,MAAM,CAAGsjD,YAAT,GAA0B+6B,KAAK,CAACr9E,SAAN,GAAoB,MAApB,EAA8Bq9E,KAAK,CAACr9E,SAAN,GAAoB,QAA5E,CAAb,CACD,CAED,GAAI4pF,GAAE,CAAGJ,UAAU,EAAI,CAAC/7G,IAAI,CAAC4nC,GAAL,CAAS5c,KAAK,CAAGu0C,CAAjB,GAAuBk8C,IAAvB,EAA+BQ,UAAU,CAAG9wF,KAAb,CAAqBk9E,WAArD,GAAqEroG,IAAI,CAAC4nC,GAAL,CAAS3Y,IAAI,CAAGswC,CAAhB,GAAsBk8C,IAAtB,EAA8B,CAAC,CAACQ,UAArG,CAAvB,CACA,GAAIG,GAAE,CAAGJ,UAAU,EAAI,CAACh8G,IAAI,CAAC4nC,GAAL,CAASssC,MAAM,CAAG/sC,CAAlB,GAAwBs0E,IAAxB,EAAgCS,UAAU,CAAG3qF,MAAb,CAAsBsjD,YAAvD,GAAwE70E,IAAI,CAAC4nC,GAAL,CAASp+B,GAAG,CAAG29B,CAAf,GAAqBs0E,IAArB,EAA6B,CAAC,CAACS,UAAvG,CAAvB,CAEA,GAAI,CAACrC,WAAW,CAACgC,SAAD,CAAhB,CAA6B,CAC3B,IAAK,GAAIv/G,EAAC,CAAG,CAAb,CAAgBA,CAAC,EAAIu/G,SAArB,CAAgCv/G,CAAC,EAAjC,CAAqC,CACnC,GAAI,CAACu9G,WAAW,CAACv9G,CAAD,CAAhB,CAAqB,CACnBu9G,WAAW,CAACv9G,CAAD,CAAX,CAAiB,EAAjB,CACD,CACF,CACF,CAED,GAAIu9G,WAAW,CAACgC,SAAD,CAAX,CAAuBM,EAAvB,EAA6BA,EAA7B,EAAmCtC,WAAW,CAACgC,SAAD,CAAX,CAAuBO,EAAvB,EAA6BA,EAAhE,EAAsEvC,WAAW,CAACgC,SAAD,CAAX,CAAuB5zG,EAAvB,GAA8BA,EAAxG,CAA4G,CAC1G4xG,WAAW,CAACgC,SAAD,CAAX,CAAuB5zG,EAAvB,CAA4BA,EAA5B,CACA4xG,WAAW,CAACgC,SAAD,CAAX,CAAuBM,EAAvB,CAA4BA,EAA5B,CACAtC,WAAW,CAACgC,SAAD,CAAX,CAAuBO,EAAvB,CAA4BA,EAA5B,CACAlE,aAAa,CAAC2B,WAAW,CAACgC,SAAD,CAAX,CAAuBN,GAAxB,CAAb,CAEA,GAAIY,EAAE,EAAI,CAAN,EAAWC,EAAE,EAAI,CAArB,CAAwB,CACtBV,kBAAkB,CAAG,IAArB,CAGA7B,WAAW,CAACgC,SAAD,CAAX,CAAuBN,GAAvB,CAA6BlF,WAAW,CAAC,UAAY,CAEnD,GAAImF,UAAU,EAAI,KAAKa,KAAL,GAAe,CAAjC,CAAoC,CAClC7U,QAAQ,CAAChsE,MAAT,CAAgB25E,YAAhB,CAA6BgF,UAA7B,EAED,CAED,GAAImC,cAAa,CAAGzC,WAAW,CAAC,KAAKwC,KAAN,CAAX,CAAwBD,EAAxB,CAA6BvC,WAAW,CAAC,KAAKwC,KAAN,CAAX,CAAwBD,EAAxB,CAA6B5oF,KAA1D,CAAkE,CAAtF,CACA,GAAI+oF,cAAa,CAAG1C,WAAW,CAAC,KAAKwC,KAAN,CAAX,CAAwBF,EAAxB,CAA6BtC,WAAW,CAAC,KAAKwC,KAAN,CAAX,CAAwBF,EAAxB,CAA6B3oF,KAA1D,CAAkE,CAAtF,CAEA,GAAI,MAAOmoF,eAAP,GAA0B,UAA9B,CAA0C,CACxC,GAAIA,cAAc,CAACpgH,IAAf,CAAoBisG,QAAQ,CAACE,OAAT,CAAiB3qG,UAAjB,CAA4BgD,yBAA5B,CAApB,CAA0Dw8G,aAA1D,CAAyED,aAAzE,CAAwFj8E,GAAxF,CAA6F85E,UAA7F,CAAyGN,WAAW,CAAC,KAAKwC,KAAN,CAAX,CAAwBp0G,EAAjI,IAAyI,UAA7I,CAAyJ,CACvJ,OACD,CACF,CAEDwtE,QAAQ,CAACokC,WAAW,CAAC,KAAKwC,KAAN,CAAX,CAAwBp0G,EAAzB,CAA6Bs0G,aAA7B,CAA4CD,aAA5C,CAAR,CACD,CAjBwC,CAiBvCnpF,IAjBuC,CAiBlC,CACLkpF,KAAK,CAAER,SADF,CAjBkC,CAAD,CAmBpC,EAnBoC,CAAxC,CAoBD,CACF,CAEDA,SAAS,GACV,CAtED,MAsESz8G,OAAO,CAACs7G,YAAR,EAAwBoB,aAAa,GAAK9T,WAA1C,GAA0D8T,aAAa,CAAG5U,0BAA0B,CAAC4U,aAAD,CAAgB,KAAhB,CAApG,CAtET,EAwEA9B,SAAS,CAAG0B,kBAAZ,CACD,CAlGwB,CAkGtB,EAlGsB,CAAzB,CAoGA,GAAIV,KAAI,CAAG,SAAclP,IAAd,CAAoB,CAC7B,GAAI3nF,cAAa,CAAG2nF,IAAI,CAAC3nF,aAAzB,CACIqoF,WAAW,CAAGV,IAAI,CAACU,WADvB,CAEIQ,MAAM,CAAGlB,IAAI,CAACkB,MAFlB,CAGIQ,cAAc,CAAG1B,IAAI,CAAC0B,cAH1B,CAIIO,qBAAqB,CAAGjC,IAAI,CAACiC,qBAJjC,CAKIN,kBAAkB,CAAG3B,IAAI,CAAC2B,kBAL9B,CAMIE,oBAAoB,CAAG7B,IAAI,CAAC6B,oBANhC,CAOA,GAAI,CAACxpF,aAAL,CAAoB,OACpB,GAAIq4F,WAAU,CAAGhQ,WAAW,EAAIgB,cAAhC,CACAC,kBAAkB,GAClB,GAAIyG,MAAK,CAAG/vF,aAAa,CAACuB,cAAd,EAAgCvB,aAAa,CAACuB,cAAd,CAA6B9nB,MAA7D,CAAsEumB,aAAa,CAACuB,cAAd,CAA6B,CAA7B,CAAtE,CAAwGvB,aAApH,CACA,GAAI1kB,OAAM,CAAGrF,QAAQ,CAACw7G,gBAAT,CAA0B1B,KAAK,CAAC5tF,OAAhC,CAAyC4tF,KAAK,CAAC3tF,OAA/C,CAAb,CACAonF,oBAAoB,GAEpB,GAAI6O,UAAU,EAAI,CAACA,UAAU,CAACv0G,EAAX,CAActF,QAAd,CAAuBlD,MAAvB,CAAnB,CAAmD,CACjDsuG,qBAAqB,CAAC,OAAD,CAArB,CACA,KAAK0O,OAAL,CAAa,CACXzP,MAAM,CAAEA,MADG,CAEXR,WAAW,CAAEA,WAFF,CAAb,EAID,CACF,CAtBD,CAwBA,QAASkQ,OAAT,EAAkB,CAAE,CAEpBA,MAAM,CAACj/G,SAAP,CAAmB,CACjBk/G,UAAU,CAAE,IADK,CAEjBC,SAAS,CAAE,SAAmB9B,KAAnB,CAA0B,CACnC,GAAIxO,kBAAiB,CAAGwO,KAAK,CAACxO,iBAA9B,CACA,KAAKqQ,UAAL,CAAkBrQ,iBAAlB,CACD,CALgB,CAMjBmQ,OAAO,CAAE,SAAiBI,KAAjB,CAAwB,CAC/B,GAAI7P,OAAM,CAAG6P,KAAK,CAAC7P,MAAnB,CACIR,WAAW,CAAGqQ,KAAK,CAACrQ,WADxB,CAEA,KAAKrB,QAAL,CAAc7B,qBAAd,GAEA,GAAIkD,WAAJ,CAAiB,CACfA,WAAW,CAAClD,qBAAZ,GACD,CAED,GAAI5gG,YAAW,CAAG2+F,QAAQ,CAAC,KAAK8D,QAAL,CAAcljG,EAAf,CAAmB,KAAK00G,UAAxB,CAAoC,KAAKv9G,OAAzC,CAA1B,CAEA,GAAIsJ,WAAJ,CAAiB,CACf,KAAKyiG,QAAL,CAAcljG,EAAd,CAAiBuhB,YAAjB,CAA8BwjF,MAA9B,CAAsCtkG,WAAtC,EACD,CAFD,IAEO,CACL,KAAKyiG,QAAL,CAAcljG,EAAd,CAAiBnL,WAAjB,CAA6BkwG,MAA7B,EACD,CAED,KAAK7B,QAAL,CAAcvB,UAAd,GAEA,GAAI4C,WAAJ,CAAiB,CACfA,WAAW,CAAC5C,UAAZ,GACD,CACF,CA5BgB,CA6BjBoR,IAAI,CAAEA,IA7BW,CAAnB,CAgCAtX,QAAQ,CAACgZ,MAAD,CAAS,CACfpR,UAAU,CAAE,eADG,CAAT,CAAR,CAIA,QAASwR,OAAT,EAAkB,CAAE,CAEpBA,MAAM,CAACr/G,SAAP,CAAmB,CACjBg/G,OAAO,CAAE,SAAiBM,KAAjB,CAAwB,CAC/B,GAAI/P,OAAM,CAAG+P,KAAK,CAAC/P,MAAnB,CACIR,WAAW,CAAGuQ,KAAK,CAACvQ,WADxB,CAEA,GAAIwQ,eAAc,CAAGxQ,WAAW,EAAI,KAAKrB,QAAzC,CACA6R,cAAc,CAAC1T,qBAAf,GACA0D,MAAM,CAACjwG,UAAP,EAAqBiwG,MAAM,CAACjwG,UAAP,CAAkBC,WAAlB,CAA8BgwG,MAA9B,CAArB,CACAgQ,cAAc,CAACpT,UAAf,GACD,CARgB,CASjBoR,IAAI,CAAEA,IATW,CAAnB,CAYAtX,QAAQ,CAACoZ,MAAD,CAAS,CACfxR,UAAU,CAAE,eADG,CAAT,CAAR,CAIA,GAAI2R,QAAO,CAAG,CAACH,MAAD,CAASJ,MAAT,CAAd,CAEA,GAAIQ,WAAJ,CAEA,QAASC,WAAT,EAAsB,CACpB,QAASC,KAAT,EAAgB,CACd,KAAK/2B,QAAL,CAAgB,CACdg3B,SAAS,CAAE,yBADG,CAAhB,CAGD,CAEDD,IAAI,CAAC3/G,SAAL,CAAiB,CACfm/G,SAAS,CAAE,SAAmB9Q,IAAnB,CAAyB,CAClC,GAAIkB,OAAM,CAAGlB,IAAI,CAACkB,MAAlB,CACAkQ,UAAU,CAAGlQ,MAAb,CACD,CAJc,CAKfsQ,aAAa,CAAE,SAAuBxC,KAAvB,CAA8B,CAC3C,GAAIjhG,UAAS,CAAGihG,KAAK,CAACjhG,SAAtB,CACIpa,MAAM,CAAGq7G,KAAK,CAACr7G,MADnB,CAEIq3G,MAAM,CAAGgE,KAAK,CAAChE,MAFnB,CAGItJ,cAAc,CAAGsN,KAAK,CAACtN,cAH3B,CAIIwJ,OAAO,CAAG8D,KAAK,CAAC9D,OAJpB,CAKIpxE,MAAM,CAAGk1E,KAAK,CAACl1E,MALnB,CAMA,GAAI,CAAC4nE,cAAc,CAACpuG,OAAf,CAAuBme,IAA5B,CAAkC,OAClC,GAAItV,GAAE,CAAG,KAAKkjG,QAAL,CAAcljG,EAAvB,CACI7I,OAAO,CAAG,KAAKA,OADnB,CAGA,GAAIK,MAAM,EAAIA,MAAM,GAAKwI,EAAzB,CAA6B,CAC3B,GAAIs1G,WAAU,CAAGL,UAAjB,CAEA,GAAIpG,MAAM,CAACr3G,MAAD,CAAN,GAAmB,KAAvB,CAA8B,CAC5Bi3B,WAAW,CAACj3B,MAAD,CAASL,OAAO,CAACi+G,SAAjB,CAA4B,IAA5B,CAAX,CACAH,UAAU,CAAGz9G,MAAb,CACD,CAHD,IAGO,CACLy9G,UAAU,CAAG,IAAb,CACD,CAED,GAAIK,UAAU,EAAIA,UAAU,GAAKL,UAAjC,CAA6C,CAC3CxmF,WAAW,CAAC6mF,UAAD,CAAan+G,OAAO,CAACi+G,SAArB,CAAgC,KAAhC,CAAX,CACD,CACF,CAEDrG,OAAO,GACPn9F,SAAS,CAAC,IAAD,CAAT,CACA+rB,MAAM,GACP,CAlCc,CAmCfo1E,IAAI,CAAE,SAAc6B,KAAd,CAAqB,CACzB,GAAIrP,eAAc,CAAGqP,KAAK,CAACrP,cAA3B,CACIhB,WAAW,CAAGqQ,KAAK,CAACrQ,WADxB,CAEIQ,MAAM,CAAG6P,KAAK,CAAC7P,MAFnB,CAGA,GAAIwP,WAAU,CAAGhQ,WAAW,EAAI,KAAKrB,QAArC,CACA,GAAI/rG,QAAO,CAAG,KAAKA,OAAnB,CACA89G,UAAU,EAAIxmF,WAAW,CAACwmF,UAAD,CAAa99G,OAAO,CAACi+G,SAArB,CAAgC,KAAhC,CAAzB,CAEA,GAAIH,UAAU,GAAK99G,OAAO,CAACme,IAAR,EAAgBivF,WAAW,EAAIA,WAAW,CAACptG,OAAZ,CAAoBme,IAAxD,CAAd,CAA6E,CAC3E,GAAIyvF,MAAM,GAAKkQ,UAAf,CAA2B,CACzBV,UAAU,CAAClT,qBAAX,GACA,GAAIkT,UAAU,GAAKhP,cAAnB,CAAmCA,cAAc,CAAClE,qBAAf,GACnCkU,SAAS,CAACxQ,MAAD,CAASkQ,UAAT,CAAT,CACAV,UAAU,CAAC5S,UAAX,GACA,GAAI4S,UAAU,GAAKhP,cAAnB,CAAmCA,cAAc,CAAC5D,UAAf,GACpC,CACF,CACF,CApDc,CAqDfuR,OAAO,CAAE,UAAmB,CAC1B+B,UAAU,CAAG,IAAb,CACD,CAvDc,CAAjB,CAyDA,MAAOxZ,SAAQ,CAAC0Z,IAAD,CAAO,CACpB9R,UAAU,CAAE,MADQ,CAEpBK,eAAe,CAAE,UAA2B,CAC1C,MAAO,CACL8R,QAAQ,CAAEP,UADL,CAAP,CAGD,CANmB,CAAP,CAAf,CAQD,CAED,QAASM,UAAT,CAAmBE,EAAnB,CAAuBC,EAAvB,CAA2B,CACzB,GAAIC,GAAE,CAAGF,EAAE,CAAC3gH,UAAZ,CACI8gH,EAAE,CAAGF,EAAE,CAAC5gH,UADZ,CAEI+gH,EAFJ,CAGIC,EAHJ,CAIA,GAAI,CAACH,EAAD,EAAO,CAACC,EAAR,EAAcD,EAAE,CAACI,WAAH,CAAeL,EAAf,CAAd,EAAoCE,EAAE,CAACG,WAAH,CAAeN,EAAf,CAAxC,CAA4D,OAC5DI,EAAE,CAAG7pG,uBAAK,CAACypG,EAAD,CAAV,CACAK,EAAE,CAAG9pG,uBAAK,CAAC0pG,EAAD,CAAV,CAEA,GAAIC,EAAE,CAACI,WAAH,CAAeH,EAAf,GAAsBC,EAAE,CAAGC,EAA/B,CAAmC,CACjCA,EAAE,GACH,CAEDH,EAAE,CAACp0F,YAAH,CAAgBm0F,EAAhB,CAAoBC,EAAE,CAAClqG,QAAH,CAAYoqG,EAAZ,CAApB,EACAD,EAAE,CAACr0F,YAAH,CAAgBk0F,EAAhB,CAAoBG,EAAE,CAACnqG,QAAH,CAAYqqG,EAAZ,CAApB,EACD,CAED,GAAIE,kBAAiB,CAAG,EAAxB,CACIC,eAAe,CAAG,EADtB,CAEIC,mBAFJ,CAIAC,iBAJA,CAKIC,cAAc,CAAG,KALrB,CAOAC,OAAO,CAAG,KAPV,CASAhR,WAAW,CAAG,KATd,CAUIiR,QAVJ,CAWIC,cAXJ,CAYIC,YAZJ,CAcA,QAASC,gBAAT,EAA2B,CACzB,QAASC,UAAT,CAAmBxT,QAAnB,CAA6B,CAE3B,IAAK,GAAI7tG,GAAT,GAAe,KAAf,CAAqB,CACnB,GAAIA,EAAE,CAACslD,MAAH,CAAU,CAAV,IAAiB,GAAjB,EAAwB,MAAO,MAAKtlD,EAAL,CAAP,GAAoB,UAAhD,CAA4D,CAC1D,KAAKA,EAAL,EAAW,KAAKA,EAAL,EAAS61B,IAAT,CAAc,IAAd,CAAX,CACD,CACF,CAED,GAAIg4E,QAAQ,CAAC/rG,OAAT,CAAiB00G,cAArB,CAAqC,CACnCxyF,oBAAE,CAAClnB,QAAD,CAAW,WAAX,CAAwB,KAAKwkH,kBAA7B,CAAF,CACD,CAFD,IAEO,CACLt9F,oBAAE,CAAClnB,QAAD,CAAW,SAAX,CAAsB,KAAKwkH,kBAA3B,CAAF,CACAt9F,oBAAE,CAAClnB,QAAD,CAAW,UAAX,CAAuB,KAAKwkH,kBAA5B,CAAF,CACD,CAEDt9F,oBAAE,CAAClnB,QAAD,CAAW,SAAX,CAAsB,KAAKykH,aAA3B,CAAF,CACAv9F,oBAAE,CAAClnB,QAAD,CAAW,OAAX,CAAoB,KAAK0kH,WAAzB,CAAF,CACA,KAAKz4B,QAAL,CAAgB,CACd04B,aAAa,CAAE,mBADD,CAEdC,YAAY,CAAE,IAFA,CAGdznE,OAAO,CAAE,SAAiB27D,YAAjB,CAA+BlG,MAA/B,CAAuC,CAC9C,GAAI3xF,KAAI,CAAG,EAAX,CAEA,GAAI4iG,iBAAiB,CAACrgH,MAAlB,EAA4BwgH,iBAAiB,GAAKjT,QAAtD,CAAgE,CAC9D8S,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B3iH,CAA5B,CAA+B,CACvD+e,IAAI,EAAI,CAAC,CAAC/e,CAAD,CAAK,EAAL,CAAU,IAAX,EAAmB2iH,gBAAgB,CAACjzG,WAA5C,CACD,CAFD,EAGD,CAJD,IAIO,CACLqP,IAAI,CAAG2xF,MAAM,CAAChhG,WAAd,CACD,CAEDknG,YAAY,CAAC37D,OAAb,CAAqB,MAArB,CAA6Bl8B,IAA7B,EACD,CAfa,CAAhB,CAiBD,CAEDsjG,SAAS,CAAClhH,SAAV,CAAsB,CACpByhH,gBAAgB,CAAE,KADE,CAEpBC,WAAW,CAAE,KAFO,CAGpBC,gBAAgB,CAAE,SAA0BtT,IAA1B,CAAgC,CAChD,GAAIpE,QAAO,CAAGoE,IAAI,CAACkB,MAAnB,CACAuR,QAAQ,CAAG7W,OAAX,CACD,CANmB,CAOpB2X,UAAU,CAAE,UAAsB,CAChC,KAAKF,WAAL,CAAmB,CAAClB,iBAAiB,CAACjjH,OAAlB,CAA0BujH,QAA1B,CAApB,CACD,CATmB,CAUpBe,UAAU,CAAE,SAAoBxE,KAApB,CAA2B,CACrC,GAAI3P,SAAQ,CAAG2P,KAAK,CAAC3P,QAArB,CACIvlE,MAAM,CAAGk1E,KAAK,CAACl1E,MADnB,CAEA,GAAI,CAAC,KAAKu5E,WAAV,CAAuB,OAEvB,IAAK,GAAI7iH,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG2hH,iBAAiB,CAACrgH,MAAtC,CAA8CtB,CAAC,EAA/C,CAAmD,CACjD4hH,eAAe,CAACnjH,IAAhB,CAAqByE,KAAK,CAACy+G,iBAAiB,CAAC3hH,CAAD,CAAlB,CAA1B,EACA4hH,eAAe,CAAC5hH,CAAD,CAAf,CAAmBijH,aAAnB,CAAmCtB,iBAAiB,CAAC3hH,CAAD,CAAjB,CAAqBijH,aAAxD,CACArB,eAAe,CAAC5hH,CAAD,CAAf,CAAmBqrG,SAAnB,CAA+B,KAA/B,CACAuW,eAAe,CAAC5hH,CAAD,CAAf,CAAmB8gB,KAAnB,CAAyB,aAAzB,EAA0C,EAA1C,CACAsZ,WAAW,CAACwnF,eAAe,CAAC5hH,CAAD,CAAhB,CAAqB,KAAK8C,OAAL,CAAa2/G,aAAlC,CAAiD,KAAjD,CAAX,CACAd,iBAAiB,CAAC3hH,CAAD,CAAjB,GAAyBiiH,QAAzB,EAAqC7nF,WAAW,CAACwnF,eAAe,CAAC5hH,CAAD,CAAhB,CAAqB,KAAK8C,OAAL,CAAa0zG,WAAlC,CAA+C,KAA/C,CAAhD,CACD,CAED3H,QAAQ,CAAC+K,UAAT,GAEAtwE,MAAM,GACP,CA3BmB,CA4BpBpmC,KAAK,CAAE,SAAeq9G,KAAf,CAAsB,CAC3B,GAAI1R,SAAQ,CAAG0R,KAAK,CAAC1R,QAArB,CACIY,MAAM,CAAG8Q,KAAK,CAAC9Q,MADnB,CAEIgC,qBAAqB,CAAG8O,KAAK,CAAC9O,qBAFlC,CAGInoE,MAAM,CAAGi3E,KAAK,CAACj3E,MAHnB,CAIA,GAAI,CAAC,KAAKu5E,WAAV,CAAuB,OAEvB,GAAI,CAAC,KAAK//G,OAAL,CAAawzG,iBAAlB,CAAqC,CACnC,GAAIqL,iBAAiB,CAACrgH,MAAlB,EAA4BwgH,iBAAiB,GAAKjT,QAAtD,CAAgE,CAC9DqU,qBAAqB,CAAC,IAAD,CAAOzT,MAAP,CAArB,CACAgC,qBAAqB,CAAC,OAAD,CAArB,CACAnoE,MAAM,GACP,CACF,CACF,CA1CmB,CA2CpB65E,SAAS,CAAE,SAAmB1C,KAAnB,CAA0B,CACnC,GAAIjP,cAAa,CAAGiP,KAAK,CAACjP,aAA1B,CACI/B,MAAM,CAAGgR,KAAK,CAAChR,MADnB,CAEInmE,MAAM,CAAGm3E,KAAK,CAACn3E,MAFnB,CAGA,GAAI,CAAC,KAAKu5E,WAAV,CAAuB,OACvBK,qBAAqB,CAAC,KAAD,CAAQzT,MAAR,CAArB,CACAmS,eAAe,CAACj+C,OAAhB,CAAwB,SAAUzgE,KAAV,CAAiB,CACvC8d,GAAG,CAAC9d,KAAD,CAAQ,SAAR,CAAmB,EAAnB,CAAH,CACD,CAFD,EAGAsuG,aAAa,GACb2Q,YAAY,CAAG,KAAf,CACA74E,MAAM,GACP,CAvDmB,CAwDpB85E,SAAS,CAAE,SAAmBC,KAAnB,CAA0B,CACnC,GAAI/W,MAAK,CAAG,IAAZ,CAEA,GAAIuC,SAAQ,CAAGwU,KAAK,CAACxU,QAArB,CACI0C,cAAc,CAAG8R,KAAK,CAAC9R,cAD3B,CAEIjoE,MAAM,CAAG+5E,KAAK,CAAC/5E,MAFnB,CAGA,GAAI,CAAC,KAAKu5E,WAAV,CAAuB,OACvBjB,eAAe,CAACj+C,OAAhB,CAAwB,SAAUzgE,KAAV,CAAiB,CACvC8d,GAAG,CAAC9d,KAAD,CAAQ,SAAR,CAAmB,MAAnB,CAAH,CAEA,GAAIopG,KAAK,CAACxpG,OAAN,CAAcwzG,iBAAd,EAAmCpzG,KAAK,CAACzC,UAA7C,CAAyD,CACvDyC,KAAK,CAACzC,UAAN,CAAiBC,WAAjB,CAA6BwC,KAA7B,EACD,CACF,CAND,EAOAquG,cAAc,GACd4Q,YAAY,CAAG,IAAf,CACA74E,MAAM,GACP,CAzEmB,CA0EpBg6E,eAAe,CAAE,SAAyBC,KAAzB,CAAgC,CAChCA,KAAK,CAAC1U,QAD0B,CAG/C,GAAI,CAAC,KAAKgU,WAAN,EAAqBf,iBAAzB,CAA4C,CAC1CA,iBAAiB,CAAC0B,SAAlB,CAA4BlB,kBAA5B,GACD,CAEDX,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpDA,gBAAgB,CAACM,aAAjB,CAAiCtrG,uBAAK,CAACgrG,gBAAD,CAAtC,CACD,CAFD,EAIAhB,iBAAiB,CAAGA,iBAAiB,CAACh/G,IAAlB,CAAuB,SAAUqE,CAAV,CAAaC,CAAb,CAAgB,CACzD,MAAOD,EAAC,CAACi8G,aAAF,CAAkBh8G,CAAC,CAACg8G,aAA3B,CACD,CAFmB,CAApB,CAGAjS,WAAW,CAAG,IAAd,CACD,CAzFmB,CA0FpBA,WAAW,CAAE,SAAqByS,KAArB,CAA4B,CACvC,GAAIC,OAAM,CAAG,IAAb,CAEA,GAAI7U,SAAQ,CAAG4U,KAAK,CAAC5U,QAArB,CACA,GAAI,CAAC,KAAKgU,WAAV,CAAuB,OAEvB,GAAI,KAAK//G,OAAL,CAAaH,IAAjB,CAAuB,CAOrBksG,QAAQ,CAAC7B,qBAAT,GAEA,GAAI,KAAKlqG,OAAL,CAAaqyB,SAAjB,CAA4B,CAC1BwsF,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpD,GAAIA,gBAAgB,GAAKV,QAAzB,CAAmC,OACnCjhG,GAAG,CAAC2hG,gBAAD,CAAmB,UAAnB,CAA+B,UAA/B,CAAH,CACD,CAHD,EAIA,GAAIrO,SAAQ,CAAGxK,OAAO,CAACmY,QAAD,CAAW,KAAX,CAAkB,IAAlB,CAAwB,IAAxB,CAAtB,CACAN,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpD,GAAIA,gBAAgB,GAAKV,QAAzB,CAAmC,OACnCtV,OAAO,CAACgW,gBAAD,CAAmBrO,QAAnB,CAAP,CACD,CAHD,EAIA0N,OAAO,CAAG,IAAV,CACAD,cAAc,CAAG,IAAjB,CACD,CACF,CAEDlT,QAAQ,CAACvB,UAAT,CAAoB,UAAY,CAC9B0U,OAAO,CAAG,KAAV,CACAD,cAAc,CAAG,KAAjB,CAEA,GAAI2B,MAAM,CAAC5gH,OAAP,CAAeqyB,SAAnB,CAA8B,CAC5BwsF,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpD/V,SAAS,CAAC+V,gBAAD,CAAT,CACD,CAFD,EAGD,CAGD,GAAIe,MAAM,CAAC5gH,OAAP,CAAeH,IAAnB,CAAyB,CACvBghH,uBAAuB,GACxB,CACF,CAdD,EAeD,CAvImB,CAwIpBC,QAAQ,CAAE,SAAkBC,KAAlB,CAAyB,CACjC,GAAI1gH,OAAM,CAAG0gH,KAAK,CAAC1gH,MAAnB,CACIoa,SAAS,CAAGsmG,KAAK,CAACtmG,SADtB,CAEI+rB,MAAM,CAAGu6E,KAAK,CAACv6E,MAFnB,CAIA,GAAI04E,OAAO,EAAI,CAACL,iBAAiB,CAACjjH,OAAlB,CAA0ByE,MAA1B,CAAhB,CAAmD,CACjDoa,SAAS,CAAC,KAAD,CAAT,CACA+rB,MAAM,GACP,CACF,CAjJmB,CAkJpB49B,MAAM,CAAE,SAAgB48C,KAAhB,CAAuB,CAC7B,GAAI1J,aAAY,CAAG0J,KAAK,CAAC1J,YAAzB,CACI3K,MAAM,CAAGqU,KAAK,CAACrU,MADnB,CAEIZ,QAAQ,CAAGiV,KAAK,CAACjV,QAFrB,CAGIyF,QAAQ,CAAGwP,KAAK,CAACxP,QAHrB,CAKA,GAAIqN,iBAAiB,CAACrgH,MAAlB,CAA2B,CAA/B,CAAkC,CAEhCqgH,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpD9T,QAAQ,CAACzB,iBAAT,CAA2B,CACzBjqG,MAAM,CAAEw/G,gBADiB,CAEzBj9E,IAAI,CAAEs8E,OAAO,CAAGlY,OAAO,CAAC6Y,gBAAD,CAAV,CAA+BrO,QAFnB,CAA3B,EAIA1H,SAAS,CAAC+V,gBAAD,CAAT,CACAA,gBAAgB,CAAC1V,QAAjB,CAA4BqH,QAA5B,CACA8F,YAAY,CAAC/M,oBAAb,CAAkCsV,gBAAlC,EACD,CARD,EASAX,OAAO,CAAG,KAAV,CACA+B,uBAAuB,CAAC,CAAC,KAAKjhH,OAAL,CAAawzG,iBAAf,CAAkC7G,MAAlC,CAAvB,CACD,CACF,CAtKmB,CAuKpB8O,iBAAiB,CAAE,SAA2ByF,MAA3B,CAAmC,CACpD,GAAInV,SAAQ,CAAGmV,MAAM,CAACnV,QAAtB,CACIqL,OAAO,CAAG8J,MAAM,CAAC9J,OADrB,CAEIS,SAAS,CAAGqJ,MAAM,CAACrJ,SAFvB,CAGIzJ,cAAc,CAAG8S,MAAM,CAAC9S,cAH5B,CAIIP,QAAQ,CAAGqT,MAAM,CAACrT,QAJtB,CAKIT,WAAW,CAAG8T,MAAM,CAAC9T,WALzB,CAMA,GAAIptG,QAAO,CAAG,KAAKA,OAAnB,CAEA,GAAI63G,SAAJ,CAAe,CAEb,GAAIT,OAAJ,CAAa,CACXhJ,cAAc,CAAC0I,UAAf,GACD,CAEDmI,cAAc,CAAG,KAAjB,CAEA,GAAIj/G,OAAO,CAACqyB,SAAR,EAAqBwsF,iBAAiB,CAACrgH,MAAlB,CAA2B,CAAhD,GAAsD0gH,OAAO,EAAI,CAAC9H,OAAD,EAAY,CAAChJ,cAAc,CAACpuG,OAAf,CAAuBH,IAApC,EAA4C,CAACutG,WAA9G,CAAJ,CAAgI,CAE9H,GAAI+T,iBAAgB,CAAGna,OAAO,CAACmY,QAAD,CAAW,KAAX,CAAkB,IAAlB,CAAwB,IAAxB,CAA9B,CACAN,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpD,GAAIA,gBAAgB,GAAKV,QAAzB,CAAmC,OACnCtV,OAAO,CAACgW,gBAAD,CAAmBsB,gBAAnB,CAAP,CAGAtT,QAAQ,CAACnwG,WAAT,CAAqBmiH,gBAArB,EACD,CAND,EAOAX,OAAO,CAAG,IAAV,CACD,CAGD,GAAI,CAAC9H,OAAL,CAAc,CAEZ,GAAI,CAAC8H,OAAL,CAAc,CACZ2B,uBAAuB,GACxB,CAED,GAAIhC,iBAAiB,CAACrgH,MAAlB,CAA2B,CAA/B,CAAkC,CAChC,GAAI4iH,mBAAkB,CAAG/B,YAAzB,CAEAjR,cAAc,CAAC0J,UAAf,CAA0B/L,QAA1B,EAGA,GAAIqC,cAAc,CAACpuG,OAAf,CAAuBqyB,SAAvB,EAAoC,CAACgtF,YAArC,EAAqD+B,kBAAzD,CAA6E,CAC3EtC,eAAe,CAACj+C,OAAhB,CAAwB,SAAUzgE,KAAV,CAAiB,CACvCguG,cAAc,CAAC9D,iBAAf,CAAiC,CAC/BjqG,MAAM,CAAED,KADuB,CAE/BwiC,IAAI,CAAEw8E,cAFyB,CAAjC,EAIAh/G,KAAK,CAAC+pG,QAAN,CAAiBiV,cAAjB,CACAh/G,KAAK,CAACgqG,qBAAN,CAA8B,IAA9B,CACD,CAPD,EAQD,CACF,CAhBD,IAgBO,CACLgE,cAAc,CAAC0J,UAAf,CAA0B/L,QAA1B,EACD,CACF,CACF,CACF,CAjOmB,CAkOpBsV,wBAAwB,CAAE,SAAkCC,MAAlC,CAA0C,CAClE,GAAI9P,SAAQ,CAAG8P,MAAM,CAAC9P,QAAtB,CACI4F,OAAO,CAAGkK,MAAM,CAAClK,OADrB,CAEIhJ,cAAc,CAAGkT,MAAM,CAAClT,cAF5B,CAGAyQ,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpDA,gBAAgB,CAACzV,qBAAjB,CAAyC,IAAzC,CACD,CAFD,EAIA,GAAIgE,cAAc,CAACpuG,OAAf,CAAuBqyB,SAAvB,EAAoC,CAAC+kF,OAArC,EAAgDhJ,cAAc,CAACsS,SAAf,CAAyBX,WAA7E,CAA0F,CACxFX,cAAc,CAAG9a,QAAQ,CAAC,EAAD,CAAKkN,QAAL,CAAzB,CACA,GAAI+P,WAAU,CAAGjb,MAAM,CAAC6Y,QAAD,CAAW,IAAX,CAAvB,CACAC,cAAc,CAACh1G,GAAf,EAAsBm3G,UAAU,CAAC55E,CAAjC,CACAy3E,cAAc,CAACvvF,IAAf,EAAuB0xF,UAAU,CAACx6G,CAAlC,CACD,CACF,CAhPmB,CAiPpBy6G,yBAAyB,CAAE,UAAqC,CAC9D,GAAItC,OAAJ,CAAa,CACXA,OAAO,CAAG,KAAV,CACA2B,uBAAuB,GACxB,CACF,CAtPmB,CAuPpBjF,IAAI,CAAE,SAAc6F,MAAd,CAAsB,CAC1B,GAAIxgF,IAAG,CAAGwgF,MAAM,CAAC18F,aAAjB,CACI4nF,MAAM,CAAG8U,MAAM,CAAC9U,MADpB,CAEIkB,QAAQ,CAAG4T,MAAM,CAAC5T,QAFtB,CAGI9B,QAAQ,CAAG0V,MAAM,CAAC1V,QAHtB,CAII4C,qBAAqB,CAAG8S,MAAM,CAAC9S,qBAJnC,CAKI3B,QAAQ,CAAGyU,MAAM,CAACzU,QALtB,CAMII,WAAW,CAAGqU,MAAM,CAACrU,WANzB,CAOA,GAAIgQ,WAAU,CAAGhQ,WAAW,EAAI,KAAKrB,QAArC,CACA,GAAI,CAAC9qE,GAAL,CAAU,OACV,GAAIjhC,QAAO,CAAG,KAAKA,OAAnB,CACIsU,QAAQ,CAAGu5F,QAAQ,CAACv5F,QADxB,CAGA,GAAI,CAAC45F,WAAL,CAAkB,CAChB,GAAIluG,OAAO,CAAC4/G,YAAR,EAAwB,CAAC,KAAKE,gBAAlC,CAAoD,CAClD,KAAKN,kBAAL,GACD,CAEDloF,WAAW,CAAC6nF,QAAD,CAAWn/G,OAAO,CAAC2/G,aAAnB,CAAkC,CAAC,CAACd,iBAAiB,CAACjjH,OAAlB,CAA0BujH,QAA1B,CAApC,CAAX,CAEA,GAAI,CAAC,CAACN,iBAAiB,CAACjjH,OAAlB,CAA0BujH,QAA1B,CAAN,CAA2C,CACzCN,iBAAiB,CAACljH,IAAlB,CAAuBwjH,QAAvB,EACA5qC,aAAa,CAAC,CACZw3B,QAAQ,CAAEA,QADE,CAEZY,MAAM,CAAEA,MAFI,CAGZ1sG,IAAI,CAAE,QAHM,CAIZ2sG,QAAQ,CAAEuS,QAJE,CAKZuC,WAAW,CAAEzgF,GALD,CAAD,CAAb,CAQA,GAAIA,GAAG,CAACpa,QAAJ,EAAgBk4F,mBAAhB,EAAuChT,QAAQ,CAACljG,EAAT,CAAYtF,QAAZ,CAAqBw7G,mBAArB,CAA3C,CAAsF,CACpF,GAAIzsD,UAAS,CAAGz9C,uBAAK,CAACkqG,mBAAD,CAArB,CACIte,YAAY,CAAG5rF,uBAAK,CAACsqG,QAAD,CADxB,CAGA,GAAI,CAAC7sD,SAAD,EAAc,CAACmuC,YAAf,EAA+BnuC,SAAS,GAAKmuC,YAAjD,CAA+D,CAG7D,GAAIjtF,EAAJ,CAAOtW,CAAP,CAEA,GAAIujG,YAAY,CAAGnuC,SAAnB,CAA8B,CAC5Bp1D,CAAC,CAAGo1D,SAAJ,CACA9+C,CAAC,CAAGitF,YAAJ,CACD,CAHD,IAGO,CACLvjG,CAAC,CAAGujG,YAAJ,CACAjtF,CAAC,CAAG8+C,SAAS,CAAG,CAAhB,CACD,CAED,KAAOp1D,CAAC,CAAGsW,CAAX,CAActW,CAAC,EAAf,CAAmB,CACjB,GAAI,CAAC2hH,iBAAiB,CAACjjH,OAAlB,CAA0B0Y,QAAQ,CAACpX,CAAD,CAAlC,CAAL,CAA6C,SAC7Co6B,WAAW,CAAChjB,QAAQ,CAACpX,CAAD,CAAT,CAAc8C,OAAO,CAAC2/G,aAAtB,CAAqC,IAArC,CAAX,CACAd,iBAAiB,CAACljH,IAAlB,CAAuB2Y,QAAQ,CAACpX,CAAD,CAA/B,EACAq3E,aAAa,CAAC,CACZw3B,QAAQ,CAAEA,QADE,CAEZY,MAAM,CAAEA,MAFI,CAGZ1sG,IAAI,CAAE,QAHM,CAIZ2sG,QAAQ,CAAEt4F,QAAQ,CAACpX,CAAD,CAJN,CAKZwkH,WAAW,CAAEzgF,GALD,CAAD,CAAb,CAOD,CACF,CACF,CA9BD,IA8BO,CACL89E,mBAAmB,CAAGI,QAAtB,CACD,CAEDH,iBAAiB,CAAG5B,UAApB,CACD,CA7CD,IA6CO,CACLyB,iBAAiB,CAAC/+G,MAAlB,CAAyB++G,iBAAiB,CAACjjH,OAAlB,CAA0BujH,QAA1B,CAAzB,CAA8D,CAA9D,EACAJ,mBAAmB,CAAG,IAAtB,CACAxqC,aAAa,CAAC,CACZw3B,QAAQ,CAAEA,QADE,CAEZY,MAAM,CAAEA,MAFI,CAGZ1sG,IAAI,CAAE,UAHM,CAIZ2sG,QAAQ,CAAEuS,QAJE,CAKZuC,WAAW,CAAEzgF,GALD,CAAD,CAAb,CAOD,CACF,CAGD,GAAIitE,WAAW,EAAI,KAAK6R,WAAxB,CAAqC,CAEnC,GAAI,CAAClS,QAAQ,CAACltG,yBAAD,CAAR,CAAkBX,OAAlB,CAA0BH,IAA1B,EAAkCguG,QAAQ,GAAKlB,MAAhD,GAA2DkS,iBAAiB,CAACrgH,MAAlB,CAA2B,CAA1F,CAA6F,CAC3F,GAAIgzG,SAAQ,CAAGxK,OAAO,CAACmY,QAAD,CAAtB,CACIwC,cAAc,CAAG9sG,uBAAK,CAACsqG,QAAD,CAAW,SAAW,KAAKn/G,OAAL,CAAa2/G,aAAxB,CAAwC,GAAnD,CAD1B,CAEA,GAAI,CAACV,cAAD,EAAmBj/G,OAAO,CAACqyB,SAA/B,CAA0C8sF,QAAQ,CAAC/U,qBAAT,CAAiC,IAAjC,CAC1CgT,UAAU,CAAClT,qBAAX,GAEA,GAAI,CAAC+U,cAAL,CAAqB,CACnB,GAAIj/G,OAAO,CAACqyB,SAAZ,CAAuB,CACrB8sF,QAAQ,CAAChV,QAAT,CAAoBqH,QAApB,CACAqN,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpDA,gBAAgB,CAACzV,qBAAjB,CAAyC,IAAzC,CAEA,GAAIyV,gBAAgB,GAAKV,QAAzB,CAAmC,CACjC,GAAIv8E,KAAI,CAAGs8E,OAAO,CAAGlY,OAAO,CAAC6Y,gBAAD,CAAV,CAA+BrO,QAAjD,CACAqO,gBAAgB,CAAC1V,QAAjB,CAA4BvnE,IAA5B,CAEAw6E,UAAU,CAAC9S,iBAAX,CAA6B,CAC3BjqG,MAAM,CAAEw/G,gBADmB,CAE3Bj9E,IAAI,CAAEA,IAFqB,CAA7B,EAID,CACF,CAZD,EAaD,CAIDi+E,uBAAuB,GACvBhC,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpD,GAAIvrG,QAAQ,CAACqtG,cAAD,CAAZ,CAA8B,CAC5B9T,QAAQ,CAACzjF,YAAT,CAAsBy1F,gBAAtB,CAAwCvrG,QAAQ,CAACqtG,cAAD,CAAhD,EACD,CAFD,IAEO,CACL9T,QAAQ,CAACnwG,WAAT,CAAqBmiH,gBAArB,EACD,CAED8B,cAAc,GACf,CARD,EAYA,GAAI3U,QAAQ,GAAKn4F,uBAAK,CAACsqG,QAAD,CAAtB,CAAkC,CAChC,GAAI56B,OAAM,CAAG,KAAb,CACAs6B,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpD,GAAIA,gBAAgB,CAACM,aAAjB,GAAmCtrG,uBAAK,CAACgrG,gBAAD,CAA5C,CAAgE,CAC9Dt7B,MAAM,CAAG,IAAT,CAED,CACF,CALD,EAOA,GAAIA,MAAJ,CAAY,CACVoqB,qBAAqB,CAAC,QAAD,CAArB,CACD,CACF,CACF,CAGDkQ,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpD/V,SAAS,CAAC+V,gBAAD,CAAT,CACD,CAFD,EAGAzC,UAAU,CAAC5S,UAAX,GACD,CAEDwU,iBAAiB,CAAG5B,UAApB,CACD,CAGD,GAAIzQ,MAAM,GAAKkB,QAAX,EAAuBT,WAAW,EAAIA,WAAW,CAACM,WAAZ,GAA4B,OAAtE,CAA+E,CAC7EoR,eAAe,CAACj+C,OAAhB,CAAwB,SAAUzgE,KAAV,CAAiB,CACvCA,KAAK,CAACzC,UAAN,EAAoByC,KAAK,CAACzC,UAAN,CAAiBC,WAAjB,CAA6BwC,KAA7B,CAApB,CACD,CAFD,EAGD,CACF,CA9YmB,CA+YpBwhH,aAAa,CAAE,UAAyB,CACtC,KAAK7B,WAAL,CAAmB7R,WAAW,CAAG,KAAjC,CACA4Q,eAAe,CAACtgH,MAAhB,CAAyB,CAAzB,CACD,CAlZmB,CAmZpBqjH,aAAa,CAAE,UAAyB,CACtC,KAAKrC,kBAAL,GAEAj9F,qBAAG,CAACvnB,QAAD,CAAW,WAAX,CAAwB,KAAKwkH,kBAA7B,CAAH,CACAj9F,qBAAG,CAACvnB,QAAD,CAAW,SAAX,CAAsB,KAAKwkH,kBAA3B,CAAH,CACAj9F,qBAAG,CAACvnB,QAAD,CAAW,UAAX,CAAuB,KAAKwkH,kBAA5B,CAAH,CACAj9F,qBAAG,CAACvnB,QAAD,CAAW,SAAX,CAAsB,KAAKykH,aAA3B,CAAH,CACAl9F,qBAAG,CAACvnB,QAAD,CAAW,OAAX,CAAoB,KAAK0kH,WAAzB,CAAH,CACD,CA3ZmB,CA4ZpBF,kBAAkB,CAAE,SAA4Bv+E,GAA5B,CAAiC,CACnD,GAAI,MAAOitE,YAAP,GAAuB,WAAvB,EAAsCA,WAA1C,CAAuD,OAEvD,GAAI8Q,iBAAiB,GAAK,KAAKjT,QAA/B,CAAyC,OAEzC,GAAI9qE,GAAG,EAAIrsB,OAAO,CAACqsB,GAAG,CAAC5gC,MAAL,CAAa,KAAKL,OAAL,CAAauoG,SAA1B,CAAqC,KAAKwD,QAAL,CAAcljG,EAAnD,CAAuD,KAAvD,CAAlB,CAAiF,OAEjF,GAAIo4B,GAAG,EAAIA,GAAG,CAACvc,MAAJ,GAAe,CAA1B,CAA6B,OAE7B,MAAOm6F,iBAAiB,CAACrgH,MAAzB,CAAiC,CAC/B,GAAIqK,GAAE,CAAGg2G,iBAAiB,CAAC,CAAD,CAA1B,CACAvnF,WAAW,CAACzuB,EAAD,CAAK,KAAK7I,OAAL,CAAa2/G,aAAlB,CAAiC,KAAjC,CAAX,CACAd,iBAAiB,CAACn2G,KAAlB,GACA6rE,aAAa,CAAC,CACZw3B,QAAQ,CAAE,KAAKA,QADH,CAEZY,MAAM,CAAE,KAAKZ,QAAL,CAAcljG,EAFV,CAGZ5I,IAAI,CAAE,UAHM,CAIZ2sG,QAAQ,CAAE/jG,EAJE,CAKZ64G,WAAW,CAAEzgF,GALD,CAAD,CAAb,CAOD,CACF,CAjbmB,CAkbpBw+E,aAAa,CAAE,SAAuBx+E,GAAvB,CAA4B,CACzC,GAAIA,GAAG,CAACz4B,GAAJ,GAAY,KAAKxI,OAAL,CAAa4/G,YAA7B,CAA2C,CACzC,KAAKE,gBAAL,CAAwB,IAAxB,CACD,CACF,CAtbmB,CAubpBJ,WAAW,CAAE,SAAqBz+E,GAArB,CAA0B,CACrC,GAAIA,GAAG,CAACz4B,GAAJ,GAAY,KAAKxI,OAAL,CAAa4/G,YAA7B,CAA2C,CACzC,KAAKE,gBAAL,CAAwB,KAAxB,CACD,CACF,CA3bmB,CAAtB,CA6bA,MAAOxb,SAAQ,CAACib,SAAD,CAAY,CAEzBrT,UAAU,CAAE,WAFa,CAGzBkO,KAAK,CAAE,CAKLt3G,MAAM,CAAE,SAAgB+F,EAAhB,CAAoB,CAC1B,GAAIkjG,SAAQ,CAAGljG,EAAE,CAAClL,UAAH,CAAcgD,yBAAd,CAAf,CACA,GAAI,CAACorG,QAAD,EAAa,CAACA,QAAQ,CAAC/rG,OAAT,CAAiB0gH,SAA/B,EAA4C,CAAC7B,iBAAiB,CAACjjH,OAAlB,CAA0BiN,EAA1B,CAAjD,CAAgF,OAEhF,GAAIm2G,iBAAiB,EAAIA,iBAAiB,GAAKjT,QAA/C,CAAyD,CACvDiT,iBAAiB,CAAC0B,SAAlB,CAA4BlB,kBAA5B,GAEAR,iBAAiB,CAAGjT,QAApB,CACD,CAEDz0E,WAAW,CAACzuB,EAAD,CAAKkjG,QAAQ,CAAC/rG,OAAT,CAAiB2/G,aAAtB,CAAqC,IAArC,CAAX,CACAd,iBAAiB,CAACljH,IAAlB,CAAuBkN,EAAvB,EACD,CAjBI,CAuBLi5G,QAAQ,CAAE,SAAkBj5G,EAAlB,CAAsB,CAC9B,GAAIkjG,SAAQ,CAAGljG,EAAE,CAAClL,UAAH,CAAcgD,yBAAd,CAAf,CACIkU,KAAK,CAAGgqG,iBAAiB,CAACjjH,OAAlB,CAA0BiN,EAA1B,CADZ,CAEA,GAAI,CAACkjG,QAAD,EAAa,CAACA,QAAQ,CAAC/rG,OAAT,CAAiB0gH,SAA/B,EAA4C,CAAC,CAAC7rG,KAAlD,CAAyD,OACzDyiB,WAAW,CAACzuB,EAAD,CAAKkjG,QAAQ,CAAC/rG,OAAT,CAAiB2/G,aAAtB,CAAqC,KAArC,CAAX,CACAd,iBAAiB,CAAC/+G,MAAlB,CAAyB+U,KAAzB,CAAgC,CAAhC,EACD,CA7BI,CAHkB,CAkCzB03F,eAAe,CAAE,UAA2B,CAC1C,GAAIwV,OAAM,CAAG,IAAb,CAEA,GAAIC,YAAW,CAAG,EAAlB,CACIC,WAAW,CAAG,EADlB,CAEApD,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpDmC,WAAW,CAACrmH,IAAZ,CAAiB,CACfkkH,gBAAgB,CAAEA,gBADH,CAEfhrG,KAAK,CAAEgrG,gBAAgB,CAACM,aAFT,CAAjB,EAKA,GAAIlT,SAAJ,CAEA,GAAIiS,OAAO,EAAIW,gBAAgB,GAAKV,QAApC,CAA8C,CAC5ClS,QAAQ,CAAG,CAAC,CAAZ,CACD,CAFD,IAEO,IAAIiS,OAAJ,CAAa,CAClBjS,QAAQ,CAAGp4F,uBAAK,CAACgrG,gBAAD,CAAmB,SAAWkC,MAAM,CAAC/hH,OAAP,CAAe2/G,aAA1B,CAA0C,GAA7D,CAAhB,CACD,CAFM,IAEA,CACL1S,QAAQ,CAAGp4F,uBAAK,CAACgrG,gBAAD,CAAhB,CACD,CAEDoC,WAAW,CAACtmH,IAAZ,CAAiB,CACfkkH,gBAAgB,CAAEA,gBADH,CAEfhrG,KAAK,CAAEo4F,QAFQ,CAAjB,EAID,CApBD,EAqBA,MAAO,CACLzmB,KAAK,CAAE0e,kBAAkB,CAAC2Z,iBAAD,CADpB,CAELqD,MAAM,CAAE,GAAGxmH,MAAH,CAAUojH,eAAV,CAFH,CAGLkD,WAAW,CAAEA,WAHR,CAILC,WAAW,CAAEA,WAJR,CAAP,CAMD,CAlEwB,CAmEzBxV,eAAe,CAAE,CACfmT,YAAY,CAAE,SAAsBp3G,GAAtB,CAA2B,CACvCA,GAAG,CAAGA,GAAG,CAACjG,WAAJ,EAAN,CAEA,GAAIiG,GAAG,GAAK,MAAZ,CAAoB,CAClBA,GAAG,CAAG,SAAN,CACD,CAFD,IAEO,IAAIA,GAAG,CAAChK,MAAJ,CAAa,CAAjB,CAAoB,CACzBgK,GAAG,CAAGA,GAAG,CAACg7C,MAAJ,CAAW,CAAX,EAAcjoC,WAAd,GAA8B/S,GAAG,CAACojC,MAAJ,CAAW,CAAX,CAApC,CACD,CAED,MAAOpjC,IAAP,CACD,CAXc,CAnEQ,CAAZ,CAAf,CAiFD,CAED,QAASy4G,wBAAT,CAAiCkB,cAAjC,CAAiDxV,MAAjD,CAAyD,CACvDkS,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B3iH,CAA5B,CAA+B,CACvD,GAAImD,OAAM,CAAGssG,MAAM,CAACr4F,QAAP,CAAgBurG,gBAAgB,CAACM,aAAjB,EAAkCgC,cAAc,CAAGv5E,MAAM,CAAC1rC,CAAD,CAAT,CAAe,CAA/D,CAAhB,CAAb,CAEA,GAAImD,MAAJ,CAAY,CACVssG,MAAM,CAACviF,YAAP,CAAoBy1F,gBAApB,CAAsCx/G,MAAtC,EACD,CAFD,IAEO,CACLssG,MAAM,CAACjvG,WAAP,CAAmBmiH,gBAAnB,EACD,CACF,CARD,EASD,CAQD,QAASO,sBAAT,CAA+BgC,gBAA/B,CAAiDzV,MAAjD,CAAyD,CACvDmS,eAAe,CAACj+C,OAAhB,CAAwB,SAAUzgE,KAAV,CAAiBlD,CAAjB,CAAoB,CAC1C,GAAImD,OAAM,CAAGssG,MAAM,CAACr4F,QAAP,CAAgBlU,KAAK,CAAC+/G,aAAN,EAAuBiC,gBAAgB,CAAGx5E,MAAM,CAAC1rC,CAAD,CAAT,CAAe,CAAtD,CAAhB,CAAb,CAEA,GAAImD,MAAJ,CAAY,CACVssG,MAAM,CAACviF,YAAP,CAAoBhqB,KAApB,CAA2BC,MAA3B,EACD,CAFD,IAEO,CACLssG,MAAM,CAACjvG,WAAP,CAAmB0C,KAAnB,EACD,CACF,CARD,EASD,CAED,QAASygH,wBAAT,EAAmC,CACjChC,iBAAiB,CAACh+C,OAAlB,CAA0B,SAAUg/C,gBAAV,CAA4B,CACpD,GAAIA,gBAAgB,GAAKV,QAAzB,CAAmC,OACnCU,gBAAgB,CAACliH,UAAjB,EAA+BkiH,gBAAgB,CAACliH,UAAjB,CAA4BC,WAA5B,CAAwCiiH,gBAAxC,CAA/B,CACD,CAHD,EAID,CAEczX,8DAAf,E;;AC7mHA;AAEAA,iBAAQ,CAACuD,KAAT,CAAe,IAAIuP,gBAAJ,EAAf;;;;ACHA;AAEA;AACA;AACA;AAEO,SAASmH,iBAAT,CAA2BriH,OAA3B,EAAuCqjD,GAAvC,EAA+Ci/D,UAA/C,EAA8D;AACpE,QAAM1iG,MAAM,GAAG5f,OAAO,CAACsiH,UAAD,CAAtB;AACA,QAAMC,aAAa,GAAGj+E,gBAAC,CAAC,+BAAD,CAAvB;AACA,QAAMk+E,cAAc,GAAGl+E,gBAAC,CAAC,6BAAD,CAAxB;AAEAk+E,gBAAc,CAACp2G,IAAf,CAAoB;AACnB,sBAAkBi3C,GAAG,CAACo/D,QADH;AAEnB,wBAAoBH;AAFD,GAApB;AAIAC,eAAa,CACXjlH,IADF,CACO2kF,IAAI,CAACriE,MAAM,CAAC8iG,WAAR,CAAJ,IAA4B,WADnC,EAEExgG,EAFF,CAEK,OAFL,EAEc,YAAW;AACvB,UAAMygG,QAAQ,GAAGC,eAAe,CAAChjG,MAAM,CAACijG,eAAP,EAAD,EAA2BjjG,MAAM,CAACkjG,mBAAlC,EAAuDljG,MAAM,CAACmjG,KAA9D,CAAhC;AACAz+E,oBAAC,CAAC,IAAD,CAAD,CAAQ/wB,QAAR,CAAiB,sBAAjB,EAAyC8R,OAAzC,CAAiD,QAAjD,EAA2D6E,MAA3D,CAAkEy4F,QAAlE;AACA,UAAMK,SAAS,GAAGL,QAAQ,CAAC93G,IAAT,CAAc,4BAAd,EAA4C,CAA5C,CAAlB;;AACA,QAAIm4G,SAAJ,EAAe;AACd1pG,gBAAU,CAAC,MAAM0pG,SAAS,CAACl7F,KAAV,EAAP,EAA0B,GAA1B,CAAV;AACA;AACD,GATF;AAUAlI,QAAM,CAAC1d,KAAP,CAAa2+D,OAAb,CAAqB89B,IAAI,IAAIikB,eAAe,CAACjkB,IAAD,EAAO/+E,MAAM,CAACkjG,mBAAd,EAAmCljG,MAAM,CAACmjG,KAA1C,CAAf,CAAgEt4F,QAAhE,CAAyE+3F,cAAzE,CAA7B;AAEApa,mBAAQ,CAACr4C,MAAT,CAAgByyD,cAAc,CAAC9jH,GAAf,CAAmB,CAAnB,CAAhB,EAAuC;AAAEukB,UAAM,EAAE;AAAV,GAAvC;AAEA,SAAOqhB,gBAAC,CAAC,OAAD,CAAD,CAAWpa,MAAX,CAAkBs4F,cAAlB,EAAkCD,aAAlC,EAAiD,CAAjD,CAAP;AACA;;AAED,SAASK,eAAT,CAAyB3mG,IAAzB,EAAkC6mG,mBAAsB,GAAG,EAA3D,EAA+DC,KAA/D,EAAyE;AACxE,QAAME,WAAW,GAAG3+E,gBAAC,CAAC,OAAD,CAAD,CAClBtN,QADkB,CACT,kEADS,EAElBxN,IAFkB,CAEb,UAFa,EAGlBpd,IAHkB,CAGb,OAHa,EAGJ,4DAHI,EAIlB8V,EAJkB,CAIf,OAJe,EAIN,YAAW;AACvB,UAAMghG,KAAK,GAAG5+E,gBAAC,CAAC,IAAD,CAAD,CAAQ1vB,OAAR,CAAgB,cAAhB,CAAd;AACA,UAAMqH,IAAI,GAAGknG,eAAe,CAACD,KAAD,EAAQJ,mBAAR,EAA6BC,KAA7B,CAA5B;AACA,UAAMjmF,IAAI,GAAGsmF,MAAM,CAClB,yEADkB,EAElB3mG,IAAI,CAACslE,SAAL,CAAe9lE,IAAf,CAFkB,CAAnB;;AAIA,QAAI6gB,IAAI,KAAK,IAAb,EAAmB;AAClB,YAAMwc,OAAO,GAAG78B,IAAI,CAACC,KAAL,CAAWogB,IAAX,CAAhB;AACAomF,WAAK,CAAC79F,OAAN,CAAc,QAAd,EAAwBkF,WAAxB,CAAoCq4F,eAAe,CAACtpE,OAAD,EAAUwpE,mBAAV,EAA+BC,KAA/B,CAAnD;AACA;AACD,GAfkB,CAApB;AAiBA,QAAMM,aAAa,GAAGC,gBAAgB,GACpCtsF,QADoB,CACX,yBADW,EAEpB9U,EAFoB,CAEjB,OAFiB,EAER,YAAW;AACvB,QAAIg9E,OAAO,CAAC,2CAAD,CAAX,EAA0D;AACzD56D,sBAAC,CAAC,IAAD,CAAD,CAAQjf,OAAR,CAAgB,QAAhB;AACAif,sBAAC,CAAC,IAAD,CAAD,CAAQ1vB,OAAR,CAAgB,cAAhB,EAAgCyQ,OAAhC,CAAwC,QAAxC,EAAkD7O,MAAlD;AACA;AACD,GAPoB,CAAtB;AASA,QAAM+sG,aAAa,GAAG9nG,sBAAM,CAAC+N,IAAK,wCAAlC;;AACA,OAAK,MAAMyvE,MAAX,IAAqB6pB,mBAArB,EAA0C;AACzC,UAAMpvB,EAAE,GAAG14F,QAAQ,CAACqC,aAAT,CAAuB,IAAvB,CAAX;AACAinC,oBAAC,CAACovD,EAAD,CAAD,CAAMxpE,MAAN,CAAas5F,UAAU,CAACvqB,MAAD,EAASh9E,IAAI,CAACwW,IAAL,IAAa,EAAtB,CAAvB;AACA8wF,iBAAa,CAACr5F,MAAd,CAAqBwpE,EAArB;AACA;;AAED,QAAM+vB,OAAO,GAAGn/E,gBAAC,CAAC,mCAAD,CAAD,CACdpa,MADc,CAEdw5F,UAAU,EAFI,EAGdp/E,gBAAC,CAAC,kGAAD,CAAD,CAAsGnnC,GAAtG,CAA0G8e,IAAI,CAAC0nG,IAA/G,CAHc,EAIdr/E,gBAAC,CAAC,sCAAD,CAAD,CAA0CnnC,GAA1C,CAA8C8e,IAAI,CAAC2nG,GAAnD,CAJc,EAKdt/E,gBAAC,CAAC,iCAAD,CAAD,CAAqCnnC,GAArC,CAAyC8e,IAAI,CAACtU,EAA9C,CALc,EAMd47G,aANc,EAOdN,WAPc,EAQdI,aARc,CAAhB;AAWA,QAAMQ,KAAK,GAAGC,gBAAgB,CAAC7nG,IAAI,CAACiD,IAAN,EAAY6jG,KAAZ,EAAmB,KAAnB,CAA9B;AAEA,SAAOz+E,gBAAC,CAAC,2BAAD,CAAD,CAA+Bpa,MAA/B,CAAsCu5F,OAAtC,EAA+CI,KAA/C,CAAP;AACA;;AAED,SAASH,UAAT,GAAsB;AACrB,SAAOp/E,gBAAC,CAAC,OAAD,CAAD,CACLtN,QADK,CACI,iDADJ,EAELxN,IAFK,CAEA,UAFA,EAGLpd,IAHK,CAGA,OAHA,EAGS,sCAHT,CAAP;AAIA;;AAED,SAASk3G,gBAAT,GAA4B;AAC3B,SAAOh/E,gBAAC,CAAC,OAAD,CAAD,CACLtN,QADK,CACI,0CADJ,EAELxN,IAFK,CAEA,UAFA,EAGLpd,IAHK,CAGA,OAHA,EAGS,uBAHT,CAAP;AAIA;;AAEM,SAAS03G,gBAAT,CAA0B7nG,IAA1B,EAAmC8mG,KAAnC,EAA6CgB,eAAwB,GAAG,IAAxE,EAA8E;AACpF,MAAI,CAAChB,KAAK,CAAC/mH,cAAN,CAAqBigB,IAAI,CAACvf,IAA1B,CAAL,EAAsC;AACrCud,WAAO,CAACjZ,KAAR,CAAe,aAAYib,IAAI,CAACvf,IAAK,oCAArC,EAA0Euf,IAA1E;AAEA,WAAOqoB,gBAAC,EAAR;AACA;;AAED,QAAM0/E,MAAM,GAAG1/E,gBAAC,CAAC,4BAAD,CAAD,CACbl4B,IADa,CACR,WADQ,EACK6P,IAAI,CAACvf,IADV,EAEbwtB,MAFa,CAENs5F,UAAU,CAACT,KAAK,CAAC9mG,IAAI,CAACvf,IAAN,CAAL,CAAiBu8F,MAAlB,EAA0Bh9E,IAA1B,EAAgC8mG,KAAhC,CAFJ,CAAf;AAIA,MAAI,CAACgB,eAAL,EAAsB,OAAOC,MAAP;AAEtB,QAAMX,aAAa,GAAGC,gBAAgB,GACpCtsF,QADoB,CACX,yBADW,EAEpB9U,EAFoB,CAEjB,OAFiB,EAER,YAAW;AACvB,QAAIg9E,OAAO,CAAC,iDAAD,CAAX,EAAgE;AAC/D56D,sBAAC,CAAC,IAAD,CAAD,CAAQjf,OAAR,CAAgB,QAAhB;AACAif,sBAAC,CAAC,IAAD,CAAD,CAAQ1vB,OAAR,CAAgB,cAAhB,EAAgCzG,MAAhC,CAAuC,IAAvC,EAA6CqI,MAA7C;AACA;AACD,GAPoB,CAAtB;AASA,SAAO8tB,gBAAC,CAAC,2BAAD,CAAD,CACLpa,MADK,CAELw5F,UAAU,EAFL,EAGLM,MAHK,EAILX,aAJK,CAAP;AAMA;AAEM,SAASF,eAAT,CAAyBxkB,IAAzB,EAAkCmkB,mBAAsB,GAAG,EAA3D,EAA+DC,KAA/D,EAAyE;AAC/E,QAAMkB,WAAW,GAAG3/E,gBAAC,CAACq6D,IAAD,CAAD,CAAQ9zF,IAAR,CAAa,iBAAb,CAApB;AACA,QAAM44G,OAAO,GAAGn/E,gBAAC,CAACq6D,IAAD,CAAD,CAAQ9zF,IAAR,CAAa,sBAAb,CAAhB;AAEA,SAAO;AACN84G,QAAI,EAAEF,OAAO,CAAC54G,IAAR,CAAa,4BAAb,EAA2C1N,GAA3C,EADA;AAENymH,OAAG,EAAEhtF,QAAQ,CAAC6sF,OAAO,CAAC54G,IAAR,CAAa,qBAAb,EAAoC1N,GAApC,EAAD,EAA4C,EAA5C,CAFP;AAGNwK,MAAE,EAAE87G,OAAO,CAAC54G,IAAR,CAAa,gBAAb,EAA+B1N,GAA/B,EAHE;AAIN+hB,QAAI,EAAEglG,gBAAgB,CAACD,WAAD,EAAclB,KAAd,CAJhB;AAKNtwF,QAAI,EAAE0xF,UAAU,CAACV,OAAO,CAAC54G,IAAR,CAAa,0BAAb,CAAD,EAA2C,kBAAUi4G,mBAAV,CAA3C,EAA2EC,KAA3E;AALV,GAAP;AAOA;AAEM,SAASmB,gBAAT,CAA0BE,QAA1B,EAAuCrB,KAAvC,EAAiD;AACvD,QAAMrmH,IAAI,GAAG0nH,QAAQ,CAACh4G,IAAT,CAAc,WAAd,CAAb;AACA,QAAMi4G,UAAU,GAAGtB,KAAK,CAACrmH,IAAD,CAAxB;AAEA,QAAMuf,IAAI,GAAG;AAAEvf,QAAF;AAAQ,OAAGynH,UAAU,CAACC,QAAD,EAAWC,UAAU,CAACprB,MAAtB,EAA8B8pB,KAA9B;AAArB,GAAb;AAEA,QAAMuB,SAAS,GAAGD,UAAU,CAACprB,MAAX,CAAkBpuF,IAAlB,CAAuB,CAAC;AAAEnO;AAAF,GAAD,KAAcA,IAAI,KAAK,OAA9C,CAAlB;;AACA,MAAI,CAAC4nH,SAAL,EAAgB;AACf,QAAI;AACHD,gBAAU,CAACE,QAAX,CAAoBtoG,IAApB;AACAmoG,cAAQ,CAAC/sF,WAAT,CAAqB,oBAArB;AACA,KAHD,CAGE,OAAOtwB,CAAP,EAAU;AACXq9G,cAAQ,CACNh4G,IADF,CACO,OADP,EACgBrF,CAAC,CAACoT,OADlB,EAEE6c,QAFF,CAEW,oBAFX;AAGA,YAAMjwB,CAAN;AACA;AACD;;AAED,SAAOkV,IAAP;AACA;;AAED,SAASkoG,UAAT,CAAoBC,QAApB,EAA8BnrB,MAA9B,EAAsC8pB,KAAtC,EAA6C;AAC5C,SAAO9pB,MAAM,CAAC9hB,MAAP,CAAc,CAACuR,GAAD,EAAM87B,KAAN,KAAgB;AACpC,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B,OAAO97B,GAAP;AAC/B,UAAM+7B,UAAU,GAAGL,QAAQ,CAACv5G,IAAT,CAAe,WAAU25G,KAAK,CAAC78G,EAAG,GAAlC,CAAnB;AACA,UAAM+8G,WAAW,GAAGC,aAAa,CAACH,KAAK,CAAC9nH,IAAP,CAAjC;;AACA,QAAIgoH,WAAW,IAAI,OAAOA,WAAW,CAACE,IAAnB,KAA4B,UAA/C,EAA2D;AAC1Dl8B,SAAG,CAAC87B,KAAK,CAAC78G,EAAP,CAAH,GAAgB+8G,WAAW,CAACE,IAAZ,CAAiBH,UAAjB,EAA6BD,KAA7B,EAAoCzB,KAApC,CAAhB;AACA,KAFD,MAEO;AACNr6B,SAAG,CAAC87B,KAAK,CAAC78G,EAAP,CAAH,GAAgB88G,UAAU,CAACtnH,GAAX,EAAhB;AACA;;AACD,WAAOurF,GAAP;AACA,GAVM,EAUJ,EAVI,CAAP;AAWA;;AAED,SAAS86B,UAAT,CAAoBvqB,MAApB,EAA4Bh9E,IAA5B,EAAkC8mG,KAAlC,EAAyC;AACxC,SAAO9pB,MAAM,CAAC95F,GAAP,CAAWqlH,KAAK,IAAI;AAC1B,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B,OAAOA,KAAP;AAE/B,UAAME,WAAW,GAAGC,aAAa,CAACH,KAAK,CAAC9nH,IAAP,CAAjC;;AACA,QAAIgoH,WAAJ,EAAiB;AAChB,aAAOA,WAAW,CAACG,IAAZ,CAAiB5oG,IAAjB,EAAuBuoG,KAAvB,EAA8BzB,KAA9B,CAAP;AACA,KAFD,MAEO;AACN,aAAOz+E,gBAAC,CAAE,gBAAekgF,KAAK,CAAC9nH,IAAK,IAA5B,CAAD,CACL0P,IADK,CACA,MADA,EACQo4G,KAAK,CAAC78G,EADd,EAELxK,GAFK,CAED8e,IAAI,CAACuoG,KAAK,CAAC78G,EAAP,CAFH,CAAP;AAGA;AACD,GAXM,CAAP;AAYA;;AAED,MAAMg9G,aAAa,GAAG;AACrB7pC,OAAK,EAAE;AACN+pC,QAAI,CAAC5oG,IAAD,EAAOuoG,KAAP,EAAczB,KAAK,GAAG,EAAtB,EAA0B;AAC7B,YAAM+B,WAAW,GAAGxgF,gBAAC,CAAC,2BAAD,CAAD,CAA+Bl4B,IAA/B,CAAoC,MAApC,EAA4Co4G,KAAK,CAAC78G,EAAlD,CAApB;;AACA,YAAMo9G,OAAO,GAAGC,QAAQ,IAAIlB,gBAAgB,CAACkB,QAAD,EAAWjC,KAAX,CAAhB,CAAkCt4F,QAAlC,CAA2Cq6F,WAA3C,EAAwD/jG,IAAxD,CAA6D,MAA7D,CAA5B;;AAEA,YAAMylE,KAAK,GAAGvqE,IAAI,CAACuoG,KAAK,CAAC78G,EAAP,CAAlB;AACA6+E,WAAK,CAAC3lB,OAAN,CAAckkD,OAAd;AAEA,YAAME,aAAa,GAAG1yC,QAAQ,CAAC92D,sBAAM,CAAC+N,IAAK;;;OAGvCjuB,MAAM,CAAC0uE,OAAP,CAAe84C,KAAf,EAAsB5jH,GAAtB,CAA0B,CAAC,CAACqJ,GAAD,EAAM;AAAElL;AAAF,OAAN,CAAD,KAAqBme,sBAAM,CAACghE,KAAM;uBAC5Cj0E,GAAI,KAAIlL,IAAK;MAD7B,CAEC;;IALyB,EAO3BgmG,iBAP2B,CAA9B;AAQA2hB,mBAAa,CAAC56G,gBAAd,CAA+B,QAA/B,EAAyC,MAAM;AAC9C,cAAM3N,IAAI,GAAGuoH,aAAa,CAAC/iH,KAA3B;;AACA,YAAIxF,IAAI,KAAK,EAAT,IAAeqmH,KAAK,CAAC/mH,cAAN,CAAqBU,IAArB,CAAnB,EAA+C;AAC9CqoH,iBAAO,CAAC;AAAEroH,gBAAF;AAAQ,eAAGqmH,KAAK,CAACrmH,IAAD,CAAL,CAAYwoH;AAAvB,WAAD,CAAP,CACEr6G,IADF,CACO,gDADP,EACyDid,KADzD;AAEA;;AAEDm9F,qBAAa,CAACz1G,aAAd,GAA8B,CAA9B;AACA,OARD;AAUA44F,uBAAQ,CAACr4C,MAAT,CAAgB+0D,WAAW,CAACpmH,GAAZ,CAAgB,CAAhB,CAAhB,EAAoC;AAAEy0D,aAAK,EAAE,OAAT;AAAkBlwC,cAAM,EAAE;AAA1B,OAApC;AAEA,aAAO6hG,WAAW,CAAC/vG,GAAZ,CAAgBkwG,aAAhB,CAAP;AACA,KA7BK;;AA8BNL,QAAI,CAACO,KAAD,EAAQlsB,MAAR,EAAgB8pB,KAAhB,EAAuB;AAC1B,aAAOoC,KAAK,CAACt6G,IAAN,CAAW,qCAAX,EAAkD1L,GAAlD,CAAsD,YAAW;AACvE,eAAO+kH,gBAAgB,CAAC5/E,gBAAC,CAAC,IAAD,CAAF,EAAUy+E,KAAV,CAAvB;AACA,OAFM,EAEJrkH,GAFI,EAAP;AAGA;;AAlCK,GADc;AAqCrBkzB,QAAM,EAAE;AACPizF,QAAI,CAAC5oG,IAAD,EAAOuoG,KAAP,EAAc;AACjB,YAAM78G,EAAE,GAAG68G,KAAK,CAAC78G,EAAjB;AACA,aAAO28B,gBAAC,CAAC,uBAAD,CAAD,CAA2Bl4B,IAA3B,CAAgC,MAAhC,EAAwCzE,EAAxC,EAA4CxK,GAA5C,CAAgD8e,IAAI,CAACtU,EAAD,CAApD,CAAP;AACA;;AAJM,GArCa;AA2CrBgvC,QAAM,EAAE;AACPkuE,QAAI,CAAC5oG,IAAD,EAAOuoG,KAAP,EAAc;AACjB,YAAM78G,EAAE,GAAG68G,KAAK,CAAC78G,EAAjB;AACA,aAAO28B,gBAAC,CAAC,uBAAD,CAAD,CAA2Bl4B,IAA3B,CAAgC,MAAhC,EAAwCzE,EAAxC,EAA4CxK,GAA5C,CAAgD8e,IAAI,CAACtU,EAAD,CAApD,CAAP;AACA,KAJM;;AAKPi9G,QAAI,CAACO,KAAD,EAAQ;AACX,aAAOvuF,QAAQ,CAACuuF,KAAK,CAAChoH,GAAN,EAAD,EAAc,EAAd,CAAf;AACA;;AAPM,GA3Ca;AAoDrBqQ,OAAK,EAAE;AACNq3G,QAAI,CAAC5oG,IAAD,EAAOuoG,KAAP,EAAc;AACjB,YAAM78G,EAAE,GAAG68G,KAAK,CAAC78G,EAAjB;AACA,YAAMy9G,MAAM,GAAG9gF,gBAAC,CAAC,yBAAD,CAAD,CAA6BpoB,IAA7B,CAAkC,SAAlC,EAA6CD,IAAI,CAACtU,EAAD,CAAjD,CAAf;AACA,aAAO28B,gBAAC,CAAC,SAAD,CAAD,CAAal4B,IAAb,CAAkB,MAAlB,EAA0BzE,EAA1B,EAA8BrK,IAA9B,CAAmCknH,KAAK,CAAC3hB,KAAzC,EAAgD14E,OAAhD,CAAwDi7F,MAAxD,CAAP;AACA,KALK;;AAMNR,QAAI,CAACO,KAAD,EAAQ;AACX,aAAOA,KAAK,CAACt6G,IAAN,CAAW,OAAX,EAAoBnM,GAApB,CAAwB,CAAxB,EAA2B4Q,OAAlC;AACA;;AARK,GApDc;AA8DrB+1G,UAAQ,EAAE;AACTxpG,OAAG,EAAE,CADI;;AAETgpG,QAAI,CAAC5oG,IAAD,EAAOuoG,KAAP,EAAc;AACjB,YAAM78G,EAAE,GAAG68G,KAAK,CAAC78G,EAAjB;AACA,YAAM29G,QAAQ,GAAG,KAAKzpG,GAAL,EAAjB;AACA,YAAM0pG,KAAK,GAAGjhF,gBAAC,CAAC,yBAAD,CAAD,CAA6Bl4B,IAA7B,CAAkC,MAAlC,EAA0Co4G,KAAK,CAAC78G,EAAhD,CAAd;AACA68G,WAAK,CAACh+B,KAAN,CAAY3lB,OAAZ,CAAoB,CAAC95D,CAAD,EAAI2H,GAAJ,KAAY;AAC/B,cAAM82G,MAAM,GAAI,YAAWF,QAAS,IAAG52G,GAAI,GAA3C;AACA,cAAM+2G,IAAI,GAAGnhF,gBAAC,CAAC,2BAAD,CAAD,CACXl4B,IADW,CACN,IADM,EACAo5G,MADA,EAEXp5G,IAFW,CAEN,MAFM,EAEErF,CAFF,CAAb;;AAGA,YAAIkV,IAAI,CAACjgB,cAAL,CAAoB2L,EAApB,KAA2BsU,IAAI,CAACtU,EAAD,CAAJ,CAAS+0C,QAAT,CAAkB31C,CAAlB,CAA/B,EAAqD;AACpD0+G,cAAI,CAACvpG,IAAL,CAAU,SAAV,EAAqB,IAArB;AACA;;AACD,cAAMwpG,MAAM,GAAGphF,gBAAC,CAAC,SAAD,CAAD,CACbl4B,IADa,CACR,KADQ,EACDo5G,MADC,EAEbloH,IAFa,CAERyJ,CAFQ,CAAf;AAGAw+G,aAAK,CAACr7F,MAAN,CAAau7F,IAAb,EAAmBC,MAAnB;AACA,OAZD;AAaA,aAAOH,KAAP;AACA,KApBQ;;AAqBTX,QAAI,CAACO,KAAD,EAAQlsB,MAAR,EAAgB;AACnB,aAAOA,MAAM,CAACzS,KAAP,CAAa77E,MAAb,CAAoB5D,CAAC,IAAIo+G,KAAK,CAAC7wG,QAAN,CAAgB,UAASvN,CAAE,IAA3B,EAAgCmV,IAAhC,CAAqC,SAArC,CAAzB,CAAP;AACA;;AAvBQ,GA9DW;AAuFrB0U,UAAQ,EAAE;AACTi0F,QAAI,CAAC5oG,IAAD,EAAOuoG,KAAP,EAAc;AAEjB,UAAImB,IAAI,GAAG1pG,IAAI,CAACuoG,KAAK,CAAC78G,EAAP,CAAf;AACAg+G,UAAI,IAAI,KAAK,IAAb;AACA,YAAMvzC,OAAO,GAAGuzC,IAAI,GAAG,EAAvB;AACAA,UAAI,GAAG,CAACA,IAAI,GAAGvzC,OAAR,IAAmB,EAA1B;AACA,YAAMC,KAAK,GAAGszC,IAAI,GAAG,EAArB;AACAA,UAAI,GAAG,CAACA,IAAI,GAAGtzC,KAAR,IAAiB,EAAxB;AACA,YAAMuzC,IAAI,GAAGD,IAAb;AAEA,aAAOrhF,gBAAC,CAAC,8BAAD,CAAD,CACLl4B,IADK,CACA,MADA,EACQo4G,KAAK,CAAC78G,EADd,EAELuiB,MAFK,CAEE,CACPoa,gBAAC,CAAC,qCAAD,CAAD,CAAyCnnC,GAAzC,CAA6CyoH,IAA7C,CADO,EAC6C,QAD7C,EAEPthF,gBAAC,CAAC,sCAAD,CAAD,CAA0CnnC,GAA1C,CAA8Ck1E,KAA9C,CAFO,EAE+C,SAF/C,EAGP/tC,gBAAC,CAAC,wCAAD,CAAD,CAA4CnnC,GAA5C,CAAgDi1E,OAAhD,CAHO,EAGmD,WAHnD,CAFF,CAAP;AAOA,KAlBQ;;AAmBTwyC,QAAI,CAACO,KAAD,EAAQ;AACX,YAAMS,IAAI,GAAGv5F,UAAU,CAAC84F,KAAK,CAAC7wG,QAAN,CAAe,aAAf,EAA8BnX,GAA9B,EAAD,CAAV,IAAmD,CAAhE;AACA,YAAMk1E,KAAK,GAAGhmD,UAAU,CAAC84F,KAAK,CAAC7wG,QAAN,CAAe,cAAf,EAA+BnX,GAA/B,EAAD,CAAV,IAAoD,CAAlE;AACA,YAAMi1E,OAAO,GAAG/lD,UAAU,CAAC84F,KAAK,CAAC7wG,QAAN,CAAe,gBAAf,EAAiCnX,GAAjC,EAAD,CAAV,IAAsD,CAAtE;AAGA,UAAIyzB,QAAQ,GAAG,CAAf;AACAA,cAAQ,IAAIg1F,IAAI,GAAG,EAAP,GAAY,EAAZ,GAAiB,EAA7B;AACAh1F,cAAQ,IAAIyhD,KAAK,GAAG,EAAR,GAAa,EAAzB;AACAzhD,cAAQ,IAAIwhD,OAAO,GAAG,EAAtB;AACAxhD,cAAQ,IAAI,IAAZ;AAEA,aAAOA,QAAP;AACA;;AAhCQ,GAvFW;AAyHrB9tB,QAAM,EAAE;AACP+hH,QAAI,CAAC5oG,IAAD,EAAOuoG,KAAP,EAAc;AACjB,YAAMtiH,KAAK,GAAG+Z,IAAI,CAACuoG,KAAK,CAAC78G,EAAP,CAAlB;AACA,UAAIsiE,OAAO,GAAGu6C,KAAK,CAACxkH,OAApB;;AAEA,UAAI,OAAOiqE,OAAP,KAAmB,QAAvB,EAAiC;AAChCA,eAAO,GAAG,KAAK47C,oBAAL,CAA0B57C,OAA1B,CAAV;AACA;;AAED,YAAM67C,SAAS,GAAGxhF,gBAAC,CAAC,UAAD,CAAD,CAAcl4B,IAAd,CAAmB,MAAnB,EAA2Bo4G,KAAK,CAAC78G,EAAjC,CAAlB;AACAsiE,aAAO,CAACpJ,OAAR,CAAgB8hC,GAAG,IAAI;AACtB,YAAIE,KAAJ,EAAW3gG,KAAX;;AACA,YAAI,OAAOygG,GAAP,KAAe,QAAnB,EAA6B;AAC5BE,eAAK,GAAG3gG,KAAK,GAAGygG,GAAhB;AACA,SAFD,MAEO;AACNE,eAAK,GAAGF,GAAG,CAAC,CAAD,CAAX;AACAzgG,eAAK,GAAGygG,GAAG,CAAC,CAAD,CAAX;AACA;;AACDr+D,wBAAC,CAAC,UAAD,CAAD,CAAchnC,IAAd,CAAmBulG,KAAnB,EAA0B1lG,GAA1B,CAA8B+E,KAA9B,EAAqCuoB,QAArC,CAA8Cq7F,SAA9C;AACA,OATD;AAUAA,eAAS,CAAC3oH,GAAV,CAAc+E,KAAd;AACA,aAAO4jH,SAAP;AACA,KAtBM;;AAuBPD,wBAAoB,CAAC5lH,IAAD,EAAO;AAC1B,UAAIA,IAAI,KAAK,YAAb,EAA2B;AAC1B,eAAO,CACN,CAAC,SAAD,EAAY,IAAZ,CADM,EAEN,CAAC,KAAD,EAAQ,IAAR,CAFM,EAGN,CAAC,WAAD,EAAc,GAAd,CAHM,EAIN,CAAC,WAAD,EAAc,GAAd,CAJM,EAKN,CAAC,UAAD,EAAa,IAAb,CALM,EAMN,CAAC,SAAD,EAAY,IAAZ,CANM,CAAP;AAQA,OATD,MASO;AACN,cAAM,IAAI/E,KAAJ,CAAW,eAAc+E,IAAK,kBAA9B,CAAN;AACA;AACD;;AApCM;AAzHa,CAAtB,C;;AC9LA;AAIA;AAIA;AAIA;AAUA;AAgBA;AAKA;AAIA;AAuBA;AAIA;AAIA;AAKA;AAKA;AAKA;AAIA;AAQA;AAQA;AAoBA;AAUA;AAIA;AAIA;AAKA;AAKA;AAKA;AAQA;AAWA;AAIA;AAQA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7LO,MAAM8lH,MAAN,CAAoH;AAoC1HxnH,aAAW,CAACkkH,QAAD,EAAmB;AAAA,SAnC9BA,QAmC8B;AAAA,SAjC9BuD,UAiC8B;AAAA,SAhC9BC,QAgC8B,GAhCX,EAgCW;AAAA,SA/B9BvnB,WA+B8B,GA/BR,EA+BQ;AAAA,SA9B9BwnB,cA8B8B,GA9BJ,KA8BI;AAAA,SA7B9BC,QA6B8B,GA7BJ,EA6BI;AAAA,SA5B9BC,SA4B8B,GA5BT,KA4BS;AAAA,SA3B9BpmH,OA2B8B,GA3Bd,EA2Bc;AAAA,SA1B9BqmH,OA0B8B,GA1BgB,EA0BhB;AAAA,SAzB9BC,OAyB8B,GAzBgB,EAyBhB;;AAAA,SAxB9BC,SAwB8B,GAxBH,MAAM,IAwBH;;AAAA,SAvB9BC,QAuB8B,GAvBU,MAAM,CAAE,CAuBlB;;AAAA,SAtB9BC,cAsB8B,GAtBmB,MAAM,CAAE,CAsB3B;;AAAA,SApB9B70F,MAoB8B,GApBZ,KAoBY;AAAA,SAnB9B80F,iBAmB8B,GAnBD,KAmBC;AAAA,SAlB9BC,aAkB8B,GAlBL,KAkBK;AAAA,SAjB9B9mH,IAiB8B,GAjBf,CAiBe;AAAA,SAd9B+mH,MAc8B,GAdgBlmH,SAchB;AAAA,SAb9BmmH,UAa8B,GAboBnmH,SAapB;AAAA,SAZ9Bq9E,YAY8B,GAZsBr9E,SAYtB;AAAA,SAX9B6yF,EAW8B,GAXY7yF,SAWZ;AAAA,SAV9BomH,SAU8B,GAVmBpmH,SAUnB;AAAA,SAT9BmX,MAS8B,GATgBnX,SAShB;AAAA,SAP9BokF,WAO8B,GAJzB;AACJiiC,yBAAmB,EAAE;AADjB,KAIyB;AAE7B,SAAKtE,QAAL,GAAgBA,QAAhB;AACA,SAAKuD,UAAL,GAAkBvD,QAAlB;AACA;;AAxCyH;AA6CpH,SAASuE,WAAT,CAAqBC,QAArB,EAAuD;AAC7D,MAAI,CAACA,QAAL,EAAe;AACd,UAAM,IAAInuG,SAAJ,CAAe,mDAAkDmuG,QAAS,EAA1E,CAAN;AACA;;AAED,MAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;AAEjC,WAAOA,QAAP;AACA,GAHD,MAGO,IAAIA,QAAQ,CAACnsH,MAAb,EAAqB;AAE3B,WAAOmsH,QAAQ,CAACnsH,MAAT,CAAgB2nH,QAAvB;AACA,GAHM,MAGA;AAEN,WAAOwE,QAAQ,CAACxE,QAAhB;AACA;AACD,C;;ACpED;AAEO,MAAMh8B,eAAO,GAAGqT,uBAAO,CAAC7Q,QAAR,CAAiB,iBAAjB,EACtB,MAAe;AAAE,QAAM,IAAI/tF,KAAJ,CAAU,uDAAV,CAAN;AAA2E,CADtE,CAAhB;AAGA,SAASgsH,UAAT,CAAoBx0B,QAApB,EAAsCy0B,MAAtC,EAAuD;AAC7D,SAAO1gC,eAAO,CAACzqE,GAAR,CAAY02E,QAAZ,EAAsBy0B,MAAtB,CAAP;AACA,C;;;;;;;;;;ACTD;AAmBO,MAAMC,OAAO,GAAG,EAAhB;;AAEP,CAAC,MAAM;AACLA,SAAO,CAACtpH,OAAR,GAAkB,OAAlB;AAEAspH,SAAO,CAACC,gBAAR,GAA2B;AACzBC,YAAQ,EAAE,IADe;AAEzBC,aAAS,EAAE,KAFc;AAGzBtgG,WAAO,EAAE,CAAC;AAAChnB,UAAI,EAAE;AAAP,KAAD,CAHgB;AAIzBunH,oBAAgB,EAAE,EAJO;AAKzBC,eAAW,EAAE,IALY;AAMzBC,iBAAa,EAAE,KANU;AAOzBhpB,eAAW,EAAE,gcAPY;AAQzBipB,aAAS,EAAE,IARc;AASzBC,cAAU,EAAE,IATa;AAUzB56F,YAAQ,EAAE,IAVe;AAWzBiV,UAAM,EAAE;AACN73B,SAAG,EAAE,IADC;AAENylB,UAAI,EAAE;AAFA,KAXiB;AAezBg4F,WAAO,EAAE,IAfgB;AAgBzBC,UAAM,EAAE,IAhBiB;AAiBzBC,UAAM,EAAE,IAjBiB;AAkBzB9oB,WAAO,EAAE,KAlBgB;AAmBzBjzE,YAAQ,EAAE,CAnBe;AAoBzBg8F,cAAU,EAAE,YAAW,CAAE,CApBA;AAqBzB55B,SAAK,EAAE,wBArBkB;AAsBzBriE,SAAK,EAAE,GAtBkB;AAuBzBk8F,WAAO,EAAE;AAvBgB,GAA3B;AA0BAb,SAAO,CAACc,aAAR,GAAwB,CACtB,sBADsB,EAEtB,iCAFsB,EAGtB,qCAHsB,EAItB,uCAJsB,EAKtB,yCALsB,EAMtB,6CANsB,EAOtB,YAPsB,EAQtB,UARsB,EAStB,+BATsB,EAUtB,UAVsB,EAWtB,QAXsB,EAYtBjgH,IAZsB,CAYjB,EAZiB,CAAxB;AAcAm/G,SAAO,CAACe,UAAR,GAAqB,EAArB;AACAf,SAAO,CAACgB,gBAAR,GAA2B,MAA3B;AACAhB,SAAO,CAACiB,iBAAR,GAA4B;AAAC,YAAQ;AAAT,GAA5B;AACAjB,SAAO,CAACkB,gBAAR,GAA2B,gBAA3B;AACAlB,SAAO,CAACmB,iBAAR,GAA4B,aAA5B;AACAnB,SAAO,CAACoB,cAAR,GAAyB,SAAzB;AACApB,SAAO,CAACqB,iBAAR,GAA4B,OAA5B;AACArB,SAAO,CAACsB,gBAAR,GAA2B,IAA3B;AACAtB,SAAO,CAACuB,gBAAR,GAA2B,OAA3B;AACAvB,SAAO,CAACwB,QAAR,GAAmB,EAAnB;AACAxB,SAAO,CAACyB,oBAAR,GAA+B,IAA/B;AACAzB,SAAO,CAAC0B,gBAAR,GAA2B,MAA3B;AACA1B,SAAO,CAAC2B,kBAAR,GAA6B;AAC3B,eAAW,EADgB;AAE3B,WAAO,EAFoB;AAG3B,gBAAY,CAHe;AAI3B,gBAAY,CAJe;AAK3B,aAAS,CALkB;AAM3B,mBAAe,CANY;AAO3B,mBAAe,CAPY;AAQ3B,cAAU,CARiB;AAS3B,kBAAc,CATa;AAU3B,kBAAc,CAVa;AAW3B,YAAQ,CAXmB;AAY3B,eAAW;AAZgB,GAA7B;AAcA3B,SAAO,CAAC4B,aAAR,GAAwB,CAAxB;AAGA,MAAIC,cAAc,GAAGxpD,SAAS,CAACC,SAAV,CAAoBt4D,KAApB,CAA0B,gBAA1B,CAArB;AACAggH,SAAO,CAAC8B,KAAR,GAAgBD,cAAc,IAAIA,cAAc,CAACzqH,MAAf,GAAwB,CAA1D;AACA4oH,SAAO,CAAC+B,UAAR,GAAqBF,cAAc,IAAIA,cAAc,CAACzqH,MAAf,GAAwB,CAA1C,GAA8CoqC,MAAM,CAACqgF,cAAc,CAAC,CAAD,CAAf,CAApD,GAA0E,CAAC,CAAhG;;AAEA7B,SAAO,CAACgC,WAAR,GAAsB,UAASC,QAAT,EAAmB;AACvC,QAAIC,sBAAsB,GAAGD,QAAQ,CAACjqH,IAAT,CAAcyL,IAAd,CAAmB,4BAAnB,CAA7B;;AAEA,QAAIw+G,QAAQ,CAACpiG,OAAT,KAAqB,IAArB,IAA6BoiG,QAAQ,CAACpiG,OAAT,CAAiBzoB,MAAjB,KAA4B,CAA7D,EAAgE;AAC9D8qH,4BAAsB,CAAC9yG,MAAvB;AACA;AACD;;AAED,SAAK,IAAItZ,CAAC,GAAGmsH,QAAQ,CAACpiG,OAAT,CAAiBzoB,MAAjB,GAA0B,CAAvC,EAA0CtB,CAAC,IAAI,CAA/C,EAAkDA,CAAC,EAAnD,EAAuD;AACrD,UAAIqsH,UAAU,GAAGF,QAAQ,CAACpiG,OAAT,CAAiB/pB,CAAjB,CAAjB;AACA,UAAIssH,cAAc,GAAGllF,gBAAC,CAAC8iF,OAAO,CAACoB,cAAT,EACpBlkF,gBAAC,CAACvkC,MAAF,CAAS;AAAC,iBAAUqnH,OAAO,CAACkB,gBAAnB;AAAqC,gBAASiB,UAAU,CAACtpH;AAAzD,OAAT,EAA0EmnH,OAAO,CAACiB,iBAAlF,EAAqGkB,UAAU,CAAC//F,IAAX,IAAmB,EAAxH,CADoB,CAAtB;;AAIA,UAAI,OAAO+/F,UAAU,CAAC9B,WAAlB,KAAkC,WAAlC,IAAiD8B,UAAU,CAAC9B,WAAX,KAA2B,IAAhF,EAAsF;AACpF+B,sBAAc,CAACxyF,QAAf,CAAwBuyF,UAAU,CAAC9B,WAAnC;AACD;;AAED6B,4BAAsB,CAACp/F,MAAvB,CAA8Bs/F,cAA9B;AAEA,UAAIC,cAAc,GAAGF,UAAU,CAACtpH,IAAX,CAAgBsC,WAAhB,EAArB;;AACA,UAAIgnH,UAAU,CAACG,OAAf,EAAwB;AACtBF,sBAAc,CAACz1F,IAAf,CAAoBqzF,OAAO,CAACmB,iBAA5B,EAA+CgB,UAAU,CAACG,OAA1D;AACD,OAFD,MAEO;AACL,gBAAQD,cAAR;AACE,eAAKrC,OAAO,CAACqB,iBAAR,CAA0BlmH,WAA1B,EAAL;AACEinH,0BAAc,CAACz1F,IAAf,CAAoBqzF,OAAO,CAACmB,iBAA5B,EAA+C,YAAY;AACzDnB,qBAAO,CAACuC,OAAR;;AACA,kBAAIN,QAAQ,CAACxB,OAAb,EAAsB;AACpBwB,wBAAQ,CAACxB,OAAT,CAAiBwB,QAAjB,EAA2B,KAA3B;AACD;;AACD/kF,8BAAC,CAAC,MAAD,CAAD,CAAUjf,OAAV,CAAkB,cAAlB;AACD,aAND;AAOA;;AACF,eAAK+hG,OAAO,CAAC0B,gBAAR,CAAyBvmH,WAAzB,EAAL;AACEinH,0BAAc,CAACz1F,IAAf,CAAoBqzF,OAAO,CAACmB,iBAA5B,EAA+C,YAAY;AACzD,eAACc,QAAQ,CAACjqH,IAAT,CAAc6c,IAAd,CAAmB,QAAnB,CAAD,IAAiCmrG,OAAO,CAACvgH,IAAR,EAAjC;AACD,aAFD;AAGA;;AACF,eAAKugH,OAAO,CAACgB,gBAAR,CAAyB7lH,WAAzB,EAAL;AACEinH,0BAAc,CAACz1F,IAAf,CAAoBqzF,OAAO,CAACmB,iBAA5B,EAA+C,YAAY;AACzD,eAACc,QAAQ,CAACjqH,IAAT,CAAc6c,IAAd,CAAmB,QAAnB,CAAD,IAAiCmrG,OAAO,CAAC5yG,IAAR,EAAjC;AACD,aAFD;AAGA;AAnBJ;AAqBD;AACF;;AAED,QAAI60G,QAAQ,CAAC7B,gBAAT,KAA8B,EAAlC,EAAsC;AACpC,UAAIoC,YAAY,GAAGtlF,gBAAC,CAAC+kF,QAAQ,CAAC7B,gBAAV,CAApB;AACA6B,cAAQ,CAACjqH,IAAT,CAAcyL,IAAd,CAAmB,4BAAnB,EAAiDqf,MAAjD,CAAwD0/F,YAAxD;AACD;;AAED,QAAIP,QAAQ,CAACpiG,OAAT,CAAiBzoB,MAAjB,KAA4B,CAAhC,EAAmC;AACjC8qH,4BAAsB,CAAC9yG,MAAvB;AACD;AACF,GAxDD;;AA0DA4wG,SAAO,CAACyC,WAAR,GAAsB,UAASR,QAAT,EAAmB;AACvC,QAAIS,gBAAgB,GAAGT,QAAQ,CAACjqH,IAAT,CAAcyL,IAAd,CAAmB,gBAAnB,CAAvB;AACA,QAAIo9G,OAAO,GAAG3jF,gBAAC,CAAC,aAAD,EAAgB;AAC7B,eAAU,kBADmB;AAE7B,cAAS;AAFoB,KAAhB,CAAf;AAIAwlF,oBAAgB,CAAC5/F,MAAjB,CAAwB+9F,OAAxB;AACAA,WAAO,CAAC9iG,KAAR,CAAc,YAAW;AACvBiiG,aAAO,CAACuC,OAAR;;AACA,UAAIN,QAAQ,CAACxB,OAAb,EAAsB;AACpBwB,gBAAQ,CAACxB,OAAT,CAAiBwB,QAAjB,EAA2B,IAA3B;AACA;;AACD/kF,sBAAC,CAAC,MAAD,CAAD,CAAUjf,OAAV,CAAkB,cAAlB;AACF,KAND;AAOD,GAdD;;AAgBA+hG,SAAO,CAAC2C,OAAR,GAAkB,UAASV,QAAT,EAAmB;AACnC,QAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;AAChC;AACD;;AAED,QAAI/B,QAAQ,GAAGhjF,gBAAC,CAAC+kF,QAAQ,CAAC/B,QAAV,CAAhB;AAEA,QAAI0C,QAAQ,GAAGX,QAAQ,CAACjqH,IAAT,CAAcioG,WAAd,EAAf;AACA,QAAI4iB,OAAO,GAAGZ,QAAQ,CAACjqH,IAAT,CAAckoG,UAAd,EAAd;;AAEA,QAAI+hB,QAAQ,CAACr9F,QAAT,KAAsB,CAAtB,IAA2Bs7F,QAAQ,CAAC9oH,MAAT,KAAoB,CAAnD,EAAsD;AACpD,UAAI0rH,eAAe,GAAG,OAAtB;;AACA,UAAI9C,OAAO,CAAC8B,KAAR,IAAiB9B,OAAO,CAAC+B,UAAR,GAAqB,CAA1C,EAA6C;AAC3Ce,uBAAe,GAAG,UAAlB;AACD;;AACDb,cAAQ,CAACjqH,IAAT,CAAc8e,GAAd,CAAkB,UAAlB,EAA8BgsG,eAA9B;AACAb,cAAQ,CAACjqH,IAAT,CAAc8e,GAAd,CAAkB,KAAlB,EAAyB,CAAComB,gBAAC,CAACnpC,MAAD,CAAD,CAAUg3B,MAAV,KAAqB63F,QAAtB,IAAkC,CAAlC,GAAsC,IAA/D;AACAX,cAAQ,CAACjqH,IAAT,CAAc8e,GAAd,CAAkB,MAAlB,EAA0B,CAAComB,gBAAC,CAACnpC,MAAD,CAAD,CAAU4wB,KAAV,KAAoBk+F,OAArB,IAAgC,CAAhC,GAAoC,IAA9D;AACA;AACD;;AAGD,QAAI15G,IAAI,GAAG+2G,QAAQ,CAACrlF,MAAT,EAAX;AACA,QAAI73B,GAAG,GAAGmG,IAAI,CAACnG,GAAf;AACA,QAAIylB,IAAI,GAAGtf,IAAI,CAACsf,IAAhB;AAGA,QAAIs6F,eAAe,GAAG7lF,gBAAC,CAAC,MAAD,CAAD,CAAU8lF,WAAV,CAAsB,IAAtB,IAA8B9lF,gBAAC,CAAC,MAAD,CAAD,CAAU8lF,WAAV,CAAsB,KAAtB,CAApD;AACAhgH,OAAG,IAAI+/G,eAAP;;AAIA,QAAI/C,OAAO,CAAC2B,kBAAR,CAA2BM,QAAQ,CAACr9F,QAApC,CAAJ,EAAmD;AAEjDq9F,cAAQ,CAACr9F,QAAT,GAAoBo7F,OAAO,CAAC2B,kBAAR,CAA2BM,QAAQ,CAACr9F,QAApC,CAApB;AACD;;AAED,QAAIq+F,cAAc,GAAG/C,QAAQ,CAACjgB,WAAT,EAArB;AACA,QAAIijB,aAAa,GAAGhD,QAAQ,CAAChgB,UAAT,EAApB;AACA,QAAIijB,YAAY,GAAG,MAAMnD,OAAO,CAACe,UAAjC;AAkBA,QAAIlmF,MAAM,GAfM;AACd,SAAG,CAAC,CAACsoF,YAAD,GAAgBP,QAAjB,EAA2BM,aAAa,GAAGL,OAA3C,CADW;AAEd,SAAG,CAAC,CAAD,EAAIM,YAAY,GAAGD,aAAnB,CAFW;AAGd,SAAG,CAACD,cAAc,GAAC,CAAf,GAAmBL,QAAQ,GAAC,CAA7B,EAAgCO,YAAY,GAAGD,aAA/C,CAHW;AAId,SAAG,CAACD,cAAc,GAAGL,QAAlB,EAA4BO,YAAY,GAAGD,aAA3C,CAJW;AAKd,SAAG,CAACC,YAAY,GAAGF,cAAhB,EAAgCC,aAAa,GAAGL,OAAhD,CALW;AAMd,SAAG,CAACM,YAAY,GAAGF,cAAhB,EAAgCC,aAAa,GAAC,CAAd,GAAkBL,OAAO,GAAC,CAA1D,CANW;AAOd,SAAG,CAACM,YAAY,GAAGF,cAAhB,EAAgC,CAAhC,CAPW;AAQd,SAAG,CAACA,cAAc,GAAGL,QAAlB,EAA4B,CAACC,OAAD,GAAWM,YAAvC,CARW;AASd,SAAG,CAACF,cAAc,GAAC,CAAf,GAAmBL,QAAQ,GAAC,CAA7B,EAAgC,CAACC,OAAD,GAAWM,YAA3C,CATW;AAUd,UAAI,CAAC,CAAD,EAAI,CAACN,OAAD,GAAWM,YAAf,CAVU;AAWd,UAAI,CAAC,CAACA,YAAD,GAAgBP,QAAjB,EAA2B,CAA3B,CAXU;AAYd,UAAI,CAAC,CAACO,YAAD,GAAgBP,QAAjB,EAA2BM,aAAa,GAAC,CAAd,GAAkBL,OAAO,GAAC,CAArD;AAZU,KAeH,CAAUZ,QAAQ,CAACr9F,QAAnB,CAAb;AACA5hB,OAAG,IAAI63B,MAAM,CAAC,CAAD,CAAb;AACApS,QAAI,IAAIoS,MAAM,CAAC,CAAD,CAAd;AAEA,QAAIuoF,YAAY,GAAG,UAAnB;;AAGA,QAAIlD,QAAQ,CAACppG,GAAT,CAAa,UAAb,MAA6B,OAA7B,IAAwCkpG,OAAO,CAACuB,gBAAR,KAA6B,OAAzE,EAAkF;AAChF6B,kBAAY,GAAG,OAAf;AACApgH,SAAG,IAAIk6B,gBAAC,CAACnpC,MAAD,CAAD,CAAU61B,SAAV,EAAP;AACAnB,UAAI,IAAIyU,gBAAC,CAACnpC,MAAD,CAAD,CAAU81B,UAAV,EAAR;AACD;;AAGD,QAAIo4F,QAAQ,CAACpnF,MAAT,CAAgB73B,GAAhB,KAAwB,IAA5B,EAAkC;AAChCA,SAAG,IAAIi/G,QAAQ,CAACpnF,MAAT,CAAgB73B,GAAvB;AACD;;AACD,QAAIi/G,QAAQ,CAACpnF,MAAT,CAAgBpS,IAAhB,KAAyB,IAA7B,EAAmC;AACjCA,UAAI,IAAIw5F,QAAQ,CAACpnF,MAAT,CAAgBpS,IAAxB;AACD;;AAEDu3F,WAAO,CAACqD,WAAR,CAAoBpB,QAApB;;AAGAA,YAAQ,CAACjqH,IAAT,CAAc8e,GAAd,CAAkB;AAChB,kBAAYssG,YADI;AAEhB,aAAOpgH,GAFS;AAGhB,cAAQylB;AAHQ,KAAlB;AAMA,WAAOw5F,QAAP;AACD,GAxFD;;AA0FAjC,SAAO,CAACsD,mBAAR,GAA8B,UAAS1sH,QAAT,EAAmB;AAC/CsmC,oBAAC,CAACtmC,QAAD,CAAD,CAAYq5B,WAAZ,CAAwB,mBAAxB;AACD,GAFD;;AAIA+vF,SAAO,CAACuD,YAAR,GAAuB,YAAW;AAChCrmF,oBAAC,CAAC,kBAAD,CAAD,CAAsBlP,OAAtB,CAA8B,MAA9B;AACD,GAFD;;AAIAgyF,SAAO,CAACwD,iBAAR,GAA4B,UAAS5sH,QAAT,EAAmB;AAC7CsmC,oBAAC,CAACtmC,QAAD,CAAD,CAAYg5B,QAAZ,CAAqB,mBAArB;AACD,GAFD;;AAIAowF,SAAO,CAACyD,kBAAR,GAA6B,YAAW;AACtC,QAAIvmF,gBAAC,CAAC,kBAAD,CAAD,CAAsB9lC,MAAtB,KAAiC,CAArC,EAAwC;AACtC8lC,sBAAC,CAAC,kCAAD,CAAD,CAAsChlB,IAAtC,GAA6CmL,QAA7C,CAAsD,MAAtD;AACD;AACF,GAJD;;AAMA28F,SAAO,CAAC0D,YAAR,GAAuB,YAAmB;AAIxCxmF,oBAAC,CAAC,kBAAD,CAAD,CAAsBnP,MAAtB,CAA6B,MAA7B,EAAqC,YAAU;AAC7C,UAAI,KAAKnX,KAAL,CAAW3V,eAAf,EAAgC;AAC9B,aAAK2V,KAAL,CAAW3V,eAAX,CAA2B,QAA3B;AACD;AACF,KAJD;;AAKA,QAAI++G,OAAO,CAAC8B,KAAZ,EAAmB;AACjB5kF,sBAAC,CAAC,kBAAD,CAAD,CAAsBpmB,GAAtB,CAA0B,UAA1B,EAAsC,UAAtC;AACD;AACF,GAZD;;AAcAkpG,SAAO,CAACqD,WAAR,GAAsB,UAASpB,QAAT,EAAmB;AACvC,QAAIr9F,QAAQ,GAAGq9F,QAAQ,CAACr9F,QAAT,IAAqB,CAApC;;AACA,QAAI,CAACA,QAAL,EAAe;AACb;AACD;;AACD,QAAI++F,aAAa,GAAGzmF,gBAAC,CAAC+kF,QAAQ,CAACjqH,IAAT,CAAcyL,IAAd,CAAmB,gBAAnB,CAAD,CAArB;AAeAkgH,iBAAa,CAAC/zF,QAAd,CAde;AACb,SAAG,oBADU;AAEb,SAAG,oBAFU;AAGb,SAAG,oBAHU;AAIb,SAAG,oBAJU;AAKb,SAAG,kBALU;AAMb,SAAG,kBANU;AAOb,SAAG,kBAPU;AAQb,SAAG,qBARU;AASb,SAAG,qBATU;AAUb,UAAI,qBAVS;AAWb,UAAI,oBAXS;AAYb,UAAI;AAZS,KAcQ,CAAShL,QAAT,CAAvB;AAEA,QAAIg+F,QAAQ,GAAGX,QAAQ,CAACjqH,IAAT,CAAcioG,WAAd,EAAf;AACA,QAAI4iB,OAAO,GAAGZ,QAAQ,CAACjqH,IAAT,CAAckoG,UAAd,EAAd;AACA,QAAI0jB,WAAW,GAAG5D,OAAO,CAACe,UAAR,GAAqB,CAAvC;AAeA,QAAIn8F,QAAQ,GAdM;AAChB,SAAG,CAAC,OAAD,EAAUg/F,WAAV,CADa;AAEhB,SAAG,CAAC,KAAD,EAAQA,WAAR,CAFa;AAGhB,SAAG,CAAC,KAAD,EAAQhB,QAAQ,GAAC,CAAT,GAAagB,WAArB,CAHa;AAIhB,SAAG,CAAC,QAAD,EAAWA,WAAX,CAJa;AAKhB,SAAG,CAAC,OAAD,EAAUA,WAAV,CALa;AAMhB,SAAG,CAAC,MAAD,EAASf,OAAO,GAAC,CAAR,GAAYe,WAArB,CANa;AAOhB,SAAG,CAAC,MAAD,EAASA,WAAT,CAPa;AAQhB,SAAG,CAAC,QAAD,EAAWA,WAAX,CARa;AAShB,SAAG,CAAC,KAAD,EAAQhB,QAAQ,GAAC,CAAT,GAAagB,WAArB,CATa;AAUhB,UAAI,CAAC,KAAD,EAAQA,WAAR,CAVY;AAWhB,UAAI,CAAC,MAAD,EAASA,WAAT,CAXY;AAYhB,UAAI,CAAC,MAAD,EAASf,OAAO,GAAC,CAAR,GAAYe,WAArB;AAZY,KAcH,CAAY3B,QAAQ,CAACr9F,QAArB,CAAf;AACA++F,iBAAa,CAAC7sG,GAAd,CAAkB8N,QAAQ,CAAC,CAAD,CAA1B,EAA+BA,QAAQ,CAAC,CAAD,CAAR,GAAc,IAA7C;AACD,GAzCD;;AAqDAo7F,SAAO,CAAC6D,aAAR,GAAwB,UAAS5B,QAAT,EAAmB;AACzC,QAAI6B,eAAe,GAAG,SAAtB;AACA,QAAIC,SAAS,GAAGhwH,MAAM,CAAC8T,QAAP,CAAgBD,IAAhB,CAAqBpT,OAArB,CAA6BsvH,eAA7B,CAAhB;;AACA,QAAIC,SAAS,KAAK,CAAC,CAAnB,EAAsB;AACpB,UAAIC,YAAY,GAAGjwH,MAAM,CAAC8T,QAAP,CAAgBD,IAAhB,CAAqB48B,MAArB,CAA4Bu/E,SAAS,GAAGD,eAAe,CAAC1sH,MAAxD,CAAnB;;AACA,UAAI6qH,QAAQ,CAAC1hH,EAAT,CAAYpF,WAAZ,OAA8B6oH,YAAY,CAAC7oH,WAAb,EAAlC,EAA8D;AAC5D6kH,eAAO,CAAChoG,IAAR,CAAaiqG,QAAQ,CAAC1hH,EAAtB;AACD;AACF;AACF,GATD;;AAWAy/G,SAAO,CAACiE,uBAAR,GAAkC,YAAW;AAE3C,QAAIC,SAAS,GAAG5qH,SAAhB;AACA4jC,oBAAC,CAACnpC,MAAD,CAAD,CAAUowH,MAAV,CAAiB,YAAW;AAC1B,UAAI,OAAOD,SAAP,KAAsB,WAA1B,EAAuC;AACrC31F,oBAAY,CAAC21F,SAAD,CAAZ;AACD;;AACDA,eAAS,GAAGhyG,UAAU,CAAC,YAAW;AAChCgyG,iBAAS,GAAG5qH,SAAZ;AAEE0mH,eAAO,CAACoE,UAAR;AAEH,OALqB,EAKnB,EALmB,CAAtB;AAMD,KAVD;AAWD,GAdD;;AAeApE,SAAO,CAACiE,uBAAR;;AAEAjE,SAAO,CAACqE,aAAR,GAAwB,YAAoB;AAC1CnnF,oBAAC,CAACtpC,QAAD,CAAD,CAAY0oC,MAAZ,CAAmB,SAAnB;AACD,GAFD;;AAIA0jF,SAAO,CAACsE,WAAR,GAAsB,UAAUrC,QAAV,EAAoB;AACxC/kF,oBAAC,CAACtpC,QAAD,CAAD,CAAY2wH,OAAZ,CAAoB,UAASrpG,KAAT,EAAgB;AAClC,UAAIA,KAAK,CAAC0E,OAAN,IAAiB,EAAjB,IAAuB1E,KAAK,CAACuF,KAAN,IAAe,EAA1C,EAA8C;AAC5Cu/F,eAAO,CAACuC,OAAR;;AACA,YAAIN,QAAQ,CAACxB,OAAb,EAAsB;AACpBwB,kBAAQ,CAACxB,OAAT,CAAiBwB,QAAjB,EAA2B,IAA3B;AACD;;AACD/kF,wBAAC,CAAC,MAAD,CAAD,CAAUjf,OAAV,CAAkB,cAAlB;AACA,eAAO,KAAP;AACD;AACF,KATD;AAUD,GAXD;;AAaA+hG,SAAO,CAACwE,YAAR,GAAuB,UAASC,cAAT,EAAyB;AAC9C,QAAIA,cAAc,KAAK,IAAnB,IAA2BA,cAAc,KAAKnrH,SAAlD,EAA6D;AAC3DmrH,oBAAc,GAAG,EAAjB;AACD;;AAGD,QAAIxC,QAAQ,GAAG/kF,gBAAC,CAACvkC,MAAF,CAAS,EAAT,EAAaqnH,OAAO,CAACC,gBAArB,EAAuCwE,cAAvC,CAAf;AACAxC,YAAQ,CAAC1hH,EAAT,GAAc0hH,QAAQ,CAAC1hH,EAAT,IAAe,mBAAmB3B,MAAM,CAACpF,IAAI,CAAC6nC,KAAL,CAAW7nC,IAAI,CAACC,MAAL,KAAgB,IAA3B,CAAD,CAAtD;AAEA,QAAIirH,aAAa,GAAGxnF,gBAAC,CAAC,MAAM+kF,QAAQ,CAAC1hH,EAAhB,CAArB;;AACA,QAAI,CAACmkH,aAAa,CAACttH,MAAnB,EAA2B;AAIzBstH,mBAAa,GAAGxnF,gBAAC,CAAC8iF,OAAO,CAACc,aAAT,CAAjB;AACD;;AAEDmB,YAAQ,CAACjqH,IAAT,GAAgB0sH,aAAhB;;AACA,QAAI,OAAOzC,QAAQ,CAAC5B,WAAhB,KAAgC,WAAhC,IAA+C4B,QAAQ,CAAC5B,WAAT,KAAyB,IAA5E,EAAkF;AAChF4B,cAAQ,CAACjqH,IAAT,CAAc43B,QAAd,CAAuBqyF,QAAQ,CAAC5B,WAAhC;AACD;;AAID,QAAI7+E,MAAM,CAACygF,QAAQ,CAACt9F,KAAV,CAAN,KAA2Bs9F,QAAQ,CAACt9F,KAAxC,EAA+C;AAC7Cs9F,cAAQ,CAACt9F,KAAT,GAAiB/lB,MAAM,CAACqjH,QAAQ,CAACt9F,KAAV,CAAN,GAAyB,IAA1C;AACD;;AACD,QAAI6c,MAAM,CAACygF,QAAQ,CAACr8F,QAAV,CAAN,KAA8Bq8F,QAAQ,CAACr8F,QAA3C,EAAqD;AACnDq8F,cAAQ,CAACr8F,QAAT,GAAoBhnB,MAAM,CAACqjH,QAAQ,CAACr8F,QAAV,CAAN,GAA4B,IAAhD;AACD;;AACDq8F,YAAQ,CAACjqH,IAAT,CAAc8e,GAAd,CAAkB,OAAlB,EAA2BmrG,QAAQ,CAACt9F,KAApC;AACAs9F,YAAQ,CAACjqH,IAAT,CAAc8e,GAAd,CAAkB,UAAlB,EAA8BmrG,QAAQ,CAACr8F,QAAvC;AAEA,QAAI++F,oBAAoB,GAAGD,aAAa,CAACjhH,IAAd,CAAmB,gBAAnB,CAA3B;AACAkhH,wBAAoB,CAACviG,IAArB,CAA0B6/F,QAAQ,CAACj7B,KAAnC;AAEA09B,iBAAa,CAACjhH,IAAd,CAAmB,sBAAnB,EAA2C2e,IAA3C,CAAgD6/F,QAAQ,CAAC3qB,WAAzD;;AAEA0oB,WAAO,CAACgC,WAAR,CAAoBC,QAApB;;AAEA,QAAIA,QAAQ,CAACpB,OAAb,EAAsB;AAClBb,aAAO,CAACyC,WAAR,CAAoBR,QAApB;AACH;;AAEDyC,iBAAa,CAACxsG,IAAd;AACAwsG,iBAAa,CAACrhG,QAAd,CAAuB,MAAvB;AACAqhG,iBAAa,CAAC1/G,IAAd,CAAmB,IAAnB,EAAyBi9G,QAAQ,CAAC1hH,EAAlC;;AAGA,QAAI,OAAO0hH,QAAQ,CAAC/B,QAAhB,KAA6B,WAA7B,IAA4C+B,QAAQ,KAAK,IAA7D,EAAmE;AACjEjC,aAAO,CAAC2C,OAAR,CAAgBV,QAAhB;AACD;;AAEDjC,WAAO,CAACyD,kBAAR;;AAEAzD,WAAO,CAACwB,QAAR,CAAiBS,QAAQ,CAAC1hH,EAA1B,IAAgC0hH,QAAhC;;AACA,QAAIjC,OAAO,CAACyB,oBAAR,IAAgC,IAApC,EAA0C;AACxCQ,cAAQ,CAAC70G,IAAT,GAAgB4yG,OAAO,CAACyB,oBAAxB;AACD;;AACDzB,WAAO,CAACyB,oBAAR,GAA+BQ,QAAQ,CAAC1hH,EAAxC;;AAOA,QAAI0hH,QAAQ,CAACzB,UAAb,EAAyB;AACvBR,aAAO,CAAC6D,aAAR,CAAsB5B,QAAtB;AACD;;AAED,WAAOjC,OAAP;AACD,GAvED;;AAyEAA,SAAO,CAAC1oH,GAAR,GAAc,UAASiJ,EAAT,EAAa;AACzB,QAAI,OAAOy/G,OAAO,CAACwB,QAAR,CAAiBjhH,EAAjB,CAAP,KAAgC,WAApC,EAAiD;AAC/C,aAAO,IAAP;AACD;;AACD,WAAOy/G,OAAO,CAACwB,QAAR,CAAiBjhH,EAAjB,KAAwB,IAA/B;AACD,GALD;;AAOAy/G,SAAO,CAAC4E,gBAAR,GAA2B,YAAW;AACpC,WAAO5E,OAAO,CAACwB,QAAR,CAAiBxB,OAAO,CAACsB,gBAAzB,KAA8C,IAArD;AACD,GAFD;;AAIAtB,SAAO,CAACuC,OAAR,GAAkB,UAASsC,iBAAT,EAA4BplH,IAA5B,EAAkC;AAClDA,QAAI,GAAGA,IAAI,IAAI,KAAf;AAEAy9B,oBAAC,CAAC,iBAAD,CAAD,CAAqBrlC,IAArB,CAA0B,UAAS4V,KAAT,EAAgBzV,IAAhB,EAAqB;AAC7C,UAAIiqH,QAAQ,GAAGjC,OAAO,CAAC1oH,GAAR,CAAY4lC,gBAAC,CAACllC,IAAD,CAAD,CAAQgN,IAAR,CAAa,IAAb,CAAZ,CAAf;;AACA,UAAIi9G,QAAQ,CAACvB,MAAb,EAAqB;AACnBuB,gBAAQ,CAACvB,MAAT,CAAgBuB,QAAhB,EAA0BxiH,IAA1B;AACD;AACF,KALD;AAMAy9B,oBAAC,CAAC,SAAD,CAAD,CAAalP,OAAb,CAAqB,MAArB;AACA,QAAI82F,aAAa,GAAG9E,OAAO,CAACwB,QAAR,CAAiBxB,OAAO,CAACsB,gBAAzB,CAApB;;AACA,QAAIwD,aAAa,IAAIA,aAAa,CAACvE,SAAnC,EAA8C;AAC3CP,aAAO,CAACsD,mBAAR,CAA4BwB,aAAa,CAACvE,SAA1C;AACF;;AACD,UAAI,OAAOsE,iBAAP,KAA6B,WAA7B,IAA4CA,iBAAiB,KAAK,IAAtE,GAEO;AACL7E,aAAO,CAACuD,YAAR;AACD;;AACD,WAAOvD,OAAP;AACD,GApBD;;AAsBAA,SAAO,CAACvgH,IAAR,GAAe,YAAW;AACxB,QAAIqlH,aAAa,GAAG9E,OAAO,CAACwB,QAAR,CAAiBxB,OAAO,CAACsB,gBAAzB,CAApB;;AACA,QAAI,OAAOwD,aAAP,KAAyB,WAA7B,EAA0C;AACxC,aAAO,IAAP;AACD;;AACDA,iBAAa,CAAC9sH,IAAd,CAAmB6c,IAAnB,CAAwB,QAAxB,EAAkC,IAAlC;AAEA,QAAIkwG,YAAY,GAAGD,aAAa,CAACrlH,IAAd,IAAsB,IAAzC;;AACA,QAAIslH,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,EAA9C,EAAkD;AAChD,UAAIC,UAAU,GAAGhF,OAAO,CAAC1oH,GAAR,CAAYytH,YAAZ,CAAjB;AACA,UAAIF,iBAAiB,GAAGG,UAAU,CAACntB,OAAX,GAAqB,IAArB,GAA4B,KAApD;AACAmoB,aAAO,CAACuC,OAAR,CAAgBsC,iBAAhB,EAAmC,IAAnC;;AACA,UAAIC,aAAa,IAAIA,aAAa,CAACvE,SAAnC,EAA8C;AAC5CP,eAAO,CAACsD,mBAAR,CAA4BwB,aAAa,CAACvE,SAA1C;AACD;;AAED,UAAIyE,UAAU,CAACpE,UAAX,IAAyBoE,UAAU,CAACpE,UAAX,EAA7B,EAAsD;AACpDZ,eAAO,CAACsB,gBAAR,GAA2B0D,UAAU,CAACzkH,EAAtC;AACAy/G,eAAO,CAACvgH,IAAR;AACA,eAAOugH,OAAO,CAAC4E,gBAAR,EAAP;AACD,OAJD,MAKK;AACH5E,eAAO,CAAChoG,IAAR,CAAa+sG,YAAb;AACA,eAAO/E,OAAO,CAAC4E,gBAAR,EAAP;AACD;AACF;AACF,GA1BD;;AA4BA5E,SAAO,CAAC5yG,IAAR,GAAe,YAAY;AACzB,QAAI03G,aAAa,GAAG9E,OAAO,CAACwB,QAAR,CAAiBxB,OAAO,CAACsB,gBAAzB,CAApB;;AACA,QAAI,OAAOwD,aAAP,KAAyB,WAA7B,EAA0C;AAExC,aAAO,IAAP;AACD;;AACD,QAAIA,aAAa,CAAC13G,IAAd,KAAuB,IAA3B,EAAiC;AAE/B,aAAO,IAAP;AACD;;AAED,QAAI63G,UAAU,GAAGjF,OAAO,CAACwB,QAAR,CAAiBsD,aAAa,CAAC13G,IAA/B,CAAjB;AACA63G,cAAU,CAACjtH,IAAX,CAAgB6c,IAAhB,CAAqB,QAArB,EAA+B,IAA/B;AAGA,QAAIqwG,YAAY,GAAGD,UAAU,CAAC1kH,EAAX,IAAiB,IAApC;;AACA,QAAI2kH,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,EAA9C,EAAkD;AAChD,UAAIjD,QAAQ,GAAGjC,OAAO,CAAC1oH,GAAR,CAAY4tH,YAAZ,CAAf;AACA,UAAIL,iBAAiB,GAAG5C,QAAQ,CAACpqB,OAAT,GAAmB,IAAnB,GAA0B,KAAlD;AACAmoB,aAAO,CAACuC,OAAR,CAAgBsC,iBAAhB,EAAmC,IAAnC;;AACA,UAAII,UAAU,IAAIA,UAAU,CAAC1E,SAA7B,EAAwC;AACtCP,eAAO,CAACsD,mBAAR,CAA4B2B,UAAU,CAAC1E,SAAvC;AACD;;AACDP,aAAO,CAAChoG,IAAR,CAAaktG,YAAb;AACA,aAAOjD,QAAP;AACD;AACF,GA1BD;;AA4BAjC,SAAO,CAACoE,UAAR,GAAqB,YAAW;AAC9B,QAAIU,aAAa,GAAG9E,OAAO,CAACwB,QAAR,CAAiBxB,OAAO,CAACsB,gBAAzB,CAApB;;AACAtB,WAAO,CAAC2C,OAAR,CAAgBmC,aAAhB;AACD,GAHD;;AAKA9E,SAAO,CAACmF,eAAR,GAA0B,YAAW;AACnC,QAAIL,aAAa,GAAG9E,OAAO,CAACwB,QAAR,CAAiBxB,OAAO,CAACsB,gBAAzB,CAApB;;AACA,QAAI,OAAOwD,aAAP,KAAyB,WAA7B,EAA0C;AACxC;AACD;;AAED,QAAIM,YAAY,GAAGpF,OAAO,CAAC4B,aAA3B;AACmB1kF,oBAAC,CAACnpC,MAAD,CAAD,CAAU61B,SAAV,EAPgB;AAQnC,QAAIy7F,YAAY,GAAGP,aAAa,CAAC9sH,IAAd,CAAmB6iC,MAAnB,EAAnB;AACA,QAAIyqF,gBAAgB,GAAGR,aAAa,CAAC9sH,IAAd,CAAmB+yB,MAAnB,EAAvB;AAGA,QAAIw6F,cAAc,GAAG/rH,IAAI,CAACwrB,KAAL,CAAWxrB,IAAI,CAAC0tB,GAAL,CAASm+F,YAAY,CAACriH,GAAb,GAAoBsiH,gBAAgB,GAAG,CAAvC,GAA6CF,YAAY,GAAG,CAArE,EAAyE,CAAzE,CAAX,CAArB;AACArxH,UAAM,CAAC+nC,QAAP,CAAgB,CAAhB,EAAmBypF,cAAnB;AACD,GAdD;;AAgBAvF,SAAO,CAAChoG,IAAR,GAAe,UAASzX,EAAT,EAAa;AAC1B,QAAI,CAACA,EAAD,IAAOy/G,OAAO,CAACyB,oBAAnB,EAAyC;AACvClhH,QAAE,GAAGy/G,OAAO,CAACyB,oBAAb;AACD;;AAED,QAAIQ,QAAQ,GAAGjC,OAAO,CAAC1oH,GAAR,CAAYiJ,EAAZ,CAAf;;AACA,QAAI0hH,QAAQ,CAACpqB,OAAb,EAAsB;AACpBmoB,aAAO,CAAC0D,YAAR,CAAqBzB,QAArB;;AAEA,UAAIA,QAAQ,CAAC1B,SAAT,IAAsB0B,QAAQ,CAAC/B,QAAnC,EAA6C;AAC3CF,eAAO,CAACwD,iBAAR,CAA0BvB,QAAQ,CAAC/B,QAAnC;AACD;AACF;;AAED,QAAI+B,QAAQ,CAAC3B,aAAb,EAA4B;AAC1BN,aAAO,CAACsE,WAAR,CAAoBrC,QAApB;AACD,KAFD,MAEO;AACLjC,aAAO,CAACqE,aAAR,CAAsBpC,QAAtB;AACD;;AAGD,QAAIA,QAAQ,CAACtB,MAAb,EAAqB;AACnBsB,cAAQ,CAACtB,MAAT,CAAgBsB,QAAhB;AACD;;AACDjC,WAAO,CAAC2C,OAAR,CAAgBV,QAAhB;;AACAA,YAAQ,CAACjqH,IAAT,CAAc+1B,MAAd,CAAqB,MAArB,EAA6BlZ,IAA7B,CAAkC,QAAlC,EAA4C,KAA5C;AAEAmrG,WAAO,CAACsB,gBAAR,GAA2B/gH,EAA3B;AAEA,QAAI6kH,YAAY,GAAGpF,OAAO,CAAC4B,aAAR,GAAwB1kF,gBAAC,CAACnpC,MAAD,CAAD,CAAUg3B,MAAV,EAA3C;AACA,QAAIsjD,YAAY,GAAGnxC,gBAAC,CAACnpC,MAAD,CAAD,CAAU61B,SAAV,EAAnB;AACA,QAAIy7F,YAAY,GAAGpD,QAAQ,CAACjqH,IAAT,CAAc6iC,MAAd,EAAnB;AACA,QAAIyqF,gBAAgB,GAAGrD,QAAQ,CAACjqH,IAAT,CAAc+yB,MAAd,EAAvB;AAEA,QAAIy6F,aAAa,GAAIn3C,YAAY,GAAG+2C,YAAf,GAA8BC,YAAY,CAACriH,GAAb,GAAmBsiH,gBAAtE;AACA,QAAIG,aAAa,GAAIJ,YAAY,CAACriH,GAAb,GAAmBqrE,YAAxC;;AAEA,QAAI4zC,QAAQ,CAAC9B,SAAT,KAAuBqF,aAAa,IAAIC,aAAxC,CAAJ,EAA4D;AAG1DvzG,gBAAU,CAAC8tG,OAAO,CAACmF,eAAT,EAA0B,EAA1B,CAAV;AACD;;AAEDjoF,oBAAC,CAAC+kF,QAAQ,CAACjqH,IAAV,CAAD,CAAiBimB,OAAjB,CAAyB,cAAzB;AAEA,WAAO+hG,OAAP;AACD,GA9CD;AA+CD,CAxlBD,I;;ACnBA;AACA;AAIO,MAAM3gC,uBAAO,GAAGqT,uBAAO,CAAClR,UAAR,CAAmB,aAAnB,EAAkC,OAA0B,EAA1B,CAAlC,EAAiEloF,SAAjE,OAAhB;AAEA,MAAMosH,OAAO,GAAIp6B,QAAD,IAAsBjM,uBAAO,CAAC/nF,GAAR,CAAYg0F,QAAZ,CAAtC;AAEA,eAAeh0F,mBAAf,CAAmBuoH,QAAnB,EAA6C8F,SAA7C,EAAgE;AACtE,QAAM/sH,OAAO,GAAG,MAAMymF,uBAAO,CAAC/nF,GAAR,CAAYsoH,WAAW,CAACC,QAAD,CAAvB,CAAtB;AACA,SAAOjnH,OAAO,IAAIA,OAAO,CAAC+sH,SAAD,CAAzB;AACA;AAEM,eAAe3jD,QAAf,CAAwB69C,QAAxB,EAAkD8F,SAAlD,EAAqE;AAC3E,QAAMntG,MAAM,GAAG,MAAMlhB,mBAAG,CAACsoH,WAAW,CAACC,QAAD,CAAZ,EAAwB8F,SAAxB,CAAxB;AACA,SAAOntG,MAAM,IAAIA,MAAM,CAAC1d,KAAxB;AACA;AAEM,SAAS8Z,mBAAT,CAAairG,QAAb,EAAuC8F,SAAvC,EAA0D7qH,KAA1D,EAAwE;AAC9E,MAAK,SAAD,CAAY6F,IAAZ,CAAiBglH,SAAjB,CAAJ,EAAiC;AAChCA,aAAS,GAAGA,SAAS,CAACjsH,OAAV,CAAkB,SAAlB,EAA6B,EAA7B,CAAZ;AACA;;AAED,SAAO2lF,uBAAO,CAACxyB,KAAR,CAAc+yD,WAAW,CAACC,QAAD,CAAzB,EAAqC;AAAE,KAAC8F,SAAD,GAAa;AAAE7qH;AAAF;AAAf,GAArC,CAAP;AACA,C;;;;;;;;;;;;;;ACxBD;AACA;;AAEA,SAAS8qH,WAAT,GAAuB;AACtB,SAAO9iC,SAAS,CAAC+iC,WAAA,EAAD,EAAgBnyH,MAAM,IAAI;AACzC,UAAM;AAAE2nH,cAAF;AAAYziH;AAAZ,QAAwBlF,MAA9B;AAEA,UAAMoyH,gBAAgB,GAAG,CAACpyH,MAAM,CAAC4rH,iBAAjC;AACA,UAAMyG,SAAS,GAAGF,iBAAA,CAAkBnyH,MAAlB,CAAlB;AACA,UAAMsyH,mBAAmB,GAAGF,gBAAgB,KAAKC,SAAjD;AAEA,UAAME,eAAe,GAAGF,SAAS,GAAG,iBAASntH,OAAT,EAAkB8W,CAAC,IAAI,kBAAUA,CAAC,CAAC5U,KAAZ,EAAmB4U,CAAC,CAACk1D,OAArB,CAAvB,CAAH,GAA2D,EAA5F;;AAEA,QAAI,CAAC,kBAAUqhD,eAAV,CAAD,IAA+BD,mBAAnC,EAAwD;AACvD,aAAO,CAAC;AACP3K,gBADO;AAEP4K,uBAFO;AAGPC,oBAAY,EAAEF,mBAAmB,GAAI,GAAEF,gBAAgB,GAAG,IAAH,GAAU,KAAM,MAAKC,SAAS,GAAG,IAAH,GAAU,KAAM,EAApE,GAAwE;AAHlG,OAAD,CAAP;AAKA;AACD,GAhBe,CAAhB;AAiBA;;AAEM,SAASI,eAAT,CAAyBprG,KAAe,GAAG,CAAC,MAAD,EAAS,SAAT,EAAoB,MAApB,CAA3C,EAAwE;AAC9E,QAAMqrG,KAAK,GAAG,EAAd;AACA,MAAIC,eAAe,GAAG,CAAtB;AACA,MAAIC,eAAe,GAAG,CAAtB;;AAEA,OAAK,MAAM;AAAEjL,YAAF;AAAY4K,mBAAZ;AAA6BC;AAA7B,GAAX,IAA0DN,WAAW,EAArE,EAAyE;AACxEU,mBAAe,GAAG9sH,IAAI,CAAC0tB,GAAL,CAASo/F,eAAT,EAA0BjL,QAAQ,CAACjkH,MAAnC,CAAlB;AACAivH,mBAAe,GAAG7sH,IAAI,CAAC0tB,GAAL,CAASm/F,eAAT,EAA0B,GAAGlyH,MAAM,CAAC+M,IAAP,CAAY+kH,eAAZ,EAA6BluH,GAA7B,CAAiC2X,CAAC,IAAIA,CAAC,CAACtY,MAAxC,CAA7B,CAAlB;AAEAgvH,SAAK,CAAC7xH,IAAN,CAAW,MACV,CACE,OAAM8mH,QAAQ,CAACkL,MAAT,CAAgBD,eAAhB,CAAiC,IAAGJ,YAAa,EADzD,EAEC,GAAG/xH,MAAM,CAAC0uE,OAAP,CAAeojD,eAAf,EACD1iH,MADC,CACM,CAAC,GAAG;AAAEjO;AAAF,KAAH,CAAD,KAAkBylB,KAAK,CAACu6B,QAAN,CAAehgD,IAAf,CADxB,EAEDyC,GAFC,CAEG,CAAC,CAACqJ,GAAD,EAAMtG,KAAN,CAAD,KACH,SAAQsG,GAAG,CAACmlH,MAAJ,CAAWF,eAAX,CAA4B,KAAIhxG,IAAI,CAACslE,SAAL,CAAe7/E,KAAK,CAAC8pE,OAArB,CAA8B,MAAKvvD,IAAI,CAACslE,SAAL,CAAe7/E,KAAK,CAACA,KAArB,CAA4B,EAHvG,CAFJ,CADD;AAUA;;AAED,SAAO,kBAAUsrH,KAAK,CAACruH,GAAN,CAAU2X,CAAC,IAAIA,CAAC,EAAhB,CAAV,EAA+B7O,IAA/B,CAAoC,IAApC,CAAP;AACA,C;;;;AC7CD;AACA;AAEA,IAAI2lH,aAAJ;AAEAC,kBAAkB;AAElB;;AACA,SAASC,WAAT,CAAqBrL,QAArB,EAAuCH,UAAvC,EAA2DyL,WAA3D,EAA+E;AAC9E,QAAM1qE,GAAG,GAAG4pE,WAAA,CAAYxK,QAAZ,CAAZ;AAEAmL,eAAa,CAACnL,QAAD,CAAb,GAA0BmL,aAAa,CAACnL,QAAD,CAAb,IAA2B,EAArD;;AAEA,MAAI,CAAC,kBAAUp/D,GAAG,CAACrjD,OAAJ,CAAYsiH,UAAZ,EAAwBpgH,KAAlC,EAAyC6rH,WAAzC,CAAL,EAA4D;AAE3DH,iBAAa,CAACnL,QAAD,CAAb,CAAwBH,UAAxB,IAAsC;AACrCpgH,WAAK,EAAE6rH;AAD8B,KAAtC;AAGA,GALD,MAKO;AAEN,WAAOH,aAAa,CAACnL,QAAD,CAAb,CAAwBH,UAAxB,CAAP;AACA;;AAED,MAAI,kBAAUsL,aAAa,CAACnL,QAAD,CAAvB,CAAJ,EAAwC;AAEvC,WAAOmL,aAAa,CAACnL,QAAD,CAApB;AACA;AACD;;AAED;;AACA,SAASuL,mBAAT,GAA+B;AAC9B,OAAK,MAAM,CAACC,KAAD,EAAQjuH,OAAR,CAAX,IAA+BzE,MAAM,CAAC0uE,OAAP,CAAe2jD,aAAf,CAA/B,EAA8D;AAC7D,UAAM9yH,MAAM,GAAGmyH,WAAA,CAAYgB,KAAZ,CAAf;;AAEA,SAAK,MAAM,CAAC3L,UAAD,EAAa1iG,MAAb,CAAX,IAAmCrkB,MAAM,CAAC0uE,OAAP,CAAejqE,OAAf,CAAnC,EAA4D;AAC3D,YAAMkuH,OAAO,GAAGpzH,MAAM,CAACkF,OAAP,CAAesiH,UAAf,CAAhB;AACA4L,aAAO,CAAChsH,KAAR,GAAgB0d,MAAM,CAAC1d,KAAvB;AACA82G,kBAAI,CAACkV,OAAD,CAAJ;AACA;;AAEDpzH,UAAM,CAAC2rH,cAAP,CAAsBzmH,OAAtB;AACA;;AAED6tH,oBAAkB;AAClB;;AAED;;AACA,SAASA,kBAAT,GAA8B;AAC7BD,eAAa,GAAG,EAAhB;AACA;;AAED;;AACA,SAASO,gBAAT,GAA4B;AAC3B,SAAO,CAAC,kBAAUP,aAAV,CAAR;AACA;;AAED;;AACA,SAASQ,gBAAT,CAA0B3L,QAA1B,EAA4C;AAC3C,SAAOmL,aAAa,CAACnL,QAAD,CAApB;AACA,C;;AC5DD;AACA;AAEA;AAEO,SAAS4L,qBAAT,CACNpH,QADM,EAEN8F,SAFM,EAGNuB,eAHM,EAINruG,QAJM,EAKL;AACD,QAAMnlB,MAAM,GAAGmyH,WAAA,CAAYhG,QAAZ,CAAf;AAEA,QAAMrnG,MAAM,GAAG9kB,MAAM,CAACkF,OAAP,CAAe+sH,SAAf,CAAf;;AACA,MAAIntG,MAAM,CAACljB,IAAP,KAAgB,OAApB,EAA6B;AAC5B,UAAM,IAAIxB,KAAJ,CAAW,0DAAyDJ,MAAM,CAAC2nH,QAAS,YAAWsK,SAAU,EAAzG,CAAN;AACA;;AAED,MAAIpqB,GAAG,GAAG/iF,MAAM,CAAC1d,KAAP,CAAa2I,IAAb,CAAkB3I,KAAK,IAChC0d,MAAM,CAACq5E,MAAP,CAAcsJ,KAAd,CAAoB,CAACiiB,KAAD,EAAQtnH,CAAR,KAAc,CAACoxH,eAAe,CAACtyH,cAAhB,CAA+BwoH,KAAK,CAACh8G,GAArC,CAAD,IAA8CtG,KAAK,CAAChF,CAAD,CAAL,KAAaoxH,eAAe,CAAC9J,KAAK,CAACh8G,GAAP,CAA5G,CADS,CAAV;;AAIA,MAAI,CAACm6F,GAAL,EAAU;AACT,UAAMzgG,KAAK,GAAG,EAAE,GAAGosH,eAAL;AAAsB,SAAGruG;AAAzB,KAAd;AACA0iF,OAAG,GAAG/iF,MAAM,CAACq5E,MAAP,CAAc95F,GAAd,CAAkBqlH,KAAK,IAAItqB,UAAU,CAACh4F,KAAK,CAACsiH,KAAK,CAACh8G,GAAP,CAAN,EAAmBg8G,KAAK,CAACtiH,KAAzB,CAArC,CAAN;AACA0d,UAAM,CAAC1d,KAAP,CAAavG,IAAb,CAAkBgnG,GAAlB;AACA3mF,uBAAG,CAAClhB,MAAD,EAASiyH,SAAT,EAAoBntG,MAAM,CAAC1d,KAA3B,CAAH;AACA;;AAED,SAAO0d,MAAM,CAACq5E,MAAP,CAAc9hB,MAAd,CAAqB,CAACuR,GAAD,EAAM87B,KAAN,EAAatnH,CAAb,KAAmB;AAC9C3B,UAAM,CAACugB,cAAP,CAAsB4sE,GAAtB,EAA2B87B,KAAK,CAACh8G,GAAjC,EAAsC;AACrCsc,gBAAU,EAAE,IADyB;AAErCpmB,SAAG,EAAE,MAAMikG,GAAG,CAACzlG,CAAD,CAFuB;AAGrC8e,SAAG,EAAElF,CAAC,IAAI;AACT6rF,WAAG,CAACzlG,CAAD,CAAH,GAAS4Z,CAAT;AACAkF,2BAAG,CAAClhB,MAAD,EAASiyH,SAAT,EAAoBntG,MAAM,CAAC1d,KAA3B,CAAH;AACA;AANoC,KAAtC;AAQA,WAAOwmF,GAAP;AACA,GAVM,EAUJ,EAVI,CAAP;AAWA,C;;ACxCD;AAIA;AAQA;;;;;;ACZA;AACA;AACA;AACA;AAEO,MAAM5tF,YAAiB,GAAG,IAAIirH,MAAJ,CAAW,OAAX,CAA1B;AAEPjrH,YAAM,CAACkrH,UAAP,GAAoB,WAApB;AACAlrH,YAAM,CAACmrH,QAAP,GAAkB,cAAlB;AACAnrH,YAAM,CAAC4jG,WAAP,GAAqB,WAArB;AACA5jG,YAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AAEA7rH,YAAM,CAACkF,OAAP,GAAiB;AAChBuuH,WAAS,EAAE;AACV7vB,eAAW,EAAE,oBADH;AAEVtQ,SAAK,EAAE,qBAFG;AAGV1xF,QAAI,EAAE,OAHI;AAIVwF,SAAK,EAAG,EAJE;AAKV+2F,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,IADG;AAERvI,UAAI,EAAE,oBAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,SADH;AAEFvI,UAAI,EAAE,uBAFJ;AAGFvD,UAAI,EAAE,SAHJ;AAIFwF,WAAK,EAAE;AAJL,KAJK;AALE,GADK;AAiBhBssH,WAAS,EAAE;AACV9xH,QAAI,EAAE,MADI;AAEVwF,SAAK,EAAE,KAFG;AAGVw8F,eAAW,EAAE,oBAHH;AAIVtQ,SAAK,EAAE;AAJG,GAjBK;AAuBhBqgC,WAAS,EAAE;AACV/xH,QAAI,EAAE,MADI;AAEVwF,SAAK,EAAE,KAFG;AAGVw8F,eAAW,EAAE,oBAHH;AAIVtQ,SAAK,EAAE;AAJG,GAvBK;AA6BhBsgC,WAAS,EAAE;AACVC,YAAQ,EAAE,IADA;AAEVjyH,QAAI,EAAE,MAFI;AAGVwF,SAAK,EAAE,KAHG;AAIVw8F,eAAW,EAAE,oBAJH;AAKVtQ,SAAK,EAAE;AALG,GA7BK;AAoChBriE,OAAK,EAAE;AACNrvB,QAAI,EAAE,MADA;AAENwF,SAAK,EAAE,KAFD;AAGNw8F,eAAW,EAAE,gBAHP;AAINtQ,SAAK,EAAE;AAJD,GApCS;AA0ChBwgC,iBAAe,EAAE;AAChBlyH,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,IAFS;AAGhBw8F,eAAW,EAAE,0BAHG;AAIhBtQ,SAAK,EAAE;AAJS;AA1CD,CAAjB;;AAkDAtzF,YAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzBgI,aAAK,CAACC,eAAN,GAAwB;AACvBN,aAAS,EAAEniG,UAAU,CAACvxB,YAAM,CAACkF,OAAP,CAAewuH,SAAf,CAAyBtsH,KAA1B,CADE;AAEvBusH,aAAS,EAAEpiG,UAAU,CAACvxB,YAAM,CAACkF,OAAP,CAAeyuH,SAAf,CAAyBvsH,KAA1B,CAFE;AAGvBwsH,aAAS,EAAEriG,UAAU,CAACvxB,YAAM,CAACkF,OAAP,CAAe0uH,SAAf,CAAyBxsH,KAA1B,CAHE;AAIvB6pB,SAAK,EAAEM,UAAU,CAACvxB,YAAM,CAACkF,OAAP,CAAe+rB,KAAf,CAAqB7pB,KAAtB,CAJM;AAKvB0sH,mBAAe,EAAE9zH,YAAM,CAACkF,OAAP,CAAe4uH,eAAf,CAA+B1sH,KALzB;AAMvBi8F,WAAO,EAAE;AANc,GAAxB;AAQA,CATD;;AAWA,MAAMowB,SAA8B,GAAG,EAAvC;;AACA,MAAMQ,WAAW,GAAG,CAACC,SAAD,EAAYrnH,EAAZ,KAAmB4mH,SAAS,CAAC5mH,EAAD,CAAT,KAAkB4mH,SAAS,CAAC5mH,EAAD,CAAT,GAAgB,IAAIqnH,SAAJ,CAAcrnH,EAAd,CAAlC,CAAvC;;AAEO,MAAMsnH,QAAQ,GAAIhvH,IAAD,IAAkB8uH,WAAW,CAACG,mBAAD,EAAgBjvH,IAAhB,CAA9C;AACA,MAAMkvH,YAAY,GAAIlvH,IAAD,IAAkB8uH,WAAW,CAACK,uBAAD,EAAoBnvH,IAApB,CAAlD;;AAEP,SAASovH,cAAT,CAAwBtoH,CAAxB,EAA8C;AAC7C,QAAMoqB,CAAC,GAAGpqB,CAAC,CAAC8jF,aAAZ;AACA,SAAO15D,CAAC,KAAKh2B,MAAM,CAAC+vB,gBAAP,CAAwBiG,CAAxB,EAA2BnF,QAA3B,KAAwC,OAAxC,IAAmDjlB,CAAnD,IAAwDsoH,cAAc,CAACl+F,CAAD,CAA3E,CAAR;AACA;;AAEM,MAAMm+F,GAAG,GAAG;AAClBx6C,QAAM,EAAE,QADU;AAElBlpD,OAAK,EAAE;AAFW,CAAZ;;AAQP,MAAMijG,WAAN,CAAY;AA4BXtwH,aAAW,CAACoJ,EAAD,EAAa;AAAA,SAzBxBoqC,QAyBwB,GAzBJ;;;;;;;EAyBI;AAAA,SAhBxBw9E,QAgBwB,GAhBMV,WAAK,CAACC,eAgBZ;AAAA,SAfxBU,UAewB;AAAA,SAbxB7vF,OAawB,GAbL,KAaK;AAAA,SAZxB8vF,UAYwB,GAZO,IAYP;AAAA,SAXxBC,UAWwB,GAXO,IAWP;AAAA,SAVxBC,eAUwB,GAVY,IAUZ;AAAA,SATxBhjC,OASwB;AAAA,SARxBijC,SAQwB;AAAA,SAPxBC,UAOwB;AAAA,SALxBC,cAKwB,GALE,KAKF;AAAA,SAHxBC,aAGwB;AAAA,SAFxBC,oBAEwB;AAAA,SA0DxBC,gBA1DwB,GA0DLptC,aAAa,CAAC,CAAC;AAAExiF;AAAF,KAAD,KAA4B;AAC5D,UACC,KAAKs/B,OAAL,IACA,KAAK4vF,QAAL,CAAcX,eADd,IAEA,CAAC,KAAKsB,gBAAL,GAAwB3sH,QAAxB,CAAiClD,MAAjC,CAFD,IAIA,CAAC9E,MAAM,CAAC8jB,MAAP,CAAckvG,SAAd,EAAyB30C,IAAzB,CAA8Bu2C,QAAQ,IAAIA,QAAQ,CAACN,UAAT,IAAuBM,QAAQ,CAACN,UAAT,CAAoBtsH,QAApB,CAA6BlD,MAA7B,CAAjE,CALF,EAME,KAAK+vH,eAAL;AACF,KAR+B,CA1DR;;AAAA,SA4LxBC,eA5LwB,GA4LN,MAAM;AACvB,UAAI,KAAKX,UAAT,EAAqB;;AACrB,WAAKY,gBAAL;;AACA79C,kBAAY,CAAC,KAAKy9C,gBAAL,EAAD,EAA0B,YAA1B,CAAZ,CAAoD14G,IAApD,CAAyD,KAAK+4G,gBAA9D;AACA,WAAKb,UAAL,GAAkBp2G,UAAU,CAAC,MAAM,KAAK6mB,IAAL,EAAP,EAAoB,KAAKovF,QAAL,CAAcf,SAAlC,CAA5B;AACA,KAjMuB;;AAAA,SAmMxB+B,gBAnMwB,GAmML,MAAM;AACxB,UAAI,CAAC,KAAKb,UAAV,EAAsB;AACtB/5F,kBAAY,CAAC,KAAK+5F,UAAN,CAAZ;AACA,WAAKA,UAAL,GAAkB,IAAlB;AACA,KAvMuB;;AAAA,SAgNxBU,eAhNwB,GAgNN,MAAM;AACvB,UAAI,KAAKX,UAAL,IAAmB,KAAKE,eAA5B,EAA6C;;AAC7C,WAAKY,gBAAL;;AACA,WAAKd,UAAL,GAAkBn2G,UAAU,CAAC,MAAM,KAAK6lF,KAAL,CAAW,IAAX,CAAP,EAAyB,KAAKowB,QAAL,CAAcd,SAAvC,CAA5B;AACA,KApNuB;;AAAA,SAsNxB6B,gBAtNwB,GAsNL,MAAM;AACxB,UAAI,CAAC,KAAKb,UAAV,EAAsB;AACtB95F,kBAAY,CAAC,KAAK85F,UAAN,CAAZ;AACA,WAAKA,UAAL,GAAkB,IAAlB;AACA,KA1NuB;;AACvB,SAAKD,UAAL,GAAkB7nH,EAAlB;AACA;;AAED3H,SAAO,CAACA,OAAD,EAA+BwwH,UAAmB,GAAG,IAArD,EAA2D;AACjE,UAAMC,iBAAiB,GAAGD,UAAU,GACnCE,6BAAA,CAAcrC,qBAAd,CAAoCvzH,YAApC,EAA4C,WAA5C,EAAyD;AAAE6M,QAAE,EAAE,KAAK6nH;AAAX,KAAzD,EAAkF;AAAErxB,aAAO,EAAE;AAAX,KAAlF,CADmC,GACoEz9F,SADxG;AAGA,SAAK6uH,QAAL,GAAgB,EACf,GAAG,KAAKA,QADO;AAEf,SAAGvvH,OAFY;AAGf,SAAGywH;AAHY,KAAhB;AAMA,WAAO,IAAP;AACA;;AAEDpwH,QAAM,CAAC2vC,OAAD,EAAuB;AAC5B,QAAI,KAAK28C,OAAL,IAAgB,KAAKA,OAAL,KAAiB38C,OAArC,EAA8C;AAC7C,WAAKmvD,KAAL;AACA;;AAED,SAAKxS,OAAL,GAAe38C,OAAf;AAEA,WAAO,IAAP;AACA;;AAEDkgF,kBAAgB,GAAgB;AAC/B,QAAI,CAAC,KAAKvjC,OAAN,IAAiB,CAAC,KAAKA,OAAL,CAAa3pD,YAAnC,EAAiD;AAChD,WAAKm8D,KAAL;AACA,YAAM,IAAIjkG,KAAJ,CAAU,kDAAV,CAAN;AACA;;AACD,WAAO,KAAKyxF,OAAZ;AACA;;AAEDgkC,cAAY,CAACzxH,QAAD,EAA0B;AACrC,SAAK0wH,SAAL,GAAiB1wH,QAAjB;AAEA,WAAO,IAAP;AACA;;AAEDw1F,cAAY,GAAG;AACd,UAAMrpE,SAAS,GAAG,KAAKwkG,UAAL,GAAkB,KAAKA,UAAL,IAAmB,KAAKe,OAAL,EAAvD;;AAEA,QAAI,CAAC51H,QAAQ,CAACkkB,IAAT,CAAc3b,QAAd,CAAuB8nB,SAAvB,CAAL,EAAwC;AACvCrwB,cAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqBmB,SAArB;AACA;;AAED,WAAOA,SAAP;AACA;;AAEDulG,SAAO,GAAG;AACT,UAAMl+C,GAAG,GAAGpuC,gBAAC,CAAC,KAAKyN,QAAN,CAAD,CAAiBrzC,GAAjB,CAAqB,CAArB,CAAZ;;AACA,SAAKmyH,qBAAL,CAA2Bn+C,GAA3B;;AACA,QAAI,KAAK68C,QAAL,CAAchlH,SAAlB,EAA6BmoE,GAAG,CAAC8I,SAAJ,CAAczmE,GAAd,CAAkB,KAAKw6G,QAAL,CAAchlH,SAAhC;AAC7B,WAAOmoE,GAAP;AACA;;AAYDm+C,uBAAqB,CAACn+C,GAAD,EAAmB;AACvCpuC,oBAAC,CAACouC,GAAD,CAAD,CACExwD,EADF,CACK,YADL,EACmB,MAAM;AACvB,WAAKouG,gBAAL;;AACA,WAAKQ,eAAL;AACA,KAJF,EAKE5uG,EALF,CAKK,YALL,EAKmB,KAAK+tG,gBALxB,EAME/tG,EANF,CAMK,OANL,EAMc,iBANd,EAMiC,MAAM,KAAKi9E,KAAL,EANvC,EAOEj9E,EAPF,CAOK,OAPL,EAOenb,CAAD,IAAsB;AAClC,UAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACI,MAAzB,EAAiC,KAAKsJ,KAAL;AACjCp4F,OAAC,CAAC4e,wBAAF;AACA,KAVF;AAWA;;AAEDorG,OAAK,GAAG;AACP,QAAI,CAAC,KAAKxB,QAAL,CAAcpxB,OAAnB,EAA4B,OAAO,KAAP;;AAE5B,QAAI,KAAKoxB,QAAL,CAAcf,SAAlB,EAA6B;AAC5B,WAAK6B,eAAL;AACA,KAFD,MAEO;AACN,WAAKlwF,IAAL;AACA;AACD;;AAED6wF,OAAK,CAAChzH,QAAD,EAAmB;AACvBsmC,oBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,YAApB,EAAkClkB,QAAlC,EAA4C,CAAC;AAAEkmB;AAAF,KAAD,KAAmC;AAC9E,WAAK7jB,MAAL,CAAY6jB,aAAZ,EAA2B6sG,KAA3B;AACA,KAFD;AAGA;;AAED5wF,MAAI,GAAG;AACN,QAAI,CAAC,KAAKovF,QAAL,CAAcpxB,OAAnB,EAA4B,OAAO,KAAP;;AAE5B,SAAKoyB,gBAAL;;AACA,SAAKD,gBAAL;;AACA,SAAKQ,eAAL;;AAEA,UAAM5xH,QAAQ,GAAG,KAAK0wH,SAAtB;AACA,QAAI,CAAC1wH,QAAL,EAAe,MAAM,IAAIhE,KAAJ,EAAN;AAEf,QAAI,KAAK80H,oBAAT,EAA+B,KAAKA,oBAAL;AAC/B,SAAKD,aAAL,GAAqB,IAAIp9C,OAAJ,CAAYyD,GAAG,IAAI;AAAE,WAAK45C,oBAAL,GAA4B55C,GAA5B;AAAkC,KAAvD,CAArB;;AAEA,SAAK66C,qBAAL;;AACA,KAAC,YAAY;AACZ,UAAI;AACH,aAAKC,QAAL,EAAc,MAAMhyH,QAAQ,CAAC,IAAD,CAA5B;AACA,OAFD,CAEE,OAAO6H,CAAP,EAAU;AACX,aAAKo4F,KAAL;AACA,cAAMp4F,CAAN;AACA;AACD,KAPD;;AAUAmtE,iBAAa,CAAC,KAAKg8C,gBAAL,EAAD,EAA0B,KAAKH,aAA/B,CAAb,CAA2Dv4G,IAA3D,CAAgE,MAAM;AAAE,WAAK2nF,KAAL;AAAe,KAAvF,EACE7kF,KADF,CACQ,MAAM,CAA4C,CAD1D;;AAGA,QAAI,KAAKi1G,QAAL,CAAcX,eAAlB,EAAmC;AAElC5zH,cAAQ,CAACkkB,IAAT,CAAc7U,gBAAd,CAA+B,WAA/B,EAA4C,KAAK4lH,gBAAjD;AACAj1H,cAAQ,CAACkkB,IAAT,CAAc7U,gBAAd,CAA+B,WAA/B,EAA4C,KAAK4lH,gBAAjD;AACA;;AAED,SAAKtwF,OAAL,GAAe,IAAf;AACA;;AAEDsxF,uBAAqB,GAAG,CAAE;;AAE1B,QAAMlyB,OAAN,GAAgB;AACf,UAAM7/F,QAAQ,GAAG,KAAK0wH,SAAtB;AACA,QAAI1wH,QAAJ,EAAc,KAAKgyH,QAAL,EAAc,MAAMhyH,QAAQ,CAAC,IAAD,CAA5B;AACd;;AAEDgyH,UAAQ,CAAC1qC,KAAD,EAAyB;AAChC,QAAI,CAAC,KAAK+oC,QAAL,CAAcpxB,OAAnB,EAA4B,OAAO,KAAP;AAE5B,UAAM9yE,SAAS,GAAG,KAAKqpE,YAAL,EAAlB;AAEAlO,SAAK,CAAC3lB,OAAN,CAAc,CAAC89B,IAAD,EAAOzhG,CAAP,KAAa;AAC1B,UAAI,CAACyhG,IAAL,EAAW;AACX,YAAMylB,QAAQ,GAAG9/E,gBAAC,CAACjZ,SAAD,CAAD,CAAaxgB,IAAb,CAAmB,wBAAuB3N,CAAE,IAA5C,CAAjB;AACAknH,cAAQ,CAAC9vG,QAAT,GAAoB2V,MAApB;AACAm6F,cAAQ,CAAC3tG,KAAT,GAAiByT,MAAjB,CAAyBy0E,IAAzB;AACA,KALD;AAOA,UAAMwyB,WAAW,GAAG9B,cAAc,CAAC,KAAKa,gBAAL,EAAD,CAAlC;;AACA,QAAIiB,WAAJ,EAAiB;AAChB,WAAKrB,cAAL,GAAsB,IAAtB;;AAKA,YAAMsB,QAAQ,GAAG,MAAM;AACtB,aAAKjyB,KAAL,CAAW,KAAX;AACAgyB,mBAAW,CAACz2G,mBAAZ,CAAgC,QAAhC,EAA0C02G,QAA1C,EAAoD,IAApD;AACA,OAHD;;AAIAD,iBAAW,CAAC9mH,gBAAZ,CAA6B,QAA7B,EAAuC+mH,QAAvC,EAAiD,IAAjD;AACA;;AAED,SAAKC,eAAL;AACA;;AAEDC,oBAAkB,CAAC;AAAElnH,OAAG,GAAG,MAAR;AAAgBwhB,SAAK,GAAG,MAAxB;AAAgCkpD,UAAM,GAAG,MAAzC;AAAiDjlD,QAAI,GAAG;AAAxD,GAAD,EAAiH;AAClIyU,oBAAC,CAAC,KAAKowD,YAAL,EAAD,CAAD,CAAuBx2E,GAAvB,CAA2B;AAC1B8N,cAAQ,EAAE,KAAK8jG,cAAL,GAAsB,OAAtB,GAAgC,UADhB;AAE1B1lH,SAAG,EAAEA,GAAG,KAAK,MAAR,GAAiBA,GAAG,IAAI,KAAK0lH,cAAL,GAAsB,CAAtB,GAA0B30H,MAAM,CAACq7E,OAArC,CAApB,GAAoE,MAF/C;AAG1B5qD,WAAK,EAAEA,KAAK,KAAK,MAAV,GAAmBA,KAAK,IAAI,KAAKkkG,cAAL,GAAsB,CAAtB,GAA0B30H,MAAM,CAACo2H,OAArC,CAAxB,GAAwE,MAHrD;AAI1Bz8C,YAAM,EAAEA,MAAM,KAAK,MAAX,GAAoBA,MAAM,IAAI,KAAKg7C,cAAL,GAAsB,CAAtB,GAA0B30H,MAAM,CAACq7E,OAArC,CAA1B,GAA0E,MAJxD;AAK1B3mD,UAAI,EAAEA,IAAI,KAAK,MAAT,GAAkBA,IAAI,IAAI,KAAKigG,cAAL,GAAsB,CAAtB,GAA0B30H,MAAM,CAACo2H,OAArC,CAAtB,GAAsE;AALlD,KAA3B;AAOA;;AAEDF,iBAAe,GAAG;AACjB,UAAMhxH,MAAM,GAAG,KAAK6vH,gBAAL,EAAf;AACA,UAAM;AAAE9lH,SAAF;AAAOylB;AAAP,QAAgBxvB,MAAM,CAACsvB,qBAAP,EAAtB;;AACA,SAAK2hG,kBAAL,CAAwB;AAAElnH,SAAF;AAAOylB;AAAP,KAAxB;AACA;;AAiBD2hG,gBAAc,GAAG;AAChB,QAAI,KAAK9B,UAAT,EAAqB;AACpB,WAAKa,gBAAL;;AACA,WAAKF,eAAL;AACA;AACD;;AAcDoB,iBAAe,GAAG;AACjB,QAAI,KAAK9B,eAAT,EAA0B;AAC1B,SAAKA,eAAL,GAAuBr2G,UAAU,CAAC,MAAM;AAAE,WAAK9C,MAAL;AAAgB,KAAzB,EAA2B,KAAK+4G,QAAL,CAAcb,SAAd,GAA0B,IAArD,CAAjC;AACA,SAAKh6B,YAAL,GAAoB12E,KAApB,CAA0B0zG,kBAA1B,GAAgD,GAAE,KAAKnC,QAAL,CAAcb,SAAU,GAA1E;AACA,SAAKh6B,YAAL,GAAoBlZ,SAApB,CAA8BzmE,GAA9B,CAAkC,yBAAlC;AACA;;AAED+7G,iBAAe,GAAG;AACjB,QAAI,CAAC,KAAKnB,eAAV,EAA2B;AAC3Bh6F,gBAAY,CAAC,KAAKg6F,eAAN,CAAZ;AACA,SAAKj7B,YAAL,GAAoB12E,KAApB,CAA0B0zG,kBAA1B,GAA+C,EAA/C;AACA,SAAKh9B,YAAL,GAAoBlZ,SAApB,CAA8BhlE,MAA9B,CAAqC,yBAArC;AACA,SAAKm5G,eAAL,GAAuB,IAAvB;AACA;;AAEDxwB,OAAK,CAACp7B,IAAa,GAAG,KAAjB,EAAwB;AAC5B,QAAI,CAAC,KAAKwrD,QAAL,CAAcpxB,OAAnB,EAA4B,OAAO,KAAP;;AAE5B,SAAKoyB,gBAAL;;AACA,SAAKD,gBAAL;;AAEA,QAAIvsD,IAAJ,EAAU,KAAK0tD,eAAL,GAAV,KACK,KAAKj7G,MAAL;AACL;;AAEDA,QAAM,GAAG;AACR,SAAKs6G,eAAL;;AACA,SAAKp8B,YAAL,GAAoBl+E,MAApB;AACA,QAAI,KAAKw5G,oBAAT,EAA+B,KAAKA,oBAAL;AAC/B,SAAKrwF,OAAL,GAAe,KAAf;;AAEA,QAAI,KAAK4vF,QAAL,CAAcX,eAAlB,EAAmC;AAClC5zH,cAAQ,CAACkkB,IAAT,CAAcxE,mBAAd,CAAkC,WAAlC,EAA+C,KAAKu1G,gBAApD;AACAj1H,cAAQ,CAACkkB,IAAT,CAAcxE,mBAAd,CAAkC,WAAlC,EAA+C,KAAKu1G,gBAApD;AACA;AACD;;AA3RU;;AAANpB,W,CACEC,e,GAAkB,E;;AA6R1B,MAAMI,mBAAN,SAA4BL,WAA5B,CAAkC;AAAA;AAAA;AAAA,SACjC98E,QADiC,GACrB;;;;;;EADqB;AAAA,SASjC4/E,cATiC,GAShB,qFATgB;AAAA;;AAWjCV,uBAAqB,GAAG;AACvB,SAAKC,QAAL,CAAc,CAAC,GAAD,EAAM,KAAKS,cAAX,CAAd;AACA;;AAEDN,iBAAe,GAAG;AACjB,UAAMhxH,MAAM,GAAG,KAAK6vH,gBAAL,EAAf;AACA,UAAM;AAAE9lH,SAAF;AAAOylB,UAAP;AAAailD,YAAb;AAAqBlpD;AAArB,QAA+BvrB,MAAM,CAACsvB,qBAAP,EAArC;AACA,UAAMiiG,UAAU,GAAGttF,gBAAC,CAAC,KAAKowD,YAAL,EAAD,CAAD,CAAuBr9D,WAAvB,CAAmC,aAAnC,CAAnB;AAEA,UAAMw6F,YAAY,GAAG,KAAKtC,QAAL,CAAcxjG,KAAnC;AACA,QAAI+lG,WAAJ,EAAiBC,UAAjB;;AAEA,QAAI,CAAC,KAAKxC,QAAL,CAAcD,GAAf,IAAsB1jG,KAAK,GAAGimG,YAAR,GAAuB,EAAvB,GAA4Bn9C,eAAe,GAAG3oD,KAAxE,EAA+E;AAC9EgmG,gBAAU,GAAG3nH,GAAG,GAAG,EAAnB;AACA0nH,iBAAW,GAAGlmG,KAAK,GAAG,EAAtB;AACA,KAHD,MAGO,IAAI,KAAK2jG,QAAL,CAAcD,GAAd,KAAsBA,GAAG,CAACx6C,MAA1B,IAAoCjlD,IAAI,GAAGgiG,YAAP,GAAsB,EAAtB,GAA2B,CAAnE,EAAsE;AAC5ED,gBAAU,CAAC56F,QAAX,CAAoB,OAApB;AACA+6F,gBAAU,GAAGj9C,MAAM,GAAG,EAAtB;AACAg9C,iBAAW,GAAGlxH,IAAI,CAACukC,GAAL,CAASvkC,IAAI,CAAC0tB,GAAL,CAASomD,eAAe,GAAG3oD,KAAlB,GAA0B8lG,YAAnC,EAAiD,CAAjD,CAAT,EAA8DhiG,IAA9D,CAAd;AACA,KAJM,MAIA;AACN+hG,gBAAU,CAAC56F,QAAX,CAAoB,OAApB;AACA+6F,gBAAU,GAAG3nH,GAAG,GAAG,EAAnB;AACA0nH,iBAAW,GAAGjiG,IAAI,GAAGgiG,YAAP,GAAsB,EAApC;AACA;;AAEDD,cAAU,CAAClzH,GAAX,CAAe,CAAf,EAAkBsf,KAAlB,CAAwB+N,KAAxB,GAAiC,GAAE8lG,YAAa,IAAhD;;AACA,SAAKP,kBAAL,CAAwB;AAAEzhG,UAAI,EAAEiiG,WAAR;AAAqB1nH,SAAG,EAAE2nH;AAA1B,KAAxB;AACA;;AAtCgC;;AAyClC,MAAM3C,uBAAN,SAAgCP,WAAhC,CAAsC;AAAA;AAAA;AAAA,SACrC98E,QADqC,GACzB;;;;EADyB;AAAA,SAOrCw9E,QAPqC,GAO1B,EACV,GAAGV,WAAK,CAACC,eADC;AAEVQ,SAAG,EAAEA,GAAG,CAACx6C,MAFC;AAGV5oD,iBAAW,EAAE,CAHH;AAIV0T,kBAAY,EAAE,CAJJ;AAKVoyF,mBAAa,EAAE;AALL,KAP0B;AAAA;;AAerCX,iBAAe,GAAG;AACjB,UAAMhxH,MAAM,GAAG,KAAK6vH,gBAAL,EAAf;AACA,UAAM;AAAE9lH,SAAF;AAAOylB,UAAP;AAAasC,YAAb;AAAqBpG;AAArB,QAA+B1rB,MAAM,CAACsvB,qBAAP,EAArC;AACA,UAAMiiG,UAAU,GAAGttF,gBAAC,CAAC,KAAKowD,YAAL,EAAD,CAApB;;AAEA,YAAQ,KAAK66B,QAAL,CAAcD,GAAtB;AACC,WAAKA,GAAG,CAAC1jG,KAAT;AACC,cAAMqmG,WAAW,GAAG7nH,GAAG,GAAGwnH,UAAU,CAACz/F,MAAX,EAAN,GAA4B,KAAKo9F,QAAL,CAAcyC,aAA1C,GAA0Dt9C,eAAe,GAAGviD,MAAhG;;AACA,YAAI8/F,WAAJ,EAAiB;AAChB,eAAKX,kBAAL,CAAwB;AAAEzhG,gBAAI,EAAEA,IAAI,GAAG9D,KAAf;AAAsB+oD,kBAAM,EAAE,KAAKy6C,QAAL,CAAcyC;AAA5C,WAAxB;AACA,SAFD,MAEO;AACN,eAAKV,kBAAL,CAAwB;AAAEzhG,gBAAI,EAAEA,IAAI,GAAG9D,KAAf;AAAsB3hB,eAAG,EAAEA,GAAG,GAAG,KAAKmlH,QAAL,CAAc3vF;AAA/C,WAAxB;AACA;;AACD;;AACD,WAAK0vF,GAAG,CAACx6C,MAAT;AAEA;AACC,cAAMo9C,SAAS,GAAGriG,IAAI,GAAG+hG,UAAU,CAACO,UAAX,EAAP,GAAiCz9C,eAAe,GAAG3oD,KAArE;;AACA,YAAImmG,SAAJ,EAAe;AACd,eAAKZ,kBAAL,CAAwB;AAAEzhG,gBAAF;AAAQzlB,eAAG,EAAEA,GAAG,GAAG+nB,MAAN,GAAe,KAAKo9F,QAAL,CAAc3vF;AAA1C,WAAxB;AACA,SAFD,MAEO;AACN,eAAK0xF,kBAAL,CAAwB;AAAE1lG,iBAAK,EAAE8oD,eAAe,GAAG3oD,KAAlB,GAA0B8D,IAA1B,GAAiC9D,KAAjC,GAAyC,KAAKwjG,QAAL,CAAcrjG,WAAhE;AAA6E9hB,eAAG,EAAEA,GAAG,GAAG+nB,MAAN,GAAe,KAAKo9F,QAAL,CAAc3vF;AAA/G,WAAxB;AACA;;AACD;AAlBF;AAoBA;;AAxCoC,C;;;;;;ACnatC;AAEA;AACA;AAWA;AACA;AAEO,MAAM9kC,kBAAiB,GAAG,IAAIirH,MAAJ,CAAW,aAAX,CAA1B;AAEPjrH,kBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,kBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AACA5jG,kBAAM,CAACmrH,QAAP,GAAkB,cAAlB;AACAnrH,kBAAM,CAACkF,OAAP,GAAiB;AAChBoyH,QAAM,EAAE;AACPhkC,SAAK,EAAE,wBADA;AAEP1xF,QAAI,EAAE,QAFC;AAGPY,QAAI,EAAE,QAHC;AAIPohG,eAAW,EAAE,uBAJN;;AAKPx/F,YAAQ,GAAG;AAAEihC,sBAAI;AAAK;;AALf,GADQ;AAQhBkyF,UAAQ,EAAE;AACTjkC,SAAK,EAAE,0BADE;AAET1xF,QAAI,EAAE,SAFG;AAGTgiG,eAAW,EAAE,yBAHJ;AAITx8F,SAAK,EAAE;AAJE;AARM,CAAjB;;AAgBApH,kBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,kBAAM,CAACkF,OAAP,CAAeqyH,QAAf,CAAwBnwH,KAA5B,EAAmC;AAClCowH,eAAW;AACX;AACD,CAJD;;AAMA,SAASA,WAAT,GAAuB;AACtBC,kBAAA,CACC,MAAM92G,sBAAM,CAAC+N,IAAK,gFADnB,EAEC,MAAM2W,gBAAI,EAFX;AAIA;;AAED,MAAMqyF,WAAW,GAAG,sBAAO,MAAM;AAChC,QAAMC,MAAM,GAAGh3G,sBAAM,CAAC+N,IAAK;;;;;;;;;EAA3B;AAWAxuB,UAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqBuoG,MAArB;AAEA,QAAMvnH,KAAK,GAAGqnE,QAAQ,CAACkgD,MAAM,CAAC9+C,aAAP,CAAqB,kBAArB,CAAD,EAA2CsJ,gBAA3C,CAAtB;AAEA,QAAMy1C,GAAG,GAAGD,MAAM,CAAC9+C,aAAP,CAAqB,qBAArB,CAAZ;AACA,QAAM3yE,KAAK,GAAGyxH,MAAM,CAAC9+C,aAAP,CAAqB,uBAArB,CAAd;;AAEA,QAAMg/C,MAAM,GAAGh3C,GAAG,IAAI;AAAE+2C,OAAG,CAACznH,SAAJ,GAAgB2nH,0BAAQ,CAACj3C,GAAD,CAAxB;AAAgC,GAAxD;;AACA,QAAMk3C,QAAQ,GAAG,MAAMp8G,KAAK,CAACi8G,GAAD,CAA5B;;AACA,QAAMI,QAAQ,GAAGn3C,GAAG,IAAI;AAAE36E,SAAK,CAACiK,SAAN,GAAkB2nH,0BAAQ,CAACj3C,GAAD,CAA1B;AAAkC,GAA5D;;AACA,QAAMo3C,UAAU,GAAG,MAAMt8G,KAAK,CAACzV,KAAD,CAA9B;;AAEAkK,OAAK,CAACb,gBAAN,CAAuB,MAAvB,EAA+B,MAAM;AACpC,QAAI,CAACa,KAAK,CAAChJ,KAAN,CAAY1D,MAAjB,EAAyB;AACxB2gG,uBAAK;AACL,KAFD,MAEO;AACN2zB,cAAQ,CAAC,sEAAD,CAAR;AACA;AACD,GAND;AAQA93H,UAAQ,CAACqP,gBAAT,CAA0B,OAA1B,EAAoCtD,CAAD,IAAsB;AACxD,QAAI,CAAC0rH,MAAM,CAAC7gG,MAAR,IAAkB7qB,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACI,MAA3C,EAAmD;AAClDsJ,uBAAK;AACLp4F,OAAC,CAAC4e,wBAAF;AACA;AACD,GALD;AAOAza,OAAK,CAACb,gBAAN,CAAuB,OAAvB,EAAgC,YAAY;AAC3CwoH,YAAQ;AACRE,cAAU;AACV,UAAML,GAAG,GAAG,MAAMM,kBAAM,CAACt2G,iBAAK,CAACxR,KAAK,CAAChJ,KAAP,CAAN,CAAxB;AACA,QAAIwwH,GAAJ,EAASC,MAAM,CAACD,GAAD,CAAN;AACT,GALD;AAOA,QAAMO,eAAe,GAAGR,MAAM,CAAC9+C,aAAP,CAAqB,iBAArB,CAAxB;AACAs/C,iBAAe,CAAC5oH,gBAAhB,CAAiC,SAAjC,EAA4C,MAAOtD,CAAP,IAA4B;AACvE,QAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACG,KAAzB,EAAgC;AAC/B,YAAM50F,KAAK,GAAG,MAAMkyH,0BAAc,CAACx2G,iBAAK,CAACxR,KAAK,CAAChJ,KAAP,CAAN,EAAqB6E,CAArB,CAAlC;;AACA,UAAI/F,KAAJ,EAAW;AACV8xH,gBAAQ,CAAC9xH,KAAD,CAAR;AACA,OAFD,MAEO,IAAIA,KAAK,KAAK,KAAd,EAAqB;AAC3Bm+F,yBAAK;AACL;AACD;AACD,GATD;AAWA,SAAO;AAAEszB,UAAF;AAAUvnH;AAAV,GAAP;AACA,CA3DmB,CAApB;;AA6DO,SAASi1B,gBAAT,CAAcgzF,UAAkB,GAAG,EAAnC,EAAuC;AAC7CX,aAAW,GAAGC,MAAd,CAAqB7gG,MAArB,GAA8B,KAA9B;AACA4gG,aAAW,GAAGtnH,KAAd,CAAoB4c,KAApB;AACA0qG,aAAW,GAAGtnH,KAAd,CAAoBhJ,KAApB,GAA4BixH,UAA5B;AACAX,aAAW,GAAGtnH,KAAd,CAAoBqpE,aAApB,CAAkC,IAAI1vD,KAAJ,CAAU,OAAV,CAAlC;AACA;;AAED,SAASs6E,iBAAT,GAAiB;AAChBqzB,aAAW,GAAGtnH,KAAd,CAAoB6c,IAApB;AACAyqG,aAAW,GAAGC,MAAd,CAAqB7gG,MAArB,GAA8B,IAA9B;AACA;;AAEM,SAASrS,kBAAT,GAAkB;AACxB,MAAIizG,WAAW,GAAGC,MAAd,CAAqB7gG,MAAzB,EAAiCuO,gBAAI,GAArC,KACKg/D,iBAAK;AACV;;AAED,SAASi0B,UAAT,CAAoB72F,GAApB,EAAyBx1B,CAAzB,EAA4B;AAC3B,MAAIA,CAAC,CAAC8f,QAAN,EAAgB;AAEfm/D,cAAU,CAACzpD,GAAD,EAAM,CAACx1B,CAAC,CAACof,MAAT,CAAV;AACA,GAHD,MAGO;AACNlX,YAAQ,CAACG,IAAT,GAAgBmtB,GAAhB;AACA;AACD;;AAED,MAAM82F,QAAQ,GAAG,EAAjB;AAEO,SAASC,eAAT,CACNC,gBADM,EAEN70B,WAFM,EAGNs0B,MAHM,EAINE,cAJM,EAKL;AACDG,UAAQ,CAAC13H,IAAT,CAAc;AACb43H,oBADa;AAEb70B,eAFa;AAGbs0B,UAHa;AAIbE;AAJa,GAAd;AAMA;;AAED,SAASM,cAAT,CAAwBC,OAAxB,EAAiCt2H,GAAjC,EAAsC;AACrC,MAAIsQ,MAAJ;AACA4lH,UAAQ,CAACz5C,IAAT,CAAc85C,WAAW,IAAI;AAC5B,QAAIC,eAAJ;;AACA,QAAI,OAAOD,WAAW,CAACH,gBAAZ,CAA6B9rH,IAApC,KAA6C,UAAjD,EAA6D;AAC5DksH,qBAAe,GAAGD,WAAW,CAACH,gBAAZ,CAA6B9rH,IAA7B,CAAkCgsH,OAAlC,CAAlB;AACA,KAFD,MAEO,IAAI,OAAOC,WAAW,CAACH,gBAAnB,KAAwC,QAA5C,EAAsD;AAC5DI,qBAAe,GAAGD,WAAW,CAACH,gBAAZ,KAAiCE,OAAnD;AACA,KAFM,MAEA,IAAI,OAAOC,WAAW,CAACH,gBAAnB,KAAwC,UAA5C,EAAwD;AAC9DI,qBAAe,GAAGD,WAAW,CAACH,gBAAZ,CAA6BE,OAA7B,EAAsCt2H,GAAtC,CAAlB;AACA;;AACD,QAAIw2H,eAAJ,EAAqB;AACpBlmH,YAAM,GAAG,EACR,GAAGimH,WADK;AAERC;AAFQ,OAAT;AAIA,aAAO,IAAP;AACA;AACD,GAhBD;AAiBA,SAAOlmH,MAAP;AACA;;AAED,SAASiP,iBAAT,CAAexR,KAAf,EAAsB;AACrB,QAAM0oH,UAAU,GAAG1oH,KAAK,CAAC5I,KAAN,CAAY,GAAZ,CAAnB;AACA,QAAMmxH,OAAO,GAAGG,UAAU,CAAC,CAAD,CAA1B;AACA,QAAM1xH,KAAK,GAAG0xH,UAAU,CAACn4H,KAAX,CAAiB,CAAjB,EAAoBwM,IAApB,CAAyB,GAAzB,CAAd;AACA,SAAO;AAAEwrH,WAAF;AAAWvxH;AAAX,GAAP;AACA;;AAED,SAAS8wH,kBAAT,CAAgB;AAAES,SAAF;AAAWvxH;AAAX,CAAhB,EAAoC;AACnC,QAAM2xH,mBAAmB,GAAGL,cAAc,CAACC,OAAD,EAAUvxH,KAAV,CAA1C;;AACA,MAAI2xH,mBAAJ,EAAyB;AACxB,WAAOA,mBAAmB,CAACb,MAApB,CAA2BS,OAA3B,EAAoCvxH,KAApC,EAA2C2xH,mBAAmB,CAACF,eAA/D,KACNE,mBAAmB,CAACn1B,WADrB;AAEA;AACD;;AAED,SAASw0B,0BAAT,CAAwB;AAAEO,SAAF;AAAWvxH;AAAX,CAAxB,EAA4CogB,KAA5C,EAAmD;AAElD,QAAMuxG,mBAAmB,GAAGL,cAAc,CAACC,OAAD,EAAUvxH,KAAV,CAA1C;;AACA,MAAI2xH,mBAAJ,EAAyB;AACxB,WAAOA,mBAAmB,CAACX,cAApB,CAAmCO,OAAnC,EAA4CvxH,KAA5C,EAAmD2xH,mBAAmB,CAACF,eAAvE,EAAwFrxG,KAAxF,CAAP;AACA,GAFD,MAEO;AACN,WAAO,mCAAP;AACA;AACD;;AAEDgxG,eAAe,CAAC,aAAD,EAAgB,wCAAhB,EACd,CAACG,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,KAA0B,0BAAyBA,KAAK,CAAC,CAAD,CAAI,EAD9C,EAEd,CAACqsH,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,EAAsBL,CAAtB,KAA4B;AAC3BqsH,YAAU,CAAE,MAAKhsH,KAAK,CAAC,CAAD,CAAI,EAAhB,EAAmBL,CAAnB,CAAV;AACA,CAJa,CAAf;AAOAusH,eAAe,CAAC,aAAD,EAAgB,4CAAhB,EACd,CAACG,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,KAA0B,mCAAkCA,KAAK,CAAC,CAAD,CAAI,EADvD,EAEd,CAACqsH,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,EAAsBL,CAAtB,KAA4B;AAC3BqsH,YAAU,CAAE,SAAQhsH,KAAK,CAAC,CAAD,CAAI,EAAnB,EAAsBL,CAAtB,CAAV;AACA,CAJa,CAAf;AAOAusH,eAAe,CAAC,GAAD,EAAM,iBAAN,EACd,MAAM,eADQ,EAEd,CAACG,OAAD,EAAUvxH,KAAV,EAAiBkF,KAAjB,EAAwBL,CAAxB,KAA8B;AAC7BqsH,YAAU,CAAC,iBAAD,EAAoBrsH,CAApB,CAAV;AACA,CAJa,CAAf;AAOAusH,eAAe,CAAC,IAAD,EAAO,2BAAP,EACd,MAAM,qBADQ,EAEd,CAACG,OAAD,EAAUvxH,KAAV,EAAiBkF,KAAjB,EAAwBL,CAAxB,KAA8B;AAC7BqsH,YAAU,CAAC,qBAAD,EAAwBrsH,CAAxB,CAAV;AACA,CAJa,CAAf;AAOAusH,eAAe,CAAC,OAAD,EAAU,yBAAV,EACd,MAAM,iBADQ,EAEd,CAACG,OAAD,EAAUvxH,KAAV,EAAiBkF,KAAjB,EAAwBL,CAAxB,KAA8B;AAC7BqsH,YAAU,CAAC,GAAD,EAAMrsH,CAAN,CAAV;AACA,CAJa,CAAf;AAOAusH,eAAe,CAAC,MAAD,EAAS,2CAAT,EACd,MAAM,yEADQ,EAEd,CAACG,OAAD,EAAUvxH,KAAV,KAAoB;AACnB,MAAK,OAAD,CAAU6F,IAAV,CAAe7F,KAAf,CAAJ,EAA2B;AAC1B,WAAO,4BAAP;AACA;;AAED,UAAQA,KAAR;AACC,SAAK,OAAL;AACC09E,8BAAQ,CAAC1V,KAAT;AACA;;AACD;AACC,aAAO,+CAAP;AALF;AAOA,CAda,CAAf;AAkBAopD,eAAe,CAAC,+CAAD,EAAkD,+DAAlD,EACd,CAACG,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,KAAyB;AACxBjK,KAAG,GAAGA,GAAG,IAAIiK,KAAK,CAAC,CAAD,CAAlB;;AACA,MAAI,CAACjK,GAAD,IAAQw/E,YAAY,EAAxB,EAA4B;AAC3B,WAAO,eAAP;AACA,GAFD,MAEO,IAAI,CAACx/E,GAAL,EAAU;AAChB,WAAO,KAAP;AACA,GAFM,MAEA;AACN,WAAQ,sBAAqBA,GAAI,EAAjC;AACA;AACD,CAVa,EAWd,CAACs2H,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,EAAsBL,CAAtB,KAA4B;AAC3B5J,KAAG,GAAGA,GAAG,IAAIiK,KAAK,CAAC,CAAD,CAAZ,IAAmBu1E,YAAY,EAArC;;AACA,MAAI,CAACx/E,GAAL,EAAU;AACT,WAAO,eAAP;AACA;;AACDi2H,YAAU,CAAE,MAAKj2H,GAAI,EAAX,EAAc4J,CAAd,CAAV;AACA,CAjBa,CAAf;AAoBAusH,eAAe,CAAC,oCAAD,EAAuC,6EAAvC,EACd,CAACG,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,KAA0B,gCAA+BA,KAAK,CAAC,CAAD,CAAI,MAAKA,KAAK,CAAC,CAAD,CAAL,IAAY,EAAG,EADxE,EAEd,CAACqsH,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,EAAsBL,CAAtB,KAA4B;AAC3B,MAAI,CAACK,KAAK,CAAC,CAAD,CAAV,EAAe;AACd,WAAO,2BAAP;AACA;;AACDgsH,YAAU,CAAE,MAAKhsH,KAAK,CAAC,CAAD,CAAI,MAAKA,KAAK,CAAC,CAAD,CAAI,EAA9B,EAAiCL,CAAjC,CAAV;AACA,CAPa,CAAf;AAUAusH,eAAe,CAAC,oBAAD,EACd,CACC,oCADD,EAEC,qDAFD,EAGC,kEAHD,EAIC,iEAJD,EAKC,qDALD,EAMC,yDAND,EAOC,wDAPD,EAQC,6DARD,EASC,yDATD,CADc,EAYd,CAACG,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,KAAyB;AACxB,QAAM0sH,QAAQ,GAAGn3C,YAAY,EAA7B;;AACA,MAAI,CAACm3C,QAAL,EAAe;AACd,WAAO,eAAP;AACA;;AACD,MAAIn4C,GAAJ;;AACA,UAAQv0E,KAAK,CAAC,CAAD,CAAb;AACC,SAAK,EAAL;AAECu0E,SAAG,GAAI,6BAA4Bm4C,QAAS,EAA5C;AACA;;AACD,SAAK,OAAL;AACA,SAAK,GAAL;AAECn4C,SAAG,GAAG,2CAAN;AACA;;AACD,SAAK,gBAAL;AACA,SAAK,IAAL;AAECA,SAAG,GAAG,2CAAN;AACA;;AACD,SAAK,WAAL;AACA,SAAK,KAAL;AAECA,SAAG,GAAG,+CAAN;AACA;;AACD,SAAK,UAAL;AACA,SAAK,GAAL;AAECA,SAAG,GAAG,sCAAN;AACA;;AACD,SAAK,QAAL;AACA,SAAK,GAAL;AAECA,SAAG,GAAG,4CAAN;AACA;;AACD,SAAK,OAAL;AACA,SAAK,GAAL;AAECA,SAAG,GAAG,2CAAN;AACA;;AACD,SAAK,UAAL;AACA,SAAK,GAAL;AAECA,SAAG,GAAG,8CAAN;AACA;;AACD,SAAK,QAAL;AACA,SAAK,GAAL;AAECA,SAAG,GAAG,4CAAN;AACA;;AACD;AACCA,SAAG,GAAG,0GAAN;AACA;AA/CF;;AAiDA,SAAOA,GAAP;AACA,CApEa,EAqEd,CAAC83C,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,EAAsBL,CAAtB,KAA4B;AAC3B,QAAMgtH,WAAW,GAAGp3C,YAAY,EAAhC;;AACA,MAAI,CAACo3C,WAAL,EAAkB;AACjB,WAAO,eAAP;AACA;;AACD,UAAQ3sH,KAAK,CAAC,CAAD,CAAb;AACC,SAAK,EAAL;AAECgsH,gBAAU,CAAE,SAAQW,WAAY,EAAtB,EAAyBhtH,CAAzB,CAAV;AACA;;AACD,SAAK,OAAL;AACA,SAAK,GAAL;AAECqsH,gBAAU,CAAE,SAAQW,WAAY,QAAtB,EAA+BhtH,CAA/B,CAAV;AACA;;AACD,SAAK,gBAAL;AACA,SAAK,IAAL;AAECqsH,gBAAU,CAAE,SAAQW,WAAY,iBAAtB,EAAwChtH,CAAxC,CAAV;AACA;;AACD,SAAK,WAAL;AACA,SAAK,KAAL;AAECqsH,gBAAU,CAAE,SAAQW,WAAY,YAAtB,EAAmChtH,CAAnC,CAAV;AACA;;AACD,SAAK,UAAL;AACA,SAAK,GAAL;AAECqsH,gBAAU,CAAE,SAAQW,WAAY,WAAtB,EAAkChtH,CAAlC,CAAV;AACA;;AACD,SAAK,QAAL;AACA,SAAK,GAAL;AAECqsH,gBAAU,CAAE,SAAQW,WAAY,SAAtB,EAAgChtH,CAAhC,CAAV;AACA;;AACD,SAAK,OAAL;AACA,SAAK,GAAL;AAECqsH,gBAAU,CAAE,SAAQW,WAAY,QAAtB,EAA+BhtH,CAA/B,CAAV;AACA;;AACD,SAAK,UAAL;AACA,SAAK,GAAL;AAECqsH,gBAAU,CAAE,SAAQW,WAAY,WAAtB,EAAkChtH,CAAlC,CAAV;AACA;;AACD,SAAK,QAAL;AACA,SAAK,GAAL;AAECqsH,gBAAU,CAAE,SAAQW,WAAY,SAAtB,EAAgChtH,CAAhC,CAAV;AACA;;AACD;AACC,aAAO,mCAAP;AA9CF;AAgDA,CA1Ha,CAAf;AA6HAusH,eAAe,CAAC,UAAD,EAAa,KAAb,EACd,MAAM,CAAE,CADM,EAEd,CAACG,OAAD,EAAUt2H,GAAV,KAAkB;AAEjB,MAAIA,GAAG,CAACqB,MAAJ,IAAc,CAAlB,EAAqB;AACpB,WAAO,wBAAP;AACA,GAFD,MAEO;AACN2+B,QAAI,CAAC;AAAEZ,SAAG,EAAE9gB,sBAAM,CAACsgE,MAAO,SAAQ5+E,GAAI;AAAjC,KAAD,CAAJ,CAAsDqa,IAAtD,CAA2Dw8G,qBAAK,CAAC7zF,IAAjE;AACA;AACD,CATa,CAAf;AAYAmzF,eAAe,CAAC,WAAD,EAAc,KAAd,EACd,MAAM,CAAE,CADM,EAEd,CAACG,OAAD,EAAUt2H,GAAV,KAAkB;AAEjB,MAAIA,GAAG,CAACqB,MAAJ,IAAc,CAAlB,EAAqB;AACpB,WAAO,wBAAP;AACA,GAFD,MAEO;AACN2+B,QAAI,CAAC;AACJZ,SAAG,EAAE9gB,sBAAM,CAACsgE,MAAO,SAAQ5+E,GAAI,aAD3B;AAEJT,UAAI,EAAE;AAFF,KAAD,CAAJ,CAGG8a,IAHH,CAGQ,CAAC;AAAEyE;AAAF,KAAD,KAAc+3G,qBAAK,CAAC7zF,IAAN,CAAY,YAAWlkB,IAAI,CAACtU,EAAG,UAA/B,CAHtB;AAIA;AACD,CAZa,CAAf;AAeA;AACC,QAAMssH,YAAY,GAAG,mCAArB;AACA,QAAMC,eAAe,GAAG,mCAAxB;;AAEA,WAASC,kBAAT,CAA4B3rH,GAA5B,EAAiC;AAChC,QAAIpB,KAAJ;;AACA,QAAKA,KAAK,GAAG6sH,YAAY,CAACxsH,IAAb,CAAkBe,GAAlB,CAAb,EAAsC;AACrCA,SAAG,GAAI,cAAapB,KAAK,CAAC,CAAD,CAAI,EAA7B;AACA,KAFD,MAEO,IAAKA,KAAK,GAAG8sH,eAAe,CAACzsH,IAAhB,CAAqBe,GAArB,CAAb,EAAyC;AAC/CA,SAAG,GAAI,cAAapB,KAAK,CAAC,CAAD,CAAI,EAA7B;AACA;;AAED,WAAOoB,GAAP;AACA;;AAED,WAAS0qH,cAAT,CAAwBO,OAAxB,EAAiCjrH,GAAjC,EAAsCtG,KAAtC,EAA6C;AAC5C,QAAIuxH,OAAO,KAAK,KAAhB,EAAuB;AACtB35B,6BAAO,CAACp7F,GAAR,CAAY8J,GAAZ,EAAiBgP,IAAjB,CAAsBtV,KAAK,IAC1B8xH,qBAAK,CAAC7zF,IAAN,CAAW1kB,sBAAM,CAACnP,MAAO,uBAAsB9D,GAAI,2CAA0CiU,IAAI,CAACslE,SAAL,CAAe7/E,KAAf,CAAsB,aAAnH,CADD;AAGA,KAJD,MAIO,IAAIuxH,OAAO,KAAK,QAAhB,EAA0B;AAChC35B,6BAAO,CAACp7F,GAAR,CAAY8J,GAAZ,EAAiBgP,IAAjB,CAAsBtV,KAAK,IAAI;AAC9B,cAAM8tC,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK,4BAA2BhhB,GAAI,2CAA0CiU,IAAI,CAACslE,SAAL,CAAe7/E,KAAf,CAAsB,mBAA3H;AACA8xH,6BAAK,CAAC7zF,IAAN,CAAW6P,OAAX,EAAoB;AAAE3pB,oBAAU,EAAE;AAAd,SAApB,EACE7O,IADF,CACO,MAAMsiF,uBAAO,CAAC99E,GAAR,CAAYxT,GAAZ,EAAiBiU,IAAI,CAACC,KAAL,CAAW61D,QAAQ,CAACviC,OAAO,CAAC2jC,aAAR,CAAsB,UAAtB,CAAD,EAAoCygD,mBAApC,CAAR,CAAiElyH,KAA5E,CAAjB,CADb;AAEA,OAJD;AAKA,KANM,MAMA,IAAIuxH,OAAO,KAAK,QAAhB,EAA0B;AAChC35B,6BAAO,CAAC1V,MAAR,CAAe57E,GAAf;AACAwrH,2BAAK,CAAC7zF,IAAN,CAAW1kB,sBAAM,CAACnP,MAAO,cAAa9D,GAAI,WAA1C;AACA,KAHM,MAGA,IAAIirH,OAAO,KAAK,KAAhB,EAAuB;AAC7B35B,6BAAO,CAAC99E,GAAR,CAAYxT,GAAZ,EAAiBiU,IAAI,CAACC,KAAL,CAAWxa,KAAX,CAAjB;AACA8xH,2BAAK,CAAC7zF,IAAN,CAAW1kB,sBAAM,CAACnP,MAAO,cAAa9D,GAAI,iDAAgDtG,KAAM,aAAhG;AACA,KAHM,MAGA;AACN,aAAO,4DAAP;AACA;AACD;;AAEDoxH,iBAAe,CAAC,yBAAD,EAA4B,0IAA5B,EACd,MAAM,CACL,CAFa,EAGd,CAACG,OAAD,EAAUt2H,GAAV,KAAkB;AAEjB,UAAMy2H,UAAU,GAAGz2H,GAAG,CAACmF,KAAJ,CAAU,GAAV,CAAnB;;AACA,QAAIsxH,UAAU,CAACp1H,MAAX,GAAoB,CAAxB,EAA2B;AAC1B,aAAO,qEAAP;AACA,KAFD,MAEO;AACN,YAAMgK,GAAG,GAAG2rH,kBAAkB,CAACP,UAAU,CAAC,CAAD,CAAX,CAA9B;AACA,YAAM1xH,KAAK,GAAG0xH,UAAU,CAACn4H,KAAX,CAAiB,CAAjB,EAAoBwM,IAApB,CAAyB,GAAzB,CAAd;AAEA,aAAOirH,cAAc,CAACU,UAAU,CAAC,CAAD,CAAX,EAAgBprH,GAAhB,EAAqBtG,KAArB,CAArB;AACA;AACD,GAda,CAAf;AAgBA;AAED,MAAMmyH,SAAS,GAAG;AACjB7gH,GAAC,EAAE,KADc;AAEjBmP,GAAC,EAAE,KAFc;AAGjB+kB,GAAC,EAAE,KAHc;AAIjBH,GAAC,EAAE,QAJc;AAKjBK,GAAC,EAAE,eALc;AAMjBK,GAAC,EAAE,QANc;AAOjB9W,GAAC,EAAE;AAPc,CAAlB;;AASA,MAAMmjG,wBAAwB,GAAGC,QAAQ,IAAIF,SAAS,CAAC1xG,CAAV,KAAgB4xG,QAAhB,IAA4BF,SAAS,CAACzsF,CAAV,KAAgB2sF,QAAzF;;AACA,MAAMC,OAAO,GAAG,CAAC,MAAD,EAAS,KAAT,EAAgB,MAAhB,EAAwB,OAAxB,EAAiC,MAAjC,EAAyC,KAAzC,CAAhB;;AACA,MAAMC,SAAS,GAAGt3H,GAAG,IAAIA,GAAG,IAAIq3H,OAAO,CAAC3pH,IAAR,CAAa6pH,MAAM,IAAIA,MAAM,CAACp5C,UAAP,CAAkBn+E,GAAlB,CAAvB,CAAhC;;AAEAm2H,eAAe,CAAC,iBAAD,EAAoB,uJAApB,EACd,CAACG,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,KAAyB;AACxB,QAAMmtH,QAAQ,GAAGF,SAAS,CAACjtH,KAAK,CAAC,CAAD,CAAN,CAA1B;;AACA,MAAImtH,QAAJ,EAAc;AACb,WAAOD,wBAAwB,CAACC,QAAD,CAAxB,GACL,WAAUA,QAAS,MAAKC,OAAO,CAACr1H,GAAR,CAAYu1H,MAAM,IAAID,SAAS,CAACt3H,GAAD,CAAT,KAAmBu3H,MAAnB,GAA6B,MAAKA,MAAO,MAAzC,GAAiDA,MAAvE,EAA+EzsH,IAA/E,CAAoF,GAApF,CAAyF,IAD5G,GAEL,WAAUssH,QAAS,EAFrB;AAGA,GAJD,MAIO;AACN,WAAO,gFAAP;AACA;AACD,CAVa,EAWd,CAACd,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,EAAsBL,CAAtB,KAA4B;AAC3B,QAAMwtH,QAAQ,GAAGF,SAAS,CAACjtH,KAAK,CAAC,CAAD,CAAN,CAA1B;;AACA,MAAI,CAACmtH,QAAL,EAAe;AACd,WAAO,4GAAP;AACA;;AAED,WAASI,WAAT,CAAqB79G,CAArB,EAAwB;AACvB,UAAMylB,GAAG,GAAG,IAAIgmC,GAAJ,CAAQzrD,CAAR,EAAW7H,QAAQ,CAACG,IAApB,CAAZ;AAEA,UAAMslH,MAAM,GAAGD,SAAS,CAACt3H,GAAD,CAAxB;;AACA,QAAIm3H,wBAAwB,CAACC,QAAD,CAAxB,IAAsCG,MAA1C,EAAkD;AACjDn4F,SAAG,CAAC4jD,YAAJ,CAAiBj2D,MAAjB,CAAwB,GAAxB,EAA6BwqG,MAA7B;AACA;;AAEDtB,cAAU,CAAC72F,GAAG,CAACntB,IAAL,EAAWrI,CAAX,CAAV;AACA;;AAED,QAAMgtH,WAAW,GAAG/4C,kBAAkB,EAAtC;;AACA,MAAI+4C,WAAJ,EAAiB;AAGhB,QAAIQ,QAAQ,KAAK,QAAjB,EAA2B;AAC1BI,iBAAW,CAAE,SAAQZ,WAAY,IAAGQ,QAAS,EAAlC,CAAX;AACA,KAFD,MAEO,IAAIA,QAAQ,KAAK,KAAb,IAAsBA,QAAQ,KAAK,QAAvC,EAAiD;AACvD,aAAQ,2BAA0BA,QAAS,qCAA3C;AACA,KAFM,MAEA;AACNI,iBAAW,CAAE,SAAQZ,WAAY,SAAQQ,QAAS,EAAvC,CAAX;AACA;;AACD;AACA;;AAED,QAAMr7C,SAAS,GAAGqB,gBAAgB,EAAlC;;AACA,MAAIrB,SAAJ,EAAe;AACdy7C,eAAW,CAAE,MAAKz7C,SAAU,IAAGq7C,QAAS,EAA7B,CAAX;;AACA;AACA;;AAED,QAAMz5C,KAAK,GAAGH,kBAAkB,EAAhC;;AACA,MAAIG,KAAJ,EAAW;AACV65C,eAAW,CAAE,IAAG75C,KAAM,IAAGy5C,QAAS,EAAvB,CAAX;AACA,GAFD,MAEO;AACNI,eAAW,CAAE,IAAGJ,QAAS,EAAd,CAAX;AACA;AACD,CAtDa,CAAf;AAyDAjB,eAAe,CAACsB,GAAG,IAAI,CAAC,GAAD,EAAM,QAAN,EAAgBl4E,QAAhB,CAAyBk4E,GAAzB,CAAR,EAAuC,6EAAvC,EACd,CAACnB,OAAD,EAAUt2H,GAAV,KAAkB;AACjB,QAAM+7E,SAAS,GAAGqB,gBAAgB,EAAlC;;AACA,MAAI,CAACrB,SAAL,EAAgB;AACf,WAAQ,yBAAwB/7E,GAAI,EAApC;AACA;;AACD,SAAQ,aAAY+7E,SAAU,KAAI/7E,GAAI,EAAtC;AACA,CAPa,EAQd,CAACs2H,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,EAAsBL,CAAtB,KAA4B;AAC3B,QAAMmyE,SAAS,GAAGqB,gBAAgB,EAAlC;;AACA,MAAI,CAACrB,SAAL,EAAgB;AACfk6C,cAAU,CAAC33G,sBAAM,CAACsgE,MAAO,aAAY5+E,GAAI,EAA/B,EAAkC4J,CAAlC,CAAV;AACA;AACA;;AACDqsH,YAAU,CAAC33G,sBAAM,CAACsgE,MAAO,MAAK7C,SAAU,aAAY/7E,GAAI,iBAA9C,EAAgE4J,CAAhE,CAAV;AACA,CAfa,CAAf;AAkBAusH,eAAe,CAAC,IAAD,EAAO,qCAAP,EACd,CAACG,OAAD,EAAUt2H,GAAV,KAAmB,yBAAwBA,GAAI,EADjC,EAEd,CAACs2H,OAAD,EAAUt2H,GAAV,EAAeiK,KAAf,EAAsBL,CAAtB,KAA4B;AAC3BqsH,YAAU,CAAC33G,sBAAM,CAACsgE,MAAO,aAAY5+E,GAAI,EAA/B,EAAkC4J,CAAlC,CAAV;AACA,CAJa,CAAf;AAOAusH,eAAe,CAAC,GAAD,EAAM,KAAN,EACd,MAAM;AACL,QAAMuB,YAAY,GAAGxB,QAAQ,CAC3Bl0H,GADmB,CACfs0H,OAAO,IAAIA,OAAO,CAAC/0B,WADJ,EAEnBvnB,MAFmB,CAEZ,CAACjzE,CAAD,EAAIC,CAAJ,KAAUA,CAAC,GAAGD,CAAC,CAACxI,MAAF,CAASyI,CAAT,CAAH,GAAiBD,CAFhB,EAEmB,EAFnB,CAArB;;AAIA,MAAI2wH,YAAY,CAACr2H,MAAjB,EAAyB;AACxB,WAAQ,WAAUq2H,YAAY,CAAC5sH,IAAb,CAAkB,WAAlB,CAA+B,YAAjD;AACA;AACD,CATa,EAUd,MAAM,KAVQ,CAAf,C;;AC1kBA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMnN,WAAiB,GAAG,IAAIirH,MAAJ,CAAW,SAAX,CAA1B;AAEPjrH,WAAM,CAACkrH,UAAP,GAAoB,UAApB;AACAlrH,WAAM,CAACmrH,QAAP,GAAkB,cAAlB;AACAnrH,WAAM,CAAC4jG,WAAP,GAAqB,2FAArB;AACA5jG,WAAM,CAACorH,cAAP,GAAwB,IAAxB;AACAprH,WAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AACA7rH,WAAM,CAACkF,OAAP,GAAiB;AAChB80H,qBAAmB,EAAE;AACpB1mC,SAAK,EAAE,8BADa;AAEpB1xF,QAAI,EAAE,MAFc;AAGpB2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,qCADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,wCADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,mCADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,0CADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,CAHY;AAgBpBA,SAAK,EAAE,mBAhBa;AAiBpBw8F,eAAW,EAAE,6BAjBO;AAkBpB0nB,aAAS,EAAE,IAlBS;AAmBpB2O,YAAQ,EAAE;AAnBU;AADL,CAAjB;AAwBA,MAAMvuC,UAAK,GAAG,EAAd;AACA,IAAIwuC,IAAJ;;AAEAl6H,WAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3Bi3C,MAAI,GAAGv5G,sBAAM,CAAC+N,IAAK,+DAA8Dy4D,IAAI,CAAC,aAAD,CAAgB,4BAArG;;AAEA,MAAInnF,WAAM,CAACkF,OAAP,CAAe80H,mBAAf,CAAmC5yH,KAAnC,KAA6C,mBAAjD,EAAsE;AACrE8yH,QAAI,CAAC3qH,gBAAL,CAAsB,YAAtB,EAAoC,MAAM;AAAE4qH,kBAAY,CAAC,GAAD,CAAZ;AAAoB,KAAhE;AACA;;AAEDD,MAAI,CAAC3qH,gBAAL,CAAsB,OAAtB,EAA+B,MAAM;AACpC,QAAIvP,WAAM,CAACkF,OAAP,CAAe80H,mBAAf,CAAmC5yH,KAAnC,KAA6C,iBAA7C,IAAkE+qH,SAAA,CAAkBiI,2BAAlB,CAAtE,EAAsG;AACrGA,wBAAA;AACAC,kBAAY;AACZ,KAHD,MAGO,IAAIr6H,WAAM,CAACkF,OAAP,CAAe80H,mBAAf,CAAmC5yH,KAAnC,KAA6C,cAAjD,EAAiE;AACvEkzH,6BAAA;AACAD,kBAAY;AACZ,KAHM,MAGA;AACNF,kBAAY,CAAC,CAAD,CAAZ;AACA;AACD,GAVD;AAYArgC,YAAU,CAACogC,IAAD,EAAO;AAAEnnD,SAAK,EAAE,CAAT;AAAYxiD,aAAS,EAAE;AAAvB,GAAP,CAAV;AACA,CApBD;;AAsBAvwB,WAAM,CAACgsH,SAAP,GAAmB,MAAM;AACxBj1F,uBAAqB,CAACwjG,gBAAD,CAArB;AACA,CAFD;;AAIA,SAASJ,YAAT,CAAsBzG,SAAtB,EAAyC;AACxCK,cAAA,CAAmB/zH,WAAM,CAAC2nH,QAA1B,EACEziH,OADF,CACU;AACRwuH,aADQ;AAERC,aAAS,EAAE,GAFH;AAGRC,aAAS,EAAE;AAHH,GADV,EAKI,KALJ,EAMEiC,YANF,CAMe,MAAM;AACnB,UAAMhpF,CAAC,GAAG3sC,QAAQ,CAACkmB,sBAAT,EAAV;AACAymB,KAAC,CAACzd,MAAF,CAAS,GAAGs8D,UAAK,CAAC3mF,IAAN,CAAW,CAAC;AAAEguE,WAAK,EAAE3pE;AAAT,KAAD,EAAe;AAAE2pE,WAAK,EAAE1pE;AAAT,KAAf,KAAgCD,CAAC,GAAGC,CAA/C,EAAkDhF,GAAlD,CAAsDm2H,SAAtD,CAAZ;AACA,WAAO,CAAC3tF,CAAD,CAAP;AACA,GAVF,EAWEtnC,MAXF,CAWS20H,IAXT,EAYEjE,KAZF;AAaA;;AAED,SAASoE,YAAT,GAAwB;AACvBtG,cAAA,CAAmB/zH,WAAM,CAAC2nH,QAA1B,EAAoCtjB,KAApC,CAA0C,IAA1C;AACA;;AAEM,SAASmzB,gBAAT,CAAqBiD,UAArB,EAAoDlvC,OAA2B,GAAG,MAAM,CAAE,CAA1F,EAA4FxY,KAAa,GAAG,CAA5G,EAA+G;AACrH2Y,YAAK,CAAC7qF,IAAN,CAAW;AAAE45H,cAAF;AAAclvC,WAAd;AAAuBxY;AAAvB,GAAX;AACA;;AAED,SAASynD,SAAT,CAAmB;AAAEC,YAAF;AAAclvC;AAAd,CAAnB,EAA4C;AAC3C,QAAMqN,EAAE,GAAG14F,QAAQ,CAACqC,aAAT,CAAuB,IAAvB,CAAX;AACAq2F,IAAE,CAACrpF,gBAAH,CAAoB,OAApB,EAA6Bg8E,OAA7B,EAAsC,IAAtC;AAEAqN,IAAE,CAACrpF,gBAAH,CAAoB,OAApB,EAA6B8qH,YAA7B;AACAzhC,IAAE,CAACxpE,MAAH,CAAUqrG,UAAU,EAApB;AACA,SAAO7hC,EAAP;AACA;;AAED,SAAS2hC,gBAAT,GAA4B;AAC3B,QAAM;AAAEG;AAAF,MAAsBr6H,MAAM,CAAC+vB,gBAAP,CAAwB8pG,IAAxB,CAA5B;;AACA,MAAIQ,eAAe,IAAIA,eAAe,KAAK,MAA3C,EAAmD;AAClDR,QAAI,CAACx5C,SAAL,CAAezmE,GAAf,CAAmB,qBAAnB;AACA;AACD,C;;AC1GD;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMja,yBAAiB,GAAG,IAAIirH,MAAJ,CAAW,oBAAX,CAA1B;AAEPjrH,yBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,yBAAM,CAACmrH,QAAP,GAAkB,cAAlB;AACAnrH,yBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AACA5jG,yBAAM,CAAC82B,MAAP,GAAgB,IAAhB;AACA92B,yBAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AACA7rH,yBAAM,CAACkF,OAAP,GAAiB;AAChBy1H,gBAAc,EAAE;AACfrnC,SAAK,EAAE,uCADQ;AAEf1xF,QAAI,EAAE,SAFS;AAGfwF,SAAK,EAAE,IAHQ;AAIfw8F,eAAW,EAAE,sCAJE;AAKfiwB,YAAQ,EAAE;AALK,GADA;AAQhB+G,qBAAmB,EAAE;AACpBtnC,SAAK,EAAE,4CADa;AAEpB1xF,QAAI,EAAE,SAFc;AAGpBwF,SAAK,EAAE,IAHa;AAIpBw8F,eAAW,EAAE,2CAJO;AAKpBiwB,YAAQ,EAAE;AALU;AARL,CAAjB;;AAiBA7zH,yBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB0L,kBAAA,CACC,MAAM92G,sBAAM,CAAC+N,IAAK;KACfy4D,IAAI,CAAC,oBAAD,CAAuB;;SAF/B,EAKCl7E,CAAC,IAAIo5B,uBAAI,CAACp5B,CAAC,CAAC1G,MAAF,CAAS9C,YAAT,CAAsB,QAAtB,CAAD,CALV,EAMC,CAAC,EANF;AASA23H,iBAAA,CAA4B,mBAA5B,EAAiD,6DAAjD,EACC,CAACzB,OAAD,EAAUt2H,GAAV,KAAmB,uBAAsBA,GAAG,IAAIA,GAAG,CAACqB,MAAX,GAAqB,SAAQrB,GAAI,EAAjC,GAAqC,EAAG,EADlF,EAEC,CAACs2H,OAAD,EAAUt2H,GAAV,KAAkBgjC,uBAAI,CAAC,QAAD,EAAWhjC,GAAX,CAFvB;AAIA,CAdD;;AAgBArC,yBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,WAAS43C,WAAT,CAAqBx4H,GAArB,EAA0B;AACzB,WAAO8vH,WAAA,GACLtiH,MADK,CACEmM,CAAC,IAAI,CAACA,CAAC,CAAC8a,MADV,EAELzyB,GAFK,CAED2X,CAAC,IAAIA,CAAC,CAAC2rG,QAFN,EAGL93G,MAHK,CAGEhD,EAAE,IAAIA,EAAE,CAACpF,WAAH,GAAiB6E,KAAjB,CAAuBjK,GAAG,CAACoF,WAAJ,EAAvB,CAHR,EAIL1C,IAJK,EAAP;AAKA;;AAEDq1H,iBAAA,CAA4B,gBAA5B,EAA8C,gDAA9C,EACC,CAACzB,OAAD,EAAUt2H,GAAV,KAAkB;AACjB,UAAM6E,OAAO,GAAG2zH,WAAW,CAACx4H,GAAD,CAA3B;AACA,WAAO6E,OAAO,CAACxD,MAAR,GAAkB,eAAcwD,OAAO,CAAC,CAAD,CAAI,EAA3C,GAA+C,qCAAtD;AACA,GAJF,EAKC,CAACyxH,OAAD,EAAUt2H,GAAV,KAAkBgjC,uBAAI,CAACw1F,WAAW,CAACx4H,GAAD,CAAX,CAAiB,CAAjB,CAAD,CALvB;AAQAhC,QAAM,CAACkP,gBAAP,CAAwB,UAAxB,EAAoC,MAAM;AAAEk6E,6BAAM;AAAK,GAAvD;AACAA,2BAAM;AAGNvpF,UAAQ,CAACkkB,IAAT,CAAc7U,gBAAd,CAA+B,OAA/B,EAAyCtD,CAAD,IAAmB;AAC1D,QAAIA,CAAC,CAACwf,OAAN,EAAe;AACf,UAAMgW,GAAG,GAAGx1B,CAAC,CAAC1G,MAAF,YAAoBm9E,iBAApB,IAAyC,IAAIjb,GAAJ,CAAQx7D,CAAC,CAAC1G,MAAF,CAAS+O,IAAjB,EAAuBH,QAAQ,CAACwuE,MAAhC,CAArD;;AACA,QAAIlhD,GAAG,IAAIq5F,aAAa,CAACr5F,GAAG,CAACntB,IAAL,CAAxB,EAAoC;AACnCm1E,+BAAM,CAAChoD,GAAD,CAAN;AACAx1B,OAAC,CAAC4e,wBAAF;AACA5e,OAAC,CAACsd,cAAF;AACA;AACD,GARD,EAQG,IARH;AASA,CA9BD;;AAgCO,SAASwxG,eAAT,CAAyBpT,QAAzB,EAA2CsK,SAA3C,EAA+D+I,WAA/D,EAAqFC,QAArF,EAAgH;AACtH,QAAM1yE,GAAG,GAAG4pE,YAAA,CAAqBxK,QAArB,CAAZ;;AACA,MAAI,CAACqT,WAAL,EAAkB;AACjB,QAAIzyE,GAAG,IAAI0pE,SAAX,EAAsB;AACrB+I,iBAAW,GAAG7zC,IAAI,CAAC5+B,GAAG,CAACrjD,OAAJ,CAAY+sH,SAAZ,EAAuB3+B,KAAxB,CAAlB;AACA,KAFD,MAEO,IAAI/qC,GAAJ,EAAS;AACfyyE,iBAAW,GAAG7zC,IAAI,CAAC5+B,GAAG,CAAC2iE,UAAL,CAAlB;AACA,KAFM,MAEA;AACN8P,iBAAW,GAAG,UAAd;AACA;AACD;;AAED,MAAI1nC,KAAK,GAAG,CAAC,cAAD,CAAZ;;AACA,MAAI/qC,GAAJ,EAAS;AACR+qC,SAAK,CAACzyF,IAAN,CAAWsmF,IAAI,CAAC5+B,GAAG,CAAC2iE,UAAL,CAAf;AACA;;AACD,MAAI+G,SAAJ,EAAe;AACd3+B,SAAK,CAACzyF,IAAN,CAAWoxH,SAAX;AACA;;AACD3+B,OAAK,GAAGA,KAAK,CAACnmF,IAAN,CAAW,QAAX,CAAR;AAEA,QAAM+G,IAAI,GAAGgnH,WAAW,CAACvT,QAAD,EAAWsK,SAAX,CAAxB;AACA,SAAQ,aAAYgJ,QAAQ,IAAI,EAAG,WAAU/mH,IAAK,YAAWo/E,KAAM,KAAI0nC,WAAY,MAAnF;AACA;AAEM,SAASG,SAAT,CAAmBjnH,IAAnB,EAAiC;AACvC,QAAM+yB,MAAM,GAAG/yB,IAAI,CAAC5H,KAAL,CAAW,mBAAX,CAAf;AACA,SAAO;AACNq7G,YAAQ,EAAE1gF,MAAM,IAAIA,MAAM,CAAC,CAAD,CAAhB,IAAuBA,MAAM,CAAC,CAAD,CAAN,CAAU07D,SAAV,CAAoB,CAApB,EAAuB38F,OAAvB,CAA+B,KAA/B,EAAsC,GAAtC,CAAvB,IAAqEJ,SADzE;AAENqsH,aAAS,EAAEhrF,MAAM,IAAIA,MAAM,CAAC,CAAD,CAAhB,IAAuBA,MAAM,CAAC,CAAD,CAAN,CAAU07D,SAAV,CAAoB,CAApB,EAAuB38F,OAAvB,CAA+B,KAA/B,EAAsC,GAAtC,CAAvB,IAAqEJ;AAF1E,GAAP;AAIA;AAEM,SAASs1H,WAAT,CAAqBvT,QAArB,EAAwCsK,SAAxC,EAAoE;AAC1E,QAAMmJ,cAAc,GAAG,CAACvkD,iBAAD,CAAvB;;AAEA,MAAI8wC,QAAJ,EAAc;AACbyT,kBAAc,CAACv6H,IAAf,CAAoB8mH,QAApB;AACA;;AAED,MAAIA,QAAQ,IAAIsK,SAAhB,EAA2B;AAC1BmJ,kBAAc,CAACv6H,IAAf,CAAoBoxH,SAApB;AACA;;AAED,SAAOmJ,cAAc,CAACjuH,IAAf,CAAoB,GAApB,CAAP;AACA;AAEM,SAAS2tH,aAAT,CAAuBxmH,IAAvB,EAA8C;AACpD,QAAM;AAAEquE,UAAF;AAAUzuE;AAAV,MAAmB,IAAIuzD,GAAJ,CAAQnzD,IAAR,EAAcH,QAAQ,CAACwuE,MAAvB,CAAzB;AAEA,QAAM2C,QAAQ,GAAG3C,MAAM,KAAKkD,aAAa,GAAGlD,MAA3B,IAChBA,MAAM,CAACn7E,KAAP,CAAa,GAAb,EAAkB7G,KAAlB,CAAwB,CAAC,CAAzB,EAA4BwM,IAA5B,CAAiC,GAAjC,MAA0ChK,YAAO,CAACw/E,MAAR,CAAen7E,KAAf,CAAqB,GAArB,EAA0B7G,KAA1B,CAAgC,CAAC,CAAjC,EAAoCwM,IAApC,CAAyC,GAAzC,CAD3C;AAEA,MAAI,CAACm4E,QAAL,EAAe,OAAO,KAAP;AAEf,SAAOpxE,IAAI,CAACssE,UAAL,CAAgB3J,iBAAhB,KACN3iE,IAAI,CAACssE,UAAL,CAAgB,YAAhB,CADD;AAEA;AAEM,SAAS66C,OAAT,CAAiBnnH,IAAjB,EAA+B;AACrC,MAAI7T,MAAM,CAACiP,GAAP,KAAejP,MAAnB,EAA2B;AAC1B,QAAI86H,SAAS,CAAChnH,QAAQ,CAACD,IAAV,CAAT,CAAyByzG,QAAzB,KAAsCwT,SAAS,CAACjnH,IAAD,CAAT,CAAgByzG,QAA1D,EAAoE;AACnE3gB,aAAO,CAACs0B,YAAR,CAAqB,IAArB,EAA2B,EAA3B,EAA+BpnH,IAA/B;AACA,KAFD,MAEO;AACN8yF,aAAO,CAACu0B,SAAR,CAAkB,IAAlB,EAAwB,EAAxB,EAA4BrnH,IAA5B;AACA;AACD,GAND,MAMO;AACN7T,UAAM,CAACgT,MAAP,CAAcupD,WAAd,CAA0B;AAAE1oD;AAAF,KAA1B,EAAoC,GAApC;AACA;AACD;AAED,IAAIsnH,MAAJ;AAEO,SAAS/xC,yBAAT,CAAgBhoD,GAAmC,GAAGttB,QAAtD,EAAgE;AACtE,MAAI2mH,aAAa,CAACr5F,GAAG,CAACntB,IAAL,CAAjB,EAA6B;AAC5B,UAAM;AAAEqzG,cAAF;AAAYsK;AAAZ,QAA0BkJ,SAAS,CAAC15F,GAAG,CAACvtB,IAAL,CAAzC;AACAmxB,2BAAI,CAACsiF,QAAD,EAAWsK,SAAX,CAAJ;AACA,GAHD,MAGO,IAAIuJ,MAAJ,EAAY;AAClBA,UAAM,CAACC,aAAP,CAAqB7+D,WAArB,CAAiC;AAAEynC,WAAK,EAAE;AAAT,KAAjC,EAAkD,GAAlD;AACA;AACD;;AAED,SAAS1gB,QAAT,CAAkB;AAAEhB,QAAF;AAAUxhE;AAAV,CAAlB,EAAkD;AACjD,MAAIwhE,MAAM,KAAKkD,aAAa,GAAGlD,MAA/B,EAAuC;AACvC,QAAM;AAAE+4C,gBAAF;AAAgBxnH,QAAhB;AAAsBynH;AAAtB,MAAmCx6G,IAAzC;AACA,MAAIu6G,YAAJ,EAAkBE,kBAAkB;AACpC,MAAI1nH,IAAJ,EAAUmnH,OAAO,CAACnnH,IAAD,CAAP;AACV,MAAIynH,OAAJ,EAAat3B,wBAAK;AAClB;;AAED,SAASu3B,kBAAT,GAA8B;AAC7Bz8G,SAAO,CAACC,IAAR,CAAa,uDAAb;AACA,MAAIo8G,MAAJ,EAAYtwC,UAAU,CAACswC,MAAM,CAAC35H,GAAR,EAAa,IAAb,CAAV;AACZwiG,0BAAK;AACL;;AAEM,SAASh/D,uBAAT,CAAcsiF,QAAd,EAAiCsK,SAAjC,EAAqD;AAC3D,MAAIuJ,MAAM,IAAI11C,aAAa,EAA3B,EAA+B;AAC9B,KAAC01C,MAAM,IAAIA,MAAM,CAACC,aAAjB,IAAkCp7H,MAAnC,EAA2Cu8D,WAA3C,CAAuD;AAAEzyC,UAAI,EAAE;AAAEw9F,gBAAF;AAAYsK;AAAZ;AAAR,KAAvD,EAA0F,GAA1F;AACA,GAFD,MAEO;AACNuJ,UAAM,GAAGt7H,QAAQ,CAACqC,aAAT,CAAuB,QAAvB,CAAT;AACAi5H,UAAM,CAAC3uH,EAAP,GAAY,mBAAZ;AACA2uH,UAAM,CAAC35H,GAAP,GAAagkF,aAAa,CAACq1C,WAAW,CAACvT,QAAD,EAAWsK,SAAX,CAAZ,CAAb,CAAgD39G,IAA7D;AAEAjU,UAAM,CAACkP,gBAAP,CAAwB,SAAxB,EAAmCo0E,QAAnC;AACA63C,UAAM,CAACjsH,gBAAP,CAAwB,MAAxB,EAAgC,MAAM;AACrC,UAAIisH,MAAJ,EAAYA,MAAM,CAACC,aAAP,CAAqB7+D,WAArB,CAAiC;AAAEz5D,6BAAOA;AAAT,OAAjC,EAA8C,GAA9C;AAGZ,UAAI+gC,OAAJ;AACA7jC,YAAM,CAACkP,gBAAP,CAAwB,SAAxB,EAAmC,CAAC;AAAEozE,cAAF;AAAUxhE;AAAV,OAAD,KAAoC;AACtE,YAAIwhE,MAAM,KAAKkD,aAAa,GAAGlD,MAA3B,IAAsCxhE,IAAD,CAAY06G,WAArD,EAAkE33F,OAAO,GAAG,IAAV;AAClE,OAFD;AAGA1lB,gBAAU,CAAC,MAAM;AAAE,YAAI,CAAC0lB,OAAL,EAAc03F,kBAAkB;AAAK,OAA9C,EAAgD,IAAhD,CAAV;AACA,KATD;AAWA17H,YAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqBosG,MAArB;AACAt7H,YAAQ,CAACkkB,IAAT,CAAcs8D,SAAd,CAAwBzmE,GAAxB,CAA4B,kBAA5B;AACA;AACD;AAEM,SAASoqF,wBAAT,GAAiB;AACvB,MAAIve,aAAa,EAAjB,EAAqB;AACpBzlF,UAAM,CAACgT,MAAP,CAAcupD,WAAd,CAA0B;AAAE++D,aAAO,EAAE;AAAX,KAA1B,EAA6C,GAA7C;AACAt7H,UAAM,CAACgkG,KAAP;AACA,GAHD,MAGO;AACNhkG,UAAM,CAACuf,mBAAP,CAA2B,SAA3B,EAAsC+jE,QAAtC;AACA,QAAI,CAAC63C,MAAL,EAAa;AACbA,UAAM,CAAC9/G,MAAP;AACA8/G,UAAM,GAAG,IAAT;AACAt7H,YAAQ,CAACkkB,IAAT,CAAcs8D,SAAd,CAAwBhlE,MAAxB,CAA+B,kBAA/B;AACA,QAAIo/G,aAAa,CAAC3mH,QAAQ,CAACG,IAAV,CAAjB,EAAkC0yF,OAAO,CAACu0B,SAAR,CAAkB,IAAlB,EAAwB,EAAxB,EAA4BpnH,QAAQ,CAACkrE,QAAT,GAAoBlrE,QAAQ,CAAC+pE,MAAzD;AAClC;AACD,C;;;ACpND;AAEA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMl+E,oBAAiB,GAAG,IAAIirH,MAAJ,CAAW,eAAX,CAA1B;AAEPjrH,oBAAM,CAACkrH,UAAP,GAAoB,mBAApB;AACAlrH,oBAAM,CAACmrH,QAAP,GAAkB,cAAlB;AACAnrH,oBAAM,CAAC4jG,WAAP,GAAqB,mBAArB;AACA5jG,oBAAM,CAACkF,OAAP,GAAiB;AAChB42H,QAAM,EAAE;AACPl4B,eAAW,EAAE,wBADN;AAEPtQ,SAAK,EAAE,yBAFA;AAGP1xF,QAAI,EAAE,MAHC;AAIPwF,SAAK,EAAE,kBAJA;AAKPmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,kCADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,2BADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,0BADJ;AAEFiC,WAAK,EAAE;AAFL,KANK;AALD,GADQ;AAiBhB20H,YAAU,EAAE;AACXn6H,QAAI,EAAE,MADK;AAEXwF,SAAK,EAAE,MAFI;AAGXw8F,eAAW,EAAE,4BAHF;AAIXtQ,SAAK,EAAE;AAJI,GAjBI;AAuBhB0oC,eAAa,EAAE;AACdp6H,QAAI,EAAE,MADQ;AAEdwF,SAAK,EAAE,MAFO;AAGdw8F,eAAW,EAAE,+BAHC;AAIdtQ,SAAK,EAAE,gCAJO;AAKd2mC,YAAQ,EAAE;AALI,GAvBC;AA8BhBgC,mBAAiB,EAAE;AAClBr4B,eAAW,EAAE,mCADK;AAElBtQ,SAAK,EAAE,oCAFW;AAGlB1xF,QAAI,EAAE,OAHY;AAIlBq4H,YAAQ,EAAE,IAJQ;AAKlBiC,cAAU,EAAE,kCALM;AAMlB/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,IADG;AAERvI,UAAI,EAAE,6BAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,SADH;AAEFvI,UAAI,EAAE,sBAFJ;AAGFvD,UAAI,EAAE,SAHJ;AAIFwF,WAAK,EAAE;AAJL,KAJK,EASL;AACFsG,SAAG,EAAE,QADH;AAEFvI,UAAI,EAAE,qBAFJ;AAGFvD,UAAI,EAAE,SAHJ;AAIFwF,WAAK,EAAE;AAJL,KATK,CANU;AAqBlBA,SAAK,EAAG;AArBU;AA9BH,CAAjB;AAuDA,MAAM+0H,sBAAsB,GAAGx7G,sBAAM,CAAC+N,IAAK,mCAA3C;AACA,MAAM0tG,gBAAgB,GAAGp9B,uBAAO,CAAC7Q,QAAR,CAAiB,yBAAjB,EAA4C,MAAc,CAA1D,CAAzB;;AAEAnuF,oBAAM,CAACy4F,EAAP,GAAY,MAAM;AACjBv4F,UAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqB+sG,sBAArB;AACA,CAFD;;AAIA,MAAME,mBAAmB,GAAG,IAAI7iD,GAAJ,EAA5B;AAaO,SAAS8iD,8BAAT,CAA0B3kG,IAA1B,EAA8D4kG,MAA9D,EAAwH;AAC9H,QAAMp7G,IAAyB,GAAG,OAAOwW,IAAP,KAAgB,QAAhB,GAA2B;AAAEtY,WAAO,EAAEsY;AAAX,GAA3B,GAA+CA,IAAjF;AACA,QAAM9qB,EAAE,GAAI,GAAE3B,MAAM,CAACk0F,UAAU,CAACj+E,IAAI,CAACwmG,QAAN,EAAgB,IAAhB,CAAX,CAAkC,IAAGz8G,MAAM,CAACk0F,UAAU,CAACj+E,IAAI,CAACq7G,cAAN,EAAsBr7G,IAAI,CAAC8wG,SAA3B,EAAsC9wG,IAAI,CAACs7G,MAA3C,EAAmDviC,QAAQ,CAAC/4E,IAAI,CAAC9B,OAAL,YAAwB0lD,WAAxB,GAAsC5jD,IAAI,CAAC9B,OAAL,CAAaq9G,SAAnD,GAA+Dv7G,IAAI,CAAC9B,OAArE,CAA3D,CAAX,CAAsJ,EAArN;AACA,QAAMkpC,GAAG,GAAGpnC,IAAI,CAACwmG,QAAL,IAAiBwK,YAAA,CAAqBhxG,IAAI,CAACwmG,QAA1B,CAA7B;AAEA,QAAMzyE,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK;0CACa7hB,EAAG;;UAEnCsU,IAAI,CAACs7G,MAAL,KAAgBl0E,GAAG,GAAG4+B,IAAI,CAAC5+B,GAAG,CAAC2iE,UAAL,CAAP,GAA0B,EAA7C,KAAoD,EAAG;MAC3D3iE,GAAG,IAAI,CAACA,GAAG,CAACzxB,MAAZ,GAAqBnW,sBAAM,CAACugE,IAAP,CAAYo5C,eAAA,CAAmC/xE,GAAG,CAACo/D,QAAvC,EAAiDxmG,IAAI,CAAC8wG,SAAtD,EAAiE,GAAjE,EAAsE,UAAtE,CAAZ,CAArB,GAAsH,EAAG;;;;wCAIvF9wG,IAAI,CAACw7G,SAAL,GAAiB,QAAjB,GAA4B,EAAG;0EACG9vH,EAAG;;;;;EAT5E;AAgBA28B,kBAAC,CAAC0L,OAAO,CAAC2jC,aAAR,CAAsB,yBAAtB,CAAD,CAAD,CAAoDzpD,MAApD,CAA2DjO,IAAI,CAAC9B,OAAhE;AAEA,QAAMu9G,KAAK,GAAG1nF,OAAO,CAAC/kC,SAAtB;AACA,QAAM0sH,QAAQ,GAAG,CAAC,GAAGR,mBAAmB,CAAC93G,MAApB,EAAJ,EAAkCxU,IAAlC,CAAuC,CAAC;AAAEmlC;AAAF,GAAD,KAAiBA,OAAO,CAAC/kC,SAAR,KAAsBysH,KAA9E,CAAjB;;AACA,MAAIC,QAAJ,EAAc;AACbA,YAAQ,CAAC3nF,OAAT,CAAiBukC,aAAjB,CAA+B,IAAIwoB,WAAJ,CAAgB,oBAAhB,CAA/B;AACA,WAAO46B,QAAP;AACA;;AAED,QAAMx4B,KAAK,GAAG,sBAAO,MAAM;AAC1Bg4B,uBAAmB,CAAC/yC,MAApB,CAA2BwzC,YAA3B;AACA5nF,WAAO,CAACx5B,MAAR;AACA,GAHa,CAAd;;AAKA,QAAMohH,YAAY,GAAG;AAAE5nF,WAAF;AAAWmvD;AAAX,GAArB;AACAg4B,qBAAmB,CAACpiH,GAApB,CAAwB6iH,YAAxB;AAEA,QAAMnxC,OAAO,GAAGiqC,6BAAA,CAAcrC,qBAAd,CAAoCvzH,oBAApC,EAA4C,mBAA5C,EAAiE;AAAE6M;AAAF,GAAjE,EAAyEsU,IAAzE,CAAhB;AAEA+zB,SAAO,CAAC2jC,aAAR,CAAsB,8BAAtB,EAAsDtpE,gBAAtD,CAAuE,QAAvE,EAAkFtD,CAAD,IAAY;AAC5F0/E,WAAO,CAAC0X,OAAR,GAAkBp3F,CAAC,CAACmd,aAAF,CAAgB5U,OAAlC;AACA,GAFD;AAIA0gC,SAAO,CAAC2jC,aAAR,CAAsB,iBAAtB,EAAyCtpE,gBAAzC,CAA0D,OAA1D,EAAmE,MAAM;AAAE80F,SAAK;AAAK,GAArF;AAEA,QAAM04B,QAAQ,GAAG/8H,oBAAM,CAACkF,OAAP,CAAe42H,MAAf,CAAsB10H,KAAtB,KAAgC,KAAhC,IACfpH,oBAAM,CAACkF,OAAP,CAAe42H,MAAf,CAAsB10H,KAAtB,KAAgC,kBAAhC,IAAsDukF,OAAO,CAACmwC,MADhE;AAEA,QAAMphG,KAAK,GAAG,CAAC0kE,UAAU,CAACm9B,MAAD,EAASp7G,IAAI,CAAC46G,UAAd,EAA0BjgG,QAAQ,CAAC97B,oBAAM,CAACkF,OAAP,CAAe62H,UAAf,CAA0B30H,KAA3B,EAAkC,EAAlC,CAAlC,EAA0EpH,oBAAM,CAACkF,OAAP,CAAe62H,UAAhB,CAAiC7qD,OAA1G,CAAzB;AACA,QAAM8rD,YAAY,GAAG,CAAC59B,UAAU,CAACtjE,QAAQ,CAAC97B,oBAAM,CAACkF,OAAP,CAAe82H,aAAf,CAA6B50H,KAA9B,EAAqC,EAArC,CAAT,EAAoDpH,oBAAM,CAACkF,OAAP,CAAe82H,aAAhB,CAAoC9qD,OAAvF,CAAhC;;AAEA,iBAAe+rD,eAAf,GAAiC;AAChC,UAAM,IAAIplD,OAAJ,CAAY9gD,qBAAZ,CAAN;AACA,QAAIme,OAAO,CAAChuC,OAAR,CAAgB,QAAhB,CAAJ,EAA+B,MAAMywE,YAAY,CAACziC,OAAD,EAAU,YAAV,CAAlB;AAE/B,QAAIgoF,SAAJ;AACA,UAAMC,SAAS,GAAG3+G,UAAU,CAAC,MAAM;AAClC02B,aAAO,CAACwrC,SAAR,CAAkBzmE,GAAlB,CAAsB,yBAAtB;AACAi7B,aAAO,CAAChyB,KAAR,CAAc0zG,kBAAd,GAAoC,GAAEoG,YAAY,GAAG,IAAK,GAA1D;AACAE,eAAS,GAAG1+G,UAAU,CAAC,MAAM6lF,KAAK,EAAZ,EAAgB24B,YAAhB,CAAtB;AACA,KAJ2B,EAIzBtiG,KAJyB,CAA5B;AAMA,UAAMi9C,YAAY,CAACziC,OAAD,EAAU,YAAV,EAAwB,oBAAxB,CAAlB;AAEAA,WAAO,CAACwrC,SAAR,CAAkBhlE,MAAlB,CAAyB,yBAAzB;AAEA,QAAIwhH,SAAJ,EAAeriG,YAAY,CAACqiG,SAAD,CAAZ;AACf,QAAIC,SAAJ,EAAetiG,YAAY,CAACsiG,SAAD,CAAZ;AAEfF,mBAAe;AACf;;AAED,GAAC,YAAY;AACZ,QAAI,CAACtxC,OAAO,CAAC0X,OAAT,IAAoB,CAAC8uB,SAAA,CAAkBnyH,oBAAlB,CAAzB,EAAoD;;AAEpD,QAAImhB,IAAI,CAACi8G,QAAT,EAAmB;AAClB,UAAIj8G,IAAI,CAACi8G,QAAL,GAAgB10H,IAAI,CAACyiB,GAAL,MAAa,MAAMixG,gBAAgB,CAACx4H,GAAjB,CAAqBiJ,EAArB,CAAnB,CAApB,EAAiE;AACjEuvH,sBAAgB,CAACl7G,GAAjB,CAAqBrU,EAArB,EAAyBnE,IAAI,CAACyiB,GAAL,EAAzB;AACA;;AAED4L,yBAAqB,CAAC,MAAM;AAC3B,UAAI12B,MAAM,CAAC+vB,gBAAP,CAAwB8kB,OAAxB,EAAiCmoF,SAAjC,KAA+C,SAAnD,EAA8D;AAC9DnoF,aAAO,CAAChyB,KAAR,CAAcm6G,SAAd,GAA0B,OAA1B;AACA,KAHoB,CAArB;AAKAlB,0BAAsB,CAAC9sG,OAAvB,CAA+B6lB,OAA/B;AAEA,QAAI,CAAC6nF,QAAD,IAAariG,KAAK,KAAKq7C,QAA3B,EAAqCknD,eAAe;AACpD,GAhBD;;AAkBA,SAAOH,YAAP;AACA,C;;;ACpLD;AAEA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAM98H,iBAAiB,GAAG,IAAIirH,MAAJ,CAAW,YAAX,CAA1B;AACA,MAAMqS,WAAW,GAAG,CAApB;AACA,MAAMC,WAAW,GAAG,GAApB;AAEPv9H,iBAAM,CAACkrH,UAAP,GAAoB,gBAApB;AACAlrH,iBAAM,CAACmrH,QAAP,GAAkB,cAAlB;AACAnrH,iBAAM,CAAC4jG,WAAP,GAAqB,gBAArB;AACA5jG,iBAAM,CAACkF,OAAP,GAAiB;AAChBs4H,eAAa,EAAE;AACd57H,QAAI,EAAE,SADQ;AAEdwF,SAAK,EAAE,IAFO;AAGdw8F,eAAW,EAAE,6BAHC;AAIdtQ,SAAK,EAAE;AAJO,GADC;AAOhBmqC,iBAAe,EAAE;AAChB77H,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,KAFS;AAGhBw8F,eAAW,EAAE,+BAHG;AAIhBtQ,SAAK,EAAE;AAJS,GAPD;AAahBoqC,UAAQ,EAAE;AACT95B,eAAW,EAAE,wBADJ;AAETtQ,SAAK,EAAE,yBAFE;AAGT1xF,QAAI,EAAE,OAHG;AAITq4H,YAAQ,EAAE,IAJD;AAKTiC,cAAU,EAAE,8BALH;AAMT/9B,UAAM,EAAE,CACP;AACCzwF,SAAG,EAAE,UADN;AAECvI,UAAI,EAAE,UAFP;AAGCvD,UAAI,EAAE;AAHP,KADO,EAMP;AACC8L,SAAG,EAAE,WADN;AAECvI,UAAI,EAAE,WAFP;AAGCvD,UAAI,EAAE;AAHP,KANO,EAWP;AACC8L,SAAG,EAAE,YADN;AAECvI,UAAI,EAAE,8BAFP;AAGCvD,UAAI,EAAE,SAHP;AAICwF,WAAK,EAAE;AAJR,KAXO,EAiBP;AACCsG,SAAG,EAAE,SADN;AAECvI,UAAI,EAAE,2BAFP;AAGCvD,UAAI,EAAE,MAHP;AAICwF,WAAK,EAAE;AAJR,KAjBO,CANC;AA8BTA,SAAK,EAAG;AA9BC;AAbM,CAAjB;AA+CO,SAASu2H,mBAAT,CAA6BhW,QAA7B,EAA+CsK,SAA/C,EAAkE2L,UAAlE,EAA8F;AACpG,MAAIx0F,KAAK,CAACtN,QAAQ,CAAC8hG,UAAD,EAAa,EAAb,CAAT,CAAT,EAAqC;AACpCz+G,WAAO,CAACC,IAAR,CAAa,6BAAb,EAA4CuoG,QAA5C,EAAsDsK,SAAtD,EAAiE,eAAjE,EAAkF2L,UAAlF;AACA,WAAON,WAAP;AACA;;AACD,MAAI,CAACnL,iBAAA,CAAkBnyH,iBAAlB,CAAL,EAAgC;AAC/B,WAAOs9H,WAAP;AACA;;AAED,QAAMl2H,KAAK,GAAGy2H,gBAAgB,CAAClW,QAAD,EAAWsK,SAAX,CAA9B;AACA,MAAI,CAAC7qH,KAAK,CAAC02H,UAAX,EAAuB,OAAOR,WAAP;AAEvBl2H,OAAK,CAAC22H,OAAN,GAAgB,gBAAQ32H,KAAK,CAAC22H,OAAN,GAAgBH,UAAxB,EAAoCN,WAApC,EAAiDC,WAAjD,CAAhB;AACA3H,cAAA,CAAa51H,iBAAM,CAACkF,OAAP,CAAew4H,QAA5B;;AAEA,MAAIt2H,KAAK,CAAC22H,OAAN,IAAiBR,WAArB,EAAkC;AACjCS,kBAAc,CAACrW,QAAD,EAAWsK,SAAX,CAAd;AACA;;AAED,SAAO7qH,KAAK,CAAC22H,OAAb;AACA;;AAED,SAASE,qBAAT,CAA+BtW,QAA/B,EAAyCsK,SAAzC,EAAoD;AACnD,QAAM7qH,KAAK,GAAGy2H,gBAAgB,CAAClW,QAAD,EAAWsK,SAAX,CAA9B;AACA7qH,OAAK,CAAC02H,UAAN,GAAmB,KAAnB;AACA12H,OAAK,CAAC22H,OAAN,GAAgBT,WAAhB;AACA1H,cAAA,CAAa51H,iBAAM,CAACkF,OAAP,CAAew4H,QAA5B;AACA;;AAEM,SAASQ,iBAAT,CAA2BvW,QAA3B,EAA6CsK,SAA7C,EAAwE;AAC9E,MAAI,CAACE,iBAAA,CAAkBnyH,iBAAlB,CAAL,EAAgC;AAC/B,WAAOs9H,WAAP;AACA;;AACD,MAAI,CAACt9H,iBAAM,CAACkF,OAAP,CAAes4H,aAAf,CAA6Bp2H,KAAlC,EAAyC;AACxC,WAAOk2H,WAAP;AACA;;AAED,QAAMl2H,KAAK,GAAGy2H,gBAAgB,CAAClW,QAAD,EAAWsK,SAAX,CAA9B;;AACA,MAAI,CAAC7qH,KAAK,CAAC02H,UAAX,EAAuB;AACtB,WAAOR,WAAP;AACA;;AAED,MAAI,CAACl2H,KAAK,CAAC22H,OAAP,IAAkBT,WAAW,IAAIl2H,KAAK,CAAC22H,OAA3C,EAAoD;AACnD,WAAOT,WAAP;AACA;;AAED,SAAOl2H,KAAK,CAAC22H,OAAb;AACA;AAQM,SAASI,cAAT,CAAwBxW,QAAxB,EAA0CsK,SAA1C,EAA6DmM,WAA7D,EAA+F;AACrG,QAAML,OAAO,GAAGG,iBAAiB,CAACvW,QAAD,EAAWsK,SAAX,CAAjC;;AACA,MAAI,CAAC8L,OAAD,IAAYA,OAAO,KAAKT,WAA5B,EAAyC;AACxC,WAAOxhG,QAAQ,CAACsiG,WAAW,CAACh3H,KAAb,EAAoB,EAApB,CAAf;AACA;;AAED,QAAMosB,GAAG,GAAGsI,QAAQ,CAACsiG,WAAW,CAACC,cAAZ,IAA8BD,WAAW,CAACh3H,KAA3C,EAAkD,EAAlD,CAAR,GAAgE,CAA5E;AACA,QAAM0c,OAAO,GAAGgY,QAAQ,CAACsiG,WAAW,CAACltD,OAAb,EAAsB,EAAtB,CAAxB;AAGA,SAAOprE,IAAI,CAACukC,GAAL,CAAS7W,GAAT,EAAc,CAACA,GAAG,GAAG1P,OAAP,KAFJi6G,OAAO,GAAG,GAEN,IAA6Bj6G,OAA3C,CAAP;AACA;;AAED,MAAM+5G,gBAAgB,GAAG,CAAClW,QAAD,EAAWsK,SAAX,KAKnB2D,6BAAA,CAAcrC,qBAAd,CAAoCvzH,iBAApC,EAA4C,UAA5C,EAAwD;AAAE2nH,UAAF;AAAYsK;AAAZ,CAAxD,EAAiF;AAAE8L,SAAO,EAAE;AAAX,CAAjF,CALN;;AAOA,SAASC,cAAT,CAAwBrW,QAAxB,EAAkCsK,SAAlC,EAA6C;AAC5C,QAAMqM,aAAa,GAAGnM,WAAA,CAAYxK,QAAZ,CAAtB;AACA,QAAM7iG,MAAM,GAAGw5G,aAAa,CAACp5H,OAAd,CAAsB+sH,SAAtB,CAAf;;AACA,MAAI,CAACntG,MAAL,EAAa;AACZ3F,WAAO,CAACC,IAAR,CAAa,uBAAb,EAAsCuoG,QAAtC,EAAgDsK,SAAhD;AACA;AACA;;AAED,MAAIntG,MAAM,CAACljB,IAAP,KAAgB,SAApB,EAA+B;AAC9Bud,WAAO,CAACC,IAAR,CAAc,GAAEpf,iBAAM,CAAC2nH,QAAS,2BAAhC,EAA4DA,QAA5D,EAAsEsK,SAAtE;AACA;AACA;;AACD,QAAMzlC,QAAQ,GAAG1nE,MAAM,CAAC1d,KAAxB;AACA,QAAMuvD,QAAQ,GAAG,CAAC7xC,MAAM,CAAC1d,KAAzB;AAEAwuH,qBAAA,CAAYjO,QAAZ,EAAsBsK,SAAtB,EAAiCt7D,QAAjC;AACAsnE,uBAAqB,CAACtW,QAAD,EAAWsK,SAAX,CAArB;AAEA,QAAMsM,iBAAiB,GAAGjE,eAAA,CAAmC3S,QAAnC,EAA6CsK,SAA7C,CAA1B;AACA,QAAM6K,YAAY,GAAG0B,8BAAA,CAA+B;AACnD7W,YAAQ,EAAE3nH,iBAAM,CAAC2nH,QADkC;AAEnDsK,aAAS,EAAE,iBAFwC;AAGnDwK,UAAM,EAAEt1C,IAAI,CAAC,6CAAD,CAHuC;AAInD9nE,WAAO,EAAG;KACP8nE,IAAI,CAAC,8CAAD,EAAiDo3C,iBAAjD,CAAoE;;MAEvEp3C,IAAI,CAAC,qCAAD,CAAwC;;GAHvC,CAKPzgF,IALO;AAJ0C,GAA/B,CAArB;AAYA8iC,kBAAC,CAACszF,YAAY,CAAC5nF,OAAd,CAAD,CAAwB9tB,EAAxB,CAA2B,OAA3B,EAAoC,0BAApC,EAAiEnb,CAAD,IAAmB;AAClFA,KAAC,CAACsd,cAAF;AACAuzG,gBAAY,CAACz4B,KAAb;AACAo6B,0BAAsB,CAAC9W,QAAD,EAAWsK,SAAX,EAAsBzlC,QAAtB,CAAtB;AACA,GAJD;AAKA;;AAED,SAASiyC,sBAAT,CAAgC9W,QAAhC,EAA0CsK,SAA1C,EAAqDzlC,QAArD,EAA+D;AAC9DopC,qBAAA,CAAYjO,QAAZ,EAAsBsK,SAAtB,EAAiCzlC,QAAjC;AACAyxC,uBAAqB,CAACtW,QAAD,EAAWsK,SAAX,CAArB;AAEA,QAAMsM,iBAAiB,GAAGjE,eAAA,CAAmC3S,QAAnC,EAA6CsK,SAA7C,CAA1B;AACAuM,gCAAA,CAA+B;AAC9B7W,YAAQ,EAAE3nH,iBAAM,CAAC2nH,QADa;AAE9BsK,aAAS,EAAE,iBAFmB;AAG9BwK,UAAM,EAAEt1C,IAAI,CAAC,mDAAD,CAHkB;AAI9B9nE,WAAO,EAAE8nE,IAAI,CAAC,oDAAD,EAAuDo3C,iBAAvD;AAJiB,GAA/B;AAMA,C;;;;;;;;;;;;;;;;;;;AC1LD;AAEA;AAEO,MAAMG,SAAN,CAAW;AAOjB,eAAaC,qBAAb,GAAqC;AACpC,UAAMlqH,QAAQ,GAAGmqH,6BAAa,CAAC39F,OAA/B;AACA,QAAI,CAACxsB,QAAL,EAAe,MAAM,IAAIrU,KAAJ,CAAU,iCAAV,CAAN;AAEf,QAAIy+H,UAAJ;;AACA,QAAI,KAAKzU,iBAAT,EAA4B;AAC3B,UAAI,CAAC,KAAK0U,gBAAV,EAA4B,MAAM1+H,KAAK,CAAC,8CAAD,CAAX;AAC5By+H,gBAAU,GAAG,KAAKE,qBAAL,EAA2B,MAAM,KAAKD,gBAAL,CAAsBrqH,QAAtB,CAAjC,EAAb;AACA;;AAED,UAAMuqH,KAAK,GAAG,KAAKC,cAAL,CAAoBJ,UAApB,CAAd;AAEA,UAAM/hH,KAAK,GAAG,MAAMkiH,KAAK,CAACE,QAAN,CAAezqH,QAAf,CAApB;AAEA,QAAI,OAAOqI,KAAP,KAAiB,SAArB,EAAgC,MAAM,IAAI1c,KAAJ,CAAU,gDAAV,CAAN;AAEhC,WAAO;AAAEy+H,gBAAF;AAAc/hH;AAAd,KAAP;AACA;;AAED,SAAOiiH,qBAAP,CAA6BI,SAA7B,EAAsE;AACrE,UAAMv9G,KAAK,GAAG,KAAKw9G,cAAL,IAAuB,KAAKA,cAAL,CAAoBnmG,IAApB,CAAyB,IAAzB,CAArC;;AACA,QAAI,CAACrX,KAAL,EAAY;AACX,YAAM,IAAIxhB,KAAJ,CAAU,2BAAV,CAAN;AACA;;AAED,QAAI,CAAC++H,SAAD,IAAc,KAAK3sH,OAAnB,IAA8B,CAAC,KAAKA,OAAL,CAAaguE,UAAb,CAAwB,GAAxB,CAAnC,EAAiE;AAChE,YAAM,IAAIpgF,KAAJ,CAAU,oBAAV,CAAN;AACA;;AAED,UAAMm1B,KAAK,GAAG4pG,SAAS,CAAC33H,KAAV,CAAgB,KAAhB,CAAd;;AAEA,QAAI,KAAK63H,kBAAL,IAA2BF,SAA3B,IAAwC5pG,KAAK,CAAC7xB,MAAN,GAAe,CAA3D,EAA8D;AAC7D,aAAO47H,QAAA,CAAe,KAAf,EAAsB/pG,KAAK,CAAClxB,GAAN,CAAU2X,CAAC,IAAIsjH,mBAAA,CAAoB,KAAK19H,IAAzB,EAA+BggB,KAAK,CAAC5F,CAAD,CAApC,CAAf,CAAtB,CAAP;AACA,KAFD,MAEO;AACN,aAAO4F,KAAK,CAACu9G,SAAD,CAAZ;AACA;AACD;;AAED,SAAOF,cAAP,CAAsB/sD,IAAtB,EAAmDqtD,cAAuB,GAAG,KAA7E,EAA0F;AACzF,QAAIP,KAAJ;AAEA,UAAMH,UAAU,GAAGS,mBAAA,CAAoBptD,IAAI,IAAIA,IAAI,CAACtwE,IAAb,IAAqB,KAAKA,IAA9C,EAAoDswE,IAApD,CAAnB;AACA,UAAMtwE,IAAI,GAAGi9H,UAAU,CAACj9H,IAAxB;;AAEA,QAAI;AACH,YAAM49H,SAAS,GAAGF,SAAA,CAAU19H,IAAV,CAAlB;AACA,UAAI49H,SAAS,CAAC5zH,QAAd,EAAwB,MAAM,IAAIxL,KAAJ,CAAW,GAAEo/H,SAAS,CAAC59H,IAAK,cAA5B,CAAN;AACxBo9H,WAAK,GAAG,IAAIQ,SAAJ,CAAcX,UAAd,CAAR;AACA,KAJD,CAIE,OAAO5yH,CAAP,EAAU;AACX,UAAIszH,cAAJ,EAAoB,MAAMtzH,CAAN;AACpBkT,aAAO,CAACjZ,KAAR,CAAe,yBAAwB+F,CAAC,CAACoT,OAAQ,aAAjD,EAA+DpT,CAA/D;AACA+yH,WAAK,GAAG,IAAIM,WAAJ,CAAgBT,UAAhB,CAAR;AACA;;AAED,WAAOG,KAAP;AACA;;AAED,SAAOS,UAAP,CAAkBp9H,GAAlB,EAA+B;AAAEq9H,aAAS,GAAG;AAAd,MAAkD,EAAjF,EAAqF;AACpF,QAAI,CAACr9H,GAAL,EAAU,MAAM,IAAIjC,KAAJ,CAAU,yBAAV,CAAN;;AACV,QAAIugB,sBAAM,CAAC4gE,UAAP,CAAkBt0E,IAAlB,CAAuB5K,GAAvB,CAAJ,EAAiC;AAChC,YAAM,GAAGw+E,GAAH,EAAQunB,KAAR,IAAkBznF,sBAAM,CAAC4gE,UAAP,CAAkB50E,IAAlB,CAAuBtK,GAAvB,CAAxB;AACA,aAAO,IAAI0H,MAAJ,CAAW82E,GAAX,EAAgBunB,KAAhB,CAAP;AACA,KAHD,MAGO;AACN,YAAMu3B,IAAI,GAAG,uBAAet9H,GAAf,CAAb;;AACA,aAAO,IAAI0H,MAAJ,CAAW21H,SAAS,GAAI,IAAGC,IAAK,GAAZ,GAAiBA,IAArC,EAA2C,GAA3C,CAAP;AACA;AACD;;AAMD,aAAW/zH,QAAX,GAA+B;AAC9B,WAAO,KAAP;AACA;;AAKD,SAAO69G,QAAP,CAAgBoV,UAAhB,EAA0C;AACzC,UAAMG,KAAK,GAAGN,SAAI,CAACO,cAAL,CAAoBJ,UAApB,EAAgC,IAAhC,CAAd;AACA,QAAI,CAACG,KAAK,CAACrvF,OAAN,EAAL,EAAsB,MAAM,IAAIvvC,KAAJ,CAAU,oBAAV,CAAN;AACtB,WAAO,IAAP;AACA;;AASD,SAAOw/H,eAAP,GAAyB;AAAE,QAAI,KAAKC,aAAT,EAAwB,OAAO,KAAKA,aAAZ;AAA2B,UAAM,IAAIz/H,KAAJ,CAAU,kBAAV,CAAN;AAAsC;;AAKpHqD,aAAW,CAACo7H,UAAD,EAAgB;AAAA,SAH1BiB,QAG0B;AAAA,SAF1BC,SAE0B;AAAA,SAQ3BlB,UAR2B;AAAA,SAS3Bz3H,KAT2B;AAAA,SAc3B44H,SAd2B,GAc4B,IAAIxmD,GAAJ,EAd5B;AAC1B,SAAKqlD,UAAL,GAAkB,KAAKz3H,KAAL,GAAay3H,UAA/B;AACA;;AAEDlvF,SAAO,GAAY;AAAE,WAAO,IAAP;AAAc;;AACnCswF,eAAa,GAAG;AAAE,WAAO,EAAE,gBAAgBX,WAAhB,IAA+B,KAAK77H,WAAL,CAAiBmI,QAAlD,CAAP;AAAqE;;AAEvFs0H,SAAO,CAACt+H,IAAD,EAAwB;AAAE,WAAO,KAAK6B,WAAL,CAAiB7B,IAAjB,KAA0BA,IAAjC;AAAwC;;AAGzEs9H,UAAQ,CAAC/uC,KAAD,EAAgB5rE,MAAhB,EAAwE;AAC/E,UAAM,IAAInkB,KAAJ,CAAU,wDAAV,CAAN;AACA;;AAGD+/H,WAAS,GAAa,CAAE;;AACxB3nD,SAAO,CAACP,QAAD,EAAwB;AAC9B,QAAI,CAAC,KAAK+nD,SAAL,CAAermH,GAAf,CAAmBs+D,QAAnB,CAAD,IAAiC,KAAKkoD,SAAL,EAArC,EAAuD;AACtD,WAAKH,SAAL,CAAe/lH,GAAf,CAAmBg+D,QAAnB;AACA,aAAO,IAAP;AACA;AACD;;AAEDgsB,SAAO,CAAC9T,KAAD,EAAgB;AACtB,SAAK,MAAMxjD,CAAX,IAAgB,KAAKqzF,SAArB,EAAgCrzF,CAAC,CAACs3D,OAAF,CAAU9T,KAAV;AAChC;;AAjIgB;AAALuuC,S,CACL98H,I;AADK88H,S,CAELl8H,I;AAFKk8H,S,CAIJI,gB;AAJIJ,S,CAKJU,c;AALIV,S,CA2EJtU,iB;AA3EIsU,S,CA4ELvgC,M;AA5EKugC,S,CA6ELlkG,I,GAAe,C;AA7EVkkG,S,CA8EJ0B,S;AA9EI1B,S,CAoFLxoH,Q;AApFKwoH,S,CA6FLvmH,M,GAAkB,K;AA7FbumH,S,CA8FL2B,O,GAA6C,O;AA9FxC3B,S,CA+FLlsH,O,GAAkB,E;AA/FbksH,S,CAgGLW,kB,GAAqB,K;AAhGhBX,S,CAkGLmB,a;AAkCD,MAAMS,gBAAN,SAA0B5B,SAA1B,CAA+B;AACrC,SAAOU,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAEuvH,UAAI,EAAEvvH;AAAR,KAAP;AAAyB;;AAI3D,SAAOgwH,SAAP,CAAiB77G,MAAjB,EAA4B;AAG3B,UAAMg8G,QAAQ,GAAG,EAAjB;;AAEA,SAAK,MAAMvkH,CAAX,IAAgBuI,MAAhB,EAAwB;AACvB,UAAI87G,OAAJ;;AACAG,iBAAW,EACX,KAAK,MAAMC,eAAX,IAA8BF,QAA9B,EAAwC;AACvC,aAAK,MAAM7yH,GAAX,IAAkBjN,MAAM,CAAC+M,IAAP,CAAYwO,CAAZ,CAAlB,EAAkC;AACjC,cAAItO,GAAG,KAAK,MAAZ,EAAoB;AACpB,cAAI+yH,eAAe,CAAC/yH,GAAD,CAAf,KAAyBsO,CAAC,CAACtO,GAAD,CAA9B,EAAqC,SAAS8yH,WAAT;AACrC;;AACDH,eAAO,GAAGI,eAAV;AACA;AACA;;AAED,UAAI,CAACJ,OAAL,EAAc;AACbA,eAAO,GAAG,EAAE,GAAGrkH,CAAL;AAAQ2jH,cAAI,EAAE;AAAd,SAAV;AACAY,gBAAQ,CAAC1/H,IAAT,CAAcw/H,OAAd;AACA;;AAEDA,aAAO,CAACV,IAAR,CAAa9+H,IAAb,CAAkBmb,CAAC,CAAC2jH,IAApB;AACA;;AAED,WAAOY,QAAP;AACA;;AAEDlnE,OAAK,CAACqnE,gBAAD,EAA4BC,WAA5B,EAAiE;AACrE,UAAM;AAAEhB,UAAF;AAAQD,eAAS,GAAGgB;AAApB,QAAyC,KAAK7B,UAApD;AACA,UAAM3+G,GAAG,GAAGxa,KAAK,CAACC,OAAN,CAAcg6H,IAAd,IAAsBA,IAAtB,GAA6B,CAACA,IAAD,CAAzC;AACA,UAAMiB,KAAK,GAAG,IAAIpnD,GAAJ,EAAd;AACA,UAAM+mD,QAAQ,GAAG,EAAjB;;AAEA,SAAK,IAAIM,KAAT,IAAkB3gH,GAAlB,EAAuB;AACtB,UAAI,CAAC2gH,KAAL,EAAY;AACX,YAAI,OAAOF,WAAP,KAAuB,QAA3B,EAAqCE,KAAK,GAAGF,WAAR,CAArC,KACK,IAAIzgH,GAAG,CAACxc,MAAJ,KAAe,CAAnB,EAAsB,MAAM,IAAItD,KAAJ,CAAU,yBAAV,CAAN,CAAtB,KACA;AACL;;AAED,UAAIugB,sBAAM,CAAC4gE,UAAP,CAAkBt0E,IAAlB,CAAuB4zH,KAAvB,CAAJ,EAAmC;AAClC,cAAM,GAAGhgD,GAAH,EAAQunB,KAAK,GAAG,EAAhB,IAAuBznF,sBAAM,CAAC4gE,UAAP,CAAkB50E,IAAlB,CAAuBk0H,KAAvB,CAA7B;AACA,YAAI,CAACN,QAAQ,CAACn4B,KAAD,CAAb,EAAsBm4B,QAAQ,CAACn4B,KAAD,CAAR,GAAkB,EAAlB;AACtBm4B,gBAAQ,CAACn4B,KAAD,CAAR,CAAgBvnG,IAAhB,CAAqBggF,GAArB;AACA,OAJD,MAIO;AACN+/C,aAAK,CAAC3mH,GAAN,CAAU,uBAAe4mH,KAAf,CAAV;AACA;AACD;;AAED,QAAID,KAAK,CAAC5sF,IAAV,EAAgB;AACf,YAAM6sC,GAAG,GAAGn7E,KAAK,CAACwsE,IAAN,CAAW0uD,KAAX,EAAkBzzH,IAAlB,CAAuB,GAAvB,CAAZ;AACA,UAAI,CAACozH,QAAQ,CAACn+H,CAAd,EAAiBm+H,QAAQ,CAACn+H,CAAT,GAAa,EAAb;AACjBm+H,cAAQ,CAACn+H,CAAT,CAAWvB,IAAX,CAAgB6+H,SAAS,GAAI,KAAI7+C,GAAI,IAAZ,GAAkBA,GAA3C;AACA;;AAED,WAAOpgF,MAAM,CAAC0uE,OAAP,CAAeoxD,QAAf,EAAyBl8H,GAAzB,CAAgC,CAAC,CAAC+jG,KAAD,EAAQ74B,OAAR,CAAD,KAAsB,IAAIxlE,MAAJ,CAAWwlE,OAAO,CAACpiE,IAAR,CAAa,GAAb,CAAX,EAA8Bi7F,KAA9B,CAAtD,CAAP;AACA;;AA9DoC;AAAzBk4B,gB,CAELlW,iB,GAAoB;AAAEuV,MAAI,EAAE;AAAR,C;AAFfW,gB,CAGL9tH,O,GAAU,O;;AC5IlB;AACA;AAEO,MAAMsuH,yBAAN,SAA2BpC,SAA3B,CAAgC;AAAA;AAAA;AAAA,SAWtCoB,QAXsC,GAW1B,iBAAgBziC,cAAc,CAAC,KAAKwhC,UAAL,CAAgB1hC,EAAjB,CAAqB,IAAG,KAAK0hC,UAAL,CAAgBx8H,GAAI,EAXhD;AAAA,SAYtC09H,SAZsC,GAYzB,iBAAgB1iC,cAAc,CAACD,eAAe,CAAC,KAAKyhC,UAAL,CAAgB1hC,EAAjB,CAAhB,CAAsC,IAAG,KAAK0hC,UAAL,CAAgBx8H,GAAI,EAZlE;AAAA;;AAGtC,SAAO+8H,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAE+sF,QAAE,EAAE,IAAN;AAAY96F,SAAG,EAAEy5B,QAAQ,CAAC1rB,KAAD,EAAQ,EAAR;AAAzB,KAAP;AAAgD;;AAClF,SAAO0uH,gBAAP,CAAwB3uC,KAAxB,EAAkC;AAAE,WAAOjlF,MAAM,CAACilF,KAAK,CAACkE,eAAN,MAA2B,CAA5B,CAAb;AAA8C;;AAUlF1kD,SAAO,GAAG;AAAE,WAAO7B,MAAM,CAACizF,SAAP,CAAiB,KAAK35H,KAAL,CAAW/E,GAA5B,CAAP;AAA0C;;AAEtD68H,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAM6wC,YAAY,GAAG7wC,KAAK,CAACkE,eAAN,EAArB;AACA,QAAIjrD,KAAK,CAAC43F,YAAD,CAAT,EAAyB,OAAO,IAAP;AACzB,WAAO9jC,gBAAgB,CAAC,KAAK91F,KAAL,CAAW+1F,EAAZ,EAAgB6jC,YAAhB,EAA8B,KAAK55H,KAAL,CAAW/E,GAAzC,CAAvB;AACA;;AApBqC;AAA1By+H,yB,CACLt+H,I,GAAO,e;AADFs+H,yB,CAML1W,iB,GAAoB;AAAEjtB,IAAE,EAAE,GAAN;AAAW96F,KAAG,EAAE;AAAhB,C;AANfy+H,yB,CAOL3iC,M,GAAS,CAAC,WAAD,EAAc;AAAEv8F,MAAI,EAAE,QAAR;AAAkBsD,SAAO,EAAE,YAA3B;AAAyC2H,IAAE,EAAE;AAA7C,CAAd,EAAmE,GAAnE,EAAwE;AAAEjL,MAAI,EAAE,QAAR;AAAkBiL,IAAE,EAAE;AAAtB,CAAxE,EAAuG,WAAvG,C;AAPJi0H,yB,CASLtuH,O,GAAU,S;;;ACZlB;AAEA;AACA;AAqBA;AACA;AAEO,MAAMxS,sBAAiB,GAAG,IAAIirH,MAAJ,CAAW,iBAAX,CAA1B;AAEPjrH,sBAAM,CAACkrH,UAAP,GAAoB,qBAApB;AACAlrH,sBAAM,CAACmrH,QAAP,GAAkB,qBAAlB;AACAnrH,sBAAM,CAAC4jG,WAAP,GAAqB,qBAArB;AACA5jG,sBAAM,CAACkF,OAAP,GAAiB;AAChB+7H,mBAAiB,EAAE;AAClBr/H,QAAI,EAAE,SADY;AAElBwF,SAAK,EAAE,IAFW;AAGlBw8F,eAAW,EAAE,sCAHK;AAIlBtQ,SAAK,EAAE;AAJW,GADH;AAOhB4tC,eAAa,EAAE;AACdt/H,QAAI,EAAE,MADQ;AAEdwF,SAAK,EAAE,IAFO;AAGdw8F,eAAW,EAAE,kCAHC;AAIdtQ,SAAK,EAAE,mCAJO;AAKd2mC,YAAQ,EAAE;AALI,GAPC;AAchBkH,oBAAkB,EAAE;AACnBv/H,QAAI,EAAE,MADa;AAEnBwF,SAAK,EAAE,GAFY;AAGnBw8F,eAAW,EAAE,uCAHM;AAInBtQ,SAAK,EAAE;AAJY,GAdJ;AAoBhB8tC,qBAAmB,EAAE;AACpBx/H,QAAI,EAAE,SADc;AAEpBwF,SAAK,EAAE,IAFa;AAGpBw8F,eAAW,EAAE,wCAHO;AAIpBtQ,SAAK,EAAE;AAJa,GApBL;AA0BhB+tC,mBAAiB,EAAE;AAClBC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACk8H,mBAAR,CAA4Bh6H,KADhC;AAElBxF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,KAHW;AAIlBw8F,eAAW,EAAE,sCAJK;AAKlBtQ,SAAK,EAAE,uCALW;AAMlB2mC,YAAQ,EAAE;AANQ,GA1BH;AAkChBsH,qBAAmB,EAAE;AACpB3/H,QAAI,EAAE,SADc;AAEpBwF,SAAK,EAAE,IAFa;AAGpBw8F,eAAW,EAAE,wCAHO;AAIpBtQ,SAAK,EAAE,yCAJa;AAKpB2mC,YAAQ,EAAE;AALU,GAlCL;AAyChBuH,8BAA4B,EAAE;AAC7BF,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACq8H,mBAAR,CAA4Bn6H,KADrB;AAE7BxF,QAAI,EAAE,SAFuB;AAG7BwF,SAAK,EAAE,KAHsB;AAI7Bw8F,eAAW,EAAE,iDAJgB;AAK7BtQ,SAAK,EAAE,kDALsB;AAM7B2mC,YAAQ,EAAE;AANmB;AAzCd,CAAjB;AAmDA,MAAMt7B,4BAAY,GAAGK,uBAAO,CAAClR,UAAR,CAAmB,kBAAnB,EAAuC,MAGtD;AACL,QAAM,IAAI1tF,KAAJ,CAAU,yCAAV,CAAN;AACA,CALoB,EAKlBwF,SALkB,EAKP,IALO,CAArB;AAOA,MAAM67H,mBAAmB,GAAGziC,uBAAO,CAAC7Q,QAAR,CAAiB,0CAAjB,EAA6D,MAOnF;AAAE,QAAM,IAAI/tF,KAAJ,CAAU,wBAAV,CAAN;AAA4C,CAPxB,CAA5B;AASA,IAAIshI,kBAAJ;;AAEA1hI,sBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI5uC,UAAU,CAAC,UAAD,CAAV,IAA0Bn9E,sBAAM,CAACkF,OAAP,CAAek8H,mBAAf,CAAmCh6H,KAAjE,EAAwE;AACvEs6H,sBAAkB,GAAG/gH,sBAAM,CAAC+N,IAAK,sEAAjC;AACAizG,6BAAyB;AACzB;;AAGDvhC,gBAAc,CAAC,CAAC,MAAD,CAAD,EAAWwhC,WAAX,EAAwB;AAAE5wC,aAAS,EAAE;AAAb,GAAxB,CAAd;AAEAoP,gBAAc,CAAC,CAAC,MAAD,CAAD,EAAWyhC,sBAAX,CAAd;AACA,CAVD;;AAYA7hI,sBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIy+C,kBAAJ,EAAwB;AACvBl4F,oBAAC,CAAC,+BAAD,CAAD,CAAmCpa,MAAnC,CAA0CsyG,kBAA1C;AACA;;AAEDjqC,iBAAe,CAAC,qBAAD,EAAwB,kBAAxB,EAA4Cz3F,sBAAM,CAAC2nH,QAAnD,EAA6Dma,yBAA7D,CAAf;AAEApjC,sBAAoB,CAAC,iBAAD,EAAoBC,4BAApB,EAAkC7iE,QAAQ,CAAC97B,sBAAM,CAACkF,OAAP,CAAeg8H,aAAf,CAA6B95H,KAA9B,EAAqC,EAArC,CAA1C,CAApB;AACA,CARD;;AAUA,IAAI26H,YAAJ;AACA,IAAIC,mBAAJ;;AAEAhiI,sBAAM,CAACgsH,SAAP,GAAmB,MAAM;AAExB,MAAI,CAAC9rH,QAAQ,CAAC42B,MAAd,EAAsB;AACrBmrG,sBAAkB;AAClB;;AAED,MAAI9kD,UAAU,CAAC,UAAD,CAAd,EAA4B;AAC3B4kD,gBAAY,GAAGryC,WAAK,CAACxd,IAAN,CAAWhyE,QAAQ,CAAC24E,aAAT,CAAuB,uBAAvB,CAAX,CAAf;;AACA,QAAIkpD,YAAJ,EAAkB;AACjBC,yBAAmB,GAAGD,YAAY,CAAC1tC,eAAb,EAAtB;;AACA,UAAI,OAAO2tC,mBAAP,KAA+B,QAAnC,EAA6C;AAE5CE,gBAAQ,CAACC,KAAK,CAACJ,YAAD,CAAN,EAAsBC,mBAAtB,CAAR;AAGA5hC,sBAAc,CAAC,CAAC,SAAD,CAAD,EAAcgiC,sCAAd,CAAd;AACA;AACD;AACD;AACD,CAnBD;;AAqBA,MAAMD,KAAK,GAAGhyC,KAAK,IAAIA,KAAK,CAACoF,WAAN,GAAoB/tF,KAApB,CAA0B,GAA1B,EAA+B7G,KAA/B,CAAqC,CAAC,CAAtC,EAAyC,CAAzC,CAAvB;;AAEO,MAAM0hI,QAAQ,GAAIlyC,KAAD,IAAkBwO,4BAAY,CAAChlF,GAAb,CAAiBwoH,KAAK,CAAChyC,KAAD,CAAtB,CAAnC;;AAEP,SAAS+xC,QAAT,CAAkBr1H,EAAlB,EAA8By1H,eAA9B,EAAuD;AACtD,MAAI,CAACtiI,sBAAM,CAACkF,OAAP,CAAeq8H,mBAAf,CAAmCn6H,KAAxC,EAA+C,OAAO,KAAP;AAC/C,MAAI,CAACpH,sBAAM,CAACkF,OAAP,CAAes8H,4BAAf,CAA4Cp6H,KAA7C,IAAsD+8E,iBAAiB,EAA3E,EAA+E,OAAO,KAAP;AAE/Ewa,8BAAY,CAACz9E,GAAb,CAAiBrU,EAAjB,EAAqB;AACpB2V,SAAK,EAAE8/G,eADa;AAEpBxjC,cAAU,EAAEp2F,IAAI,CAACyiB,GAAL;AAFQ,GAArB;AAIA;;AAEM,MAAMy2G,WAAW,GAAG,kBAAU,MAAOzxC,KAAP,IAA0C;AAC9E,QAAMoyC,YAAY,GAAGpyC,KAAK,CAACkE,eAAN,EAArB;AACA,MAAI,OAAOkuC,YAAP,KAAwB,QAA5B,EAAsC;AAEtC,QAAM;AAAE//G,SAAK,EAAEggH;AAAT,MAA6B,OAAM7jC,4BAAY,CAACjR,WAAb,CAAyBy0C,KAAK,CAAChyC,KAAD,CAA9B,CAAN,KAAgD,EAAnF;AACA,MAAI,OAAOqyC,eAAP,KAA2B,QAA/B,EAAyC;AAEzC,SAAO18H,IAAI,CAAC0tB,GAAL,CAAS+uG,YAAY,GAAGC,eAAxB,EAAyC,CAAzC,CAAP;AACA,CAR0B,CAApB;;AAUP,eAAeX,sBAAf,CAAsC1xC,KAAtC,EAA6C;AAC5C,QAAMsyC,QAAQ,GAAG,MAAMb,WAAW,CAACzxC,KAAD,CAAlC;AACA,MAAI,OAAOsyC,QAAP,KAAoB,QAAxB,EAAkC;AAClC,MAAI,CAACA,QAAD,IAAaziI,sBAAM,CAACkF,OAAP,CAAe+7H,iBAAf,CAAiC75H,KAAlD,EAAyD;AAEzD,MAAIq7H,QAAJ,EAActyC,KAAK,CAACj7C,OAAN,CAAcwrC,SAAd,CAAwBzmE,GAAxB,CAA4B,oBAA5B;AAEduvB,kBAAC,CAAC2mD,KAAK,CAACmE,sBAAN,EAAD,CAAD,CACEllE,MADF,CACU,oCAAmCqzG,QAAS,cADtD;AAEA;;AAED,SAASL,sCAAT,CAAgDjyC,KAAhD,EAAuD;AACtD,QAAMuyC,SAAS,GAAGvyC,KAAK,CAACgF,YAAN,EAAlB;AACA,QAAMwtC,QAAQ,GAAGD,SAAS,IAAKh6H,IAAI,CAACyiB,GAAL,KAAau3G,SAAS,CAAClyF,OAAV,EAAd,GAAqC,KAAnE;AACA,QAAMoyF,MAAM,GAAG/gD,YAAY,OAAOsO,KAAK,CAACwD,SAAN,EAAlC;;AACA,MAAIgvC,QAAQ,IAAIC,MAAZ,IAAsBb,YAAtB,IAAsC,OAAOC,mBAAP,KAA+B,QAAzE,EAAmF;AAClFE,YAAQ,CAACC,KAAK,CAACJ,YAAD,CAAN,EAAsB,EAAEC,mBAAxB,CAAR;AACA;AACD;;AAED,MAAML,yBAAyB,GAAGp4C,KAAK,CAAC,YAAY;AACnD,QAAM18E,EAAE,GAAG,CAAC8xE,WAAW,CAACnB,QAAZ,CAAqBrpE,QAAQ,CAACkrE,QAA9B,KAA2C,EAA5C,EAAgD,CAAhD,CAAX;AACA,QAAMz1D,MAAM,GAAG83G,kBAAf;AACA,MAAI,CAAC70H,EAAD,IAAO,CAAC+c,MAAZ,EAAoB;AAEpB,QAAMi5G,aAAa,GAAG,MAAMpB,mBAAmB,CAAC/7G,MAApB,EAA5B;;AAEA,MAAIm9G,aAAa,CAAC3hI,cAAd,CAA6B2L,EAA7B,CAAJ,EAAsC;AAErC28B,oBAAC,CAAC5f,MAAD,CAAD,CACE8E,IADF,CACO,oDADP,EAEEpd,IAFF,CAEO,OAFP,EAEgB,8BAFhB,EAGE4qB,QAHF,CAGW,aAHX;AAIAy7C,gBAAY,CAAC/tD,MAAD,EAAS,OAAT,CAAZ,CAA8BlN,IAA9B,CAAmC,YAAY;AAC9C,YAAMomH,WAAW,CAACj2H,EAAD,CAAjB;AACA2xH,oCAAA,CAA+B;AAC9BhC,sBAAc,EAAE,4BADc;AAE9B7U,gBAAQ,EAAE,iBAFoB;AAG9BtoG,eAAO,EAAE;AAHqB,OAA/B,EAIG,IAJH;AAKA,KAPD,EAOG3C,IAPH,CAOQilH,yBAPR;AAQA,GAdD,MAcO;AAENn4F,oBAAC,CAAC5f,MAAD,CAAD,CACE8E,IADF,CACO,kDADP,EAEEpd,IAFF,CAEO,OAFP,EAEgB,2BAFhB,EAGEirB,WAHF,CAGc,aAHd;AAIAo7C,gBAAY,CAAC/tD,MAAD,EAAS,OAAT,CAAZ,CAA8BlN,IAA9B,CAAmC,YAAY;AAC9C,YAAMqmH,yBAAS,CAACl2H,EAAD,EAAKm1H,mBAAmB,IAAI,CAA5B,EAA+BD,YAAY,IAAIA,YAAY,CAAC1sC,oBAAb,EAAhB,IAAuD,CAAtF,CAAf;AACAmpC,oCAAA,CAA+B;AAC9BhC,sBAAc,EAAE,0BADc;AAE9B7U,gBAAQ,EAAE,iBAFoB;AAG9BsK,iBAAS,EAAE,oBAHmB;AAI9B5yG,eAAO,EAAG;;kDAEoCrf,sBAAM,CAACkF,OAAP,CAAei8H,kBAAf,CAAkC/5H,KAAM;;;;;AANxD,OAA/B,EAWG,IAXH;AAYA,KAdD,EAcGsV,IAdH,CAcQilH,yBAdR;AAeA;AACD,CA3CsC,CAAvC;;AA6CA,SAASoB,yBAAT,CAAmBl2H,EAAnB,EAAuBy1H,eAAvB,EAAwCU,aAAxC,EAAuD;AACtD,QAAM73G,GAAG,GAAGziB,IAAI,CAACyiB,GAAL,EAAZ;AACA,SAAOs2G,mBAAmB,CAACvgH,GAApB,CAAwBrU,EAAxB,EAA4B;AAClC2V,SAAK,EAAE8/G,eAD2B;AAElCW,oBAAgB,EAAE93G,GAFgB;AAGlC2zE,cAAU,EAAE3zE,GAHsB;AAIlC+3G,cAAU,EAAEF,aAJsB;AAKlCvhG,OAAG,EAAEttB,QAAQ,CAACG,IAAT,CAActO,OAAd,CAAsBmO,QAAQ,CAACD,IAA/B,EAAqC,EAArC,CAL6B;AAMlCo/E,SAAK,EAAEpzF,QAAQ,CAACozF;AANkB,GAA5B,CAAP;AAQA;;AAED,SAASwvC,WAAT,CAAqBj2H,EAArB,EAAyB;AACxB,SAAO40H,mBAAmB,CAACn4C,MAApB,CAA2Bz8E,EAA3B,CAAP;AACA;;AAED,eAAeo1H,kBAAf,GAAoC;AACnC,QAAM92G,GAAG,GAAGziB,IAAI,CAACyiB,GAAL,EAAZ;;AAEA,OAAK,MAAM,CAACte,EAAD,EAAKs2H,YAAL,CAAX,IAAiC1iI,MAAM,CAAC0uE,OAAP,EAAe,MAAMsyD,mBAAmB,CAAC/7G,MAApB,EAArB,EAAjC,EAAqF;AACpF,UAAM;AAAEu9G,sBAAF;AAAoBnkC;AAApB,QAAmCqkC,YAAzC;;AAEA,QAAKh4G,GAAG,GAAG83G,gBAAP,GAA4B/rD,GAAG,GAAGp7C,QAAQ,CAAC97B,sBAAM,CAACkF,OAAP,CAAei8H,kBAAf,CAAkC/5H,KAAnC,EAA0C,EAA1C,CAA9C,EAA8F;AAC7F07H,iBAAW,CAACj2H,EAAD,CAAX;AACA,KAFD,MAEO,IAAKse,GAAG,GAAG2zE,UAAP,GAAsB,IAAI9nB,MAA9B,EAAuC;AAC7CyqD,yBAAmB,CAACtoE,KAApB,CAA0BtsD,EAA1B,EAA8B;AAAEiyF,kBAAU,EAAE3zE;AAAd,OAA9B;AACAi4G,iBAAW,CAACv2H,EAAD,EAAKs2H,YAAL,CAAX;AACA;AACD;AACD;;AAED,eAAeC,WAAf,CAA2Bv2H,EAA3B,EAA+Bs2H,YAA/B,EAA6C;AAC5C,QAAM;AAAEE,gBAAY,EAAEZ,QAAhB;AAA0Ba,UAAM,EAAEN;AAAlC,MAAoD,MAAMhsC,eAAe,CAAC;AAAEnqF;AAAF,GAAD,CAA/E;AACA,QAAM;AAAE2V,SAAF;AAAS0gH,cAAT;AAAqBzhG,OAArB;AAA0B6xD;AAA1B,MAAoC6vC,YAA1C;;AAEA,MAAIV,QAAQ,GAAGjgH,KAAf,EAAsB;AACrBi/G,uBAAmB,CAACtoE,KAApB,CAA0BtsD,EAA1B,EAA8B;AAAE2V,WAAK,EAAEigH;AAAT,KAA9B;AAEA,UAAM3F,YAAY,GAAG0B,8BAAA,CAA+B;AACnD/B,YAAM,EAAE,cAD2C;AAEnDD,oBAAc,EAAE,iBAFmC;AAGnD7U,cAAQ,EAAE,iBAHyC;AAInDgV,eAAS,EAAE,IAJwC;AAKnDt9G,aAAO,EAAG,eAAcoiB,GAAI,KAAIm/C,UAAU,CAAC0S,KAAD,CAAQ;AALC,KAA/B,EAMlB,KANkB,CAArB;AASA9pD,oBAAC,CAACszF,YAAY,CAAC5nF,OAAd,CAAD,CAAwBnlC,IAAxB,CAA6B,yBAA7B,EACEqf,MADF,CACSm0G,YAAY,CAAC12H,EAAD,EAAK,aAAL,EAAoBiwH,YAAY,CAACz4B,KAAjC,CADrB;AAEA;;AACD,MAAIrkG,sBAAM,CAACkF,OAAP,CAAem8H,iBAAf,CAAiCj6H,KAAjC,IAA0C47H,aAAa,GAAGE,UAA9D,EAA0E;AACzEzB,uBAAmB,CAACtoE,KAApB,CAA0BtsD,EAA1B,EAA8B;AAAEq2H,gBAAU,EAAEF;AAAd,KAA9B;AAEA,UAAMlG,YAAY,GAAG0B,8BAAA,CAA+B;AACnD/B,YAAM,EAAE,aAD2C;AAEnDD,oBAAc,EAAE,iBAFmC;AAGnD7U,cAAQ,EAAE,iBAHyC;AAInDsK,eAAS,EAAE,mBAJwC;AAKnD0K,eAAS,EAAE,IALwC;AAMnDt9G,aAAO,EAAG,eAAcoiB,GAAI,KAAIm/C,UAAU,CAAC0S,KAAD,CAAQ;AANC,KAA/B,EAOlB,KAPkB,CAArB;AAUA9pD,oBAAC,CAACszF,YAAY,CAAC5nF,OAAd,CAAD,CAAwBnlC,IAAxB,CAA6B,yBAA7B,EACEqf,MADF,CACSm0G,YAAY,CAAC12H,EAAD,EAAK,aAAL,EAAoBiwH,YAAY,CAACz4B,KAAjC,CADrB;AAEA;AACD;;AAED,SAASk/B,YAAT,CAAsB12H,EAAtB,EAA0BjL,IAA1B,EAAgC2pF,OAAhC,EAAyC;AACxC,QAAMi4C,OAAO,GAAGh6F,gBAAC,CAAC,sCAAD,CAAjB;AACA,MAAIg+B,MAAJ;;AAEA,UAAQ5lE,IAAR;AACC,SAAK,aAAL;AACC4hI,aAAO,CACL90G,IADF,CACO,oDADP,EAEEpd,IAFF,CAEO,OAFP,EAEgB,8BAFhB,EAGE4qB,QAHF,CAGW,aAHX;;AAIAsrC,YAAM,GAAG,MAAMs7D,WAAW,CAACj2H,EAAD,CAA1B;;AACA;;AACD,SAAK,OAAL;AACC22H,aAAO,CACL90G,IADF,CACO,8CADP,EAEEpd,IAFF,CAEO,OAFP,EAEiB,aAAYtR,sBAAM,CAACkF,OAAP,CAAei8H,kBAAf,CAAkC/5H,KAAM,OAFrE;;AAGAogE,YAAM,GAAG,YAAY;AACpB,cAAMi6D,mBAAmB,CAACtoE,KAApB,CAA0BtsD,EAA1B,EAA8B;AAAEo2H,0BAAgB,EAAEv6H,IAAI,CAACyiB,GAAL;AAApB,SAA9B,CAAN;AAEAqzG,sCAAA,CAA+B;AAC9BhC,wBAAc,EAAE,sBADc;AAE9B7U,kBAAQ,EAAE,iBAFoB;AAG9BsK,mBAAS,EAAE,oBAHmB;AAI9B5yG,iBAAO,EAAG,4BAA2Brf,sBAAM,CAACkF,OAAP,CAAei8H,kBAAf,CAAkC/5H,KAAM;AAJ/C,SAA/B;AAMA,OATD;;AAUA;;AACD;AACC;AAxBF;;AA2BA,QAAMwiB,MAAM,GAAG45G,OAAO,CAAC5/H,GAAR,CAAY,CAAZ,CAAf;AACA+zE,cAAY,CAAC/tD,MAAD,EAAS,OAAT,CAAZ,CAA8BlN,IAA9B,CAAmC8qD,MAAnC,EAA2C9qD,IAA3C,CAAgD6uE,OAAhD;AACA,SAAO3hE,MAAP;AACA;;AAED,eAAek4G,yBAAf,CAAyChqC,OAAzC,EAAkD;AACjD,QAAM+qC,aAAa,GAAGpiI,MAAM,CAAC0uE,OAAP,EAAe,MAAMsyD,mBAAmB,CAAC/7G,MAApB,EAArB,EAAtB;AAEA,QAAMujF,IAAI,GAAG45B,aAAa,CAACx+H,GAAd,CAAkB,CAAC,CAACwI,EAAD,EAAK;AAAEo2H,oBAAF;AAAoBnkC,cAApB;AAAgCr9D,OAAhC;AAAqC6xD;AAArC,GAAL,CAAD,KAAwD;AACtF,UAAM,GAAGlV,SAAH,IAAgB38C,GAAG,IAAI,IAAIgmC,GAAJ,CAAQhmC,GAAR,EAAa49C,QAAb,CAAsB/yE,KAAtB,CAA4BgxE,OAAO,CAACc,SAApC,CAAP,IAAyD,EAA/E;AACA,QAAI,CAACA,SAAL,EAAgB;AAEhB,UAAMqlD,OAAO,GAAG,IAAI/6H,IAAJ,CAASo2F,UAAT,CAAhB;AACA,UAAM4kC,OAAO,GAAG,IAAIh7H,IAAJ,CAASu6H,gBAAgB,GAAI/rD,GAAG,GAAGp7C,QAAQ,CAAC97B,sBAAM,CAACkF,OAAP,CAAei8H,kBAAf,CAAkC/5H,KAAnC,EAA0C,EAA1C,CAA3C,CAAhB;AAEA,WAAOuZ,sBAAM,CAACghE,KAAM;2BACK90E,EAAG;oBACV40B,GAAI,KAAIm/C,UAAU,CAAC0S,KAAD,CAAQ;uBACvBlV,SAAU,QAAOA,SAAU;wBAC1B2e,cAAc,CAAC0mC,OAAD,CAAU,KAAIxmC,kBAAkB,CAACwmC,OAAD,CAAU;wBACxD1mC,cAAc,CAAC2mC,OAAD,CAAU,KAAIzmC,kBAAkB,CAACymC,OAAD,CAAU;;;IAL9E;AASA,GAhBY,CAAb;AAkBA,QAAM9rD,GAAG,GAAGj3D,sBAAM,CAAC+N,IAAK;qBACJm0G,aAAa,CAACx+H,GAAd,CAAkB,CAAC,CAACwI,EAAD,CAAD,KAAW,MAAKA,EAAG,EAArC,EAAwCM,IAAxC,CAA6C,GAA7C,CAAkD;;;;;;;;;;;;OAYhE87F,IAAI,CAACvlG,MAAL,GACLulG,IADK,GAELtoF,sBAAM,CAACghE,KAAM,uKACd;;;SAhBA;AAqBAn4C,kBAAC,CAACouC,GAAD,CAAD,CAAOxwD,EAAP,CAAU,OAAV,EAAmB,IAAnB,EAAyBu8G,qBAAK,CAAC37B,YAA/B;;AAEA,OAAK,MAAMH,GAAX,IAAkBjwB,GAAG,CAACvqE,gBAAJ,CAAqB,mBAArB,CAAlB,EAA6D;AAC5D,UAAMR,EAAE,GAAGg7F,GAAG,CAACplG,YAAJ,CAAiB,iBAAjB,CAAX;AACAolG,OAAG,CAAChvB,aAAJ,CAAkB,iBAAlB,EAAqCzpD,MAArC,CACCm0G,YAAY,CAAC12H,EAAD,EAAK,aAAL,EAAoB,MAAMi1H,yBAAyB,CAAChqC,OAAD,CAAnD,CADb,EAECyrC,YAAY,CAAC12H,EAAD,EAAK,OAAL,EAAc,MAAMi1H,yBAAyB,CAAChqC,OAAD,CAA7C,CAFb;AAIA;;AAEDn8E,OAAK,CAACm8E,OAAD,CAAL;AACAA,SAAO,CAAC1oE,MAAR,CAAewoD,GAAf;AACA,C;;AC1YD;AACA;AACA;AACA;AAEO,MAAMgsD,+BAAN,SAA8BlF,SAA9B,CAAmC;AAAA;AAAA;AAAA,SAgBzCoB,QAhByC,GAgB7B,gBAAeziC,cAAc,CAAC,KAAKwhC,UAAL,CAAgB1hC,EAAjB,CAAqB,IAAG,KAAK0hC,UAAL,CAAgBx8H,GAAI,EAhB5C;AAAA,SAiBzC09H,SAjByC,GAiB5B,gBAAe1iC,cAAc,CAACD,eAAe,CAAC,KAAKyhC,UAAL,CAAgB1hC,EAAjB,CAAhB,CAAsC,IAAG,KAAK0hC,UAAL,CAAgBx8H,GAAI,EAjB9D;AAAA;;AAGzC,SAAO+8H,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAE+sF,QAAE,EAAE,IAAN;AAAY96F,SAAG,EAAEy5B,QAAQ,CAAC1rB,KAAD,EAAQ,EAAR;AAAzB,KAAP;AAAgD;;AAClF,eAAa0uH,gBAAb,CAA8B3uC,KAA9B,EAAwC;AAAE,WAAOjlF,MAAM,CAAC,CAAC,OAAM24H,QAAA,CAAW1zC,KAAX,CAAN,IAA0B,MAAM0zC,WAAA,CAAc1zC,KAAd,CAAhC,GAAuDA,KAAK,CAACkE,eAAN,EAAxD,KAAoF,CAArF,CAAb;AAAuG;;AAMjJ,aAAWzoF,QAAX,GAA+B;AAC9B,WAAO,CAACumH,iBAAA,CAAkB0R,+BAAlB,CAAR;AACA;;AAODl0F,SAAO,GAAG;AAAE,WAAO7T,QAAQ,CAAC,KAAK10B,KAAL,CAAW/E,GAAZ,EAAiB,EAAjB,CAAR,IAAgC,CAAvC;AAA2C;;AAEvD,QAAM68H,QAAN,CAAe/uC,KAAf,EAAyB;AACxB,UAAMsyC,QAAQ,GAAG,MAAMoB,WAAA,CAAc1zC,KAAd,CAAvB;AACA,UAAM3tE,KAAK,GAAG,OAAOigH,QAAP,KAAoB,QAApB,GAA+BA,QAA/B,GAA0CtyC,KAAK,CAACkE,eAAN,EAAxD;AACA,WAAO6I,gBAAgB,CAAC,KAAK91F,KAAL,CAAW+1F,EAAZ,EAAgB36E,KAAhB,EAAuB,KAAKpb,KAAL,CAAW/E,GAAlC,CAAvB;AACA;;AAzBwC;AAA7BuhI,+B,CACLphI,I,GAAO,mB;AADFohI,+B,CAMLxZ,iB,GAAoB;AAAEjtB,IAAE,EAAE,GAAN;AAAW96F,KAAG,EAAE;AAAhB,C;AANfuhI,+B,CAOLzlC,M,GAAS,CAAC,MAAD,EAAS;AAAEv8F,MAAI,EAAE,QAAR;AAAkBsD,SAAO,EAAE,YAA3B;AAAyC2H,IAAE,EAAE;AAA7C,CAAT,EAA8D,GAA9D,EAAmE;AAAEjL,MAAI,EAAE,QAAR;AAAkBiL,IAAE,EAAE;AAAtB,CAAnE,EAAkG,eAAlG,C;AAPJ+2H,+B,CASLppG,I,GAAO,C;AATFopG,+B,CAcLpxH,O,GAAU,S;;ACnBlB;AACA;AACA;AAEO,MAAMsxH,6BAAN,SAA6BpF,SAA7B,CAAkC;AAAA;AAAA;AAAA,SAQxCoB,QARwC,GAQ7B,iBAR6B;AAAA;;AAUxC,QAAMZ,QAAN,CAAe/uC,KAAf,EAAyB;AACxB,QAAI,MAAMyzC,QAAA,CAAyBzzC,KAAzB,CAAV,EAA2C,OAAO,IAAP;AAE3C,UAAM7qB,IAAI,GAAG6qB,KAAK,CAAC2C,eAAN,EAAb;AACA,QAAI,CAACxtB,IAAL,EAAW,OAAO,IAAP;AACX,WAAOif,YAAY,CAACjf,IAAI,CAAChxD,IAAN,CAAnB;AACA;;AAhBuC;AAA5BwvH,6B,CACLthI,I,GAAO,iB;AADFshI,6B,CAGL3lC,M,GAAS,CAAC,gCAAD,C;AAHJ2lC,6B,CAILtpG,I,GAAO,C;AAJFspG,6B,CAML3rH,M,GAAS,I;;ACVjB;AAEO,MAAM4rH,aAAN,SAAqBzD,gBAArB,CAAiC;AAAA;AAAA;AAAA,SAOvCR,QAPuC,GAO3B,UAAS,KAAKjB,UAAL,CAAgBc,IAAK,EAPH;AAAA,SASvCv4H,KATuC,GAS/B,KAAKiyD,KAAL,CAAW,IAAX,CAT+B;AAAA;;AAGvC,SAAOylE,gBAAP,CAAwB3uC,KAAxB,EAAkC;AAAE,WAAOA,KAAK,CAAC8D,aAAN,EAAP;AAA+B;;AAQnEirC,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAM3R,MAAM,GAAG2R,KAAK,CAAC8D,aAAN,EAAf;AACA,QAAI,CAACzV,MAAL,EAAa,OAAO,IAAP;AACb,WAAO,KAAKp3E,KAAL,CAAW03E,IAAX,CAAgB9iE,CAAC,IAAIA,CAAC,CAAC/O,IAAF,CAAOuxE,MAAP,CAArB,CAAP;AACA;;AAfsC;AAA3BulD,a,CACLvhI,I,GAAO,kB;AADFuhI,a,CAKL5lC,M,GAAS,CAAC,2BAAD,EAA8B;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAA9B,C;;;;;;;;;;ACJV,MAAMm3H,IAAN,CAAyD;AAiB/DvgI,aAAW,CAACkkH,QAAD,EAAmB;AAC7BxiH,QAD6B;AAE7B8+H,WAF6B;AAG7Bj6C,eAH6B;AAI7Bk6C,QAJ6B;AAK7BC,eAL6B;AAM7BC,eAAW,GAAG,IANe;AAO7Bl/H,WAP6B;AAQ7Bm/H,UAR6B;AAS7BC,cAT6B;AAU7BC;AAV6B,GAAnB,EAsBP;AAAA,SAtCJ5c,QAsCI;AAAA,SApCJxiH,IAoCI;AAAA,SAnCJ8+H,OAmCI;AAAA,SAlCJj6C,WAkCI;AAAA,SAhCJk6C,IAgCI;AAAA,SA/BJC,WA+BI;AAAA,SA9BJC,WA8BI;AAAA,SA5BJl/H,OA4BI;AAAA,SA1BJm/H,MA0BI;AAAA,SAzBJC,UAyBI;AAAA,SAxBJC,YAwBI;AACH,SAAK5c,QAAL,GAAgBA,QAAhB;AACA,SAAKxiH,IAAL,GAAYA,IAAZ;AACA,SAAK8+H,OAAL,GAAeA,OAAf;AACA,SAAKj6C,WAAL,GAAmBA,WAAnB;AACA,SAAKk6C,IAAL,GAAYA,IAAZ;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKl/H,OAAL,GAAeA,OAAf;AACA,SAAKm/H,MAAL,GAAcA,MAAd;AACA,SAAKC,UAAL,GAAkBA,UAAlB;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACA;;AAnD8D,C;;ACHhE;AACA;AAEO,MAAMC,aAAa,GAAG,CAAC;AAAEC,MAAF;AAAQl1D;AAAR,CAAD,KAA+F5uD,sBAAM,CAAC+N,IAAK;;oBAEpH+1G,IAAI,IAAI,MAAO;KAC9Bl1D,OAAO,CAAClrE,GAAR,CAAY,CAAC;AAAEwQ,MAAF;AAAQjT;AAAR,CAAD,KAAoB+e,sBAAM,CAACghE,KAAM;mBAC/B9sE,IAAK,WAAUjT,IAAK;IADlC,CAEC;;;CALC;AAUA,MAAM8iI,eAAe,GAAG,CAAI;AAAEpxC,OAAF;AAAS9tE,SAAT;AAAkBm/G,SAAlB;AAA2B9iI;AAA3B,CAAJ,KAA6G8e,sBAAM,CAAC+N,IAAK;;IAEpJ4kE,KAAK,IAAI3yE,sBAAM,CAACghE,KAAM;4CACkB2R,KAAM;GAC9C;IACA9tE,OAAO,IAAI7E,sBAAM,CAACghE,KAAM;iDACqBhhE,sBAAM,CAACugE,IAAP,CAAY17D,OAAZ,CAAqB;GAClE;IACAm/G,OAAO,IAAIhkH,sBAAM,CAACghE,KAAM;6BACChhE,sBAAM,CAACugE,IAAP,CAAYyjD,OAAZ,CAAqB;GAC9C;;;;kDAI8C9iI,GAAG,CAAC6B,MAAO;;;;;;;;;;;;;CAdtD;AA6BA,MAAMkhI,aAAa,GAAG,CAAC;AAAEtxC,OAAF;AAAS9tE,SAAT;AAAkBm/G,SAAlB;AAA2B9iI,KAA3B;AAAgCyS,MAAhC;AAAsCuwH;AAAtC,CAAD,KAA4KlkH,sBAAM,CAAC+N,IAAK;;IAEjN4kE,KAAK,IAAI3yE,sBAAM,CAACghE,KAAM;0BACA2R,KAAM;GAC5B;IACA9tE,OAAO,IAAI7E,sBAAM,CAACghE,KAAM;6BACChhE,sBAAM,CAACugE,IAAP,CAAY17D,OAAZ,CAAqB;GAC9C;IACAm/G,OAAO,IAAIhkH,sBAAM,CAACghE,KAAM;6BACChhE,sBAAM,CAACugE,IAAP,CAAYyjD,OAAZ,CAAqB;GAC9C;+CAC2CrwH,IAAK,KAAIuwH,eAAe,IAAIlkH,sBAAM,CAACghE,KAAM,2CAA2C;uCAC5F9/E,GAAI;;;CAZpC;AAiBA,MAAMijI,cAAc,GAAG,CAAC;AAAErjG,KAAF;AAAOxQ,OAAP;AAAcoG;AAAd,CAAD,KAA8E1W,sBAAM,CAAC+N,IAAK;;;kBAGtG+S,GAAI,mBAAkBxQ,KAAM,aAAYoG,MAAO;;;;;;;CAH1D;AAYA,MAAM0tG,YAAY,GAAG,CAAC;AAAEzxC,OAAF;AAASqxC,SAAT;AAAkB9iI;AAAlB,CAAD,KAAkF8e,sBAAM,CAAC+N,IAAK;;IAEtH4kE,KAAK,IAAI3yE,sBAAM,CAACghE,KAAM;0BACA2R,KAAM;GAC5B;mCAC+B3yE,sBAAM,CAACugE,IAAP,CAAYr/E,GAAZ,CAAiB;IAChD8iI,OAAO,IAAIhkH,sBAAM,CAACghE,KAAM;6BACChhE,sBAAM,CAACugE,IAAP,CAAYyjD,OAAZ,CAAqB;GAC9C;;CARG;AAYA,MAAMK,aAAa,GAAG,CAAC;AAC7B1xC,OAD6B;AAE7B9tE,SAF6B;AAG7Bm/G,SAH6B;AAI7BrwH,MAJ6B;AAK7BqO,QAL6B;AAM7BsiH,QAN6B;AAO7BC,UAP6B;AAQ7BT,MAR6B;AAS7BU,YAT6B;AAU7BC,uBAV6B;AAW7BP;AAX6B,CAAD,KAwBtBlkH,sBAAM,CAAC+N,IAAK;;IAEf4kE,KAAK,IAAI3yE,sBAAM,CAACghE,KAAM;0BACA2R,KAAM;GAC5B;IACA9tE,OAAO,IAAI7E,sBAAM,CAACghE,KAAM;6BACChhE,sBAAM,CAACugE,IAAP,CAAY17D,OAAZ,CAAqB;GAC9C;IACAm/G,OAAO,IAAIhkH,sBAAM,CAACghE,KAAM;6BACChhE,sBAAM,CAACugE,IAAP,CAAYyjD,OAAZ,CAAqB;GAC9C;;+BAE2BrwH,IAAK,KAAIuwH,eAAe,IAAIlkH,sBAAM,CAACghE,KAAM,2CAA2C;aACtG,CAACujD,QAAD,IAAa,OAAQ,IAAGT,IAAI,IAAI,MAAO,YAAWQ,MAAO;;;;;;;;;;QAU9DE,UAAU,IAAIxkH,sBAAM,CAACghE,KAAM;;OAE3B;QACAujD,QAAQ,IAAIvkH,sBAAM,CAACghE,KAAM;;;;;;OAMzB;;;;;;;;sCAQ8BhhE,sBAAM,CAACugE,IAAP,CAAYkkD,qBAAZ,CAAmC;;;;;;;;QAQjEziH,MAAM,IAAIhC,sBAAM,CAACghE,KAAM;yDAC0Bh/D,MAAO;OACxD;;;;;;;CA1ED;AAmFA,MAAM0iH,qBAAqB,GAAG,CAAC;AAAEhgE,GAAF;AAAKp4B,GAAL;AAAQq4F,aAAR;AAAqBC,WAArB;AAAgCC;AAAhC,CAAD,KAAqI7kH,sBAAM,CAAC+N,IAAK;;sDAEhI22C,CAAE,uBAAsBp4B,CAAE;;;;KAI3Eq4F,WAAW,IAAI3kH,sBAAM,CAACghE,KAAM;;IAE5B;KACA4jD,SAAS,IAAI5kH,sBAAM,CAACghE,KAAM;;IAE1B;KACA6jD,MAAM,IAAI7kH,sBAAM,CAACghE,KAAM;;IAEvB;;;CAdE;AAmBA,MAAM8jD,uBAAuB,GAAG,CAAC;AAAEhkG,KAAF;AAAOt8B,MAAP;AAAaugI,SAAb;AAAsBC;AAAtB,CAAD,KAAmHhlH,sBAAM,CAAC+N,IAAK;;aAEzJ+S,GAAI;KACZikG,OAAO,IAAI/kH,sBAAM,CAACghE,KAAM,aAAY+jD,OAAQ,oBAAmBvgI,IAAK,sBAAqBA,IAAK,MAAM;qBACpFA,IAAK;cACZwgI,YAAa,4DAA2DxgI,IAAK;;;CALpF;AAUA,MAAMygI,yBAAyB,GAAIzkH,IAAD,IASnCR,sBAAM,CAAC+N,IAAK;;;cAGJvN,IAAI,CAACsgB,GAAI;;uBAEAtgB,IAAI,CAAC0kH,kBAAmB;;aAElC1+C,IAAI,CAAC,WAAD,EAAcrrD,QAAQ,CAAC3a,IAAI,CAAC2kH,kBAAN,EAA0B,EAA1B,CAAtB,CAAqD;;mBAEnD3kH,IAAI,CAAC4kH,sBAAuB,aAAY,CAAC5kH,IAAI,CAAC6kH,oBAAL,IAA6B,EAA9B,EAAkCrlI,KAAlC,CAAwC,CAAxC,CAA2C,gCAA+BwmF,IAAI,CAAC,aAAD,EAAgBrrD,QAAQ,CAAC3a,IAAI,CAAC8kH,wBAAN,EAAgC,EAAhC,CAAxB,CAA6D;;OAE/L9+C,IAAI,CAAC,iBAAD,CAAoB,UAAShmE,IAAI,CAAC+kH,iBAAkB;OACxD/+C,IAAI,CAAC,mBAAD,CAAsB,mBAAkBhmE,IAAI,CAACglH,mBAAoB,+BAA8BhlH,IAAI,CAACglH,mBAAoB;OAC5Hh/C,IAAI,CAAC,sBAAD,CAAyB,gBAAehmE,IAAI,CAAC4kH,sBAAuB,0CAAyC5kH,IAAI,CAAC4kH,sBAAuB;;;;;CAtB7I,C;;;;AClMP;AAOO,MAAMK,gBAA+B,GAAG,IAAI5iD,GAAJ,EAAxC;AACA,MAAM6iD,cAA4B,GAAG,IAAI7sD,GAAJ,EAArC;AACP,MAAM8sD,MAAM,GAAG,IAAI9sD,GAAJ,EAAf;AAIO,MAAM+sD,eAAN,CAAc;AAGpB,SAAOC,mBAAP,CAA2Br2C,KAA3B,EAAoD;AACnD,QAAI,CAACA,KAAL,EAAY,OAAO,IAAP;AAEZ,UAAMvmE,MAAM,GAAGumE,KAAK,CAAC9gB,KAAN,CAAYwJ,aAAZ,CAA0B,iBAA1B,CAAf;AACA,QAAI,CAACjvD,MAAL,EAAa,OAAO,IAAP;AAEb,QAAI/jB,OAAO,GAAGugI,gBAAQ,CAACxiI,GAAT,CAAagmB,MAAb,CAAd;;AAEA,QAAI,CAAC/jB,OAAL,EAAc;AACb,YAAM8tB,GAAG,GAAGw8D,KAAK,CAAC9gB,KAAN,CAAYwJ,aAAZ,CAA0B,UAA1B,CAAZ;AACA,UAAI,CAACllD,GAAL,EAAU,OAAO,IAAP;AAEV,YAAM8yG,iBAAiB,GAAGvmI,QAAQ,CAACqC,aAAT,CAAuB,MAAvB,CAA1B;AACA,YAAMmkI,cAAc,GAAGxmI,QAAQ,CAACqC,aAAT,CAAuB,MAAvB,CAAvB;AAGAsD,aAAO,GAAI;AACV+jB,cADU;;AAEV,YAAIyb,IAAJ,GAAW;AAAE,iBAAOzb,MAAM,CAAC82D,SAAP,CAAiBj4E,QAAjB,CAA0B,UAA1B,CAAP;AAA+C,SAFlD;;AAGVk+H,gBAAQ,GAAG;AAAE,cAAI,KAAKthG,IAAT,EAAe,KAAK5gB,MAAL;AAAgB,SAHlC;;AAIV4Q,cAAM,GAAG;AAAE,cAAI,CAAC,KAAKgQ,IAAV,EAAgB,KAAK5gB,MAAL;AAAgB,SAJjC;;AAKVA,cAAM,GAAG;AAAE4F,eAAK,CAACT,MAAD,CAAL;AAAgB,SALjB;;AAMVuF,cAAM,GAAG;AACRvF,gBAAM,CAAC6F,WAAP,CAAmBg3G,iBAAnB;AACA9yG,aAAG,CAAClE,WAAJ,CAAgBi3G,cAAhB;AACA,SATS;;AAUVE,gBAAQ,GAAG;AACVH,2BAAiB,CAACh3G,WAAlB,CAA8B7F,MAA9B;AACA88G,wBAAc,CAACj3G,WAAf,CAA2BkE,GAA3B;AACA,SAbS;;AAcVtM,aAAK,EAAE,kBAAU,CAChB,QADgB,EAEhBuC,MAAM,CAAC82D,SAAP,CAAiBj4E,QAAjB,CAA0B,UAA1B,IAAwC,UAAxC,GACA,CAACkrB,GAAG,CAACi/D,OAAJ,CAAYi0C,UAAZ,IAA0B,EAA3B,EAA+Bv6H,KAA/B,CAAqC,kBAArC,IAA2D,CAAC,OAAD,EAAU,WAAV,CAA3D,GACA,CAACqnB,GAAG,CAACi/D,OAAJ,CAAYi0C,UAAZ,IAA0B,EAA3B,EAA+Bv6H,KAA/B,CAAqC,YAArC,IAAqD,CAAC,QAAD,EAAW,WAAX,CAArD,GACA,CAAC,OAAD,EAAU,OAAV,CALgB,CAAV,EAMJuD,MANI,CAMG8wF,OANH,CAdG;AAqBVtnF,aAAK,EAAE;AArBG,OAAX;AAwBA+sH,sBAAQ,CAACllH,GAAT,CAAa0I,MAAb,EAAqB/jB,OAArB;AACA;;AAED,WAAOA,OAAP;AACA;;AAED,SAAOihI,mBAAP,CAA2B32C,KAA3B,EAAqD;AACpD,QAAI,CAACA,KAAL,EAAY,OAAO,EAAP;AACZ,UAAM42C,EAAE,GAAG52C,KAAK,CAAC9gB,KAAN,CAAYwJ,aAAZ,CAA0B,KAA1B,CAAX;AACA,QAAI,CAACkuD,EAAL,EAAS,OAAO,EAAP;AACT,WAAO33C,SAAS,CAAC1pF,KAAK,CAACwsE,IAAN,CAAW60D,EAAE,CAAC15H,gBAAH,CAAoBk5H,eAAO,CAACS,eAA5B,CAAX,CAAD,EAA2DhrH,CAAC,IAAI;AAC/E,YAAMirH,GAAG,GAAGb,gBAAQ,CAACxiI,GAAT,CAAaoY,CAAb,CAAZ;AACA,UAAIirH,GAAJ,EAAS,OAAO,CAACA,GAAD,CAAP;AACT,KAHe,CAAhB;AAIA;;AAED,SAAOC,kBAAP,CAA0B/2C,KAA1B,EAAoD;AACnD,WAAO,kBAAU,CAAC,GAAGo2C,eAAO,CAACO,mBAAR,CAA4B32C,KAA5B,CAAJ,EAAwCo2C,eAAO,CAACC,mBAAR,CAA4Br2C,KAA5B,CAAxC,CAAV,CAAP;AACA;;AA6BD1sF,aAAW,CAAC6Q,IAAD,EAAU;AAAA,SA3BrBA,IA2BqB;AAAA,SA1BrB6yH,MA0BqB;AAAA,SAzBrB9tH,KAyBqB,GAzBJ,KAyBI;AAAA,SAvBrBwC,IAuBqB,GAvB4B,IAuB5B;AAAA,SArBrB8X,GAqBqB;AAAA,SApBrB/J,MAoBqB;AAAA,SAlBrByb,IAkBqB,GAlBL,KAkBK;AAAA,SAjBrB+hG,YAiBqB,GAjBG,KAiBH;AAAA,SAfrBC,eAeqB,GAfiB,EAejB;AAAA,SAbrBC,KAaqB;AAAA,SAZrBC,aAYqB;AAAA,SAVrBlgH,KAUqB,GAVH,EAUG;AAAA,SARrBmgH,UAQqB,GALhB;AACJl0C,WAAK,EAAE,0BADH;AAEJm0C,gBAAU,EAAE;AAFR,KAKgB;AACpB,SAAKnzH,IAAL,GAAYA,IAAZ;AAEA,SAAKqf,GAAL,GAAWzzB,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAX;AACA,SAAKoxB,GAAL,CAAS+sD,SAAT,CAAmBzmE,GAAnB,CAAuB,iBAAvB;AACA,SAAK0Z,GAAL,CAASmD,MAAT,GAAkB,IAAlB;AAEA,SAAKlN,MAAL,GAAc1pB,QAAQ,CAACqC,aAAT,CAAuB,GAAvB,CAAd;AACA,SAAKqnB,MAAL,CAAYra,gBAAZ,CAA6B,OAA7B,EAAsC,MAAM,KAAKkV,MAAL,EAA5C;AACA,SAAKijH,YAAL;AAGA,QAAIxvD,gBAAJ,CAAqB,MAAM;AAAE,WAAKwvD,YAAL;AAAsB,KAAnD,EAAqDlvD,OAArD,CAA6D,KAAK5uD,MAAlE,EAA0E;AAAEhgB,gBAAU,EAAE;AAAd,KAA1E;AAEAw8H,oBAAQ,CAACllH,GAAT,CAAa,KAAK0I,MAAlB,EAA0B,IAA1B;AACA;;AAED+9G,UAAQ,CAACvjI,QAAD,EAA6B;AACpC,SAAKijI,eAAL,CAAqBxmI,IAArB,CAA0BuD,QAA1B;AACA;;AAEDsjI,cAAY,GAAG;AACd,QAAI;AAAED,gBAAF;AAAcn0C;AAAd,QAAwB,KAAKk0C,UAAjC;;AAEA,QAAI,KAAK3rH,IAAT,EAAe;AACd4rH,gBAAU,GAAG,oCAAb;AACAn0C,WAAK,GAAG,uCAAR;AACA;;AAED,UAAM5S,SAAS,GAAG,CACjB,gBADiB,EAEjB,IAAI+mD,UAAU,CAACjgI,KAAX,CAAiB,GAAjB,KAAyB,CAAC,wBAAD,CAA7B,CAFiB,EAGjB,KAAK69B,IAAL,IAAa,KAAK+hG,YAAlB,GAAiC,UAAjC,GAA8C,WAH7B,EAIhBv3H,MAJgB,CAIT8wF,OAJS,CAAlB;;AAMA,QAAI,CAAC,KAAKymC,YAAN,IAAsB,CAAC,KAAK/hG,IAA5B,IAAoCihG,MAAM,CAAC3sH,GAAP,CAAW,KAAKrF,IAAhB,CAAxC,EAA+D;AAC9DosE,eAAS,CAAC7/E,IAAV,CAAe,0BAAf;AACAyyF,WAAK,IAAI,iCAAT;AACA;;AAGD,UAAMkR,GAAG,GAAG,KAAK56E,MAAjB;;AACA,SAAK,MAAM5N,CAAX,IAAgBwoF,GAAG,CAAC9jB,SAApB,EAA+B,IAAI,CAACA,SAAS,CAAC9+B,QAAV,CAAmB5lC,CAAnB,CAAL,EAA4BwoF,GAAG,CAAC9jB,SAAJ,CAAchlE,MAAd,CAAqBM,CAArB;;AAC3D,SAAK,MAAMA,CAAX,IAAgB0kE,SAAhB,EAA2B,IAAI,CAAC8jB,GAAG,CAAC9jB,SAAJ,CAAcj4E,QAAd,CAAuBuT,CAAvB,CAAL,EAAgCwoF,GAAG,CAAC9jB,SAAJ,CAAczmE,GAAd,CAAkB+B,CAAlB;;AAC3D,QAAIwoF,GAAG,CAAClR,KAAJ,KAAcA,KAAlB,EAAyBkR,GAAG,CAAClR,KAAJ,GAAYA,KAAZ;AACzB;;AAEDs0C,YAAU,CAAC1iI,OAAD,EAA2D;AACpE,SAAKqiI,aAAL,GAAqBriI,OAAO,CAACqiI,aAA7B;AACA,SAAKC,UAAL,GAAkBtiI,OAAO,CAACsiI,UAA1B;AACA,SAAKngH,KAAL,GAAaniB,OAAO,CAACmiB,KAArB;AACA,SAAKhO,KAAL,GAAa,IAAb;AAEA,QAAI,KAAK+tH,YAAT,EAAuB,KAAK/xG,MAAL,GAAvB,KACK,KAAKqyG,YAAL;AACL;;AAEDG,eAAa,GAAG;AACf,WAAOniI,KAAK,CAACwsE,IAAN,CAAWk0D,gBAAQ,CAAC7hH,MAAT,EAAX,EAA8B1U,MAA9B,CAAqCmM,CAAC,IAAIA,CAAC,KAAK,IAAN,IAAcA,CAAC,CAAC1H,IAAF,KAAW,KAAKA,IAAxE,CAAP;AACA;;AAED,QAAMwzH,OAAN,CAAcjsH,IAAd,EAAuB;AACtB,SAAKA,IAAL,GAAYA,IAAZ;AACA,SAAK6rH,YAAL;AAEA,UAAM7rH,IAAI,CAACW,OAAX;AAEA,SAAKX,IAAL,GAAY,IAAZ;AACA,SAAK6rH,YAAL;AACA;;AAEDjjH,QAAM,GAAG;AACR,QAAI,KAAK4gB,IAAT,EAAe,KAAKshG,QAAL,GAAf,KACK,KAAKtxG,MAAL;AACL;;AAEDA,QAAM,GAAG;AACR,QAAI,KAAKxZ,IAAL,IAAa,CAAC,KAAKxC,KAAvB,EAA8B;AAC7B,WAAK+tH,YAAL,GAAoB,IAApB;AACA,UAAI,KAAKvrH,IAAT,EAAe,KAAKA,IAAL,CAAUwpB,IAAV;AACf,WAAKqiG,YAAL;AACA;AACA;;AAED,SAAK/zG,GAAL,CAASmD,MAAT,GAAkB,KAAlB;AAEA,SAAKixG,WAAL;AACA,QAAI,KAAKT,KAAT,EAAgB,KAAKA,KAAL,CAAWjyG,MAAX;AAEhB,SAAKgQ,IAAL,GAAY,IAAZ;AACA,SAAK+hG,YAAL,GAAoB,KAApB;AACA,SAAKM,YAAL;;AAEA,SAAK,MAAMtjI,QAAX,IAAuB,KAAKijI,eAA5B,EAA6CjjI,QAAQ;;AAErDkiI,UAAM,CAACrsH,GAAP,CAAW,KAAK3F,IAAhB;;AACA,SAAK,MAAM0zH,SAAX,IAAwB,KAAKH,aAAL,EAAxB,EAA8CG,SAAS,CAACN,YAAV;AAC9C;;AAEDf,UAAQ,GAAG;AACV,SAAKhzG,GAAL,CAASmD,MAAT,GAAkB,IAAlB;AAEA,SAAKuO,IAAL,GAAY,KAAZ;AACA,SAAK+hG,YAAL,GAAoB,KAApB;AACA,SAAKM,YAAL;;AAEA,QAAI,KAAKJ,KAAT,EAAgB;AACf,WAAKA,KAAL,CAAWX,QAAX;AACA;AACD;;AAEDoB,aAAW,GAAG;AACb,UAAMnyE,OAAO,GAAG,KAAKjiC,GAAL,CAAS8Q,iBAAT,IAA8BvkC,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAA9C;AACA,QAAI,CAAC,KAAKglI,aAAV,EAAyB,MAAM,IAAInnI,KAAJ,CAAU,6CAAV,CAAN;AACzB,SAAKknI,KAAL,GAAa,KAAKA,KAAL,IAAc,KAAKC,aAAL,EAA3B;AACA3xE,WAAO,CAACxmC,MAAR,CAAe,KAAKk4G,KAAL,CAAWpyF,OAA1B;AACA0gB,WAAO,CAAC8qB,SAAR,CAAkBzmE,GAAlB,CAAsB,uBAAtB;AACA,SAAK0Z,GAAL,CAASvE,MAAT,CAAgBwmC,OAAhB;AACA,QAA0B,KAAK0xE,KAAL,CAAWW,QAArC,EAA+C,KAAKX,KAAL,CAAWW,QAAX;AAC/C5B,kBAAc,CAACpsH,GAAf,CAAmB,IAAnB;AACA;;AAED6I,YAAU,GAAG;AACZ,WAAO5iB,QAAQ,CAACkkB,IAAT,CAAc3b,QAAd,CAAuB,KAAKmhB,MAA5B,KAAuC1pB,QAAQ,CAACkkB,IAAT,CAAc3b,QAAd,CAAuB,KAAKkrB,GAA5B,CAA9C;AACA;;AAED2qF,SAAO,GAAG;AACT,QAAI,KAAK3qF,GAAT,EAAc;AACb,WAAKA,GAAL,CAASjY,MAAT;AACA,aAAO,KAAKiY,GAAZ;AACA;;AACD,QAAI,KAAK/J,MAAT,EAAiB;AAChBw8G,sBAAQ,CAAC98C,MAAT,CAAgB,KAAK1/D,MAArB;AACA,WAAKA,MAAL,CAAYlO,MAAZ;AACA,aAAO,KAAKkO,MAAZ;AACA;;AACD,SAAKjO,KAAL;AACA;;AAEDA,OAAK,GAAG;AACP,QAAI,KAAK2rH,KAAT,EAAgB;AACf,WAAKA,KAAL,CAAWpyF,OAAX,CAAmBx5B,MAAnB;AACA,aAAO,KAAK4rH,KAAZ;AACA;;AACD,QAAI,KAAK19G,MAAT,EAAiB;AAChB,UAAI,KAAKyb,IAAT,EAAe,KAAKshG,QAAL,GAAf,KACK,KAAKe,YAAL;AACL;;AACDrB,kBAAc,CAAC/8C,MAAf,CAAsB,IAAtB;AACA;;AA/OmB;AAARi9C,e,CACLS,e,GAAkB,yC;;ACf1B;AACA;AACA;AAEe,8CAAIhD,IAAJ,CAAS,OAAT,EAAkB;AAChC7+H,MAAI,EAAE,aAD0B;AAEhC8+H,SAAO,EAAE,CAAC,QAAD,CAFuB;AAGhCC,MAAI,EAAE,4BAH0B;AAIhCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,cAAD,CAAiB1yE,IAAjB,CAAsB0yE,QAAtB,CAJM;;AAKhC,QAAMilD,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAG4zH,KAAH,CAAvB,EAAkC;AACjC,UAAMn0B,IAAI,GAAG,MAAM1xE,IAAI,CAAC;AACvBZ,SAAG,EAAE,wBADkB;AAEvByjD,WAAK,EAAE;AAAEgjD;AAAF,OAFgB;AAGvBtmI,UAAI,EAAE;AAHiB,KAAD,CAAvB;;AAMA,QAAImyG,IAAI,CAACo0B,MAAT,EAAiB;AAChB,YAAM,IAAI/nI,KAAJ,CAAU2zG,IAAI,CAACo0B,MAAf,CAAN;AACA;;AAED,WAAO;AACNvmI,UAAI,EAAE,SADA;AAEN0xF,WAAK,EAAEygB,IAAI,CAACzgB,KAFN;AAGN9tE,aAAO,EAAEuuF,IAAI,CAACnQ,WAAL,IAAoBmQ,IAAI,CAACq0B,WAAL,GAAmBznH,sBAAM,CAACnP,MAAO,iBAAgBuiG,IAAI,CAACq0B,WAAY,sBAAlE,GAA0F,EAA9G,CAHH;AAINzD,aAAO,EAAEhkH,sBAAM,CAACnP,MAAO,mBAAkBuiG,IAAI,CAACs0B,SAAU,KAAIt0B,IAAI,CAACjgB,MAAO,MAJlE;AAKNjyF,SAAG,EAAEkyG,IAAI,CAACu0B,MAAL,CAAYjkI,GAAZ,CAAgB,CAAC;AAAEkkI,YAAF;AAAQC;AAAR,OAAD,MAAwB;AAC5C5mI,YAAI,EAAE,OADsC;AAE5C4jB,eAAO,EAAE+iH,IAFmC;AAG5C1mI,WAAG,EAAE2mI;AAHuC,OAAxB,CAAhB;AALC,KAAP;AAWA;;AA3B+B,CAAlB,CAAf,E;;ACJA;AAEe,kDAAIxE,IAAJ,CAAS,WAAT,EAAsB;AACpC7+H,MAAI,EAAE,YAD8B;AAEpC8+H,SAAO,EAAE,CAAC,eAAD,CAF2B;AAGpCC,MAAI,EAAE,uCAH8B;AAIpCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,sCAAD,CAAyC1yE,IAAzC,CAA8C0yE,QAA9C,CAJU;;AAKpCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGogC,IAAH,CAAP,EAAiB;AAC1B,WAAO;AACN9yC,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAG,6CAA4C/zF,IAAK,EAFnD;AAGNg0F,gBAAU,EAAE;AAHN,KAAP;AAKA;;AAXmC,CAAtB,CAAf,E;;ACFA;AAEe,mDAAI1E,IAAJ,CAAS,YAAT,EAAuB;AACrC7+H,MAAI,EAAE,YAD+B;AAErC8+H,SAAO,EAAE,CAAC,uBAAD,CAF4B;AAGrCC,MAAI,EAAE,2EAH+B;AAIrCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,eAAD,CAAkB1yE,IAAlB,CAAuB0yE,QAAvB,CAJW;;AAKrCilD,YAAU,CAAChwH,IAAD,EAAO;AAChB,UAAMq0H,YAAY,GAAGr0H,IAAI,CACvBtO,OADmB,CACX,SADW,EACA,MADA,EAEnBA,OAFmB,CAEX,OAFW,EAEF,QAFE,CAArB;AAIA,WAAO;AACNpE,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAEE;AAFD,KAAP;AAIA;;AAdoC,CAAvB,CAAf,E;;ACFA;AAEe,kDAAI3E,IAAJ,CAAS,YAAT,EAAuB;AACrC7+H,MAAI,EAAE,YAD+B;AAErC8+H,SAAO,EAAE,CAAC,YAAD,CAF4B;AAGrCC,MAAI,EAAE,gCAH+B;AAIrCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,mBAAD,CAAsB1yE,IAAtB,CAA2B0yE,QAA3B,CAJW;;AAKrCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGrS,IAAH,CAAP,EAAiB;AAC1B,WAAO;AACNL,UAAI,EAAE,OADA;AAENC,SAAG,EAAG,sBAAqBI,IAAK;AAF1B,KAAP;AAIA;;AAVoC,CAAvB,CAAf,E;;ACFA;AAEe,6CAAI+hI,IAAJ,CAAS,MAAT,EAAiB;AAC/B7+H,MAAI,EAAE,2BADyB;AAE/B8+H,SAAO,EAAE,CAAC,SAAD,CAFsB;AAG/BC,MAAI,EAAE,+CAHyB;AAI/BG,QAAM,EAAE,CAAC;AAAE/vH;AAAF,GAAD,KAAe,mDAAD,CAAsD3H,IAAtD,CAA2D2H,IAA3D,CAJS;AAK/BgwH,YAAU,EAAE,CAAChwH,IAAD,EAAO,GAAGwtF,IAAH,EAAS8mC,WAAT,CAAP,MAAkC;AAC7ChnI,QAAI,EAAE,QADuC;AAE7C6mI,SAAK,EAAG,WAAU3mC,IAAK,sBAAqB8mC,WAAY,EAFX;AAG7CC,gBAAY,EAAE,UAH+B;AAI7C53G,SAAK,EAAE,OAJsC;AAK7CoG,UAAM,EAAE;AALqC,GAAlC;AALmB,CAAjB,CAAf,E;;ACFA;AAEe,6CAAI2sG,IAAJ,CAAS,MAAT,EAAiB;AAC/B7+H,MAAI,EAAE,MADyB;AAE/B8+H,SAAO,EAAE,CAAC,SAAD,CAFsB;AAG/BC,MAAI,EAAE,mDAHyB;AAI/BG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,iCAAD,CAAoC1yE,IAApC,CAAyC0yE,QAAzC,CAJK;;AAK/BilD,YAAU,CAAChwH,IAAD,EAAO,GAAGw0H,QAAH,EAAaj8H,EAAb,CAAP,EAAyB;AAClC,WAAO;AACNjL,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAG,mBAAkBK,QAAQ,GAAG,WAAH,GAAiB,EAAG,GAAEj8H,EAAG,SAFrD;AAGNwqB,YAAM,EAAE,OAHF;AAINpG,WAAK,EAAE;AAJD,KAAP;AAMA;;AAZ8B,CAAjB,CAAf,E;;ACFA;AAEe,gDAAI+yG,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,SAD4B;AAElC8+H,SAAO,EAAE,CAAC,YAAD,CAFyB;AAGlCG,aAAW,EAAE,KAHqB;AAIlCC,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,mEAAD,CAAsE1yE,IAAtE,CAA2E0yE,QAA3E,CAJQ;;AAKlCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGwtF,IAAH,EAAS5tF,IAAT,CAAP,EAAuB;AAChC,WAAO;AACNtS,UAAI,EAAE,QADA;AAENmnI,WAAK,EAAE,IAFD;AAGN1xG,YAAM,EAAE,OAHF;AAINpG,WAAK,EAAE,OAJD;AAKN43G,kBAAY,EAAE,UALR;AAMNJ,WAAK,EAAG,sBAAqB3mC,IAAK,UAAS5tF,IAAK;AAN1C,KAAP;AAQA;;AAdiC,CAApB,CAAf,E;;ACFA;AAEe,6CAAI8vH,IAAJ,CAAS,MAAT,EAAiB;AAC/B7+H,MAAI,EAAE,MADyB;AAE/B8+H,SAAO,EAAE,CAAC,UAAD,CAFsB;AAG/BI,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,oCAAD,CAAuC1yE,IAAvC,CAA4C0yE,QAA5C,CAHK;;AAI/BilD,YAAU,CAAChwH,IAAD,EAAO,GAAGJ,IAAH,EAAS80H,MAAT,CAAP,EAAyB;AAClC,UAAMnnI,GAAG,GAAGmnI,MAAM,GAChB,yBAAwB90H,IAAK,gBADb,GAEhB,0BAAyBA,IAAK,yBAFhC;AAIA,WAAO;AACNtS,UAAI,EAAE,QADA;AAENmnI,WAAK,EAAE,CAAC,CAACC,MAFH;AAGNP,WAAK,EAAE5mI,GAHD;AAIN6mI,gBAAU,EAAE;AAJN,KAAP;AAMA;;AAf8B,CAAjB,CAAf,E;;ACFA;AAEe,oDAAI1E,IAAJ,CAAS,aAAT,EAAwB;AACtC7+H,MAAI,EAAE,aADgC;AAEtC8+H,SAAO,EAAE,CAAC,iBAAD,CAF6B;AAGtCC,MAAI,EAAE,gFAHgC;AAItCG,QAAM,EAAE,CAAC;AAAE/vH;AAAF,GAAD,KAAe,kFAAD,CAAqF3H,IAArF,CAA0F2H,IAA1F,CAJgB;;AAKtCgwH,YAAU,CAAChwH,IAAD,EAAO,GAAGJ,IAAH,CAAP,EAAiB;AAC1B,UAAMu0H,KAAK,GAAI,2CAA0Cv0H,IAAK,kBAA9D;AAEA,WAAO;AACNtS,UAAI,EAAE,QADA;AAEN6mI,WAFM;AAGNQ,mBAAa,EAAG,GAAER,KAAM,aAHlB;AAINS,WAAK,EAAE,OAJD;AAKN/gE,UAAI,EAAE,MALA;AAMNugE,gBAAU,EAAE;AANN,KAAP;AAQA;;AAhBqC,CAAxB,CAAf,E;;ACFA;AAEe,sDAAI1E,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,SAD4B;AAElC8+H,SAAO,EAAE,EAFyB;AAGlCI,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,yBAAD,CAA4BpyE,IAA5B,CAAiCoyE,QAAjC,CAHQ;;AAIlCilD,YAAU,CAAChwH,IAAD,EAAO;AAChB,WAAO;AACN1S,UAAI,EAAE,OADA;AAENC,SAAG,EAAEyS;AAFC,KAAP;AAIA;;AATiC,CAApB,CAAf,E;;ACFA;AAEe,qDAAI0vH,IAAJ,CAAS,cAAT,EAAyB;AACvC7+H,MAAI,EAAE,cADiC;AAEvC8+H,SAAO,EAAE,EAF8B;AAGvCI,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,kCAAD,CAAqC1yE,IAArC,CAA0C0yE,QAA1C,CAHa;;AAIvCilD,YAAU,CAAChwH,IAAD,EAAO,GAAG8vE,SAAH,CAAP,EAAsB;AAE/B,QAAIA,SAAS,KAAK,MAAlB,EAA0BA,SAAS,GAAG,MAAZ;AAC1B,QAAIA,SAAS,KAAK,MAAlB,EAA0BA,SAAS,GAAG,KAAZ;AAE1B,UAAMh3C,MAAM,GAAI,SAAQg3C,SAAU,EAAlC;AAEA,WAAO;AACNxiF,UAAI,EAAE,OADA;AAENunI,cAAQ,EAAE,IAFJ;AAGN1E,UAAI,EAAE,KAHA;AAINl1D,aAAO,EAAE,CAAC;AACT16D,YAAI,EAAEP,IADG;AAET1S,YAAI,EAAEwrC;AAFG,OAAD;AAJH,KAAP;AASA;;AApBsC,CAAzB,CAAf,E;;ACFA;AAEe,qDAAI42F,IAAJ,CAAS,cAAT,EAAyB;AACvC7+H,MAAI,EAAE,cADiC;AAEvC8+H,SAAO,EAAE,EAF8B;AAGvCI,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,4BAAD,CAA+B1yE,IAA/B,CAAoC0yE,QAApC,CAHa;;AAIvCilD,YAAU,CAAChwH,IAAD,EAAO,GAAG8vE,SAAH,CAAP,EAAsB;AAE/B,QAAIA,SAAS,KAAK,KAAlB,EAAyBA,SAAS,GAAG,KAAZ;AAEzB,UAAMh3C,MAAM,GAAI,SAAQg3C,SAAU,EAAlC;AAEA,WAAO;AACNxiF,UAAI,EAAE,OADA;AAEN2tE,aAAO,EAAE,CAAC;AACT5sD,cAAM,EAAErO,IADC;AAET1S,YAAI,EAAEwrC;AAFG,OAAD;AAFH,KAAP;AAOA;;AAjBsC,CAAzB,CAAf,E;;;;;;;ACDA;AACA;AACA;AAEe,mDAAI42F,IAAJ,CAAS,YAAT,EAAuB;AACrC7+H,MAAI,EAAE,YAD+B;AAErC++H,MAAI,EAAE,oCAF+B;AAGrCD,SAAO,EAAE,CACR,gBADQ,EAER,iBAFQ,EAGR,aAHQ,EAIR,cAJQ,CAH4B;AAUrCI,QAAM,EAAE,CAAC;AAAE9+C,YAAF;AAAYlG;AAAZ,GAAD,KAA6BkG,QAAQ,KAAK,cAAb,GACnC,yCAAD,CAA4C54E,IAA5C,CAAiD0yE,QAAjD,CADoC,GAEnC,yBAAD,CAA4B1yE,IAA5B,CAAiC0yE,QAAjC,CAZoC;AAerCilD,YAAU,EAAE,CAAC,MAAM;AAClB,UAAM8E,SAAS,GAAGjhD,KAAK,CAAC,MAAM8O,QAAN,IAAkB;AACzC,YAAMt5E,QAAQ,GAAG,EAAjB;AAEA,YAAM;AAAE0rH;AAAF,UAAa,MAAMhnG,IAAI,CAAC;AAC7BZ,WAAG,EAAE,gDADwB;AAE7ByjD,aAAK,EAAE;AAAEokD,aAAG,EAAEryC,QAAQ,CAAC5yF,GAAT,CAAaooC,CAAC,IAAIA,CAAC,CAAC5/B,EAApB,EAAwBM,IAAxB,CAA6B,GAA7B;AAAP,SAFsB;AAG7BvL,YAAI,EAAE;AAHuB,OAAD,CAA7B;;AAMA,YAAM2nI,YAAY,GAAG,uBAAQF,MAAR,EAAgBG,GAAG,IAAIA,GAAG,CAAC38H,EAA3B,CAArB;;AAEA,aAAOoqF,QAAQ,CAAC5yF,GAAT,CAAa,CAAC;AAAEwI,UAAF;AAAM+Q,aAAK,GAAG;AAAd,OAAD,KAAuD;AAC1E,cAAMjL,MAAM,GAAG42H,YAAY,CAAC18H,EAAD,CAA3B;;AAEA,YAAI,CAAC8F,MAAL,EAAa;AAGZ,iBAAO,IAAIvS,KAAJ,CAAU,WAAV,CAAP;AACA,SAJD,MAIO,IAAIuS,MAAM,CAAC82H,YAAX,EAAyB;AAG/B,cAAI7rH,KAAK,GAAGD,QAAZ,EAAsB;AACrB,mBAAO,IAAIvd,KAAJ,CAAW,iCAAgCud,QAAS,EAApD,CAAP;AACA;;AACD,iBAAOyrH,SAAS,CAAC;AAAEv8H,cAAE,EAAE8F,MAAM,CAAC82H,YAAb;AAA2B7rH,iBAAK,EAAEA,KAAK,GAAG;AAA1C,WAAD,CAAhB;AACA,SAPM,MAOA,IAAIjL,MAAM,CAACoC,KAAX,EAAkB;AAGxB,iBAAOpC,MAAP;AACA,SAJM,MAIA;AAGN,iBAAO,IAAIvS,KAAJ,CAAU,8BAAV,CAAP;AACA;AACD,OAvBM,CAAP;AAwBA,KAnCsB,EAmCpB;AAAE4zC,UAAI,EAAE;AAAR,KAnCoB,CAAvB;AAqCA,WAAO,OAAO1/B,IAAP,EAAa,GAAGzH,EAAH,CAAb,KAAwB;AAC9B,YAAM;AAAEkI,aAAF;AAAS6uF,mBAAT;AAAsB8lC,kBAAU,EAAE/mH;AAAlC,UAA6C,MAAMymH,SAAS,CAAC;AAAEv8H;AAAF,OAAD,CAAlE;AAEA,aAAO;AACNjL,YAAI,EAAE,OADA;AAENC,WAAG,EAAEkT,KAFC;AAGNyQ,eAAO,EAAEo+E,WAHH;AAIN+gC,eAAO,EAAEhiH,MAAM,GAAGhC,sBAAM,CAACnP,MAAO,oBAAmBmR,MAAO,KAAIA,MAAO,MAAtD,GAA8D/c;AAJvE,OAAP;AAMA,KATD;AAUA,GAhDW;AAfyB,CAAvB,CAAf,E;;ACLA;AACA;AAEe,mDAAIo+H,IAAJ,CAAS,YAAT,EAAuB;AACrC7+H,MAAI,EAAE,YAD+B;AAErC++H,MAAI,EAAE,+CAF+B;AAGrCD,SAAO,EAAE,CAAC,gBAAD,EAAmB,QAAnB,EAA6B,QAA7B,CAH4B;AAIrCj6C,aAAW,EAAE,CAAC,uCAAD,CAJwB;AAKrCq6C,QAAM,EAAE,CAAC;AAAE/vH;AAAF,GAAD,KAAe,wGAAD,CAA2GrH,IAA3G,CAAgHqH,IAAhH,CALe;;AAMrC,QAAMgwH,UAAN,CAAiBhwH,IAAjB,EAAuB;AACtB,UAAMy/F,IAAI,GAAG,MAAM1xE,IAAI,CAAC;AACvBZ,SAAG,EAAE,uCADkB;AAEvByjD,WAAK,EAAE;AAAEzjD,WAAG,EAAEntB;AAAP,OAFgB;AAGvB1S,UAAI,EAAE;AAHiB,KAAD,CAAvB;;AAMA,YAAQmyG,IAAI,CAACnyG,IAAb;AACC,WAAK,OAAL;AACA,WAAK,MAAL;AACC,YAAIC,GAAJ;;AACA,YAAIkyG,IAAI,CAAC41B,YAAT,EAAuB;AACtB9nI,aAAG,GAAGkyG,IAAI,CAAC41B,YAAX;AACA,SAFD,MAEO,IAAK,uBAAD,CAA0B18H,IAA1B,CAA+B8mG,IAAI,CAACtyE,GAApC,CAAJ,EAA8C;AACpD5/B,aAAG,GAAGkyG,IAAI,CAACtyE,GAAX;AACA,SAFM,MAEA;AACN5/B,aAAG,GAAGkyG,IAAI,CAAC61B,aAAX;AACA;;AAED,eAAO;AACNhoI,cAAI,EAAE,OADA;AAEN0xF,eAAK,EAAEygB,IAAI,CAACzgB,KAFN;AAGNqxC,iBAAO,EAAG,oBAAmB5wB,IAAI,CAAC81B,UAAW,KAAI91B,IAAI,CAAC+1B,WAAY,mBAH5D;AAINjoI;AAJM,SAAP;;AAMD,WAAK,MAAL;AACC,eAAO;AACND,cAAI,EAAE,MADA;AAEN0xF,eAAK,EAAEygB,IAAI,CAACzgB,KAFN;AAGNzxF,aAAG,EAAEkyG,IAAI,CAACrlF,IAAL,IAAc,aAAD,CAAgBzhB,IAAhB,CAAqB8mG,IAAI,CAACrlF,IAA1B,IAAkC,KAAlC,GAA0C,EAAvD,CAHC;AAINi2G,iBAAO,EAAG,YAAWrwH,IAAK,iEAAgEy/F,IAAI,CAAC81B,UAAW,KAAI91B,IAAI,CAAC+1B,WAAY;AAJzH,SAAP;;AAMD;AACC,cAAM,IAAI1pI,KAAJ,CAAW,qCAAoC2zG,IAAI,CAACnyG,IAAK,EAAzD,CAAN;AA1BF;AA4BA;;AAzCoC,CAAvB,CAAf,E;;ACHA;AACA;AAEe,gDAAIoiI,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,SAD4B;AAElC8+H,SAAO,EAAE,CAAC,aAAD,CAFyB;AAGlCC,MAAI,EAAE,mEAH4B;;AAIlCG,QAAM,CAAC5iG,GAAD,EAAM;AACX,SAAK,MAAMoC,IAAX,IAAmBkmG,YAAnB,EAAiC;AAChC,YAAMp3H,MAAM,GAAGkxB,IAAI,CAACwgG,MAAL,CAAY5iG,GAAZ,CAAf;AACA,UAAI9uB,MAAJ,EAAY,OAAO,CAACkxB,IAAI,CAACygG,UAAN,EAAkB3xH,MAAlB,CAAP;AACZ;AACD,GATiC;;AAUlC2xH,YAAU,CAAChwH,IAAD,EAAO,CAACpG,OAAD,EAAUyE,MAAV,CAAP,EAA0B;AACnC,UAAMq3H,WAAW,GAAG,IAAIviE,GAAJ,CAAQnzD,IAAR,CAApB;AACA,WAAOpG,OAAO,CAAE,GAAE87H,WAAW,CAACrnD,MAAO,GAAEqnD,WAAW,CAAC3qD,QAAS,QAA9C,EAAuD1sE,MAAvD,CAAd;AACA;;AAbiC,CAApB,CAAf,E;;ACMA;AAEe,sDAAIqxH,IAAJ,CAAS,eAAT,EAA0B;AACxC7+H,MAAI,EAAE,eADkC;AAExC8+H,SAAO,EAAE,CAAC,WAAD,EAAc,WAAd,EAA2B,WAA3B,CAF+B;AAGxCC,MAAI,EAAE,gFAHkC;AAIxCG,QAAM,EAAE,CAAC;AAAE/vH;AAAF,GAAD,KAAe,oEAAD,CAAuE3H,IAAvE,CAA4E2H,IAA5E,CAJkB;;AAKxCgwH,YAAU,CAAChwH,IAAD,EAAO,GAAG21H,OAAH,CAAP,EAAoB;AAC7B,WAAO;AACNroI,UAAI,EAAE,OADA;AAENC,SAAG,EAAEyS,IAAI,CAACtO,OAAL,CAAa,gBAAb,EAA+B,QAA/B,CAFC;AAGN2+H,aAAO,EAAG,kEAAiEsF,OAAQ;AAH7E,KAAP;AAKA;;AAXuC,CAA1B,CAAf,E;;ACXA;AACA;;AAEA,SAASC,YAAT,CAAsBrmI,GAAtB,EAA2B;AAE1B,MAAIsmI,GAAG,GAAG,EAAV;AACA,MAAIv8C,GAAG,GAAG/pF,GAAV;;AAEA,KAAG;AACF,UAAM2iB,GAAG,GAAG1gB,IAAI,CAAC6nC,KAAL,CAAWigD,GAAG,GAAG,EAAjB,CAAZ;AACA,UAAMrlC,GAAG,GAAGqlC,GAAG,GAAI,KAAKpnE,GAAxB;AACA2jH,OAAG,GAAI,GAPM,4DAOJ,CAAM5hF,GAAN,CAAW,GAAE4hF,GAAI,EAA1B;AACAv8C,OAAG,GAAGpnE,GAAN;AACA,GALD,QAKSonE,GALT;;AAOA,SAAOu8C,GAAP;AACA;;AAEc,+CAAInG,IAAJ,CAAS,QAAT,EAAmB;AACjC7+H,MAAI,EAAE,QAD2B;AAEjC8+H,SAAO,EAAE,CAAC,YAAD,EAAe,SAAf,EAA0B,kBAA1B,CAFwB;AAGjCj6C,aAAW,EAAE,CAAC,wCAAD,CAHoB;AAIjCk6C,MAAI,EAAE,mCAJ2B;;AAKjCG,QAAM,CAAC;AAAE1hD,UAAF;AAAUruE,QAAV;AAAgB+qE;AAAhB,GAAD,EAA6B;AAClC,QAAIsD,MAAM,CAACC,QAAP,CAAgB,kBAAhB,CAAJ,EAAyC;AAExC,YAAM,GAAG/1E,EAAH,IAAU,6BAAD,CAAgCF,IAAhC,CAAqC0yE,QAArC,KAAkD,EAAjE;AAEA,UAAIxyE,EAAJ,EAAQ,OAAQ,qBAAoBq9H,YAAY,CAACpuG,QAAQ,CAACjvB,EAAD,EAAK,EAAL,CAAT,CAAmB,EAA3D;AACR,KALD,MAKO;AACN,aAAOyH,IAAP;AACA;AACD,GAdgC;;AAejC,QAAMgwH,UAAN,CAAiBhwH,IAAjB,EAAuB81H,YAAvB,EAAqC;AACpC,UAAMr2B,IAAI,GAAG,MAAM1xE,IAAI,CAAC;AACvBZ,SAAG,EAAE,wCADkB;AAEvByjD,WAAK,EAAE;AAAE93C,cAAM,EAAE,MAAV;AAAkB3L,WAAG,EAAE2oG;AAAvB,OAFgB;AAGvBxoI,UAAI,EAAE;AAHiB,KAAD,CAAvB;AAMA,UAAMyoI,WAAW,GAAG,uBAApB;AACA,UAAMxoI,GAAG,GAAGwoI,WAAW,CAACp9H,IAAZ,CAAiBm9H,YAAjB,IAAiCA,YAAjC,GACXC,WAAW,CAACp9H,IAAZ,CAAiB8mG,IAAI,CAACtyE,GAAtB,IAA6BsyE,IAAI,CAACtyE,GAAlC,GACA4oG,WAAW,CAACp9H,IAAZ,CAAiB8mG,IAAI,CAAC61B,aAAtB,IAAuC71B,IAAI,CAAC61B,aAA5C,GACAhkI,SAHD;;AAKA,QAAI,CAAC/D,GAAL,EAAU;AACT,YAAM,IAAIzB,KAAJ,CAAU,iBAAV,CAAN;AACA;;AAED,WAAO;AACNwB,UAAI,EAAE,OADA;AAEN0xF,WAAK,EAAEygB,IAAI,CAACzgB,KAFN;AAGNqxC,aAAO,EAAG,wBAAuB5wB,IAAI,CAAC81B,UAAW,KAAI91B,IAAI,CAAC+1B,WAAY,eAHhE;AAINjoI;AAJM,KAAP;AAMA;;AAtCgC,CAAnB,CAAf,E;;AClBA;AAEe,gDAAImiI,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,YAD4B;AAElC++H,MAAI,EAAE,gCAF4B;AAGlCD,SAAO,EAAE,CAAC,YAAD,CAHyB;AAIlCI,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,qCAAD,CAAwC1yE,IAAxC,CAA6C0yE,QAA7C,CAJQ;;AAKlCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGrS,IAAH,CAAP,EAAiB;AAC1B,UAAMwmI,KAAK,GAAI,sCAAqCxmI,IAAK,EAAzD;AAEA,WAAO;AACNL,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAG,GAAEA,KAAM,iBAFV;AAGNQ,mBAAa,EAAG,GAAER,KAAM,gBAHlB;AAINpxG,YAAM,EAAE,OAJF;AAKNpG,WAAK,EAAE,OALD;AAMNy3G,gBAAU,EAAE;AANN,KAAP;AAQA;;AAhBiC,CAApB,CAAf,E;;ACFA;AACA;AACA;AAEe,+CAAI1E,IAAJ,CAAS,QAAT,EAAmB;AACjC7+H,MAAI,EAAE,QAD2B;AAEjC8+H,SAAO,EAAE,CAAC,YAAD,CAFwB;AAGjCC,MAAI,EAAE,gCAH2B;AAIjCh/H,SAAO,EAAE;AACRolI,mBAAe,EAAE;AAChBh3C,WAAK,EAAE,4BADS;AAEhBsQ,iBAAW,EAAE,2BAFG;AAGhBx8F,WAAK,EAAE,KAHS;AAIhBxF,UAAI,EAAE;AAJU;AADT,GAJwB;AAYjCyiI,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,gDAAD,CAAmD1yE,IAAnD,CAAwD0yE,QAAxD,CAZO;;AAajC,QAAMilD,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAGzH,EAAH,CAAvB,EAA+B;AAC9B,UAAM09H,kBAAkB,GAAG,KAAKrlI,OAAL,CAAaolI,eAAb,CAA6BljI,KAAxD;AAEA,UAAM2sG,IAAI,GAAG,CAAC,MAAM1xE,IAAI,CAAC;AACxBZ,SAAG,EAAE9gB,sBAAM,CAACsgE,MAAO,qCAAoCp0E,EAAG,EADlC;AAExBjL,UAAI,EAAE,MAFkB;AAGxBkhF,cAAQ,EAAE5L,GAAGA;AAHW,KAAD,CAAX,EAITszD,OAJJ;AAMA,WAAO;AACN5oI,UAAI,EAAE,OADA;AAEN6oI,eAAS,EAAE12B,IAAI,CAAC02B,SAFV;AAGNhG,UAAI,EAAE,IAHA;AAINsE,WAAK,EAAE,CAACh1B,IAAI,CAACmxB,QAJP;AAKNwF,kBAAY,EAAE,CAAC,CAACp2H,IAAI,CAAChI,KAAL,CAAW,uBAAX,KAAuC,CAAC1G,SAAD,EAAY,CAAZ,CAAxC,EAAwD,CAAxD,CALT;AAMNq/H,YAAM,EAAEsF,kBAAkB,GAAGx2B,IAAI,CAAC42B,eAAR,GAA0B52B,IAAI,CAAC62B,SANnD;AAONr7D,aAAO,EAAE,CAACg7D,kBAAkB,IAAI;AAC/B5nH,cAAM,EAAEoxF,IAAI,CAAC82B,SADkB;AAE/BjpI,YAAI,EAAE;AAFyB,OAAvB,EAGN;AACF+gB,cAAM,EAAEoxF,IAAI,CAAC+2B,OADX;AAEFlpI,YAAI,EAAE;AAFJ,OAHM,EAMN;AACF+gB,cAAM,EAAEoxF,IAAI,CAACg3B,MADX;AAEFnpI,YAAI,EAAE;AAFJ,OANM,EASNiO,MATM,CASCw1D,CAAC,IAAIA,CATN,CAPH;AAiBN1qC,UAAI,EAAE,CAAC,CAACrmB,IAAI,CAAChI,KAAL,CAAW,wBAAX,KAAwC,CAAC1G,SAAD,EAAY,CAAZ,CAAzC,EAAyD,CAAzD,CAAD,GAA+DmuG,IAAI,CAAC02B;AAjBpE,KAAP;AAmBA;;AAzCgC,CAAnB,CAAf,E;;ACJA;AACA;AACA;AAEe,mDAAIzG,IAAJ,CAAS,MAAT,EAAiB;AAC/B7+H,MAAI,EAAE,UADyB;AAE/B8+H,SAAO,EAAE,CAAC,UAAD,EAAa,gBAAb,EAA+B,WAA/B,CAFsB;AAG/BC,MAAI,EAAE,4CAHyB;AAI/BG,QAAM,EAAE,CAAC;AAAE/vH;AAAF,GAAD,KACN,wEAAD,CAA2E3H,IAA3E,CAAgF2H,IAAhF,KACC,iDAAD,CAAoD3H,IAApD,CAAyD2H,IAAzD,CAN8B;;AAQ/B,QAAMgwH,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAGzH,EAAH,CAAvB,EAA+B;AAC9B,UAAM;AAAEm+H;AAAF,QAAY,MAAM3oG,IAAI,CAAC;AAC5BZ,SAAG,EAAG,wBAAuB50B,EAAG,EADJ;AAE5BjL,UAAI,EAAE,MAFsB;AAG5BkhF,cAAQ,EAAE5L,GAAGA;AAHe,KAAD,CAA5B;AAMA,WAAO;AACNt1E,UAAI,EAAE,OADA;AAEN6iI,UAAI,EAAE,IAFA;AAGN5rC,cAAQ,EAAG,gCAA+BhsF,EAAG,MAHvC;AAINk8H,WAAK,EAAE,IAJD;AAKNpmH,YAAM,EAAEqoH,KALF;AAMNz7D,aAAO,EAAE,CAAC;AACT5sD,cAAM,EAAG,gCAA+B9V,EAAG,OADlC;AAETjL,YAAI,EAAE;AAFG,OAAD,EAGN;AACF+gB,cAAM,EAAG,gCAA+B9V,EAAG,MADzC;AAEFjL,YAAI,EAAE;AAFJ,OAHM;AANH,KAAP;AAcA;;AA7B8B,CAAjB,CAAf,E;;;;;;ACJA;AACA;AACA;AAEe,8CAAIoiI,IAAJ,CAAS,OAAT,EAAkB;AAChC7+H,MAAI,EAAE,OAD0B;AAEhC8+H,SAAO,EAAE,CAAC,WAAD,CAFuB;AAGhCC,4BAHgC;AAIhCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,wDAAD,CAA2D1yE,IAA3D,CAAgE0yE,QAAhE,CAJM;;AAKhC,QAAMilD,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAGzH,EAAH,CAAvB,EAA+B;AAC9B,UAAM;AAAEsU;AAAF,QAAW,MAAMkhB,IAAI,CAAC;AAC3BZ,SAAG,EAAG,iCAAgC50B,EAAG,EADd;AAE3Bq4E,WAAK,EAAE;AAAE+lD,eAAO,EAAE;AAAX,OAFoB;AAG3BrpI,UAAI,EAAE;AAHqB,KAAD,CAA3B;AAMA,WAAO;AACNA,UAAI,EAAE,OADA;AAENi3F,cAAQ,EAAE13E,IAAI,CAACkoH,MAAL,CAAYt5G,QAAZ,CAAqB0R,GAFzB;AAGNgjG,UAAI,EAAE,IAHA;AAINsE,WAAK,EAAE,IAJD;AAKNx5D,aAAO,EAAE,CAAC;AACT5sD,cAAM,EAAExB,IAAI,CAACkoH,MAAL,CAAYt5G,QAAZ,CAAqBm7G,GADpB;AAETtpI,YAAI,EAAE;AAFG,OAAD;AALH,KAAP;AAUA;;AAtB+B,CAAlB,CAAf,E;;ACNA,GAAI6qC,aAAJ,CAAM,QAASxgC,aAAT,CAAWwgC,CAAX,CAAa,CAAC,KAAK,EAAEA,CAAC,CAAC/oC,MAAT,EAAiB,CAAC,GAAIuI,EAAC,CAACwgC,CAAC,CAAC7+B,KAAF,EAAN,CAAgB,GAAG,YAAY,MAAO3B,EAAtB,CAAwBA,CAAC,GAAzB,IAAgC,CAAC,GAAI7J,EAAC,CAAC6J,CAAC,CAACG,CAAR,CAAU,UAAU,MAAOhK,EAAjB,CAAmB,IAAK,EAAL,GAAS6J,CAAC,CAAC4N,CAAX,CAAanB,CAAC,CAACyyH,SAAF,CAAY/oI,CAAZ,CAAb,CAA4BsW,CAAC,CAAC0yH,UAAF,CAAahpI,CAAb,CAAe6J,CAAC,CAAC4N,CAAjB,CAA/C,CAAmEzX,CAAC,CAAC,IAAK,EAAL,GAAS6J,CAAC,CAAC4N,CAAX,CAAa,IAAb,CAAkB5N,CAAC,CAAC4N,CAArB,CAApE,CAA4F,CAAC,CAAC,SAASzX,aAAT,CAAWqqC,CAAX,CAAa,CAAC,MAAOA,EAAC,CAACzmC,OAAF,CAAU,gBAAV,CAA2B,SAASymC,CAAT,CAAW,CAAC,MAAOA,EAAC,EAAEA,CAAH,CAAKA,CAAL,CAAOA,CAAC,CAAC,IAAF,CAAOA,CAAP,CAAS,GAAvB,CAA2B,CAAlE,CAAP,CAA2E,SAASrjC,aAAT,EAAY,CAAC,GAAI6C,EAAC,CAAC7L,KAAK,EAAX,CAAc,GAAG,CAAC6L,CAAC,CAACiT,KAAN,CAAY,CAAC,GAAG,CAAC,KAAM9e,MAAK,CAAC,CAAD,CAAX,CAAe,OAAMqsC,CAAN,CAAQ,CAACxgC,CAAC,CAACwgC,CAAF,CAAI,IAAG,CAACxgC,CAAC,CAACiT,KAAN,CAAY,MAAM,4BAAN,CAAmC,OAAM,GAAGjT,CAAC,CAACiT,KAAX,CAAiB,SAASrF,EAAT,CAAW4yB,CAAX,CAAa,CAAC,GAAIxgC,EAAC,CAAC,GAAGwgC,CAAC,CAAC/oC,MAAF,EAAU,CAAb,CAAN,CAAsBtB,CAAC,CAACijE,YAAC,CAACp5D,CAAD,CAAzB,CAA6B7C,CAAC,CAACC,YAA/B,CAAiCwjC,CAAC,CAACzqC,CAAnC,CAAqC,GAAG,EAAE6J,CAAL,CAAO,CAACA,CAAC,CAAC4gC,CAAC,CAAC5gC,CAAF,CAAI,CAAN,CAAQ,IAAI,GAAIyM,EAAC,CAAC,CAAV,CAAYA,CAAC,CAAC+zB,CAAC,CAAC/oC,MAAhB,CAAuB,EAAEgV,CAAzB,CAA2B,CAAC,GAAImP,EAAC,CAAC4kB,CAAC,CAACjhC,UAAF,CAAakN,CAAb,CAAN,CAAsB,GAAG,OAAOmP,CAAP,EAAUA,CAAC,EAAE,KAAb,GAAqBA,CAAC,CAAC,OAAO,CAAC,KAAKA,CAAN,GAAU,EAAjB,EAAqB,KAAK4kB,CAAC,CAACjhC,UAAF,CAAa,EAAEkN,CAAf,CAAjD,EAAoEmP,CAAC,EAAE,GAA1E,CAA8E,CAAC,GAAG5b,CAAC,EAAE4gC,CAAN,CAAQ,MAAMzjC,CAAC,CAACyjC,CAAC,EAAF,CAAD,CAAOhlB,CAAP,CAAS,CAAtG,IAA0G,CAAC,GAAGA,CAAC,EAAE,IAAN,CAAW,CAAC,GAAG5b,CAAC,EAAE4gC,CAAC,CAAC,CAAR,CAAU,MAAMzjC,CAAC,CAACyjC,CAAC,EAAF,CAAD,CAAO,IAAIhlB,CAAC,EAAE,CAAd,CAAgB,CAA5C,IAAgD,CAAC,GAAGA,CAAC,EAAE,KAAN,CAAY,CAAC,GAAG5b,CAAC,EAAE4gC,CAAC,CAAC,CAAR,CAAU,MAAMzjC,CAAC,CAACyjC,CAAC,EAAF,CAAD,CAAO,IAAIhlB,CAAC,EAAE,EAAd,CAAiB,CAA9C,IAAkD,CAAC,GAAG5b,CAAC,EAAE4gC,CAAC,CAAC,CAAR,CAAU,MAAMzjC,CAAC,CAACyjC,CAAC,EAAF,CAAD,CAAO,IAAIhlB,CAAC,EAAE,EAAd,CAAiBze,CAAC,CAACyjC,CAAC,EAAF,CAAD,CAAO,IAAIhlB,CAAC,EAAE,EAAH,CAAM,EAAlC,CAAqC,CAAAze,CAAC,CAACyjC,CAAC,EAAF,CAAD,CAAO,IAAIhlB,CAAC,EAAE,CAAH,CAAK,EAAhB,CAAmB,CAAAze,CAAC,CAACyjC,CAAC,EAAF,CAAD,CAAO,IAAI,GAAGhlB,CAAd,CAAgB,CAAC,CAAAze,CAAC,CAACyjC,CAAD,CAAD,CAAK,CAAL,CAAO,OAAOzqC,EAAP,CAAS,SAASyqC,EAAT,CAAWJ,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiB,CAAC,GAAIgH,EAAC,CAACiiI,CAAC,EAAP,CAAU,UAAU,MAAOp/H,EAAjB,GAAqBA,CAAC,CAAC,EAAvB,EAA2B,IAAI,GAAI4gC,EAAC,CAAChzB,CAAC,CAAC5N,CAAD,CAAP,CAAWyM,CAAC,CAAC,CAAb,CAAemP,CAAC,CAAC,CAArB,CAAuBA,CAAC,CAAC5b,CAAC,CAACvI,MAA3B,CAAkC,EAAEmkB,CAApC,CAAsC,CAAC,GAAI8kB,EAAC,CAAC1gC,CAAC,CAACT,UAAF,CAAaqc,CAAb,CAAN,CAAsB,OAAO8kB,CAAP,EAAUA,CAAC,EAAE,KAAb,GAAqBA,CAAC,CAAC,OAAO,CAAC,KAAKA,CAAN,GAAU,EAAjB,EAAqB,KAAK1gC,CAAC,CAACT,UAAF,CAAa,EAAEqc,CAAf,CAAjD,EAAoE8kB,CAAC,EAAE,GAAH,CAAO,EAAEj0B,CAAT,CAAWA,CAAC,CAACi0B,CAAC,EAAE,IAAH,CAAQj0B,CAAC,CAAC,CAAV,CAAYi0B,CAAC,EAAE,KAAH,CAASj0B,CAAC,CAAC,CAAX,CAAaA,CAAC,CAAC,CAA5G,CAA8G,IAAG,UAAU,MAAOtW,EAAjB,EAAoB,OAAOA,CAA3B,GAA+BA,CAAC,CAAC,EAAjC,EAAqCqqC,CAAC,CAACA,CAAC,CAACI,CAAD,CAAG5gC,CAAC,CAACyM,CAAL,CAAOA,CAAC,CAACtW,CAAC,CAACkpI,QAAF,CAAW,CAAX,CAAa,CAAtB,CAAwBzjH,CAAC,CAAC,UAAU,MAAOzlB,EAAC,CAACmD,MAAnB,CAA0BsU,CAAC,CAACzX,CAAC,CAACmD,MAAH,CAA3B,CAAsC,CAAhE,CAAkEonC,CAAC,CAAC,UAAU,MAAOvqC,EAAC,CAACmpI,WAAnB,CAA+B1xH,CAAC,CAACzX,CAAC,CAACmpI,WAAH,CAAhC,CAAgD,CAApH,CAAsHnpI,CAAC,CAACopI,SAAF,CAAY,CAAZ,CAAc,CAApI,CAA3C,CAAkL,CAAC,IAAI3+F,CAAC,CAAC,CAACzqC,CAAC,CAACqqC,CAAH,EAAM+B,GAAR,CAAYviC,CAAC,CAAC,EAAlB,CAAqB,EAAE4gC,CAAC,EAAEzqC,CAAL,IAAUsW,CAAC,CAACrP,YAAC,CAACjH,CAAC,EAAF,CAAb,CAArB,EAA0C,IAAIsW,CAAJ,EAAOmP,CAAC,CAAC,GAAGxe,YAAC,CAACjH,CAAC,EAAF,CAAN,CAAY,MAAM,IAAIsW,CAAV,EAAazM,CAAC,EAAEf,MAAM,CAACC,YAAP,CAAoB,CAAC,GAAGuN,CAAJ,GAAQ,CAAR,CAAUmP,CAA9B,CAAhB,EAAkD8kB,CAAC,CAAC,GAAGtjC,YAAC,CAACjH,CAAC,EAAF,CAAN,CAAY,CAACsW,CAAC,CAAC,MAAM,IAAIA,CAAV,EAAa,CAAC,GAAGA,CAAJ,GAAQ,EAAR,CAAWmP,CAAC,EAAE,CAAd,CAAgB8kB,CAA7B,CAA+B,CAAC,EAAEj0B,CAAH,GAAO,EAAP,CAAUmP,CAAC,EAAE,EAAb,CAAgB8kB,CAAC,EAAE,CAAnB,CAAqB,GAAGtjC,YAAC,CAACjH,CAAC,EAAF,CAA3D,EAAkE,KAAlE,CAAwE6J,CAAC,EAAEf,MAAM,CAACC,YAAP,CAAoBuN,CAApB,CAA3E,CAAkGzM,CAAC,EAAEf,MAAM,CAACC,YAAP,CAAoB,MAAM,CAACuN,CAAC,EAAE,KAAJ,GAAY,EAAtC,CAAyC,MAAM,KAAKA,CAApD,CAAnK,CAAnB,EAA+OzM,CAAC,EAAEf,MAAM,CAACC,YAAP,CAAoBuN,CAApB,CAAlP,CAAyQtW,CAAC,CAAC6J,CAAF,CAAI,CAA1e,IAA+e7J,EAAC,CAAC,EAAF,CAAK,MAAO2vC,EAAC,CAACtF,CAAD,CAAD,CAAKg/F,CAAC,CAACriI,CAAD,CAAN,CAAUhH,CAAjB,CAAmB,CAAAqqC,YAAC,GAAGA,YAAC,CAAC,EAAL,CAAD,CAAU,GAAI/zB,EAAC,CAAC,EAAN,CAASmP,YAAC,CAAC,EAAX,CAAc,IAAIolB,YAAJ,GAASv0B,EAAT,CAAWA,CAAC,CAACxX,cAAF,CAAiB+rC,YAAjB,IAAsBplB,YAAC,CAAColB,YAAD,CAAD,CAAKv0B,CAAC,CAACu0B,YAAD,CAA5B,EAAiC,GAAIN,EAAC,CAACxtB,OAAO,CAAC68C,GAAR,CAAY/iC,IAAZ,CAAiB9Z,OAAjB,CAAN,CAAgC2tB,YAAC,CAAC3tB,OAAO,CAACC,IAAR,CAAa6Z,IAAb,CAAkB9Z,OAAlB,CAAlC,CAA6D,IAAI8tB,YAAJ,GAASplB,aAAT,CAAWA,YAAC,CAAC3mB,cAAF,CAAiB+rC,YAAjB,IAAsBv0B,CAAC,CAACu0B,YAAD,CAAD,CAAKplB,YAAC,CAAColB,YAAD,CAA5B,EAAiCplB,YAAC,CAAC,IAAF,CAAO,GAAI0W,EAAJ,CAAMmO,CAAN,CAAQrjC,YAAR,CAAU+iF,CAAV,CAAYpwE,YAAZ,CAAc+xB,YAAC,CAAC,CAAhB,CAAkBnB,CAAC,CAAC,CAAC,CAArB,CAAuBrO,CAAC,CAACviB,YAAC,CAACuiB,CAAC,CAAC7lB,CAAC,CAACkjE,MAAF,CAASljE,CAAC,CAACkjE,MAAX,CAAkB,GAAI8vD,YAAJ,CAAgB,QAAhB,CAAxB,CAAkDhzH,CAAC,CAACizH,KAAF,CAAQj/F,CAAC,CAAC,GAAIk/F,UAAJ,CAAc5vH,YAAd,CAA5D,CAA6EtD,CAAC,CAACmzH,MAAF,CAAS,GAAIC,WAAJ,CAAe9vH,YAAf,CAAtF,CAAwGtD,CAAC,CAACqzH,MAAF,CAAS3/C,CAAC,CAAC,GAAI4/C,WAAJ,CAAehwH,YAAf,CAAnH,CAAqItD,CAAC,CAACuzH,MAAF,CAAS5iI,YAAC,CAAC,GAAI6iI,WAAJ,CAAelwH,YAAf,CAAhJ,CAAkKtD,CAAC,CAACyzH,OAAF,CAAU,GAAIC,YAAJ,CAAgBpwH,YAAhB,CAA5K,CAA+LtD,CAAC,CAAC2zH,OAAF,CAAU,GAAIC,YAAJ,CAAgBtwH,YAAhB,CAAzM,CAA4NtD,CAAC,CAAC6zH,OAAF,CAAU,GAAIC,aAAJ,CAAiBxwH,YAAjB,CAAtO,CAA0PtD,CAAC,CAAC+zH,OAAF,CAAU,GAAIC,aAAJ,CAAiB1wH,YAAjB,CAApQ,CAAwRowE,CAAC,CAAC,IAAD,CAAD,CAAQ,OAAhS,CAAwS,GAAIjsF,EAAC,CAAC,EAAN,CAASiM,CAAC,CAAC,EAAX,CAActB,CAAC,CAAC,EAAhB,CAAmBurB,CAAC,CAAC,EAArB,CAAwB3d,CAAC,CAACi0H,eAAF,CAAkB,EAAlB,CAAqBj0H,CAAC,CAACk0H,eAAF,CAAkB,EAAvC,CAA0C/kH,YAAC,CAAC,IAA5C,CAAiDA,YAAC,CAAC,ilWAAnD,CAAqoW,GAAIolB,aAAC,CAAE,SAASR,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAe,CAAC,QAASylB,EAAT,CAAW4kB,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiB,CAAC6J,CAAC,EAAE,CAAH,CAAK,GAAI7C,EAAC,CAAC,KAAKqjC,CAAC,EAAE,CAAR,EAAW,CAAjB,CAAmB,GAAG,EAAErqC,CAAL,CAAO,CAACA,CAAC,CAAC,EAAEqqC,CAAJ,CAAM,GAAII,EAAC,CAAC,EAAEzjC,CAAR,CAAU,IAAIyjI,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAT,CAAWggG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAtB,CAAwBggG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAnC,CAAqCggG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAjD,CAAmDggG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAA/D,CAAiEggG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAA7E,CAA+EggG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAA3F,CAA6FggG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAzG,CAA2GggG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,EAAvH,CAA0HA,CAAC,CAAC,IAA5H,CAAiI5gC,CAAC,CAAC7J,CAAC,CAAC,GAAF,CAAM,CAA7I,CAA+IyqI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAF,CAASyqI,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAX,CAAkBA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAxB,CAA0B,CAAC,GAAGzqC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAT,CAAD,GAAe,EAAE6J,CAAjB,CAAzK,EAA8L,CAAE,CAAxN,IAA4N,CAAC7J,CAAC,CAAC,EAAEqqC,CAAJ,CAAMxgC,CAAC,EAAE,CAAT,CAAW4gI,EAAE,CAAC,CAAChgG,CAAC,CAAC,EAAEzjC,CAAL,GAAS,CAAV,CAAF,CAAe,CAA1B,CAA4ByjI,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAvC,CAAyCggG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAApD,CAAsDggG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAlE,CAAoEggG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAhF,CAAkFggG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAA9F,CAAgGggG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAA5G,CAA8GggG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAA1H,CAA4HggG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY5gC,CAAxI,CAA0I,IAAI,GAAIyM,EAAC,CAAC,IAAN,CAAWmP,CAAC,CAAC,CAACglB,CAAC,CAACzqC,CAAH,EAAM,GAAN,CAAU,CAA3B,CAA6ByqI,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAASggG,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAX,CAAkBA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAxB,CAA0B,CAAC,GAAGm0B,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAT,CAAD,GAAe,EAAEhlB,CAAjB,CAAvD,EAA4E,CAAC,EAAE5b,CAAF,CAAI,CAAJ,GAAQ4gI,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAApB,EAAuB,EAAE6J,CAAF,CAAI,CAAJ,GAAQ4gI,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAZ,CAAcyqI,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAlC,CAAvB,CAA4D,IAAI6J,CAAJ,CAAM,CAAN,GAAU4gI,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAtB,CAA5D,CAAqF,IAAGyqI,EAAE,CAACpgG,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAAb,CAAeogG,EAAE,CAACpgG,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,EAA5B,CAA+BogG,EAAE,CAACpgG,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,EAA5C,CAA+CA,CAAC,EAAE,CAAlD,CAAoDrjC,CAAC,EAAE,CAAvD,CAAyDhH,CAAC,CAAC,EAAEs9D,CAAC,CAAC,GAAD,CAAjE,CAAuE,CAAC,IAAI7yB,CAAC,CAAC,CAAC5gC,CAAC,CAAC7J,CAAH,EAAM,GAAN,CAAU,CAAhB,CAAkByqI,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS4gI,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAX,CAAkBA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAxB,CAA0B,CAAC,GAAGxgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAT,CAAD,GAAe,EAAE4gC,CAAjB,CAA5C,EAAiE,CAACH,CAAC,CAACtqC,CAAC,CAAC,GAAF,CAAM,CAAP,CAAS,CAAT,CAAD,CAAasqC,CAAC,CAACtqC,CAAC,CAAC,GAAF,CAAM,CAAP,CAAS,CAAT,CAAd,CAA0B0qI,EAAE,CAAC1qI,CAAC,CAAC,GAAF,CAAM,CAAP,CAAS,CAAT,CAAW,GAAX,CAA5B,CAA4C,CAAC,IAAI,EAAEyqI,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAR,GAAoB,IAAI,EAAEyqI,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAR,CAApB,EAAwC,EAAEyqI,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAA7C,IAA0D2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAAb,CAAe2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAA5B,CAA8B2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAA3C,CAA6C2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAApH,CAA5C,CAAmK,EAAEyqI,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAJ,GAAgB2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAA7B,CAAnK,CAAmM,EAAEyqI,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAJ,GAAgB2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAA7B,CAAnM,CAAmO,CAAC,IAAI,EAAEyqI,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAR,GAAoB,EAAEyqI,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAzB,IAAsC2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAAnD,CAAnO,CAAyR2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAAtS,CAAwS2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAArT,CAAuT2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAApU,CAAsU2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAAnV,CAAqV2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAAlW,CAAoW2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,EAAjX,CAAoX2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,EAAjY,CAAoY2qI,EAAE,CAAC3qI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,EAAjZ,CAAoZyqI,EAAE,CAACzqI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,GAAja,CAAqayqI,EAAE,CAACzqI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAagH,CAAlb,CAAobyjI,EAAE,CAACzqI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,EAAjc,CAAocyqI,EAAE,CAACzqI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,EAAjd,CAAodyqI,EAAE,CAACzqI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAAje,CAAme,CAA7mB,IAAknBA,EAAC,CAAC,CAAF,CAAI,MAAO,GAAEA,CAAT,CAAW,SAASuqC,EAAT,CAAWF,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiBgH,CAAjB,CAAmByjC,CAAnB,CAAqBn0B,CAArB,CAAuBmP,CAAvB,CAAyB,CAAC4kB,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU4gC,CAAC,EAAE,CAAb,CAAehlB,CAAC,EAAE,CAAlB,CAAoB,GAAI8kB,EAAC,CAAC,EAAEkgG,EAAE,CAAC,MAAM,CAACn0H,CAAC,EAAE,CAAJ,GAAQ,CAAd,GAAkB,CAAnB,CAAV,CAAgCmB,CAAC,CAAC,EAAEgzH,EAAE,CAAC,MAAMn0H,CAAC,EAAE,CAAT,GAAa,CAAd,CAAtC,CAAuDo0B,CAAC,CAAC,EAAE+/F,EAAE,CAAC,MAAMn0H,CAAC,EAAE,CAAT,GAAa,CAAd,CAA7D,CAA8E6lB,CAAC,CAAC,EAAEsuG,EAAE,CAAC,MAAMn0H,CAAC,EAAE,CAAT,GAAa,CAAd,CAApF,CAAqGm0H,EAAE,CAAC//F,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,EAAE1qC,CAAf,CAAiByqI,EAAE,CAAC//F,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,EAAE1jC,CAAhC,CAAkC,GAAIsjC,EAAC,CAAC,EAAE8yB,CAAC,CAAC,GAAD,CAAT,CAAe,MAAOp9D,EAAC,CAAC,EAAEyqI,EAAE,CAAC,CAACn0H,CAAC,CAACo0B,CAAC,CAAC,GAAF,CAAM,CAAT,GAAa,CAAd,CAAN,CAAuB,EAAEjlB,CAAF,GAAMglH,EAAE,CAAC,CAAChlH,CAAC,CAAC0W,CAAC,CAAC,GAAF,CAAM,CAAT,GAAa,CAAd,CAAF,CAAmBsO,CAAnB,CAAqBxjC,CAAC,CAACqjC,CAAD,CAAGD,CAAH,CAAKxgC,CAAL,CAAO4N,CAAP,CAAtB,CAAgCgzH,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAzC,CAA2CglH,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAF,EAAU,EAA3D,CAAvB,CAAsFm0H,EAAE,CAAC,CAACzjI,CAAC,CAAC0jC,CAAC,CAAC,GAAF,CAAM,CAAT,GAAa,CAAd,CAAF,CAAmBD,CAAzG,CAA2GxjC,CAAC,CAACqjC,CAAD,CAAGD,CAAH,CAAKxgC,CAAL,CAAO0gC,CAAP,CAA5G,CAAsHkgG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAAS,CAA/H,CAAiIyjI,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAF,CAAStW,CAA1I,CAA4IA,CAAC,CAAC,EAAEs9D,CAAC,CAAC,GAAGhnD,CAAC,CAAC,EAAEm0H,EAAE,CAACngG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,EAAmB,CAApB,CAAjJ,CAAwK,CAACqgG,EAAE,CAAC3qI,CAAC,CAACsW,CAAF,EAAK,CAAN,CAAF,CAAW,CAAZ,GAAgBtP,CAAC,CAAC,EAAEyjI,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAtB,GAA+BsgG,EAAE,CAAC,EAAE5qI,CAAH,CAAK,EAAEgH,CAAP,CAAS,EAAEsP,CAAX,CAAzM,CAAuNu0H,CAAC,CAACvgG,CAAD,CAAxN,CAA4N,EAAEtqC,CAArO,CAAuO,SAASgqF,EAAT,CAAW3/C,CAAX,CAAaxgC,CAAb,CAAe,CAACwgC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU,GAAI7J,EAAC,CAAC,CAAN,CAAQqqC,CAAC,CAAC,OAAO,CAAC,GAAG,IAAIrqC,CAAC,GAAG,CAAX,CAAa,CAAC,GAAIgH,EAAC,CAAC,CAAN,CAAQ,MAAM,IAAIyjC,EAAC,CAAC,EAAEU,CAAC,CAACnkC,CAAC,CAAC,EAAEyjI,EAAE,CAAC,IAAIzqI,CAAC,EAAE,CAAP,GAAW,CAAZ,CAAP,CAAT,CAAgC,GAAGyqC,CAAC,GAAG,CAAJ,CAAM5gC,CAAC,GAAG,CAAV,EAAa,IAAI,EAAEihI,CAAC,CAACzgG,CAAD,CAAGrjC,CAAH,CAAKyjC,CAAL,CAAP,CAAhB,CAAgC,CAAC,GAAG,EAAEsgG,EAAE,CAAC,KAAK/jI,CAAC,CAAC,EAAE2jI,EAAE,CAACtgG,CAAC,CAACI,CAAF,EAAK,CAAN,CAAX,CAAD,CAAP,CAA8B,CAACzjC,CAAC,CAAC,CAAF,CAAI,MAAM,QAAOA,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQA,CAAC,CAAC,CAAF,CAAI,KAAMqjC,EAAN,CAA9C,CAAuD,CAAArqC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,OAAO,GAAEgH,CAAT,CAAW,SAAS4S,EAAT,CAAWywB,CAAX,CAAaxgC,CAAb,CAAe,CAAC,GAAI7J,EAAJ,CAAM,GAAG,EAAE,EAAE+qI,EAAE,CAAC,EAAEC,EAAE,CAAC,CAAC3gG,CAAC,EAAE,CAAJ,GAAQ,CAAT,CAAL,CAAN,CAAH,CAA4B,MAAO,EAAP,CAAS,GAAIrjC,EAAC,CAAC,CAAC,EAAE6C,CAAH,EAAM,CAAN,CAAQ,CAAd,CAAgB,IAAIA,CAAC,CAAC,CAAF,CAAI7J,CAAC,CAAC,CAAV,CAAY,EAAEgH,CAAC,GAAG,CAAJ,EAAOhH,CAAC,GAAG,CAAb,CAAZ,EAA6B,CAAC,GAAIyqC,EAAC,CAAC,EAAEkgG,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAV,CAAmB,GAAG,IAAIyqC,CAAC,EAAE,EAAH,EAAO,EAAd,CAAiB,CAAC,GAAG,EAAE,IAAIA,CAAC,EAAE,EAAH,EAAO,EAAX,CAAc,IAAI,EAAEsgG,EAAE,CAAC,IAAItgG,CAAL,CAAR,CAAhB,CAAH,CAAqC,MAAM,CAA7D,IAAkE5gC,EAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ7J,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,OAAO,IAAG,IAAI,EAAE6J,CAAN,EAAS,CAAT,CAAW7J,CAAd,CAAP,CAAwB,SAASwqC,EAAT,CAAWH,CAAX,CAAaxgC,CAAb,CAAe,CAACwgC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU,GAAI7J,EAAJ,CAAMgH,CAAN,CAAQyjC,CAAC,CAAC,CAAV,CAAYn0B,CAAC,CAAC,CAAd,CAAgBmP,CAAC,CAAC,CAAlB,CAAoB8kB,CAAC,CAAC,CAAtB,CAAwB,IAAIvqC,CAAC,CAAC,CAAN,GAAU,CAAC,GAAG6J,CAAC,GAAG,CAAJ,EAAO7J,CAAC,GAAG,CAAd,CAAgB,CAACA,CAAC,CAAC6J,CAAF,CAAI,MAAM,IAAG,KAAK,EAAE8gI,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAT,CAAH,CAAsB,MAAMA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAAqqC,CAAC,CAAC,OAAO,CAAC,GAAG,CAACrqC,CAAJ,CAAM,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,EAAE,CAAC6J,CAAC,CAAC,EAAE8gI,EAAE,CAACtgG,CAAC,EAAEE,CAAC,CAACvqC,CAAC,CAAC,CAAC,CAAH,CAAK,CAAT,CAAD,EAAc,CAAf,CAAP,GAA2B,EAA3B,EAA+B,EAAjC,CAAH,CAAwC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAEorC,CAAC,CAAC,IAAD,CAAM,IAAIvhC,CAAV,CAAY,CAAZ,CAAL,CAAH,CAAwB,CAAC,OAAOA,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ4gC,CAAC,CAAC,EAAF,CAAK,KAAMJ,EAAN,CAAQ,IAAK,GAAL,CAAQI,CAAC,CAAC,EAAF,CAAK,KAAMJ,EAAN,CAAQ,IAAK,GAAL,CAAQ/zB,CAAC,CAAC,EAAF,CAAKmP,CAAC,CAAC,EAAP,CAAUglB,CAAC,CAAC,EAAZ,CAAe,KAAMJ,EAAN,CAAQ,IAAK,GAAL,CAAQI,CAAC,CAAC,EAAF,CAAK,KAAMJ,EAAN,CAAQ,IAAK,IAAL,CAASI,CAAC,CAAC,EAAF,CAAK,KAAMJ,EAAN,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ,KAAMA,EAAN,CAA5J,CAAoK,IAAIrqC,CAAC,CAAC6J,CAAC,CAAC7J,CAAC,CAAC,CAAC,CAAH,CAAK,CAAb,GAAiB,CAAC,GAAG,CAACA,CAAJ,CAAM,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,EAAE,CAAC,CAAC,GAAGgrI,EAAE,CAAC3gG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAN,EAAgB,EAAhB,CAAmB,CAApB,IAAyB,CAAzB,CAA2B,EAA3B,CAA8B,CAAhC,CAAH,CAAsC,MAAMA,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAP,CAAS,IAAGA,CAAC,GAAG,CAAJ,CAAM6J,CAAC,GAAG,CAAV,EAAa,KAAK,EAAE8gI,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAT,CAAhB,CAAmC,MAAM,CAAAA,CAAC,CAACuqC,CAAF,CAAI,CAArU,MAA2U,CAA3U,EAA8U,IAAG,KAAK,EAAEE,CAAP,GAAWn0B,CAAC,CAAC,EAAF,CAAKmP,CAAC,CAAC,EAAP,CAAUglB,CAAC,CAAC,EAAvB,EAA2B,KAAK,EAAEA,CAAP,GAAWn0B,CAAC,CAAC,GAAF,CAAMmP,CAAC,CAAC,GAAR,CAAYglB,CAAC,CAAC,EAAzB,EAA6B,KAAK,EAAEA,CAAP,GAAWhlB,CAAC,CAACnP,CAAC,CAAC,EAAJ,CAAOm0B,CAAC,CAAC,EAApB,EAAwB,KAAK,EAAEA,CAAP,IAAYhlB,CAAC,CAACnP,CAAC,CAAC,EAAJ,CAAOm0B,CAAC,CAAC,EAArB,CAAhF,CAAyG,KAAK,EAAEA,CAAP,CAA5G,CAAsH,CAAC,IAAIzjC,CAAC,CAACyjC,CAAC,CAAC5gC,CAAC,CAAC,CAAV,CAAY,CAAC,EAAEA,CAAH,IAAQ,EAAE7J,CAAV,CAAZ,EAA0B,CAAC,GAAIyX,EAAC,CAAC,EAAEkzH,EAAE,CAACtgG,CAAC,CAACxgC,CAAF,EAAK,CAAN,CAAV,CAAmB6gC,CAAC,CAAC,CAAC,EAAEp0B,CAAH,IAAQ,IAAImB,CAAJ,CAAM,CAAd,CAArB,CAAsC5N,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ4gC,CAAC,CAACA,CAAC,EAAE,EAAEC,CAAJ,CAAD,CAAQ,CAAlB,CAAoB1jC,CAAC,CAACA,CAAC,EAAEyQ,CAAC,EAAE,EAAH,EAAO,EAAP,EAAWgO,CAAC,EAAE,EAAH,EAAO,EAAlB,EAAsB,EAAEilB,CAAxB,EAA2B,CAA7B,CAAD,CAAiC,CAAvD,CAAyD,CAAA1qC,CAAC,CAAC,CAAC,EAAEgH,CAAH,IAAQ,EAAEyjC,CAAV,EAAazqC,CAAb,CAAeuqC,CAAjB,CAAmB,OAAO,GAAEvqC,CAAT,CAAW,SAAS+qC,EAAT,CAAWV,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiBgH,CAAjB,CAAmByjC,CAAnB,CAAqB,CAACJ,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAegH,CAAC,EAAE,CAAlB,CAAoByjC,CAAC,EAAE,CAAvB,CAAyB,EAAE,CAAC,GAAG,IAAI,EAAE5gC,CAAN,EAAS7C,CAAC,GAAG,CAAJ,CAAM,CAAf,EAAkB,CAAC,EAAEgkI,EAAE,CAAC3gG,CAAC,CAAC,CAAC,CAAH,EAAM,CAAP,CAAL,IAAkBI,CAAC,EAAE,EAAH,EAAO,EAAP,CAAU,CAA5B,CAArB,CAAoDJ,CAAC,CAAC,CAAF,CAApD,IAA4D,CAAC,GAAG,EAAExgC,CAAC,GAAG,CAAT,CAAW,CAAC,GAAG,KAAKwgC,CAAC,CAAC,CAACI,CAAC,CAAC,EAAEkgG,EAAE,CAACtgG,CAAC,CAAC,CAAC,CAAH,EAAM,CAAP,CAAP,GAAmB,EAAnB,EAAuB,EAA9B,CAAH,CAAqC,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,EAAEkY,CAAC,CAAClY,CAAD,CAAN,CAAU,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,OAAO,KAAI,EAAEgY,CAAC,CAAChY,CAAD,CAAP,EAAY,CAAnB,CAAqB,CAAAA,CAAC,CAAC,EAAErqC,CAAC,GAAG,CAAN,EAAS,KAAK,EAAE2qI,EAAE,CAACtgG,CAAC,CAAC,CAAC,CAAH,EAAM,CAAP,CAAT,CAAT,EAA8B,KAAK,EAAEsgG,EAAE,CAACtgG,CAAC,CAAC,CAAC,CAAH,EAAM,CAAP,CAAT,CAA9B,CAAkD,CAAlD,CAAoD,CAAtD,CAAwD,CAAC,CAA/N,MAAqO,CAArO,EAAwO,MAAO,GAAEA,CAAT,CAAW,SAASsF,EAAT,CAAWtF,CAAX,CAAaxgC,CAAb,CAAe,CAAC,GAAGwgC,CAAC,EAAE,CAAH,CAAK,CAACxgC,CAAC,EAAE,CAAJ,IAAS,CAAT,EAAY,QAApB,CAA6B,CAAC,GAAI7J,EAAC,CAACqqC,CAAC,CAAC,CAAF,CAAI,CAAV,CAAYrjC,CAAC,CAAC,EAAEyjI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAlB,CAAyB,GAAGgH,CAAC,GAAG,CAAJ,CAAM6C,CAAC,GAAG,CAAb,CAAe,CAAC,IAAI,GAAI4gC,EAAC,CAAC,EAAEggG,EAAE,CAACpgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAV,CAAoB/zB,CAAC,CAACtP,CAA1B,CAA4B,CAACsP,CAAC,CAACA,CAAC,CAACm0B,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAc5gC,CAAC,GAAG,CAA9C,EAAiD,CAAC7C,CAAC,CAAC,CAACA,CAAC,CAAC,EAAEikI,CAAC,CAAC,EAAER,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAL,CAAY/zB,CAAZ,CAAN,GAAuBm0H,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASrjC,CAAT,CAAWyjI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAF,CAASsW,CAApB,CAAsB,CAA7C,EAAgD,CAAC,CAAnD,CAAqD,CAAvH,IAA4HtP,EAAC,CAAC,CAAF,CAAI,CAAvL,IAA4LA,EAAC,CAAC,CAAC,CAAH,CAAK,MAAO,GAAEA,CAAT,CAAW,SAASo2D,EAAT,CAAW/yB,CAAX,CAAa,CAACA,CAAC,EAAE,CAAH,CAAK,GAAIxgC,EAAC,CAAC,EAAEyzD,CAAC,CAAC,EAAD,CAAT,CAAc,MAAO,GAAEzzD,CAAF,GAAM4gI,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAT,CAAW4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAtB,CAAwB4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAnC,CAAqC4gI,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAYwgC,CAAvD,EAA0D,EAAExgC,CAAnE,CAAqE,SAASqhI,GAAT,CAAY7gG,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkB,CAAC6J,CAAC,EAAE,CAAH,CAAK,GAAI7C,EAAC,CAAC,CAAN,CAAQyjC,CAAC,CAAC,GAAGJ,CAAC,EAAE,CAAN,EAAS,CAAnB,CAAqB/zB,CAAC,CAAC,EAAEm0H,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAA3B,CAAkChlB,CAAC,CAACnP,CAAC,EAAEtW,CAAC,EAAE,CAAL,CAAD,CAAS,CAA7C,CAA+C,CAAC,EAAEyqI,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,IAAiB,CAAjB,CAAmB5kB,CAAC,GAAG,CAAvB,CAAyB,IAAI,EAAEkqB,CAAC,CAACtF,CAAD,CAAG5kB,CAAH,CAAP,IAAgBnP,CAAC,CAAC,EAAEm0H,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAN,CAAazjC,CAAC,CAAC,CAA/B,CAAzB,CAA2DA,CAAC,CAAC,CAA7D,CAA+D,IAAI,EAAEA,CAAN,IAAW4jI,EAAE,CAAC,CAAC,EAAEH,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAL,EAAa/zB,CAAb,CAAe,CAAhB,CAAkB,EAAEzM,CAApB,CAAsB,EAAE7J,CAAxB,CAAF,CAA6ByqI,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAC,EAAEggG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAL,EAAazqC,CAA9D,CAA/D,CAAgI,SAAS6qC,EAAT,CAAWR,CAAX,CAAaxgC,CAAb,CAAe,CAACqhI,EAAE,CAAC,EAAE7gG,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU,EAAEshC,CAAC,CAACthC,CAAD,CAAb,CAAF,CAAoB,SAASshI,GAAT,CAAY9gG,CAAZ,CAAcxgC,CAAd,CAAgB,CAACA,CAAC,EAAE,CAAH,CAAK,GAAI7J,EAAC,CAAC,CAAN,CAAQgH,CAAC,CAAC,GAAGqjC,CAAC,EAAE,CAAN,EAAS,CAAnB,CAAqBI,CAAC,CAAC,EAAEggG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAA3B,CAAkCsP,CAAC,CAACm0B,CAAC,CAAC,CAAF,CAAI,CAAxC,CAA0C,CAAC,EAAEggG,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,IAAiB,CAAjB,CAAmB/zB,CAAC,GAAG,CAAvB,CAAyB,IAAI,EAAEq5B,CAAC,CAACtF,CAAD,CAAG/zB,CAAH,CAAP,IAAgBm0B,CAAC,CAAC,EAAEggG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAN,CAAahH,CAAC,CAAC,CAA/B,CAAzB,CAA2DA,CAAC,CAAC,CAA7D,CAA+D,IAAI,EAAEA,CAAN,IAAW2qI,EAAE,CAAC,CAAC,EAAEF,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAL,EAAaI,CAAb,EAAgB,CAAjB,CAAF,CAAsB5gC,CAAtB,CAAwB4gI,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAAS,GAAG,EAAEyjI,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAP,CAA5C,CAA/D,CAA2H,SAASyQ,EAAT,CAAW4yB,CAAX,CAAaxgC,CAAb,CAAe,CAACwgC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU,GAAI7J,EAAC,CAACorI,EAAN,CAASA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAW,IAAI,GAAIpkI,EAAC,CAAChH,CAAN,CAAQyqC,CAAC,CAACzjC,CAAC,CAAC,EAAF,CAAK,CAAnB,CAAqB,CAAC,GAAGA,CAAC,CAACA,CAAC,CAAC,CAAF,EAAK2jI,EAAE,CAAC3jI,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAd,CAAL,CAAD,GAA0B,EAAEyjC,CAA5B,CAArB,EAAqD,CAAC,GAAIn0B,EAAC,CAAC,CAAC,EAAEzM,CAAH,EAAM,CAAZ,CAAc4b,CAAC,CAAC,CAAhB,CAAkB,IAAIglB,CAAC,CAACn0B,CAAC,CAAC,EAAE,CAACzM,CAAJ,CAAMA,CAAb,CAAe7C,CAAC,CAACye,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQklH,EAAE,CAAC3qI,CAAC,CAACylB,CAAF,EAAK,CAAN,CAAF,CAAW,CAAC5b,CAAC,CAAC4gC,CAAH,GAAO,EAAE4gG,EAAE,CAAC5gG,CAAC,CAAC,CAAC,EAAEA,CAAH,EAAM,EAAN,CAAS,CAAZ,CAAc,CAAC,EAAf,CAAX,EAA+B,EAAlD,CAAqD,EAAE,CAAC,EAAE5gC,CAAH,GAAO,CAAT,CAApE,EAAiF4b,CAAC,CAACze,CAAF,CAAI,IAAIsP,CAAC,GAAGq0H,EAAE,CAAC3qI,CAAC,CAACgH,CAAF,EAAK,CAAN,CAAF,CAAW,EAAX,CAAcA,CAAC,CAACye,CAAC,CAAC,CAAF,CAAI,CAAvB,CAAD,CAA2BglB,CAAC,CAAC,CAAjC,CAAmC,EAAE,CAAC,GAAGzjC,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAV,CAAD,IAAiB,EAAEyjC,CAAnB,CAAF,CAAnC,EAA6D5gC,CAAC,CAAC,EAAE8gI,EAAE,CAAC,CAACllH,CAAC,CAACzlB,CAAC,CAACyqC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAN,CAAqBkgG,EAAE,CAACllH,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEklH,EAAE,CAAC,CAACr0H,CAAC,CAACtW,CAAC,CAACgH,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAlC,CAAiD2jI,EAAE,CAACr0H,CAAC,EAAE,CAAJ,CAAF,CAASzM,CAA1D,CAA4D4gC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAlE,CAAoEI,CAAC,CAACR,CAAD,CAAGrqC,CAAH,CAAD,CAAOorI,EAAE,CAACprI,CAAV,CAAY,SAAS6qI,EAAT,CAAWxgG,CAAX,CAAa,CAAC,GAAGA,CAAC,EAAE,CAAN,IAAWihG,EAAE,CAAC,EAAEb,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAeihG,EAAE,CAACjhG,CAAD,CAA5B,EAAiC,SAAS44B,EAAT,CAAW54B,CAAX,CAAa,CAAC,GAAGA,CAAC,EAAE,CAAN,IAAWihG,EAAE,CAAC,EAAEb,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAeogG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAxB,CAA0BogG,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAArC,CAAuCogG,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAA7D,EAAgE,SAASg/F,EAAT,CAAWh/F,CAAX,CAAaxgC,CAAb,CAAe,CAAC,CAACA,CAAC,EAAE,CAAJ,IAAS,CAAT,EAAY,CAAC,EAAE4gI,EAAE,CAAC,CAACpgG,CAAC,CAAC,GAAG,EAAEA,CAAL,EAAQ,CAAX,GAAe,CAAhB,CAAL,IAA2B,CAAvC,GAA2CogG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASxgC,CAApD,EAAuD,SAAS5C,EAAT,CAAWojC,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiBgH,CAAjB,CAAmB,CAACqjC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAegH,CAAC,EAAE,CAAlB,CAAoB,GAAIyjC,EAAC,CAAC,CAAN,CAAQn0B,CAAC,CAAC80H,EAAV,CAAaA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAW,GAAI3lH,EAAC,CAAC,EAAE23C,CAAC,CAAC,EAAD,CAAT,CAAc,GAAG,EAAE33C,CAAL,CAAO,CAACkqB,CAAC,CAAClqB,CAAD,CAAGzlB,CAAH,CAAD,CAAO,GAAIuqC,EAAC,CAACvjC,CAAC,CAAC,GAAF,CAAM,CAAZ,CAAcyjI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAT,CAAWkgG,EAAE,CAAClgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAtB,CAAwBkgG,EAAE,CAAClgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAnC,CAAqCkgG,EAAE,CAAClgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAjD,CAAmDkgG,EAAE,CAAClgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAA/D,CAAiEkgG,EAAE,CAAClgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAA7E,CAA+EkgG,EAAE,CAAClgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAA3F,CAA6F,IAAI,GAAI9yB,EAAC,CAAC,EAAEzX,CAAC,IAAIyqI,EAAE,CAAClgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAhB,CAAH,GAAwB9yB,CAAC,CAAC,IAAI,EAAEhV,CAAC,CAACoH,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAP,CAA1B,EAA8C,CAA9C,CAAgD,CAA1D,CAA4D,EAAE7J,CAAC,GAAG,CAAJ,EAAOyX,CAAC,GAAG,CAAb,CAA5D,EAA6E4yB,CAAC,CAAC,EAAE,CAAC,GAAIK,EAAC,CAAC7gC,CAAN,CAAQsyB,CAAC,CAAC1kB,CAAV,CAAY6yB,CAAC,CAACtqC,CAAd,CAAgBiH,CAAC,CAACqP,CAAlB,CAAoB0zE,CAAC,CAACz/C,CAAtB,CAAwBG,CAAC,EAAE,CAAH,CAAKJ,CAAC,EAAE,CAAR,CAAUrjC,CAAC,EAAE,CAAb,CAAe+iF,CAAC,EAAE,CAAlB,CAAoB,GAAIpwE,EAAJ,CAAM+xB,CAAN,CAAQnB,CAAC,CAAC,CAAV,CAAYzsC,CAAC,CAAC,GAAGo+B,CAAC,EAAE,CAAN,EAAS,CAAvB,CAAyBtyB,CAAC,CAAC,EAAE,CAAC,GAAG9L,CAAC,GAAG,CAAJ,CAAMusC,CAAC,GAAG,CAAb,CAAe,CAAC,GAAG,KAAK,EAAEqgG,EAAE,CAACjgG,CAAC,CAACvO,CAAF,EAAK,CAAN,CAAT,CAAH,EAAsB,GAAG,KAAK,EAAEwuG,EAAE,CAACjgG,CAAC,EAAEvO,CAAC,CAAC,CAAJ,CAAD,EAAS,CAAV,CAAT,CAAH,EAA0B,GAAG,KAAK,EAAEwuG,EAAE,CAACjgG,CAAC,EAAEvO,CAAC,CAAC,CAAJ,CAAD,EAAS,CAAV,CAAT,CAAH,CAA0B,CAAC,GAAG,KAAK,EAAEwuG,EAAE,CAACjgG,CAAC,CAAC3sC,CAAF,EAAK,CAAN,CAAT,CAAH,CAAsB,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAA,CAAC,CAAC,CAAF,CAAI,CAAhE,IAAqEA,EAAC,CAAC,CAAF,CAA/F,KAAwGA,EAAC,CAAC,CAAF,CAA9H,KAAuIA,EAAC,CAAC,CAAF,CAAI,GAAG,KAAK,EAAE4sI,EAAE,CAACjgG,CAAC,EAAE3sC,CAAC,CAACA,CAAC,CAACo+B,CAAF,CAAI,CAAR,CAAD,EAAa,CAAd,CAAT,CAAH,CAA8B,CAAC,GAAInyB,EAAC,CAAC2hC,CAAC,CAAC5tC,CAAC,CAAC,CAAF,CAAI,CAAZ,CAAciC,CAAC,CAAC,OAAO,CAAC,GAAGsqC,CAAC,GAAG,CAAJ,EAAOtgC,CAAC,GAAG,CAAd,CAAgB,CAACjM,CAAC,CAAC,CAAF,CAAI,KAAM8L,EAAN,CAAQ,QAAO,EAAE8gI,EAAE,CAACjgG,CAAC,CAAC1gC,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQjM,CAAC,CAAC,CAAF,CAAI,KAAM8L,EAAN,CAAQ,IAAK,GAAL,CAAQ,KAAM7J,EAAN,CAAzD,CAAiEgK,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAItB,EAAC,CAACsB,CAAC,CAAC,CAAF,CAAI,CAAV,CAAY,GAAGtB,CAAC,GAAG,CAAJ,CAAM4hC,CAAC,GAAG,CAAV,EAAa,KAAK,EAAEqgG,EAAE,CAACjgG,CAAC,CAAChiC,CAAF,EAAK,CAAN,CAAT,CAAhB,CAAmC,CAAC3K,CAAC,CAACiM,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQhK,CAAC,CAAC,KAAK,EAAEsqC,CAAC,GAAG,CAAJ,EAAOvsC,CAAC,GAAG,CAAb,CAAL,EAAsB,CAAC,OAAO,CAACo+B,CAAC,CAAC,EAAEwuG,EAAE,CAACjgG,CAAC,CAAC3sC,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA7B,EAAiC,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQysC,CAAC,CAAC,EAAF,CAAK,KAAMxqC,EAAN,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ,KAAMA,EAAN,CAApF,CAA4FjC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAG,KAAK,EAAEysC,CAAP,CAAH,CAAa,CAAC,GAAIvW,EAAC,CAACl2B,CAAC,CAAC,CAAF,CAAI,CAAV,CAAYA,CAAC,CAACk2B,CAAC,GAAG,CAAJ,CAAMqW,CAAC,GAAG,CAAV,EAAa,IAAInO,CAAC,EAAE,EAAH,EAAO,EAAxB,EAA4B,KAAK,EAAEwuG,EAAE,CAACjgG,CAAC,CAACzW,CAAF,EAAK,CAAN,CAAT,CAA5B,CAA+Cl2B,CAAC,CAAC,CAAF,CAAI,CAAnD,CAAqDk2B,CAAvD,CAAyD,QAAO,CAAC,GAAGqW,CAAC,GAAG,CAAJ,EAAOvsC,CAAC,GAAG,CAAd,CAAgB,CAACA,CAAC,CAAC,CAAF,CAAI,KAAM8L,EAAN,CAAQ,IAAG,IAAI,CAACsyB,CAAC,CAAC,EAAEwuG,EAAE,CAACjgG,CAAC,CAAC3sC,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA7B,CAAgC,MAAMA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAAA,CAAC,CAAC2K,CAAC,CAAC3K,CAAC,EAAE,IAAIo+B,CAAC,EAAE,EAAH,EAAO,EAAX,CAAc,CAAhB,CAAD,CAAoB,CAAxB,CAA0Bn8B,CAAC,CAAC,KAAK,EAAEsqC,CAAC,GAAG,CAAJ,EAAOvsC,CAAC,GAAG,CAAb,CAAL,EAAsB,CAAC,OAAO,EAAE4sI,EAAE,CAACjgG,CAAC,CAAC3sC,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,KAAMiC,EAAN,CAA7C,CAAqDjC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAI8sC,EAAC,CAAC9sC,CAAC,CAAC,CAAC,CAAH,CAAK,CAAX,CAAa8sC,CAAC,CAAC,KAAK,EAAE8/F,EAAE,CAACjgG,CAAC,CAACG,CAAF,EAAK,CAAN,CAAT,EAAmBA,CAAnB,CAAqB9sC,CAAvB,CAAyBiC,CAAC,CAAC,OAAO,CAAC,GAAGsqC,CAAC,GAAG,CAAJ,EAAOvsC,CAAC,GAAG,CAAd,CAAgB,CAACysC,CAAC,CAAC,EAAF,CAAK,MAAM,QAAO,EAAEmgG,EAAE,CAACjgG,CAAC,CAAC3sC,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQysC,CAAC,CAAC,EAAF,CAAK,KAAMxqC,EAAN,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQm8B,CAAC,CAAC,CAAF,CAAI,KAAMn8B,EAAN,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQjC,CAAC,CAAC,CAAF,CAAI,KAAM8L,EAAN,CAAhH,CAAwH9L,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAG,KAAK,EAAEysC,CAAP,IAAYrO,CAAC,CAACp+B,CAAd,EAAiB6b,CAAC,CAAC,CAACqa,CAAC,CAACl2B,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAcusC,CAAC,GAAG,CAAlB,EAAqB,KAAK,EAAEqgG,EAAE,CAACjgG,CAAC,CAAC3sC,CAAF,EAAK,CAAN,CAAT,CAArB,EAAyC,KAAK,EAAE4sI,EAAE,CAACjgG,CAAC,CAACzW,CAAF,EAAK,CAAN,CAAT,CAAzC,CAA4DA,CAA5D,CAA8DkI,CAApF,CAAsF,CAAC,IAAIA,CAAC,CAACviB,CAAN,CAAQ,EAAE0wB,CAAC,GAAG,CAAJ,EAAO,CAACvsC,CAAC,CAACo+B,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAArB,GAAyB,KAAK,EAAEwuG,EAAE,CAACjgG,CAAC,CAAC3sC,CAAF,EAAK,CAAN,CAAT,CAAjC,EAAqDo+B,CAAC,CAACp+B,CAAF,CAAIk2B,CAAC,CAACkI,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAAn8B,CAAC,CAAC,EAAE,CAAC,GAAGi0B,CAAC,GAAG,CAAJ,CAAMqW,CAAC,GAAG,CAAb,CAAe,CAAC,OAAO,EAAEqgG,EAAE,CAACjgG,CAAC,CAAC3sC,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQk2B,CAAC,CAACqW,CAAC,CAAC,CAAJ,CAAMvsC,CAAC,CAAC6b,CAAR,CAAU,KAAM5Z,EAAN,CAArE,CAA6Em8B,CAAC,CAAClI,CAAF,CAAIjtB,CAAC,CAAC,OAAO,CAAC,GAAGsjC,CAAC,GAAG,CAAJ,EAAOnO,CAAC,GAAG,CAAd,CAAgB,CAACqO,CAAC,CAAC,EAAF,CAAK,MAAM,QAAOzsC,CAAC,CAACo+B,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,EAAEwuG,EAAE,CAACjgG,CAAC,CAACvO,CAAF,EAAK,CAAN,CAAnB,EAA6B,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,KAAMn1B,EAAN,CAAQ,QAAQm1B,CAAC,CAACp+B,CAAF,CAA7D,CAAkE,MAAK,EAAEysC,CAAP,IAAYzsC,CAAC,CAACo+B,CAAC,CAAC,CAAF,CAAI,CAAlB,EAAqBp+B,CAAC,GAAG,CAAJ,CAAMusC,CAAC,GAAG,CAAV,EAAa,KAAK,EAAEqgG,EAAE,CAACjgG,CAAC,CAACvO,CAAF,EAAK,CAAN,CAAT,CAAb,EAAiC,KAAK,EAAEwuG,EAAE,CAACjgG,CAAC,CAAC3sC,CAAF,EAAK,CAAN,CAAT,CAAjC,GAAsDA,CAAC,CAACo+B,CAAxD,CAArB,CAAgFn1B,CAAC,CAAC,OAAO,CAAC,GAAG,CAACm1B,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAR,IAAa,CAAb,EAAgBlI,CAAC,GAAG,CAAvB,CAAyB,CAACqW,CAAC,CAACrW,CAAF,CAAIA,CAAC,CAACl2B,CAAN,CAAQA,CAAC,CAAC6b,CAAV,CAAY,KAAM5Z,EAAN,CAAQ,QAAO,EAAE2qI,EAAE,CAACjgG,CAAC,CAACvO,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQ,MAAM,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,KAAMn1B,EAAN,CAAQ,QAAQsjC,CAAC,CAACrW,CAAF,CAAIA,CAAC,CAACl2B,CAAN,CAAQA,CAAC,CAAC6b,CAAV,CAAY,KAAM5Z,EAAN,CAAvF,CAAgG,CAAAsqC,CAAC,CAACrW,CAAF,CAAIA,CAAC,CAACkI,CAAN,CAAQ,CAAzb,IAA8blI,EAAC,CAACqW,CAAC,CAAC,CAAJ,CAAMvsC,CAAC,CAAC6b,CAAR,CAAU,CAA3c,MAAid,CAAjd,EAAod7b,CAAC,CAAC,CAAC,EAAE8sC,CAAH,IAAQ,EAAEniC,CAAV,EAAa,IAAI,EAAE3K,CAAN,CAAb,CAAsB,CAAtB,EAAyB,EAAEkJ,CAAF,GAAMwjI,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAF,CAASlJ,CAAf,EAAkBisF,CAAC,EAAE7tD,CAAC,CAAC6tD,CAAF,CAAIjsF,CAAC,CAAC2sC,CAAC,CAACiB,CAAF,CAAI,CAAV,CAAYA,CAAC,CAAC3hC,CAAC,CAAC2hC,CAAF,CAAI,CAAlB,CAAoBxP,CAAC,EAAE,CAAvB,CAAyBp+B,CAAC,EAAE,CAA5B,CAA8B4tC,CAAC,EAAE,CAAjC,CAAmC,CAAC3hC,CAAC,CAAC,EAAEuhI,EAAE,CAAC,CAAD,CAAG,EAAH,CAAP,GAAgB5/F,CAAC,CAAC,EAAE6/F,CAAC,CAACztI,CAAD,CAAG4tC,CAAH,CAAL,CAAW8+F,EAAE,CAACzgI,CAAC,EAAE,CAAJ,CAAF,CAAS2hC,CAApB,CAAsB8+F,EAAE,CAACzgI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAYygI,EAAE,CAAC,CAAC9+F,CAAC,CAACxP,CAAC,EAAE,CAAC,EAAEwP,CAAH,GAAO,CAAT,CAAD,CAAa,CAAhB,GAAoB,CAArB,CAApC,CAA4D8+F,EAAE,CAAC9+F,CAAC,EAAE,CAAJ,CAAF,CAAS3hC,CAArF,EAAwFA,CAAC,CAAC,CAA7H,CAA+H,CAACmyB,CAAC,CAAC,EAAEnyB,CAAL,GAASggF,CAAC,CAAC,EAAE5sB,CAAC,CAACr/D,CAAC,CAAC8sC,CAAC,CAACniC,CAAF,CAAI,CAAP,CAAL,CAAewiI,EAAE,CAACT,EAAE,CAACtuG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW6tD,CAAZ,CAAct/C,CAAC,CAAChiC,CAAF,CAAI,CAAlB,CAAoB3K,CAApB,CAAjB,CAAwCA,CAAC,CAACk2B,CAAC,CAACqW,CAAF,CAAI,CAA9C,CAAgDA,CAAC,GAAG,CAAJ,CAAMrW,CAAC,GAAG,CAAV,GAAc+1D,CAAC,CAAC,EAAE5sB,CAAC,CAACr/D,CAAD,CAAL,CAASmtI,EAAE,CAACT,EAAE,CAACtuG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW6tD,CAAZ,CAAct/C,CAAC,CAACJ,CAAF,CAAI,CAAlB,CAAoBvsC,CAApB,CAAzB,CAAhD,CAAiG,CAA1G,EAA6G,CAA9O,EAAiP,CAA7R,CAAF,CAAkS,CAA3hD,IAAgiDA,EAAC,CAAC,CAAF,CAAI,CAA7sD,IAAktDA,EAAC,CAAC,CAAF,CAAI,CAAj3D,IAAs3DA,EAAC,CAAC,CAAF,CAAI,CAA73D,MAAm4D,CAAn4D,EAAs4D,GAAG,EAAEA,CAAL,CAAO0Z,CAAC,CAAC,EAAEgzH,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAN,CAAP,IAAwB,CAACrP,CAAC,CAACwQ,CAAF,CAAI5N,CAAC,CAAC,KAAK,EAAE7J,CAAC,GAAG,CAAJ,EAAOiH,CAAC,GAAG,CAAb,CAAL,EAAsB,CAAC,OAAO,EAAE0jI,EAAE,CAAC9gI,CAAC,CAAC5C,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,KAAM4C,EAAN,CAArC,CAA6C5C,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAGwQ,CAAC,GAAG,CAAJ,CAAM,CAACgzH,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAF,CAASrP,CAAV,IAAe,CAAxB,CAA0B,CAAC,IAAIyjC,CAAC,CAACjlB,CAAF,CAAI6kB,CAAC,CAACzgC,CAAC,CAAC4N,CAAF,CAAI,CAAV,CAAYA,CAAC,CAACxQ,CAAC,CAACwQ,CAAF,CAAI,CAAlB,CAAoBizB,CAAC,EAAE,CAAvB,CAAyBJ,CAAC,EAAE,CAA5B,CAA8B7yB,CAAC,EAAE,CAAjC,CAAmCxQ,CAAC,CAACgtB,CAAC,CAAC,CAA3C,CAA6C,EAAExc,CAAC,GAAG,CAAJ,EAAOwc,CAAC,GAAG,CAAb,CAA7C,EAA8D,CAAC,IAAI4W,CAAC,CAAC5W,CAAN,GAAU,CAAC,GAAGxc,CAAC,GAAG,CAAJ,EAAOozB,CAAC,GAAG,CAAd,CAAgB,CAACm/C,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,IAAI,EAAE2gD,EAAE,CAACrgG,CAAC,CAACO,CAAF,EAAK,CAAN,CAAR,CAAH,CAAqB,CAACm/C,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAn/C,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ5jC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAd,CAAgB,IAAGgtB,CAAC,GAAG,CAAJ,CAAM4W,CAAC,GAAG,CAAV,EAAaqgG,EAAE,CAACxgG,CAAD,CAAGJ,CAAC,CAACrW,CAAF,CAAI,CAAP,CAAS4W,CAAC,CAAC5W,CAAF,CAAI,CAAb,CAAf,CAA+B,CAAC+1D,CAAnC,CAAqC,MAAM,KAAKmhD,EAAE,CAACzgG,CAAD,CAAG,EAAH,CAAF,CAAS,IAAI,GAAGzjC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAT,EAAY,CAAhB,CAAd,EAAkC,CAACgtB,CAAC,CAAC4W,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAApzB,CAAC,CAAC,EAAEgzH,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAN,CAAa,CAAnR,IAAwRmB,EAAC,CAACxQ,CAAF,CAAI,OAAO,CAAC,GAAGjH,CAAC,GAAG,CAAJ,EAAOyX,CAAC,GAAG,CAAd,CAAgB,KAAM4yB,EAAN,CAAQ,OAAO,EAAEsgG,EAAE,CAAC9gI,CAAC,CAAC4N,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQgzB,CAAC,CAAC,EAAF,CAAK,MAAM,IAAK,GAAL,CAAQ,CAAChzB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAczX,CAAC,GAAG,CAAlB,EAAqB,KAAK,EAAE2qI,EAAE,CAAC9gI,CAAC,CAAC4N,CAAF,EAAK,CAAN,CAAT,CAArB,GAA0CgzB,CAAC,CAAC,EAA5C,EAAgD,MAAM,QAAQ,KAAMJ,EAAN,CAA9G,CAAsH,KAAK,EAAEI,CAAP,IAAYA,CAAC,CAAC,CAAF,CAAI0gG,EAAE,CAAC1lH,CAAD,CAAG,EAAH,CAAN,CAAahO,CAAC,CAAC,GAAG,EAAEgzH,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAP,EAAe,CAA1C,EAA6Cm0H,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAF,CAASmB,CAAtD,CAAwD,CAAC,CAAC,CAAviF,MAA6iF,CAA7iF,EAAgjF,GAAGk4B,CAAC,CAACtF,CAAD,CAAG,CAAC,CAAC5yB,CAAC,CAAC,EAAEgzH,EAAE,CAAC,CAAC5gI,CAAC,CAAC4b,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAP,IAAyB,CAA1B,EAA6BhO,CAA7B,CAA+B,CAAlC,CAAD,CAAsC,CAACxQ,CAAC,CAAC,EAAEwjI,EAAE,CAACzjI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAP,IAAqBykI,EAAE,CAAC,EAAExkI,CAAH,CAAF,CAAQojC,CAAR,CAAU,EAAEogG,EAAE,CAACzjI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAd,EAA0ByQ,CAAC,CAAC,EAAEgzH,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAArD,CAAtC,CAAmG,EAAE4N,CAAxG,CAA0G,CAAC,OAAO,EAAEkzH,EAAE,CAAC,CAAC1jI,CAAC,CAAC,EAAEwjI,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAP,GAAgBhO,CAAC,CAAC,CAAC,CAAnB,GAAuB,CAAxB,CAAX,EAAuC,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ0zH,EAAE,CAAC1lH,CAAD,CAAG,EAAH,CAAF,CAASxe,CAAC,CAAC,EAAEwjI,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAf,CAAsBhO,CAAC,CAAC,EAAEgzH,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAA5B,CAArE,CAAwG6hI,EAAE,CAACrhG,CAAD,CAAGrjC,CAAH,CAAKC,CAAL,CAAOwQ,CAAP,CAAF,CAAY,KAAI,GAAGA,CAAC,CAAC,EAAEgzH,EAAE,CAACzjI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAT,GAAsBykI,EAAE,CAAC,EAAEh0H,CAAH,CAAF,CAAQ4yB,CAAR,CAAU,EAAEogG,EAAE,CAACzjI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAd,CAAtB,CAAgD6jI,CAAC,CAACplH,CAAD,CAAjD,CAAqD4kB,CAAC,CAAC,EAAEE,CAAzD,CAA2D1gC,CAAC,CAAC,CAAjE,CAAmE,IAAI,EAAEA,CAAN,CAAnE,EAA6E,CAAC,IAAI7J,CAAC,CAAC,EAAEyqI,EAAE,CAACpgG,CAAC,EAAExgC,CAAC,EAAE,CAAL,CAAD,EAAU,CAAX,CAAV,CAAwB7J,CAAxB,EAA2BgH,CAAC,CAAC,EAAEyjI,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAN,CAAgB6qI,CAAC,CAAC,EAAEJ,EAAE,CAACzqI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,CAAjB,CAAgC6qI,CAAC,CAAC,EAAEJ,EAAE,CAACzqI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,CAAjC,CAAgDsrI,EAAE,CAACtrI,CAAD,CAAlD,CAAsDA,CAAC,CAACgH,CAAxD,CAA0D6C,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAC,CAAAuhI,EAAE,CAAC90H,CAAH,CAAK,SAASo1H,GAAT,CAAYrhG,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkBgH,CAAlB,CAAoB,CAACqjC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAegH,CAAC,EAAE,CAAlB,CAAoB,GAAIyjC,EAAC,CAAC,CAAN,CAAQn0B,CAAC,CAAC,CAAV,CAAYmP,CAAC,CAAC,CAAd,CAAgB8kB,CAAC,CAAC,CAAlB,CAAoB9yB,CAAC,CAAC,CAAtB,CAAwBizB,CAAC,CAAC,CAA1B,CAA4BvO,CAAC,CAAC,CAA9B,CAAgCmO,CAAC,CAAC,CAAlC,CAAoCrjC,CAAC,CAAC,CAAtC,CAAwC+iF,CAAC,CAAC,CAA1C,CAA4C3/C,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAEogG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAL,GAAkB,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAtB,EAAkC,CAAnC,IAAwC,CAAxC,EAA2C,CAAC,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAL,IAAmB,CAAjE,CAAmE,IAAI4N,CAAC,CAAC5N,CAAC,CAAC,EAAF,CAAK,CAAP,CAAS6gC,CAAC,CAAC7gC,CAAC,CAAC,GAAF,CAAM,CAAjB,CAAmBsyB,CAAC,CAACtyB,CAAC,CAAC,EAAF,CAAK,CAA1B,CAA4BygC,CAAC,CAACzgC,CAAC,CAAC,GAAF,CAAM,CAApC,CAAsC4gC,CAAC,CAAC,CAA5C,GAAgD,CAAC,GAAGzjC,CAAC,GAAG,CAAJ,EAAOyjC,CAAC,GAAG,CAAd,CAAgB,KAAMJ,EAAN,CAAQ5kB,CAAC,CAACzlB,CAAC,CAACyqC,CAAF,CAAI,CAAN,CAAQF,CAAC,CAACvjC,CAAC,CAACyjC,CAAF,CAAI,CAAd,CAAgB5gC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE8hI,EAAE,CAAC9hI,CAAD,CAAG4b,CAAH,CAAK8kB,CAAL,CAAP,CAAe,CAAC,GAAI3wB,EAAC,CAACywB,CAAN,CAAQsB,CAAC,CAAC9hC,CAAV,CAAY2gC,CAAC,CAAC/kB,CAAd,CAAgB1nB,CAAC,CAACwsC,CAAlB,CAAoB3wB,CAAC,EAAE,CAAH,CAAK+xB,CAAC,EAAE,CAAR,CAAUnB,CAAC,EAAE,CAAb,CAAezsC,CAAC,EAAE,CAAlB,CAAoB,GAAIiM,EAAC,CAAC,CAAN,CAAQtB,CAAC,CAAC,CAAV,CAAYurB,CAAC,CAAC,CAAd,CAAgB4W,CAAC,CAAC,CAAlB,CAAoBE,CAAC,CAAC,CAAtB,CAAwB,IAAIF,CAAC,CAAC,CAAN,CAAQA,CAAC,GAAG,CAAJ,CAAM9sC,CAAC,GAAG,CAAV,CAAY8sC,CAAC,GAAG,CAAJ,CAAM,CAAlB,EAAqB,KAAK,EAAE8/F,EAAE,CAACngG,CAAC,CAACK,CAAF,EAAK,CAAN,CAAT,CAA7B,EAAiDA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAI5W,CAAC,CAAC4W,CAAN,CAAQ,EAAE9sC,CAAC,GAAG,CAAJ,EAAOk2B,CAAC,GAAG,CAAb,GAAiB,KAAK,EAAE02G,EAAE,CAACngG,CAAC,CAACvW,CAAF,EAAK,CAAN,CAAT,CAAzB,EAA6CA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAI8W,CAAC,CAAC9W,CAAN,CAAQ,EAAEl2B,CAAC,GAAG,CAAJ,EAAOgtC,CAAC,GAAG,CAAb,GAAiB,KAAK,EAAE4/F,EAAE,CAACngG,CAAC,CAACO,CAAF,EAAK,CAAN,CAAT,CAAzB,EAA6CA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAIhtC,CAAC,CAACgtC,CAAN,GAAU,CAAC,GAAG,CAAChtC,CAAJ,CAAM,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,KAAK,EAAE4sI,EAAE,CAACngG,CAAC,EAAExgC,CAAC,CAACjM,CAAC,CAAC,CAAC,CAAH,CAAK,CAAT,CAAD,EAAc,CAAf,CAAT,CAAH,CAA+B,MAAMA,CAAC,CAACiM,CAAF,CAAI,MAAKjM,CAAL,EAAQ,CAAC,GAAG,KAAK,EAAE4sI,EAAE,CAACngG,CAAC,EAAExgC,CAAC,CAACjM,CAAC,CAAC,CAAC,CAAH,CAAK,CAAT,CAAD,EAAc,CAAf,CAAT,CAAH,CAA+B,CAAC2K,CAAC,CAAC,EAAF,CAAK,MAAM,CAAA3K,CAAC,CAACiM,CAAF,CAAI,MAAK,EAAEtB,CAAP,GAAWurB,CAAC,GAAG,CAAJ,CAAMl2B,CAAC,GAAG,CAArB,GAAyB6tI,EAAE,CAAC5hI,CAAC,CAAC,EAAE6hI,EAAE,CAAClgG,CAAD,CAAG,CAAH,CAAP,CAAaA,CAAb,CAAenB,CAAC,CAACvW,CAAF,CAAI,CAAnB,CAAqBl2B,CAAC,CAACk2B,CAAF,CAAI,CAAzB,CAAF,CAA8B,GAAGl2B,CAAC,CAAC,EAAE0sI,EAAE,CAAC9+F,CAAC,CAAC,EAAF,EAAM,CAAP,CAAT,GAAqBmgG,EAAE,CAAC,EAAE/tI,CAAH,CAAF,CAAQ6b,CAAR,CAAU5P,CAAV,CAAY6gC,CAAZ,CAAc,EAAE4/F,EAAE,CAAC9+F,CAAC,CAAC,GAAF,EAAO,CAAR,CAAlB,CAAnD,CAAiFogG,EAAE,CAACpgG,CAAD,CAAG,CAAH,CAA5G,EAAmHlB,CAAC,CAAC,CAAC,EAAEM,CAAH,EAAMN,CAAN,CAAQ,CAA7H,CAA+H,CAA/e,IAAof,IAAG,KAAK,EAAEkgG,EAAE,CAACllH,CAAC,EAAE,CAAJ,CAAT,GAAkB,EAAEglH,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAtB,EAA8B,GAAGxQ,CAAC,CAAC,EAAE+kI,EAAE,CAAC3hG,CAAD,CAAGxgC,CAAH,CAAK4b,CAAL,CAAO8kB,CAAP,CAAS,CAAT,CAAT,CAAjC,CAAuDE,CAAC,CAACxjC,CAAC,CAACwjC,CAAF,CAAI,CAAN,CAAvD,IAAoE,IAAG,GAAGn0B,CAAC,CAAC,EAAE21H,EAAE,CAACxmH,CAAD,CAAG8kB,CAAH,CAAT,CAAH,CAAmBE,CAAC,CAACn0B,CAAC,CAACm0B,CAAF,CAAI,CAAN,CAAnB,IAAgC,IAAG,EAAE41B,EAAE,CAAC56C,CAAD,CAAG8kB,CAAH,CAAP,CAAa,CAAC,IAAI,GAAGj0B,CAAC,CAAC,EAAEm0H,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAT,GAAkBsvG,EAAE,CAAC,EAAEn1H,CAAH,CAAF,CAAQ+zB,CAAR,CAAU,EAAEogG,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAd,CAAtB,CAA4C,EAAEtjC,CAAC,GAAG,CAAJ,EAAOyjC,CAAC,GAAG,CAAb,CAA5C,EAA6D,CAAC,GAAGn0B,CAAC,CAACm0B,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,KAAK,EAAEkgG,EAAE,CAAC3qI,CAAC,CAACyqC,CAAF,EAAK,CAAN,CAAT,CAAX,CAA8B,CAACA,CAAC,CAACn0B,CAAF,CAAI,KAAMzM,EAAN,CAAQ,CAAA4gC,CAAC,CAACn0B,CAAF,CAAI,CAAAm0B,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAnI,IAAuI,CAAC,GAAG,GAAGn0B,CAAC,CAAC,EAAEm0H,EAAE,CAAC//F,CAAC,EAAE,CAAJ,CAAT,CAAH,CAAoB,CAAC,GAAIiF,EAAC,CAACtF,CAAN,CAAQ+yB,CAAC,CAACvzD,CAAV,CAAYghI,CAAC,CAACplH,CAAd,CAAgBw9C,CAAC,CAAC14B,CAAlB,CAAoBoF,CAAC,EAAE,CAAH,CAAKytB,CAAC,EAAE,CAAR,CAAUytE,CAAC,EAAE,CAAb,CAAe5nE,CAAC,EAAE,CAAlB,CAAoB,GAAIomE,EAAJ,CAAMJ,CAAN,CAAQuC,CAAR,CAAUtlF,CAAC,CAAC,CAAZ,CAAcgmF,CAAC,CAAC,CAAhB,CAAkBC,CAAC,CAAC,CAApB,CAAsB38F,CAAC,CAAC,CAAxB,CAA0B48F,CAAC,CAAC,CAA5B,CAA8BC,CAAC,CAAC,CAAhC,CAAkCvhG,CAAC,CAAC,CAApC,CAAsC,GAAGsgG,EAAE,CAAC,CAACI,CAAC,CAACJ,EAAH,EAAO,EAAP,CAAU,CAAb,CAAeX,EAAE,CAAC,CAACxB,CAAC,CAAC,CAACI,CAAC,CAACmC,CAAH,EAAM,EAAN,CAAS,CAAZ,GAAgB,CAAjB,CAAF,CAAsB,CAArC,CAAuCf,EAAE,CAACxB,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAlD,CAAoDwB,EAAE,CAACxB,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAA/D,CAAiE/iF,CAAC,CAAC,CAACukF,EAAE,CAACxB,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAb,EAAgBqD,EAAE,CAACzB,CAAD,CAAG5nE,CAAH,CAAKgmE,CAAL,CAAxF,CAAgG,CAAC,IAAIn+F,CAAC,CAAC,EAAE+gG,EAAE,CAACzuE,CAAD,CAAG,CAAH,CAAN,CAAYgvE,CAAC,CAAC/C,CAAC,CAAC,CAAF,CAAI,CAAtB,CAAwB,EAAEpmE,CAAC,GAAG,CAAJ,EAAO/c,CAAC,GAAG,CAAb,CAAxB,EAAyC,CAAC,GAAGukF,EAAE,CAACpB,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAT,CAAWoB,EAAE,CAACpB,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAtB,CAAwBoB,EAAE,CAACpB,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAnC,CAAqC,CAACoB,EAAE,CAACpB,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAb,IAAkB,GAAG6C,CAAC,CAAC,EAAEI,EAAE,CAAC98F,CAAC,CAACq7F,CAAC,CAAC3kF,CAAF,CAAI,CAAP,CAAS+c,CAAC,CAAC/c,CAAF,CAAI,CAAb,CAAemjF,CAAf,CAAT,CAAlB,EAA+C,IAAI,EAAEoB,EAAE,CAAC2B,CAAC,EAAE,CAAJ,CAAR,CAAvF,CAAuG,CAACC,CAAC,CAAC,EAAF,CAAK,MAAM,KAAIH,CAAC,CAAChmF,CAAN,CAAQ,EAAE+c,CAAC,GAAG,CAAJ,EAAO,CAACkpE,CAAC,CAACD,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAArB,GAAyB,KAAK,EAAEvB,EAAE,CAACE,CAAC,CAACqB,CAAF,EAAK,CAAN,CAAT,CAAjC,EAAqDA,CAAC,CAACC,CAAF,CAAIjmF,CAAC,GAAG,CAAJ,EAAOgmF,CAAC,GAAG,CAAX,GAAe,EAAED,EAAE,CAACz8F,CAAD,CAAG0W,CAAC,CAACimF,CAAC,CAACjmF,CAAF,CAAI,CAAT,CAAJ,CAAgBilF,EAAE,CAACrgG,CAAD,CAAG,EAAH,CAAlB,CAAyBogG,EAAE,CAACpgG,CAAD,CAAG0E,CAAH,CAAK0W,CAAL,CAA1C,EAAmDA,CAAC,CAACimF,CAArD,CAAuD,MAAK,EAAEE,CAAP,IAAYnmF,CAAC,CAACgmF,CAAC,CAAChmF,CAAF,CAAI,CAAlB,EAAqB,GAAGmmF,CAAC,CAAC,EAAE5B,EAAE,CAAC3/F,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,GAAoB,KAAK,EAAE6/F,EAAE,CAAC,CAAC,EAAEF,EAAE,CAAC3/F,CAAC,EAAE,CAAJ,CAAL,GAAcuhG,CAAC,CAAC,CAAC,CAAjB,GAAqB,CAAtB,CAAT,CAApB,EAAwDlB,EAAE,CAACrgG,CAAD,CAAG,EAAH,CAA/E,CAAsF,GAAGohG,CAAC,CAAC,EAAEzB,EAAE,CAACrtE,CAAC,EAAE,CAAJ,CAAT,GAAkB0uE,EAAE,CAAC,EAAEI,CAAH,CAAF,CAAQv8F,CAAR,CAAU7E,CAAV,CAAY,IAAI,EAAE2/F,EAAE,CAACxB,CAAC,CAAC,CAAF,EAAK,CAAN,CAAR,EAAkB,CAAlB,CAAoBA,CAAhC,CAAkC,EAAEwB,EAAE,CAACrtE,CAAC,CAAC,GAAF,EAAO,CAAR,CAAtC,CAAxG,CAA0J2uE,EAAE,CAAC3uE,CAAD,CAAG,CAAH,CAA5J,CAAkK,CAAhhB,IAAqhBlX,EAAC,CAAC,CAAF,CAAI,GAAGklF,EAAE,CAACI,CAAH,CAAKl1H,CAAC,CAAC,EAAE4vC,CAAZ,CAAc,CAACzb,CAAC,CAACn0B,CAAC,CAACm0B,CAAF,CAAI,CAAN,CAAQ,KAAM5gC,EAAN,CAAQ,CAAAyM,CAAC,CAAC,EAAEm0H,EAAE,CAAC//F,CAAC,EAAE,CAAJ,CAAN,CAAa,IAAI2X,EAAJ,CAAM,GAAGA,CAAC,CAAC,EAAE/rC,CAAF,CAAI,CAAT,CAAW,CAAC,GAAImrH,EAAC,CAACp3F,CAAN,CAAQ5nC,CAAC,CAACoH,CAAV,CAAYuhC,CAAC,CAAC3lB,CAAd,CAAgB88B,CAAC,CAAChY,CAAlB,CAAoBk3F,CAAC,EAAE,CAAH,CAAKh/H,CAAC,EAAE,CAAR,CAAU2oC,CAAC,EAAE,CAAb,CAAemX,CAAC,EAAE,CAAlB,CAAoB,GAAIpX,EAAJ,CAAM2/F,CAAN,CAAQxtE,CAAR,CAAUoS,CAAC,CAAC,CAAZ,CAAc3/B,CAAC,CAAC,CAAhB,CAAkBuS,CAAC,CAAC,CAApB,CAAsB2oF,CAAC,CAAC,CAAxB,CAA0BsB,CAAC,CAAC,CAA5B,CAA8BC,CAAC,CAAC,CAAhC,CAAkCpB,EAAE,CAAC,CAAC9tE,CAAC,CAAC8tE,EAAH,EAAO,EAAP,CAAU,CAAb,CAAe17D,CAAC,CAACpS,CAAC,CAAC,CAAF,CAAI,CAArB,CAAuBnyB,CAAC,CAAC,CAACs/F,EAAE,CAAC,CAACnoF,CAAC,CAACgb,CAAH,GAAO,CAAR,CAAF,CAAa,CAAd,EAAiBuuE,EAAE,CAACppI,CAAD,CAAG,CAAH,CAA5C,CAAkDqoI,CAAC,CAAC,EAAEe,EAAE,CAACppI,CAAD,CAAG,CAAH,CAAxD,CAA8D,GAAI2kC,EAAC,CAAC,IAAK,EAAX,CAAayE,CAAC,CAAC,IAAK,EAApB,CAAsB4gG,CAAC,CAAC,IAAK,EAA7B,CAA+BC,EAAE,CAAC,IAAK,EAAvC,CAAyCn4D,EAAE,CAAC,IAAK,EAAjD,CAAmDo4D,EAAE,CAAC,IAAK,EAA3D,CAA6DC,EAAE,CAACzhG,CAAhE,CAAkEy/F,EAAE,CAACnoI,CAArE,CAAuEioI,EAAE,CAACt/F,CAA1E,CAA4EvoB,EAAE,CAAC0/B,CAA/E,CAAiFsqF,EAAE,CAACn9D,CAApF,CAAsF27D,EAAE,CAAC/oF,CAAzF,CAA2FsqF,EAAE,EAAE,CAAJ,CAAMhC,EAAE,EAAE,CAAV,CAAYF,EAAE,EAAE,CAAhB,CAAkB7nH,EAAE,EAAE,CAAtB,CAAwBgqH,EAAE,EAAE,CAA5B,CAA8BxB,EAAE,EAAE,CAAlC,CAAoC,GAAIyB,GAAE,CAAC,CAAP,CAASC,EAAE,CAAC,CAAZ,CAAcC,EAAE,CAAC,CAAjB,CAAmB,IAAIN,EAAE,CAACD,CAAC,CAAC,CAAT,CAAW,EAAE5pH,EAAE,GAAG,CAAL,EAAQ4pH,CAAC,GAAG,CAAd,GAAkB,IAAI,CAACE,EAAE,CAAC,EAAEhC,EAAE,CAACD,EAAE,CAAC+B,CAAH,EAAM,CAAP,CAAR,GAAoB,EAApB,EAAwB,EAAzD,EAA6DA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQC,EAAE,CAACA,EAAE,EAAE,KAAKC,EAAE,EAAE,EAAJ,EAAQ,EAAb,CAAgB,CAAlB,CAAF,CAAuB,CAAlC,CAAoC3sI,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE0sI,EAAN,EAAU,CAAC,EAAED,CAAH,IAAQ,EAAE5pH,EAAV,CAAb,CAA2B8pH,EAAE,CAAC,CAAH,CAA3B,IAAoC,CAAC,IAAIp4D,EAAE,CAACk4D,CAAP,GAAW,CAAC,GAAG,CAACl4D,EAAJ,CAAO,CAACw4D,EAAE,CAAC,CAAH,CAAKx4D,EAAE,CAACm4D,EAAR,CAAWC,EAAE,CAACjC,EAAd,CAAiB,MAAM,IAAG,EAAE,EAAEuC,EAAE,CAAC,EAAEjC,EAAE,CAAC,CAAC2B,EAAE,CAACjC,EAAE,EAAEoC,EAAE,CAACv4D,EAAE,CAAC,CAAC,CAAJ,CAAM,CAAX,CAAF,CAAgB,CAApB,GAAwB,CAAzB,CAAL,CAAN,CAAH,CAA4C,CAACy4D,EAAE,CAAC,CAAH,CAAK,MAAM,CAAAz4D,EAAE,CAACu4D,EAAH,CAAM,IAAG,IAAI,EAAEE,EAAN,IAAYD,EAAE,CAACx4D,EAAH,CAAMA,EAAE,CAACm4D,EAAE,EAAE,CAAC,MAAM,EAAE/B,EAAE,CAACD,EAAE,EAAE,CAAL,CAAV,CAAD,GAAsB,EAAtB,EAA0B,EAA5B,CAAF,CAAkC,CAAvD,EAA0D,CAACtjG,CAAC,CAACmtC,EAAE,EAAE,CAAC,MAAM,EAAEo2D,EAAE,CAACgC,EAAE,EAAE,CAAL,CAAV,CAAD,GAAsB,EAAtB,EAA0B,EAA5B,CAAF,CAAkC,CAAlC,CAAoC,CAAvC,IAA4C,CAA5C,EAA+C,CAAC,EAAElC,EAAE,CAACG,EAAE,CAAC,GAAH,EAAQ,CAAT,CAAL,IAAoB,CAAhI,CAAkI,CAAC,IAAI/+F,CAAC,CAAC,EAAE0/F,EAAE,CAACd,EAAE,CAACoC,EAAE,EAAE,CAAL,CAAF,CAAUzlG,CAAX,CAAa,CAAb,CAAN,CAAsBqjG,EAAE,CAACY,EAAE,EAAE,CAAL,CAAF,CAAUx/F,CAAhC,CAAkC,CAAC8gG,EAAE,CAACF,CAAC,CAAC,CAAF,CAAI,CAAR,IAAa,CAAb,CAAe5pH,EAAE,GAAG,CAApB,GAAwB8pH,EAAE,CAAC,MAAM,EAAEhC,EAAE,CAACD,EAAE,CAACiC,EAAH,EAAO,CAAR,CAAV,EAAsBF,CAAC,CAAC,CAAF,CAAI,CAA1B,CAA4BE,EAAvD,CAAlC,CAA6FE,EAAE,CAACF,EAApG,CAAuG,EAAE9pH,EAAE,GAAG,CAAL,EAAQgqH,EAAE,GAAG,CAAf,GAAmB,KAAK,EAAElC,EAAE,CAACD,EAAE,CAACmC,EAAH,EAAO,CAAR,CAAT,CAA1H,EAAgJA,EAAE,CAACA,EAAE,CAAC,CAAH,CAAK,CAAR,CAAU,IAAIH,EAAE,CAAC,CAAP,CAASC,EAAE,GAAG,CAAL,CAAOE,EAAE,GAAG,CAAZ,EAAet4D,EAAE,CAACm4D,EAAE,GAAG,CAAL,CAAOtlG,CAAC,GAAG,CAA7B,CAAT,EAA0C,CAAC,KAAKulG,EAAE,GAAG,CAAL,CAAOE,EAAE,GAAG,CAAZ,CAAc,IAAI,CAACt4D,EAAE,CAAC,EAAEo2D,EAAE,CAACD,EAAE,CAACiC,EAAH,EAAO,CAAR,CAAR,GAAqB,EAArB,EAAyB,EAAhD,EAAoDA,EAAE,CAACA,EAAE,CAAC,CAAH,CAAK,CAAR,CAAU,IAAIp4D,EAAE,EAAE,EAAJ,EAAQ,EAAZ,EAAgBk2D,EAAE,CAAC,CAACl2D,EAAE,CAAC1oC,CAAC,EAAE6gG,EAAE,EAAE,CAAN,CAAD,CAAU,CAAd,GAAkB,CAAnB,CAAF,EAAyB,CAAzB,CAA2BC,EAAE,CAACA,EAAE,EAAEp4D,EAAE,CAAC,CAAL,CAAF,CAAU,CAAxD,EAA2DA,EAAE,CAAC,CAA9D,CAAgEvtE,CAAC,CAAC,KAAK,EAAE6lI,EAAE,GAAG,CAAL,EAAQF,EAAE,GAAG,CAAf,CAAL,EAAwB,CAAC,OAAO,EAAEhC,EAAE,CAACD,EAAE,CAACiC,EAAH,EAAO,CAAR,CAAX,EAAuB,IAAK,GAAL,CAAQK,EAAE,CAAC,EAAH,CAAM,KAAMhmI,EAAN,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ,KAAMA,EAAN,CAAnE,CAA2EutE,EAAE,CAACA,EAAE,CAAC,CAAH,CAAK,CAAR,CAAUo4D,EAAE,CAACA,EAAE,CAAC,CAAH,CAAK,CAAlB,CAAoB,KAAI,KAAK,EAAEK,EAAP,IAAavC,EAAE,CAAC,CAACuC,EAAE,CAACnhG,CAAC,EAAE6gG,EAAE,EAAE,CAAN,CAAD,CAAU,CAAd,GAAkB,CAAnB,CAAF,EAAyB,CAAzB,CAA2Bn4D,EAAE,CAACA,EAAE,CAAC,CAAH,CAAK,CAAnC,CAAqCo4D,EAAE,CAACA,EAAE,CAAC,CAAH,CAAK,CAA1D,CAAJ,GAAmE,CAAC,GAAGE,EAAE,GAAG,CAAL,EAAQF,EAAE,GAAG,CAAhB,CAAkB,CAACK,EAAE,CAAC,EAAH,CAAM,MAAM,IAAG,IAAI,CAACF,EAAE,CAAC,EAAEnC,EAAE,CAACD,EAAE,CAACiC,EAAH,EAAO,CAAR,CAAR,GAAqB,EAArB,EAAyB,EAAhC,CAAmC,CAACK,EAAE,CAAC,EAAH,CAAM,MAAM,CAAAL,EAAE,CAACA,EAAE,CAAC,CAAH,CAAK,CAAR,CAAU,IAAG,KAAK,EAAEK,EAAP,CAAH,CAAc,CAAC,GAAG,CAACA,EAAE,CAAC,CAAJ,IAAS,EAAEz4D,EAAX,EAAe,KAAKu4D,EAAE,EAAE,EAAJ,EAAQ,EAA/B,CAAkC,CAACH,EAAE,CAAC,CAAH,CAAK,KAAM3sI,EAAN,CAAQ,CAAC,CAAhE,IAAqE,IAAG,KAAK,EAAEgtI,EAAP,GAAY,CAACA,EAAE,CAAC,CAAJ,IAAS,EAAEz4D,EAAX,CAAf,CAA8B,CAACo4D,EAAE,CAAC,CAAH,CAAK,KAAM3sI,EAAN,CAAQ,CAAA0sI,EAAE,CAACA,EAAE,CAAC,CAAH,CAAK,CAAR,CAAUC,EAAE,CAACA,EAAE,CAAC,CAAH,CAAK,CAAlB,CAAoB,CAAAA,EAAE,CAACp4D,EAAE,CAAC,CAAD,EAAI24D,EAAE,CAACN,EAAD,CAAIhC,EAAJ,CAAOF,EAAP,CAAUqC,EAAV,CAAa3lG,CAAb,CAAeyE,CAAf,CAAiB,CAAjB,CAAF,CAAsBghG,EAAE,CAAC,CAAH,CAAK,CAA/B,CAAL,CAAuC,CAAz4B,IAA84BF,GAAE,CAAC,CAAH,CAAK,CAAC,CAAriC,MAA2iC,CAA3iC,EAA8iC,GAAG58F,CAAC,CAAC,EAAE48F,EAAP,CAAU,CAAC,IAAIH,CAAC,CAAC,EAAE/B,EAAE,CAAC/6D,CAAC,EAAE,CAAJ,CAAN,CAAaA,CAAC,CAAC,EAAE+6D,EAAE,CAACnoF,CAAC,EAAE,CAAJ,CAAvB,CAA8B,EAAEC,CAAC,GAAG,CAAJ,EAAOxS,CAAC,GAAG,CAAb,CAA9B,EAA+C,CAAC,IAAIuS,CAAC,CAAC,CAAF,CAAI2oF,CAAC,CAACl7F,CAAV,CAAY,EAAEwS,CAAC,GAAG,CAAJ,EAAO0oF,CAAC,GAAG,CAAb,GAAiB,IAAI,CAACsB,CAAC,CAAC,EAAE5B,EAAE,CAACv/F,CAAC,CAAC6/F,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAAvD,EAA2D3oF,CAAC,CAACA,CAAC,EAAE,KAAKiqF,CAAC,EAAE,EAAH,EAAO,EAAZ,CAAe,CAAjB,CAAD,CAAqB,CAAvB,CAAyBtB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAA/B,CAAiC,GAAG,CAAC,EAAEA,CAAH,IAAQ,EAAE1oF,CAAV,EAAa,IAAI,EAAED,CAAN,CAAhB,CAAyB,MAAM4qF,EAAE,CAACpC,CAAD,CAAGroI,CAAH,CAAK2oC,CAAC,CAAC2E,CAAF,CAAI,CAAT,CAAWk7F,CAAC,CAACl7F,CAAF,CAAI,CAAf,CAAiBy8F,CAAjB,CAAmB98D,CAAnB,CAAqB,CAArB,CAAF,CAA0B3/B,CAAC,CAACk7F,CAAC,CAAC,CAAF,CAAI,CAAhC,CAAkC,EAAC3oF,CAAC,CAAC,EAAEmoF,EAAE,CAAChoI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAP,GAAmBqpI,EAAE,CAAC,EAAExpF,CAAH,CAAF,CAAQm/E,CAAR,CAAUt2F,CAAV,CAAY2/F,CAAZ,CAAc,EAAEL,EAAE,CAAChoI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAlB,CAAnB,CAAiD,CAAzQ,IAA8QitE,EAAC,CAAC,CAAC3/B,CAAC,CAAC,CAAH,EAAM06F,EAAE,CAACnoF,CAAC,EAAE,CAAJ,CAAV,CAAiBgpF,EAAE,CAAC57D,CAAD,CAAF,CAAMq8D,EAAE,CAACtpI,CAAD,CAAG,CAAH,CAAR,CAAcspI,EAAE,CAACtpI,CAAD,CAAG,CAAH,CAAhB,CAAsB2oI,EAAE,CAAC9tE,CAAzB,CAA2Bjb,CAAC,CAAC,GAAG2nC,CAAC,CAAC,EAAEj6C,CAAP,CAA7B,CAAuC,IAAGsS,CAAH,CAAK,GAAI8qF,GAAE,CAACnjD,CAAC,CAACv/C,CAAF,CAAI,CAAX,CAAL,IAAsB,CAAC,GAAG,EAAE2iG,EAAE,CAAC3nH,CAAD,CAAG8kB,CAAH,CAAP,CAAa,CAAC,GAAI8iG,GAAE,CAAChjG,CAAP,CAASijG,EAAE,CAACzjI,CAAZ,CAAc0jI,EAAE,CAAC9nH,CAAjB,CAAmB+nH,EAAE,CAACjjG,CAAtB,CAAwB8iG,EAAE,EAAE,CAAJ,CAAME,EAAE,EAAE,CAAV,CAAYC,EAAE,EAAE,CAAhB,CAAkB,GAAIC,GAAJ,CAAOC,EAAE,CAAC,CAAV,CAAY3sF,EAAE,CAAC,CAAf,CAAiB4sF,EAAE,CAAC,CAApB,CAAsBC,EAAE,CAAC,CAAzB,CAA2BC,EAAE,CAAC,CAA9B,CAAgCC,EAAE,CAAC,CAAnC,CAAqCC,EAAE,CAAC,CAAxC,CAA0CC,EAAE,CAAC,CAA7C,CAA+CC,EAAE,CAAC,CAAlD,CAAoDR,EAAE,CAAC,EAAE5B,EAAE,CAACyB,EAAE,EAAE,CAAL,CAAO,CAAP,CAAP,CAAiBvsF,EAAE,CAACktF,EAAE,CAACP,EAAE,CAAC,CAA1B,CAA4B1tI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,GAAGwtI,EAAE,GAAG,CAAL,EAAQzsF,EAAE,GAAG,CAAhB,CAAkB,KAAM/gD,EAAN,CAAQ,IAAI+tI,EAAE,CAAChtF,EAAP,GAAY,CAAC,GAAGysF,EAAE,GAAG,CAAL,EAAQ,CAACQ,EAAE,CAACD,EAAE,CAAC,CAAH,CAAK,CAAT,IAAc,CAAzB,CAA2B,CAACJ,EAAE,CAAC,CAAH,CAAK,MAAM,IAAG,KAAK,EAAEhD,EAAE,CAAC4C,EAAE,CAACQ,EAAH,EAAO,CAAR,CAAT,CAAH,CAAwB,CAACJ,EAAE,CAAC,CAAH,CAAK,MAAM,CAAAI,EAAE,CAACC,EAAH,CAAM,IAAGF,EAAE,CAAC,EAAEV,EAAE,CAACQ,EAAE,CAACL,EAAE,CAACxsF,EAAH,CAAM,CAAV,CAAY8sF,EAAE,CAACG,EAAE,CAACjtF,EAAH,CAAM,CAArB,CAAV,CAAkCA,EAAE,CAAC+sF,EAAE,CAAC/sF,EAAH,CAAM,CAAT,CAAlC,IAAkD,IAAG,EAAEkrF,EAAE,CAAC2B,EAAD,CAAIC,EAAJ,CAAP,CAAe,CAAC,GAAG,CAACF,EAAJ,CAAO,CAAC5sF,EAAE,CAACitF,EAAH,CAAM,KAAMhuI,EAAN,CAAQ,IAAG,IAAI,EAAEotI,EAAE,CAACO,EAAE,CAACJ,EAAE,CAACS,EAAH,CAAM,CAAV,CAAYJ,EAAE,CAACJ,EAAE,CAACQ,EAAH,CAAM,CAArB,CAAR,GAAkC,IAAI,EAAE/B,EAAE,CAAC0B,EAAD,CAAIC,EAAJ,CAAR,CAArC,CAAsD,CAAC7sF,EAAE,CAACitF,EAAH,CAAM,KAAMhuI,EAAN,CAAQ,CAAC,IAAG,EAAE+tI,EAAE,GAAG,CAAL,CAAOhtF,EAAE,GAAG,CAAd,CAAH,CAAoB,MAAMA,EAAE,CAACitF,EAAH,CAAM,CAAAL,EAAE,CAACJ,EAAE,CAACxsF,EAAH,CAAM,CAAT,CAAW2sF,EAAE,CAAC,CAAC,EAAEC,EAAH,IAAS,GAAGC,EAAE,CAACF,EAAE,CAACO,EAAH,CAAM,CAAZ,CAAT,GAA0BC,EAAE,CAAC,EAAEN,EAAH,CAAM,EAAED,EAAR,CAAWK,EAAE,CAACjtF,EAAH,CAAM,CAAjB,CAA7B,CAAiD2sF,EAAE,CAACC,EAAjE,CAAoEM,EAAE,CAACD,EAAE,CAACC,EAAH,CAAMltF,EAAN,CAAS,CAAhF,CAAkFA,EAAE,CAACitF,EAArF,CAAwF,CAAAtC,EAAE,CAAC+B,EAAD,CAAIH,EAAJ,CAAOI,EAAP,CAAUO,EAAV,CAAF,CAAgB,GAAGP,EAAE,CAAC,EAAEjD,EAAE,CAAC6C,EAAE,CAAC,CAAH,EAAM,CAAP,CAAV,GAAsBa,EAAE,CAAC,EAAET,EAAH,CAAF,CAASL,EAAT,CAAYI,EAAZ,CAAe,EAAEhD,EAAE,CAAC6C,EAAE,CAAC,GAAH,EAAQ,CAAT,CAAnB,CAAtC,CAAsEvB,EAAE,CAACuB,EAAD,CAAI,CAAJ,CAAxE,CAA+E,GAAIc,GAAE,CAAC,CAAC,EAAErtF,EAAH,EAAOtW,CAAP,CAAS,CAAhB,CAAkB,CAAzoB,IAA6oB,CAAC,GAAG,EAAE4jG,EAAE,CAAC5oH,CAAD,CAAG8kB,CAAH,CAAP,CAAa,CAAC,GAAI+jG,GAAE,CAACjkG,CAAP,CAASkkG,EAAE,CAAC1kI,CAAZ,CAAc2kI,EAAE,CAAC/oH,CAAjB,CAAmBgpH,EAAE,CAAClkG,CAAtB,CAAwB+jG,EAAE,EAAE,CAAJ,CAAME,EAAE,EAAE,CAAV,CAAYC,EAAE,EAAE,CAAhB,CAAkB,GAAIC,GAAJ,CAAOC,EAAE,CAAC,CAAV,CAAYC,EAAE,CAAC,CAAf,CAAiBC,EAAE,CAAC,CAApB,CAAsBC,EAAE,CAAC,CAAzB,CAA2BC,EAAE,CAAC,CAA9B,CAAgCC,EAAE,CAAC,CAAnC,CAAqCC,EAAE,CAAC,CAAxC,CAA0CC,EAAE,CAAC,CAA7C,CAA+CC,EAAE,CAAC,CAAlD,CAAoDT,EAAE,CAAC,EAAE7C,EAAE,CAAC0C,EAAE,EAAE,CAAL,CAAO,CAAP,CAAP,CAAiBK,EAAE,CAACO,EAAE,CAACR,EAAE,CAAC,CAA1B,CAA4B3uI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,GAAGyuI,EAAE,GAAG,CAAL,EAAQG,EAAE,GAAG,CAAhB,CAAkB,KAAM5uI,EAAN,CAAQ,IAAIivI,EAAE,CAACL,EAAP,GAAY,CAAC,GAAGH,EAAE,GAAG,CAAL,EAAQ,CAACS,EAAE,CAACD,EAAE,CAAC,CAAH,CAAK,CAAT,IAAc,CAAzB,CAA2B,CAACJ,EAAE,CAAC,CAAH,CAAK,MAAM,IAAG,KAAK,EAAElE,EAAE,CAAC6D,EAAE,CAACS,EAAH,EAAO,CAAR,CAAT,CAAH,CAAwB,CAACJ,EAAE,CAAC,CAAH,CAAK,MAAM,CAAAI,EAAE,CAACC,EAAH,CAAM,IAAGF,EAAE,CAAC,EAAEX,EAAE,CAACS,EAAE,CAACN,EAAE,CAACI,EAAH,CAAM,CAAV,CAAYG,EAAE,CAACG,EAAE,CAACN,EAAH,CAAM,CAArB,CAAV,CAAkCA,EAAE,CAACI,EAAE,CAACJ,EAAH,CAAM,CAAT,CAAlC,IAAkD,IAAG,EAAE3C,EAAE,CAAC6C,EAAD,CAAIC,EAAJ,CAAP,CAAe,CAAC,GAAG,CAACF,EAAJ,CAAO,CAACD,EAAE,CAACM,EAAH,CAAM,KAAMlvI,EAAN,CAAQ,IAAG,IAAI,EAAEquI,EAAE,CAACQ,EAAE,CAACL,EAAE,CAACU,EAAH,CAAM,CAAV,CAAYJ,EAAE,CAACL,EAAE,CAACS,EAAH,CAAM,CAArB,CAAR,GAAkC,IAAI,EAAEjD,EAAE,CAAC4C,EAAD,CAAIC,EAAJ,CAAR,CAArC,CAAsD,CAACF,EAAE,CAACM,EAAH,CAAM,KAAMlvI,EAAN,CAAQ,CAAC,IAAG,EAAEivI,EAAE,GAAG,CAAL,CAAOL,EAAE,GAAG,CAAd,CAAH,CAAoB,MAAMA,EAAE,CAACM,EAAH,CAAM,CAAAL,EAAE,CAACL,EAAE,CAACI,EAAH,CAAM,CAAT,CAAWD,EAAE,CAAC,CAAC,EAAEE,EAAH,IAAS,GAAGC,EAAE,CAACH,EAAE,CAACQ,EAAH,CAAM,CAAZ,CAAT,GAA0BjB,EAAE,CAAC,EAAEY,EAAH,CAAM,EAAED,EAAR,CAAWK,EAAE,CAACN,EAAH,CAAM,CAAjB,CAA7B,CAAiDD,EAAE,CAACE,EAAjE,CAAoEM,EAAE,CAACD,EAAE,CAACC,EAAH,CAAMP,EAAN,CAAS,CAAhF,CAAkFA,EAAE,CAACM,EAArF,CAAwF,CAAAxD,EAAE,CAACgD,EAAD,CAAIH,EAAJ,CAAOI,EAAP,CAAUQ,EAAV,CAAF,CAAgB,GAAGR,EAAE,CAAC,EAAElE,EAAE,CAAC8D,EAAE,CAAC,CAAH,EAAM,CAAP,CAAV,GAAsBJ,EAAE,CAAC,EAAEQ,EAAH,CAAF,CAASL,EAAT,CAAYI,EAAZ,CAAe,EAAEjE,EAAE,CAAC8D,EAAE,CAAC,GAAH,EAAQ,CAAT,CAAnB,CAAtC,CAAsExC,EAAE,CAACwC,EAAD,CAAI,CAAJ,CAAxE,CAA+E,GAAIa,GAAE,CAAC,CAAC,EAAER,EAAH,EAAOnkG,CAAP,CAAS,CAAhB,CAAkB,CAAzoB,IAA6oB,CAAC,GAAG,EAAE4kG,EAAE,CAAC5pH,CAAD,CAAG8kB,CAAH,CAAP,CAAa,CAAC,GAAI+kG,GAAE,CAACjlG,CAAP,CAASklG,EAAE,CAAC1lI,CAAZ,CAAc2lI,EAAE,CAAC/pH,CAAjB,CAAmBgqH,EAAE,CAACllG,CAAtB,CAAwB+kG,EAAE,EAAE,CAAJ,CAAME,EAAE,EAAE,CAAV,CAAYC,EAAE,EAAE,CAAhB,CAAkB,GAAIC,GAAJ,CAAOC,EAAE,CAAC,CAAV,CAAYC,EAAE,CAAC,CAAf,CAAiBC,EAAE,CAAC,CAApB,CAAsBC,EAAE,CAAC,CAAzB,CAA2BC,EAAE,CAAC,CAA9B,CAAgCC,EAAE,CAAC,CAAnC,CAAqC,IAAIN,EAAE,CAAC,EAAE7D,EAAE,CAAC0D,EAAE,EAAE,CAAL,CAAO,CAAP,CAAP,CAAiBS,EAAE,CAAC,CAAxB,CAA0B,EAAEP,EAAE,GAAG,CAAL,EAAQO,EAAE,GAAG,CAAf,CAA1B,EAA6C,CAAC,IAAIF,EAAE,CAACE,EAAP,CAAU,EAAEP,EAAE,GAAG,CAAL,EAAQ,CAACM,EAAE,CAACD,EAAE,CAAC,CAAH,CAAK,CAAT,IAAc,CAAxB,GAA4B,KAAK,EAAEnF,EAAE,CAAC6E,EAAE,CAACM,EAAH,EAAO,CAAR,CAAT,CAAtC,EAA4DA,EAAE,CAACC,EAAH,CAAM,GAAGF,EAAE,CAAC,EAAER,EAAE,CAACM,EAAE,CAACH,EAAE,CAACQ,EAAH,CAAM,CAAV,CAAYJ,EAAE,CAACG,EAAE,CAACC,EAAH,CAAM,CAArB,CAAV,CAAkCL,EAAE,CAACE,EAAE,CAACG,EAAH,CAAM,CAAT,CAAlC,IAAiD,CAAC,GAAG,EAAE,EAAE/D,EAAE,CAAC0D,EAAD,CAAIC,EAAJ,CAAN,CAAH,CAAkB,MAAMD,EAAE,CAACK,EAAH,CAAM,CAAAL,EAAE,GAAG,CAAL,EAAQG,EAAE,GAAG,CAAb,GAAiB,EAAE7D,EAAE,CAAC2D,EAAE,CAACJ,EAAE,CAACG,EAAH,CAAM,CAAV,CAAYA,EAAE,CAACI,EAAE,CAACJ,EAAH,CAAM,CAArB,CAAJ,CAA4BxE,EAAE,CAACuE,EAAD,CAAI,EAAJ,CAA9B,CAAsCxE,EAAE,CAACwE,EAAD,CAAIE,EAAJ,CAAOD,EAAP,CAAzD,EAAqEK,EAAE,CAACD,EAAxE,CAA2E,KAAIJ,EAAE,CAAC,EAAElF,EAAE,CAAC,CAACmF,EAAE,CAACF,EAAE,CAAC,CAAH,CAAK,CAAT,GAAa,CAAd,CAAX,CAA4BC,EAAE,EAAE,KAAK,EAAEhF,EAAE,CAAC,CAAC,EAAEF,EAAE,CAACiF,EAAE,EAAE,CAAL,CAAL,GAAeC,EAAE,CAACA,EAAE,CAAC,CAAC,CAAJ,CAAM,CAAxB,GAA4B,CAA7B,CAAT,CAAhC,EAA2ElF,EAAE,CAACmF,EAAE,EAAE,CAAL,CAAF,CAAUD,EAAV,CAAaxE,EAAE,CAACuE,EAAD,CAAI,EAAJ,CAAF,CAAU,GAAGC,EAAE,CAAC,EAAElF,EAAE,CAAC8E,EAAE,EAAE,CAAL,CAAV,GAAoBzD,EAAE,CAAC,EAAE6D,EAAH,CAAF,CAASL,EAAT,CAAYI,EAAZ,CAAe,CAAf,CAAiB,EAAEjF,EAAE,CAAC8E,EAAE,CAAC,GAAH,EAAQ,CAAT,CAArB,CAA9B,CAAgExD,EAAE,CAACwD,EAAD,CAAI,CAAJ,CAAlE,CAAyE,GAAI/4E,GAAE,CAAC,CAAC,EAAEw5E,EAAH,EAAOvlG,CAAP,CAAS,CAAhB,CAAkB,CAA3hB,IAA+hB,CAAC,GAAG,EAAEwlG,EAAE,CAACxqH,CAAD,CAAG8kB,CAAH,CAAP,CAAa,GAAI2lG,GAAE,CAAC,CAAC,EAAE9vE,EAAE,CAAC/1B,CAAD,CAAGxgC,CAAH,CAAK4b,CAAL,CAAO8kB,CAAP,CAAS,CAAT,CAAL,EAAkBE,CAAlB,CAAoB,CAA3B,CAAb,IAA8C,CAAC,GAAG,EAAE0lG,EAAE,CAAC1qH,CAAD,CAAG8kB,CAAH,CAAP,CAAa,GAAIk4B,GAAE,CAAC,CAAC,EAAErC,EAAE,CAAC/1B,CAAD,CAAGxgC,CAAH,CAAK4b,CAAL,CAAO8kB,CAAP,CAAS,CAAT,CAAL,EAAkBE,CAAlB,CAAoB,CAA3B,CAAb,IAA8C,CAAC,GAAI2lG,GAAE,CAAC/lG,CAAP,CAASgmG,EAAE,CAACxmI,CAAZ,CAAcymI,EAAE,CAAC7qH,CAAjB,CAAmB8qH,EAAE,CAAChmG,CAAtB,CAAwB6lG,EAAE,EAAE,CAAJ,CAAME,EAAE,EAAE,CAAV,CAAYC,EAAE,EAAE,CAAhB,CAAkB,GAAIC,GAAJ,CAAOC,EAAP,CAAUC,EAAE,CAAC,CAAb,CAAeC,EAAE,CAAC,CAAlB,CAAoBC,EAAE,CAAC,CAAvB,CAAyBC,EAAE,CAAC,CAA5B,CAA8BC,EAAE,CAAC,CAAjC,CAAmCC,EAAE,CAAC,CAAtC,CAAwC,IAAIP,EAAE,CAAC,KAAKH,EAAE,EAAE,CAAT,EAAY,CAAf,CAAiBI,EAAE,CAACJ,EAAE,CAAC,EAAH,CAAM,CAA1B,CAA4BK,EAAE,CAAC,CAAnC,GAAuC,CAAC,GAAGH,EAAE,GAAG,CAAL,EAAQG,EAAE,GAAG,CAAhB,CAAkB,CAACI,EAAE,CAAC,CAAH,CAAKC,EAAE,CAACL,EAAR,CAAW,MAAM,CAAAK,EAAE,CAACL,EAAH,CAAM,EAAE,CAAC,GAAGH,EAAE,GAAG,CAAL,EAAQ,CAACQ,EAAE,CAAC,CAACJ,EAAE,CAACI,EAAJ,EAAQ,CAAR,CAAU,CAAd,IAAmB,CAA9B,CAAgC,MAAM,CAAzC,MAA+C,KAAK,EAAEpG,EAAE,CAAC2F,EAAE,CAACK,EAAH,EAAO,CAAR,CAAT,CAA/C,EAAqE,GAAG,EAAEvD,EAAE,CAACwD,EAAE,CAACN,EAAE,CAACI,EAAH,CAAM,CAAV,CAAYK,EAAE,CAACL,EAAH,CAAM,CAAlB,CAAP,CAA4B,CAACI,EAAE,CAAC,CAAH,CAAKC,EAAE,CAACL,EAAR,CAAW,MAAM,IAAG,EAAEzE,EAAE,CAAC2E,EAAD,CAAIC,EAAE,CAACN,EAAE,CAACG,EAAH,CAAM,CAAb,CAAP,CAAuB,CAACI,EAAE,CAAC,CAAH,CAAK,MAAM,IAAG,GAAGH,EAAE,CAAC,EAAEK,EAAE,CAACJ,EAAD,CAAIC,EAAJ,CAAV,CAAH,CAAsB,CAACC,EAAE,CAACH,EAAH,CAAM,MAAM,IAAG,EAAEhF,EAAE,CAAC0E,EAAD,CAAIO,EAAJ,CAAOC,EAAP,CAAP,CAAkB,CAACC,EAAE,CAAC,CAAH,CAAKC,EAAE,CAACL,EAAR,CAAW,MAAM,IAAG,EAAErwE,EAAE,CAACuwE,EAAD,CAAIC,EAAJ,CAAP,CAAe,CAACC,EAAE,CAAC,CAAH,CAAKC,EAAE,CAACL,EAAR,CAAW,MAAM,IAAG,EAAEtD,EAAE,CAACwD,EAAD,CAAIC,EAAJ,CAAP,CAAe,CAACC,EAAE,CAAC,CAAH,CAAKC,EAAE,CAACL,EAAR,CAAW,MAAM,IAAG,KAAKC,EAAE,CAAC,EAAElG,EAAE,CAAC+F,EAAE,EAAE,CAAL,CAAZ,EAAqB,CAArB,EAAwB,IAAI,EAAEzF,EAAE,CAAC,KAAK+F,EAAE,CAAC,EAAEnG,EAAE,CAACiG,EAAE,EAAE,CAAL,CAAZ,CAAD,CAAR,CAA3B,CAA2D,CAAC,GAAG,EAAET,EAAE,CAACS,EAAD,CAAIC,EAAJ,CAAP,CAAe,CAACC,EAAE,CAAC,CAAH,CAAKC,EAAE,CAACL,EAAR,CAAW,MAAM,IAAG,EAAET,EAAE,CAACW,EAAD,CAAIC,EAAJ,CAAP,CAAe,CAACC,EAAE,CAAC,CAAH,CAAKC,EAAE,CAACL,EAAR,CAAW,MAAM,IAAG,IAAII,EAAE,EAAE,EAAJ,EAAQ,EAAZ,EAAgB,IAAI,EAAErG,EAAE,CAACgG,EAAE,EAAE,CAAL,CAAR,CAAnB,CAAoC,CAAC,GAAG,EAAEzE,EAAE,CAACoE,EAAD,CAAIC,EAAJ,CAAOO,EAAP,CAAUC,EAAV,CAAa,CAAb,CAAP,CAAuB,CAACC,EAAE,CAAC,CAAH,CAAKC,EAAE,CAACL,EAAR,CAAW,MAAM,CAAAC,EAAE,CAAC,EAAElG,EAAE,CAAC+F,EAAE,EAAE,CAAL,CAAP,CAAe,IAAG,EAAEG,EAAF,CAAK,CAAL,EAAQ,EAAErE,EAAE,CAACsE,EAAD,CAAIC,EAAJ,CAAO,CAAP,CAAf,CAAyB,CAACC,EAAE,CAAC,CAAH,CAAKC,EAAE,CAACL,EAAR,CAAW,MAAM,CAAC,CAAAA,EAAE,CAACK,EAAH,CAAM,QAAO,CAAC,GAAG,CAACL,EAAJ,CAAO,CAACA,EAAE,CAACC,EAAE,CAAC,CAAN,CAAQ,MAAM,IAAG,KAAK,EAAEhG,EAAE,CAAC2F,EAAE,EAAEK,EAAE,CAACD,EAAE,CAAC,CAAC,CAAJ,CAAM,CAAX,CAAF,EAAiB,CAAlB,CAAT,CAAH,CAAkC,CAACC,EAAE,CAAC,CAAH,CAAK,MAAM,CAAAD,EAAE,CAACC,EAAH,CAAM,IAAGG,EAAH,CAAM,CAAC9wI,CAAC,CAAC,EAAE,CAAC,GAAG2wI,EAAH,CAAM,CAAC,IAAIE,EAAE,CAACH,EAAP,GAAY,CAAC,GAAG,EAAEC,EAAE,CAACE,EAAE,CAAC,CAAC,CAAJ,CAAM,CAAX,CAAH,CAAiB,CAACF,EAAE,CAAC,CAAH,CAAK,MAAM,IAAG,KAAK,EAAEhG,EAAE,CAAC2F,EAAE,CAACK,EAAH,EAAO,CAAR,CAAT,CAAH,CAAwB,MAAME,EAAE,CAACF,EAAH,CAAM,QAAO,CAAC,GAAG,CAACA,EAAJ,CAAO,KAAM3wI,EAAN,CAAQ,GAAG,KAAK,EAAE2qI,EAAE,CAAC2F,EAAE,EAAEM,EAAE,CAACD,EAAE,CAAC,CAAC,CAAJ,CAAM,CAAX,CAAF,EAAiB,CAAlB,CAAT,CAAH,CAAkC,MAAMA,EAAE,CAACC,EAAH,CAAM,CAAAhF,EAAE,CAACgF,EAAE,CAAC,EAAE/E,EAAE,CAACwE,EAAD,CAAI,CAAJ,CAAR,CAAeA,EAAf,CAAkBC,EAAlB,CAAqBK,EAArB,CAAF,CAA2B,GAAGA,EAAE,CAAC,EAAElG,EAAE,CAAC4F,EAAE,CAAC,EAAH,EAAO,CAAR,CAAV,GAAuBlC,EAAE,CAAC,EAAEwC,EAAH,CAAF,CAASP,EAAT,CAAYQ,EAAZ,CAAe,EAAEnG,EAAE,CAAC4F,EAAE,CAAC,GAAH,EAAQ,CAAT,CAAnB,CAAlD,CAAkFtE,EAAE,CAACsE,EAAD,CAAI,CAAJ,CAApF,CAA2FC,EAAE,CAACA,EAAE,CAACO,EAAH,CAAM,CAApG,CAAsGH,EAAE,CAACA,EAAE,CAACG,EAAH,CAAM,CAA/G,CAAiH,CAA3Q,IAAgRH,GAAE,CAAC,CAAH,CAAK,CAAxR,MAA8R,CAA9R,EAAiS9E,EAAE,CAAC+E,EAAE,CAAC,EAAE9E,EAAE,CAACwE,EAAD,CAAI,CAAJ,CAAR,CAAeA,EAAf,CAAkBC,EAAlB,CAAqBI,EAArB,CAAF,CAA2B,GAAGA,EAAE,CAAC,EAAEjG,EAAE,CAAC4F,EAAE,CAAC,EAAH,EAAO,CAAR,CAAV,GAAuBvE,EAAE,CAAC,EAAE4E,EAAH,CAAF,CAASN,EAAT,CAAYO,EAAZ,CAAeG,EAAf,CAAkB,EAAErG,EAAE,CAAC4F,EAAE,CAAC,GAAH,EAAQ,CAAT,CAAtB,CAAlD,CAAqFtE,EAAE,CAACsE,EAAD,CAAI,CAAJ,CAAvF,CAA8F,CAAxY,IAA6YzE,GAAE,CAAC+E,EAAE,CAAC,EAAE9E,EAAE,CAACwE,EAAD,CAAI,CAAJ,CAAR,CAAeA,EAAf,CAAkBC,EAAlB,CAAqBI,EAArB,CAAF,CAA2B,GAAGA,EAAE,CAAC,EAAEjG,EAAE,CAAC4F,EAAE,CAAC,EAAH,EAAO,CAAR,CAAV,GAAuBlC,EAAE,CAAC,EAAEuC,EAAH,CAAF,CAASN,EAAT,CAAYO,EAAZ,CAAe,EAAElG,EAAE,CAAC4F,EAAE,CAAC,GAAH,EAAQ,CAAT,CAAnB,CAAlD,CAAkFtE,EAAE,CAACsE,EAAD,CAAI,CAAJ,CAApF,CAA2F5tE,EAAE,CAAC,CAAC,EAAEsuE,EAAH,EAAOtmG,CAAP,CAAS,CAAZ,CAAc,CAAAylG,EAAE,CAACztE,EAAH,CAAM,CAAAjM,EAAE,CAAC05E,EAAH,CAAM,CAAAd,EAAE,CAAC54E,EAAH,CAAM,CAAA43E,EAAE,CAACgB,EAAH,CAAM,CAAAjC,EAAE,CAACiB,EAAH,CAAM,CAAA3jG,CAAC,CAAC0iG,EAAF,CAAK,CAAC,CAA33M,MAAi4M,CAAj4M,EAAo4M,CAAC,CAAtiN,MAA4iN,CAA5iN,EAA+iN,SAASxB,GAAT,CAAYthG,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkB,CAACqqC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAe,GAAIgH,EAAJ,CAAMyjC,CAAC,CAAC,CAAR,CAAU,EAAE,CAAC,GAAG,KAAK,EAAEkgG,EAAE,CAAC9gI,CAAC,EAAE,CAAJ,CAAT,CAAH,CAAoB,CAAC,GAAG,GAAG4gI,EAAE,CAACpgG,CAAC,CAAC,GAAF,EAAO,CAAR,CAAR,CAAmB,CAAC,IAAIrjC,CAAC,CAAC,CAAN,GAAU,CAAC,GAAIsP,EAAC,CAACtP,CAAC,GAAG,CAAJ,CAAMhH,CAAC,GAAG,CAAhB,CAAkB,GAAG,EAAEsW,CAAC,CAACtP,CAAC,GAAG,CAAJ,CAAM,CAAV,CAAH,CAAgB,CAACqjC,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,IAAI,CAACA,CAAC,CAAC,EAAEsgG,EAAE,CAAC9gI,CAAC,CAAC7C,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA7B,CAAgC,CAACyjC,CAAC,CAACJ,CAAF,CAAIA,CAAC,CAAC,CAAN,CAAQ,MAAM,CAAArjC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAG,IAAI,EAAEqjC,CAAN,GAAU/zB,CAAV,GAAcm0B,CAAC,CAAC,EAAEkgG,EAAE,CAAC9gI,CAAC,CAAC7C,CAAF,EAAK,CAAN,CAAN,CAAeqjC,CAAC,CAAC,CAA/B,EAAkC,IAAI,EAAEA,CAAN,GAAU,IAAII,CAAC,EAAE,EAAH,EAAO,EAA1D,CAA6D,CAACJ,CAAC,CAAC,CAAF,CAAI,MAAM,CAAC,CAAAA,CAAC,CAAC,CAAF,CAAI,CAArO,IAA0OA,EAAC,CAAC,CAAF,CAAI,CAAjP,MAAuP,CAAvP,EAA0P,MAAO,GAAEA,CAAT,CAAW,SAAS2hG,GAAT,CAAY3hG,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkBgH,CAAlB,CAAoByjC,CAApB,CAAsB,CAACJ,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7C,CAAC,EAAE,CAAb,CAAeyjC,CAAC,EAAE,CAAlB,CAAoB,GAAIn0B,EAAC,CAAC,CAAN,CAAQmP,CAAC,CAAC,CAAV,CAAY8kB,CAAC,CAAC,CAAd,CAAgB9yB,CAAC,CAAC,CAAlB,CAAoBizB,CAAC,CAAC,CAAtB,CAAwBvO,CAAC,CAACivG,EAA1B,CAA6BA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAWX,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAF,CAASn8B,CAAC,EAAE,CAAvB,CAAyB,GAAIsqC,EAAC,CAACnO,CAAC,CAAC,CAAF,CAAI,CAAV,CAAYsuG,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAT,CAAWmgG,EAAE,CAACtuG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAtB,CAAwBsuG,EAAE,CAACtuG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAApC,CAAsCkO,CAAC,CAAC,EAAE,CAAC,GAAG,GAAGrjC,CAAC,GAAG,CAAP,EAAU,KAAK,EAAE2jI,EAAE,CAAC3qI,CAAC,EAAE,CAAJ,CAAT,CAAb,CAA8B,CAAC,GAAIiH,EAAJ,CAAM+iF,CAAC,CAAC,CAAR,CAAUngF,CAAC,CAAC,KAAK,EAAE7C,CAAC,GAAG,CAAJ,EAAOgjF,CAAC,GAAG,CAAb,CAAL,EAAsB,CAAC,OAAO,EAAE2gD,EAAE,CAAC3qI,CAAC,CAACgqF,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQvyE,CAAC,CAAC,CAAF,CAAI,KAAM5N,EAAN,CAAzC,CAAiDmgF,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAG/iF,CAAC,CAAC,IAAI,EAAEwQ,CAAN,CAAL,CAAc,CAACxQ,CAAC,CAACjH,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAI4Z,EAAC,CAACowE,CAAC,CAAC,CAAC,CAAH,CAAK,CAAX,CAAa/iF,CAAC,EAAE,CAAH,CAAK2S,CAAC,EAAE,CAAR,CAAU,GAAI+xB,EAAC,CAAC,CAAN,CAAQ,EAAE,CAAC,GAAG,CAAC/xB,CAAC,CAAC,CAAC,CAAH,CAAK,CAAN,IAAW,CAAX,CAAa,EAAhB,CAAmB,CAAC,GAAI4wB,EAAC,CAACvjC,CAAN,CAAQlJ,CAAC,CAAC6b,CAAV,CAAY,GAAG4wB,CAAC,EAAE,CAAH,CAAK,CAACA,CAAC,CAAC,CAACzsC,CAAC,CAAC,IAAI,GAAGA,CAAC,EAAE,CAAN,CAAJ,EAAc,CAAd,CAAgB,CAAC,EAAEitI,EAAE,CAAC,GAAG,EAAEA,EAAE,CAACxgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAP,EAAiB,GAAjB,EAAsB,CAAvB,CAAL,EAAgCzsC,CAAhC,CAAkC,CAArD,GAAyD,EAAEitI,EAAE,CAAC,KAAK,EAAEA,EAAE,CAACxgG,CAAC,EAAE,CAAJ,CAAT,GAAkB,CAAnB,CAA7D,EAAoF,CAAvF,IAA4F,CAA5F,CAA8F,EAA9F,EAAkG,GAAG,CAAC,CAAC,EAAD,EAAKmgG,EAAE,CAAC,CAACh/F,CAAC,CAAC,EAAE8+F,EAAE,CAAC,KAAKjgG,CAAC,EAAE,CAAR,GAAY,CAAb,CAAP,GAAyB,CAA1B,CAAF,CAA+BmgG,EAAE,CAAC1jI,CAAC,EAAE,CAAJ,CAAtC,CAAD,GAAiD,EAAjD,EAAqD,EAA1J,EAA8J,IAAI,EAAE6jI,CAAC,CAAC7jI,CAAD,CAAG0kC,CAAH,CAAK/xB,CAAL,CAAP,CAA9J,EAA+K,IAAI,EAAE+wH,EAAE,CAACh/F,CAAC,CAAC/xB,CAAF,EAAK,CAAN,CAAR,CAAvL,CAAyM,MAAM,CAAA+xB,CAAC,CAAC,CAAF,CAAI,CAAtP,MAA4P,CAA5P,EAA+P1kC,CAAC,CAAC,GAAGqP,CAAC,CAAC,EAAEq1B,CAAP,CAAF,CAAY,IAAG1kC,CAAH,CAAK,CAAC,GAAG,EAAE+iF,CAAC,CAAC,EAAEkiD,CAAC,CAAC51H,CAAD,CAAGtW,CAAH,CAAKgH,CAAL,CAAO,CAAP,CAAP,CAAH,CAAqB,CAAC,GAAG,EAAE,EAAEy6H,CAAC,CAACnrH,CAAD,CAAG,IAAH,CAAL,CAAH,CAAkB,CAAC0zE,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,EAAE,EAAEy3C,CAAC,CAACnrH,CAAD,CAAG,IAAH,CAAL,CAAH,CAAkB,CAAC0zE,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,EAAEA,CAAC,CAAC,EAAEkiD,CAAC,CAAC51H,CAAD,CAAGtW,CAAH,CAAKgH,CAAL,CAAO,CAAP,CAAP,CAAH,CAAqB,CAACgjF,CAAC,CAAC,CAAF,CAAI,MAAM,CAAC,CAAAygD,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAF,CAAS0/C,CAAT,CAAWv/C,CAAC,GAAGn0B,CAAC,CAAC,EAAEm0H,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAT,CAAD,EAAsBskI,EAAE,CAAC,EAAE73H,CAAH,CAAF,CAAQ+zB,CAAR,CAAUlO,CAAV,CAAY,EAAEsuG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAhB,CAAjC,CAA6D,CAApL,IAAwL,CAAC,GAAG,EAAE7C,CAAC,GAAG,CAAT,CAAW,CAAC,GAAG,IAAI,CAACgjF,CAAC,CAAC,EAAE2gD,EAAE,CAAC3qI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA7B,CAAgC,CAAC,GAAG,KAAK,EAAE2qI,EAAE,CAAC3qI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAH,CAAsB,CAACgqF,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,KAAK,EAAE2gD,EAAE,CAAC3qI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAH,CAAsB,CAACgqF,CAAC,CAAC,CAAF,CAAI,MAAM,KAAIA,CAAC,CAAC,CAAN,GAAU,CAAC,GAAGhjF,CAAC,GAAG,CAAJ,EAAOgjF,CAAC,GAAG,CAAd,CAAgB,CAACvyE,CAAC,CAAC,EAAF,CAAK,MAAM,IAAG,KAAK,EAAEkzH,EAAE,CAAC3qI,CAAC,EAAEgqF,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAT,GAAyB,KAAK,EAAE2gD,EAAE,CAAC3qI,CAAC,EAAEgqF,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAT,CAA5B,CAAoD,CAAC,GAAG1zE,CAAC,CAAC0zE,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,KAAK,EAAE2gD,EAAE,CAAC3qI,CAAC,CAACgqF,CAAF,EAAK,CAAN,CAAT,CAAX,CAA8B,CAACA,CAAC,CAAC1zE,CAAF,CAAI,MAAM,CAAA0zE,CAAC,CAAC1zE,CAAF,CAAI,CAAlG,IAAuG0zE,EAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAG,KAAK,EAAEvyE,CAAP,IAAYuyE,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAlB,EAAqBA,CAAC,GAAG,CAAJ,CAAMhjF,CAAC,GAAG,CAAV,EAAa,IAAI,GAAGye,CAAC,CAAC,EAAEwmH,EAAE,CAACjsI,CAAC,CAACgqF,CAAF,CAAI,CAAL,CAAOhjF,CAAC,CAACgjF,CAAF,CAAI,CAAX,CAAT,CAAJ,CAArC,CAAkE,CAAC,GAAGygD,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAF,CAAS0/C,CAAC,CAACvkE,CAAC,CAACukE,CAAF,CAAI,CAAf,CAAiB,CAACv/C,CAArB,CAAuB,MAAM,GAAG,EAAEn0B,CAAC,CAAC,EAAEm0H,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAR,CAAH,CAAsB,MAAMskI,EAAE,CAAC,EAAE73H,CAAH,CAAF,CAAQ+zB,CAAR,CAAUlO,CAAV,CAAY,EAAEsuG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAhB,EAA4BmgF,CAAC,CAAC,EAAEygD,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAlC,CAAyC,MAAM,CAAA7yB,CAAC,CAAC,EAAF,CAAK,CAAC,CAAtb,IAA2bA,EAAC,CAAC,EAAF,CAAK,GAAG,KAAK,EAAEA,CAAP,CAAH,CAAa,CAAC,GAAGzQ,CAAC,GAAG,CAAJ,EAAO,CAAV,CAAY,CAACgjF,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAA,CAAC,CAAC,EAAE2gD,EAAE,CAAC3qI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAN,CAAe,QAAOgqF,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,IAAL,CAAS,MAAM,QAAQA,CAAC,CAAC,CAAF,CAAI,KAAM3/C,EAAN,CAArD,CAA6D,OAAO,EAAEsgG,EAAE,CAAC3qI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQ,IAAK,IAAL,CAAS,MAAM,QAAQgqF,CAAC,CAAC,CAAF,CAAI,KAAM3/C,EAAN,CAAxD,CAAgE,IAAI/zB,CAAC,CAAC,CAAN,GAAU,CAAC,GAAGtP,CAAC,GAAG,CAAJ,EAAOsP,CAAC,GAAG,CAAd,CAAgB,CAACmB,CAAC,CAAC,EAAF,CAAK,MAAM,IAAGuyE,CAAC,CAAC1zE,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,KAAK,EAAEq0H,EAAE,CAAC3qI,CAAC,CAACsW,CAAF,EAAK,CAAN,CAAT,CAAX,CAA8B,MAAMA,CAAC,CAAC0zE,CAAF,CAAI,MAAK,EAAEvyE,CAAP,IAAYuyE,CAAC,CAAC1zE,CAAC,CAAC,CAAF,CAAI,CAAlB,EAAqB0zE,CAAC,GAAG,CAAJ,CAAMhjF,CAAC,GAAG,CAAV,EAAa,IAAI,GAAGujC,CAAC,CAAC,EAAE0hG,EAAE,CAACjsI,CAAC,CAACgqF,CAAF,CAAI,CAAL,CAAOhjF,CAAC,CAACgjF,CAAF,CAAI,CAAX,CAAT,CAAJ,CAAb,EAA2CygD,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAF,CAAS0/C,CAAC,CAACz/C,CAAC,CAACy/C,CAAF,CAAI,CAAf,CAAiB,IAAI,EAAEv/C,CAAN,GAAU,IAAI,GAAGC,CAAC,CAAC,EAAE+/F,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAT,CAAJ,CAAV,GAAqCskI,EAAE,CAAC,EAAEzjG,CAAH,CAAF,CAAQL,CAAR,CAAUlO,CAAV,CAAY,EAAEsuG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAhB,EAA4BmgF,CAAC,CAAC,EAAEygD,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAvE,CAA5D,EAA4I0/C,CAAC,CAAC,CAAnK,CAAqK,CAAC,CAA39C,IAAg+CA,EAAC,CAAC,CAAF,CAAI,CAAv+C,MAA6+C,CAA7+C,EAAg/C,MAAOohD,GAAE,CAACjvG,CAAH,CAAK,EAAE6tD,CAAd,CAAgB,SAASiiD,GAAT,CAAY5hG,CAAZ,CAAcxgC,CAAd,CAAgB,CAACwgC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU,GAAI7J,EAAC,CAAC,CAAN,CAAQgH,CAAC,CAAC,CAAV,CAAYqjC,CAAC,CAAC,OAAO,CAAC,GAAGxgC,CAAC,GAAG,CAAJ,EAAO7C,CAAC,GAAG,CAAd,CAAgB,CAAChH,CAAC,CAAC,CAAF,CAAI,MAAM,QAAO,EAAE2qI,EAAE,CAACtgG,CAAC,CAACrjC,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQhH,CAAC,CAAC,CAAF,CAAI,KAAMqqC,EAAN,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQrjC,CAAC,CAAC,CAAF,CAAI,KAAMqjC,EAAN,CAAnE,CAA2ErjC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,OAAO,KAAI,EAAEhH,CAAN,IAAWgH,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAjB,EAAoB,EAAEA,CAA7B,CAA+B,SAASq5D,GAAT,CAAYh2B,CAAZ,CAAcxgC,CAAd,CAAgB,CAAC,GAAI7J,EAAJ,CAAMqqC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAUwgC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAGxgC,CAAC,GAAG,CAAV,CAAY,CAAC,GAAI7C,EAAC,CAAC,KAAK,EAAE2jI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAT,EAAiB,KAAK,EAAEsgG,EAAE,CAACtgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,EAAmB,KAAK,EAAEsgG,EAAE,CAACtgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,EAAmB,CAAnB,CAAqB,CAAxC,CAA0C,CAA3D,CAA6D,CAAnE,CAAqE,GAAG,CAACrjC,CAAC,CAAC,CAAF,CAAI,CAAL,IAAU,CAAV,CAAY6C,CAAC,GAAG,CAAnB,CAAqB,CAAC,GAAI4gC,EAAC,CAAC,EAAEkgG,EAAE,CAACtgG,CAAC,CAACrjC,CAAF,EAAK,CAAN,CAAV,CAAmB,OAAOyjC,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQzjC,CAAC,CAAC,CAAF,CAAI,KAAMqjC,EAAN,CAA5D,CAAoE,IAAIrqC,CAAC,CAAC,CAAN,CAAQ,EAAE6J,CAAC,GAAG,CAAJ,EAAO7C,CAAC,GAAG,CAAb,CAAR,EAAyB,CAAC,GAAIsP,EAAC,CAAC,EAAEq0H,EAAE,CAACtgG,CAAC,CAACrjC,CAAF,EAAK,CAAN,CAAV,CAAmB,GAAG,IAAIsP,CAAC,EAAE,EAAH,EAAO,EAAd,CAAiB,MAAM,GAAGA,CAAC,EAAE,EAAH,EAAO,EAAP,EAAWm0B,CAAC,EAAE,EAAH,EAAO,EAArB,CAAwB,CAAC,GAAG,IAAIn0B,CAAC,EAAE,EAAH,EAAO,EAAd,CAAiB,CAACtP,CAAC,CAAC,CAAF,CAAI,KAAMqjC,EAAN,CAAQ,CAAC,CAAxD,IAA6DrqC,EAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQgH,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAAA,CAAC,CAAC,EAAEhH,CAAC,GAAG,CAAN,CAAQ,CAAV,CAAY,CAA1Q,IAA+QgH,EAAC,CAAC,CAAF,CAAI,CAArW,IAA0WA,EAAC,CAAC,CAAF,CAAI,CAAjX,MAAuX,CAAvX,EAA0X,MAAO,GAAEA,CAAT,CAAW,SAASomI,GAAT,CAAY/iG,CAAZ,CAAcxgC,CAAd,CAAgB,CAACwgC,CAAC,EAAE,CAAH,CAAK,GAAIrqC,EAAC,CAAC,CAAN,CAAQgH,CAAC,CAAC,CAAV,CAAYyjC,CAAC,CAAC,CAAC5gC,CAAC,EAAE,CAAJ,EAAO,KAAK,EAAE8gI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAT,EAAiB,CAAxB,CAA0B,CAAxC,CAA0CI,CAAC,GAAG,CAAJ,CAAM5gC,CAAC,GAAG,CAAV,GAAc4gC,CAAC,CAACA,CAAC,EAAE,KAAK,EAAEkgG,EAAE,CAACtgG,CAAC,CAACI,CAAF,EAAK,CAAN,CAAT,EAAmB,CAArB,CAAD,CAAyB,CAAzC,EAA4CA,CAAC,GAAG,CAAJ,CAAM5gC,CAAC,GAAG,CAAV,GAAc4gC,CAAC,CAACA,CAAC,EAAE,KAAK,EAAEkgG,EAAE,CAACtgG,CAAC,CAACI,CAAF,EAAK,CAAN,CAAT,EAAmB,CAArB,CAAD,CAAyB,CAAzC,CAA5C,CAAwFJ,CAAC,CAAC,EAAE,CAAC,GAAGI,CAAC,GAAG,CAAJ,CAAM5gC,CAAC,GAAG,CAAV,EAAa,KAAK,EAAE8gI,EAAE,CAACtgG,CAAC,CAACI,CAAF,EAAK,CAAN,CAAT,CAAb,EAAiC,CAACzqC,CAAC,CAACyqC,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAc5gC,CAAC,GAAG,CAAtD,CAAwD,CAAC,OAAO,EAAE8gI,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQgH,CAAC,CAAC,EAAF,CAAK,KAAMqjC,EAAN,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ,KAAMA,EAAN,CAAhE,CAAwErqC,CAAC,CAACyqC,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAzI,IAA8IzjC,EAAC,CAAC,EAAF,CAAK,CAAtJ,MAA4J,CAA5J,EAA+J,MAAO,MAAK,EAAEA,CAAP,IAAYhH,CAAC,CAAC,CAAd,EAAiB,EAAEA,CAA1B,CAA4B,SAASquI,GAAT,CAAYhkG,CAAZ,CAAcxgC,CAAd,CAAgB,CAACwgC,CAAC,EAAE,CAAH,CAAK,GAAIrqC,EAAC,CAAC,CAAN,CAAQgH,CAAC,CAAC,CAAC6C,CAAC,EAAE,CAAJ,EAAO,KAAK,EAAE8gI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAT,EAAiB,CAAxB,CAA0B,CAApC,CAAsCrjC,CAAC,GAAG,CAAJ,CAAM6C,CAAC,GAAG,CAAV,GAAc7C,CAAC,CAACA,CAAC,EAAE,KAAK,EAAE2jI,EAAE,CAACtgG,CAAC,CAACrjC,CAAF,EAAK,CAAN,CAAT,EAAmB,CAArB,CAAD,CAAyB,CAAzC,EAA4C,GAAIyjC,EAAC,CAACzjC,CAAC,GAAG,CAAJ,CAAM6C,CAAC,GAAG,CAAV,CAAY7C,CAAC,EAAE,KAAK,EAAE2jI,EAAE,CAACtgG,CAAC,CAACrjC,CAAF,EAAK,CAAN,CAAT,EAAmB,CAArB,CAAD,CAAyB,CAArC,CAAuCA,CAA7C,CAA+C,GAAG,CAACA,CAAC,CAACyjC,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAc5gC,CAAC,GAAG,CAAlB,EAAqB,KAAK,EAAE8gI,EAAE,CAAC,CAAC3qI,CAAC,CAACqqC,CAAC,CAACI,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAT,CAArB,EAA+C,KAAK,EAAEkgG,EAAE,CAACtgG,CAAC,CAACrjC,CAAF,EAAK,CAAN,CAAT,CAAlD,CAAqE,CAAC,GAAG,IAAI,GAAGA,CAAC,CAAC,EAAEk/C,CAAC,CAAClmD,CAAC,CAAC,CAAF,CAAI,CAAL,CAAO6J,CAAC,CAAC,CAAC,CAAH,CAAK4gC,CAAL,CAAO,CAAd,CAAgB,EAAhB,CAAR,CAAJ,EAAkC,CAACzqC,CAAC,CAACgH,CAAC,CAACyjC,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAc5gC,CAAC,GAAG,CAApD,EAAuD,KAAK,EAAE8gI,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAT,CAA1D,CAA6EgH,CAAC,CAAC,CAAF,CAA7E,IAAsF,IAAG,CAACA,CAAC,CAACyjC,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAc5gC,CAAC,GAAG,CAArB,CAAuB,MAAO,IAAG,KAAK,EAAE8gI,EAAE,CAACtgG,CAAC,CAACrjC,CAAF,EAAK,CAAN,CAAT,EAAmByjC,CAAC,CAAC,CAAF,CAAI,CAAvB,CAAyBzjC,CAA5B,CAAP,CAAsC,CAAzN,IAA8NA,EAAC,CAAC,CAAF,CAAI,MAAO,GAAEA,CAAT,CAAW,SAASqoI,GAAT,CAAYhlG,CAAZ,CAAcxgC,CAAd,CAAgB,CAAC,MAAOwgC,EAAC,EAAE,CAAH,CAAK,GAAG,EAAE,CAAC,EAAExgC,CAAH,IAAQ,CAAV,EAAa,KAAK,EAAE8gI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAT,CAAb,EAA+B,KAAK,EAAEsgG,EAAE,CAACtgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAA/B,EAAmD,KAAK,EAAEsgG,EAAE,CAACtgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAnD,EAAuE,KAAK,EAAEsgG,EAAE,CAACtgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAvE,CAA0F,CAA1F,CAA4F,CAA/F,CAAZ,CAA8G,SAAS4lG,GAAT,CAAY5lG,CAAZ,CAAcxgC,CAAd,CAAgB,CAACwgC,CAAC,EAAE,CAAH,CAAK,GAAIrqC,EAAC,CAAC,CAAC6J,CAAC,EAAE,CAAJ,EAAO,KAAK,EAAE8gI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAT,EAAiB,CAAxB,CAA0B,CAAhC,CAAkCrqC,CAAC,GAAG,CAAJ,CAAM6J,CAAC,GAAG,CAAV,GAAc7J,CAAC,CAACA,CAAC,EAAE,KAAK,EAAE2qI,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAT,EAAmB,CAArB,CAAD,CAAyB,CAAzC,EAA4CA,CAAC,GAAG,CAAJ,CAAM6J,CAAC,GAAG,CAAV,GAAc7J,CAAC,CAACA,CAAC,EAAE,KAAK,EAAE2qI,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAT,EAAmB,CAArB,CAAD,CAAyB,CAAzC,CAA5C,CAAwF,GAAIgH,EAAC,CAAChH,CAAC,CAAC,CAAF,CAAI,CAAV,CAAYqqC,CAAC,CAAC,EAAE,CAAC,GAAGrjC,CAAC,GAAG,CAAJ,CAAM6C,CAAC,GAAG,CAAb,CAAe,CAAC,GAAI4gC,EAAC,CAACJ,CAAC,CAACrqC,CAAF,CAAI,CAAV,CAAY,OAAO,EAAE2qI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAX,EAAmB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ,KAAMJ,EAAN,CAAzD,CAAiE,GAAG,KAAK,EAAEsgG,EAAE,CAACtgG,CAAC,CAACrjC,CAAF,EAAK,CAAN,CAAT,CAAH,CAAsB,MAAO,IAAG,CAAC6C,CAAC,CAAC,IAAI,EAAE6gC,CAAC,CAACD,CAAD,CAAG5gC,CAAC,CAAC7J,CAAF,CAAI,CAAP,CAAP,CAAH,EAAsBA,CAAC,CAAC,CAAF,CAAI,CAA1B,CAA4B,CAA/B,CAAP,CAAyC,CAAC,CAAhK,MAAsK,CAAtK,EAAyK,MAAO,EAAP,CAAS,SAASogE,GAAT,CAAY/1B,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkBgH,CAAlB,CAAoByjC,CAApB,CAAsB,CAACJ,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAegH,CAAC,EAAE,CAAlB,CAAoB,GAAIsP,EAAC,CAAC80H,EAAN,CAASA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAWX,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEm0B,CAAtB,CAAwB,GAAIhlB,EAAC,CAAC,EAAEomH,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAV,CAAgB4gC,CAAC,CAAC,CAAF,CAAI,EAAE,CAAC,GAAGzjC,CAAC,GAAG,CAAJ,EAAOyjC,CAAC,GAAG,CAAd,CAAgB,MAAM,GAAIF,EAAC,CAAC9kB,CAAN,CAAQhO,CAAC,CAAC5N,CAAV,CAAY6gC,CAAC,CAAC1qC,CAAC,CAACyqC,CAAF,CAAI,CAAlB,CAAoBtO,CAAC,CAACn1B,CAAC,CAACyjC,CAAF,CAAI,CAA1B,CAA4BH,CAAC,CAACh0B,CAA9B,CAAgCi0B,CAAC,EAAE,CAAH,CAAK9yB,CAAC,EAAE,CAAR,CAAUizB,CAAC,EAAE,CAAb,CAAevO,CAAC,EAAE,CAAlB,CAAoBmO,CAAC,EAAE,CAAvB,CAAyB,GAAIrjC,EAAJ,CAAM+iF,CAAN,CAAQpwE,CAAR,CAAU+xB,CAAV,CAAYnB,CAAZ,CAAczsC,CAAd,CAAgBiM,CAAhB,CAAkBtB,CAAC,CAAC,CAApB,CAAsBurB,CAAC,CAAC,CAAxB,CAA0B,IAAIjqB,CAAC,CAAC,CAAN,CAAQA,CAAC,GAAG,CAAJ,CAAM,CAAN,CAAQA,CAAC,GAAG,CAAJ,CAAMmyB,CAAC,GAAG,CAAlB,EAAqB,KAAK,EAAEwuG,EAAE,CAACjgG,CAAC,CAAC1gC,CAAF,EAAK,CAAN,CAAT,CAA7B,EAAiDA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAG,CAAC/C,CAAC,CAAC,EAAEgpI,EAAE,CAACvlG,CAAD,CAAGvO,CAAH,CAAP,GAAezzB,CAAC,CAACzB,CAAF,CAAIgtB,CAAC,CAAC,CAArB,EAAwB,CAAChtB,CAAC,CAAC,EAAEkpI,EAAE,CAACzlG,CAAD,CAAGvO,CAAH,CAAP,GAAezzB,CAAC,CAACzB,CAAF,CAAIgtB,CAAC,CAAC,CAArB,EAAwBhtB,CAAC,CAAC,CAAlD,CAAoD,IAAI,EAAEgtB,CAAN,CAAvD,CAAgE,CAAC,IAAIhtB,CAAC,CAACyB,CAAN,CAAQ,EAAEyzB,CAAC,GAAG,CAAJ,EAAOl1B,CAAC,GAAG,CAAb,GAAiB,KAAK,EAAE0jI,EAAE,CAACjgG,CAAC,EAAEzjC,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAT,CAAzB,EAAkDA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAI4jC,EAAC,CAAC,EAAEghG,EAAE,CAACp0H,CAAD,CAAG,CAAH,CAAV,CAAgBszB,CAAC,CAAC,EAAE8gG,EAAE,CAACp0H,CAAD,CAAG,CAAH,CAAtB,CAA4ByzH,EAAE,CAACrgG,CAAD,CAAGH,CAAC,CAAChiC,CAAF,CAAI,CAAP,CAASzB,CAAC,CAACyB,CAAF,CAAI,CAAb,CAAF,CAAkB,GAAIinC,EAAC,CAACl4B,CAAC,CAAC,GAAF,CAAM,CAAZ,CAAc2lD,CAAC,CAACvyB,CAAC,CAAC,CAAF,CAAI,CAApB,CAAsBggG,CAAC,CAAC7gD,CAAC,CAACr+C,CAAC,CAAC,CAA5B,CAA8BtB,CAAC,CAAC,OAAO,CAAC,IAAIG,CAAC,CAAC,CAAN,GAAU,CAAC,GAAGrO,CAAC,GAAG,CAAJ,EAAOl1B,CAAC,GAAG,CAAd,CAAgB,KAAMojC,EAAN,CAAQ,IAAIzwB,CAAC,CAAC3S,CAAN,GAAU,CAAC,GAAIg8D,EAAC,CAACrpD,CAAC,CAAC,CAAF,CAAI,CAAV,CAAY,GAAGuiB,CAAC,GAAG,CAAJ,EAAO8mC,CAAC,GAAG,CAAd,CAAgB,MAAM,GAAG,KAAK,EAAE0nE,EAAE,CAACjgG,CAAC,CAAC9wB,CAAF,EAAK,CAAN,CAAT,CAAH,CAAsB,MAAMA,CAAC,CAACqpD,CAAF,CAAI,IAAIomE,EAAC,CAAC3+F,CAAC,CAACzjC,CAAF,CAAI,CAAV,CAAYgiI,CAAC,CAAChmE,CAAC,CAACh8D,CAAF,CAAI,CAAlB,CAAoB,GAAG,EAAE,EAAEglI,EAAE,CAAC5C,CAAD,CAAGJ,CAAH,CAAN,CAAH,CAAgB,MAAMz+F,CAAC,CAAC,CAAF,CAAIvjC,CAAC,CAACg8D,CAAN,CAAQ,KAAIllE,CAAC,CAAC,CAAN,CAAQ,EAAE,GAAGA,CAAC,GAAG,CAAP,EAAU6b,CAAC,GAAG,CAAJ,CAAM,CAAClR,CAAC,CAAC3K,CAAC,CAACkJ,CAAF,CAAI,CAAP,IAAY,CAA5B,EAA+B,KAAK,EAAE0jI,EAAE,CAACjgG,CAAC,CAAChiC,CAAF,EAAK,CAAN,CAAT,CAAjC,CAAR,EAA8D3K,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAIytI,EAAC,CAACnC,CAAC,CAACtrI,CAAF,CAAI,CAAV,CAAYmoD,CAAC,CAAC+iF,CAAC,CAAClrI,CAAF,CAAI,CAAlB,CAAoBmuI,CAAC,CAAC,EAAEzB,EAAE,CAAC96F,CAAC,EAAE,CAAJ,CAAJ,CAAW,CAACu8F,CAAC,CAAC,IAAI,EAAEI,EAAE,CAACd,CAAD,CAAGtlF,CAAH,CAAK,CAAL,CAAR,CAAH,EAAqBva,CAArB,CAAuB,IAAI,EAAEA,CAAN,EAAS,CAA3C,CAA6CA,CAAnE,CAAqE,GAAGugG,CAAC,CAAC7C,CAAC,CAACzvH,CAAC,CAAC,CAAL,EAAQyvH,CAAC,CAAC,EAAE4G,EAAE,CAACzE,CAAD,CAAGtlF,CAAH,CAAN,CAAYtsC,CAAC,CAAC,EAAEu2H,EAAE,CAAC3E,CAAD,CAAGtlF,CAAH,CAA1B,CAAD,CAAkC+iF,CAAC,CAAC,IAAI,EAAEz+F,CAAN,CAAvC,CAAgD,CAAC,GAAG,IAAI,EAAE6+F,CAAN,EAAS,IAAI,GAAG3gI,CAAC,CAAC,GAAGijC,CAAC,CAAC,EAAE8+F,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAT,CAAL,CAAJ,CAAZ,CAAwC,CAACrW,CAAC,CAAC,EAAF,CAAK,MAAM,IAAG,IAAI,EAAEra,CAAN,EAAS,IAAI,EAAElR,CAAN,CAAZ,CAAqB,CAACurB,CAAC,CAAC,EAAF,CAAK,MAAM,CAAC,IAAG,KAAK,GAAGA,CAAC,CAACo1G,CAAC,CAAC,IAAI,EAAEzvH,CAAN,EAAS,IAAI,EAAEymD,EAAE,CAACmrE,CAAD,CAAGtlF,CAAH,CAAR,CAAT,CAAwB,EAAxB,CAA2B,EAA5B,CAA+BtsC,CAAC,CAAC,EAAD,CAAI,EAA1C,CAAL,CAAH,CAAuD,CAAC,GAAGowE,CAAC,CAACi/C,CAAC,CAAC,CAAD,CAAGj/C,CAAN,CAAQ,CAAC,CAAC/1D,CAAC,CAAC,CAAH,EAAMl2B,CAAP,IAAY,EAAEiM,CAAd,CAAX,CAA4B,MAAM/C,CAAC,CAAC4jI,CAAC,EAAE,EAAEJ,EAAE,CAACrtE,CAAC,EAAE,CAAJ,CAAT,CAAgB,CAA1G,IAA+G,IAAG,KAAK,EAAEnpC,CAAP,CAAH,CAAa,CAAC,GAAGg1G,CAAC,CAAC,CAACh1G,CAAC,CAAC,CAAH,IAAQ,EAAEl2B,CAAV,CAAL,CAAkB,CAACk2B,CAAC,CAAC,EAAF,CAAK,MAAM,CAAAg1G,CAAC,EAAEkC,EAAE,CAACtgG,CAAD,CAAG,EAAH,CAAF,CAAS5jC,CAAC,CAAC4jI,CAAX,CAAa7gD,CAAC,CAAC,CAAjB,EAAoB/iF,CAAC,CAAC4jI,CAAvB,CAAyB,CAAAK,EAAE,CAACrgG,CAAD,CAAG2gG,CAAH,CAAKtlF,CAAL,CAAF,CAAUva,CAAC,CAACugG,CAAZ,CAAcrB,CAAC,CAAC5jI,CAAhB,CAAkBA,CAAC,CAACg8D,CAApB,CAAsB,MAAK,EAAEhvC,CAAP,EAAUw2G,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEqB,CAArB,CAAuB,KAAK,EAAE1X,CAAP,IAAYw2G,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAF,EAAU,CAAtB,CAAvB,CAAgD5hC,CAAC,CAAC,EAAE+hI,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAtD,CAA6D0/C,CAAC,GAAGygD,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAF,CAAS5hC,CAAC,EAAE,CAAf,CAA9D,CAAgF2gI,CAAC,CAAC,IAAI,EAAEwB,CAAN,EAASA,CAAC,GAAG,CAAJ,CAAM,CAAC7gD,CAAC,CAAC,EAAEygD,EAAE,CAACrtE,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAlH,CAAoHxjD,CAAC,CAAC,EAAE6wH,EAAE,CAAC5/F,CAAC,EAAE,CAAJ,CAA1H,CAAiI,EAAEniC,CAAF,CAAI2gI,CAAC,EAAEqC,EAAE,CAAC3gG,CAAD,CAAGtzB,CAAH,CAAKmC,CAAL,CAAOixH,CAAP,CAAF,CAAYa,EAAE,CAAC3gG,CAAD,CAAGtzB,CAAH,CAAK,CAAC,EAAEgzH,EAAE,CAAC5/F,CAAC,EAAE,CAAJ,CAAL,EAAaggG,CAAb,CAAe,CAApB,CAAsB,CAAC,EAAEJ,EAAE,CAACrtE,CAAC,EAAE,CAAJ,CAAL,EAAaytE,CAAb,CAAe,CAArC,CAAhB,EAAyDa,EAAE,CAAC3gG,CAAD,CAAGtzB,CAAH,CAAKmC,CAAL,CAAOowE,CAAP,CAAhE,CAA0Eq/C,CAAC,EAAEuC,EAAE,CAAC7gG,CAAD,CAAGtzB,CAAH,CAAKmC,CAAL,CAAOixH,CAAP,CAAF,CAAYa,EAAE,CAAC3gG,CAAD,CAAGtzB,CAAH,CAAK,CAAC,EAAEgzH,EAAE,CAAC5/F,CAAC,EAAE,CAAJ,CAAL,EAAaggG,CAAb,CAAe,CAApB,CAAsB,CAAC,EAAEJ,EAAE,CAACrtE,CAAC,EAAE,CAAJ,CAAL,EAAaytE,CAAb,CAAe,CAArC,CAAhB,EAAyDe,EAAE,CAAC7gG,CAAD,CAAGtzB,CAAH,CAAKmC,CAAL,CAAOowE,CAAP,CAAvQ,CAAiR,GAAGthF,CAAC,CAAC,EAAE+hI,EAAE,CAAChzH,CAAC,CAAC,EAAF,EAAM,CAAP,CAAT,GAAqBq0H,EAAE,CAAC,EAAEpjI,CAAH,CAAF,CAAQ6hC,CAAR,CAAUQ,CAAV,CAAY,EAAE0/F,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAhB,CAAuB,EAAEmgG,EAAE,CAAChzH,CAAC,CAAC,GAAF,EAAO,CAAR,CAA3B,CAAtS,CAA6Us0H,EAAE,CAACt0H,CAAD,CAAG,CAAH,CAA/U,CAAqVs0H,EAAE,CAACt0H,CAAD,CAAG,CAAH,CAAvV,CAA6V,IAAGgzB,CAAC,CAAC,CAACF,CAAC,CAAC,EAAEtjC,CAAL,EAAQwjC,CAAR,CAAU,CAAZ,CAAc,CAACF,CAAlB,CAAoB,MAAM,CAA32C,MAAi3C,IAAI,EAAEkgG,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAJ,CAAW,CAAf,CAAj3C,EAAo4C,MAAO,IAAGtW,CAAC,CAAC,EAAEyqI,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAT,GAAqBiiI,EAAE,CAAC,EAAE9rI,CAAH,CAAF,CAAQqqC,CAAR,CAAU5kB,CAAV,CAAY,EAAEglH,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAhB,CAAuB,EAAEm0H,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAA3B,CAArB,CAA4DkiI,EAAE,CAACliI,CAAD,CAAG,CAAH,CAA9D,CAAoEuhI,EAAE,CAAC90H,CAAvE,CAAyE,EAAEm0B,CAAlF,CAAoF,SAAS0lG,GAAT,CAAY9lG,CAAZ,CAAcxgC,CAAd,CAAgB,CAACwgC,CAAC,EAAE,CAAH,CAAK,GAAIrqC,EAAC,CAAC,CAAN,CAAQgH,CAAC,CAAC,CAAV,CAAYyjC,CAAC,CAAC,CAAd,CAAgBn0B,CAAC,CAAC,CAACzM,CAAC,EAAE,CAAJ,EAAO,KAAK,EAAE8gI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAT,EAAiB,CAAxB,CAA0B,CAA5C,CAA8C,GAAG/zB,CAAC,GAAG,CAAJ,CAAMzM,CAAC,GAAG,CAAV,GAAcyM,CAAC,CAACA,CAAC,EAAE,KAAK,EAAEq0H,EAAE,CAACtgG,CAAC,CAAC/zB,CAAF,EAAK,CAAN,CAAT,EAAmB,CAArB,CAAD,CAAyB,CAAzC,EAA4CA,CAAC,GAAG,CAAJ,CAAMzM,CAAC,GAAG,CAAV,GAAcyM,CAAC,CAACA,CAAC,EAAE,KAAK,EAAEq0H,EAAE,CAACtgG,CAAC,CAAC/zB,CAAF,EAAK,CAAN,CAAT,EAAmB,CAArB,CAAD,CAAyB,CAAzC,CAA5C,CAAwFA,CAAC,GAAG,CAAJ,CAAMzM,CAAC,GAAG,CAAV,EAAa,CAAC,CAAC,EAAE8gI,EAAE,CAACtgG,CAAC,CAAC/zB,CAAF,EAAK,CAAN,CAAL,EAAe,EAAf,CAAkB,GAAnB,GAAyB,CAAjI,CAAmI,CAAC,OAAO,CAAC,GAAGzM,CAAC,GAAG,CAAJ,EAAOyM,CAAC,GAAG,CAAd,CAAgB,CAACm0B,CAAC,CAAC,EAAF,CAAK,MAAM,IAAGzqC,CAAC,CAACsW,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,EAAE,CAAC,CAAC,EAAEq0H,EAAE,CAACtgG,CAAC,CAAC/zB,CAAF,EAAK,CAAN,CAAL,EAAe,EAAf,CAAkB,GAAnB,EAAwB,EAA1B,CAAX,CAAyC,MAAMA,CAAC,CAACtW,CAAF,CAAI,IAAG,KAAK,EAAEyqC,CAAP,IAAYzqC,CAAC,CAACsW,CAAC,CAAC,CAAF,CAAI,CAAlB,EAAqBtW,CAAC,GAAG,CAAJ,CAAM6J,CAAC,GAAG,CAAV,EAAa,KAAK,EAAE8gI,EAAE,CAAC,CAAC3jI,CAAC,CAACqjC,CAAC,CAAC/zB,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAT,CAAb,EAAuC,KAAK,EAAEq0H,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAT,CAA/D,CAAkF,MAAO,IAAG,CAACyqC,CAAC,CAAC,IAAI,EAAEC,CAAC,CAAC1jC,CAAD,CAAG6C,CAAC,CAACyM,CAAF,CAAI,CAAP,CAAP,CAAH,EAAsBA,CAAC,CAAC,CAAF,CAAI,CAA1B,CAA4B,CAA/B,CAAP,CAAyC,OAAO,EAAP,CAAS,SAAS06H,GAAT,CAAY3mG,CAAZ,CAAcxgC,CAAd,CAAgB,CAAC,GAAI7J,EAAJ,CAAMqqC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAUwgC,CAAC,CAAC,EAAE,CAAC,OAAO,EAAEsgG,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAX,EAAmB,IAAK,GAAL,CAAQ,IAAIrqC,CAAC,CAAC,CAAN,CAAQ,EAAE6J,CAAC,GAAG,CAAJ,EAAO7J,CAAC,GAAG,CAAb,GAAiB,KAAK,EAAE2qI,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAT,CAAzB,EAA6CA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,OAAO,CAAC,GAAG6J,CAAC,GAAG,CAAJ,EAAO7J,CAAC,GAAG,CAAd,CAAgB,CAACA,CAAC,CAAC,CAAF,CAAI,KAAMqqC,EAAN,CAAQ,IAAIrjC,EAAC,CAAC,EAAE2jI,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAV,CAAmB,GAAG,IAAIgH,CAAC,EAAE,EAAH,EAAO,EAAd,CAAiB,MAAMhH,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAAA,CAAC,CAAC,IAAIgH,CAAC,EAAE,EAAH,EAAO,EAAX,CAAc,CAAhB,CAAkB,MAAM,IAAK,GAAL,CAAQ,IAAIhH,CAAC,CAAC,CAAN,CAAQ,EAAE6J,CAAC,GAAG,CAAJ,EAAO7J,CAAC,GAAG,CAAb,GAAiB,KAAK,EAAE2qI,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAT,CAAzB,EAA6CA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,OAAO,CAAC,GAAG6J,CAAC,GAAG,CAAJ,EAAO7J,CAAC,GAAG,CAAd,CAAgB,CAACA,CAAC,CAAC,CAAF,CAAI,KAAMqqC,EAAN,CAAQ,IAAG,IAAI,CAACrjC,CAAC,CAAC,EAAE2jI,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA7B,CAAgC,MAAMA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAAA,CAAC,CAAC,IAAIgH,CAAC,EAAE,EAAH,EAAO,EAAX,CAAc,CAAd,CAAgB,CAAlB,CAAoB,MAAM,QAAQhH,CAAC,CAAC,CAAF,CAAjX,CAAsX,CAAzX,MAA+X,CAA/X,EAAkY,MAAO,GAAEA,CAAT,CAAW,SAASssI,GAAT,CAAYjiG,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkB,CAACA,CAAC,EAAE,CAAH,CAAK,GAAIgH,EAAJ,CAAMyjC,CAAC,CAAC,CAAR,CAAUn0B,CAAC,CAAC,GAAG+zB,CAAC,EAAE,CAAN,CAAZ,CAAqB5kB,CAAC,CAAC,GAAG5b,CAAC,EAAE,CAAN,CAAvB,CAAgCwgC,CAAC,CAAG,CAAC,GAAG,GAAG5kB,CAAC,GAAG,CAAV,CAAY,CAAC,GAAI8kB,EAAC,CAAC,KAAK,EAAEogG,EAAE,CAACr0H,CAAC,EAAE,CAAJ,CAAT,EAAiB,KAAK,EAAEq0H,EAAE,CAACr0H,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,EAAmB,KAAK,EAAEq0H,EAAE,CAACr0H,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,EAAmB,CAAnB,CAAqB,CAAxC,CAA0C,CAA3D,CAA6D,CAAnE,CAAqE,GAAG,CAACi0B,CAAC,CAAC,CAAF,CAAI,CAAL,IAAU,CAAV,CAAY9kB,CAAC,GAAG,CAAnB,CAAqB,CAAC,GAAIhO,EAAC,CAAC,EAAEkzH,EAAE,CAACr0H,CAAC,CAACi0B,CAAF,EAAK,CAAN,CAAV,CAAmB,OAAO9yB,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,IAAL,CAAS,MAAM,QAAQ8yB,CAAC,CAAC,CAAF,CAAI,KAAMF,EAAN,CAArD,CAA6D,IAAIrjC,CAAC,CAAC,CAAN,CAAQ,EAAEye,CAAC,GAAG,CAAJ,EAAO8kB,CAAC,GAAG,CAAb,GAAiB,CAAC,EAAEogG,EAAE,CAACr0H,CAAC,CAACi0B,CAAF,EAAK,CAAN,CAAL,GAAgB9yB,CAAC,EAAE,EAAH,EAAO,EAAhD,EAAoDzQ,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQujC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAd,CAAgBA,CAAC,CAACvjC,CAAC,GAAG,CAAJ,CAAM,CAAN,CAAQ,CAAR,CAAUujC,CAAZ,CAAc,CAAxL,IAA6LA,EAAC,CAAC,CAAF,CAAI,CAAnR,IAAwRA,EAAC,CAAC,CAAF,CAAI,CAASj0B,CAAC,CAAC,EAAEi0B,CAAJ,CAAMF,CAAC,CAAC,EAAE,CAAC,GAAG/zB,CAAH,CAAK,CAACzM,CAAC,CAAC,OAAO,CAAC,GAAG0gC,CAAC,CAACF,CAAC,CAAC/zB,CAAF,CAAI,CAAN,CAAQzM,CAAC,GAAG,CAAJ,EAAOyM,CAAC,GAAG,CAAtB,CAAwB,CAACmP,CAAC,CAAC,CAAF,CAAI,MAAM,QAAO,EAAEklH,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAX,EAAmB,IAAK,IAAL,CAAS9kB,CAAC,CAAC,CAAF,CAAI,KAAM5b,EAAN,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ4b,CAAC,CAAC,CAAF,CAAI,KAAM5b,EAAN,CAAlE,CAA0EyM,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAAzM,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE4b,CAAN,CAAH,CAAY,CAACA,CAAC,CAAC,CAAF,CAAIzlB,CAAC,CAAC,KAAK,EAAE6J,CAAC,GAAG,CAAJ,EAAO,CAAC4gC,CAAC,CAACn0B,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAArB,CAAL,EAA8B,CAAC,OAAO,EAAEq0H,EAAE,CAACtgG,CAAC,CAACI,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQ,IAAK,IAAL,CAAS,KAAMzqC,EAAN,CAAtC,CAA8CylB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQnP,CAAC,CAACm0B,CAAV,CAAY,IAAG,CAAC,EAAEA,CAAH,IAAQ,EAAE5gC,CAAV,CAAH,CAAgB,CAACyM,CAAC,CAAC,CAAF,CAAI,KAAM+zB,EAAN,CAAQ,IAAG,MAAM,EAAEsgG,EAAE,CAACtgG,CAAC,CAACI,CAAF,EAAK,CAAN,CAAV,CAAH,CAAuB,CAACn0B,CAAC,CAAC,CAAF,CAAI,KAAM+zB,EAAN,CAAQ,KAAII,CAAC,CAAChlB,CAAF,CAAIA,CAAC,CAAC8kB,CAAV,GAAc,CAAC,GAAGA,CAAC,CAAC9kB,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAACglB,CAAZ,CAAc,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,EAAE,EAAEwiG,EAAE,CAAC,EAAEjC,EAAE,CAACzgG,CAAC,EAAE,CAAJ,CAAL,CAAN,CAAH,CAAuB,MAAME,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAP,CAAShlB,CAAC,CAAC8kB,CAAX,CAAa,QAAO,CAAC,GAAG,CAACE,CAAJ,CAAM,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,EAAE,EAAEwiG,EAAE,CAAC,EAAEjC,EAAE,CAACvlH,CAAC,CAACglB,CAAF,EAAK,CAAN,CAAL,CAAN,CAAH,CAAyB,MAAMA,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAP,CAAS,CAAAn0B,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAxU,IAA6U,IAAG,IAAI,EAAEmP,CAAN,CAAH,CAAY,IAAIglB,CAAC,CAAC,CAAN,GAAU,CAAC,GAAG5gC,CAAC,GAAG,CAAJ,EAAOyM,CAAC,GAAG,CAAd,CAAgB,KAAMzM,EAAN,CAAQ,GAAG,EAAEojI,EAAE,CAAC,EAAEjC,EAAE,CAAC3gG,CAAC,CAAC/zB,CAAF,EAAK,CAAN,CAAL,CAAP,CAAsB,KAAMzM,EAAN,CAAQyM,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQm0B,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAd,CAAgB,CAAC,CAA9a,MAAob,CAApb,EAAub,IAAI,EAAEzqC,CAAF,GAAMyqI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAF,CAASuqC,CAAT,CAAWkgG,EAAE,CAACzqI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWyqC,CAA5B,CAAJ,CAAmC,EAAE5gC,CAAC,GAAG,CAAJ,EAAOyM,CAAC,GAAG,CAAb,GAAiB,IAAI,CAACm0B,CAAC,CAAC,EAAEkgG,EAAE,CAACtgG,CAAC,CAAC/zB,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA9E,EAAkF,CAAC,GAAG,EAAE,EAAE22H,EAAE,CAAC,IAAIxiG,CAAL,CAAN,CAAH,CAAkB,CAACn0B,CAAC,CAAC,CAAF,CAAI,KAAM+zB,EAAN,CAAQ,CAAA/zB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAAA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAhsB,IAAqsBA,EAAC,CAAC,CAAF,CAAI,CAA5sB,MAAktB,CAAltB,EAAqtB,MAAO,GAAEA,CAAT,CAAW,SAASu1H,GAAT,CAAYxhG,CAAZ,CAAcxgC,CAAd,CAAgB,CAAC,GAAI7J,EAAC,CAAC,CAAN,CAAQgH,CAAC,CAAC,KAAKqjC,CAAC,EAAE,CAAR,GAAY,IAAIxgC,CAAC,EAAE,CAAP,EAAU,CAAtB,EAAyB,CAAnC,CAAqC4gC,CAAC,CAACJ,CAAC,CAAC,GAAF,EAAO,GAAGxgC,CAAH,CAAK,CAAZ,EAAe,CAAf,CAAiB,CAAxD,CAA0DyM,CAAC,CAAC,EAAEm0H,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAhE,CAAuE,MAAOn0B,EAAC,GAAG,CAAJ,CAAM,CAAC,EAAEm0H,EAAE,CAACpgG,CAAC,CAAC,GAAF,EAAO,GAAGxgC,CAAH,CAAK,CAAZ,EAAe,CAAf,EAAkB,CAAnB,CAAL,IAA8B,CAApC,EAAuC,IAAI,GAAG7J,CAAC,CAAC,EAAEyqI,EAAE,CAAC,CAAC,EAAEA,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAL,GAAcsP,CAAC,EAAE,CAAjB,GAAqB,CAAtB,CAAT,CAAJ,CAAvC,EAAgFm0H,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAASn0B,CAAC,CAAC,CAAX,CAAam0H,EAAE,CAACzqI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAxG,GAA4G6J,CAAC,CAAC,GAAG7J,CAAC,CAAC,EAAEo9D,CAAC,CAAC,EAAEqtE,EAAE,CAAC,MAAM5gI,CAAC,EAAE,CAAT,GAAa,CAAd,CAAL,CAAR,CAAF,CAAkC,IAAI,EAAEsyB,CAAC,CAACkO,CAAC,CAAC,EAAErjC,CAAL,CAAOyjI,EAAE,CAAC,CAACzjI,CAAC,CAACqjC,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAF,EAAkB,CAAzB,CAAP,IAAsCI,CAAC,CAAC,EAAEggG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAN,CAAaogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAAS,GAAGqjC,CAAC,CAAC,EAAEogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAT,CAAtB,CAAuCyjI,EAAE,CAAChgG,CAAC,EAAEJ,CAAC,EAAE,CAAL,CAAD,EAAU,CAAX,CAAF,CAAgBxgC,CAA7F,CAA9I,EAA+O,EAAE7J,CAAxP,CAA0P,SAAS4rI,GAAT,CAAYvhG,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkBgH,CAAlB,CAAoB,CAAC,GAAIyjC,EAAJ,CAAMn0B,CAAN,CAAQmP,CAAR,CAAU8kB,CAAV,CAAYF,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAegH,CAAC,EAAE,CAAlB,CAAoB,GAAIyQ,EAAC,CAAC2zH,EAAN,CAASA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAWX,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAAS,CAApB,CAAsBgzH,EAAE,CAAChzH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAjC,CAAmCgzH,EAAE,CAAChzH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAA9C,CAAgDgzH,EAAE,CAAChzH,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAA5D,CAA8D4yB,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAEogG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAL,GAAkB,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAtB,EAAkC,CAAnC,IAAwC,CAAxC,EAA2C,CAAC,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAL,IAAmB,CAAjE,CAAmE,CAAC,GAAI6gC,EAAC,CAAC7gC,CAAC,CAAC,GAAF,CAAM,CAAZ,CAAsBygC,CAAC,CAACzgC,CAAC,CAAC,GAAF,CAAM,CAA9B,CAAgC,IAAI0gC,CAAC,CAACj0B,CAAC,CAACmP,CAAC,CAACglB,CAAC,CAAC,CAAZ,GAAgB,CAAC,GAAGzjC,CAAC,GAAG,CAAJ,EAAOujC,CAAC,GAAG,CAAd,CAAgB,KAAMF,EAAN,CAAQ,OAAO,CAAC,GAAGrjC,CAAC,GAAG,CAAJ,EAAOsP,CAAC,GAAG,CAAd,CAAgB,CAAC,GAAIrP,EAAC,CAAC,CAAN,CAAQ,MAAM,IAAG,CAACwjC,CAAC,CAAC,EAAEkgG,EAAE,CAAC,CAAC,EAAEK,EAAE,CAAChrI,CAAC,CAACsW,CAAF,EAAK,CAAN,CAAL,GAAgBzM,CAAC,CAAC,GAAlB,GAAwB,CAAzB,CAAP,GAAqC,EAArC,EAAyC,EAA5C,CAA+C,CAAC5C,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAqP,CAAC,CAACA,CAAC,CAAC,CAAF,EAAKm0B,CAAC,CAAC,CAAP,CAAF,CAAY,IAAIu/C,EAAC,CAAC,EAAEygD,EAAE,CAAC//F,CAAC,EAAE,CAAJ,CAAV,CAAiB9wB,CAAC,CAAC5Z,CAAC,CAACuqC,CAAF,CAAI,CAAvB,CAAyB,GAAGy/C,CAAC,EAAEygD,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAASmC,CAAT,CAAW6wH,EAAE,CAAC,CAAnNhzH,CAAC,CAAC,CAAF,CAAI,CAA+M,GAAG,CAAJ,CAAF,CAASnB,CAAC,CAACi0B,CAAtB,CAAwB4jG,EAAE,CAAC,EAAEnkD,CAAH,CAAF,CAAQ3/C,CAAR,CAAU5yB,CAAV,CAAY,EAAEgzH,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAhB,CAA1B,EAAmD4gG,EAAE,CAAC7gG,CAAD,CAAGzwB,CAAH,CAAKtD,CAAC,CAACi0B,CAAF,CAAI,CAAT,CAAtD,CAAkE,CAACtjC,CAAtE,CAAwE,KAAMojC,EAAN,CAAQzwB,CAAC,CAAC,IAAI,GAAG2wB,CAAC,CAAC,EAAEojG,EAAE,CAAC,GAAGlD,EAAE,CAAC,KAAK,CAAC,IAAIhgG,CAAL,GAAS,CAAd,GAAkB,CAAnB,CAAN,CAAF,CAA+BJ,CAA/B,CAAiCxgC,CAAjC,CAAmC7J,CAAC,CAACsW,CAAF,CAAI,CAAvC,CAAyCA,CAAC,CAACmP,CAAF,CAAI,CAA7C,CAA+CnP,CAA/C,CAAiDtP,CAAC,CAACsP,CAAF,CAAI,CAArD,CAAP,CAAJ,CAAF,CAAuEi0B,CAAC,CAACA,CAAC,CAACj0B,CAAF,CAAI,CAA7E,CAA+EmP,CAAC,CAAC7L,CAAC,CAAC6L,CAAD,CAAG8kB,CAArF,CAAuFj0B,CAAC,CAACsD,CAAC,CAACtD,CAAC,CAAC,CAAF,CAAI,CAAL,CAAOi0B,CAAjG,CAAmG,CAAC,CAAC,CAA3c,MAAid,CAAjd,EAAod6gG,EAAE,CAAC3zH,CAAH,CAAK,SAASs0H,GAAT,CAAY1hG,CAAZ,CAAcxgC,CAAd,CAAgB,CAAC4gI,EAAE,CAAC,CAAC5gI,CAAC,CAAC,KAAK,EAAEwgC,CAAP,GAAW,IAAI,EAAExgC,CAAN,EAAS,CAApB,EAAuB,CAAvB,CAAyB,CAA5B,GAAgC,CAAjC,CAAF,CAAsC,CAAC,EAAE4gI,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,EAAa,CAAnD,CAAqD,SAASojI,GAAT,CAAY5iG,CAAZ,CAAc,CAAC,MAAO,IAAG,KAAK,GAAGA,CAAC,EAAE,CAAN,CAAL,EAAe,KAAK,EAAEA,CAAP,CAAlB,EAA6B,CAApC,CAAsC,SAASpW,EAAT,CAAWoW,CAAX,CAAaxgC,CAAb,CAAe,CAAC,GAAI7J,EAAJ,CAAMgH,CAAN,CAAQqjC,CAAC,EAAE,CAAH,CAAK,GAAII,EAAC,CAAC,GAAG5gC,CAAC,EAAE,CAAN,EAAS,CAAf,CAAiB,IAAI7J,CAAC,CAAC,CAAN,GAAU,CAAC,GAAIsW,EAAC,CAAC,EAAEm0H,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAV,CAAiB,GAAGn0B,CAAC,GAAG,CAAJ,EAAOtW,CAAC,GAAG,CAAd,CAAgB,MAAM,IAAIgH,CAAC,CAAChH,CAAN,CAAQ,EAAEsW,CAAC,GAAG,CAAJ,EAAOtP,CAAC,GAAG,CAAb,GAAiB,KAAK,EAAE2jI,EAAE,CAAC,CAAC,EAAEF,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,EAAa7C,CAAb,EAAgB,CAAjB,CAAT,CAAzB,EAAwDA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAGhH,CAAC,GAAG,CAAJ,CAAMgH,CAAC,GAAG,CAAV,GAAckkI,EAAE,CAAC7gG,CAAD,CAAG,CAAC,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,EAAa7J,CAAb,CAAe,CAAlB,CAAoBgH,CAAC,CAAChH,CAAF,CAAI,CAAxB,CAAF,CAA6BsW,CAAC,CAAC,EAAEm0H,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAjD,EAAyDn0B,CAAC,GAAG,CAAJ,EAAO,CAACtW,CAAC,CAACgH,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAA/E,CAAiF,MAAMmkI,EAAE,CAAC9gG,CAAD,CAAG,EAAE2gG,EAAE,CAAC,CAAC,EAAEP,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,EAAa7J,CAAb,EAAgB,CAAjB,CAAP,CAAF,CAA8BA,CAAC,CAACgH,CAAC,CAAC,CAAF,CAAI,CAApC,CAAsC,CAAC,SAASiiI,EAAT,CAAW5+F,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiB,CAAC,IAAI6J,CAAC,CAAC,CAAC,EAAEwgC,CAAH,GAAO,CAAC,GAAGrqC,CAAC,CAAC,EAAEwrI,CAAC,CAAC,EAAE3hI,CAAH,CAAK,EAAE7J,CAAP,CAAR,CAAD,GAAsB,CAA7B,EAAgC,CAAtC,GAA0C,CAAC,GAAG,EAAE6J,CAAC,CAAC,EAAE4gI,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAR,CAAH,CAAmB,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,CAAC,EAAE4gI,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,IAAe,EAAE7J,CAAjB,CAAH,CAAuB,MAAM6J,CAAC,CAACA,CAAC,CAAC,EAAF,CAAK,CAAP,CAAS,OAAO,GAAEA,CAAT,CAAW,SAAS2hI,EAAT,CAAWnhG,CAAX,CAAaxgC,CAAb,CAAe,CAAC,GAAI7J,EAAJ,CAAMgH,CAAN,CAAQ,IAAIqjC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7C,CAAC,CAAChH,CAAC,CAAC,CAAlB,CAAoB,CAAC,EAAEgH,CAAH,IAAQ,EAAE6C,CAAV,CAApB,EAAkC7J,CAAC,CAAC,CAAC,MAAMA,CAAN,CAAQ,CAAT,GAAa,EAAEosI,CAAC,CAAC,EAAEpB,EAAE,CAAC3gG,CAAC,CAACrjC,CAAF,EAAK,CAAN,CAAL,CAAhB,EAAgC,CAAlC,CAAoCA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAA1C,CAA4C,MAAO,GAAEhH,CAAT,CAAW,SAASgK,EAAT,CAAWqgC,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiBgH,CAAjB,CAAmByjC,CAAnB,CAAqB,CAAC,GAAIn0B,EAAJ,CAAM+zB,CAAC,EAAE,CAAH,CAAKrqC,CAAC,EAAE,CAAR,CAAUgH,CAAC,EAAE,CAAb,CAAeyjC,CAAC,EAAE,CAAlB,CAAoB,GAAIhlB,EAAC,CAAC,IAAI5b,CAAC,EAAE,CAAP,EAAU,CAAhB,CAAkBwgC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAEogG,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAP,CAAc,CAAC,GAAI8kB,EAAC,CAAC,EAAEvjC,CAAC,GAAG,CAAN,EAAS,CAAC,EAAE2jI,EAAE,CAAC3qI,CAAC,EAAE,CAAJ,CAAL,GAAcyqC,CAAC,EAAE,EAAH,EAAO,EAA9B,CAAiC,CAAC,EAAEkgG,EAAE,CAAC3qI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,GAAgByqC,CAAC,EAAE,EAAH,EAAO,EAAvB,CAA0B,CAA3D,CAA6D,CAAnE,CAAqEhzB,CAAC,CAAC5N,CAAC,CAAC,GAAF,CAAM,CAA7E,CAA+E,IAAIyM,CAAC,CAAC,IAAIm0B,CAAC,EAAE,EAAH,EAAO,EAAjB,GAAsB,CAAC,GAAGzjC,CAAC,GAAG,CAAJ,EAAOujC,CAAC,GAAG,CAAd,CAAgB,CAACA,CAAC,CAAC,CAAF,CAAI,KAAMF,EAAN,CAAQ,IAAIK,EAAC,CAAC,EAAEwb,CAAC,CAAClmD,CAAC,CAACuqC,CAAF,CAAI,CAAL,CAAOvjC,CAAC,CAACujC,CAAF,CAAI,CAAX,CAAaE,CAAb,CAAT,CAAyB,GAAG,CAACC,CAAJ,CAAM,CAACH,CAAC,CAAC,CAAF,CAAI,KAAMF,EAAN,CAAQ,IAAGrjC,CAAC,GAAG,CAAJ,EAAO,CAACujC,CAAC,CAACG,CAAC,CAACH,CAAF,CAAI,CAAP,IAAY,CAAtB,CAAwB,CAACA,CAAC,CAAC,CAAF,CAAI,KAAMF,EAAN,CAAQ,IAAG,CAAC,EAAEsgG,EAAE,CAAC3qI,CAAC,CAACuqC,CAAF,EAAK,CAAN,CAAL,GAAgBE,CAAC,EAAE,EAAH,EAAO,EAAvB,EAA2B,IAAI,EAAEwiG,EAAE,CAAC,EAAEjC,EAAE,CAAChrI,CAAC,EAAEuqC,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAL,CAAR,CAA9B,CAA2D,CAAC,GAAG,IAAI,EAAEkgG,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAJ,CAAW,CAAf,EAAkBnB,CAAlB,CAAoB,CAAC,GAAGo0B,CAAC,CAACH,CAAC,CAAC,CAAF,CAAI,CAAT,CAAD,IAAgB,EAAEvjC,CAAlB,CAAvB,CAA4C,MAAM,GAAIm1B,EAAC,CAAC,EAAE6uG,EAAE,CAAChrI,CAAC,CAAC0qC,CAAF,EAAK,CAAN,CAAV,CAAmB,GAAG,EAAEuiG,EAAE,CAAC9wG,CAAD,CAAP,CAAW,MAAM,GAAG,EAAEomB,CAAC,CAACpmB,CAAD,CAAN,CAAU,MAAM,CAAC,CAAAyvG,EAAE,CAACnhG,CAAC,CAAC,EAAEohG,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAP,CAAaA,CAAb,CAAe7J,CAAf,CAAiBuqC,CAAjB,CAAF,CAAsBA,CAAC,CAAC,EAAEkjG,EAAE,CAAC,GAAGhD,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAN,CAAF,CAAgB4kB,CAAhB,CAAkBI,CAAlB,CAAoB,EAAEggG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAxB,CAA1B,CAA8DkiI,EAAE,CAACliI,CAAD,CAAG,CAAH,CAAhE,CAAsE0gC,CAAC,CAAC,IAAI,EAAEA,CAAN,EAAS,CAAT,CAAWG,CAAnF,CAAqF,CAA3d,IAAgeH,EAAC,CAAC,CAAF,CAAI,CAAve,MAA6e,CAA7e,EAAgf,MAAO,GAAEA,CAAT,CAAW,SAAS7hC,EAAT,CAAW2hC,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiBgH,CAAjB,CAAmByjC,CAAnB,CAAqB,CAACJ,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAegH,CAAC,EAAE,CAAlB,CAAoB,GAAIsP,EAAC,CAAC,EAAEm0H,EAAE,CAAC,CAAC,KAAK,CAAChgG,CAAC,EAAE,CAAJ,GAAQ,EAAR,EAAY,EAAjB,CAAoB5gC,CAAC,CAAC,EAAF,CAAK,CAAzB,CAA2BA,CAAC,CAAC,EAAF,CAAK,CAAjC,GAAqC,CAAtC,CAAV,CAAmDwgC,CAAC,CAAC,EAAE,CAAC,GAAG/zB,CAAH,CAAK,CAAC,GAAImP,EAAC,CAAC,CAAN,CAAQ,EAAE,CAAC,GAAGze,CAAC,GAAG,CAAJ,EAAOye,CAAC,GAAG,CAAd,CAAgB,CAACA,CAAC,CAAC,CAAF,CAAI,KAAM4kB,EAAN,CAAQ,IAAIE,EAAC,CAAC,EAAE2b,CAAC,CAAClmD,CAAC,CAACylB,CAAF,CAAI,CAAL,CAAOze,CAAC,CAACye,CAAF,CAAI,CAAX,CAAaglB,CAAb,CAAT,CAAyB,GAAG,CAACF,CAAJ,CAAM,CAAC9kB,CAAC,CAAC,CAAF,CAAI,KAAM4kB,EAAN,CAAQ,CAAA5kB,CAAC,CAAC,GAAG8kB,CAAC,CAACA,CAAC,CAAC9kB,CAAF,CAAI,CAAT,EAAY,CAAd,CAAgB,CAA5F,MAAkG,EAAEA,CAAC,GAAG,CAAJ,CAAMze,CAAC,GAAG,CAAV,EAAa,CAAC,EAAE2jI,EAAE,CAAC3qI,CAAC,CAACuqC,CAAF,EAAK,CAAN,CAAL,GAAgBE,CAAC,EAAE,EAAH,EAAO,EAApC,EAAwC,EAAEF,CAA1C,EAA6C,CAAC,EAAEogG,EAAE,CAAC3qI,CAAC,CAACylB,CAAF,EAAK,CAAN,CAAL,GAAgBglB,CAAC,EAAE,EAAH,EAAO,EAApE,EAAwE,IAAI,EAAEwiG,EAAE,CAAC,EAAEjC,EAAE,CAAChrI,CAAC,EAAEuqC,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAL,CAAR,CAA1E,CAAlG,EAA2MqhG,EAAE,CAACnmH,CAAC,CAAC,EAAEomH,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAP,CAAaA,CAAb,CAAe7J,CAAf,CAAiBuqC,CAAjB,CAAF,CAAsB9kB,CAAC,CAAC,EAAEgoH,EAAE,CAAC,GAAGn3H,CAAJ,CAAF,CAAS+zB,CAAT,CAAW5kB,CAAX,CAAa,EAAEglH,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAjB,CAA1B,CAAuDkiI,EAAE,CAACliI,CAAD,CAAG,CAAH,CAAzD,CAA+D4b,CAAC,CAAC,IAAI,EAAEA,CAAN,EAAS,CAAT,CAAW8kB,CAAC,CAAC,CAAF,CAAI,CAAhF,CAAkF,CAA3S,IAAgT9kB,EAAC,CAAC,CAAF,CAAI,CAAvT,MAA6T,CAA7T,EAAgU,MAAO,GAAEA,CAAT,CAAW,SAASygC,EAAT,CAAW7b,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiB,CAACqqC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU,GAAI7C,EAAJ,CAAMyjC,CAAC,CAAC,CAAR,CAAUn0B,CAAC,CAAC,IAAI,CAACtW,CAAC,EAAE,CAAJ,GAAQ,EAAR,EAAY,EAA5B,CAA+BylB,CAAC,CAAC,CAAjC,CAAmC8kB,CAAC,CAAC,CAArC,CAAuCF,CAAC,CAAC,OAAO,CAAC,GAAI5yB,EAAC,CAACgO,CAAN,CAAQ5b,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,GAAGA,CAAC,GAAG,CAAJ,EAAO4N,CAAC,GAAG,CAAd,CAAgB,CAACA,CAAC,CAAC,CAAF,CAAI,KAAM4yB,EAAN,CAAQ,CAAArqC,CAAC,CAAC,OAAO,CAAC,GAAG6J,CAAC,GAAG,CAAJ,EAAO4N,CAAC,GAAG,CAAd,CAAgB,CAACgO,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,CAACA,CAAC,CAAC,EAAEklH,EAAE,CAACtgG,CAAC,CAAC5yB,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAAtB,EAA0BzX,CAAC,EAAE,EAAH,EAAO,EAApC,CAAuC,CAACylB,CAAC,CAAC,CAAF,CAAI,MAAM,QAAOA,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQA,CAAC,CAAC,CAAF,CAAI,KAAMzlB,EAAN,CAAtC,CAA8CyX,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAG,CAAC,EAAEA,CAAH,IAAQ,EAAE5N,CAAV,CAAH,CAAgB,CAAC4N,CAAC,CAAC,CAAF,CAAI,KAAM4yB,EAAN,CAAQ,IAAIK,EAAC,CAAC,EAAEigG,EAAE,CAACtgG,CAAC,CAAC5yB,CAAF,EAAK,CAAN,CAAV,CAAmB,GAAGnB,CAAC,CAACmP,CAAF,CAAI,IAAIilB,CAAC,EAAE,EAAH,EAAO,EAAlB,CAAqB,CAAC,GAAG,KAAK,EAAEigG,EAAE,CAACtgG,CAAC,EAAE5yB,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAT,CAAH,CAA2B,KAAM4yB,EAAN,CAAQK,CAAC,CAAC,EAAF,CAAK,IAAGA,CAAC,EAAE,EAAH,EAAO,EAAP,EAAW1qC,CAAC,EAAE,EAAH,EAAO,EAArB,CAAwB,KAAMqqC,EAAN,CAAQ,GAAG,CAAC5yB,CAAJ,CAAM,CAACgO,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,KAAK,EAAEklH,EAAE,CAACtgG,CAAC,EAAE5yB,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAT,CAAH,CAA2B,CAACgO,CAAC,CAAChO,CAAF,CAAI,MAAM,CAAAA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,QAAOizB,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,KAAM7gC,EAAN,CAAQ,IAAK,GAAL,CAAQ,IAAI4gC,CAAC,CAAC,CAAN,GAAU,CAAC,GAAG5gC,CAAC,GAAG,CAAJ,EAAO4b,CAAC,GAAG,CAAd,CAAgB,CAAChO,CAAC,CAAC,CAAF,CAAI,KAAM4yB,EAAN,CAAQ,IAAG,KAAK,EAAEsgG,EAAE,CAACtgG,CAAC,CAAC5kB,CAAF,EAAK,CAAN,CAAT,CAAH,CAAsB,MAAMglB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQhlB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAd,CAAgB,KAAIze,CAAC,CAACyQ,CAAC,CAAC,CAAR,CAAU,CAACizB,CAAC,CAACjlB,CAAC,GAAG,CAAJ,CAAM5b,CAAC,GAAG,CAAb,EAAgB7C,CAAC,GAAG,CAAJ,CAAMyjC,CAAC,GAAG,CAApC,EAAuCC,CAAC,CAAC,EAAEigG,EAAE,CAACtgG,CAAC,CAAC5kB,CAAF,EAAK,CAAN,CAAN,CAAehO,CAAC,CAAC,IAAI,EAAEA,CAAN,EAASizB,CAAC,EAAE,EAAH,EAAO,EAAP,EAAW1qC,CAAC,EAAE,EAAH,EAAO,EAAlB,CAAqBylB,CAArB,CAAuB,CAAhC,CAAkChO,CAAnD,CAAqDzQ,CAAC,CAAC,IAAI0jC,CAAC,EAAE,EAAH,EAAO,EAAX,CAAc1jC,CAAC,CAAC,CAAF,CAAI,CAAlB,CAAoB,CAA3E,CAA6Eye,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAnF,CAAqF,GAAG,CAACilB,CAAJ,CAAM,KAAML,EAAN,CAAQ5yB,CAAC,CAACgO,CAAF,CAAI,MAAM,QAAQhO,CAAC,CAACgO,CAAF,CAA1R,CAA+R,KAAIhO,CAAC,CAAC,CAAN,CAAQ,EAAE5N,CAAC,GAAG,CAAJ,EAAO,CAAC6gC,CAAC,CAACjlB,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAArB,GAAyB,IAAI,CAACze,CAAC,CAAC,EAAE2jI,EAAE,CAACtgG,CAAC,CAACK,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA3D,EAA+DjzB,CAAC,CAAC,IAAI,EAAEA,CAAN,GAAUzQ,CAAC,EAAE,EAAH,EAAO,EAAP,EAAWhH,CAAC,EAAE,EAAH,EAAO,EAA5B,CAA+B0qC,CAA/B,CAAiCjzB,CAAnC,CAAqCgO,CAAC,CAACilB,CAAvC,CAAyCjlB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ5b,CAAC,CAAC,OAAO,CAAC,GAAGA,CAAC,GAAG,CAAJ,EAAO4b,CAAC,GAAG,CAAd,CAAgB,KAAM4kB,EAAN,CAAQ,OAAO,EAAEsgG,EAAE,CAACtgG,CAAC,CAAC5kB,CAAF,EAAK,CAAN,CAAX,EAAqB,IAAK,GAAL,CAAQglB,CAAC,CAAC,EAAF,CAAKC,CAAC,CAAC,EAAP,CAAU,KAAM7gC,EAAN,CAAQ,IAAK,GAAL,CAAQ6gC,CAAC,CAAC,EAAF,CAAK,KAAM7gC,EAAN,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ6gC,CAAC,CAAC,EAAF,CAAK,KAAM7gC,EAAN,CAAvG,CAA+G4b,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAG,KAAK,EAAEilB,CAAP,CAAH,CAAaD,CAAC,CAAC,EAAF,CAAKC,CAAC,CAAC,EAAP,CAAb,IAA4B,IAAG,KAAK,EAAEA,CAAP,IAAYjzB,CAAC,CAAC,CAACgzB,CAAC,CAAC,CAACC,CAAC,CAAC,CAAH,IAAQ,EAAEjzB,CAAV,CAAH,EAAiB8yB,CAAjB,CAAmB9yB,CAArB,CAAuB,CAACgzB,CAApC,CAAH,CAA0C,MAAM,GAAG,KAAK,EAAEC,CAAP,CAAH,CAAa,CAAC,OAAO,CAAC,GAAG7gC,CAAC,GAAG,CAAJ,EAAO,CAAC6gC,CAAC,CAACjlB,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAtB,CAAwB,KAAM4kB,EAAN,CAAQ,GAAG,CAAC,EAAEI,CAAH,IAAQ,KAAKzjC,CAAC,CAAC,EAAE2jI,EAAE,CAACtgG,CAAC,CAACK,CAAF,EAAK,CAAN,CAAX,EAAqB,CAA7B,CAAH,CAAmC,MAAMjzB,CAAC,CAAC,IAAI,EAAEA,CAAN,GAAUzQ,CAAC,EAAE,EAAH,EAAO,EAAP,EAAWhH,CAAC,EAAE,EAAH,EAAO,EAA5B,CAA+B0qC,CAA/B,CAAiCjzB,CAAnC,CAAqCgO,CAAC,CAACilB,CAAvC,CAAyC,CAAAjzB,CAAC,CAAC8yB,CAAF,CAAI9kB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAV,CAAY,CAAA8kB,CAAC,CAAC9yB,CAAF,CAAI,OAAO,GAAEA,CAAT,CAAW,SAASizB,EAAT,CAAWL,CAAX,CAAaxgC,CAAb,CAAe,CAACwgC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU,GAAI7J,EAAJ,CAAMgH,CAAC,CAAC,CAAR,CAAUyjC,CAAC,CAAC,CAAZ,CAAc,IAAIzqC,CAAC,CAAC,CAAN,GAAU,CAAC,GAAG6J,CAAC,GAAG,CAAJ,EAAO7J,CAAC,GAAG,CAAd,CAAgB,CAACyqC,CAAC,CAAC,CAAF,CAAI,MAAM,IAAGzjC,CAAC,CAAChH,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,KAAK,EAAE2qI,EAAE,CAACtgG,CAAC,CAACrqC,CAAF,EAAK,CAAN,CAAT,CAAX,CAA8B,MAAMA,CAAC,CAACgH,CAAF,CAAI,OAAO,KAAI,EAAEyjC,CAAN,IAAWzjC,CAAC,CAAChH,CAAC,CAAC,CAAF,CAAI,CAAjB,EAAoB,GAAGgH,CAAC,GAAG,CAAJ,CAAM6C,CAAC,GAAG,CAAV,CAAY,EAAEmnI,EAAE,CAAC3mG,CAAC,CAACrjC,CAAF,CAAI,CAAL,CAAO6C,CAAC,CAAC7C,CAAF,CAAI,CAAX,CAAhB,CAA8B,CAAjC,CAA3B,CAA+D,SAASkmI,GAAT,CAAY7iG,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkBgH,CAAlB,CAAoByjC,CAApB,CAAsBn0B,CAAtB,CAAwBmP,CAAxB,CAA0B,CAAC4kB,CAAC,EAAE,CAAH,CAAKrqC,CAAC,EAAE,CAAR,CAAUgH,CAAC,EAAE,CAAb,CAAeyjC,CAAC,EAAE,CAAlB,CAAoBn0B,CAAC,EAAE,CAAvB,CAAyBmP,CAAC,EAAE,CAA5B,CAA8B,GAAI8kB,EAAJ,CAAM9yB,CAAN,CAAQizB,CAAR,CAAUvO,CAAV,CAAYmO,CAAC,CAAC,CAAd,CAAgBrjC,CAAC,CAACmkI,EAAlB,CAAqBA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAW,GAAIphD,EAAC,CAAC,IAAIngF,CAAC,EAAE,CAAP,EAAU,CAAhB,CAAkB,GAAG,EAAE4gI,EAAE,CAACzgD,CAAC,EAAE,CAAJ,CAAJ,EAAY,EAAEygD,EAAE,CAAC,CAACngG,CAAC,CAACzgC,CAAC,CAAC,EAAF,CAAK,CAAR,GAAY,CAAb,CAAnB,CAAmC,CAAC,GAAI+P,EAAC,CAAC,EAAEiyH,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAV,CAAgB8hC,CAAC,CAAC3kC,CAAC,CAAC,MAAM,EAAE2jI,EAAE,CAAC3qI,CAAC,EAAE,CAAJ,CAAV,EAAkB,CAAnB,CAAqB,CAAxC,CAA0CwqC,CAAC,CAAC3gC,CAAC,CAAC,GAAF,CAAM,CAAlD,CAAoD,IAAIsyB,CAAC,CAAC,CAAN,CAAQA,CAAC,GAAG,CAAJ,CAAMsO,CAAC,GAAG,CAAV,CAAYkB,CAAC,GAAG,CAAJ,CAAM3kC,CAAC,GAAG,CAA9B,EAAiC,CAAC,IAAI0jC,CAAC,CAAC,EAAEmhG,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAV,CAAgB,EAAE7C,CAAC,GAAG,CAAJ,EAAO2kC,CAAC,GAAG,CAAb,GAAiB,EAAEshG,EAAE,CAAC,EAAEjC,EAAE,CAAChrI,CAAC,CAAC2rC,CAAF,EAAK,CAAN,CAAL,CAArC,EAAqDA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAIl0B,CAAC,CAACk0B,CAAN,CAAQ,EAAE3kC,CAAC,GAAG,CAAJ,EAAOyQ,CAAC,GAAG,CAAb,GAAiB,MAAM,EAAEkzH,EAAE,CAAC3qI,CAAC,CAACyX,CAAF,EAAK,CAAN,CAAV,CAAzB,EAA8CA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAI8yB,CAAC,CAAC9yB,CAAN,GAAU,CAAC,GAAI1Z,EAAC,CAACwsC,CAAC,CAAC,CAAC,CAAH,CAAK,CAAX,CAAa,GAAGxsC,CAAC,GAAG,CAAJ,EAAO4tC,CAAC,GAAG,CAAd,CAAgB,MAAM,GAAG,EAAE,EAAEshG,EAAE,CAAC,EAAEjC,EAAE,CAAChrI,CAAC,CAACjC,CAAF,EAAK,CAAN,CAAL,CAAN,CAAH,CAAyB,MAAMwsC,CAAC,CAACxsC,CAAF,CAAI,CAAA6tI,EAAE,CAAClhG,CAAD,CAAG7gC,CAAH,CAAK7J,CAAC,CAAC2rC,CAAF,CAAI,CAAT,CAAWpB,CAAC,CAACoB,CAAF,CAAI,CAAf,CAAF,CAAoBiiG,EAAE,CAAC,EAAEnD,EAAE,CAACzgD,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAepwE,CAAf,CAAiB8wB,CAAjB,CAAmB+/F,EAAE,CAACn0H,CAAC,EAAE6lB,CAAC,EAAE,CAAL,CAAD,EAAU,CAAX,CAAF,CAAgB1W,CAAnC,CAAqC,EAAEglH,EAAE,CAACjgG,CAAC,EAAE,CAAJ,CAAzC,CAAgD,CAAhD,CAApB,CAAuEuhG,EAAE,CAACliI,CAAD,CAAG,CAAH,CAAzE,CAA+EsyB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAArF,CAAuFwP,CAAC,CAACl0B,CAAC,CAAC,CAAF,CAAI,CAA7F,CAA+F,IAAGk0B,CAAC,CAAClB,CAAC,CAACtO,CAAF,CAAI,CAAT,IAAcsuG,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAT,CAAWwjI,EAAE,CAACxjI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAtB,CAAwBwjI,EAAE,CAACxjI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAnC,CAAqCwjI,EAAE,CAACxjI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAjD,CAAmD2mI,EAAE,CAAC,EAAEnD,EAAE,CAACzgD,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAepwE,CAAf,CAAiB3S,CAAjB,CAAmBwjI,EAAE,CAACn0H,CAAC,EAAE6lB,CAAC,EAAE,CAAL,CAAD,EAAU,CAAX,CAAF,CAAgB1W,CAAnC,CAAqC,EAAEglH,EAAE,CAACjgG,CAAC,EAAE,CAAJ,CAAzC,CAAgDmB,CAAhD,CAAjE,EAAqHwiG,EAAE,CAAC,EAAE1D,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAeD,CAAf,CAAiBzwB,CAAjB,CAAmB,EAAE6wH,EAAE,CAACjgG,CAAC,EAAE,CAAJ,CAAvB,CAArH,CAAoJuhG,EAAE,CAACliI,CAAD,CAAG,CAAH,CAAtJ,CAA4J,CAAAuhI,EAAE,CAACnkI,CAAH,CAAK,SAASilI,EAAT,CAAW7hG,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiBgH,CAAjB,CAAmB,CAAC6C,CAAC,EAAE,CAAH,CAAK7J,CAAC,EAAE,CAAR,CAAU,GAAIyqC,EAAJ,CAAMn0B,CAAC,CAAC,CAAR,CAAUmP,CAAC,CAAC,CAAZ,CAAc8kB,CAAC,CAAC,CAAhB,CAAkB9yB,CAAC,CAAC,EAAE0zB,CAAC,CAACd,CAAC,EAAE,CAAJ,CAAvB,CAA8BK,CAAC,CAAC,IAAI,EAAE1jC,CAAN,CAAhC,CAAiDsjC,CAAC,CAACtqC,CAAC,CAAC,CAAF,CAAI,CAAvD,CAAyD,IAAIgH,CAAC,CAAC,CAAF,CAAIyjC,CAAC,CAAC,CAAV,GAAc,CAAC,GAAGzqC,CAAC,GAAG,CAAJ,EAAOyqC,CAAC,GAAG,CAAd,CAAgB,CAACzjC,CAAC,CAAC,CAAF,CAAI,MAAM,KAAIye,CAAC,CAACglB,CAAN,CAAQ,EAAEzqC,CAAC,GAAG,CAAJ,EAAO,CAACyqC,CAAC,CAAChlB,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAnB,EAAsB,IAAI,CAACnP,CAAC,CAAC,EAAEq0H,EAAE,CAAC9gI,CAAC,CAAC4gC,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA1B,EAA8B,KAAK,EAAEkgG,EAAE,CAAC9gI,CAAC,CAAC4b,CAAF,EAAK,CAAN,CAAT,CAAtD,CAAR,EAAmFze,CAAC,CAACA,CAAC,EAAE,IAAIsP,CAAC,EAAE,EAAH,EAAO,EAAX,CAAc,CAAhB,CAAD,CAAoB,CAAtB,CAAwBmP,CAAC,CAACglB,CAA1B,CAA4B,GAAG,EAAEC,CAAC,CAAC,GAAG,EAAE1jC,CAAL,CAAF,EAAW,KAAK,EAAE2jI,EAAE,CAAC9gI,CAAC,EAAE4b,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAT,CAAb,CAAH,CAAyC,CAAC,GAAGzlB,CAAC,GAAG,CAAJ,EAAO,CAAC,CAA5NyX,CAAC,CAAC,CAAF,CAAI,CAAwN,EAAEgO,CAAF,CAAI,CAAL,IAAU,CAApB,CAAsB,CAACze,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAsP,CAAC,CAAC+zB,CAAF,CAAI,GAAIpjC,EAAC,CAACwQ,CAAN,CAAQuyE,CAAC,CAACngF,CAAC,CAAC4b,CAAF,CAAI,CAAd,CAAgB7L,CAAC,CAAC0wB,CAAC,CAAC,CAAC7kB,CAAH,CAAK,CAAvB,CAAyBukE,CAAC,EAAE,CAAH,CAAK,GAAIr+C,EAAC,CAAC,CAAN,CAAQnB,CAAC,CAAC,GAAGvjC,CAAC,EAAE,CAAN,EAAS,CAAnB,CAAqB,GAAGqP,CAAC,CAACk0B,CAAC,GAAG,CAAJ,CAAM,CAAC5wB,CAAC,EAAE,CAAJ,IAAS,CAAf,EAAkB,IAAI,EAAEkxH,CAAC,CAAC9gD,CAAC,CAAC,CAAF,CAAI,CAAL,CAAO,EAAE1zE,CAAT,CAAWrP,CAAX,CAAP,CAAlB,EAAyC,KAAK,EAAE0jI,EAAE,CAAC3gD,CAAC,EAAE/iF,CAAC,CAAC,CAAJ,CAAD,EAAS,CAAV,CAAT,CAAzC,EAAiE,IAAI,GAAG0kC,CAAC,CAAC,EAAEsgG,EAAE,CAACjiD,CAAC,CAACx/C,CAAF,CAAI,CAAL,CAAO5wB,CAAC,CAAC4wB,CAAF,CAAI,CAAX,CAAT,CAAJ,CAAjE,CAA8F,CAACl0B,CAAC,CAAC,CAACrP,CAAC,CAAC0kC,CAAC,CAACnB,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAc5wB,CAAC,GAAG,CAAlB,CAAoB,EAAEqyH,EAAE,CAACjiD,CAAC,CAAC/iF,CAAF,CAAI,CAAL,CAAO2S,CAAC,CAAC3S,CAAF,CAAI,CAAX,CAAxB,CAAsC,CAAzC,EAA4CA,CAA5C,CAA8C,CAA5I,CAA8I,CAAhJ,CAAkJ,GAAGqP,CAAC,EAAE,CAAN,CAArJ,CAA8J,CAACi0B,CAAC,CAAC,EAAF,CAAK,MAAM,CAAC,CAAC,OAAO,MAAK,EAAEA,CAAP,IAAYvjC,CAAC,CAACsP,CAAC,CAACmP,CAAF,CAAI,CAAlB,EAAqB,EAAEze,CAA9B,CAAgC,SAASm1B,EAAT,CAAWkO,CAAX,CAAaxgC,CAAb,CAAe,CAAC,GAAI7J,EAAJ,CAAMgH,CAAC,CAAC,GAAGqjC,CAAC,EAAE,CAAN,EAAS,CAAjB,CAAmB,GAAG,CAAC,EAAEogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAf,CAAiB,CAAC6C,CAAC,EAAE,CAAJ,IAAS,CAA7B,EAA+B,GAAG7J,CAAC,CAAC,EAAEirI,CAAC,CAAC,EAAER,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAL,CAAYxgC,CAAC,EAAE,CAAf,CAAR,CAA0B,CAAC,GAAI4gC,EAAC,CAAC,EAAEggG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAV,CAAiB0jI,EAAE,CAAC1qI,CAAC,EAAEyqC,CAAC,EAAE,CAAL,CAAD,CAAS,CAAV,CAAY,CAAZ,CAAc5gC,CAAC,CAAC4gC,CAAF,EAAK,CAAL,CAAO,CAArB,CAAF,CAA0BggG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASrqC,CAAnC,CAAqC,CAACyqI,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAAS6C,CAAV,IAAe,CAAf,CAAiB,CAAC,EAAE4gI,EAAE,CAAC,CAACpgG,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAL,IAAuB,CAAxC,GAA4CogG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASxgC,CAArD,CAArC,CAA6FwgC,CAAC,CAAC,CAA/F,CAAiG,CAA7I,IAAkJA,EAAC,CAAC,CAAC,CAAH,CAAjL,KAA2LA,EAAC,CAAC,CAAF,CAAI,MAAO,GAAEA,CAAT,CAAW,SAASC,EAAT,CAAWD,CAAX,CAAaxgC,CAAb,CAAe,CAAC4gI,EAAE,CAAC,CAACpgG,CAAC,EAAE,CAAJ,GAAQ,CAAT,CAAF,CAAc,CAAd,CAAgBogG,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAA3B,CAA6BlO,CAAC,CAACkO,CAAD,CAAG,CAACogG,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAZ,EAAexgC,CAAlB,CAA9B,CAAmD,SAAS8hC,EAAT,CAAWtB,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiB,CAAC,GAAIgH,EAAJ,CAAMyjC,CAAN,CAAQ5gC,CAAC,EAAE,CAAH,CAAK,GAAIyM,EAAC,CAAC80H,EAAN,CAASA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAWz7F,CAAC,CAACtF,CAAC,EAAE,CAAJ,CAAM,CAAC,CAAC,IAAIrqC,CAAC,EAAE,CAAP,EAAU,CAAX,IAAgB,CAAjB,EAAoB,EAApB,CAAuB,CAA7B,CAAZ,CAA4C2qI,EAAE,CAACr0H,CAAC,EAAE,CAAJ,CAAF,CAAS,EAArD,CAA4E,IAAItP,CAAC,CAAC,CAAN,CAAQ,EAAEhH,CAAC,GAAG,CAAJ,EAAOgH,CAAC,GAAG,CAAb,CAAR,EAAyB,CAAC,IAAIyjC,CAAC,CAACzjC,CAAN,GAAU,CAAC,GAAGhH,CAAC,GAAG,CAAJ,EAAOyqC,CAAC,GAAG,CAAd,CAAgB,CAAC,GAAIhzB,EAAC,CAAC,CAAN,CAAQ,MAAM,IAAG,IAAI,EAAEkzH,EAAE,CAAC,KAAK,EAAEK,EAAE,CAACnhI,CAAC,CAAC4gC,CAAF,EAAK,CAAN,CAAT,GAAoB,CAArB,CAAR,CAAH,CAAoC,CAAChzB,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAgzB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAGzjC,CAAC,GAAG,CAAJ,CAAMyjC,CAAC,GAAG,CAAV,EAAaygG,EAAE,CAAC7gG,CAAD,CAAGxgC,CAAC,CAAC7C,CAAF,CAAI,CAAP,CAASyjC,CAAC,CAACzjC,CAAF,CAAI,CAAb,CAAf,CAA+B,CAACyQ,CAAnC,CAAqC,MAAMA,CAAC,CAAC,KAAKzQ,CAAC,CAAC,EAAE2jI,EAAE,CAAC9gI,CAAC,CAAC4gC,CAAF,EAAK,CAAN,CAAX,CAAF,CAAuBJ,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,EAAEsgG,EAAE,CAAC,IAAIlzH,CAAJ,EAAO,CAAR,CAAR,CAAH,CAAuB,OAAOzQ,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQkkI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa,KAAMA,EAAN,CAAQ,IAAK,GAAL,CAAQ6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa,KAAMA,EAAN,CAAQ,QAAQsgG,EAAE,CAAC,CAA9Tr0H,CAAC,CAAC,CAAF,CAAI,CAA0T,GAAG,CAAJ,CAAF,CAAS,EAAEq0H,EAAE,CAAC,KAAKlzH,CAAC,GAAG,CAAT,GAAa,CAAd,CAAb,CAA8BkzH,EAAE,CAAC,CAApVr0H,CAAC,CAAC,CAAF,CAAI,CAAgV,GAAG,CAAJ,CAAF,CAAS,EAAEq0H,EAAE,CAAC,KAAK,GAAG3jI,CAAR,GAAY,CAAb,CAA3C,CAA2DkkI,EAAE,CAAC7gG,CAAD,CAAG/zB,CAAH,CAAK,CAAL,CAA7D,CAAqE,KAAM+zB,EAAN,CAAzJ,CAAkK,CAA5L,MAAkM,CAAlM,EAAqMrjC,CAAC,CAACyjC,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAA2gG,EAAE,CAAC90H,CAAH,CAAK,SAAS61H,EAAT,CAAW9hG,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiB,CAAC,GAAIgH,EAAJ,CAAMyjC,CAAN,CAAQJ,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAeqqC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAGxgC,CAAC,GAAG,CAAP,EAAU,KAAK,EAAE8gI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAT,CAAb,CAA8B,CAAC,IAAIrjC,CAAC,CAACyjC,CAAC,CAAC,KAAK,EAAEkgG,EAAE,CAACtgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,EAAmB,CAAnB,CAAqB,CAA7B,CAA+B,EAAExgC,CAAC,GAAG,CAAJ,EAAO7C,CAAC,GAAG,CAAb,CAA/B,EAAgD,CAAC,GAAIsP,EAAC,CAAC,EAAEq0H,EAAE,CAAC3qI,CAAC,EAAE,CAAJ,CAAV,CAAiB,GAAG,EAAEsW,CAAC,EAAE,EAAH,EAAO,EAAT,CAAH,CAAgB,MAAM,GAAG,CAAC,EAAE00H,EAAE,CAAC3gG,CAAC,CAACrjC,CAAF,EAAK,CAAN,CAAL,IAAiBsP,CAAC,EAAE,EAAH,EAAO,EAAP,CAAU,CAA3B,CAAH,CAAiC,KAAM+zB,EAAN,CAAQrqC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQgH,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAd,CAAgB,IAAG,CAAC,EAAEA,CAAH,IAAQ,EAAE6C,CAAV,CAAH,CAAgB,MAAO,IAAG,CAACA,CAAC,CAAC,IAAI,CAACA,CAAC,CAAC,EAAE8gI,EAAE,CAACtgG,CAAC,CAACrjC,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA1B,CAA6B,IAAI,EAAEq7C,CAAC,CAAC,IAAIx4C,CAAL,CAAP,CAAhC,EAAiD4gC,CAAjD,CAAmD,CAAtD,CAAP,CAAgE,CAAC,CAApQ,MAA0Q,CAA1Q,EAA6Q,MAAO,EAAP,CAAS,SAASn0B,EAAT,CAAW+zB,CAAX,CAAaxgC,CAAb,CAAe,CAAC4gI,EAAE,CAAC,CAAC5gI,CAAC,EAAE,CAAJ,GAAQ,CAAT,CAAF,CAAc,CAAd,CAAgB4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAA3B,CAA6B4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAxC,CAA0C,SAAS2lC,EAAT,CAAWnF,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiB,CAAC6J,CAAC,EAAE,CAAH,CAAK,GAAI7C,EAAJ,CAAMyjC,CAAN,CAAQn0B,CAAR,CAAUmP,CAAC,CAAC,CAAZ,CAAc8kB,CAAC,CAAC,CAAhB,CAAkB,IAAIoF,CAAC,CAACtF,CAAC,EAAE,CAAJ,CAAM,CAAC,CAAC,IAAIrqC,CAAC,EAAE,CAAP,EAAU,CAAX,IAAgB,CAAjB,EAAoB,EAApB,CAAuB,CAA7B,CAAD,CAAiCyqC,CAAC,CAACzjC,CAAC,CAAC,CAAzC,CAA2C,EAAEhH,CAAC,GAAG,CAAJ,EAAOyqC,CAAC,GAAG,CAAb,CAA3C,EAA4D,CAAC,IAAIn0B,CAAC,CAACm0B,CAAN,GAAU,CAAC,GAAGzqC,CAAC,GAAG,CAAJ,EAAOsW,CAAC,GAAG,CAAd,CAAgB,CAACmP,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,CAACze,CAAC,CAAC,EAAE2jI,EAAE,CAAC,KAAK,EAAEK,EAAE,CAACnhI,CAAC,CAACyM,CAAF,EAAK,CAAN,CAAT,GAAoB,CAArB,CAAP,GAAiC,EAAjC,EAAqC,EAAxC,CAA2C,CAACi0B,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAj0B,CAAC,CAACA,CAAC,CAAC,CAAF,EAAKtP,CAAC,CAAC,CAAP,CAAF,CAAY,IAAG,IAAI,EAAEujC,CAAN,IAAWA,CAAC,CAAC,CAAF,CAAIvjC,CAAC,CAACA,CAAC,EAAE,EAAH,EAAO,EAAb,CAAgBye,CAAC,CAAC,CAA7B,EAAgCglB,CAAC,GAAG,CAAJ,CAAMn0B,CAAC,GAAG,CAAV,EAAa40H,EAAE,CAAC7gG,CAAD,CAAGxgC,CAAC,CAAC4gC,CAAF,CAAI,CAAP,CAASn0B,CAAC,CAACm0B,CAAF,CAAI,CAAb,CAA/C,CAA+D,CAAChlB,CAAnE,CAAqE,MAAM,IAAI,CAACA,CAAC,CAAC,EAAEklH,EAAE,CAAC9gI,CAAC,CAACyM,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA1B,CAA6B,IAAI,EAAEq0H,EAAE,CAAC,KAAK,IAAIllH,CAAT,GAAa,CAAd,CAAR,GAA2BolB,CAAC,CAACR,CAAD,CAAG,EAAEogG,EAAE,CAAC,MAAMzjI,CAAC,EAAE,CAAT,GAAa,CAAd,CAAP,CAAzD,CAAkFmkI,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAApF,CAA2FI,CAAC,CAACn0B,CAAC,CAAC,CAAF,CAAI,CAAjG,CAAmG,CAAC,SAASvY,EAAT,CAAWssC,CAAX,CAAaxgC,CAAb,CAAe,CAAC,MAAOghC,EAAC,CAAC,EAAER,CAAH,CAAK,IAAI,IAAIogG,EAAE,CAAC,IAAI,EAAE5gI,CAAN,GAAU,CAAX,CAAN,CAAoB,CAAxB,EAA2B,IAA3B,CAAgC,IAArC,CAAD,CAA4C,CAAnD,CAAqD,SAASuiI,EAAT,CAAW/hG,CAAX,CAAa,CAAC,MAAO,IAAG,IAAI,CAAC,CAAC,GAAGA,CAAC,EAAE,CAAN,CAAD,EAAW,EAAX,CAAc,CAAf,IAAoB,CAApB,CAAsB,EAAtB,CAAyB,CAA7B,EAAgCA,CAAhC,CAAkC,GAAGA,CAAxC,CAAP,CAAkD,SAASgiG,EAAT,CAAWhiG,CAAX,CAAa,CAAC,GAAIxgC,EAAC,CAAC,KAAKwgC,CAAC,EAAE,CAAR,EAAW,CAAjB,CAAmBogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAT,CAAW,GAAI7J,EAAC,CAAC,CAAC6J,CAAC,CAAC,CAAC4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAZ,EAAe4gI,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAApB,GAA+B,EAAEogG,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAnC,EAA6C,CAAnD,CAAqDrjC,CAAC,CAACqjC,CAAC,CAAC,GAAF,CAAM,CAA7D,CAA+DogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAAShH,CAAT,CAAWyqI,EAAE,CAACzjI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAC,CAAC,EAAEhH,CAAH,EAAM,CAAP,GAAW,EAAX,EAAe,EAArC,CAAwCyqI,EAAE,CAACpgG,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAaxgC,CAArD,CAAuD,SAASihC,EAAT,CAAWT,CAAX,CAAa,CAAC,GAAIxgC,EAAJ,CAAM7J,CAAC,CAAC,CAAR,CAAUgH,CAAC,CAAC,CAAZ,CAAcyjC,CAAC,CAAC,CAAhB,CAAkBn0B,CAAC,CAACzM,CAAC,CAAC,KAAKwgC,CAAC,EAAE,CAAR,EAAW,CAAjC,CAAmC5kB,CAAC,CAAC,EAAEglH,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAzC,CAAgD,GAAG,IAAI,EAAEmP,CAAN,EAAS,IAAI,GAAGnP,CAAC,CAAC,EAAEm0H,EAAE,CAACn0H,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAJ,CAAT,EAAkC,CAAC,GAAGtW,CAAC,CAAC,EAAEyqI,EAAE,CAAC,GAAGzjI,CAAC,CAACqjC,CAAC,CAAC,GAAF,CAAM,CAAX,GAAe,CAAhB,CAAT,CAAD,GAAgC,EAAE/zB,CAAlC,GAAsC,CAAC,EAAEtW,CAAH,IAAQ,EAAEsW,CAAV,EAAa,CAAC,EAAEm0H,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAf,CAAiBye,CAAC,GAAG,CAAlC,CAAoC,CAA1E,CAArC,CAAkH,CAAC2lH,EAAE,CAAC,CAAC90H,CAAC,CAAC80H,EAAH,EAAO,EAAP,CAAU,CAAb,CAAe,GAAI7gG,EAAC,CAAC9kB,CAAC,CAAC,EAAE4kB,CAAV,CAAY,GAAGsgG,EAAE,CAAC,CAAC3qI,CAAC,CAAC,IAAIuqC,CAAC,EAAE,CAAP,EAAU,CAAb,GAAiB,CAAlB,CAAF,CAAuB,KAAKvjC,CAAC,CAAC,EAAE2jI,EAAE,CAAC3qI,CAAC,EAAE,CAAJ,CAAX,EAAmBgH,CAA1C,CAA4C,CAAC,EAAEyjI,EAAE,CAAC,CAACzjI,CAAC,CAACujC,CAAC,CAAC,EAAF,CAAK,CAAR,GAAY,CAAb,CAAL,IAAwB,CAAxB,CAA0B,CAAC,EAAEkgG,EAAE,CAAC,CAACzqI,CAAC,CAACuqC,CAAC,CAAC,EAAF,CAAK,CAAR,GAAY,CAAb,CAAL,IAAwB,CAAlD,EAAqDkjG,EAAE,CAAC,GAAGhD,EAAE,CAAClgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAN,CAAF,CAAmBA,CAAnB,CAAqB,CAArB,CAAuB,CAAvB,CAAjG,CAA2HkgG,EAAE,CAAClgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAvI,CAAyIkgG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAlJ,CAAoJye,CAAC,CAAC,CAACglH,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAV,IAAe,GAAGA,CAAC,CAAC,GAAGA,CAAC,CAAC,EAAEyqI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAT,GAAkBkgG,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAF,CAAS,GAAGvqC,CAAZ,CAAc,CAAC,CAAjC,GAAqCyqI,EAAE,CAAClgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWvjC,CAAC,CAAC,CAAC,EAAEyjI,EAAE,CAAClgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAL,GAAiB,EAAEkgG,EAAE,CAAClgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAArB,EAAgC,CAA7C,CAA+CkgG,EAAE,CAAClgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWvjC,CAA1D,CAA4DhH,CAAC,EAAE,EAAH,EAAO,EAAxG,CAAL,CAAf,GAAmI,IAAI,EAAEytI,EAAE,CAAC,GAAGhD,EAAE,CAAChlH,CAAC,CAAC,EAAF,EAAM,CAAP,CAAN,CAAF,CAAmBA,CAAnB,CAAqBnP,CAArB,CAAuB,CAAvB,CAAN,CAAnI,CAAoK,EAAE00H,EAAE,CAAC10H,CAAC,EAAE,CAAJ,CAAxK,CAA+K,CAAC,CAAtU,CAAwU80H,EAAE,CAAC90H,CAA3U,CAA6U,IAAI,GAAGmP,CAAC,EAAE,CAAN,CAAJ,CAAhV,CAA8V,CAAC,GAAGze,CAAC,CAAC,EAAEyjI,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAN,CAAe,IAAI,GAAG/zB,CAAC,CAAC,EAAEm0H,EAAE,CAAC,CAAClgG,CAAC,CAAC1gC,CAAH,GAAO,CAAR,CAAT,CAAJ,EAA0B,IAAI,GAAG0gC,CAAC,CAAC,EAAEkgG,EAAE,CAAClgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAJ,CAA5C,CAAoE1gC,CAAC,CAACwgC,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ/zB,CAAC,CAACtP,CAAV,CAAYyjC,CAAC,CAAC,CAAd,CAApE,IAAwF,CAAC,GAAIhzB,EAAC,CAACzQ,CAAC,EAAEhH,CAAC,CAAC,EAAEyqI,EAAE,CAAC,CAAC5gI,CAAC,CAACwgC,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAR,CAAD,CAAyB,CAA/B,CAAiCK,CAAC,CAAC,CAAC,CAAC,EAAEjzB,CAAH,EAAM,CAAP,GAAW,EAAX,EAAe,EAAlD,CAAqD0kB,CAAC,CAACkO,CAAC,CAAC,GAAF,CAAM,CAA7D,CAA+DE,CAAC,CAAC,EAAEsB,CAAC,CAAC,EAAEv1B,CAAH,CAAK,EAAEi0B,CAAP,CAAS,EAAEkgG,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAb,CAAoB,EAAEsuG,EAAE,CAACtuG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAxB,CAAL,CAAuC7lB,CAAC,CAACtP,CAAzC,CAA2C,CAAC,EAAE0jC,CAAH,GAAO,GAAGvO,CAAC,CAAC,EAAEgxG,EAAE,EAAT,CAAP,EAAqB,CAAC,EAAEhxG,CAAH,IAAQ,EAAEuO,CAAV,EAAajzB,CAAC,GAAG,CAAJ,CAAM8yB,CAAC,GAAG,CAA5C,CAA8CE,CAAC,CAAC,CAAhD,CAAkDggG,EAAE,CAACpgG,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAarqC,CAAC,EAAEuqC,CAAC,CAAC,CAAC,CAAL,CAA3G,CAAmH,KAAI,EAAEE,CAAN,IAAWggG,EAAE,CAACpgG,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAarjC,CAAxB,EAA2BsP,CAAC,CAACA,CAAC,EAAEmB,CAAC,CAACnB,CAAC,CAAC,CAAF,EAAK6lB,CAAC,CAAC,EAAEsuG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAX,EAAmB,CAArB,CAAuB6gC,CAAC,CAACp0B,CAAC,CAAC+zB,CAAC,CAAC,GAAF,CAAM,CAAjC,CAAmC5yB,CAAC,CAAC,EAAE2vB,CAAC,CAAC,EAAEqjG,EAAE,CAAC//F,CAAC,EAAE,CAAJ,CAAL,CAAY,EAAE+/F,EAAE,CAAC//F,CAAC,CAAC,CAAF,EAAK,CAAN,CAAhB,CAAyB,EAAEjzB,CAA3B,CAA6B,CAAC,CAAC,EAAEA,CAAH,EAAM,CAAP,GAAW,EAAX,EAAe,EAAf,CAAkB,CAA/C,CAAxC,CAA0FizB,CAAC,CAAC,EAAEyiG,EAAE,EAAhG,CAAmG1C,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAF,CAASmB,CAA5G,CAA8GgzH,EAAE,CAACn0H,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWo0B,CAAzH,CAA2HvO,CAA7H,EAAgI,EAAEsuG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAlK,CAAyK,CAAC,EAAE4b,CAAH,IAAQ,EAAEulH,EAAE,CAAC,CAAC10H,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAR,GAAY,CAAb,CAAZ,IAA+Bq0H,EAAE,CAACr0H,CAAC,EAAE,CAAJ,CAAF,CAASmP,CAAxC,CAAzK,CAAoN,CAA9zB,IAAm0BglB,EAAC,CAAC,CAAF,CAAI,CAAr9B,IAA09BA,EAAC,CAAC,CAAF,CAAI,MAAO,KAAI,EAAEA,CAAN,IAAWggG,EAAE,CAACpgG,CAAC,CAAC,GAAF,EAAO,CAAR,CAAF,CAAa,CAAb,CAAe5kB,CAAC,CAAC,CAAC,CAA7B,EAAgC,EAAEA,CAAzC,CAA2C,SAAS48B,EAAT,CAAWhY,CAAX,CAAa,CAAC,MAAO,IAAG,KAAK,GAAGA,CAAC,EAAE,CAAN,CAAL,EAAe,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAN,IAAW,CAAX,CAAa,CAA/B,EAAkC,CAAzC,CAA2C,SAASo3F,EAAT,CAAWp3F,CAAX,CAAaxgC,CAAb,CAAe,CAAC,GAAI7J,EAAC,CAAC,EAAE2qI,EAAE,CAAC,CAACtgG,CAAC,EAAE,CAAJ,GAAQ,CAAT,CAAV,CAAsBrjC,CAAC,CAAC,EAAE2jI,EAAE,CAAC,CAAC9gI,CAAC,EAAE,CAAJ,GAAQ,CAAT,CAA5B,CAAwC,GAAG,GAAG7J,CAAC,EAAE,EAAH,EAAO,EAAV,EAAcA,CAAC,EAAE,EAAH,EAAO,EAAP,EAAWgH,CAAC,EAAE,EAAH,EAAO,EAAnC,CAAsC,KAAKhH,CAAC,CAAC,EAAE2qI,EAAE,CAAC,CAACtgG,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAN,CAAqBrjC,CAAC,CAAC,EAAE2jI,EAAE,CAAC,CAAC9gI,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAA3B,CAA0C,GAAG7J,CAAC,EAAE,EAAH,EAAO,EAAV,EAAcA,CAAC,EAAE,EAAH,EAAO,EAAP,EAAWgH,CAAC,EAAE,EAAH,EAAO,EAA/E,EAAmF,CAAC,MAAM,CAAC,IAAIhH,CAAL,GAAS,IAAIgH,CAAb,EAAgB,CAAtB,CAAwB,SAASvE,EAAT,CAAW4nC,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiB,CAACqqC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAe,IAAI,GAAIgH,EAAJ,CAAMyjC,CAAN,CAAQn0B,CAAC,CAAC,CAAd,GAAkB,CAAC,GAAG,CAACtP,CAAC,CAAC,EAAE2jI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAP,GAAgB,EAAhB,EAAoB,EAApB,EAAwB,CAACI,CAAC,CAAC,EAAEkgG,EAAE,CAAC9gI,CAAC,EAAE,CAAJ,CAAP,GAAgB,EAAhB,EAAoB,EAA/C,CAAkD,CAACyM,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,EAAEtW,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAT,CAAH,CAAe,CAACqqC,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQxgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAd,CAAgB,OAAO,KAAI,EAAEyM,CAAN,IAAW+zB,CAAC,CAAC,CAAC,IAAIrjC,CAAL,GAAS,IAAIyjC,CAAb,EAAgB,CAA7B,EAAgC,EAAEJ,CAAzC,CAA2C,SAASe,EAAT,CAAWf,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiB,CAACqqC,CAAC,EAAE,CAAH,CAAKrqC,CAAC,EAAE,CAAR,CAAU,GAAIgH,EAAC,CAAC,KAAK6C,CAAC,EAAE,CAAR,CAAN,CAAiB4gC,CAAC,CAAC,IAAI5gC,CAAvB,CAAyBwgC,CAAC,CAAG,CAAC,GAAG,EAAEA,CAAL,CAAO,CAAC,EAAE,CAAC,GAAG,CAAC,EAAEsgG,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAL,GAAcI,CAAC,EAAE,EAAH,EAAO,EAAxB,CAA2B,CAAC,GAAIn0B,EAAC,CAAC,CAAN,CAAQ,KAAM+zB,EAAN,CAAQ,CAAAA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQxgC,CAAC,CAAC,IAAI,GAAG7J,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAV,CAAJ,CAAV,CAA4B,CAA3E,MAAiF6J,CAAC,CAAC,IAAI,EAAEwgC,CAAF,CAAI,CAAR,CAAnF,EAA+F/zB,CAAC,CAACzM,CAAC,CAAC,CAAD,CAAG,EAAN,CAAS,CAAhH,IAAqHyM,EAAC,CAAC,CAAF,CAAI,CAAS+zB,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE/zB,CAAN,CAAH,CAAY,GAAG,CAAC,EAAEq0H,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAL,GAAcI,CAAC,EAAE,EAAH,EAAO,EAAxB,CAA2BzqC,CAAC,GAAGsW,CAAC,CAAC,EAAL,CAAD,CAA3B,IAAyC,CAACzM,CAAC,CAAC,EAAEwhI,EAAE,CAACrkI,CAAD,CAAG,QAAH,CAAN,CAAmB6C,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE7J,CAAC,GAAG,CAAT,CAAW,OAAO,CAAC,GAAG,CAAC,CAAC,UAAD,EAAagH,CAAC,CAACyjI,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASxgC,CAAxB,EAA2B,CAAC,UAA7B,EAAyC7C,CAAC,CAAC,CAAC,QAA5C,CAAqD,CAAxD,CAA0D,KAAM6C,EAAN,CAAQ,GAAGwgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAACrqC,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAR,IAAa,CAAb,EAAgB,CAA3B,CAA6B,CAACsW,CAAC,CAAC,EAAF,CAAK,MAAM,CAAC,CAA/H,IAAoIA,EAAC,CAAC,EAAF,CAAK,CAA5I,MAAkJ,CAAlJ,EAAqJ,GAAG,KAAK,EAAEA,CAAP,GAAWtW,CAAd,CAAgB,OAAO,CAAC,GAAG,CAAC,EAAE2qI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAL,GAAcI,CAAC,EAAE,EAAH,EAAO,EAAxB,CAA2B,KAAMJ,EAAN,CAAQ,GAAG,EAAErqC,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAT,CAAH,CAAe,CAACsW,CAAC,CAAC,EAAF,CAAK,MAAM,CAAA+zB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAA9F,IAAmG/zB,EAAC,CAAC,EAAF,CAAK,CAAC,CAA5U,MAAkV,CAAlV,EAAqV,MAAO,MAAK,EAAEA,CAAP,IAAY+zB,CAAC,CAAC,CAAd,EAAiB,EAAEA,CAA1B,CAA4B,SAAS0gG,GAAT,CAAY1gG,CAAZ,CAAc,CAAC,MAAO,IAAG,CAAC,CAAC,IAAIA,CAAC,EAAE,CAAP,CAAD,EAAY,EAAZ,CAAe,CAAhB,IAAqB,CAArB,CAAuB,EAAvB,CAA0B,CAA1B,CAA4B,CAA5B,CAA8B,IAAI,CAAC,CAAC,EAAEA,CAAH,EAAM,EAAN,CAAS,CAAV,IAAe,CAAf,CAAiB,EAAjB,CAAoB,CAAxB,EAA2B,CAA5D,CAAP,CAAsE,SAASkY,EAAT,CAAWlY,CAAX,CAAa,CAAC,MAAO,IAAG,CAAC,CAAC,GAAGA,CAAC,EAAE,CAAN,CAAD,EAAW,EAAX,CAAc,CAAf,IAAoB,CAApB,CAAsB,EAAtB,CAAyB,CAAzB,CAA2B,IAAI,EAAE0gG,EAAE,CAAC1gG,CAAD,CAAR,EAAa,CAAxC,CAA0C,CAA7C,CAAP,CAAuD,SAASc,EAAT,CAAWd,CAAX,CAAa,CAAC,GAAIxgC,EAAJ,CAAM7J,CAAC,CAAC,CAAR,CAAUgH,CAAC,CAACqjC,CAAC,EAAE,CAAf,CAAiBA,CAAC,CAAC,EAAE,CAAC,GAAG,EAAErjC,CAAL,CAAO,IAAI6C,CAAC,CAAC7C,CAAN,GAAU,CAAC,GAAG,EAAE,EAAE2jI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAN,CAAH,CAAiB,CAACA,CAAC,CAACxgC,CAAF,CAAI,KAAMwgC,EAAN,CAAQ,IAAG,EAAE,GAAGxgC,CAAC,CAACwgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAX,CAAF,CAAH,CAAoB,CAACrqC,CAAC,CAAC,CAAF,CAAI,MAAM,CAAC,CAAhF,IAAqFA,EAAC,CAAC,CAAF,CAAI,CAA5F,MAAkG,CAAlG,EAAqG,GAAG,IAAI,EAAEA,CAAN,CAAH,CAAY,CAAC,KAAK,EAAE,CAAC,CAAC,UAAD,EAAa6J,CAAC,CAAC,EAAE4gI,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAnB,EAA2B,CAAC,UAA7B,EAAyCxgC,CAAC,CAAC,CAAC,QAA9C,CAAL,EAA8DwgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAG,CAAC,IAAIxgC,CAAL,GAAS,EAAT,EAAa,EAAhB,CAAmB,KAAK,IAAI,EAAE8gI,EAAE,CAAC,CAACtgG,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAR,CAAL,EAA8B,CAAE,OAAOA,EAAC,CAACrjC,CAAF,CAAI,CAAX,CAAa,SAAS8jI,EAAT,CAAWzgG,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiB,CAAC,GAAGqqC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAhB,CAAkB,CAAC,GAAIgH,EAAC,CAAC,EAAE2jI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAV,CAAiBA,CAAC,CAAC,EAAE,CAAC,GAAGrjC,CAAC,EAAE,EAAH,EAAO,EAAV,CAAa,CAAC,GAAIyjC,EAAC,CAACJ,CAAN,CAAQ,IAAIA,CAAC,CAACrjC,CAAF,CAAIA,CAAC,EAAE,GAAX,GAAiB,CAAC,GAAIsP,EAAC,CAAC,EAAEq0H,EAAE,CAAC9gI,CAAC,EAAE,CAAJ,CAAV,CAAiB,GAAG,EAAE,IAAI,GAAG7J,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAV,CAAJ,EAAkB,GAAGsW,CAAC,EAAE,EAAH,EAAO,EAA9B,CAAH,CAAqC,KAAM+zB,EAAN,CAAQ,GAAGA,CAAC,EAAE,EAAH,EAAO,EAAP,EAAW/zB,CAAC,EAAE,EAAH,EAAO,EAAlB,EAAsB,CAAC,GAAGtP,CAAC,CAAC,EAAEolI,CAAC,CAACplI,CAAD,CAAR,CAAD,IAAiB,EAAEolI,CAAC,CAAC,IAAI91H,CAAL,CAApB,CAAzB,CAAsD,KAAM+zB,EAAN,CAAQ,GAAGxgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,EAAE,CAAC7C,CAAC,CAAC,EAAE2jI,EAAE,CAAC,CAAClgG,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAP,GAAwB,EAAxB,EAA4B,EAA9B,CAAX,CAA6C,CAACJ,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAA,CAAC,CAACrjC,CAAF,CAAIA,CAAC,EAAE,GAAP,CAAW,CAAC,CAAxO,IAA6OqjC,EAAC,CAAC,CAAF,CAAI,CAApP,MAA0P,CAA1P,EAA6PA,CAAC,CAAC,CAACA,CAAC,CAAC,EAAE+hG,CAAC,CAAC,IAAI/hG,CAAL,CAAN,GAAgB,EAAE+hG,CAAC,CAAC,EAAEpB,EAAE,CAACnhI,CAAC,EAAE,CAAJ,CAAL,CAAnB,EAAiC,CAAnC,CAAqC,CAAxU,IAA6UwgC,EAAC,CAAC,CAAF,CAAI,MAAO,GAAEA,CAAT,CAAW,SAASizB,EAAT,CAAWjzB,CAAX,CAAa,CAAC,GAAIxgC,EAAJ,CAAM7J,CAAC,CAAC,CAAR,CAAUgH,CAAC,CAAC,CAAZ,CAAcyjC,CAAC,CAAC,CAAhB,CAAkBn0B,CAAC,CAAC,IAAI,GAAG+zB,CAAC,EAAE,CAAN,CAAJ,EAAc,CAAd,CAAgBA,CAApC,CAAsCA,CAAC,CAAC,CAACA,CAAC,CAAC,IAAI,EAAEyiG,EAAE,CAAC,GAAG,EAAEx2H,CAAC,GAAG,CAAN,CAAQA,CAAR,CAAU,CAAb,CAAD,CAAR,EAA2B,CAA9B,GAAkC,IAAI,EAAEs2H,EAAE,CAAC,EAAEt2H,CAAH,CAAR,EAAe,CAAjD,EAAoD,CAAtD,CAAwD+zB,CAAC,CAAG,CAAC,GAAG,EAAEA,CAAC,GAAG,CAAN,CAAQ/zB,CAAC,GAAG,CAAJ,CAAM,GAAG+zB,CAAH,GAAO,CAArB,EAAwB,IAAI,GAAGrqC,CAAC,CAAC,EAAEyqI,EAAE,CAAC,MAAMpgG,CAAC,CAAC,CAAC,CAAH,EAAM,CAAZ,GAAgB,CAAjB,CAAT,CAAJ,CAA3B,CAA8D,CAAC,IAAIxgC,CAAC,CAAC,CAAN,CAAQ,EAAEyM,CAAC,GAAG,CAAJ,EAAO,CAAC,CAAC,CAAC,EAAEm0H,EAAE,CAACzqI,CAAC,CAAC,CAAC,CAAH,EAAM,CAAP,CAAL,IAAkB,CAAnB,EAAsB,CAAtB,CAAwB,CAAzB,IAA8B,CAAvC,CAAR,EAAmD,GAAG,EAAE,CAAC6J,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAc,EAAd,CAAiB,IAAI,GAAG7J,CAAC,CAAC,EAAEyqI,EAAE,CAACzqI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAJ,CAAnB,CAAH,CAA+C,CAACgH,CAAC,CAAC,CAAF,CAAI,KAAMqjC,EAAN,CAAQ,CAAAA,CAAC,CAAC,EAAEqlC,CAAC,CAAC1vE,CAAD,CAAGsW,CAAH,CAAL,CAAW,CAAzL,IAA8LtP,EAAC,CAAC,CAAF,CAAI,CAASqjC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,EAAErjC,CAAN,CAAH,CAAY,CAAC6C,CAAC,CAAC,EAAE,CAAC,GAAGwgC,CAAC,GAAG,CAAJ,CAAM,EAAT,CAAY,CAAC,KAAKrqC,CAAC,CAAC,EAAEyqI,EAAE,CAAC,MAAMpgG,CAAC,EAAE,CAAT,GAAa,CAAd,CAAN,CAAuBA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAA7B,CAA+B,EAAE,EAAErqC,CAAJ,CAApC,EAA4C,GAAG,IAAIqqC,CAAC,GAAG,CAAX,CAAa,KAAMxgC,EAAN,CAAQwgC,CAAC,CAAC,EAAEqlC,CAAC,CAAC1vE,CAAD,CAAGsW,CAAH,CAAL,CAAW,KAAM+zB,EAAN,CAAQ,CAAC,CAArG,MAA2G,CAA3G,EAA8G,GAAG,GAAGA,CAAC,CAAC,EAAEogG,EAAE,CAAC,IAAD,CAAT,GAAkB,IAAI,GAAGhgG,CAAC,CAAC,EAAEggG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAT,EAAiB,CAArB,CAArB,CAA6C,CAAC,GAAGogG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEI,CAAX,CAAazqC,CAAC,CAAC,IAAI,EAAE8sI,EAAE,CAAC,GAAGjjI,CAAC,CAAC,EAAE,CAACA,CAAC,CAAC,CAAC4gC,CAAC,GAAG,CAAL,EAAQ,CAAR,CAAU,CAAb,IAAkB,CAApB,CAAsB5gC,CAAtB,CAAwB,CAA7B,CAAD,CAAR,EAA2C,CAA1D,CAA4D7J,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE6J,CAAN,EAAS,CAAT,CAAW7J,CAAZ,GAAgB,CAAtB,EAAyB,CAAvF,CAAyF6J,CAAC,CAACwgC,CAAC,CAAC,EAAF,CAAK,CAAhG,CAAkG,CAAC,EAAEogG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAL,IAAe,GAAGgH,CAAC,CAACqjC,CAAC,CAAC,CAAF,CAAI,CAAT,CAAf,IAA8BogG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAF,CAASyqI,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAzC,CAAlG,CAAmJ,GAAGwgC,CAAC,CAAC,EAAEogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAT,IAAmByjI,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAhC,CAAnJ,CAA2L,GAAGwgC,CAAC,CAAC,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAT,IAAmB4gI,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAA9B,CAA3L,CAAiOsP,CAAC,CAAC,IAAI,EAAEy5B,CAAC,CAACz5B,CAAD,CAAP,CAAnO,CAA+O+zB,CAAC,CAAC,EAAEogG,EAAE,CAAC,IAAD,CAArP,CAA4Pn0H,CAA/P,CAAiQ,MAAOm0H,GAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,EAAU,CAAC,CAAX,CAAa,CAAC/zB,CAAC,CAAC,CAAH,EAAMA,CAA1B,CAA4B,GAAG+zB,CAAH,CAAK,MAAM,MAAM,CAACA,CAAC,CAAC,CAAH,EAAMA,CAAZ,CAAc,IAAG,CAAC,CAAD,GAAK,GAAGrqC,CAAC,CAAC,EAAEusI,CAAC,CAACvlI,CAAC,CAACsP,CAAC,CAAC,EAAF,CAAK,CAAC,CAAT,CAAR,CAAL,CAAH,CAA8B,MAAM,CAACA,CAAC,CAAC,CAAH,EAAMA,CAAZ,CAAc,GAAG,CAAC,GAAGzM,CAAC,CAAC7J,CAAL,CAAD,IAAY,GAAGyqC,CAAC,CAACJ,CAAC,CAACxgC,CAAC,CAAC,CAAF,CAAI,CAAC,CAAZ,CAAZ,GAA6B,CAAC,CAAD,GAAK,EAAE0iI,CAAC,CAACliG,CAAC,CAACxgC,CAAF,CAAI,CAAL,CAAR,CAAhC,CAAiD,MAAM,CAACyM,CAAC,CAAC,CAAH,EAAMA,CAAZ,CAAc,CAACtW,CAAC,CAAC,EAAEyqI,EAAE,CAAC,IAAD,CAAP,EAAeA,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWrqC,CAA1B,CAA4ByqI,EAAE,CAAC,IAAD,CAAF,CAAShgG,CAArC,CAAuCggG,EAAE,CAAC,IAAD,CAAF,CAAShgG,CAAhD,CAAkDggG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASrjC,CAAC,EAAE,CAAH,CAAK,CAAhE,CAAkE,CAAC,CAAlpB,MAAwpB,CAAxpB,EAA2pB,MAAOqjC,EAAC,CAAC,CAAF,CAAI,CAAX,CAAa,SAASqlC,EAAT,CAAWrlC,CAAX,CAAaxgC,CAAb,CAAe,CAACA,CAAC,EAAE,CAAH,CAAK,GAAI7J,EAAC,CAAC,CAACqqC,CAAC,EAAE,CAAJ,EAAO,CAAP,CAAS,CAAf,CAAiBrjC,CAAC,CAAC,CAAC,CAAC,EAAEyjI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAhB,EAAmB,CAAnB,CAAqB,CAAxC,CAA0CyqC,CAAC,CAAC,IAAI,EAAEqiG,EAAE,CAAC,GAAG9lI,CAAC,CAAC,EAAEA,CAAC,GAAG,CAAN,CAAQA,CAAR,CAAU,CAAf,CAAD,CAAR,EAA6B,CAAzE,CAA2E,GAAGyjC,CAAC,CAAC,MAAM,CAAC,IAAI,EAAEzjC,CAAN,EAAS,CAAT,CAAWyjC,CAAZ,GAAgB,CAAtB,EAAyB,CAA3B,CAA6BzjC,CAAC,CAACqjC,CAAC,CAAC,CAAF,CAAI,CAAnC,CAAqC,CAAC,EAAEogG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAL,IAAe,EAAEJ,CAAjB,IAAsBogG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAASggG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAjC,CAArC,CAA8E,GAAGyjC,CAAC,CAAC,EAAEggG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAT,IAAmBogG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWggG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAhC,CAA9E,CAAsH,GAAGyjC,CAAC,CAAC,EAAEggG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAT,IAAmByjI,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAASggG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAA9B,CAAtH,CAA4JogG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAF,CAAS,GAAGgH,CAAC,CAAC,EAAEyjI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAT,CAArK,CAAsL,CAAC,EAAEyqI,EAAE,CAAC,IAAD,CAAL,IAAe,EAAEzqI,CAAjB,EAAoB,IAAI,CAAC,CAAD,EAAIyqC,CAAC,CAAC,CAACzjC,CAAC,IAAI,CAAN,GAAU,CAAC,CAAD,CAAG6C,CAAb,EAAgB,CAAtB,EAAyB,CAA7B,CAA7M,CAA6O,CAAC,GAAG,EAAE,EAAEkmC,CAAC,CAAC/oC,CAAD,CAAL,CAAH,CAAa,MAAO,GAAEhH,CAAT,CAAWyqC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,OAAOA,EAAC,GAAG,CAAJ,EAAO,EAAP,GAAY5gC,CAAC,CAAC7C,CAAC,CAACqjC,CAAC,CAACA,CAAC,CAACxgC,CAAF,CAAI,CAAJ,CAAM,CAAC,CAAb,CAAe4gI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAF,CAAS,GAAGyqC,CAAC,CAAC,EAAEggG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAT,EAAiBqqC,CAAC,CAACrqC,CAAF,EAAK,CAA9C,CAAgDyqI,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS,CAACwgC,CAAC,CAACrqC,CAAC,EAAEyqC,CAAC,GAAG,CAAN,CAAD,CAAUJ,CAAV,CAAY,CAAf,GAAmB,CAAnB,CAAqB,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAlF,CAAyF4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW7J,CAApG,CAAsGyqI,EAAE,CAAC,CAAC,CAAC,EAAEA,EAAE,CAAC,IAAD,CAAL,IAAe,EAAEzqI,CAAjB,EAAoB,IAApB,CAAyBgH,CAAC,EAAE,WAAWqjC,CAAb,CAAD,CAAiB,CAAjB,CAAmB,CAA7C,GAAiD,CAAlD,CAAF,CAAuDrjC,CAA7J,CAA+Js7C,CAAC,CAACz4C,CAAD,CAA5K,EAAiL,EAAE7J,CAA1L,CAA4L,SAAS+vC,EAAT,CAAW1F,CAAX,CAAa,CAAC,GAAIxgC,EAAC,CAAC,CAAC,IAAI,EAAEwgC,CAAN,EAAS,CAAC,CAAX,GAAe,CAAC,EAAEogG,EAAE,CAACA,EAAE,CAAC,IAAD,CAAF,EAAU,CAAX,CAAL,IAAsB,CAArC,EAAwC,CAA9C,CAAgD,GAAG,CAAC,CAAD,GAAK,EAAE8B,CAAC,CAAC1iI,CAAD,CAAR,CAAH,CAAgB,MAAO,EAAP,CAAS,GAAI7J,EAAC,CAAC,EAAEyqI,EAAE,CAAC,IAAD,CAAV,CAAiB,GAAG,EAAE,GAAGpgG,CAAC,CAAC,EAAEogG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAT,CAAF,CAAH,CAAuB,CAAC,GAAIgH,EAAC,CAAC,CAACqjC,CAAC,GAAG,CAAL,EAAQ,CAAR,CAAU,CAAhB,CAAkBA,CAAC,CAAC,IAAI,EAAEyiG,EAAE,CAAC,GAAG9lI,CAAC,CAAC,EAAEA,CAAC,GAAG,CAAN,CAAQA,CAAR,CAAU,CAAf,CAAD,CAAR,EAA6B,CAA/B,CAAiC,GAAIyjC,EAAC,CAACzqC,CAAC,CAAC,CAAF,CAAI,CAAV,CAAYqqC,CAAC,CAAC,MAAM,CAAC,IAAI,EAAErjC,CAAN,EAAS,CAAT,CAAWqjC,CAAZ,GAAgB,CAAtB,EAAyB,CAA3B,CAA6BrjC,CAAC,CAAChH,CAAC,CAAC,EAAF,CAAK,CAApC,CAAsC,CAAC,EAAEyqI,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAL,IAAe,EAAEI,CAAjB,IAAsBggG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAjC,CAAtC,CAA+E,GAAGqjC,CAAC,CAAC,EAAEogG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAT,IAAmBggG,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAhC,CAA/E,CAAuH,GAAGqjC,CAAC,CAAC,EAAEogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAT,IAAmByjI,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASogG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAA9B,CAAvH,CAA6J,OAAO,IAAGggG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAF,CAASqqC,CAAC,CAAC,CAAC,EAAEogG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAL,GAAc6J,CAAC,EAAE,CAAjB,EAAoB,CAAlC,EAAqC,CAArC,GAAyCA,CAAC,CAAC,IAAI,EAAEijI,EAAE,CAAC,GAAG9lI,CAAC,CAAC,EAAE,CAACA,CAAC,CAAC,CAACqjC,CAAC,GAAG,CAAL,EAAQ,CAAR,CAAU,CAAb,IAAkB,CAApB,CAAsBrjC,CAAtB,CAAwB,CAA7B,CAAD,CAAR,EAA2C,CAA7C,CAA+CA,CAAC,CAAC,EAAEyjI,EAAE,CAAC,CAAC5gI,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE7C,CAAN,EAAS,CAAT,CAAW6C,CAAZ,GAAgB,CAAtB,EAAyB,CAA5B,GAAgC,CAAjC,CAArD,CAAyF4gI,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAASwgC,CAAC,CAACrqC,CAAC,CAAC,CAAF,CAAI,CAAxG,CAA0GyqI,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAnH,CAAqH,CAACogG,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAYgH,CAAb,IAAkByjI,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAASqjC,CAA3B,CAA9J,EAA6L,CAApM,CAAsM,SAASiY,EAAT,CAAWjY,CAAX,CAAa,CAAC,GAAIxgC,EAAC,CAAC,CAAN,CAAQ7J,CAAC,CAAC,CAAV,CAAYgH,CAAC,CAAC,CAAd,CAAgByjC,CAAC,CAAC,EAAEggG,EAAE,CAAC,CAACpgG,CAAC,EAAE,CAAJ,GAAQ,CAAT,CAAtB,CAAkCogG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAC,CAAD,CAAGI,CAAZ,CAAc,GAAIn0B,EAAC,CAAC,EAAEm0H,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAV,CAAmB5kB,CAAC,CAAC,EAAEglH,EAAE,CAAC,IAAD,CAAzB,CAAgClgG,CAAC,CAAC,CAAC,EAAE9kB,CAAH,IAAQ,EAAE4kB,CAAV,CAAlC,CAA+C5yB,CAAC,CAAC4yB,CAAC,EAAEI,CAAC,IAAI,CAAP,CAAD,CAAW,CAA5D,CAA8DC,CAAC,CAACH,CAAC,CAAC,CAAD,CAAG9yB,CAApE,CAAsE,GAAGA,CAAC,CAAC8yB,CAAC,CAAC,CAAD,CAAG9yB,CAAN,CAAQ,EAAEnB,CAAF,EAAK,IAAI,GAAGzM,CAAC,CAAC,EAAE4gI,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAT,EAAiB,CAArB,CAAhB,CAAwC,CAACzM,CAAC,CAAC,IAAI,EAAEijI,EAAE,CAAC,GAAGviG,CAAC,CAAC,EAAE,CAACA,CAAC,CAAC,CAAC1gC,CAAC,GAAG,CAAL,EAAQ,CAAR,CAAU,CAAb,IAAkB,CAApB,CAAsB0gC,CAAtB,CAAwB,CAA7B,CAAD,CAAR,EAA2C,CAA7C,CAA+C,GAAIpO,EAAC,CAAC7lB,CAAC,CAAC,CAAF,CAAI,CAAV,CAAYzM,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE0gC,CAAN,EAAS,CAAT,CAAW1gC,CAAZ,GAAgB,CAAtB,EAAyB,CAA3B,CAA6B0gC,CAAC,CAACj0B,CAAC,CAAC,EAAF,CAAK,CAApC,CAAsC,CAAC,EAAEm0H,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,IAAe,EAAEsyB,CAAjB,IAAsBsuG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS4gI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAjC,CAAtC,CAA+E,GAAG1gC,CAAC,CAAC,EAAE4gI,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAT,IAAmBsuG,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW4gI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAhC,CAA/E,CAAuH,GAAG1gC,CAAC,CAAC,EAAE4gI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAT,IAAmBkgG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS4gI,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAA9B,CAAvH,CAA6JsuG,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAC,EAAEm0H,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAL,GAAc,CAAC,CAAD,CAAGm0H,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAnB,CAAtK,CAAiM5yB,CAAC,EAAEgzH,EAAE,CAAChzH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWnB,CAAX,CAAa,GAAGzM,CAAC,CAAC,EAAE4gI,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAT,IAAmB5N,CAAC,CAAC,IAAI,EAAEijI,EAAE,CAAC,GAAGriG,CAAC,CAAC,EAAE,CAACA,CAAC,CAAC,CAAC5gC,CAAC,GAAG,CAAL,EAAQ,CAAR,CAAU,CAAb,IAAkB,CAApB,CAAsB4gC,CAAtB,CAAwB,CAA7B,CAAD,CAAR,EAA2C,CAA7C,CAA+C5gC,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE4gC,CAAN,EAAS,CAAT,CAAW5gC,CAAZ,GAAgB,CAAtB,EAAyB,CAA1E,CAA4E4gC,CAAC,CAAChzB,CAAC,CAAC,EAAF,CAAK,CAAnF,CAAqF,CAAC,EAAEgzH,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,IAAe,GAAG7J,CAAC,CAACyX,CAAC,CAAC,CAAF,CAAI,CAAT,CAAf,IAA8BgzH,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS4gI,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAzC,CAArF,CAAsI,GAAG5gC,CAAC,CAAC,EAAE4gI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAT,IAAmByqI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW4gI,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAhC,CAAtI,CAA8K,CAAC5gC,CAAC,CAAC,EAAE4gI,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAP,IAAiBggG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS4gI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAX,CAAkBylB,CAAC,CAAC,EAAEglH,EAAE,CAAC,IAAD,CAAzC,CAA9K,CAA+NA,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAC,EAAEm0H,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAL,GAAc,CAAC,CAAD,CAAGm0H,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAnB,CAAxO,CAAmQ5N,CAAC,CAAC,CAAC,EAAE4N,CAAH,IAAQ,EAAEgO,CAAV,EAAa,IAAb,CAAkBilB,CAAC,EAAE,CAAC,EAAE+/F,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAjB,CAAD,CAAqB,CAArB,CAAuB,CAA9S,CAAgTzQ,CAAC,CAAC,EAArU,CAAf,GAA0V6C,CAAC,CAAC,IAAF,CAAO7C,CAAC,CAAC,EAAnW,CAAlM,CAAyiB,KAAK,EAAEA,CAAP,IAAYyjI,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAASyM,CAArB,CAAziB,CAAikBmB,CAAC,CAAC,IAAI,EAAEq1H,EAAE,CAAC,GAAGjjI,CAAC,CAAC,EAAE,CAACA,CAAC,CAAC,CAAC,CAAC,EAAE4gI,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAhB,EAAmB,CAAnB,CAAqB,CAAxB,IAA6B,CAA/B,CAAiCzM,CAAjC,CAAmC,CAAxC,CAAD,CAAR,EAAsD,CAAznB,CAA2nBA,CAAC,CAAC,EAAE4gI,EAAE,CAAC,CAAChzH,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE5N,CAAN,EAAS,CAAT,CAAW4N,CAAZ,GAAgB,CAAtB,EAAyB,CAA5B,GAAgC,CAAjC,CAAjoB,CAAqqBgzH,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAAS0kB,CAA9qB,CAAgrBsuG,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAzrB,CAA2rB,CAACsuG,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAF,CAAS1gC,CAAV,IAAe4gI,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAASsyB,CAAxB,CAA3rB,CAAstB,CAA1zB,IAA+zB1W,EAAC,CAAC,EAAEhO,CAAF,EAAK,IAAI,GAAGzX,CAAC,CAAC,EAAEyqI,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAT,EAAiB,CAArB,CAAL,EAA8B5N,CAAC,CAAC,IAAI,EAAEijI,EAAE,CAAC,GAAGriG,CAAC,CAAC,EAAE,CAACA,CAAC,CAAC,CAACzqC,CAAC,GAAG,CAAL,EAAQ,CAAR,CAAU,CAAb,IAAkB,CAApB,CAAsByqC,CAAtB,CAAwB,CAA7B,CAAD,CAAR,EAA2C,CAA7C,CAA+C5gC,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE4gC,CAAN,EAAS,CAAT,CAAW5gC,CAAZ,GAAgB,CAAtB,EAAyB,CAA1E,CAA4E4gC,CAAC,CAAChzB,CAAC,CAAC,EAAF,CAAK,CAAnF,CAAqF,CAAC,EAAEgzH,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,IAAe,GAAG7J,CAAC,CAACyX,CAAC,CAAC,CAAF,CAAI,CAAT,CAAf,IAA8BgzH,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS4gI,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAzC,CAArF,CAAsI,GAAG5gC,CAAC,CAAC,EAAE4gI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAT,IAAmByqI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW4gI,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAhC,CAAtI,CAA8K,CAAC5gC,CAAC,CAAC,EAAE4gI,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAP,IAAiBggG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS4gI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAX,CAAkBylB,CAAC,CAAC,EAAEglH,EAAE,CAAC,IAAD,CAAzC,CAA9K,CAA+NA,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASxgC,CAAC,CAAC,CAAC,EAAE4gI,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAL,GAAc,CAAC,CAAD,CAAGogG,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAnB,EAA2B,CAArQ,CAAuQ,CAAC,EAAEA,CAAH,IAAQ,EAAEgO,CAAV,EAAaglH,EAAE,CAAC,IAAD,CAAF,CAASpgG,CAAtB,EAAyBogG,EAAE,CAAC//F,CAAC,EAAE,CAAC,EAAE+/F,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAjB,CAAD,CAAqB,CAArB,EAAwB,CAAzB,CAAF,CAA8B4yB,CAA9B,CAAgCxgC,CAAC,CAAC,EAAE4gI,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAA/D,CAAvQ,CAA8U,CAACxgC,CAAC,GAAG,CAAL,EAAQ,CAAR,CAAU,CAAtX,EAAyX4gC,CAAC,CAAC,CAAC,CAAH,CAAK,CAAhY,CAAkYhzB,CAAC,CAAC,IAAI,EAAEq1H,EAAE,CAAC,GAAGrnH,CAAC,CAAC,EAAEA,CAAC,GAAG,CAAN,CAAQA,CAAR,CAAU,CAAf,CAAD,CAAR,EAA6B,CAAja,CAAmaA,CAAC,CAAC,EAAEglH,EAAE,CAAC,CAAChzH,CAAC,CAAC,MAAM,CAAC,IAAI,EAAEgO,CAAN,EAAS,CAAT,CAAWhO,CAAZ,GAAgB,CAAtB,EAAyB,CAA5B,GAAgC,CAAjC,CAAza,CAA6cgzH,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAAS5N,CAAC,CAACwgC,CAAC,CAAC,CAAF,CAAI,CAA5d,CAA8dogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAve,CAAye,CAAC4gI,EAAE,CAACpgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY5kB,CAAb,IAAkBglH,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAF,CAAS5b,CAA3B,CAAze,CAAugB,SAASyhI,GAAT,CAAYjhG,CAAZ,CAAc,CAAC,CAACA,CAAC,EAAE,CAAJ,GAAQiY,CAAC,CAACjY,CAAC,CAAC,CAAC,CAAH,CAAK,CAAN,CAAT,CAAkB,SAASkhG,GAAT,CAAYlhG,CAAZ,CAAcxgC,CAAd,CAAgB,CAAC,GAAI7J,EAAC,CAAC,CAAN,CAAQgH,CAAC,CAAC,CAAV,CAAYyjC,CAAC,CAAC,CAAd,CAAgBn0B,CAAC,CAAC,EAAE+0H,EAAE,CAAC,EAAExhI,CAAH,CAAK,EAAEwgC,CAAP,CAAtB,CAAgC5kB,CAAC,CAAC,IAAI,EAAEnP,CAAN,EAAS,CAAT,CAAWA,CAA7C,CAA+C+zB,CAAC,CAAC,CAACA,CAAC,CAAC,IAAI,EAAEyiG,EAAE,CAAC,GAAG,EAAErnH,CAAC,GAAG,CAAN,CAAQA,CAAR,CAAU,CAAb,CAAD,CAAR,EAA2B,CAA9B,GAAkC,IAAI,EAAEmnH,EAAE,CAAC,EAAEnnH,CAAH,CAAR,EAAe,CAAjD,EAAoD,CAAtD,CAAwD4kB,CAAC,CAAG,CAAC,GAAG,EAAEA,CAAC,GAAG,CAAN,CAAQ5kB,CAAC,GAAG,CAAJ,CAAM,GAAG4kB,CAAH,GAAO,CAArB,EAAwB,IAAI,GAAGrqC,CAAC,CAAC,EAAEyqI,EAAE,CAAC,MAAMpgG,CAAC,CAAC,CAAC,CAAH,EAAM,CAAZ,GAAgB,CAAjB,CAAT,CAAJ,CAA3B,CAA8D,CAAC,GAAIE,EAAC,CAAC,CAAN,CAAQ,IAAI1gC,CAAC,CAAC7J,CAAN,CAAQ,EAAEylB,CAAC,GAAG,CAAJ,EAAO,CAAC,CAAC,CAAC,EAAEglH,EAAE,CAAC5gI,CAAC,CAAC,CAAC,CAAH,EAAM,CAAP,CAAL,IAAkB,CAAnB,EAAsB,CAAtB,CAAwB,CAAzB,IAA8B,CAAvC,CAAR,EAAmD,GAAG,EAAE,CAAC0gC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAc,EAAd,CAAiB,IAAI,GAAG1gC,CAAC,CAAC,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAJ,CAAnB,CAAH,CAA+C,CAAC7C,CAAC,CAAC,CAAF,CAAI,KAAMqjC,EAAN,CAAQ,CAAAA,CAAC,CAAC,EAAEqlC,CAAC,CAAC7lE,CAAD,CAAG4b,CAAH,CAAL,CAAW,CAAjM,IAAsMze,EAAC,CAAC,CAAF,CAAI,CAASqjC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,EAAErjC,CAAN,CAAH,CAAY,CAAC6C,CAAC,CAAC,EAAE,CAAC,GAAGwgC,CAAC,GAAG,CAAJ,CAAM,EAAT,CAAY,CAAC,KAAKxgC,CAAC,CAAC,EAAE4gI,EAAE,CAAC,MAAMpgG,CAAC,EAAE,CAAT,GAAa,CAAd,CAAN,CAAuBA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAA7B,CAA+B,EAAE,EAAExgC,CAAJ,CAApC,EAA4C,GAAG,IAAIwgC,CAAC,GAAG,CAAX,CAAa,KAAMxgC,EAAN,CAAQwgC,CAAC,CAAC,EAAEqlC,CAAC,CAAC7lE,CAAD,CAAG4b,CAAH,CAAL,CAAW,KAAM4kB,EAAN,CAAQ,CAAC,CAArG,MAA2G,CAA3G,EAA8G,GAAG,GAAGA,CAAC,CAAC,EAAEogG,EAAE,CAAC,IAAD,CAAT,GAAkB,IAAI,GAAGhgG,CAAC,CAAC,EAAEggG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAT,EAAiB,CAArB,CAArB,CAA6C,CAAC,GAAGogG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEI,CAAX,CAAa5gC,CAAC,CAAC,IAAI,EAAEijI,EAAE,CAAC,GAAGviG,CAAC,CAAC,EAAE,CAACA,CAAC,CAAC,CAACE,CAAC,GAAG,CAAL,EAAQ,CAAR,CAAU,CAAb,IAAkB,CAApB,CAAsBF,CAAtB,CAAwB,CAA7B,CAAD,CAAR,EAA2C,CAA1D,CAA4D1gC,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE0gC,CAAN,EAAS,CAAT,CAAW1gC,CAAZ,GAAgB,CAAtB,EAAyB,CAAvF,CAAyF0gC,CAAC,CAACF,CAAC,CAAC,EAAF,CAAK,CAAhG,CAAkG,CAAC,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,IAAe,GAAG7J,CAAC,CAACqqC,CAAC,CAAC,CAAF,CAAI,CAAT,CAAf,IAA8BogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS4gI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAzC,CAAlG,CAAmJ,GAAGF,CAAC,CAAC,EAAEogG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAT,IAAmByqI,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWogG,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAhC,CAAnJ,CAA2L,GAAGF,CAAC,CAAC,EAAEogG,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAT,IAAmBkgG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASogG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAA9B,CAA3L,CAAiOylB,CAAC,CAAC,IAAI,EAAEsqB,CAAC,CAACtqB,CAAD,CAAP,CAAnO,CAA+O4kB,CAAC,CAAC,EAAEogG,EAAE,CAAC,IAAD,CAArP,CAA4PhlH,CAA/P,CAAiQ,MAAOglH,GAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,EAAU,CAAC,CAAX,CAAa,CAAC/zB,CAAC,CAAC,CAAH,EAAMA,CAA1B,CAA4B,GAAG+zB,CAAH,CAAK,MAAM,MAAM,CAACA,CAAC,CAAC,CAAH,EAAMA,CAAZ,CAAc,IAAG,CAAC,CAAD,GAAK,GAAGxgC,CAAC,CAAC,EAAE0iI,CAAC,CAACvsI,CAAC,CAACylB,CAAC,CAAC,EAAF,CAAK,CAAC,CAAT,CAAR,CAAL,CAAH,CAA8B,MAAM,CAACnP,CAAC,CAAC,CAAH,EAAMA,CAAZ,CAAc,GAAG,CAAC,GAAGi0B,CAAC,CAAC1gC,CAAL,CAAD,IAAY,GAAG7C,CAAC,CAACqjC,CAAC,CAACE,CAAC,CAAC,CAAF,CAAI,CAAC,CAAZ,CAAZ,GAA6B,CAAC,CAAD,GAAK,EAAEgiG,CAAC,CAACliG,CAAC,CAACE,CAAF,CAAI,CAAL,CAAR,CAAhC,CAAiD,MAAM,CAACj0B,CAAC,CAAC,CAAH,EAAMA,CAAZ,CAAc,CAACzM,CAAC,CAAC,EAAE4gI,EAAE,CAAC,IAAD,CAAP,EAAeA,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWxgC,CAA1B,CAA4B4gI,EAAE,CAAC,IAAD,CAAF,CAASzjI,CAArC,CAAuCyjI,EAAE,CAAC,IAAD,CAAF,CAASzjI,CAAhD,CAAkDyjI,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASrqC,CAAC,EAAE,CAAH,CAAK,CAAhE,CAAkE,CAAC,CAAlpB,MAAwpB,CAAxpB,EAA2pB,MAAO0qI,GAAE,CAAC,GAAGjlH,CAAC,CAAC4kB,CAAC,CAAC,CAAF,CAAI,CAAT,CAAD,CAAa,CAAb,CAAe,EAAE/zB,CAAjB,CAAF,CAAsB,EAAEmP,CAA/B,CAAiC,SAASwlH,EAAT,CAAW5gG,CAAX,CAAaxgC,CAAb,CAAe,CAAC,GAAI7J,EAAJ,CAAMgH,CAAC,CAAC,CAAR,CAAUyjC,CAAC,CAAC,CAAZ,CAAcn0B,CAAC,CAAC,CAAhB,CAAkBmP,CAAC,CAAC,CAApB,CAAsB8kB,CAAC,CAAC,CAAxB,CAA0B9yB,CAAC,CAAC,IAAI,GAAG5N,CAAC,EAAE,CAAN,CAAJ,CAA5B,CAA0C,GAAG,EAAEwgC,CAAC,EAAE,CAAL,CAAH,CAAW,CAAC,GAAIK,EAAC,CAACjzB,CAAC,CAAC,CAAD,CAAG5N,CAAV,CAAY4N,CAAC,CAAC,CAACA,CAAC,CAAC,IAAI,EAAEq1H,EAAE,CAAC,GAAG,EAAEpiG,CAAC,GAAG,CAAN,CAAQA,CAAR,CAAU,CAAb,CAAD,CAAR,EAA2B,CAA9B,GAAkC,IAAI,EAAEkiG,EAAE,CAAC,EAAEliG,CAAH,CAAR,EAAe,CAAjD,EAAoD,CAAtD,CAAwDL,CAAC,CAAG,CAAC,GAAG,EAAE5yB,CAAC,GAAG,CAAN,CAAQizB,CAAC,GAAG,CAAJ,CAAM,GAAGjzB,CAAH,GAAO,CAArB,EAAwB,IAAI,GAAGzQ,CAAC,CAAC,EAAEyjI,EAAE,CAAC,MAAMhzH,CAAC,CAAC,CAAC,CAAH,EAAM,CAAZ,GAAgB,CAAjB,CAAT,CAAJ,CAA3B,CAA8D,CAAC,IAAIzX,CAAC,CAAC,CAAN,CAAQ,EAAE0qC,CAAC,GAAG,CAAJ,EAAO,CAAC,CAAC,CAAC,EAAE+/F,EAAE,CAACzjI,CAAC,CAAC,CAAC,CAAH,EAAM,CAAP,CAAL,IAAkB,CAAnB,EAAsB,CAAtB,CAAwB,CAAzB,IAA8B,CAAvC,CAAR,EAAmD,GAAG,EAAE,CAAChH,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAc,EAAd,CAAiB,IAAI,GAAGgH,CAAC,CAAC,EAAEyjI,EAAE,CAACzjI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAJ,CAAnB,CAAH,CAA+C,CAACujC,CAAC,CAAC,CAAF,CAAI,KAAMF,EAAN,CAAQ,CAAA5yB,CAAC,CAAC,EAAEi4D,CAAC,CAAC1oE,CAAD,CAAG0jC,CAAH,CAAL,CAAW,CAAzL,IAA8LH,EAAC,CAAC,CAAF,CAAI,CAASF,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,EAAEE,CAAN,CAAH,CAAY,CAAC1gC,CAAC,CAAC,EAAE,CAAC,GAAG4N,CAAC,GAAG,CAAJ,CAAM,EAAT,CAAY,CAAC,KAAKzQ,CAAC,CAAC,EAAEyjI,EAAE,CAAC,MAAMhzH,CAAC,EAAE,CAAT,GAAa,CAAd,CAAN,CAAuBA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAA7B,CAA+B,EAAE,EAAEzQ,CAAJ,CAApC,EAA4C,GAAG,IAAIyQ,CAAC,GAAG,CAAX,CAAa,KAAM5N,EAAN,CAAQ4N,CAAC,CAAC,EAAEi4D,CAAC,CAAC1oE,CAAD,CAAG0jC,CAAH,CAAL,CAAW,KAAML,EAAN,CAAQ,CAAC,CAArG,MAA2G,CAA3G,EAA8G,GAAG,GAAG5yB,CAAC,CAAC,EAAEgzH,EAAE,CAAC,IAAD,CAAT,GAAkB,IAAI,GAAGhgG,CAAC,CAAC,EAAEggG,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAT,EAAiB,CAArB,CAArB,CAA6C,CAAC,GAAGgzH,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEgzB,CAAX,CAAazjC,CAAC,CAAC,IAAI,EAAE8lI,EAAE,CAAC,GAAG9sI,CAAC,CAAC,EAAE,CAACA,CAAC,CAAC,CAACyqC,CAAC,GAAG,CAAL,EAAQ,CAAR,CAAU,CAAb,IAAkB,CAApB,CAAsBzqC,CAAtB,CAAwB,CAA7B,CAAD,CAAR,EAA2C,CAA1D,CAA4DgH,CAAC,CAAC,MAAM,CAAC,IAAI,EAAEhH,CAAN,EAAS,CAAT,CAAWgH,CAAZ,GAAgB,CAAtB,EAAyB,CAAvF,CAAyFhH,CAAC,CAACyX,CAAC,CAAC,EAAF,CAAK,CAAhG,CAAkG,CAAC,EAAEgzH,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAL,IAAe,GAAGyjC,CAAC,CAAChzB,CAAC,CAAC,CAAF,CAAI,CAAT,CAAf,IAA8BgzH,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAASyjI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAzC,CAAlG,CAAmJ,GAAGyX,CAAC,CAAC,EAAEgzH,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAT,IAAmBggG,EAAE,CAAChzH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWgzH,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAhC,CAAnJ,CAA2L,GAAGyX,CAAC,CAAC,EAAEgzH,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAT,IAAmByqI,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAASgzH,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAA9B,CAA3L,CAAiO5gC,CAAC,CAAC,IAAI,EAAEkmC,CAAC,CAACrF,CAAD,CAAP,CAAnO,CAA+OjzB,CAAC,CAAC,EAAEgzH,EAAE,CAAC,IAAD,CAArP,CAA4P5gI,CAA/P,CAAiQ,MAAO4gI,GAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,EAAU,CAAC,CAAX,CAAa,CAAC5N,CAAC,CAAC,CAAH,EAAMA,CAA1B,CAA4B,GAAG4N,CAAH,CAAK,MAAM,MAAM,CAACA,CAAC,CAAC,CAAH,EAAMA,CAAZ,CAAc,IAAG,CAAC,CAAD,GAAK,GAAGzQ,CAAC,CAAC,EAAEulI,CAAC,CAAC9hG,CAAC,CAACC,CAAC,CAAC,EAAF,CAAK,CAAC,CAAT,CAAR,CAAL,CAAH,CAA8B,MAAM,CAAC7gC,CAAC,CAAC,CAAH,EAAMA,CAAZ,CAAc,GAAG,CAAC,GAAG7J,CAAC,CAACgH,CAAL,CAAD,IAAY,GAAG0jC,CAAC,CAACjzB,CAAC,CAACzX,CAAC,CAAC,CAAF,CAAI,CAAC,CAAZ,CAAZ,GAA6B,CAAC,CAAD,GAAK,EAAEusI,CAAC,CAAC90H,CAAC,CAACzX,CAAF,CAAI,CAAL,CAAR,CAAhC,CAAiD,MAAM,CAAC6J,CAAC,CAAC,CAAH,EAAMA,CAAZ,CAAc,CAAC7C,CAAC,CAAC,EAAEyjI,EAAE,CAAC,IAAD,CAAP,EAAeA,EAAE,CAAChzH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWzQ,CAA1B,CAA4ByjI,EAAE,CAAC,IAAD,CAAF,CAAS//F,CAArC,CAAuC+/F,EAAE,CAAC,IAAD,CAAF,CAAS//F,CAAhD,CAAkD+/F,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAASgzB,CAAC,EAAE,CAAH,CAAK,CAAhE,CAAkE,CAAC,CAAlpB,MAAwpB,CAAxpB,EAA2pB,MAAOhzB,EAAC,CAAC,CAAF,CAAI,CAAX,CAAa,IAAI0kB,EAAC,CAACkO,CAAC,CAAC,CAAC,CAAH,CAAK,CAAX,CAAa,GAAG5yB,CAAH,CAAK,MAAO6qC,EAAC,CAACnmB,CAAD,CAAD,CAAK,CAAZ,CAAc,GAAGtyB,CAAC,GAAG,CAAJ,EAAO,CAAC,CAAC7C,CAAC,CAAC,CAACyQ,CAAC,CAAC,EAAEgzH,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAApB,EAAuB,CAAvB,CAAyB,CAA1B,IAA+B,CAAzC,CAA2C,CAAC,GAAGsuG,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAE1kB,CAAX,CAAa,IAAI,CAAC,CAAD,EAAIA,CAAC,CAACzQ,CAAC,EAAE,CAAC,CAAD,CAAG6C,CAAL,CAAD,CAAS,CAAf,EAAkB,CAAtB,EAAyB,CAAC,EAAE4gI,EAAE,CAAC,IAAD,CAAL,IAAe,EAAEtuG,CAAjB,CAAzC,CAA6D,CAAC,GAAG,EAAE,EAAE4T,CAAC,CAAC/oC,CAAD,CAAL,CAAH,CAAa,MAAO,GAAEqjC,CAAT,CAAW5yB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,OAAOA,EAAC,GAAG,CAAJ,EAAO,EAAP,GAAY5N,CAAC,CAAC4b,CAAC,CAAC8kB,CAAC,CAACF,CAAC,CAACxgC,CAAF,CAAI,CAAJ,CAAM,CAAC,CAAb,CAAe4gI,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAF,CAAS,GAAG7lB,CAAC,CAAC,EAAEm0H,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAT,EAAiBoO,CAAC,CAACpO,CAAF,EAAK,CAA9C,CAAgDsuG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAC0gC,CAAC,CAACpO,CAAC,EAAE7lB,CAAC,GAAG,CAAN,CAAD,CAAUi0B,CAAV,CAAY,CAAf,GAAmB,CAAnB,CAAqB,EAAEkgG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAlF,CAAyF4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWsyB,CAApG,CAAsGsuG,EAAE,CAAC,CAAC,CAAC,EAAEA,EAAE,CAAC,IAAD,CAAL,IAAe,EAAEtuG,CAAjB,EAAoB,IAApB,CAAyB1W,CAAC,EAAE,WAAW8kB,CAAb,CAAD,CAAiB,CAAjB,CAAmB,CAA7C,GAAiD,CAAlD,CAAF,CAAuD9kB,CAA7J,CAA+J68B,CAAC,CAACz4C,CAAD,CAA5K,EAAiL,EAAEwgC,CAA1L,CAA4L,IAAGI,CAAC,CAAC,CAAC,GAAGC,CAAC,CAAC,EAAE+/F,EAAE,CAAC,IAAD,CAAT,CAAD,IAAqB,EAAEtuG,CAAvB,EAA0B,GAAGn1B,CAAC,CAAC,EAAEyjI,EAAE,CAAC,CAAChgG,CAAC,CAACtO,CAAC,CAACn1B,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAT,EAAyB0jC,CAAzB,EAA4BjzB,CAAC,CAAC,IAAI,EAAEq1H,EAAE,CAAC,GAAG9lI,CAAC,CAAC,EAAE,CAACA,CAAC,CAAC,CAACA,CAAC,GAAG,CAAL,EAAQ,CAAR,CAAU,CAAb,IAAkB,CAApB,CAAsBA,CAAtB,CAAwB,CAA7B,CAAD,CAAR,EAA2C,CAA7C,CAA+CyQ,CAAC,CAAC,MAAM,CAAC,IAAI,EAAEzQ,CAAN,EAAS,CAAT,CAAWyQ,CAAZ,GAAgB,CAAtB,EAAyB,CAA1E,CAA4EzQ,CAAC,CAACyjC,CAAC,CAAC,EAAF,CAAK,CAAnF,CAAqF,CAAC,EAAEggG,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAL,IAAe,GAAGzX,CAAC,CAACyqC,CAAC,CAAC,CAAF,CAAI,CAAT,CAAf,IAA8BggG,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAASgzH,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAzC,CAArF,CAAsI,GAAGyQ,CAAC,CAAC,EAAEgzH,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAT,IAAmByqI,EAAE,CAAChzH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWgzH,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAhC,CAAtI,CAA8K,GAAGyQ,CAAC,CAAC,EAAEgzH,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAT,IAAmByjI,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAASgzH,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAA9B,CAA9K,CAAoNyqI,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAF,CAAS1kB,CAAC,CAAC,CAAC,EAAEgzH,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAL,GAAc,CAAC,CAAD,CAAGsuG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAnB,EAA2B,CAA1P,CAA4P,CAAC,EAAEC,CAAH,IAAQ,EAAED,CAAV,EAAaggG,EAAE,CAAC,IAAD,CAAF,CAAStuG,CAAtB,EAAyBsuG,EAAE,CAAChgG,CAAC,EAAE,CAAC,EAAEggG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAjB,CAAD,CAAqB,CAArB,EAAwB,CAAzB,CAAF,CAA8BtO,CAA9B,CAAgCuO,CAAzD,CAAxR,CAA1B,CAA+WvO,CAAjX,CAAmXtyB,CAAC,GAAG,CAAJ,EAAO,CAAC,CAAC7C,CAAC,CAACyQ,CAAC,GAAG,CAAP,EAAU,CAAV,CAAY,CAAb,IAAkB,CAA/Y,CAAiZ,CAAC,GAAGgzH,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAE1kB,CAAX,CAAa,CAAC,EAAEgzB,CAAH,IAAQ,EAAEtO,CAAV,EAAa,IAAI,CAAC,CAAD,EAAI1kB,CAAC,CAACzQ,CAAC,EAAE,CAAC,CAAD,CAAG6C,CAAL,CAAD,CAAS,CAAf,EAAkB,CAAtB,CAA7B,CAAsD,CAAC,GAAG,EAAE,EAAEkmC,CAAC,CAAC/oC,CAAD,CAAL,CAAH,CAAa,MAAO,GAAEqjC,CAAT,CAAW5yB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,OAAOA,EAAC,GAAG,CAAJ,EAAO,EAAP,GAAY5N,CAAC,CAAC4b,CAAC,CAAC8kB,CAAC,CAACF,CAAC,CAACxgC,CAAF,CAAI,CAAJ,CAAM,CAAC,CAAb,CAAe4gI,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAF,CAAS,GAAG7lB,CAAC,CAAC,EAAEm0H,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAT,EAAiBoO,CAAC,CAACpO,CAAF,EAAK,CAA9C,CAAgDsuG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAC0gC,CAAC,CAACpO,CAAC,EAAE7lB,CAAC,GAAG,CAAN,CAAD,CAAUi0B,CAAV,CAAY,CAAf,GAAmB,CAAnB,CAAqB,EAAEkgG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAlF,CAAyF4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWsyB,CAApG,CAAsGsuG,EAAE,CAAC,CAAC,CAAC,EAAEA,EAAE,CAAC,IAAD,CAAL,IAAe,EAAEtuG,CAAjB,EAAoB,IAApB,CAAyB1W,CAAC,EAAE,WAAW8kB,CAAb,CAAD,CAAiB,CAAjB,CAAmB,CAA7C,GAAiD,CAAlD,CAAF,CAAuD9kB,CAA7J,CAA+J68B,CAAC,CAACz4C,CAAD,CAA5K,EAAiL,EAAEwgC,CAA1L,CAA4L,CAAA5yB,CAAC,CAAC,IAAI,EAAEq1H,EAAE,CAAC,GAAGpiG,CAAC,CAAC,EAAE7gC,CAAC,GAAG,CAAN,CAAQA,CAAR,CAAU,CAAf,CAAD,CAAR,EAA6B,CAA/B,CAAiC4N,CAAC,CAAC,CAAC,IAAI,EAAEizB,CAAN,EAAS,CAAT,CAAWjzB,CAAZ,GAAgB,IAAI,EAAEm1H,EAAE,CAAC,EAAE/iI,CAAH,CAAR,EAAe,CAA/B,EAAkC,CAArE,CAAuEwgC,CAAC,CAAG,CAAC,GAAG,EAAE5yB,CAAC,GAAG,CAAN,CAAQ5N,CAAC,GAAG,CAAJ,CAAM,GAAG4N,CAAH,GAAO,CAArB,EAAwB,IAAI,GAAGnB,CAAC,CAAC,EAAEm0H,EAAE,CAAC,MAAMhzH,CAAC,CAAC,CAAC,CAAH,EAAM,CAAZ,GAAgB,CAAjB,CAAT,CAAJ,CAA3B,CAA8D,CAAC,IAAIzX,CAAC,CAAC,CAAF,CAAIgH,CAAC,CAACsP,CAAV,CAAY,EAAEzM,CAAC,GAAG,CAAJ,EAAO,CAAC,CAAC,CAAC,EAAE4gI,EAAE,CAACzjI,CAAC,CAAC,CAAC,CAAH,EAAM,CAAP,CAAL,IAAkB,CAAnB,EAAsB,CAAtB,CAAwB,CAAzB,IAA8B,CAAvC,CAAZ,EAAuD,GAAG,EAAE,CAAChH,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAc,EAAd,CAAiB,IAAI,GAAGgH,CAAC,CAAC,EAAEyjI,EAAE,CAACzjI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAJ,CAAnB,CAAH,CAA+C,CAACujC,CAAC,CAAC,EAAF,CAAK,KAAMF,EAAN,CAAQ,CAAA5yB,CAAC,CAAC,EAAEi4D,CAAC,CAAC1oE,CAAD,CAAG6C,CAAH,CAAL,CAAW,CAA9L,IAAmM0gC,EAAC,CAAC,EAAF,CAAK,CAASF,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,EAAEE,CAAP,CAAH,CAAa,CAAC1gC,CAAC,CAAC,EAAE,CAAC,GAAG4N,CAAC,GAAG,CAAJ,CAAM,EAAT,CAAY,CAAC,KAAKzQ,CAAC,CAAC,EAAEyjI,EAAE,CAAC,MAAMhzH,CAAC,EAAE,CAAT,GAAa,CAAd,CAAN,CAAuBA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAA7B,CAA+B,EAAE,EAAEzQ,CAAJ,CAApC,EAA4C,GAAG,IAAIyQ,CAAC,GAAG,CAAX,CAAa,KAAM5N,EAAN,CAAQ4N,CAAC,CAAC,EAAEi4D,CAAC,CAAC1oE,CAAD,CAAG6C,CAAH,CAAL,CAAW,KAAMwgC,EAAN,CAAQ,CAAC,CAArG,MAA2G,CAA3G,EAA8G,GAAG,CAAC,EAAEI,CAAH,IAAQ,EAAEtO,CAAV,CAAH,CAAgB,CAAC,GAAG,EAAE4T,CAAC,CAAClmC,CAAD,CAAN,CAAU,MAAO,GAAEwgC,CAAT,CAAW5yB,CAAC,CAAC,EAAEgzH,EAAE,CAAC,IAAD,CAAN,CAAa,CAAnD,IAAwDhzH,EAAC,CAACgzB,CAAF,CAAI,GAAG,EAAEhzB,CAAF,EAAK,IAAI,GAAGgO,CAAC,CAAC,EAAEglH,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAT,EAAiB,CAArB,CAAR,CAAgC,CAAC,GAAGgzH,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEgO,CAAX,CAAaze,CAAC,CAAC,IAAI,EAAE8lI,EAAE,CAAC,GAAG9sI,CAAC,CAAC,EAAE,CAACA,CAAC,CAAC,CAACylB,CAAC,GAAG,CAAL,EAAQ,CAAR,CAAU,CAAb,IAAkB,CAApB,CAAsBzlB,CAAtB,CAAwB,CAA7B,CAAD,CAAR,EAA2C,CAA1D,CAA4DgH,CAAC,CAAC,MAAM,CAAC,IAAI,EAAEhH,CAAN,EAAS,CAAT,CAAWgH,CAAZ,GAAgB,CAAtB,EAAyB,CAAvF,CAAyFhH,CAAC,CAACyX,CAAC,CAAC,EAAF,CAAK,CAAhG,CAAkG,CAAC,EAAEgzH,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAL,IAAe,GAAGyjC,CAAC,CAAChzB,CAAC,CAAC,CAAF,CAAI,CAAT,CAAf,IAA8BgzH,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAASyjI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAzC,CAAlG,CAAmJ,GAAGyX,CAAC,CAAC,EAAEgzH,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAT,IAAmBggG,EAAE,CAAChzH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWgzH,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAhC,CAAnJ,CAA2L,GAAGyX,CAAC,CAAC,EAAEgzH,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAT,IAAmByqI,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAASgzH,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAA9B,CAA3L,CAAiOF,CAAC,CAAC,IAAI,EAAEwF,CAAC,CAAClmC,CAAD,CAAP,CAAnO,CAA+O4N,CAAC,CAAC,EAAEgzH,EAAE,CAAC,IAAD,CAArP,CAA4PlgG,CAA/P,CAAiQ,MAAOkgG,GAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,EAAU,CAAC,CAAX,CAAa,CAAC5N,CAAC,CAAC,CAAH,EAAMA,CAA1B,CAA4B,GAAG4N,CAAH,CAAK,MAAM,MAAM,CAACA,CAAC,CAAC,CAAH,EAAMA,CAAZ,CAAc,IAAG,CAAC,CAAD,GAAK,GAAGzQ,CAAC,CAAC,EAAEulI,CAAC,CAAC9hG,CAAC,CAAC5gC,CAAC,CAAC,EAAF,CAAK,CAAC,CAAT,CAAR,CAAL,CAAH,CAA8B,MAAM,CAACA,CAAC,CAAC,CAAH,EAAMA,CAAZ,CAAc,GAAG,CAAC,GAAG7J,CAAC,CAACgH,CAAL,CAAD,IAAY,GAAG0jC,CAAC,CAACjzB,CAAC,CAACzX,CAAC,CAAC,CAAF,CAAI,CAAC,CAAZ,CAAZ,GAA6B,CAAC,CAAD,GAAK,EAAEusI,CAAC,CAAC90H,CAAC,CAACzX,CAAF,CAAI,CAAL,CAAR,CAAhC,CAAiD,MAAM,CAAC6J,CAAC,CAAC,CAAH,EAAMA,CAAZ,CAAc,CAAC7C,CAAC,CAAC,EAAEyjI,EAAE,CAAC,IAAD,CAAP,EAAeA,EAAE,CAAChzH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWzQ,CAA1B,CAA4ByjI,EAAE,CAAC,IAAD,CAAF,CAAS//F,CAArC,CAAuC+/F,EAAE,CAAC,IAAD,CAAF,CAAS//F,CAAhD,CAAkD+/F,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAASgzB,CAAC,EAAE,CAAH,CAAK,CAAhE,CAAkE,CAAC,CAAlsB,MAAwsB,CAAxsB,EAA2sB,MAAOmgG,GAAE,CAAC,GAAGrgG,CAAC,CAAC9yB,CAAC,CAAC,CAAF,CAAI,CAAT,CAAD,CAAa,EAAE4yB,CAAf,CAAiB,GAAGxgC,CAAC,GAAG,CAAJ,CAAM,CAAC4b,CAAC,CAAC,CAAC,CAAC,EAAEglH,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAhB,EAAmB,CAAnB,CAAqB,CAAxB,IAA6B,CAAnC,CAAqCtyB,CAArC,CAAuC4b,CAA1C,CAAjB,CAAF,CAAiE68B,CAAC,CAACnmB,CAAD,CAAlE,CAAsE,EAAEoO,CAA/E,CAAiF,SAASgiG,EAAT,CAAWliG,CAAX,CAAa,CAAC,GAAIxgC,EAAC,CAAC,EAAE4gI,EAAE,CAAC,IAAD,CAAV,CAAiB,MAAM,CAACpgG,CAAC,CAACxgC,CAAC,EAAE,EAAEwgC,CAAJ,CAAD,CAAQ,CAAX,IAAgB,CAAhB,CAAkB,CAAC,EAAEgjG,EAAE,EAAL,IAAW,CAA7B,EAAgC,IAAI,EAAEE,EAAE,CAAC,EAAEljG,CAAH,CAAR,CAAhC,CAA+C,CAAC,CAAhD,EAAmDogG,EAAE,CAAC,IAAD,CAAF,CAASpgG,CAAT,CAAW,EAAExgC,CAAhE,CAAN,CAAyE,SAAS2iI,EAAT,CAAWniG,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiBgH,CAAjB,CAAmB,CAAC6C,CAAC,EAAE,CAAH,CAAK7C,CAAC,EAAE,CAAR,CAAU,GAAIyjC,EAAC,CAAC,EAAEJ,CAAR,CAAU/zB,CAAC,CAAC,EAAEtW,CAAd,CAAgBylB,CAAC,CAAC,OAAO4kB,CAAC,CAAC,EAAEI,CAAX,CAAlB,CAAgCF,CAAC,CAAC,OAAOvqC,CAAC,CAAC,EAAEsW,CAAX,CAAlC,CAAgDmB,CAAC,CAAC,EAAE4zH,EAAE,CAAC9gG,CAAD,CAAG9kB,CAAH,CAAtD,CAA4DilB,CAAC,CAACL,CAAC,GAAG,EAAlE,CAAqE,MAAOA,EAAC,CAAC,CAAC5yB,CAAC,GAAG,EAAL,GAAU,EAAE4zH,EAAE,CAAC9gG,CAAD,CAAGG,CAAH,CAAd,EAAqB,CAAvB,CAAyB1qC,CAAC,CAAC,EAAEqrI,EAAE,CAAC9gG,CAAC,CAACvqC,CAAC,GAAG,EAAP,CAAUylB,CAAV,CAA/B,CAA4CzlB,CAAC,CAAC,GAAGgtI,EAAE,CAAC,CAAC3iG,CAAC,GAAG,EAAL,GAAU,EAAEghG,EAAE,CAAC9gG,CAAD,CAAGG,CAAH,CAAd,GAAsB,CAAC,CAAC,MAAML,CAAP,EAAUrqC,CAAV,CAAY,CAAb,IAAkB,EAAxC,EAA4C,CAA7C,CAAF,CAAkDqqC,CAAC,CAACrqC,CAAF,EAAK,EAAL,CAAQ,MAAMyX,CAAd,CAAgB,CAArE,CAA9C,CAAsH4yB,CAAC,CAAC,EAAE8iG,EAAE,EAA5H,CAA+H,GAAGH,EAAE,CAAC,CAAC,EAAE3B,EAAE,CAACxhI,CAAD,CAAGyM,CAAH,CAAL,GAAa,EAAE+0H,EAAE,CAACrkI,CAAD,CAAGyjC,CAAH,CAAjB,EAAwBJ,CAAxB,CAA0B,EAAEA,CAA5B,CAA8B,CAA/B,CAAF,CAAoC,EAAErqC,CAAzC,CAAtI,CAAkL,SAASonC,EAAT,CAAWiD,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiBgH,CAAjB,CAAmB,CAAC,MAAO,IAAGgmI,EAAE,CAAC,CAAC,EAAEnjI,CAAH,GAAO,EAAE7C,CAAT,GAAa,CAAChH,CAAC,CAAC,CAACqqC,CAAC,EAAE,CAAJ,GAAQ,EAAErqC,CAAV,IAAe,CAAlB,IAAuB,CAAvB,CAAyBqqC,CAAC,GAAG,CAA7B,CAA+B,CAA5C,IAAiD,CAAjD,CAAmD,CAApD,CAAF,CAAyD,EAAErqC,CAA9D,CAAP,CAAwE,SAAS6rC,EAAT,CAAWxB,CAAX,CAAaxgC,CAAb,CAAe7J,CAAf,CAAiBgH,CAAjB,CAAmB,CAAC,MAAO,IAAGgmI,EAAE,CAAC,CAAC,EAAEnjI,CAAH,GAAO,EAAE7C,CAAT,GAAa,CAACqjC,CAAC,EAAE,CAAJ,IAAS,CAAT,CAAW,CAACrqC,CAAC,EAAE,CAAJ,IAAS,CAApB,CAAsB,CAAnC,IAAwC,CAAxC,CAA0C,CAA3C,CAAF,CAAgDqqC,CAAC,CAACrqC,CAAF,GAAM,CAAN,CAAQ,CAA3D,CAAP,CAAqE,SAASysI,EAAT,CAAWpiG,CAAX,CAAa,CAAC,MAAO,IAAG,CAACA,CAAC,EAAE,CAAJ,EAAO,IAAI,EAAEyiG,EAAE,CAACziG,CAAC,CAACA,CAAC,CAAC,CAAL,CAAR,EAAiB,CAAxB,CAA0B,EAA7B,CAAP,CAAwC,SAASqiG,GAAT,CAAYriG,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkBgH,CAAlB,CAAoB,CAAC,MAAO,GAAG,SAASqjC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmB,CAAC,GAAIn0B,EAAJ,CAAMmP,CAAN,CAAQglB,CAAC,EAAE,CAAH,CAAK,GAAIF,EAAC,CAACF,CAAC,EAAE,CAAT,CAAW5yB,CAAC,CAACnB,CAAC,CAACzM,CAAC,EAAE,CAAlB,CAAoB6gC,CAAC,CAAC1qC,CAAC,EAAE,CAAzB,CAA2Bm8B,CAAC,CAAC1W,CAAC,CAACze,CAAC,EAAE,CAAlC,CAAoC,GAAG,CAACyQ,CAAJ,CAAM,CAAC,GAAI6yB,EAAC,CAAC,IAAI,EAAEG,CAAN,CAAN,CAAe,GAAGtO,CAAH,CAAK,CAAC,GAAG,CAACmO,CAAJ,CAAM,MAAM,CAACG,CAAC,CAAC,CAAH,GAAOuiG,EAAE,CAAC,CAAD,CAAF,CAAMviG,CAAb,CAAN,CAAsBggG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEJ,CAAX,CAAaogG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,EAAE5gC,CAA1B,CAA4B4gC,CAAC,CAAChlB,CAAC,CAAC,CAAhC,CAAkC,CAApE,IAAyE6kB,EAAC,GAAGmgG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAACF,CAAC,GAAG,CAAL,GAASG,CAAC,GAAG,CAAb,CAAT,CAAyB+/F,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAvC,CAAD,CAA2CA,CAAC,CAAC,CAACF,CAAC,IAAI9kB,CAAC,CAAC,CAAN,CAAF,GAAailB,CAAC,GAAG,CAAjB,IAAsB,CAAnE,CAAqE,MAAO,IAAGsiG,EAAE,CAAC,EAAEvnH,CAAH,CAAF,CAAQglB,CAAX,CAAP,CAAqB,CAAAH,CAAC,CAAC,IAAI,EAAEnO,CAAN,CAAF,CAAW,EAAE,CAAC,GAAGuO,CAAH,CAAK,CAAC,GAAG,CAACJ,CAAJ,CAAM,CAAC,GAAG,CAACA,CAAC,CAAC,CAAC,EAAEwiG,EAAE,CAAC,EAAE3wG,CAAH,CAAL,GAAa,EAAE2wG,EAAE,CAAC,EAAEr1H,CAAH,CAAjB,EAAwB,CAA3B,IAAgC,CAAhC,EAAmC,EAAtC,CAAyC,CAAC,GAAIxQ,EAAC,CAACqjC,CAAC,CAAC,CAAF,CAAI,CAAV,CAAYD,CAAC,CAACE,CAAC,IAAI,CAACG,CAAC,CAACzjC,CAAH,IAAQ,CAAZ,CAAD,EAAiB4C,CAAC,CAACygC,CAAC,CAAC,EAAF,EAAM,EAAzB,EAA6B7yB,CAAC,GAAG0kB,CAAC,CAAC,GAAGmO,CAAH,CAAK,CAAV,CAAhC,CAA6CzgC,CAAC,EAAE4N,CAAC,IAAIxQ,CAAC,GAAG,CAAR,CAAjD,CAA4DqjC,CAAC,CAAC,CAA9D,CAAgEnO,CAAC,CAACoO,CAAC,EAAEpO,CAArE,CAAuE,MAAM,OAAOsO,EAAC,GAAGggG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEJ,CAAX,CAAaogG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWn0B,CAAC,CAAC,EAAEzM,CAA/B,CAAD,CAAmC4gC,CAAC,CAAChlB,CAAC,CAAC,CAAvC,CAAyC,GAAGunH,EAAE,CAAC,EAAEvnH,CAAH,CAAF,CAAQglB,CAAX,CAAhD,CAA8D,IAAG,CAACH,CAAC,CAACI,CAAC,CAAC,CAAF,CAAI,CAAP,EAAUA,CAAV,CAAY,CAAf,CAAiB,CAAC,GAAIs/C,EAAC,CAAC,IAAI7tD,CAAC,CAAC,IAAI,EAAE2wG,EAAE,CAAC,EAAEpiG,CAAH,CAAR,GAAgB,EAAEoiG,EAAE,CAAC,EAAEr1H,CAAH,CAApB,EAA2B,CAAjC,EAAoC,CAA1C,CAA4CmC,CAAC,CAACuiB,CAAC,CAAC,EAAF,CAAK,CAAnD,CAAqDkO,CAAC,CAAC,CAACpjC,CAAC,CAAC,GAAGk1B,CAAH,CAAK,CAAR,EAAW,CAAX,EAAc,EAAd,CAAiB1kB,CAAC,IAAImC,CAAC,GAAG,CAAR,CAAlB,CAA6B,CAACnC,CAAC,EAAExQ,CAAH,CAAKsjC,CAAC,IAAI,CAACG,CAAC,CAACvO,CAAH,IAAQ,CAAZ,CAAP,GAAwBtyB,CAAC,CAAC+P,CAAC,EAAE,EAA7B,CAA/B,CAAgE/P,CAAC,EAAE4N,CAAC,IAAI0kB,CAAC,GAAG,CAAR,CAApE,CAA+EmO,CAAC,CAACC,CAAC,EAAEy/C,CAAH,EAAM1zE,CAAC,CAACrP,CAAC,EAAE,EAAX,CAAjF,CAAgGk1B,CAAC,CAAC,CAAC1kB,CAAC,EAAEuyE,CAAH,CAAKz/C,CAAC,IAAI3wB,CAAC,GAAG,CAAR,CAAP,EAAmBtD,CAAnB,CAAqBi0B,CAAC,EAAEtjC,CAAH,CAAKk1B,CAAC,CAAC,EAAF,EAAM,EAAlI,CAAqI,MAAM,GAAEsO,CAAF,GAAMggG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAASH,CAAC,CAACC,CAAX,CAAakgG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAA9B,EAAiCu/C,CAAC,CAAC,IAAI,EAAEt/C,CAAN,GAAU9wB,CAAC,CAACtD,CAAC,CAAC,EAAEzM,CAAN,CAAQ,EAAEwgC,CAApB,GAAwBzwB,CAAC,CAACnC,CAAC,IAAI,CAACuyE,CAAC,CAAC,EAAEyiD,CAAC,CAAC,EAAE/hG,CAAH,CAAN,IAAe,CAAnB,CAAD,CAAuB,CAAzB,CAA2BjzB,CAAC,EAAE,GAAGuyE,CAAN,CAAQz/C,CAAC,IAAIy/C,CAAC,GAAG,CAAR,CAAT,CAAoB,CAAvE,CAAnC,CAA6G,CAA7gB,IAAihB,CAAC,GAAG1/C,CAAH,CAAK,MAAO,GAAEG,CAAF,GAAMggG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAChzB,CAAC,GAAG,CAAL,GAASizB,CAAC,GAAG,CAAb,CAAT,CAAyB+/F,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAA1C,EAA6Cu/C,CAAC,CAAC,CAACvyE,CAAC,IAAImC,CAAC,CAAC,CAAN,CAAF,GAAa8wB,CAAC,GAAG,CAAjB,IAAsB,CAArE,CAAuE,GAAGsiG,EAAE,CAAC,EAAEpzH,CAAH,CAAF,CAAQowE,CAAX,CAA9E,CAA4F,GAAG,CAACz/C,CAAJ,CAAM,MAAO,GAAEE,CAAF,GAAMggG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAT,CAAWggG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAChzB,CAAC,GAAG,CAAL,GAAS0kB,CAAC,GAAG,CAAb,CAA5B,EAA6C6tD,CAAC,CAAC,CAACvyE,CAAC,IAAImC,CAAC,CAAC,CAAN,CAAF,GAAauiB,CAAC,GAAG,CAAjB,IAAsB,CAArE,CAAuE,GAAG6wG,EAAE,CAAC,EAAEpzH,CAAH,CAAF,CAAQowE,CAAX,CAA9E,CAA4F,GAAG,EAAE,CAAC1/C,CAAC,CAACnO,CAAC,CAAC,CAAF,CAAI,CAAP,EAAUA,CAAZ,CAAH,CAAkB,MAAO,GAAEsO,CAAF,GAAMggG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEJ,CAAX,CAAaogG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWH,CAAC,CAAC7yB,CAAF,CAAI,EAAE5N,CAApC,EAAuCmgF,CAAC,CAACvyE,CAAC,IAAI,CAAC,CAACmC,CAAC,CAAC,CAAH,EAAM6yH,CAAC,CAAC,EAAEtwG,CAAH,CAAR,IAAiB,CAArB,CAA1C,CAAkE,GAAG6wG,EAAE,CAAC,EAAEpzH,CAAH,CAAF,CAAQowE,CAAX,CAAzE,CAAuF,GAAG,CAAC1/C,CAAC,CAAC,CAAC,EAAEwiG,EAAE,CAAC,EAAE3wG,CAAH,CAAL,GAAa,EAAE2wG,EAAE,CAAC,EAAEr1H,CAAH,CAAjB,EAAwB,CAA3B,IAAgC,CAAhC,EAAmC,EAAtC,CAAyC,CAAC4yB,CAAC,CAAC5yB,CAAC,GAAG0kB,CAAC,CAAC,GAAGmO,CAAH,CAAK,CAAV,CAAD,CAAcC,CAAC,IAAI,CAACG,CAAC,CAAC7gC,CAAC,CAACygC,CAAC,CAAC,CAAF,CAAI,CAAT,IAAc,CAAlB,CAAjB,CAAsCzgC,CAAC,CAAC4N,CAAC,IAAI5N,CAAC,GAAG,CAAR,CAAzC,CAAoDygC,CAAC,CAAC,CAAtD,CAAwDnO,CAAC,CAACoO,CAAC,EAAEpO,CAA7D,CAA+D,MAAM,IAAG,CAACsO,CAAJ,CAAM,MAAOu/C,EAAC,CAACpwE,CAAC,CAAC,CAAJ,CAAM,GAAGozH,EAAE,CAAC,EAAEpzH,CAAH,CAAF,CAAQowE,CAAX,CAAb,CAA2BygD,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEJ,CAAX,CAAaogG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWn0B,CAAC,CAAC,EAAEzM,CAA5B,CAA8BmgF,CAAC,CAACpwE,CAAC,CAAC,CAAlC,CAAoC,OAAO,IAAGozH,EAAE,CAAC,EAAEpzH,CAAH,CAAF,CAAQowE,CAAX,CAAP,CAAqB,CAA1gC,MAAghC,CAAhhC,EAAmhC,GAAGt/C,CAAH,CAAK,CAAC,IAAIjzB,CAAC,CAAC,EAAE2vB,CAAC,CAAC,GAAGngC,CAAC,CAAC,EAAEjH,CAAP,CAAD,CAAW,GAAGuqC,CAAC,CAAC9kB,CAAC,CAAC,EAAEze,CAAT,CAAX,CAAuB,CAAC,CAAxB,CAA0B,CAAC,CAA3B,CAAL,CAAmChH,CAAC,CAAC,EAAEmtI,EAAE,EAAzC,CAA4C72H,CAAC,CAAC6lB,CAA9C,CAAgDA,CAAC,CAAC,CAAtD,CAAwD7lB,CAAC,CAACg0B,CAAC,GAAG,EAAJ,CAAO,CAACtjC,CAAC,CAACsP,CAAH,GAAO,CAAhB,CAAkBg0B,CAAC,CAACnO,CAAC,CAACmO,CAAC,EAAE,CAAzB,CAA2BuB,CAAC,CAAC,EAAEp0B,CAAH,CAAK,EAAEzX,CAAP,CAAS,GAAGgH,CAAC,CAACqjC,CAAC,EAAE,CAAH,CAAKrjC,CAAC,GAAG,EAAT,CAAY,CAAjB,CAAT,CAA6B,GAAGye,CAAC,CAAC4kB,CAAC,GAAG,EAAJ,CAAOxgC,CAAC,EAAE,CAAV,CAAY,CAAjB,CAA7B,CAA5B,CAA8EsyB,CAAC,CAAC,GAAGviB,CAAC,CAAC,CAACowE,CAAC,CAAC,EAAEmjD,EAAE,EAAP,GAAY,EAAZ,CAAe,CAAC,CAAC,EAAEnjD,CAAH,EAAM,CAAN,CAAQ,CAAC,CAAT,CAAW,CAAZ,GAAgB,CAApC,CAAhF,CAAuH3/C,CAAC,CAAC,EAAEwB,CAAC,CAAC,EAAE7kC,CAAH,CAAK,EAAEye,CAAP,CAAS7L,CAAC,CAAC3S,CAAF,CAAI,CAAb,CAAe,CAAC,CAAC,CAAC,EAAE+iF,CAAH,EAAM,CAAN,CAAQ,CAAC,CAAT,CAAW,CAAZ,GAAgB,EAAhB,CAAmB,CAAC,CAAC,EAAEA,CAAH,EAAM,CAAN,CAAQ,CAAC,CAAT,CAAW,CAAZ,GAAgB,CAApC,EAAuCz/C,CAAvC,CAAyC,CAAxD,CAA5H,CAAuL1gC,CAAC,CAAC,EAAEsjI,EAAE,EAA7L,CAAgM,IAAI,GAAGziG,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAT,CAAJ,CAAxP,EAA0Q,CAACjzB,CAAC,CAACnB,CAAF,CAAIA,CAAC,CAAC,CAAN,CAAQ,CAAzR,IAA8RmB,EAAC,CAAC0kB,CAAF,CAAIA,CAAC,CAAC7lB,CAAC,CAAC,CAAR,CAAU,MAAM,CAACo0B,CAAC,CAAC,CAAH,EAAMD,CAAN,GAAUggG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAASJ,CAAT,CAAWogG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW5gC,CAAhC,EAAmCmgF,CAAC,CAAC,CAAC,CAAD,EAAI1/C,CAAC,EAAE,CAAH,CAAK,CAAT,EAAYnO,CAAjD,CAAmD,GAAG6wG,EAAE,CAAC,CAAC,EAAE1iG,CAAH,IAAQ,EAAR,CAAW,CAAC7yB,CAAC,CAACizB,CAAH,GAAO,CAAlB,CAAoB,GAAGA,CAAC,EAAE,CAAH,CAAKJ,CAAC,GAAG,EAAZ,CAApB,CAAoCh0B,CAApC,CAAsC,CAAvC,CAAF,CAA4C0zE,CAA/C,CAAzD,CAA2G,CAAhrD,CAAkrD,EAAE3/C,CAAprD,CAAsrD,EAAExgC,CAAxrD,CAA0rD,EAAE7J,CAA5rD,CAA8rD,EAAEgH,CAAhsD,CAAksD,CAAlsD,CAAT,CAA8sD,SAASutE,GAAT,CAAYlqC,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkB,CAAC,MAAOqqC,EAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU,CAAC,GAAG7J,CAAC,EAAE,CAAN,CAAD,EAAW,EAAX,EAAegtI,EAAE,CAACnjI,CAAC,GAAG7J,CAAJ,CAAM,CAAP,CAAF,CAAYqqC,CAAC,GAAGrqC,CAAJ,CAAM,CAAC6J,CAAC,CAAC,CAAC,GAAG7J,CAAJ,EAAO,CAAV,GAAc,GAAGA,CAAlD,GAAsDgtI,EAAE,CAAC,CAAD,CAAF,CAAMnjI,CAAC,GAAG7J,CAAC,CAAC,EAAN,CAAS,CAArE,CAAjB,CAAyF,SAAS2sI,GAAT,CAAYtiG,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkB,CAAC,MAAOqqC,EAAC,EAAE,CAAH,CAAK,CAAC,GAAGrqC,CAAC,EAAE,CAAN,CAAD,EAAW,EAAX,EAAegtI,EAAE,CAAC,CAACnjI,CAAC,EAAE,CAAJ,GAAQ7J,CAAR,CAAU,CAACqqC,CAAC,CAAC,CAAC,GAAGrqC,CAAJ,EAAO,CAAP,EAAU,GAAGA,CAAhB,IAAqB,GAAGA,CAAlC,CAAoC,CAArC,CAAF,CAA0CqqC,CAAC,EAAErqC,CAA5D,GAAgEgtI,EAAE,CAAC3iG,CAAC,EAAErqC,CAAC,CAAC,EAAL,CAAQ,CAAT,CAAF,CAAc,CAA9E,CAAZ,CAA6F,SAAS4sI,GAAT,CAAYviG,CAAZ,CAAc,CAAC,MAAOghG,GAAE,CAAC,CAAChhG,CAAC,CAAC,CAAC,WAAWA,CAAC,CAAC,CAACA,CAAC,EAAE,CAAJ,GAAQA,CAAC,GAAG,CAAJ,CAAM,UAAd,EAA0B,CAAvC,CAAD,GAA6CA,CAAC,GAAG,CAAJ,CAAM,SAAnD,EAA8D,CAAjE,GAAqEA,CAAC,GAAG,CAAzE,EAA4E,SAA7E,CAAuF,QAAvF,CAAF,GAAqG,EAArG,CAAwG,CAA/G,CAAiH,SAASugG,GAAT,CAAYvgG,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkB,CAAC,GAAGqqC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU,OAAO,GAAG7J,CAAC,EAAE,CAAN,CAAP,CAAb,CAA8B,MAAOstI,GAAE,CAAC,EAAEjjG,CAAH,CAAK,EAAExgC,CAAP,CAAS,EAAE7J,CAAX,CAAF,CAAgB,EAAEqqC,CAAzB,CAA2B,GAAIrjC,EAAC,CAAC,EAAEqjC,CAAR,CAAUI,CAAC,CAACJ,CAAC,CAACrqC,CAAF,CAAI,CAAhB,CAAkB,GAAG,CAAC,EAAEqqC,CAAH,IAAQ,EAAExgC,CAAV,CAAH,CAAgB,CAAC,KAAK,EAAEwgC,CAAP,EAAU,CAAC,GAAG,CAACrqC,CAAJ,CAAM,MAAO,GAAEgH,CAAT,CAAW2jI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEsgG,EAAE,CAAC9gI,CAAC,EAAE,CAAJ,CAAb,CAAoBwgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAA1B,CAA4BxgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAlC,CAAoC7J,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAA1C,CAA4C,KAAIA,CAAC,CAAC,CAAC,CAAD,CAAGyqC,CAAH,CAAK,CAAX,CAAa,CAAC,EAAEJ,CAAH,GAAO,EAAErqC,CAAT,CAAb,EAA0ByqI,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAX,CAAkBwgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAxB,CAA0BxgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAhC,CAAkC,CAArJ,IAA0J,KAAI7J,CAAC,CAACyqC,CAAC,CAAC,CAAF,CAAI,CAAV,CAAY,CAAC,EAAEJ,CAAH,GAAO,EAAErqC,CAAT,CAAZ,EAAyB2qI,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEsgG,EAAE,CAAC9gI,CAAC,EAAE,CAAJ,CAAb,CAAoB8gI,EAAE,CAACtgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,EAAEsgG,EAAE,CAAC9gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAnC,CAA4C8gI,EAAE,CAACtgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,EAAEsgG,EAAE,CAAC9gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAA3D,CAAoE8gI,EAAE,CAACtgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,EAAEsgG,EAAE,CAAC9gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAnF,CAA4FwgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAlG,CAAoGxgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAA1G,CAA4G,KAAK,CAAC,EAAEwgC,CAAH,GAAO,EAAEI,CAAT,CAAL,EAAkBkgG,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAF,CAAS,EAAEsgG,EAAE,CAAC9gI,CAAC,EAAE,CAAJ,CAAb,CAAoBwgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAA1B,CAA4BxgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAlC,CAAoC,MAAO,GAAE7C,CAAT,CAAW,SAASknI,GAAT,CAAY7jG,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkB,CAAC,GAAG,CAAC,GAAG6J,CAAC,EAAE,CAAN,CAAD,GAAY,GAAGwgC,CAAC,EAAE,CAAN,CAAZ,EAAsB,CAAC,EAAEA,CAAH,GAAOxgC,CAAC,EAAE7J,CAAC,EAAE,CAAL,CAAD,CAAS,CAAhB,CAAzB,CAA4C,CAAC,GAAIgH,EAAC,CAACqjC,CAAN,CAAQ,IAAIxgC,CAAC,CAACA,CAAC,CAAC7J,CAAF,CAAI,CAAN,CAAQqqC,CAAC,CAACA,CAAC,CAACrqC,CAAF,CAAI,CAAlB,CAAoB,GAAG,EAAEA,CAAL,CAApB,EAA6BA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ2qI,EAAE,CAAC,CAACtgG,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAF,CAAiB,EAAEsgG,EAAE,CAAC,CAAC9gI,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAA7B,CAA4CwgC,CAAC,CAACrjC,CAAF,CAAI,CAAlI,IAAuI4jI,GAAE,CAACvgG,CAAD,CAAGxgC,CAAH,CAAK7J,CAAL,CAAF,CAAU,MAAO,GAAEqqC,CAAT,CAAW,SAASqgG,GAAT,CAAYrgG,CAAZ,CAAcxgC,CAAd,CAAgB7J,CAAhB,CAAkB,CAAC,GAAIgH,EAAJ,CAAMyjC,CAAC,CAAC,CAACJ,CAAC,EAAE,CAAJ,GAAQrqC,CAAC,EAAE,CAAX,EAAc,CAAtB,CAAwB,GAAG6J,CAAC,CAAC,KAAK,EAAEA,CAAP,CAAF,CAAY,KAAK,EAAE7J,CAAP,CAAf,CAAyB,CAAC,KAAK,EAAEqqC,CAAP,EAAUsgG,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAF,CAASxgC,CAAT,CAAWwgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAjB,CAAgC,IAAIrjC,CAAC,CAAC6C,CAAC,CAACA,CAAC,EAAE,CAAL,CAAOA,CAAC,EAAE,EAAV,CAAaA,CAAC,EAAE,EAAtB,CAAyB,CAAC,EAAEwgC,CAAH,GAAO,GAAvC,CAAC,CAAD,CAAGI,CAAH,CAAK,CAAkC,CAAP,CAAzB,EAAsCggG,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAF,CAASrjC,CAAT,CAAWqjC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAjB,CAAmB,MAAK,CAAC,EAAEA,CAAH,GAAO,EAAEI,CAAT,CAAL,EAAkBkgG,EAAE,CAACtgG,CAAC,EAAE,CAAJ,CAAF,CAASxgC,CAAT,CAAWwgC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAjB,CAAmB,MAAOI,EAAC,CAACzqC,CAAF,CAAI,CAAX,CAAa,SAASgH,EAAT,EAAY,CAAC,MAAO+lI,GAAE,CAAC,CAAD,CAAF,CAAM,CAAb,CAAe,SAAStiG,EAAT,EAAY,CAAC,MAAOsiG,GAAE,CAAC,CAAD,CAAF,CAAM,CAAb,CAAe,SAASlqH,GAAT,EAAa,CAACkqH,EAAE,CAAC,CAAD,CAAF,CAAM,IAAIpC,GAAE,CAAC,GAAItgG,EAAC,CAACm/F,SAAN,CAAgBxpI,CAAhB,CAAP,CAA0B,GAAIqqC,EAAC,CAACq/F,UAAN,CAAiB1pI,CAAjB,EAAoB,GAAIyqI,GAAE,CAAC,GAAIpgG,EAAC,CAACu/F,UAAN,CAAiB5pI,CAAjB,CAAP,CAA2BgrI,EAAE,CAAC,GAAI3gG,EAAC,CAACy/F,UAAN,CAAiB9pI,CAAjB,CAA9B,CAAkD6sI,EAAE,CAAC,GAAIxiG,EAAC,CAAC2/F,WAAN,CAAkBhqI,CAAlB,CAArD,CAA0EqrI,EAAE,CAAChhG,CAAC,CAAC3mC,IAAF,CAAOutI,IAApF,CAAyFnE,EAAE,CAACziG,CAAC,CAAC3mC,IAAF,CAAOwtI,KAAnG,CAAyGnE,EAAE,CAACljI,CAAC,CAAC7C,CAA9G,CAAgHgmI,EAAE,CAACnjI,CAAC,CAAC5C,CAArH,CAAuHkmI,EAAE,CAACtjI,CAAC,CAAC6gC,CAA5H,CAA8H2iG,EAAE,CAACxjI,CAAC,CAAC8hC,CAAnI,CAAqI2hG,EAAE,CAACzjI,CAAC,CAACA,CAA1I,CAA4I0jI,EAAE,CAAC1jI,CAAC,CAAC4gC,CAAjJ,CAAmJ2gG,EAAE,CAAC,IAAtJ,CAA2JoC,EAAE,CAAC,CAAC,UAAU,CAAC,MAAOT,GAAE,CAAC,CAAD,CAAF,CAAM,CAAb,CAAe,CAA3B,CAA4BhvI,CAA5B,CAA9J,CAA6L0vI,EAAE,CAAC,CAACzmI,CAAD,CAAG,SAASqjC,CAAT,CAAWxgC,CAAX,CAAa,CAAC,MAAOA,EAAC,EAAE,CAAH,CAAKqhI,EAAE,CAAC7gG,CAAC,EAAE,CAAJ,CAAM,IAAN,CAAW,CAAX,CAAP,CAAqB,EAAExgC,CAAF,EAAK2lC,CAAC,CAACnF,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAA3B,CAAuDqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAzD,CAAoE,CAA3E,CAA6E,CAA9F,CAA+F,SAASA,CAAT,CAAWxgC,CAAX,CAAa,CAACwgC,CAAC,EAAE,CAAH,CAAK,GAAIrqC,EAAC,CAAC,CAAN,CAAQ,MAAO,IAAG,IAAI,GAAG6J,CAAC,EAAE,CAAN,CAAJ,GAAe,IAAI,EAAE4gI,EAAE,CAAC,CAACzqI,CAAC,CAAC6J,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAR,CAAf,EAAwCqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAc6gG,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAlB,CAAhB,CAA0CkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAA5C,CAAuD,CAA/F,EAAkG,CAArG,CAAP,CAA+G,CAAzO,CAA0O,SAASA,CAAT,CAAWxgC,CAAX,CAAa,CAACwgC,CAAC,EAAE,CAAH,CAAK,GAAIrqC,EAAC,CAAC,CAAN,CAAQ,MAAO,IAAG,IAAI,GAAG6J,CAAC,EAAE,CAAN,CAAJ,GAAe,IAAI,EAAE4gI,EAAE,CAAC,CAACzqI,CAAC,CAAC6J,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAR,CAAf,EAAwCqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa6gG,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAlB,CAAf,CAAyCkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAA3C,CAAsD,CAA9F,EAAiG,CAApG,CAAP,CAA8G,CAAnX,CAAoX,SAASA,CAAT,CAAWxgC,CAAX,CAAa,CAACwgC,CAAC,EAAE,CAAH,CAAK,GAAIrqC,EAAC,CAAC,CAAN,CAAQ,MAAO,IAAG,IAAI,GAAG6J,CAAC,EAAE,CAAN,CAAJ,GAAe,IAAI,EAAE4gI,EAAE,CAAC,CAACzqI,CAAC,CAAC6J,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAR,CAAf,EAAwCqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa6gG,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAlB,CAAf,CAAyCkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAA3C,CAAsD,CAA9F,EAAiG,CAApG,CAAP,CAA8G,CAA7f,CAA8f,SAASA,CAAT,CAAWxgC,CAAX,CAAa,CAACwgC,CAAC,EAAE,CAAH,CAAK,GAAIrqC,EAAC,CAAC,CAAN,CAAQ,MAAO,IAAG,IAAI,GAAG6J,CAAC,EAAE,CAAN,CAAJ,GAAe,IAAI,EAAE4gI,EAAE,CAAC,CAACzqI,CAAC,CAAC6J,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAR,CAAf,EAAwCqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAc6gG,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAlB,CAAhB,CAA0CkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAA5C,CAAwD,CAAhG,EAAmG,CAAtG,CAAP,CAAgH,CAAzoB,CAA0oB,SAASA,CAAT,CAAWxgC,CAAX,CAAa,CAACwgC,CAAC,EAAE,CAAH,CAAK,GAAIrqC,EAAC,CAAC,CAAN,CAAQ,MAAO,IAAG,IAAI,GAAG6J,CAAC,EAAE,CAAN,CAAJ,GAAe,IAAI,EAAE4gI,EAAE,CAAC,CAACzqI,CAAC,CAAC6J,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAR,CAAf,EAAwCqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa6gG,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAlB,CAAf,CAAyCkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAA3C,CAAsD,CAA9F,EAAiG,CAApG,CAAP,CAA8G,CAAnxB,CAAoxB,SAASA,CAAT,CAAWxgC,CAAX,CAAa,CAACwgC,CAAC,EAAE,CAAH,CAAK,GAAIrqC,EAAC,CAAC,CAAN,CAAQ,MAAO,IAAG,IAAI,GAAG6J,CAAC,EAAE,CAAN,CAAJ,GAAe,IAAI,EAAE4gI,EAAE,CAAC,CAACzqI,CAAC,CAAC6J,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAR,CAAf,EAAwCqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa6gG,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAlB,CAAf,CAAyCkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAA3C,CAAsD,CAA9F,EAAiG,CAApG,CAAP,CAA8G,CAA75B,CAA85B,SAASA,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAe,CAACqqC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU,GAAI7C,EAAJ,CAAMyjC,CAAN,CAAQn0B,CAAC,CAAC,CAAV,CAAYmP,CAAC,CAAC,EAAEglH,EAAE,CAAC,IAAIzqI,CAAC,EAAE,CAAP,GAAW,CAAZ,CAAlB,CAAiCuqC,CAAC,CAAC,EAAEkgG,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAvC,CAAiDqqC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE5kB,CAAN,EAAS,IAAI,KAAK8kB,CAAL,CAAO,CAAX,CAAZ,CAA0B,CAAC,GAAI9yB,EAAC,CAAC5N,CAAC,CAAC,CAAF,CAAI,CAAV,CAAY,IAAI7C,CAAC,CAAC,CAAN,GAAU,CAAC,GAAI0jC,EAAC,CAAC,EAAE+/F,EAAE,CAAChlH,CAAC,EAAEze,CAAC,EAAE,CAAL,CAAD,EAAU,CAAX,CAAV,CAAwB,GAAG,CAAC0jC,CAAJ,CAAM,CAACp0B,CAAC,CAAC,CAAF,CAAI,KAAM+zB,EAAN,CAAQ,IAAGI,CAAC,CAAC,EAAE0hG,CAAC,CAAC,EAAE1B,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,CAAY,EAAE4gI,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAhB,CAAuBizB,CAAvB,CAAR,CAAkC,MAAM1jC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAAA,CAAC,CAACqjC,CAAF,CAAI5yB,CAAC,CAAC5N,CAAN,CAAQ,GAAIsyB,EAAC,CAAC,EAAEsuG,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAV,CAAoByX,CAAC,EAAE,CAAH,CAAKizB,CAAC,EAAE,CAAR,CAAUvO,CAAC,EAAE,CAAb,CAAesO,CAAC,EAAE,CAAlB,CAAoB,GAAIH,EAAJ,CAAMrjC,CAAN,CAAQ+iF,CAAC,CAAC,CAAV,CAAY,GAAGmhD,EAAE,CAACnkI,CAAC,EAAE,CAAJ,CAAM,EAAN,CAAF,CAAY,IAAI,EAAEyjC,CAAN,CAAf,CAAwB0gG,EAAE,CAACnkI,CAAD,CAAG,EAAH,CAAF,CAAS6jC,CAAC,CAAC7jC,CAAD,CAAG0jC,CAAH,CAAV,CAAxB,IAA4C,CAACG,CAAC,CAAC7jC,CAAD,CAAG0jC,CAAH,CAAD,CAAOA,CAAC,CAAC,EAAES,CAAC,CAACT,CAAD,CAAZ,CAAgB,GAAI9wB,EAAC,CAAC,EAAEwjD,CAAC,CAAC,EAAD,CAAT,CAAczxB,CAAC,CAAC,EAAEyxB,CAAC,CAAC,EAAD,CAAnB,CAAwB5yB,CAAC,CAAC/yB,CAAC,CAAC,CAAF,CAAI,CAA9B,CAAgC1Z,CAAC,CAAC6b,CAAC,CAAC,CAAF,CAAI,CAAtC,CAAwC5P,CAAC,CAAC2hC,CAAC,CAAC,CAAF,CAAI,CAA9C,CAAgD,IAAIlB,CAAC,CAAC,CAAF,CAAIH,CAAC,CAACrjC,CAAC,CAAC,CAAZ,GAAgB,CAAC,GAAIyB,EAAC,CAACgiC,CAAC,CAAC,CAAF,CAAI,CAAV,CAAY,GAAG,EAAED,CAAC,CAAC/hC,CAAC,GAAG,CAAJ,CAAM,CAAC,EAAE+hI,EAAE,CAACjgG,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAzB,CAAH,CAA+B,MAAM,GAAIvW,EAAC,CAAC,EAAE02G,EAAE,CAAC,CAAC,EAAEF,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAL,EAAa/O,CAAb,EAAgB,CAAjB,CAAV,CAA8BmB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAEoqB,CAAT,EAAY,IAAK,GAAL,CAAQwW,CAAC,CAAC,CAAF,CAAI,MAAM,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,GAAGxjC,CAAH,EAAK,GAAGqjC,CAAH,CAAK,CAAC,GAAG,CAAC,EAAEA,CAAH,IAAQ,EAAErW,CAAV,CAAH,CAAgB,CAACk3G,EAAE,CAACx/F,CAAD,CAAG1X,CAAH,CAAF,CAAQwW,CAAC,CAAC,CAAV,CAAY,KAAM5gC,EAAN,CAAQ,KAAI4gC,CAAC,CAAC,CAAN,GAAU,CAAC,GAAG,EAAEH,CAAC,CAAC,EAAEmgG,EAAE,CAACtuG,CAAC,EAAEsO,CAAC,EAAE,CAAL,CAAD,EAAU,CAAX,CAAR,CAAH,CAA0B,CAACu/C,CAAC,CAAC,EAAF,CAAK,KAAMngF,EAAN,CAAQ,IAAG,CAAC,GAAGoqB,CAAC,CAAC,EAAEkX,CAAC,CAACb,CAAD,CAAR,CAAD,IAAiB,EAAEmgG,EAAE,CAAC1sI,CAAC,EAAE,CAAJ,CAArB,CAAH,CAAgC,CAAC,IAAI2sC,CAAC,CAAC,CAAN,CAAQ,EAAEzW,CAAC,GAAG,CAAJ,EAAOyW,CAAC,GAAG,CAAb,GAAiB,CAAC,GAAGs/C,CAAC,CAAC,EAAEoiD,CAAC,CAAC,EAAEzB,EAAE,CAACrgG,CAAC,CAACI,CAAF,EAAK,CAAN,CAAL,CAAR,CAAD,IAA4B,EAAE0hG,CAAC,CAAC,EAAEpB,EAAE,CAAC,CAAC,EAAEP,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAL,EAAa8wB,CAAb,EAAgB,CAAjB,CAAL,CAA/B,CAAzB,EAAoFA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAG,CAAC,EAAEA,CAAH,IAAQ,EAAEzW,CAAV,CAAH,CAAgB,MAAM,CAAAwW,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,KAAI,EAAExW,CAAN,EAAS,IAAI,EAAEw2G,EAAE,CAACzgI,CAAC,EAAE,CAAJ,CAAR,CAAT,GAA2BmhI,EAAE,CAACnkI,CAAD,CAAG,EAAH,CAAF,CAASwoC,CAAC,CAACxoC,CAAD,CAAG,EAAEyjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE6wH,EAAE,CAAC1sI,CAAC,EAAE,CAAJ,CAAlB,CAAV,CAAoC8sC,CAAC,CAAC7jC,CAAD,CAAG,IAAH,CAArC,CAA8CwoC,CAAC,CAACxoC,CAAD,CAAG,EAAEyjI,EAAE,CAAC9+F,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE8+F,EAAE,CAACzgI,CAAC,EAAE,CAAJ,CAAlB,CAA/C,CAAyEmhI,EAAE,CAACnkI,CAAD,CAAG,EAAH,CAAtG,EAA8GgjF,CAAC,CAAC,EAAhH,CAAmH,CAA5W,IAAiXv/C,EAAC,CAAC,CAAF,CAAIH,CAAC,CAACrW,CAAN,CAAtX,KAAmY+1D,EAAC,CAAC,EAAF,CAAK,MAAM,IAAK,GAAL,CAAQ1/C,CAAC,EAAE6gG,EAAE,CAACx/F,CAAD,CAAG,EAAH,CAAF,CAASlB,CAAC,CAAC,CAAb,EAAgBu/C,CAAC,CAAC,EAAnB,CAAsB,MAAM,IAAK,GAAL,CAAQ/iF,CAAC,CAAC+iF,CAAC,CAAC,EAAH,CAAM/iF,CAAC,CAACwjC,CAAC,CAAC,CAAX,CAAa,MAAM,QAAQ,IAAI,EAAEH,CAAN,GAAUI,CAAC,CAAC,IAAI,EAAEzjC,CAAN,CAAZ,GAAuBwjC,CAAC,CAAC,CAAF,CAAIH,CAAC,CAAC,CAA7B,GAAiC6gG,EAAE,CAACzgG,CAAC,CAACiB,CAAD,CAAG/xB,CAAL,CAAOqa,CAAP,CAAF,CAAYwW,CAAC,CAAC,CAA/C,EAAngB,CAAsjB,CAAzjB,MAA+jB,CAA/jB,EAAkkB,KAAK,EAAEu/C,CAAP,IAAYA,CAAC,CAAC,CAAF,CAAI/mB,CAAC,CAACrpD,CAAD,CAAL,CAASqpD,CAAC,CAACt3B,CAAD,CAAV,CAAclB,CAAC,CAAC,CAAhB,CAAkBH,CAAC,CAACrjC,CAAC,CAAC,CAAlC,EAAqCyjC,CAAC,CAAChiC,CAAvC,CAAyC,CAAAmiI,CAAC,CAACjxH,CAAD,CAAD,CAAKixH,CAAC,CAACl/F,CAAD,CAAN,CAAU,CAAAw/F,EAAE,CAACnkI,CAAD,CAAG,EAAH,CAAF,CAAS,CAAthC,IAA2hCsP,EAAC,CAAC,CAAF,CAAI,CAAliC,MAAwiC,CAAxiC,EAA2iC,MAAO,KAAI,EAAEA,CAAN,IAAW,IAAIi0B,CAAJ,CAAM,CAAN,CAAQiF,CAAC,CAACnF,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAAT,CAAqC,EAAE0gC,CAAF,EAAK,EAAEA,CAAF,CAAI,CAAJ,EAAO,EAAE4hG,CAAC,CAAC,EAAE1B,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,CAAY,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAhB,CAAyB,IAAzB,CAAf,GAAgD4N,CAAC,CAAC,EAAEgzH,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAN,CAAa7C,CAAC,CAAC,EAAEyjI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAnB,CAA4B,EAAE0gC,CAAF,CAAI,CAAJ,EAAO,EAAE4hG,CAAC,CAAC10H,CAAD,CAAGzQ,CAAH,CAAK,IAAL,CAAV,EAAsB,EAAEujC,CAAF,CAAI,CAAJ,EAAO,EAAE4hG,CAAC,CAAC10H,CAAD,CAAGzQ,CAAH,CAAK,IAAL,CAAhC,EAA4CkkI,EAAE,CAAC7gG,CAAD,CAAG5yB,CAAH,CAAKzQ,CAAL,CAA1H,CAAhD,EAAoL,CAA3L,CAA6L,CAAntE,CAAotEA,CAAptE,CAAstEA,CAAttE,CAAwtEA,CAAxtE,CAA0tEA,CAA1tE,CAA4tEA,CAA5tE,CAA8tEA,CAA9tE,CAAguEA,CAAhuE,CAAhM,CAAm6E0mI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAOX,GAAE,CAAC,CAAD,CAAF,CAAM,CAAb,CAAe,CAA3B,CAA4B,SAAS1iG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiB,CAACqjC,CAAC,EAAE,CAAH,CAAKrqC,CAAC,EAAE,CAAR,CAAUgH,CAAC,EAAE,CAAb,CAAe,GAAIyjC,EAAC,CAAC,CAAN,CAAQn0B,CAAC,CAAC,CAAV,CAAY,GAAG,IAAI,GAAGzM,CAAC,EAAE,CAAN,CAAJ,GAAe,IAAI,GAAG4gC,CAAC,CAAC,EAAEggG,EAAE,CAAC,CAACn0H,CAAC,CAACzM,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAT,CAAJ,CAAlB,EAAgD,GAAG,GAAG4gI,EAAE,CAACzjI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAL,CAAe,CAAf,EAAkB,IAAI,EAAEhH,CAAN,EAAS,IAAI,EAAEgqF,CAAC,CAAC,EAAEygD,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,CAAY4gC,CAAZ,CAAP,CAA9B,CAAqDzqC,CAAC,CAAC,CAAF,CAArD,IAA6D,CAACkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa,IAAI,EAAErqC,CAAN,GAAUkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAzB,CAAoCsB,CAAC,CAAC,EAAEtB,CAAH,CAAK,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAT,CAAgB,EAAE4gI,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAApB,CAArC,CAAiE,EAAEm0H,EAAE,CAAC,CAACzqI,CAAC,CAACgH,CAAC,CAAC,EAAF,CAAK,CAAR,GAAY,CAAb,CAAJ,EAAqBmkI,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAAF,CAAS8jG,EAAE,CAAC,EAAE1D,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAeqqC,CAAf,CAAiBxgC,CAAjB,CAAmB7C,CAAnB,CAAT,CAA+BmkI,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAAtD,EAA8D6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAjI,CAA4I,GAAI5kB,EAAC,CAACglB,CAAC,CAAC,CAAR,CAAUF,CAAC,CAAC,CAAZ,CAAc9yB,CAAC,CAAC,EAAEgzH,EAAE,CAAC,GAAGzqI,CAAC,CAAC,EAAE6J,CAAP,GAAW,CAAZ,CAApB,CAAmC,IAAI7C,CAAC,CAAC,CAAN,GAAU,CAAC,GAAGyQ,CAAC,GAAG,CAAJ,EAAOzQ,CAAC,GAAG,CAAd,CAAgB,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,IAAGye,CAAC,CAAC,EAAEklH,EAAE,CAAC,KAAK3jI,CAAL,EAAQ,CAAT,CAAN,CAAkB,IAAI,EAAEA,CAAN,CAArB,CAA8B,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,CAAC,GAAGyjC,CAAC,CAAC,EAAEugG,EAAE,CAAC,CAAC,EAAEP,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAL,EAAagH,CAAb,EAAgB,CAAjB,CAAT,CAAD,IAAkC,EAAEye,CAApC,CAAH,CAA0C,CAAC8kB,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAvjC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,KAAI,EAAEujC,CAAN,IAAWvjC,CAAC,CAACyjC,CAAC,CAAChlB,CAAF,CAAI,CAAjB,EAAoBzlB,CAAC,CAAC,EAAEyqI,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAA1B,CAAiC,IAAI,EAAE7C,CAAN,EAASwoC,CAAC,CAACnF,CAAD,CAAGrqC,CAAC,CAAC,CAAF,CAAI,CAAP,CAAS,CAAC,EAAEyqI,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAL,EAAa,CAAb,CAAe,CAAxB,CAAV,CAAqCk5B,CAAC,CAACnF,CAAD,CAAGrqC,CAAH,CAAK,EAAEyqI,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAT,CAAvE,CAAwF40H,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAA1F,CAAqGrqC,CAAC,CAAC,CAAvG,CAAyG,CAAlhB,KAAuhBA,EAAC,CAAC,CAAF,CAAI,MAAO,GAAEA,CAAT,CAAW,CAA/mB,CAAt6E,CAAuhG+gD,EAAE,CAAC,CAAC,UAAU,CAAC,MAAOgsF,GAAE,CAAC,CAAD,CAAF,CAAM,CAAb,CAAe,CAA3B,CAA4B,SAAS1iG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiB,CAAC,MAAM,CAAC6C,CAAC,CAAC,CAAH,GAAO7C,CAAC,EAAE,CAAV,GAAc,GAAG6C,CAAC,CAAC,EAAE4gI,EAAE,CAACzjI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAd,EAAkCkkI,EAAE,CAAC,EAAE7gG,CAAH,CAAK,EAAEogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAT,CAAgB6C,CAAhB,CAApC,CAAuD,CAA7D,CAA+D,CAA7G,CAA8G,SAASwgC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmB,CAACJ,CAAC,EAAE,CAAH,CAAKrqC,CAAC,EAAE,CAAR,CAAUgH,CAAC,EAAE,CAAb,CAAeyjC,CAAC,EAAE,CAAlB,CAAoB,GAAIn0B,EAAC,CAAC,CAAN,CAAQmP,CAAC,CAAC,CAAV,CAAY8kB,CAAC,CAAC,CAAd,CAAgB,MAAO,IAAG,IAAI,GAAG1gC,CAAC,EAAE,CAAN,CAAJ,GAAe,IAAI,EAAE4gI,EAAE,CAAC,CAAClgG,CAAC,CAAC1gC,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAR,CAAf,EAAwCqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAcsB,CAAC,CAAC,EAAEtB,CAAH,CAAK,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAT,CAAgB,EAAE4gI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAApB,CAAf,CAA2C2gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAA7C,CAAwD,EAAErjC,CAAF,EAAK,GAAGsP,CAAC,CAAC,EAAEm0H,EAAE,CAACzjI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAL,EAAyBwoC,CAAC,CAACnF,CAAD,CAAG,EAAEogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAP,CAAcsP,CAAd,CAAlF,CAAmG,EAAEtW,CAAF,EAAK,EAAEyqI,EAAE,CAAC,CAAChlH,CAAC,CAACzlB,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAT,GAA0BkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAamF,CAAC,CAACnF,CAAD,CAAG,EAAEogG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAEyqI,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAlB,CAAxC,CAAnG,CAAsKolB,CAAC,CAACR,CAAD,CAAG,IAAI,IAAIogG,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAN,CAAgB,CAApB,EAAuB,IAAvB,CAA4B,IAA/B,CAAvK,CAA4M,CAApP,EAAuP,CAA1P,CAAP,CAAoQ,CAA1a,CAA2a,SAASJ,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmB,CAACJ,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAegH,CAAC,EAAE,CAAlB,CAAoByjC,CAAC,EAAE,CAAvB,CAAyB,GAAIn0B,EAAC,CAAC,CAAN,CAAQmP,CAAC,CAAC,CAAV,CAAY8kB,CAAC,CAAC,CAAd,CAAgB9yB,CAAC,CAAC,CAAlB,CAAoB,EAAE,CAAC,GAAG5N,CAAH,CAAK,CAAC,GAAG,GAAG4gI,EAAE,CAAChgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAR,CAAkB,CAAC,GAAG,EAAE,EAAEu/C,CAAC,CAAC,EAAEygD,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,CAAY,EAAE4gI,EAAE,CAAC,CAACn0H,CAAC,CAACzM,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAhB,CAAL,CAAH,CAAyC,CAACyM,CAAC,CAAC,CAAF,CAAI,MAAM,CAAC,CAAxE,IAA6EA,EAAC,CAACzM,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa,CAAC/zB,CAAC,CAAC,EAAEm0H,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAP,GAAgBq1B,CAAC,CAAC,EAAEtB,CAAH,CAAK,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAT,CAAgB,EAAEyM,CAAlB,CAA9B,CAAmD,CAA9I,IAAmJ40H,GAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa5kB,CAAC,CAAC,CAAF,CAAI,CAAvK,MAA6K,CAA7K,EAAgL,MAAO,KAAI,EAAEA,CAAN,IAAW,EAAEzlB,CAAF,EAAK,EAAEyqI,EAAE,CAAC,CAAClgG,CAAC,CAACvqC,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAT,GAA0BkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAamF,CAAC,CAACnF,CAAD,CAAG,EAAEogG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAEyqI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAlB,CAAxC,EAAmE,EAAEkgG,EAAE,CAAC,CAACn0H,CAAC,CAACm0B,CAAC,CAAC,EAAF,CAAK,CAAR,GAAY,CAAb,CAAJ,EAAqB0gG,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAAF,CAAS8jG,EAAE,CAAC,EAAE1D,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAe+zB,CAAf,CAAiBxgC,CAAjB,CAAmB4gC,CAAnB,CAAT,CAA+B0gG,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAAtD,EAA8D6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAnI,CAA8I,EAAErjC,CAAF,EAAK,GAAGyQ,CAAC,CAAC,EAAEgzH,EAAE,CAACzjI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAL,EAAyBkkI,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAP,CAAcyQ,CAAd,CAAzK,CAA0LyzH,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAA5L,CAAuM/zB,CAAC,CAAC,CAApN,EAAuN,EAAEA,CAAhO,CAAkO,CAA93B,CAA1hG,CAA05Hq3H,EAAE,CAAC,CAACljG,CAAD,CAAG,SAASJ,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC+zB,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7C,CAAC,EAAE,CAAb,CAAeyjC,CAAC,EAAE,CAAlB,CAAoB,GAAIhlB,EAAC,CAAC,CAAN,CAAQ8kB,CAAC,CAAC,CAAV,CAAY9yB,CAAC,CAAC,CAAd,CAAgBizB,CAAC,CAAC,EAAEigG,EAAE,CAAC,CAAC3qI,CAAC,EAAE,CAAJ,GAAQ,CAAT,CAAtB,CAAkCm8B,CAAC,CAAC,EAAE,CAAC7lB,CAAC,EAAE,CAAJ,IAAS,CAA/C,CAAiD,GAAG6lB,CAAC,CAAC,IAAIuO,CAAC,EAAE,EAAH,EAAO,EAAhB,EAAmB,GAAG,IAAI,CAACD,CAAC,CAAC,EAAEkgG,EAAE,CAAC,CAAC3jI,CAAC,CAAChH,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAP,GAAwB,EAAxB,EAA4B,EAAnC,CAAsC,CAAC,GAAG,EAAE,EAAEitI,EAAE,CAAC,EAAEjC,EAAE,CAAC,CAAChkI,CAAC,CAAChH,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAL,CAAN,CAAH,CAA+B,CAACqqC,CAAC,CAAC,CAACA,CAAC,EAAE,CAAH,CAAKrqC,CAAC,CAAC,EAAEgH,CAAT,CAAWsP,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAlB,CAAoBi0B,CAAC,CAAC,CAAC9kB,CAAC,CAAC,CAAH,EAAMglH,EAAE,CAAC,IAAI5gI,CAAC,EAAE,CAAP,GAAW,CAAZ,CAA9B,CAA6CA,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE0gC,CAAL,CAAO,CAAC,IAAIpO,CAAC,CAAC,CAAN,GAAU,CAAC,GAAG7lB,CAAC,GAAG,CAAJ,EAAO6lB,CAAC,GAAG,CAAd,CAAgB,KAAMtyB,EAAN,CAAQ,GAAG,EAAE6gC,CAAC,CAAC,EAAEwb,CAAC,CAAClmD,CAAC,CAACm8B,CAAF,CAAI,CAAL,CAAO7lB,CAAC,CAAC6lB,CAAF,CAAI,CAAX,CAAa,EAAb,CAAP,CAAH,CAA4B,KAAMtyB,EAAN,CAAQ,GAAG,CAACsyB,CAAC,CAACuO,CAAC,CAACvO,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAc7lB,CAAC,GAAG,CAAlB,EAAqB,KAAK,EAAEq0H,EAAE,CAAC3qI,CAAC,CAACm8B,CAAF,EAAK,CAAN,CAAT,CAArB,EAAyC,KAAK,EAAEwuG,EAAE,CAAC3qI,CAAC,EAAEylB,CAAC,CAAC0W,CAAC,CAAC,CAAC,CAAH,CAAK,CAAT,CAAD,EAAc,CAAf,CAAT,CAA5C,CAAwE,MAAMA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAAyvG,EAAE,CAACt1H,CAAC,CAAC,EAAEu1H,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAP,CAAaA,CAAb,CAAe7J,CAAf,CAAiBylB,CAAjB,CAAF,CAAsB8kB,CAAC,CAAC,EAAEkjG,EAAE,CAAC,GAAGljG,CAAJ,CAAF,CAASF,CAAT,CAAW/zB,CAAX,CAAa,EAAEm0H,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAjB,CAA1B,CAAuDkiI,EAAE,CAACliI,CAAD,CAAG,CAAH,CAAzD,CAA+DyM,CAAC,CAAC,GAAG,IAAI,EAAEi0B,CAAN,EAAS,CAAT,CAAWpO,CAAC,CAAC,CAAF,CAAI,CAAlB,CAAjE,CAAsF,KAAMkO,EAAN,CAAQ,CAAC,CAAvQ,MAA6Q,CAA7Q,EAAgR/zB,CAAC,CAAC,CAAF,CAAI,OAAO,IAAG,IAAI,GAAGA,CAAC,EAAE,CAAN,CAAJ,EAAc,CAAd,CAAgBA,CAAC,CAAC,CAAF,CAAI,CAAvB,CAAP,CAAiC,CAAAtP,CAAC,CAAC,CAAF,CAAI,CAAlb,IAAubyQ,EAAC,CAAC,CAAF,CAA1c,KAAmdA,EAAC,CAAC,EAAEnB,CAAC,GAAG,CAAN,EAAStP,CAAC,CAACyjC,CAAC,CAACzqC,CAAC,CAAC,CAAF,CAAI,CAAR,CAAUyqC,CAAC,CAAC,EAAEkgG,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAhB,CAAuB,CAAhC,EAAmC,EAArC,CAAwCJ,CAAC,CAAG,CAAC,GAAG,IAAI,EAAE5yB,CAAN,CAAH,CAAY,CAAC,GAAI6yB,EAAC,CAAC,IAAIG,CAAV,CAAY,GAAGA,CAAC,EAAE,EAAH,EAAO,EAAP,EAAWC,CAAC,EAAE,EAAH,EAAO,EAArB,CAAwB,CAAC,OAAOA,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,IAAL,CAAS1jC,CAAC,CAAC,CAAF,CAAI,KAAMqjC,EAAN,CAAvC,CAA+CrjC,CAAC,CAAC,EAAEimI,EAAE,CAAC3iG,CAAD,CAAJ,CAAQ,CAAR,CAAU,IAAI,GAAGtjC,CAAC,CAAC,EAAEgD,CAAC,CAACqgC,CAAD,CAAGxgC,CAAH,CAAK7C,CAAL,CAAOsP,CAAC,CAAC,CAAC,CAAH,CAAK,CAAZ,CAAco0B,CAAd,CAAR,CAAJ,EAA+B,CAA/B,CAAiC1jC,CAAC,CAAC,CAAF,CAAI,CAAjD,CAAmD,CAA3H,IAAgIyQ,EAAC,CAAC,EAAF,CAAK,CAAC,CAAS4yB,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE5yB,CAAP,CAAH,CAAa,GAAG0kB,CAAC,EAAE,CAAC,EAAEwuG,EAAE,CAAC3qI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,GAAgB0qC,CAAC,EAAE,EAAH,EAAO,EAA7B,EAAgC,GAAG,CAACD,CAAC,CAAC,EAAEkgG,EAAE,CAAC,CAAC3jI,CAAC,CAAChH,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAP,GAAwB,EAAxB,EAA4B,EAA5B,EAAgC0qC,CAAC,EAAE,EAAH,EAAO,EAA1C,CAA6C1jC,CAAC,CAAC,EAAEimI,EAAE,CAAC,IAAIxiG,CAAL,CAAJ,CAAY,CAAZ,CAAc,IAAI,GAAGzjC,CAAC,CAAC,EAAE0B,CAAC,CAAC2hC,CAAD,CAAGxgC,CAAH,CAAK7C,CAAL,CAAOsP,CAAC,CAAC,CAAC,CAAH,CAAK,CAAZ,CAAco0B,CAAd,CAAR,CAAJ,EAA+B,CAA/B,CAAiC1jC,CAAC,CAAC,CAAF,CAAI,CAArD,CAA7C,IAAyG,IAAG,GAAGsP,CAAC,GAAG,CAAP,GAAWi0B,CAAC,CAAC,KAAK9yB,CAAC,CAAC,EAAEkzH,EAAE,CAAC,CAACllH,CAAC,CAACzlB,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAX,CAAF,CAA6ByX,CAAC,EAAE,EAAH,EAAO,EAAP,EAAWizB,CAAC,EAAE,EAAH,EAAO,EAA1D,CAAH,CAAiE,CAAC,OAAOA,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,IAAL,CAAS1jC,CAAC,CAAC,CAAF,CAAI,KAAMqjC,EAAN,CAAvC,CAA+C,GAAG,EAAE4iG,EAAE,CAAC1iG,CAAD,CAAP,CAAWvjC,CAAC,CAAC,CAAF,CAAX,IAAmB,CAAC6C,CAAC,CAAC,CAAC7C,CAAC,CAACqjC,CAAF,CAAII,CAAC,CAAC5gC,CAAN,CAAQygC,CAAC,CAAC7kB,CAAV,CAAY,GAAIxe,EAAC,CAACqP,CAAC,CAAC,CAAC,CAAH,CAAK,CAAX,CAAa0zE,CAAC,CAACt/C,CAAf,CAAiB1jC,CAAC,EAAE,CAAH,CAAKyjC,CAAC,EAAE,CAAR,CAAUH,CAAC,EAAE,CAAb,CAAerjC,CAAC,EAAE,CAAlB,CAAoB+iF,CAAC,EAAE,CAAvB,CAAyB,GAAIpwE,EAAJ,CAAM+xB,CAAC,CAAC,CAAR,CAAUnB,CAAC,CAAC,CAAZ,CAAczsC,CAAC,CAAC,CAAhB,CAAkB,IAAI6b,CAAC,CAAC,CAAN,GAAU,CAAC,GAAG3S,CAAC,GAAG,CAAJ,EAAO2S,CAAC,GAAG,CAAd,CAAgB,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,EAAE+xB,CAAC,CAAC,EAAEua,CAAC,CAAC5b,CAAC,CAAC1wB,CAAF,CAAI,CAAL,CAAO3S,CAAC,CAAC2S,CAAF,CAAI,CAAX,CAAaowE,CAAb,CAAP,CAAH,CAA2B,CAACpwE,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,CAAC,EAAE+wH,EAAE,CAACrgG,CAAC,EAAEqB,CAAC,CAACA,CAAC,CAAC/xB,CAAF,CAAI,CAAR,CAAD,EAAa,CAAd,CAAL,GAAwBowE,CAAC,EAAE,EAAH,EAAO,EAA/B,EAAmC,IAAI,EAAEijD,EAAE,CAAC,EAAEjC,EAAE,CAAC1gG,CAAC,EAAEqB,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAL,CAAR,CAAtC,CAAmE,CAAC5tC,CAAC,CAAC,CAAF,CAAI,MAAM,CAAA6b,CAAC,CAAC+xB,CAAF,CAAI,IAAG,IAAI,EAAE5tC,CAAN,CAAH,CAAY,GAAG6b,CAAC,CAAC+xB,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAC5tC,CAAC,CAAC4tC,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAc1kC,CAAC,GAAG,CAAlB,EAAqB,CAAC,EAAE0jI,EAAE,CAACrgG,CAAC,CAAC1wB,CAAF,EAAK,CAAN,CAAL,GAAgBowE,CAAC,EAAE,EAAH,EAAO,EAA5C,EAAgD,CAAC,EAAE2gD,EAAE,CAACrgG,CAAC,CAACvsC,CAAF,EAAK,CAAN,CAAL,GAAgBisF,CAAC,EAAE,EAAH,EAAO,EAAvE,EAA2E,EAAEygD,EAAE,CAAC,CAACjgG,CAAC,CAACC,CAAC,CAAC,EAAF,CAAK,CAAR,GAAY,CAAb,CAA1F,CAA0GmhG,EAAE,CAAChyH,CAAC,CAAC,EAAEiyH,EAAE,CAACphG,CAAD,CAAG,CAAH,CAAP,CAAaA,CAAb,CAAeH,CAAf,CAAiBqB,CAAjB,CAAF,CAAsB/xB,CAAC,CAAC,EAAE6zH,EAAE,CAAC,GAAGhD,EAAE,CAACjgG,CAAC,EAAE,CAAJ,CAAN,CAAF,CAAgBxjC,CAAhB,CAAkB4S,CAAlB,CAAoB,EAAE6wH,EAAE,CAAChgG,CAAC,CAAC,GAAF,EAAO,CAAR,CAAxB,CAA1B,CAA8DshG,EAAE,CAACthG,CAAD,CAAG,CAAH,CAAhE,CAAsE7wB,CAAC,CAAC,IAAI,EAAEA,CAAN,EAAS,CAAT,CAAW+xB,CAAC,CAAC,CAAF,CAAI,CAAvF,CAA1G,IAAuM,CAAC,GAAG/xB,CAAC,GAAG,CAAJ,CAAM3S,CAAC,GAAG,CAAV,EAAa,CAAC,EAAE0jI,EAAE,CAACrgG,CAAC,CAAC1wB,CAAF,EAAK,CAAN,CAAL,GAAgBowE,CAAC,EAAE,EAAH,EAAO,EAAvC,CAA0C,CAAChjF,CAAC,CAAC,GAAG,IAAI,GAAGjJ,CAAC,CAAC,EAAEiM,CAAC,CAAChD,CAAD,CAAGyjC,CAAH,CAAKH,CAAC,CAAC,CAAC,CAAH,CAAK,CAAV,CAAYrjC,CAAC,CAAC,CAAF,CAAI,CAAhB,CAAkB+iF,CAAlB,CAAR,CAAJ,EAAmC,CAAnC,CAAqCjsF,CAAC,CAAC,CAAC,CAAH,CAAK,CAA7C,CAAF,CAAkD,KAAM8L,EAAN,CAAQ,CAAA+P,CAAC,CAAC,IAAI,GAAGA,CAAC,CAAC,EAAElR,CAAC,CAAC1B,CAAD,CAAGyjC,CAAH,CAAKH,CAAC,CAAC,CAAC,CAAH,CAAK,CAAV,CAAYrjC,CAAC,CAAC,CAAF,CAAI,CAAhB,CAAkB+iF,CAAlB,CAAR,CAAJ,EAAmC,CAAnC,CAAqCpwE,CAAC,CAAC,CAAC,CAAH,CAAK,CAA5C,CAA8C,CAAA5S,CAAC,CAAC,EAAE4S,CAAJ,CAAM,CAAA5S,CAAC,CAAC,IAAI,GAAGA,CAAC,EAAE,CAAN,CAAJ,EAAc,CAAd,CAAgBA,CAAC,CAAC,CAAF,CAAI,CAAtB,CAAwB,CAAC,CAApvB,IAAyvBA,EAAC,CAAC,CAAF,CAAl4B,KAA24BA,EAAC,CAAC,CAAF,CAAI,CAA/5B,MAAq6B,CAAr6B,EAAw6B,MAAO,GAAEA,CAAT,CAAW,CAA3rD,CAA4rD,SAASqjC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC,GAAImP,EAAJ,CAAM8kB,CAAN,CAAQF,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAesW,CAAC,EAAE,CAAlB,CAAoB,GAAImB,EAAC,CAAC2zH,EAAN,CAAS,IAAIA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAW3lH,CAAC,CAAC,CAAjB,CAAmB,EAAEnP,CAAC,GAAG,CAAJ,EAAOmP,CAAC,GAAG,CAAb,GAAiB,KAAK,EAAEklH,EAAE,CAAC3qI,CAAC,CAACylB,CAAF,EAAK,CAAN,CAAT,CAApC,EAAwDA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAIze,CAAC,CAAC,CAAF,CAAIujC,CAAC,CAAC9kB,CAAV,CAAY,CAACglB,CAAC,CAACF,CAAC,GAAG,CAAJ,CAAMj0B,CAAC,GAAG,CAAb,EAAgBtP,CAAC,GAAG,CAAJ,CAAMye,CAAC,GAAG,CAAtC,EAAyCze,CAAC,CAAC,KAAK,EAAE2jI,EAAE,CAAC3qI,CAAC,CAACuqC,CAAF,EAAK,CAAN,CAAT,EAAmBvjC,CAAC,CAAC,CAAF,CAAI,CAAvB,CAAyB,CAA3B,CAA6BujC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAnC,CAAqC,GAAGE,CAAC,CAAChlB,CAAC,GAAG,CAAJ,EAAOze,CAAC,GAAG,CAAhB,CAAkB,CAAC,IAAIyjC,CAAC,CAAChlB,CAAN,CAAQ,EAAE8kB,CAAC,GAAG,CAAJ,EAAOE,CAAC,GAAG,CAAb,GAAiB,KAAK,EAAEkgG,EAAE,CAAC3qI,CAAC,CAACyqC,CAAF,EAAK,CAAN,CAAT,CAAzB,EAA6CA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAIzjC,CAAC,CAACujC,CAAC,CAAC9kB,CAAF,CAAI,CAAV,CAAY,EAAEze,CAAC,GAAG,CAAJ,EAAOye,CAAC,GAAG,CAAb,GAAiB,KAAK,EAAEklH,EAAE,CAAC3qI,CAAC,EAAEsW,CAAC,CAACtP,CAAC,CAAC,CAAC,CAAH,CAAK,CAAT,CAAD,EAAc,CAAf,CAAT,CAA7B,EAA0DA,CAAC,CAACsP,CAAF,CAAI,GAAG,EAAEm0B,CAAC,GAAG,CAAJ,CAAMzjC,CAAC,GAAG,CAAZ,CAAH,CAAkB,MAAOhH,EAAC,CAAC,IAAI,EAAEytI,EAAE,CAAC,GAAGhD,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAN,CAAF,CAAmBwgC,CAAnB,CAAqB,CAArB,CAAuB,EAAEogG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAA3B,CAAN,CAAF,CAAgDuhI,EAAE,CAAC3zH,CAAnD,CAAqD,GAAGzX,CAAC,CAAC,CAAD,CAAGuqC,CAAP,CAA5D,CAAsEkgG,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAASzX,CAAC,CAACyqC,CAAX,CAAaggG,EAAE,CAAChzH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWzQ,CAAC,CAACyjC,CAA1B,CAA4BggG,EAAE,CAAChzH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAvC,CAAyCzQ,CAAC,CAAC,CAACA,CAAC,CAAC,CAACyjI,EAAE,CAAChzH,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAb,IAAkB,EAAEg2H,EAAE,CAAC,GAAGhD,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAN,CAAF,CAAmBwgC,CAAnB,CAAqB5yB,CAArB,CAAuB,EAAEgzH,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAA3B,CAApB,CAAH,EAAgE,CAAhE,CAAkE0gC,CAA7G,CAA+G,CAA7U,IAAkVvjC,EAAC,CAAC,CAAF,CAAI,MAAOokI,GAAE,CAAC3zH,CAAH,CAAK,EAAEzQ,CAAd,CAAgB,CAA3uE,CAA4uE,SAASqjC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiB,CAAC,GAAGqjC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAe,GAAG,CAAC,EAAEgH,CAAH,IAAQ,CAAX,EAAc,KAAK,EAAE2jI,EAAE,CAAC3qI,CAAC,CAAC,CAAC,CAAH,EAAM,CAAP,CAAT,CAAd,EAAmC,KAAK,EAAE2qI,EAAE,CAAC3qI,CAAC,CAAC,CAAC,CAAH,EAAM,CAAP,CAAT,CAArD,CAAyE,CAAC,IAAIA,CAAC,CAAC,EAAEyqI,EAAE,CAAC,CAACzjI,CAAC,CAACqjC,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAV,CAAyBrqC,CAAC,EAAE,KAAK,EAAE2qI,EAAE,CAAC,CAAC,EAAEF,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAL,GAAcrqC,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAArB,GAAyB,CAA1B,CAAT,CAA5B,EAAoEyqI,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAAShH,CAAT,CAAWA,CAAC,CAAC,IAAI,EAAEwtI,EAAE,CAAC,EAAE/C,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAL,CAAF,CAAkBwgC,CAAlB,CAAoB,EAAEogG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAxB,CAAN,EAA2C,CAA7C,CAA+C,CAAxM,IAA6M7J,EAAC,CAAC,CAAF,CAAI,MAAO,GAAEA,CAAT,CAAW,CAA19E,CAA29E,SAASqqC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC+zB,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAesW,CAAC,EAAE,CAAlB,CAAoB,GAAImP,EAAC,CAAC,CAAN,CAAQ8kB,CAAC,CAAC,CAAV,CAAY9yB,CAAC,CAAC,CAAd,CAAgBizB,CAAC,CAAC,CAAlB,CAAoBvO,CAAC,CAAC,CAAtB,CAAwBmO,CAAC,CAAC,CAA1B,CAA4BrjC,CAAC,CAAC,CAA9B,CAAgC,GAAG,EAAED,CAAL,EAAO,GAAGyjC,CAAC,CAAC,EAAEggG,EAAE,CAAC,CAACzjI,CAAC,CAAC6C,CAAC,CAAC,GAAF,CAAM,CAAT,GAAa,CAAd,CAAN,CAAuB,KAAK,EAAE8gI,EAAE,CAAC3qI,CAAC,CAAC,CAAC,CAAH,EAAM,CAAP,CAAT,CAA1B,EAA8C,GAAG,EAAEyqI,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAP,CAAiB,CAACygC,CAAC,CAACG,CAAF,CAAItO,CAAC,CAACn1B,CAAN,CAAQ0jC,CAAC,CAAC,CAAV,CAAY,GAAIs/C,EAAC,CAAC,CAAN,CAAQ,CAAtC,IAA2CA,EAAC,CAAC,EAAF,CAAzF,KAAmGA,EAAC,CAAC,CAAF,CAA1G,KAAmHv/C,EAAC,CAAC,EAAEggG,EAAE,CAAC,CAACzjI,CAAC,CAAC6C,CAAC,CAAC,GAAF,CAAM,CAAT,GAAa,CAAd,CAAN,CAAuBmgF,CAAC,CAAC,CAAzB,CAA2B,IAAI,EAAEA,CAAN,IAAWA,CAAC,CAAC,EAAEygD,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAJ,EAAeygC,CAAC,CAACG,CAAF,CAAItO,CAAC,CAACn1B,CAAN,CAAQ0jC,CAAC,CAAC,CAAV,CAAY,CAA3B,EAA8B,EAA3C,EAA+CL,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE2/C,CAAN,CAAH,CAAY,CAAC,GAAIpwE,EAAC,CAAC5S,CAAC,CAAC,CAAR,CAAUyjC,CAAC,CAAC,CAAF,CAAI5gC,CAAC,CAAC,OAAO,CAAC,GAAGyM,CAAC,GAAG,CAAJ,EAAOsD,CAAC,GAAG,CAAd,CAAgB,CAAC6wB,CAAC,CAACH,CAAF,CAAItjC,CAAC,CAACm1B,CAAN,CAAQ6tD,CAAC,CAAC,EAAV,CAAa,KAAM3/C,EAAN,CAAQ,IAAIsB,EAAC,CAAC,EAAEg/F,EAAE,CAAC3qI,CAAC,CAAC4Z,CAAF,EAAK,CAAN,CAAV,CAAmB5Z,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI2rC,CAAC,EAAE,EAAH,EAAO,EAAd,CAAiB,CAAC,GAAInB,EAAC,CAAC5wB,CAAC,CAAC,CAAC,CAAH,CAAK,CAAX,CAAa,GAAG,KAAK,EAAE+wH,EAAE,CAAC3qI,CAAC,CAACwqC,CAAF,EAAK,CAAN,CAAT,CAAH,CAAsB,OAAOmB,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ3kC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,KAAMhH,EAAN,CAAQ,IAAK,GAAL,CAAQ,GAAG,CAAC,EAAEgH,CAAH,EAAM,CAAT,CAAW,KAAM6C,EAAN,CAAQ7C,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAP,CAAS,KAAMhH,EAAN,CAAQ,QAAQ,KAAMA,EAAN,CAA9F,CAAuG,CAA5J,IAAiKyqC,EAAC,CAAC,CAAF,CAAI,CAAxK,MAA8K,CAA9K,EAAiL7wB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,KAAI+xB,CAAC,CAAC3kC,CAAC,CAAC4S,CAAC,CAAC,CAAF,CAAI,CAAZ,GAAgB,CAAC,GAAGtD,CAAC,GAAG,CAAJ,EAAOq1B,CAAC,GAAG,CAAd,CAAgB,CAACq+C,CAAC,CAAC,EAAF,CAAK,MAAM,IAAG,EAAE,EAAEijD,EAAE,CAAC,KAAKxnH,CAAC,CAAC,EAAEklH,EAAE,CAAC3qI,CAAC,CAAC2rC,CAAF,EAAK,CAAN,CAAX,CAAD,CAAN,CAAH,CAAiC,CAACq+C,CAAC,CAAC,EAAF,CAAK,MAAM,CAAAr+C,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAA9hC,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,EAAEmgF,CAAP,CAAH,CAAa,CAAC,OAAOvkE,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,MAAM,IAAK,GAAL,CAAQ,IAAIA,CAAC,CAACze,CAAC,CAAC2kC,CAAC,CAAC,CAAF,CAAI,CAAZ,GAAgB,CAAC,GAAGr1B,CAAC,GAAG,CAAJ,EAAOmP,CAAC,GAAG,CAAd,CAAgB,CAACglB,CAAC,CAACH,CAAF,CAAItjC,CAAC,CAACm1B,CAAN,CAAQ6tD,CAAC,CAAC,EAAV,CAAa,KAAM3/C,EAAN,CAAQ,IAAG,KAAK,EAAEsgG,EAAE,CAAC3qI,CAAC,CAACylB,CAAF,EAAK,CAAN,CAAT,CAAH,CAAsB,MAAMA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAG,CAAC,EAAEA,CAAH,IAAQ,EAAEze,CAAV,CAAH,EAAgB,GAAGyjC,CAAH,CAAK,CAAC,IAAIkB,CAAC,CAAC,EAAEkgG,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAN,CAAY7C,CAAC,CAAC,CAAlB,CAAoB,EAAE4S,CAAC,GAAG,CAAJ,EAAO5S,CAAC,GAAG,CAAb,CAApB,EAAqC,IAAI,CAACyjC,CAAC,CAAC,EAAEkgG,EAAE,CAAC3qI,CAAC,CAACgH,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA1B,CAA6B,KAAK,EAAE2jI,EAAE,CAAC3qI,CAAC,EAAEgH,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAT,GAAyBmkI,EAAE,CAACx/F,CAAD,CAAG,EAAH,CAAxD,CAA+Dw/F,EAAE,CAACx/F,CAAD,CAAG,IAAIlB,CAAP,CAAjE,CAA2EzjC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAjF,CAAmFyjC,CAAC,CAAC,EAAEggG,EAAE,CAAC9+F,CAAC,EAAE,CAAJ,CAAN,CAAa3kC,CAAC,CAAC,EAAEyjI,EAAE,CAAC9+F,CAAC,CAAC,CAAF,EAAK,CAAN,CAAnB,CAA4B,CAA1J,IAA+JlB,EAAC,CAACzqC,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQgH,CAAC,CAACwjC,CAAV,CAA/K,KAAgMC,EAAC,CAACzqC,CAAC,CAACgH,CAAF,CAAI,CAAN,CAAQA,CAAC,CAACye,CAAC,CAACze,CAAF,CAAI,CAAd,CAAgB,GAAG,EAAEyjC,CAAC,CAAC,EAAEw+F,CAAC,CAACp/H,CAAC,CAAC,GAAF,CAAM,CAAP,CAAS4gC,CAAT,CAAWzjC,CAAX,CAAP,CAAH,CAAyB,CAACyjC,CAAC,CAACH,CAAF,CAAItjC,CAAC,CAACm1B,CAAN,CAAQ6tD,CAAC,CAAC,EAAV,CAAa,KAAM3/C,EAAN,CAAQ,CAAArjC,CAAC,CAACye,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ8kB,CAAC,CAAC,EAAEkgG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAd,CAAuBkB,CAAC,CAAC,EAAE8+F,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAA7B,CAAsC,KAAM5gC,EAAN,CAAQ,QAAQmgF,CAAC,CAAC,EAAF,CAAK,KAAMngF,EAAN,CAA7b,CAAqc,OAAO,CAAC,GAAI9L,EAAC,CAAC4tC,CAAC,CAAC,CAAF,CAAI,CAAV,CAAY,GAAGr1B,CAAC,GAAG,CAAJ,EAAOvY,CAAC,GAAG,CAAd,CAAgB,MAAM,GAAG,EAAE,EAAEkvI,EAAE,CAAC,EAAEjC,EAAE,CAAChrI,CAAC,CAACjC,CAAF,EAAK,CAAN,CAAL,CAAN,CAAH,CAAyB,MAAM4tC,CAAC,CAAC5tC,CAAF,CAAI,IAAIiM,EAAC,CAACjM,CAAN,CAAQiC,CAAC,CAAC,OAAO,CAAC,GAAGsW,CAAC,GAAG,CAAJ,EAAOtM,CAAC,GAAG,CAAd,CAAgB,CAACygC,CAAC,CAACH,CAAF,CAAItjC,CAAC,CAACm1B,CAAN,CAAQ6tD,CAAC,CAAC,EAAV,CAAa,KAAM3/C,EAAN,CAAQ,QAAO,CAAC5kB,CAAC,CAAC,EAAEklH,EAAE,CAAC3qI,CAAC,CAACgK,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA7B,EAAiC,IAAK,GAAL,CAAQsM,CAAC,CAACmB,CAAC,CAAC,CAAJ,CAAM8yB,CAAC,CAACvjC,CAAC,CAACgD,CAAV,CAAY,KAAMhK,EAAN,CAAQ,IAAK,GAAL,CAAQgH,CAAC,CAAC,CAAF,CAAI,MAAM,QAAQ,GAAG,IAAI,EAAEgD,CAAN,GAAU,IAAI,EAAEijI,EAAE,CAAC,EAAEjC,EAAE,CAAChrI,CAAC,EAAEgK,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAL,CAAR,CAAb,CAA0C,OAAOyb,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQukE,CAAC,CAAC,EAAF,CAAK,KAAMhqF,EAAN,CAAQ,QAAQgH,CAAC,CAAC,CAAF,CAAvD,CAA1C,IAA0GA,EAAC,CAAC,CAAF,CAAjM,CAAqMgD,CAAC,CAACA,CAAC,CAAChD,CAAF,CAAI,CAAN,CAAQ,CAAAhH,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,EAAEgqF,CAAP,CAAH,CAAa,CAAC,GAAIthF,EAAC,CAACsB,CAAC,CAAC,CAAF,CAAI,CAAV,CAAY,IAAIhD,CAAC,CAAC,CAAF,CAAIujC,CAAC,CAAC7hC,CAAV,GAAc,CAAC,GAAG4N,CAAC,GAAG,CAAJ,EAAOi0B,CAAC,GAAG,CAAd,CAAgB,CAACE,CAAC,CAACH,CAAF,CAAItjC,CAAC,CAACm1B,CAAN,CAAQ6tD,CAAC,CAAC,EAAV,CAAa,KAAM3/C,EAAN,CAAQ,IAAG,IAAI,CAACI,CAAC,CAAC,EAAEkgG,EAAE,CAAC3qI,CAAC,CAACuqC,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA7B,EAAgC,GAAGE,CAAC,EAAE,EAAH,EAAO,EAAP,EAAWhlB,CAAC,EAAE,EAAH,EAAO,EAArB,CAAwB,CAAC,GAAG,EAAE,IAAI,EAAEze,CAAN,EAAS,IAAIyjC,CAAC,EAAE,EAAH,EAAO,EAAtB,CAAH,CAA6B,MAAMA,CAAC,CAAC,CAAF,CAAI,CAAhE,IAAqEzjC,EAAC,CAAC,CAAF,CAAIyjC,CAAC,CAAC,CAAN,CAArG,KAAkHA,EAAC,CAAC,CAAF,CAAIF,CAAC,CAACA,CAAC,CAACE,CAAF,CAAI,CAAN,CAAQ,CAAAA,CAAC,CAACF,CAAF,CAAI,EAAE,CAAC,GAAGvjC,CAAC,CAAC,EAAE2jI,EAAE,CAAC3qI,CAAC,EAAEyqC,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAT,CAAD,EAAc,CAAf,CAAN,CAAwBA,CAAC,GAAG,CAAJ,EAAO/hC,CAAC,GAAG,CAAtC,CAAwC,MAAM,CAAjD,MAAuD,IAAI,EAAEukI,EAAE,CAAC,IAAIjmI,CAAL,CAAR,CAAvD,EAAyE,OAAOA,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQA,CAAC,CAACgD,CAAF,CAAIyN,CAAC,CAAC/O,CAAN,CAAQ4N,CAAC,CAACm0B,CAAV,CAAY,KAAMzqC,EAAN,CAA9C,CAAsDgH,CAAC,CAACujC,CAAF,CAAIj0B,CAAC,CAACmB,CAAC,CAAC,CAAR,CAAU,CAAC,CAA9V,MAAoW,CAApW,EAAuW,KAAK/O,CAAC,CAAC,EAAEiiI,EAAE,CAAC3qI,CAAC,EAAEylB,CAAC,CAACze,CAAC,CAAC,CAAC,CAAH,CAAK,CAAT,CAAD,EAAc,CAAf,CAAN,CAAwB,EAAEA,CAAC,GAAG,CAAJ,EAAOjJ,CAAC,GAAG,CAAb,GAAiB,EAAEkvI,EAAE,CAAC,IAAIvkI,CAAL,CAAlD,EAA2D1B,CAAC,CAACye,CAAF,CAAI,CAACglB,CAAC,CAAC,KAAK,EAAEkgG,EAAE,CAAC3qI,CAAC,CAACjC,CAAF,EAAK,CAAN,CAAT,EAAmB4tC,CAAC,CAAC,CAAF,CAAI,CAAvB,CAAyB5tC,CAA5B,IAAiC,CAAjC,CAAmC,CAACiJ,CAAC,CAAC,IAAI0B,CAAC,EAAE,EAAH,EAAO,EAAX,CAAc+c,CAAd,CAAgBze,CAAnB,IAAwB,CAA3D,CAA6DkkI,EAAE,CAACv/F,CAAC,CAAC,EAAEkgG,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAP,CAAa7J,CAAC,CAACyqC,CAAF,CAAI,CAAjB,CAAmBzjC,CAAC,CAACyjC,CAAF,CAAI,CAAvB,CAA/D,CAAyFkB,CAAC,CAAC,CAA3F,CAA6Fl0B,CAAC,GAAG,CAAJ,CAAMnB,CAAC,GAAG,CAAV,CAAY40H,EAAE,CAACzgG,CAAC,CAAC,EAAEohG,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAP,CAAa7J,CAAC,CAACyX,CAAF,CAAI,CAAjB,CAAmBnB,CAAC,CAACmB,CAAF,CAAI,CAAvB,CAAd,CAAwCgzB,CAAC,CAAC,CAAvI,CAAyIzjC,CAAC,CAACujC,CAAC,CAAC,CAAF,CAAI,CAA/I,CAAiJA,CAAC,CAACE,CAAnJ,CAAqJ,CAAC,CAAt2C,MAA42C,CAA52C,EAA+2C,GAAG,KAAK,EAAEu/C,CAAP,CAAH,CAAa,CAAC,GAAGv/C,CAAH,CAAK,CAAC,IAAIhlB,CAAC,CAAC,EAAEomH,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAN,CAAY4gC,CAAC,CAAC,CAAlB,CAAoB,EAAE7wB,CAAC,GAAG,CAAJ,EAAO6wB,CAAC,GAAG,CAAb,CAApB,EAAqC,IAAI,CAACkB,CAAC,CAAC,EAAEg/F,EAAE,CAAC3qI,CAAC,CAACyqC,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA1B,CAA6B,KAAK,EAAEkgG,EAAE,CAAC3qI,CAAC,EAAEyqC,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAT,GAAyB0gG,EAAE,CAAC1lH,CAAD,CAAG,EAAH,CAAxD,CAA+D0lH,EAAE,CAAC1lH,CAAD,CAAG,IAAIkmB,CAAP,CAAjE,CAA2ElB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAjF,CAAmFkB,CAAC,CAAC,EAAE8+F,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAN,CAAaglB,CAAC,CAAC,EAAEggG,EAAE,CAAChlH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAnB,CAA4B,CAA1J,IAA+JkmB,EAAC,CAAC3rC,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQyqC,CAAC,CAACD,CAAV,CAAY,GAAG,EAAEC,CAAC,CAAC,EAAEw+F,CAAC,CAACp/H,CAAC,CAAC,GAAF,CAAM,CAAP,CAAS8hC,CAAT,CAAWlB,CAAX,CAAP,CAAH,CAAyB,CAACA,CAAC,CAACH,CAAF,CAAItjC,CAAC,CAACm1B,CAAN,CAAQ6tD,CAAC,CAAC,EAAV,CAAa,MAAM,CAAAz/C,CAAC,CAAC,EAAEkgG,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAN,CAAekB,CAAC,CAAC,EAAE8+F,EAAE,CAAChgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAArB,CAA8B,CAAAhlB,CAAC,CAAC,EAAE7L,CAAC,GAAG,CAAN,EAAS6wB,CAAC,CAAC,EAAEohG,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAN,CAAY6gC,CAAC,CAACwgG,EAAE,CAACzgG,CAAD,CAAGzqC,CAAC,CAAC,CAAF,CAAI,CAAP,CAASwqC,CAAT,CAAH,EAAgBohG,EAAE,CAACnhG,CAAD,CAAG5gC,CAAH,CAAK7J,CAAC,EAAEyqI,EAAE,CAAC,CAAChlH,CAAC,CAAC5b,CAAC,CAAC,GAAF,CAAM,CAAT,GAAa,CAAd,CAAF,CAAmB,CAArB,CAAD,CAAyB,CAA9B,CAAgC2gC,CAAhC,CAAF,CAAqCigG,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAF,CAAS,CAA9D,CAAb,CAA8EglB,CAAvF,EAA0F,CAA5F,CAA8FkB,CAAC,EAAE1X,CAAC,CAACvrB,CAAC,CAAC,EAAEmjI,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAP,CAAa8hC,CAAb,CAAD,CAAiBlB,CAAC,CAACC,CAAC,EAAE,GAAGiB,CAAC,CAAC,EAAE8+F,EAAE,CAAC,CAAChgG,CAAC,CAACJ,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAT,GAA0B,KAAK,EAAEsgG,EAAE,CAAC,CAAC,EAAEF,EAAE,CAACpgG,CAAC,EAAE,CAAJ,CAAL,GAAcpjC,CAAC,CAAC0kC,CAAC,CAAC,CAAC,CAAH,CAAK,CAArB,GAAyB,CAA1B,CAAT,CAA1B,GAAmE8+F,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAASxjC,CAA5E,EAA+E,EAAE85C,EAAE,CAAC,EAAE0pF,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAL,CAAF,CAAkBwgC,CAAlB,CAAoB3hC,CAApB,CAAsB6hC,CAAtB,CAAwB9kB,CAAxB,CAA0B,EAAEglH,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAA9B,CAAnF,EAA8H,EAAEk3C,EAAE,CAAC,EAAE0pF,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAL,CAAF,CAAkBwgC,CAAlB,CAAoB3hC,CAApB,CAAsB6hC,CAAtB,CAAwB9kB,CAAxB,CAA0B,EAAEglH,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAA9B,CAApJ,CAA8L4gI,EAAE,CAACtuG,CAAC,EAAE,CAAJ,CAAF,CAASmO,CAAvM,CAAyMG,CAAC,GAAGu/C,CAAC,CAAC,EAAL,CAA5M,GAAuNv/C,CAAC,CAACH,CAAF,CAAItjC,CAAC,CAACm1B,CAAN,CAAQ6tD,CAAC,CAAC,EAAjO,CAA/F,CAAoU,CAAC,CAAxzE,MAA8zE,CAA9zE,EAAi0E,MAAO,MAAK,EAAEA,CAAP,IAAYygD,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAASyjC,CAAT,CAAWu/C,CAAC,CAAC,EAAzB,EAA6B,KAAK,EAAEA,CAAP,IAAYhjF,CAAC,CAAC,CAAd,CAA7B,CAA8C,EAAEA,CAAvD,CAAyD,CAA9lK,CAA+lK,SAASqjC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC+zB,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAe,GAAIylB,EAAC,CAAC,CAAN,CAAQ8kB,CAAC,CAAC6gG,EAAV,CAAaA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAWpkI,CAAC,CAAC,CAACyjI,EAAE,CAAC,CAAChgG,CAAC,CAACF,CAAC,CAAC,EAAF,CAAK,CAAR,GAAY,CAAb,CAAF,CAAkB,CAAnB,EAAsBvqC,CAAnC,CAAqCsW,CAAC,EAAE,CAAxC,CAA0C,GAAImB,EAAC,CAAC,EAAEgzB,CAAR,CAAUC,CAAC,CAAC,CAAZ,CAAcvO,CAAC,CAAC,CAAhB,CAAkBmO,CAAC,CAAC,CAApB,CAAsBD,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG/zB,CAAC,GAAG,CAAP,EAAU,KAAK,EAAEq0H,EAAE,CAAC3jI,CAAC,EAAE,CAAJ,CAAT,CAAV,EAA4B,IAAI,EAAE+jI,EAAE,CAAC,EAAEC,EAAE,CAAChkI,CAAC,EAAE0jC,CAAC,CAAC,KAAK,EAAEigG,EAAE,CAAC3jI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,EAAmB,CAAnB,CAAqB,CAAzB,CAAD,EAA8B,CAA/B,CAAL,CAAR,CAA/B,CAAgF,CAACyjI,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAT,CAAW5N,CAAC,CAAC,KAAK,EAAEyM,CAAC,GAAG,CAAJ,EAAOo0B,CAAC,GAAG,CAAb,CAAL,EAAsB,CAAC,GAAIzjC,EAAC,CAAC,EAAE0jI,EAAE,CAAC3jI,CAAC,CAAC0jC,CAAF,EAAK,CAAN,CAAV,CAAmB,GAAG,EAAE,EAAEqgG,EAAE,CAAC,IAAI9jI,CAAL,CAAN,CAAH,CAAkB,OAAOA,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ,KAAM4C,EAAN,CAAxD,CAAgE6gC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAG,EAAEA,CAAC,GAAG,CAAT,CAAW,CAAC,GAAIs/C,EAAJ,CAAMpwE,CAAC,CAAC,EAAE+wH,EAAE,CAAC,CAAC1jI,CAAC,CAACD,CAAC,CAAC0jC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAZ,CAA2B,GAAGs/C,CAAC,CAAC,IAAIpwE,CAAC,EAAE,EAAH,EAAO,EAAhB,CAAmB,CAAC,GAAI+xB,EAAJ,CAAMnB,CAAC,CAACvjC,CAAR,CAAUlJ,CAAC,CAACuY,CAAC,CAACo0B,CAAF,CAAI,CAAhB,CAAkBF,CAAC,EAAE,CAAH,CAAKzsC,CAAC,EAAE,CAAR,CAAU,GAAIiM,EAAC,CAAC,CAAN,CAAQ/C,CAAC,CAAC0kC,CAAC,CAAC,CAAJ,CAAM9hC,CAAC,CAAC,OAAO,CAAC,GAAG9L,CAAC,GAAG,CAAJ,EAAOkJ,CAAC,GAAG,CAAd,CAAgB,CAAC0kC,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAq+C,CAAC,CAAC,EAAE2gD,EAAE,CAACngG,CAAC,CAACvjC,CAAF,EAAK,CAAN,CAAN,CAAejH,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE+qI,EAAE,CAAC,IAAI/gD,CAAL,CAAN,CAAH,CAAkB,CAAC,OAAOA,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQhgF,CAAC,CAAC,CAAF,CAAI,KAAMH,EAAN,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,KAAM7J,EAAN,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ2rC,CAAC,CAAC,CAAF,CAAI,KAAM9hC,EAAN,CAAhG,CAAwG8hC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAC,CAAvI,MAA6I,CAA7I,EAAgJ1kC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,KAAI,EAAE+C,CAAN,IAAW2hC,CAAC,CAAC,IAAI,EAAEA,CAAN,EAAS1kC,CAAC,CAAC,CAAF,CAAI,CAAb,CAAe,CAA5B,EAA+B+iF,CAAC,CAAC,GAAG7tD,CAAC,CAAC,EAAEwP,CAAP,CAAjC,CAA2C,IAAGq+C,CAAH,CAAK,CAACygD,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAT,CAAWxQ,CAAC,CAACk1B,CAAC,CAACuO,CAAF,CAAI,CAAjB,CAAmB,MAAM,CAAAzjC,CAAC,CAAC,EAAEyjC,CAAC,GAAG,CAAN,CAAQ,IAAI9wB,CAAC,EAAE,EAAH,EAAO,EAAX,EAAe8wB,CAAC,CAACA,CAAC,EAAE+/F,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAX,CAAD,CAAe,CAAjB,CAAmB,CAAlC,EAAqC,CAA7C,EAAgDizB,CAAC,CAAC,CAAF,CAAI,CAApD,CAAF,CAAyD,CAAtb,IAA2bzjC,EAAC,CAAC,CAAF,CAAI,GAAGyjC,CAAC,GAAG,CAAJ,CAAMp0B,CAAC,GAAG,CAAb,CAAe,CAAC,GAAGrP,CAAH,CAAK,CAAC2S,CAAC,CAAC8wB,CAAF,CAAI7gC,CAAC,CAAC,OAAO,CAAC,GAAGyM,CAAC,GAAG,CAAJ,EAAOsD,CAAC,GAAG,CAAd,CAAgB,CAAC3S,CAAC,CAAC,CAAF,CAAI,KAAMojC,EAAN,CAAQ,QAAO,CAACpjC,CAAC,CAAC,EAAE0jI,EAAE,CAAC3jI,CAAC,CAAC4S,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA7B,EAAiC,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,KAAM/P,EAAN,CAAQ,IAAK,GAAL,CAAQ5C,CAAC,CAAC,CAAF,CAAI,MAAM,QAAQA,CAAC,CAAC,CAAF,CAA3G,CAA+G2S,CAAC,CAACA,CAAC,CAAC3S,CAAF,CAAI,CAAN,CAAQ,IAAGyjC,CAAC,GAAG,CAAJ,CAAM9wB,CAAC,GAAG,CAAV,CAAY,IAAI3S,CAAC,EAAE,EAAH,EAAO,EAA1B,CAA6B,CAACA,CAAC,CAAC2S,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,MAAM,CAAA8wB,CAAC,CAAC9wB,CAAF,CAAI0wB,CAAC,CAAC,EAAN,CAAS,CAAC,CAA9O,IAAmPA,EAAC,CAAC,EAAF,CAAK,IAAI,KAAK,EAAEA,CAAP,IAAYmgG,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAAS,CAArB,CAAJ,GAA8B,CAAC,GAAGnB,CAAC,GAAG,CAAJ,EAAOo0B,CAAC,GAAG,CAAd,CAAgB,CAACzjC,CAAC,CAAC,CAAF,CAAI,KAAMojC,EAAN,CAAQ,IAAGpjC,CAAC,CAACyjC,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,KAAK,EAAEigG,EAAE,CAAC3jI,CAAC,CAAC0jC,CAAF,EAAK,CAAN,CAAT,CAAX,CAA8B,MAAMA,CAAC,CAACzjC,CAAF,CAAI,CAAC,CAA9/B,IAAmgCA,EAAC,CAAC,CAAF,CAAI,CAA1gC,MAAghC,CAAhhC,EAAmhCD,CAAC,CAAC,EAAEC,CAAJ,CAAMwjI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAF,CAASvqC,CAAf,CAAiByqI,EAAE,CAAC,CAAChzH,CAAC,CAAC8yB,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAF,CAAiBvjC,CAAlC,CAAoCyjI,EAAE,CAAClgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAA/C,CAAiDkgG,EAAE,CAAClgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAA7D,CAA+D,EAAE,CAAC,GAAG,EAAEvjC,CAAC,GAAG,CAAT,CAAW,CAAC,GAAG,IAAI,EAAEyjI,EAAE,CAAC,CAACn0H,CAAC,CAACzM,CAAC,CAAC,EAAF,CAAK,CAAR,GAAY,CAAb,CAAR,EAAyB,IAAI,GAAG4gC,CAAC,CAAC,EAAEggG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAT,CAAJ,CAA5B,CAAkDC,CAAC,CAAC,EAAEmhG,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAN,CAAY4gI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAF,CAASvqC,CAAC,CAAC,CAAvB,CAAyByqI,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAF,CAASzQ,CAAC,CAAC,CAAC,CAArC,CAAuCitB,CAAC,CAACyW,CAAD,CAAGH,CAAH,CAAxC,CAA8CE,CAAC,CAAC,EAAEijG,EAAE,CAAC,EAAEjD,EAAE,CAACn0H,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAe+zB,CAAf,CAAiBK,CAAjB,CAAmBD,CAAnB,CAAqB,EAAEggG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAzB,CAAlD,CAAuFkiI,EAAE,CAACliI,CAAD,CAAG,CAAH,CAAzF,CAAlD,IAAqJ,CAAC,GAAG,EAAE4gC,CAAC,CAAC,EAAEggG,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAR,CAAH,CAAsB,CAAC4b,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAglB,CAAC,CAAC,EAAEgjG,EAAE,CAAC,GAAGhjG,CAAJ,CAAF,CAASJ,CAAT,CAAWE,CAAX,CAAa,EAAEkgG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAjB,CAAJ,CAAiC,CAAA4gC,CAAC,GAAGhlB,CAAC,CAAC,CAAL,CAAD,CAAS,CAA7O,IAAkPA,EAAC,CAAC,CAAF,CAAI,CAAzP,MAA+P,CAA/P,EAAkQ,MAAO,KAAI,EAAEA,CAAN,IAAWze,CAAC,CAAC,CAAb,EAAgBokI,EAAE,CAAC7gG,CAAnB,CAAqB,EAAEvjC,CAA9B,CAAgC,CAAvkN,CAAwkN,SAASqjC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC+zB,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAesW,CAAC,EAAE,CAAlB,CAAoB,GAAImP,EAAC,CAAC2lH,EAAN,CAAS,MAAOA,GAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAWX,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAF,CAAS,CAApB,CAAsBglH,EAAE,CAAChlH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAjC,CAAmCglH,EAAE,CAAChlH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAA9C,CAAgDze,CAAC,CAAC,EAAEsP,CAAC,IAAIm0H,EAAE,CAAChlH,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAhB,CAAH,CAAsB,EAAE2lB,CAAC,CAAC,IAAD,CAAMpkC,CAAC,CAAC,EAAEgkI,EAAE,CAAC,CAAChrI,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAZ,CAA2B,EAA3B,CAAH,EAAmC,CAACyqC,CAAC,CAAC,EAAEggG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAP,GAAoB4gI,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAF,CAASzlB,CAAT,CAAWyqI,EAAE,CAAChlH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAtB,CAAwB0oH,EAAE,CAAC,EAAE1jG,CAAH,CAAF,CAAQJ,CAAR,CAAU5kB,CAAV,CAAY,EAAEglH,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAhB,CAA5C,EAAyEshI,EAAE,CAAC9gG,CAAD,CAAGrjC,CAAH,CAA3E,CAAiF,CAApH,EAAuH,CAA7I,EAAgJ,IAAI,EAAEsP,CAAN,GAAU60H,EAAE,CAAC9gG,CAAD,CAAG,EAAE2gG,EAAE,CAAChrI,CAAC,EAAE,CAAJ,CAAP,CAAZ,CAA2B,CAA3K,CAAlD,CAAgOorI,EAAE,CAAC3lH,CAAnO,CAAqO,EAAEze,CAA9O,CAAgP,CAA32N,CAA42N,SAASqjC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC+zB,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAesW,CAAC,EAAE,CAAlB,CAAoB,GAAImP,EAAC,CAAC,CAAN,CAAQ8kB,CAAC,CAAC6gG,EAAV,CAAa,GAAGA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAWX,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAApB,CAAsBkgG,EAAE,CAAClgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAjC,CAAmCkgG,EAAE,CAAClgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAA9C,CAAgD,EAAEj0B,CAAC,IAAIm0H,EAAE,CAAClgG,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAhB,CAAtD,EAAyE,GAAGE,CAAC,CAAC,CAACzjC,CAAC,CAAC,KAAK,EAAE2jI,EAAE,CAAC3qI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAH,EAAuB,CAAvB,CAAyB,CAA3B,CAA6BgH,CAAC,CAACyjC,CAAC,GAAG,CAAJ,CAAMn0B,CAAC,GAAG,CAA5C,CAA8C,CAAC,GAAImB,EAAC,CAAC,MAAM,EAAE20H,CAAC,CAAC,EAAEpB,EAAE,CAAChrI,CAAC,CAACyqC,CAAF,EAAK,CAAN,CAAL,CAAT,CAAN,CAA+BC,CAAC,CAAC,EAAEjzB,CAAnC,CAAqC0kB,CAAC,CAAC,CAAvC,CAAyC1kB,CAAC,CAACgzB,CAAC,EAAE,EAAEhzB,CAAJ,CAAD,CAAQ,CAAV,CAAY,CAApG,IAAyGizB,EAAC,CAAC,CAAF,CAAIvO,CAAC,CAACn1B,CAAN,CAAQyQ,CAAC,CAACgzB,CAAV,CAAlL,KAAmMtO,EAAC,CAAC,CAAF,CAAI1kB,CAAC,CAACizB,CAAC,CAAC,CAAR,CAAU,GAAIJ,EAAC,CAAC7yB,CAAN,CAAQ4yB,CAAC,CAAC,OAAO,CAAC,GAAG/zB,CAAC,GAAG,CAAJ,EAAOg0B,CAAC,GAAG,CAAd,CAAgB,CAACtjC,CAAC,CAAC,CAAF,CAAI,MAAM,IAAGyjC,CAAC,CAAC,CAACzjC,CAAC,CAAC,EAAE2jI,EAAE,CAAC3qI,CAAC,CAACsqC,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAAxB,CAA2BI,CAA9B,CAAgC,CAAC,GAAGvO,CAAH,CAAK,CAAC,GAAG,EAAE,CAACsO,CAAC,CAAC,CAAC,EAAH,CAAM,CAAP,IAAY,CAAZ,CAAc,EAAhB,CAAH,CAAuB,CAAChlB,CAAC,CAAC,EAAF,CAAK,KAAM4kB,EAAN,CAAQ,CAAC,CAA5C,IAAiD,IAAG,EAAE,EAAE0gG,EAAE,CAACtgG,CAAD,CAAN,CAAH,CAAc,CAAChlB,CAAC,CAAC,EAAF,CAAK,KAAM4kB,EAAN,CAAQ,CAAC,CAA/G,IAAoH,IAAG,EAAE,GAAG,CAAC,CAAC,IAAII,CAAC,EAAE,CAAP,CAAD,EAAY,EAAZ,CAAe,CAAhB,IAAqB,CAArB,CAAuB,CAAvB,CAAyB,IAAI,CAAC,CAAC,EAAEA,CAAH,EAAM,EAAN,CAAS,CAAV,IAAe,CAAf,CAAiB,EAAjB,CAAoB,CAAxB,CAA5B,EAAwD,CAA1D,CAAH,CAAgE,CAAChlB,CAAC,CAAC,EAAF,CAAK,KAAM4kB,EAAN,CAAQ,CAAAC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAE,CAAC,GAAG,KAAK,EAAE7kB,CAAP,CAAH,CAAa,GAAGhO,CAAC,GAAG,CAAJ,CAAM6yB,CAAC,GAAG,CAAV,CAAY,IAAItjC,CAAC,EAAE,EAAH,EAAO,EAA1B,CAA6B,CAAC,GAAGA,CAAC,CAACsjC,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQnO,CAAX,CAAa,CAAC,GAAG,EAAE,CAACmO,CAAC,CAAC7yB,CAAF,CAAI,CAAL,IAAU,CAAf,CAAiB,CAACzQ,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAyjC,CAAC,CAACzqC,CAAC,CAACyX,CAAF,CAAI,CAAN,CAAQ,GAAIxQ,EAAC,CAAC,GAAGqP,CAAC,CAACo0B,CAAC,CAAC,EAAD,CAAI,EAAV,CAAN,CAAoBD,CAAC,EAAE,CAAH,CAAKxjC,CAAC,EAAE,CAAR,CAAUmkI,EAAE,CAAC,CAAC90H,CAAC,CAAC80H,EAAH,EAAO,GAAP,CAAW,CAAxB,CAA0B,GAAIphD,EAAJ,CAAMpwE,CAAC,CAACtD,CAAR,CAAUm0H,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAT,CAAW6wH,EAAE,CAAC7wH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW6wB,CAAtB,CAAwBggG,EAAE,CAAC7wH,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY6wB,CAApC,CAAsCggG,EAAE,CAAC7wH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAW,CAAC,EAAE6wB,CAAH,EAAM,CAAN,CAAQ,CAAC,CAAT,CAAWA,CAAC,CAAC,UAAF,CAAa,CAAzE,CAA2EggG,EAAE,CAAC7wH,CAAC,CAAC,EAAF,EAAM,CAAP,CAAF,CAAY,CAAC,CAAxF,CAA0FyyH,CAAC,CAACzyH,CAAD,CAA3F,CAA+F6wB,CAAC,CAAC7wB,CAAjG,CAAmG,GAAI+xB,EAAC,CAAC1kC,CAAN,CAAQwjC,CAAC,EAAE,CAAH,CAAKkB,CAAC,EAAE,CAAR,CAAU,GAAInB,EAAC,CAAC,CAAN,CAAQH,CAAC,CAAC,EAAE,CAAC,GAAG,GAAGsB,CAAC,GAAG,CAAV,CAAY,GAAI5tC,EAAC,CAACisF,CAAC,CAAC,CAAR,CAAZ,IAA0B,CAAC,IAAIpwE,CAAC,CAAC6wB,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQxjC,CAAC,CAACwjC,CAAC,CAAC,GAAF,CAAM,CAApB,CAAsB,IAAI,EAAE4X,CAAC,CAAC2nC,CAAC,CAAC,CAACA,CAAC,CAAC,EAAEygD,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAjB,CAAmB,CAAC,EAAE6wH,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAlC,EAAqCwjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAASowE,CAAC,CAAC,CAAX,CAAa,EAAEghD,EAAE,CAAChhD,CAAC,EAAE,CAAJ,CAAtD,EAA8D,EAAEl/C,CAAC,CAACL,CAAD,CAApE,CAAP,CAAtB,EAAwG,CAAC5gC,CAAC,CAAG,CAAC,OAAO,EAAEmgF,CAAT,EAAY,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,GAAGA,CAAC,CAAC,CAAC,KAAK,EAAEA,CAAP,CAAD,GAAa,EAAb,EAAiB,EAAnB,CAAsB,CAACjsF,CAAC,CAAC,EAAE0sI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAjB,CAAmB,CAAC,EAAE6wH,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAA3D,CAA6D,CAACwjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAAS7b,CAAC,CAAC,CAAX,CAAa,GAAIiM,EAAC,CAACggF,CAAN,CAAQA,CAAC,CAAC,EAAEghD,EAAE,CAACjtI,CAAC,EAAE,CAAJ,CAAN,CAAa,CAAhG,IAAqGiM,EAAC,CAACggF,CAAF,CAAIA,CAAC,CAAC,EAAEl/C,CAAC,CAACL,CAAD,CAAT,CAAa,KAAM5gC,EAAN,CAAQ,QAAQG,CAAC,CAAC,CAAF,CAA9J,CAAmK,CAAS,GAAGjM,CAAC,CAAC,IAAI,EAAE4tC,CAAN,CAAF,CAAW,KAAK,GAAGA,CAAR,EAAW,KAAK,EAAEq+C,CAAP,CAAzB,EAAmC,GAAG,MAAM,IAAIA,CAAC,CAAC,CAACA,CAAC,CAAC,EAAEygD,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAjB,CAAmB,CAAC,EAAE6wH,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAlC,EAAqCwjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAASowE,CAAC,CAAC,CAAX,CAAa,EAAEghD,EAAE,CAAChhD,CAAC,EAAE,CAAJ,CAAtD,EAA8D,EAAEl/C,CAAC,CAACL,CAAD,CAAvE,CAAN,CAAH,EAAsF,GAAG1sC,CAAH,CAAK,CAACA,CAAC,CAAC,CAAF,CAAI,GAAI2K,EAAC,CAAC,EAAN,CAAS,CAAnB,IAAwB3K,EAAC,CAAC4tC,CAAF,CAAIjjC,CAAC,CAAC,EAAN,CAA9G,KAA2H,CAAC,GAAGshF,CAAC,CAAC,CAACA,CAAC,CAAC,EAAEygD,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAjB,CAAmB,CAAC,EAAE6wH,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAlC,EAAqCwjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAASowE,CAAC,CAAC,CAAX,CAAa,EAAEghD,EAAE,CAAChhD,CAAC,EAAE,CAAJ,CAAtD,EAA8D,EAAEl/C,CAAC,CAACL,CAAD,CAAnE,CAAuE,IAAI,EAAEugG,EAAE,CAAC,KAAKhhD,CAAL,EAAQ,CAAT,CAAR,CAA1E,CAA+F,CAAC,GAAG,EAAE,EAAEygD,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAN,CAAH,CAAiB,CAAClJ,CAAC,CAACisF,CAAC,CAAC,CAAJ,CAAM,KAAM3/C,EAAN,CAAQ,CAAAogG,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAC,EAAE6wH,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAL,EAAa,CAAtB,CAAwB7b,CAAC,CAACisF,CAAC,CAAC,CAA5B,CAA8B,KAAM3/C,EAAN,CAAQ,CAAAtsC,CAAC,CAAC,EAAF,CAAK2K,CAAC,CAAC,EAAP,CAAU,CAA/U,KAAmV,CAAC,GAAG,EAAE,CAAC,EAAEsiI,EAAE,CAAC,KAAKhhD,CAAL,EAAQ,CAAT,CAAL,IAAoB,CAApB,CAAsB,CAACjsF,CAAC,CAACA,CAAC,CAAC,EAAD,CAAI4tC,CAAR,IAAa,CAArC,CAAH,CAA2C,CAAC,EAAE8+F,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAJ,GAAawjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAC,EAAE6wH,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAL,EAAa,CAAnC,EAAsCyyH,CAAC,CAAC5hG,CAAD,CAAvC,CAA2C1sC,CAAC,CAACisF,CAAC,CAAC,CAA/C,CAAiD,KAAM3/C,EAAN,CAAQ,CAAA3hC,CAAC,CAAC,EAAF,CAAK,CAAAmB,CAAC,CAAG,CAAC,GAAG,KAAK,EAAEnB,CAAP,CAAH,CAAa,GAAG,KAAK,EAAE3K,CAAP,CAAH,EAAa,GAAG,CAACisF,CAAC,CAACA,CAAC,CAAC,CAAC,EAAH,CAAM,CAAT,IAAc,CAAd,CAAgB,EAAnB,CAAsB,CAACr+C,CAAC,CAAC,CAAF,CAAI,IAAI,GAAI1X,EAAC,CAAC+1D,CAAV,CAAYr+C,CAAC,CAAC,CAAC,GAAGA,CAAH,CAAK,CAAN,EAAS1X,CAAT,CAAW,CAAb,CAAe,CAACl2B,CAAC,CAAC,CAACk2B,CAAC,CAAC,CAAC+1D,CAAC,CAAC,CAACA,CAAC,CAAC,EAAEygD,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAjB,CAAmB,CAAC,EAAE6wH,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAlC,EAAqCwjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAASowE,CAAC,CAAC,CAAX,CAAa,EAAEghD,EAAE,CAAChhD,CAAC,EAAE,CAAJ,CAAtD,EAA8D,EAAEl/C,CAAC,CAACL,CAAD,CAApE,EAAyE,EAAzE,CAA4E,CAA/E,IAAoF,CAApF,CAAsF,EAAzF,EAA6FkB,CAAC,GAAG,CAAJ,CAAM,SAA9H,EAAyI,CAAC,GAAG5tC,CAAH,CAAK,CAAC,GAAI8sC,EAAC,CAACc,CAAN,CAAQA,CAAC,CAAC,CAAF,CAAI,EAAE,CAAC5tC,CAAC,CAAC,EAAEyuI,CAAC,CAAC,EAAE3hG,CAAH,CAAK,EAAEc,CAAP,CAAS,EAAT,CAAY,CAAZ,CAAL,CAAoB,GAAIZ,EAAC,CAAC,CAAC,CAAC,EAAE9W,CAAH,EAAM,CAAP,GAAW,EAAX,EAAe,EAArB,CAAwB0b,CAAC,CAAC,CAAC5E,CAA3B,CAA6B,GAAG4E,CAAC,GAAG,CAAJ,CAAM,CAACnF,CAAC,CAAC,EAAE2iG,EAAE,EAAP,IAAa,CAAnB,CAAqB,CAAC,EAAE3iG,CAAH,IAAQ,EAAEmF,CAAV,EAAa,CAAC1b,CAAD,GAAK,CAAL,CAAOl2B,CAAC,GAAG,CAAhD,CAAkD,CAACA,CAAC,CAAC,EAAF,CAAKysC,CAAC,CAACK,CAAP,CAASniC,CAAC,CAAC,EAAX,CAAc,KAAMmB,EAAN,CAAQ,CAAAghC,CAAC,CAAC,EAAEzD,CAAC,CAAC,EAAErpC,CAAH,CAAK,EAAEysC,CAAP,CAAS,EAAEvW,CAAX,CAAa,EAAE8W,CAAf,CAAL,CAAuBY,CAAC,CAAC,EAAEwhG,EAAE,EAA7B,CAAgCl5G,CAAC,CAAC,CAAC+1D,CAAC,CAAC,CAACA,CAAC,CAAC,EAAEygD,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAjB,CAAmB,CAAC,EAAE6wH,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAlC,EAAqCwjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAASowE,CAAC,CAAC,CAAX,CAAa,EAAEghD,EAAE,CAAChhD,CAAC,EAAE,CAAJ,CAAtD,EAA8D,EAAEl/C,CAAC,CAACL,CAAD,CAApE,EAAyE,EAAzE,CAA4E,CAA9G,CAAgH,CAA7O,MAAmPxW,CAAC,GAAG,CAAJ,CAAM,EAAN,EAAU0X,CAAC,GAAG,CAAJ,CAAM,SAAN,CAAgB,YAAY,EAAEA,CAAd,EAAiBd,CAAC,GAAG,CAAJ,CAAM,UAAjD,CAAnP,EAAiT,EAAE5W,CAAC,GAAG,CAAN,EAASl2B,CAAC,CAAC4tC,CAAF,CAAIq+C,CAAC,CAACn/C,CAAf,GAAmB9sC,CAAC,CAAC,EAAF,CAAKysC,CAAC,CAACK,CAAP,CAASniC,CAAC,CAAC,EAA9B,EAAkC,CAArW,IAA0W3K,EAAC,CAAC,CAAF,CAAIisF,CAAC,CAACr+C,CAAN,CAAQ,CAAvhB,IAA4hBq+C,EAAC,CAACjsF,CAAC,CAAC,CAAJ,CAAziB,KAAojB2K,EAAC,CAAC,EAAF,CAAK,CAASmB,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,EAAEnB,CAAP,CAAH,CAAa,CAAC,GAAG,EAAE3K,CAAC,CAAC,CAAC,CAAH,CAAKA,CAAP,CAAH,CAAa,CAAC,GAAG4xC,CAAC,CAAC,EAAEg7F,EAAE,CAAC,MAAM,CAAC,GAAG5sI,CAAH,CAAK,CAAN,IAAW,CAAX,CAAa,CAAnB,GAAuB,CAAxB,CAAN,CAAiC,CAAC4tC,CAAC,CAAC,KAAK1X,CAAC,CAAC,EAAE02G,EAAE,CAAC,KAAK3gD,CAAL,EAAQ,CAAT,CAAX,CAAH,IAA8B,CAA9B,CAAgCjsF,CAAC,GAAG,CAAxE,CAA0E,CAAC,IAAIysC,CAAC,CAAC,CAAN,CAAQA,CAAC,CAACmB,CAAC,CAACnB,CAAC,EAAEmF,CAAP,CAASq6C,CAAC,CAAC,CAACA,CAAC,CAAC,EAAEygD,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAjB,CAAmB,CAAC,EAAE6wH,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAlC,EAAqCwjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAASowE,CAAC,CAAC,CAAX,CAAa,EAAEghD,EAAE,CAAChhD,CAAC,EAAE,CAAJ,CAAtD,EAA8D,EAAEl/C,CAAC,CAACL,CAAD,CAA5E,CAAgFD,CAAC,GAAG,CAAJ,CAAM,SAAN,CAAgB,CAACmB,CAAC,CAAC,KAAK1X,CAAC,CAAC,EAAE02G,EAAE,CAAC,KAAK3gD,CAAL,EAAQ,CAAT,CAAX,CAAH,IAA8B,CAA9B,CAAgCjsF,CAAC,GAAG,CAA5I,EAA+I,CAACgtC,CAAC,CAACY,CAAF,CAAIA,CAAC,CAAC,CAAN,CAAQ,CAAnO,IAAwOZ,EAAC,CAACY,CAAF,CAAInB,CAAC,CAACmB,CAAC,CAAC,CAAR,CAAU,GAAGd,CAAC,CAAC,EAAE0pC,EAAE,CAAC,CAAC,CAAF,CAAI,CAAC,CAAL,CAAO,EAAE5kC,CAAT,CAAN,CAAkB5xC,CAAC,GAAG,CAAJ,EAAOgtC,CAAC,GAAG,CAAX,CAAa,CAACriC,CAAC,CAAC,EAAEykI,EAAE,EAAP,IAAa,CAAb,CAAexhG,CAAC,GAAG,CAAhC,CAAkC,CAAC,EAAEjjC,CAAH,IAAQ,EAAEijC,CAAV,EAAad,CAAC,GAAG,CAAJ,CAAML,CAAC,GAAG,CAA9E,CAAgF,CAAC9hC,CAAC,CAAC,EAAF,CAAK,MAAM,QAAO,GAAG8hC,CAAC,CAAC,EAAEmiG,EAAE,CAAC,EAAEniG,CAAH,CAAK,EAAEmB,CAAP,CAAS,EAAEgE,CAAX,CAAN,CAAoBhE,CAAC,CAAC,EAAEwhG,EAAE,EAA1B,CAA6B3iG,CAAC,EAAE,IAAIvW,CAApC,CAAsC+1D,CAAC,CAAC,CAACA,CAAC,CAAC,EAAEygD,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAjB,CAAmB,CAAC,EAAE6wH,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAlC,EAAqCwjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAASowE,CAAC,CAAC,CAAX,CAAa,EAAEghD,EAAE,CAAChhD,CAAC,EAAE,CAAJ,CAAtD,EAA8D,EAAEl/C,CAAC,CAACL,CAAD,CAAzG,CAA6G1sC,CAAC,GAAG,CAAJ,EAAO,CAAC,KAAKk2B,CAAC,CAAC,EAAE02G,EAAE,CAAC,KAAK3gD,CAAL,EAAQ,CAAT,CAAX,CAAD,IAA4B,CAAnC,CAAqCthF,CAAC,GAAG,CAAJ,CAAMijC,CAAC,GAAG,CAA/C,CAAiD,CAAC,EAAEA,CAAH,IAAQ,EAAEjjC,CAAV,EAAamiC,CAAC,GAAG,CAAJ,CAAML,CAAC,GAAG,CAAxL,CAA0L,CAAC9hC,CAAC,CAAC,EAAF,CAAK,KAAMmB,EAAN,CAAQ,CAAC,IAAG,CAACoqB,CAAC,CAAC,KAAK0X,CAAC,CAAC,EAAEg/F,EAAE,CAAC,KAAK3gD,CAAL,EAAQ,CAAT,CAAX,CAAH,IAA8B,CAA9B,CAAgCjsF,CAAC,GAAG,CAAvC,CAAyC,CAAC,IAAIysC,CAAC,CAAC,CAAN,CAAQA,CAAC,CAACvW,CAAC,EAAE,EAAEo3G,EAAE,CAAC7gG,CAAD,CAAGzsC,CAAH,CAAN,CAAD,CAAc,CAAhB,CAAkBisF,CAAC,CAAC,CAACA,CAAC,CAAC,EAAEygD,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAjB,CAAmB,CAAC,EAAE6wH,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAlC,EAAqCwjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAASowE,CAAC,CAAC,CAAX,CAAa,EAAEghD,EAAE,CAAChhD,CAAC,EAAE,CAAJ,CAAtD,EAA8D,EAAEl/C,CAAC,CAACL,CAAD,CAArF,CAAyFD,CAAC,GAAG,CAAJ,CAAM,SAAN,CAAgB,CAACvW,CAAC,CAAC,KAAK0X,CAAC,CAAC,EAAEg/F,EAAE,CAAC,KAAK3gD,CAAL,EAAQ,CAAT,CAAX,CAAH,IAA8B,CAA9B,CAAgCjsF,CAAC,GAAG,CAArJ,EAAwJ,CAACgtC,CAAC,CAACY,CAAF,CAAI,CAAvM,IAA4MZ,EAAC,CAACY,CAAF,CAAInB,CAAC,CAAC,CAAN,CAAQ,GAAGvW,CAAC,IAAI0X,CAAC,CAAC,CAAN,CAAD,CAAU5tC,CAAC,GAAG,CAAjB,CAAmB,IAAI2K,CAAC,CAAC,EAAEgkI,EAAE,CAAC,CAAC,CAAF,CAAI,CAAC,CAAL,CAAO,EAAE3uI,CAAT,CAAW,CAAX,CAAN,CAAoB4xC,CAAC,CAAC,EAAEw9F,EAAE,EAA1B,CAA6Bl5G,CAAC,CAAC8W,CAAnC,GAAuC,CAAC,GAAG4E,CAAC,GAAG,CAAJ,CAAMhE,CAAC,GAAG,CAAV,CAAY,CAAC,EAAEA,CAAH,IAAQ,EAAEgE,CAAV,EAAajnC,CAAC,GAAG,CAAJ,CAAM8hC,CAAC,GAAG,CAAtC,CAAwC,CAAC9hC,CAAC,CAAC,EAAF,CAAK,KAAMmB,EAAN,CAAQ,IAAGkhC,CAAC,CAAC,EAAEyhG,CAAC,CAAC,EAAEhiG,CAAH,CAAK,EAAEmB,CAAP,CAAS,EAAE5tC,CAAX,CAAa,CAAb,CAAL,CAAqB,WAAW,CAAC8sC,CAAC,CAAC,EAAEsiG,EAAE,EAAP,IAAa,CAAxB,CAA0B,CAAC,CAAD,GAAK,EAAEtiG,CAAP,EAAU,EAAE5W,CAAC,EAAE,GAAL,IAAY,CAAZ,CAAc8W,CAAC,GAAG,CAA9E,CAAgF,CAACriC,CAAC,CAAC,EAAF,CAAK,KAAMmB,EAAN,CAAQ,IAAG2gC,CAAC,CAAC,EAAEpD,CAAC,CAAC,EAAE2D,CAAH,CAAK,EAAEF,CAAP,CAAS,EAAE5W,CAAX,CAAa,CAAb,CAAL,CAAqB0X,CAAC,CAAC,EAAEwhG,EAAE,EAA3B,CAA8BnjD,CAAC,CAAC,CAACA,CAAC,CAAC,EAAEygD,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAjB,CAAmB,CAAC,EAAE6wH,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAlC,EAAqCwjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAASowE,CAAC,CAAC,CAAX,CAAa,EAAEghD,EAAE,CAAChhD,CAAC,EAAE,CAAJ,CAAtD,EAA8D,EAAEl/C,CAAC,CAACL,CAAD,CAAjG,CAAqG1sC,CAAC,GAAG,CAAJ,EAAO,CAAC,KAAKk2B,CAAC,CAAC,EAAE02G,EAAE,CAAC,KAAK3gD,CAAL,EAAQ,CAAT,CAAX,CAAD,IAA4B,CAA3I,CAA6I,CAACthF,CAAC,CAAC,EAAF,CAAK,MAAM,CAAC,CAAzW,IAA8WA,EAAC,CAAC,EAAF,CAAK,CAAC,CAAroC,MAA2oC,CAA3oC,EAA8oC,GAAG,KAAK,EAAEA,CAAP,CAAH,CAAa,GAAG,CAAC,EAAEsiI,EAAE,CAAC,KAAKhhD,CAAL,EAAQ,CAAT,CAAL,IAAoB,CAApB,CAAsBjsF,CAAC,GAAG,CAA7B,CAA+B,CAAC,KAAKisF,CAAC,CAAC,CAACA,CAAC,CAAC,EAAEygD,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAjB,CAAmB,CAAC,EAAE6wH,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAL,IAAe,CAAlC,EAAqCwjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAASowE,CAAC,CAAC,CAAX,CAAa,EAAEghD,EAAE,CAAChhD,CAAC,EAAE,CAAJ,CAAtD,EAA8D,EAAEl/C,CAAC,CAACL,CAAD,CAAnE,CAAuE,CAAC,EAAEugG,EAAE,CAAC,KAAKhhD,CAAL,EAAQ,CAAT,CAAL,IAAoB,CAApB,CAAsBjsF,CAAC,GAAG,CAAtG,EAAyG,CAACA,CAAC,CAAC,CAAF,CAAIisF,CAAC,CAAC,CAAC,UAAP,CAAkB,CAA5J,IAAiKjsF,EAAC,CAAC4tC,CAAF,CAAIq+C,CAAC,CAACx/C,CAAN,CAAQ,GAAG,EAAEigG,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAJ,GAAawjI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAC,EAAE6wH,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAL,EAAa,CAAnC,EAAsC,EAAE7b,CAAC,GAAG,CAAJ,CAAM,CAAN,CAAQ,IAAI,EAAEA,CAAN,EAASisF,CAAC,GAAG,CAAJ,CAAM,UAAzB,CAAzC,CAA8E,CAAC,GAAG,CAAChgF,CAAJ,CAAM,CAACggF,CAAC,CAAC,CAAF,CAAIjsF,CAAC,CAAC,UAAN,CAAiB,MAAM,IAAG,EAAEA,CAAC,GAAG,CAAN,CAAQ,IAAI,EAAEA,CAAN,EAAS,WAAWisF,CAAC,GAAG,CAAnC,CAAqC,CAACA,CAAC,CAAC,CAAF,CAAIjsF,CAAC,CAAC,CAAC,UAAP,CAAkB,MAAM,CAAC,CAAAA,CAAC,CAAC,EAAE8tC,CAAC,CAACm+C,CAAC,CAAChgF,CAAF,CAAI,CAAL,CAAOjM,CAAC,EAAEkJ,CAAC,CAAC,CAAC,CAAC,EAAE+C,CAAH,EAAM,CAAP,GAAW,EAAX,EAAe,EAAnB,CAAD,CAAwB,CAA/B,CAAiC,EAAEA,CAAnC,CAAqC,EAAE/C,CAAvC,CAAL,CAA+C+iF,CAAC,CAAC,EAAEmjD,EAAE,EAArD,CAAwD,CAAC,CAAr3F,MAA23F,CAA33F,EAA83F,GAAGH,EAAE,CAAC,EAAEhjD,CAAH,CAAF,CAAQ/iF,CAAC,CAAC,EAAElJ,CAAZ,CAAcivI,EAAE,CAAC,EAAEG,EAAE,EAAL,CAAhB,CAAyB/B,EAAE,CAAC90H,CAA5B,CAA8BA,CAAC,CAAC,EAAErP,CAAlC,CAAoCkmI,EAAE,EAAtC,CAAyC72H,CAAC,EAAE,CAA5C,CAA8C,EAAE,GAAG,GAAG,CAAC,CAACA,CAAC,EAAE,CAAJ,EAAO,EAAP,CAAU,CAAX,IAAgB,CAAnB,CAAqB,EAAEA,CAAC,GAAG,CAA3B,CAA6B,EAAE,CAACA,CAAC,CAAC,CAAC,EAAH,CAAM,CAAP,IAAY,CAA3C,CAA6CA,CAAC,GAAG,CAAJ,CAAM,OAAN,CAAc,QAAQ,EAAEA,CAAV,CAAd,CAA2B,QAAQ,CAAC,IAAD,CAAMA,CAAN,CAAQ,CAAhB,CAA3B,CAA8C,CAA9C,CAAgD,CAA7F,CAA+F,CAAlG,CAAF,CAAjD,CAAyJ,CAACtP,CAAC,CAAC,CAAF,CAAI,MAAM,CAAC,CAA5wG,IAAgxG,CAACsP,CAAC,CAACtW,CAAF,CAAIyqC,CAAC,CAACzjC,CAAN,CAAQsP,CAAC,EAAE,CAAX,CAAam0B,CAAC,EAAE,CAAhB,CAAkBxjC,CAAC,CAAC,CAApB,CAAsB,EAAE,CAAC,GAAG,CAACwjC,CAAC,CAAC,CAAC,CAAH,CAAK,CAAN,IAAW,CAAX,CAAa,CAAhB,CAAkB,CAAC,OAAO7wB,CAAC,CAACtD,CAAF,CAAItM,CAAC,CAACygC,CAAN,CAAQ7wB,CAAC,EAAE,CAAX,CAAa,CAAC+1B,CAAC,CAAC,CAAH,GAAO3lC,CAAC,EAAE,CAAV,CAApB,EAAkC,IAAK,EAAL,CAAOA,CAAC,CAAC,CAAF,CAAI2lC,CAAC,CAAC,CAAN,CAAQ,MAAM,IAAK,EAAL,CAAO3lC,CAAC,CAAC,CAAF,CAAI2lC,CAAC,CAAC,CAAN,CAAQ,MAAM,IAAK,EAAL,CAAO3lC,CAAC,CAAC,CAAF,CAAI2lC,CAAC,CAAC,CAAN,CAAQ,MAAM,IAAK,EAAL,CAAO3lC,CAAC,CAAC,CAAF,CAAI2lC,CAAC,CAAC,CAAN,CAAQ,MAAM,IAAK,EAAL,CAAO3lC,CAAC,CAAC,CAAF,CAAI,MAAM,QAAQA,CAAC,CAAC,CAAC,EAAE6iI,EAAE,CAAC,MAAM,CAAC,EAAE7B,EAAE,CAACpxH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,GAAgB,CAAtB,GAA0B,CAA3B,CAAL,EAAoC5P,CAApC,CAAsC,CAAxC,CAA0C2lC,CAAC,CAAC,CAA5C,CAA/I,CAA6L,GAAG,IAAI,EAAEA,CAAN,IAAW3lC,CAAC,CAACA,CAAC,EAAE,EAAE6iI,EAAE,CAAC,MAAM,CAAC,EAAE7B,EAAE,CAACpxH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,GAAgB,CAAtB,GAA0B,CAA3B,CAAN,CAAD,CAAsC,CAAxC,CAA0C+1B,CAAC,CAAC,CAAvD,EAA0D,IAAI,EAAEA,CAAN,IAAW3lC,CAAC,CAACA,CAAC,EAAE,EAAE6iI,EAAE,CAAC,MAAM,CAAC,EAAE7B,EAAE,CAACpxH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,GAAgB,CAAtB,GAA0B,CAA3B,CAAN,CAAD,CAAsC,CAAxC,CAA0C+1B,CAAC,CAAC,CAAvD,CAA1D,CAAoH,IAAI,EAAEA,CAAN,IAAW3lC,CAAC,CAACA,CAAC,EAAE,EAAE6iI,EAAE,CAAC,MAAM,CAAC,EAAE7B,EAAE,CAACpxH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,GAAgB,CAAtB,GAA0B,CAA3B,CAAN,CAAD,CAAsC,CAAxC,CAA0C+1B,CAAC,CAAC,CAAvD,CAApH,CAA8K,IAAI,EAAEA,CAAN,IAAW3lC,CAAC,CAACA,CAAC,EAAE,EAAE6iI,EAAE,CAAC,MAAM,GAAG,EAAE7B,EAAE,CAACpxH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAP,GAAkB,CAAxB,GAA4B,CAA7B,CAAN,CAAD,CAAwC,CAArD,CAA9K,CAAsOA,CAAC,CAAC,CAACA,CAAC,CAAC5P,CAAC,EAAE,EAAE6iI,EAAE,CAAC,MAAM,CAAC,EAAE7B,EAAE,CAACpxH,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,GAAgB,CAAtB,GAA0B,CAA3B,CAAN,CAAD,CAAsC,CAAzC,IAA8C,CAA9C,CAAgD,GAAhD,EAAqD,CAAC,EAAE+wH,EAAE,CAACr0H,CAAC,EAAE,CAAJ,CAAL,IAAe,EAAEq0H,EAAE,CAAC,CAAC1jI,CAAC,CAAC,EAAEwjI,EAAE,CAAC,MAAM7wH,CAAC,EAAE,CAAT,GAAa,CAAd,CAAP,GAA0B,CAA3B,CAAnB,CAAhS,CAAkV,CAAC,GAAG+1B,CAAC,CAACr5B,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ5N,CAAC,CAACzB,CAAC,CAAC,CAAF,CAAI,CAAd,CAAgB4jC,CAAC,CAACJ,CAAC,CAAC,CAAC,CAAH,CAAK,CAAvB,CAAyBkF,CAAC,EAAE,CAA5B,CAA8BjnC,CAAC,EAAE,CAAjC,CAAmCmiC,CAAC,EAAE,CAAzC,CAA2C,CAAC7gC,CAAC,CAAC,EAAE2gI,EAAE,CAACh7F,CAAC,EAAE,CAAJ,CAAN,CAAatF,CAAC,CAAC,EAAE,CAAC,GAAGrgC,CAAC,EAAE,EAAH,EAAO,EAAV,CAAa,OAAO,CAAC,GAAG,EAAEA,CAAC,EAAE,EAAH,EAAO,EAAP,EAAW,CAAC4P,CAAC,CAAC,EAAE+wH,EAAE,CAACjiI,CAAC,EAAE,CAAJ,CAAP,GAAgB,EAAhB,EAAoB,EAA/B,CAAkC,IAAI,GAAGmiC,CAAC,CAACA,CAAC,CAAC,CAAC,CAAH,CAAK,CAAV,CAAJ,CAAlC,CAAoD,GAAGjxB,CAAC,EAAE,EAAH,EAAO,EAAhE,CAAH,CAAuE,KAAMywB,EAAN,CAAQ,GAAG3hC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,EAAE,CAACsB,CAAC,CAAC,EAAE2gI,EAAE,CAAC,CAACh7F,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAP,GAAwB,EAAxB,EAA4B,EAA9B,CAAX,CAA6C,CAAC3lC,CAAC,CAAC,CAAF,CAAI,MAAM,CAAC,CAA7J,IAAkKA,EAAC,CAAC,CAAF,CAAI,CAAzK,MAA+K,CAA/K,EAAkLA,CAAC,CAAC,CAAC,IAAIA,CAAL,GAAS,EAAEghI,EAAE,CAACtiI,CAAC,EAAE,CAAJ,CAAb,EAAqB,CAAvB,CAAyB,CAAtQ,IAA2QsB,EAAC,CAAC,CAAF,CAAI4P,CAAC,CAAC,IAAI,EAAE5P,CAAN,CAAF,CAAW,IAAG4P,CAAC,EAAE,IAAI,EAAE+wH,EAAE,CAAC1jI,CAAC,CAACwjC,CAAF,EAAK,CAAN,CAAR,CAAN,CAAwB,MAAM,CAAAxjC,CAAC,CAAC,CAAF,CAAI,CAAl2B,MAAw2B,CAAx2B,EAA22B,GAAG,EAAE,EAAEA,CAAJ,CAAH,CAAU,CAACD,CAAC,CAAC,CAAF,CAAI,MAAM,CAAC,IAAGyjC,CAAC,CAAC,EAAEggG,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAT,GAAqB4gI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAF,CAASvqC,CAAT,CAAWyqI,EAAE,CAAClgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAF,CAAWvjC,CAAtB,CAAwBmnI,EAAE,CAAC,EAAE1jG,CAAH,CAAF,CAAQJ,CAAR,CAAUE,CAAV,CAAY,EAAEkgG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAhB,CAA7C,GAA2EshI,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAAF,CAASlO,CAAC,EAAEgvG,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAAd,CAAqBK,CAAC,EAAEygG,EAAE,CAAC9gG,CAAD,CAAG,GAAH,CAA1B,CAAkC6gG,EAAE,CAAC7gG,CAAD,CAAGrqC,CAAC,CAACyX,CAAF,CAAI,CAAP,CAASzQ,CAAC,CAACyQ,CAAF,CAAI,CAAb,CAA/G,EAAgI,CAAt0I,IAA20IzQ,EAAC,CAAC,CAAF,CAAI,CAA/1I,MAAq2I,CAAr2I,EAAw2I,MAAOokI,GAAE,CAAC7gG,CAAH,CAAK,EAAEvjC,CAAd,CAAgB,CAA/tX,CAAguX,SAASqjC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC+zB,CAAC,EAAE,CAAH,CAAKrqC,CAAC,EAAE,CAAR,CAAUgH,CAAC,EAAE,CAAb,CAAesP,CAAC,EAAE,CAAlB,CAAoB,GAAImP,EAAC,CAAC2lH,EAAN,CAASA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAW,GAAI7gG,EAAC,CAAC,IAAI1gC,CAAC,EAAE,CAAP,EAAU,CAAhB,CAAkB,GAAG,IAAI,EAAE4gI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAR,GAAiB,IAAI,EAAEkgG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAR,CAApB,CAAwC,CAAC,GAAI4N,EAAC,CAAC,EAAEo0H,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAV,CAAgB4gC,CAAC,CAAC,EAAEhlB,CAAJ,CAAgBzlB,CAAC,EAAE,CAAH,CAAKgH,CAAC,EAAE,CAAR,CAAU,GAAIm1B,EAAJ,CAAMmO,CAAC,CAAC,CAAR,CAAU,GAAG,GAAG,CAACh0B,CAAC,EAAE,CAAJ,IAAS,CAAZ,EAAe,KAAK,EAAEq0H,EAAE,CAAC3qI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAf,EAAmC,KAAK,EAAE2qI,EAAE,CAAC3qI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAtC,CAAyD,CAAC,IAAIm8B,CAAC,CAAC,CAAN,CAAQ,EAAEn1B,CAAC,GAAG,CAAJ,EAAOm1B,CAAC,GAAG,CAAb,GAAiB,CAAC,CAAC,GAAG6uG,EAAE,CAAChrI,CAAC,CAAC,CAACm8B,CAAH,EAAM,CAAP,CAAN,EAAiB,EAAjB,CAAoB,CAArB,IAA0B,CAA1B,CAA4B,EAA5B,CAA+B,CAAxD,EAA2DA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAIl1B,EAAC,CAACjH,CAAC,CAAC,CAACm8B,CAAH,CAAK,CAAX,CAAa,GAAG,IAAI,EAAE6tD,CAAC,CAAC/iF,CAAD,CAAGk1B,CAAC,CAAC7lB,CAAF,CAAI,CAAP,CAAP,GAAmB,IAAI,GAAGg0B,CAAC,CAAC,EAAE1wB,CAAC,CAAC5Z,CAAC,CAAC,CAAF,CAAI,CAAL,CAAOsW,CAAC,CAAC,CAAC,CAAH,CAAK,CAAZ,CAAR,CAAJ,CAAtB,CAAmD,CAAC,IAAItP,CAAC,CAACsjC,CAAC,CAAC,CAAF,CAAI,CAAV,CAAY,EAAEh0B,CAAC,GAAG,CAAJ,EAAOtP,CAAC,GAAG,CAAX,EAAc,EAAEq7C,CAAC,CAAC,EAAE2oF,EAAE,CAAChrI,CAAC,CAACgH,CAAF,EAAK,CAAN,CAAL,CAAnB,CAAZ,EAAgDA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAACA,CAAC,CAAC,EAAEwjC,CAAC,CAACxqC,CAAD,CAAGgH,CAAH,CAAN,GAAckkI,EAAE,CAA9R,EAAEzzH,CAA4R,CAAGxQ,CAAH,CAAKD,CAAC,CAACm1B,CAAF,CAAI,CAAT,CAAF,CAAcsuG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAAStO,CAArC,EAAwCn1B,CAAC,CAAC,CAA1C,CAA4C,CAAxJ,IAA6JA,EAAC,CAAC,CAAF,CAAI,CAA3S,IAAgTA,EAAC,CAAC,CAAF,CAAI,GAAGyjC,CAAC,CAAC,EAAEzjC,CAAP,IAAYqiI,CAAC,CAACh/F,CAAD,CAAG,CAAC,EAAEogG,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,GAAgB,EAAEogG,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAApB,EAA4B,CAA/B,CAAD,CAAmCioH,EAAE,CAAC,EAAEjD,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAeF,CAAf,CAAiB5yB,CAAjB,CAAmB,CAAnB,CAAqB,EAAEgzH,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAzB,CAA/C,EAAqFkiI,EAAE,CAACliI,CAAD,CAAG,CAAH,CAAvF,CAA6F,CAA9e,IAAmf4gC,EAAC,CAAC,CAAF,CAAI,MAAO2gG,GAAE,CAAC3lH,CAAH,CAAK,EAAEglB,CAAd,CAAgB,CAAvzY,CAAwzY,SAASJ,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC+zB,CAAC,EAAE,CAAH,CAAKrqC,CAAC,EAAE,CAAR,CAAUgH,CAAC,EAAE,CAAb,CAAesP,CAAC,EAAE,CAAlB,CAAoB,GAAImP,EAAC,CAAC2lH,EAAN,CAASA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAW,GAAI7gG,EAAC,CAAC,IAAI1gC,CAAC,EAAE,CAAP,EAAU,CAAhB,CAAkB,GAAG,IAAI,EAAE4gI,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAR,GAAiB,IAAI,EAAEkgG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAR,CAApB,CAAwC,CAAC,GAAI4N,EAAC,CAAC,EAAEo0H,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAV,CAAgB4gC,CAAC,CAAC,EAAEhlB,CAAJ,CAAgBzlB,CAAC,EAAE,CAAH,CAAKgH,CAAC,EAAE,CAAR,CAAUsP,CAAC,EAAE,CAAb,CAAe,GAAI6lB,EAAJ,CAAMmO,CAAN,CAAQrjC,CAAC,CAAC,CAAV,CAAY,IAAIqjC,CAAC,CAAC,CAAN,CAAQ,EAAEtjC,CAAC,GAAG,CAAJ,EAAOsjC,CAAC,GAAG,CAAb,CAAR,EAAyB,CAAC,GAAI0/C,EAAC,CAAC,EAAE2gD,EAAE,CAAC3qI,CAAC,CAAC,CAACsqC,CAAH,EAAM,CAAP,CAAV,CAAoB1wB,CAAC,CAAC,IAAIowE,CAA1B,CAA4B,GAAG,EAAEA,CAAC,EAAE,EAAH,EAAO,EAAT,CAAH,CAAgB,MAAM,GAAG,IAAI,EAAE+gD,EAAE,CAACnxH,CAAD,CAAR,GAAc,IAAI,EAAEwxB,CAAC,CAAC,IAAD,CAAMxxB,CAAN,CAAQ,CAAR,CAAP,CAAjB,CAAoC,MAAM0wB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAGA,CAAH,CAAK,CAAC0/C,CAAC,CAAC1zE,CAAC,CAAC,CAAC,CAAH,CAAK,CAAP,CAASsD,CAAC,CAAC5S,CAAC,CAACm1B,CAAC,CAAC,CAAf,CAAiBkO,CAAC,CAAC,KAAK,EAAE/zB,CAAC,GAAG,CAAJ,EAAO6lB,CAAC,GAAG,CAAb,CAAL,EAAsB,CAAC,GAAIwP,EAAC,CAAC,EAAEg/F,EAAE,CAAC3qI,CAAC,CAACm8B,CAAF,EAAK,CAAN,CAAV,CAAmBtyB,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAEkhI,EAAE,CAAC,IAAIp/F,CAAL,CAAN,CAAH,CAAkB,CAAC,OAAOA,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,KAAM9hC,EAAN,CAAQ,IAAK,GAAL,CAAQ+P,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,KAAM/P,EAAN,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ,KAAMwgC,EAAN,CAAxF,CAAgG,GAAG2/C,CAAC,GAAG,CAAJ,EAAO7tD,CAAC,GAAG,CAAd,CAAgB,KAAMkO,EAAN,CAAQrjC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAC,CAAvJ,MAA6J,CAA7J,EAAgKm1B,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,KAAI,EAAEn1B,CAAN,EAAS,IAAI,EAAE4S,CAAN,CAAT,CAAkBuiB,CAAC,GAAG,CAAJ,CAAM,CAAxB,EAA2B,IAAI,GAAGl1B,CAAC,CAAC,EAAEujC,CAAC,CAACxqC,CAAD,CAAGm8B,CAAH,CAAR,CAAJ,CAA3B,CAA+Cl1B,CAAC,CAAC,CAAjD,EAAoDikI,EAAE,CAAhc,EAAEzzH,CAA8b,CAAGzX,CAAC,CAAC,CAACsqC,CAAH,CAAK,CAAR,CAAUrjC,CAAC,CAACqjC,CAAF,CAAI,CAAd,CAAF,CAAmBmgG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAASH,CAAhF,EAAmF,CAAhU,IAAqUrjC,EAAC,CAAC,CAAF,CAAI,GAAGwjC,CAAC,CAAC,EAAExjC,CAAP,IAAYoiI,CAAC,CAACh/F,CAAD,CAAG,CAAC,EAAEogG,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,GAAgB,EAAEogG,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAApB,EAA4B,CAA/B,CAAD,CAAmCioH,EAAE,CAAC,EAAEjD,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAeF,CAAf,CAAiB5yB,CAAjB,CAAmB,CAAnB,CAAqB,EAAEgzH,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAzB,CAA/C,EAAqFkiI,EAAE,CAACliI,CAAD,CAAG,CAAH,CAAvF,CAA6F,CAAxoB,IAA6oB4gC,EAAC,CAAC,CAAF,CAAI,MAAO2gG,GAAE,CAAC3lH,CAAH,CAAK,EAAEglB,CAAd,CAAgB,CAAzia,CAA0ia,SAASJ,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC+zB,CAAC,EAAE,CAAH,CAAKrqC,CAAC,EAAE,CAAR,CAAUgH,CAAC,EAAE,CAAb,CAAesP,CAAC,EAAE,CAAlB,CAAoB,GAAImP,EAAC,CAAC2lH,EAAN,CAASA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAW,GAAI7gG,EAAC,CAAC9kB,CAAN,CAAQhO,CAAC,CAAC,IAAI5N,CAAC,EAAE,CAAP,EAAU,CAApB,CAAsB,GAAG,IAAI,EAAE4gI,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAR,GAAiB,IAAI,EAAEgzH,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAR,CAApB,CAAwC,CAAC,GAAI6gC,EAAC,CAAC,EAAEmhG,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAV,CAAgB4gC,CAAC,CAAC,EAAEF,CAAJ,CAAgBvqC,CAAC,EAAE,CAAH,CAAKsW,CAAC,EAAE,CAAR,CAAU,GAAIg0B,EAAC,CAAC,CAAN,CAAQrjC,CAAC,CAAC,CAAV,CAAY+iF,CAAC,CAAC,CAAd,CAAgB,GAAG,IAAI,EAAEhjF,CAAN,GAAU,IAAI,EAAEu7C,CAAC,CAACt7C,CAAC,CAAC,EAAE+jI,EAAE,CAAChrI,CAAC,CAAC,CAAC,CAAH,EAAM,CAAP,CAAP,CAAP,CAAV,CAAoCsW,CAAC,GAAG,CAAJ,CAAM,CAAN,CAAQ,IAAI,EAAE+rC,CAAC,CAACp7C,CAAD,CAAP,CAAR,CAAoBqjC,CAAC,CAAC,CAAtB,CAAwB0/C,CAAC,CAAC,CAA9D,CAAgE1zE,CAAC,GAAG,CAAJ,CAAM,CAAN,CAAQg0B,CAAC,CAAC,CAAV,CAAY0/C,CAAC,CAAC,CAA9E,CAAgF,IAAI,EAAEA,CAAN,CAAnF,CAA4F,GAAG,IAAI,EAAEvnF,CAAC,CAACzC,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAP,GAAoB,IAAI,GAAGsqC,CAAC,CAAC,EAAE1wB,CAAC,CAAC5Z,CAAD,CAAGsW,CAAH,CAAR,CAAJ,CAAvB,CAA2C,CAAC,KAAK,EAAEA,CAAC,GAAG,CAAJ,EAAOg0B,CAAC,GAAG,CAAX,EAAc,EAAE+X,CAAC,CAAC,EAAE2oF,EAAE,CAAChrI,CAAC,CAACsqC,CAAF,EAAK,CAAN,CAAL,CAAnB,CAAL,EAAyCA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAACA,CAAC,CAAC,EAAEE,CAAC,CAACxqC,CAAD,CAAGsqC,CAAH,CAAN,GAAc4gG,EAAE,CAAvO,EAAExgG,CAAqO,CAAG1qC,CAAH,CAAKsqC,CAAL,CAAF,CAAUmgG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAAS,CAAjC,EAAoCH,CAAC,CAAC,CAAtC,CAAwC,CAArI,IAA0IA,EAAC,CAAC,CAAF,CAAI,GAAGG,CAAC,CAAC,EAAEH,CAAP,IAAY4gG,EAAE,CAAClkI,CAAC,CAAC,EAAE6kI,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAP,CAAa,IAAb,CAAkB,CAAlB,CAAF,CAAuBqhI,EAAE,CAAClkI,CAAD,CAAG,EAAEyjI,EAAE,CAAC//F,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE+/F,EAAE,CAAC//F,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAAzB,CAAqD2+F,CAAC,CAACh/F,CAAD,CAAG,CAAC,EAAEogG,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,GAAgB,EAAEogG,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAApB,EAA4B,CAA/B,CAAtD,CAAwF,EAAEkgG,EAAE,CAAC,CAACzqI,CAAC,CAAC6J,CAAC,CAAC,GAAF,CAAM,CAAT,GAAa,CAAd,CAAJ,EAAsByM,CAAC,CAAC,EAAEu1H,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAN,CAAYskI,EAAE,CAAC,EAAE1D,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAesW,CAAf,CAAiBo0B,CAAjB,CAAmB,EAAE+/F,EAAE,CAAC,CAAClgG,CAAC,CAAC1gC,CAAC,CAAC,GAAF,CAAM,CAAT,GAAa,CAAd,CAAvB,CAAZ,CAAqDk3C,EAAE,CAAC,EAAE0pF,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAe4yB,CAAf,CAAiBrjC,CAAjB,CAAmB,CAAnB,CAAqBsP,CAArB,CAAuB,EAAEm0H,EAAE,CAAClgG,CAAC,EAAE,CAAJ,CAA3B,CAArD,CAAwFwhG,EAAE,CAACliI,CAAD,CAAG,CAAH,CAAhH,EAAuHk3C,EAAE,CAAC,EAAE0pF,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAe4yB,CAAf,CAAiBrjC,CAAjB,CAAmB,CAAnB,CAAqB0jC,CAArB,CAAuB,EAAE+/F,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAA3B,CAA/M,CAAsPkiI,EAAE,CAACliI,CAAD,CAAG,CAAH,CAApQ,EAA2QkiI,EAAE,CAACliI,CAAD,CAAG,CAAH,CAA7Q,CAAmR,CAAhmB,IAAqmB4gC,EAAC,CAAC,CAAF,CAAI,MAAO2gG,GAAE,CAAC3lH,CAAH,CAAK,EAAEglB,CAAd,CAAgB,CAAvvb,CAAwvb,SAASJ,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC+zB,CAAC,EAAE,CAAH,CAAKrqC,CAAC,EAAE,CAAR,CAAUgH,CAAC,EAAE,CAAb,CAAeyjC,CAAC,EAAE,CAAlB,CAAoBn0B,CAAC,EAAE,CAAvB,CAAyB,GAAImP,EAAC,CAAC,CAAN,CAAQ8kB,CAAC,CAAC6gG,EAAV,CAAaA,EAAE,CAACA,EAAE,CAAC,EAAH,CAAM,CAAT,CAAW,GAAI3zH,EAAC,CAAC8yB,CAAC,CAAC,CAAF,CAAI,CAAV,CAAYG,CAAC,CAACH,CAAd,CAAgB,GAAG,IAAI,EAAEkgG,EAAE,CAAC,IAAI5gI,CAAC,EAAE,CAAP,GAAW,CAAZ,CAAR,GAAyB,IAAI,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAR,CAA5B,CAAgD,CAAC,GAAIsyB,EAAJ,CAAMmO,CAAC,CAAC,EAAEuhG,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAZ,CAAkB5C,CAAC,CAAC,EAAEwQ,CAAtB,CAAwBuyE,CAAC,CAAC,EAAE1/C,CAA5B,CAA8B1wB,CAAC,CAAC,EAAE5Z,CAAlC,CAAoC2rC,CAAC,CAAC,EAAEr1B,CAAxC,CAA0Ck0B,CAAC,CAAC,EAAEE,CAA9C,CAAgD3sC,CAAC,CAAC,CAAlD,CAAoDiM,CAAC,CAAC,EAAE+gC,CAAC,CAACnxB,CAAD,CAAG,EAAE5S,CAAL,CAAO,EAAEyjC,CAAT,CAAWkB,CAAX,CAAa,GAAb,CAAzD,CAA2EtB,CAAC,CAAC,EAAE,CAAC,GAAGrgC,CAAH,CAAK,CAAC,IAAIjM,CAAC,CAAC,EAAE4tC,CAAC,GAAG,CAAN,CAAQ,IAAI,EAAEm/F,CAAC,CAAClxH,CAAC,CAAC,CAAF,CAAI,CAAL,CAAO,IAAP,CAAY,CAAZ,CAAP,CAAR,CAA+B,CAAjC,CAAmCuiB,CAAC,CAAC,CAAzC,GAA6C,CAAC,GAAIzzB,EAAC,CAACyzB,CAAC,CAAC,EAAF,CAAK,CAAX,CAAa,GAAGzzB,CAAC,GAAG,CAAJ,EAAOijC,CAAC,GAAG,CAAX,EAAc,IAAI,EAAEm/F,CAAC,CAAClxH,CAAC,CAACuiB,CAAF,CAAI,CAAL,CAAO,IAAP,CAAY,EAAZ,CAAP,CAAjB,CAAyC,GAAIlI,EAAC,CAAC,EAAN,CAAzC,IAAsD,CAAC,GAAGvrB,CAAC,CAAC,CAACA,CAAC,CAACyzB,CAAC,CAAC,CAAF,CAAI,CAAP,IAAY,CAAZ,CAAcwP,CAAC,GAAG,CAAlB,GAAsB1X,CAAC,CAAC,IAAI,EAAE62G,CAAC,CAAClxH,CAAC,CAACuiB,CAAF,CAAI,CAAL,CAAO,IAAP,CAAY,CAAZ,CAAP,CAAxB,EAAgDzzB,CAAhD,CAAkDyzB,CAApD,CAAsD,EAAE,EAAE4uG,EAAE,CAAC,EAAEC,EAAE,CAACpxH,CAAC,CAAClR,CAAF,EAAK,CAAN,CAAL,CAAN,CAAzD,CAA+E,CAACA,CAAC,CAAC,CAAF,CAAI,KAAM2hC,EAAN,CAAQ,CAAApW,CAAC,CAAC,EAAF,CAAKvrB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAX,CAAa,QAAO,CAAC,GAAGijC,CAAC,GAAG,CAAJ,EAAOjjC,CAAC,GAAG,CAAd,CAAgB,CAAC,GAAImiC,EAAC,CAAC,CAAN,CAAQ,MAAM,IAAG,EAAE,IAAI,CAACA,CAAC,CAAC,EAAE8/F,EAAE,CAAC/wH,CAAC,CAAClR,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA1B,CAA6B,IAAI,EAAEqiI,EAAE,CAAC,IAAIlgG,CAAL,CAAR,CAA/B,CAAH,CAAoD,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAniC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAG,EAAE,CAACyzB,CAAC,CAACzzB,CAAC,CAACyzB,CAAF,CAAI,CAAP,IAAY,CAAZ,EAAelI,CAAC,GAAG,CAAnB,CAAqB,EAAEkI,CAAC,GAAG,CAA7B,CAAH,CAAmC,CAACzzB,CAAC,CAAC,CAAF,CAAI,KAAM2hC,EAAN,CAAQ,IAAG,CAACQ,CAAJ,CAAM,MAAM,GAAG,EAAE,IAAI,CAAC1O,CAAC,CAAC,EAAEwuG,EAAE,CAAC/wH,CAAC,CAAClR,CAAF,EAAK,CAAN,CAAP,GAAkB,EAAlB,EAAsB,EAA1B,CAA6B3K,CAAC,CAAC,IAAIo+B,CAAC,EAAE,EAAH,EAAO,EAA5C,CAAH,CAAmD,MAAM,GAAG,CAACzzB,CAAJ,CAAM,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,CAAAyzB,CAAC,CAACzzB,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAAmB,CAAC,CAAC,EAAE,CAAC,GAAGnB,CAAC,GAAG,CAAJ,CAAMijC,CAAC,GAAG,CAAV,EAAa,KAAK,EAAEg/F,EAAE,CAAC/wH,CAAC,CAAClR,CAAF,EAAK,CAAN,CAAT,CAAhB,CAAmC,OAAO,CAAC,GAAGijC,CAAC,GAAG,CAAJ,EAAOjjC,CAAC,GAAG,CAAd,CAAgB,KAAMmB,EAAN,CAAQ,GAAG,EAAE,EAAEkhI,EAAE,CAAC,KAAKlgG,CAAC,CAAC,EAAE8/F,EAAE,CAAC/wH,CAAC,CAAClR,CAAF,EAAK,CAAN,CAAX,CAAD,CAAN,CAAH,CAAiC,OAAOmiC,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ,KAAMhhC,EAAN,CAAxD,CAAgEnB,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAC,CAAhL,MAAsL,CAAtL,EAAyLwiI,EAAE,CAAClhD,CAAD,CAAGpwE,CAAC,CAAC,CAAC5P,CAAH,CAAK,CAAR,CAAUtB,CAAC,CAACsB,CAAF,CAAI,CAAd,CAAF,CAAmBygI,EAAE,CAACjgG,CAAC,EAAE,CAAJ,CAAF,CAAS,IAAI,EAAExgC,CAAN,EAAS,CAArC,CAAuCygI,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAF,CAAS+C,CAAhD,CAAkD,CAA1sB,IAA+sBtB,EAAC,CAAC,CAAF,CAAI,CAAttB,MAA4tB,CAA5tB,EAA+tB,GAAGzB,CAAC,CAAC,EAAEyB,CAAP,CAAS+c,CAAC,CAAC,CAAF,CAAT,IAAiB,CAACxe,CAAC,CAAC,EAAEwQ,CAAJ,CAAMuyE,CAAC,CAAC,EAAE1/C,CAAV,CAAYtqC,CAAC,EAAE,CAAf,CAAiBgH,CAAC,EAAE,CAApB,CAAsByjC,CAAC,EAAE,CAAzB,CAA2Bn0B,CAAC,EAAE,CAA9B,CAAgCsD,CAAC,CAAC,EAAE8wB,CAApC,CAAsChiC,CAAC,CAAC,CAAxC,CAA0C2hC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG/zB,CAAC,GAAG,CAAP,EAAU,IAAI,GAAG5N,CAAC,CAAC,EAAEqiC,CAAC,CAAC/qC,CAAD,CAAGgH,CAAH,CAAKyjC,CAAL,CAAOn0B,CAAP,CAAS,GAAT,CAAR,CAAJ,CAAb,CAAyC,CAAC,GAAG,EAAE,EAAEy0H,EAAE,CAAC,KAAK/jI,CAAC,CAAC,EAAE2jI,EAAE,CAAC3qI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAX,CAAD,CAAN,CAAH,CAAiC,OAAOgH,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQA,CAAC,CAAC,CAAF,CAAI,KAAMqjC,EAAN,CAApD,CAA4DrjC,CAAC,CAAC,CAAF,CAAI6C,CAAC,CAAC,KAAK,EAAEyM,CAAC,GAAG,CAAJ,EAAOtP,CAAC,GAAG,CAAb,CAAL,EAAsB,CAAC,GAAG,EAAE,EAAE+jI,EAAE,CAAC,KAAKtgG,CAAC,CAAC,EAAEkgG,EAAE,CAAC3qI,CAAC,CAACgH,CAAF,EAAK,CAAN,CAAX,CAAD,CAAN,CAAH,CAAiC,OAAOyjC,CAAC,EAAE,EAAH,EAAO,EAAd,EAAkB,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,IAAK,GAAL,CAAQ,MAAM,QAAQ,KAAM5gC,EAAN,CAAxD,CAAgE7C,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAAkkI,EAAE,CAAClhD,CAAD,CAAGhqF,CAAC,CAAC,CAAC0I,CAAH,CAAK,CAAR,CAAU1B,CAAC,CAAC0B,CAAF,CAAI,CAAd,CAAF,CAAmB+hI,EAAE,CAAC7wH,CAAC,EAAE,CAAJ,CAAF,CAAS,IAAI,EAAElR,CAAN,EAAS,CAArC,CAAuC+hI,EAAE,CAACxjI,CAAC,EAAE,CAAJ,CAAF,CAASyB,CAAhD,CAAkD,CAA/T,IAAoU1B,EAAC,CAAC,CAAF,CAAI,CAA3U,MAAiV,CAAjV,EAAoV,CAACC,CAAC,CAAC,EAAED,CAAL,EAAQye,CAAC,CAAC,CAAV,CAAYxe,CAAC,CAAC,CAAd,CAAgB,KAAI,EAAEwe,CAAN,IAAWze,CAAC,CAAC,EAAE6kI,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAN,CAAY,EAAE4gI,EAAE,CAAC//F,CAAC,EAAE,CAAJ,CAAJ,EAAYygG,EAAE,CAACnkI,CAAD,CAAG,EAAH,CAA1B,CAAiCkkI,EAAE,CAAClkI,CAAD,CAAG,EAAEyjI,EAAE,CAACngG,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAEmgG,EAAE,CAACngG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAAnC,CAA+D++F,CAAC,CAACh/F,CAAD,CAAG,CAAC,EAAEogG,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAL,GAAgB,EAAEogG,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAApB,EAA4B,CAA/B,CAAhE,CAAkG,EAAEgzH,EAAE,CAAC,CAACzqI,CAAC,CAAC6J,CAAC,CAAC,GAAF,CAAM,CAAT,GAAa,CAAd,CAAJ,EAAsB6gC,CAAC,CAAC,EAAEmhG,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAN,CAAYskI,EAAE,CAAC,EAAE1D,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAL,CAAF,CAAe0qC,CAAf,CAAiBJ,CAAjB,CAAmB,EAAEmgG,EAAE,CAAC,CAAChlH,CAAC,CAAC5b,CAAC,CAAC,GAAF,CAAM,CAAT,GAAa,CAAd,CAAvB,CAAZ,CAAqDk3C,EAAE,CAAC,EAAE0pF,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAL,CAAF,CAAkBwgC,CAAlB,CAAoBrjC,CAApB,CAAsB,CAAtB,CAAwB0jC,CAAxB,CAA0B,EAAE+/F,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAA9B,CAArD,CAA2FsmH,EAAE,CAACliI,CAAD,CAAG,CAAH,CAAnH,EAA0Hk3C,EAAE,CAAC,EAAE0pF,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAL,CAAF,CAAkBwgC,CAAlB,CAAoBrjC,CAApB,CAAsB,CAAtB,CAAwBsjC,CAAxB,CAA0B,EAAEmgG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAA9B,CAA5N,CAAsQkiI,EAAE,CAACliI,CAAD,CAAG,CAAH,CAAnR,EAA0RkiI,EAAE,CAACliI,CAAD,CAAG,CAAH,CAA5R,CAAkS,CAAjiD,IAAsiD5C,EAAC,CAAC,CAAF,CAAI,MAAOmkI,GAAE,CAAC7gG,CAAH,CAAK,EAAEtjC,CAAd,CAAgB,CAAz4e,CAA04e,SAASojC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC+zB,CAAC,EAAE,CAAH,CAAKrqC,CAAC,EAAE,CAAR,CAAUsW,CAAC,EAAE,CAAb,CAAe,GAAImP,EAAC,CAAC,IAAI5b,CAAC,EAAE,CAAP,EAAU,CAAhB,CAAkBwgC,CAAC,CAAC,EAAE,CAAC,GAAG/zB,CAAC,GAAG,CAAJ,CAAM,CAAN,CAAQ,IAAI,EAAEm0H,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAR,CAAX,CAA2Bze,CAAC,CAAC,CAAF,CAA3B,IAAmC,CAAC6C,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE8gI,EAAE,CAAC3qI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAT,CAAH,CAAsB,CAAC,IAAIgH,CAAC,CAAC,CAAN,CAAQ,EAAEsP,CAAC,GAAG,CAAJ,EAAOtP,CAAC,GAAG,CAAb,GAAiB,KAAK,EAAE2jI,EAAE,CAAC3qI,CAAC,CAACgH,CAAF,EAAK,CAAN,CAAT,CAAjB,EAAqC,KAAK,EAAE2jI,EAAE,CAAC3qI,CAAC,EAAEgH,CAAC,CAAC,CAAC,CAAL,CAAD,EAAU,CAAX,CAAT,CAA7C,EAAsEA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAG,CAAC,EAAEA,CAAH,IAAQ,EAAEsP,CAAV,CAAH,CAAgB,CAACtP,CAAC,CAAC,CAAF,CAAI,KAAMqjC,EAAN,CAAQ,CAAA/zB,CAAC,CAAC,CAAF,CAAI,CAAtI,IAA2I,KAAItP,CAAC,CAAC,CAAN,GAAU,CAAC,GAAGsP,CAAC,GAAG,CAAJ,EAAOtP,CAAC,GAAG,CAAd,CAAgB,CAACsP,CAAC,CAAC,CAAF,CAAI,KAAMzM,EAAN,CAAQ,IAAG,EAAEojI,EAAE,CAAC,EAAEjC,EAAE,CAAChrI,CAAC,CAACgH,CAAF,EAAK,CAAN,CAAL,CAAP,CAAsB,CAACsP,CAAC,CAAC,CAAF,CAAI,KAAMzM,EAAN,CAAQ,CAAA7C,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,CAAC,CAAlO,MAAwO,CAAxO,EAA2O,GAAGyjC,CAAC,CAACzjC,CAAC,CAACsP,CAAF,CAAI,CAAT,CAAW,CAAC,GAAIi0B,EAAC,CAAC,EAAEshG,EAAE,CAAChiI,CAAD,CAAG,CAAH,CAAV,CAAgB+hI,EAAE,CAACrhG,CAAD,CAAG1gC,CAAH,CAAK7J,CAAC,CAACsW,CAAF,CAAI,CAAT,CAAWm0B,CAAX,CAAF,CAAgBgjG,EAAE,CAAC,GAAGhD,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAN,CAAF,CAAgB4kB,CAAhB,CAAkBE,CAAlB,CAAoB,EAAEkgG,EAAE,CAAC5gI,CAAC,CAAC,GAAF,EAAO,CAAR,CAAxB,CAAhB,CAAoDkiI,EAAE,CAACliI,CAAD,CAAG,CAAH,CAAtD,CAA4D7C,CAAC,CAACA,CAAC,EAAE,IAAI,EAAEsP,CAAN,EAAS,CAAX,CAAD,CAAe,CAA7E,CAA+E,CAA3G,IAAgHtP,EAAC,CAAC,IAAI,EAAEsP,CAAN,EAAS,CAAT,CAAW,CAAb,CAAe,CAAC,CAApZ,MAA0Z,CAA1Z,EAA6Z,MAAO,GAAEtP,CAAT,CAAW,CAA32f,CAA42fyjC,CAA52f,CAA82fA,CAA92f,CAAg3fA,CAAh3f,CAA75H,CAAgxnBghG,EAAE,CAAC,CAAC,UAAU,CAACsB,EAAE,CAAC,CAAD,CAAF,CAAM,CAAlB,CAAmB,SAAS1iG,CAAT,CAAWxgC,CAAX,CAAa,CAAC,GAAI7J,EAAJ,CAAMqqC,CAAC,EAAE,CAAH,CAAK,GAAIrjC,EAAC,CAAC,GAAG6C,CAAC,EAAE,CAAN,EAAS,CAAf,CAAiB4gC,CAAC,CAAC,CAAnB,CAAqB,IAAIzqC,CAAC,CAAC,EAAEyqI,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAV,CAAiB,EAAE,CAAC,EAAEhH,CAAH,GAAO,CAAT,CAAjB,EAA8BkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAcogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAAShH,CAAC,CAAC,CAAC,EAAEyqI,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAL,EAAa,CAAb,CAAe,CAAxC,CAA0CyjC,CAAC,CAAC,CAA5C,CAA8CA,CAAC,EAAEygG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAL,CAAgB/zB,CAAC,CAAC,CAAD,CAAGzM,CAAH,CAAjB,CAAuB,CAApK,CAAqK,SAASwgC,CAAT,CAAWxgC,CAAX,CAAa,CAACA,CAAC,EAAE,CAAH,CAAK,EAAE4gI,EAAE,CAAC,GAAGpgG,CAAC,EAAE,CAAN,GAAU,CAAX,CAAJ,EAAmB8gG,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAA1B,CAAiCQ,CAAC,CAACR,CAAD,CAAG,IAAI,IAAIogG,EAAE,CAAC5gI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAN,CAAgB,CAApB,EAAuB,IAAvB,CAA4B,IAA/B,CAAlC,CAAuE,CAA1P,CAA2PyM,CAA3P,CAAnxnB,CAAihoB63H,EAAE,CAAC,CAAC,UAAU,CAACpB,EAAE,CAAC,CAAD,CAAF,CAAM,CAAlB,CAAmB,SAAS1iG,CAAT,CAAWxgC,CAAX,CAAa,CAACA,CAAC,EAAE,CAAH,CAAK,EAAE4gI,EAAE,CAAC,GAAGpgG,CAAC,EAAE,CAAN,GAAU,CAAX,CAAJ,EAAmB8gG,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAA1B,CAAiC6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAnC,CAA+C,EAAExgC,CAAF,EAAKqhI,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAAtD,CAAkFqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAApF,CAAgG,CAAjI,CAAkI,SAASA,CAAT,CAAWxgC,CAAX,CAAa,CAACA,CAAC,EAAE,CAAH,CAAK,EAAE4gI,EAAE,CAAC,GAAGpgG,CAAC,EAAE,CAAN,GAAU,CAAX,CAAJ,EAAmB8gG,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAA1B,CAAiC6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAnC,CAA+C,EAAExgC,CAAF,EAAKqhI,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAAtD,CAAkFqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAApF,CAAgG,CAAhP,CAAiP,SAASA,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAe,CAAC,GAAIgH,EAAJ,CAAMqjC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAUwgC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAExgC,CAAL,CAAO,CAAC,IAAI7J,CAAC,CAAC,EAAEyqI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAV,GAAqB,CAAC,GAAG,CAAC7J,CAAJ,CAAM,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,IAAIyqC,EAAC,CAACzqC,CAAC,CAAC,CAAC,CAAH,CAAK,CAAX,CAAa,GAAG,KAAK,EAAE2qI,EAAE,CAAC,CAAC,EAAEF,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,EAAa4gC,CAAb,EAAgB,CAAjB,CAAT,CAAH,CAAiC,MAAMzqC,CAAC,CAACyqC,CAAF,CAAI,KAAIzjC,CAAC,CAAC,CAAN,GAAU,CAAC,GAAGhH,CAAC,GAAG,CAAJ,EAAOgH,CAAC,GAAG,CAAd,CAAgB,KAAMqjC,EAAN,CAAQ,GAAG,KAAK,EAAEsgG,EAAE,CAAC,CAAClgG,CAAC,CAAC,CAAC,EAAEggG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,EAAa7C,CAAb,CAAe,CAAlB,GAAsB,CAAvB,CAAT,CAAH,CAAuC,MAAMA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAEyjI,EAAE,CAACpgG,CAAC,CAAC,CAAF,EAAK,CAAN,CAAJ,GAAe8gG,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAAF,CAASI,CAAC,CAAC,CAAC,EAAEggG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,EAAa7C,CAAb,CAAe,CAAzC,EAA4CkkI,EAAE,CAAC7gG,CAAD,CAAGI,CAAH,CAAKzqC,CAAC,CAACgH,CAAF,CAAI,CAAT,CAA9C,CAA0DmkI,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAA5D,CAAmE,CAAC,CAAtQ,MAA4Q,CAA5Q,EAA+Q,CAAliB,CAAmiB,SAASA,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAe,CAAC6J,CAAC,EAAE,CAAH,CAAK7J,CAAC,EAAE,CAAR,CAAU,GAAIgH,EAAJ,CAAMyjC,CAAN,CAAQn0B,CAAC,CAAC,CAAV,CAAYmP,CAAC,CAAC,CAAd,CAAgB,GAAG,EAAEglH,EAAE,CAAC,GAAGpgG,CAAC,EAAE,CAAN,GAAU,CAAX,CAAJ,EAAmB8gG,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAArB,CAA4B,EAAExgC,CAAF,EAAK,GAAGyM,CAAC,CAAC,EAAEm0H,EAAE,CAAC,CAAChlH,CAAC,CAAC5b,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAT,CAApC,CAA6D,CAAC,IAAI7C,CAAC,CAAC,CAAN,CAAQ,EAAEsP,CAAC,GAAG,CAAJ,EAAOtP,CAAC,GAAG,CAAb,GAAiB,EAAEq7C,CAAC,CAAC,EAAE2oF,EAAE,CAAC,CAAC,EAAEP,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,EAAa7C,CAAb,EAAgB,CAAjB,CAAL,CAA5B,EAAuDA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAG,CAAC,EAAEA,CAAH,IAAQ,EAAEsP,CAAV,CAAH,CAAgB,CAAC40H,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAaA,CAAC,CAAC,EAAE,CAAC,GAAG,IAAIogG,EAAE,CAACzqI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAT,CAAmB,OAAO,CAAC,GAAG,CAACsW,CAAC,CAAC,EAAEm0H,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAP,IAAiB,CAAjB,EAAoBze,CAAC,GAAG,CAA3B,CAA6B,KAAMqjC,EAAN,CAAQ,IAAII,CAAC,CAACzjC,CAAN,CAAQ,EAAEsP,CAAC,GAAG,CAAJ,EAAOm0B,CAAC,GAAG,CAAb,GAAiB,KAAK,EAAEkgG,EAAE,CAAC,CAAC,EAAEF,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,EAAa4gC,CAAb,EAAgB,CAAjB,CAAT,CAAzB,EAAwDA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,GAAG,CAAC,CAACzjC,CAAC,CAACA,CAAC,GAAG,CAAJ,CAAMyjC,CAAC,GAAG,CAAV,EAAaygG,EAAE,CAAC7gG,CAAD,CAAG,CAAC,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,EAAa7C,CAAb,CAAe,CAAlB,CAAoByjC,CAAC,CAACzjC,CAAF,CAAI,CAAxB,CAAF,CAA6B,EAAEyjI,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAA9C,EAAsDnP,CAAzD,EAA4D,CAAC,CAA7D,CAA+D,CAAhE,IAAqE,CAArE,EAAwEm0B,CAAC,GAAG,CAA/E,CAAiF,KAAMJ,EAAN,CAAQtsC,CAAC,CAACssC,CAAD,CAAGrqC,CAAH,CAAD,CAAOgH,CAAC,CAACyjC,CAAC,CAAC,CAAF,CAAI,CAAb,CAAe,CAAxO,IAA6OygG,GAAE,CAAC7gG,CAAD,CAAG,CAAC,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAL,EAAa7C,CAAb,CAAe,CAAlB,CAAoB,CAAC,EAAEyjI,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAL,EAAaze,CAAb,CAAe,CAAnC,CAAF,CAAwC,CAAxR,MAA8R,CAA9R,EAAiSkkI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa,CAAC,CAAC,CAA1hC,CAA2hC,SAASA,CAAT,CAAWxgC,CAAX,CAAa,CAACA,CAAC,EAAE,CAAH,CAAKqhI,EAAE,CAAC7gG,CAAC,EAAE,CAAJ,CAAM,IAAN,CAAW,CAAX,CAAP,CAAqB,EAAExgC,CAAF,EAAKqhI,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAA5B,CAAwDqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAA1D,CAAqE,CAA9mC,CAA+mC,SAASA,CAAT,CAAWxgC,CAAX,CAAa,CAAC,GAAGA,CAAC,EAAE,CAAN,GAAU2lC,CAAC,CAAC,EAAEnF,CAAH,CAAK,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAT,CAAgB,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAApB,CAAX,CAAyC,CAAtqC,CAAuqC,SAASwgC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAe,CAACqqC,CAAC,EAAE,CAAH,CAAK,EAAEogG,EAAE,CAAC,IAAIzqI,CAAC,EAAE,CAAP,GAAW,CAAZ,CAAJ,EAAoBkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAA3B,CAAuC,EAAEogG,EAAE,CAAC,CAAC5gI,CAAC,CAAC7J,CAAC,CAAC,EAAF,CAAK,CAAR,GAAY,CAAb,CAAJ,GAAsBkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAaQ,CAAC,CAACR,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAd,CAA6BshI,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAArD,CAAvC,CAAoG,CAA3xC,CAAphoB,CAAizqByhG,EAAE,CAAC,CAACjpH,EAAD,CAAI,SAASwnB,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiB,CAACqjC,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAe,GAAIyqC,EAAC,CAAC,GAAGzjC,CAAC,EAAE,CAAN,EAAS,CAAf,CAAiBsP,CAAC,CAAC,EAAEm0H,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAvB,CAA8BhlB,CAAC,CAACze,CAAC,CAAC,CAAF,CAAI,CAApC,CAAsCsP,CAAC,CAACmP,CAAC,CAAC,EAAEglH,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAP,EAAenP,CAAC,CAACtW,CAAC,CAAC,CAAC,CAAH,CAAK,CAAP,CAASkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAX,CAAuB5kB,CAAC,CAACglH,EAAE,CAAChlH,CAAC,EAAE,CAAJ,CAAF,CAASnP,CAAlC,CAAoCA,CAAC,CAAC,EAAEm0H,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAzD,CAAD,CAAkEhlB,CAAC,CAACzlB,CAAC,CAACylB,CAAF,CAAI,CAAxE,CAA0E4kB,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE/zB,CAAH,GAAO,EAAEmP,CAAT,CAAH,CAAe,OAAO,CAAC,GAAG,CAAC,EAAEA,CAAH,IAAQ,EAAEnP,CAAV,CAAH,CAAgB,KAAM+zB,EAAN,CAAQ6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAcogG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAASn0B,CAAC,CAAC,GAAG,EAAEm0H,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAP,EAAe,CAAxC,CAA0C,CAAzF,IAA8F,IAAG,CAAC,EAAEn0B,CAAH,IAAQ,EAAEmP,CAAV,CAAH,CAAgBylH,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAhB,IAAkC,CAAC,IAAI6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa/zB,CAAC,CAAC,EAAEm0H,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAvB,CAA8B,EAAE,CAAC,EAAEn0B,CAAH,IAAQ,EAAEmP,CAAV,CAAF,CAA9B,EAA+CylH,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAcogG,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAF,CAASn0B,CAAC,CAAC,CAAC,EAAEm0H,EAAE,CAAChgG,CAAC,EAAE,CAAJ,CAAL,EAAa,CAAb,CAAe,CAAxC,CAA0CygG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa,CAAC,CAA3O,MAAiP,CAAjP,EAAoP6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAc,GAAG/zB,CAAC,CAAC,EAAEm0H,EAAE,CAACzjI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAT,GAAqB6jC,CAAC,CAACR,CAAD,CAAG/zB,CAAH,CAApC,CAA0C40H,EAAE,CAAC7gG,CAAD,CAAG,GAAH,CAAO,CAAP,CAA5C,CAAsDogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAAS,GAAGyjC,CAAC,CAAC,EAAEggG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAT,CAA/D,CAAgFyQ,CAAC,CAAC4yB,CAAD,CAAGI,CAAH,CAAjF,CAAuFygG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAzF,CAAoG,EAAExgC,CAAF,EAAK2lC,CAAC,CAACnF,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAA1G,CAAsIqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAxI,CAAmJ,CAA9hB,CAA+hB,SAASA,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiB,CAAC6C,CAAC,EAAE,CAAH,CAAK7J,CAAC,EAAE,CAAR,CAAU,GAAIyqC,EAAJ,CAAMn0B,CAAN,CAAQmP,CAAC,CAAC,CAAV,CAAY8kB,CAAC,CAAC,CAAd,CAAgB9yB,CAAC,CAAC,CAAlB,CAAoBizB,CAAC,CAAC,CAAtB,CAAwB,GAAG,EAAE+/F,EAAE,CAAC,GAAGpgG,CAAC,EAAE,CAAN,GAAU,CAAX,CAAJ,EAAmB8gG,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAArB,CAA4B,IAAI,EAAErqC,CAAN,GAAU,IAAI,EAAEyqI,EAAE,CAAC,CAAChzH,CAAC,CAACzX,CAAC,CAAC,CAAF,CAAI,CAAP,GAAW,CAAZ,CAAR,CAAzC,CAAiE,CAAC,IAAIkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAcrjC,CAAC,CAACsP,CAAC,CAAC,CAAtB,GAA0B,CAAC,GAAI6lB,EAAC,CAAC,EAAEsuG,EAAE,CAAChzH,CAAC,EAAE,CAAJ,CAAV,CAAiB,GAAG0kB,CAAC,GAAG,CAAJ,EAAOn1B,CAAC,GAAG,CAAd,CAAgB,MAAM,KAAK,EAAEm1B,CAAC,GAAG,CAAJ,EAAOn1B,CAAC,GAAG,CAAb,CAAL,EAAsB,CAAC,GAAG,EAAE,EAAEq7C,CAAC,CAAC,KAAK58B,CAAC,CAAC,EAAEklH,EAAE,CAAC,CAACpgG,CAAC,CAAC,EAAEkgG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAP,EAAegH,CAAf,EAAkB,CAAnB,CAAX,CAAD,CAAL,CAAH,CAA6C,CAAC0jC,CAAC,CAAC,EAAF,CAAK,MAAM,CAAA1jC,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQ,IAAG,KAAK,EAAE0jC,CAAP,CAAH,CAAa,CAAC,IAAIA,CAAC,CAAC,CAAF,CAAID,CAAC,CAACzjC,CAAV,CAAY,EAAEm1B,CAAC,GAAG,CAAJ,EAAOsO,CAAC,GAAG,CAAX,EAAc,EAAE4X,CAAC,CAAC,EAAE2oF,EAAE,CAACzgG,CAAC,CAACE,CAAF,EAAK,CAAN,CAAL,CAAnB,CAAZ,EAAgDA,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQhlB,CAAC,CAACze,CAAC,EAAE,IAAIye,CAAC,EAAE,EAAH,EAAO,EAAX,CAAc,CAAhB,CAAD,CAAoB,CAAtB,CAAwB+pB,CAAC,CAACnF,CAAD,CAAG,CAACrjC,CAAC,CAACsP,CAAC,EAAE60H,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAAF,CAAS,EAAEogG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAf,EAAuBuqC,CAA3B,EAA8B9kB,CAA9B,CAAgC,CAAnC,CAAqCglB,CAAC,CAAChlB,CAAF,CAAI,CAAzC,CAAzB,CAAqEze,CAAC,CAACyjC,CAAvE,CAAyE,CAAAn0B,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAN,CAAQtP,CAAC,CAACA,CAAC,CAAC,CAAF,CAAI,CAAd,CAAgB,CAAAkkI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa,CAAxY,IAA6Y6gG,GAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAc,EAAExgC,CAAF,EAAK2lC,CAAC,CAACnF,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAAN,CAAkCqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAApC,CAAgD,CAA9hC,CAA+hC,SAASA,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiB,CAAC6C,CAAC,EAAE,CAAH,CAAK7J,CAAC,EAAE,CAAR,CAAUgH,CAAC,EAAE,CAAb,CAAe,EAAEyjI,EAAE,CAAC,GAAGpgG,CAAC,EAAE,CAAN,GAAU,CAAX,CAAJ,EAAmB8gG,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAApC,CAA2C,GAAII,EAAC,CAAC,IAAI,GAAGggG,EAAE,CAACzjI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAL,CAAe,CAAnB,CAAN,CAA4BkkI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa5yB,CAAC,CAAC4yB,CAAD,CAAGrqC,CAAH,CAAd,CAAoByqC,CAAC,CAACygG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAH,EAAe6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa,GAAGI,CAAC,CAAC,EAAEggG,EAAE,CAACzjI,CAAC,CAAC,EAAF,EAAM,CAAP,CAAT,GAAqB6jC,CAAC,CAACR,CAAD,CAAGI,CAAH,CAAnC,CAAyCygG,EAAE,CAAC7gG,CAAD,CAAG,GAAH,CAAO,CAAP,CAA3C,CAAqDogG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAF,CAAS,GAAGyjC,CAAC,CAAC,EAAEggG,EAAE,CAACzjI,CAAC,EAAE,CAAJ,CAAT,CAA9D,CAA+EyQ,CAAC,CAAC4yB,CAAD,CAAGI,CAAH,CAAhF,CAAsFygG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAvG,CAArB,CAAwI,EAAExgC,CAAF,EAAKqhI,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAA/I,CAA2KqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAA7K,CAAwL5yB,CAAC,CAAC4yB,CAAD,CAAGrqC,CAAH,CAAzL,CAA+LkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAjM,CAA4M,CAAp0C,CAAq0C,SAASA,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAe,CAAC6J,CAAC,EAAE,CAAH,CAAK7J,CAAC,EAAE,CAAR,CAAU,EAAEyqI,EAAE,CAAC,GAAGpgG,CAAC,EAAE,CAAN,GAAU,CAAX,CAAJ,EAAmB8gG,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAA/B,CAAsC6gG,EAAE,CAAC7gG,CAAD,CAAG,CAACrqC,CAAC,CAAC,IAAI,EAAEA,CAAF,CAAI,CAAR,CAAH,EAAe,IAAf,CAAoB,IAAvB,CAA4B,CAA5B,CAAxC,CAAuE,EAAE6J,CAAF,EAAKqhI,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAA9E,CAA0GqhI,EAAE,CAAC7gG,CAAD,CAAGrqC,CAAC,CAAC,IAAD,CAAM,IAAV,CAAe,CAAf,CAA5G,CAA8H,CAAn9C,CAAo9C,SAASqqC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiB,CAAC,GAAG6C,CAAC,EAAE,CAAH,CAAKqhI,EAAE,CAAC7gG,CAAC,EAAE,CAAJ,CAAM,IAAN,CAAW,CAAX,CAAP,CAAqB,EAAExgC,CAA1B,CAA4B,CAAC,GAAI4gC,EAAC,CAAC,EAAEggG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAV,CAAiB,IAAI7J,CAAC,CAAC,EAAEyqI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAV,GAAqB,CAAC,GAAG,CAAC7J,CAAJ,CAAM,CAACA,CAAC,CAAC,CAAF,CAAI,MAAM,IAAG,KAAK,EAAE2qI,EAAE,CAAClgG,CAAC,EAAEzjC,CAAC,CAAChH,CAAC,CAAC,CAAC,CAAH,CAAK,CAAT,CAAD,EAAc,CAAf,CAAT,CAAH,CAA+B,MAAMA,CAAC,CAACgH,CAAF,CAAI,CAAAkkI,EAAE,CAAC7gG,CAAD,CAAGI,CAAH,CAAKzqC,CAAL,CAAF,CAAU,CAAAkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAAa,CAA3nD,CAA4nD,SAASA,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAe,CAAC6J,CAAC,EAAE,CAAH,CAAK7J,CAAC,EAAE,CAAR,CAAU,EAAEyqI,EAAE,CAAC,GAAGpgG,CAAC,EAAE,CAAN,GAAU,CAAX,CAAJ,EAAmB8gG,EAAE,CAAC9gG,CAAD,CAAG,EAAH,CAA/B,CAAsC6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAxC,CAAoD,EAAExgC,CAAF,EAAKqhI,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAA3D,CAAuFqhI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAzF,CAAqG,EAAErqC,CAAF,EAAKkrI,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAACzqI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAEyqI,EAAE,CAACzqI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAA5G,CAAwIkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAA1I,CAAsJ,CAAlyD,CAAmyDxnB,EAAnyD,CAApzqB,CAA2luB+qH,EAAE,CAAC,CAAC,UAAU,CAACb,EAAE,CAAC,CAAD,CAAF,CAAM,CAAlB,CAAmB,SAAS1iG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmB,CAAC,OAAOJ,CAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU4gC,CAAC,EAAE,CAAb,CAAe,CAACzjC,CAAC,CAAC,IAAI,GAAGhH,CAAC,EAAE,CAAN,EAAS,CAAb,CAAH,EAAoBkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAtB,CAAiC6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAlD,CAA6D,GAAG,EAAEI,CAAL,IAAUygG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAc5yB,CAAC,CAAC4yB,CAAD,CAAGI,CAAH,CAAf,CAAqBygG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAjC,CAA7D,CAA0G,EAAErqC,CAAnH,EAAsH,IAAK,EAAL,CAAOkrI,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAc,MAAM,IAAK,EAAL,CAAO6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAc,MAAM,IAAK,EAAL,CAAO6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,EAAR,CAAF,CAAc,MAAM,QAAQ6gG,EAAE,CAAC7gG,CAAD,CAAG,IAAH,CAAQ,CAAR,CAAF,CAA/M,CAA4N,EAAExgC,CAAF,EAAKqhI,EAAE,CAAC7gG,CAAD,CAAG,EAAEogG,EAAE,CAAC5gI,CAAC,EAAE,CAAJ,CAAP,CAAc,EAAE4gI,EAAE,CAAC5gI,CAAC,CAAC,CAAF,EAAK,CAAN,CAAlB,CAAP,CAAmCqhI,EAAE,CAAC7gG,CAAD,CAAGrjC,CAAC,CAAC,IAAD,CAAM,IAAV,CAAe,CAAf,CAArC,CAAuD,CAA1T,CAA9luB,CAA05uB,MAAM,CAACmqI,SAAS,CAAC3E,CAAX,CAAa4E,UAAU,CAAC1E,EAAxB,CAA2B2E,eAAe,CAAC98D,EAA3C,CAA8C+8D,cAAc,CAAC3E,EAA7D,CAAgE4E,iBAAiB,CAAC,SAASlnG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC,MAAO+zB,EAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAegH,CAAC,EAAE,CAAlB,CAAoByjC,CAAC,EAAE,CAAvB,CAAyBn0B,CAAC,EAAE,CAA5B,CAA8B,EAAEm0H,EAAE,CAAC,IAAD,CAAJ,GAAaA,EAAE,CAAC,IAAD,CAAF,CAAS,CAAT,CAAWA,EAAE,CAAC,IAAD,CAAF,CAAS,EAAEhlH,CAAC,CAAC,IAAD,CAAM,GAAN,CAAU,CAAV,CAAvB,CAAoCglH,EAAE,CAAC,IAAD,CAAF,CAAS,EAAEhlH,CAAC,CAAC,IAAD,CAAM,GAAN,CAAU,CAAV,CAAhD,CAA6DglH,EAAE,CAAC,IAAD,CAAF,CAAS,IAAtE,CAA2EA,EAAE,CAAC,IAAD,CAAF,CAAS,IAAjG,CAA9B,CAAqI,EAAElgG,CAAC,CAACF,CAAD,CAAGxgC,CAAH,CAAK7J,CAAL,CAAOgH,CAAP,CAASyjC,CAAT,CAAW,CAAX,CAAan0B,CAAb,CAA/I,CAA+J,CAAvQ,CAAwQk7H,wBAAwB,CAAC,UAAU,CAAC,MAAO,KAAP,CAAY,CAAxT,CAAyTC,KAAK,CAACnG,EAA/T,CAAkUoG,OAAO,CAACtqG,CAA1U,CAA4UuqG,YAAY,CAAC9lG,CAAzV,CAA2V+lG,eAAe,CAAChF,EAA3W,CAA8WiF,OAAO,CAACv0E,CAAtX,CAAwXw0E,OAAO,CAAClH,EAAhY,CAAmYmH,QAAQ,CAAC7D,EAA5Y,CAA+Y8D,OAAO,CAACtH,EAAvZ,CAA0ZuH,cAAc,CAAC,SAAS5nG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC,MAAO+zB,EAAC,EAAE,CAAH,CAAKxgC,CAAC,EAAE,CAAR,CAAU7J,CAAC,EAAE,CAAb,CAAegH,CAAC,EAAE,CAAlB,CAAoByjC,CAAC,EAAE,CAAvB,CAAyBn0B,CAAC,EAAE,CAA5B,CAA8B,EAAEm0H,EAAE,CAAC,IAAD,CAAJ,GAAaA,EAAE,CAAC,IAAD,CAAF,CAAS,CAAT,CAAWA,EAAE,CAAC,IAAD,CAAF,CAAS,EAAEhlH,CAAC,CAAC,IAAD,CAAM,IAAN,CAAW,CAAX,CAAvB,CAAqCglH,EAAE,CAAC,IAAD,CAAF,CAAS,EAAEhlH,CAAC,CAAC,IAAD,CAAM,IAAN,CAAW,CAAX,CAAjD,CAA+DglH,EAAE,CAAC,IAAD,CAAF,CAAS,IAAxE,CAA6EA,EAAE,CAAC,IAAD,CAAF,CAAS,IAAnG,CAA9B,CAAuI,EAAElgG,CAAC,CAACF,CAAD,CAAGxgC,CAAH,CAAK7J,CAAL,CAAOgH,CAAP,CAASyjC,CAAT,CAAW,CAAX,CAAan0B,CAAb,CAAjJ,CAAiK,CAAhmB,CAAimB47H,WAAW,CAAC,SAAS7nG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAe,CAAC,MAAO,GAAEwtI,EAAE,CAAC,GAAG,EAAEnjG,CAAL,CAAD,CAAF,CAAY,EAAExgC,CAAd,CAAgB,EAAE7J,CAAlB,CAAT,CAA8B,CAA3pB,CAA4pBmyI,YAAY,CAAC,SAAS9nG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiB,CAAC,MAAO,GAAEymI,EAAE,CAAC,IAAI,EAAEpjG,CAAN,CAAD,CAAF,CAAa,EAAExgC,CAAf,CAAiB,EAAE7J,CAAnB,CAAqB,EAAEgH,CAAvB,CAAT,CAAmC,CAA9tB,CAA+tBorI,aAAa,CAAC,SAAS/nG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmB,CAAC,MAAO,GAAEijG,EAAE,CAAC,GAAG,EAAErjG,CAAL,CAAD,CAAF,CAAY,EAAExgC,CAAd,CAAgB,EAAE7J,CAAlB,CAAoB,EAAEgH,CAAtB,CAAwB,EAAEyjC,CAA1B,CAAT,CAAsC,CAAvyB,CAAwyB4nG,cAAc,CAAC,SAAShoG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAAC,MAAO,GAAEyqC,EAAE,CAAC,GAAG,EAAE1W,CAAL,CAAD,CAAF,CAAY,EAAExgC,CAAd,CAAgB,EAAE7J,CAAlB,CAAoB,EAAEgH,CAAtB,CAAwB,EAAEyjC,CAA1B,CAA4B,EAAEn0B,CAA9B,CAAT,CAA0C,CAAv3B,CAAw3Bg8H,eAAe,CAAC,SAASjoG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqBmP,CAArB,CAAuB,CAAC,MAAO,GAAEkoH,EAAE,CAAC,IAAI,EAAEtjG,CAAN,CAAD,CAAF,CAAa,EAAExgC,CAAf,CAAiB,EAAE7J,CAAnB,CAAqB,EAAEgH,CAAvB,CAAyB,EAAEyjC,CAA3B,CAA6B,EAAEn0B,CAA/B,CAAiC,EAAEmP,CAAnC,CAAT,CAA+C,CAA/8B,CAAg9B8sH,WAAW,CAAC,SAASloG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAe,CAACyrI,EAAE,CAAC,GAAG,EAAEphG,CAAL,CAAD,CAAF,CAAY,EAAExgC,CAAd,CAAgB,EAAE7J,CAAlB,EAAqB,CAAjgC,CAAkgCwyI,YAAY,CAAC,SAASnoG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiB,CAACmnI,EAAE,CAAC,GAAG,EAAE9jG,CAAL,CAAD,CAAF,CAAY,EAAExgC,CAAd,CAAgB,EAAE7J,CAAlB,CAAoB,EAAEgH,CAAtB,EAAyB,CAA1jC,CAA2jCyrI,aAAa,CAAC,SAASpoG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmB,CAACqhG,EAAE,CAAC,GAAG,EAAEzhG,CAAL,CAAD,CAAF,CAAY,EAAExgC,CAAd,CAAgB,EAAE7J,CAAlB,CAAoB,EAAEgH,CAAtB,CAAwB,EAAEyjC,CAA1B,EAA6B,CAA1nC,CAA2nCioG,cAAc,CAAC,SAASroG,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAegH,CAAf,CAAiByjC,CAAjB,CAAmBn0B,CAAnB,CAAqB,CAACs3H,EAAE,CAAC,GAAG,EAAEvjG,CAAL,CAAD,CAAF,CAAY,EAAExgC,CAAd,CAAgB,EAAE7J,CAAlB,CAAoB,EAAEgH,CAAtB,CAAwB,EAAEyjC,CAA1B,CAA4B,EAAEn0B,CAA9B,EAAiC,CAAjsC,CAAksCq8H,mBAAmB,CAAC,SAAStoG,CAAT,CAAW,CAAC+gG,EAAE,CAAC,EAAE/gG,CAAL,CAAO,CAAzuC,CAA0uCuoG,UAAU,CAAC,SAASvoG,CAAT,CAAW,CAAC,GAAIxgC,EAAC,CAACuhI,EAAN,CAAS,MAAOA,GAAE,CAAC,IAAIA,EAAE,CAACA,EAAE,EAAE,EAAE/gG,CAAJ,CAAF,CAAS,CAAhB,EAAmB,CAAC,EAAvB,CAA0B,EAAExgC,CAAnC,CAAqC,CAA/yC,CAAgzCgpI,YAAY,CAAC,SAASxoG,CAAT,CAAW,CAAC+gG,EAAE,CAAC,EAAE/gG,CAAL,CAAO,CAAh1C,CAAi1CyoG,SAAS,CAAC,UAAU,CAAC,MAAO,GAAE1H,EAAT,CAAY,CAAl3C,CAAN,CAA03C,CAA9vmE,CAAgwmE,CAAC1nI,IAAI,CAACA,IAAN,CAAW8lI,SAAS,CAACA,SAArB,CAA+BE,UAAU,CAACA,UAA1C,CAAqDE,UAAU,CAACA,UAAhE,CAA2EE,UAAU,CAACA,UAAtF,CAAiGE,WAAW,CAACA,WAA7G,CAAhwmE,CAA03mE,CAAChjI,CAAC,CAAC,SAASqjC,CAAT,CAAW,CAAC,KAAME,EAAC,CAACF,CAAD,CAAD,CAAKK,YAAC,CAACL,CAAD,CAAN,CAAUG,CAAC,CAAC,CAAC,CAAb,CAAe,SAASH,CAAT,CAAW,8CAAhC,CAA+E,CAA9F,CAA+FpjC,CAAC,CAAC,SAASojC,CAAT,CAAW,CAACsB,YAAC,CAACtB,CAAF,CAAI,CAAjH,CAAkHK,CAAC,CAAC,UAAU,CAAC,MAAOiB,aAAP,CAAS,CAAxI,CAAyIA,CAAC,CAAC,UAAU,CAAC,MAAOrB,EAAC,CAAChpC,MAAT,CAAgB,CAAtK,CAAuKuI,CAAC,CAAC,SAASwgC,CAAT,CAAWxgC,CAAX,CAAa7J,CAAb,CAAe,CAACiH,YAAC,CAAC6X,GAAF,CAAM7X,YAAC,CAAC8rI,QAAF,CAAWlpI,CAAX,CAAaA,CAAC,CAAC7J,CAAf,CAAN,CAAwBqqC,CAAxB,EAA2B,CAApN,CAAqNI,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAP,CAAS,CAA3O,CAA4OM,CAAC,CAAC,SAASV,CAAT,CAAW,CAAC,MAAOA,EAAP,CAAS,CAAnQ,CAAoQG,CAAC,CAACxqC,YAAtQ,CAAwQA,CAAC,CAACgH,YAA1Q,CAA4QvE,CAAC,CAAC,UAAU,CAAC,GAAI4nC,EAAC,CAACrjC,YAAC,EAAP,CAAU,MAAOsP,EAAC,CAAC08H,eAAF,GAAoB3oG,CAAC,EAAE,KAAK/zB,CAAC,CAAC08H,eAAF,EAA5B,EAAiDhzI,YAAC,CAACqqC,CAAD,CAAzD,CAA6D,CAAhW,CAAiW2/C,CAAC,CAAC,IAAnW,CAA13mE,CAAmunE7tD,CAAnunE,CAAN,CAA4unE7lB,CAAC,CAAC66H,SAAF,CAAYtmG,YAAC,CAACsmG,SAAd,CAAwB76H,CAAC,CAAC86H,UAAF,CAAavmG,YAAC,CAACumG,UAAvC,CAAkD96H,CAAC,CAAC+6H,eAAF,CAAkBxmG,YAAC,CAACwmG,eAAtE,CAAsF/6H,CAAC,CAACg7H,cAAF,CAAiBzmG,YAAC,CAACymG,cAAzG,CAAwH,GAAIvmG,aAAC,CAACz0B,CAAC,CAACi7H,iBAAF,CAAoB1mG,YAAC,CAAC0mG,iBAA5B,CAA8Cj7H,CAAC,CAACk7H,wBAAF,CAA2B3mG,YAAC,CAAC2mG,wBAA7B,CAAsD,GAAI7hG,EAAC,CAACr5B,CAAC,CAACm7H,KAAF,CAAQ5mG,YAAC,CAAC4mG,KAAhB,CAAsBn7H,CAAC,CAACo7H,OAAF,CAAU7mG,YAAC,CAAC6mG,OAAZ,CAAoBp7H,CAAC,CAACq7H,YAAF,CAAe9mG,YAAC,CAAC8mG,YAArC,CAAkDr7H,CAAC,CAACs7H,eAAF,CAAkB/mG,YAAC,CAAC+mG,eAAtE,CAAsFt7H,CAAC,CAACu7H,OAAF,CAAUhnG,YAAC,CAACgnG,OAAlG,CAA0Gv7H,CAAC,CAACw7H,OAAF,CAAUjnG,YAAC,CAACinG,OAAtH,CAA8Hx7H,CAAC,CAACy7H,QAAF,CAAWlnG,YAAC,CAACknG,QAA3I,CAAoJz7H,CAAC,CAAC07H,OAAF,CAAUnnG,YAAC,CAACmnG,OAAhK,CAAwK,GAAI50E,EAAC,CAAC9mD,CAAC,CAAC27H,cAAF,CAAiBpnG,YAAC,CAAConG,cAAzB,CAAwC37H,CAAC,CAACq8H,mBAAF,CAAsB9nG,YAAC,CAAC8nG,mBAAxB,CAA4C,GAAI9H,EAAJ,CAAM5nE,YAAC,CAAC3sD,CAAC,CAACs8H,UAAF,CAAa/nG,YAAC,CAAC+nG,UAAvB,CAAkCvJ,CAAC,CAAC/yH,CAAC,CAACu8H,YAAF,CAAehoG,YAAC,CAACgoG,YAArD,CAAkE5J,CAAC,CAAC3yH,CAAC,CAACw8H,SAAF,CAAYjoG,YAAC,CAACioG,SAAlF,CAA4Fx8H,CAAC,CAAC47H,WAAF,CAAcrnG,YAAC,CAACqnG,WAAhB,CAA4B57H,CAAC,CAAC67H,YAAF,CAAetnG,YAAC,CAACsnG,YAA7C,CAA0D77H,CAAC,CAAC87H,aAAF,CAAgBvnG,YAAC,CAACunG,aAA5E,CAA0F97H,CAAC,CAAC+7H,cAAF,CAAiBxnG,YAAC,CAACwnG,cAA7G,CAA4H/7H,CAAC,CAACg8H,eAAF,CAAkBznG,YAAC,CAACynG,eAAhJ,CAAgKh8H,CAAC,CAACi8H,WAAF,CAAc1nG,YAAC,CAAC0nG,WAAhL,CAA4Lj8H,CAAC,CAACk8H,YAAF,CAAe3nG,YAAC,CAAC2nG,YAA7M,CAA0Nl8H,CAAC,CAACm8H,aAAF,CAAgB5nG,YAAC,CAAC4nG,aAA5O,CAA0Pn8H,CAAC,CAACo8H,cAAF,CAAiB7nG,YAAC,CAAC6nG,cAA7Q,CAA4Rp8H,CAAC,CAAC28H,GAAF,CAAMpoG,YAAlS,CAAoSplB,YAAC,EAAG,SAAS4kB,CAAT,CAAW,CAAC,GAAIxgC,EAAJ,CAAM7J,CAAC,CAACqqC,CAAC,CAAC/oC,MAAV,CAAiB,IAAIuI,CAAC,CAAC,CAAN,CAAQA,CAAC,CAAC7J,CAAV,CAAY,EAAE6J,CAAd,CAAgB5C,YAAC,CAAC,EAAE4C,CAAH,CAAD,CAAOwgC,CAAC,CAACjhC,UAAF,CAAaS,CAAb,CAAP,CAAuB,CAArE,CAAuE4b,YAAvE,CAAvS,CAAiX,CAACnP,CAAC,CAACid,GAAF,CAAM,UAAU,CAAC1pB,YAAC,CAAC9L,CAAD,CAAD,CAAK8sI,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAH,CAAKrgG,CAAC,GAAG3gC,YAAC,CAACG,CAAD,CAAD,CAAKH,YAAC,CAACnB,CAAD,CAAN,CAAUmB,YAAC,CAACoqB,CAAD,CAAd,CAAT,CAAN,CAAmC,CAArD,GAAjX,CAAib,QAASi/G,oBAAT,CAAkB7oG,CAAlB,CAAoBxgC,CAApB,CAAsB,CAAC,MAAO4gC,EAAC,CAACM,YAAD,CAAGV,CAAH,CAAKxgC,CAAL,CAAR,CAAgB,CAAQ,QAASspI,aAAT,CAAsB9oG,CAAtB,CAAwBxgC,CAAxB,CAA0B,CAAC,MAAO4gC,EAAC,CAAC2yB,CAAD,CAAG/yB,CAAH,CAAKxgC,CAAL,CAAR,CAAgB,C;;ACEvgkF;AACA;AACA;AACA;AAEe,+CAAI+3H,IAAJ,CAAS,QAAT,EAAmB;AACjCC,SAAO,EAAE,CAAC,iBAAD,CADwB;AAEjCC,MAAI,EAAE,2CAF2B;AAGjC/+H,MAAI,EAAE,cAH2B;AAIjCk/H,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,sCAAD,CAAyC1yE,IAAzC,CAA8C0yE,QAA9C,CAJO;;AAKjC,QAAMilD,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAGzH,EAAH,CAAvB,EAA+B;AAC9B,UAAM;AAAE2oI,WAAF;AAAS5xC;AAAT,QAAyB,MAAMvhE,IAAI,CAAC;AACzCZ,SAAG,EAAG,gCAA+B50B,EAAG,EADC;AAEzCjL,UAAI,EAAE,MAFmC;AAGzCkhF,cAAQ,EAAE5L,GAAGA;AAH4B,KAAD,CAAzC;AAMA,QAAIr1E,GAAG,GAAG,EAAV;;AAEA,SAAK,MAAM,CAAC6jF,QAAD,EAAW;AAAEhrE,aAAF;AAAW0rE,cAAX;AAAqBqvD;AAArB,KAAX,CAAX,IAA2Dh1I,MAAM,CAAC0uE,OAAP,CAAeqmE,KAAf,CAA3D,EAAkF;AACjF3zI,SAAG,IAAI8e,sBAAM,CAACnP,MAAO,OAAMk0E,QAAS,QAApC;;AAEA,UAAIU,QAAQ,KAAK,UAAjB,EAA6B;AAC5BvkF,WAAG,IAAIyzI,mBAAQ,CAAC56H,OAAD,CAAf;AACA,OAFD,MAEO;AACN7Y,WAAG,IAAI8e,sBAAM,CAACnP,MAAO,cAAakJ,OAAQ,eAA1C;AACA;;AAED,UAAI+6H,SAAJ,EAAe;AACd5zI,WAAG,IAAI,+BAAP;AACA;AACD;;AAED,WAAO;AACND,UAAI,EAAE,MADA;AAEN0xF,WAAK,EAAEsQ,WAFD;AAGN/hG;AAHM,KAAP;AAKA;;AAjCgC,CAAnB,CAAf,E;;ACLA;AAEe,mDAAImiI,IAAJ,CAAS,YAAT,EAAuB;AACrCC,SAAO,EAAE,CAAC,gBAAD,EAAmB,iBAAnB,EAAsC,cAAtC,EAAsD,YAAtD,EAAoE,WAApE,CAD4B;AAErCC,MAAI,EAAE,qCAF+B;AAGrC/+H,MAAI,EAAE,aAH+B;AAIrCk/H,QAAM,EAAE,CAAC;AAAExgG,QAAF;AAAQwhD,gBAAR;AAAsBhG;AAAtB,GAAD,KAAsC;AAE7C,QAAIx7C,IAAI,CAAC28C,UAAL,CAAgB,OAAhB,KAA4BnB,QAAQ,CAACmB,UAAT,CAAoB,OAApB,CAAhC,EAA8D;AAC7D,YAAMk1D,MAAM,GAAGrwD,YAAY,CAACzhF,GAAb,CAAiB,IAAjB,KAA0ByhF,YAAY,CAACzhF,GAAb,CAAiB,GAAjB,CAAzC;;AACA,UAAI8xI,MAAJ,EAAY;AAEX,eAAO,CACNA,MADM,EAENrwD,YAAY,CAACzhF,GAAb,CAAiB,GAAjB,CAFM,EAGNyhF,YAAY,CAAC1rE,GAAb,CAAiB,SAAjB,IAA8B0rE,YAAY,CAACzhF,GAAb,CAAiB,SAAjB,CAA9B,GAA4D,SAHtD,CAAP;AAKA,OAPD,MAOO;AAEN,cAAMuQ,QAAQ,GAAGkrE,QAAQ,CAAC73E,KAAT,CAAe,GAAf,EAAoBuI,IAApB,CAAyBo5C,IAAI,IAAIA,IAAI,CAACq3B,UAAL,CAAgB,GAAhB,CAAjC,CAAjB;;AACA,YAAIrsE,QAAJ,EAAc;AACb,gBAAM,CAACwhI,IAAD,EAAO71E,GAAP,EAAY81E,IAAZ,IAAoBzhI,QAAQ,CAACwuF,SAAT,CAAmB,CAAnB,EAAsBn7F,KAAtB,CAA4B,GAA5B,CAA1B;AAEA,iBAAO,CACL,GAAEmuI,IAAK,IAAG71E,GAAI,EADT,EAEN81E,IAAI,CAAChzD,QAAL,CAAc,GAAd,IAAqBgzD,IAArB,GAA4B,EAFtB,EAGNA,IAAI,CAAChzD,QAAL,CAAc,GAAd,IAAqB,SAArB,GAAiC,WAH3B,CAAP;AAKA;AACD;AACD;AACD,GA7BoC;;AA8BrC0hD,YAAU,CAAChwH,IAAD,EAAO,CAACohI,MAAD,EAASE,IAAT,EAAeC,OAAf,CAAP,EAAgC;AACzC,QAAIpN,KAAK,GAAI,oDAAmDiN,MAAO,8CAAvE;AACA,QAAIE,IAAJ,EAAUnN,KAAK,IAAK,SAAQmN,IAAK,EAAvB;AACV,QAAIC,OAAJ,EAAapN,KAAK,IAAK,YAAWoN,OAAQ,EAA7B;AAEb,WAAO;AACNj0I,UAAI,EAAE,QADA;AAEN6mI,WAFM;AAGNM,WAAK,EAAE;AAHD,KAAP;AAKA;;AAxCoC,CAAvB,CAAf,E;;ACFA;AACA;AAEe,8CAAI/E,IAAJ,CAAS,OAAT,EAAkB;AAChC7+H,MAAI,EAAE,OAD0B;AAEhC8+H,SAAO,EAAE,CAAC,WAAD,CAFuB;AAGhCj6C,aAAW,EAAE,CAAC,kCAAD,CAHmB;AAIhCk6C,MAAI,EAAE,+BAJ0B;AAKhCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,gBAAD,CAAmB1yE,IAAnB,CAAwB0yE,QAAxB,CALM;;AAMhC,QAAMilD,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAGzH,EAAH,CAAvB,EAA+B;AAC9B,UAAMknG,IAAI,GAAG,MAAM1xE,IAAI,CAAC;AACvBZ,SAAG,EAAE,kCADkB;AAEvByjD,WAAK,EAAE;AAAEzjD,WAAG,EAAEntB;AAAP,OAFgB;AAGvB1S,UAAI,EAAE;AAHiB,KAAD,CAAvB;;AAMA,YAAQmyG,IAAI,CAACnyG,IAAb;AACC,WAAK,OAAL;AACC,eAAO;AACNA,cAAI,EAAE,OADA;AAENC,aAAG,EAAEkyG,IAAI,CAACtyE;AAFJ,SAAP;;AAID,WAAK,OAAL;AACC,eAAO;AACN7/B,cAAI,EAAE,OADA;AAENmnI,eAAK,EAAE,IAFD;AAGNtE,cAAI,EAAE,IAHA;AAIN5rC,kBAAQ,EAAG,uBAAsBhsF,EAAG,MAJ9B;AAKN0iE,iBAAO,EAAE,CAAC;AACT5sD,kBAAM,EAAG,uBAAsB9V,EAAG,MADzB;AAETjL,gBAAI,EAAE;AAFG,WAAD;AALH,SAAP;;AAUD;AACC,cAAM,IAAIxB,KAAJ,CAAW,uBAAsB2zG,IAAI,CAACnyG,IAAK,EAA3C,CAAN;AAlBF;AAoBA;;AAjC+B,CAAlB,CAAf,E;;ACHA;AAEe,iDAAIoiI,IAAJ,CAAS,UAAT,EAAqB;AACnC7+H,MAAI,EAAE,UAD6B;AAEnC8+H,SAAO,EAAE,CAAC,cAAD,CAF0B;AAGnCG,aAAW,EAAE,KAHsB;AAInCC,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,wBAAD,CAA2B1yE,IAA3B,CAAgC0yE,QAAhC,CAJS;;AAKnCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGoxE,QAAH,CAAP,EAAqB;AAC9B,WAAO;AACN9jF,UAAI,EAAE,QADA;AAENinI,kBAAY,EAAE,UAFR;AAGNE,WAAK,EAAE,IAHD;AAINN,WAAK,EAAG,wBAAuB/iD,QAAS,EAJlC;AAKNruD,YAAM,EAAE,OALF;AAMNpG,WAAK,EAAE;AAND,KAAP;AAQA;;AAdkC,CAArB,CAAf,E;;ACFA;AAEe,gDAAI+yG,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,qBAD4B;AAElC8+H,SAAO,EAAE,CAAC,aAAD,CAFyB;AAGlCC,MAAI,EAAE,iCAH4B;AAIlCG,QAAM,EAAE,CAAC;AAAE/vH;AAAF,GAAD,KACN,uEAAD,CAA0E3H,IAA1E,CAA+E2H,IAA/E,KACC,uFAAD,CAA0F3H,IAA1F,CAA+F2H,IAA/F,CANiC;;AAQlCgwH,YAAU,CAAChwH,IAAD,EAAO;AAChB,QAAIgxD,IAAI,GAAG,EAAX;AACA,UAAMwwE,aAAa,GAAG,yCAAtB;AACA,UAAMC,WAAW,GAAGD,aAAa,CAACnpI,IAAd,CAAmB2H,IAAnB,CAApB;;AAEA,QAAIyhI,WAAJ,EAAiB;AAChBzwE,UAAI,GAAI,uBAAsBywE,WAAW,CAAC,CAAD,CAAI,IAAGA,WAAW,CAAC,CAAD,CAAI,cAA/D;AACA,KAFD,MAEO;AACNzwE,UAAI,GAAGhxD,IAAI,CAACtO,OAAL,CAAa,gBAAb,EAA+B,YAA/B,CAAP;AACA;;AAED,WAAO;AACNpE,UAAI,EAAE,QADA;AAENmnI,WAAK,EAAE,IAFD;AAGNN,WAAK,EAAEnjE,IAHD;AAINojE,gBAAU,EAAE;AAJN,KAAP;AAMA;;AAzBiC,CAApB,CAAf,E;;ACFA;AAEe,gDAAI1E,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,SAD4B;AAElC8+H,SAAO,EAAE,CAAC,aAAD,CAFyB;AAGlCC,MAAI,EAAE,mCAH4B;AAIlCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,yBAAD,CAA4B1yE,IAA5B,CAAiC0yE,QAAjC,CAJQ;;AAKlCilD,YAAU,CAAChwH,IAAD,EAAO,GAAG1S,IAAH,EAASiL,EAAT,CAAP,EAAqB;AAC9B,WAAO;AACNjL,UAAI,EAAE,OADA;AAENC,SAAG,EAAG,yBAAwBgL,EAAG,IAAGjL,IAAI,KAAK,KAAT,GAAiB,KAAjB,GAAyB,KAAM;AAF7D,KAAP;AAIA;;AAViC,CAApB,CAAf,E;;ACFA;AACA;AACA;AAEe,8CAAIoiI,IAAJ,CAAS,OAAT,EAAkB;AAChC7+H,MAAI,EAAE,OAD0B;AAEhC8+H,SAAO,EAAE,CAAC,WAAD,CAFuB;AAGhCC,MAAI,EAAE,iCAH0B;AAIhCh/H,SAAO,EAAE;AACR8wI,mBAAe,EAAE;AAChB1iD,WAAK,EAAE,2BADS;AAEhBsQ,iBAAW,EAAE,0BAFG;AAGhBx8F,WAAK,EAAE,IAHS;AAIhBxF,UAAI,EAAE;AAJU,KADT;AAORq0I,kBAAc,EAAE;AACf3iD,WAAK,EAAE,0BADQ;AAEfsQ,iBAAW,EAAE,yBAFE;AAGfx8F,WAAK,EAAE,KAHQ;AAIfxF,UAAI,EAAE;AAJS,KAPR;AAaRs0I,sBAAkB,EAAE;AACnB5iD,WAAK,EAAE,8BADY;AAEnBsQ,iBAAW,EAAE,6BAFM;AAGnBhiG,UAAI,EAAE,MAHa;AAInBwF,WAAK,EAAE,OAJY;AAKnBmd,YAAM,EAAE,CAAC;AACRpf,YAAI,EAAE,uBADE;AAERiC,aAAK,EAAE;AAFC,OAAD,EAGL;AACFjC,YAAI,EAAE,4BADJ;AAEFiC,aAAK,EAAE;AAFL,OAHK;AALW,KAbZ;AA0BR+uI,wBAAoB,EAAE;AACrB7iD,WAAK,EAAE,2BADc;AAErBsQ,iBAAW,EAAE,0BAFQ;AAGrBhiG,UAAI,EAAE,MAHe;AAIrBwF,WAAK,EAAE,EAJc;AAKrBmd,YAAM,EAAE,CAAC;AACRpf,YAAI,EAAE,iBADE;AAERiC,aAAK,EAAE;AAFC,OAAD,EAGL;AACFjC,YAAI,EAAE,iBADJ;AAEFiC,aAAK,EAAE;AAFL,OAHK,EAML;AACFjC,YAAI,EAAE,eADJ;AAEFiC,aAAK,EAAE;AAFL,OANK,EASL;AACFjC,YAAI,EAAE,eADJ;AAEFiC,aAAK,EAAE;AAFL,OATK,EAYL;AACFjC,YAAI,EAAE,eADJ;AAEFiC,aAAK,EAAE;AAFL,OAZK;AALa;AA1Bd,GAJuB;;AAqDhCi9H,QAAM,CAAC;AAAEhlD,YAAF;AAAY/qE;AAAZ,GAAD,EAAqB;AAI1B,UAAM8hI,MAAM,GAAG,yMAAf;AACA,UAAMC,YAAY,GAAG,4HAArB;AACA,UAAMC,aAAa,GAAG,iEAAtB;AACA,UAAMC,WAAW,GAAG,2DAApB;AAEA,QAAIl3D,QAAQ,KAAK,QAAb,IAAyBA,QAAQ,KAAK,QAA1C,EAAoD,OAAO,IAAP;AAEpD/qE,QAAI,GAAGA,IAAI,CAAC9M,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAP;AAEA,QAAI+E,MAAJ;;AAEA,QAAKA,MAAM,GAAG+pI,aAAa,CAAC3pI,IAAd,CAAmB2H,IAAnB,CAAd,EAAyC;AACxC,YAAMJ,IAAI,GAAG3H,MAAM,CAAC,CAAD,CAAnB;AACA,aAAO,MAAMiqI,IAAI,CAAC71H,sBAAM,CAACsgE,MAAO,WAAU/sE,IAAK,EAA9B,CAAJ,CAEXsL,KAFW,CAEL,MAAMg3H,IAAI,CAAC71H,sBAAM,CAACsgE,MAAO,SAAQ/sE,IAAK,EAA5B,CAFL,CAAb;AAGA,KALD,MAKO,IAAK3H,MAAM,GAAGgqI,WAAW,CAAC5pI,IAAZ,CAAiB2H,IAAjB,CAAd,EAAuC;AAC7C,UAAI,KAAKpP,OAAL,CAAa8wI,eAAb,CAA6B5uI,KAAjC,EAAwC;AACvC,cAAM8M,IAAI,GAAG3H,MAAM,CAAC,CAAD,CAAnB;AACA,eAAO,MAAMiqI,IAAI,CAAC71H,sBAAM,CAACsgE,MAAO,SAAQ/sE,IAAK,EAA5B,CAAjB;AACA;AACD,KALM,MAKA,IAAK3H,MAAM,GAAG8pI,YAAY,CAAC1pI,IAAb,CAAkB2H,IAAlB,CAAd,EAAwC;AAC9C,YAAMJ,IAAI,GAAG3H,MAAM,CAAC,CAAD,CAAnB;AACA,aAAO,MAAMkqI,YAAY,CAACviI,IAAD,EAAOI,IAAP,CAAzB;AACA,KAHM,MAGA,IAAK/H,MAAM,GAAG6pI,MAAM,CAACzpI,IAAP,CAAY2H,IAAZ,CAAd,EAAkC;AACxC,YAAM,GAAG8pE,SAAH,EAAclqE,IAAd,IAAsB3H,MAA5B;AACA,UAAI6xE,SAAJ,EAAe,OAAO,MAAMo4D,IAAI,CAAC71H,sBAAM,CAACsgE,MAAO,WAAU7C,SAAU,GAAElqE,IAAK,EAA1C,CAAjB;;AACf,UAAIA,IAAI,CAACgqE,MAAL,CAAY,MAAZ,IAAsB,CAAC,CAA3B,EAA8B;AAE7B,eAAO,MAAMw4D,sBAAsB,CAACxiI,IAAI,CAAC1M,KAAL,CAAW,MAAX,CAAD,EAAqB8M,IAArB,CAAnC;AACA,OAHD,MAGO;AACN,eAAO,MAAMmiI,YAAY,CAACviI,IAAD,EAAOI,IAAP,CAAzB;AACA;AACD;;AAED,WAAO,KAAP;;AAEA,mBAAekiI,IAAf,CAAoBG,QAApB,EAA8B;AAC7B,YAAM;AAAEx1H;AAAF,UAAW,MAAMkhB,IAAI,CAAC;AAC3BZ,WAAG,EAzCa,0BAyCX,GAAYk1G,QADU;AAE3B/0I,YAAI,EAAE,MAFqB;AAG3BoiC,eAAO,EAAE;AACR4yG,uBAAa,EAAG,aA3CL,iBA2CuB;AAD1B;AAHkB,OAAD,CAA3B;;AAQA,UAAIz1H,IAAI,CAACjb,KAAT,EAAgB;AACf,cAAM,IAAI9F,KAAJ,CAAW,oBAAmB+gB,IAAI,CAACjb,KAAM,EAAzC,CAAN;AACA;;AAED,aAAOib,IAAP;AACA;;AAED,aAAS01H,aAAT,CAAuB3iI,IAAvB,EAA6ButB,GAA7B,EAAkC;AACjC,UAAIq1G,UAAU,GAzDA,sBAyDd;AACA,UAAI5vI,OAAJ,EAAak9E,SAAb;;AAEA,UAAKl9E,OAAO,GAAGmvI,YAAY,CAAC1pI,IAAb,CAAkB80B,GAAlB,CAAf,EAAwC;AACvCq1G,kBAAU,GAAG5vI,OAAO,CAAC,CAAD,CAApB;AACAk9E,iBAAS,GAAGl9E,OAAO,CAAC,CAAD,CAAnB;AACA,OAHD,MAGO,IAAKA,OAAO,GAAGkvI,MAAM,CAACzpI,IAAP,CAAY80B,GAAZ,CAAf,EAAkC;AACxC2iD,iBAAS,GAAGl9E,OAAO,CAAC,CAAD,CAAnB;AACA;;AAED,UAAI,CAACk9E,SAAL,EAAgB;AAEfA,iBAAS,GAAG,MAAZ;AACA;;AAED,aAAO;AACNv3E,UAAE,EAAEqH,IADE;AAENgzB,gBAAQ,EAAE,KAFJ;AAGN6vG,eAAO,EAAE,KAHH;AAINC,iBAAS,EAAE,KAJL;AAKN1xE,YAAI,EAAG,GAAEwxE,UAAW,GAAE5iI,IAAK,GAAEkwE,SAAU,EALjC;AAMN6yD,YAAI,EAAErxI,SANA;AAON0tF,aAAK,EAAE,EAPD;AAQNsQ,mBAAW,EAAE;AARP,OAAP;AAUA;;AAED,aAAS6yC,YAAT,CAAsBviI,IAAtB,EAA4ButB,GAA5B,EAAiC;AAChC,YAAM,KAAK2iD,SAAL,IAAkBgyD,MAAM,CAACzpI,IAAP,CAAY80B,GAAZ,KAAoB,EAA5C;;AAEA,UAAI,CAAC,MAAD,EAAS,MAAT,EAAiB,OAAjB,EAA0BmgB,QAA1B,CAAmCwiC,SAAnC,CAAJ,EAAmD;AAKlD,eAAOyyD,aAAa,CAAC3iI,IAAD,EAAOutB,GAAP,CAApB;AACA,OAND,MAMO,IAAI40G,YAAY,CAACppI,IAAb,CAAkBw0B,GAAlB,CAAJ,EAA4B;AAElC,eAAOo1G,aAAa,CAAC3iI,IAAD,EAAOutB,GAAP,CAApB;AACA,OAHM,MAGA;AAEN,eAAO+0G,IAAI,CAAE,SAAQtiI,IAAK,EAAf,CAAX;AACA;AACD;;AAED,aAASwiI,sBAAT,CAAgCQ,MAAhC,EAAwCz1G,GAAxC,EAA6C;AAC5C,aAAO;AACN01G,gBAAQ,EAAE,IADJ;AAEN9N,cAAM,EAAE6N,MAAM,CAAC7yI,GAAP,CAAW6P,IAAI,IAAI2iI,aAAa,CAAC3iI,IAAD,EAAOutB,GAAP,CAAhC,CAFF;AAGN6xD,aAAK,EAAE,EAHD;AAINsQ,mBAAW,EAAE;AAJP,OAAP;AAMA;AACD,GApK+B;;AAqKhC,QAAM0gC,UAAN,CAAiBhwH,IAAjB,EAAuB8iI,OAAvB,EAAgC;AAC/B,UAAMC,OAAO,GAAG,oBAAhB;AACA,UAAMC,kBAAkB,GAAG,KAAKpyI,OAAL,CAAagxI,kBAAb,CAAgC9uI,KAAhC,KAA0C,OAArE;AACA,UAAMmwI,gBAAgB,GAAG,KAAKryI,OAAL,CAAaixI,oBAAb,CAAkC/uI,KAA3D;AACA,UAAMowI,MAAM,GAAG,KAAKtyI,OAAL,CAAa+wI,cAAb,CAA4B7uI,KAA3C;AAEA,UAAM2sG,IAAI,GAAG,MAAMqjC,OAAO,EAA1B;;AAEA,QAAIrjC,IAAI,CAACs1B,MAAL,IAAet1B,IAAI,CAACs1B,MAAL,CAAY3lI,MAA/B,EAAuC;AACtC,aAAO+zI,YAAY,CAACnjI,IAAD,EAAOy/F,IAAP,CAAnB;AACA,KAFD,MAEO,IAAIA,IAAI,CAACkjC,IAAL,IAAa,CAACO,MAAlB,EAA0B;AAChC,aAAOE,WAAW,CAAC3jC,IAAD,CAAlB;AACA,KAFM,MAEA,IAAIA,IAAI,CAACzuC,IAAT,EAAe;AACrB,aAAOqyE,kBAAkB,CAAC5jC,IAAD,CAAzB;AACA;;AAED,UAAM,IAAI3zG,KAAJ,CAAU,uBAAV,CAAN;;AAEA,aAASq3I,YAAT,CAAsBnjI,IAAtB,EAA4By/F,IAA5B,EAAkC;AACjC,aAAO;AACNnyG,YAAI,EAAE,SADA;AAEN0xF,aAAK,EAAEygB,IAAI,CAACzgB,KAFN;AAGN9tE,eAAO,EAAEuuF,IAAI,CAACnQ,WAHR;AAIN/hG,WAAG,EAAEkyG,IAAI,CAACs1B,MAAL,CAAYhlI,GAAZ,CAAgB0vG,IAAI,IAAI;AAC5B,gBAAMuzB,KAAK,GAAGvzB,IAAI,CAACkjC,IAAL,IAAa,CAACO,MAAd,GACbE,WAAW,CAAC3jC,IAAD,CADE,GAEb4jC,kBAAkB,CAAC5jC,IAAD,CAFnB;AAGAuzB,eAAK,CAAChzH,IAAN,GAAagjI,kBAAkB,GAAI,GAAEhjI,IAAI,CAAC9M,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAmB,IAAGusG,IAAI,CAAClnG,EAAG,EAApC,GAAyC,GAAEknG,IAAI,CAACzuC,IAAK,EAApF;AACA,iBAAOgiE,KAAP;AACA,SANI;AAJC,OAAP;AAYA;;AAED,aAASqQ,kBAAT,CAA4B5jC,IAA5B,EAAkC;AACjC,YAAMlyG,GAAG,GAAGkyG,IAAI,CAACzuC,IAAL,CACVt/D,OADU,CACF,OADE,EACO,QADP,EAEVA,OAFU,CAED,IAAG+tG,IAAI,CAAClnG,EAAG,GAFV,EAEe,IAAGknG,IAAI,CAAClnG,EAAG,GAAE0qI,gBAAiB,GAF7C,CAAZ;AAIA,aAAO;AACN11I,WADM;AAENyS,YAAI,EAAEgjI,kBAAkB,GAAI,GAAED,OAAQ,GAAEtjC,IAAI,CAAClnG,EAAG,EAAxB,GAA6B,GAAEknG,IAAI,CAACzuC,IAAK,EAF3D;AAGN1jE,YAAI,EAAE,OAHA;AAIN4jB,eAAO,EAAEuuF,IAAI,CAACnQ,WAJR;AAKNtQ,aAAK,EAAEygB,IAAI,CAACzgB;AALN,OAAP;AAOA;;AAED,aAASokD,WAAT,CAAqB3jC,IAArB,EAA2B;AAC1B,aAAO;AACNnyG,YAAI,EAAE,OADA;AAEN0S,YAAI,EAAEgjI,kBAAkB,GAAI,GAAED,OAAQ,GAAEtjC,IAAI,CAAClnG,EAAG,EAAxB,GAA6B,GAAEknG,IAAI,CAACzuC,IAAK,EAF3D;AAGNuzB,gBAAQ,EAAEkb,IAAI,CAACzuC,IAAL,CAAUt/D,OAAV,CAAkB,OAAlB,EAA2B,QAA3B,CAHJ;AAINwf,eAAO,EAAEuuF,IAAI,CAACnQ,WAJR;AAKNtQ,aAAK,EAAEygB,IAAI,CAACzgB,KALN;AAMNmxC,YAAI,EAAE1wB,IAAI,CAACgjC,OAAL,KAAiB,KANjB;AAONhO,aAAK,EAAE,CAACh1B,IAAI,CAACijC,SAPP;AAQNznE,eAAO,EAAE,CAAC;AACT5sD,gBAAM,EAAEoxF,IAAI,CAACm3B,GAAL,CAASllI,OAAT,CAAiB,OAAjB,EAA0B,QAA1B,CADC;AAETpE,cAAI,EAAE;AAFG,SAAD;AARH,OAAP;AAaA;AACD;;AAnO+B,CAAlB,CAAf,E;;ACJA;AAEe,kDAAIoiI,IAAJ,CAAS,WAAT,EAAsB;AACpC7+H,MAAI,EAAE,WAD8B;AAEpC8+H,SAAO,EAAE,CAAC,eAAD,EAAkB,YAAlB,CAF2B;AAGpCG,aAAW,EAAE,KAHuB;AAIpCC,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,mCAAD,CAAsC1yE,IAAtC,CAA2C0yE,QAA3C,CAJU;AAKpCilD,YAAU,EAAE,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,CAAP,MAAmB;AAC9BjL,QAAI,EAAE,QADwB;AAE9BinI,gBAAY,EAAE,OAFgB;AAG9BJ,SAAK,EAAG,2BAA0B57H,EAAG,mBAHP;AAI9BokB,SAAK,EAAE,OAJuB;AAK9BoG,UAAM,EAAE;AALsB,GAAnB;AALwB,CAAtB,CAAf,E;;ACFA;AACA;AAEe,gDAAI2sG,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,WAD4B;AAElC8+H,SAAO,EAAE,CAAC,WAAD,CAFyB;AAGlCG,aAAW,EAAE,KAHqB;;AAIlCC,QAAM,CAAC;AAAEhlD;AAAF,GAAD,EAAe8Q,KAAf,EAAsB;AAAE,WAAO9Q,QAAQ,CAACuD,QAAT,CAAkB,MAAlB,KAA6BuN,KAA7B,IAAsCA,KAAK,CAACiC,UAAN,EAAtC,IAA4DjC,KAAK,CAACoF,WAAN,EAAnE;AAAyF,GAJrF;;AAKlC,QAAM+uC,UAAN,CAAiBhwH,IAAjB,EAAuBsjI,QAAvB,EAAiC;AAChC,UAAMC,YAAY,GAAG,MAAM7gD,eAAe,CAAC;AAAEnqF,QAAE,EAAE+qI,QAAQ,CAAC5xI,OAAT,CAAiB,KAAjB,EAAwB,EAAxB;AAAN,KAAD,CAA1C;AACA,QAAI,CAAC6xI,YAAY,CAACC,OAAlB,EAA2B,MAAM,IAAI13I,KAAJ,CAAU,sBAAV,CAAN;AAC3B,UAAM03I,OAAO,GAAGD,YAAY,CAACC,OAAb,CAAqBzO,MAArB,CAA4B,CAA5B,CAAhB;;AACA,QAAIyO,OAAO,CAACvX,QAAR,CAAiB2K,GAArB,EAA0B;AACzB,aAAO;AACNtpI,YAAI,EAAE,OADA;AAEN6iI,YAAI,EAAE,IAFA;AAGNsE,aAAK,EAAE,IAHD;AAINlwC,gBAAQ,EAAEi/C,OAAO,CAACvX,QAAR,CAAiBwX,GAAjB,IAAwBD,OAAO,CAACvX,QAAR,CAAiBwX,GAAjB,CAAqBp1H,MAArB,CAA4B8e,GAJxD;AAKN8tC,eAAO,EAAE,CAAC;AACT5sD,gBAAM,EAAEm1H,OAAO,CAACvX,QAAR,CAAiB2K,GAAjB,CAAqBvoH,MAArB,CAA4B8e,GAD3B;AAET7/B,cAAI,EAAE;AAFG,SAAD;AALH,OAAP;AAUA,KAXD,MAWO;AACN,aAAO;AACNA,YAAI,EAAE,OADA;AAENC,WAAG,EAAEi2I,OAAO,CAACn1H,MAAR,CAAe8e;AAFd,OAAP;AAIA;AACD;;AA1BiC,CAApB,CAAf,E;;ACHA;AAEe,iDAAIuiG,IAAJ,CAAS,UAAT,EAAqB;AACnC7+H,MAAI,EAAE,UAD6B;AAEnC8+H,SAAO,EAAE,CAAC,cAAD,CAF0B;AAGnCC,MAAI,EAAE,kCAH6B;AAInCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,qFAAD,CAAwF1yE,IAAxF,CAA6F0yE,QAA7F,CAJS;;AAKnCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGogC,IAAH,EAASsjG,UAAT,CAAP,EAA6B;AACtC,WAAO;AACNp2I,UAAI,EAAE,QADA;AAENinI,kBAAY,EAAE,UAFR;AAGNE,WAAK,EAAE,IAHD;AAINN,WAAK,EAAG,uBAAsB/zF,IAAK,GAAEsjG,UAAU,IAAI,yCAA0C,EAJvF;AAKN/mH,WAAK,EAAE,OALD;AAMNoG,YAAM,EAAE;AANF,KAAP;AAQA;;AAdkC,CAArB,CAAf,E;;ACFA;AAEe,iDAAI2sG,IAAJ,CAAS,UAAT,EAAqB;AACnC7+H,MAAI,EAAE,UAD6B;AAEnC8+H,SAAO,EAAE,CAAC,cAAD,CAF0B;AAGnCC,MAAI,EAAE,sCAH6B;AAInCG,QAAM,EAAE,CAAC;AAAEhlD,YAAF;AAAYnB;AAAZ,GAAD,KAA2BmB,QAAQ,KAAK,OAAb,IAAwBnB,MAJxB;AAKnComD,YAAU,EAAE,CAAChwH,IAAD,EAAO4wE,KAAP,MAAkB;AAC7BtjF,QAAI,EAAE,QADuB;AAE7B6mI,SAAK,EAAG,oCAAmCvjD,KAAM,EAFpB;AAG7B+jD,iBAAa,EAAG,oCAAmC/jD,KAAM,iBAH5B;AAI7BwjD,cAAU,EAAE;AAJiB,GAAlB;AALuB,CAArB,CAAf,E;;ACFA;AAEe,iDAAI1E,IAAJ,CAAS,UAAT,EAAqB;AACnC7+H,MAAI,EAAE,UAD6B;AAEnC8+H,SAAO,EAAE,CAAC,cAAD,CAF0B;AAGnCC,MAAI,EAAE,kCAH6B;AAInCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,6BAAD,CAAgC1yE,IAAhC,CAAqC0yE,QAArC,CAJS;;AAKnCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,CAAP,EAAe;AACxB,WAAO;AACNjL,UAAI,EAAE,OADA;AAENC,SAAG,EAAG,qBAAoBgL,EAAG;AAFvB,KAAP;AAIA;;AAVkC,CAArB,CAAf,E;;ACFA;AAEe,kDAAIm3H,IAAJ,CAAS,WAAT,EAAsB;AACpC7+H,MAAI,EAAE,WAD8B;AAEpC8+H,SAAO,EAAE,CAAC,eAAD,CAF2B;AAGpCC,MAAI,EAAE,yDAH8B;AAIpCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,qBAAD,CAAwB1yE,IAAxB,CAA6B0yE,QAA7B,CAJU;;AAKpCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,CAAP,EAAe;AACxB,WAAO;AACNjL,UAAI,EAAE,OADA;AAENC,SAAG,EAAG,uCAAsCgL,EAAG;AAFzC,KAAP;AAIA;;AAVmC,CAAtB,CAAf,E;;ACFA;AAEe,mDAAIm3H,IAAJ,CAAS,YAAT,EAAuB;AACrC7+H,MAAI,EAAE,YAD+B;AAErC8+H,SAAO,EAAE,CAAC,gBAAD,CAF4B;AAGrCC,MAAI,EAAE,2CAH+B;AAIrCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,uDAAD,CAA0D1yE,IAA1D,CAA+D0yE,QAA/D,CAJW;;AAKrCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,EAAOugC,MAAP,CAAP,EAAuB;AAChC,WAAO;AACNxrC,UAAI,EAAE,OADA;AAENC,SAAG,EAAG,+BAA8BgL,EAAG,IAAGugC,MAAM,IAAI,MAAO;AAFrD,KAAP;AAIA;;AAVoC,CAAvB,CAAf,E;;ACFA;AAEe,gDAAI42F,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,SAD4B;AAElC8+H,SAAO,EAAE,CAAC,aAAD,CAFyB;AAGlCC,MAAI,EAAE,iCAH4B;AAIlCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,oBAAD,CAAuB1yE,IAAvB,CAA4B0yE,QAA5B,CAJQ;;AAKlCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,CAAP,EAAe;AACxB,WAAO;AACNjL,UAAI,EAAE,OADA;AAENC,SAAG,EAAG,6BAA4BgL,EAAG;AAF/B,KAAP;AAIA;;AAViC,CAApB,CAAf,E;;ACFA;AAEe,8CAAIm3H,IAAJ,CAAS,OAAT,EAAkB;AAChC7+H,MAAI,EAAE,OAD0B;AAEhC8+H,SAAO,EAAE,CAAC,UAAD,EAAa,WAAb,CAFuB;AAGhCC,MAAI,EAAE,6DAH0B;AAIhCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,WAAD,CAAc1yE,IAAd,CAAmB0yE,QAAnB,CAJM;;AAKhCilD,YAAU,CAAChwH,IAAD,EAAO,GAAG2jI,MAAH,CAAP,EAAmB;AAG5B,WAAO;AACNr2I,UAAI,EAAE,QADA;AAENmnI,WAAK,EAAE,IAFD;AAGNN,WAAK,EALS,kCAAiCwP,MAAO,EAEhD;AAINvP,gBAAU,EAAE;AAJN,KAAP;AAMA;;AAd+B,CAAlB,CAAf,E;;ACFA;AACA;AACA;AAEe,iDAAI1E,IAAJ,CAAS,UAAT,EAAqB;AACnCC,SAAO,EAAE,CAAC,mBAAD,EAAsB,SAAtB,CAD0B;AAEnC9+H,MAAI,EAAE,oBAF6B;AAGnCk/H,QAAM,EAAE,MAAM,IAHqB;;AAInC,QAAMC,UAAN,CAAiBhwH,IAAjB,EAAuB;AAGtB,UAAM4jI,UAAU,GAAI,KAAIC,IAAI,CAAC7jI,IAAD,CAAO,EAAhB,CACjBtO,OADiB,CACT,MADS,EACD,EADC,EAEjBA,OAFiB,CAET,KAFS,EAEF,GAFE,EAGjBA,OAHiB,CAGT,KAHS,EAGF,GAHE,CAAnB;AAKA,UAAMg8B,IAAI,GAAG,MAAMK,IAAI,CAAC;AACvBZ,SAAG,EAAG,wCAAuCy2G,UAAW,uBADjC;AAEvBt2I,UAAI,EAAE,MAFiB;AAGvBkhF,cAAQ,EAAE5L,GAAGA;AAHU,KAAD,CAAvB;;AAMA,QAAIl1C,IAAI,CAACxoB,QAAL,CAAc9V,MAAlB,EAA0B;AACzB,aAAO;AACN9B,YAAI,EAAE,SADA;AAENC,WAAG,EAAEmgC,IAAI,CAACxoB,QAAL,CAAcnV,GAAd,CAAkB+zI,WAAlB;AAFC,OAAP;AAIA,KALD,MAKO;AACN,aAAOA,WAAW,CAACp2G,IAAD,CAAlB;AACA;;AAED,aAASo2G,WAAT,CAAqB;AACpBjzI,UADoB;AAEpBy+F,iBAFoB;AAGpBy0C,YAHoB;AAIpB,8BAAwBx2I,GAJJ;AAKpBgT,UAAI,EAAE;AAAE6rB;AAAF;AALc,KAArB,EAMG;AACF,YAAM9+B,IAAI,GAAG8+B,QAAQ,CAAC//B,KAAT,CAAe,CAAf,EAAkB+/B,QAAQ,CAAC5/B,OAAT,CAAiB,GAAjB,CAAlB,CAAb;;AAEA,cAAQc,IAAR;AACC,aAAK,OAAL;AACC,iBAAO;AACNA,gBAAI,EAAE,OADA;AAEN0xF,iBAAK,EAAEnuF,IAFD;AAGNqgB,mBAAO,EAAEo+E,WAHH;AAIN/hG,eAJM;AAKNyS,gBAAI,EAAE+jI;AALA,WAAP;;AAOD,aAAK,OAAL;AACC,iBAAO;AACNz2I,gBAAI,EAAE,OADA;AAEN0xF,iBAAK,EAAEnuF,IAFD;AAGNqgB,mBAAO,EAAEo+E,WAHH;AAIN6gC,gBAAI,EAAE,KAJA;AAKNl1D,mBAAO,EAAE,CAAC;AACT5sD,oBAAM,EAAE9gB,GADC;AAETD,kBAAI,EAAE8+B;AAFG,aAAD;AALH,WAAP;;AAUD,aAAK,OAAL;AACC,iBAAO;AACN9+B,gBAAI,EAAE,OADA;AAEN6iI,gBAAI,EAAE,KAFA;AAGNl1D,mBAAO,EAAE,CAAC;AACT16D,kBAAI,EAAEhT,GADG;AAETD,kBAAI,EAAE8+B;AAFG,aAAD;AAHH,WAAP;;AAQD;AACC,gBAAM,IAAItgC,KAAJ,CAAW,iBAAgBwB,IAAK,EAAhC,CAAN;AA9BF;AAgCA;AACD;;AArEkC,CAArB,CAAf,E;;ACJA;AAEe,iDAAIoiI,IAAJ,CAAS,UAAT,EAAqB;AACnC7+H,MAAI,EAAE,UAD6B;AAEnC8+H,SAAO,EAAE,CAAC,cAAD,CAF0B;AAGnCG,aAAW,EAAE,KAHsB;AAInCC,QAAM,EAAE,CAAC;AAAE/vH;AAAF,GAAD,KAAe,8EAAD,CAAiF3H,IAAjF,CAAsF2H,IAAtF,CAJa;;AAKnCgwH,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,CAAP,EAAe;AACxB,WAAO;AACNjL,UAAI,EAAE,QADA;AAENinI,kBAAY,EAAE,UAFR;AAGNE,WAAK,EAAE,IAHD;AAINN,WAAK,EAAG,2CAA0C57H,EAAG,EAJ/C;AAKNwqB,YAAM,EAAE,OALF;AAMNpG,WAAK,EAAE;AAND,KAAP;AAQA;;AAdkC,CAArB,CAAf,E;;ACFA;AAEe,iDAAI+yG,IAAJ,CAAS,UAAT,EAAqB;AACnC7+H,MAAI,EAAE,UAD6B;AAEnC8+H,SAAO,EAAE,CACR,eADQ,EAER,iBAFQ,EAGR,wBAHQ,EAIR,aAJQ,EAKR,uBALQ,EAMR,oBANQ,EAOR,mBAPQ,EAQR,aARQ,EASR,aATQ,EAUR,aAVQ,EAWR,eAXQ,EAYR,2BAZQ,EAaR,gBAbQ,EAcR,aAdQ,EAeR,eAfQ,EAgBR,YAhBQ,EAiBR,eAjBQ,EAkBR,WAlBQ,EAmBR,8BAnBQ,EAoBR,eApBQ,EAqBR,UArBQ,EAsBR,eAtBQ,EAuBR,eAvBQ,CAF0B;AA2BnCG,aAAW,EAAE,KA3BsB;AA4BnCC,QAAM,EAAE,CAAC;AAAE9+C,YAAF;AAAYlG;AAAZ,GAAD,KAA4B;AACnC,UAAM,GAAGi5D,KAAH,GAAYzrI,EAAZ,IAAkBwyE,QAAQ,CAAC73E,KAAT,CAAe,GAAf,CAAxB;;AACA,QAAI8wI,KAAK,KAAK,QAAd,EAAwB;AACvB,aAAO,CAAC/yD,QAAD,EAAW14E,EAAX,CAAP;AACA;AACD,GAjCkC;;AAkCnCy3H,YAAU,CAAChwH,IAAD,EAAO,CAACixE,QAAD,EAAW14E,EAAX,CAAP,EAAuB;AAChC,UAAM47H,KAAK,GAAI,WAAUljD,QAAS,iBAAgB14E,EAAG,EAArD;AACA,WAAO;AACNjL,UAAI,EAAE,QADA;AAEN6mI,WAFM;AAGNQ,mBAAa,EAAG,GAAER,KAAM,gBAHlB;AAINC,gBAAU,EAAE;AAJN,KAAP;AAMA;;AA1CkC,CAArB,CAAf,E;;ACFA;AACA;AAEe,oDAAI1E,IAAJ,CAAS,aAAT,EAAwB;AACtC7+H,MAAI,EAAE,aADgC;AAEtC8+H,SAAO,EAAE,CAAC,iBAAD,CAF6B;AAGtCC,MAAI,EAAE,2CAHgC;AAItCG,QAAM,EAAE,CAAC;AAAE/vH;AAAF,GAAD,KAAe,kDAAD,CAAqD3H,IAArD,CAA0D2H,IAA1D,CAJgB;;AAKtC,QAAMgwH,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAG6gB,MAAH,CAAvB,EAAmC;AAClC,QAAItzB,GAAG,GAAGyS,IAAI,CAACtO,OAAL,CAAa,OAAb,EAAsB,EAAtB,CAAV;;AAGA,QAAImvB,MAAM,KAAK,GAAf,EAAoB;AACnB,YAAM;AAAEojH;AAAF,UAAe,MAAMl2G,IAAI,CAAC;AAC/BZ,WAAG,EAAE,8CAD0B;AAE/ByjD,aAAK,EAAE;AAAEzjD,aAAG,EAAE5/B;AAAP,SAFwB;AAG/BD,YAAI,EAAE;AAHyB,OAAD,CAA/B;AAKAC,SAAG,GAAG02I,QAAQ,CAACvyI,OAAT,CAAiB,OAAjB,EAA0B,QAA1B,CAAN;AACA;;AAED,WAAO;AACNpE,UAAI,EAAE,OADA;AAENC;AAFM,KAAP;AAIA;;AAtBqC,CAAxB,CAAf,E;;ACHA;AAEe,8CAAImiI,IAAJ,CAAS,OAAT,EAAkB;AAChC7+H,MAAI,EAAE,OAD0B;AAEhC8+H,SAAO,EAAE,CAAC,WAAD,CAFuB;AAGhCC,MAAI,EAAE,mCAH0B;AAIhCG,QAAM,EAAE,CAAC;AAAEhlD,YAAF;AAAYnB;AAAZ,GAAD,KAA2BmB,QAAQ,KAAK,oBAAb,IAAsC,iBAAD,CAAoB1yE,IAApB,CAAyBuxE,MAAzB,CAAtC,IACxB,iCAAD,CAAoCvxE,IAApC,CAAyC0yE,QAAzC,CALuB;;AAMhCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,CAAP,EAAe;AACxB,WAAO;AACNjL,UAAI,EAAE,QADA;AAENinI,kBAAY,EAAE,OAFR;AAGNE,WAAK,EAAE,IAHD;AAINN,WAAK,EAAG,4CAA2C57H,EAAG,aAJhD;AAKNokB,WAAK,EAAE,OALD;AAMNoG,YAAM,EAAE;AANF,KAAP;AAQA;;AAf+B,CAAlB,CAAf,E;;ACFA;AAEe,6CAAI2sG,IAAJ,CAAS,MAAT,EAAiB;AAC/B7+H,MAAI,EAAE,MADyB;AAE/B8+H,SAAO,EAAE,CAAC,iBAAD,CAFsB;AAI/BG,aAAW,EAAE,KAJkB;AAK/BC,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,+BAAD,CAAkC1yE,IAAlC,CAAuC0yE,QAAvC,CALK;;AAM/BilD,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,CAAP,EAAe;AACxB,WAAO;AACNjL,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAG,gCAA+B57H,EAAG;AAFpC,KAAP;AAIA;;AAX8B,CAAjB,CAAf,E;;ACFA;AAEe,gDAAIm3H,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,SAD4B;AAElC8+H,SAAO,EAAE,CACR,iBADQ,EAER,wBAFQ,CAFyB;AAMlCG,aAAW,EAAE,KANqB;AAOlCC,QAAM,EAAE,CAAC;AAAEh/C;AAAF,GAAD,KAAsBA,YAAY,CAACzhF,GAAb,CAAiB,SAAjB,CAPI;;AAQlC0gI,YAAU,CAAChwH,IAAD,EAAOogC,IAAP,EAAa;AACtB,UAAMjT,GAAG,GAAI,iCAAgCiT,IAAK,EAAlD;AAEA,WAAO;AACN9yC,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAEhnG,GAFD;AAGNwnG,mBAAa,EAAG,GAAExnG,GAAI,aAHhB;AAINinG,gBAAU,EAAE;AAJN,KAAP;AAMA;;AAjBiC,CAApB,CAAf,E;;ACFA;AAEe,4CAAI1E,IAAJ,CAAS,QAAT,EAAmB;AACjC7+H,MAAI,EAAE,QAD2B;AAEjC8+H,SAAO,EAAE,CAAC,YAAD,CAFwB;AAGjCC,MAAI,EAAE,8BAH2B;AAIjCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,+BAAD,CAAkC1yE,IAAlC,CAAuC0yE,QAAvC,CAJO;;AAKjCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGrS,IAAH,CAAP,EAAiB;AAC1B,WAAO;AACNL,UAAI,EAAE,OADA;AAENC,SAAG,EAAG,yBAAwBI,IAAK;AAF7B,KAAP;AAIA;;AAVgC,CAAnB,CAAf,E;;ACFA;AACA;AAEe,oDAAI+hI,IAAJ,CAAS,aAAT,EAAwB;AACtC7+H,MAAI,EAAE,aADgC;AAEtC8+H,SAAO,EAAE,CAAC,iBAAD,CAF6B;AAGtCC,MAAI,EAAE,qCAHgC;AAItCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,kCAAD,CAAqC1yE,IAArC,CAA0C0yE,QAA1C,CAJY;;AAKtC,QAAMilD,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAGzH,EAAH,EAAO2rI,MAAP,CAAvB,EAAuC;AAEtC,QAAIA,MAAJ,EAAY;AACX3rI,QAAE,GAAGivB,QAAQ,CAACjvB,EAAD,EAAK,EAAL,CAAb;AACA;;AAED,UAAMknG,IAAI,GAAG,MAAM1xE,IAAI,CAAC;AACvBZ,SAAG,EAAE,iCADkB;AAEvByjD,WAAK,EAAE;AAAEuzD,cAAM,EAAE5rI;AAAV,OAFgB;AAGvBjL,UAAI,EAAE;AAHiB,KAAD,CAAvB;;AAMA,QAAI,CAACmyG,IAAI,CAACrwG,MAAV,EAAkB;AACjB,YAAM,IAAItD,KAAJ,CAAU,oBAAV,CAAN;AACA;;AAED,UAAMyB,GAAG,GAAGkyG,IAAI,CAAC1vG,GAAL,CAAS,CAAC;AAAEmhB,aAAF;AAAWkzH,YAAX;AAAmBC;AAAnB,KAAD,MAAqC;AACzD/2I,UAAI,EAAE,OADmD;AAEzD0xF,WAAK,EAAE9tE,OAFkD;AAGzD3jB,SAAG,EAAE62I,MAHoD;AAIzDlzH,aAAO,EAAEmzH,SAAS,GAAI,oBAAmBA,SAAU,KAAIA,SAAU,MAA/C,GAAuD;AAJhB,KAArC,CAAT,CAAZ;AAOA,WAAO;AACN/2I,UAAI,EAAE,SADA;AAEN0xF,WAAK,EAAEygB,IAAI,CAAC,CAAD,CAAJ,CAAQzgB,KAFT;AAGNzxF;AAHM,KAAP;AAKA;;AAjCqC,CAAxB,CAAf,E;;ACHA;AAEe,oDAAImiI,IAAJ,CAAS,aAAT,EAAwB;AACtC7+H,MAAI,EAAE,aADgC;AAEtC8+H,SAAO,EAAE,CAAC,iBAAD,CAF6B;AAGtCG,aAAW,EAAE,KAHyB;AAItCC,QAAM,EAAE,CAAC;AAAE9+C,YAAF;AAAYF;AAAZ,GAAD,KAAgCE,QAAQ,KAAK,uBAAb,IAAwCF,YAJ1C;;AAKtCi/C,YAAU,CAAChwH,IAAD,EAAO+wE,YAAP,EAAqB;AAC9B,QAAIA,YAAY,CAACzhF,GAAb,CAAiB,IAAjB,MAA2B,KAA/B,EAAsC;AACrC,aAAO;AACNhC,YAAI,EAAE,OADA;AAEN6iI,YAAI,EAAE,IAFA;AAGNsE,aAAK,EAAE,IAHD;AAINx5D,eAAO,EAAE,CAAC;AACT5sD,gBAAM,EAAErO,IADC;AAET1S,cAAI,EAAE;AAFG,SAAD;AAJH,OAAP;AASA;;AAED,WAAO;AACNA,UAAI,EAAE,OADA;AAENC,SAAG,EAAEyS;AAFC,KAAP;AAIA;;AAtBqC,CAAxB,CAAf,E;;ACFA;AAEe,sDAAI0vH,IAAJ,CAAS,eAAT,EAA0B;AACxC7+H,MAAI,EAAE,eADkC;AAExC8+H,SAAO,EAAE,CAAC,mBAAD,CAF+B;AAGxCG,aAAW,EAAE,KAH2B;AAIxCC,QAAM,EAAE,MAAM,IAJ0B;;AAKxCC,YAAU,CAAChwH,IAAD,EAAO;AAChB,WAAO;AACN1S,UAAI,EAAE,OADA;AAENC,SAAG,EAAEyS;AAFC,KAAP;AAIA;;AAVuC,CAA1B,CAAf,E;;ACFA;AACA;AACA;AAEe,gDAAI0vH,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,SAD4B;AAElC8+H,SAAO,EAAE,CAAC,aAAD,CAFyB;AAGlCC,MAAI,EAAE,iCAH4B;AAIlCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,8BAAD,CAAiC1yE,IAAjC,CAAsC0yE,QAAtC,CAJQ;;AAKlC,QAAMilD,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAGzH,EAAH,CAAvB,EAA+B;AAC9B,UAAMknG,IAAI,GAAG,CAAC,MAAM1xE,IAAI,CAAC;AACxBZ,SAAG,EAAE9gB,sBAAM,CAACsgE,MAAO,sCAAqCp0E,EAAG,EADnC;AAExBjL,UAAI,EAAE,MAFkB;AAGxBkhF,cAAQ,EAAE5L,GAAGA;AAHW,KAAD,CAAX,EAITszD,OAJJ;AAMA,WAAO;AACN5oI,UAAI,EAAE,OADA;AAEN6oI,eAAS,EAAE12B,IAAI,CAAC02B,SAFV;AAGNhG,UAAI,EAAE,IAHA;AAINsE,WAAK,EAAE,CAACh1B,IAAI,CAACmxB,QAJP;AAKNwF,kBAAY,EAAE,CAAC,CAACp2H,IAAI,CAAChI,KAAL,CAAW,uBAAX,KAAuC,CAAC1G,SAAD,EAAY,CAAZ,CAAxC,EAAwD,CAAxD,CALT;AAMNq/H,YAAM,EAAElxB,IAAI,CAAC62B,SANP;AAONr7D,aAAO,EAAE,CAAC;AACT5sD,cAAM,EAAEoxF,IAAI,CAAC+2B,OADJ;AAETlpI,YAAI,EAAE;AAFG,OAAD,EAGN;AACF+gB,cAAM,EAAEoxF,IAAI,CAACg3B,MADX;AAEFnpI,YAAI,EAAE;AAFJ,OAHM,CAPH;AAcN+4B,UAAI,EAAE,CAAC,CAACrmB,IAAI,CAAChI,KAAL,CAAW,wBAAX,KAAwC,CAAC1G,SAAD,EAAY,CAAZ,CAAzC,EAAyD,CAAzD,CAAD,GAA+DmuG,IAAI,CAAC02B;AAdpE,KAAP;AAgBA;;AA5BiC,CAApB,CAAf,E;;ACJA;AAEe,oDAAIzG,IAAJ,CAAS,aAAT,EAAwB;AACtC7+H,MAAI,EAAE,aADgC;AAEtC8+H,SAAO,EAAE,CAAC,iBAAD,CAF6B;AAGtCG,aAAW,EAAE,KAHyB;AAItCC,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,2BAAD,CAA8B1yE,IAA9B,CAAmC0yE,QAAnC,CAJY;;AAKtCilD,YAAU,CAAChwH,IAAD,EAAO,GAAG1S,IAAH,EAASiL,EAAT,CAAP,EAAqB;AAC9B,WAAO;AACNjL,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAG,2BAA0B7mI,IAAK,IAAGiL,EAAG;AAFvC,KAAP;AAIA;;AAVqC,CAAxB,CAAf,E;;ACFA;AACA;AAEe,mDAAIm3H,IAAJ,CAAS,YAAT,EAAuB;AACrC7+H,MAAI,EAAE,YAD+B;AAErC8+H,SAAO,EAAE,CAAC,gBAAD,CAF4B;AAGrCC,MAAI,EAAE,kDAH+B;AAIrCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,WAAD,CAAc1yE,IAAd,CAAmB0yE,QAAnB,CAJW;;AAKrC,QAAMilD,UAAN,CAAiBhgI,IAAjB,EAAuB,GAAGuI,EAAH,CAAvB,EAA+B;AAC9B,UAAMsU,IAAI,GAAG,MAAMkhB,IAAI,CAAC;AACvBZ,SAAG,EAAG,qCAAoC50B,EAAG,EADtB;AAEvBjL,UAAI,EAAE;AAFiB,KAAD,CAAvB;AAKA,UAAMynI,MAAM,GAAGloH,IAAI,CAAC9c,GAAL,CAASghE,CAAC,KAAK;AAC7BxjE,SAAG,EAAEwjE,CAAC,CAACuzE,SAAF,CAAY5yI,OAAZ,CAAoB,OAApB,EAA6B,QAA7B,CADwB;AAE7Bwf,aAAO,EAAE6/C,CAAC,CAACwzE,aAFkB;AAG7Bj3I,UAAI,EAAE;AAHuB,KAAL,CAAV,CAAf;AAMA,WAAO;AACNA,UAAI,EAAE,SADA;AAENC,SAAG,EAAEwnI;AAFC,KAAP;AAIA;;AArBoC,CAAvB,CAAf,E;;ACHA;AAEe,6CAAIrF,IAAJ,CAAS,MAAT,EAAiB;AAC/B7+H,MAAI,EAAE,SADyB;AAE/B++H,MAAI,EAAE,0DAFyB;AAG/BD,SAAO,EAAE,CAAC,SAAD,CAHsB;AAI/BI,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,wBAAD,CAA2B1yE,IAA3B,CAAgC0yE,QAAhC,CAJK;;AAK/BilD,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,EAAOu3E,SAAP,CAAP,EAA0B;AACnC,WAAO;AACNxiF,UAAI,EAAE,OADA;AAENC,SAAG,EAAG,qBAAoBgL,EAAG,IAAGu3E,SAAS,IAAI,KAAM;AAF7C,KAAP;AAIA;;AAV8B,CAAjB,CAAf,E;;ACFA;AACA;AAEe,mDAAI4/C,IAAJ,CAAS,YAAT,EAAuB;AACrC7+H,MAAI,EAAE,YAD+B;AAErC8+H,SAAO,EAAE,CAAC,gBAAD,CAF4B;AAGrCC,MAAI,EAAE,qEAH+B;AAIrCG,QAAM,EAAE,MAAM,IAJuB;;AAKrCC,YAAU,CAAChwH,IAAD,EAAO;AAChB,WAAO;AACN1S,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAE9nH,sBAAM,CAACsgE,MAAO,wCAAuC3sE,IAAK,EAF3D;AAGN+iB,YAAM,EAAE,OAHF;AAINpG,WAAK,EAAE,OAJD;AAKNi4G,WAAK,EAAE,oBALD;AAMN/gE,UAAI,EAAE;AANA,KAAP;AAQA;;AAdoC,CAAvB,CAAf,E;;ACHA;AAEe,gDAAI67D,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,SAD4B;AAElC8+H,SAAO,EAAE,CAAC,aAAD,CAFyB;AAGlCC,MAAI,EAAE,iCAH4B;AAYlCG,QAAM,EAAE,CAAC;AAAE/vH;AAAF,GAAD,KAAe,sGAAD,CAAyG3H,IAAzG,CAA8G2H,IAA9G,CAZY;;AAalCgwH,YAAU,CAAChwH,IAAD,EAAO,GAAGwkI,GAAH,CAAP,EAAgB;AACzB,WAAO;AACNl3I,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAG,0CAAyCqQ,GAAG,CAAC9yI,OAAJ,CAAY,KAAZ,EAAmB,GAAnB,CAAwB;AAFnE,KAAP;AAIA;;AAlBiC,CAApB,CAAf,E;;ACFA;AACA;AAEe,uDAAIg+H,IAAJ,CAAS,gBAAT,EAA2B;AACzC7+H,MAAI,EAAE,iBADmC;AAEzC++H,MAAI,EAAE,4CAFmC;AAGzCD,SAAO,EAAE,CAAC,oBAAD,CAHgC;AAIzCI,QAAM,EAAE,CAAC;AAAEhlD,YAAF;AAAYgG;AAAZ,GAAD,KAAgChG,QAAQ,CAACmB,UAAT,CAAoB,0BAApB,KAAmD6E,YAAY,CAACzhF,GAAb,CAAiB,IAAjB,CAJlD;AAKzComF,aAAW,EAAE,CAAC,4EAAD,CAL4B;;AAMzC,QAAMs6C,UAAN,CAAiBhwH,IAAjB,EAAuBzH,EAAvB,EAA2B;AAC1B,UAAM;AACLi0B,cAAQ,EAAE;AACTi4G,4BAAoB,EAAE,CAAC;AACtBzlD,eADsB;AAEtBsQ,qBAAW,EAAEp+E,OAFS;AAGtBwzH,qBAAW,EAAEC,UAHS;AAItBC,kBAAQ,EAAEC,OAJY;AAKtBzzD;AALsB,SAAD;AADb;AADL,QAUF,MAAMrjD,IAAI,CAAC;AACd9lB,YAAM,EAAE,MADM;AAEdklB,SAAG,EAAE,6FAFS;AAGdtgB,UAAI,EAAE;AAAEi4H,iBAAS,EAAE,GAAb;AAAkB,+BAAuBvsI;AAAzC,OAHQ;AAIdjL,UAAI,EAAE;AAJQ,KAAD,CAVd;AAiBA,QAAI,CAAC8jF,QAAL,EAAe,MAAM,IAAItlF,KAAJ,CAAU,+DAAV,CAAN;AAEf,WAAO;AACNwB,UAAI,EAAE,OADA;AAEN0xF,WAFM;AAGN9tE,aAHM;AAIN3jB,SAAG,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,EAAyBi9E,IAAzB,CAA8Bu6D,GAAG,IAAI3zD,QAAQ,CAAC9C,QAAT,CAAkBy2D,GAAlB,CAArC,IAA+DF,OAA/D,GAAyEF;AAJxE,KAAP;AAMA;;AAhCwC,CAA3B,CAAf,E;;ACHA;AAEe,qDAAIjV,IAAJ,CAAS,cAAT,EAAyB;AACvC7+H,MAAI,EAAE,OADiC;AAEvC++H,MAAI,EAAE,4CAFiC;AAGvCD,SAAO,EAAE,CAAC,kBAAD,EAAqB,sBAArB,CAH8B;AAIvCI,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,sCAAD,CAAyC1yE,IAAzC,CAA8C0yE,QAA9C,CAJa;;AAKvCilD,YAAU,CAAChwH,IAAD,EAAO,CAAC+qE,QAAD,CAAP,EAAmB;AAC5B,WAAO;AACNz9E,UAAI,EAAE,OADA;AAENC,SAAG,EAAG,4CAA2Cw9E,QAAS;AAFpD,KAAP;AAIA;;AAVsC,CAAzB,CAAf,E;;ACFA;AAEe,qDAAI2kD,IAAJ,CAAS,eAAT,EAA0B;AACxC7+H,MAAI,EAAE,eADkC;AAExC8+H,SAAO,EAAE,CAAC,eAAD,CAF+B;AAGxCG,aAAW,EAAE,KAH2B;AAIxCC,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,6BAAD,CAAgC1yE,IAAhC,CAAqC0yE,QAArC,CAJc;;AAKxCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,CAAP,EAAe;AACxB,WAAO;AACNjL,UAAI,EAAE,QADA;AAENinI,kBAAY,EAAE,UAFR;AAGNE,WAAK,EAAE,IAHD;AAINN,WAAK,EAAG,mCAAkC57H,EAAG,EAJvC;AAKNwqB,YAAM,EAAE,OALF;AAMNpG,WAAK,EAAE;AAND,KAAP;AAQA;;AAduC,CAA1B,CAAf,E;;ACFA;AAEe,oDAAI+yG,IAAJ,CAAS,WAAT,EAAsB;AACpC7+H,MAAI,EAAE,cAD8B;AAEpC8+H,SAAO,EAAE,CAAC,cAAD,CAF2B;AAGpCG,aAAW,EAAE,KAHuB;AAIpCC,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,0BAAD,CAA6B1yE,IAA7B,CAAkC0yE,QAAlC,CAJU;;AAKpCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGyM,GAAH,CAAP,EAAgB;AACzB,WAAO;AACNnf,UAAI,EAAE,QADA;AAENinI,kBAAY,EAAE,UAFR;AAGNE,WAAK,EAAE,IAHD;AAINN,WAAK,EAAG,oCAAmC1nH,GAAI,EAJzC;AAKNsW,YAAM,EAAE,OALF;AAMNpG,WAAK,EAAE;AAND,KAAP;AAQA;;AAdmC,CAAtB,CAAf,E;;ACFA;AACA;AAEe,mDAAI+yG,IAAJ,CAAS,YAAT,EAAuB;AACrC7+H,MAAI,EAAE,YAD+B;AAErC8+H,SAAO,EAAE,CAAC,gBAAD,CAF4B;AAGrCC,MAAI,EAAE,+FAH+B;AAIrCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,iCAAD,CAAoC1yE,IAApC,CAAyC0yE,QAAzC,CAJW;;AAKrC,QAAMilD,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAGJ,IAAH,CAAvB,EAAiC;AAChC,UAAM;AACLo/E,WADK;AAELkiD,WAAK,EAAE;AAAEtK,WAAG,EAAE;AAAEzpG;AAAF;AAAP,OAFF;AAGLmoG,mBAAa,EAAEp1C,SAHV;AAIL7xE;AAJK,QAKF,MAAM0f,IAAI,CAAC;AACdZ,SAAG,EAAG,qCAAoCvtB,IAAK,EADjC;AAEdtS,UAAI,EAAE;AAFQ,KAAD,CALd;AAUA,WAAO;AACNA,UAAI,EAAE,OADA;AAEN0xF,WAFM;AAGNmxC,UAAI,EAAE,IAHA;AAINl1D,aAAO,EAAE,CAAC;AACT5sD,cAAM,EAAE8e,GADC;AAET7/B,YAAI,EAAE;AAFG,OAAD,CAJH;AAQNqjI,YAAM,EAAEzwC,SARF;AASN7xE;AATM,KAAP;AAWA;;AA3BoC,CAAvB,CAAf,E;;ACHA;AAEe,iDAAIqhH,IAAJ,CAAS,UAAT,EAAqB;AACnC7+H,MAAI,EAAE,UAD6B;AAEnC8+H,SAAO,EAAE,CAAC,cAAD,CAF0B;AAGnCC,MAAI,EAAE,kCAH6B;AAInCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,eAAD,CAAkB1yE,IAAlB,CAAuB0yE,QAAvB,CAJS;;AAKnCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGrS,IAAH,CAAP,EAAiB;AAC1B,UAAMq3I,KAAK,GAAGr3I,IAAI,CAAC0gG,SAAL,CAAe,CAAf,EAAkB,CAAlB,EAAqBl7F,WAArB,EAAd;AACA,WAAO;AACN7F,UAAI,EAAE,OADA;AAEN6iI,UAAI,EAAE,IAFA;AAGNl1D,aAAO,EAAE,CAAC;AACT5sD,cAAM,EAAG,mCAAkC22H,KAAM,IAAGr3I,IAAK,MADhD;AAETL,YAAI,EAAE;AAFG,OAAD,CAHH;AAONqjI,YAAM,EAAG,iCAAgCqU,KAAM,IAAGr3I,IAAK;AAPjD,KAAP;AASA;;AAhBkC,CAArB,CAAf,E;;ACFA;AAEe,iDAAI+hI,IAAJ,CAAS,UAAT,EAAqB;AACnC7+H,MAAI,EAAE,UAD6B;AAEnC8+H,SAAO,EAAE,CAAC,cAAD,CAF0B;AAGnCC,MAAI,EAAE,sCAH6B;AAInCG,QAAM,EAAE,CAAC;AAAEh/C;AAAF,GAAD,KAAsB;AAC7B,UAAMpjF,IAAI,GAAGojF,YAAY,CAACzhF,GAAb,CAAiB,OAAjB,CAAb;AACA,QAAI3B,IAAJ,EAAU,OAAO,CAACA,IAAI,CAACjB,QAAL,EAAD,CAAP;AACV,GAPkC;;AAQnCsjI,YAAU,CAAChwH,IAAD,EAAO,CAACrS,IAAD,CAAP,EAAe;AACxB,WAAO;AACNL,UAAI,EAAE,OADA;AAEN6iI,UAAI,EAAE,IAFA;AAGNl1D,aAAO,EAAE,CAAC;AACT5sD,cAAM,EAAG,oCAAmC1gB,IAAK,MADxC;AAETL,YAAI,EAAE;AAFG,OAAD,CAHH;AAONqjI,YAAM,EAAG,oCAAmChjI,IAAK;AAP3C,KAAP;AASA;;AAlBkC,CAArB,CAAf,E;;ACFA;AAEe,+CAAI+hI,IAAJ,CAAS,QAAT,EAAmB;AACjC7+H,MAAI,EAAE,QAD2B;AAEjC8+H,SAAO,EAAE,CAAC,YAAD,CAFwB;AAGjCG,aAAW,EAAE,KAHoB;AAIjCC,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,kBAAD,CAAqB1yE,IAArB,CAA0B0yE,QAA1B,CAJO;;AAKjCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,CAAP,EAAe;AACxB,WAAO;AACNjL,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAG,gCAA+B57H,EAAG,EAFpC;AAGN67H,gBAAU,EAAE;AAHN,KAAP;AAKA;;AAXgC,CAAnB,CAAf,E;;ACFA;AACA;AACA;AAEe,gDAAI1E,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,SAD4B;AAElC8+H,SAAO,EAAE,CAAC,aAAD,CAFyB;AAGlCC,MAAI,EAAE,iCAH4B;AAIlCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,sBAAD,CAAyB1yE,IAAzB,CAA8B0yE,QAA9B,CAJQ;;AAKlC,QAAMilD,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAGzH,EAAH,CAAvB,EAA+B;AAC9B,UAAMsU,IAAI,GAAG,MAAMkhB,IAAI,CAAC;AACvBZ,SAAG,EAAE,gCADkB;AAEvByjD,WAAK,EAAE;AAAEzjD,WAAG,EAAG,uBAAsB50B,EAAG,EAAjC;AAAoCugC,cAAM,EAAE;AAA5C,OAFgB;AAGvBxrC,UAAI,EAAE,MAHiB;AAIvBkhF,cAAQ,EAAE5L,GAAGA;AAJU,KAAD,CAAvB;;AAOA,QAAI/1D,IAAI,CAACvf,IAAL,KAAc,OAAlB,EAA2B;AAC1B,aAAO;AACNA,YAAI,EAAE,OADA;AAENC,WAAG,EAAEsf,IAAI,CAACsgB;AAFJ,OAAP;AAIA,KALD,MAKO;AACN,aAAO;AACN7/B,YAAI,EAAE,OADA;AAEN6iI,YAAI,EAAE,IAFA;AAGNsE,aAAK,EAAE,IAHD;AAINx5D,eAAO,EAAE,CAAC;AACT5sD,gBAAM,EAAExB,IAAI,CAAC2pH,OADJ;AAETlpI,cAAI,EAAE;AAFG,SAAD,EAGN;AACF+gB,gBAAM,EAAExB,IAAI,CAAC4pH,MADX;AAEFnpI,cAAI,EAAE;AAFJ,SAHM;AAJH,OAAP;AAYA;AACD;;AAhCiC,CAApB,CAAf,E;;ACJA;AACA;AAEe,8CAAIoiI,IAAJ,CAAS,OAAT,EAAkB;AAChC7+H,MAAI,EAAE,OAD0B;AAEhC8+H,SAAO,EAAE,CAAC,UAAD,CAFuB;AAGhCC,MAAI,EAAE,kCAH0B;AAIhCG,QAAM,EAAE,CAAC,MAAM;AACd,UAAMkV,QAAQ,GAAG,gEAAjB;AACA,UAAMC,WAAW,GAAGD,QAAQ,CAC1B/xI,KADkB,CACZ,EADY,EAElB60E,MAFkB,CAEX,CAAC76E,GAAD,EAAMsrC,CAAN,EAAS1qC,CAAT,KAAe;AACtBZ,SAAG,CAACsrC,CAAD,CAAH,GAAS1qC,CAAT;AACA,aAAOZ,GAAP;AACA,KALkB,EAKhB,EALgB,CAApB;;AAOA,aAASi4I,gBAAT,CAA0Bl7G,CAA1B,EAA6B;AAC5B,aAAOA,CAAC,CACN/2B,KADK,CACC,EADD,EAEL60E,MAFK,CAEE,CAAC3jE,CAAD,EAAIo0B,CAAJ,KAAWp0B,CAAC,GAAG6gI,QAAQ,CAAC71I,MAAd,GAAwB81I,WAAW,CAAC1sG,CAAD,CAF/C,EAEoD,CAFpD,CAAP;AAGA;;AAED,WAAO,CAAC;AAAEy4C,cAAF;AAAYlG;AAAZ,KAAD,KAA4B;AAClC,UAAIkG,QAAQ,KAAK,UAAjB,EAA6B;AAE5B,cAAMm0D,SAAS,GAAI,0BAAD,CAA6B/sI,IAA7B,CAAkC0yE,QAAlC,CAAlB;AACA,eAAOq6D,SAAS,IAAI;AAAE7sI,YAAE,EAAE4sI,gBAAgB,CAACC,SAAS,CAAC,CAAD,CAAV;AAAtB,SAApB;AACA,OAJD,MAIO,IAAIn0D,QAAQ,KAAK,gBAAjB,EAAmC;AACzC,eAAO;AAAE14E,YAAE,EAAE;AAAN,SAAP;AACA,OAFM,MAEA;AACN,cAAM6sI,SAAS,GAAI,8BAAD,CAAiC/sI,IAAjC,CAAsC0yE,QAAtC,CAAlB;AACA,eAAOq6D,SAAS,IAAI;AAAE7sI,YAAE,EAAE6sI,SAAS,CAAC,CAAD;AAAf,SAApB;AACA;AACD,KAXD;AAYA,GA3BO,GAJwB;;AAgChC,QAAMpV,UAAN,CAAiBhwH,IAAjB,EAAuB;AAAEzH;AAAF,GAAvB,EAA+B;AAC9B,QAAIA,EAAE,KAAK,IAAX,EAAiB;AAGhB,aAAO;AACNjL,YAAI,EAAE,OADA;AAENC,WAAG,EAAEyS;AAFC,OAAP;AAIA;;AAED,UAAM;AAAE1N,aAAO,EAAE,CAACmxI,GAAD;AAAX,QAAqB,MAAM11G,IAAI,CAAC;AACrCZ,SAAG,EAAE,8BADgC;AAErCyjD,WAAK,EAAE;AAAEx3E,WAAG,EAAE,cAAP;AAAuB47H,WAAG,EAAEz8H;AAA5B,OAF8B;AAGrCjL,UAAI,EAAE;AAH+B,KAAD,CAArC;AAMA,WAAO;AACNA,UAAI,EAAE,OADA;AAENC,SAAG,EAAEk2I,GAAG,CAACzQ,KAAJ,CAAU,CAAV,EAAayQ,GAAb,CAAiBt2G,GAFhB;AAGN6xD,WAAK,EAAEykD,GAAG,CAAC4B,QAHL;AAINn0H,aAAO,EAAEuyH,GAAG,CAAC6B;AAJP,KAAP;AAMA;;AAtD+B,CAAlB,CAAf,E;;ACHA;AACA;AACA;AAEe,+CAAI5V,IAAJ,CAAS,QAAT,EAAmB;AACjC7+H,MAAI,EAAE,QAD2B;AAEjC8+H,SAAO,EAAE,CAAC,YAAD,CAFwB;AAGjCj6C,aAAW,EAAE,CAAC,wCAAD,CAHoB;AAIjCk6C,MAAI,EAAE,8DAJ2B;;AAKjCG,QAAM,CAAC;AAAE9+C,YAAF;AAAYlG;AAAZ,GAAD,EAAyB;AAC9B,UAAMq6D,SAAS,GAAI,mCAAD,CAAsC/sI,IAAtC,CAA2C0yE,QAA3C,CAAlB;AACA,WAAOq6D,SAAS,IAAI,CAACn0D,QAAD,EAAWm0D,SAAS,CAAC,CAAD,CAApB,CAApB;AACA,GARgC;;AASjC,QAAMpV,UAAN,CAAiBhwH,IAAjB,EAAuB,CAACulI,IAAD,EAAOhtI,EAAP,CAAvB,EAAmC;AAClC,UAAM;AAAEi0B;AAAF,QAAe,MAAMuB,IAAI,CAAC;AAC/BZ,SAAG,EAAG,kCAAiCo4G,IAAK,QADb;AAE/B30D,WAAK,EAAE;AACN+lD,eAAO,EAAE,oDADH;AAENp+H,UAFM;AAGNgD,cAAM,EAAE;AAHF,OAFwB;AAO/BjO,UAAI,EAAE;AAPyB,KAAD,CAA/B;AAUA,UAAM+9F,IAAI,GAAG7+D,QAAQ,CAACg5G,KAAT,CAAe,CAAf,CAAb;;AAEA,aAASC,MAAT,CAAgBp5H,MAAhB,EAAwB;AACvB,aAAOg/E,IAAI,CAACvyD,MAAL,KAAgB,UAAhB,GACNkoG,mBAAQ,CAAC30H,MAAD,CADF,GAENA,MAFD;AAGA;;AAED,UAAMwrE,QAAQ,GAAG;AAChBmH,WAAK,EAAEqM,IAAI,CAACrM,KADI;AAEhB9tE,aAAO,EAAEm6E,IAAI,CAACn6E,OAFE;AAGhBm/G,aAAO,EAAG,uBAAsB7jG,QAAQ,CAAC+4G,IAAT,CAAcp4G,GAAI,KAAIX,QAAQ,CAAC+4G,IAAT,CAAc10I,IAAK;AAHzD,KAAjB;;AAMA,YAAQw6F,IAAI,CAAC/9F,IAAb;AACC,WAAK,OAAL;AACC,YAAI,CAAC+9F,IAAI,CAACq6C,MAAL,CAAYt2I,MAAjB,EAAyB,MAAM,IAAItD,KAAJ,CAAU,uBAAV,CAAN;AACzB,eAAO;AACNwB,cAAI,EAAE,SADA;AAEN,aAAGuqF,QAFG;AAGNtqF,aAAG,EAAE89F,IAAI,CAACq6C,MAAL,CAAY31I,GAAZ,CAAgB41I,KAAK,KAAK;AAC9Br4I,gBAAI,EAAE,OADwB;AAE9BC,eAAG,EAAEo4I,KAAK,CAACC,aAAN,CAAoBz4G,GAFK;AAG9Bjc,mBAAO,EAAEy0H,KAAK,CAACz0H;AAHe,WAAL,CAArB;AAHC,SAAP;;AASD,WAAK,MAAL;AACC,eAAO;AACN5jB,cAAI,EAAE,MADA;AAEN,aAAGuqF,QAFG;AAGNtqF,aAAG,EAAEk4I,MAAM,CAACp6C,IAAI,CAACv7E,IAAN;AAHL,SAAP;;AAKD,WAAK,OAAL;AACC,eAAO;AACNxiB,cAAI,EAAE,MADA;AAEN,aAAGuqF,QAFG;AAGNw4C,iBAAO,EAAEhlC,IAAI,CAACh9E,MAHR;AAIN9gB,aAAG,EAAG,kBAAiBk4I,MAAM,CAACp6C,IAAI,CAACn9F,IAAN,CAAY;AAJnC,SAAP;;AAMD,WAAK,MAAL;AACC,eAAO;AACNZ,cAAI,EAAE,MADA;AAEN,aAAGuqF,QAFG;AAGNmH,eAAK,EAAG,YAAWqM,IAAI,CAACl+D,GAAI,KAAIk+D,IAAI,CAACrM,KAAM,MAHrC;AAINzxF,aAAG,EAAEk4I,MAAM,CAACp6C,IAAI,CAACiE,WAAN;AAJL,SAAP;;AAMD,WAAK,MAAL;AACC,eAAO;AACNhiG,cAAI,EAAE,MADA;AAEN,aAAGuqF,QAFG;AAGNtqF,aAAG,EAAE89F,IAAI,CAACw6C,QAAL,CAAc99D,MAAd,CAAqB,CAAC3iE,IAAD,EAAO;AAAEquF,iBAAF;AAASqyC;AAAT,WAAP,KAA8B,GAAE1gI,IAAK,qBAAoBquF,KAAM,QAAOqyC,MAAO,mBAAlG,EAAsH,EAAtH;AAHC,SAAP;;AAKD,WAAK,QAAL;AACC,cAAMC,MAAM,GAAG16C,IAAI,CAAC26C,UAAL,GACb,YAAW36C,IAAI,CAAC26C,UAAW,KAAI36C,IAAI,CAAC46C,WAAY,MADnC,GAEd56C,IAAI,CAAC46C,WAFN;AAIA,eAAO;AACN34I,cAAI,EAAE,MADA;AAEN,aAAGuqF,QAFG;AAGNtqF,aAAG,EAAG,kBAAiBw4I,MAAO,UAAS16C,IAAI,CAAC66C,QAAS,oBAAmBT,MAAM,CAACp6C,IAAI,CAAC86C,MAAN,CAAc;AAHtF,SAAP;;AAKD;AACC,cAAM,IAAIr6I,KAAJ,CAAW,0BAAyBu/F,IAAI,CAAC/9F,IAAK,EAA9C,CAAN;AAjDF;AAmDA;;AArFgC,CAAnB,CAAf,E;;ACJA;AAEe,8CAAIoiI,IAAJ,CAAS,OAAT,EAAkB;AAChC7+H,MAAI,EAAE,OAD0B;AAEhC8+H,SAAO,EAAE,CAAC,eAAD,CAFuB;AAGhCC,MAAI,EAAE,iCAH0B;AAIhCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,yBAAD,CAA4BpyE,IAA5B,CAAiCoyE,QAAjC,CAJM;;AAKhCilD,YAAU,CAAChwH,IAAD,EAAO;AAChB,WAAO;AACN1S,UAAI,EAAE,OADA;AAENC,SAAG,EAAEyS;AAFC,KAAP;AAIA;;AAV+B,CAAlB,CAAf,E;;ACFA;AAEe,+CAAI0vH,IAAJ,CAAS,QAAT,EAAmB;AACjC7+H,MAAI,EAAE,WAD2B;AAEjC8+H,SAAO,EAAE,CAAC,WAAD,CAFwB;AAGjCC,MAAI,EAAE,mCAH2B;AAIjCG,QAAM,EAAE,CAAC;AAAE/vH;AAAF,GAAD,KAAe,yHAAD,CAA4H3H,IAA5H,CAAiI2H,IAAjI,CAJW;;AAKjCgwH,YAAU,CAAChwH,IAAD,EAAO,GAAGomI,OAAH,EAAYC,MAAZ,EAAoBC,OAApB,EAA6BhuG,CAA7B,EAAgCxgC,CAAhC,EAAmCmyB,CAAnC,CAAP,EAA8C;AACvD,UAAMs8G,cAAc,GAAGD,OAAO,GAC5B,SAAQD,MAAM,CAAC30I,OAAP,CAAe,GAAf,EAAoB,GAApB,CAAyB,GAAE40I,OAAQ,EADf,GAE5B,WAAUF,OAAQ,EAFpB;AAIA,UAAMjS,KAAK,GAAI,6BAA4BoS,cAAe,SAAQ,CAACjuG,CAAD,IAAM,CAAE,IAAG,CAACxgC,CAAD,IAAM,CAAE,IAAG,CAACmyB,CAAD,IAAM,CAAE,GAAhG;AAEA,WAAO;AACN38B,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAG,GAAEA,KAAM,iBAFV;AAGNQ,mBAAa,EAAG,GAAER,KAAM,gBAHlB;AAINC,gBAAU,EAAE;AAJN,KAAP;AAMA;;AAlBgC,CAAnB,CAAf,E;;ACFA;AAEe,oDAAI1E,IAAJ,CAAS,aAAT,EAAwB;AACtC7+H,MAAI,EAAE,iBADgC;AAEtC8+H,SAAO,EAAE,CAAC,WAAD,CAF6B;AAGtCC,MAAI,EAAE,mCAHgC;AAYtCG,QAAM,EAAE,CAAC;AAAE9+C,YAAF;AAAYlG;AAAZ,GAAD,KAA4BkG,QAAQ,KAAK,iBAAb,GAAkC,iCAAD,CAAoC54E,IAApC,CAAyC0yE,QAAzC,CAAjC,GAAuF,4CAAD,CAA+C1yE,IAA/C,CAAoD0yE,QAApD,CAZpF;;AAatCilD,YAAU,CAAChwH,IAAD,EAAO,GAAG2jI,MAAH,CAAP,EAAmB;AAC5B,UAAMxP,KAAK,GAAI,sCAAqCwP,MAAO,EAA3D;AAEA,WAAO;AACNr2I,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAG,GAAEA,KAAM,iBAFV;AAGNQ,mBAAa,EAAG,GAAER,KAAM,gBAHlB;AAINC,gBAAU,EAAE;AAJN,KAAP;AAMA;;AAtBqC,CAAxB,CAAf,E;;;ACFA;AAEA;AACA;AAEe,gDAAI1E,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,SAD4B;AAElC8+H,SAAO,EAAE,CAAC,aAAD,CAFyB;AAGlCj6C,aAAW,EAAE,CAAC,gDAAD,CAHqB;AAIlCo6C,aAAW,EAAE,KAJqB;AAKlCC,QAAM,EAAE,CAAC;AAAE/vH;AAAF,GAAD,KAAe,gFAAD,CAAmF3H,IAAnF,CAAwF2H,IAAxF,CALY;;AAMlC,QAAMgwH,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAGzH,EAAH,CAAvB,EAA+B;AAI9B,UAAM;AAAE6hB;AAAF,QAAW,MAAM2T,IAAI,CAAC;AAC3BZ,SAAG,EAAE,gDADsB;AAE3ByjD,WAAK,EAAE;AAAEr4E,UAAF;AAAMiuI,mBAAW;AAAjB,OAFoB;AAG3Bl5I,UAAI,EAAE;AAHqB,KAAD,CAA3B;AAOA,UAAMm5I,MAAM,GAAGvxG,gBAAC,CAAC,OAAD,CAAhB;AAEA,WAAO;AACN5nC,UAAI,EAAE,iBADA;AAENmnI,WAAK,EAAE,IAFD;AAGNF,kBAAY,EAAE,UAHR;AAINmS,cAAQ,EAAE,MAAMD,MAAM,CAAC,CAAD,CAJhB;AAKN9S,cAAQ,EAAE,sBAAO,MAAM;AAAE8S,cAAM,CAACtrH,WAAP,CAAmBf,IAAnB;AAA2B,OAA1C;AALJ,KAAP;AAOA;;AA1BiC,CAApB,CAAf,E;;ACLA;AACA;AACA;AAEe,+CAAIs1G,IAAJ,CAAS,QAAT,EAAmB;AACjC7+H,MAAI,EAAE,QAD2B;AAEjC8+H,SAAO,EAAE,CAAC,YAAD,CAFwB;AAGjCC,MAAI,EAAE,2CAH2B;AAIjCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,+BAAD,CAAkC1yE,IAAlC,CAAuC0yE,QAAvC,CAJO;;AAKjC,QAAMilD,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAG1S,IAAH,EAASsS,IAAT,CAAvB,EAAuC;AACtC,YAAQtS,IAAR;AACC,WAAK,MAAL;AACC,eAAO;AACNA,cAAI,EAAE,OADA;AAENC,aAAG,EAAG,sBAAqBqS,IAAK;AAF1B,SAAP;;AAID,WAAK,OAAL;AACC,cAAM+mI,MAAM,GAAG,IAAIxzE,GAAJ,CAAQnzD,IAAR,CAAf;AACA,cAAM;AAAE4mI;AAAF,YAAW,MAAM74G,IAAI,CAAC;AAC3BZ,aAAG,EAAE9gB,sBAAM,CAACsgE,MAAO,kCAAiC/sE,IAAK,SAD9B;AAE3BtS,cAAI,EAAE;AAFqB,SAAD,CAA3B;AAKA,YAAI,CAACs5I,IAAI,CAACx3I,MAAV,EAAkB,MAAM,IAAItD,KAAJ,CAAU,uBAAV,CAAN;AAElB,cAAMyB,GAAG,GAAGq5I,IAAI,CAAC72I,GAAL,CAAS,CAACxC,GAAD,EAAMO,CAAN,KAAY;AAChC64I,gBAAM,CAAC/mI,IAAP,GAAe,QAAO9R,CAAE,EAAxB;AACA,iBAAO;AACNR,gBAAI,EAAE,OADA;AAENC,eAFM;AAGNyS,gBAAI,EAAE2mI,MAAM,CAAC3mI;AAHP,WAAP;AAKA,SAPW,CAAZ;AASA,eAAO;AACN1S,cAAI,EAAE,SADA;AAENC;AAFM,SAAP;;AAID;AACC,cAAM,IAAIzB,KAAJ,CAAW,2CAA0CwB,IAAK,EAA1D,CAAN;AA7BF;AA+BA;;AArCgC,CAAnB,CAAf,E;;ACJA;AAEe,8CAAIoiI,IAAJ,CAAS,OAAT,EAAkB;AAChC7+H,MAAI,EAAE,OAD0B;AAEhC8+H,SAAO,EAAE,CAAC,WAAD,CAFuB;AAGhCG,aAAW,EAAE,KAHmB;AAIhCC,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,sBAAD,CAAyB1yE,IAAzB,CAA8B0yE,QAA9B,CAJM;;AAKhCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,CAAP,EAAe;AACxB,UAAM47H,KAAK,GAAI,kCAAiC57H,EAAG,EAAnD;AACA,WAAO;AACNjL,UAAI,EAAE,QADA;AAEN6mI,WAFM;AAGNQ,mBAAa,EAAG,GAAER,KAAM,gBAHlB;AAINS,WAAK,EAAE,oBAJD;AAKN/gE,UAAI,EAAE,mBALA;AAMNugE,gBAAU,EAAE;AANN,KAAP;AAQA;;AAf+B,CAAlB,CAAf,E;;ACFA;AAEe,+CAAI1E,IAAJ,CAAS,QAAT,EAAmB;AACjC7+H,MAAI,EAAE,QAD2B;AAEjC8+H,SAAO,EAAE,CAAC,YAAD,CAFwB;AAGjCC,MAAI,EAAE,gCAH2B;AAIjCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,0BAAD,CAA6B1yE,IAA7B,CAAkC0yE,QAAlC,CAJO;;AAKjCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,CAAP,EAAe;AACxB,WAAO;AACNjL,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAG,4BAA2B57H,EAAG,EAFhC;AAGN67H,gBAAU,EAAE;AAHN,KAAP;AAKA;;AAXgC,CAAnB,CAAf,E;;ACFA;AAEe,8CAAI1E,IAAJ,CAAS,OAAT,EAAkB;AAChC7+H,MAAI,EAAE,OAD0B;AAEhC8+H,SAAO,EAAE,CAAC,UAAD,CAFuB;AAGhCC,MAAI,EAAE,kCAH0B;AAIhCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,yBAAD,CAA4B1yE,IAA5B,CAAiC0yE,QAAjC,CAJM;;AAKhCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGzH,EAAH,CAAP,EAAe;AACxB,UAAM47H,KAAK,GAAI,0BAAyB57H,EAAG,EAA3C;AACA,WAAO;AACNjL,UAAI,EAAE,QADA;AAEN6mI,WAFM;AAGNQ,mBAAa,EAAG,GAAER,KAAM,gBAHlB;AAINC,gBAAU,EAAE;AAJN,KAAP;AAMA;;AAb+B,CAAlB,CAAf,E;;;ACDA;AACA;AAEe,gDAAI1E,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,WAD4B;AAElC8+H,SAAO,EAAE,CAAC,WAAD,CAFyB;AAGlCj6C,aAAW,EAAE,CAAC,sCAAD,CAHqB;AAIlCo6C,aAAW,EAAE,KAJqB;AAKlCl/H,SAAO,EAAE;AACRi2I,wBAAoB,EAAE;AACrB7nD,WAAK,EAAE,qCADc;AAErBsQ,iBAAW,EAAE,oCAFQ;AAGrBx8F,WAAK,EAAE,KAHc;AAIrBxF,UAAI,EAAE;AAJe;AADd,GALyB;AAalCyiI,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAkBA,QAAQ,CAAC1+E,KAAT,CAAe,CAAf,CAbQ;;AAclC,QAAM2jI,UAAN,CAAiBhwH,IAAjB,EAAuBzH,EAAvB,EAA2B;AAC1B,UAAMuuI,GAAG,GAAG,MAAM/4G,IAAI,CAAC;AAAEZ,SAAG,EAAG,qBAAoB50B,EAAG;AAA/B,KAAD,CAAtB;AACA,UAAMwuI,QAAQ,GAAG,IAAIv9G,SAAJ,GAAgBC,eAAhB,CAAgCq9G,GAAhC,EAAqC,UAArC,CAAjB;AAEA,QAAIC,QAAQ,CAACxiE,aAAT,CAAuB,2BAAvB,CAAJ,EAAyD,MAAM,IAAIz4E,KAAJ,CAAU,wBAAV,CAAN;AACzD,UAAMk7I,IAAI,GAAG51I,KAAK,CAACwsE,IAAN,CAAWmpE,QAAQ,CAAChuI,gBAAT,CAA0B,gBAA1B,CAAX,CAAb;;AACA,UAAMkiE,OAAO,GAAG,iBAAS+rE,IAAT,EAAeC,GAAG,IAAIz/G,QAAQ,CAACy/G,GAAG,CAAC94I,YAAJ,CAAiB,WAAjB,CAAD,EAAgC,EAAhC,CAA9B,EACdkY,OADc,GAEdtW,GAFc,CAEVk3I,GAAG,IAAIA,GAAG,CAAC1iE,aAAJ,CAAkB,SAAlB,CAFG,EAGdx0E,GAHc,CAGVgzI,OAAO,KAAK;AAChB10H,YAAM,EAAG,qBAAoB9V,EAAG,IAAGwqI,OAAO,CAACvlI,WAAY,EADvC;AAEhBlQ,UAAI,EAAE;AAFU,KAAL,CAHG,CAAhB;;AAQA,WAAO;AACNA,UAAI,EAAE,OADA;AAEN6iI,UAAI,EAAE,IAFA;AAGNsE,WAAK,EAAE,IAHD;AAINx5D;AAJM,KAAP;AAMA;;AAlCiC,CAApB,CAAf,E;;ACNe,iDAAC,wRAAwR,E;;ACExS;AAEO,MAAM;AACZisE,wBADY;AAEZr2I,MAFY;AAGZnC,SAHY;AAIZy4I,QAJY;AAKZC,SALY;AAMZC,SANY;AAOZC,SAPY;AAQZC,YARY;AASZC;AATY,IAUTC,WAVG,C;;ACFP;AACA;AACA;AACA;;AAEA,MAAMC,GAAG,GAAGv6G,GAAG,IAAIY,IAAI,CAAC;AACvBZ,KADuB;AAEvB7/B,MAAI,EAAE,MAFiB;AAGvBoiC,SAAO,EAAE;AAER,sBAAmB,4BAA2Bi4G,gBAAiB,MAAKA,WAAqB;AAFjF;AAHc,CAAD,CAAvB;;AASe,kDAAIjY,IAAJ,CAAS,WAAT,EAAsB;AACpC7+H,MAAI,EAAE,WAD8B;AAEpC8+H,SAAO,EAAE,CAAC,eAAD,EAAkB,eAAlB,CAF2B;AAGpCC,MAAI,EAAE,uDAH8B;AAIpCG,QAAM,EAAE5iG,GAAG,IAAKA,GAAG,CAAC49C,QAAJ,CAAamB,UAAb,CAAwB,QAAxB,KAAqC;AACpD07D,WAAO,EAAEz6G,GAAG,CAAC49C,QAAJ,CAAavuC,MAAb,CAAoB,CAApB,CAD2C;AAEpDs1C,YAAQ,EAAE3kD,GAAG,CAACoC,IAAJ,CAASr8B,KAAT,CAAe,GAAf,EAAoB,CAApB,CAF0C;AAGpD0M,QAAI,EAAEioI,kBAAkB,CAAC16G,GAAG,CAACvtB,IAAJ,CAAS48B,MAAT,CAAgB,CAAhB,CAAD;AAH4B,GAJjB;;AASpC,QAAMwzF,UAAN,CAAiBhwH,IAAjB,EAAuB;AAAE8xE,YAAF;AAAY81D,WAAZ;AAAqBhoI;AAArB,GAAvB,EAAoD;AAEnD,QAAIkyE,QAAQ,KAAK,KAAb,IAAsBA,QAAQ,KAAK,WAAvC,EAAoDA,QAAQ,GAAG,IAAX;AAGpD,UAAM;AAAErsE,WAAK,EAAEqiI,SAAS,GAAG;AAArB,QAA2BloI,IAAI,IAAI,CAAC,MAAM8nI,GAAG,CAAE,WAAU51D,QAAS,wEAAuE81D,OAAQ,WAApG,CAAV,EAA2Ht6H,KAA3H,CAAiIy6H,QAAjI,CAA0ItsI,IAA1I,CAA+I,CAAC;AAAEorE;AAAF,KAAD,KAAgBA,MAAM,KAAKjnE,IAA1K,CAAR,IAA2L,EAA5N;AAEA,UAAM;AAAE0N,WAAK,EAAE8M;AAAT,QAAkB,MAAMstH,GAAG,CAAE,WAAU51D,QAAS,oFAAmFg2D,SAAU,SAAQF,OAAQ,WAAlI,CAAjC;AAIA,UAAMI,QAAQ,GAAG,IAAIx+G,SAAJ,GAAgBC,eAAhB,CAAgCrP,IAAI,CAAClsB,IAAL,CAAU,GAAV,CAAhC,EAAgD,WAAhD,CAAjB;;AAGA,SAAK,MAAMyJ,CAAX,IAAgBqwI,QAAQ,CAACjvI,gBAAT,CAA0B,wFAA1B,CAAhB,EAAqIpB,CAAC,CAACyP,MAAF;;AAGrI,SAAK,MAAMzP,CAAX,IAAgBqwI,QAAQ,CAACjvI,gBAAT,CAA0B,GAA1B,CAAhB,EAAgD;AAC/CpB,OAAC,CAACqI,IAAF,GAAS,IAAImzD,GAAJ,CAAQx7D,CAAC,CAACxJ,YAAF,CAAe,MAAf,CAAR,EAAiC,WAAU2jF,QAAS,uBAAsB81D,OAAQ,EAAlF,EAAqF5nI,IAA9F;AACA;;AAED,WAAO;AACN1S,UAAI,EAAE,MADA;AAEN0xF,WAAK,EAAE9pD,gBAAC,CAAC,OAAD,EAAU;AAAE9a,YAAI,EAAEA,IAAI,CAAC6tH,YAAL,IAAqB7tH,IAAI,CAAC4kE;AAAlC,OAAV,CAAD,CAAsD9wF,IAAtD,EAFD;AAGNX,SAAG,EAAEy6I,QAAQ,CAACl4H,IAAT,CAAcjU;AAHb,KAAP;AAKA;;AAnCmC,CAAtB,CAAf,E;;ACdA;AAEe,gDAAI6zH,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,SAD4B;AAElC8+H,SAAO,EAAE,CAAC,aAAD,CAFyB;AAGlCC,MAAI,EAAE,wCAH4B;AAIlCG,QAAM,EAAE,CAAC;AAAEhlD;AAAF,GAAD,KAAmB,sCAAD,CAAyC1yE,IAAzC,CAA8C0yE,QAA9C,CAJQ;;AAKlCilD,YAAU,CAAChwH,IAAD,EAAO,GAAGogC,IAAH,CAAP,EAAiB;AAC1B,WAAO;AACN9yC,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAG,uBAAsB/zF,IAAK,QAF7B;AAGNg0F,gBAAU,EAAE;AAHN,KAAP;AAKA;;AAXiC,CAApB,CAAf,E;;ACFA;AACA;AAEe,6CAAI1E,IAAJ,CAAS,MAAT,EAAiB;AAC/B7+H,MAAI,EAAE,MADyB;AAE/B8+H,SAAO,EAAE,CAAC,UAAD,CAFsB;AAG/Bj6C,aAAW,EAAE,CAAC,gCAAD,CAHkB;AAI/Bk6C,MAAI,EAAE,8BAJyB;AAK/BG,QAAM,EAAE,CAAC;AAAE9+C,YAAF;AAAYlG;AAAZ,GAAD,KAEP,CAAC,UAAD,EAAa,cAAb,EAA6Bz9B,QAA7B,CAAsC2jC,QAAtC,KACC,sBAAD,CAAyB54E,IAAzB,CAA8B0yE,QAA9B,CAR8B;;AAU/B,QAAMilD,UAAN,CAAiBhwH,IAAjB,EAAuB,GAAGzH,EAAH,CAAvB,EAA+B;AAC9B,UAAM;AAAEymF,WAAF;AAAS0I,SAAT;AAAcwtC;AAAd,QAAsB,MAAMnnG,IAAI,CAAC;AACtCZ,SAAG,EAAG,oBAAmB50B,EAAG,cADU;AAEtCjL,UAAI,EAAE;AAFgC,KAAD,CAAtC;AAKA,WAAO;AACNA,UAAI,EAAE,OADA;AAEN0xF,WAFM;AAGN9tE,aAAO,EAAEw2E,GAHH;AAINn6F,SAAG,EAAE2nI;AAJC,KAAP;AAMA;;AAtB8B,CAAjB,CAAf,E;;ACHA;AACA;AACA;AAEe,gDAAIxF,IAAJ,CAAS,SAAT,EAAoB;AAClC7+H,MAAI,EAAE,SAD4B;AAElCi/H,aAAW,EAAE,KAFqB;AAGlCH,SAAO,EAAE,CAAC,aAAD,EAAgB,UAAhB,CAHyB;AAIlCI,QAAM,EAAE,CAAC;AAAEhlD,YAAF;AAAYkG,YAAZ;AAAsBF;AAAtB,GAAD,KAA0C;AAEjD,UAAM79E,KAAK,GAAG63E,QAAQ,CAACsjB,SAAT,CAAmB,CAAnB,EAAsBn7F,KAAtB,CAA4B,GAA5B,CAAd;AAEA,QAAIA,KAAK,CAAC,CAAD,CAAL,KAAa,SAAb,IAA0BA,KAAK,CAAC,CAAD,CAAL,KAAa,MAA3C,EAAmD,OAAO,CAAE,uBAAsBA,KAAK,CAAC,CAAD,CAAI,EAAjC,EAAoC69E,YAApC,CAAP;AAEnD,QAAIE,QAAQ,CAAC3C,QAAT,CAAkB,UAAlB,CAAJ,EAAmC,OAAO,CAACp7E,KAAK,CAAC,CAAD,CAAN,EAAW69E,YAAX,CAAP;AAGnC,UAAMm3D,MAAM,GAAGn3D,YAAY,CAACzhF,GAAb,CAAiB,GAAjB,CAAf;AACA,QAAI44I,MAAJ,EAAY,OAAO,CAACA,MAAD,EAASn3D,YAAT,CAAP;AAEZ,QAAK,gBAAD,CAAmB14E,IAAnB,CAAwBnF,KAAK,CAAC,CAAD,CAA7B,CAAJ,EAAuC,OAAO,CAACA,KAAK,CAAC,CAAD,CAAN,EAAW69E,YAAX,CAAP;AAEvC,UAAMo3D,MAAM,GAAGp3D,YAAY,CAACzhF,GAAb,CAAiB,GAAjB,CAAf;;AACA,QAAI4D,KAAK,CAAC,CAAD,CAAL,KAAa,kBAAb,IAAmCi1I,MAAM,KAAK,IAAlD,EAAwD;AACvD,YAAMD,MAAM,GAAG,IAAIh3D,eAAJ,CAAoBi3D,MAAM,CAACj1I,KAAP,CAAa,GAAb,EAAkB,CAAlB,CAApB,EAA0C5D,GAA1C,CAA8C,GAA9C,CAAf;AACA,UAAI44I,MAAJ,EAAY,OAAO,CAACA,MAAD,EAASn3D,YAAT,CAAP;AACZ;AACD,GAvBiC;;AAwBlCi/C,YAAU,CAAChwH,IAAD,EAAO,CAACzH,EAAD,EAAKw4E,YAAL,CAAP,EAA2B;AACpC,UAAM5jD,GAAG,GAAG,IAAIgmC,GAAJ,CAAS,iCAAgC56D,EAAG,EAA5C,CAAZ;AACA40B,OAAG,CAAC4jD,YAAJ,CAAiBnkE,GAAjB,CAAqB,SAArB,EAAgC,GAAhC;AACAugB,OAAG,CAAC4jD,YAAJ,CAAiBnkE,GAAjB,CAAqB,KAArB,EAA4B,GAA5B;AAEA,UAAMw7H,MAAM,GAAGr3D,YAAY,CAACzhF,GAAb,CAAiB,GAAjB,CAAf;;AACA,QAAI84I,MAAJ,EAAY;AACX,UAAItpI,KAAK,GAAG,CAAZ;AACA,YAAMupI,UAAU,GAAG;AAAE/vG,SAAC,EAAE,IAAL;AAAWxgC,SAAC,EAAE,EAAd;AAAkBmyB,SAAC,EAAE;AAArB,OAAnB;AACA,YAAMq+G,MAAM,GAAG,eAAf;AAEA,YAAMC,SAAS,GAAGH,MAAM,CAACpwI,KAAP,CAAaswI,MAAb,CAAlB;;AAEA,UAAIC,SAAJ,EAAe;AACd,aAAK,MAAMC,EAAX,IAAiBD,SAAjB,EAA4B;AAC3B,gBAAM94H,IAAI,GAAG44H,UAAU,CAACG,EAAE,CAACn8I,KAAH,CAAS,CAAC,CAAV,CAAD,CAAvB;AACA,gBAAMooD,MAAM,GAAGjtB,QAAQ,CAACghH,EAAE,CAACn8I,KAAH,CAAS,CAAT,EAAY,CAAC,CAAb,CAAD,EAAkB,EAAlB,CAAvB;AAEAyS,eAAK,IAAI2Q,IAAI,GAAGglC,MAAhB;AACA;AACD,OAPD,MAOO;AAEN31C,aAAK,GAAG0oB,QAAQ,CAAC4gH,MAAD,EAAS,EAAT,CAAhB;AACA,YAAItzG,KAAK,CAACh2B,KAAD,CAAT,EAAkBA,KAAK,GAAG,CAAR;AAClB;;AACDquB,SAAG,CAAC4jD,YAAJ,CAAiBnkE,GAAjB,CAAqB,OAArB,EAA8BhW,MAAM,CAACkI,KAAD,CAApC;AACA;;AAED,SAAK,MAAMg5E,CAAX,IAAgB,CAAC,KAAD,EAAQ,OAAR,EAAiB,MAAjB,CAAhB,EAA0C;AACzC,YAAM9tD,KAAK,GAAG+mD,YAAY,CAACzhF,GAAb,CAAiBwoF,CAAjB,CAAd;AACA,UAAI9tD,KAAJ,EAAWmD,GAAG,CAAC4jD,YAAJ,CAAiBnkE,GAAjB,CAAqBkrE,CAArB,EAAwB9tD,KAAxB;AACX;;AAED,WAAO;AACN18B,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAEhnG,GAAG,CAACntB,IAFL;AAGN20H,mBAAa,EAAG,GAAExnG,GAAG,CAACntB,IAAK,aAHrB;AAINo0H,gBAAU,EAAE;AAJN,KAAP;AAMA,GA/DiC;;AAgElCnE,cAAY,EAAEp8C,KAAK,CAAC,MAAMmhD,GAAN,IAAa;AAChC,UAAM;AAAE59C;AAAF,QAAY,MAAMrpD,IAAI,CAAC;AAC5BZ,SAAG,EAAE,8CADuB;AAE5ByjD,WAAK,EAAE;AACNr4E,UAAE,EAAE,CAAC,GAAGy8H,GAAJ,EAASvkI,IAAT,GAAgBoI,IAAhB,CAAqB,GAArB,CADE;AAENg8C,YAAI,EAAE,CAAC,IAAD,EAAO,gBAAP,EAAyB,SAAzB,EAAoC,YAApC,EAAkDh8C,IAAlD,CAAuD,GAAvD,CAFA;AAGNgxF,cAAM,EAAG,SAAQ,CAAC,IAAD,EAAO,0BAAP,EAAmC,4BAAnC,EAAiE,uBAAjE,EAA0FhxF,IAA1F,CAA+F,GAA/F,CAAoG,GAH/G;AAINO,WAAG,EAAE;AAJC,OAFqB;AAQ5B9L,UAAI,EAAE,MARsB;AAS5BkhF,cAAQ,EAAE5L,GAAGA;AATe,KAAD,CAA5B;AAYA,WAAOoyD,GAAG,CACRjlI,GADK,CACDwI,EAAE,IAAI;AACV,YAAMsU,IAAI,GAAGuqE,KAAK,CAAC37E,IAAN,CAAW,CAAC;AAAElD,UAAE,EAAEkwI;AAAN,OAAD,KAAiBA,GAAG,KAAKlwI,EAApC,CAAb;;AACA,UAAI;AACH,cAAM;AAAEmwI,wBAAc,EAAE;AAAElnH,oBAAQ,EAAEmnH;AAAZ,WAAlB;AAA6CC,iBAAO,EAAE;AAAE5pD,iBAAF;AAAS6pD;AAAT,WAAtD;AAA8EC,oBAAU,EAAE;AAAEC;AAAF;AAA1F,YAA4Gl8H,IAAlH;AAEA,cAAM2U,QAAQ,GAAG,CAAC,GAAD,EACfl1B,MADe,CACRq8I,WAAW,CAAC3wI,KAAZ,CAAkB,wCAAlB,EAA4D3L,KAA5D,CAAkE,CAAlE,CADQ,EAEf0D,GAFe,CAEXs2B,IAAI,IAAK,IAAGA,IAAI,IAAI,CAAE,EAAd,CAAgBh6B,KAAhB,CAAsB,CAAC,CAAvB,CAFG,EAGfkP,MAHe,CAGR,CAAC8qB,IAAD,EAAOv4B,CAAP,EAAU;AAAEsB;AAAF,SAAV,KAAyB,CAACi3B,IAAD,KAAU,CAAV,IAAev4B,CAAC,IAAIsB,MAAM,GAAG,CAH9C,EAIfyJ,IAJe,CAIV,GAJU,CAAjB;AAMA,eAAO;AAAEmmF,eAAF;AAASx9D,kBAAT;AAAmBqnH,qBAAnB;AAAgCE;AAAhC,SAAP;AACA,OAVD,CAUE,OAAOpxI,CAAP,EAAU,CAAe;AAC3B,KAdK,CAAP;AAeA,GA5BkB,EA4BhB;AAAE+nC,QAAI,EAAE,EAAR;AAAYtZ,SAAK,EAAE;AAAnB,GA5BgB;AAhEe,CAApB,CAAf,E;;ACJA;AAEe,8CAAIspG,IAAJ,CAAS,OAAT,EAAkB;AAChC7+H,MAAI,EAAE,SAD0B;AAEhC8+H,SAAO,EAAE,CAAC,eAAD,EAAkB,cAAlB,CAFuB;AAGhCC,MAAI,EAAE,2CAH0B;AAIhCG,QAAM,EAAE,CAAC;AAAEh/C;AAAF,GAAD,KAAsB;AAC7B,UAAMi4D,MAAM,GAAGj4D,YAAY,CAACzhF,GAAb,CAAiB,GAAjB,CAAf;AACA,QAAI05I,MAAJ,EAAY,OAAO,CAAC,GAAD,EAAMA,MAAN,CAAP;AAEZ,UAAMd,MAAM,GAAGn3D,YAAY,CAACzhF,GAAb,CAAiB,GAAjB,CAAf;AACA,QAAI44I,MAAJ,EAAY,OAAO,CAAC,GAAD,EAAMA,MAAN,CAAP;AACZ,GAV+B;;AAWhClY,YAAU,CAAChwH,IAAD,EAAO,CAACipI,QAAD,EAAWtF,MAAX,CAAP,EAA2B;AACpC,WAAO;AACNr2I,UAAI,EAAE,QADA;AAEN6mI,WAAK,EAAG,+BAA8B8U,QAAS,IAAGtF,MAAO;AAFnD,KAAP;AAIA;;AAhB+B,CAAlB,CAAf,E;;ACJA;AACoH;AACI;AACC;AACD;AACL;AACA;AACG;AACH;AACO;AACJ;AACM;AACA;AACF;AACA;AACH;AACM;AACP;AACC;AACD;AACI;AACL;AACC;AACI;AACL;AACG;AACD;AACA;AACF;AACI;AACF;AACC;AACA;AACA;AACC;AACC;AACH;AACF;AACG;AACA;AACA;AACG;AACN;AACD;AACG;AACJ;AACQ;AACA;AACE;AACN;AACI;AACD;AACN;AACM;AACH;AACO;AACF;AACA;AACD;AACD;AACF;AACA;AACF;AACC;AACF;AACC;AACD;AACC;AACK;AACJ;AACD;AACD;AACC;AACD;AACE;AACE;AACF;AACH;AACG;AACF;AACtG,2DAAC,aAAa,KAAE,kBAAkB,SAAE,mBAAmB,UAAE,kBAAkB,SAAE,aAAa,IAAE,aAAa,IAAE,gBAAgB,OAAE,aAAa,IAAE,oBAAoB,WAAE,gBAAgB,aAAE,qBAAqB,YAAG,qBAAqB,YAAG,mBAAmB,UAAG,mBAAmB,UAAG,gBAAgB,OAAG,sBAAsB,aAAG,eAAe,MAAG,gBAAgB,OAAG,eAAe,MAAG,mBAAmB,UAAG,cAAc,KAAG,eAAe,MAAG,mBAAmB,UAAG,cAAc,KAAG,iBAAiB,QAAG,gBAAgB,OAAG,gBAAgB,OAAG,cAAc,KAAG,kBAAkB,SAAG,gBAAgB,OAAG,iBAAiB,QAAG,iBAAiB,QAAG,iBAAiB,QAAG,kBAAkB,SAAG,mBAAmB,UAAG,gBAAgB,OAAG,cAAc,KAAG,iBAAiB,QAAG,iBAAiB,QAAG,iBAAiB,QAAG,oBAAoB,WAAG,cAAc,KAAG,aAAa,IAAG,gBAAgB,OAAG,YAAY,GAAG,oBAAoB,WAAG,oBAAoB,WAAG,sBAAsB,aAAG,gBAAgB,OAAG,oBAAoB,WAAG,mBAAmB,UAAG,aAAa,IAAG,mBAAmB,UAAG,gBAAgB,OAAG,uBAAuB,cAAG,qBAAqB,YAAG,qBAAqB,YAAG,oBAAoB,WAAG,mBAAmB,UAAG,iBAAiB,QAAG,iBAAiB,QAAG,eAAe,MAAG,gBAAgB,OAAG,cAAc,KAAG,eAAe,MAAG,cAAc,KAAG,eAAe,MAAG,oBAAoB,WAAG,gBAAgB,OAAG,eAAe,MAAG,cAAc,KAAG,eAAe,MAAG,cAAc,KAAG,gBAAgB,OAAG,kBAAkB,SAAG,gBAAgB,OAAG,aAAa,IAAG,gBAAgB,OAAG,cAAc,KAAG,EAAE,E;;;;;;;;;;;AC9EjiD;AAEA;AAYA;AACA;AACA;AAuBA;AASA;AACA;AACA;AACA;AAWA;AAKA;;AAEA,MAAMuF,WAAyC,GAAG,eACjD,MAAM/8I,MAAM,CAAC8jB,MAAP,CAAck5H,qBAAd,CAD2C,EAEjD,cAAI55G,IAAI,IAAI4zC,QAAQ,CAAC5zC,IAAD,EAAOmgG,IAAP,CAApB,CAFiD,EAGjD,gBAAMngG,IAAI,IAAIA,IAAI,CAAC8jF,QAAnB,CAHiD,GAAlD;;AAMO,MAAMoiB,YAA8B,GAAG,CAACyT,WAAW,CAACtsE,OAAb,EAAsBssE,WAAW,CAACE,YAAlC,EAAgDF,WAAW,CAACG,YAA5D,CAAvC;AAEA,MAAM39I,iBAAiB,GAAG,IAAIirH,MAAJ,CAAW,YAAX,CAA1B;AAEPjrH,iBAAM,CAACkrH,UAAP,GAAoB,gBAApB;AACAlrH,iBAAM,CAACmrH,QAAP,GAAkB,sBAAlB;AACAnrH,iBAAM,CAAC4jG,WAAP,GAAqB,gBAArB;AACA5jG,iBAAM,CAACsrH,SAAP,GAAmB,IAAnB;AACAtrH,iBAAM,CAACkF,OAAP,GAAiB;AAChB04I,aAAW,EAAE;AACZtqD,SAAK,EAAE,4BADK;AAEZ1xF,QAAI,EAAE,SAFM;AAGZwF,SAAK,EAAE,IAHK;AAIZw8F,eAAW,EAAE;AAJD,GADG;AAOhBi6C,oBAAkB,EAAE;AACnBvqD,SAAK,EAAE,mCADY;AAEnB1xF,QAAI,EAAE,MAFa;AAGnBwF,SAAK,EAAE,GAHY;AAInBw8F,eAAW,EAAE,kCAJM;AAKnB09B,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC04I,WAAR,CAAoBx2I;AALvB,GAPJ;AAchB02I,qBAAmB,EAAE;AACpBxqD,SAAK,EAAE,oCADa;AAEpB1xF,QAAI,EAAE,MAFc;AAGpBwF,SAAK,EAAE,GAHa;AAIpBw8F,eAAW,EAAE;AAJO,GAdL;AAoBhBm6C,gBAAc,EAAE;AACfzqD,SAAK,EAAE,+BADQ;AAEf1xF,QAAI,EAAE,SAFS;AAGfwF,SAAK,EAAE,IAHQ;AAIfw8F,eAAW,EAAE;AAJE,GApBA;AA0BhB1xE,UAAQ,EAAE;AACTohE,SAAK,EAAE,yBADE;AAET1xF,QAAI,EAAE,MAFG;AAGTwF,SAAK,EAAE,MAHE;AAITw8F,eAAW,EAAE,wBAJJ;AAKTq2B,YAAQ,EAAE;AALD,GA1BM;AAiChBoD,WAAS,EAAE;AACV/pC,SAAK,EAAE,0BADG;AAEV1xF,QAAI,EAAE,MAFI;AAGVwF,SAAK,EAAE,KAHG;AAIVw8F,eAAW,EAAE,yBAJH;AAKVq2B,YAAQ,EAAE;AALA,GAjCK;AAwChB+jB,2BAAyB,EAAE;AAC1B1qD,SAAK,EAAE,0CADmB;AAE1B1xF,QAAI,EAAE,SAFoB;AAG1BwF,SAAK,EAAE,KAHmB;AAI1Bw8F,eAAW,EAAE;AAJa,GAxCX;AA8ChBq6C,mBAAiB,EAAE;AAClB3qD,SAAK,EAAE,kCADW;AAElB1xF,QAAI,EAAE,MAFY;AAGlBwF,SAAK,EAAE,GAHW;AAIlBw8F,eAAW,EAAE,iCAJK;AAKlBq2B,YAAQ,EAAE;AALQ,GA9CH;AAqDhBikB,kBAAgB,EAAE;AACjB5qD,SAAK,EAAE,iCADU;AAEjB1xF,QAAI,EAAE,MAFW;AAGjBwF,SAAK,EAAE,GAHU;AAIjBw8F,eAAW,EAAE,gCAJI;AAKjBq2B,YAAQ,EAAE;AALO,GArDF;AA4DhBkkB,eAAa,EAAE;AACd7qD,SAAK,EAAE,8BADO;AAEd1xF,QAAI,EAAE,SAFQ;AAGdwF,SAAK,EAAE,KAHO;AAIdw8F,eAAW,EAAE,6BAJC;AAKd09B,aAAS,EAAEp8H,OAAO,IAAI,CAAC,CAAC42B,QAAQ,CAAC52B,OAAO,CAAC+4I,iBAAR,CAA0B72I,KAA3B,EAAkC,EAAlC,CAAV,IAAmD,CAAC,CAAC00B,QAAQ,CAAC52B,OAAO,CAACg5I,gBAAR,CAAyB92I,KAA1B,EAAiC,EAAjC,CALrE;AAMd6yH,YAAQ,EAAE;AANI,GA5DC;AAoEhB4K,iBAAe,EAAE;AAChBvxC,SAAK,EAAE,gCADS;AAEhB1xF,QAAI,EAAE,SAFU;AAGhBwF,SAAK,EAAE,IAHS;AAIhBw8F,eAAW,EAAE;AAJG,GApED;AA0EhBw6C,UAAQ,EAAE;AACT9qD,SAAK,EAAE,yBADE;AAET1xF,QAAI,EAAE,SAFG;AAGTwF,SAAK,EAAE,KAHE;AAITw8F,eAAW,EAAE;AAJJ,GA1EM;AAgFhBy6C,qBAAmB,EAAE;AACpB/qD,SAAK,EAAE,oCADa;AAEpB1xF,QAAI,EAAE,SAFc;AAGpBwF,SAAK,EAAE,IAHa;AAIpBw8F,eAAW,EAAE,mCAJO;AAKpB0nB,aAAS,EAAE;AALS,GAhFL;AAuFhBgzB,wBAAsB,EAAE;AACvBhrD,SAAK,EAAE,uCADgB;AAEvB1xF,QAAI,EAAE,SAFiB;AAGvBwF,SAAK,EAAE,IAHgB;AAIvBw8F,eAAW,EAAE,sCAJU;AAKvB0nB,aAAS,EAAE;AALY,GAvFR;AA8FhBizB,WAAS,EAAE;AACVjrD,SAAK,EAAE,0BADG;AAEV1xF,QAAI,EAAE,SAFI;AAGVwF,SAAK,EAAE,IAHG;AAIVw8F,eAAW,EAAE;AAJH,GA9FK;AAoGhB46C,WAAS,EAAE;AACVlrD,SAAK,EAAE,0BADG;AAEV1xF,QAAI,EAAE,SAFI;AAGVwF,SAAK,EAAE,IAHG;AAIVw8F,eAAW,EAAE;AAJH,GApGK;AA0GhB66C,eAAa,EAAE;AACdnrD,SAAK,EAAE,8BADO;AAEd1xF,QAAI,EAAE,SAFQ;AAGdwF,SAAK,EAAE,IAHO;AAIdw8F,eAAW,EAAE;AAJC,GA1GC;AAgHhB86C,uBAAqB,EAAE;AACtBprD,SAAK,EAAE,sCADe;AAEtBguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACu5I,aAAR,CAAsBr3I,KAFtB;AAGtBxF,QAAI,EAAE,MAHgB;AAItBwF,SAAK,EAAE,UAJe;AAKtBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,UADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,WADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,cADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,eADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,CALc;AAkBtBw8F,eAAW,EAAE;AAlBS,GAhHP;AAoIhB4hC,QAAM,EAAE;AACPlyC,SAAK,EAAE,uBADA;AAEPguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACu5I,aAAR,CAAsBr3I,KAFrC;AAGPxF,QAAI,EAAE,SAHC;AAIPwF,SAAK,EAAE,IAJA;AAKPw8F,eAAW,EAAE;AALN,GApIQ;AA2IhB+6C,YAAU,EAAE;AACXrrD,SAAK,EAAE,2BADI;AAEXsQ,eAAW,EAAE,iCAFF;AAGXhiG,QAAI,EAAE,MAHK;AAIXwF,SAAK,EAAE,cAJI;AAKXmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,yCADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,qCADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,uBADJ;AAEFiC,WAAK,EAAE;AAFL,KANK;AALG,GA3II;AA2JhBw3I,sBAAoB,EAAE;AACrBtrD,SAAK,EAAE,qCADc;AAErB1xF,QAAI,EAAE,SAFe;AAGrBwF,SAAK,EAAE,IAHc;AAIrBw8F,eAAW,EAAE,oCAJQ;AAKrBq2B,YAAQ,EAAE,IALW;AAMrB3O,aAAS,EAAE;AANU,GA3JN;AAmKhBuzB,kBAAgB,EAAE;AACjBvrD,SAAK,EAAE,iCADU;AAEjBguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC05I,oBAAR,CAA6Bx3I,KAFlC;AAGjBxF,QAAI,EAAE,MAHW;AAIjBwF,SAAK,EAAE,YAJU;AAKjBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,mCADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,uDADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,uDADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,mCADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,CALS;AAkBjBw8F,eAAW,EAAE,gCAlBI;AAmBjBq2B,YAAQ,EAAE,IAnBO;AAoBjB3O,aAAS,EAAE;AApBM,GAnKF;AAyLhBwzB,aAAW,EAAE;AACZxrD,SAAK,EAAE,4BADK;AAEZ1xF,QAAI,EAAE,SAFM;AAGZwF,SAAK,EAAE,IAHK;AAIZw8F,eAAW,EAAE,2BAJD;AAKZq2B,YAAQ,EAAE;AALE,GAzLG;AAgMhB8kB,qBAAmB,EAAE;AACpBzrD,SAAK,EAAE,oCADa;AAEpBguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC45I,WAAR,CAAoB13I,KAFtB;AAGpBxF,QAAI,EAAE,SAHc;AAIpBwF,SAAK,EAAE,KAJa;AAKpBw8F,eAAW,EAAE,mCALO;AAMpBq2B,YAAQ,EAAE;AANU,GAhML;AAwMhB+kB,YAAU,EAAE;AACX1rD,SAAK,EAAE,2BADI;AAEXguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC45I,WAAR,CAAoB13I,KAF/B;AAGXxF,QAAI,EAAE,MAHK;AAIXwF,SAAK,EAAE,KAJI;AAKXmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,sBADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,4BADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,CALG;AAYXw8F,eAAW,EAAE;AAZF,GAxMI;AAsNhBq7C,sBAAoB,EAAE;AACrB3rD,SAAK,EAAE,qCADc;AAErBguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACq5I,SAAR,CAAkBn3I,KAFnB;AAGrBxF,QAAI,EAAE,SAHe;AAIrBwF,SAAK,EAAE,IAJc;AAKrBw8F,eAAW,EAAE;AALQ,GAtNN;AA6NhBs7C,oBAAkB,EAAE;AACnB5rD,SAAK,EAAE,mCADY;AAEnB1xF,QAAI,EAAE,SAFa;AAGnBwF,SAAK,EAAE,KAHY;AAInBw8F,eAAW,EAAE;AAJM,GA7NJ;AAmOhBu7C,wBAAsB,EAAE;AACvB7rD,SAAK,EAAE,uCADgB;AAEvBguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACg6I,kBAAR,CAA2B93I,KAF1B;AAGvBxF,QAAI,EAAE,MAHiB;AAIvBwF,SAAK,EAAE,IAJgB;AAKvBw8F,eAAW,EAAE;AALU,GAnOR;AA0OhBw7C,4BAA0B,EAAE;AAC3B9rD,SAAK,EAAE,2CADoB;AAE3BguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACg6I,kBAAR,CAA2B93I,KAFtB;AAG3BxF,QAAI,EAAE,MAHqB;AAI3BwF,SAAK,EAAE,GAJoB;AAK3Bw8F,eAAW,EAAE;AALc,GA1OZ;AAiPhBy7C,mBAAiB,EAAE;AAClB/rD,SAAK,EAAE,kCADW;AAElB1xF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,IAHW;AAIlBw8F,eAAW,EAAE;AAJK,GAjPH;AAuPhB07C,iBAAe,EAAE;AAChBhsD,SAAK,EAAE,gCADS;AAEhB1xF,QAAI,EAAE,MAFU;AAGhBwF,SAAK,EAAE,KAHS;AAIhBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,qCADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,cADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,2CADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,uCADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,CAJQ;AAiBhBw8F,eAAW,EAAE;AAjBG,GAvPD;AA0QhB27C,oBAAkB,EAAE;AACnBjsD,SAAK,EAAE,mCADY;AAEnB1xF,QAAI,EAAE,SAFa;AAGnBwF,SAAK,EAAE,IAHY;AAInBw8F,eAAW,EAAE;AAJM,GA1QJ;AAgRhB47C,wCAAsC,EAAE;AACvClsD,SAAK,EAAE,uDADgC;AAEvCguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACq6I,kBAAR,CAA2Bn4I,KAFV;AAGvCxF,QAAI,EAAE,SAHiC;AAIvCwF,SAAK,EAAE,IAJgC;AAKvCw8F,eAAW,EAAE;AAL0B,GAhRxB;AAuRhB67C,wBAAsB,EAAE;AACvBnsD,SAAK,EAAE,uCADgB;AAEvBguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACq6I,kBAAR,CAA2Bn4I,KAF1B;AAGvBxF,QAAI,EAAE,SAHiB;AAIvBwF,SAAK,EAAE,KAJgB;AAKvBw8F,eAAW,EAAE;AALU,GAvRR;AA8RhB87C,qBAAmB,EAAE;AACpBpsD,SAAK,EAAE,oCADa;AAEpB1xF,QAAI,EAAE,SAFc;AAGpBwF,SAAK,EAAE,IAHa;AAIpBw8F,eAAW,EAAE;AAJO,GA9RL;AAoShB+7C,yBAAuB,EAAE;AACxBrsD,SAAK,EAAE,wCADiB;AAExB1xF,QAAI,EAAE,MAFkB;AAGxBwF,SAAK,EAAE,SAHiB;AAIxBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,YADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,iBADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,sDADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,CAJgB;AAcxBw8F,eAAW,EAAE;AAdW,GApST;AAoThBg8C,kBAAgB,EAAE;AACjBtsD,SAAK,EAAE,iCADU;AAEjB1xF,QAAI,EAAE,SAFW;AAGjBwF,SAAK,EAAE,KAHU;AAIjBw8F,eAAW,EAAE;AAJI,GApTF;AA0ThBi8C,0BAAwB,EAAE;AACzBvsD,SAAK,EAAE,yCADkB;AAEzB1xF,QAAI,EAAE,SAFmB;AAGzBwF,SAAK,EAAE,IAHkB;AAIzBw8F,eAAW,EAAE;AAJY,GA1TV;AAgUhBk8C,wBAAsB,EAAE;AACvBxsD,SAAK,EAAE,uCADgB;AAEvB1xF,QAAI,EAAE,MAFiB;AAGvBwF,SAAK,EAAE,GAHgB;AAIvBw8F,eAAW,EAAE;AAJU,GAhUR;AAsUhBm8C,eAAa,EAAE;AACdzsD,SAAK,EAAE,8BADO;AAEd1xF,QAAI,EAAE,SAFQ;AAGdwF,SAAK,EAAE,IAHO;AAIdw8F,eAAW,EAAE;AAJC,GAtUC;AA4UhBo8C,wBAAsB,EAAE;AACvB1sD,SAAK,EAAE,uCADgB;AAEvB1xF,QAAI,EAAE,SAFiB;AAGvBwF,SAAK,EAAE,KAHgB;AAIvBw8F,eAAW,EAAE,sCAJU;AAKvB0nB,aAAS,EAAE;AALY,GA5UR;AAmVhB,KAAG7qH,MAAM,CAAC8jB,MAAP,CAAci5H,WAAd,EAA2BnhE,MAA3B,CAAkC,CAACn3E,OAAD,EAAU+6I,UAAV,KAAyB;AAE7D,QAAIlW,YAAY,CAACnoF,QAAb,CAAsBq+F,UAAtB,CAAJ,EAAuC,OAAO/6I,OAAP;AAGvCA,WAAO,CAACg7I,mBAAmB,CAACD,UAAD,CAApB,CAAP,GAA2C;AAC1C3sD,WAAK,EAAE2sD,UAAU,CAAC96I,IADwB;AAE1Cy+F,iBAAW,EAAE,0BAF6B;AAG1Cx8F,WAAK,EAAE,IAHmC;AAI1CxF,UAAI,EAAE;AAJoC,KAA3C;AAQAnB,UAAM,CAACyqE,MAAP,CAAchmE,OAAd,EAAuB+6I,UAAU,CAAC/6I,OAAlC;AAEA,WAAOA,OAAP;AACA,GAhBE,EAgBA,EAhBA;AAnVa,CAAjB;AAqWAlF,iBAAM,CAACwrH,OAAP,GAAiB,CAChB,wBADgB,EAEhB,QAFgB,EAGhB,gBAHgB,CAAjB;;AAMAxrH,iBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,QAAMkyB,iBAAiB,GAAGniH,QAAQ,CAAC97B,iBAAM,CAACkF,OAAP,CAAe+4I,iBAAf,CAAiC72I,KAAlC,EAAyC,EAAzC,CAAlC;;AACA,MAAI62I,iBAAJ,EAAuB;AAEtBzhE,UAAM,CAAE;;kBAEQyhE,iBAAkB;;;;GAF5B,CAAN;AAOA;;AAED,QAAMC,gBAAgB,GAAGpiH,QAAQ,CAAC97B,iBAAM,CAACkF,OAAP,CAAeg5I,gBAAf,CAAgC92I,KAAjC,EAAwC,EAAxC,CAAjC;;AACA,MAAI82I,gBAAJ,EAAsB;AACrB1hE,UAAM,CAAE;;kBAEQ0hE,gBAAiB;;;;GAF3B,CAAN;AAOA;;AAED79C,kBAAgB,CAAC,CAAC,UAAD,CAAD,EAAe,IAAf,EAAqB8/C,QAArB,CAAhB;AACA//C,gBAAc,CAAC,CAAC,SAAD,EAAY,SAAZ,CAAD,EAAyBjQ,KAAK,IAAIgwD,QAAQ,CAAChwD,KAAK,CAAC0C,WAAN,EAAD,CAA1C,EAAiE;AAAEhmF,MAAE,EAAE7M,iBAAMA;AAAZ,GAAjE,CAAd;AACAogG,gBAAc,CAAC,CAAC,MAAD,CAAD,EAAWjQ,KAAK,IAAIiwD,oBAAoB,CAACjwD,KAAK,CAACuC,WAAN,EAAD,CAAxC,EAA+D;AAAE7lF,MAAE,EAAE7M,iBAAMA;AAAZ,GAA/D,CAAd;AAEA0hG,sBAAoB,CAAC,SAAD,EAAY,CAACx1D,WAAD,EAAc;AAAEphC,KAAC,EAAE;AAAE2+E;AAAF;AAAL,GAAd,KAAoC;AACnE,QAAIA,MAAJ,EAAY;AACZ,UAAMiW,OAAO,GAAGxzD,WAAW,CAACpyB,OAAZ,CAAoB,UAApB,CAAhB;AAEAqmI,YAAQ,CAACzgD,OAAD,CAAR;AACA,GALmB,CAApB;AASAgC,sBAAoB,CAAC,YAAD,EAAe,CAACx1D,WAAD,EAAc;AAAEphC,KAAC,EAAE;AAAE2+E;AAAF;AAAL,GAAd,KAAoC;AACtE,QAAIA,MAAJ,EAAY;AACZ,UAAMrlE,IAAI,GAAG8nB,WAAW,CAACpyB,OAAZ,CAAoB,+BAApB,CAAb;AAEA,QAAIsK,IAAI,IAAIA,IAAI,CAACy0D,aAAL,CAAmB,gBAAnB,CAAZ,EAAkD;AAClDsnE,YAAQ,CAAC/7H,IAAD,CAAR;AACA,GANmB,CAApB;AAOA,CA5CD;;AA8CApkB,iBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,iBAAM,CAACkF,OAAP,CAAem6I,iBAAf,CAAiCj4I,KAAjC,IAA0Cg2E,SAAS,CAAC,IAAD,CAAvD,EAA+D;AAC9DijE,oBAAgB;AAChB;;AAED,MAAIrgJ,iBAAM,CAACkF,OAAP,CAAe04I,WAAf,CAA2Bx2I,KAA/B,EAAsC;AACrCw3H,iCAAa,CAAC/6C,WAAd,CAA0B+5D,WAA1B,EAAuC,WAAvC;AACA;;AAED,MAAI59I,iBAAM,CAACkF,OAAP,CAAei5I,aAAf,CAA6B/2I,KAAjC,EAAwC;AACvCoiC,oBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,aAApB,EAAmC,iBAAnC,EAAsDk5H,kBAAtD;AACA;AACD,CAZD;;AAcAtgJ,iBAAM,CAACy4F,EAAP,GAAY,MAAM;AACjB,MAAItb,UAAU,CAAC,MAAD,CAAd,EAAwBgjE,QAAQ,CAACjgJ,QAAQ,CAAC24E,aAAT,CAAuB,oBAAvB,CAAD,CAAR;AAGxB,QAAM0nE,SAAS,GAAGrgJ,QAAQ,CAAC24E,aAAT,CAAuB,oBAAvB,CAAlB;;AACA,MAAI0nE,SAAJ,EAAe;AACd,UAAMC,QAAQ,GAAGD,SAAS,CAAC1nE,aAAV,CAAwB,WAAxB,CAAjB;;AACA,QAAI2nE,QAAJ,EAAc;AACbA,cAAQ,CAACjxI,gBAAT,CAA0B,OAA1B,EAAmC,MAAM;AACxC,cAAM81B,IAAI,GAAGk7G,SAAS,CAAC1nE,aAAV,CAAwB,0BAAxB,CAAb;AACA,YAAIxzC,IAAJ,EAAUA,IAAI,CAAChb,KAAL;AACV,OAHD;AAIA;AACD;AACD,CAdD;;AAgBArqB,iBAAM,CAACgsH,SAAP,GAAmB,MAAM;AACxB,MAAIhsH,iBAAM,CAACkF,OAAP,CAAe64I,cAAf,CAA8B32I,KAAlC,EAAyC;AACxCq5I,wBAAoB;AACpB;AACD,CAJD;;AAMA,SAASP,mBAAT,CAA6BD,UAA7B,EAAyC;AACxC,QAAMpzI,EAAE,GAAGozI,UAAU,CAACt4B,QAAtB;AACA,SAAQ,WAAU96G,EAAG,EAArB;AACA;;AAED,SAAS6zI,mBAAT,CAA6BT,UAA7B,EAAyC;AACxC,QAAMvyI,GAAG,GAAGwyI,mBAAmB,CAACD,UAAD,CAA/B;AACA,SAAO,CAACjgJ,iBAAM,CAACkF,OAAP,CAAewI,GAAf,CAAD,IAAwB1N,iBAAM,CAACkF,OAAP,CAAewI,GAAf,EAAoBtG,KAAnD;AACA;;AAED,MAAMu5I,QAAQ,GAAG,sBAAO,MACvBlgJ,MAAM,CAAC8jB,MAAP,CAAci5H,WAAd,EACE3tI,MADF,CACS6wI,mBADT,EAEErkE,MAFF,CAES,CAACh4E,GAAD,EAAM47I,UAAN,KAAqB;AAC5B,OAAK,MAAMzhE,MAAX,IAAqByhE,UAAU,CAAChc,OAAhC,EAAyC;AACxC5/H,OAAG,CAAC6c,GAAJ,CAAQs9D,MAAR,EAAgB,CAACn6E,GAAG,CAACT,GAAJ,CAAQ46E,MAAR,KAAmB,EAApB,EAAwB59E,MAAxB,CAA+Bq/I,UAA/B,CAAhB;AACA;;AACD,SAAO57I,GAAP;AACA,CAPF,EAOI,IAAIm/E,GAAJ,EAPJ,CADgB,CAAjB;;AAcA,UAAUo9D,kBAAV,CAA6Br7D,QAA7B,EAAuC;AACtC,KAAG;AACF,SAAK,MAAMn5E,CAAX,IAAgBu0I,QAAQ,GAAG/8I,GAAX,CAAe2hF,QAAf,KAA4B,EAA5C,EAAgD,MAAMn5E,CAAN;AAChD,GAFD,QAEUm5E,QAAQ,GAAGA,QAAQ,CAACv/E,OAAT,CAAiB,YAAjB,EAA+B,EAA/B,CAFrB;;AAIA,OAAK,MAAMoG,CAAX,IAAgB29H,YAAhB,EAA8B,MAAM39H,CAAN;AAC9B;;AAOD,SAASq0I,oBAAT,GAAgC;AAG/B,QAAMI,gBAAgB,GAAG,MAAM,CAAC,EAAE3gJ,QAAQ,CAAC4gJ,iBAAT,IAA8B5gJ,QAAQ,CAAC6gJ,uBAAvC,IAAkE7gJ,QAAQ,CAAC8gJ,oBAA7E,CAAhC;;AAGA,QAAM5/C,UAAU,GAAG,aAAnB;AAEA,QAAM6/C,MAAM,GAAG,IAAI3xD,OAAJ,EAAf;AACA,QAAM4xD,KAAK,GAAG,IAAI3nD,oBAAJ,CAAyBpqB,OAAO,IAAI;AACjD,SAAK,MAAM;AAAEqqB,oBAAF;AAAkBj0F;AAAlB,KAAX,IAAyC4pE,OAAzC,EAAkD;AACjD,UAAI,CAACqqB,cAAD,IAAmBqnD,gBAAgB,EAAvC,EAA2C;AAC3C,YAAM;AAAEvZ;AAAF,UAAY7vD,QAAQ,CAACwpE,MAAM,CAACr9I,GAAP,CAAW2B,MAAX,CAAD,EAAqBghI,eAArB,CAA1B;AACA,UAAIe,KAAJ,EAAWA,KAAK,CAAC6Z,SAAN,CAAgB3nD,cAAhB,EAAX,KACK0nD,KAAK,CAAC7/C,SAAN,CAAgB97F,MAAhB;AACL;AACD,GAPa,EAOX;AAAE67F;AAAF,GAPW,CAAd;AASA,QAAMggD,SAAS,GAAG,IAAI9xD,OAAJ,EAAlB;AACA,QAAM+xD,QAAQ,GAAG,IAAI9nD,oBAAJ,CAAyBpqB,OAAO,IAAI;AACpD,QAAI0xE,gBAAgB,EAApB,EAAwB;;AACxB,SAAK,MAAM;AAAErnD,oBAAF;AAAkBj0F;AAAlB,KAAX,IAAyC4pE,OAAzC,EAAkD;AACjD,YAAMtpE,OAAO,GAAG4xE,QAAQ,CAAC2pE,SAAS,CAACx9I,GAAV,CAAc2B,MAAd,CAAD,EAAwBghI,eAAxB,CAAxB;AACA,YAAM;AAAElhG;AAAF,UAAWx/B,OAAjB;;AACA,UAAI,CAAC2zF,cAAD,IAAmB,CAACn0D,IAAxB,EAA8B;AAC7Bg8G,gBAAQ,CAAChgD,SAAT,CAAmB97F,MAAnB;AACAM,eAAO,CAAC8V,KAAR;AACA;AACD;AACD,GAVgB,EAUd;AAAEylF;AAAF,GAVc,CAAjB;AAYA/gG,QAAM,CAACkP,gBAAP,CAAwB,QAAxB,EAAkCs6E,YAAY,CAAC,MAAM;AACpD,SAAK,MAAMhkF,OAAX,IAAsBwgI,cAAc,CAAC9hH,MAAf,EAAtB,EAA+C;AAC9C,UAAI1e,OAAO,CAACid,UAAR,EAAJ,EAA0B;AACzB,cAAM;AAAE6Q,aAAF;AAAO2zG,eAAP;AAAc19G;AAAd,YAAyB/jB,OAA/B;AACA,YAAI,CAACyhI,KAAL,EAAY;;AACZ,YAAIA,KAAK,CAACga,cAAN,EAAJ,EAA4B;AAC3BJ,eAAK,CAAC1oE,OAAN,CAAc7kD,GAAd;AACAstH,gBAAM,CAAC//H,GAAP,CAAWyS,GAAX,EAAgB9tB,OAAhB;AACA,SAHD,MAGO;AACNw7I,kBAAQ,CAAC7oE,OAAT,CAAiB5uD,MAAjB;AACAw3H,mBAAS,CAAClgI,GAAV,CAAc0I,MAAd,EAAsB/jB,OAAtB;AACA;AACD,OAVD,MAUO;AACNA,eAAO,CAACy4G,OAAR;AACA;AACD;AACD,GAhB6C,CAA9C;AAiBA;;AAED,IAAIijC,gBAAgB,GAAG,KAAvB;AACA,IAAIC,qBAAqB,GAAG,KAA5B;AAEO,MAAMnB,gBAAgB,GAAG,sBAAO,MAAMroD,6BAAa,CAACD,WAAd,CAA0B;AACtEv1F,MAAI,EAAE,aADgE;AAEtEiN,WAAS,EAAE,iBAF2D;AAGtEwoF,UAAQ,EAAE32D,MAAM,IAAI;AACnBigH,oBAAgB,GAAGjgH,MAAnB;;AAGA,SAAK,MAAMz7B,OAAX,IAAsBH,KAAK,CAACwsE,IAAN,CAAWk0D,gBAAQ,CAAC7hH,MAAT,EAAX,EAA8B1U,MAA9B,CAAqChK,OAAO,IAAIA,OAAO,YAAY0gI,eAAnB,IAA8B1gI,OAAO,CAAC+jB,MAAR,CAAese,YAA7F,CAAtB,EAAkI;AACjI,YAAM7C,IAAI,GAAGo8G,cAAc,CAAC57I,OAAD,CAA3B;AACA,UAAIw/B,IAAJ,EAAUx/B,OAAO,CAACwvB,MAAR,GAAV,KACK,IAAI,CAACksH,gBAAL,EAAuB17I,OAAO,CAAC8gI,QAAR;AAC5B;AACD;AAZqE,CAA1B,CAAb,CAAzB;AAeA,SAAS+a,mBAAT,CAA6BvxD,KAA7B,EAA2C;AAAEwxD;AAAF,IAAqD,EAAhG,EAA0G;AAChH,QAAMvb,QAAQ,GAAGG,eAAO,CAACW,kBAAR,CAA2B/2C,KAA3B,CAAjB;AACA,MAAI,CAACi2C,QAAQ,CAAC1iI,MAAd,EAAsB;AAEtB,QAAMk+I,YAAY,GAAGxb,QAAQ,CAACv2H,MAAT,CAAgBmM,CAAC,IAAIA,CAAC,CAACqpB,IAAvB,CAArB;;AAIA,MAAIu8G,YAAY,CAACl+I,MAAjB,EAAyB;AACxB,SAAK,MAAMmC,OAAX,IAAsB+7I,YAAtB,EAAoC/7I,OAAO,CAAC8gI,QAAR;;AAEpC,QAAIgb,cAAJ,EAAoB;AAEnB7mE,qBAAe,CAACqV,KAAK,CAAC9gB,KAAP,EAAc,IAAd,EAAoB;AAAE0L,mBAAW,EAAE,aAAf;AAA8BC,2BAAmB,EAAE;AAAnD,OAApB,CAAf;AACA;AACD,GAPD,MAOO;AACN,SAAK,MAAMn1E,OAAX,IAAsBugI,QAAtB,EAAgC;AAC/B,UACC,EAAEvgI,OAAO,YAAY0gI,eAArB,KACAkb,cAAc,CAAC57I,OAAD,EAAU;AAAEsqF,aAAF;AAAS0xD,6CAAqC,EAAE,IAAhD;AAAsDC,kBAAU,EAAE,IAAlE;AAAwExC,uBAAe,EAAE,EAAzF;AAA6FyC,6BAAqB,EAAE5xD,KAAK,CAAC9gB;AAA1H,OAAV,CAFf,EAGE;AACDxpE,eAAO,CAACwvB,MAAR;AACA;AACD;;AAED,QAAIssH,cAAJ,EAAoB;AAEnB7mE,qBAAe,CAACqV,KAAK,CAAC9gB,KAAP,EAAc,IAAd,EAAoB;AAAE0L,mBAAW,EAAE,KAAf;AAAsBC,2BAAmB,EAAE;AAA3C,OAApB,CAAf;AACA;AACD;AACD;AAGD,MAAMgnE,eAAe,GAAGn4D,YAAY,CAAC,CAACo4D,SAAD,EAAYhnE,SAAZ,EAAuBinE,YAAY,GAAGpmH,QAAQ,CAAC97B,iBAAM,CAACkF,OAAP,CAAe24I,kBAAf,CAAkCz2I,KAAnC,EAA0C,EAA1C,CAA9C,KAAgG;AACpI,QAAM+6I,MAAM,GAAG,EAAf;AACA,MAAI58I,MAAM,GAAG08I,SAAb;;AAEA,KAAG;AACF,UAAMp8I,OAAO,GAAG0gI,eAAO,CAACC,mBAAR,CAA4BjhI,MAA5B,CAAhB;AACA,QAAIM,OAAO,IAAIA,OAAO,YAAY0gI,eAAlC,EAA2C4b,MAAM,CAACthJ,IAAP,CAAYgF,OAAZ;AAC3C,GAHD,QAGS,CAACN,MAAM,GAAGA,MAAM,CAACosF,OAAP,CAAe;AAAE1W;AAAF,GAAf,CAAV,KAA4CknE,MAAM,CAACz+I,MAAP,IAAiBw+I,YAHtE;;AAKAE,cAAY,CAACD,MAAD,CAAZ;AACA,CAVmC,CAApC;;AAYA,SAASvE,WAAT,CAAqBnpI,QAArB,EAA+B4tI,UAA/B,EAA2Cn9I,OAA3C,EAAoD;AACnD,MAAI,CAACuP,QAAD,IAAa,CAACvP,OAAO,CAACo9I,gBAAtB,IAA0Cf,gBAA9C,EAAgE;AAEhE,QAAMgB,UAAU,GAAGhc,eAAO,CAACC,mBAAR,CAA4B6b,UAA5B,CAAnB;AACA,QAAMG,UAAU,GAAGjc,eAAO,CAACC,mBAAR,CAA4B/xH,QAA5B,CAAnB;;AAEA,MAAI8tI,UAAJ,EAAgB;AACff,yBAAqB,GAAGe,UAAU,CAACnb,YAAX,IAA2Bmb,UAAU,CAACl9G,IAA9D;AACAk9G,cAAU,CAAC5b,QAAX;AACA;;AAED,MAAI6a,qBAAqB,IAAIgB,UAA7B,EAAyC;AACxCA,cAAU,CAACntH,MAAX;AACAnwB,WAAO,CAAC61E,WAAR,GAAsB,KAAtB;AAEAinE,mBAAe,CAACvtI,QAAD,EAAWvP,OAAO,CAAC+1E,SAAnB,CAAf;AACA;AACD;;AAED,SAASwnE,2BAAT,CAAqCtyD,KAArC,EAA4C;AAC3C,SAAOo2C,eAAO,CAACO,mBAAR,CAA4B32C,KAA5B,EAAmCrR,IAAnC,CAAwCj5E,OAAO,IACrDA,OAAO,CAACwhB,KAAR,CAAcu6B,QAAd,CAAuB,WAAvB,MAAwC/7C,OAAO,CAACw/B,IAAR,IAAgBx/B,OAAO,CAACuhI,YAAhE,CADM,CAAP;AAGA;;AAEM,MAAM//G,gBAAK,GAAG,CAAC,UAAD,EAAa,OAAb,EAAsB,OAAtB,EAA+B,QAA/B,EAAyC,SAAzC,EAAoD,QAApD,EAA8D,OAA9D,EAAuE,WAAvE,CAAd;AAEA,SAASq7H,YAAT,CAAsBC,WAAtB,EAA6CC,YAAsB,GAAGv7H,gBAAtE,EAAsF;AAC5F,SAAO,CAAC,CAACu7H,YAAY,CAACl/I,MAAf,KAA0B,CAACi/I,WAAW,CAACj/I,MAAb,IAAuB,CAAC,CAAC,uBAAek/I,YAAf,EAA6BD,WAA7B,EAA0Cj/I,MAA7F,CAAP;AACA;;AAED,SAAS+9I,cAAT,CAAwB57I,OAAxB,EAA0C;AACzCsqF,OADyC;AAEzC2xD,YAAU,GAAGP,gBAF4B;AAGzCjC,iBAAe,GAAGt/I,iBAAM,CAACkF,OAAP,CAAeo6I,eAAf,CAA+Bl4I,KAA/B,CAAqCpB,OAArC,CAA6C,KAA7C,EAAoD,EAApD,EAAwDwB,KAAxD,CAA8D,GAA9D,EAAmEqI,MAAnE,CAA0E8wF,OAA1E,CAHuB;AAIzCkiD,kBAAgB,GAAG,IAJsB;AAKzCd,uBALyC;AAMzCe,iBAAe,GAAG,IANuB;AAOzCjB,uCAAqC,GAAG;AAPC,IAgBrC,EAhBL,EAgBS;AACR,MAAIgB,gBAAJ,EAAsB;AACrB,UAAMlxI,UAAU,GAAG9L,OAAO,CAACgiI,aAAR,GAAwBh4H,MAAxB,CAA+BmM,CAAC,IAAIqqH,cAAc,CAAC1sH,GAAf,CAAmBqC,CAAnB,CAApC,CAAnB;;AACA,QAAIrK,UAAU,CAACjO,MAAf,EAAuB;AACtB,UAAI,CAACq+I,qBAAL,EAA4B,OAAO,KAAP;AAC5B,UAAIpwI,UAAU,CAACmtE,IAAX,CAAgB9iE,CAAC,IAAI+lI,qBAAqB,CAACt5I,QAAtB,CAA+BuT,CAAC,CAAC4N,MAAjC,CAArB,CAAJ,EAAoE,OAAO,KAAP;AACpE;AACD;;AAED,QAAMm5H,iBAAiB,GAAGl9I,OAAO,CAACwhB,KAAR,CAAcu6B,QAAd,CAAuB,WAAvB,CAA1B;AAEA,QAAMohG,cAAc,GAAGN,YAAY,CAACpD,eAAD,EAAkBz5I,OAAO,CAACwhB,KAA1B,CAAnC;AACA,QAAM47H,cAAc,GAAG,EAAEH,eAAe,IAAIC,iBAArB,KACrBlB,qCAAqC,IAAI9nE,iBAAiB,CAACl0E,OAAO,CAAC+jB,MAAT,CAA1D,IAA8E,CAAC64H,2BAA2B,CAACtyD,KAAD,CAD5G;AAGA,SAAO2xD,UAAU,IAAImB,cAAd,IAAgCD,cAAvC;AACA;;AAED,SAASE,eAAT,CAAyBhuG,OAAzB,EAAkCi7C,KAAlC,EAAyC;AACxC,MACCnwF,iBAAM,CAACkF,OAAP,CAAey6I,uBAAf,CAAuCv4I,KAAvC,KAAiD,SAAjD,IACA+oF,KADA,IAEAj7C,OAAO,CAACwrC,SAAR,CAAkBj4E,QAAlB,CAA2B,OAA3B,CAHD,EAIE;AACD,UAAM66D,OAAO,GAAG6sB,KAAK,CAACj7C,OAAN,CAAczyC,YAAd,CAA2B,UAA3B,CAAhB;AACA,UAAM0gJ,WAAW,GAAG7/E,OAAO,IAAI,IAAImE,GAAJ,CAAQnE,OAAR,EAAiBnvD,QAAQ,CAACG,IAA1B,CAA/B;;AACA,QAAI6uI,WAAW,IAAIA,WAAW,CAAC7uI,IAAZ,KAAqB67E,KAAK,CAAC2C,eAAN,GAAwBx+E,IAAhE,EAAsE;AACrE,aAAO6uI,WAAP;AACA;AACD;;AAED,SAAO,IAAI17E,GAAJ,CAAQvyB,OAAO,CAAC5gC,IAAhB,EAAsBH,QAAQ,CAACG,IAA/B,CAAP;AACA;;AAED,SAAS8uI,2BAAT,CAAqCnD,UAArC,EAAiD;AAChD,QAAM;AAAE96I,QAAF;AAAQ6kF,eAAW,GAAG;AAAtB,MAA6Bi2D,UAAnC;AACA,QAAMoD,UAAU,GAAG,0BAAnB;AAEA,QAAMhkI,OAAO,GAAGsB,sBAAM,CAAC+N,IAAK;8CACiBvpB,IAAK;aACtC6kF,WAAW,CAAC3lF,GAAZ,CAAgBo9B,GAAG,IAAK,GAAG4hH,UAAU,CAAC12I,IAAX,CAAgB80B,GAAhB,CAAD,CAA4B,CAA5B,CAA+B,EAAzD,EAA4Dt0B,IAA5D,CAAiE,MAAjE,CAAyE;;;;;QAFrF;AASA,QAAM2vH,YAAY,GAAG0B,8BAAA,CAA+B;AACnD/B,UAAM,EAAE,qBAD2C;AAEnD9U,YAAQ,EAAE,aAFyC;AAGnDoU,cAAU,EAAEhmD,QAHuC;AAInD12D;AAJmD,GAA/B,CAArB;AAOA,QAAMikI,iBAAiB,GAAGjkI,OAAO,CAACw5D,aAAR,CAAsB,QAAtB,CAA1B;AAEA,SAAOhB,OAAO,CAACC,IAAR,CAAa,CACnB2S,2BAAW,CAACN,OAAZ,CAAoBH,WAApB,EAAiCxqE,KAAjC,CAAuC,MAAM,IAAIq4D,OAAJ,CAAY,MAAM,CAAqD,CAAvE,CAA7C,CADmB,EAEnBF,YAAY,CAAC2rE,iBAAD,EAAoB,OAApB,CAAZ,CAAyC5mI,IAAzC,CAA8C,MAAM;AACnD,UAAM6c,GAAG,GAAGv5B,iBAAM,CAACkF,OAAP,CAAeg7I,mBAAmB,CAACD,UAAD,CAAlC,CAAZ;AACA1mH,OAAG,CAACnyB,KAAJ,GAAY,KAAZ;AACAwuH,gBAAA,CAAar8F,GAAb;AACA,WAAOs+C,OAAO,CAACx7D,MAAR,CAAe,IAAIjc,KAAJ,CAAU,eAAV,CAAf,CAAP;AACA,GALD,CAFmB,CAAb,EAQJmjJ,OARI,CAQI,MAAM;AAAEzmB,gBAAY,CAACz4B,KAAb;AAAuB,GARnC,CAAP;AASA;;AAED,MAAMm/C,sBAAsB,GAAG,kBAAU,MAAMvD,UAAN,IAAoB;AAC5D,MAAI,CAACA,UAAU,CAACj2D,WAAZ,KAA2B,MAAMS,2BAAW,CAAC9wE,GAAZ,CAAgBsmI,UAAU,CAACj2D,WAA3B,CAAjC,CAAJ,EAA8E;AAE9E,MAAI5tE,OAAJ,EAAaC,MAAb;AACA,SAAO;AACNG,WAAO,EAAE,IAAIq7D,OAAJ,CAAY,CAAC4rE,QAAD,EAAWC,OAAX,KAAuB;AAAEtnI,aAAO,GAAGqnI,QAAV;AAAoBpnI,YAAM,GAAGqnI,OAAT;AAAmB,KAA5E,CADH;AAENr+G,QAAI,EAAE,MAAM+9G,2BAA2B,CAACnD,UAAD,CAA3B,CAAwCvjI,IAAxC,CAA6CN,OAA7C,EAAsDC,MAAtD;AAFN,GAAP;AAIA,CAR8B,CAA/B;;AAUA,SAAS8jI,QAAT,CAAkBjrG,OAAlB,EAAqC;AACpC,MAAI,CAACA,OAAL,EAAc;;AACd,OAAK,MAAMowB,IAAX,IAAmBpwB,OAAO,CAAC7nC,gBAAR,CAAyB,GAAzB,CAAnB,EAAkD;AACjD+yI,wBAAoB,CAAC3oE,QAAQ,CAACnS,IAAD,EAAOod,iBAAP,CAAT,CAApB;AACA;AACD;;AAED,MAAMihE,QAA6C,GAAG,IAAIr0D,OAAJ,EAAtD;AACO,SAASs0D,cAAT,CAAwBt+E,IAAxB,EAA2D;AACjE,SAAOq+E,QAAQ,CAAC//I,GAAT,CAAa0hE,IAAb,CAAP;AACA;;AAED,MAAM6hE,MAAM,GAAGjyF,OAAO,IAAI,CAAC,CAACA,OAAO,CAACp7B,OAAR,CAAgB,4BAAhB,CAA5B;;AAEA,eAAesmI,oBAAf,CAAoClrG,OAApC,EAAgE;AAC/D,QAAMi7C,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAWh9B,OAAX,CAAd;AACA,QAAM2uG,YAAY,GAAG,CAAC1c,MAAM,CAACjyF,OAAD,CAAP,IAAoBqxF,eAAO,CAACC,mBAAR,CAA4Br2C,KAA5B,CAAzC;AACA,QAAM2zD,aAAa,GAAGD,YAAY,YAAYtd,eAAxB,GAAkC,IAAlC,GAAyCsd,YAA/D;;AAEA,MAAI7jJ,iBAAM,CAACkF,OAAP,CAAek5I,QAAf,CAAwBh3I,KAAxB,IAAiC+oF,KAAjC,IAA0CA,KAAK,CAACiG,MAAN,EAA9C,EAA8D;AAC7D,QAAI0tD,aAAJ,EAAmBA,aAAa,CAAC30H,MAAd;AACnB;AACA;;AAED,MAAI20H,aAAJ,EAAmB;AAClBC,sBAAkB,CAACD,aAAD,EAAgB5uG,OAAhB,EAAyBi7C,KAAzB,CAAlB;;AAEA,QAAI2zD,aAAa,CAACz+G,IAAlB,EAAwB;AACvBlmB,aAAO,CAAC68C,GAAR,CAAY,mDAAZ,EAAiE9mB,OAAO,CAAC5gC,IAAzE;AACA;AACA;AACD;;AAED,MAAI67E,KAAK,IAAIA,KAAK,CAACmG,WAAN,EAAT,IAAgCt2F,iBAAM,CAACkF,OAAP,CAAey5I,UAAf,CAA0Bv3I,KAA1B,KAAoC,MAAxE,EAAgF;AAC/E;AACA;;AAED,QAAM48I,QAAQ,GAAGd,eAAe,CAAChuG,OAAD,EAAUi7C,KAAV,CAAhC;;AAEA,MAAI6zD,QAAQ,IAAIhkJ,iBAAM,CAACkF,OAAP,CAAey6I,uBAAf,CAAuCv4I,KAAvC,KAAiD,SAAjE,EAA4E;AAC3E8tC,WAAO,CAAC5gC,IAAR,GAAe0vI,QAAQ,CAAC1vI,IAAxB;AACA4gC,WAAO,CAAC3nC,eAAR,CAAwB,kBAAxB;AACA;;AAED,OAAK,MAAM0yI,UAAX,IAAyBW,kBAAkB,CAACoD,QAAQ,CAACz+D,QAAV,CAA3C,EAAgE;AAC/D,QAAIu+D,aAAJ,EAAmB;AAClB,YAAM;AAAE5+I,eAAO,EAAE;AAAEi2I;AAAF,YAA2B;AAAtC,UAA6C8E,UAAnD;AACA,UAAI9E,oBAAoB,IAAI,CAACA,oBAAoB,CAAC/zI,KAAlD,EAAyD;AACzD;;AAED,UAAM68I,YAAY,GAAGhE,UAAU,CAAC5b,MAAX,CAAkB2f,QAAlB,EAA4B7zD,KAA5B,CAArB;AACA,QAAI,CAAC8zD,YAAL,EAAmB;AAEnB,UAAMp+I,OAAO,GAAG,IAAI0gI,eAAJ,CAAYyd,QAAQ,CAAC1vI,IAArB,CAAhB;AAEA,QAAIwvI,aAAJ,EAAmBA,aAAa,CAAC30H,MAAd;AACnB+0H,gBAAY,CAACr+I,OAAD,EAAUqvC,OAAV,EAAmBi7C,KAAnB,CAAZ;AACAtqF,WAAO,CAAC8hI,QAAR,CAAiB,MAAM;AAAEwc,oBAAc,CAACjvG,OAAD,EAAUi7C,KAAV,CAAd;AAAiC,KAA1D;AACAwzD,YAAQ,CAACziI,GAAT,CAAag0B,OAAb,EAAsBrvC,OAAtB;AAEA,UAAMgW,IAAI,GAAG,MAAM2nI,sBAAsB,CAACvD,UAAD,CAAzC;AACA,QAAIpkI,IAAJ,EAAUhW,OAAO,CAACiiI,OAAR,CAAgBjsH,IAAhB;;AAEV,QAAI;AACH,UAAIA,IAAJ,EAAU,MAAMA,IAAI,CAACW,OAAX;AACV,YAAM4nI,eAAe,CAACv+I,OAAD,EAAUsqF,KAAV,EAAiB8vD,UAAjB,EAA6BgE,YAA7B,CAArB;AACA;AACA,KAJD,CAIE,OAAOh4I,CAAP,EAAU;AACXkT,aAAO,CAACjZ,KAAR,CAAe,4CAA2C89I,QAAQ,CAAC1vI,IAAK,EAAxE,EAA2ErI,CAA3E;AACA,UAAI63I,aAAJ,EAAmBA,aAAa,CAACld,QAAd;AACnB/gI,aAAO,CAACy4G,OAAR;AACAqlC,cAAQ,CAACr6D,MAAT,CAAgBp0C,OAAhB;AACA;AACD;AACD;;AAED,SAASgvG,YAAT,CAAsBr+I,OAAtB,EAA+BqvC,OAA/B,EAAwCi7C,KAAxC,EAA+C;AAC9C,MAAI,CAACg3C,MAAM,CAACjyF,OAAD,CAAP,IAAoBi7C,KAApB,IAA6BA,KAAK,CAACqC,eAAN,EAAjC,EAA0D;AACzD,QAAIt9C,OAAO,CAAC66C,aAAZ,EAA2B76C,OAAO,CAAC66C,aAAR,CAAsBvgE,KAAtB,CAA4B3pB,OAAO,CAAC+jB,MAApC;AAE3B,UAAMzP,OAAO,GAAGtU,OAAO,CAAC+jB,MAAR,CAAekmE,kBAA/B;AACA,QAAI31E,OAAO,IAAIA,OAAO,CAACumE,SAAR,CAAkBj4E,QAAlB,CAA2B,gBAA3B,CAAf,EAA6D0R,OAAO,CAACqV,KAAR,CAAc3pB,OAAO,CAAC+jB,MAAtB;AAC7DumE,SAAK,CAAC9gB,KAAN,CAAYzsE,WAAZ,CAAwBiD,OAAO,CAAC8tB,GAAhC;AACA,GAND,MAMO;AACN6V,oBAAC,CAAC0L,OAAD,CAAD,CAAWj7B,GAAX,CAAeuvB,gBAAC,CAAC0L,OAAD,CAAD,CAAWnpC,IAAX,CAAgB,mBAAhB,CAAf,EAAqDpH,IAArD,GACE6qB,KADF,CACQ3pB,OAAO,CAAC8tB,GADhB,EAEEnE,KAFF,CAEQga,gBAAC,CAAC,qCAAD,CAAD,CAAyCpa,MAAzC,CAAgDvpB,OAAO,CAAC+jB,MAAxD,CAFR;AAGA;AACD;;AAED,eAAew6H,eAAf,CAA+Bv+I,OAA/B,EAAwCsqF,KAAxC,EAA+C8vD,UAA/C,EAA2DgE,YAA3D,EAAyE;AACxE,QAAMI,YAAY,GAAG,MAAMpE,UAAU,CAAC3b,UAAX,CAAsBz+H,OAAO,CAACyO,IAA9B,EAAoC2vI,YAApC,CAA3B;;AAEA,MAAII,YAAY,CAAC/wD,KAAb,IAAsBnD,KAAtB,IAA+BxvE,sBAAM,CAAC0gE,UAAP,CAAkBgjE,YAAY,CAAC/wD,KAA/B,EAAsCnD,KAAK,CAACoC,QAAN,EAAtC,CAAnC,EAA4F;AAC3F8xD,gBAAY,CAAC/wD,KAAb,GAAqB,EAArB;AACA;;AAED,QAAM8wC,WAAW,GAAGpkI,iBAAM,CAACkF,OAAP,CAAew6I,mBAAf,CAAmCt4I,KAAnC,IACnB+oF,KADmB,IACVA,KAAK,CAACgC,MAAN,EADU,IACQ,CAAChC,KAAK,CAACkC,UAAN,EADT,IAEnB4tD,UAAU,CAAChc,OAAX,CAAmBvgI,MAFA,IAEUu8I,UAAU,CAAC7b,WAAX,KAA2B,KAFzD;;AAIA,QAAMkgB,OAAO,GAAGhd,KAAK,IAAIA,KAAK,CAACyB,KAAN,IAAe,CAAC,OAAD,EAAU,MAAV,EAAkBnnF,QAAlB,CAA2B0lF,KAAK,CAAC1lI,IAAjC,CAAxC;;AACA,QAAMmnI,KAAK,GAAGsb,YAAY,CAACziJ,IAAb,KAAsB,SAAtB,GAAkCyiJ,YAAY,CAACxiJ,GAAb,CAAiB4lG,KAAjB,CAAuB68C,OAAvB,CAAlC,GAAoEA,OAAO,CAACD,YAAD,CAAzF;AAEAx+I,SAAO,CAAC+hI,UAAR,CAAmB;AAClBvgH,SAAK,EAAE,CACNg9H,YAAY,CAACziJ,IADP,EAENmnI,KAAK,GAAG,OAAH,GAAa,WAFZ,EAGN,GAAI,CAACsb,YAAY,CAACxb,YAAb,IAA6B,EAA9B,EAAkCrhI,KAAlC,CAAwC,GAAxC,CAHE,EAILqI,MAJK,CAIEmM,CAAC,IAAIA,CAJP,EAIU3X,GAJV,CAIck6B,CAAC,IAAIA,CAAC,CAAC92B,WAAF,EAJnB,CADW;AAMlB+/H,cAAU,EAAE+c,kBAAkB,CAACF,YAAD,CANZ;;AAOlB9c,iBAAa,GAAG;AACf,YAAMD,KAAK,GAAGC,aAAa,CAAC8c,YAAD,EAAe;AAAE/vI,YAAI,EAAEzO,OAAO,CAACyO;AAAhB,OAAf,CAA3B;;AACA,UAAItU,iBAAM,CAACkF,OAAP,CAAey5I,UAAf,CAA0Bv3I,KAA1B,KAAoC,cAApC,IAAsD+oF,KAAtD,IAA+DA,KAAK,CAACmG,WAAN,EAAnE,EAAwF;AACvFgxC,aAAK,CAACpyF,OAAN,CAAc7lB,OAAd,CAAsBu2G,yBAAyB,CAACz1C,KAAK,CAACj7C,OAAN,CAAc09C,OAAf,CAA/C;AACA;;AACD,UAAIwxC,WAAJ,EAAiBogB,kBAAkB,CAACvE,UAAD,EAAa3Y,KAAb,CAAlB;AACjB,aAAOA,KAAP;AACA;;AAdiB,GAAnB;AAiBAzhI,SAAO,CAAC+jB,MAAR,CAAelnB,YAAf,CAA4B,WAA5B,EAAyCu9I,UAAU,CAACt4B,QAApD;AACA9hH,SAAO,CAAC8tB,GAAR,CAAYjxB,YAAZ,CAAyB,WAAzB,EAAsCu9I,UAAU,CAACt4B,QAAjD;AAEA,QAAM88B,UAAU,GAAGt0D,KAAK,IAAIA,KAAK,CAAC6C,cAAN,EAA5B;AACA,MAAIyxD,UAAJ,EAAgBA,UAAU,CAACl1I,gBAAX,CAA4B,OAA5B,EAAqC,MAAM;AAAE1J,WAAO,CAACy4G,OAAR;AAAoB,GAAjE;;AAEhB,MAAInuB,KAAK,IAAIA,KAAK,CAACmB,SAAN,EAAb,EAAgC;AAC/BzrF,WAAO,CAAC8hI,QAAR,CAAiB,sBAAO,MAAM;AAC7B,UAAI+c,OAAJ;AAGAl7G,sBAAC,CAAC,CAAC2mD,KAAD,EAAQ,GAAGA,KAAK,CAACoB,UAAN,EAAX,EAA+BltF,GAA/B,CAAmC4H,CAAC,IAAIA,CAAC,CAACojE,KAA1C,CAAD,CAAD,CACEt/D,IADF,CACO,gDADP,EAEEsa,KAFF,CAEQ,MAAM;AACZ,YAAI8lE,KAAK,CAACuG,gBAAN,EAAJ,EAA8B;AAC7B,cAAIguD,OAAO,IAAI7+I,OAAO,CAACyhI,KAAvB,EAA8BzhI,OAAO,CAACwvB,MAAR;AAC9B,SAFD,MAEO;AACNqvH,iBAAO,GAAG7+I,OAAO,CAACw/B,IAAlB;AACA,cAAIx/B,OAAO,CAACw/B,IAAZ,EAAkBx/B,OAAO,CAAC8gI,QAAR;AAClB;AACD,OATF;AAUA,KAdgB,CAAjB;AAeA;;AAGD9gI,SAAO,CAAC8hI,QAAR,CAAiB,MAAM;AACtB,UAAMgd,QAAQ,GAAG9+I,OAAO,CAACyhI,KAAR,CAAcpyF,OAAd,CAAsBp7B,OAAtB,CAA8B,yBAA9B,CAAjB;AACA,QAAI6qI,QAAJ,EAAcA,QAAQ,CAAC5yI,UAAT,CAAoBmR,KAApB,CAA0BmV,SAA1B,GAAsC,SAAtC;AACd,GAHD;AAMAxyB,SAAO,CAAC+jB,MAAR,CAAera,gBAAf,CAAgC,WAAhC,EAA6C,MAAM;AAAE6yI,gBAAY,CAAC,CAACv8I,OAAD,CAAD,CAAZ;AAA0B,GAA/E;;AAEA,MAAI,CAACA,OAAO,CAACw/B,IAAb,EAAmB;AAClB,QAAIy8G,UAAJ;AACA,QAAID,qCAAJ;;AAEA,QAAI7hJ,iBAAM,CAACkF,OAAP,CAAeq6I,kBAAf,CAAkCn4I,KAAlC,IAA2C+/H,MAAM,CAACthI,OAAO,CAAC+jB,MAAT,CAAjD,IAAqEumE,KAArE,IAA8EA,KAAK,CAACkC,UAAN,EAA9E,IAAoG,CAAClV,UAAU,CAAC,UAAD,CAAnH,EAAiI;AAChI,YAAMynE,kBAAkB,GAAG,CAAC5kJ,iBAAM,CAACkF,OAAP,CAAeu6I,sBAAf,CAAsCr4I,KAAvC,IAAgD+oF,KAAK,CAACiG,MAAN,EAA3E;AACA0rD,gBAAU,GAAG,CAAC8C,kBAAd;AACA/C,2CAAqC,GAAG7hJ,iBAAM,CAACkF,OAAP,CAAes6I,sCAAf,CAAsDp4I,KAA9F;AACA;;AAED,QAAIq6I,cAAc,CAAC57I,OAAD,EAAU;AAAEsqF,WAAF;AAAS2xD,gBAAT;AAAqBD;AAArB,KAAV,CAAlB,EAA2F;AAC1Fh8I,aAAO,CAACwvB,MAAR;AACA;AACD;AACD;;AAED,SAASirH,kBAAT,CAA4Br0I,CAA5B,EAA+B;AAC9B,QAAMkkF,KAAK,GAAGT,WAAK,CAACM,WAAN,CAAkB/jF,CAAC,CAACmd,aAApB,CAAd;AAEA,QAAMy7H,WAAW,GAChB10D,KAAK,CAACkC,UAAN,MAAsBv2D,QAAQ,CAAC97B,iBAAM,CAACkF,OAAP,CAAe+4I,iBAAf,CAAiC72I,KAAlC,EAAyC,EAAzC,CAA9B,IACA+oF,KAAK,CAACmB,SAAN,MAAqBx1D,QAAQ,CAAC97B,iBAAM,CAACkF,OAAP,CAAeg5I,gBAAf,CAAgC92I,KAAjC,EAAwC,EAAxC,CAD7B,IAEA,CAHD;;AAMA,MAAIy9I,WAAW,GAAG,CAAlB,EAAqB;AAEpB,UAAMC,aAAa,GAAGp/I,KAAK,CACzBwsE,IADoB,CACfie,KAAK,CAAC9gB,KAAN,CAAYhiE,gBAAZ,CAA6B,4CAA7B,CADe,EAEpBgvE,MAFoB,CAEb,CAACjzE,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAAC,CAACwrB,qBAAF,GAA0BwC,MAF3B,EAEmC,CAFnC,CAAtB;AAIA84D,SAAK,CAACj7C,OAAN,CAAc2jC,aAAd,CAA4B,KAA5B,EAAmC31D,KAAnC,CAAyCm6G,SAAzC,GAAsD,GAAEwnB,WAAW,GAAGC,aAAc,IAApF;AACA;AACD;;AAED,SAASf,kBAAT,CAA4Bl+I,OAA5B,EAAqCqvC,OAArC,EAA8Ci7C,KAA9C,EAAqD;AACpD,MAAI,CAACnwF,iBAAM,CAACkF,OAAP,CAAe65I,mBAAf,CAAmC33I,KAApC,IAA6CvB,OAAO,CAAC+jB,MAAR,CAAe82D,SAAf,CAAyBj4E,QAAzB,CAAkC,UAAlC,CAAjD,EAAgG;;AAEhG,QAAMs8I,SAAS,GAAG,sBAAO,MAAMZ,cAAc,CAACjvG,OAAD,EAAUi7C,KAAV,CAA3B,CAAlB;;AAEA,MAAItqF,OAAO,CAACw/B,IAAZ,EAAkB0/G,SAAS,GAA3B,KACKl/I,OAAO,CAAC+jB,MAAR,CAAera,gBAAf,CAAgC,OAAhC,EAAyCw1I,SAAzC;AACL;;AAED,SAASR,kBAAT,CAA4Br/I,OAA5B,EAAqC;AACpC,MAAIouF,KAAK,GAAG,EAAZ;AAEA,MAAI1xF,IAAI,GAAGsD,OAAO,CAACtD,IAAnB;;AAEA,MAAIsD,OAAO,CAACtD,IAAR,KAAiB,SAArB,EAAgC;AAC/B,QAAIsD,OAAO,CAACrD,GAAR,CAAY6B,MAAZ,KAAuB,CAA3B,EAA8B;AAC7B9B,UAAI,GAAGsD,OAAO,CAACrD,GAAR,CAAY,CAAZ,EAAeD,IAAtB;AACA,KAFD,MAEO;AACN0xF,WAAK,IAAK,GAAEpuF,OAAO,CAACrD,GAAR,CAAY6B,MAAO,mBAA/B;AACA;AACD;;AAED,QAAMshJ,YAAY,GAAG;AACpBC,SAAK,EAAE,OADa;AAEpBC,WAAO,EAAE,eAFW;AAGpBC,QAAI,EAAE,UAHc;AAIpBC,SAAK,EAAElgJ,OAAO,CAAC6jI,KAAR,GAAgB,aAAhB,GAAgC,OAJnB;AAKpBsc,UAAM,EAAEngJ,OAAO,CAAC6jI,KAAR,GAAgB,aAAhB,GAAgC,OALpB;AAMpBuc,SAAK,EAAE,OANa;AAOpBC,mBAAe,EAAE;AAPG,IAQnB3jJ,IARmB,CAArB;AAUA,SAAO;AACN0xF,SADM;AAENm0C,cAAU,EAAEviI,OAAO,CAAC2jI,YAAR,IAAwBmc;AAF9B,GAAP;AAIA;;AAED,IAAIQ,gBAAgB,GAAG,CAAvB;;AACA,SAASpD,YAAT,CAAsBD,MAAtB,EAA8B;AAE7B,QAAMpoI,KAAK,GAAG,EAAEyrI,gBAAhB;AAEA,SAAOh3D,UAAU,CAAC2zD,MAAD,EAASsD,KAAK,IAAI;AAClC,QAAI,CAACA,KAAK,CAACle,aAAX,EAA0B;AAC1B,QAAIie,gBAAgB,KAAKzrI,KAAzB,EAAgC;AAEhC0rI,SAAK,CAACne,KAAN,GAAcme,KAAK,CAACne,KAAN,IAAeme,KAAK,CAACle,aAAN,EAA7B;AACA,WAAOke,KAAK,CAACne,KAAN,CAAYjuH,KAAnB;AACA,GANgB,CAAjB;AAOA;;AAED,SAASkuH,aAAT,CAAuBriI,OAAvB,EAA8C/B,OAA9C,EAAkF;AACjF,MAAI+B,OAAO,CAACy/H,OAAZ,EAAqBz/H,OAAO,CAACy/H,OAAR,GAAkB7M,0BAAQ,CAAC5yH,OAAO,CAACy/H,OAAT,CAA1B;AACrB,MAAIz/H,OAAO,CAACsgB,OAAZ,EAAqBtgB,OAAO,CAACsgB,OAAR,GAAkBsyG,0BAAQ,CAAC5yH,OAAO,CAACsgB,OAAT,CAA1B;;AAErB,UAAQtgB,OAAO,CAACtD,IAAhB;AACC,SAAK,SAAL;AAAgB,aAAO,IAAI8jJ,kBAAJ,CAAYxgJ,OAAZ,EAAqB/B,OAArB,CAAP;;AAChB,SAAK,OAAL;AAAc,aAAO,IAAIwiJ,gBAAJ,CAAUzgJ,OAAV,EAAmB/B,OAAnB,CAAP;;AACd,SAAK,MAAL;AAAa,aAAO,IAAI2zC,eAAJ,CAAS5xC,OAAT,CAAP;;AACb,SAAK,QAAL;AAAe,aAAO,IAAI0gJ,iBAAJ,CAAW1gJ,OAAX,CAAP;;AACf,SAAK,OAAL;AAAc,aAAO,IAAI2gJ,gBAAJ,CAAU3gJ,OAAV,EAAmB/B,OAAnB,CAAP;;AACd,SAAK,OAAL;AAAc,aAAO,IAAI2iJ,gBAAJ,CAAU5gJ,OAAV,CAAP;;AACd,SAAK,iBAAL;AAAwB,aAAO,IAAI6gJ,OAAJ,CAAY7gJ,OAAZ,CAAP;;AACxB;AAAS,YAAM,IAAI9E,KAAJ,CAAW,mCAAkC8E,OAAO,CAACtD,IAAK,EAA1D,CAAN;AARV;AAUA;;AAED,MAAMokJ,QAAQ,GAAG,IAAI12D,OAAJ,EAAjB;AACA,MAAM22D,cAAc,GAAG,IAAIC,cAAJ,CAAmB/2E,OAAO,IAAI;AACpD,OAAK,MAAM;AAAE5pE,UAAF;AAAU4gJ;AAAV,GAAX,IAAsCh3E,OAAtC,EAA+C;AAC9C,UAAM/qE,QAAQ,GAAG4hJ,QAAQ,CAACpiJ,GAAT,CAAa2B,MAAb,CAAjB;AACA,QAAInB,QAAJ,EAAcA,QAAQ,CAAC+hJ,WAAD,CAAR;AACd;AACD,CALsB,CAAvB;AAOO,MAAMC,gBAAN,CAAY;AAAA;AAAA,SAClBlxG,OADkB;AAAA,SAGlB77B,KAHkB;AAAA,SAKlB4uH,QALkB;AAAA,SAWlBoe,QAXkB,GAWY,EAXZ;AAAA,SAYlBC,QAZkB;AAAA,SAalBC,aAbkB,GAaM,CAbN;AAAA,SAgBlBriD,MAhBkB,GAgBc,QAhBd;AAAA;;AAMlBphF,YAAU,GAAY;AAAE,WAAO5iB,QAAQ,CAACkkB,IAAT,CAAc3b,QAAd,CAAuB,KAAKysC,OAA5B,CAAP;AAA8C;;AAEtE7f,QAAM,GAAyB;AAAE,SAAK8rH,SAAL,CAAe,IAAf;AAAuB;;AACxDxa,UAAQ,GAAS;AAAE,SAAKwa,SAAL,CAAe,KAAf;AAAwB;;AAM3CG,gBAAc,GAAY;AAAE,WAAO,KAAP;AAAe;;AAE3CkF,SAAO,GAAS,CAAE;;AAClBC,UAAQ,GAAS,CAAE;;AAEnBtF,WAAS,CAACrkI,KAAD,EAAiB;AACzB,QAAIA,KAAJ,EAAW;AACV,WAAKonF,MAAL,GAAc,QAAd;;AACA,WAAKuiD,QAAL;AACA,KAHD,MAGO;AACN,WAAKviD,MAAL,GAAc,UAAd;;AACA,WAAKsiD,OAAL;AACA;AACD;;AAEDE,iBAAe,CAACxxG,OAAD,EAAuB;AACrC,UAAM0gB,OAAO,GAAG11D,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAhB;AACA,UAAMokJ,WAAW,GAAGzmJ,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAApB;AACA2yC,WAAO,CAACzlB,WAAR,CAAoBmmC,OAApB;AACAA,WAAO,CAAChzD,WAAR,CAAoB+jJ,WAApB;AACAA,eAAW,CAAC/jJ,WAAZ,CAAwBsyC,OAAxB;AAEAyxG,eAAW,CAACjmE,SAAZ,CAAsBzmE,GAAtB,CAA0B,uBAA1B;AACA27C,WAAO,CAAC1yC,KAAR,CAAc0jI,UAAd,GAA2B,QAA3B;;AAEA,SAAKN,QAAL,GAAgB,CAACH,WAAc,GAAGjxG,OAAO,CAACrgB,qBAAR,EAAlB,KAAsD;AACrE,WAAK,MAAMzwB,QAAX,IAAuB,KAAKiiJ,QAA5B,EAAsCjiJ,QAAQ,CAAC+hJ,WAAD,CAAR;;AACtCvwF,aAAO,CAAC1yC,KAAR,CAAcmU,MAAd,GAAwB,GAAE8uH,WAAW,CAAC9uH,MAAO,IAA7C;AACA,KAHD;;AAKA,SAAKgvH,QAAL,CAAcxlJ,IAAd,CAAmBslJ,WAAW,IAAI;AACjC,WAAKjxG,OAAL,CAAaukC,aAAb,CAA2B,IAAIwoB,WAAJ,CAAgB,aAAhB,EAA+B;AAAEv2E,cAAM,EAAEy6H,WAAV;AAAuB76H,eAAO,EAAE;AAAhC,OAA/B,CAA3B;AACA,KAFD;AAIA06H,YAAQ,CAAC9kI,GAAT,CAAag0B,OAAb,EAAsBixG,WAAW,IAAI;AACpC,UAAI,KAAKjiD,MAAL,KAAgB,UAApB,EAAgC;AAChC,UAAI,KAAKoiD,QAAT,EAAmB,KAAKA,QAAL,CAAcH,WAAd;AACnB,KAHD;AAIAF,kBAAc,CAACztE,OAAf,CAAuBtjC,OAAvB;AAEAyiC,gBAAY,CAACziC,OAAD,EAAU,8BAAV,CAAZ,CAAsDx4B,IAAtD,CAA2D,MAAM;AAAEupI,oBAAc,CAAC5kD,SAAf,CAAyBnsD,OAAzB;AAAoC,KAAvG;AACA;;AAED2xG,aAAW,CAAC3xG,OAAD,EAAuB;AACjCA,WAAO,CAACwrC,SAAR,CAAkBzmE,GAAlB,CAAsB,0BAAtB;;AAEA,UAAM6sI,SAAS,GAAG,sBAAO,MAAMrvE,QAAQ,CAACviC,OAAO,CAAC66C,aAAT,EAAwBhrB,WAAxB,CAAR,CAA6ClwC,qBAA7C,GAAqEE,IAAlF,CAAlB;;AACA,QAAIgyH,SAAS,GAAG,KAAhB;AAEA,SAAKV,QAAL,CAAcxlJ,IAAd,CAAmB,CAAC;AAAEowB,WAAK,EAAE+1H;AAAT,KAAD,KAAgC;AAClD,YAAM;AAAE/1H,aAAK,EAAEg2H;AAAT,UAA2BrtE,eAAe,EAAhD;AAEA,UAAI,CAACmtE,SAAD,IAAcD,SAAS,KAAKE,YAAd,GAA6BC,aAA/C,EAA8D;AAE9D,YAAM;AAAElyH,YAAI,EAAEmyH,WAAR;AAAqBp2H,aAAK,EAAEq2H;AAA5B,UAA6CjyG,OAAO,CAACrgB,qBAAR,EAAnD;AAEA,YAAMuyH,SAAS,GAAGF,WAAW,GAAGJ,SAAS,EAAzC;;AAEA,UAAIE,YAAY,GAAGC,aAAnB,EAAkC;AACjCF,iBAAS,GAAG,IAAZ;AACAvgD,uBAAI,CAACtxD,OAAD,EAAU,CAACgyG,WAAX,EAAwB,CAAxB,CAAJ;AACA,OAHD,MAGO,IAAIC,YAAY,GAAGC,SAAf,GAA2BH,aAA/B,EAA8C;AACpDF,iBAAS,GAAG,IAAZ;AACAvgD,uBAAI,CAACtxD,OAAD,EAAU+xG,aAAa,GAAGE,YAA1B,EAAwC,CAAxC,CAAJ;AACA,OAHM,MAGA,IAAIC,SAAJ,EAAe;AACrBL,iBAAS,GAAG,KAAZ;AACAvgD,uBAAI,CAACtxD,OAAD,EAAU,CAACkyG,SAAX,EAAsB,CAAtB,CAAJ;AACA;AACD,KAnBD;AAoBA;;AAEDC,YAAU,CAACnyG,OAAD,EAAuB;AAChC,QAAI9tC,KAAK,GAAGpH,iBAAM,CAACkF,OAAP,CAAegtB,QAAf,CAAwB9qB,KAApC;AACA,QAAI6sD,YAAY,GAAG7sD,KAAK,CAACw7E,QAAN,CAAe,GAAf,CAAnB;AACA,UAAM1wD,QAAQ,GAAG,CAAC+hC,YAAY,GAAG2lB,eAAe,GAAG3oD,KAAlB,GAA0B,GAA7B,GAAmC,CAAhD,IAAqD6K,QAAQ,CAAC10B,KAAD,EAAQ,EAAR,CAA9E;AACA,QAAI8qB,QAAJ,EAAcgjB,OAAO,CAAChyB,KAAR,CAAcgP,QAAd,GAA0B,GAAEA,QAAS,IAArC;AAEd9qB,SAAK,GAAGpH,iBAAM,CAACkF,OAAP,CAAem4H,SAAf,CAAyBj2H,KAAjC;AACA6sD,gBAAY,GAAG7sD,KAAK,CAACw7E,QAAN,CAAe,GAAf,CAAf;AACA,UAAMy6C,SAAS,GAAG,CAACppE,YAAY,GAAG2lB,eAAe,GAAGviD,MAAlB,GAA2B,GAA9B,GAAoC,CAAjD,IAAsDyE,QAAQ,CAAC10B,KAAD,EAAQ,EAAR,CAAhF;AACA,QAAIi2H,SAAJ,EAAenoF,OAAO,CAAChyB,KAAR,CAAcm6G,SAAd,GAA2B,GAAEA,SAAU,IAAvC;AACf;;AAEDiqB,cAAY,CAACpyG,OAAD,EAAuBqyG,aAA0B,GAAGryG,OAApD,EAA6DsyG,cAAuB,GAAG,KAAvF,EAA8F;AACzG,QAAI,CAACxnJ,iBAAM,CAACkF,OAAP,CAAeq5I,SAAf,CAAyBn3I,KAA9B,EAAqC;AAErC8tC,WAAO,CAACwrC,SAAR,CAAkBzmE,GAAlB,CAAsB,oBAAtB;AAEA,QAAIwtI,YAAJ,EAAkBC,aAAlB,EAAiCC,eAAjC,EAAkD5yH,IAAlD,EAAwDzlB,GAAxD;;AAEA,aAASs4I,WAAT,CAAqBviF,CAArB,EAAwBp4B,CAAxB,EAA2B;AAC1B,YAAM9sC,CAAC,GAAG2F,IAAI,CAAC0tB,GAAL,CAAS,CAAT,EAAY6xC,CAAC,GAAGtwC,IAAhB,CAAV;AACA,YAAM6X,CAAC,GAAG9mC,IAAI,CAAC0tB,GAAL,CAAS,CAAT,EAAYyZ,CAAC,GAAG39B,GAAhB,CAAV;AACA,aAAOxJ,IAAI,CAACwrB,KAAL,CAAWxrB,IAAI,CAAC+hJ,KAAL,CAAW1nJ,CAAX,EAAcysC,CAAd,CAAX,CAAP;AACA;;AAEDk7G,mBAAe,CAAC;AACfxgB,WAAK,EAAE,KAAKpyF,OADG;AAEfA,aAAO,EAAEqyG,aAFM;AAGfQ,gBAAU,EAAE,KAHG;AAIfC,aAAO,EAAE,CAAC3iF,CAAD,EAAIp4B,CAAJ,KAAU;AAClB,SAAC;AAAElY,cAAF;AAAQzlB,aAAR;AAAa2hB,eAAK,EAAEw2H,YAApB;AAAkCpwH,gBAAM,EAAEqwH;AAA1C,YAA4DxyG,OAAO,CAACrgB,qBAAR,EAA7D;AACA8yH,uBAAe,GAAGC,WAAW,CAACviF,CAAD,EAAIp4B,CAAJ,CAA7B;AACA,OAPc;AAQf2vE,YAAM,EAAE,CAACv3C,CAAD,EAAIp4B,CAAJ,EAAOg7G,MAAP,EAAeC,MAAf,KAA0B;AACjC,cAAMC,gBAAgB,GAAG,KAAK5B,aAAL,GAAqB,CAArB,GAAyBmB,aAAa,GAAGD,YAAzC,GAAwD,CAAjF;;AACA,YAAID,cAAJ,EAAoB;AACnB,gBAAM;AAAEv2H,iBAAF;AAASoG;AAAT,cAAoB6d,OAAO,CAACrgB,qBAAR,EAA1B;AACA47F,gBAAM,CAACv7E,OAAD,EAAU,CAACjkB,KAAK,GAAGg3H,MAAT,IAAmBE,gBAA7B,EAA+C,CAAC9wH,MAAM,GAAG6wH,MAAV,IAAoBC,gBAAnE,CAAN;AACA,SAHD,MAGO;AACN,gBAAMC,QAAQ,GAAGR,WAAW,CAACviF,CAAD,EAAIp4B,CAAJ,CAAX,GAAoB06G,eAApB,GAAsCF,YAAvD;AACAh3B,gBAAM,CAACv7E,OAAD,EAAUkzG,QAAQ,GAAGD,gBAArB,CAAN;AACA;AACD;AAjBc,KAAD,CAAf;AAmBA;;AAEDE,aAAW,CAACnzG,OAAD,EAAuBqyG,aAA0B,GAAGryG,OAApD,EAA6D;AACvE,QAAI,CAACl1C,iBAAM,CAACkF,OAAP,CAAes5I,SAAf,CAAyBp3I,KAA9B,EAAqC;AAErC8tC,WAAO,CAACwrC,SAAR,CAAkBzmE,GAAlB,CAAsB,mBAAtB;AAEA6tI,mBAAe,CAAC;AACfxgB,WAAK,EAAE,KAAKpyF,OADG;AAEfA,aAAO,EAAEqyG,aAFM;AAGfQ,gBAAU,EAAE,IAHG;;AAIfnrC,YAAM,CAACv3C,CAAD,EAAIp4B,CAAJ,EAAOg7G,MAAP,EAAeC,MAAf,EAAuB;AAAE1hD,uBAAI,CAACtxD,OAAD,EAAU+yG,MAAV,EAAkBC,MAAlB,CAAJ;AAAgC;;AAJhD,KAAD,CAAf;AAMA;;AAEDI,aAAW,CAACpzG,OAAD,EAAuBqwF,SAAvB,EAAqCD,WAArC,EAAqD;AAC/D,QAAI,CAACtlI,iBAAM,CAACkF,OAAP,CAAeu5I,aAAf,CAA6Br3I,KAAlC,EAAyC,OAAO8tC,OAAP;AAEzC,UAAM,CAACjI,CAAD,EAAIo4B,CAAJ,IAASrlE,iBAAM,CAACkF,OAAP,CAAew5I,qBAAf,CAAqCt3I,KAArC,CAA2CI,KAA3C,CAAiD,GAAjD,CAAf;AAEA,UAAMouD,OAAO,GAAGyvE,qBAAqB,CAAC;AAAEG,YAAM,EAAExlI,iBAAM,CAACkF,OAAP,CAAesgI,MAAf,CAAsBp+H,KAAhC;AAAuCm+H,eAAvC;AAAkDD,iBAAlD;AAA+DjgE,OAA/D;AAAkEp4B;AAAlE,KAAD,CAArC;AACAiI,WAAO,CAACzlB,WAAR,CAAoBmmC,OAApB;AACAA,WAAO,CAAChzD,WAAR,CAAoBsyC,OAApB;AAEAA,WAAO,CAACwrC,SAAR,CAAkBzmE,GAAlB,CAAsB,qBAAtB;;AAEA,UAAMsuI,yBAAyB,GAAG,MAAM;AACvC,YAAM;AAAEt3H,aAAF;AAASoG;AAAT,UAAoB6d,OAAO,CAACrgB,qBAAR,EAA1B;AACAp0B,YAAM,CAACyqE,MAAP,CAActV,OAAO,CAAC1yC,KAAtB,EAA6B;AAAE+N,aAAK,EAAG,GAAEA,KAAM,IAAlB;AAAuBoG,cAAM,EAAG,GAAEA,MAAO;AAAzC,OAA7B;AACA,KAHD;;AAKA,UAAMmxH,iCAAiC,GAAG,IAAItC,cAAJ,CAAmBqC,yBAAnB,CAA1C;;AAEA,UAAME,cAAc,GAAG,MAAM;AAC5BD,uCAAiC,CAAChwE,OAAlC,CAA0CtjC,OAA1C;AACAA,aAAO,CAACxyC,YAAR,CAAqB,UAArB,EAAiCwI,MAAM,CAAC6yF,cAAc,CAAC,KAAKwoD,aAAN,EAAqB,CAArB,CAAf,CAAvC;AACAgC,+BAAyB;AACzB,KAJD;;AAMA3yF,WAAO,CAACijB,aAAR,CAAsB,qBAAtB,EAA6CtpE,gBAA7C,CAA8D,OAA9D,EAAwEtD,CAAD,IAAc;AACpF,cAAQA,CAAC,CAAC1G,MAAF,CAASqtF,OAAT,CAAiBprB,MAAzB;AACC,aAAK,YAAL;AACC,YAAE,KAAK++E,aAAP;AACAkC,wBAAc;AACd;;AACD,aAAK,aAAL;AACC,YAAE,KAAKlC,aAAP;AACAkC,wBAAc;AACd;;AACD,aAAK,UAAL;AACCh+D,qCAAW,CAACN,OAAZ,CAAoB,CAAC,WAAD,CAApB,EAAmCztE,IAAnC,CAAwC,MAAM;AAC7C,kBAAMk8C,EAAE,GAAG,iBAAX;AACA,kBAAMygF,GAAG,GAAGzgF,EAAE,CAACjsD,IAAH,CAAQ24H,WAAR,CAAZ;AACA,kBAAMn1C,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAWtc,OAAX,CAAd;AACA,gBAAI09B,KAAK,GAAGnD,KAAK,IAAIA,KAAK,CAACoC,QAAN,EAArB;;AACA,gBAAIe,KAAK,IAAI+lD,GAAb,EAAkB;AACjB,kBAAIj1D,SAAS,GAAGi1D,GAAG,CAAC,CAAD,CAAnB;AACA,kBAAIj1D,SAAS,CAACxiC,QAAV,CAAmB,GAAnB,CAAJ,EAA6BwiC,SAAS,GAAGA,SAAS,CAAC58E,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAZ;AAC7B8rF,mBAAK,GAAGA,KAAK,CAACttF,OAAN,CAAc,iBAAd,EAAiC,EAAjC,CAAR;AACA,oBAAM0/E,QAAQ,GAAI,GAAE4N,KAAM,IAAGlP,SAAU,EAAvC;AACAqB,sBAAQ,CAAC6/C,WAAD,EAAc5/C,QAAd,CAAR;AACA,aAND,MAMOD,QAAQ,CAAC6/C,WAAD,CAAR;AACP,WAZD;AAaA;;AACD,aAAK,aAAL;AAECC,mBAAS,GAAG,IAAI99D,GAAJ,CAAQgQ,QAAQ,CAAC8tD,SAAD,EAAY,QAAZ,CAAhB,EAAuCpxH,QAAQ,CAACG,IAAhD,EAAsDA,IAAlE;AAGA42E,oBAAU,CAACvqE,sBAAM,CAACsgE,MAAO,qDAAoDskD,SAAU,EAA7E,CAAV;AACA;;AACD,aAAK,mBAAL;AACCjL,iCAAA,CAAwBt6H,iBAAM,CAAC2nH,QAA/B,EAAyC,eAAzC;AACA;;AACD,aAAK,QAAL;AACC17G,WAAC,CAAC1G,MAAF,CAASuM,WAAT,GAAuB,CACtB9R,iBAAM,CAACkF,OAAP,CAAeq5I,SAAf,CAAyBn3I,KAAzB,IAAkC,gBADZ,EAEtBpH,iBAAM,CAACkF,OAAP,CAAes5I,SAAf,CAAyBp3I,KAAzB,IAAkC,oBAFZ,EAGrByI,MAHqB,CAGd8wF,OAHc,EAGLxzF,IAHK,CAGA,MAHA,CAAvB;AAIAnN,2BAAM,CAACkF,OAAP,CAAesgI,MAAf,CAAsBp+H,KAAtB,GAA8B,KAA9B;AACAwuH,sBAAA,CAAa51H,iBAAM,CAACkF,OAAP,CAAesgI,MAA5B;AACA;;AACD;AAEC;AA5CF;;AA+CAv5H,OAAC,CAACud,eAAF;AACAvd,OAAC,CAACsd,cAAF;AACA,KAlDD;AAoDA,WAAOqsC,OAAP;AACA;;AA9NiB;;AAiOnB,MAAM8vF,kBAAN,SAAsBU,gBAAtB,CAA4B;AAoB3B3iJ,aAAW,CAACyB,OAAD,EAAwB/B,OAAxB,EAAiC;AAC3C;AAD2C,SAnB5Cg8I,sBAmB4C,GAnBnBrjH,QAAQ,CAAC97B,iBAAM,CAACkF,OAAP,CAAei6I,sBAAf,CAAsC/3I,KAAvC,EAA8C,EAA9C,CAAR,IAA6D2uE,QAmB1C;AAAA,SAlB5CmsE,YAkB4C,GAlB7BpmH,QAAQ,CAAC97B,iBAAM,CAACkF,OAAP,CAAe44I,mBAAf,CAAmC12I,KAApC,EAA2C,EAA3C,CAAR,IAA0D,CAkB7B;AAAA,SAhB5CshJ,cAgB4C;AAAA,SAf5CC,WAe4C;AAAA,SAd5CC,eAc4C;AAAA,SAb5CC,sBAa4C;AAAA,SAX5C1G,MAW4C;AAAA,SAL5C2G,iBAK4C,GALxB,IAKwB;AAAA,SAJ5CC,eAI4C;AAAA,SAH5CC,mBAG4C;AAAA,SAF5CC,gBAE4C;AAG3C,SAAK/zG,OAAL,GAAewvF,eAAe,CAAC;AAC9BpxC,WAAK,EAAEpuF,OAAO,CAACouF,KADe;AAE9B9tE,aAAO,EAAEtgB,OAAO,CAACsgB,OAFa;AAG9Bm/G,aAAO,EAAEz/H,OAAO,CAACy/H,OAHa;AAI9B9iI,SAAG,EAAEqD,OAAO,CAACrD;AAJiB,KAAD,CAA9B;AAOA,UAAMqnJ,eAAe,GAAG,KAAKh0G,OAAL,CAAa2jC,aAAb,CAA2B,qBAA3B,CAAxB;AACA,SAAK6vE,cAAL,GAAsB,KAAKxzG,OAAL,CAAa2jC,aAAb,CAA2B,qBAA3B,CAAtB;AACA,UAAMswE,QAAQ,GAAG,KAAKT,cAAL,CAAoB7vE,aAApB,CAAkC,oBAAlC,CAAjB;AACA,UAAMuwE,QAAQ,GAAG,KAAKV,cAAL,CAAoB7vE,aAApB,CAAkC,gBAAlC,CAAjB;AACA,SAAK8vE,WAAL,GAAmB,KAAKD,cAAL,CAAoB7vE,aAApB,CAAkC,oBAAlC,CAAnB;AACA,SAAK+vE,eAAL,GAAuB,KAAKF,cAAL,CAAoB7vE,aAApB,CAAkC,2BAAlC,CAAvB;AACA,SAAKgwE,sBAAL,GAA8B,KAAK3zG,OAAL,CAAa2jC,aAAb,CAA2B,kCAA3B,CAA9B;AAEA,SAAKspE,MAAL,GAAcj9I,OAAO,CAACrD,GAAR,CAAYwC,GAAZ,CAAgBxC,GAAG,KAAK;AACrC0lI,mBAAa,EAAE,MAAMA,aAAa,CAAC1lI,GAAD,EAAMsB,OAAN,CADG;AAErCmkI,WAAK,EAAE,IAF8B;AAGrC1xE,aAAO,EAAE11D,QAAQ,CAACqC,aAAT,CAAuB,KAAvB;AAH4B,KAAL,CAAnB,CAAd;AAKA2mJ,mBAAe,CAAC95H,MAAhB,CAAuB,GAAG,KAAK+yH,MAAL,CAAY99I,GAAZ,CAAgB,CAAC;AAAEuxD;AAAF,KAAD,KAAiBA,OAAjC,CAA1B;AAEA,UAAMyzF,uBAAuB,GAAGvtH,QAAQ,CAAC97B,iBAAM,CAACkF,OAAP,CAAek6I,0BAAf,CAA0Ch4I,KAA3C,EAAkD,EAAlD,CAAR,IAAiE2uE,QAAjG;AACA,SAAKgzE,eAAL,GAAuB/oJ,iBAAM,CAACkF,OAAP,CAAeg6I,kBAAf,CAAkC93I,KAAlC,IAA2C,KAAK+6I,MAAL,CAAYz+I,MAAZ,GAAqB2lJ,uBAAvF;;AAEA,QAAI,KAAKN,eAAL,IAAwB,KAAK5G,MAAL,CAAYz+I,MAAZ,KAAuB,CAAnD,EAAsD;AACrD,WAAK2V,KAAL,GAAa,KAAKiwI,eAAL,EAAb;AACA,WAAKT,sBAAL,CAA4Bt5I,gBAA5B,CAA6C,OAA7C,EAAsD,MAAM,KAAK+5I,eAAL,EAA5D;AACA,KAHD,MAGO;AACN,WAAKjwI,KAAL,GAAa,KAAKkwI,oBAAL,CAA0B,CAA1B,CAAb;AACAJ,cAAQ,CAAC55I,gBAAT,CAA0B,OAA1B,EAAmC,MAAM;AAAE,aAAKg6I,oBAAL,CAA0B,CAAC,CAA3B;AAAgC,OAA3E;AACAH,cAAQ,CAAC75I,gBAAT,CAA0B,OAA1B,EAAmC,MAAM;AAAE,aAAKg6I,oBAAL,CAA0B,CAA1B;AAA+B,OAA1E;AAEA5xE,kBAAY,CAAC,KAAKixE,eAAN,EAAuB,OAAvB,CAAZ,CAA4ClsI,IAA5C,CAAiD,MAAM;AACtD,aAAK4sI,eAAL;AACA,aAAKT,sBAAL,CAA4Bt5I,gBAA5B,CAA6C,OAA7C,EAAsD,MAAM,KAAK+5I,eAAL,EAA5D;AACA,OAHD;AAIA;AACD;;AAEDE,2BAAyB,GAAG;AAC3B,WAAOxpJ,iBAAM,CAACkF,OAAP,CAAe+5I,oBAAf,CAAoC73I,KAApC,IAA6C,CAAC,KAAK2hJ,eAA1D;AACA;;AAEDU,eAAa,CAAChE,KAAD,EAAQ;AACpB,UAAMiE,cAAc,GAAGjE,KAAK,CAACne,KAAN,IAAeme,KAAK,CAACne,KAAN,CAAYpyF,OAAZ,CAAoB2jC,aAApB,CAAkC,qBAAlC,CAAtC;AAEA,UAAM8wE,YAAY,GAAGD,cAAc,IAAI5tH,QAAQ,CAAC4tH,cAAc,CAACxmI,KAAf,CAAqB+N,KAAtB,EAA6B,EAA7B,CAA/C;AACA,QAAI04H,YAAJ,EAAkB,KAAKV,gBAAL,GAAwBU,YAAxB;AAClB;;AAEDC,cAAY,CAACnE,KAAD,EAAQ;AACnB,QAAI,CAAC,KAAKwD,gBAAV,EAA4B;AAC5B,UAAMY,aAAa,GAAGpE,KAAK,CAACne,KAAN,IAAeme,KAAK,CAACne,KAAN,CAAYpyF,OAAZ,CAAoB2jC,aAApB,CAAkC,qBAAlC,CAArC;AACA,QAAIgxE,aAAJ,EAAmBp5B,MAAM,CAACo5B,aAAD,EAAgB,KAAKZ,gBAArB,CAAN;AACnB;;AAEDa,aAAW,CAACrE,KAAD,EAAQ;AAClB,QAAI,KAAK+D,yBAAL,MAAoC,KAAKV,iBAA7C,EAAgE,KAAKW,aAAL,CAAmB,KAAKX,iBAAxB;AAChE,SAAKA,iBAAL,GAAyBrD,KAAzB;AAEAA,SAAK,CAACne,KAAN,GAAcme,KAAK,CAACne,KAAN,IAAeme,KAAK,CAACle,aAAN,EAA7B;AACA,UAAM;AAAED,WAAF;AAAS1xE;AAAT,QAAqB6vF,KAA3B;AACA,QAAI,CAACne,KAAK,CAACxkH,UAAN,EAAL,EAAyB8yC,OAAO,CAAChzD,WAAR,CAAoB0kI,KAAK,CAACpyF,OAA1B;AACzB0gB,WAAO,CAAC9+B,MAAR,GAAiB,KAAjB;AACA,QAAI,KAAK0yH,yBAAL,EAAJ,EAAsC,KAAKI,YAAL,CAAkBnE,KAAlB;AAEtC,QAAI,KAAK3iI,UAAL,EAAJ,EAAuBwkH,KAAK,CAACjyG,MAAN;AACvB;;AAED00H,cAAY,GAAG;AACd,UAAMC,WAAW,GAAG,KAAK7H,MAAL,CAAYrhJ,OAAZ,CAAoB,KAAKgoJ,iBAAzB,CAApB;AACA,UAAMmB,SAAS,GAAGnkJ,IAAI,CAACukC,GAAL,CAAS2/G,WAAW,GAAG,KAAK9H,YAAnB,GAAkC,CAA3C,EAA8C,KAAKC,MAAL,CAAYz+I,MAA1D,CAAlB;AAEA,WAAO0+I,YAAY,CAAC,KAAKD,MAAL,CAAYxhJ,KAAZ,CAAkBqpJ,WAAlB,EAA+BC,SAA/B,CAAD,CAAnB;AACA;;AAED,QAAMX,eAAN,GAAwB;AACvB,SAAKZ,cAAL,CAAoBhtI,MAApB;AAEA,UAAMwuI,UAAU,GAAG,KAAKpB,iBAAL,GAAyB,KAAK3G,MAAL,CAAYrhJ,OAAZ,CAAoB,KAAKgoJ,iBAAzB,CAAzB,GAAuE,CAA1F;AACA,UAAMqB,QAAQ,GAAGrkJ,IAAI,CAACukC,GAAL,CAAS6/G,UAAU,GAAG,KAAK/K,sBAA3B,EAAmD,KAAKgD,MAAL,CAAYz+I,MAA/D,CAAjB;AAEA,SAAKmlJ,sBAAL,CAA4B/xH,MAA5B,GAAqC,IAArC;AAGA,UAAM03D,UAAU,CAAC,KAAK2zD,MAAL,CAAYxhJ,KAAZ,CAAkBupJ,UAAlB,EAA8BC,QAA9B,CAAD,EAA0C1E,KAAK,IAAI;AAClE,WAAKqE,WAAL,CAAiBrE,KAAjB;AACA,aAAOA,KAAK,CAACne,KAAN,IAAeme,KAAK,CAACne,KAAN,CAAYjuH,KAAlC;AACA,KAHe,CAAhB;;AAKA,QAAI8wI,QAAQ,GAAG,KAAKhI,MAAL,CAAYz+I,MAA3B,EAAmC;AAClC,WAAKmlJ,sBAAL,CAA4BuB,SAA5B,GAAyC,aAAYtkJ,IAAI,CAACukC,GAAL,CAAS,KAAK80G,sBAAd,EAAsC,KAAKgD,MAAL,CAAYz+I,MAAZ,GAAqBymJ,QAA3D,CAAqE,SAA1H;AACA,WAAKtB,sBAAL,CAA4B/xH,MAA5B,GAAqC,KAArC;AACA;;AAED,WAAO,KAAKizH,YAAL,EAAP;AACA;;AAEDR,sBAAoB,CAACvzH,IAAD,EAAO;AAC1B,UAAM86C,QAAQ,GAAG,KAAKg4E,iBAAtB;AACA,UAAMuB,aAAa,GAAGv5E,QAAQ,GAAG,KAAKqxE,MAAL,CAAYrhJ,OAAZ,CAAoBgwE,QAApB,CAAH,GAAmC,CAAjE;AAEA,QAAIqhC,QAAQ,GAAGk4C,aAAa,GAAGr0H,IAA/B;AAEAm8E,YAAQ,GAAGpU,cAAc,CAACoU,QAAD,EAAW,KAAKgwC,MAAL,CAAYz+I,MAAvB,CAAzB;AAEA,SAAKglJ,cAAL,CAAoBhmJ,YAApB,CAAiC,aAAjC,EAAgDwI,MAAM,CAACinG,QAAQ,KAAK,CAAd,CAAtD;AACA,SAAKu2C,cAAL,CAAoBhmJ,YAApB,CAAiC,YAAjC,EAA+CwI,MAAM,CAACinG,QAAQ,KAAK,KAAKgwC,MAAL,CAAYz+I,MAAZ,GAAqB,CAAnC,CAArD;AACA,SAAKilJ,WAAL,CAAiByB,SAAjB,GAA6Bl/I,MAAM,CAACinG,QAAQ,GAAG,CAAZ,CAAnC;AAEA,SAAK23C,WAAL,CAAiB,KAAK3H,MAAL,CAAYhwC,QAAZ,CAAjB;;AAEA,QAAIrhC,QAAJ,EAAc;AACb,YAAM;AAAEw2D,aAAF;AAAS1xE;AAAT,UAAqBkb,QAA3B;AACA,UAAI,CAACw2D,KAAL,EAAY,MAAM,IAAIlnI,KAAJ,EAAN;AACZknI,WAAK,CAACX,QAAN;AACA/wE,aAAO,CAAC9+B,MAAR,GAAiB,IAAjB;AACA;;AAED,WAAO,KAAKizH,YAAL,EAAP;AACA;;AAEDzI,gBAAc,GAAG;AAChB,WAAO,KAAKa,MAAL,CAAY16C,KAAZ,CAAkB,CAAC;AAAE6/B;AAAF,KAAD,KAAe,CAACA,KAAD,IAAUA,KAAK,CAACga,cAAN,EAA3C,KAAsE,KAA7E;AACA;;AAEDH,WAAS,CAACrkI,KAAD,EAAQ;AAChB,SAAK,MAAM;AAAEwqH;AAAF,KAAX,IAAwB,KAAK6a,MAA7B,EAAqC;AACpC,UAAI7a,KAAJ,EAAWA,KAAK,CAAC6Z,SAAN,CAAgBrkI,KAAhB;AACX;AACD;;AA1J0B;;AA6J5B,MAAM6oI,gBAAN,SAAoBS,gBAApB,CAA0B;AAIzB3iJ,aAAW,CAAC;AACX6vF,SADW;AAEX9tE,WAFW;AAGXm/G,WAHW;AAIX9iI,OAJW;AAKXyS;AALW,GAAD,EAMInR,OANJ,EAMa;AACvB;AADuB,SATxB4R,KASwB;AAAA,SARxBlT,GAQwB;AAGvB,SAAKA,GAAL,GAAWA,GAAX;AAEA,SAAKqzC,OAAL,GAAe0vF,aAAa,CAAC;AAC5BtxC,WAD4B;AAE5B9tE,aAF4B;AAG5Bm/G,aAH4B;AAI5B9iI,SAJ4B;AAK5ByS,UAAI,EAAEA,IAAI,IAAInR,OAAO,CAACmR,IALM;AAM5BuwH,qBAAe,EAAE7kI,iBAAM,CAACkF,OAAP,CAAe2/H,eAAf,CAA+Bz9H;AANpB,KAAD,CAA5B;AAQA,SAAK2N,KAAL,GAAa0iE,QAAQ,CAAC,KAAKviC,OAAL,CAAa2jC,aAAb,CAA2B,qBAA3B,CAAD,EAAoDyxE,gBAApD,CAArB;AACA,UAAMnvE,MAAM,GAAG,KAAKjmC,OAAL,CAAa2jC,aAAb,CAA2B,oBAA3B,CAAf;AAEA,SAAKx/D,KAAL,GAAas+D,YAAY,CAAC,KAAK5iE,KAAN,EAAa,MAAb,EAAqB,OAArB,CAAzB;AAEA,SAAKA,KAAL,CAAWxF,gBAAX,CAA4B,OAA5B,EAAqC,MAAM;AAC1C,WAAK2lC,OAAL,CAAawrC,SAAb,CAAuBzmE,GAAvB,CAA2B,sBAA3B;AACA,KAFD;;AAIA,QAAIja,iBAAM,CAACkF,OAAP,CAAe84I,yBAAf,CAAyC52I,KAA7C,EAAoD;AACnD,WAAK2N,KAAL,CAAWxF,gBAAX,CAA4B,MAA5B,EAAoC,MAAM;AACzC,aAAKwF,KAAL,CAAWu+E,KAAX,GAAoB,GAAE,KAAKv+E,KAAL,CAAWw1I,YAAa,MAAK,KAAKx1I,KAAL,CAAWy1I,aAAc,KAA5E;AACA,OAFD;AAGA;;AAED,SAAKnD,UAAL,CAAgB,KAAKtyI,KAArB;AACA,UAAM6gD,OAAO,GAAG,KAAK0yF,WAAL,CAAiBntE,MAAjB,EAAyBt5E,GAAzB,EAA8BA,GAA9B,CAAhB;AACA,SAAKylJ,YAAL,CAAkB,KAAKvyI,KAAvB;AACA,SAAKszI,WAAL,CAAiBzyF,OAAjB;AACA,SAAKixF,WAAL,CAAiBjxF,OAAjB;AACA,SAAK8wF,eAAL,CAAqB9wF,OAArB;AACA;;AAED0rF,gBAAc,GAAG;AAChB,WAAO,IAAP;AACA;;AAEDkF,SAAO,GAAG;AACT,SAAKzxI,KAAL,CAAWlT,GAAX,GAAiB,gFAAjB;AACA;;AAED4kJ,UAAQ,GAAG;AACV,SAAK1xI,KAAL,CAAWlT,GAAX,GAAiB,KAAKA,GAAtB;AACA;;AAxDwB;;AA2D1B,MAAM+jJ,iBAAN,SAAqBQ,gBAArB,CAA2B;AAM1B3iJ,aAAW,CAAC;AACXglI,SADW;AAEXQ,iBAFW;AAGXh4G,SAAK,GAAG,OAHG;AAIXoG,UAAM,GAAG,OAJE;AAKXqxG,cAAU,GAAG,KALF;AAMXQ,SAAK,EAAEuhB,YANI;AAOXtiF,QAAI,EAAEuiF;AAPK,GAAD,EAQK;AACf;AADe,SAbhBC,MAagB,GAbE,KAaF;AAAA,SAZhBnvB,MAYgB;AAAA,SAXhBivB,YAWgB;AAAA,SAVhBC,WAUgB;AAGf,SAAKD,YAAL,GAAoBA,YAApB;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AAEA,SAAKx1G,OAAL,GAAe4vF,cAAc,CAAC;AAC7BrjG,SAAG,EAAGzhC,iBAAM,CAACkF,OAAP,CAAe66I,aAAf,CAA6B34I,KAA7B,IAAsC6hI,aAAvC,GAAwDA,aAAxD,GAAwER,KADhD;AAE7Bx3G,WAF6B;AAG7BoG;AAH6B,KAAD,CAA7B;AAKA,SAAKmkG,MAAL,GAAc/jD,QAAQ,CAAC,KAAKviC,OAAL,CAAa2jC,aAAb,CAA2B,QAA3B,CAAD,EAAuC+xE,iBAAvC,CAAtB;AACA,UAAMC,aAAa,GAAGpzE,QAAQ,CAAC,KAAKviC,OAAL,CAAazQ,iBAAd,EAAiCsgC,WAAjC,CAA9B;AACA,UAAM+lF,UAAU,GAAG,KAAK51G,OAAL,CAAa2jC,aAAb,CAA2B,iCAA3B,CAAnB;AAEA,SAAKyuE,YAAL,CAAkB,KAAK9rB,MAAvB,EAA+BsvB,UAA/B,EAA2C,CAACpiB,UAA5C;AACA,SAAK2f,WAAL,CAAiBwC,aAAjB,EAAgCC,UAAhC;AACA,SAAKjE,WAAL,CAAiBgE,aAAjB;AACA,SAAKnE,eAAL,CAAqBmE,aAArB;AACA;;AAED,QAAMx1H,MAAN,GAAe;AACd,QAAIr1B,iBAAM,CAACkF,OAAP,CAAe66I,aAAf,CAA6B34I,KAA7B,IAAsC,KAAKsjJ,WAA/C,EAA4D;AAC3D,UAAI,CAAC,KAAKC,MAAV,EAAkB,MAAMhzE,YAAY,CAAC,KAAK6jD,MAAN,EAAc,MAAd,CAAlB;AAClB,WAAKmvB,MAAL,GAAc,IAAd;;AAEA,UAAI;AACH,aAAKnvB,MAAL,CAAYC,aAAZ,CAA0B7+D,WAA1B,CAAsC,KAAK8tF,WAA3C,EAAwD,GAAxD;AACA,OAFD,CAEE,OAAOz+I,CAAP,EAAU;AACXkT,eAAO,CAACjZ,KAAR,CAAc,yCAAd,EAAyD,IAAzD,EAA+D+F,CAA/D;AACA;AACD;AACD;;AAED06H,UAAQ,GAAG;AACV,QAAI,KAAK8jB,YAAT,EAAuB;AACtB,UAAI;AACH,aAAKjvB,MAAL,CAAYC,aAAZ,CAA0B7+D,WAA1B,CAAsC,KAAK6tF,YAA3C,EAAyD,GAAzD;AACA;AACA,OAHD,CAGE,OAAOx+I,CAAP,EAAU;AACXkT,eAAO,CAACjZ,KAAR,CAAc,0CAAd,EAA0D,IAA1D,EAAgE+F,CAAhE;AACA;AACD;;AAGD,SAAKipC,OAAL,CAAax5B,MAAb;AACA;;AA5DyB;;AA+D3B,MAAMo7B,eAAN,SAAmBsvG,gBAAnB,CAAyB;AACxB3iJ,aAAW,CAAC;AACX6vF,SADW;AAEXqxC,WAFW;AAGX9iI;AAHW,GAAD,EAIG;AACb;AAEA,SAAKqzC,OAAL,GAAe6vF,YAAY,CAAC;AAC3BzxC,WAD2B;AAE3BqxC,aAF2B;AAG3B9iI,SAAG,EAAEi2H,0BAAQ,CAACj2H,GAAD;AAHc,KAAD,CAA3B;AAKA;;AAbuB;;AAgBzB,MAAMikJ,gBAAN,SAAoBM,gBAApB,CAA0B;AAIzB3iJ,aAAW,CAAC;AACX0lI,YAAQ,GAAG,KADA;AAEX1E,QAFW;AAGXl1D;AAHW,GAAD,EAII;AACd;AADc,SAPf45D,QAOe;AAAA,SANflhE,KAMe;AAGd,SAAKkhE,QAAL,GAAgBA,QAAhB;AAEA,SAAKj0F,OAAL,GAAesvF,aAAa,CAAC;AAC5BC,UAD4B;AAE5Bl1D;AAF4B,KAAD,CAA5B;AAIA,SAAKtH,KAAL,GAAawP,QAAQ,CAAC,KAAKviC,OAAL,CAAa2jC,aAAb,CAA2B,OAA3B,CAAD,EAAsCkyE,gBAAtC,CAArB;AACA;;AAEDpkB,UAAQ,GAAG;AAEV,QAAI,CAAC,KAAK7jH,UAAL,EAAL,EAAwB;AAExB,SAAKqmH,QAAL,GAAgB,CAAC,KAAKlhE,KAAL,CAAWG,MAA5B;AACA,QAAI,CAAC,KAAKH,KAAL,CAAWG,MAAhB,EAAwB,KAAKH,KAAL,CAAWihE,KAAX;AACxB;;AAED7zG,QAAM,GAAG;AACR,QAAI,KAAK8zG,QAAT,EAAmB,KAAKlhE,KAAL,CAAWE,IAAX;AACnB;;AA9BwB;;AAiC1B,MAAM49E,OAAN,SAAsBK,gBAAtB,CAA4B;AAC3B3iJ,aAAW,CAACyB,OAAD,EAAwB;AAClC;AAEA,SAAK+iI,QAAL,GAAgB/iI,OAAO,CAAC+iI,QAAxB;AAEA,SAAK/yF,OAAL,GAAeh1C,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAf;AACA,SAAK2yC,OAAL,CAAatyC,WAAb,CAAyBsC,OAAO,CAAC81I,QAAR,EAAzB;AACA;;AAGDrU,UAAQ,GAAG;AACV,SAAKzxF,OAAL,CAAax5B,MAAb;AACA;;AAb0B;;AAgB5B,MAAMsvI,gBAAgB,GAAG7iE,KAAK,CAAC,MAAMoH,MAAN,IAAgB;AAE9C,MAAI,CAACrvF,QAAQ,CAACkkB,IAAT,CAAcs8D,SAAd,CAAwBj4E,QAAxB,CAAiC,MAAjC,CAAL,EAA+C;AAE/C,MAAI07E,iBAAiB,EAArB,EAAyB;AAEzB,QAAM9hD,IAAI,CAAC;AACV9lB,UAAM,EAAE,MADE;AAEVklB,OAAG,EAAE,mBAFK;AAGVtgB,QAAI,EAAE;AAAE8pI,WAAK,EAAE17D,MAAM,CAAClrF,GAAP,CAAWwjB,CAAC,IAAIA,CAAC,CAAC0tE,WAAF,EAAhB,EAAiCpoF,IAAjC,CAAsC,GAAtC;AAAT;AAHI,GAAD,CAAV;AAKA,CAX6B,EAW3B;AAAEutB,OAAK,EAAE,KAAT;AAAgBsZ,MAAI,EAAE;AAAtB,CAX2B,CAA9B;;AAaA,SAASmwG,cAAT,CAAwB7+E,IAAxB,EAA8B6qB,KAA9B,EAAqC;AACpC,MAAI,CAACnwF,iBAAM,CAACkF,OAAP,CAAe45I,WAAf,CAA2B13I,KAAhC,EAAuC;AAEvC,MAAI+oF,KAAJ,EAAW66D,gBAAgB,CAAC76D,KAAD,CAAhB;;AAEX,MAAI,EAAEA,KAAK,IAAIA,KAAK,CAACiG,MAAN,EAAT,IAA2Bp2F,iBAAM,CAACkF,OAAP,CAAe85I,UAAf,CAA0B53I,KAA1B,KAAoC,KAAjE,CAAJ,EAA6E;AAC5Ek9E,mBAAe,CAAChf,IAAI,CAAChxD,IAAN,CAAf;AACA;AACD;;AAED,SAASkwI,kBAAT,CAA4BvE,UAA5B,EAAwC3Y,KAAxC,EAA+C;AAC9C,QAAMhe,QAAQ,GAAG9/E,gBAAC,CAACi8F,uBAAuB,CAAC;AAC1CtgI,QAAI,EAAE86I,UAAU,CAAC96I,IADyB;AAE1Cs8B,OAAG,EAAEw+G,UAAU,CAAC9b,WAAX,IAA2B,WAAU8b,UAAU,CAAChc,OAAX,CAAmB,CAAnB,CAAsB,EAFtB;AAG1CyB,WAAO,EAAEua,UAAU,CAAC/b,IAHsB;AAI1CyB,gBAAY,EAAErL,WAAA,CAA+Bt6H,iBAAM,CAAC2nH,QAAtC,EAAgDu4B,mBAAmB,CAACD,UAAD,CAAnE;AAJ4B,GAAD,CAAxB,CAAlB;AAMA,QAAMiL,QAAQ,GAAG1hH,gBAAC,CAAC,8BAAD,EAAiC89F,KAAK,CAACpyF,OAAvC,CAAlB;;AACA,MAAIg2G,QAAQ,CAACxnJ,MAAb,EAAqB;AACpB4lH,YAAQ,CAACx5F,UAAT,CAAoBo7H,QAApB;AACA,GAFD,MAEO;AACN5hC,YAAQ,CAACptF,QAAT,CAAkB,qCAAlB,EAAyDvM,QAAzD,CAAkE23G,KAAK,CAACpyF,OAAxE;AACA;AACD;;AAED,SAAS4yG,eAAT,CAAyB;AAAExgB,OAAF;AAASpyF,SAAT;AAAkB6yG,YAAlB;AAA8BC,SAA9B;AAAuCprC;AAAvC,CAAzB,EAMI;AAEH,MAAIuuC,iBAAiB,GAAG,KAAxB;;AACA,QAAMC,iBAAiB,GAAG,CAAC,MAAM;AAChC,UAAM1vG,QAAQ,GAAGqsC,aAAa,CAAC,MAAM;AAAEojE,uBAAiB,GAAG,KAApB;AAA4B,KAArC,CAA9B;AACA,WAAO,MAAM;AACZzvG,cAAQ;AACRyvG,uBAAiB,GAAG,IAApB;AACA,KAHD;AAIA,GANyB,GAA1B;;AAQA,MAAIE,QAAJ,EAAcC,QAAd,EAAwBC,KAAxB,EAA+BC,KAA/B;;AAEA,QAAMC,UAAU,GAAIx/I,CAAD,IAAmB;AACrC,UAAMy/I,SAAS,GAAGz/I,CAAC,CAACmgB,OAAF,GAAYm/H,KAA9B;AACA,UAAMI,SAAS,GAAG1/I,CAAC,CAACogB,OAAF,GAAYm/H,KAA9B;;AAEA,QAAI,CAACE,SAAD,IAAc,CAACC,SAAnB,EAA8B;AAE7B;AACA,KAHD,MAGO,IAAI,IAAI,CAAC1/I,CAAC,CAACkgB,OAAX,EAAoB;AAE1B9J,UAAI;AACJ;AACA,KAJM,MAIA,IAAI0lI,UAAU,KAAK97I,CAAC,CAAC8f,QAArB,EAA+B;AACrCs/H,cAAQ,GAAG,KAAX;AACA,OAAC;AAAEj/H,eAAO,EAAEm/H,KAAX;AAAkBl/H,eAAO,EAAEm/H;AAA3B,UAAqCv/I,CAAtC;AACA;AACA;;AAED,QAAI,CAACo/I,QAAL,EAAe;AACd,UAAIrD,OAAJ,EAAaA,OAAO,CAACuD,KAAD,EAAQC,KAAR,CAAP;AACbH,cAAQ,GAAG,IAAX;AACAC,cAAQ,GAAG,IAAX;AACAv0H,2BAAqB,CAAC,MAAM;AAAEuwG,aAAK,CAAC5mD,SAAN,CAAgBzmE,GAAhB,CAAoB,oBAApB;AAA4C,OAArD,CAArB;AACA;;AAED,QAAIkxI,iBAAJ,EAAuB;AACvBC,qBAAiB;AAEjBxuC,UAAM,CAAC3wG,CAAC,CAACmgB,OAAH,EAAYngB,CAAC,CAACogB,OAAd,EAAuBq/H,SAAvB,EAAkCC,SAAlC,CAAN;AACA,KAAC;AAAEv/H,aAAO,EAAEm/H,KAAX;AAAkBl/H,aAAO,EAAEm/H;AAA3B,QAAqCv/I,CAAtC;AACA,GA7BD;;AA+BA,WAAS2/I,WAAT,CAAqB3/I,CAArB,EAA+B;AAC9B,QAAIq/I,QAAJ,EAAcr/I,CAAC,CAACsd,cAAF;AACd;;AAED,WAASlH,IAAT,GAAgB;AACf0U,yBAAqB,CAAC,MAAM;AAAEuwG,WAAK,CAAC5mD,SAAN,CAAgBhlE,MAAhB,CAAuB,oBAAvB;AAA+C,KAAxD,CAArB;AAEAxb,YAAQ,CAAC0f,mBAAT,CAA6B,WAA7B,EAA0C6rI,UAA1C;AACAvrJ,YAAQ,CAAC0f,mBAAT,CAA6B,SAA7B,EAAwCyC,IAAxC;AAIA7D,cAAU,CAAC,MAAMte,QAAQ,CAAC0f,mBAAT,CAA6B,OAA7B,EAAsCgsI,WAAtC,CAAP,CAAV;AACA;;AAiBD12G,SAAO,CAAC3lC,gBAAR,CAAyB,WAAzB,EAfA,UAAkBtD,CAAlB,EAAiC;AAChC,QAAIA,CAAC,CAAC2d,MAAF,KAAa,CAAjB,EAAoB;AAEpB,KAAC;AAAEwC,aAAO,EAAEm/H,KAAX;AAAkBl/H,aAAO,EAAEm/H;AAA3B,QAAqCv/I,CAAtC;AAEAq/I,YAAQ,GAAG,KAAX;AACAD,YAAQ,GAAG,KAAX;AAEAnrJ,YAAQ,CAACqP,gBAAT,CAA0B,WAA1B,EAAuCk8I,UAAvC;AACAvrJ,YAAQ,CAACqP,gBAAT,CAA0B,SAA1B,EAAqC8S,IAArC;AACAniB,YAAQ,CAACqP,gBAAT,CAA0B,OAA1B,EAAmCq8I,WAAnC;AAEA3/I,KAAC,CAACsd,cAAF;AACA,GAED;AACA;;AAGD,MAAMsiI,iBAAiB,GAAG,sBAAO,MAAM;AACtC,QAAM/L,sBAAsB,GAAGhkH,QAAQ,CAAC97B,iBAAM,CAACkF,OAAP,CAAe46I,sBAAf,CAAsC14I,KAAvC,EAA8C,EAA9C,CAAR,IAA6D2uE,QAA5F;AACA,QAAM+1E,MAA0B,GAAG,EAAnC;AAEA,QAAMC,UAAU,GAAGhkE,aAAa,CAAC,MAAM;AACtC,UAAMxnE,GAAG,GAAGurI,MAAM,CAACznJ,GAAP,CAAW+iE,KAAK,IAAI;AAC/B,YAAM+oB,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAW9K,KAAX,CAAd;AACA,aAAO;AACNA,aADM;AAENl0C,kBAAU,EAAEmnD,yBAAyB,CAACjT,KAAD,CAF/B;AAGN93D,WAAG,EAAE83D,KAAK,CAACvyC,qBAAN,GAA8BvlB,GAH7B;AAINmF,gBAAQ,EAAEq5B,MAAM,CAACqiD,KAAK,IAAIA,KAAK,CAACwG,UAAN,EAAV;AAJV,OAAP;AAMA,KARW,CAAZ;AAUA,UAAMq1D,UAAU,GAAGzrI,GAAG,CAAC1Q,MAAJ,CAAW,CAAC;AAAEqjB;AAAF,KAAD,KAAoBA,UAAU,KAAK,CAA9C,CAAnB;;AACA,SAAK,MAAM;AAAEk0C;AAAF,KAAX,IAAwB4kF,UAAxB,EAAoC,IAAI,CAAC5kF,KAAK,CAACgB,MAAX,EAAmBhB,KAAK,CAAC8hE,KAAN;;AAEvD,sBAAU3oH,GAAV,EAAe,GAAGyrI,UAAlB,EACEjnJ,IADF,CACO,CAACqE,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACoL,QAAF,GAAarL,CAAC,CAACqL,QAAf,IAA2BpL,CAAC,CAAC6pB,UAAF,GAAe9pB,CAAC,CAAC8pB,UAA5C,IAA0D9pB,CAAC,CAACkG,GAAF,GAAQjG,CAAC,CAACiG,GADrF,EAEEy2D,OAFF,CAEU,CAAC;AAAEqB;AAAF,KAAD,EAAYrtD,KAAZ,KAAsB;AAC9B,YAAMouD,IAAI,GAAGpuD,KAAK,GAAG+lI,sBAArB;;AACA,UAAI33E,IAAI,KAAKf,KAAK,CAACgB,MAAnB,EAA2B;AAC1B,YAAID,IAAJ,EAAUf,KAAK,CAACe,IAAN,GAAV,KACKf,KAAK,CAAC8hE,KAAN;AACL;AACD,KARF;AASA,GAvB+B,CAAhC;AAyBA,MAAI+iB,UAAU,GAAG,IAAjB;AAEA,SAAO;AACNzzE,WAAO,CAACpR,KAAD,EAAQ;AACd0kF,YAAM,CAACjrJ,IAAP,CAAYumE,KAAZ;AACA2kF,gBAAU;AACV,UAAIE,UAAU,KAAK,IAAnB,EAAyBA,UAAU,GAAG9vC,WAAW,CAAC4vC,UAAD,EAAa,GAAb,CAAxB;AACzB,KALK;;AAMN1qD,aAAS,CAACj6B,KAAD,EAAQ;AAChB,qBAAO0kF,MAAP,EAAe1kF,KAAf;;AACA,UAAI,CAAC0kF,MAAM,CAACpoJ,MAAR,IAAkBuoJ,UAAtB,EAAkC;AACjCjuC,qBAAa,CAACiuC,UAAD,CAAb;AACAA,kBAAU,GAAG,IAAb;AACA;AACD;;AAZK,GAAP;AAcA,CA7CyB,CAA1B;;AA+CA,MAAMpG,gBAAN,SAAoBO,gBAApB,CAA0B;AASzB3iJ,aAAW,CAAC;AACX6vF,SADW;AAEX9tE,WAFW;AAGXm/G,WAHW;AAIX9rC,YAJW;AAKX4xC,aAAS,GAAG,EALD;AAMXn2H,QANW;AAOXmwH,QAAI,GAAG,KAPI;AAQXsE,SAAK,GAAG,KARG;AASX2B,gBAAY,GAAG,CATJ;AAUXzF,UAVW;AAWXE,cAAU,GAAG,KAXF;AAYX+mB,YAAQ,GAAG,KAZA;AAaXvpI,UAbW;AAcX4sD,WAdW;AAeX50C,QAAI,GAAG;AAfI,GAAD,EAgBIx3B,OAhBJ,EAgBa;AACvB;AADuB,SAtBxBikE,KAsBwB;AAAA,SArBxB+hE,QAqBwB;AAAA,SApBxBxuG,IAoBwB;AAAA,SAnBxB8vG,SAmBwB;AAAA,SAlBxB0hB,eAkBwB;AAGvB,SAAKA,eAAL,GAAuBnsJ,iBAAM,CAACkF,OAAP,CAAe26I,wBAAf,CAAwCz4I,KAAxC,IAAiD2hI,KAAxE;AAEA,SAAKI,QAAL,GAAgBJ,KAAK,IAAI/oI,iBAAM,CAACkF,OAAP,CAAe66I,aAAf,CAA6B34I,KAAtD;AACA,SAAKuzB,IAAL,GAAYA,IAAZ;AACA,SAAK8vG,SAAL,GAAiBA,SAAjB;AAEA,SAAKv1F,OAAL,GAAe8vF,aAAa,CAAC;AAC5B1xC,WAD4B;AAE5B9tE,aAF4B;AAG5Bm/G,aAH4B;AAI5BrwH,UAAI,EAAEA,IAAI,IAAInR,OAAO,CAACmR,IAJM;AAK5BqO,YAL4B;AAO5BsiH,YAAM,EAAE,CAAC,KAAKkE,QAAN,IAAkBlE,MAAlB,IAA4B,EAPR;AAQ5BC,cAAQ,EAAE,CAAC6D,KARiB;AAS5BtE,UAT4B;AAU5BU,gBAV4B;AAW5BN,qBAAe,EAAE7kI,iBAAM,CAACkF,OAAP,CAAe2/H,eAAf,CAA+Bz9H,KAXpB;AAY5Bg+H,2BAAqB,EAAE,KAAKgnB,qBAAL,CAA2B1hB,YAA3B,EAAyC,GAAzC;AAZK,KAAD,CAA5B;AAcA,SAAKtjE,KAAL,GAAaqQ,QAAQ,CAAC,KAAKviC,OAAL,CAAa2jC,aAAb,CAA2B,OAA3B,CAAD,EAAsCwzE,gBAAtC,CAArB;AACA,UAAM97H,SAAS,GAAG,KAAK2kB,OAAL,CAAa2jC,aAAb,CAA2B,sBAA3B,CAAlB;AAEA,UAAMyzE,QAAQ,GAAG,KAAKp3G,OAAL,CAAa2jC,aAAb,CAA2B,kBAA3B,CAAjB;;AACA,UAAM0zE,YAAY,GAAIrmJ,KAAD,IAAkC;AACtD,UAAIomJ,QAAQ,CAACx1H,MAAb,EAAqB;AACpBw1H,gBAAQ,CAACx1H,MAAT,GAAkB,KAAlB;AACA0S,wBAAC,CAAC,QAAD,CAAD,CAAYhnC,IAAZ,CAAkB,yBAAwB0D,KAAK,CAACmZ,OAAN,GAAgBnU,MAAM,CAAChF,KAAK,CAACmZ,OAAP,CAAtB,GAAwC,eAAgB,EAAlG,EAAqGsQ,QAArG,CAA8G28H,QAA9G;AACA;AACD,KALD;;AAOA,UAAME,cAAc,GAAGhjH,gBAAC,CAAC,kBAAU+lC,OAAO,CAAClrE,GAAR,CAAY2X,CAAC,IAAI;AACnD,UAAI,CAAC,KAAKorD,KAAL,CAAWqlF,WAAX,CAAuBzwI,CAAC,CAACpa,IAAzB,CAAL,EAAqC,OAAO,IAAP;AACrC,YAAM+gB,MAAM,GAAGziB,QAAQ,CAACqC,aAAT,CAAuB,QAAvB,CAAf;AACAogB,YAAM,CAAC9gB,GAAP,GAAama,CAAC,CAAC2G,MAAf;AACAA,YAAM,CAAC/gB,IAAP,GAAcoa,CAAC,CAACpa,IAAhB;AACA,UAAIoa,CAAC,CAACrB,OAAN,EAAegI,MAAM,CAACiwE,OAAP,CAAej4E,OAAf,GAAyBqB,CAAC,CAACrB,OAA3B;AACf,aAAOgI,MAAP;AACA,KAPkC,CAAV,CAAD,CAAD,CAOlBgN,QAPkB,CAOT,KAAKy3C,KAPI,EAOGxjE,GAPH,EAAvB;;AASA,QAAI,CAAC4oJ,cAAc,CAAC9oJ,MAApB,EAA4B;AAC3B,UAAIm1F,QAAJ,EAAc;AACb,eAAO,IAAI8sD,gBAAJ,CAAU;AAChB/jJ,cAAI,EAAE,OADU;AAEhB0xF,eAFgB;AAGhB9tE,iBAHgB;AAIhBm/G,iBAJgB;AAKhB9iI,aAAG,EAAEg3F;AALW,SAAV,EAMJ11F,OANI,CAAP;AAOA,OARD,MAQO;AACNopJ,oBAAY,CAAC,IAAInsJ,KAAJ,CAAU,gCAAV,CAAD,CAAZ;AACA;AACD;;AAED,UAAMssJ,UAAU,GAAGF,cAAc,CAACA,cAAc,CAAC9oJ,MAAf,GAAwB,CAAzB,CAAjC;AACAgpJ,cAAU,CAACn9I,gBAAX,CAA4B,OAA5B,EAAqCg9I,YAArC;AAEA,QAAIL,QAAJ,EAAc,KAAKvxI,OAAL;AAEd,SAAKtB,KAAL,GAAaw+D,OAAO,CAACC,IAAR,CAAa,CAACH,YAAY,CAAC,KAAKvQ,KAAN,EAAa,SAAb,CAAb,EAAsCuQ,YAAY,CAAC+0E,UAAD,EAAa,OAAb,CAAlD,CAAb,CAAb;;AAEA,UAAMC,WAAW,GAAG,MAAM;AACzB,UAAI,CAAC,KAAKvlF,KAAL,CAAWgB,MAAhB,EAAwB,KAAKlzB,OAAL,CAAaxyC,YAAb,CAA0B,SAA1B,EAAqC,EAArC,EAAxB,KACK,KAAKwyC,OAAL,CAAa3nC,eAAb,CAA6B,SAA7B;AACL,KAHD;;AAKA,SAAK65D,KAAL,CAAW73D,gBAAX,CAA4B,OAA5B,EAAqC,MAAM;AAC1Co9I,iBAAW;AAEX,UAAI,KAAKvlF,KAAL,CAAWwlF,QAAX,IAAuB,KAAKT,eAAhC,EAAiDN,iBAAiB,GAAGxqD,SAApB,CAA8B,KAAKj6B,KAAnC;AACjD,KAJD;AAKA,SAAKA,KAAL,CAAW73D,gBAAX,CAA4B,MAA5B,EAAoCo9I,WAApC;AAEA,SAAKvlF,KAAL,CAAW73D,gBAAX,CAA4B,gBAA5B,EAA8C,MAAM;AAAE,UAAI,KAAKorB,IAAL,KAAc,KAAKysC,KAAL,CAAWzuC,WAA7B,EAA0C,KAAKyuC,KAAL,CAAWzuC,WAAX,GAAyB,KAAKgC,IAA9B;AAAqC,KAArI;AACA,SAAKysC,KAAL,CAAWsjE,YAAX,GAA0BA,YAA1B;AAGA,SAAKtjE,KAAL,CAAW73D,gBAAX,CAA4B,WAA5B,EAA0CtD,CAAD,IAAmB;AAC3D,UAAI,KAAKm7D,KAAL,CAAW5B,YAAX,CAAwB,UAAxB,CAAJ,EAAyC;AACxC,cAAM;AAAEnuC,gBAAF;AAAU/nB;AAAV,YAAkB,KAAK83D,KAAL,CAAWvyC,qBAAX,EAAxB;;AAGA,YAAKwC,MAAM,GAFgB,CAEvB,GAAmCprB,CAAC,CAACogB,OAAF,GAAY/c,GAAnD,EAAyD;AACxDrD,WAAC,CAAC4e,wBAAF;AACA;AACD;AACD,KATD;AAWAgtD,WAAO,CAACt3D,GAAR,CAAY,CAACo3D,YAAY,CAAC,KAAKziC,OAAN,EAAe,YAAf,CAAb,EAA2CyiC,YAAY,CAAC,KAAKvQ,KAAN,EAAa,gBAAb,CAAvD,CAAZ,EACE1qD,IADF,CACO,MAAM,KAAKmwI,gBAAL,EADb;AAGA,QAAI30E,gBAAJ,CAAqB,MACpB,KAAKhjC,OAAL,CAAawrC,SAAb,CAAuBj8D,MAAvB,CAA8B,+BAA9B,EAA+D,KAAK2iD,KAAL,CAAW5B,YAAX,CAAwB,UAAxB,CAA/D,CADD,EAEEgT,OAFF,CAEU,KAAKpR,KAFf,EAEsB;AAAEx9D,gBAAU,EAAE;AAAd,KAFtB;;AAIA,QAAI,CAAC66H,IAAD,IAAS,KAAK0E,QAAlB,EAA4B;AAC3BxxD,kBAAY,CAAC,KAAKvQ,KAAN,EAAa,OAAb,CAAZ,CAAkC1qD,IAAlC,CAAuC,MAAM,KAAKowI,YAAL,EAA7C;AACA;;AAED,QAAI,CAAC/jB,KAAL,EAAY;AACX,UAAI/oI,iBAAM,CAACkF,OAAP,CAAe06I,gBAAf,CAAgCx4I,KAApC,EAA2C,KAAKggE,KAAL,CAAW2hE,KAAX,GAAmB,IAAnB;AAC3ClxD,aAAO,CAACt3D,GAAR,CAAY,CAACo3D,YAAY,CAAC,KAAKvQ,KAAN,EAAa,SAAb,CAAb,EAAsCy+E,gBAAK,CAACkH,aAAN,CAAoBnpJ,GAApB,EAAtC,CAAZ,EAA8E8Y,IAA9E,CAAmF,CAAC,GAAGswI,MAAH,CAAD,KAAgB;AAClG,aAAK5lF,KAAL,CAAW4lF,MAAX,GAAoBA,MAApB;AACA,OAFD;AAGA;;AAED,SAAK3F,UAAL,CAAgB,KAAKjgF,KAArB;AACA,SAAKkgF,YAAL,CAAkB,KAAKlgF,KAAvB;AACA,SAAKkhF,WAAL,CAAiB,KAAKlhF,KAAtB,EAA6BxhE,SAA7B,EAAwC2pE,OAAO,CAAC,CAAD,CAAP,CAAW5sD,MAAnD;AACA,SAAK0lI,WAAL,CAAiB93H,SAAjB;AACA,SAAKs2H,WAAL,CAAiBt2H,SAAjB;AACA,SAAKm2H,eAAL,CAAqBn2H,SAArB;AACA;;AAED5V,SAAO,GAAG;AACT,SAAKggB,IAAL,GAAY,KAAKysC,KAAL,CAAWtxC,QAAX,GAAsB,KAAKsxC,KAAL,CAAWzuC,WAA7C;AACA,QAAIyQ,KAAK,CAAC,KAAKzO,IAAN,CAAT,EAAsB,KAAKA,IAAL,GAAY,CAAZ;;AAEtB,SAAK,MAAM3e,CAAX,IAAgB,KAAKorD,KAAL,CAAW/5D,gBAAX,CAA4B,QAA5B,CAAhB,EAAuD;AAEtD,OAAC2O,CAAC,CAACna,GAAH,EAAQma,CAAC,CAAC42E,OAAF,CAAUj4E,OAAlB,IAA6B,CAACqB,CAAC,CAAC42E,OAAF,CAAUj4E,OAAX,EAAoBqB,CAAC,CAACna,GAAtB,CAA7B;AACA;;AAED,SAAKulE,KAAL,CAAWj9C,IAAX;AACA,SAAKi9C,KAAL,CAAWe,IAAX;AAGA,SAAKjzB,OAAL,CAAa+3G,eAAb,CAA6B,UAA7B;AACA;;AAEDb,uBAAqB,CAAChlJ,KAAD,EAAgBguB,MAAhB,EAAgC;AACpD,WAAQ,GAAEhuB,KAAK,CAAC8lJ,OAAN,CAAc,CAAd,EAAiBlnJ,OAAjB,CAAyB,GAAzB,EAA8B,SAA9B,CAAmD,GAAEovB,MAAO,EAAtE;AACA;;AAEDy3H,kBAAgB,GAAG;AAClB,UAAMM,aAAa,GAAG,KAAKj4G,OAAL,CAAa2jC,aAAb,CAA2B,qBAA3B,CAAtB;AACA,UAAMu0E,WAAW,GAAGD,aAAa,CAACt0E,aAAd,CAA4B,oBAA5B,CAApB;AACA,UAAMw0E,eAAe,GAAGF,aAAa,CAACt0E,aAAd,CAA4B,yBAA5B,CAAxB;AACA,UAAMy0E,iBAAiB,GAAGH,aAAa,CAACt0E,aAAd,CAA4B,2BAA5B,CAA1B;AACA,UAAM00E,iBAAiB,GAAGJ,aAAa,CAACt0E,aAAd,CAA4B,2BAA5B,CAA1B;AACA,UAAM20E,gBAAgB,GAAGL,aAAa,CAACt0E,aAAd,CAA4B,0BAA5B,CAAzB;AACA,UAAM40E,gBAAgB,GAAGN,aAAa,CAACt0E,aAAd,CAA4B,0BAA5B,CAAzB;AAEA,UAAMv7D,QAAQ,GAAG,KAAK43B,OAAL,CAAa2jC,aAAb,CAA2B,qBAA3B,CAAjB;AACA,UAAM60E,iBAAiB,GAAGpwI,QAAQ,CAACu7D,aAAT,CAAuB,qBAAvB,CAA1B;AACA,UAAM80E,YAAY,GAAGrwI,QAAQ,CAACu7D,aAAT,CAAuB,2BAAvB,CAArB;AAEA,UAAM+0E,QAAQ,GAAGT,aAAa,CAACt0E,aAAd,CAA4B,kBAA5B,CAAjB;AACA,UAAMg1E,OAAO,GAAGV,aAAa,CAACt0E,aAAd,CAA4B,iBAA5B,CAAhB;AAEAw0E,mBAAe,CAAC99I,gBAAhB,CAAiC,OAAjC,EAA0C,MAAM;AAC/C,UAAI,KAAK63D,KAAL,CAAWgB,MAAf,EAAuB,KAAKhB,KAAL,CAAWe,IAAX,GAAvB,KAA+C,KAAKf,KAAL,CAAW8hE,KAAX;AAC/C,UAAI,KAAK9hE,KAAL,CAAWgB,MAAf,EAAuB,KAAK0kF,YAAL;AACvB,KAHD;AAIA,QAAIM,WAAJ,EAAiBA,WAAW,CAAC79I,gBAAZ,CAA6B,OAA7B,EAAsC,MAAM,KAAKoL,OAAL,EAA5C;AAEjB2yI,qBAAiB,CAAC/9I,gBAAlB,CAAmC,OAAnC,EAA4C,MAAM;AAAE,WAAK63D,KAAL,CAAWsjE,YAAX,IAA2B,GAA3B;AAAiC,KAArF;AACA6iB,qBAAiB,CAACh+I,gBAAlB,CAAmC,OAAnC,EAA4C,MAAM;AAAE,WAAK63D,KAAL,CAAWsjE,YAAX,IAA2B,GAA3B;AAAiC,KAArF;AACA8iB,oBAAgB,CAACj+I,gBAAjB,CAAkC,OAAlC,EAA2C,MAAM;AAAE,WAAK63D,KAAL,CAAWzuC,WAAX,IAA0B,IAAI,KAAK8xG,SAAnC;AAA+C,KAAlG;AACAgjB,oBAAgB,CAACl+I,gBAAjB,CAAkC,OAAlC,EAA2C,MAAM;AAAE,WAAK63D,KAAL,CAAWzuC,WAAX,IAA0B,IAAI,KAAK8xG,SAAnC;AAA+C,KAAlG;AAEA,SAAKrjE,KAAL,CAAW73D,gBAAX,CAA4B,YAA5B,EAA0C,MAAM;AAC/Cq+I,cAAQ,CAAC97I,WAAT,GAAuB,KAAKs6I,qBAAL,CAA2B,KAAKhlF,KAAL,CAAWsjE,YAAtC,EAAoD,GAApD,CAAvB;AACA,KAFD;AAGA,SAAKtjE,KAAL,CAAW73D,gBAAX,CAA4B,YAA5B,EAA0C,MAAM;AAC/Cm+I,uBAAiB,CAACxqI,KAAlB,CAAwB6R,IAAxB,GAAgC,GAAG,KAAKqyC,KAAL,CAAWzuC,WAAX,GAAyB,KAAKyuC,KAAL,CAAWtxC,QAArC,GAAiD,GAAI,GAAvF;AACA+3H,aAAO,CAAC/7I,WAAR,GAAsB,KAAKs6I,qBAAL,CAA2B,KAAKhlF,KAAL,CAAWzuC,WAAtC,EAAmD,GAAnD,CAAtB;AACA,KAHD;AAKArb,YAAQ,CAAC/N,gBAAT,CAA0B,WAA1B,EAAwCtD,CAAD,IAAmB;AACzD,UAAI8oB,IAAI,GAAG9oB,CAAC,CAACqgB,OAAb;;AACA,UAAIrgB,CAAC,CAAC1G,MAAF,KAAaooJ,YAAjB,EAA+B;AAAE54H,YAAI,IAAI9oB,CAAC,CAAC1G,MAAF,CAASsoG,UAAjB;AAA8B;;AAC/D8/C,kBAAY,CAACzqI,KAAb,CAAmB6R,IAAnB,GAA2B,GAAEA,IAAK,IAAlC;AAEA,UAAI9oB,CAAC,CAACkgB,OAAF,KAAc,CAAlB,EAA6CwhI,YAAY,CAACtjI,KAAb;AAC7C,KAND;AAOAsjI,gBAAY,CAACp+I,gBAAb,CAA8B,OAA9B,EAAwCtD,CAAD,IAAmB;AACzD,YAAM6hJ,UAAU,GAAG,CAAC7hJ,CAAC,CAAC1G,MAAF,CAASsoG,UAAT,GAAsB5hG,CAAC,CAAC1G,MAAF,CAAS2oG,WAAT,GAAuB,CAA9C,IAAmD5wF,QAAQ,CAAC4wF,WAA/E;AACA,WAAK9mC,KAAL,CAAWzuC,WAAX,GAAyB,KAAKyuC,KAAL,CAAWtxC,QAAX,GAAsBg4H,UAA/C;AACA,KAHD;AAKA,UAAMC,UAAU,GAAGZ,aAAa,CAACt0E,aAAd,CAA4B,mBAA5B,CAAnB;;AACA,QAAIk1E,UAAJ,EAAgB;AACf,YAAMC,eAAe,GAAGD,UAAU,CAACl1E,aAAX,CAAyB,yBAAzB,CAAxB;AACA,YAAMo1E,gBAAgB,GAAGF,UAAU,CAACl1E,aAAX,CAAyB,8BAAzB,CAAzB;;AAEA,YAAMq1E,YAAY,GAAGjiJ,CAAC,IAAI;AACzB,cAAMwJ,IAAI,GAAGu4I,eAAe,CAACvzE,YAA7B;AACA,cAAMpwD,KAAK,GAAG5U,IAAI,GAAGxJ,CAAC,CAACsgB,OAAvB;AACA,cAAM09B,KAAK,GAAGnkD,IAAI,CAACukC,GAAL,CAAShgB,KAAK,GAAG5U,IAAjB,EAAuB,CAAvB,CAAd;;AACA,YAAIw0C,KAAK,GAAG,IAAZ,EAAkB;AACjB,eAAKmd,KAAL,CAAW4lF,MAAX,GAAoB/iG,KAApB;AACA,eAAKmd,KAAL,CAAW2hE,KAAX,GAAmB,KAAnB;AACA8c,0BAAK,CAACkH,aAAN,CAAoB7rI,GAApB,CAAwB+oC,KAAxB;AACA,SAJD,MAIO;AACN,eAAKmd,KAAL,CAAW2hE,KAAX,GAAmB,IAAnB;AACA;AACD,OAXD;;AAaAglB,gBAAU,CAACx+I,gBAAX,CAA4B,OAA5B,EAAqC,MAAM;AAC1C,aAAK63D,KAAL,CAAW2hE,KAAX,GAAmB,CAAC,KAAK3hE,KAAL,CAAW2hE,KAA/B;AACA,OAFD;AAGAilB,qBAAe,CAACz+I,gBAAhB,CAAiC,WAAjC,EAA+CtD,CAAD,IAAmB;AAChE,YAAIA,CAAC,CAACkgB,OAAF,KAAc,CAAlB,EAA6C+hI,YAAY,CAACjiJ,CAAD,CAAZ;AAC7C,OAFD;AAGA+hJ,qBAAe,CAACz+I,gBAAhB,CAAiC,OAAjC,EAA2CtD,CAAD,IAAmB;AAC5DiiJ,oBAAY,CAACjiJ,CAAD,CAAZ;AACAA,SAAC,CAACud,eAAF;AACA,OAHD;;AAKA,YAAMy6E,OAAO,GAAG,MAAM;AACrB8pD,kBAAU,CAACrrJ,YAAX,CAAwB,OAAxB,EAAkC,KAAK0kE,KAAL,CAAW2hE,KAAX,IAAoB,CAAC,KAAK3hE,KAAL,CAAW4lF,MAAjC,GAA2C,GAA3C,GAAiD9hJ,MAAM,CAACpF,IAAI,CAACmuB,IAAL,CAAU,KAAKmzC,KAAL,CAAW4lF,MAAX,GAAoB,CAA9B,CAAD,CAAxF;AACAiB,wBAAgB,CAAC/qI,KAAjB,CAAuBmU,MAAvB,GAAiC,GAAE,KAAK+vC,KAAL,CAAW4lF,MAAX,GAAoB,GAAI,GAA3D;AACA,OAHD;;AAKA,WAAK5lF,KAAL,CAAW73D,gBAAX,CAA4B,cAA5B,EAA4C00F,OAA5C;AACAA,aAAO;AACP;AACD;;AAED6oD,cAAY,GAAG;AACd,SAAK3jB,QAAL,GAAgB,KAAhB;AACA,QAAI,KAAKgjB,eAAT,EAA0BN,iBAAiB,GAAGxqD,SAApB,CAA8B,KAAKj6B,KAAnC;AAC1B;;AAEDk6E,gBAAc,GAAG;AAGhB,WAAO,KAAKl6E,KAAL,CAAWgB,MAAlB;AACA;;AAEDo+E,SAAO,GAAG;AAET,QAAI,CAAC,KAAK1jI,UAAL,EAAL,EAAwB;AAExB,QAAI,CAAC,KAAKskD,KAAL,CAAWgB,MAAhB,EAAwB,KAAKhB,KAAL,CAAW8hE,KAAX;AAExB,SAAKvuG,IAAL,GAAY,KAAKysC,KAAL,CAAWzuC,WAAvB;AACA,SAAKyuC,KAAL,CAAW1kE,YAAX,CAAwB,KAAxB,EAA+B,EAA/B;AACA,SAAK0kE,KAAL,CAAWj9C,IAAX;AAEA,QAAI,KAAKgiI,eAAT,EAA0BN,iBAAiB,GAAGxqD,SAApB,CAA8B,KAAKj6B,KAAnC;AAC1B;;AAEDq/E,UAAQ,GAAG;AACV,QAAI,KAAKr/E,KAAL,CAAW5B,YAAX,CAAwB,KAAxB,CAAJ,EAAoC;AACnC,WAAK4B,KAAL,CAAW75D,eAAX,CAA2B,KAA3B;AACA,WAAK65D,KAAL,CAAWj9C,IAAX;AACA;;AAED,SAAKi9C,KAAL,CAAWzuC,WAAX,GAAyB,KAAKgC,IAA9B;;AAEA,QAAI,KAAKwuG,QAAT,EAAmB;AAClB,UAAI,KAAKgjB,eAAT,EAA0BN,iBAAiB,GAAGrzE,OAApB,CAA4B,KAAKpR,KAAjC,EAA1B,KACK,KAAKA,KAAL,CAAWe,IAAX;AACL;AACD;;AA5RwB;;AAApB09E,gB,CACEkH,a,GAAgB/tD,uBAAO,CAAC/4E,IAAR,CAAa,yBAAb,EAAyC,CAAzC,C;AA8RjB,SAASugF,eAAT,CAAc5uB,GAAd,EAAgCqwE,MAAhC,EAAgDC,MAAhD,EAAsE;AAC5EtwE,KAAG,CAAC10D,KAAJ,CAAU2N,UAAV,GAAwB,GAAE,CAAC,CAACU,UAAU,CAACqmD,GAAG,CAAC10D,KAAJ,CAAU2N,UAAX,CAAV,IAAoC,CAArC,IAA0Co3H,MAA3C,EAAmDiF,OAAnD,CAA2D,CAA3D,CAA8D,IAAxF;AACAt1E,KAAG,CAAC10D,KAAJ,CAAUmtE,SAAV,GAAuB,GAAE,CAAC,CAAC9+D,UAAU,CAACqmD,GAAG,CAAC10D,KAAJ,CAAUmtE,SAAX,CAAV,IAAmC,CAApC,IAAyC63D,MAA1C,EAAkDgF,OAAlD,CAA0D,CAA1D,CAA6D,IAAtF;AAEA,MAAIhF,MAAJ,EAAYtwE,GAAG,CAAC6B,aAAJ,CAAkB,IAAIwoB,WAAJ,CAAgB,8BAAhB,EAAgD;AAAE32E,WAAO,EAAE;AAAX,GAAhD,CAAlB;AACZ;AAEM,SAASmlG,MAAT,CAAgB74C,GAAhB,EAAkCwwE,QAAlC,EAAoD+F,SAApD,EAA8E;AAEpF,MAAI/F,QAAQ,GAAG,EAAf,EAAmB;;AAEnB,MAAI,OAAO+F,SAAP,KAAqB,QAAzB,EAAmC;AAClCv2E,OAAG,CAAC10D,KAAJ,CAAUmU,MAAV,GAAoB,GAAE82H,SAAU,IAAhC;AACA,GAFD,MAEO,IAAIv2E,GAAG,CAAC10D,KAAJ,CAAUmU,MAAd,EAAsB;AAC5B,UAAM;AAAEpG,WAAF;AAASoG;AAAT,QAAoBugD,GAAG,CAAC/iD,qBAAJ,EAA1B;AACA+iD,OAAG,CAAC10D,KAAJ,CAAUmU,MAAV,GAAoB,GAAE,CAAEA,MAAM,GAAGpG,KAAV,GAAmBm3H,QAApB,EAA8B8E,OAA9B,CAAsC,CAAtC,CAAyC,IAA/D;AACA;;AAEDt1E,KAAG,CAAC10D,KAAJ,CAAU+N,KAAV,GAAmB,GAAEm3H,QAAS,IAA9B;AACAxwE,KAAG,CAAC10D,KAAJ,CAAUgP,QAAV,GAAqB0lD,GAAG,CAAC10D,KAAJ,CAAUm6G,SAAV,GAAsB,MAA3C;AACA,C;;AChkED;AACA;AACA;AAEO,MAAMkJ,eAAN,SAAsB7H,SAAtB,CAA2B;AAAA;AAAA;AAAA,SAgBjCoB,QAhBiC,GAgBtB,KAAKjB,UAAL,CAAgBx3G,KAAhB,CAAsB3jB,MAAtB,GAAgC,WAAU,KAAKm7H,UAAL,CAAgBx3G,KAAhB,CAAsBla,IAAtB,CAA2B,GAA3B,CAAgC,EAA1E,GAA8E,SAhBxD;AAAA;;AAGjC,SAAOiyH,cAAP,CAAsBhvH,KAAtB,EAAqC;AAAE,WAAO;AAAEiX,WAAK,EAAEjX,KAAK,CAAC5I,KAAN,CAAY,OAAZ,EAAqBqI,MAArB,CAA4B8wF,OAA5B;AAAT,KAAP;AAAyD;;AAChG,SAAOm+B,gBAAP,CAAwB3uC,KAAxB,EAAkC;AACjC,UAAMtqF,OAAO,GAAGsqF,KAAK,CAACgC,MAAN,KAAiBs5C,eAAC,CAACjF,mBAAF,CAAsBr2C,KAAtB,CAAjB,GAAgDs7C,eAAC,CAAC3E,mBAAF,CAAsB32C,KAAtB,EAA6B,CAA7B,CAAhE;AACA,WAAOtqF,OAAO,IAAIA,OAAO,CAACwhB,KAAR,CAAcla,IAAd,CAAmB,KAAnB,CAAX,IAAwC,EAA/C;AACA;;AAWDwiC,SAAO,GAAG;AAAE,WAAOy+G,YAAA,CAAwB,KAAKhnJ,KAAL,CAAWigB,KAAnC,CAAP;AAAmD;;AAE/DgnI,UAAQ,CAACpiJ,CAAD,EAAQ;AACf,QAAI,CAACA,CAAL,EAAQ,OAAO,KAAP;AACR,QAAI,CAACA,CAAC,CAACoN,KAAP,EAAc,OAAO,IAAP;AACd,WAAO+0I,YAAA,CAAwB,KAAKhnJ,KAAL,CAAWigB,KAAnC,EAA0Cpb,CAAC,CAACob,KAA5C,CAAP;AACA;;AAEDinI,gBAAc,CAACn+D,KAAD,EAAW;AACxB,UAAMo+D,YAAY,GAAGp+D,KAAK,CAACQ,KAAN,CAAYM,IAAZ,CAAiBrtF,GAAjB,CAAqBwqJ,iBAArB,CAArB;;AACA,QAAIG,YAAJ,EAAkB;AACjB,YAAM/xI,OAAO,GAAG+xI,YAAY,EAA5B;AACA,UAAI,EAAE/xI,OAAO,YAAYq7D,OAArB,CAAJ,EAAmC;AAEnC,aAAOA,OAAO,CAACC,IAAR,CAAa,CACnBt7D,OAAO,CAACgD,KAAR,CAAc,MAAM,CAAsC,CAA1D,CADmB,EAEnB,IAAIq4D,OAAJ,CAAY,CAACyD,GAAD,EAAMoO,GAAN,KAAclrE,UAAU,CAACkrE,GAAD,EAAM,IAAN,CAApC,CAFmB,CAAb,EAGJlqE,KAHI,CAGE,MAAM;AACdhD,eAAO,CAAC+mI,OAAR,CAAgB,MAAM;AAAE,eAAKt/C,OAAL;AAAiB,SAAzC;AACA,OALM,CAAP;AAMA;AACD;;AAED,QAAMi7B,QAAN,CAAe/uC,KAAf,EAAyB;AACxB,UAAM,KAAKm+D,cAAL,CAAoBn+D,KAApB,CAAN;;AAEA,QAAIA,KAAK,CAACgC,MAAN,EAAJ,EAAoB;AACnB,YAAMtsF,OAAO,GAAG4lI,eAAC,CAACjF,mBAAF,CAAsBr2C,KAAtB,CAAhB;AACA,aAAO,KAAKk+D,QAAL,CAAcxoJ,OAAd,CAAP;AACA,KAHD,MAGO;AACN,YAAMugI,QAAQ,GAAGqF,eAAC,CAAC3E,mBAAF,CAAsB32C,KAAtB,CAAjB;AACA,YAAM7U,GAAG,GAAG8qD,QAAQ,CAAC/hI,GAAT,CAAa,KAAKgqJ,QAAL,CAAcp1H,IAAd,CAAmB,IAAnB,CAAb,CAAZ;AACA,UAAIqiD,GAAG,CAACwD,IAAJ,CAAS6hB,OAAT,CAAJ,EAAuB,OAAO,IAAP;AACvB,UAAIrlB,GAAG,CAACwD,IAAJ,CAAS9iE,CAAC,IAAIA,CAAC,KAAK,IAApB,CAAJ,EAA+B,OAAO,IAAP;AAC/B,aAAO,KAAP;AACA;AACD;;AAEDmkH,WAAS,GAAG;AACX,WAAO,IAAP;AACA;;AA1DgC;AAArBoG,e,CACL/jI,I,GAAO,S;AADF+jI,e,CASLnc,iB,GAAoB;AAAE/iG,OAAK,EAAE;AAAT,C;AATfk/G,e,CAULpoC,M,GAAS,CAAC,qEAAD,EAAwE;AAAEv8F,MAAI,EAAE,UAAR;AAAoB8pF,OAAK,EAAE0iE,gBAA3B;AAA6CvhJ,IAAE,EAAE;AAAjD,CAAxE,C;AAVJ05H,e,CAWL/rG,I,GAAO,C;AAXF+rG,e,CAaL/zH,O,GAAW,KAAI47I,gBAAA,CAAiBjhJ,IAAjB,CAAsB,GAAtB,CAA2B,I;AAbrCo5H,e,CAcLlH,kB,GAAqB,I;;AClB7B;AAEO,MAAMmvB,iBAAN,SAAuB9vB,SAAvB,CAA4B;AAAA;AAAA;AAAA,SAMlCoB,QANkC,GAMvB,QANuB;AAAA;;AAQlCZ,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,WAAOA,KAAK,CAACoG,QAAN,EAAP;AACA;;AAViC;AAAtBi4D,iB,CACLhsJ,I,GAAO,Q;AADFgsJ,iB,CAGLrwD,M,GAAS,CAAC,gBAAD,C;AAHJqwD,iB,CAILr2I,M,GAAS,I;;ACNjB;AAEO,MAAMs2I,aAAN,SAAqB/vB,SAArB,CAA0B;AAAA;AAAA;AAAA,SAOhCoB,QAPgC,GAOrB,MAPqB;AAAA;;AAShCZ,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,WAAOA,KAAK,CAACiG,MAAN,EAAP;AACA;;AAX+B;AAApBq4D,a,CACLjsJ,I,GAAO,M;AADFisJ,a,CAGLtwD,M,GAAS,CAAC,qBAAD,C;AAHJswD,a,CAKLt2I,M,GAAS,I;;ACPjB;AAEO,MAAMu2I,mBAAN,SAAwBhwB,SAAxB,CAA6B;AAAA;AAAA;AAAA,SAOnCoB,QAPmC,GAOxB,SAPwB;AAAA;;AASnCZ,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,WAAOA,KAAK,CAACkG,SAAN,EAAP;AACA;;AAXkC;AAAvBq4D,mB,CACLlsJ,I,GAAO,S;AADFksJ,mB,CAGLvwD,M,GAAS,CAAC,wBAAD,C;AAHJuwD,mB,CAKLv2I,M,GAAS,I;;ACPjB;AACA;AAEO,MAAMw2I,mBAAN,SAAwBjwB,SAAxB,CAA6B;AAAA;AAAA;AAAA,SASnCoB,QATmC,GASxB,SATwB;AAAA;;AAWnCZ,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,QAAIA,KAAK,CAACj7C,OAAN,CAAcwrC,SAAd,CAAwBj4E,QAAxB,CAAiC,SAAjC,CAAJ,EAAiD,OAAO,IAAP;AAEjD,UAAM68D,IAAI,GAAG6qB,KAAK,CAACuC,WAAN,EAAb;AACA,QAAI,CAACptB,IAAL,EAAW,OAAO,IAAP;AACX,WAAOif,YAAY,CAACjf,IAAI,CAAChxD,IAAN,CAAnB;AACA;;AAjBkC;AAAvBq6I,mB,CAELnsJ,I,GAAO,S;AAFFmsJ,mB,CAILxwD,M,GAAS,CAAC,uBAAD,C;AAJJwwD,mB,CAKLn0H,I,GAAO,C;AALFm0H,mB,CAOLx2I,M,GAAS,I;;ACVjB;AAEO,MAAMy2I,mBAAN,SAAwBtuB,gBAAxB,CAAoC;AAAA;AAAA;AAAA,SAS1CR,QAT0C,GAS9B,cAAa,KAAKjB,UAAL,CAAgBc,IAAK,EAAnC,CAAqCj5H,IAArC,EAT+B;AAAA,SAW1CU,KAX0C,GAWlC,KAAKiyD,KAAL,CAAW,KAAX,EAAkB,KAAlB,CAXkC;AAAA;;AAG1C,SAAOylE,gBAAP,CAAwB3uC,KAAxB,EAAkC;AAAE,WAAOA,KAAK,CAACuE,gBAAN,EAAP;AAAkC;;AAUtEwqC,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAM3tF,IAAI,GAAG2tF,KAAK,CAACuE,gBAAN,EAAb;AACA,WAAO,KAAKttF,KAAL,CAAW03E,IAAX,CAAgB9iE,CAAC,IAAIA,CAAC,CAAC/O,IAAF,CAAOzK,IAAP,CAArB,CAAP;AACA;;AAhByC;AAA9BosJ,mB,CACLpsJ,I,GAAO,Y;AADFosJ,mB,CAKLzwD,M,GAAS,CAAC,+BAAD,EAAkC;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAAlC,C;AALJ+hJ,mB,CAOLp8I,O,GAAU,S;;ACTlB;AAEO,MAAMq8I,mBAAN,SAAwBnwB,SAAxB,CAA6B;AAAA;AAAA;AAAA,SAWnCoB,QAXmC,GAWvB,SAAQ,KAAKjB,UAAL,CAAgBc,IAAK,EAXN;AAAA,SAanCv4H,KAbmC,GAa3B,IAAIsB,IAAJ,CAAS,KAAKm2H,UAAL,CAAgBc,IAAzB,CAb2B;AAAA;;AAGnC,SAAOP,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAEuvH,UAAI,EAAEvvH;AAAR,KAAP;AAAyB;;AAC3D,SAAO0uH,gBAAP,CAAwB3uC,KAAxB,EAAkC;AAAE,WAAOA,KAAK,CAACgF,YAAN,GAAqB7iD,WAArB,EAAP;AAA4C;;AAWhF3C,SAAO,GAAG;AAAE,WAAO,CAACvG,KAAK,CAAC,KAAKhiC,KAAN,CAAb;AAA4B;;AAExC83H,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAM2+D,QAAQ,GAAG3+D,KAAK,CAACgF,YAAN,EAAjB;AACA,QAAI,CAAC25D,QAAL,EAAe,OAAO,IAAP;AACf,WAAOA,QAAQ,IAAI,KAAK1nJ,KAAxB;AACA;;AArBkC;AAAvBynJ,mB,CACLrsJ,I,GAAO,Y;AADFqsJ,mB,CAMLzkC,iB,GAAoB;AAAEuV,MAAI,EAAG,IAAIj3H,IAAJ,EAAD,CAAa4pC,WAAb;AAAR,C;AANfu8G,mB,CAOL1wD,M,GAAS,CAAC,oBAAD,EAAuB;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAAvB,C;AAPJgiJ,mB,CASLr8I,O,GAAU,uD;;;;;;;;;;;;ACVlB;AACA;AAEA,MAAMu8I,UAAU,GAAG,CAAC,CAAC,GAAD,EAAM,EAAN,CAAD,EAAY,CAAC,GAAD,EAAM,KAAN,CAAZ,EAA0B,CAAC,GAAD,EAAM,EAAN,CAA1B,EAAqC,CAAC,GAAD,EAAM,EAAN,CAArC,EAAgD,CAAC,GAAD,EAAM,EAAN,CAAhD,EAA2D,CAAC,GAAD,EAAM,IAAN,CAA3D,CAAnB;AACA,MAAM5jI,WAAG,GAAG,IAAIziB,IAAJ,EAAZ;;AAEA,SAASsmJ,WAAT,CAAqBC,SAArB,EAAgC;AAC/B,MAAIC,kBAAkB,GAAG,EAAzB;;AACA,OAAK,MAAM,CAACn2I,SAAD,EAAYo2I,UAAZ,CAAX,IAAsCJ,UAAU,CAACpuJ,KAAX,GAAmBga,OAAnB,EAAtC,EAAoE;AACnE,QAAIs0I,SAAS,GAAGE,UAAhB,EAA4B;AAC5BF,aAAS,IAAIE,UAAb;AACAD,sBAAkB,GAAGn2I,SAArB;AACA;;AAED,SAAOk2I,SAAS,CAAC/B,OAAV,CAAkB,CAAlB,IAAuBgC,kBAA9B;AACA;;AAEM,MAAME,eAAN,SAAsB1wB,SAAtB,CAA2B;AAAA;AAAA;AAAA,SAyBjCoB,QAzBiC,GAyBrB,OAAMziC,cAAc,CAAC,KAAKwhC,UAAL,CAAgB1hC,EAAjB,CAAqB,IAAG6xD,WAAW,CAAC,KAAKnwB,UAAL,CAAgBwwB,GAAjB,CAAsB,EAzBxD;AAAA,SA0BjCtvB,SA1BiC,GA0BpB,OAAM1iC,cAAc,CAACD,eAAe,CAAC,KAAKyhC,UAAL,CAAgB1hC,EAAjB,CAAhB,CAAsC,IAAG6xD,WAAW,CAAC,KAAKnwB,UAAL,CAAgBwwB,GAAjB,CAAsB,EA1B1E;AAAA;;AAGjC,SAAOjwB,cAAP,CAAsBhvH,KAAtB,EAAgC;AAC/B,QAAIi/I,GAAG,GAAGvzH,QAAQ,CAAC1rB,KAAD,EAAQ,EAAR,CAAlB;AACA,QAAIg5B,KAAK,CAACimH,GAAD,CAAT,EAAgB,MAAM,IAAIjvJ,KAAJ,CAAU,aAAV,CAAN;AAEhB,UAAMkvJ,YAAY,GAAG,eAAOl/I,KAAK,CAAC9D,KAAN,CAAY,aAAZ,CAAP,KAAsC,GAA3D;AACA+iJ,OAAG,GAAG,oBAAYN,UAAZ,EAAwB,CAAC,CAACh2I,SAAD,CAAD,KAAiBA,SAAS,KAAKu2I,YAAvD,EACJjzE,MADI,CACG,CAACjzE,CAAD,EAAI,GAAG+lJ,UAAH,CAAJ,KAAuB/lJ,CAAC,GAAG+lJ,UAD9B,EAC0CE,GAD1C,CAAN;AAGA,WAAO;AAAElyD,QAAE,EAAE,IAAN;AAAYkyD;AAAZ,KAAP;AACA;;AAED,SAAOvwB,gBAAP,CAAwB3uC,KAAxB,EAAkC;AACjC,UAAM8+D,SAAS,GAAI9jI,WAAG,GAAG,IAAIziB,IAAJ,CAASynF,KAAK,CAACgF,YAAN,EAAT,CAAzB;AACA,QAAI/rD,KAAK,CAAC6lH,SAAD,CAAT,EAAsB,MAAM,IAAI7uJ,KAAJ,CAAU,gCAAV,CAAN;AACtB,WAAO4uJ,WAAW,CAACC,SAAD,CAAlB;AACA;;AAUD/vB,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAM2+D,QAAQ,GAAG3+D,KAAK,CAACgF,YAAN,EAAjB;AACA,QAAI,CAAC25D,QAAL,EAAe,OAAO,IAAP;AACf,WAAO5xD,gBAAgB,CAAC,KAAK91F,KAAL,CAAW+1F,EAAZ,EAAgBhyE,WAAG,GAAG2jI,QAAtB,EAAgC,KAAK1nJ,KAAL,CAAWioJ,GAA3C,CAAvB;AACA;;AAhCgC;AAArBD,e,CACL5sJ,I,GAAO,U;AADF4sJ,e,CAoBLhlC,iB,GAAoB;AAAEjtB,IAAE,EAAE,IAAN;AAAYkyD,KAAG,EAAE,IAAI,EAAJ,GAAS,EAAT,GAAc;AAA/B,C;AApBfD,e,CAqBLjxD,M,GAAS,CAAC,UAAD,EAAa;AAAEv8F,MAAI,EAAE,QAAR;AAAkBsD,SAAO,EAAE,YAA3B;AAAyC2H,IAAE,EAAE;AAA7C,CAAb,EAAkE,GAAlE,EAAuE;AAAEjL,MAAI,EAAE,UAAR;AAAoBiL,IAAE,EAAE;AAAxB,CAAvE,EAAwG,MAAxG,C;AArBJuiJ,e,CAuBL58I,O,GAAU,yG;;ACzClB;AAEO,MAAM+8I,mBAAN,SAAwBjvB,gBAAxB,CAAoC;AAAA;AAAA;AAAA,SAK1CR,QAL0C,GAK9B,kBAAiB,KAAKjB,UAAL,CAAgBc,IAAK,EALR;AAAA,SAO1Cv4H,KAP0C,GAOlC,KAAKiyD,KAAL,CAAW,KAAX,CAPkC;AAAA;;AAS1C6lE,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAMmD,KAAK,GAAGnD,KAAK,CAACoC,QAAN,EAAd;AACA,WAAO,KAAKnrF,KAAL,CAAW03E,IAAX,CAAgB9iE,CAAC,IAAIA,CAAC,CAAC/O,IAAF,CAAOqmF,KAAP,CAArB,CAAP;AACA;;AAZyC;AAA9Bi8D,mB,CACL/sJ,I,GAAO,Y;AADF+sJ,mB,CAGLpxD,M,GAAS,CAAC,yBAAD,EAA4B;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAA5B,C;;ACLjB;AAEA,MAAM3H,gBAAO,GAAG,CACf,CAAC,WAAD,EAAc,MAAd,CADe,EAEf,CAAC,WAAD,EAAc,MAAd,CAFe,CAAhB;AAKO,MAAMsqJ,iBAAN,SAAuB9wB,SAAvB,CAA4B;AAAA;AAAA;AAAA,SAUlCoB,QAVkC,GAUtB,QAAO,KAAKjB,UAAL,CAAgB4wB,IAAK,EAVN;AAAA;;AAGlC,SAAOrwB,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAEq/I,UAAI,EAAEr/I;AAAR,KAAP;AAAyB;;AAS3Du/B,SAAO,GAAG;AAAE,WAAOzqC,gBAAO,CAACb,GAAR,CAAY,CAAC,GAAG+9F,GAAH,CAAD,KAAaA,GAAzB,EAA8BxgD,QAA9B,CAAuC,KAAKx6C,KAAL,CAAWqoJ,IAAlD,CAAP;AAAiE;;AAE7EvwB,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,YAAQ,KAAK/oF,KAAL,CAAWqoJ,IAAnB;AACC,WAAK,MAAL;AAAa,eAAOt/D,KAAK,CAACiC,UAAN,EAAP;;AACb,WAAK,MAAL;AAAa,eAAOjC,KAAK,CAACkC,UAAN,EAAP;;AACb;AAAS,eAAO,IAAP;AAHV;AAKA;;AApBiC;AAAtBm9D,iB,CACLhtJ,I,GAAO,W;AADFgtJ,iB,CAKLplC,iB,GAAoB;AAAEqlC,MAAI,EAAE;AAAR,C;AALfD,iB,CAMLrxD,M,GAAS,CAAC,YAAD,EAAe;AAAEv8F,MAAI,EAAE,QAAR;AAAkBiL,IAAE,EAAE,MAAtB;AAA8B3H,SAAOA;AAArC,CAAf,C;AANJsqJ,iB,CAQLh9I,O,GAAW,IAAGtN,gBAAO,CAACb,GAAR,CAAY,CAAC,GAAG+9F,GAAH,CAAD,KAAaA,GAAzB,EAA8Bj1F,IAA9B,CAAmC,GAAnC,CAAwC,G;;ACf9D;AACA;AAEO,MAAMuiJ,WAAN,SAAoBhxB,SAApB,CAAyB;AAAA;AAAA;AAAA,SAW/BoB,QAX+B,GAWnB,SAAQziC,cAAc,CAAC,KAAKwhC,UAAL,CAAgB1hC,EAAjB,CAAqB,IAAG,KAAK0hC,UAAL,CAAgBx8H,GAAI,EAX/C;AAAA,SAY/B09H,SAZ+B,GAYlB,SAAQ1iC,cAAc,CAACD,eAAe,CAAC,KAAKyhC,UAAL,CAAgB1hC,EAAjB,CAAhB,CAAsC,IAAG,KAAK0hC,UAAL,CAAgBx8H,GAAI,EAZjE;AAAA;;AAM/B,SAAO+8H,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAE+sF,QAAE,EAAE,IAAN;AAAY96F,SAAG,EAAEy5B,QAAQ,CAAC1rB,KAAD,EAAQ,EAAR;AAAzB,KAAP;AAAgD;;AAClF,SAAO0uH,gBAAP,CAAwB3uC,KAAxB,EAAkC;AAAE,WAAOjlF,MAAM,CAACilF,KAAK,CAACoD,QAAN,EAAD,CAAb;AAAkC;;AAOtE5jD,SAAO,GAAG;AAAE,WAAO7B,MAAM,CAACizF,SAAP,CAAiB,KAAK35H,KAAL,CAAW/E,GAA5B,CAAP;AAA0C;;AAEtD68H,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAMw/D,KAAK,GAAGx/D,KAAK,CAACoD,QAAN,EAAd;AACA,QAAInqD,KAAK,CAACumH,KAAD,CAAT,EAAkB,OAAO,IAAP;AAClB,WAAOzyD,gBAAgB,CAAC,KAAK91F,KAAL,CAAW+1F,EAAZ,EAAgBwyD,KAAhB,EAAuB,KAAKvoJ,KAAL,CAAW/E,GAAlC,CAAvB;AACA;;AApB8B;AAAnBqtJ,W,CACLltJ,I,GAAO,O;AADFktJ,W,CAGLtlC,iB,GAAoB;AAAEjtB,IAAE,EAAE,GAAN;AAAW96F,KAAG,EAAE;AAAhB,C;AAHfqtJ,W,CAILvxD,M,GAAS,CAAC,WAAD,EAAc;AAAEv8F,MAAI,EAAE,QAAR;AAAkBsD,SAAO,EAAE,YAA3B;AAAyC2H,IAAE,EAAE;AAA7C,CAAd,EAAmE,GAAnE,EAAwE;AAAEjL,MAAI,EAAE,QAAR;AAAkBiL,IAAE,EAAE;AAAtB,CAAxE,EAAuG,SAAvG,C;AAJJ6iJ,W,CASLl9I,O,GAAU,S;;ACZlB;AACA;AAEO,MAAMo9I,iBAAN,SAAuBlxB,SAAvB,CAA4B;AAAA;AAAA;AAAA,SAWlCoB,QAXkC,GAWtB,MAAK,KAAKjB,UAAL,CAAgBc,IAAhB,CAAqB35H,OAArB,CAA6B,KAA7B,EAAoC,MAApC,CAA4C,IAX3B;AAAA,SAYlC+5H,SAZkC,GAYrB,WAAU,KAAKlB,UAAL,CAAgBc,IAAhB,CAAqB35H,OAArB,CAA6B,KAA7B,EAAoC,MAApC,CAA4C,KAZjC;AAAA;;AAGlC,SAAOo5H,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAEuvH,UAAI,EAAEvvH;AAAR,KAAP;AAAyB;;AAW3Du/B,SAAO,GAAG;AAAE,WAAO,KAAKvoC,KAAL,CAAWu4H,IAAX,IAAmB,CAAC,CAACn2F,gBAAC,CAAC,KAAKpiC,KAAL,CAAWu4H,IAAZ,CAA7B;AAAiD;;AAE7DT,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,WAAO3mD,gBAAC,CAAC2mD,KAAK,CAACj7C,OAAP,CAAD,CAAiB18B,EAAjB,CAAoB,KAAKpR,KAAL,CAAWu4H,IAA/B,KACNn2F,gBAAC,CAAC2mD,KAAK,CAAC9gB,KAAP,CAAD,CAAe72D,EAAf,CAAkB,KAAKpR,KAAL,CAAWu4H,IAA7B,CADM,IAEN,CAAC,CAACn2F,gBAAC,CAAC2mD,KAAK,CAAC9gB,KAAP,CAAD,CAAe11D,GAAf,CAAmB,KAAKvS,KAAL,CAAWu4H,IAA9B,EAAoCj8H,MAFvC;AAGA;;AApBiC;AAAtBksJ,iB,CACLptJ,I,GAAO,U;AADFotJ,iB,CAKLxlC,iB,GAAoB;AAAEuV,MAAI,EAAE;AAAR,C;AALfiwB,iB,CAMLzxD,M,GAAS,CAAC,gCAAD,EAAmC;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAAnC,C;AANJ+iJ,iB,CAOLp1H,I,GAAO,E;AAPFo1H,iB,CASLp9I,O,GAAU,Q;;ACZlB;AAEO,MAAMq9I,mBAAN,SAAwBvvB,gBAAxB,CAAoC;AAAA;AAAA;AAAA,SAO1CR,QAP0C,GAO9B,MAAK,KAAKjB,UAAL,CAAgBc,IAAK,EAPI;AAAA,SAS1Cv4H,KAT0C,GASlC,KAAKiyD,KAAL,CAAW,IAAX,CATkC;AAAA;;AAG1C,SAAOylE,gBAAP,CAAwB3uC,KAAxB,EAAkC;AAAE,WAAOA,KAAK,CAAC4D,YAAN,EAAP;AAA8B;;AAQlEmrC,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAM/R,SAAS,GAAG+R,KAAK,CAAC4D,YAAN,EAAlB;AACA,QAAI,CAAC3V,SAAL,EAAgB,OAAO,IAAP;AAChB,WAAO,KAAKh3E,KAAL,CAAW03E,IAAX,CAAgB9iE,CAAC,IAAIA,CAAC,CAAC/O,IAAF,CAAOmxE,SAAP,CAArB,CAAP;AACA;;AAfyC;AAA9ByxE,mB,CACLrtJ,I,GAAO,W;AADFqtJ,mB,CAKL1xD,M,GAAS,CAAC,eAAD,EAAkB;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAAlB,C;;ACPjB;AACA;AAEA,MAAM3H,gBAAO,GAAG,CACf,CAAC,UAAD,EAAa,QAAb,CADe,EAEf,CAAC,aAAD,EAAgB,WAAhB,CAFe,EAGf,CAAC,UAAD,EAAa,OAAb,CAHe,EAIf,CAAC,IAAD,EAAO,IAAP,CAJe,EAKf,CAAC,IAAD,EAAO,WAAP,CALe,CAAhB;AAQO,MAAM4qJ,iBAAN,SAAuBpxB,SAAvB,CAA4B;AAAA;AAAA;AAAA,SAUlCoB,QAVkC,GAUtB,MAAK,KAAKjB,UAAL,CAAgBvtH,IAAK,EAVJ;AAAA;;AAGlC,SAAO8tH,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAEkB,UAAI,EAAElB;AAAR,KAAP;AAAyB;;AAS3Du/B,SAAO,GAAG;AAAE,WAAOzqC,gBAAO,CAACb,GAAR,CAAY,CAAC,GAAG+9F,GAAH,CAAD,KAAaA,GAAzB,EAA8BxgD,QAA9B,CAAuC,KAAKx6C,KAAL,CAAWkK,IAAlD,CAAP;AAAiE;;AAE7E4tH,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,QAAI,KAAK/oF,KAAL,CAAWkK,IAAX,KAAoB,IAAxB,EAA8B;AAE7B,YAAMy+I,MAAM,GAAGluE,YAAY,EAA3B;AACA,YAAMiS,MAAM,GAAG3D,KAAK,CAACwD,SAAN,EAAf;AACA,UAAI,CAACo8D,MAAD,IAAW,CAACj8D,MAAhB,EAAwB,OAAO,IAAP;AACxB,aAAOA,MAAM,CAACptF,IAAP,GAAce,WAAd,OAAgCsoJ,MAAM,CAACrpJ,IAAP,GAAce,WAAd,EAAvC;AACA,KAND,MAMO;AAEN,YAAMytC,OAAO,GAAGi7C,KAAK,CAACyD,gBAAN,EAAhB;AACA,UAAI,CAAC1+C,OAAL,EAAc,OAAO,IAAP;AACd,aAAOA,OAAO,CAACwrC,SAAR,CAAkBj4E,QAAlB,CAA2B,KAAKrB,KAAL,CAAWkK,IAAtC,CAAP;AACA;AACD;;AA3BiC;AAAtBw+I,iB,CACLttJ,I,GAAO,gB;AADFstJ,iB,CAKL3xD,M,GAAS,CAAC,UAAD,EAAa;AAAEv8F,MAAI,EAAE,QAAR;AAAkBiL,IAAE,EAAE,MAAtB;AAA8B3H,SAAOA;AAArC,CAAb,C;AALJ4qJ,iB,CAML1lC,iB,GAAoB;AAAE94G,MAAI,EAAE;AAAR,C;AANfw+I,iB,CAQLt9I,O,GAAW,IAAGtN,gBAAO,CAACb,GAAR,CAAY,CAAC,GAAG+9F,GAAH,CAAD,KAAaA,GAAzB,EAA8Bj1F,IAA9B,CAAmC,GAAnC,CAAwC,G;;ACnB9D;AAEO,MAAM6iJ,mBAAN,SAAwB1vB,gBAAxB,CAAoC;AAAA;AAAA;AAAA,SAS1CR,QAT0C,GAS9B,cAAa,KAAKjB,UAAL,CAAgBc,IAAK,EAAnC,CAAqCj5H,IAArC,EAT+B;AAAA,SAW1CU,KAX0C,GAWlC,KAAKiyD,KAAL,CAAW,KAAX,EAAkB,KAAlB,CAXkC;AAAA;;AAG1C,SAAOylE,gBAAP,CAAwB3uC,KAAxB,EAAkC;AAAE,WAAOA,KAAK,CAACyE,gBAAN,EAAP;AAAkC;;AAUtEsqC,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAM3tF,IAAI,GAAG2tF,KAAK,CAACyE,gBAAN,EAAb;AACA,WAAO,KAAKxtF,KAAL,CAAW03E,IAAX,CAAgB9iE,CAAC,IAAIA,CAAC,CAAC/O,IAAF,CAAOzK,IAAP,CAArB,CAAP;AACA;;AAhByC;AAA9BwtJ,mB,CACLxtJ,I,GAAO,Y;AADFwtJ,mB,CAKL7xD,M,GAAS,CAAC,yCAAD,EAA4C;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAA5C,C;AALJmjJ,mB,CAOLx9I,O,GAAU,S;;;;;;;;;;;;;;;;;;;;;;;ACTlB;AAEA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMxS,oBAAiB,GAAG,IAAIirH,MAAJ,CAAW,eAAX,CAA1B;AAEPjrH,oBAAM,CAACkrH,UAAP,GAAoB,mBAApB;AACAlrH,oBAAM,CAACmrH,QAAP,GAAkB,cAAlB;AACAnrH,oBAAM,CAAC4jG,WAAP,GAAqB,mBAArB;AAEA5jG,oBAAM,CAACkF,OAAP,GAAiB;AAChBuf,QAAM,EAAE;AACPm/E,eAAW,EAAE,yBADN;AAEPtQ,SAAK,EAAE,0BAFA;AAGP1xF,QAAI,EAAE,OAHC;AAIPu8F,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,KADG;AAERvI,UAAI,EAAE,KAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,SADH;AAEFvI,UAAI,EAAE,SAFJ;AAGFvD,UAAI,EAAE,SAHJ;AAIFwF,WAAK,EAAE;AAJL,KAJK,EASL;AACFsG,SAAG,EAAE,MADH;AAEFvI,UAAI,EAAE,MAFJ;AAGFvD,UAAI,EAAE;AAHJ,KATK,CAJD;AAkBPwF,SAAK,EAAG;AAlBD;AADQ,CAAjB;AAuBA,MAAM6oJ,OAA4B,GAAG,IAAIzsE,GAAJ,EAArC;AACA,MAAM0sE,aAA4B,GAAG,EAArC;;AAEAlwJ,oBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,OAAK,MAAMsJ,QAAX,IAAuBr1H,oBAAM,CAACkF,OAAP,CAAeuf,MAAf,CAAsBrd,KAA7C,EAAoD;AACnD,UAAM,CAACsG,GAAD,EAAMyiJ,cAAN,EAAsB3tJ,IAAtB,IAA8B6yH,QAApC;;AAEA,QAAI46B,OAAO,CAACt2I,GAAR,CAAYjM,GAAZ,CAAJ,EAAsB;AACrByR,aAAO,CAACjZ,KAAR,CAAe,qBAAoBwH,GAAI,iBAAvC,EAAyD2nH,QAAzD;AACA;AACA;;AAED,UAAM5wG,MAAM,GAAG,IAAI2rI,oBAAJ,CAAW1iJ,GAAX,EAAgBlL,IAAhB,EAAsB2tJ,cAAtB,CAAf;AACAD,iBAAa,CAACrvJ,IAAd,CAAmB4jB,MAAnB;AAEAA,UAAM,CAAC4rI,aAAP,CAAqB,MAAM;AAE1Bh7B,cAAQ,CAAC,CAAD,CAAR,GAAc5wG,MAAM,CAAC4+E,OAArB;AAGA75D,sBAAC,CAACxpC,oBAAD,CAAD,CAAUuqB,OAAV,CAAkBif,gBAAC,CAACzf,KAAF,CAAQ,QAAR,CAAlB;AACA,KAND;AAQAtF,UAAM,CAACinG,QAAP,CAAgB,MAAM;AACrBkK,kBAAA,CAAa51H,oBAAM,CAACkF,OAAP,CAAeuf,MAA5B;AACA,KAFD;AAIAA,UAAM,CAAC+yG,WAAP;AACA;AACD,CA1BD;;AA4BAx3H,oBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3BqtE,qBAAmB;AACnB,CAFD;;AAIO,MAAMF,oBAAN,CAAa;AASnB3sJ,aAAW,CAACiK,GAAD,EAAclL,IAAd,EAAuB6gG,OAAvB,EAAmC;AAAA,SAR9C7gG,IAQ8C;AAAA,SAP9C6gG,OAO8C;AAAA,SAL9CktD,oBAK8C,GALJ,EAKI;AAAA,SAJ9CC,eAI8C,GAJ4B,EAI5B;AAAA,SAF9C1lE,SAE8C;AAC7C,SAAKtoF,IAAL,GAAYA,IAAZ;AACA,SAAK6gG,OAAL,GAAeA,OAAf;AAEA,SAAKvY,SAAL,GAAiBA,SAAS,CAAC/C,aAAa,CAAEsb,OAAD,IAAsB;AAC9D,WAAK5+E,MAAL,CAAY,WAAZ,EAAyB4+E,OAAzB;AACA,KAFuC,CAAd,EAEtB;AAAEtY,WAAK,EAAE,KAAT;AAAgB5lF,UAAI,EAAG,UAASuI,GAAI;AAApC,KAFsB,CAA1B;AAIAuiJ,WAAO,CAAC/uI,GAAR,CAAYxT,GAAZ,EAAiB,IAAjB;AACA;;AAED+W,QAAM,CAAC7iB,IAAO,GAAG,QAAX,EAAqBkb,KAAc,GAAG,CAAC,KAAKumF,OAA5C,EAAqD;AAC1D,QAAI,KAAKA,OAAL,KAAiBvmF,KAArB,EAA4B;AAC5B,SAAKumF,OAAL,GAAevmF,KAAf;;AAEA,SAAK,MAAM1Y,QAAX,IAAuB,KAAKmsJ,oBAA5B,EAAkDnsJ,QAAQ;;AAC1D,QAAIxC,IAAI,KAAK,WAAb,EAA0B;AACzB,WAAK,MAAMwC,QAAX,IAAuB,KAAKosJ,eAA5B,EAA6CpsJ,QAAQ,CAACxC,IAAD,CAAR;;AAC7C,WAAKkpF,SAAL,CAAehuE,KAAf;AACA;AACD;;AAEDuzI,eAAa,CAACjsJ,QAAD,EAAc;AAC1B,SAAKmsJ,oBAAL,CAA0B1vJ,IAA1B,CAA+BuD,QAA/B;AACA;;AAEDsnH,UAAQ,CAACtnH,QAAD,EAAc;AACrB,SAAKosJ,eAAL,CAAqB3vJ,IAArB,CAA0BuD,QAA1B;AACA;;AAEDozH,aAAW,CAAClkC,KAAa,GAAI,UAAS,KAAK9wF,IAAK,EAArC,EAAwCuwE,KAAa,GAAG,CAAxD,EAA2D3rD,EAA3D,EAAwEK,GAAxE,EAAsF;AAChGgwG,oBAAA,CACC,sBAAO,MAAM;AACZ,YAAM5zB,IAAI,GAAGljF,sBAAM,CAAC+N,IAAK,eAAc4kE,KAAM,KAAI,KAAK9wF,IAAL,IAAa,QAAS,QAAvE;AACA,YAAMiiB,MAAM,GAAGuzE,6BAAa,CAACmL,YAAd,CAA2Bv9F,SAA3B,EAAsC,KAAKpD,IAA3C,EAAiD,KAAK6gG,OAAtD,EAA+Dj8E,EAA/D,EAAmEK,GAAnE,CAAf;AACAo8E,UAAI,CAACz0E,MAAL,CAAY3K,MAAZ;AACA,WAAK4rI,aAAL,CAAmB,MAAM;AAAE5rI,cAAM,CAACi8D,SAAP,CAAiBj8D,MAAjB,CAAwB,SAAxB,EAAmC,KAAK4+E,OAAxC;AAAmD,OAA9E;AACA,aAAOQ,IAAP;AACA,KAND,CADD,EAQC53F,CAAC,IAAI;AACJ,WAAKwY,MAAL;AACAxY,OAAC,CAACud,eAAF;AACA,KAXF,EAYCupD,KAZD;AAcA;;AAED09E,QAAM,CAACh4B,gBAAD,EAA2B;AAChC2B,mBAAA,CAA4B3B,gBAA5B,EAA+C,GAAEA,gBAAiB,aAAY,KAAKj2H,IAAK,EAAxF,EACC,MAAO,IAAG,KAAK6gG,OAAL,GAAe,SAAf,GAA2B,QAAS,IAAG,KAAK7gG,IAAK,EAD5D,EAEC,MAAM;AAAE,WAAKiiB,MAAL;AAAgB,KAFzB;AAIA;;AAEDisI,eAAa,GAAqB;AACjC,UAAM97I,QAAQ,GAAG1U,QAAQ,CAACqC,aAAT,CAAuB,OAAvB,CAAjB;AACAqS,YAAQ,CAAClS,YAAT,CAAsB,MAAtB,EAA8B,UAA9B;AACAkS,YAAQ,CAACJ,OAAT,GAAmB,KAAK6uF,OAAxB;AACAzuF,YAAQ,CAACrF,gBAAT,CAA0B,QAA1B,EAAoC,MAAM;AAAE,WAAKkV,MAAL,CAAY,QAAZ,EAAsB7P,QAAQ,CAACJ,OAA/B;AAA0C,KAAtF;AACA,SAAK67I,aAAL,CAAmB,MAAM;AAAEz7I,cAAQ,CAACJ,OAAT,GAAmB,KAAK6uF,OAAxB;AAAkC,KAA7D;AACA,WAAOzuF,QAAP;AACA;;AAtEkB;;AAyEpB,SAAS07I,mBAAT,GAA+B;AAC9B,QAAMK,UAAU,GAAGtuJ,GAAG,IAAIqD,KAAK,CAACwsE,IAAN,CAAW+9E,OAAO,CAAC1rI,MAAR,EAAX,EACxB1U,MADwB,CACjB,CAAC;AAAErN;AAAF,GAAD,KAAcA,IAAI,CAACg+E,UAAL,CAAgBn+E,GAAhB,CADG,EAExB0C,IAFwB,CAEnB,CAAC;AAAEvC,QAAI,EAAE4G;AAAR,GAAD,EAAc;AAAE5G,QAAI,EAAE6G;AAAR,GAAd,KAA8BD,CAAC,CAACs+F,aAAF,CAAgBr+F,CAAhB,CAFX,CAA1B;;AAIA+wH,iBAAA,CAA4B,QAA5B,EAAsC,mCAAtC,EACC,CAACzB,OAAD,EAAUt2H,GAAV,KAAkBsuJ,UAAU,CAACtuJ,GAAD,CAAV,CAAgBqB,MAAhB,GAChB,UAASitJ,UAAU,CAACtuJ,GAAD,CAAV,CAAgBgC,GAAhB,CAAoB,CAACogB,MAAD,EAASriB,CAAT,KAAeA,CAAC,KAAK,CAAN,GAAW,MAAKqiB,MAAM,CAACjiB,IAAK,MAA5B,GAAoCiiB,MAAM,CAACjiB,IAA9E,EAAoF2K,IAApF,CAAyF,GAAzF,CAA8F,EADvF,GAEhB,0BAAyB9K,GAAI,MAHhC,EAIC,CAACs2H,OAAD,EAAUt2H,GAAV,KAAkB;AACjB,UAAMiK,KAAK,GAAGqkJ,UAAU,CAACtuJ,GAAD,CAAV,CAAgB,CAAhB,CAAd;AACA,QAAIiK,KAAJ,EAAWA,KAAK,CAACmY,MAAN,GAAX,KACK,OAAQ,GAAEpiB,GAAI,gCAAd;AACL,GARF;AAUA;;AAEM,SAASuuJ,YAAT,CAAsBljJ,GAAtB,EAA4C;AAClD,QAAM+W,MAAM,GAAGwrI,OAAO,CAACrsJ,GAAR,CAAY8J,GAAZ,CAAf;AACA,SAAO,CAAC,CAAC+W,MAAF,IAAYA,MAAM,CAAC4+E,OAA1B;AACA;AAGM,MAAMstD,wBAAU,GAAG,MAAM,CAAC/6B,qBAAA,CAAchyH,GAAd,CAAkB5D,oBAAM,CAAC2nH,QAAzB,KAAsC3nH,oBAAM,CAACkF,OAA9C,EAC9Buf,MAD8B,CACvBrd,KADuB,CACjB/C,GADiB,CACb,CAAC,CAACqJ,GAAD,GAAQlL,IAAR,CAAD,MAAoB;AAAEkL,KAAF;AAAOlL;AAAP,CAApB,CADa,CAAzB,C;;;;;;;ACvKP;AAKA;AAGO,MAAMquJ,aAAN,CAAa;AAiBnBptJ,aAAW,CAACoJ,EAAD,EAAQikJ,QAAR,EAAqB3rJ,IAArB,EAA8B05H,UAAa,GAAG,IAA9C,EAAoD/hH,KAAQ,GAAG,IAA/D,EAAqEi0I,OAAU,GAAG,EAAlF,EAAsF;AAAA,SAhBjGlkJ,EAgBiG;AAAA,SAfjG1H,IAeiG;AAAA,SAdjGkO,MAciG;AAAA,SAZjG29I,aAYiG;AAAA,SAVjGF,QAUiG;AAAA,SATjGG,IASiG;AAAA,SARjGn0I,KAQiG;AAAA,SANjGwkB,MAMiG,GAN/E,KAM+E;AAAA,SAJjG4T,OAIiG;AAAA,SAFjG67G,OAEiG,GAF3D,EAE2D;;AAAA,SAuEjG9sD,OAvEiG,GAuEtF9T,KAAD,IAAmB;AAC5B,UAAI,CAAC,KAAK98E,MAAV,EAAkB;AAClB,WAAK29I,aAAL,GAAqB,KAAK39I,MAAL,CAAY4wF,OAAZ,CAAoB,IAApB,EAA0B9T,KAAK,GAAG,CAACA,KAAD,CAAH,GAAavqF,SAA5C,CAArB;AACA,KA1EgG;;AAAA,SA0GjGsB,OA1GiG,GA0GvF0hF,SAAS,CAAC,WAAUuH,KAAV,EAAwB;AAC3C,UAAI;AACH,cAAMx9E,MAAM,GAAG,MAAM,KAAKs+I,IAAL,CAAU/xB,QAAV,CAAmB/uC,KAAnB,CAArB;AACA,eAAOx9E,MAAM,KAAK,IAAX,GAAkB,KAAlB,GAA0B,KAAKmK,KAAL,KAAe,CAACnK,MAAjD;AACA,OAHD,CAGE,OAAO1G,CAAP,EAAU;AAEX,eAAO,KAAP;AACA;AACD,KARkB,CA1G8E;AAChG,SAAKY,EAAL,GAAUA,EAAV;AACA,SAAKikJ,QAAL,GAAgBA,QAAhB;AACA,SAAK3rJ,IAAL,GAAYA,IAAZ;AACA,SAAK2X,KAAL,GAAaA,KAAb;AAEArc,UAAM,CAACyqE,MAAP,CAAc,KAAK6lF,OAAnB,EAA4B,iBAASA,OAAT,EAAkBpwD,OAAlB,CAA5B;AACA,SAAKuwD,OAAL,CAAaJ,QAAQ,CAAC7xB,cAAT,CAAwBJ,UAAxB,CAAb;AACA;;AAEDwsB,UAAQ,GAAG;AACV,WAAO,CAAC,CAAC,KAAK8F,UAAL,GAAkBztJ,MAApB,IAA8B,KAAKutJ,IAAL,CAAUhxB,aAAV,EAArC;AACA;;AAED19H,eAAa,GAAG,CAAE;;AAElB6uJ,WAAS,CAAC/9I,MAAD,EAAY;AACpB,SAAKA,MAAL,GAAcA,MAAd;AACA;;AAEDg+I,cAAY,CAACv0I,KAAc,GAAG,KAAKA,KAAvB,EAA8BkiH,KAAW,GAAG,KAAKiyB,IAAjD,EAA+D;AAC1E,WAAOn0I,KAAK,KAAK,KAAV,GACN,KAAK3X,IAAL,IAAa65H,KAAK,CAACc,QAAnB,IAA+B,CAAC,KAAKgxB,QAAL,CAActuJ,IAAd,IAAsB,KAAKsuJ,QAAL,CAAclvJ,IAArC,EAA2C6F,WAA3C,EADzB,GAEN,KAAKtC,IAAL,IAAc,KAAI,KAAKA,IAAK,EAA5B,IAAiC65H,KAAK,CAACe,SAAvC,IAAqD,KAAI,KAAKsxB,YAAL,CAAkB,IAAlB,EAAwBryB,KAAxB,CAA+B,EAFzF;AAGA;;AAEDsyB,eAAa,GAAG;AACf,UAAM/sI,MAA2B,GAAG;AAAE3iB,UAAI,EAAE,KAAKkvJ,QAAL,CAAclvJ,IAAtB;AAA4Bkb,WAAK,EAAE,KAAKA,KAAxC;AAA+Ci0I,aAAO,EAAE,KAAKA;AAA7D,KAApC;;AAEA,QAAI,KAAKD,QAAL,CAAczwB,OAAd,KAA0B,OAA9B,EAAuC;AACtC97G,YAAM,CAACs6G,UAAP,GAAoB,KAAKoyB,IAAL,CAAUpyB,UAA9B;;AAEA,UAAI,KAAK15H,IAAL,IAAa,KAAKA,IAAL,KAAc,KAAK8rJ,IAAL,CAAUnxB,QAAzC,EAAmD;AAClDv7G,cAAM,CAACpf,IAAP,GAAc,KAAKA,IAAnB;AACA;AACD;;AAED,WAAOof,MAAP;AACA;;AAED7I,QAAM,GAAG;AACR,SAAK,MAAM61I,MAAX,IAAqB9wJ,MAAM,CAAC+M,IAAP,CAAY,KAAKujJ,OAAjB,CAArB,EAAgD,KAAKA,OAAL,CAAaQ,MAAb,IAAuB,KAAvB;;AAChD,QAAI,KAAKl+I,MAAT,EAAiB,KAAKA,MAAL,CAAYm+I,YAAZ,CAAyB,IAAzB;AACjB;;AAEDL,YAAU,GAAkB;AAC3B,WAAO1wJ,MAAM,CAAC0uE,OAAP,CAAe,KAAK4hF,OAApB,EAA6BlhJ,MAA7B,CAAoC,CAAC,GAAGwzF,OAAH,CAAD,KAAiBA,OAArD,EAA8Dh/F,GAA9D,CAAkE,CAAC,CAACc,IAAD,CAAD,KAAYA,IAA9E,CAAP;AACA;;AAED+rJ,SAAO,CAACO,OAAD,EAAgB;AACtB,SAAKR,IAAL,GAAYQ,OAAZ;AACA,SAAKnwH,MAAL,GAAc,KAAK+pH,QAAL,EAAd;AACA,QAAI,KAAK/pH,MAAT,EAAiB,KAAK2vH,IAAL,CAAUz4E,OAAV,CAAkB,IAAlB;AACjB;;AAEDiR,QAAM,CAAC3sE,KAAc,GAAG,KAAKA,KAAvB,EAA8B+hH,UAA9B,EAA8CkyB,OAAU,GAAG,EAA3D,EAA+DW,YAAqB,GAAG,KAAvF,EAA8F;AACnG,UAAM1yB,KAAK,GAAGH,UAAU,KAAKj5H,SAAf,GAA2B,KAAKqrJ,IAAhC,GAAuC,KAAKH,QAAL,CAAc7xB,cAAd,CAA6BJ,UAA7B,EAAyC,IAAzC,CAArD;AACA,QAAI,CAACG,KAAK,CAACrvF,OAAN,EAAL,EAAsB,MAAM,IAAIvvC,KAAJ,CAAU,oBAAV,CAAN;;AAEtB,QAAIsxJ,YAAJ,EAAkB;AACjB,aAAQ,kCAAiC,KAAKL,YAAL,CAAkBv0I,KAAlB,EAAyBkiH,KAAzB,CAAgC,GAAzE;AACA;;AAED,SAAKliH,KAAL,GAAaA,KAAb;AACArc,UAAM,CAACyqE,MAAP,CAAc,KAAK6lF,OAAnB,EAA4BA,OAA5B;AACA,SAAKG,OAAL,CAAalyB,KAAb;AAEA,SAAK/6B,OAAL;AACA,QAAI,KAAK5wF,MAAT,EAAiB,KAAKA,MAAL,CAAY6qG,IAAZ;AACjB;;AAOD,QAAMyzC,yBAAN,CAAgC;AAC/BxyB,aAD+B;AAE/ByyB,iBAF+B;AAG/BC,iBAH+B;AAI/BC;AAJ+B,GAAhC,EAUGJ,YAAsB,GAAG,KAV5B,EAUqD;AACpD,QAAIE,aAAJ,EAAmB;AAClB,UAAIF,YAAJ,EAAkB,OAAO,gBAAP;AAClB,aAAO,KAAKjoE,MAAL,CAAY7jF,SAAZ,EAAuBA,SAAvB,EAAkC;AAAE4e,YAAI,EAAE;AAAR,OAAlC,CAAP;AACA;;AAED,QAAI1H,KAAJ,EAAW+hH,UAAX;;AAEA,QAAIizB,YAAJ,EAAkB;AACjB,OAAC;AAAEh1I,aAAF;AAAS+hH;AAAT,UAAwB,MAAM,KAAKiyB,QAAL,CAAcnyB,qBAAd,EAA/B;AACA,KAFD,MAEO;AACN,UAAIQ,SAAJ,EAAeN,UAAU,GAAG,KAAKiyB,QAAL,CAAc/xB,qBAAd,CAAoCI,SAApC,CAAb;AACfriH,WAAK,GAAG,KAAKA,KAAb;AACA;;AAED,QAAI+0I,aAAJ,EAAmB/0I,KAAK,GAAG,CAACA,KAAT;AAEnB,WAAO,KAAK2sE,MAAL,CAAY3sE,KAAZ,EAAmB+hH,UAAnB,EAA+B;AAAEr6G,UAAI,EAAE;AAAR,KAA/B,EAA+CktI,YAA/C,CAAP;AACA;;AAYDK,kBAAgB,CAAC5hE,KAAD,EAAe;AAC9B,WAAO,KAAK8gE,IAAL,CAAUpyB,UAAjB;AACA;;AAEDmzB,aAAW,CAAC3iF,KAAD,EAAWkiF,MAAX,EAA2B;AACrC,SAAK9nE,MAAL,CAAY7jF,SAAZ,EAAuBA,SAAvB,EAAkC;AAAE,OAAC2rJ,MAAD,GAAU;AAAZ,KAAlC;AACA;;AAED,QAAMU,kBAAN,CAAyB9hE,KAAzB,EAAuCohE,MAAvC,EAAuD;AACtD,UAAMliF,KAAK,GAAG,MAAM,KAAK0iF,gBAAL,CAAsB5hE,KAAtB,CAApB;AACA,UAAMj7C,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK;gEACkC/M,IAAI,CAACslE,SAAL,CAAe5X,KAAf,EAAsB,IAAtB,EAA4B,IAA5B,CAAkC;MAC5FkiF,MAAO,KAAI,KAAKF,YAAL,CAAkB,CAAC,KAAKv0I,KAAxB,CAA+B;;GAF9C;AAKAo4B,WAAO,CAAC3lC,gBAAR,CAAyB,OAAzB,EAAkC,MAAM;AAAE,WAAKyiJ,WAAL,CAAiB3iF,KAAjB,EAAwBkiF,MAAxB;AAAkC,KAA5E;AACA,WAAOr8G,OAAP;AACA;;AAtJkB,C;;ACVpB;AACA;AACA;AACA;AACA;AAEO,MAAMg9G,6BAAN,SAA6BrB,aAA7B,CAAoC;AAAA;AAAA;AAAA,SAC1CsB,aAD0C,GACF,CAAC,MAAD,CADE;AAAA;;AAG1C9G,UAAQ,GAAG;AAEV,WAAO,KAAK4F,IAAL,CAAUxtJ,WAAV,CAAsB7B,IAAtB,KAA+B,OAA/B,IAA0C,MAAMypJ,QAAN,EAAjD;AACA;;AAED9oJ,eAAa,GAAG;AACf,SAAK2yC,OAAL,GAAev0B,sBAAM,CAAC+N,IAAK;uDAC0B,KAAKoiI,QAAL,CAAclvJ,IAAK;WAC/D,KAAKuD,IAAL,IAAa,KAAK2rJ,QAAL,CAAclvJ,IAAK;;GAFzC;;AAMA,QAAIwwJ,kBAAA,CAAmBltJ,OAAnB,CAA2BhE,cAA3B,CAA0C,KAAK4vJ,QAAL,CAAclvJ,IAAxD,CAAJ,EAAmE;AAClE,WAAKszC,OAAL,CAAa7lB,OAAb,CAAqB1O,sBAAM,CAAC+N,IAAK,GAAE/N,sBAAM,CAACugE,IAAP,CAClCo5C,eAAA,CAAmC83B,kBAAA,CAAmBzqC,QAAtD,EAAgE,KAAKmpC,QAAL,CAAclvJ,IAA9E,EAAoF,GAApF,EAAyF,UAAzF,CADkC,CAEjC,EAFF;AAGA;;AAED,UAAMywJ,SAAS,GAAG/wH,MAAM,IAAI;AAC3B,YAAMyvH,OAAO,GAAG,KAAKoB,aAAL,CACd91E,MADc,CACP,CAACuR,GAAD,EAAMvrF,GAAN,KAAc;AAAEurF,WAAG,CAACvrF,GAAD,CAAH,GAAWi/B,MAAX;AAAmB,eAAOssD,GAAP;AAAa,OADzC,EAC2C,EAD3C,CAAhB;AAEA,WAAKnE,MAAL,CAAY7jF,SAAZ,EAAuBA,SAAvB,EAAkCmrJ,OAAlC;AACA,KAJD;;AAMA,QAAIzxB,QAAA,CAAe,KAAK2xB,IAAL,CAAUxtJ,WAAV,CAAsB7B,IAArC,CAAJ,EAAgD;AAC/C,YAAMimB,CAAC,GAAGmwE,6BAAa,CAACmL,YAAd,CAA2BkvD,SAA3B,EAAsC,IAAtC,EAA4C,KAAKhH,QAAL,EAA5C,EAA6D,EAA7D,EAAiE,EAAjE,CAAV;AACA,WAAKn2G,OAAL,CAAatyC,WAAb,CAAyBilB,CAAzB;AACA;AACD;;AA/ByC,C;;;;ACL3C;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMyqI,qBAAN,SAAyBzB,aAAzB,CAAgC;AAGtCptJ,aAAW,CAACoJ,EAAD,EAAQikJ,QAAR,EAAqB3rJ,IAArB,EAA8B05H,WAAa,GAAG,IAA9C,EAAoD/hH,KAAQ,GAAG,IAA/D,EAAqEi0I,OAAU,GAAG,EAAlF,EAAsF;AAChG,QAAID,QAAQ,CAACzwB,OAAT,KAAqB,UAAzB,EAAqC;AACpC,YAAMkyB,UAAU,GAAGzB,QAAQ,CAACjxB,aAAT,IAA0BixB,QAAQ,CAACjxB,aAAT,CAAuBloG,IAApE;;AACA,UAAI46H,UAAJ,EAAgB;AACf,YAAI,CAACptJ,IAAL,EAAW,CAAC;AAAEA;AAAF,YAAWotJ,UAAZ;;AAEX,YAAI,CAACxB,OAAO,CAAC7vJ,cAAR,CAAuB,WAAvB,CAAL,EAA0C;AACzC,gBAAM;AAAEsxJ;AAAF,cAAgBD,UAAtB;AACA9xJ,gBAAM,CAACyqE,MAAP,CAAc6lF,OAAd,EAAuB;AAAEyB;AAAF,WAAvB;AACA;AACD;AACD;;AAED,UAAM3lJ,EAAN,EAAUikJ,QAAV,EAAoB3rJ,IAApB,EAA0B05H,WAA1B,EAAsC/hH,KAAtC,EAA6Ci0I,OAA7C;AAbgG,SAFjG0B,iBAEiG;AAAA,SA6EjGC,UA7EiG,GA6EpF,kBAAU,CAACC,UAAD,EAAaC,IAAb,KAAsB;AAC5C,YAAMC,YAAY,GAAGvzB,YAAA,CAAmBqzB,UAAU,CAACG,SAA9B,CAArB;AAEA,UAAIC,cAAc,GAAG,KAAK9B,IAAL,CAAUpyB,UAA/B;;AAEA,UAAI,KAAKiyB,QAAL,CAAczwB,OAAd,KAA0B,UAA9B,EAA0C;AACzC5/H,cAAM,CAACyqE,MAAP,CAAc2nF,YAAd,EAA4BvzB,YAAA,CAAmB,QAAnB,CAA5B;AAGAyzB,sBAAc,GAAG,KAAKjC,QAAL,CAAclxB,eAAd,GAAgCx7G,IAAjD;AACA;;AAED,UAAI,CAAC,KAAKquI,iBAAV,EAA6B,KAAKA,iBAAL,GAAyBM,cAAzB;AAE7B,YAAMC,aAAa,GAAGC,2BAAW,CAACjqC,gBAAZ,CAA6B+pC,cAA7B,EAA6CF,YAA7C,EAA2D,KAA3D,CAAtB;AACAG,mBAAa,CAAC5rI,EAAd,CAAiB,cAAjB,EAAiC2gE,aAAa,CAAC,MAAM;AACpD,cAAM82C,UAAU,GAAGo0B,2BAAW,CAAC7pC,gBAAZ,CAA6B4pC,aAA7B,EAA4CH,YAA5C,CAAnB;;AACA,YAAI,CAAC,kBAAUE,cAAV,EAA0Bl0B,UAA1B,CAAL,EAA4C;AAC3Ck0B,wBAAc,GAAGl0B,UAAjB;AACA,eAAKp1C,MAAL,CAAY7jF,SAAZ,EAAuBi5H,UAAvB;AAEA,gBAAMq0B,SAAS,GAAGF,aAAa,CAACpvJ,GAAd,CAAkB,CAAlB,EAAqB6E,QAArB,CAA8BvI,QAAQ,CAACkU,aAAvC,KAAyDlU,QAAQ,CAACkU,aAApF;AACA,cAAI8+I,SAAJ,EAAeN,IAAI,CAAC3uD,OAAL,GAAevnF,IAAf,CAAoB,MAAMw2I,SAAS,CAAClmI,KAAV,EAA1B;AACf;AACD,OAT6C,CAA9C;AAWAsgF,uBAAQ,CAACr4C,MAAT,CAAgB+9F,aAAa,CAACpvJ,GAAd,CAAkB,CAAlB,CAAhB,EAAsC;AAAEukB,cAAM,EAAE;AAAV,OAAtC;AAEA,aAAO;AACN,YAAIgrI,OAAJ,GAAc;AAAE,iBAAOH,aAAa,CAACpvJ,GAAd,CAAkB,CAAlB,CAAP;AAA8B,SADxC;;AAENwvJ,qBAAa,EAAE,MAAM,CAAC,kBAAU,KAAKX,iBAAf,EAAkCM,cAAlC;AAFhB,OAAP;AAIA,KAhCY,CA7EoF;AAchG;;AAEDtpE,QAAM,CAAC3sE,KAAQ,GAAG,KAAKA,KAAjB,EAAwB+hH,UAAxB,EAAwCkyB,OAAxC,EAAoDW,YAApD,EAAqE;AAC1E,QAAI,KAAKZ,QAAL,CAAczwB,OAAd,KAA0B,UAA1B,IAAwCxB,UAAxC,IAAsD,CAAC6yB,YAA3D,EAAyE;AACxEU,wBAAA,CAA+B,KAAKtB,QAAL,CAAclxB,eAAd,EAA/B,EAAgE;AAAEx7G,YAAI,EAAEy6G;AAAR,OAAhE;AACAA,gBAAU,GAAG,IAAb;AACA;;AAED,UAAMx/G,OAAO,GAAG,MAAMoqE,MAAN,CAAa3sE,KAAb,EAAoB+hH,UAApB,EAAgCkyB,OAAhC,EAAyCW,YAAzC,CAAhB;AACA,QAAI,KAAKx8G,OAAT,EAAkB,KAAKm+G,cAAL;AAClB,WAAOh0I,OAAP;AACA;;AAED+xI,WAAS,CAAC/9I,MAAD,EAAY;AACpB,UAAM+9I,SAAN,CAAgB/9I,MAAhB;AACA,SAAKq/I,UAAL,CAAgBjlJ,KAAhB,CAAsB2hE,KAAtB;AACA;;AAED7sE,eAAa,GAAG;AACf,SAAK2yC,OAAL,GAAev0B,sBAAM,CAAC+N,IAAK,4CAA2C,KAAKoiI,QAAL,CAAclvJ,IAAK,UAAzF;AACA,SAAKyxJ,cAAL;AAEA,SAAKn+G,OAAL,CAAa3lC,gBAAb,CAA8B,OAA9B,EAAuC,MAAM;AAC5C,UAAI,CAAC,KAAKwhJ,OAAL,CAAavsI,IAAlB,EAAwB,KAAKilE,MAAL,CAAY7jF,SAAZ,EAAuBA,SAAvB,EAAkC;AAAE4e,YAAI,EAAE;AAAR,OAAlC,EAAxB,KACK,IAAI,KAAK1H,KAAT,EAAgB,KAAK2sE,MAAL,CAAY,KAAZ,EAAmB7jF,SAAnB,EAA8B;AAAE4e,YAAI,EAAE;AAAR,OAA9B,EAAhB,KACA,KAAKilE,MAAL,CAAY,IAAZ,EAAkB7jF,SAAlB,EAA6B;AAAE4e,YAAI,EAAE;AAAR,OAA7B;AACL,KAJD;AAMA,SAAK0wB,OAAL,CAAa3lC,gBAAb,CAA8B,aAA9B,EAA8CtD,CAAD,IAAc;AAC1D,UAAI,KAAK8kJ,OAAL,CAAavsI,IAAjB,EAAuB,KAAKilE,MAAL,CAAY7jF,SAAZ,EAAuBA,SAAvB,EAAkC;AAAE4e,YAAI,EAAE;AAAR,OAAlC,EAAvB,KACK,KAAK9I,MAAL;AACLzP,OAAC,CAACsd,cAAF;AACA,KAJD;AAMA,SAAK2rB,OAAL,CAAa3lC,gBAAb,CAA8B,YAA9B,EAA4C,YAAY;AAGvD,YAAM,IAAIsoE,OAAJ,CAAYyD,GAAG,IAAI98D,UAAU,CAAC88D,GAAD,EAAM,GAAN,CAA7B,CAAN;AACA,UAAI,KAAKpmC,OAAL,CAAahuC,OAAb,CAAqB,QAArB,CAAJ,EAAoC,KAAKosJ,YAAL;AACpC,KALD;AAOA,SAAKp+G,OAAL,CAAa3lC,gBAAb,CAA8B,OAA9B,EAAuC,MAAMwkH,QAAA,CAAe,mBAAf,EAAoC2C,cAApC,EAA7C;AACA,SAAKxhF,OAAL,CAAa3lC,gBAAb,CAA8B,aAA9B,EAA6C,MAAMwkH,QAAA,CAAe,mBAAf,EAAoC2C,cAApC,EAAnD;AACA;;AAED48B,cAAY,CAACC,WAAoB,GAAG,KAAxB,EAA+B;AAC1C,UAAMX,IAAI,GAAG7+B,QAAA,CAAe,mBAAf,CAAb;AACA,QAAI6+B,IAAI,CAAC/tH,OAAT,EAAkB0uH,WAAW,GAAG,IAAd;AAClBX,QAAI,CACFrtJ,MADF,CACS,KAAK2vC,OADd,EAEEhwC,OAFF,CAEU;AAAE+rB,WAAK,EAAE,GAAT;AAAcyiG,eAAS,EAAE6/B,WAAW,GAAG,CAAH,GAAO,GAA3C;AAAgD/+B,SAAG,EAAET,GAAA,CAAU/5C;AAA/D,KAFV,EAGE67C,YAHF,CAGe,KAAK29B,aAAL,CAAmBv6H,IAAnB,CAAwB,IAAxB,CAHf,EAIEg9F,KAJF;AAKA;;AAEDo9B,gBAAc,GAAG;AAChB,SAAKn+G,OAAL,CAAaxyC,YAAb,CAA0B,MAA1B,EAAkC,KAAK2uJ,YAAL,EAAlC;AAEA,SAAKn8G,OAAL,CAAawrC,SAAb,CAAuBj8D,MAAvB,CAA8B,gCAA9B,EAAgE,KAAKqsI,QAAL,CAAczwB,OAAd,KAA0B,OAA1B,IAAqC,CAAC,KAAK4wB,IAAL,CAAUhxB,aAAV,EAAtG;AACA,SAAK/qF,OAAL,CAAawrC,SAAb,CAAuBj8D,MAAvB,CAA8B,8BAA9B,EAA8D,KAAKwsI,IAAL,CAAUhxB,aAAV,MAA6B,CAAC,CAAC,KAAK8wB,OAAL,CAAavsI,IAA1G;AACA;;AAqCDgvI,eAAa,CAACZ,IAAD,EAAU;AACtB,UAAM;AAAEv/I,YAAM,EAAEs/I;AAAV,QAAyB,IAA/B;AACA,QAAI,CAACA,UAAL,EAAiB,MAAM,IAAIvyJ,KAAJ,CAAU,qBAAV,CAAN;;AAEjB,UAAMqzJ,MAAM,GAAG,MAAM;AACpB,WAAKf,UAAL,CAAgBjlJ,KAAhB,CAAsB2hE,KAAtB;AACAwjF,UAAI,CAAC3uD,OAAL;AACA,KAHD;;AAKA,UAAMthG,IAAI,GAAGge,sBAAM,CAAC+N,IAAK;;mBAER,KAAKoiI,QAAL,CAActuJ,IAAK;;;;;GAFpC;AASA,UAAM4hB,IAAI,GAAGzD,sBAAM,CAAC+N,IAAK;;;0FAG+D,KAAK5R,KAAL,GAAa,MAAb,GAAsB,EAAG;;sDAGlH,KAAKg0I,QAAL,CAAczwB,OAAd,KAA0B,UAA1B,IAAwC,iJAAkJ;;;;;;;GANzL;AAeA,UAAM;AAAE8yB,aAAF;AAAWC;AAAX,QAA6B,KAAKV,UAAL,CAAgBC,UAAhB,EAA4BC,IAA5B,CAAnC;AACAxuI,QAAI,CAACy0D,aAAL,CAAmB,cAAnB,EAAmCj2E,WAAnC,CAA+CuwJ,OAA/C;AAGA30I,cAAU,CAAC,MAAM;AAChB,UAAI,CAAC20I,OAAO,CAAC1qJ,QAAR,CAAiBvI,QAAQ,CAACkU,aAA1B,CAAL,EAA+C;AAE9C,cAAMnI,CAAC,GAAG,CAAC,GAAGknJ,OAAO,CAAC9lJ,gBAAR,CAAyB,OAAzB,CAAJ,EAAuC,GAAG8lJ,OAAO,CAAC9lJ,gBAAR,CAAyB,QAAzB,CAA1C,EACR0C,IADQ,CACH9D,CAAC,IAAIA,CAAC,CAACi8B,YADJ,CAAV;AAEA,YAAIj8B,CAAJ,EAAOA,CAAC,CAAC+gB,KAAF;AACP;AACD,KAPS,CAAV;;AASA,QAAI2lI,UAAU,CAACG,SAAX,KAAyB,SAA7B,EAAwC;AACvC,YAAM5tJ,OAAO,GAAGkf,IAAI,CAACy0D,aAAL,CAAmB,sCAAnB,CAAhB;AACA,YAAM25E,SAAS,GAAG7xI,sBAAM,CAAC+N,IAAK,wGAAuG,KAAKqiI,OAAL,CAAayB,SAAb,IAA0B,SAAU,6BAAzK;AACAttJ,aAAO,CAACkqB,MAAR,CAAeojI,SAAf;AACA76E,kBAAY,CAAC66E,SAAD,EAAY,QAAZ,CAAZ,CAAkC91I,IAAlC,CAAuC,MAAM;AAC5C,aAAKq0I,OAAL,CAAayB,SAAb,GAAyB/6E,QAAQ,CAAC+6E,SAAS,CAAC35E,aAAV,CAAwB,OAAxB,CAAD,EAAmCsJ,gBAAnC,CAAR,CAA6D3tE,OAAtF;AACA,aAAKyvF,OAAL;AACA,OAHD,EAGGvnF,IAHH,CAGQ+2I,MAHR;AAIA;;AAED,aAASC,SAAT,CAAmBnjI,SAAnB,EAA8B/tB,IAA9B,EAAoCmxJ,SAApC,EAA+CnsF,MAA/C,EAAuD;AACtD,YAAM59C,MAAM,GAAGjJ,sBAAM,CAAC+N,IAAK,8DAA6D84C,MAAO,KAAIhlE,IAAK,WAAxG;AACA,YAAM61D,KAAK,GAAGof,QAAQ,CAAClnD,SAAS,CAACsoD,aAAV,CAAyB,UAAS86E,SAAU,GAA5C,CAAD,EAAkD5uF,WAAlD,CAAtB;AACA1M,WAAK,CAACvhC,MAAN,GAAe,KAAf;AACA,YAAM3K,OAAO,GAAGsrD,QAAQ,CAACpf,KAAK,CAACwgB,aAAN,CAAoB,sCAApB,CAAD,EAA8D9T,WAA9D,CAAxB;AACA54C,aAAO,CAACvpB,WAAR,CAAoBgnB,MAApB;AACA,aAAO+tD,YAAY,CAAC/tD,MAAD,EAAS,OAAT,CAAnB;AACA;;AAED,QAAI,KAAKknI,QAAL,CAAczwB,OAAd,KAA0B,OAA1B,IAAqC,KAAKywB,QAAL,KAAkBxxB,WAA3D,EAAwE;AACvEo0B,eAAS,CAAC/wJ,IAAD,EAAO,cAAP,EAAuB,cAAvB,EAAuC,aAAvC,CAAT,CAA+D+Z,IAA/D,CAAoE,MAAM;AACzE,cAAMmiH,UAAU,GAAGS,QAAA,CAAe,KAAf,EAAsB,CACxCA,mBAAA,CAAoB,iBAApB,CADwC,EAExCA,QAAA,CAAe,KAAKxiH,KAAL,GAAa,KAAb,GAAqB,MAApC,EAA4C,CAAC,KAAKm0I,IAAL,CAAUpyB,UAAX,CAA5C,CAFwC,CAAtB,CAAnB;AAKA,YAAI,CAAC,KAAK15H,IAAV,EAAgB,KAAKA,IAAL,GAAY9E,MAAM,CAACioH,MAAP,CAAc,cAAd,CAAZ;AAEhB,aAAKwoC,QAAL,GAAgBsB,eAAA,CACfA,eAAA,CAA4B;AAC3BhuI,cAAI,EAAEk7G,YAAA,CAAmBT,UAAnB,EAA+B,KAA/B,EAAsC,IAAtC,CADqB;AAE3BlnG,cAAI,EAAE;AACLi8H,oBAAQ,EAAE,IADL;AAELzuJ,gBAAI,EAAE,KAAKA;AAFN;AAFqB,SAA5B,CADe,CAAhB;AAUA,aAAKskF,MAAL,CAAY,IAAZ,EAAkB,IAAlB;AACA,OAnBD,EAmBG/sE,IAnBH,CAmBQ+2I,MAnBR;AAoBA;;AAED,QAAIL,aAAa,EAAjB,EAAqB;AACpBM,eAAS,CAAC/wJ,IAAD,EAAO,cAAP,EAAuB,cAAvB,EAAuC,OAAvC,CAAT,CAAyD+Z,IAAzD,CAA8D,MAAM;AACnE,aAAK+sE,MAAL,CAAY7jF,SAAZ,EAAuB,KAAK6sJ,iBAA5B;AACA,OAFD,EAEG/1I,IAFH,CAEQ+2I,MAFR;AAGA;;AAED,QAAI,KAAK3C,QAAL,CAAczwB,OAAd,KAA0B,UAA1B,IAAwC,KAAKywB,QAAL,KAAkBxxB,WAA9D,EAA2E;AAC1Eo0B,eAAS,CAAC/wJ,IAAD,EAAO,QAAP,EAAiB,cAAjB,EAAiC,QAAjC,CAAT,CAAoD+Z,IAApD,CAAyD,MAAM;AAC9D,cAAMvX,IAAI,GAAG9E,MAAM,CAACioH,MAAP,CAAc,kBAAd,EAAkC,KAAK2oC,IAAL,CAAUnxB,QAA5C,CAAb;AACA,YAAI,CAAC36H,IAAL,EAAW;;AAEX,YAAI,KAAK2rJ,QAAL,CAAczwB,OAAd,KAA0B,UAA9B,EAA0C;AACzC,gBAAMwzB,YAAY,GAAG,KAAK/C,QAAL,CAAclxB,eAAd,EAArB;AACAwyB,4BAAA,CAA+ByB,YAA/B,EAA6C;AAAEl8H,gBAAI,EAAE;AAAExyB;AAAF;AAAR,WAA7C;AACA;;AAED,aAAKA,IAAL,GAAYA,IAAZ;AACA,aAAKskF,MAAL;AACA,OAXD,EAWG/sE,IAXH,CAWQ+2I,MAXR;AAYA;;AAEDC,aAAS,CAAC/wJ,IAAD,EAAO,QAAP,EAAiB,cAAjB,EAAiC,QAAjC,CAAT,CACE+Z,IADF,CACO,MAAM;AAAE,WAAK+sE,MAAL,CAAY,CAAC,KAAK3sE,KAAlB;AAA2B,KAD1C,EAEEJ,IAFF,CAEO+2I,MAFP;AAIAC,aAAS,CAAC/wJ,IAAD,EAAO,QAAP,EAAiB,cAAjB,EAAiC,QAAjC,CAAT,CACE+Z,IADF,CACO,MAAM;AAAE,WAAKhB,MAAL;AAAgB,KAD/B,EAEEgB,IAFF,CAEOk2I,IAAI,CAACvuD,KAAL,CAAWprE,IAAX,CAAgB25H,IAAhB,CAFP;AAIAc,aAAS,CAACtvI,IAAD,EAAO,KAAK2sI,OAAL,CAAavsI,IAAb,GAAoB,aAApB,GAAoC,MAA3C,EAAmD,eAAnD,EAAqE,QAAO,KAAKusI,OAAL,CAAavsI,IAAb,GAAoB,OAApB,GAA8B,MAAO,EAAjH,CAAT,CACE9H,IADF,CACO,MAAM;AAAE,WAAK+sE,MAAL,CAAY7jF,SAAZ,EAAuBA,SAAvB,EAAkC;AAAE4e,YAAI,EAAE,CAAC,KAAKusI,OAAL,CAAavsI;AAAtB,OAAlC;AAAkE,KADjF,EAEE9H,IAFF,CAEO+2I,MAFP;AAIAC,aAAS,CAACtvI,IAAD,EAAO,KAAK2sI,OAAL,CAAalkC,SAAb,GAAyB,qBAAzB,GAAiD,WAAxD,EAAqE,eAArE,EAAsF,WAAtF,CAAT,CAA4GnwG,IAA5G,CAAiH,MAAM;AACtH,WAAK+sE,MAAL,CAAY7jF,SAAZ,EAAuBA,SAAvB,EAAkC;AAAEinH,iBAAS,EAAE,CAAC,KAAKkkC,OAAL,CAAalkC;AAA3B,OAAlC;AACA,KAFD,EAEGnwG,IAFH,CAEQ+2I,MAFR;;AAIA,QAAIthC,SAAA,CAAkB2hC,gCAAlB,KAAuC,CAAC,KAAK/C,OAAL,CAAavsI,IAAzD,EAA+D;AAC9DkvI,eAAS,CAACtvI,IAAD,EAAO,aAAP,EAAsB,eAAtB,EAAuC,aAAvC,CAAT,CAA+D1H,IAA/D,CAAoE,MAAM;AACzEo3I,8BAAA,CAAwCx0B,QAAA,CAAe,KAAKxiH,KAAL,GAAa,MAAb,GAAsB,KAArC,EAA4C,CAAC,KAAKm0I,IAAL,CAAUpyB,UAAX,CAA5C,CAAxC;AACAi1B,mBAAA,CAA6B,QAA7B;AACAlB,YAAI,CAACvuD,KAAL;AACA,OAJD;AAKA;;AAED5V,eAAW,CAAC/oF,KAAK,CAACwsE,IAAN,CAAWygF,UAAU,CAACpjE,MAAtB,CAAD,EAAgC,MAAMY,KAAN,IAAe,MAAM,KAAKjpF,OAAL,CAAaipF,KAAb,CAArD,CAAX,CACEzzE,IADF,CACOxV,OAAO,IAAI;AAChB,YAAM6sJ,UAAU,GAAG3vI,IAAI,CAACy0D,aAAL,CAAmB,6CAAnB,CAAnB;AACAk7E,gBAAU,CAACjiJ,WAAX,GAAyB5G,MAAM,CAAChE,OAAO,CAACxD,MAAT,CAA/B;;AAEA,UAAIivJ,UAAU,CAACG,SAAX,KAAyB,MAAzB,IAAmC5rJ,OAAO,CAACxD,MAA/C,EAAuD;AACtDgwJ,iBAAS,CAACtvI,IAAD,EAAO,kBAAP,EAA2B,eAA3B,EAA4C,aAA5C,CAAT,CACE1H,IADF,CACO,MAAM;AAAEi2I,oBAAU,CAACqB,eAAX,CAA2B9sJ,OAA3B;AAAsC,SADrD;AAEA;AACD,KATF;AAWA,WAAO,CAACvE,IAAD,EAAOyhB,IAAP,CAAP;AACA;;AAnQqC,C;;;;;;;;;;;;ACjBvC;AAGA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAYO,MAAM6vI,qBAAN,CAAiB;AAsBvBxwJ,aAAW,CAACkoF,OAAD,EAAamnE,SAAb,EAA2B;AAAA,SArBtCvjE,MAqBsC,GArBjB,IAAI/V,GAAJ,EAqBiB;AAAA,SApBtCs5E,SAoBsC;AAAA,SAlBtCnnE,OAkBsC;AAAA,SAjBtCz2E,OAiBsC,GAjBlB,EAiBkB;AAAA,SAhBtCg/I,aAgBsC,GAhBZ,EAgBY;AAAA,SAdtCC,cAcsC,GAdoB,IAAI3wE,GAAJ,EAcpB;AAAA,SAZtC4wE,uBAYsC,GAZA,IAAI56E,GAAJ,EAYA;AAAA,SAXtC66E,cAWsC,GAXZ,KAWY;AAAA,SATtCn/G,OASsC;AAAA,SARtCo/G,QAQsC;AAAA,SAPtCC,QAOsC;AAAA,SANtCC,eAMsC;AAAA,SALtCC,cAKsC;AAAA,SAJtCC,uBAIsC;AAAA,SAFtCpjD,WAEsC,GAFf,KAEe;;AAAA,SA4BtCqjD,aA5BsC,GA4BtB,CAACC,OAAgB,GAAG,CAAC,KAAKC,SAAL,EAArB,KAA0C;AACzDh9D,iCAAW,CAACpzE,MAAZ,CAAmB,CAACmwI,OAApB,EAA6B,sBAA7B;AACA,WAAKH,cAAL,CAAoBjgJ,OAApB,GAA8BogJ,OAA9B;AACA,KA/BqC;;AAAA,SAmPtCE,eAnPsC,GAmPC,EAnPD;AAAA,SAyRtC52C,IAzRsC,GAyR/Br0B,YAAY,CAAC,YAAY;AAC/B,YAAM30E,OAAO,GAAG,KAAKA,OAAL,CAAamnE,MAAb,CAAoB,CAACuR,GAAD,EAAM5xE,CAAN,KAAY;AAC/C4xE,WAAG,CAAC5xE,CAAC,CAACnP,EAAH,CAAH,GAAYmP,CAAC,CAACs1I,aAAF,EAAZ;AACA,eAAO1jE,GAAP;AACA,OAHe,EAGb,EAAE,GAAG,KAAKknE;AAAV,OAHa,CAAhB;AAIA,YAAM,KAAKnpE,OAAL,CAAasB,UAAb,CAAwB,SAAxB,CAAN;AACA,YAAM,KAAKtB,OAAL,CAAaxyB,KAAb,CAAmB;AAAEjkD,eAAF;AAAW6/I,gBAAQ,EAAErsJ,IAAI,CAACyiB,GAAL;AAArB,OAAnB,CAAN;AACA,KAPkB,CAzRmB;AAAA,SA0btC6pI,gBA1bsC,GA4blC;AACHxC,eAAS,EAAE,CAACriE,KAAD,EAAQ7jF,KAAR,KAAkB;AAC5B6jF,aAAK,CAACj7C,OAAN,CAAcwrC,SAAd,CAAwBj8D,MAAxB,CAA+B,yBAA/B,EAA0D,CAAC,CAACnY,KAA5D;;AACA,aAAK2oJ,mBAAL;AACA,OAJE;AAKHpoC,eAAS,EAAE,CAAC18B,KAAD,EAAQ7jF,KAAR,KAAkB;AAC5B6jF,aAAK,CAAC9gB,KAAN,CAAYnsD,KAAZ,CAAkBgyI,eAAlB,GAAoC5oJ,KAAK,GAAG,0BAAH,GAAgC,EAAzE;AACA,OAPE;AAQHkY,UAAI,EAAE,CAAC2rE,KAAD,EAAQ7jF,KAAR,KAAkB;AACvB6jF,aAAK,CAACkB,aAAN,CAAoB/kF,KAApB;;AACA,aAAK2oJ,mBAAL;AACA,OAXE;AAYH/oH,iBAAW,EAAE,CAACikD,KAAD,EAAQ7jF,KAAR,KAAkB;AAC9B,iBAAS6oJ,kBAAT,GAA8B;AAC7BhlE,eAAK,CAACj7C,OAAN,CAAcwrC,SAAd,CAAwBhlE,MAAxB,CAA+B,2BAA/B;;AACA,eAAK,MAAMk8D,GAAX,IAAkBuY,KAAK,CAAC9gB,KAAN,CAAYhiE,gBAAZ,CAA6B,gCAA7B,CAAlB,EAAkFuqE,GAAG,CAACl8D,MAAJ;AAClF;;AAED,iBAAS05I,sBAAT,CAAgCx9E,GAAhC,EAAqC;AACpC,cAAI,CAACA,GAAL,EAAU;AACV,gBAAM1rC,WAAW,GAAGvrB,sBAAM,CAAC+N,IAAK;;YAAhC;AAGAkpD,aAAG,CAACpoD,KAAJ,CAAU0c,WAAV;AACAikD,eAAK,CAACj7C,OAAN,CAAcwrC,SAAd,CAAwBzmE,GAAxB,CAA4B,2BAA5B;AACA09D,sBAAY,CAACzrC,WAAD,EAAc,OAAd,CAAZ,CAAmCxvB,IAAnC,CAAwCy4I,kBAAxC;AACA;;AAED,YAAI7oJ,KAAJ,EAAW;AACV8oJ,gCAAsB,CAACjlE,KAAK,CAACqC,eAAN,EAAD,CAAtB;AACA4iE,gCAAsB,CAACjlE,KAAK,CAAC0C,WAAN,EAAD,CAAtB;AACA,SAHD,MAGO;AACNsiE,4BAAkB;AAClB;;AAED,aAAKF,mBAAL;AACA,OApCE;AAqCHtuB,cAAQ,EAAE,CAACx2C,KAAD,EAAQ7jF,KAAR,KAAkB;AAC3B6jF,aAAK,CAAC2F,kBAAN,CAAyB,CAAC,CAACxpF,KAA3B,EAAkC,YAAlC,EAAgD,IAAhD;;AACA,aAAK2oJ,mBAAL;AACA;AAxCE,KA5bkC;AAAA,SAuetCA,mBAvesC,GAuehBltE,aAAa,CAAC,MAAM;AACzC62C,mCAAa,CAAC36B,OAAd;AACA,WAAKoxD,eAAL;AACA,KAHkC,CAveG;AAAA,SAigBtCC,YAjgBsC,GAigBvBnsE,UAAU,CAACP,SAAS,CAAC,WAAUuH,KAAV,EAAwBolE,eAAxB,EAAkD;AACrF,UAAI,CAAC,KAAKpB,cAAL,CAAoBx6I,GAApB,CAAwBw2E,KAAxB,CAAL,EAAqC,KAAKgkE,cAAL,CAAoBjzI,GAApB,CAAwBivE,KAAxB,EAA+B,EAA/B;AACrC,YAAMgkE,cAAc,GAAG,KAAKA,cAAL,CAAoBvwJ,GAApB,CAAwBusF,KAAxB,CAAvB;AAEA,YAAMqlE,gBAAgB,GAAG/0J,MAAM,CAAC+M,IAAP,CAAY,KAAKwnJ,gBAAjB,CAAzB;;AAEA,YAAMS,aAAa,GAAG,gBAAQ,GAAGD,gBAAgB,CAACnxJ,GAAjB,CAAqBktJ,MAAM,IAAI,KAAKmE,gBAAL,CAAsBvB,cAAc,CAAC5C,MAAD,CAApC,EAA8CgE,eAA9C,CAA/B,CAAX,EAEpBxwJ,IAFoB,CAEf,CAACqE,CAAD,EAAIC,CAAJ,KAAU,KAAK6qJ,aAAL,CAAmBpzJ,OAAnB,CAA2BsI,CAA3B,IAAgC,KAAK8qJ,aAAL,CAAmBpzJ,OAAnB,CAA2BuI,CAA3B,CAF3B,CAAtB;;AAIA,uBAASmsJ,gBAAT,EAA2BjE,MAAM,IAEhCgE,eAAe,IAAI,CAACA,eAAe,CAACxE,OAAhB,CAAwB7vJ,cAAxB,CAAuCqwJ,MAAvC,CAApB,IAEA4C,cAAc,CAAC5C,MAAD,CAAd,IAA0B,CAACkE,aAAa,CAAC7zG,QAAd,CAAuBuyG,cAAc,CAAC5C,MAAD,CAArC,CAJ5B;;AAOA,YAAMoE,YAAY,GAAG,CAACpE,MAAD,EAAS1hJ,MAAT,KAAoB;AACxC,cAAMyT,GAAG,GAAG6wI,cAAc,CAAC5C,MAAD,CAA1B;AACA,YAAI1hJ,MAAM,IAAIyT,GAAd,EAAmB;AACnB6wI,sBAAc,CAAC5C,MAAD,CAAd,GAAyB1hJ,MAAzB;AACA,aAAKmlJ,gBAAL,CAAsBzD,MAAtB,EAA8BphE,KAA9B,EAAqCtgF,MAArC;AAEA,YAAI,KAAKwkJ,cAAT,EAAyB,KAAKuB,4BAAL,CAAkC,CAACzlE,KAAD,CAAlC;AACzB,OAPD;;AASA,WAAK,MAAMtgF,MAAX,IAAqB4lJ,aAAa,CAAC5lJ,MAAd,CAAqBmM,CAAC,IAAI,KAAK65I,gBAAL,GAAwBj0G,QAAxB,CAAiC5lC,CAAjC,CAA1B,CAArB,EAAqF;AACpF,cAAM+0I,OAAO,GAAGlhJ,MAAM,CAACshJ,UAAP,GAAoBthJ,MAApB,CAA2BmM,CAAC,IAAIw5I,gBAAgB,CAAC5zG,QAAjB,CAA0B5lC,CAA1B,CAAhC,CAAhB;;AACA,YAAI+0I,OAAO,CAACrtJ,MAAR,KAAmB,MAAMmM,MAAM,CAAC3I,OAAP,CAAeipF,KAAf,CAAzB,CAAJ,EAAqD;AACpD,eAAK,MAAMohE,MAAX,IAAqBR,OAArB,EAA8B4E,YAAY,CAACpE,MAAD,EAAS1hJ,MAAT,CAAZ;;AAC9B,yBAAO2lJ,gBAAP,EAAyB,GAAGzE,OAA5B;AACA;AACD;;AAED,WAAK,MAAMQ,MAAX,IAAqBiE,gBAArB,EAAuC;AACtCG,oBAAY,CAACpE,MAAD,EAAS,IAAT,CAAZ;AACA;AACD,KArCkC,CAAV,CAjgBa;;AAAA,SAujBtC8D,eAvjBsC,GAujBpB,CAAC,MAAM;AACxB,UAAIv4B,YAAJ;;AACA,YAAMR,gBAAgB,GAAG,mBAAW,MAAM;AACzC,cAAMvoB,IAAI,GAAGvqE,gBAAC,CAAC,KAAD,CAAD,CAAShnC,IAAT,CAAc2kF,IAAI,CAAC,kCAAD,CAAlB,CAAb;AACA,cAAM1iE,MAAM,GAAG+kB,gBAAC,CAAC,UAAD,CAAD,CAAchnC,IAAd,CAAmB2kF,IAAI,CAAC,8CAAD,CAAvB,EACb98D,KADa,CACP,MAAM;AAAE,eAAKyrI,oBAAL;AAA8B,SAD/B,CAAf;AAGAh5B,oBAAY,GAAG0B,8BAAA,CAA+B;AAC7C7W,kBAAQ,EAAEyqC,kBAAA,CAAmBzqC,QADgB;AAE7C6U,wBAAc,EAAE,kBAF6B;AAG7CC,gBAAM,EAAEt1C,IAAI,CAAC,oCAAD,CAHiC;AAI7C9nE,iBAAO,EAAEmqB,gBAAC,CAAC,OAAD,CAAD,CAAWpa,MAAX,CAAkB2kF,IAAlB,EAAwB3kF,MAAxB,CAA+B3K,MAA/B,EAAuC7gB,GAAvC,CAA2C,CAA3C,CAJoC;AAK7Cm4H,oBAAU,EAAEhmD;AALiC,SAA/B,CAAf;AAOA,OAZwB,EAYtB,IAZsB,CAAzB;;AAcA,aAAO,MAAM;AACZ,YAAIrwE,KAAK,CAACwsE,IAAN,CAAW,KAAKqd,MAAhB,EAAwBzQ,IAAxB,CAA6B9iE,CAAC,IAAIA,CAAC,CAAC40E,SAAF,EAAlC,CAAJ,EAAsD;AACrD0rC,0BAAgB,CAAC5wF,MAAjB;AACA,cAAIoxF,YAAJ,EAAkBA,YAAY,CAACz4B,KAAb;AAClB,SAHD,MAGO,IAAI,CAAC,KAAKgwD,cAAN,IAAwB3uJ,KAAK,CAACwsE,IAAN,CAAW,KAAKiiF,cAAL,CAAoB5vI,MAApB,EAAX,EAAyCu6D,IAAzC,CAA8C9iE,CAAC,IAAIA,CAAC,CAACwI,IAArD,CAA5B,EAAiK;AACvK83G,4BAAgB;AAChB;AACD,OAPD;AAQA,KAxBiB,GAvjBoB;;AAAA,SAulBtCs5B,4BAvlBsC,GAulBP/tE,cAAc,CAAC,KAAKkuE,qBAAL,CAA2B98H,IAA3B,CAAgC,IAAhC,CAAD,CAvlBP;AACrC,SAAK0yD,OAAL,GAAeA,OAAf;AACA,SAAKmnE,SAAL,GAAiBA,SAAjB;AACA;;AAGDkD,eAAa,GAAY;AACxB,QAAI,KAAK1kD,WAAT,EAAsB,OAAO,IAAP;AAEtB,QAAI,CAAC,KAAK/hB,MAAL,CAAYv7C,IAAb,IAAqB,CAAC,KAAK6hH,gBAAL,GAAwBnyJ,MAAlD,EAA0D,OAAO,KAAP;AAE1D,SAAK4tG,WAAL,GAAmB,IAAnB;AAGA,SAAK4iD,aAAL,GAAqB,iBAAS,KAAKh/I,OAAd,EAAuB,CAAC;AAAE+7I,UAAI,EAAE;AAAExtJ,mBAAW,EAAE;AAAE+2B;AAAF;AAAf;AAAR,KAAD,KAAyCA,IAAhE,CAArB;;AAEA,QAAI,KAAKs4H,SAAL,KAAmB,MAAvB,EAA+B;AAG9B,aAAO,KAAKkC,gBAAL,CAAsBruB,QAA7B;AACA,aAAO,KAAKquB,gBAAL,CAAsBxC,SAA7B;AACA;;AAED,WAAO,IAAP;AACA;;AAEDqC,WAAS,GAAG;AAAE,WAAO,CAAC30J,QAAQ,CAACgP,eAAT,CAAyBwxE,SAAzB,CAAmCj4E,QAAnC,CAA4C,sBAA5C,CAAR;AAA8E;;AAO5FlG,eAAa,GAAG;AACf,UAAM2yC,OAAO,GAAG,KAAKA,OAAL,GAAev0B,sBAAM,CAAC+N,IAAK;;;;8BAIf,KAAKmmI,SAAL,MAAoB,SAAU;;;GAJ1D;AAQA,SAAKN,QAAL,GAAgBr/G,OAAO,CAAC2jC,aAAR,CAAsB,0BAAtB,CAAhB;AACA,SAAK27E,eAAL,GAAuBt/G,OAAO,CAAC2jC,aAAR,CAAsB,yBAAtB,CAAvB;AAEA,SAAKo9E,iBAAL,CAAuB,KAAK/gJ,OAA5B;AAEAyiE,gBAAY,CAAC,KAAK48E,QAAN,EAAgB,YAAhB,EAA8B,OAA9B,CAAZ,CAAmD73I,IAAnD,CAAwD,MAAM,KAAKw5I,cAAL,EAA9D;AAEA,SAAKzB,cAAL,GAAsBh9E,QAAQ,CAACviC,OAAO,CAAC2jC,aAAR,CAAsB,gCAAtB,CAAD,EAA0DsJ,gBAA1D,CAA9B;AACA,SAAKsyE,cAAL,CAAoBllJ,gBAApB,CAAqC,QAArC,EAA+C,MAAM;AAAE,WAAKolJ,aAAL;AAAuB,KAA9E;AACA;;AAEDsB,mBAAiB,CAAC/gJ,OAAD,EAAoB;AACpC,SAAK,MAAMrF,MAAX,IAAqBqF,OAArB,EAA8B;AAC7B,UAAIrF,MAAM,YAAYqiJ,6BAAtB,EAAsC;AACtCriJ,YAAM,CAACtN,aAAP;AACA,WAAKiyJ,eAAL,CAAqB5xJ,WAArB,CAAiCiN,MAAM,CAACqlC,OAAxC;AACA;AACD;;AAEDihH,kBAAgB,CAAC32B,SAAD,EAAe;AAC9B,WAAO,KAAKtqH,OAAL,CAAarF,MAAb,CAAoBmM,CAAC,IAAIA,CAAC,CAAC80I,QAAF,KAAetxB,SAAxC,CAAP;AACA;;AAED42B,aAAW,GAAkB;AAC5B,WAAO31J,MAAM,CAAC8jB,MAAP,CAAc+6G,YAAA,CAAmB,KAAKwzB,SAAxB,EAAmC,KAAnC,CAAd,EACLjjJ,MADK,CACEmM,CAAC,IAAI,CAACA,CAAC,CAACpQ,QAAH,IAAeoQ,CAAC,CAACqkH,OAAF,KAAc,UADpC,CAAP;AAEA;;AAED61B,gBAAc,GAAG;AAChB,UAAMhhH,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK;;;;;;gCAME,KAAK2lI,cAAL,IAAuB,SAAU;;;;;;;;;GAN/D;AAiBA,SAAKE,QAAL,CAAcnlI,MAAd,CAAqB8lB,OAArB;AAGA,SAAKq/G,QAAL,CAAchlJ,gBAAd,CAA+B,YAA/B,EAA6C,MAAM;AAClDwkH,cAAA,CAAe,mBAAf,EAAoC1vB,KAApC;AACA,KAFD;;AAIA,aAASgyD,UAAT,CAAoBC,OAApB,EAA6B7mJ,SAA7B,EAAgD,GAAG4B,QAAnD,EAA6D;AAC5D,YAAMpF,CAAC,GAAG0U,sBAAM,CAAC+N,IAAK,mBAAkBjf,SAAU,cAAa6mJ,OAAQ,sBAAvE;AACArqJ,OAAC,CAACmjB,MAAF,CAAS,GAAG/d,QAAZ;AACA6jC,aAAO,CAAC2jC,aAAR,CAAsB,gCAAtB,EAAwDzpD,MAAxD,CAA+DnjB,CAA/D;AACA;;AAEDoqJ,cAAU,CAAC,yBAAD,EAA4B,yBAA5B,EACT,GAAG,KAAKnhJ,OAAL,CACDrF,MADC,CACMA,MAAM,IAAIA,MAAM,YAAYqiJ,6BADlC,EAED7tJ,GAFC,CAEGwL,MAAM,IAAI;AAAEA,YAAM,CAACtN,aAAP;AAAwB,aAAOsN,MAAM,CAACqlC,OAAd;AAAwB,KAF/D,CADM,CAAV;;AAOA,UAAMqhH,EAAE,GAAG,kBAAU,kBAAU,KAAKH,WAAL,EAAV,EAA8B92B,WAA9B,CAAV,EAAsDtjH,CAAC,IAAIA,CAAC,CAACqkH,OAA7D,CAAX;;AACA,SAAK,MAAM,CAACl7H,IAAD,EAAOqxJ,WAAP,CAAX,IAAkC/1J,MAAM,CAAC0uE,OAAP,CAAeonF,EAAf,CAAlC,EAAsD;AACrDF,gBAAU,CAAE,OAAMlxJ,IAAK,SAAb,EAAwB,sBAAqBA,IAAK,EAAlD,EACT,GAAGqxJ,WAAW,CACZzxJ,IADC,CACI,CAACqE,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACxH,IAAF,CAAO8lG,aAAP,CAAqBr+F,CAAC,CAACzH,IAAvB,CADd,EAEDyC,GAFC,CAEGm7H,SAAS,IAAI,KAAKi3B,sBAAL,CAA4Bj3B,SAA5B,CAFhB,CADM,CAAV;AAKA;;AAED,UAAMk3B,gBAAgB,GAAG,KAAKC,eAAL,CAAqB19H,IAArB,CAA0B,IAA1B,CAAzB;;AACAo9H,cAAU,CAAC,oBAAD,EAAuB,0BAAvB,EACT,KAAKI,sBAAL,CAA4Bn3B,WAA5B,EAAyC,qBAAzC,EAAgE;AAAE,UAAIT,UAAJ,GAAiB;AAAE,eAAO63B,gBAAgB,EAAvB;AAA4B;;AAAjD,KAAhE,CADS,EAET,GAAGp3B,WAAA,CAAYnhC,MAAZ,CAAmB,CAAnB,EAAsBj5F,OAAtB,CACDb,GADC,CACG84F,EAAE,IAAI,KAAKs5D,sBAAL,CAA4Bn3B,WAA5B,EAA0C,WAAUniC,EAAG,EAAvD,EAA0D;AAAE0hC,gBAAU,EAAE;AAAE1hC,UAAF;AAAMy5D,UAAE,EAAE;AAAV;AAAd,KAA1D,CADT,CAFM,CAAV;AAMAP,cAAU,CAAC,gBAAD,EAAmB,4BAAnB,EACT,GAAGjE,cAAA,CAA2B/tJ,GAA3B,CAA+B,CAAC;AAAEzC,UAAF;AAAQY;AAAR,KAAD,KAAoB;AACrD,YAAMyJ,CAAC,GAAG0U,sBAAM,CAAC+N,IAAK,+CAA8ClsB,IAAK,QAAzE;AACAyJ,OAAC,CAACsD,gBAAF,CAAmB,OAAnB,EAA4B,MAAM6iJ,4BAAA,CAAyCxwJ,IAAzC,CAAlC;AACA,aAAOqK,CAAP;AACA,KAJE,CADM,EAMT,CAAC,MAAM;AACN,YAAMA,CAAC,GAAG0U,sBAAM,CAAC+N,IAAK,yEAAtB;AACAziB,OAAC,CAACsD,gBAAF,CAAmB,OAAnB,EAA4B,MAAM;AACjC,aAAKo8E,OAAL,CAAarC,MAAb;AACA,YAAI8a,OAAO,CAAC,gCAAD,CAAX,EAA+CjwF,QAAQ,CAAC0iJ,MAAT;AAC/C,OAHD;AAIA,aAAO5qJ,CAAP;AACA,KAPD,GANS,CAAV;AAgBA,UAAM6qJ,sBAAsB,GAAGr/E,QAAQ,CAACviC,OAAO,CAAC2jC,aAAR,CAAsB,4CAAtB,CAAD,EAAsEsJ,gBAAtE,CAAvC;AACA20E,0BAAsB,CAACvnJ,gBAAvB,CAAwC,QAAxC,EAAkD,MAAM;AACvD,WAAKumJ,oBAAL,CAA0BgB,sBAAsB,CAACtiJ,OAAjD;AACA,KAFD;;AAIA,QAAI,KAAKs+I,SAAL,KAAmB,MAAnB,IAA6BjxE,YAAY,EAA7C,EAAiD;AAChD,YAAMk1E,eAAe,GAAGp2I,sBAAM,CAAC+N,IAAK;;;;;;;IAApC;AAQA,YAAM9Z,QAAQ,GAAG,KAAK8/I,uBAAL,GAA+Bj9E,QAAQ,CAACs/E,eAAe,CAACl+E,aAAhB,CAA8B,OAA9B,CAAD,EAAyCsJ,gBAAzC,CAAxD;AACA,WAAK60E,6BAAL;AACAD,qBAAe,CAACxnJ,gBAAhB,CAAiC,OAAjC,EAA0C,YAAY;AACrDqF,gBAAQ,CAAChJ,QAAT,GAAoB,IAApB;AACA,eAAO,KAAKwoJ,uBAAL,CAA6BpgH,IAA7B,GAAoC,KAAKijH,iBAAL,EAApC,GAA+D,KAAKjD,eAAL,EAAtE;AACAp/I,gBAAQ,CAAChJ,QAAT,GAAoB,KAApB;AACA,OAJD;AAKAspC,aAAO,CAAC2jC,aAAR,CAAsB,kCAAtB,EAA0DzpD,MAA1D,CAAiE2nI,eAAjE;AACA;;AAEDt/E,YAAQ,CAACviC,OAAO,CAAC2jC,aAAR,CAAsB,2BAAtB,CAAD,EAAqD9T,WAArD,CAAR,CAA0Ex1D,gBAA1E,CAA2F,OAA3F,EAAoG,MAAM;AACzG2nJ,oBAAA,CAAuB,mBAAvB;AACA,KAFD;AAGA;;AAEDF,+BAA6B,GAAG;AAC/B,QAAI,CAAC,KAAKtC,uBAAV,EAAmC;AACnC,SAAKA,uBAAL,CAA6BlgJ,OAA7B,GAAuC,KAAKkgJ,uBAAL,CAA6ByC,aAA7B,GAA6C,KAApF;AACA,QAAI,CAAC,KAAK/C,uBAAL,CAA6BpgH,IAAlC,EAAwC;AACxC,QAAI,KAAKojH,SAAL,CAAe,MAAf,EAAuB1zJ,MAAvB,KAAkC,KAAK0wJ,uBAAL,CAA6BpgH,IAAnE,EAAyE,KAAK0gH,uBAAL,CAA6BlgJ,OAA7B,GAAuC,IAAvC,CAAzE,KACK,KAAKkgJ,uBAAL,CAA6ByC,aAA7B,GAA6C,IAA7C;AACL;;AAEDV,wBAAsB,CAACj3B,SAAD,EAAyBh9H,IAAY,GAAGg9H,SAAS,CAACh9H,IAAlD,EAAwD60J,OAAxD,EAAyF;AAC9G,QAAIvF,YAAY,GAAG,KAAnB;AAEA,UAAM58G,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK,+EAA8E8wG,SAAS,CAAC59H,IAAK,KAAIY,IAAK,QAAlI;AACA0yC,WAAO,CAAC3lC,gBAAR,CAAyB,OAAzB,EAAkC,MAAM;AACvC,YAAMstH,QAAQ,GAAG2C,SAAS,CAACrnH,MAAV,IAAoB,KAAKg+I,gBAAL,CAAsB32B,SAAtB,EAAiC,CAAjC,CAArC;AACA,UAAI3vH,MAAJ;;AACA,UAAIgtH,QAAJ,EAAc;AACb,YAAI,EAAEA,QAAQ,YAAYy1B,qBAAtB,CAAJ,EAAuC,MAAM,IAAIlyJ,KAAJ,EAAN;AACvCyP,cAAM,GAAGgtH,QAAT;AACA,OAHD,MAGO;AACNhtH,cAAM,GAAG4nE,QAAQ,CAAC,KAAK6/E,YAAL,CAAkB;AAAE11J,cAAI,EAAE49H,SAAS,CAAC59H,IAAlB;AAAwBqY,aAAG,EAAE,IAA7B;AAAmC,aAAGo9I;AAAtC,SAAlB,CAAD,EAAqE/E,qBAArE,CAAjB;AACA;;AAED,UAAIR,YAAJ,EAAkBjiJ,MAAM,CAAC8hJ,yBAAP,CAAiC;AAAEG;AAAF,OAAjC,EAAlB,KACKjiJ,MAAM,CAACyjJ,YAAP,CAAoB,IAApB;AACL,KAZD;;AAcA,QAAI9zB,SAAS,CAACV,gBAAV,IAA8B,CAACU,SAAS,CAACpV,iBAA7C,EAAgE;AAC/D,YAAMt9E,CAAC,GAAGnsB,sBAAM,CAAC+N,IAAK,yFAAtB;AACAoe,OAAC,CAACv9B,gBAAF,CAAmB,OAAnB,EAA4B,MAAM;AACjCuiJ,oBAAY,GAAG,IAAf;AACAtzI,kBAAU,CAAC,MAAM;AAAEszI,sBAAY,GAAG,KAAf;AAAuB,SAAhC,CAAV;AACA,OAHD;AAIA58G,aAAO,CAAC9lB,MAAR,CAAe0d,CAAf;AACA;;AAED,WAAOoI,OAAP;AACA;;AAED,QAAM8+G,eAAN,CAAsBzkE,MAAoB,GAAG,KAAK6nE,SAAL,CAAe,MAAf,CAA7C,EAAqE;AACpE,UAAMv/E,OAAO,CAACt3D,GAAR,CAAY,qBAAagvE,MAAb,EAAqB7pF,KAAK,CAACwsE,IAAN,CAAW,KAAKkiF,uBAAhB,CAArB,EAA+D/vJ,GAA/D,CAAmE8rF,KAAK,IAAIonE,cAAU,CAACpnE,KAAD,CAAtF,CAAZ,CAAN;;AACA,SAAK,MAAMn0E,CAAX,IAAgBuzE,MAAhB,EAAwB,KAAK6kE,uBAAL,CAA6Bn6I,GAA7B,CAAiC+B,CAAjC;;AACxB,SAAKg7I,6BAAL;AAEAx4B,kCAAA,CAA+B;AAC9B7W,cAAQ,EAAEyqC,kBAAA,CAAmBzqC,QADC;AAE9B6U,oBAAc,EAAE,YAFc;AAG9Bn9G,aAAO,EAAEsB,sBAAM,CAAC+N,IAAK,iCAAgC6gE,MAAM,CAAC7rF,MAAO;AAHrC,KAA/B;AAKA;;AAED,QAAMuzJ,iBAAN,CAAwB1nE,MAAoB,GAAG,CAAC,GAAG,KAAK6kE,uBAAT,CAA/C,EAAkF;AACjF,UAAMv8E,OAAO,CAACt3D,GAAR,CAAY,uBAAegvE,MAAf,EAAuB7pF,KAAK,CAACwsE,IAAN,CAAW,KAAKkiF,uBAAhB,CAAvB,EAAiE/vJ,GAAjE,CAAqE8rF,KAAK,IAAIqnE,MAAY,CAACrnE,KAAD,CAA1F,CAAZ,CAAN;;AACA,SAAK,MAAMn0E,CAAX,IAAgBuzE,MAAhB,EAAwB,KAAK6kE,uBAAL,CAA6B9qE,MAA7B,CAAoCttE,CAApC;;AACxB,SAAKg7I,6BAAL;AAEAx4B,kCAAA,CAA+B;AAC9B7W,cAAQ,EAAEyqC,kBAAA,CAAmBzqC,QADC;AAE9B6U,oBAAc,EAAE,cAFc;AAG9Bn9G,aAAO,EAAG,GAAEkwE,MAAM,CAAC7rF,MAAO;AAHI,KAA/B;AAKA;;AAEDizJ,iBAAe,CAACc,SAAiB,GAAG,MAArB,EAAgC;AAC9C,UAAMC,SAAS,GAAGtoE,SAAS,CAAC,KAAKl6E,OAAN,EAAe8G,CAAC,IAAIA,CAAC,CAAC+0I,OAAF,CAAU0G,SAAV,KAAwBz7I,CAAC,YAAYs2I,qBAArC,IAAmD,CAACt2I,CAAD,CAAnD,IAA0DpW,SAA9E,CAA3B;AACA,WAAO05H,YAAA,CACNA,QAAA,CACC,KADD,EAECo4B,SAAS,CAACrzJ,GAAV,CAAc2X,CAAC,IAAIA,CAAC,CAACc,KAAF,GAAUd,CAAC,CAACi1I,IAAF,CAAOpyB,UAAjB,GAA8BS,QAAA,CAAe,MAAf,EAAuB,CAACtjH,CAAC,CAACi1I,IAAF,CAAOpyB,UAAR,CAAvB,CAAjD,CAFD,CADM,EAKN,KALM,EAMN,IANM,CAAP;AAQA;;AAID84B,qBAAmB,CAACtwI,KAAD,EAAuB;AACzC5mB,UAAM,CAAC0uE,OAAP,CAAe,KAAK2lF,eAApB,EACEjlJ,MADF,CACS,CAAC,GAAG;AAAEjO;AAAF,KAAH,CAAD,KAAkBylB,KAAK,CAACu6B,QAAN,CAAehgD,IAAf,CAD3B,EAEEmkE,OAFF,CAEU,CAAC,CAACl5D,EAAD,CAAD,KAAU,KAAK+qJ,2BAAL,CAAiC/qJ,EAAjC,CAFpB;AAGA;;AAEDgrJ,cAAY,CAAC3iJ,OAAD,EAAa;AACxB,SAAK,MAAM,CAACrI,EAAD,EAAK8qB,IAAL,CAAX,IAAyBl3B,MAAM,CAAC0uE,OAAP,CAAej6D,OAAf,CAAzB,EAAkD;AACjD,UAAI;AACH,YAAIyiB,IAAI,CAAC/1B,IAAL,KAAc,OAAlB,EAA2B,MAAM,IAAIxB,KAAJ,CAAU,sEAAV,CAAN;AAE3B,cAAMyP,MAAM,GAAG,KAAKioJ,SAAL,CAAejrJ,EAAf,CAAf;AACA,YAAIgD,MAAJ,EAAY,MAAM,IAAIzP,KAAJ,CAAW,kBAAiByM,EAAG,iBAA/B,CAAN;;AAEZ,YACCyyH,SAAA,CAAU3nG,IAAI,CAAC/1B,IAAf,KAEA,EAAE09H,SAAA,CAAU3nG,IAAI,CAAC/1B,IAAf,EAAqBy+H,OAArB,KAAiC,UAAnC,CAHD,EAIE;AACD,eAAKu3B,2BAAL,CAAiC/qJ,EAAjC,EAAqC8qB,IAArC;AACA,SAND,MAMO;AACN,eAAKm9H,eAAL,CAAqBjoJ,EAArB,IAA2B8qB,IAA3B;AACA;AACD,OAfD,CAeE,OAAO1rB,CAAP,EAAU;AACXkT,eAAO,CAACjZ,KAAR,CAAc,yBAAd,EAAyC2G,EAAzC,EAA6C8qB,IAA7C;AACA,aAAKg0D,OAAL,CAAasB,UAAb,CAAwB,SAAxB,EAAmCpgF,EAAnC;AACA;AACD;AACD;;AAED+qJ,6BAA2B,CAAC/qJ,EAAD,EAAQ8qB,IAAR,EAAiB;AAC3C,UAAMogI,YAAY,GAAG,KAAKjD,eAAL,CAAqBjoJ,EAArB,CAArB;AACA,WAAO,KAAKioJ,eAAL,CAAqBjoJ,EAArB,CAAP;AACA,WAAO,KAAKyqJ,YAAL,CAAkB;AAAEzqJ,QAAF;AAAM,SAAG8qB,IAAT;AAAe,SAAGogI,YAAlB;AAAgC99I,SAAG,EAAE,IAArC;AAA2CikG,UAAI,EAAE;AAAjD,KAAlB,CAAP;AACA;;AAWD85C,QAAM,GAAM;AACX,UAAMC,WAAW,GAAG51J,GAAG,IAAI;AAE1B,YAAM,GAAG05F,SAAH,EAAcruF,GAAd,EAAmByxH,SAAnB,IAA2C98H,GAAG,CAACiK,KAAJ,CAAU,oBAAV,CAAjD;AACA,aAAO;AACNoB,WADM;AAENyxH,iBAAS,EAAEA,SAAS,CAACz4H,IAAV,EAFL;AAGNkrJ,qBAAa,EAAE,CAAC,CAAC71D,SAAS,CAACzvF,KAAV,CAAgB,GAAhB,CAHX;AAINulJ,qBAAa,EAAE,CAAC,CAAC91D,SAAS,CAACzvF,KAAV,CAAgB,GAAhB,CAJX;AAKN4rJ,mBAAW,EAAE,CAAC,CAACn8D,SAAS,CAACzvF,KAAV,CAAgB,KAAhB,CALT;AAMNwlJ,oBAAY,EAAE,CAAC,CAAC/1D,SAAS,CAACzvF,KAAV,CAAgB,GAAhB;AANV,OAAP;AAQA,KAXD;;AAaA,UAAM6rJ,iBAAiB,GAAG91J,GAAG,IAC5B,KAAK+zJ,WAAL,GACErxJ,IADF,CACO,CAACqE,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACi3H,OAAF,CAAU34B,aAAV,CAAwBr+F,CAAC,CAACg3H,OAA1B,KAAsCj3H,CAAC,CAACxH,IAAF,CAAO8lG,aAAP,CAAqBr+F,CAAC,CAACzH,IAAvB,CADvD,EAEEyC,GAFF,CAEMm7H,SAAS,KAAK;AAElBr6H,UAAI,EAAEq6H,SAAS,CAACa,OAAV,KAAsB,UAAtB,GAAmCb,SAAS,CAACh9H,IAA7C,GAAoDg9H,SAAS,CAAC59H,IAFlD;AAGlBwgG,SAAG,EAAEo9B;AAHa,KAAL,CAFf,EAOE3vH,MAPF,CAOS,CAAC;AAAE1K;AAAF,KAAD,KAAcA,IAAI,CAACsC,WAAL,GAAmB6E,KAAnB,CAAyBjK,GAAG,CAACoF,WAAJ,EAAzB,CAPvB,CADD;;AAUA,QAAIoI,MAAJ;;AAEA,mBAAeqoH,MAAf,CAAsB71H,GAAtB,EAA2B;AAC1B,YAAM+1J,aAAa,GAAGH,WAAW,CAAC51J,GAAD,CAAjC;AACA,YAAM;AAAEqL,WAAF;AAAOwqJ;AAAP,UAAuBE,aAA7B;;AACA,YAAMC,SAAS,GAAG3qJ,GAAG,IAAI,iBAASyqJ,iBAAiB,CAACzqJ,GAAD,CAA1B,EAAiC,CAAC;AAAEvI;AAAF,OAAD,KAAcA,IAAI,CAACsC,WAAL,GAAmB3G,OAAnB,CAA2B4M,GAAG,CAACjG,WAAJ,EAA3B,CAA/C,EAA8F,CAA9F,CAAzB;;AACA,YAAM;AAAE26F,WAAG,EAAEk2D;AAAP,UAAuBD,SAAS,IAAI,EAA1C;AAEA,UAAIh5I,OAAJ;;AAEA,UAAIg5I,SAAJ,EAAe;AACd,YAAI;AACH,gBAAMlwD,UAAU,GAAG,eAAO,KAAKguD,gBAAL,CAAsBmC,WAAtB,CAAP,CAAnB;;AACAzoJ,gBAAM,GAAGs4F,UAAU,IAAI,CAAC+vD,WAAf,GACR/vD,UADQ,GAER,KAAKmvD,YAAL,CAAkB;AAAE11J,gBAAI,EAAE02J,WAAW,CAAC12J;AAApB,WAAlB,CAFD;AAIA,gBAAM22J,iBAAiB,GAAG,MAAM1oJ,MAAM,CAAC8hJ,yBAAP,CAAiCyG,aAAjC,EAAgD,IAAhD,CAAhC;AAEA/4I,iBAAO,GAAI,GAAExP,MAAM,CAACwD,MAAP,GAAiB,WAAUxD,MAAM,CAACwhJ,YAAP,CAAoBxhJ,MAAM,CAACiN,KAA3B,CAAkC,GAA7D,GAAkE,YAAa,KAAIy7I,iBAAkB,EAAlH;AACA,SATD,CASE,OAAOtsJ,CAAP,EAAU;AACXoT,iBAAO,GAAI,UAASpT,CAAC,CAACoT,OAAQ,EAA9B;AACA;AACD,OAbD,MAaO;AACNxP,cAAM,GAAG,IAAT;AACAwP,eAAO,GAAG,qBAAV;AACA;;AAED,aAAO,CACN,OADM,EAEN,4CAFM,EAGN,EAHM,EAINA,OAJM,EAKN,EALM,EAMN,UANM,EAON,GAAG84I,iBAAiB,CAAC,EAAD,CAAjB,CAAsB9zJ,GAAtB,CAA0B2X,CAAC,IAC5B,IAAIs8I,WAAW,KAAKt8I,CAAC,CAAComF,GAAnB,GAA2B,MAAKpmF,CAAC,CAAC7W,IAAK,MAAvC,GAA+C6W,CAAC,CAAC7W,IAAK,IAAG6W,CAAC,CAAComF,GAAF,CAAM5vF,OAAQ,EADzE,CAPG,EAUN,EAVM,EAWN,YAXM,EAYN,yBAZM,EAaN,+BAbM,EAcN,2BAdM,EAeN,2DAfM,EAgBN,EAhBM,EAiBN,WAjBM,EAkBN,kDAlBM,EAmBN,gEAnBM,EAoBN,QApBM,EAqBLrF,IArBK,CAqBA,IArBA,CAAP;AAsBA;;AAED,aAASirH,cAAT,CAAwB/1H,GAAxB,EAA6B;AAC5B,UAAI,CAACwN,MAAL,EAAa;AACb,UAAI,CAACA,MAAM,CAACwD,MAAZ,EAAoB,KAAKmlJ,SAAL,CAAe3oJ,MAAf;AACpBA,YAAM,CAAC8hJ,yBAAP,CAAiCsG,WAAW,CAAC51J,GAAD,CAA5C;AACAwN,YAAM,GAAG,IAAT;AACA;;AAED,WAAO;AAAEqoH,YAAM,EAAEA,MAAM,CAACj/F,IAAP,CAAY,IAAZ,CAAV;AAA6Bm/F,oBAAc,EAAEA,cAAc,CAACn/F,IAAf,CAAoB,IAApB;AAA7C,KAAP;AACA;;AAEDq+H,cAAY,CAAC3/H,IAAD,EAA8B;AACzC,UAAM;AACLk5H,YAAM,GAAGyB,qBADJ;AAELzlJ,QAAE,GAAI,IAAGm7E,WAAW,CAACywE,MAAZ,CAAmBC,eAAnB,GAAqC1wE,WAAW,CAAC78D,GAAZ,EAAkB,EAF3D;AAGLlR,SAAG,GAAG,KAHD;AAILikG,UAAI,GAAG,IAJF;AAKLt8G,UALK;AAMLu9H,eANK;AAOL4xB,aAPK;AAQL5rJ,UARK;AASL2X;AATK,QAUF6a,IAVJ;AAWA,QAAI;AAAEknG;AAAF,QAAiBlnG,IAArB;AAEA,QAAI,KAAKm9H,eAAL,CAAqB5zJ,cAArB,CAAoC2L,EAApC,CAAJ,EAA6C,OAAO,KAAK+qJ,2BAAL,CAAiC/qJ,EAAjC,EAAqC8qB,IAArC,CAAP;AAE7C,UAAM6nG,SAAS,GAAGF,SAAA,CAAU19H,IAAV,CAAlB;;AACA,QAAI49H,SAAS,CAACrnH,MAAd,EAAsB;AACrB,YAAM,CAAC0kH,QAAD,IAAa,KAAKs5B,gBAAL,CAAsB32B,SAAtB,CAAnB;AACA,UAAI3C,QAAJ,EAAc,OAAOA,QAAP;AACd;;AAED,QAAI,CAACgC,UAAD,IAAeM,SAAnB,EAA8B;AAE7BN,gBAAU,GAAGW,SAAS,CAACT,qBAAV,CAAgCI,SAAhC,CAAb;AACA;;AAED,UAAMtvH,MAAM,GAAG,IAAIghJ,MAAJ,CAAWhkJ,EAAX,EAAe2yH,SAAf,EAA0Br6H,IAA1B,EAAgC05H,UAAhC,EAA4C/hH,KAA5C,EAAmDi0I,OAAnD,CAAf;;AAEA,QAAI92I,GAAJ,EAAS;AACR,WAAKu+I,SAAL,CAAe3oJ,MAAf;AACA,UAAIquG,IAAJ,EAAU,KAAKA,IAAL;AACV;;AAED,WAAOruG,MAAP;AACA;;AAED2oJ,WAAS,CAAC3oJ,MAAD,EAAiB;AACzBA,UAAM,CAACuhJ,SAAP,CAAiB,IAAjB;AAEA,SAAKl8I,OAAL,CAAarU,IAAb,CAAkBgP,MAAlB;;AAEA,QAAI,KAAKmmJ,aAAL,EAAJ,EAA0B;AACzB,WAAK9B,aAAL,CAAmBrzJ,IAAnB,CAAwBgP,MAAxB;AACA,WAAKo0F,OAAL,CAAap0F,MAAb;AACA;;AAED,QAAI,KAAK2kJ,eAAT,EAA0B,KAAKyB,iBAAL,CAAuB,CAACpmJ,MAAD,CAAvB;AAC1B;;AAED,QAAM2hJ,YAAN,CAAmB3hJ,MAAnB,EAAmC;AAClC,QAAIA,MAAM,CAACqlC,OAAX,EAAoBrlC,MAAM,CAACqlC,OAAP,CAAex5B,MAAf;AACpB,QAAI,KAAKs6I,aAAL,EAAJ,EAA0B,MAAM,KAAK/xD,OAAL,CAAap0F,MAAb,CAAN;;AAC1B,mBAAO,KAAKqF,OAAZ,EAAqBrF,MAArB;;AACA,mBAAO,KAAKqkJ,aAAZ,EAA2BrkJ,MAA3B;;AACA,SAAKquG,IAAL;AACA;;AAED45C,WAAS,CAACjrJ,EAAD,EAAsB;AAC9B,WAAO,KAAKqI,OAAL,CAAanF,IAAb,CAAkBF,MAAM,IAAIA,MAAM,CAAChD,EAAP,KAAcA,EAA1C,CAAP;AACA;;AAEDgpJ,kBAAgB,GAAG;AAClB,WAAO,KAAK3gJ,OAAL,CAAarF,MAAb,CAAoBmM,CAAC,IAAIA,CAAC,CAACslB,MAA3B,CAAP;AACA;;AAoDDo0H,kBAAgB,CAACiD,aAAD,EAAyBpD,eAAzB,EAA6D;AAC5E,QAAI,CAACA,eAAL,EAAsB,OAAO,KAAKrB,aAAZ;AAEtB,UAAM0E,oBAAoB,GAAG,KAAK1E,aAAL,CAAmBpzJ,OAAnB,CAA2By0J,eAA3B,CAA7B;AACA,UAAMsD,kBAAkB,GAAG,KAAK3E,aAAL,CAAmBpzJ,OAAnB,CAA2B63J,aAA3B,CAA3B;;AAEA,QAAI,CAACA,aAAL,EAAoB;AAEnB,aAAO,CAACpD,eAAD,CAAP;AACA,KAHD,MAGO,IAAIoD,aAAa,KAAKpD,eAAtB,EAAuC;AAE7C,aAAO,KAAKrB,aAAL,CAAmBvzJ,KAAnB,CAAyBi4J,oBAAzB,CAAP;AACA,KAHM,MAGA,IAAIC,kBAAkB,GAAGD,oBAAzB,EAA+C;AAErD,aAAO,CAACrD,eAAD,EAAkBoD,aAAlB,CAAP;AACA,KAHM,MAGA;AAEN,aAAO,EAAP;AACA;AACD;;AAyCD10D,SAAO,CAACsxD,eAAD,EAA2BhmE,MAAoB,GAAG7pF,KAAK,CAACwsE,IAAN,CAAW,KAAKqd,MAAhB,CAAlD,EAA2E;AACjF,WAAO1X,OAAO,CAACt3D,GAAR,CAAYgvE,MAAM,CAAClrF,GAAP,CAAW8rF,KAAK,IAAI,KAAKmlE,YAAL,CAAkBnlE,KAAlB,EAAyBolE,eAAzB,CAApB,CAAZ,CAAP;AACA;;AAEDuD,UAAQ,CAAC3oE,KAAD,EAAe;AACtB,SAAKZ,MAAL,CAAYt1E,GAAZ,CAAgBk2E,KAAhB;AACA,QAAI,KAAK6lE,aAAL,EAAJ,EAA0B,OAAO,KAAKV,YAAL,CAAkBnlE,KAAlB,CAAP;AAC1B;;AAEDinE,WAAS,CAAC2B,UAAD,EAAqB;AAC7B,WAAOrzJ,KAAK,CAACwsE,IAAN,CAAW,KAAKiiF,cAAL,CAAoBhlF,OAApB,EAAX,EACLt/D,MADK,CACE,CAAC,GAAGkhJ,OAAH,CAAD,KAAiBA,OAAO,CAACgI,UAAD,CAD1B,EAEL10J,GAFK,CAED,CAAC,CAAC8rF,KAAD,CAAD,KAAaA,KAFZ,CAAP;AAGA;;AA4BD2lE,sBAAoB,CAACkD,QAAkB,GAAG,CAAC,KAAK3E,cAA5B,EAA4C;AAC/D,SAAKA,cAAL,GAAsB2E,QAAtB;AACA,SAAKpD,4BAAL,CAAkC,KAAKrmE,MAAvC;AACAsI,+BAAW,CAACpzE,MAAZ,CAAmB,KAAK4vI,cAAxB,EAAwC,0BAAxC;AACA;;AAID,QAAM0B,qBAAN,CAA4B5lE,KAA5B,EAA0C;AACzC,UAAM8oE,OAAO,GAAG,KAAK5E,cAAL,GAAsB,MAAMx8E,OAAO,CAACt3D,GAAR,CAC3C9f,MAAM,CAAC0uE,OAAP,CAAe,KAAKglF,cAAL,CAAoBvwJ,GAApB,CAAwBusF,KAAxB,KAAkC,EAAjD,EACE9rF,GADF,CACM,CAAC,CAACktJ,MAAD,EAAS1hJ,MAAT,CAAD,KAAsBA,MAAM,IAAIA,MAAM,CAACoiJ,kBAAP,CAA0B9hE,KAA1B,EAAiCohE,MAAjC,CADtC,EAEE1hJ,MAFF,CAES8wF,OAFT,CAD2C,CAA5B,GAIZ,EAJJ;AAMAxQ,SAAK,CAACqB,gBAAN,CAAuBynE,OAAvB;AACA;;AAvnBsB,C;;;;;;;;;;;;;;;;;ACrCxB;AAEA;AACA;AACA;AAqBA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMj5J,kBAAiB,GAAG,IAAIirH,MAAJ,CAAW,aAAX,CAA1B;AAEPjrH,kBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,kBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,kBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AACA5jG,kBAAM,CAACqrH,QAAP,GAAkB,CAAC,cAAD,CAAlB;AACArrH,kBAAM,CAACkF,OAAP,GAAiB;AAChBg0J,oBAAkB,EAAE;AACnBt3J,QAAI,EAAE,SADa;AAEnBwF,SAAK,EAAE,IAFY;AAGnBw8F,eAAW,EAAE,mCAHM;AAInBtQ,SAAK,EAAE,oCAJY;AAKnB2mC,YAAQ,EAAE;AALS,GADJ;AAQhBk/B,YAAU,EAAE;AACXv3J,QAAI,EAAE,SADK;AAEXwF,SAAK,EAAE,KAFI;AAGXw8F,eAAW,EAAE,2BAHF;AAIXtQ,SAAK,EAAE;AAJI,GARI;AAchB8lE,WAAS,EAAE;AACVx3J,QAAI,EAAE,OADI;AAEVs6H,cAAU,EAAE,0BAFF;AAGVt4B,eAAW,EAAE,0BAHH;AAIVtQ,SAAK,EAAE,2BAJG;AAKV6K,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,YADG;AAERvI,UAAI,EAAE,uBAFE;AAGRvD,UAAI,EAAE,MAHE;AAIRy3J,cAAQ,EAAE;AAJF,KAAD,EAKL;AACF3rJ,SAAG,EAAE,OADH;AAEFvI,UAAI,EAAE,2BAFJ;AAGFvD,UAAI,EAAE,MAHJ;AAIF2iB,YAAM,EAAE,CAAC;AACRpf,YAAI,EAAE,uBADE;AAERiC,aAAK,EAAE;AAFC,OAAD,EAGL;AACFjC,YAAI,EAAE,2CADJ;AAEFiC,aAAK,EAAE;AAFL,OAHK,CAJN;AAWFA,WAAK,EAAE;AAXL,KALK,CALE;AAuBVA,SAAK,EAAG;AAvBE,GAdK;AAuChBkyJ,iBAAe,EAAE;AAChB13J,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,IAFS;AAGhBw8F,eAAW,EAAE,gCAHG;AAIhBtQ,SAAK,EAAE,iCAJS;AAKhB2mC,YAAQ,EAAE;AALM,GAvCD;AA8ChBs/B,gBAAc,EAAE;AACf33J,QAAI,EAAE,SADS;AAEfwF,SAAK,EAAE,KAFQ;AAGfw8F,eAAW,EAAE,+BAHE;AAIftQ,SAAK,EAAE;AAJQ,GA9CA;AAoDhBkmE,iBAAe,EAAE;AAChB53J,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,IAFS;AAGhBw8F,eAAW,EAAE,gCAHG;AAIhBtQ,SAAK,EAAE;AAJS,GApDD;AA0DhBmmE,iBAAe,EAAE;AAChB73J,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,IAFS;AAGhBw8F,eAAW,EAAE,gCAHG;AAIhBtQ,SAAK,EAAE;AAJS,GA1DD;AAgEhBomE,kBAAgB,EAAE;AACjB93J,QAAI,EAAE,SADW;AAEjBwF,SAAK,EAAE,KAFU;AAGjBw8F,eAAW,EAAE,iCAHI;AAIjBtQ,SAAK,EAAE;AAJU,GAhEF;AAsEhB+3B,UAAQ,EAAE;AACTzpH,QAAI,EAAE,OADG;AAETs6H,cAAU,EAAE,sBAFH;AAGT/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,SADG;AAERvI,UAAI,EAAE,oBAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,SADH;AAEFvI,UAAI,EAAE,oBAFJ;AAGFvD,UAAI,EAAE,MAHJ;AAIF2iB,YAAM,EAAE,CAAC;AACRpf,YAAI,EAAE,uBADE;AAERiC,aAAK,EAAE;AAFC,OAAD,EAGL;AACFjC,YAAI,EAAE,0BADJ;AAEFiC,aAAK,EAAE;AAFL,OAHK,EAML;AACFjC,YAAI,EAAE,mBADJ;AAEFiC,aAAK,EAAE;AAFL,OANK,CAJN;AAcFA,WAAK,EAAE;AAdL,KAJK,EAmBL;AACFsG,SAAG,EAAE,YADH;AAEFvI,UAAI,EAAE,YAFJ;AAGFvD,UAAI,EAAE,MAHJ;AAIFy3J,cAAQ,EAAE;AAJR,KAnBK,EAwBL;AACF3rJ,SAAG,EAAE,eADH;AAEFvI,UAAI,EAAE,eAFJ;AAGFvD,UAAI,EAAE;AAHJ,KAxBK,CAHC;AAgCTwF,SAAK,EAAE,EAhCE;AAiCTw8F,eAAW,EAAE,yBAjCJ;AAkCTtQ,SAAK,EAAE;AAlCE,GAtEM;AA0GhB3T,YAAU,EAAE;AACX/9E,QAAI,EAAE,OADK;AAEXs6H,cAAU,EAAE,sBAFD;AAGX/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,WADG;AAERvI,UAAI,EAAE,iCAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,CAHG;AAQXwF,SAAK,EAAE,EARI;AASXw8F,eAAW,EAAE,2BATF;AAUXtQ,SAAK,EAAE,4BAVI;;AAWX2E,YAAQ,GAAG;AACV,UAAIj4F,kBAAM,CAACkF,OAAP,CAAey0J,gBAAf,CAAgCvyJ,KAApC,EAA2C;AAC1CwyJ,8BAAsB;AACtB;AACD;;AAfU,GA1GI;AA2HhBC,sBAAoB,EAAE;AACrBj4J,QAAI,EAAE,MADe;AAErBwF,SAAK,EAAE,6BAFc;AAGrBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,mDADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,uBADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,gDADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,CAHa;AAarBw8F,eAAW,EAAE,qCAbQ;AAcrBtQ,SAAK,EAAE;AAdc,GA3HN;AA2IhBqmE,kBAAgB,EAAE;AACjB/3J,QAAI,EAAE,SADW;AAEjBwF,SAAK,EAAE,KAFU;AAGjBw8F,eAAW,EAAE,iCAHI;AAIjBtQ,SAAK,EAAE,kCAJU;;AAKjB2E,YAAQ,GAAG;AACV,UAAIj4F,kBAAM,CAACkF,OAAP,CAAey0J,gBAAf,CAAgCvyJ,KAApC,EAA2C;AAC1CwyJ,8BAAsB;AACtB;AACD;;AATgB,GA3IF;AAsJhBE,kBAAgB,EAAE;AACjBl4J,QAAI,EAAE,QADW;AAEjBY,QAAI,EAAE,kCAFW;AAGjBohG,eAAW,EAAE,iCAHI;AAIjBtQ,SAAK,EAAE,kCAJU;;AAKjBlvF,YAAQ,GAAG;AACV,aAAOw1J,sBAAsB,CAAC;AAAEG,uBAAe,EAAE;AAAnB,OAAD,CAA7B;AACA;;AAPgB,GAtJF;AA+JhBC,OAAK,EAAE;AACNp4J,QAAI,EAAE,OADA;AAENs6H,cAAU,EAAE,sBAFN;AAGN/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,UADG;AAERvI,UAAI,EAAE,qBAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,CAHF;AAQNwF,SAAK,EAAE,EARD;AASNw8F,eAAW,EAAE,sBATP;AAUNtQ,SAAK,EAAE;AAVD,GA/JS;AA2KhB2mE,kBAAgB,EAAE;AACjBr4J,QAAI,EAAE,MADW;AAEjBwF,SAAK,EAAE,MAFU;AAGjBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,QADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,2BADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,CAHS;AAUjBw8F,eAAW,EAAE,iCAVI;AAWjBtQ,SAAK,EAAE;AAXU,GA3KF;AAwLhB4mE,yBAAuB,EAAE;AACxBt4J,QAAI,EAAE,MADkB;AAExBwF,SAAK,EAAE,UAFiB;AAGxBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,cADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,WADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,QADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,CAHgB;AAaxBw8F,eAAW,EAAE,wCAbW;AAcxBtQ,SAAK,EAAE;AAdiB,GAxLT;AAwMhB2wC,SAAO,EAAE;AACRriI,QAAI,EAAE,OADE;AAERs6H,cAAU,EAAE,sBAFJ;AAGR/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,SADG;AAERvI,UAAI,EAAE,oBAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,SADH;AAEFvI,UAAI,EAAE,oBAFJ;AAGFvD,UAAI,EAAE,MAHJ;AAIF2iB,YAAM,EAAE,CAAC;AACRpf,YAAI,EAAE,uBADE;AAERiC,aAAK,EAAE;AAFC,OAAD,EAGL;AACFjC,YAAI,EAAE,0BADJ;AAEFiC,aAAK,EAAE;AAFL,OAHK,EAML;AACFjC,YAAI,EAAE,mBADJ;AAEFiC,aAAK,EAAE;AAFL,OANK,CAJN;AAcFA,WAAK,EAAE;AAdL,KAJK,EAmBL;AACFsG,SAAG,EAAE,YADH;AAEFvI,UAAI,EAAE,uBAFJ;AAGFvD,UAAI,EAAE,MAHJ;AAIFy3J,cAAQ,EAAE;AAJR,KAnBK,CAHA;AA4BRjyJ,SAAK,EAAE,EA5BC;AA6BRw8F,eAAW,EAAE,wBA7BL;AA8BRtQ,SAAK,EAAE;AA9BC,GAxMO;AAwOhB6mE,OAAK,EAAE;AACNv4J,QAAI,EAAE,OADA;AAENs6H,cAAU,EAAE,sBAFN;AAGN/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,SADG;AAERvI,UAAI,EAAE,oBAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,SADH;AAEFvI,UAAI,EAAE,oBAFJ;AAGFvD,UAAI,EAAE,MAHJ;AAIF2iB,YAAM,EAAE,CAAC;AACRpf,YAAI,EAAE,uBADE;AAERiC,aAAK,EAAE;AAFC,OAAD,EAGL;AACFjC,YAAI,EAAE,0BADJ;AAEFiC,aAAK,EAAE;AAFL,OAHK,EAML;AACFjC,YAAI,EAAE,mBADJ;AAEFiC,aAAK,EAAE;AAFL,OANK,CAJN;AAcFA,WAAK,EAAE;AAdL,KAJK,EAmBL;AACFsG,SAAG,EAAE,YADH;AAEFvI,UAAI,EAAE,uBAFJ;AAGFvD,UAAI,EAAE,MAHJ;AAIFy3J,cAAQ,EAAE;AAJR,KAnBK,CAHF;AA4BNjyJ,SAAK,EAAE,EA5BD;AA6BNw8F,eAAW,EAAE,sBA7BP;AA8BNtQ,SAAK,EAAE;AA9BD,GAxOS;AAwQhB8mE,gBAAc,EAAE;AACfx4J,QAAI,EAAE,SADS;AAEfq4H,YAAQ,EAAE,IAFK;AAGfr2B,eAAW,EAAE,8BAHE;AAIftQ,SAAK,EAAE,gCAJQ;AAKflsF,SAAK,EAAE,EALQ;AAMfwgH,eAAW,EAAE,4BANE;;AAOfG,mBAAe,GAAG;AACjB,aAAO;AACNc,YAAI,EAAE,EADA;AAENC,WAAG,EAAE,CAFC;AAGN1kG,YAAI,EAAEk7G,mBAAA,CAAoB,OAApB,CAHA;AAINzyH,UAAE,EAAG,gBAAenE,IAAI,CAACyiB,GAAL,EAAW,EAJzB;AAKNwM,YAAI,EAAE;AACLi8H,kBAAQ,EAAE,KADL;AAELzuJ,cAAI,EAAE;AAFD;AALA,OAAP;AAUA,KAlBc;;AAmBf6iH,uBAAmB,EAAE,CACpB,CAAC;AAAEpmH,UAAI,EAAE,OAAR;AAAiBiL,QAAE,EAAE,UAArB;AAAiCk7F,WAAK,EAAE;AAAxC,KAAD,CADoB,EAEpB,CAAC,mBAAD,EAAsB;AAAEnmG,UAAI,EAAE,MAAR;AAAgBiL,QAAE,EAAE;AAApB,KAAtB,CAFoB,CAnBN;;AAuBf,QAAIo7G,KAAJ,GAAY;AAAEqX,wBAAA;AAA4B,aAAO,EAAE,GAAGA,YAAA,CAAmB,MAAnB,CAAL;AAAiC,WAAGA,YAAA,CAAmB,QAAnB;AAApC,OAAP;AAA4E;;AAvBvG,GAxQA;AAiShB+6B,gBAAc,EAAE;AACfz4J,QAAI,EAAE,SADS;AAEfq4H,YAAQ,EAAE,IAFK;AAGfr2B,eAAW,EAAE,8BAHE;AAIftQ,SAAK,EAAE,gCAJQ;AAKflsF,SAAK,EAAE,EALQ;AAMfwgH,eAAW,EAAE,4BANE;;AAOfG,mBAAe,GAAG;AACjB,aAAO;AACNc,YAAI,EAAE,EADA;AAENC,WAAG,EAAE,CAFC;AAGN1kG,YAAI,EAAEk7G,mBAAA,CAAoB,OAApB,CAHA;AAINzyH,UAAE,EAAG,gBAAenE,IAAI,CAACyiB,GAAL,EAAW,EAJzB;AAKNwM,YAAI,EAAE;AACLi8H,kBAAQ,EAAE,KADL;AAELzuJ,cAAI,EAAE,EAFD;AAGLqtJ,mBAAS,EAAE;AAHN;AALA,OAAP;AAWA,KAnBc;;AAoBfxqC,uBAAmB,EAAE,CACpB,CAAC;AAAEpmH,UAAI,EAAE,OAAR;AAAiBiL,QAAE,EAAE,UAArB;AAAiCk7F,WAAK,EAAE;AAAxC,KAAD,CADoB,EAEpB,CAAC,mBAAD,EAAsB;AAAEnmG,UAAI,EAAE,MAAR;AAAgBiL,QAAE,EAAE;AAApB,KAAtB,CAFoB,EAGpB,CAAC;AAAEjL,UAAI,EAAE,OAAR;AAAiBiL,QAAE,EAAE,WAArB;AAAkCk7F,WAAK,EAAE;AAAzC,KAAD,CAHoB,CApBN;;AAyBf,QAAIkgB,KAAJ,GAAY;AAAEqX,wBAAA;AAA4B,aAAO,EAAE,GAAGA,YAAA,CAAmB,SAAnB,CAAL;AAAoC,WAAGA,YAAA,CAAmB,QAAnB;AAAvC,OAAP;AAA+E;;AAzB1G;AAjSA,CAAjB;AA8TAt/H,kBAAM,CAACurH,OAAP,GAAiB,CAChB,UADgB,EAEhB,UAFgB,EAGhB,SAHgB,EAIhB,UAJgB,EAKhB,kBALgB,EAMhB,QANgB,CAAjB;AASA,MAAM+uC,WAAW,GAAG;AACnB3H,YAAU,EAAE;AACXtzI,WAAO,EAAG;;EADC;AAIXi0E,SAAK,EAAE,YAJI;AAKXpiE,YAAQ,EAAE,CALC;AAMXqpI,SAAK,EAAE;AANI,GADO;AASnBC,mBAAiB,EAAE;AAElBn7I,WAAO,EAAE,MAAMi2H,mBAAQ,CAAE;;;;;;;;;;;;;;;;;;GAAF,CAFL;AAqBlBhiD,SAAK,EAAE,4BArBW;AAsBlBpiE,YAAQ,EAAE,CAtBQ;AAuBlBhsB,WAAO,EAAE,CAAC;AACTyiH,cAAQ,EAAE,aADD;AAETj6G,SAAG,EAAE;AAFI,KAAD;AAvBS;AATA,CAApB;AAsDA,MAAM+sJ,MAAM,GAAGt6E,YAAY,EAA3B;AACA,MAAMu6E,iBAAiB,GAAG17D,uBAAO,CAAC/4E,IAAR,CAAc,cAAaw0I,MAAO,EAAlC,EAAsC,EAAtC,CAA1B;AACA,MAAM3H,qBAAS,GAAG31E,UAAU,CAAC,UAAD,EAAa,kBAAb,CAAV,GAA6C,SAA7C,GAAyD,MAA3E;AACA,MAAMw9E,mBAAmB,GAAG7H,qBAAS,KAAK,MAAd,GAAuB,gBAAvB,GAA0C,gBAAtE;;AAEA,MAAM8H,oBAAoB,GAAGvzI,KAAK,IACjCA,KAAK,CAACg1D,MAAN,CAAa,CAACuR,GAAD,EAAM5xE,CAAN,EAAS5Z,CAAT,KAAe;AAC3B,MAAI4Z,CAAJ,EAAO4xE,GAAG,CAAE,IAAGxrF,CAAE,EAAP,CAAH,GAAe;AAAER,QAAI,EAAEoa;AAAR,GAAf;AACP,SAAO4xE,GAAP;AACA,CAHD,EAGG,EAHH,CADD;;AAQO,MAAMitE,cAAmE,GAAG,EAA5E;;AACP,IAAI/H,qBAAS,KAAK,SAAlB,EAA6B;AAC5B,MAAIrzE,gBAAgB,EAApB,EAAwB;AACvBo7E,kBAAc,CAACh6J,IAAf,CAAoB;AACnBe,UAAI,EAAE,WADa;AAEnBY,UAAI,EAAE,gBAFa;AAGnBmpF,aAAO,EAAEqT,uBAAO,CAAC/4E,IAAR,CAAc,yCAAwC/a,MAAM,CAACu0E,gBAAgB,EAAjB,CAAqB,EAAjF,EAAqF,IAArF;AAHU,KAApB;AAKA;;AACDo7E,gBAAc,CAACh6J,IAAf,CAAoB;AACnBe,QAAI,EAAE,YADa;AAEnBY,QAAI,EAAE,YAFa;AAGnBmpF,WAAO,EAAEqT,uBAAO,CAAC/4E,IAAR,CAAa,uCAAb,EAAsD20I,oBAAoB,CAAC,CACnF,YADmF,EAEnF,OAFmF,EAGnF,QAHmF,CAAD,CAA1E;AAHU,GAApB;AASA,CAjBD,MAiBO,IAAI9H,qBAAS,KAAK,MAAlB,EAA0B;AAChC+H,gBAAc,CAACh6J,IAAf,CAAoB;AACnBe,QAAI,EAAE,YADa;AAEnBY,QAAI,EAAE,YAFa;AAGnBmpF,WAAO,EAAEqT,uBAAO,CAAC/4E,IAAR,CAAa,oCAAb,EAAmD20I,oBAAoB,CAAC,CAChF,QADgF,EAEhF,WAFgF,EAGhF,WAHgF,EAIhF,gBAJgF,EAKhF,YALgF,EAMhF,OANgF,CAAD,CAAvE;AAHU,GAApB;AAYA;;AAED,IAAIE,UAAJ;AACA,IAAInI,sBAAJ;AACA,IAAI9tH,mBAAJ;;AAEA,IAAIk2H,kBAAJ;;AACO,MAAMC,iBAAsC,GAAG,IAAInjF,OAAJ,CAAYyD,GAAG,IAAI;AAAEy/E,oBAAkB,GAAGz/E,GAArB;AAA2B,CAAhD,CAA/C;AACA,IAAI2/E,uBAAJ;;AAEP,MAAMn3I,mBAAO,GAAG,CAAC,YAAY;AAC5B,QAAMhH,KAAK,GAAG49I,iBAAiB,CAAC92J,GAAlB,EAAd;;AACA,QAAMuhB,QAAQ,GAAG0yD,OAAO,CAACt3D,GAAR,CAAYs6I,cAAc,CAACx2J,GAAf,CAAmB,CAAC;AAAEsnF;AAAF,GAAD,KAAiBA,OAAO,CAAC/nF,GAAR,EAApC,CAAZ,EACf8Y,IADe,CACVV,CAAC,IAAIA,CAAC,CAACjM,IAAF,CAAO4wF,OAAP,CADK,CAAjB;;AAEA,MAAI;AAAEzrF,WAAF;AAAW2vB,WAAX;AAAoBkwH;AAApB,MAAiC,MAAMj4I,KAA3C;AACA,MAAI,CAAC5H,OAAD,IAAY,CAACzU,MAAM,CAAC8jB,MAAP,CAAcrP,OAAd,EAAuBxR,MAAxC,EAAgDwR,OAAO,GAAG,MAAMiQ,QAAhB;AAChD,SAAO;AAAEjQ,WAAF;AAAW2vB,WAAX;AAAoBkwH;AAApB,GAAP;AACA,CAPe,GAAhB;;AASA/0J,kBAAM,CAAC+rH,UAAP,GAAoB,YAAY;AAC/BmvC,qBAAmB,CAACl7J,kBAAM,CAACkF,OAAP,CAAei0J,UAAf,CAA0B/xJ,KAA3B,CAAnB;AACA0zJ,YAAU,GAAG,IAAIK,oBAAJ,CAAyB,UAAzB,EAAqCh0E,IAAI,CAAC,sBAAD,CAAzC,EAAmEnnF,kBAAM,CAACkF,OAAP,CAAei0J,UAAf,CAA0B/xJ,KAA7F,CAAb;AACA0zJ,YAAU,CAACpvC,QAAX,CAAoB,MAAM;AACzB1rH,sBAAM,CAACkF,OAAP,CAAei0J,UAAf,CAA0B/xJ,KAA1B,GAAkC0zJ,UAAU,CAACz3D,OAA7C;AACAuyB,gBAAA,CAAa51H,kBAAM,CAACkF,OAAP,CAAei0J,UAA5B;AACA,GAHD;AAIA2B,YAAU,CAACzK,aAAX,CAAyB,MAAM;AAAE6K,uBAAmB,CAACJ,UAAU,CAACz3D,OAAZ,CAAnB;AAA0C,GAA3E;AACAy3D,YAAU,CAACrK,MAAX,CAAkB,MAAlB;AACArwD,gBAAc,CAAC,CAAC,MAAD,CAAD,EAAWg7D,oBAAX,EAAiC;AAAEpqE,aAAS,EAAE;AAAb,GAAjC,CAAd;AAEAsuC,oBAAA,CAAyB,CAAC,QAAD,EAAWwzB,qBAAX,CAAzB;AACAH,wBAAU,GAAG,IAAIsB,qBAAJ,CAAeyG,iBAAf,EAAkC5H,qBAAlC,CAAb;AAEA,QAAM;AAAE59I,WAAF;AAAW2vB,WAAO,EAAEw2H,QAApB;AAA8BtG;AAA9B,MAA2C,MAAMjxI,mBAAvD;AAEA6uI,wBAAU,CAACkF,YAAX,CAAwB3iJ,OAAxB;AACAomJ,qBAAmB;;AAEnBP,oBAAkB,CAACpI,sBAAD,CAAlB;;AAEA,QAAMuG,kBAAkB,GAAGl5J,kBAAM,CAACkF,OAAP,CAAeg0J,kBAAf,CAAkC9xJ,KAAlC,IAA2CurJ,sBAAU,CAACkD,gBAAX,GAA8BnyJ,MAApG;AAEA08F,gBAAc,CAAC,CAAC0yD,qBAAD,CAAD,EAAc,MAAM3iE,KAAN,IAAe;AAC1C,QAAI,CAACorE,YAAY,CAACprE,KAAD,CAAjB,EAA0B;AAE1B,QAAI+oE,kBAAJ,EAAwB/oE,KAAK,CAACj7C,OAAN,CAAcwrC,SAAd,CAAwBzmE,GAAxB,CAA4B,8BAA5B;;AAExB,QAAI;AAAE,YAAM04I,sBAAU,CAACmG,QAAX,CAAoB3oE,KAApB,CAAN;AAAmC,KAAzC,CAA0C,OAAOlkF,CAAP,EAAU;AAAEkT,aAAO,CAACjZ,KAAR,CAAc+F,CAAd;AAAmB;;AACzE,QAAIitJ,kBAAJ,EAAwB/oE,KAAK,CAACj7C,OAAN,CAAcwrC,SAAd,CAAwBhlE,MAAxB,CAA+B,8BAA/B;AACxB,GAPa,EAOX;AAAEs1E,aAAS,EAAE,IAAb;AAAmBnkF,MAAE,EAAE;AAAvB,GAPW,CAAd;AASA,MACC7M,kBAAM,CAACkF,OAAP,CAAeu0J,eAAf,CAA+BryJ,KAA/B,IAAwC+1E,UAAU,CAAC,UAAD,CAAlD,IACAn9E,kBAAM,CAACkF,OAAP,CAAew0J,gBAAf,CAAgCtyJ,KAAhC,IAAyC+1E,UAAU,CAAC,SAAD,CAFpD,EAGEw1E,sBAAU,CAACgC,aAAX,CAAyB,KAAzB;AAEF9vH,qBAAO,GAAG,OAAOw2H,QAAP,KAAoB,SAApB,GACTA,QADS,GAETr7J,kBAAM,CAACkF,OAAP,CAAeq0J,cAAf,CAA8BnyJ,KAA9B,IAAuCurJ,sBAAU,CAACkD,gBAAX,GAA8B/2E,IAA9B,CAAmC9iE,CAAC,IAAI,EAAEA,CAAC,YAAYk2I,6BAAf,CAAxC,CAFxC;AAIA,MAAI6C,QAAJ,EAAcruE,mBAAmB,CAAC,MAAM;AAAEg0E,qBAAiB,CAACvhG,KAAlB,CAAwB;AAAE47F,cAAQ,EAAErsJ,IAAI,CAACyiB,GAAL;AAAZ,KAAxB;AAAoD,GAA7D,CAAnB;AACd,CA1CD;;AA4CAnrB,kBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3Bu4E,4BAA0B;;AAE1B,MAAIx7J,kBAAM,CAACkF,OAAP,CAAeo0J,eAAf,CAA+BlyJ,KAAnC,EAA0C;AACzC0zJ,cAAU,CAACtjC,WAAX,CAAuBrwC,IAAI,CAAC,uBAAD,CAA3B,EAAsD,CAAtD;AACA;;AAEDs0E,gCAA8B;AAC9B,CARD;;AAUA,MAAMF,YAAY,GAAGprE,KAAK,IACzB,EACCnwF,kBAAM,CAACkF,OAAP,CAAes0J,eAAf,CAA+BpyJ,KAA/B,IAAwCjE,YAAO,CAACmiC,QAAhD,IACA46C,kBAAkB,OAAO/8E,YAAO,CAACmiC,QADjC,IAEAniC,YAAO,CAACmiC,QAAR,KAAqB6qD,KAAK,CAACwD,SAAN,EAHtB,CADD;;AAQA,SAAS6nE,0BAAT,GAAsC;AACrC,QAAME,gBAAgB,GAAG,sBAAO,MAAM;AACrC/I,0BAAU,CAACpwJ,aAAX;;AAEA,QAAI66E,SAAS,CAAC,IAAD,CAAb,EAAqB;AACpB,UAAID,UAAU,CAAC,UAAD,CAAd,EAA4B;AAC3Bj9E,gBAAQ,CAAC24E,aAAT,CAAuB,+BAAvB,EAAwDtpD,MAAxD,CAA+DojI,sBAAU,CAACz9G,OAA1E;AACA,OAFD,MAEO;AACNh1C,gBAAQ,CAAC24E,aAAT,CAAuB,oCAAvB,EAA6DtpD,MAA7D,CAAoEojI,sBAAU,CAACz9G,OAA/E;AACA;AACD,KAND,MAMO;AACNymH,mBAAa,CAACvsI,MAAd,CAAqBujI,sBAAU,CAACz9G,OAAhC;AACA;;AAEDgiH,iBAAA,CAAsB,mBAAtB,EAA2C,EAAE,GAAGoD,WAAW,CAACE,iBAAjB;AAAoChuC,cAAQ,EAAEmmC,sBAAU,CAACz9G;AAAzD,KAA3C;AACA,GAdwB,CAAzB;;AAgBA,QAAMymH,aAAa,GAAG3jE,6BAAa,CAACD,WAAd,CAA0B;AAC/Cv1F,QAAI,EAAE,EADyC;AAE/C8wF,SAAK,EAAE,8BAFwC;AAG/C7jF,aAAS,EAAE,kCAHoC;AAI/C+E,WAAO,EAAEqwB,mBAJsC;AAK/CozD,YAAQ,EAAE32D,MAAM,IAAI;AACnBuD,yBAAO,GAAGvD,MAAV;;AAEA,UAAIuD,mBAAJ,EAAa;AACZ62H,wBAAgB;AAChB5gF,uBAAe,CAAC63E,sBAAU,CAACz9G,OAAZ,EAAqB,IAArB,EAA2B;AAAE6lC,qBAAW,EAAE;AAAf,SAA3B,CAAf;AACA;;AAED,UAAI43E,sBAAU,CAACz9G,OAAf,EAAwBy9G,sBAAU,CAACz9G,OAAX,CAAmBpe,MAAnB,GAA4B,CAAC+N,mBAA7B;AACxB61H,uBAAiB,CAACvhG,KAAlB,CAAwB;AAAEt0B,eAAOA;AAAT,OAAxB;AACA;AAf8C,GAA1B,CAAtB;;AAkBAo2H,yBAAuB,GAAG,MAAM;AAAE,QAAI,CAACp2H,mBAAL,EAAc82H,aAAa,CAACtxI,KAAd;AAAwB,GAAxE;;AAEA,QAAM;AAAE6tG,UAAF;AAAUE;AAAV,MAA6Bu6B,sBAAU,CAACqF,MAAX,EAAnC;AACA59B,iBAAA,CACC,iBADD,EAEC,wBAFD,EAGC,CAACN,GAAD,EAAMz3H,GAAN,KAAc61H,MAAM,CAAC71H,GAAD,CAHrB,EAIC,CAACy3H,GAAD,EAAMz3H,GAAN,KAAc;AAAE44J,2BAAuB;AAAI7iC,kBAAc,CAAC/1H,GAAD,CAAd;AAAsB,GAJlE;AAOA+3H,iBAAA,CACC,IADD,EAEC,uBAFD,EAGC,MAAM,kBAHP,EAIC,MAAM;AAAE6gC,2BAAuB;AAAItI,0BAAU,CAAC8B,cAAX,CAA0BpqI,KAA1B;AAAoC,GAJxE;AAOA6sI,eAAA,CAAsB,YAAtB,EAAoC,EACnC,GAAGoD,WAAW,CAAC3H,UADoB;AAEnCnmC,YAAQ,EAAEmvC,aAFyB;AAGnCC,gBAAY,EAAE,MAAM;AACnBX,6BAAuB;AACvB,aAAO,mBAAP;AACA;AANkC,GAApC;AASA,MAAIp2H,mBAAJ,EAAa62H,gBAAgB;AAC7B;;AAED,MAAMG,sBAAN,CAAiB;AAEhB,MAAIryJ,IAAJ,GAAW;AAAE,WAAOxJ,kBAAM,CAACkF,OAAP,CAAe,KAAK42J,WAApB,EAAiC10J,KAAxC;AAAgD;;AAG7D3D,aAAW,CAACq4J,WAAD,EAA4C;AAAA,SAJvDA,WAIuD;AAAA,SAFvDjsJ,MAEuD;AACtD,SAAKisJ,WAAL,GAAmBA,WAAnB;AACA;;AAEDl0B,YAAU,CAACm0B,QAAD,EAAmBC,kBAAnB,EAA0CC,UAAa,GAAG,CAAC,MAAD,CAA1D,EAAoE;AAC7E,UAAMC,WAAW,GAAG,IAApB;;AACA,UAAM3sF,OAAO,GAAG,IAAIiU,GAAJ,EAAhB;AAWA,SAAK3zE,MAAL,GAAcssJ,iBAAiB,CAAC,KAAKL,WAAN,EAAmB30E,IAAI,CAACnnF,kBAAM,CAACkF,OAAP,CAAe,KAAK42J,WAApB,EAAiCxoE,KAAlC,CAAvB,EATT,MAAM;AAC3B/jB,aAAO,CAACH,KAAR;AACA,aAAOkwD,YAAA,CAAmBA,QAAA,CAAe,KAAf,EAAsB,KAAK91H,IAAL,CAAUnF,GAAV,CAAc2X,CAAC,IAAI;AAClE,cAAM8wB,CAAC,GAAGsvH,wBAAwB,CAACpgJ,CAAD,EAAI+/I,QAAJ,EAAcC,kBAAd,CAAlC;AACAzsF,eAAO,CAACruD,GAAR,CAAY4rB,CAAZ,EAAe9wB,CAAf;AACA,eAAO8wB,CAAP;AACA,OAJ+C,CAAtB,CAAnB,CAAP;AAKA,KAE8B,EAAgF,cAAcolH,6BAAd,CAA6B;AAC3IzuJ,iBAAW,CAACoJ,EAAD,EAAQikJ,QAAR,EAAqB3rJ,IAArB,EAA8B05H,UAA9B,EAA6C/hH,KAA7C,EAAuDi0I,OAAU,GAAG,EAApE,EAAwE;AAClF,cAAMsL,QAAQ,GAAGJ,UAAU,CAAC5/E,MAAX,CAAkB,CAACuR,GAAD,EAAMvrF,GAAN,KAAc;AAChDurF,aAAG,CAACvrF,GAAD,CAAH,GAAW,OAAO0uJ,OAAO,CAAC1uJ,GAAD,CAAd,KAAwB,SAAxB,GAAoC0uJ,OAAO,CAAC1uJ,GAAD,CAA3C,GAAmD,IAA9D;AACA,iBAAOurF,GAAP;AACA,SAHgB,EAGd,EAHc,CAAjB;;AAIA,cAAM/gF,EAAN,EAAUikJ,QAAV,EAAoB3rJ,IAApB,EAA0B05H,UAA1B,EAAsC/hH,KAAtC,EAA6Cu/I,QAA7C;AACA,aAAKlK,aAAL,GAAqB8J,UAArB;AACA;;AAED,YAAMlK,gBAAN,CAAuB5hE,KAAvB,EAA8B;AAC7B,cAAMmsE,QAAQ,GAAG52J,KAAK,CAACwsE,IAAN,CAAW3C,OAAO,CAAC/hE,IAAR,EAAX,EAA2BnJ,GAA3B,CAA+B2X,CAAC,IAAI0iH,SAAI,CAACO,cAAL,CAAoBjjH,CAApB,EAAuBkjH,QAAvB,CAAgC/uC,KAAhC,KAA0C5gB,OAAO,CAAC3rE,GAAR,CAAYoY,CAAZ,CAA9E,CAAjB;AACA,eAAO,CAAC,MAAM67D,OAAO,CAACt3D,GAAR,CAAY+7I,QAAZ,CAAP,EAA8BzsJ,MAA9B,CAAqC8wF,OAArC,CAAP;AACA;;AAEDqxD,iBAAW,CAAC7iF,OAAD,EAAU;AAAE+sF,mBAAW,CAACK,WAAZ,CAAwB,KAAxB,EAA+B,GAAGptF,OAAlC;AAA6C;;AAfuE,KAA7G,CAA/B;AAiBA;;AAGDqtF,WAAS,CAACC,WAAD,EAAyB;AACjC,WAAO,KAAKjzJ,IAAL,CAAUuG,IAAV,CAAe,CAAC,CAAC8wE,GAAD,CAAD,KAAWA,GAAG,CAACp5E,WAAJ,OAAsBg1J,WAAW,CAACh1J,WAAZ,EAAhD,CAAP;AACA;;AAED80J,aAAW,CAACvD,QAAD,EAAoB,GAAG7pF,OAAvB,EAA0C;AACpD,QAAI6pF,QAAJ,EAAc;AACb,WAAKxvJ,IAAL,CAAU3I,IAAV,CAAe,GAAGsuE,OAAlB;AACA,KAFD,MAEO;AACN,qBAAO,KAAK3lE,IAAZ,EAAkB,GAAG2lE,OAArB;AACA;;AAEDymD,gBAAA,CAAa51H,kBAAM,CAACkF,OAAP,CAAe,KAAK42J,WAApB,CAAb;AACA,QAAI,KAAKjsJ,MAAT,EAAiB,OAAO,KAAKA,MAAL,CAAY45E,MAAZ,CAAmB7jF,SAAnB,EAA8B,IAA9B,CAAP;AACjB;;AAED82J,gBAAc,CAACD,WAAD,EAA+B;AAC5C,WAAO,CAAC,CAAC,KAAKD,SAAL,CAAeC,WAAf,CAAT;AACA;;AAED,QAAME,YAAN,CAAmBF,WAAnB,EAAwCzD,QAAkB,GAAG,CAAC,KAAK0D,cAAL,CAAoBD,WAApB,CAA9D,EAAgG;AAC/F,QAAI79B,6BAAa,CAAC39F,OAAlB,EAA2B29F,6BAAa,CAAC39F,OAAd,CAAsBk6C,MAAtB;AAC3B,UAAM,KAAKohF,WAAL,CAAiBvD,QAAjB,EAA2B,KAAKwD,SAAL,CAAeC,WAAf,KAA+B,CAACA,WAAD,CAA1D,CAAN;AACA;;AAhEe;;AAmEV,MAAMG,WAAW,GAAG;AAC1B5C,OAAK,EAAE,IAAI6B,sBAAJ,CAAe,OAAf,CADmB;AAE1Bl8E,YAAU,EAAE,IAAIk8E,sBAAJ,CAAe,YAAf,CAFc;AAG1BxwC,UAAQ,EAAE,IAAIwwC,sBAAJ,CAAe,UAAf,CAHgB;AAI1B53B,SAAO,EAAE,IAAI43B,sBAAJ,CAAe,SAAf,CAJiB;AAK1B1B,OAAK,EAAE,IAAI0B,sBAAJ,CAAe,OAAf;AALmB,CAApB;AAQA,SAASM,iBAAT,CAA2BtvJ,EAA3B,EAAuC1H,IAAvC,EAAqD03J,aAArD,EAA6EhM,MAA6B,GAAGqB,6BAA7G,EAA6H;AACnI,QAAMlzB,KAAK,GAAGM,WAAA,CAAkBzyH,EAAlB,EAAsBgwJ,aAAtB,EAAqC,UAArC,EAAiD/J,qBAAjD,CAAd;AACA,SAAOH,sBAAU,CAAC2E,YAAX,CAAwB;AAAEzG,UAAF;AAAUhkJ,MAAV;AAAc1H,QAAd;AAAoBvD,QAAI,EAAEo9H,KAAK,CAACp9H,IAAhC;AAAsCkb,SAAK,EAAE,KAA7C;AAAoD7C,OAAG,EAAE,IAAzD;AAA+DikG,QAAI,EAAE;AAArE,GAAxB,CAAP;AACA;;AAED,SAASo9C,mBAAT,GAA+B;AAC9B,QAAMwB,aAAa,GAAG,kBACrB98J,kBAAM,CAACkF,OAAP,CAAey1J,mBAAf,EAAoCvzJ,KADf,EAErB,CAAC;AAAEuwB,QAAI,EAAE;AAAEi8H;AAAF,QAAe;AAAvB,GAAD,KAAiCA,QAAQ,GAAG,UAAH,GAAgB,QAFpC,CAAtB;;AAKA,MAAIkJ,aAAa,CAAClJ,QAAlB,EAA4B;AAC3B,UAAM3rC,KAAK,GAAG60C,aAAa,CAAClJ,QAAd,CAAuBvvJ,GAAvB,CAA2B2X,CAAC,IAAI+gJ,eAAe,CAAC/gJ,CAAD,EAAI,IAAJ,CAA/C,CAAd;AACA22I,0BAAU,CAACgF,mBAAX,CAA+B1vC,KAAK,CAAC5jH,GAAN,CAAU,CAAC;AAAEzC;AAAF,KAAD,KAAcA,IAAxB,CAA/B;AACA;;AAGDu6J,mBAAiB,CAACxB,mBAAD,EAAsBxzE,IAAI,CAACnnF,kBAAM,CAACkF,OAAP,CAAey1J,mBAAf,EAAoCrnE,KAArC,CAA1B,EAAuE,OAAO;AAAE1xF,QAAI,EAAE;AAAR,GAAP,CAAvE,CAAjB;;AAEA,OAAK,MAAMiyJ,YAAX,IAA4BiJ,aAAa,CAAC//I,MAAd,IAAwB,EAApD,EAAyD;AACxD,UAAM8hH,UAAU,GAAGS,YAAA,CAAmBu0B,YAAY,CAACzvI,IAAhC,CAAnB;AACA,QAAI,CAACk7G,QAAA,CAAeT,UAAU,CAACj9H,IAA1B,CAAL,EAAsC;AACtCu6J,qBAAiB,CAACtI,YAAY,CAAChnJ,EAAd,EAAkB,CAACgnJ,YAAY,CAACl8H,IAAb,IAAqB,EAAtB,EAA0BxyB,IAA5C,EAAkD,MAAM05H,UAAxD,EAAoE,cAAcqzB,6BAAd,CAA6B;AACjHzuJ,iBAAW,CAACoJ,EAAD,EAAQikJ,QAAR,EAAqB3rJ,IAArB,EAA8B05H,UAA9B,EAA6C/hH,KAA7C,EAAuDi0I,OAAvD,EAAmE;AAC7E,cAAMyB,SAAS,GAAG,CAAC,EAAEqB,YAAY,CAACl8H,IAAb,IAAqBk8H,YAAY,CAACl8H,IAAb,CAAkB66H,SAAzC,CAAnB;AACA,cAAM3lJ,EAAN,EAAUikJ,QAAV,EAAoB3rJ,IAApB,EAA0B05H,UAA1B,EAAsC/hH,KAAtC,EAA6C;AAAE0H,cAAI,EAAE,IAAR;AAAcguI,mBAAd;AAAyB,aAAGzB;AAA5B,SAA7C;AACA;;AAJgH,KAAjG,CAAjB;AAMA;;AAED,MAAI,CAAC5zE,UAAU,CAAC,SAAD,CAAf,EAA4B;AAC3B,UAAM4zE,OAAO,GAAG,CACf/wJ,kBAAM,CAACkF,OAAP,CAAe+0J,gBAAf,CAAgC7yJ,KADjB,EAEfpH,kBAAM,CAACkF,OAAP,CAAeg1J,uBAAf,CAAuC9yJ,KAFxB,EAGdyI,MAHc,CAGP8wF,OAHO,CAAhB;AAIAi8D,eAAW,CAAC5C,KAAZ,CAAkBpyB,UAAlB,CAA6B,UAA7B,EAAyChiI,SAAzC,EAAoDmrJ,OAApD;AACA;;AAED,MAAI+B,qBAAS,KAAK,MAAlB,EAA0B;AACzB8J,eAAW,CAACvxC,QAAZ,CAAqBuc,UAArB,CAAgC,WAAhC;AACAg1B,eAAW,CAAC34B,OAAZ,CAAoB2D,UAApB,CAA+B,QAA/B,EAAyC;AAAElI,eAAS,EAAE;AAAb,KAAzC;;AACA,QACC1/H,kBAAM,CAACkF,OAAP,CAAe20J,oBAAf,CAAoCzyJ,KAApC,KAA8C,YAA9C,IACApH,kBAAM,CAACkF,OAAP,CAAe20J,oBAAf,CAAoCzyJ,KAApC,KAA8C,6BAA9C,IAA+E,CAACq4E,gBAAgB,EADhG,IAEAC,kBAAkB,CAAC,KAAD,CAFlB,IAE6BA,kBAAkB,CAAC,SAAD,CAF/C,IAGAO,aAAa,EAHb,IAIAH,oBAAoB,CAAC,UAAD,CALrB,EAME;AACD88E,iBAAW,CAACj9E,UAAZ,CAAuBioD,UAAvB,CAAkC,WAAlC;AACA;;AACDg1B,eAAW,CAACzC,KAAZ,CAAkBvyB,UAAlB,CAA6B,WAA7B;AACA;AACD;;AAEM,SAASm1B,eAAT,CAAyBlJ,YAAzB,EAAyDmJ,UAAmB,GAAG,KAA/E,EAAsF;AAC5F,QAAMH,aAAa,GAAG,MAAMv9B,YAAA,CAAmBu0B,YAAY,CAACzvI,IAAhC,CAA5B;;AAEA,MAAI,CAAC44I,UAAD,IAAe19B,QAAA,CAAeu9B,aAAa,GAAGj7J,IAA/B,CAAnB,EAAyD;AACxD,WAAO09H,WAAA,CAAkBu0B,YAAY,CAAChnJ,EAA/B,EAAmCgwJ,aAAnC,EAAkD,UAAlD,EAA8D/J,qBAA9D,EAAyEe,YAAzE,CAAP;AACA,GAFD,MAEO;AACN,WAAOv0B,WAAP;AACA;AACD;AAEM,SAAS29B,eAAT,CAAyB;AAAE74I,MAAF;AAAQuT;AAAR,CAAzB,EAAoF;AAC1F,QAAMk8H,YAAY,GAAG;AACpBhrC,QAAI,EAAG,QAAO1oC,YAAY,EAAG,EADT;AAEpB2oC,OAAG,EAAE,CAFe;AAGpBj8G,MAAE,EAAG,gBAAenE,IAAI,CAACyiB,GAAL,EAAW,EAHX;AAIpB/G,QAJoB;AAKpBuT;AALoB,GAArB;AAQA33B,oBAAM,CAACkF,OAAP,CAAey1J,mBAAf,EAAoCvzJ,KAApC,CAA0C+J,OAA1C,CAAkD0iJ,YAAlD;AACAj+B,cAAA,CAAa51H,kBAAM,CAACkF,OAAP,CAAey1J,mBAAf,CAAb;AAEA,SAAO9G,YAAP;AACA;AAEM,SAASqJ,kBAAT,CAA4BrJ,YAA5B,EAA4DxxJ,GAA5D,EAA2F;AAEjGmpF,YAAU,CAAEqoE,YAAF,EAAuBxxJ,GAAvB,CAAV;AACAuzH,cAAA,CAAa51H,kBAAM,CAACkF,OAAP,CAAey1J,mBAAf,CAAb;AACA;AAEM,eAAewC,4BAAf,CAA4Cv7J,IAA5C,EAA0D;AAChE,QAAM;AAAE+pF;AAAF,MAAckvE,cAAc,CAAC9qJ,IAAf,CAAoBiM,CAAC,IAAIA,CAAC,CAACpa,IAAF,KAAWA,IAApC,KAA6C,EAAjE;AACA,MAAI,CAAC+pF,OAAL,EAAc,MAAM,IAAIvrF,KAAJ,CAAW,mCAAkCwB,IAAK,EAAlD,CAAN;AAEd,QAAMoa,CAAY,GAAI,MAAM0+I,iBAAiB,CAAC92J,GAAlB,EAA5B;AACA,MAAI;AAAEsR;AAAF,MAAc,oBAAY8G,CAAZ,KAAkB,EAApC;AACA,MAAI,kBAAU9G,OAAV,CAAJ,EAAwBA,OAAO,GAAG,IAAV;AACxB,QAAMy2E,OAAO,CAACzqE,GAAR,CAAYhM,OAAZ,CAAN;AACAspH,gCAAA,CAA+B,QAA/B,EAAyC,IAAzC;AACA;;AAED,SAAS49B,wBAAT,CAAkCz5I,MAAlC,EAA0Co5I,QAA1C,EAAoDC,kBAApD,EAAwE;AACvE,QAAM,CAACS,WAAW,GAAG,EAAf,EAAmBW,OAAO,GAAG,YAA7B,EAA2CC,SAAS,GAAG,EAAvD,EAA2DC,MAAM,GAAG,EAApE,IAA0E36I,MAAhF;AAEA,QAAM46I,UAAU,GAAG;AAClB37J,QAAI,EAAEm6J,QADY;AAElBp8B,QAAI,EAAE88B,WAFY;AAGlB,OAAGT;AAHe,GAAnB;AAMA,MAAIr5I,MAAM,CAACjf,MAAP,KAAkB,CAAtB,EAAyB,OAAO65J,UAAP;AAEzB,MAAIC,iBAAJ;;AACA,MAAIJ,OAAO,KAAK,YAAhB,EAA8B;AAC7B,UAAMz9E,UAAU,GAAG09E,SAAS,CAAC71J,KAAV,CAAgB,GAAhB,CAAnB;;AAEA,QAAIm4E,UAAU,CAAC89E,SAAX,CAAqBzhJ,CAAC,IAAI,CAACA,CAA3B,MAAkC,CAAC,CAAvC,EAA0C;AACzCmD,aAAO,CAACjZ,KAAR,CAAc,uCAAd,EAAuDyc,MAAvD;AACA,aAAO;AAAE/gB,YAAI,EAAE;AAAR,OAAP;AACA;;AAED47J,qBAAiB,GAAGl+B,QAAA,CAAe89B,OAAO,KAAK,SAAZ,GAAwB,MAAxB,GAAiC,KAAhD,EAAuD,CAG1Ez9E,UAAU,CAAC/9B,QAAX,CAAoB,KAApB,IAA6B;AAC5BhgD,UAAI,EAAE,YADsB;AAE5B+9H,UAAI,EAAE;AAFsB,KAA7B,GAGI,IANsE,EAQ1EhgD,UAAU,CAAC/9B,QAAX,CAAoB,SAApB,IAAiC;AAChChgD,UAAI,EAAE,YAD0B;AAEhC+9H,UAAI,EAAE;AAF0B,KAAjC,GAGI,IAXsE,EAa1E,GAAGhgD,UAAU,CAACt7E,GAAX,CAAe8qI,EAAE,KAAK;AACxBvtI,UAAI,EAAE,WADkB;AAExB+9H,UAAI,EAAEwP;AAFkB,KAAL,CAAjB,CAbuE,EAiBzEt/H,MAjByE,CAiBlE8wF,OAjBkE,CAAvD,CAApB;AAkBA;;AAED,SAAO2+B,QAAA,CAAe,KAAf,EAAsB,CAE5Bk+B,iBAAiB,IAAI,IAFO,EAI5BD,UAJ4B,EAM3BD,MAAM,IAAIA,MAAM,CAAC55J,MAAlB,IAA6B47H,QAAA,CAAe,MAAf,EAAuB,CAAC;AACpD19H,QAAI,EAAEm6J,QAD8C;AAEpDp8B,QAAI,EAAE29B,MAF8C;AAGpD,OAAGtB;AAHiD,GAAD,CAAvB,CAA7B,IAIO,IAVqB,EAW3BnsJ,MAX2B,CAWpB8wF,OAXoB,CAAtB,CAAP;AAYA;;AAED,MAAMi5D,sBAAsB,GAAG,CAAC,MAAM;AAOrC,QAAM8D,WAAW,GAAGv1E,KAAK,CAAC,MAAM8O,QAAN,IAAkB;AAC3C,UAAM0mE,IAAI,GAAI,MAAMt7H,IAAI,CAAC;AACxBZ,SAAG,EAAG,MAAKw1D,QAAQ,CAAC5yF,GAAT,CAAaooC,CAAC,IAAIA,CAAC,CAACmzC,GAApB,EAAyBzyE,IAAzB,CAA8B,GAA9B,CAAmC,WADtB;AAExB+3E,WAAK,EAAE;AAAEr9D,SAAC,EAAE,KAAL;AAAYqvE,aAAK,EAAE;AAAnB,OAFiB;AAGxBt1F,UAAI,EAAE;AAHkB,KAAD,CAAxB;;AAMA,QAAI,CAAC+7J,IAAI,CAACx8I,IAAL,CAAU3H,QAAV,CAAmB9V,MAAxB,EAAgC;AAG/B,aAAOuzF,QAAQ,CAAC5yF,GAAT,CAAa,MAAM,CAAnB,CAAP;AACA;;AAED,UAAMu5J,aAAa,GAAG,eACrB,MAAMD,IAAI,CAACx8I,IAAL,CAAU3H,QAAV,CAAmBmB,OAAnB,EADe,EAErB,gBAAMglF,IAAI,IAAIA,IAAI,CAACx+E,IAAL,CAAUi9D,SAAV,CAAoB32E,WAApB,EAAd,CAFqB,EAGrB,oBAAUk4F,IAAI,IAAIA,IAAI,CAACx+E,IAAL,CAAUwuI,KAA5B,CAHqB,GAAtB;;AAMA,WAAO14D,QAAQ,CAAC5yF,GAAT,CAAa,CAAC;AAAEu7E,SAAF;AAAOhiE,WAAK,GAAG;AAAf,KAAD,KAA2D;AAC9E,YAAM+xI,KAAK,GAAGiO,aAAa,CAACh+E,GAAG,CAACn4E,WAAJ,EAAD,CAA3B;;AAEA,UAAIkoJ,KAAK,KAAK/pJ,SAAd,EAAyB;AAExB,eAAO+pJ,KAAP;AACA,OAHD,MAGO,IAAI/xI,KAAK,GA1BE,CA0BX,EAAyB;AAE/B,eAAO,CAAP;AACA,OAHM,MAGA;AAEN,eAAO8/I,WAAW,CAAC;AAAE99E,aAAF;AAAOhiE,eAAK,EAAEA,KAAK,GAAG;AAAtB,SAAD,CAAlB;AACA;AACD,KAbM,CAAP;AAcA,GAjCwB,EAiCtB;AAAEo2B,QAAI,EAAE,GAAR;AAAatZ,SAAK,EAAE;AAApB,GAjCsB,CAAzB;;AAmCA,iBAAemjI,gBAAf,CAAgCl+E,UAAhC,EAAyE;AACxE,UAAMm+E,MAAM,GAAG,MAAMjmF,OAAO,CAACt3D,GAAR,CAAYo/D,UAAU,CAACt7E,GAAX,CAAeu7E,GAAG,IAAI89E,WAAW,CAAC;AAAE99E;AAAF,KAAD,CAAjC,CAAZ,CAArB;AAEA,WAAO,iBAAS,cAAMD,UAAN,EAAkBm+E,MAAlB,CAAT,EAAoC,CAAC,GAAGnO,KAAH,CAAD,KAAeA,KAAnD,EACLtrJ,GADK,CACD,CAAC,CAACu7E,GAAD,CAAD,KAAWA,GADV,EAEL/vE,MAFK,CAEE8wF,OAFF,EAGLhmF,OAHK,EAAP;AAIA;;AAED,SAAO4uE,KAAK,CAAC,OAAO;AAAEwwE,mBAAe,GAAG;AAApB,MAA+D,EAAtE,KAA6E;AACzF,UAAMj4D,IAAI,GAAG3+F,YAAO,CAACmiC,QAArB;;AAEA,QAAI,CAACw8D,IAAL,EAAW;AACV,UAAIi4D,eAAJ,EAAqB;AACpBv7B,sCAAA,CAA+B;AAC9B7W,kBAAQ,EAAE3nH,kBAAM,CAAC2nH,QADa;AAE9B6U,wBAAc,EAAE,uBAFc;AAG9BC,gBAAM,EAAE,oBAHsB;AAI9Bp9G,iBAAO,EAAE;AAJqB,SAA/B;AAMA;;AACDF,aAAO,CAACC,IAAR,CAAa,uCAAb;AACA;AACA;;AAEDo/G,kCAAA,CAA+B;AAC9B7W,cAAQ,EAAE3nH,kBAAM,CAAC2nH,QADa;AAE9B6U,oBAAc,EAAE,mBAFc;AAG9Bn9G,aAAO,EAAE;AAHqB,KAA/B;AAMA,UAAM;AAAE8B,UAAI,EAAE;AAAEw+D;AAAF;AAAR,QAA2B,MAAMt9C,IAAI,CAAC;AAC3CZ,SAAG,EAAG,oBAAmBqgE,IAAK,QADa;AAE3ClgG,UAAI,EAAE;AAFqC,KAAD,CAA3C;AAKA,UAAMi7H,QAAQ,GAAGl9C,UAAU,CAACt7E,GAAX,CAAe,CAAC;AAAEc;AAAF,KAAD,KAAcA,IAAI,CAACsC,WAAL,EAA7B,CAAjB;AAEA,UAAMs2J,OAAO,GAAG,MAAMh1E,SAAS,CAC9B,cAAI,CAAC,CAAComD,EAAD,CAAD,KAAUA,EAAd,CAD8B,EAE9B,iBAAOA,EAAE,IAAI,CAACxuH,sBAAM,CAAC4gE,UAAP,CAAkBt0E,IAAlB,CAAuBkiI,EAAvB,CAAd,CAF8B,EAG9B,cAAIhqI,IAAI,IAAIA,IAAI,CAACsC,WAAL,EAAZ,CAH8B,EAI9Bo2J,gBAJ8B,EAK9B,gBAAM,CAAN,EAAS,GAAT,CAL8B,CAAT,CAMpB79J,kBAAM,CAACkF,OAAP,CAAey6E,UAAf,CAA0Bv4E,KANN,CAAtB;;AAQA,UAAM42J,QAAQ,GAAG,qBAAanhC,QAAb,EAAuBkhC,OAAvB,EAAgCr6J,MAAjD;;AACA,UAAMu6J,KAAK,GAAG,qBAAaF,OAAb,EAAsBlhC,QAAtB,EAAgCn5H,MAA9C;;AAEA,QAAI,CAACs6J,QAAD,IAAa,CAACC,KAAlB,EAAyB;AACxBz/B,oCAAA,CAA+B;AAC9B7W,gBAAQ,EAAE3nH,kBAAM,CAAC2nH,QADa;AAE9BsK,iBAAS,EAAE,kBAFmB;AAG9BuK,sBAAc,EAAE,8BAHc;AAI9BT,kBAAU,EAAE,IAJkB;AAK9BU,cAAM,EAAE,mBALsB;AAM9Bp9G,eAAO,EAAG;;;;AANoB,OAA/B;AAWA;AACA;;AAED,QAAI;AAEH,YAAMgjB,IAAI,CAAC;AACV9lB,cAAM,EAAE,KADE;AAEVklB,WAAG,EAAG,oBAAmBqgE,IAAK,QAFpB;AAGV3gF,YAAI,EAAE;AACL+8I,eAAK,EAAEv8I,IAAI,CAACslE,SAAL,CAAe;AACrBtH,sBAAU,EAAEo+E,OAAO,CAAC15J,GAAR,CAAYc,IAAI,KAAK;AAAEA;AAAF,aAAL,CAAhB;AADS,WAAf;AADF;AAHI,OAAD,CAAV;AASA,KAXD,CAWE,OAAO8G,CAAP,EAAU;AACXkT,aAAO,CAACjZ,KAAR,CAAc+F,CAAd;AACAuyH,oCAAA,CAA+B;AAC9B7W,gBAAQ,EAAE3nH,kBAAM,CAAC2nH,QADa;AAE9BsK,iBAAS,EAAE,kBAFmB;AAG9BuK,sBAAc,EAAE,iBAHc;AAI9BC,cAAM,EAAE,uBAJsB;AAK9Bp9G,eAAO,EAAG,gCAA+BpT,CAAE;AALb,OAA/B;AAOA;AACA;;AAEDuyH,kCAAA,CAA+B;AAC9B7W,cAAQ,EAAE3nH,kBAAM,CAAC2nH,QADa;AAE9BsK,eAAS,EAAE,kBAFmB;AAG9BuK,oBAAc,EAAE,mBAHc;AAI9BC,YAAM,EAAE,6BAJsB;AAK9Bp9G,aAAO,EAAG,WAAU2+I,QAAS,cAAaC,KAAM;AALlB,KAA/B;AAOA,GArFW,CAAZ;AAsFA,CAzI8B,GAA/B;;AA2IA,MAAME,wBAAwB,GAAG,sBAAO,MAAMngE,gBAAgB,CAACh+F,kBAAM,CAACkF,OAAP,CAAek0J,SAAhB,EAA2B,CAA3B,EAA8B1rJ,GAAG,IAAIA,GAAG,CAACjG,WAAJ,EAArC,CAA7B,CAAjC;;AAEA,MAAM22J,YAAY,GAAG,kBAAUhgF,SAAS,IAAI;AAC3C,QAAMigF,eAAe,GAAGF,wBAAwB,GAAG//E,SAAS,CAAC32E,WAAV,EAAH,CAAhD;AACA,SAAO42J,eAAe,IAAIA,eAAe,CAAC,CAAD,CAAf,CAAmB,CAAnB,MAA0B,OAApD;AACA,CAHoB,CAArB;;AAKA,SAASjF,SAAT,CAAmBkF,aAAnB,EAAkCC,aAAa,GAAG9+E,gBAAgB,EAAlE,EAAsE;AACrE,MAAI,CAACz/E,kBAAM,CAACkF,OAAP,CAAek0J,SAAf,CAAyBhyJ,KAA1B,IAAmC,CAACpH,kBAAM,CAACkF,OAAP,CAAek0J,SAAf,CAAyBhyJ,KAAzB,CAA+B1D,MAAvE,EAA+E,OAAO,KAAP;;AAE/E,MAAI66J,aAAa,IAAIH,YAAY,CAACG,aAAD,CAAjC,EAAkD;AACjD,WAAO,IAAP;AACA;;AAED,MAAI,CAACD,aAAL,EAAoBA,aAAa,GAAGC,aAAhB;AACpB,MAAI,CAACD,aAAL,EAAoB,OAAO,KAAP;AACpB,QAAME,eAAe,GAAGL,wBAAwB,GAAGG,aAAa,CAAC72J,WAAd,EAAH,CAAhD;;AACA,MAAI+2J,eAAJ,EAAqB;AACpB,QAAIA,eAAe,CAAC,CAAD,CAAf,CAAmB,CAAnB,MAA0B,YAA9B,EAA4C;AAC3C,aAAO,IAAP;AACA,KAFD,MAEO;AACN,aAAO,CAACD,aAAa,IAAI,EAAlB,EAAsB/2J,KAAtB,CAA4B,GAA5B,EAAiCo6C,QAAjC,CAA0C08G,aAA1C,CAAP;AACA;AACD;;AACD,SAAO,KAAP;AACA;;AAED,SAASlD,oBAAT,CAA8BjrE,KAA9B,EAAqC;AACpC,MAAIA,KAAK,CAACiG,MAAN,EAAJ,EAAoB;AACnB,QAAIgjE,SAAS,CAACjpE,KAAK,CAAC4D,YAAN,EAAD,EAAuBtU,gBAAgB,EAAvC,CAAb,EAAyD;AACxD0Q,WAAK,CAACj7C,OAAN,CAAcwrC,SAAd,CAAwBzmE,GAAxB,CAA4B,aAA5B;AACA;;AAGDk2E,SAAK,CAACj7C,OAAN,CAAcwrC,SAAd,CAAwBzmE,GAAxB,CAA4B,QAA5B;AACA;AACD;;AAED,SAASihJ,mBAAT,CAA6BuD,QAA7B,EAAuC;AACtC5mE,6BAAW,CAACpzE,MAAZ,CAAmBg6I,QAAnB,EAA6B,YAA7B;AACA;;AAED,SAAShD,8BAAT,GAA0C;AACzC,QAAM1nE,YAAY,GAAG1xF,GAAG,IACvBA,GAAG,IACHu8H,6BAAa,CAAC39F,OAAd,IAAyB29F,6BAAa,CAAC39F,OAAd,CAAsB8yD,YAAtB,EADzB,IAEAtU,gBAAgB,EAFhB,IAGA,EAJD;;AAOA26C,iBAAA,CAA4B,cAA5B,EAA4C,gDAA5C,EACC,CAACN,GAAD,EAAMz3H,GAAN,KAAc;AACb,UAAM+7E,SAAS,GAAG2V,YAAY,CAAC1xF,GAAD,CAA9B;AACA,WAAQ,gCAA+B+7E,SAAU,EAAjD;AACA,GAJF,EAKC,CAAC07C,GAAD,EAAMz3H,GAAN,KAAc;AACb,UAAM+7E,SAAS,GAAG2V,YAAY,CAAC1xF,GAAD,CAA9B;AACA,QAAI,CAAC+7E,SAAL,EAAgB,OAAO,yCAAP;AAChBw+E,eAAW,CAACj9E,UAAZ,CAAuBg9E,YAAvB,CAAoCv+E,SAApC;AACA,GATF;AAWA,C;;;;;;AC/gCD;AAEA;AACA;AACA;AASA;AACA;AAEO,MAAMp+E,2BAAiB,GAAG,IAAIirH,MAAJ,CAAW,sBAAX,CAA1B;AAEPjrH,2BAAM,CAACkrH,UAAP,GAAoB,0BAApB;AACAlrH,2BAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,2BAAM,CAAC4jG,WAAP,GAAqB,0BAArB;AACA5jG,2BAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AACA7rH,2BAAM,CAACkF,OAAP,GAAiB;AAChBw5J,sBAAoB,EAAE;AACrBprE,SAAK,EAAE,+CADc;AAErB1xF,QAAI,EAAE,SAFe;AAGrBwF,SAAK,EAAE,IAHc;AAIrBw8F,eAAW,EAAE,8CAJQ;AAKrBynB,YAAQ,EAAE,CAAC,KAAD,CALW;AAOrBwI,YAAQ;AAPa,GADN;AAUhBj/G,UAAQ,EAAE;AACT0+E,SAAK,EAAE,mCADE;AAET1xF,QAAI,EAAE,SAFG;AAGTwF,SAAK,EAAE,IAHE;AAITw8F,eAAW,EAAE,kCAJJ;AAKTynB,YAAQ,EAAE,CAAC,KAAD;AALD;AAVM,CAAjB;AAmBA,MAAMszC,cAAc,GAAG3/D,uBAAO,CAAC/4E,IAAR,CAAa,yCAAb,EAAyD,EAAzD,CAAvB;AACA,IAAIxB,2BAAJ;AACO,IAAIw/E,4BAAJ;;AAEPjkG,2BAAM,CAAC8rH,MAAP,GAAgB,MAAM;AAErB8yC,4BAAU,CAACp6I,IAAX;AAEA,QAAMnL,KAAK,GAAGw+D,OAAO,CAACt3D,GAAR,CAAY,CACzBs+I,aAAa,EADY,EAEzBC,qBAAqB,EAFI,CAAZ,EAGXpiJ,IAHW,CAGN,CAAC,CAACd,OAAD,EAAUjC,GAAV,CAAD,KAAoB;AAC3B,QAAIA,GAAJ,EAAS;AACRk+E,iCAAW,CAAC59E,GAAZ,CAAgB,qBAAhB;AACA8kJ,kBAAY,CAAC,CAACnjJ,OAAF,CAAZ;AACA;AACD,GARa,CAAd;;AAUAqoF,8BAAO,GAAI+6D,mBAAD,IAAmC3lJ,KAAK,CAACqD,IAAN,CAAW,YAAY;AACnE,QAAI+H,2BAAJ,EAAYA,2BAAM,CAACA,MAAP,CAAc,MAAd,EAAsB,EAAC,MAAMo6I,aAAa,CAACG,mBAAD,CAApB,CAAtB;AACZ,GAF4C,CAA7C;AAGA,CAjBD;;AAmBA,SAASD,YAAT,CAAsBE,YAAtB,EAAoC;AACnC,QAAM7gF,SAAS,GAAG,CAACqB,gBAAgB,MAAM,EAAvB,EAA2Bh4E,WAA3B,EAAlB;AACA,MAAIgd,2BAAM,IAAI,CAAC25D,SAAf,EAA0B;AAE1B35D,6BAAM,GAAG,IAAI02I,oBAAJ,CAA0B,GAAEn7J,2BAAM,CAAC2nH,QAAS,IAAGvpC,SAAU,EAAzD,EAA4D,wBAA5D,EAAsF,IAAtF,CAAT;AAEA35D,6BAAM,CAACinG,QAAP,CAAgB,MAAM9pH,IAAN,IAAc;AAC7B,QAAIA,IAAI,KAAK,QAAb,EAAuB;AAGvB,UAAMs9J,qBAAA,CAAgCz6I,2BAAM,CAAC4+E,OAAvC,CAAN;AAEA,UAAM87D,iBAAiB,GAAG,IAAI3lF,GAAJ,EAAQ,MAAMmlF,cAAc,CAAC/6J,GAAf,EAAd,EAA1B;;AACA,QAAI6gB,2BAAM,CAAC4+E,OAAX,EAAoB;AACnB87D,uBAAiB,CAAC71E,MAAlB,CAAyBlL,SAAzB;AACA,KAFD,MAEO,IAAI,MAAM8gF,qBAAA,EAAV,EAA6C;AAInDC,uBAAiB,CAACllJ,GAAlB,CAAsBmkE,SAAtB;AACA;;AAEDugF,kBAAc,CAACz9I,GAAf,CAAmBxb,KAAK,CAACwsE,IAAN,CAAWitF,iBAAX,CAAnB;AACA,GAjBD;AAmBA16I,6BAAM,CAAC4rI,aAAP,CAAqB,MAAM;AAC1B+O,kBAAc,CAAC36I,2BAAM,CAAC4+E,OAAR,CAAd;AACAxL,+BAAW,CAACpzE,MAAZ,CAAmBA,2BAAM,CAAC4+E,OAA1B,EAAmC,qBAAnC;AACAxL,+BAAW,CAACpzE,MAAZ,CAAmB,CAACA,2BAAM,CAAC4+E,OAA3B,EAAoC,sBAApC;AACA,GAJD;AAMA5+E,6BAAM,CAACA,MAAP,CAAc,MAAd,EAAsBw6I,YAAtB;AAEAI,kBAAgB;AAChB;;AAED,SAASA,gBAAT,GAA4B;AAC3B,MAAIr/J,2BAAM,CAACkF,OAAP,CAAe0P,QAAf,CAAwBxN,KAA5B,EAAmC;AAClC0xF,8BAAU,CAACX,gBAAX,CAA4Bz7E,IAA5B,CAAiC,MAAM;AACtC,YAAM4iJ,KAAK,GAAGp/J,QAAQ,CAACkkB,IAAT,CAAcy0D,aAAd,CAA4B,yBAA5B,CAAd;AACA,UAAIymF,KAAJ,EAAWC,cAAc,CAACD,KAAD,CAAd;AACX,KAHD;AAIA;;AAED,MAAIt/J,2BAAM,CAACkF,OAAP,CAAew5J,oBAAf,CAAoCt3J,KAAxC,EAA+C;AAC9Cw3J,8BAAU,CAACt6I,IAAX,CAAgBG,2BAAM,CAAC4+E,OAAvB;AACA5+E,+BAAM,CAAC4rI,aAAP,CAAqB,MAAM;AAAEuO,gCAAU,CAACt6I,IAAX,CAAgBG,2BAAM,CAAC4+E,OAAvB;AAAkC,KAA/D;AACAu7D,8BAAU,CAACrzE,OAAX,CAAmB,MAAM;AAAE9mE,iCAAM,CAACA,MAAP,CAAc,QAAd;AAA0B,KAArD;AACA;;AAEDA,6BAAM,CAACgsI,MAAP,CAAc,SAAd;;AAEA,MAAIjnH,gBAAC,CAAC,mBAAD,CAAD,CAAuB9lC,MAA3B,EAAmC;AAClC8lC,oBAAC,CAAC,6BAAD,CAAD,CAAiCha,KAAjC,CAAuC7O,sBAAM,CAACnP,MAAO,+BAA8B21E,IAAI,CAAC,wCAAD,CAA2C,0CAAyCA,IAAI,CAAC,sCAAD,CAAyC,cAAxN;AACA;AACD;;AAED,SAASo4E,cAAT,CAAwBD,KAAxB,EAA+B;AAC9B,QAAM/uI,SAAS,GAAG5P,sBAAM,CAAC+N,IAAK;;qCAEMy4D,IAAI,CAAC,yBAAD,CAA4B;;EAFpE;AAMA,QAAMvyE,QAAQ,GAAG6P,2BAAM,CAACisI,aAAP,EAAjB;AACA97I,UAAQ,CAAClS,YAAT,CAAsB,IAAtB,EAA4B,oBAA5B;AACAkS,UAAQ,CAAClS,YAAT,CAAsB,MAAtB,EAA8B,oBAA9B;AACA6tB,WAAS,CAAClB,OAAV,CAAkBza,QAAlB;AACA0qJ,OAAK,CAAC9vI,KAAN,CAAYe,SAAZ;AACA;;AAED,MAAMsuI,aAAa,GAAG,CAACG,mBAA+C,GAAGE,qBAAA,CAAgC,IAAhC,CAAnD,KAA6FhwE,SAAS,CAAC,CAE5H,YAAY,CAAC,MAAMyvE,cAAc,CAAC/6J,GAAf,EAAP,EAA6Bg+C,QAA7B,CAAsC,CAAC69B,gBAAgB,MAAM,EAAvB,EAA2Bh4E,WAA3B,EAAtC,CAFgH,EAI5H,YAAY,EAAE,MAAMu3J,mBAAR,CAJgH,CAAD,EAKzHnyH,CAAC,IAAIA,CAAC,EALmH,CAA5H;;AAOA,MAAMiyH,qBAAqB,GAAG,MAAM5vE,SAAS,CAAC,CAC7CswE,aAD6C,EAE7C,YAAY,CAAC,CAAC,CAAC,MAAMC,YAAY,EAAnB,EAAuBC,SAFQ,CAAD,EAG1C7yH,CAAC,IAAIA,CAAC,EAHoC,CAA7C;;AAKA,MAAM2yH,aAAa,GAAG,sBAAO,YAAY;AACxC,QAAMt6E,KAAK,GAAG,MAAM,CAAChlF,QAAQ,CAACyC,IAAT,IAAiBzC,QAAQ,CAACgP,eAA3B,EAA4C2pE,aAA5C,CAA0D,0CAA1D,CAApB;;AAEA,SAGCqM,KAAK,OAGL,MAAM4T,0BAAU,CAACZ,SAAX,CAAqBx7E,IAArB,CAA0BwoE,KAA1B,CAHD,CAAL,IAKA,IARD;AAUA,CAbqB,CAAtB;;AAeA,MAAMu6E,YAAY,GAAG,sBAAO,YAAY;AAKvC,QAAMv6E,KAAK,GAAG,MAAMhlF,QAAQ,CAAC0M,cAAT,CAAwB,cAAxB,CAApB;;AAGA,QAAM+yJ,UAAU,GACf,OAAM7mE,0BAAU,CAACZ,SAAX,CAAqBx7E,IAArB,CAA0BwoE,KAA1B,CAAN,MACA,MAAMnN,YAAY,CAAC73E,QAAQ,CAACkkB,IAAV,EAAgB,SAAhB,CAAZ,CAAuC1H,IAAvC,CAA4CwoE,KAA5C,CADN,MAEA,MAAM4T,0BAAU,CAACV,aAAX,CAAyB17E,IAAzB,CAA8BwoE,KAA9B,CAFN,CADD;AAMA,SAAO;AAAEy6E,cAAF;AAAcD,aAAS,EAAEC,UAAU,IAAI,CAR7B,MAAMz/J,QAAQ,CAAC0M,cAAT,CAAwB,YAAxB,CAQuB;AAAvC,GAAP;AACA,CAfoB,CAArB;;AAiBA,MAAMwyJ,cAAc,GAAG,CAAC,MAAM;AAC7B,QAAMQ,gBAAgB,GAAGr2E,KAAK,CAAC,MAAMs2E,aAAN,IAAuB;AACrD,UAAMC,mBAAmB,GAAG,MAAMN,aAAa,EAA/C;AAEA,QAAI,CAACM,mBAAL,EAA0B;;AAE1B,QAAID,aAAJ,EAAmB;AAElB,UAAI,CAACC,mBAAmB,CAACj9J,UAAzB,EAAqC;AACpC3C,gBAAQ,CAACyC,IAAT,CAAcC,WAAd,CAA0Bk9J,mBAA1B;AACA;AACD,KALD,MAKO;AACN,UAAIA,mBAAmB,CAACj9J,UAAxB,EAAoC;AACnCi9J,2BAAmB,CAACpkJ,MAApB;AACA;AACD;AACD,GAf6B,CAA9B;AAiBA,QAAMqkJ,eAAe,GAAGx2E,KAAK,CAAC,MAAMs2E,aAAN,IAAuB;AACpD,UAAM;AAAEF,gBAAF;AAAcD;AAAd,QAA4B,MAAMD,YAAY,EAApD;AAEA,QAAI,CAACE,UAAD,IAAe,CAACD,SAApB,EAA+B;;AAE/B,QAAIG,aAAJ,EAAmB;AAClB,UAAI,CAACH,SAAS,CAAC78J,UAAf,EAA2B;AAC1B88J,kBAAU,CAAC9yJ,EAAX,GAAgB,cAAhB;AACA8yJ,kBAAU,CAACj/E,SAAX,CAAqBhlE,MAArB,CAA4B,gBAA5B;AACAikJ,kBAAU,CAAC/8J,WAAX,CAAuB88J,SAAvB;AACA;AACD,KAND,MAMO;AACN,UAAIA,SAAS,CAAC78J,UAAd,EAA0B;AACzB68J,iBAAS,CAAChkJ,MAAV;AACAikJ,kBAAU,CAAC9yJ,EAAX,GAAgB,YAAhB;AACA8yJ,kBAAU,CAACj/E,SAAX,CAAqBzmE,GAArB,CAAyB,gBAAzB;AACA;AACD;AACD,GAlB4B,CAA7B;AAoBA,SAAO4lJ,aAAa,IAAIhoF,OAAO,CAACt3D,GAAR,CAAY,CACnCq/I,gBAAgB,CAACC,aAAD,CADmB,EAEnCE,eAAe,CAACF,aAAD,CAFoB,CAAZ,CAAxB;AAIA,CA1CsB,GAAvB,C;;;;AClLA;AACA;AACA;AACA;AACA;AACA;AAUA;AACA;AACA;AAEO,MAAM7/J,gBAAiB,GAAG,IAAIirH,MAAJ,CAAW,WAAX,CAA1B;AAEPjrH,gBAAM,CAACkrH,UAAP,GAAoB,eAApB;AACAlrH,gBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,gBAAM,CAAC4jG,WAAP,GAAqB,eAArB;AACA5jG,gBAAM,CAACkF,OAAP,GAAiB;AAChB86J,aAAW,EAAE;AACZp+J,QAAI,EAAE,SADM;AAEZwF,SAAK,EAAE,KAFK;AAGZw8F,eAAW,EAAE,0BAHD;AAIZtQ,SAAK,EAAE;AAJK,GADG;AAOhB2sE,aAAW,EAAE;AACZr+J,QAAI,EAAE,SADM;AAEZwF,SAAK,EAAE,IAFK;AAGZw8F,eAAW,EAAE,0BAHD;AAIZtQ,SAAK,EAAE,2BAJK;AAKZ2mC,YAAQ,EAAE;AALE,GAPG;AAchBimC,oBAAkB,EAAE;AACnBt+J,QAAI,EAAE,MADa;AAEnBwF,SAAK,EAAE,MAFY;AAGnBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,iCADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,sCADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,iCADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,CAHW;AAanBw8F,eAAW,EAAE,iCAbM;AAcnBtQ,SAAK,EAAE;AAdY,GAdJ;AA8BhB6sE,gBAAc,EAAE;AACfv+J,QAAI,EAAE,MADS;AAEfwF,SAAK,EAAE,OAFQ;AAGfw8F,eAAW,EAAE,6BAHE;AAIftQ,SAAK,EAAE,8BAJQ;AAKfguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACg7J,kBAAR,CAA2B94J,KAA3B,KAAqC;AAL5C,GA9BA;AAqChBg5J,cAAY,EAAE;AACbx+J,QAAI,EAAE,MADO;AAEbwF,SAAK,EAAE,MAFM;AAGbw8F,eAAW,EAAE,2BAHA;AAIbtQ,SAAK,EAAE,4BAJM;AAKbguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACg7J,kBAAR,CAA2B94J,KAA3B,KAAqC;AAL9C,GArCE;AA4ChBi5J,wBAAsB,EAAE;AACvBz+J,QAAI,EAAE,MADiB;AAEvBwF,SAAK,EAAE,GAFgB;AAGvBw8F,eAAW,EAAE,qCAHU;AAIvBtQ,SAAK,EAAE,sCAJgB;AAKvBguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACg7J,kBAAR,CAA2B94J,KAA3B,KAAqC;AALpC,GA5CR;AAmDhBk5J,oBAAkB,EAAE;AACnB1+J,QAAI,EAAE,SADa;AAEnBwF,SAAK,EAAE,KAFY;AAGnBw8F,eAAW,EAAE,iCAHM;AAInBtQ,SAAK,EAAE,kCAJY;AAKnB2mC,YAAQ,EAAE;AALS,GAnDJ;AA0DhBsmC,0BAAwB,EAAE;AACzB3+J,QAAI,EAAE,MADmB;AAEzBwF,SAAK,EAAE,EAFkB;AAGzBiyJ,YAAQ,EAAE,YAHe;AAIzBz1D,eAAW,EAAE,uCAJY;AAKzBtQ,SAAK,EAAE;AALkB,GA1DV;AAiEhBktE,cAAY,EAAE;AACb5+J,QAAI,EAAE,SADO;AAEb0pH,aAAS,EAAE,IAFE;AAGblkH,SAAK,EAAE,KAHM;AAIbw8F,eAAW,EAAE,2BAJA;AAKbtQ,SAAK,EAAE;AALM;AAjEE,CAAjB;AA0EA,MAAMmtE,eAAe,GAAG,eAAxB;;AACA,MAAMC,eAAe,GAAG,MAAM,OAAO75E,YAAP,KAAwB,QAAxB,IAAoC,CAAC,CAACA,YAAY,CAACC,OAAb,CAAqB25E,eAArB,CAApE;;AACA,MAAME,wBAAwB,GAAG3hE,uBAAO,CAAC/4E,IAAR,CAAa,6CAAb,EAA6D,IAA7D,CAAjC;AACA,IAAIxB,gBAAJ;;AAEAzkB,gBAAM,CAAC0rH,QAAP,GAAkBroB,OAAO,IAAI;AAE5B,MAAI5+E,gBAAM,IAAIA,gBAAM,CAAC4+E,OAAjB,IAA4B,CAACA,OAAjC,EAA0C5+E,gBAAM,CAACA,MAAP;AAC1C,CAHD;;AAKAzkB,gBAAM,CAAC8rH,MAAP,GAAgB,MAAM;AAGrB,MAAI40C,eAAe,EAAnB,EAAuBE,YAAY;AACnC,CAJD;;AAMA5gK,gBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI80C,aAAa,EAAjB,EAAqB;AACpBD,gBAAY;AACZ,GAFD,MAEO;AACNE,mBAAe;AACf;;AAEDr8I,kBAAM,GAAG,IAAI02I,oBAAJ,CAAyB,WAAzB,EAAsCh0E,IAAI,CAAC,qBAAD,CAA1C,EAAmEnnF,gBAAM,CAACkF,OAAP,CAAe86J,WAAf,CAA2B54J,KAA9F,CAAT;AACAqd,kBAAM,CAACinG,QAAP,CAAgB9pH,IAAI,IAAI;AACvB,QAAIA,IAAI,KAAK,QAAb,EAAuBm/J,iBAAiB;AACxC/gK,oBAAM,CAACkF,OAAP,CAAe86J,WAAf,CAA2B54J,KAA3B,GAAmCqd,gBAAM,CAAC4+E,OAA1C;AACAuyB,gBAAA,CAAa51H,gBAAM,CAACkF,OAAP,CAAe86J,WAA5B;AACA,GAJD;AAKAv7I,kBAAM,CAAC4rI,aAAP,CAAqB,MAAM;AAC1B,QAAI5rI,gBAAM,CAAC4+E,OAAX,EAAoBu9D,YAAY,GAAhC,KACKE,eAAe;AAEpBE,yBAAqB;AACrB,GALD;AAMAv8I,kBAAM,CAACgsI,MAAP,CAAc,IAAd;AACA,MAAIzwJ,gBAAM,CAACkF,OAAP,CAAe+6J,WAAf,CAA2B74J,KAA/B,EAAsCqd,gBAAM,CAAC+yG,WAAP,CAAmBrwC,IAAI,CAAC,sBAAD,CAAvB,EAAiD,CAAjD,EAAoD,GAApD,EAAyD,GAAzD;AAEtC85E,0BAAwB;AACxB,CAvBD;;AAyBAjhK,gBAAM,CAAC+c,MAAP,GAAgB,MAAM;AACrB,MAAI,CAACo1G,SAAA,CAAkBnyH,gBAAlB,CAAL,EAAgC;AAE/B8gK,mBAAe;AACf;AACD,CALD;;AAOO,SAASD,aAAT,GAAkC;AACxC,MAAI,CAAC1uC,SAAA,CAAkBnyH,gBAAlB,CAAL,EAAgC,OAAO,KAAP;AAEhC,SAAOykB,gBAAM,GAAGA,gBAAM,CAAC4+E,OAAV,GAAoBrjG,gBAAM,CAACkF,OAAP,CAAe86J,WAAf,CAA2B54J,KAA5D;AACA;AAEM,eAAe45J,qBAAf,CAAqC1tJ,QAAiB,GAAG,KAAzD,EAAkF;AACxF,QAAM8qE,SAAS,GAAGqB,gBAAgB,EAAlC;;AAEA,MAAI,CAACrB,SAAL,EAAgB;AAEf,WAAO,IAAP;AACA;;AAED,MAAI,CAAC,KAAD,EAAQ,SAAR,EAAmB,SAAnB,EAA8B,KAA9B,EAAqCx8B,QAArC,CAA8Cw8B,SAA9C,CAAJ,EAA8D;AAE7D,WAAO,IAAP;AACA;;AAED,QAAM8iF,kBAAkB,GAAG,YAAY;AACtC,UAAMC,WAAN;;AAEA,QAAI,CAACN,aAAa,EAAlB,EAAsB;AAErB,aAAO,IAAP;AACA;;AAED,QAAI7gK,gBAAM,CAACkF,OAAP,CAAeo7J,kBAAf,CAAkCl5J,KAAtC,EAA6C;AAE5C,aAAO,IAAP;AACA;;AAED,UAAMg6J,aAAa,GAAGphK,gBAAM,CAACkF,OAAP,CAAeq7J,wBAAf,CAAwCn5J,KAAxC,CAA8CI,KAA9C,CAAoD,GAApD,EAAyDo6C,QAAzD,CAAkEw8B,SAAS,CAAC32E,WAAV,EAAlE,CAAtB;;AACA,QAAI25J,aAAJ,EAAmB;AAElB,aAAO,IAAP;AACA;AACD,GAlBD;;AAoBA,QAAMC,qBAAqB,GAAG,YAAY;AAEzC,UAAMn8E,KAAK,GAAG,MAAM,CAAC,CAAChlF,QAAQ,CAAC24E,aAAT,CAAuB,sDAAvB,CAAtB;;AACA,WACCqM,KAAK,OACL,MAAM4T,0BAAU,CAACZ,SAAX,CAAqBx7E,IAArB,CAA0BwoE,KAA1B,CADD,CAAL,KAEA,MAAMnN,YAAY,CAAC73E,QAAQ,CAACkkB,IAAV,EAAgB,OAAhB,CAAZ,CAAqC1H,IAArC,CAA0CwoE,KAA1C,CAFN,KAGA4T,0BAAU,CAACX,gBAAX,CAA4Bz7E,IAA5B,CAAiCwoE,KAAjC,CAJD;AAMA,GATD;;AAWA,QAAMr4E,EAAE,GAAI,yBAAwBuxE,SAAS,CAAC32E,WAAV,EAAwB,EAA5D;;AACA,QAAMupJ,aAAa,GAKnB,kBAAwB;AACvB,UAAMsQ,UAAU,GAAG,OAAMJ,kBAAkB,EAAxB,MAA8B,MAAMG,qBAAqB,EAAzD,CAAnB;AACA,UAAME,uBAAO,CAACrgJ,GAAR,CAAYrU,EAAZ,EAAgBy0J,UAAhB,CAAN;AACA,QAAI/rJ,MAAM,KAAK+rJ,UAAX,IAAyBE,4BAA7B,EAA2DA,4BAAA,CAA6BF,UAA7B;AAC3D,WAAOA,UAAP;AACA,GAVqB,EAAtB;;AACA,QAAM10E,MAAM,GAAG,MAAM20E,uBAAO,CAAC39J,GAAR,CAAYiJ,EAAZ,CAArB;AACA,QAAM0I,MAAM,GAAG,OAAOq3E,MAAP,KAAkB,SAAlB,GAA8BA,MAA9B,GAAuC,CAAC8zE,eAAe,EAAtE;AACA,SAAOptJ,QAAQ,GAAGiC,MAAH,GAAYy7I,aAA3B;AAQA;AAEM,eAAeyQ,qBAAf,CAAqCC,SAArC,EAAwE;AAC9E,QAAMC,OAAO,GAAGliF,gBAAgB,EAAhC;;AACA,MAAI,CAACohF,aAAa,EAAd,IAAoB,CAACc,OAAzB,EAAkC;AAEjC;AACA;;AAED,QAAMvjF,SAAS,GAAGujF,OAAO,CAACl6J,WAAR,EAAlB;AACA,QAAMm6J,SAAS,GAAG5hK,gBAAM,CAACkF,OAAP,CAAeq7J,wBAAf,CAAwCn5J,KAAxC,CAA8CI,KAA9C,CAAoD,GAApD,CAAlB;;AAEA,MAAIk6J,SAAS,IAAI,EAAE,MAAMV,qBAAqB,EAA7B,CAAjB,EAAmD;AAElD,QAAI,CAACY,SAAS,CAAChgH,QAAV,CAAmBw8B,SAAnB,CAAL,EAAoC;AACnCwjF,eAAS,CAAC/gK,IAAV,CAAeu9E,SAAf;AACA;AACD,GALD,MAKO,IAAI,CAACsjF,SAAL,EAAgB;AAEtB,mBAAOE,SAAP,EAAkBxjF,SAAlB;AACA;;AAEDp+E,kBAAM,CAACkF,OAAP,CAAeq7J,wBAAf,CAAwCn5J,KAAxC,GAAgDw6J,SAAS,CAACz0J,IAAV,CAAe,GAAf,CAAhD;AACA,SAAOyoH,YAAA,CAAa51H,gBAAM,CAACkF,OAAP,CAAeq7J,wBAA5B,CAAP;AACA;;AAED,MAAMU,wBAAwB,GAAG,sBAAO,eAAevuJ,KAAf,GAAuB;AAC9D,MAAI1S,gBAAM,CAACkF,OAAP,CAAeg7J,kBAAf,CAAkC94J,KAAlC,KAA4C,MAAhD,EAAwD;AACvD;AACA;;AAID,QAAMy6J,sBAAsB,GAAG,MAAMlB,wBAAwB,CAAC/8J,GAAzB,EAArC;AACA,QAAMk+J,uBAAuB,GAAG7qF,IAAI,GAAG1lD,UAAU,CAACvxB,gBAAM,CAACkF,OAAP,CAAem7J,sBAAf,CAAsCj5J,KAAvC,CAAjD;AAEA,QAAM26J,oBAAoB,GAAG,CAACjmI,QAAQ,CAAC+lI,sBAAD,EAAyB,EAAzB,CAAR,IAAwC,CAAzC,IAA8CC,uBAA3E;AAEA,QAAME,gBAAgB,GAAIt5J,IAAI,CAACyiB,GAAL,MAAc42I,oBAAxC;AAIA,QAAME,oBAAoB,GAAG,CAACD,gBAAD,IAC3BnB,aAAa,QAAO,MAAMqB,kBAAkB,EAA/B,CADf;;AAGA,MAAID,oBAAJ,EAA0B;AACzBx9I,oBAAM,CAACA,MAAP,CAAc,MAAd;AACA;;AAGDjG,YAAU,CAAC,MAAMuY,qBAAqB,CAACrkB,KAAD,CAA5B,EAAqC,IAAIskE,MAAzC,CAAV;AACA,CAzBgC,CAAjC;;AA2BA,SAAS+pF,iBAAT,GAA6B;AAC5B,MAAI/gK,gBAAM,CAACkF,OAAP,CAAeg7J,kBAAf,CAAkC94J,KAAlC,KAA4C,MAAhD,EAAwD;AACvD;AACA;;AAIDu5J,0BAAwB,CAACz/I,GAAzB,CAA6BxY,IAAI,CAACyiB,GAAL,EAA7B;AACA;;AAKD,SAASg3I,cAAT,GAA0B;AACzB,SAAO,IAAItqF,OAAJ,CAAY,CAACz7D,OAAD,EAAUC,MAAV,KAAqB;AACvCsoD,aAAS,CAACy9F,WAAV,CAAsBC,kBAAtB,CACCnxI,QAAQ,IAAI9U,OAAO,CAAC8U,QAAQ,CAACwkH,MAAV,CADpB,EAECr5H,MAFD;AAIA,GALM,CAAP;AAMA;;AASD,eAAeimJ,iBAAf,GAAmC;AAClC,UAAQtiK,gBAAM,CAACkF,OAAP,CAAeg7J,kBAAf,CAAkC94J,KAA1C;AACC,SAAK,WAAL;AACC,UAAI;AACH,cAAM;AAAEm7J,kBAAF;AAAYC;AAAZ,YAA0B,MAAML,cAAc,EAApD;AACA,cAAM;AAAEM,iBAAF;AAAWC;AAAX,YAAsBC,2BAAgB,CAAC,IAAIj6J,IAAJ,EAAD,EAAa65J,QAAb,EAAuBC,SAAvB,CAA5C;AACA,eAAO;AAAEI,sBAAY,EAAEF,MAAhB;AAAwBG,oBAAU,EAAEJ;AAApC,SAAP;AACA,OAJD,CAIE,OAAOt7I,GAAP,EAAY;AACbhI,eAAO,CAACC,IAAR,CAAa,sCAAb,EAAqD+H,GAArD;;AAEA,gBAAQA,GAAG,CAACllB,IAAZ;AACC,eAAKklB,GAAG,CAAC27I,iBAAT;AACC,mBAAO5pC,qBAAK,CAAC7zF,IAAN,CAAW8hD,IAAI,CAAC,mCAAD,EAAsC,SAAtC,CAAf,EAAiE;AAAE57D,wBAAU,EAAE;AAAd,aAAjE,EACL7O,IADK,CACA,MAAM;AAEX1c,8BAAM,CAACkF,OAAP,CAAeg7J,kBAAf,CAAkC94J,KAAlC,GAA0C,MAA1C;AACAwuH,0BAAA,CAAa51H,gBAAM,CAACkF,OAAP,CAAeg7J,kBAA5B;AAEA,qBAAO;AACN0C,4BAAY,EAAE,IAAIl6J,IAAJ,CAAS,CAAT,CADR;AAENm6J,0BAAU,EAAE,IAAIn6J,IAAJ,CAAS,CAAT;AAFN,eAAP;AAIA,aAVK,CAAP;;AAWD,eAAKye,GAAG,CAAC47I,oBAAT;AACA,eAAK57I,GAAG,CAAC67I,OAAT;AACA,eAAK77I,GAAG,CAAC87I,aAAT;AACA;AACC,kBAAM97I,GAAN;AAjBF;AAmBA;;AACF,SAAK,MAAL;AACC,aAAO;AACNy7I,oBAAY,EAAEM,gBAAgB,CAACljK,gBAAM,CAACkF,OAAP,CAAei7J,cAAf,CAA8B/4J,KAA/B,CADxB;AAENy7J,kBAAU,EAAEK,gBAAgB,CAACljK,gBAAM,CAACkF,OAAP,CAAek7J,YAAf,CAA4Bh5J,KAA7B;AAFtB,OAAP;;AAID;AACC,YAAM,IAAIhH,KAAJ,CAAW,qCAAoCJ,gBAAM,CAACkF,OAAP,CAAeg7J,kBAAf,CAAkC94J,KAAM,EAAvF,CAAN;AAnCF;AAqCA;;AAED,eAAe86J,kBAAf,GAAoC;AACnC,QAAMvpI,WAAW,GAAG,IAAIjwB,IAAJ,EAApB;AACA,QAAM;AAAEk6J,gBAAF;AAAgBC;AAAhB,MAA+B,MAAMP,iBAAiB,EAA5D;;AAEA,MAAIM,YAAY,IAAIC,UAApB,EAAgC;AAE/B,WAAQD,YAAY,IAAIjqI,WAAjB,IAAkCA,WAAW,GAAGkqI,UAAvD;AACA,GAHD,MAGO;AAEN,WAAQD,YAAY,IAAIjqI,WAAjB,IAAkCA,WAAW,GAAGkqI,UAAvD;AACA;AACD;;AAKD,SAASK,gBAAT,CAA0BC,UAA1B,EAAsC;AACrC,QAAM,CAAChzH,IAAD,EAAOC,MAAP,IAAiB+yH,UAAU,CAAC37J,KAAX,CAAiB,GAAjB,EAAsBnD,GAAtB,CAA0Bk6B,CAAC,IAAIzC,QAAQ,CAACyC,CAAD,EAAI,EAAJ,CAAvC,CAAvB;AACA,QAAM+O,IAAI,GAAG,IAAI5kC,IAAJ,EAAb;AACA4kC,MAAI,CAAC40B,QAAL,CAAc/xB,IAAd,EAAoBC,MAApB,EAA4B,CAA5B,EAAuC,CAAvC;AACA,SAAO9C,IAAP;AACA;;AAED,MAAM79B,mBAAS,GAAG,MAAM;AACvB,UAAQmvE,OAAO,EAAf;AACC,SAAK,IAAL;AACA,SAAK,SAAL;AACC,aAAO,eAAP;;AACD,SAAK,KAAL;AACC,aAAO,mBAAP;;AACD;AACC,YAAM,IAAIx+E,KAAJ,CAAW,uBAAsBw+E,OAAO,EAAG,EAA3C,CAAN;AAPF;AASA,CAVD;;AAYA,MAAMgiF,YAAY,GAAG,MAAM;AAC1B/oE,6BAAW,CAAC59E,GAAZ,CAAgBxK,mBAAS,EAAzB;AAEAo3E,cAAY,CAACG,OAAb,CAAqBy5E,eAArB,EAAsC,MAAtC;AACA,CAJD;;AAMA,MAAMK,eAAe,GAAG,MAAM;AAC7BjpE,6BAAW,CAACn8E,MAAZ,CAAmBjM,mBAAS,EAA5B;AACAo3E,cAAY,CAACK,UAAb,CAAwBu5E,eAAxB;AACA,CAHD,C;;;;;ACpXA;AAEA;AACA;AACA;AAoBA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMzgK,iBAAiB,GAAG,IAAIirH,MAAJ,CAAW,YAAX,CAA1B;AAEP,MAAMm4C,gBAAgB,GAAG;AACxBl6F,MAAI,EAAE,SADkB;AAExBve,MAAI,EAAE,OAFkB;AAGxBK,OAAK,EAAE,OAHiB;AAIxBE,MAAI,EAAE,OAJkB;AAKxBS,gBAAc,EAAE,OALQ;AAMxB+B,SAAO,EAAE,OANe;AAOxBK,MAAI,EAAE,OAPkB;AAQxBC,OAAK,EAAE,OARiB;AASxB4B,MAAI,EAAE,OATkB;AAUxBI,QAAM,EAAE,OAVgB;AAWxBe,MAAI,EAAE,OAXkB;AAYxBE,OAAK,EAAE,OAZiB;AAaxBE,QAAM,EAAE,OAbgB;AAcxBC,WAAS,EAAE,OAda;AAexBS,MAAI,EAAE,OAfkB;AAgBxBG,QAAM,EAAE,OAhBgB;AAiBxBE,KAAG,EAAE,OAjBmB;AAkBxBS,QAAM,EAAE,OAlBgB;AAmBxBS,MAAI,EAAE,OAnBkB;AAoBxBM,OAAK,EAAE,OApBiB;AAqBxBE,QAAM,EAAE;AArBgB,CAAzB;AAwBA5zD,iBAAM,CAACkrH,UAAP,GAAoB,gBAApB;AACAlrH,iBAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,iBAAM,CAAC4jG,WAAP,GAAqB,gBAArB;AACA5jG,iBAAM,CAACkF,OAAP,GAAiB;AAChBm+J,iBAAe,EAAE;AAChB/vE,SAAK,EAAE,gCADS;AAEhB1xF,QAAI,EAAE,SAFU;AAGhBwF,SAAK,EAAE,IAHS;AAIhBw8F,eAAW,EAAE;AAJG,GADD;AAOhB0/D,iBAAe,EAAE;AAChBhwE,SAAK,EAAE,gCADS;AAEhB1xF,QAAI,EAAE,SAFU;AAGhBwF,SAAK,EAAE,IAHS;AAIhBw8F,eAAW,EAAE,+BAJG;AAKhBq2B,YAAQ,EAAE;AALM,GAPD;AAchBspC,yBAAuB,EAAE;AACxBjwE,SAAK,EAAE,wCADiB;AAExB1xF,QAAI,EAAE,SAFkB;AAGxBwF,SAAK,EAAE,IAHiB;AAIxBw8F,eAAW,EAAE,uCAJW;AAKxBq2B,YAAQ,EAAE;AALc,GAdT;AAqBhBupC,iBAAe,EAAE;AAChBlwE,SAAK,EAAE,gCADS;AAEhB1xF,QAAI,EAAE,SAFU;AAGhBwF,SAAK,EAAE,IAHS;AAIhBw8F,eAAW,EAAE,+BAJG;AAKhBq2B,YAAQ,EAAE;AALM,GArBD;AA4BhBwpC,UAAQ,EAAE;AACTnwE,SAAK,EAAE,yBADE;AAET1xF,QAAI,EAAE,SAFG;AAGTwF,SAAK,EAAE,IAHE;AAITw8F,eAAW,EAAE,wBAJJ;AAKTq2B,YAAQ,EAAE,IALD;AAMTqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACs+J,eAAR,CAAwBp8J;AANrC,GA5BM;AAoChBs8J,aAAW,EAAE;AACZpwE,SAAK,EAAE,4BADK;AAEZ1xF,QAAI,EAAE,SAFM;AAGZwF,SAAK,EAAE,IAHK;AAIZw8F,eAAW,EAAE,2BAJD;AAKZq2B,YAAQ,EAAE;AALE,GApCG;AA2ChB0pC,YAAU,EAAE;AACXrwE,SAAK,EAAE,2BADI;AAEX1xF,QAAI,EAAE,OAFK;AAGXs6H,cAAU,EAAE,aAHD;AAIX/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,MADG;AAERvI,UAAI,EAAE,MAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,OADH;AAEFvI,UAAI,EAAE,OAFJ;AAGFvD,UAAI,EAAE,QAHJ;AAIFwF,WAAK,EAAE,MAJL;AAKFmd,YAAM,EAAE9jB,MAAM,CAAC0uE,OAAP,CAAei0F,gBAAf,EAAiC/+J,GAAjC,CAAqC,CAAC,CAAC+nF,CAAD,EAAIpwE,CAAJ,CAAD,MAAa;AACzD7W,YAAI,EAAEinF,CADmD;AAEzDhlF,aAAK,EAAEglF,CAFkD;AAGzDlpE,aAAK,EAAG,UAASlH,CAAE,uBAAsBowE,CAAE;AAHc,OAAb,CAArC;AALN,KAJK,CAJG;AAmBXhlF,SAAK,EAAG,EAnBG;AAoBXw8F,eAAW,EAAE,0BApBF;AAqBXq2B,YAAQ,EAAE;AArBC;AA3CI,CAAjB;AAoEA,MAAM2pC,UAAU,GAAG5kE,uBAAO,CAAClR,UAAR,CAAmB,MAAnB,EAA2B,MAAO,IAAlC,EAMdgU,IAAI,IAAIA,IAAI,CAACr6F,WAAL,EANM,EAMc,IANd,CAAnB;;AAQAzH,iBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AAEzB3rB,gBAAc,CAAC,IAAD,EAAOjQ,KAAK,IAAI;AAC7B,UAAM2R,IAAI,GAAG3R,KAAK,CAACwD,SAAN,EAAb;AACA,QAAImO,IAAJ,EAAU+hE,cAAG,CAACjgK,GAAJ,CAAQk+F,IAAR;AACV,GAHa,EAGX;AAAE9Q,aAAS,EAAE;AAAb,GAHW,CAAd;AAKAqP,kBAAgB,CAAC,CAAC,MAAD,EAAS,UAAT,CAAD,EAAuB7d,gBAAvB,EAAyCshF,gBAAzC,CAAhB;AAEApiE,sBAAoB,CAAC,YAAD,EAAe,CAACxsD,OAAD,EAAU;AAAE4+C,UAAF;AAAUhpF,KAAC,EAAE;AAAE2+E;AAAF;AAAb,GAAV,KAAwC;AAC1E,QAAIA,MAAJ,EAAY;;AAGZ,SAAK,MAAMx5E,GAAX,IAAkBilC,OAAO,CAACnoC,sBAAR,CAA+B,YAA/B,CAAlB,EAAgEkD,GAAG,CAACyL,MAAJ;;AAEhEqoJ,eAAW,CAAC7uH,OAAD,EAAU;AAAE5P,cAAQ,EAAEwuD;AAAZ,KAAV,CAAX;AACA,GAPmB,CAApB;AAQA4N,sBAAoB,CAAC,eAAD,EAAkB,CAACxsD,OAAD,EAAU;AAAE4+C,UAAF;AAAUhpF,KAAC,EAAE;AAAE2+E;AAAF;AAAb,GAAV,KAAwC;AAC7E,QAAIA,MAAJ,EAAY;AACZs6E,eAAW,CAAC7uH,OAAD,EAAU;AAAE5P,cAAQ,EAAEwuD;AAAZ,KAAV,CAAX;AACA,GAHmB,CAApB;AAIA4N,sBAAoB,CAAC,eAAD,EAAkB,CAACxsD,OAAD,EAAU;AAAE4sD,QAAI,EAAE;AAAEx8D;AAAF,KAAR;AAAsBx6B,KAAC,EAAE;AAAE2+E;AAAF;AAAzB,GAAV,KAAoD;AACzF,QAAIA,MAAJ,EAAY;AACZs6E,eAAW,CAAC7uH,OAAD,EAAU;AAAE5P,cAAF;AAAY0+H,uBAAiB,EAAE;AAA/B,KAAV,CAAX;AACA,GAHmB,CAApB;AAIA,CAzBD;;AA2BAhkK,iBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,iBAAM,CAACkF,OAAP,CAAes+J,eAAf,CAA+Bp8J,KAA/B,IAAwCy6E,YAAY,EAAxD,EAA4D;AAC3DoiF,qBAAiB;AACjB;;AAED3T,gCAAmB;AAEnB74D,iBAAe,CAAC,oBAAD,EAAuBtQ,IAAI,CAAC,sBAAD,CAA3B,EAAqDnnF,iBAAM,CAAC2nH,QAA5D,EAAsEma,oCAAtE,CAAf;AACA,CARD;;AAUA,SAASgiC,gBAAT,CAA0B5uH,OAA1B,EAAmC;AAClC,QAAM5P,QAAQ,GAAGm9C,mBAAmB,CAACvtC,OAAD,CAApC;AACA,MAAI5P,QAAJ,EAAc,OAAOy+H,WAAW,CAAC7uH,OAAD,EAAU;AAAE5P;AAAF,GAAV,CAAlB;AACd;;AAEM,SAASy+H,WAAT,CAAqB7uH,OAArB,EAA2C;AACjD5P,UADiD;AAEjD0+H,mBAAiB,GAAGhkK,iBAAM,CAACkF,OAAP,CAAem+J,eAAf,CAA+Bj8J,KAA/B,IAAwCk+B,QAAQ,KAAKu8C,YAAY,EAFpC;AAGjDqiF,kBAAgB,GAAGlkK,iBAAM,CAACkF,OAAP,CAAes+J,eAAf,CAA+Bp8J,KAA/B,IAAwCk+B,QAAQ,KAAKu8C,YAAY;AAHnC,IAQ7C,EARE,EAQE;AAGR,QAAM5xE,GAAG,GAAG4zJ,cAAG,CAACM,WAAJ,CAAgB7+H,QAAhB,CAAZ;AACAr1B,KAAG,CAACgK,GAAJ,CAAQi7B,OAAR,EAAiB;AAAEgvH,oBAAF;AAAoBF;AAApB,GAAjB;AACA/zJ,KAAG,CAACy2D,IAAJ;AACA;AAEM,MAAM09F,IAAsB,GAAG,IAAI5gF,GAAJ,EAA/B;AAWA,MAAMqgF,cAAN,CAAU;AAEhB,SAAOQ,eAAP,CAAuB;AAAE7hK,QAAF;AAAQugD;AAAR,MAAqD,EAA5E,EAAgF;AAC/E,WAAOpiC,sBAAM,CAAC+N,IAAK;;;0BAGMlsB,IAAI,IAAIugD,KAAT,GAAkB,QAAlB,GAA6B,iBAAkB,IAAG/iD,iBAAM,CAACkF,OAAP,CAAew+J,WAAf,CAA2Bt8J,KAA3B,GAAmC,aAAnC,GAAmD,EAAG;OAC3H,CAAC5E,IAAI,IAAIugD,KAAT,KAAmBpiC,sBAAM,CAACghE,KAAM,4BAA2B5+B,KAAK,IAAI,MAAO,YAAWqgH,gBAAgB,CAACrgH,KAAK,IAAI,MAAV,CAAkB,eAAe;cAChIvgD,IAAI,IAAI,WAAY;;OAE3BA,IAAI,IAAI,QAAmB;;GAPhC;AAUA;;AAED,eAAa8hK,SAAb,GAA8C;AAC7C,WAAO7jK,MAAM,CAAC0uE,OAAP,EAAe,MAAMy0F,UAAU,CAACl+I,MAAX,EAArB,GACLrhB,GADK,CACD,CAAC,CAAC+nF,CAAD,EAAIpwE,CAAJ,CAAD,KAAY;AAChB,YAAM/L,GAAG,GAAG4zJ,cAAG,CAACM,WAAJ,CAAgB/3E,CAAhB,CAAZ;AACAn8E,SAAG,CAACka,IAAJ,CAASnO,CAAT;AACA,aAAO/L,GAAP;AACA,KALK,CAAP;AAMA;;AAED,SAAOk0J,WAAP,CAAmBt3J,EAAnB,EAAoC;AACnC,QAAIoD,GAAG,GAAGm0J,IAAI,CAACxgK,GAAL,CAASiJ,EAAT,CAAV;;AACA,QAAI,CAACoD,GAAL,EAAU;AACTA,SAAG,GAAG,IAAI4zJ,cAAJ,CAAQh3J,EAAR,CAAN;AACAu3J,UAAI,CAACljJ,GAAL,CAASrU,EAAT,EAAaoD,GAAb;AACA;;AAED,WAAOA,GAAP;AACA;;AAED,eAAarM,GAAb,CAAiBiJ,EAAjB,EAA2C;AAC1C,UAAMoD,GAAG,GAAG4zJ,cAAG,CAACM,WAAJ,CAAgBt3J,EAAhB,CAAZ;AACA,UAAMoD,GAAG,CAACy2D,IAAJ,EAAN;AACA,WAAOz2D,GAAP;AACA;;AASD,MAAI+V,OAAJ,GAAuB;AAAE,WAAOosI,WAAA,CAAwB4H,KAAxB,CAA8B0C,cAA9B,CAA6C,KAAK7vJ,EAAlD,CAAP;AAA+D;;AAIxFpJ,aAAW,CAACoJ,EAA6B,GAAG,QAAjC,EAA2C;AAAA,SAXtDA,EAWsD;AAAA,SAVtDrK,IAUsD,GAVtC,IAUsC;AAAA,SATtD8iE,IASsD,GATtC,IASsC;AAAA,SARtDviB,KAQsD,GARrC,IAQqC;AAAA,SAPtDwhH,OAOsD,GAPpC,CAOoC;AAAA,SANtDC,SAMsD,GANlC,CAMkC;AAAA,SAFtD/wC,SAEsD,GAFnB,EAEmB;AAAA,SAItD/sD,IAJsD,GAI/C,sBAAO,YAAY;AACzB,YAAMvlD,IAAI,GAAG,MAAMyiJ,UAAU,CAAChgK,GAAX,CAAe,KAAKiJ,EAApB,CAAnB;;AACA,UAAIsU,IAAJ,EAAU;AACT,YAAI1gB,MAAM,CAAC+M,IAAP,CAAY,KAAKi3J,iBAAL,CAAuBtjJ,IAAvB,CAAZ,EAA0Czd,MAA9C,EAAsD;AACrD,eAAKymB,IAAL,CAAUhJ,IAAV;AACA,SAFD,MAEO;AACN,eAAKmoE,MAAL;AACA;AACD;AACD,KATM,CAJ+C;AACrD,SAAKz8E,EAAL,GAAUA,EAAV;AACA;;AAaDsd,MAAI,CAAChJ,IAAD,EAAU;AACb,QAAIA,IAAI,CAAC4hC,KAAL,KAAen9C,SAAnB,EAA8B,KAAKm9C,KAAL,GAAa5hC,IAAI,CAAC4hC,KAAlB,CAA9B,KACK,IAAI5hC,IAAI,CAAC4hC,KAAL,KAAe,MAAnB,EAA8C,KAAKA,KAAL,GAAa,IAAb;AACnD,QAAI5hC,IAAI,CAACmkD,IAAL,KAAc1/D,SAAlB,EAA6B,KAAK0/D,IAAL,GAAYnkD,IAAI,CAACmkD,IAAjB;AAC7B,QAAInkD,IAAI,CAAC3e,IAAL,KAAcoD,SAAlB,EAA6B,KAAKpD,IAAL,GAAY2e,IAAI,CAAC3e,IAAjB;AAC7B,QAAI2e,IAAI,CAACqjJ,SAAL,KAAmB5+J,SAAvB,EAAkC,KAAK4+J,SAAL,GAAiBrjJ,IAAI,CAACqjJ,SAAtB;AAClC,QAAIrjJ,IAAI,CAACojJ,OAAL,KAAiB3+J,SAArB,EAAgC,KAAK2+J,OAAL,GAAepjJ,IAAI,CAACojJ,OAApB;;AAEhC,SAAK,MAAMlvC,QAAX,IAAuB,KAAK5B,SAA5B,EAAuC,KAAKsmB,MAAL,CAAY1kB,QAAZ;AACvC;;AAEDqvC,SAAO,GAAG;AACT,WAAO;AACN3hH,WAAK,EAAE,KAAKA,KADN;AAENuiB,UAAI,EAAE,KAAKA,IAFL;AAGN9iE,UAAI,EAAE,KAAKA,IAHL;AAINgiK,eAAS,EAAE,KAAKA,SAJV;AAKND,aAAO,EAAE,KAAKA;AALR,KAAP;AAOA;;AAEDrmD,MAAI,GAAG;AACN0lD,cAAU,CAAC1iJ,GAAX,CAAe,KAAKrU,EAApB,EAAwB,KAAK43J,iBAAL,EAAxB;AACA;;AAEDA,mBAAiB,CAACtjJ,IAAO,GAAG,KAAKujJ,OAAL,EAAX,EAA2B;AAC3C,UAAMjvJ,IAAI,GAAI,IAAIouJ,cAAJ,EAAD,CAAYa,OAAZ,EAAb;AACA,WAAO,iBAASvjJ,IAAT,EAAe,CAACnF,CAAD,EAAIowE,CAAJ,KAAU32E,IAAI,CAAC22E,CAAD,CAAJ,KAAYpwE,CAArC,CAAP;AACA;;AAEDstE,QAAM,GAAG;AACRs6E,cAAU,CAACt6E,MAAX,CAAkB,KAAKz8E,EAAvB;AACA;;AAEDoN,KAAG,CAACi7B,OAAD,EAA2C;AAAE8uH,qBAAF;AAAqBE,oBAArB;AAAuC90I,UAAM,GAAGguD,SAAS,CAAC,KAAD;AAAzD,MAAsJ,EAAjM,EAAqM;AACvM,UAAMi4C,QAAwB,GAAG,KAAK5B,SAAL,CAAe1jH,IAAf,CAAoBiM,CAAC,IAAIA,CAAC,CAACk5B,OAAF,KAAcA,OAAvC,KAAmD;AAAEA;AAAF,KAApF;AACAmgF,YAAQ,CAACjmG,MAAT,GAAkBA,MAAlB;AACA,QAAI,CAAC,KAAKqkG,SAAL,CAAe7xE,QAAf,CAAwByzE,QAAxB,CAAL,EAAwC,KAAK5B,SAAL,CAAe5yH,IAAf,CAAoBw0H,QAApB;AACxC,QAAI2uC,iBAAJ,EAAuB3uC,QAAQ,CAAC2uC,iBAAT,GAA6B,IAA7B;AACvB,QAAIE,gBAAJ,EAAsB7uC,QAAQ,CAAC6uC,gBAAT,GAA4B,IAA5B;AACtB,SAAKnqB,MAAL,CAAY1kB,QAAZ;AACA;;AAED,MAAIsvC,KAAJ,GAAoB;AACnB,WAAO,KAAKJ,OAAL,GAAe,KAAKC,SAA3B;AACA;;AAED1rD,QAAM,CAAC;AAAE8rD,cAAU,GAAG;AAAf,MAAiD,EAAlD,EAAsD;AAC3D,QAAIA,UAAJ,EAAgB;AACfpmC,oCAAA,CAA+B;AAC9B7W,gBAAQ,EAAE3nH,iBAAM,CAAC2nH,QADa;AAE9B6U,sBAAc,EAAE,mBAFc;AAG9Bn9G,eAAO,EAAG;yCAC2B,KAAKxS,EAAG;OAC1CswE,UAAU,CAAC,OAAD,CAAV,GAAuB;gCACE,KAAKtwE,EAAG;;MADjC,GAGE,EAAG;KARsB;AAU9BkvH,kBAAU,EAAE;AAVkB,OAA/B;AAYA;;AAEDq2B,eAAA,CAAwB4H,KAAxB,CAA8B2C,YAA9B,CAA2C,KAAK9vJ,EAAhD,EAAoD,IAApD;AACA,QAAI,CAAC,KAAKrK,IAAV,EAAgB,KAAK2nB,IAAL,CAAU;AAAE3nB,UAAI,EAAE;AAAR,KAAV;AAChB,SAAK07G,IAAL;AACA;;AAED2mD,UAAQ,GAAG;AACVzS,eAAA,CAAwB4H,KAAxB,CAA8B2C,YAA9B,CAA2C,KAAK9vJ,EAAhD,EAAoD,KAApD;AACA,QAAI,KAAKrK,IAAL,KAAc,SAAlB,EAA6B,KAAK2nB,IAAL,CAAU;AAAE3nB,UAAI,EAAE;AAAR,KAAV;AAC7B,SAAK07G,IAAL;AACA;;AAED4mD,YAAU,CAACzvC,QAAD,EAAc;AACvB,QAAI,KAAK/vD,IAAL,KAAc,IAAd,IAAsBtlE,iBAAM,CAACkF,OAAP,CAAeo+J,eAAf,CAA+Bl8J,KAAzD,EAAgE;AAG/D,WAAKk+D,IAAL,GAAYy/F,yBAAyB,CAAC1vC,QAAQ,CAACngF,OAAV,CAArC;AACA;;AAED6+E,YAAA,CAAe,YAAf,EACExuH,MADF,CACS8vH,QAAQ,CAAC2vC,MAAT,IAAmB3vC,QAAQ,CAACngF,OADrC,EAEEhwC,OAFF,CAEU;AAAEwuH,eAAS,EAAE,CAAb;AAAgBziG,WAAK,EAAE,GAAvB;AAA4B6iG,qBAAe,EAAE;AAA7C,KAFV,EAGE+B,YAHF,CAGe+8B,IAAI,IAAIqS,cAAc,CAAC,IAAD,EAAOrS,IAAP,CAHrC,EAIE38B,KAJF;AAKA;;AAED8jB,QAAM,CAAC1kB,QAAD,EAAc;AACnB,QAAIA,QAAQ,CAAC6vC,EAAb,EAAiB7vC,QAAQ,CAAC6vC,EAAT,CAAYxpJ,MAAZ;;AACjB,QAAI25G,QAAQ,CAAC6uC,gBAAT,KAA8B,KAAKK,OAAL,IAAgB,KAAKC,SAAnD,CAAJ,EAAmE;AAClEnvC,cAAQ,CAAC6vC,EAAT,GAAcxoF,cAAc,CAAC/7D,sBAAM,CAAC+N,IAAK;;;;cAI9By4D,IAAI,CAAC,wBAAD,EAA2B,KAAKt6E,EAAhC,EAAqC,IAAG,KAAK03J,OAAQ,KAAI,KAAKC,SAAU,EAAxE,CAA2E;cAC/EW,kBAAkB,CAAC,IAAD,CAAO;OAChCnlK,iBAAM,CAACkF,OAAP,CAAeu+J,QAAf,CAAwBr8J,KAAxB,GAAiC,IAAG,KAAKu9J,KAAL,GAAa,CAAb,GAAiB,GAAjB,GAAuB,EAAG,GAAE,KAAKA,KAAM,GAA3E,GAAgF,MAAO;IAN/D,CAA5B;AAQAtvC,cAAQ,CAAC6vC,EAAT,CAAY31J,gBAAZ,CAA6B,OAA7B,EAAsC,MAAM,KAAKu1J,UAAL,CAAgBzvC,QAAhB,CAA5C;;AACA,UAAIA,QAAQ,CAACjmG,MAAb,EAAqB;AACpB,SAACimG,QAAQ,CAAC2vC,MAAT,IAAmB3vC,QAAQ,CAACngF,OAA7B,EAAsCtyC,WAAtC,CAAkDyyH,QAAQ,CAAC6vC,EAA3D;AACA,OAFD,MAEO;AACN,SAAC7vC,QAAQ,CAAC2vC,MAAT,IAAmB3vC,QAAQ,CAACngF,OAA7B,EAAsC1lB,KAAtC,CAA4C6lG,QAAQ,CAAC6vC,EAArD;AACA;AACD;;AAED,QAAI7vC,QAAQ,CAAC2vC,MAAb,EAAqB3vC,QAAQ,CAAC2vC,MAAT,CAAgBtpJ,MAAhB;;AACrB,QAAI,KAAKlZ,IAAL,IAAa,KAAKugD,KAAlB,IAA2BsyE,QAAQ,CAAC2uC,iBAAxC,EAA2D;AAE1D3uC,cAAQ,CAAC2vC,MAAT,GAAkBtoF,cAAc,CAAE,KAAKl6E,IAAL,IAAa,KAAKugD,KAAnB,GAA4B8gH,cAAG,CAACQ,eAAJ,CAAoB,IAApB,CAA5B,GAAwDR,cAAG,CAACuB,iBAAJ,EAAzD,CAAhC;AACA/vC,cAAQ,CAAC2vC,MAAT,CAAgBz1J,gBAAhB,CAAiC,OAAjC,EAA0C,MAAM,KAAKu1J,UAAL,CAAgBzvC,QAAhB,CAAhD;;AACA,UAAIA,QAAQ,CAACjmG,MAAb,EAAqB;AACpBimG,gBAAQ,CAACngF,OAAT,CAAiBtyC,WAAjB,CAA6ByyH,QAAQ,CAAC2vC,MAAtC;AACA,OAFD,MAEO;AACN3vC,gBAAQ,CAACngF,OAAT,CAAiB1lB,KAAjB,CAAuB6lG,QAAQ,CAAC2vC,MAAhC;AACA;AACD;AACD;;AAxLe;;AAAJnB,c,CACLuB,iB,GAAoB,CAACn5J,CAAC,IAAI,MAAMA,CAAC,GAAGya,SAAJ,CAAc,IAAd,CAAZ,EAAiC,sBAAO,MAAMm9I,cAAG,CAACQ,eAAJ,EAAb,CAAjC,C;;AA0L5B,SAASY,cAAT,CAAwBh1J,GAAxB,EAAkC2iJ,IAAlC,EAAwC;AACvC,QAAMjwJ,IAAI,GAAGge,sBAAM,CAAC+N,IAAK;;UAEhBze,GAAG,CAACpD,EAAG;;;QAFhB;AAOA,QAAMw4J,MAAM,GAAG5kK,MAAM,CAAC0uE,OAAP,CAAei0F,gBAAf,EACb/+J,GADa,CACT,CAAC,CAAC0+C,KAAD,EAAQmgB,SAAR,CAAD,MAAyB;AAC7BA,aAD6B;AAE7BngB;AAF6B,GAAzB,CADS,CAAf;AAMA,QAAM4gH,UAAU,GAAG3jK,iBAAM,CAACkF,OAAP,CAAey+J,UAAf,CAA0Bv8J,KAA7C;AAEA,QAAMgd,IAAI,GAAGzD,sBAAM,CAAC+N,IAAK;;;;2EAIiDze,GAAG,CAACzN,IAAK;;;;;OAK7E6iK,MAAM,CAAChhK,GAAP,CAAW,CAAC;AAAE6+D,aAAF;AAAangB;AAAb,GAAD,KAA0BpiC,sBAAM,CAACghE,KAAM;8BAC3Bze,SAAU,uBAAsBngB,KAAM,YAAWA,KAAM,KAAI9yC,GAAG,CAAC8yC,KAAJ,KAAcA,KAAd,IAAuBpiC,sBAAM,CAACghE,KAAM,UAAU,IAAG5+B,KAAM;MADzI,CAEC;;;;;;;;;;;;;;2EAcmE9yC,GAAG,CAACq1D,IAAK;;;;8EAINr1D,GAAG,CAACs0J,OAAQ;;;;gFAIVt0J,GAAG,CAACu0J,SAAU;;4BAElE,CAACb,UAAU,CAACjgK,MAAZ,IAAsB,QAAS;;;;;;;;;EAnC1D;AA8CA,QAAM2N,QAAQ,GAAG;AAChB0xC,SAAK,EAAE00B,QAAQ,CAACrzD,IAAI,CAACy0D,aAAL,CAAmB,kBAAnB,CAAD,EAAyC2vB,iBAAzC,CADC;AAEhB88D,gBAAY,EAAE7tF,QAAQ,CAACrzD,IAAI,CAACy0D,aAAL,CAAmB,yBAAnB,CAAD,EAAgD6J,iBAAhD,CAFN;AAGhB6iF,aAAS,EAAE9tF,QAAQ,CAACrzD,IAAI,CAACy0D,aAAL,CAAmB,uBAAnB,CAAD,EAA8C9T,WAA9C,CAHH;AAIhBygG,mBAAe,EAAE/tF,QAAQ,CAACrzD,IAAI,CAACy0D,aAAL,CAAmB,uBAAnB,EAA4CkX,aAA7C,EAA4DhrB,WAA5D,CAJT;AAKhBO,QAAI,EAAEmS,QAAQ,CAACrzD,IAAI,CAACy0D,aAAL,CAAmB,iBAAnB,CAAD,EAAwCsJ,gBAAxC,CALE;AAMhBsjF,YAAQ,EAAEhuF,QAAQ,CAACrzD,IAAI,CAACy0D,aAAL,CAAmB,uBAAnB,CAAD,EAA8C6J,iBAA9C,CANF;AAOhBo1D,WAAO,EAAErgE,QAAQ,CAACrzD,IAAI,CAACy0D,aAAL,CAAmB,oBAAnB,CAAD,EAA2C9T,WAA3C,CAPD;AAQhBm5C,QAAI,EAAEzmC,QAAQ,CAACrzD,IAAI,CAACy0D,aAAL,CAAmB,iBAAnB,CAAD,EAAwC9T,WAAxC,CARE;AAShBviE,QAAI,EAAEi1E,QAAQ,CAACrzD,IAAI,CAACy0D,aAAL,CAAmB,iBAAnB,CAAD,EAAwCsJ,gBAAxC,CATE;AAUhBqiF,aAAS,EAAE/sF,QAAQ,CAACrzD,IAAI,CAACy0D,aAAL,CAAmB,sBAAnB,CAAD,EAA6CsJ,gBAA7C,CAVH;AAWhBoiF,WAAO,EAAE9sF,QAAQ,CAACrzD,IAAI,CAACy0D,aAAL,CAAmB,oBAAnB,CAAD,EAA2CsJ,gBAA3C;AAXD,GAAjB;AAcAx/E,MAAI,CAACk2E,aAAL,CAAmB,qBAAnB,EAA0CzpD,MAA1C,CACC4oE,6BAAa,CAACmL,YAAd,CACC2V,MAAM,IAAI;AACT,UAAM4sD,mBAAmB,GAAGhB,OAAO,GAAGliK,IAAV,KAAmByN,GAAG,CAACzN,IAAnD;AACA,QAAIs2G,MAAJ,EAAY7oG,GAAG,CAAC6oG,MAAJ,GAAZ,KAA+B7oG,GAAG,CAAC40J,QAAJ;AAC/B,QAAIa,mBAAJ,EAAyBr0J,QAAQ,CAAC7O,IAAT,CAAc4E,KAAd,GAAsB6I,GAAG,CAACzN,IAAJ,IAAY,EAAlC;AACzBmjK,oBAAgB;AAChB,GANF,EAOC,kBAPD,EAQC11J,GAAG,CAAC+V,OARL,EASC,QATD,EAUC,QAVD,EAWC,KAXD,EAYC,IAZD,CADD;;AAiBA,WAAS0+I,OAAT,GAAmB;AAClB,WAAO;AACN3hH,WAAK,EAAE1xC,QAAQ,CAAC0xC,KAAT,CAAe37C,KAAf,KAAyB,MAAzB,GAAkCiK,QAAQ,CAAC0xC,KAAT,CAAe37C,KAAjD,GAAyD,IAD1D;AAENk+D,UAAI,EAAEj0D,QAAQ,CAACi0D,IAAT,CAAcl+D,KAAd,IAAuB,IAFvB;AAGN5E,UAAI,EAAE6O,QAAQ,CAAC7O,IAAT,CAAc4E,KAAd,IAAuB,IAHvB;AAINo9J,eAAS,EAAE1oI,QAAQ,CAACzqB,QAAQ,CAACmzJ,SAAT,CAAmBp9J,KAApB,EAA2B,EAA3B,CAAR,IAA0C,CAJ/C;AAKNm9J,aAAO,EAAEzoI,QAAQ,CAACzqB,QAAQ,CAACkzJ,OAAT,CAAiBn9J,KAAlB,EAAyB,EAAzB,CAAR,IAAwC;AAL3C,KAAP;AAOA;;AAED,WAASu+J,gBAAT,GAA4B;AAC3BhqJ,SAAK,CAACtK,QAAQ,CAACymI,OAAV,CAAL;AACAzmI,YAAQ,CAACymI,OAAT,CAAiBl1I,WAAjB,CAA6BihK,cAAG,CAACQ,eAAJ,CAAoBK,OAAO,EAA3B,CAA7B;AACA;;AAED,WAASkB,qBAAT,CAA+BpjK,IAA/B,EAA8CugD,KAA9C,EAA8D;AAC7D,UAAM7N,OAAO,GAAG2uH,cAAG,CAACQ,eAAJ,CAAoB;AAAE7hK,UAAF;AAAQugD;AAAR,KAApB,CAAhB;AACA7N,WAAO,CAAC3lC,gBAAR,CAAyB,OAAzB,EAAkC,MAAM;AACvCU,SAAG,CAACka,IAAJ,CAAS;AAAE3nB,YAAF;AAAQugD;AAAR,OAAT;AACA9yC,SAAG,CAACiuG,IAAJ;AACA00C,UAAI,CAACvuD,KAAL;AACA,KAJD;AAKA,WAAOnvD,OAAP;AACA;;AAED,WAAS2wH,YAAT,GAAwB;AACvB,UAAM;AAAErjK,UAAF;AAAQugD;AAAR,QAAkB2hH,OAAO,EAA/B;;AACA,QAAIliK,IAAI,IAAIugD,KAAZ,EAAmB;AAClB1xC,cAAQ,CAACm0J,eAAT,CAAyB1uI,MAAzB,GAAkC,KAAlC;AACAzlB,cAAQ,CAACk0J,SAAT,CAAmBn2I,MAAnB,CAA0Bw2I,qBAAqB,CAACpjK,IAAD,EAAOugD,KAAP,CAA/C;AACA/iD,uBAAM,CAACkF,OAAP,CAAey+J,UAAf,CAA0Bv8J,KAA1B,CAAgCvG,IAAhC,CAAqC,CAACqK,MAAM,CAAC1I,IAAD,CAAP,EAAe0I,MAAM,CAAC63C,KAAD,CAArB,CAArC;AACA6yE,kBAAA,CAAa51H,iBAAM,CAACkF,OAAP,CAAey+J,UAA5B;AACA,KALD,MAKO;AACNtjK,YAAM,CAACylK,KAAP,CAAa,wDAAb;AACA;AACD;;AAEDz0J,UAAQ,CAACo0J,QAAT,CAAkBl2J,gBAAlB,CAAmC,OAAnC,EAA4C,MAAM47E,WAAW,CAAC,MAAD,EAAS,GAAG95E,QAAQ,CAACi0D,IAAT,CAAcl+D,KAAd,CAAoBI,KAApB,CAA0B,IAA1B,CAAZ,CAA7D;AACA6J,UAAQ,CAACk0J,SAAT,CAAmBn2I,MAAnB,CAA0B,GAAGu0I,UAAU,CAACt/J,GAAX,CAAe,CAAC,CAAC7B,IAAD,EAAOugD,KAAP,CAAD,KAAmB6iH,qBAAqB,CAACpjK,IAAD,EAAOugD,KAAP,CAAvD,CAA7B;AACA1xC,UAAQ,CAACi0J,YAAT,CAAsB/1J,gBAAtB,CAAuC,OAAvC,EAAgD,MAAMs2J,YAAY,EAAlE;AAEAr8H,kBAAC,CAACplB,IAAD,CAAD,CAAQgD,EAAR,CAAW,oBAAX,EAAiCu+I,gBAAjC;AACAvhJ,MAAI,CAAC7U,gBAAL,CAAsB,QAAtB,EAAgCtD,CAAC,IAAI;AACpCA,KAAC,CAACsd,cAAF;AACAtZ,OAAG,CAACka,IAAJ,CAASu6I,OAAO,EAAhB;AACAz0J,OAAG,CAACiuG,IAAJ;AACA00C,QAAI,CAACvuD,KAAL;AACA,GALD;AAOAshE,kBAAgB;AAChBnnJ,YAAU,CAAC,MAAM;AAChBnN,YAAQ,CAAC7O,IAAT,CAAcujK,iBAAd,CAAgC10J,QAAQ,CAAC7O,IAAT,CAAc4E,KAAd,CAAoB1D,MAApD,EAA4D2N,QAAQ,CAAC7O,IAAT,CAAc4E,KAAd,CAAoB1D,MAAhF;AACA2N,YAAQ,CAAC7O,IAAT,CAAcwqB,KAAd;AACA,GAHS,CAAV;AAKA,SAAO,CAACrqB,IAAD,EAAOyhB,IAAP,CAAP;AACA;;AAED,SAASksI,8BAAT,GAA+B;AAC9B,MAAIrgJ,GAAJ;AAEAmqH,iBAAA,CAA4B,KAA5B,EAAoC,gBAAejzC,IAAI,CAAC,kCAAD,CAAqC,EAA5F,EACC,OAAOwxC,OAAP,EAAgBt2H,GAAhB,KAAwB;AACvB,UAAMijC,QAAQ,GAAGs5F,6BAAa,CAAC39F,OAAd,IAAyB29F,6BAAa,CAAC39F,OAAd,CAAsB0yD,SAAtB,EAA1C;AACA1jF,OAAG,GAAGq1B,QAAQ,KAAI,MAAMu+H,cAAG,CAACjgK,GAAJ,CAAQ0hC,QAAR,CAAV,CAAd;AACA,WAAOr1B,GAAG,GACTk3E,IAAI,CAAC9kF,GAAG,GAAG,qBAAH,GAA2B,mBAA/B,EAAoD4N,GAAG,CAACpD,EAAxD,EAA4DxK,GAA5D,CADK,GAET8kF,IAAI,CAAC,2BAAD,CAFL;AAGA,GAPF,EAQC,CAACwxC,OAAD,EAAUt2H,GAAV,KAAkB;AACjB,QAAI4N,GAAJ,EAAS;AACRA,SAAG,CAACka,IAAJ,CAAS;AAAE3nB,YAAI,EAAEH;AAAR,OAAT;AACA4N,SAAG,CAACiuG,IAAJ;AACA,KAHD,MAGO;AACN,aAAO/2B,IAAI,CAAC,2BAAD,CAAX;AACA;AACD,GAfF;AAiBA;;AAED,SAAS88E,iBAAT,GAA6B;AAG5B/jK,UAAQ,CAACkkB,IAAT,CAAc7U,gBAAd,CAA+B,OAA/B,EAAyCtD,CAAD,IAAmB;AAC1D,QAAIA,CAAC,CAAC2d,MAAF,KAAa,CAAjB,EAAoB;;AACpB,QAAI3d,CAAC,CAAC1G,MAAF,CAASm7E,SAAT,CAAmBj4E,QAAnB,CAA4B,OAA5B,CAAJ,EAA0C;AACzCu9J,qBAAe,CAAC/5J,CAAC,CAAC1G,MAAH,CAAf;AACA;AACD,GALD,EAKG,IALH;AAMA;;AAED,eAAeygK,eAAf,CAA+BC,KAA/B,EAAsC;AACrC,QAAMC,KAAK,GAAG18H,gBAAC,CAACy8H,KAAD,CAAf;AACA,QAAME,WAAW,GAAGD,KAAK,CAACztJ,QAAN,CAAe,QAAf,CAApB;;AAGA,MAAIytJ,KAAK,CAACtpI,QAAN,CAAe,UAAf,CAAJ,EAAgC;AAC/B;AACA;;AAWD,MAAImpE,EAAE,GAAG,CAAT;AACA,MAAIC,IAAI,GAAG,CAAX;;AACA,MAAIkgE,KAAK,CAACtpI,QAAN,CAAe,IAAf,CAAJ,EAA0B;AAEzBmpE,MAAE,GAAG,CAAL;;AACA,QAAIogE,WAAW,CAACvpI,QAAZ,CAAqB,SAArB,CAAJ,EAAqC;AAEpCopE,UAAI,GAAG,CAAC,CAAR;AACA;AACD,GAPD,MAOO,IAAIkgE,KAAK,CAACtpI,QAAN,CAAe,OAAf,CAAJ,EAA6B;AAEnCmpE,MAAE,GAAG,CAAC,CAAN;AACA,GAHM,MAGA,IAAImgE,KAAK,CAACtpI,QAAN,CAAe,MAAf,CAAJ,EAA4B;AAElCopE,QAAI,GAAG,CAAP;;AACA,QAAImgE,WAAW,CAACvpI,QAAZ,CAAqB,OAArB,CAAJ,EAAmC;AAElCmpE,QAAE,GAAG,CAAC,CAAN;AACA;AACD,GAPM,MAOA,IAAImgE,KAAK,CAACtpI,QAAN,CAAe,SAAf,CAAJ,EAA+B;AAErCopE,QAAI,GAAG,CAAC,CAAR;AACA;;AAGD,QAAM7V,KAAK,GAAGT,WAAK,CAACM,WAAN,CAAkBi2E,KAAlB,CAAd;AACA,QAAM3gI,QAAQ,GAAG6qD,KAAK,CAACwD,SAAN,EAAjB;AAGA,MAAIruD,QAAQ,KAAKu8C,YAAY,EAA7B,EAAiC;AAEjC,QAAM5xE,GAAG,GAAGq1B,QAAQ,KAAI,MAAMu+H,cAAG,CAACjgK,GAAJ,CAAQ0hC,QAAR,CAAV,CAApB;AACA,MAAI,CAACr1B,GAAL,EAAU,MAAM,IAAI7P,KAAJ,CAAU,QAAV,CAAN;AACV6P,KAAG,CAACka,IAAJ,CAAS;AACRo6I,WAAO,EAAEt0J,GAAG,CAACs0J,OAAJ,GAAcx+D,EADf;AAERy+D,aAAS,EAAEv0J,GAAG,CAACu0J,SAAJ,GAAgBx+D;AAFnB,GAAT;AAIA/1F,KAAG,CAACiuG,IAAJ;AACA;;AAED,SAAS6mD,yBAAT,CAAmCvjK,GAAnC,EAAwC;AACvC,QAAM2uF,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAW1wE,GAAX,CAAd;AACA,MAAI,CAAC2uF,KAAL,EAAY,OAAO,EAAP;AACZ,QAAM7qB,IAAI,GAAG,CAACtlE,iBAAM,CAACkF,OAAP,CAAeq+J,uBAAf,CAAuCn8J,KAAxC,IAAiD+oF,KAAK,CAACqC,eAAN,EAAjD,IACZrC,KAAK,CAAC4C,mBAAN,EADD;AAEA,SAAOztB,IAAI,GAAGA,IAAI,CAAChxD,IAAR,GAAe,EAA1B;AACA;;AAED,SAAS6wJ,kBAAT,CAA4B;AAAER,OAAF;AAASJ,SAAT;AAAkBC;AAAlB,CAA5B,EAA2D;AAC1D,MAAItyG,GAAG,GAAG,GAAV;AACA,MAAIlE,KAAK,GAAG,GAAZ;AACA,MAAI9C,IAAI,GAAG,GAAX;AACA,MAAIk7G,KAAK,GAAG,CAAZ;;AACA,MAAI7B,OAAO,GAAGC,SAAd,EAAyB;AACxBtyG,OAAG,GAAGpsD,IAAI,CAAC0tB,GAAL,CAAS,CAAT,EAAY,MAAM,IAAImxI,KAAtB,CAAN;AACA32G,SAAK,GAAG,GAAR;AACA9C,QAAI,GAAGplD,IAAI,CAAC0tB,GAAL,CAAS,CAAT,EAAY,MAAM,IAAImxI,KAAtB,CAAP;AACAyB,SAAK,GAAGtgK,IAAI,CAAC4nC,GAAL,CAASi3H,KAAT,KAAmBJ,OAAO,GAAGC,SAA7B,CAAR;AACA,GALD,MAKO,IAAID,OAAO,GAAGC,SAAd,EAAyB;AAC/BtyG,OAAG,GAAG,GAAN;AACAlE,SAAK,GAAGloD,IAAI,CAAC0tB,GAAL,CAAS,CAAT,EAAa,MAAM1tB,IAAI,CAAC4nC,GAAL,CAAS,IAAIi3H,KAAb,CAAnB,CAAR;AACAz5G,QAAI,GAAGplD,IAAI,CAAC0tB,GAAL,CAAS,CAAT,EAAa,MAAM1tB,IAAI,CAAC4nC,GAAL,CAAS,IAAIi3H,KAAb,CAAnB,CAAP;AACAyB,SAAK,GAAGtgK,IAAI,CAAC4nC,GAAL,CAASi3H,KAAT,KAAmBJ,OAAO,GAAGC,SAA7B,CAAR;AACA;;AAED,QAAMzhH,KAAK,GAAI,QAAOmP,GAAI,KAAIlE,KAAM,KAAI9C,IAAK,KAAI,MAAMk7G,KAAK,GAAG,GAAI,GAAnE;AACA,SAAOlH,aAAA,KACL,UAASn8G,KAAM,GADV,GAEL,qBAAoBA,KAAM,GAF5B;AAGA;;AAED,eAAe++E,oCAAf,CAAyChqC,OAAzC,EAAkD;AACjD,QAAM9zD,OAAO,GAAG;AACfsB,YAAQ,EAAE6hD,IAAI,CAAC,oBAAD,CADC;AAEfl3E,OAAG,EAAEk3E,IAAI,CAAC,eAAD,CAFM;AAGfpkC,SAAK,EAAEokC,IAAI,CAAC,iBAAD,CAHI;AAIfq9E,aAAS,EAAEr9E,IAAI,CAAC,qBAAD,CAJA;AAKfo9E,WAAO,EAAEp9E,IAAI,CAAC,mBAAD,CALE;AAMfmC,UAAM,EAAE;AANO,GAAhB;AASA,QAAMnoE,IAAI,GAAG,MAAM0iJ,cAAG,CAACS,SAAJ,EAAnB;AAyBA,QAAM3gE,KAAK,GAAG,IAAIggC,qBAAK,CAACx8B,QAAV,CAAmBnjE,OAAnB,EAA4B7iB,IAA5B,EAvBClR,GAAG,IAAI;AACrB,UAAMo2J,OAAO,GAAGnmK,QAAQ,CAACqC,aAAT,CAAuB,MAAvB,CAAhB;AACA0N,OAAG,CAACgK,GAAJ,CAAQosJ,OAAR,EAAiB;AAAErC,uBAAiB,EAAE,IAArB;AAA2B50I,YAAM,EAAE;AAAnC,KAAjB;AAEA,UAAMk3I,UAAU,GAAG3lJ,sBAAM,CAAC+N,IAAK,0EAA/B;AACA43I,cAAU,CAAC/2J,gBAAX,CAA4B,OAA5B,EAAsCtD,CAAD,IAAmB;AACvDitH,2BAAK,CAAC7zF,IAAN,CAAW8hD,IAAI,CAAC,wCAAD,EAA2Cl3E,GAAG,CAACpD,EAA/C,CAAf,EAAmE;AAAE0e,kBAAU,EAAE;AAAd,OAAnE,EAAyF7O,IAAzF,CAA8F,MAAM;AACnGzM,WAAG,CAACq5E,MAAJ;AACCr9E,SAAC,CAACmd,aAAF,CAAgBtP,OAAhB,CAAwB,IAAxB,CAAD,CAAqC4B,MAArC;;AACA,uBAAOyF,IAAP,EAAalR,GAAb;AACA,OAJD;AAKA,KAND;AAQA,WAAO;AACNq1B,cAAQ,EAAE3kB,sBAAM,CAAC+N,IAAK,kBAAiBze,GAAG,CAACpD,EAAG,KAAIoD,GAAG,CAACpD,EAAG,MADnD;AAENoD,SAAG,EAAEo2J,OAFC;AAGNtjH,WAAK,EAAEpiC,sBAAM,CAAC+N,IAAK,uBAAsBze,GAAG,CAAC8yC,KAAJ,IAAa,SAAU,KAAI9yC,GAAG,CAAC8yC,KAAJ,GAAY9yC,GAAG,CAAC8yC,KAAhB,GAAwB,EAAG,SAHzF;AAINyhH,eAAS,EAAEv0J,GAAG,CAACu0J,SAJT;AAKND,aAAO,EAAEt0J,GAAG,CAACs0J,OALP;AAMNj7E,YAAM,EAAEg9E;AANF,KAAP;AAQA,GAEa,EAA0C;AAAE/5H,UAAM,EAAE;AAAV,GAA1C,CAAd;AAEA,QAAM2I,OAAO,GAAGh1C,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAhB;AACA2yC,SAAO,CAAC9lB,MAAR,CACCu0E,KAAK,CAACsE,mBAAN,CAA0Bh4F,GAAG,IAAIA,GAAG,CAACpD,EAArC,EAAyC,UAAzC,EAAqD,IAArD,CADD,EAEC82F,KAAK,CAAC0E,mBAAN,CAA0B,CACzB;AAAEljG,QAAI,EAAEgiF,IAAI,CAAC,oBAAD,CAAZ;AAAoCt3E,UAAM,EAAE,MAAM,IAAlD;AAAwDy4F,mBAAe,EAAE;AAAzE,GADyB,EAEzB;AAAEnjG,QAAI,EAAEgiF,IAAI,CAAC,uBAAD,CAAZ;AAAuCt3E,UAAM,EAAEI,GAAG,IAAIA,GAAG,CAACzN,IAA1D;AAAgE8lG,mBAAe,EAAE;AAAjF,GAFyB,CAA1B,CAFD,EAMC3E,KAAK,CAAC8E,uBAAN,EAND,EAOC9E,KAAK,CAACzuD,OAPP;AAUA4iD,SAAO,CAAC1oE,MAAR,CAAe8lB,OAAf;AACA,C;;AC1sBD;AACA;AAEO,MAAMqxH,eAAN,SAAsBjmC,gBAAtB,CAAkC;AAAA;AAAA;AAAA,SAYxCR,QAZwC,GAY5B,YAAW,KAAKjB,UAAL,CAAgBc,IAAK,EAAjC,CAAmCj5H,IAAnC,EAZ6B;AAAA,SAcxCU,KAdwC,GAchC,KAAKiyD,KAAL,CAAW,IAAX,EAAiB,KAAjB,CAdgC;AAAA;;AAGxC,eAAaylE,gBAAb,CAA8B3uC,KAA9B,EAAwC;AACvC,UAAM2D,MAAM,GAAG3D,KAAK,CAACwD,SAAN,EAAf;AACA,WAAOG,MAAM,IAAI,CAAC,MAAM+vE,cAAG,CAACjgK,GAAJ,CAAQkwF,MAAR,CAAP,EAAwBtxF,IAAlC,IAA0C,EAAjD;AACA;;AAUD,QAAM08H,QAAN,CAAe/uC,KAAf,EAAyB;AACxB,UAAM2D,MAAM,GAAG3D,KAAK,CAACwD,SAAN,EAAf;AACA,QAAI,CAACG,MAAL,EAAa,OAAO,IAAP;AACb,UAAM7jF,GAAG,GAAG,CAAC,MAAM4zJ,cAAG,CAACjgK,GAAJ,CAAQkwF,MAAR,CAAP,EAAwBtxF,IAApC;AACA,WAAOyN,GAAG,GAAG,KAAK7I,KAAL,CAAW03E,IAAX,CAAgB9iE,CAAC,IAAIA,CAAC,CAAC/O,IAAF,CAAOgD,GAAP,CAArB,CAAH,GAAuC,KAAjD;AACA;;AArBuC;AAA5Bs2J,e,CACL/jK,I,GAAO,U;AADF+jK,e,CAQLpoE,M,GAAS,CAAC,uCAAD,EAA0C;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAA1C,C;AARJ05J,e,CAUL/zJ,O,GAAU,S;;ACblB;AACA;AACA;AACA;AAEO,MAAMg0J,6BAAN,SAA6B9nC,SAA7B,CAAkC;AAAA;AAAA;AAAA,SAoBxCoB,QApBwC,GAoB5B,eAAcziC,cAAc,CAAC,KAAKwhC,UAAL,CAAgB1hC,EAAjB,CAAqB,IAAG,KAAK0hC,UAAL,CAAgBx8H,GAAI,EApB5C;AAAA,SAqBxC09H,SArBwC,GAqB3B,eAAc1iC,cAAc,CAACD,eAAe,CAAC,KAAKyhC,UAAL,CAAgB1hC,EAAjB,CAAhB,CAAsC,IAAG,KAAK0hC,UAAL,CAAgBx8H,GAAI,EArB9D;AAAA;;AAGxC,SAAO+8H,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAE+sF,QAAE,EAAE,IAAN;AAAY96F,SAAG,EAAEy5B,QAAQ,CAAC1rB,KAAD,EAAQ,EAAR;AAAzB,KAAP;AAAgD;;AAClF,eAAa0uH,gBAAb,CAA8B3uC,KAA9B,EAAwC;AACvC,UAAM7qD,QAAQ,GAAG6qD,KAAK,CAACwD,SAAN,EAAjB;AACA,QAAI,CAACruD,QAAL,EAAe,MAAM,IAAIllC,KAAJ,CAAU,aAAV,CAAN;AACf,WAAO8K,MAAM,CAAC,CAAC,MAAMu7J,cAAA,CAAe7iK,GAAf,CAAmB0hC,QAAnB,CAAP,EAAqCq/H,KAArC,IAA8C,CAA/C,CAAb;AACA;;AAMD,aAAW/4J,QAAX,GAA+B;AAC9B,WAAO,CAACumH,iBAAA,CAAkBs0C,0BAAlB,CAAD,IAAkC,CAACA,iBAAA,CAAkBvhK,OAAlB,CAA0Bs+J,eAA1B,CAA0Cp8J,KAApF;AACA;;AAODuoC,SAAO,GAAG;AAAE,WAAO7B,MAAM,CAACizF,SAAP,CAAiB,KAAK35H,KAAL,CAAW/E,GAA5B,CAAP;AAA0C;;AAEtD,QAAM68H,QAAN,CAAe/uC,KAAf,EAAyB;AACxB,UAAM7qD,QAAQ,GAAG6qD,KAAK,CAACwD,SAAN,EAAjB;AACA,QAAI,CAACruD,QAAL,EAAe,OAAO,IAAP;AACf,WAAO43D,gBAAgB,CAAC,KAAK91F,KAAL,CAAW+1F,EAAZ,EAAgB,CAAC,MAAMspE,cAAA,CAAe7iK,GAAf,CAAmB0hC,QAAnB,CAAP,EAAqCq/H,KAArD,EAA4D,KAAKv9J,KAAL,CAAW/E,GAAvE,CAAvB;AACA;;AA7BuC;AAA5BmkK,6B,CACLhkK,I,GAAO,kB;AADFgkK,6B,CAULp8C,iB,GAAoB;AAAEjtB,IAAE,EAAE,GAAN;AAAW96F,KAAG,EAAE;AAAhB,C;AAVfmkK,6B,CAWLroE,M,GAAS,CAAC,yBAAD,EAA4B;AAAEv8F,MAAI,EAAE,QAAR;AAAkBsD,SAAO,EAAE,YAA3B;AAAyC2H,IAAE,EAAE;AAA7C,CAA5B,EAAiF,GAAjF,EAAsF;AAAEjL,MAAI,EAAE,QAAR;AAAkBiL,IAAE,EAAE;AAAtB,CAAtF,EAAqH,QAArH,C;AAXJ25J,6B,CAaLhsI,I,GAAO,C;AAbFgsI,6B,CAkBLh0J,O,GAAU,S;;ACvBlB;AAEO,MAAMk0J,iBAAN,SAAuBpmC,gBAAvB,CAAmC;AAAA;AAAA;AAAA,SAOzCR,QAPyC,GAO7B,MAAK,KAAKjB,UAAL,CAAgBc,IAAK,EAPG;AAAA,SASzCv4H,KATyC,GASjC,KAAKiyD,KAAL,CAAW,IAAX,CATiC;AAAA;;AAGzC,SAAOylE,gBAAP,CAAwB3uC,KAAxB,EAAkC;AAAE,WAAOA,KAAK,CAACwD,SAAN,EAAP;AAA2B;;AAQ/DurC,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAM2R,IAAI,GAAG3R,KAAK,CAACwD,SAAN,EAAb;AACA,QAAI,CAACmO,IAAL,EAAW,OAAO,IAAP;AACX,WAAO,KAAK16F,KAAL,CAAW03E,IAAX,CAAgB9iE,CAAC,IAAIA,CAAC,CAAC/O,IAAF,CAAO60F,IAAP,CAArB,CAAP;AACA;;AAfwC;AAA7B4kE,iB,CACLlkK,I,GAAO,U;AADFkkK,iB,CAKLvoE,M,GAAS,CAAC,eAAD,EAAkB;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAAlB,C;;ACPjB;AAEA,MAAM3H,gBAAO,GAAG,CACf,CAAC,SAAD,EAAY,QAAZ,CADe,EAEf,CAAC,WAAD,EAAc,UAAd,CAFe,EAGf,CAAC,WAAD,EAAc,SAAd,CAHe,CAAhB;AAMO,MAAMyhK,iBAAN,SAAuBjoC,SAAvB,CAA4B;AAAA;AAAA;AAAA,SAUlCoB,QAVkC,GAUvB,CAAC56H,gBAAO,CAAC6K,IAAR,CAAa,CAAC,GAAGqyF,GAAH,CAAD,KAAaA,GAAG,KAAK,KAAKy8B,UAAL,CAAgB4wB,IAAlD,KAA2D,EAA5D,EAAgE,CAAhE,CAVuB;AAAA;;AAGlC,SAAOrwB,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAEq/I,UAAI,EAAEr/I;AAAR,KAAP;AAAyB;;AAS3Du/B,SAAO,GAAG;AAAE,WAAOzqC,gBAAO,CAACb,GAAR,CAAY,CAAC,GAAG+9F,GAAH,CAAD,KAAaA,GAAzB,EAA8BxgD,QAA9B,CAAuC,KAAKx6C,KAAL,CAAWqoJ,IAAlD,CAAP;AAAiE;;AAE7EvwB,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,YAAQ,KAAK/oF,KAAL,CAAWqoJ,IAAnB;AACC,WAAK,QAAL;AAAe,eAAOt/D,KAAK,CAACyG,SAAN,EAAP;;AACf,WAAK,UAAL;AAAiB,eAAOzG,KAAK,CAAC0G,WAAN,EAAP;;AACjB,WAAK,SAAL;AAAgB,eAAO1G,KAAK,CAAC2G,SAAN,EAAP;;AAChB;AAAS,cAAM,IAAI12F,KAAJ,CAAU,gBAAV,CAAN;AAJV;AAMA;;AArBiC;AAAtBumK,iB,CACLnkK,I,GAAO,W;AADFmkK,iB,CAKLv8C,iB,GAAoB;AAAEqlC,MAAI,EAAE;AAAR,C;AALfkX,iB,CAMLxoE,M,GAAS,CAAC,UAAD,EAAa;AAAEv8F,MAAI,EAAE,QAAR;AAAkBiL,IAAE,EAAE,MAAtB;AAA8B3H,SAAOA;AAArC,CAAb,EAAsD,QAAtD,C;AANJyhK,iB,CAQLn0J,O,GAAW,IAAGtN,gBAAO,CAACb,GAAR,CAAY,CAAC,GAAG+9F,GAAH,CAAD,KAAaA,GAAzB,EAA8Bj1F,IAA9B,CAAmC,GAAnC,CAAwC,G;;AChB9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrBA;AAEO,MAAMy5J,6BAAN,SAA6BtmC,gBAA7B,CAAyC;AAAA;AAAA;AAAA,SAO/CR,QAP+C,GAOnC,oBAAmB,KAAKjB,UAAL,CAAgBc,IAAK,EAPL;AAAA,SAS/Cv4H,KAT+C,GASvC,KAAKiyD,KAAL,CAAW,KAAX,CATuC;AAAA;;AAG/C,SAAO+lE,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAEuvH,UAAI,EAAEvvH;AAAR,KAAP;AAAyB;;AAQ3D8uH,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAM/rE,IAAI,GAAG+rE,KAAK,CAAC0C,WAAN,EAAb;AACA,QAAI,CAACzuE,IAAL,EAAW,OAAO,IAAP;AACX,WAAO,KAAKhd,KAAL,CAAW03E,IAAX,CAAgB9iE,CAAC,IAAIA,CAAC,CAAC/O,IAAF,CAAOmX,IAAI,CAACtS,WAAZ,CAArB,CAAP;AACA;;AAf8C;AAAnC80J,6B,CACLpkK,I,GAAO,iB;AADFokK,6B,CAKLzoE,M,GAAS,CAAC,mBAAD,EAAsB;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAAtB,C;;ACPjB;AACA;AAEA,MAAM3H,qBAAO,GAAG,CAAC,YAAD,EAAe,OAAf,CAAhB;AAEO,MAAM2hK,2BAAN,SAA4BnoC,SAA5B,CAAiC;AAAA;AAAA;AAAA,SAUvCoB,QAVuC,GAU3B,UAASziC,cAAc,CAAC,KAAKwhC,UAAL,CAAgB1hC,EAAjB,CAAqB,IAAG,KAAK0hC,UAAL,CAAgBx8H,GAAI,IAAG,KAAKw8H,UAAL,CAAgB4wB,IAAK,EAVhE;AAAA,SAWvC1vB,SAXuC,GAW1B,UAAS1iC,cAAc,CAACD,eAAe,CAAC,KAAKyhC,UAAL,CAAgB1hC,EAAjB,CAAhB,CAAsC,IAAG,KAAK0hC,UAAL,CAAgBx8H,GAAI,IAAG,KAAKw8H,UAAL,CAAgB4wB,IAAK,EAXlF;AAAA;;AAGvC,SAAOrwB,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAE+sF,QAAE,EAAE,IAAN;AAAYsyD,UAAI,EAAE,OAAlB;AAA2BptJ,SAAG,EAAEy5B,QAAQ,CAAC1rB,KAAD,EAAQ,EAAR;AAAxC,KAAP;AAA+D;;AAUjGu/B,SAAO,GAAG;AAAE,WAAO7B,MAAM,CAACizF,SAAP,CAAiB,KAAK35H,KAAL,CAAW/E,GAA5B,CAAP;AAA0C;;AAEtD68H,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAM42C,EAAE,GAAG52C,KAAK,CAAC9gB,KAAN,CAAYwJ,aAAZ,CAA0B,KAA1B,CAAX;AACA,QAAI,CAACkuD,EAAL,EAAS,OAAO,IAAP;;AACT,YAAQ,KAAK3/H,KAAL,CAAWqoJ,IAAnB;AACC,WAAK,YAAL;AAAmB,eAAOvyD,gBAAgB,CAAC,KAAK91F,KAAL,CAAW+1F,EAAZ,EAAgB4pC,EAAE,CAACj1H,WAAH,CAAepO,MAA/B,EAAuC,KAAK0D,KAAL,CAAW/E,GAAlD,CAAvB;;AACnB,WAAK,OAAL;AAAc,eAAO66F,gBAAgB,CAAC,KAAK91F,KAAL,CAAW+1F,EAAZ,EAAgB4pC,EAAE,CAACj1H,WAAH,CAAetK,KAAf,CAAqB,GAArB,EAA0B9D,MAA1C,EAAkD,KAAK0D,KAAL,CAAW/E,GAA7D,CAAvB;;AACd;AAAS,cAAM,IAAIjC,KAAJ,CAAU,gBAAV,CAAN;AAHV;AAKA;;AAvBsC;AAA3BymK,2B,CACLrkK,I,GAAO,gB;AADFqkK,2B,CAKL1oE,M,GAAS,CAAC,oBAAD,EAAuB;AAAEv8F,MAAI,EAAE,QAAR;AAAkBsD,SAAO,EAAE,YAA3B;AAAyC2H,IAAE,EAAE;AAA7C,CAAvB,EAA4E,GAA5E,EAAiF;AAAEjL,MAAI,EAAE,QAAR;AAAkBiL,IAAE,EAAE;AAAtB,CAAjF,EAAgH,GAAhH,EAAqH;AAAEjL,MAAI,EAAE,QAAR;AAAkBiL,IAAE,EAAE,MAAtB;AAA8B3H,SAAOA;AAArC,CAArH,C;AALJ2hK,2B,CAMLz8C,iB,GAAoB;AAAEjtB,IAAE,EAAE,GAAN;AAAWsyD,MAAI,EAAE,OAAjB;AAA0BptJ,KAAG,EAAE;AAA/B,C;AANfwkK,2B,CAQLr0J,O,GAAU,S;;ACblB;AACA;AAEO,MAAMs0J,WAAN,SAAoBpoC,SAApB,CAAyB;AAAA;AAAA;AAAA,SAW/BoB,QAX+B,GAWnB,SAAQziC,cAAc,CAAC,KAAKwhC,UAAL,CAAgB1hC,EAAjB,CAAqB,IAAG,KAAK0hC,UAAL,CAAgBx8H,GAAI,EAX/C;AAAA,SAY/B09H,SAZ+B,GAYlB,SAAQ1iC,cAAc,CAACD,eAAe,CAAC,KAAKyhC,UAAL,CAAgB1hC,EAAjB,CAAhB,CAAsC,IAAG,KAAK0hC,UAAL,CAAgBx8H,GAAI,EAZjE;AAAA;;AAG/B,SAAO+8H,cAAP,CAAsBhvH,KAAtB,EAAgC;AAAE,WAAO;AAAE+sF,QAAE,EAAE,IAAN;AAAY96F,SAAG,EAAEy5B,QAAQ,CAAC1rB,KAAD,EAAQ,EAAR;AAAzB,KAAP;AAAgD;;AAClF,SAAO0uH,gBAAP,CAAwB3uC,KAAxB,EAAkC;AAAE,WAAOjlF,MAAM,CAACilF,KAAK,CAACoB,UAAN,GAAmB7tF,MAApB,CAAb;AAA2C;;AAU/EisC,SAAO,GAAG;AAAE,WAAO,KAAKvoC,KAAL,CAAW/E,GAAX,IAAkB,CAAzB;AAA6B;;AAEzC68H,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,UAAMvyE,KAAK,GAAGuyE,KAAK,CAACoB,UAAN,GAAmB7tF,MAAjC;AACA,WAAOw5F,gBAAgB,CAAC,KAAK91F,KAAL,CAAW+1F,EAAZ,EAAgBv/E,KAAhB,EAAuB,KAAKxW,KAAL,CAAW/E,GAAlC,CAAvB;AACA;;AAnB8B;AAAnBykK,W,CACLtkK,I,GAAO,e;AADFskK,W,CAML18C,iB,GAAoB;AAAEjtB,IAAE,EAAE,GAAN;AAAW96F,KAAG,EAAE;AAAhB,C;AANfykK,W,CAOL3oE,M,GAAS,CAAC,mBAAD,EAAsB;AAAEv8F,MAAI,EAAE,QAAR;AAAkBsD,SAAO,EAAE,YAA3B;AAAyC2H,IAAE,EAAE;AAA7C,CAAtB,EAA2E,GAA3E,EAAgF;AAAEjL,MAAI,EAAE,QAAR;AAAkBiL,IAAE,EAAE;AAAtB,CAAhF,C;AAPJi6J,W,CASLt0J,O,GAAU,S;;ACZlB;AAEO,MAAMu0J,mBAAN,SAAwBroC,SAAxB,CAA6B;AAAA;AAAA;AAAA,SAOnCoB,QAPmC,GAOxB,SAPwB;AAAA;;AASnCZ,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,WAAOA,KAAK,CAACqG,SAAN,EAAP;AACA;;AAXkC;AAAvBuwE,mB,CACLvkK,I,GAAO,S;AADFukK,mB,CAGL5oE,M,GAAS,CAAC,oBAAD,C;AAHJ4oE,mB,CAKL5uJ,M,GAAS,I;;ACPjB;AACA;AACA;AAQA;AACA;AAEO,MAAMnY,mBAAiB,GAAG,IAAIirH,MAAJ,CAAW,cAAX,CAA1B;AAEPjrH,mBAAM,CAACkrH,UAAP,GAAoB,kBAApB;AACAlrH,mBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,mBAAM,CAAC4jG,WAAP,GAAqB,kBAArB;AACA5jG,mBAAM,CAACkF,OAAP,GAAiB;AAChBg8H,eAAa,EAAE;AACdt/H,QAAI,EAAE,MADQ;AAEdwF,SAAK,EAAE,IAFO;AAGdw8F,eAAW,EAAE,+BAHC;AAIdtQ,SAAK,EAAE,gCAJO;AAKd2mC,YAAQ,EAAE;AALI,GADC;AAQhB+sC,iBAAe,EAAE;AAChBplK,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,IAFS;AAGhBw8F,eAAW,EAAE,iCAHG;AAIhBtQ,SAAK,EAAE;AAJS,GARD;AAchB2zE,sBAAoB,EAAE;AACrBrlK,QAAI,EAAE,SADe;AAErBwF,SAAK,EAAE,KAFc;AAGrBk6H,aAAS,EAAE,MAAMthI,mBAAM,CAACkF,OAAP,CAAe8hK,eAAf,CAA+B5/J,KAH3B;AAIrBw8F,eAAW,EAAE,sCAJQ;AAKrBtQ,SAAK,EAAE,uCALc;AAMrB2mC,YAAQ,EAAE;AANW;AAdN,CAAjB;AAwBAj6H,mBAAM,CAACurH,OAAP,GAAiB,CAAC,UAAD,EAAa,kBAAb,CAAjB;AAEA,MAAM27C,SAAS,GAAG,CAACvoF,WAAW,CAACnB,QAAZ,CAAqBrpE,QAAQ,CAACkrE,QAA9B,KAA2C,EAA5C,EAAgD,CAAhD,KAAsDlrE,QAAQ,CAACkrE,QAAjF;AACA,MAAMsf,yBAAY,GAAGK,uBAAO,CAAClR,UAAR,CAAmB,eAAnB,EAAoC,OAGlD;AACNgR,YAAU,EAAEp2F,IAAI,CAACyiB,GAAL,EADN;AAENm+G,KAAG,EAAE;AAFC,CAHkD,CAApC,CAArB;AAQA,MAAMxlH,oBAAO,GAAG66E,yBAAY,CAAC/6F,GAAb,CAAiBsjK,SAAjB,CAAhB;AACA,IAAI59B,gBAAJ;;AAEAtpI,mBAAM,CAAC+rH,UAAP,GAAoB,YAAY;AAC/Bud,kBAAG,GAAG,MAAOxlH,oBAAO,CAACpH,IAAR,CAAa,CAAC;AAAE4sH;AAAF,GAAD,KAAa,IAAI9vD,GAAJ,CAAQ/4E,MAAM,CAAC+M,IAAP,CAAY87H,GAAZ,CAAR,CAA1B,CAAb;AAEA69B,mBAAiB;;AAEjB,MAAInnK,mBAAM,CAACkF,OAAP,CAAe8hK,eAAf,CAA+B5/J,KAAnC,EAA0C;AACzC,QAAI,CAACpH,mBAAM,CAACkF,OAAP,CAAe+hK,oBAAf,CAAoC7/J,KAArC,IAA8C+8E,iBAAiB,EAAnE,EAAuE;AAEvEy6C,iCAAa,CAAC/6C,WAAd,CAA0B5iD,OAAO,IAAI;AACpC,UAAIA,OAAO,CAACqwD,SAAR,MAAuBrwD,OAAO,CAACy1D,gBAAR,EAA3B,EAAuDz8E,gBAAG,CAACgnB,OAAD,CAAH;AACvD,KAFD,EAEG,aAFH;AAGA;;AAEDy9D,sBAAoB,CAAC,cAAD,EAAiBC,yBAAjB,EAA+B7iE,QAAQ,CAAC97B,mBAAM,CAACkF,OAAP,CAAeg8H,aAAf,CAA6B95H,KAA9B,EAAqC,EAArC,CAAvC,CAApB;AACA,CAdD;;AAgBA,eAAe+/J,iBAAf,GAAmC;AAClC,MAAI,CAAC79B,gBAAG,CAACt1F,IAAT,EAAe;AAEf,QAAM2+G,UAAU,GAAG,MAAMP,iBAAzB;AACA,QAAMviJ,MAAM,GAAG8iJ,UAAU,CAAC2E,YAAX,CAAwB;AAAE11J,QAAI,EAAE,QAAR;AAAkBiL,MAAE,EAAE;AAAtB,GAAxB,CAAf;AAEA,MAAIgD,MAAM,CAACiN,KAAP,KAAiB,KAAjB,IAA0BjN,MAAM,CAACkhJ,OAAP,CAAevsI,IAA7C,EAAmD;AAGnD,QAAM,IAAIqzD,OAAJ,CAAYyD,GAAG,IAAI8kB,cAAc,CAAC,CAAC,SAAD,CAAD,EAAcjQ,KAAK,IAAI;AAAE,QAAIi3E,MAAM,CAACj3E,KAAD,CAAV,EAAmB7U,GAAG;AAAK,GAApD,CAAjC,CAAN;AAEA,QAAMmpE,UAAU,GAAGvkJ,QAAQ,CAACqC,aAAT,CAAuB,QAAvB,CAAnB;AACAkiJ,YAAU,CAAC3yI,WAAX,GAAyB,oBAAzB;AACA2yI,YAAU,CAACl1I,gBAAX,CAA4B,OAA5B,EAAqC,MAAM;AAC1CM,UAAM,CAAC45E,MAAP,CAAc,KAAd,EAAqB7jF,SAArB,EAAgC;AAAE4e,UAAI,EAAE;AAAR,KAAhC;AACA,QAAI,CAAC3U,MAAM,CAACwD,MAAZ,EAAoBs/I,UAAU,CAAC6F,SAAX,CAAqB3oJ,MAArB;AACpB,QAAIuiJ,uBAAJ,EAAyCA,uBAAA;AACzCt1B,gBAAY,CAACz4B,KAAb;AACA,GALD;AAOA,QAAMy4B,YAAY,GAAG0B,8BAAA,CAA+B;AACnD7W,YAAQ,EAAE3nH,mBAAM,CAAC2nH,QADkC;AAEnD6U,kBAAc,EAAE,UAFmC;AAGnDC,UAAM,EAAE,0BAH2C;AAInDp9G,WAAO,EAAEolI,UAJ0C;AAKnD1oB,cAAU,EAAE;AALuC,GAA/B,CAArB;AAOA;;AAED,MAAMsrC,IAAI,GAAGl/E,KAAK,CAACmhD,GAAG,IACrB3qC,yBAAY,CAACxlC,KAAb,CACC+tG,SADD,EAEC;AAAE59B,KAAG,EAAEA,GAAG,CAACjtD,MAAJ,CAAW,CAACuR,GAAD,EAAM/gF,EAAN,KAAa;AAAE+gF,OAAG,CAAC/gF,EAAD,CAAH,GAAU,IAAV;AAAgB,WAAO+gF,GAAP;AAAa,GAAvD,EAAyD,EAAzD,CAAP;AAAqEkR,YAAU,EAAEp2F,IAAI,CAACyiB,GAAL;AAAjF,CAFD,CADiB,EAKf;AAAE6oB,MAAI,EAAE+hC,QAAR;AAAkBr7C,OAAK,EAAE,IAAzB;AAA+B0tD,mBAAiB,EAAE;AAAlD,CALe,CAAlB;;AAOO,MAAMnuE,gBAAG,GAAIk2E,KAAD,IAAkB;AACpC,MAAI,CAACm5C,gBAAL,EAAU;AACV,QAAMz8H,EAAE,GAAGsjF,KAAK,CAACoF,WAAN,EAAX;;AACA8xE,MAAI,CAACx6J,EAAD,CAAJ;AACA,CAJM;AAMA,MAAMu6J,MAAM,GAAIj3E,KAAD,IAAc;AACnC,MAAI,CAACm5C,gBAAL,EAAU,MAAM,IAAIlpI,KAAJ,EAAN;AACV,SAAOkpI,gBAAG,CAAC3vH,GAAJ,CAAQw2E,KAAK,CAACoF,WAAN,EAAR,CAAP;AACA,CAHM,C;;AClHP;AACA;AACA;AAEO,MAAM+xE,aAAN,SAAqB5oC,SAArB,CAA0B;AAAA;AAAA;AAAA,SAUhCoB,QAVgC,GAUrB,MAVqB;AAAA;;AAIhC,aAAWl0H,QAAX,GAA+B;AAC9B,WAAO,CAACumH,iBAAA,CAAkBo1C,4BAAlB,CAAR;AACA;;AAMDroC,UAAQ,CAAC/uC,KAAD,EAAW;AAClB,WAAOo3E,MAAA,CAAoBp3E,KAApB,CAAP;AACA;;AAd+B;AAApBm3E,a,CACL9kK,I,GAAO,M;AADF8kK,a,CAGLnpE,M,GAAS,CAAC,iBAAD,C;AAHJmpE,a,CAQLnvJ,M,GAAS,I;;ACZjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACdA;AAMA;AAEO,MAAMqvJ,mCAAN,SAAgC9oC,SAAhC,CAAqC;AAI3CQ,UAAQ,GAAG;AACV,WAAO/hD,UAAU,CAAC,UAAD,CAAV,IACN,CAACsC,gBAAgB,EADX,IAEN,CAACI,kBAAkB,EAFb,IAGN,CAACK,kBAAkB,EAHpB;AAIA;;AAT0C;AAA/BsnF,mC,CACLhlK,I,GAAO,yB;AADFglK,mC,CAELrpE,M,GAAS,CAAC,8BAAD,C;;ACVjB;AACA;AAEO,MAAMspE,+BAAN,SAA8B/oC,SAA9B,CAAmC;AAMzCQ,UAAQ,GAAG;AACV,WAAO/+C,YAAY,OAAO,KAAK/4E,KAAL,CAAWu4H,IAArC;AACA;;AARwC;AAA7B8nC,+B,CACLjlK,I,GAAO,2B;AADFilK,+B,CAGLr9C,iB,GAAoB;AAAEuV,MAAI,EAAEx/C,YAAY;AAApB,C;AAHfsnF,+B,CAILtpE,M,GAAS,CAAC,gBAAD,EAAmB;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAAnB,C;;ACPjB;AACA;AAEO,MAAM66J,yBAAN,SAA2BhpC,SAA3B,CAAgC;AAAA;AAAA;AAAA,SAMtCt3H,KANsC,GAM9B;AACPjC,UAAI,EAAEu5H,SAAI,CAACe,UAAL,CAAgB,KAAKZ,UAAL,CAAgB15H,IAAhC,CADC;AAEP28F,UAAI,EAAE48B,SAAI,CAACe,UAAL,CAAgB,KAAKZ,UAAL,CAAgB/8B,IAAhC;AAFC,KAN8B;AAAA;;AAWtCo9B,UAAQ,GAAG;AACV,UAAMyoC,QAAQ,GAAG9nF,kBAAkB,EAAnC;AACA,QAAI,CAAC8nF,QAAL,EAAe,OAAO,KAAP;AACf,UAAMpyI,KAAK,GAAI,+CAAD,CAAkD5oB,IAAlD,CAAuDg7J,QAAvD,CAAd;AACA,QAAI,CAACpyI,KAAL,EAAY,OAAO,KAAP;AACZ,UAAM,GAAGusE,IAAH,EAAS9hB,KAAT,IAAkBzqD,KAAxB;;AACA,QAAIusE,IAAI,KAAK,IAAT,IAAiB,KAAK+8B,UAAL,CAAgB15H,IAAhB,KAAyB,IAA9C,EAAoD;AACnD,aAAO,KAAKiC,KAAL,CAAWjC,IAAX,CAAgB8H,IAAhB,CAAqB+yE,KAArB,CAAP;AACA,KAFD,MAEO;AACN,aAAO,KAAK54E,KAAL,CAAW06F,IAAX,CAAgB70F,IAAhB,CAAqB60F,IAArB,KAA8B,KAAK16F,KAAL,CAAWjC,IAAX,CAAgB8H,IAAhB,CAAqB+yE,KAArB,CAArC;AACA;AACD;;AAtBqC;AAA1B0nF,yB,CACLllK,I,GAAO,6B;AADFklK,yB,CAGLt9C,iB,GAAoB;AAAEtoB,MAAI,EAAE,EAAR;AAAY38F,MAAI,EAAE;AAAlB,C;AAHfuiK,yB,CAILvpE,M,GAAS,CAAC,mBAAD,EAAsB;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAAtB,EAAoD,KAApD,EAA2D;AAAEjL,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAA3D,C;;ACPjB;AACA;AAEO,MAAM+6J,qCAAN,SAAiClpC,SAAjC,CAAsC;AAAA;AAAA;AAAA,SAM5Ct3H,KAN4C,GAMpCs3H,SAAI,CAACe,UAAL,CAAgB,KAAKZ,UAAL,CAAgBc,IAAhC,CANoC;AAAA;;AAQ5CT,UAAQ,GAAG;AACV,UAAMp9B,IAAI,GAAG5hB,kBAAkB,EAA/B;AACA,WAAO,CAAC,CAAC4hB,IAAF,IAAU,KAAK16F,KAAL,CAAW6F,IAAX,CAAgB60F,IAAhB,CAAjB;AACA;;AAX2C;AAAhC8lE,qC,CACLplK,I,GAAO,8B;AADFolK,qC,CAGLx9C,iB,GAAoB;AAAEuV,MAAI,EAAE;AAAR,C;AAHfioC,qC,CAILzpE,M,GAAS,CAAC,mBAAD,EAAsB;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAAtB,EAAoD,WAApD,C;;ACPjB;AACA;AAEO,MAAMg7J,qBAAN,SAAyBnpC,SAAzB,CAA8B;AAAA;AAAA;AAAA,SAMpCt3H,KANoC,GAM5Bs3H,SAAI,CAACe,UAAL,CAAgB,KAAKZ,UAAL,CAAgBc,IAAhC,CAN4B;AAAA;;AAQpCT,UAAQ,GAAG;AACV,UAAMt/C,GAAG,GAAGH,gBAAgB,EAA5B;AACA,WAAO,CAAC,CAACG,GAAF,IAAS,KAAKx4E,KAAL,CAAW6F,IAAX,CAAgB2yE,GAAhB,CAAhB;AACA;;AAXmC;AAAxBioF,qB,CACLrlK,I,GAAO,2B;AADFqlK,qB,CAGLz9C,iB,GAAoB;AAAEuV,MAAI,EAAE;AAAR,C;AAHfkoC,qB,CAIL1pE,M,GAAS,CAAC,mBAAD,EAAsB;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAAtB,C;;ACPjB;AACA;AAEA,MAAM3H,YAAO,GAAG,CACf,CAAC,QAAD,EAAW,GAAX,CADe,EAEf,CAAC,aAAD,EAAgB,IAAhB,CAFe,CAAhB;AAKO,MAAMwD,SAAN,SAAmBg2H,SAAnB,CAAwB;AAAA;AAAA;AAAA,SAM9Bt3H,KAN8B,GAMtB;AAAE+1F,QAAE,EAAE,KAAK0hC,UAAL,CAAgB1hC,EAAtB;AAA0B7vD,UAAI,EAAEqvD,kBAAK,CAAC,KAAKkiC,UAAL,CAAgBvxF,IAAjB;AAArC,KANsB;AAAA;;AAQ9BqC,SAAO,GAAG;AAAE,WAAO,KAAKvoC,KAAL,CAAWkmC,IAAX,CAAgBqC,OAAhB,EAAP;AAAmC;;AAE/CuvF,UAAQ,GAAG;AACV,WAAQ,KAAK93H,KAAL,CAAW+1F,EAAX,KAAkB,GAAnB,KAA4BR,kBAAK,GAAG3sD,QAAR,CAAiB,KAAK5oC,KAAL,CAAWkmC,IAA5B,CAAnC;AACA;;AAZ6B;AAAlB5kC,S,CACLlG,I,GAAO,M;AADFkG,S,CAGL0hH,iB,GAAoB;AAAEjtB,IAAE,EAAE,GAAN;AAAW7vD,MAAI,EAAE;AAAjB,C;AAHf5kC,S,CAILy1F,M,GAAS,CAAC,WAAD,EAAc;AAAEv8F,MAAI,EAAE,QAAR;AAAkBsD,SAAlB;AAA2B2H,IAAE,EAAE;AAA/B,CAAd,EAAqD,GAArD,EAA0D;AAAEjL,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAA1D,C;;ACZjB;AAEA,MAAMi+G,QAAI,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CAAb;AAEO,MAAMg9C,OAAN,SAAkBppC,SAAlB,CAAuB;AAM7BQ,UAAQ,GAAG;AACV,UAAM6oC,UAAU,GAAGj9C,QAAI,CAAC,IAAIpiH,IAAJ,GAAWumC,MAAX,EAAD,CAAvB;AACA,WAAO,KAAK7nC,KAAL,CAAW0jH,IAAX,CAAgBlpE,QAAhB,CAAyBmmH,UAAzB,CAAP;AACA;;AAT4B;AAAjBD,O,CACLtlK,I,GAAO,a;AADFslK,O,CAGL19C,iB,GAAoB;AAAEU,MAAI,EAAE;AAAR,C;AAHfg9C,O,CAIL3pE,M,GAAS,CAAC,6BAAD,EAAgC;AAAEv8F,MAAI,EAAE,UAAR;AAAoB8pF,OAAK,EAAEo/B,QAA3B;AAAiCj+G,IAAE,EAAE;AAArC,CAAhC,C;;ACRjB;AACA;AAEO,MAAMm7J,qBAAN,SAAyBtpC,SAAzB,CAA8B;AAAA;AAAA;AAAA,SAMpCt3H,KANoC,GAM5Bs3H,SAAI,CAACe,UAAL,CAAgB,KAAKZ,UAAL,CAAgBopC,UAAhC,CAN4B;AAAA;;AAQpC,QAAM/oC,QAAN,GAAiB;AAChB,UAAMpmC,0BAAU,CAACX,gBAAjB;AACA,UAAM43D,MAAM,GAAGluE,YAAY,EAA3B;AACA,WAAO,CAAC,CAACkuE,MAAF,IAAY,KAAK3oJ,KAAL,CAAW6F,IAAX,CAAgB8iJ,MAAhB,CAAnB;AACA;;AAZmC;AAAxBiY,qB,CACLxlK,I,GAAO,gB;AADFwlK,qB,CAGL59C,iB,GAAoB;AAAE69C,YAAU,EAAE;AAAd,C;AAHfD,qB,CAIL7pE,M,GAAS,CAAC,kBAAD,EAAqB;AAAEv8F,MAAI,EAAE,MAAR;AAAgBiL,IAAE,EAAE;AAApB,CAArB,C;;ACPjB;AACA;;AAEA,MAAMq7J,UAAU,GAAG,MAAM/M,wBAAA,GAA2B92J,GAA3B,CAA+B,CAAC;AAAEqJ,KAAF;AAAOlL;AAAP,CAAD,KAAmB,CAACA,IAAD,EAAOkL,GAAP,CAAlD,CAAzB;;AAEO,MAAM0iJ,aAAN,SAAqB1xB,SAArB,CAA0B;AAUhCQ,UAAQ,GAAG;AACV,UAAMxxH,GAAG,GAAG,KAAKtG,KAAL,CAAW+gK,UAAvB;AACA,WAAOhN,YAAA,CAA2BztJ,GAA3B,CAAP;AACA;;AAb+B;AAApB0iJ,a,CACL5tJ,I,GAAO,e;AADF4tJ,a,CAGLhmC,iB,GAAoB;AAAE+9C,YAAU,EAAED,UAAU,GAAG,CAAH,CAAV,IAAmB;AAAjC,C;AAHf9X,a,CAILjyD,M,GAAS,CACf,gBADe,EAEf;AAAEv8F,MAAI,EAAE,QAAR;AAAkBiL,IAAE,EAAE,YAAtB;;AAAoC,MAAI3H,OAAJ,GAAc;AAAE,WAAOgjK,UAAU,EAAjB;AAAsB;;AAA1E,CAFe,EAGf,aAHe,C;;ACTjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACNA;AAEA;AACA;AACA;AACA;AAEO,MAAME,WAAN,SAAoB1pC,SAApB,CAAyB;AAC/B/uF,SAAO,GAAY;AAAE,WAAO,KAAP;AAAe;;AAEpCuvF,UAAQ,GAAG;AAAE//G,WAAO,CAACjZ,KAAR,CAAc,uBAAd;AAAwC,WAAO,KAAP;AAAe;;AAHrC;;AAMhC,MAAMmiK,UAAN,SAAmB3pC,SAAnB,CAAwB;AAKvBQ,UAAQ,GAAG;AAAE,WAAO,IAAP;AAAc;;AALJ;;AAAlBmpC,U,CACE7lK,I,GAAO,M;AADT6lK,U,CAGElqE,M,GAAS,CAAC,aAAD,C;;AAKjB,MAAMmqE,WAAN,SAAoB5pC,SAApB,CAAyB;AAKxBQ,UAAQ,GAAG;AAAE,WAAO,KAAP;AAAe;;AALJ;;AAAnBopC,W,CACE9lK,I,GAAO,O;AADT8lK,W,CAGEnqE,M,GAAS,CAAC,cAAD,C;AAKV,MAAMoqE,WAAN,SAAoB7pC,SAApB,CAAyB;AAAA;AAAA;AAAA,SAY/B8pC,MAZ+B,GAYtB,KAAK3pC,UAAL,CAAgB+3B,EAAhB,CAAmBvyJ,GAAnB,CAAuB2X,CAAC,IAAI0iH,SAAI,CAACO,cAAL,CAAoBjjH,CAApB,CAA5B,CAZsB;AAAA,SAe/B8jH,QAf+B,GAepB,KAAK0oC,MAAL,CAAY9kK,MAAZ,IAAsB,KAAK+kK,WAAL,CAAiB,KAAK5pC,UAAL,CAAgB1hC,EAAjC,EAAqC,KAAKqrE,MAA1C,CAAtB,IAA2E,aAfvD;;AAAA,SA0B/BphK,KA1B+B,GA0BvB,CAAC,MAAM;AACd,YAAM+1F,EAAE,GAAG,KAAK0hC,UAAL,CAAgB1hC,EAA3B;AACA,YAAM,CAACurE,IAAD,EAAOC,GAAP,EAAYC,GAAZ,EAAiBC,GAAjB,IAAwB,CAAC1rE,EAAE,KAAK,MAAR,EAAgBA,EAAE,KAAK,KAAvB,EAA8BA,EAAE,KAAK,KAArC,EAA4CA,EAAE,KAAK,KAAnD,CAA9B;;AAEA,YAAM2rE,UAAU,GAAG,KAAKN,MAAL,CACjBzjK,IADiB,CACZ,CAACqE,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAAC3F,WAAF,CAAc+2B,IAAd,GAAqBnxB,CAAC,CAAC5F,WAAF,CAAc+2B,IADjC,EAEjBn2B,GAFiB,CAEb26H,KAAK,IAAIA,KAAK,CAACE,QAAN,CAAejmG,IAAf,CAAoB+lG,KAApB,CAFI,CAAnB;;AAIA,aAAOp2C,SAAS,CAAC,WAAUuH,KAAV,EAAiB;AACjC,YAAI44E,QAAQ,GAAG,KAAf;;AAEA,aAAK,MAAMC,SAAX,IAAwBF,UAAxB,EAAoC;AACnC,cAAI,MAAME,SAAS,CAAC74E,KAAD,CAAnB,EAA4B;AAC3B,gBAAIu4E,IAAJ,EAAU,OAAO,KAAP,CAAV,KACK,IAAIC,GAAJ,EAAS,OAAO,IAAP,CAAT,KACA,IAAIC,GAAG,IAAIG,QAAX,EAAqB,OAAO,KAAP;AAC1BA,oBAAQ,GAAG,IAAX;AACA,WALD,MAKO;AACN,gBAAIF,GAAJ,EAAS,OAAO,KAAP;AACT;AACD;;AAED,YAAIH,IAAJ,EAAU,OAAO,IAAP,CAAV,KACK,IAAIC,GAAJ,EAAS,OAAO,KAAP,CAAT,KACA,IAAIC,GAAJ,EAAS,OAAOG,QAAP,CAAT,KACe,OAAO,IAAP;AACpB,OAlBe,CAAhB;AAmBA,KA3BO,GA1BuB;AAAA;;AAiB/BN,aAAW,CAACtrE,EAAD,EAAQ8qB,KAAR,EAAkB;AAE5B,QAAIpnC,GAAG,GAAGonC,KAAK,CAAC5jH,GAAN,CAAU2X,CAAC,IAAIA,CAAC,CAAC8jH,QAAjB,EAA2B3yH,IAA3B,CAAiC,IAD5B,CAACgwF,EAAE,KAAK,KAAP,IAAgBA,EAAE,KAAK,MAAxB,KAAmC,GAAnC,IAA0CA,EAAE,KAAK,KAAP,IAAgB,GAA1D,IAAiE,GAC3B,GAA3C,CAAV;AACA,QAAI8qB,KAAK,CAACvkH,MAAN,GAAe,CAAnB,EAAsBm9E,GAAG,GAAI,IAAGA,GAAI,GAAd;AACtB,WAAOsc,EAAE,KAAK,MAAP,GAAiB,KAAItc,GAAI,EAAzB,GAA6BA,GAApC;AACA;;AAEDlxC,SAAO,GAAG;AAAE,WAAO,KAAK64H,MAAL,CAAY/gE,KAAZ,CAAkBzrF,CAAC,IAAIA,CAAC,CAAC2zB,OAAF,EAAvB,CAAP;AAA6C;;AA+BzDuwF,SAAO,CAACt+H,IAAD,EAAU;AAAE,WAAO,MAAMs+H,OAAN,CAAct+H,IAAd,KAAuB,KAAK4mK,MAAL,CAAY1pF,IAAZ,CAAiB9iE,CAAC,IAAIA,CAAC,CAACkkH,OAAF,CAAUt+H,IAAV,CAAtB,CAA9B;AAAuE;;AAE1Fs9H,UAAQ,CAAC/uC,KAAD,EAAW;AAAE,WAAO,KAAK/oF,KAAL,CAAW+oF,KAAX,CAAP;AAA2B;;AAEhDgwC,WAAS,GAAG;AACX,WAAO,KAAKqoC,MAAL,CAAYnkK,GAAZ,CAAgB2X,CAAC,IAAIA,CAAC,CAACw8D,OAAF,CAAU,IAAV,CAArB,EAAsCsG,IAAtC,CAA2C9iE,CAAC,IAAIA,CAAhD,CAAP;AACA;;AA7D8B;AAAnBusJ,W,CACL/lK,I,GAAO,qB;AADF+lK,W,CAGLpqE,M,GAAS,CACf;AAAEv8F,MAAI,EAAE,QAAR;AAAkBsD,SAAO,EAAE,CAAC,MAAD,EAAS,KAAT,EAAgB,KAAhB,EAAuB,KAAvB,CAA3B;AAA0D2H,IAAE,EAAE;AAA9D,CADe,EAEf,qBAFe,EAGf;AAAEjL,MAAI,EAAE,OAAR;AAAiB2pH,SAAO,EAAE,KAA1B;AAAiC1+G,IAAE,EAAE;AAArC,CAHe,C;AAHJ07J,W,CASJn+C,iB,GAAoB;AAAEjtB,IAAE,EAAE,KAAN;AAAay5D,IAAE,EAAE;AAAjB,C;AAThB2R,W,CAUL/tI,I,GAAO,C;AAsDf,MAAMyuI,eAAe,GAAG;AAAErnK,MAAI,EAAE;AAAR,CAAxB;AACA,MAAMsnK,cAAc,GAAG;AAAEtnK,MAAI,EAAE;AAAR,CAAvB;AACA,MAAMunK,eAAe,GAAG;AAAEvnK,MAAI,EAAE;AAAR,CAAxB;AAQO,SAASwnK,YAAT,CAAsBtlJ,OAAtB,EAAgDulJ,UAAmB,GAAG,IAAtE,EAA4EC,SAAkB,GAAG,KAAjG,EAAwG;AAC9G,MAAIP,QAAQ,GAAG,KAAf;AAEA,MAAInS,EAAE,GAAG,EAAT;AACA,MAAIz5D,EAAE,GAAGr5E,OAAO,CAACq5E,EAAjB;;AAEA,OAAK,IAAInhF,CAAT,IAAc8H,OAAO,CAAC8yI,EAAtB,EAA0B;AACzB,QAAI,CAACj9I,SAAG,CAACqC,CAAC,CAACpa,IAAH,CAAR,EAAkB;AACjBud,aAAO,CAACjZ,KAAR,CAAe,QAAO8V,CAAC,CAACpa,IAAK,mBAA7B;AACA,aAAOunK,eAAP;AACA;;AAED,QAAIntJ,CAAC,CAACpa,IAAF,KAAW,OAAf,EAAwBoa,CAAC,GAAGotJ,YAAY,CAACptJ,CAAD,EAAIqtJ,UAAJ,CAAhB;;AAExB,QACC,CAACC,SAAD,IACAD,UADA,IAEA,CAACE,SAAS,CAACvtJ,CAAC,CAACpa,IAAH,CAAT,CAAkB2B,SAAlB,CAA4B27H,QAA5B,CAAqCx7H,MAHvC,EAIE;AAED,YAAM4I,KAAK,GAAGoyH,SAAI,CAACO,cAAL,CAAoBjjH,CAApB,EAAuBkjH,QAAvB,EAAd;;AACA,UAAI,OAAO5yH,KAAP,KAAiB,SAArB,EAAgC;AAC/B,YAAIA,KAAJ,EAAW;AACV,cAAI6wF,EAAE,KAAK,MAAX,EAAmB,OAAO8rE,eAAP;AACnB,cAAI9rE,EAAE,KAAK,KAAX,EAAkB,OAAO+rE,cAAP;AAClB,cAAI/rE,EAAE,KAAK,KAAP,IAAgB4rE,QAApB,EAA8B,OAAOE,eAAP;AAC9BF,kBAAQ,GAAG,IAAX;AACA,SALD,MAKO;AACN,cAAI5rE,EAAE,KAAK,KAAX,EAAkB,OAAO8rE,eAAP;AAClB;;AAED;AACA;AACD;;AAEDrS,MAAE,CAAC/1J,IAAH,CAAQmb,CAAR;AACA;;AAED,MAAImhF,EAAE,KAAK,KAAP,IAAgB4rE,QAApB,EAA8B;AAE7B5rE,MAAE,GAAG,MAAL;AACA;;AAED,MAAI,CAACmsE,SAAL,EAAgB;AAEf,QAAI1S,EAAE,CAAClzJ,MAAH,KAAc,CAAlB,EAAqB;AACpB,YAAM2yB,CAAC,GAAGugI,EAAE,CAAC,CAAD,CAAZ;;AAEA,UAAIz5D,EAAE,KAAK,MAAX,EAAmB;AAClB,eAAO9mE,CAAP;AACA,OAFD,MAEO,IAAIA,CAAC,CAACz0B,IAAF,KAAW,OAAf,EAAwB;AAC9B,YAAIy0B,CAAC,CAAC8mE,EAAF,KAAS,MAAb,EAAqB;AACpB9mE,WAAC,CAAC8mE,EAAF,GAAO,KAAP;AACA,iBAAO9mE,CAAP;AACA,SAHD,MAGO,IAAIA,CAAC,CAAC8mE,EAAF,KAAS,KAAT,IAAkB9mE,CAAC,CAAC8mE,EAAF,KAAS,KAA/B,EAAsC;AAC5C9mE,WAAC,CAAC8mE,EAAF,GAAO,MAAP;AACA,iBAAO9mE,CAAP;AACA;AACD;AACD;;AAGD,QAAI,CAACugI,EAAE,CAAClzJ,MAAR,EAAgB;AACf,UAAIy5F,EAAE,KAAK,MAAX,EAAmB,OAAO+rE,cAAP;AACnB,UAAI/rE,EAAE,KAAK,KAAX,EAAkB,OAAO8rE,eAAP;AAClB,UAAI9rE,EAAE,KAAK,KAAX,EAAkB,OAAO8rE,eAAP;AAClB,UAAI9rE,EAAE,KAAK,KAAX,EAAkB,OAAO+rE,cAAP;AAClB;AACD;;AAED,MAAIG,UAAU,KAAKlsE,EAAE,KAAK,KAAP,IAAgBA,EAAE,KAAK,MAA5B,CAAd,EAAmD;AAClD,UAAMtjF,CAAC,GAAG+8I,EAAE,CAAClzJ,MAAb;AACA,UAAM8lK,UAAU,GAAG5S,EAAE,CAAC7xJ,IAAH,CAAQ,CAACqE,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACxH,IAAF,KAAWyH,CAAC,CAACzH,IAAb,GAAoB,CAApB,GAAwBwH,CAAC,CAACxH,IAAF,GAASyH,CAAC,CAACzH,IAAX,GAAkB,CAAlB,GAAsB,CAAC,CAAjE,CAAnB;AACAg1J,MAAE,GAAG,EAAL;;AACA,SAAK,IAAIx0J,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyX,CAApB,EAAuBzX,CAAC,EAAxB,EAA4B;AAC3B,YAAMgH,CAAC,GAAGogK,UAAU,CAACpnK,CAAD,CAApB;AACA,YAAMggG,GAAG,GAAGmnE,SAAS,CAACngK,CAAC,CAACxH,IAAH,CAArB;AACA,YAAMw+H,SAAS,GAAGh+B,GAAG,CAACg+B,SAAtB;;AACA,UAAIA,SAAJ,EAAe;AACd,cAAM77G,MAAM,GAAG,CAACnb,CAAD,CAAf;AACA,YAAIC,CAAJ;;AAEA,eAAO,CAACA,CAAC,GAAGmgK,UAAU,CAACpnK,CAAC,GAAG,CAAL,CAAf,KAA2BgH,CAAC,CAACxH,IAAF,KAAWyH,CAAC,CAACzH,IAA/C,EAAqD;AACpDQ,WAAC;AACDmiB,gBAAM,CAAC1jB,IAAP,CAAYwI,CAAZ;AACA;;AAEDutJ,UAAE,CAAC/1J,IAAH,CAAQ,GAAGu/H,SAAS,CAAC77G,MAAD,CAApB;AACA,OAVD,MAUO;AACNqyI,UAAE,CAAC/1J,IAAH,CAAQuI,CAAR;AACA;AACD;AACD;;AAED,SAAO;AAAExH,QAAI,EAAE,OAAR;AAAiBu7F,MAAjB;AAAqBy5D;AAArB,GAAP;AACA;AAGM,SAASiG,mBAAT,CAAuBj7J,IAAvB,EAAqCi9H,UAArC,EAAqE;AAC3E,SAAO;AAAEj9H,QAAF;AAAQ,QAAI2nK,SAAS,CAAC3nK,IAAD,CAAT,IAAmB2nK,SAAS,CAAC3nK,IAAD,CAAT,CAAgBwoH,iBAAvC,CAAR;AAAmE,OAAGyU;AAAtE,GAAP;AACA;AAEM,SAAS4qC,QAAT,CAAkBtsE,EAAlB,EAAyBy5D,EAAzB,EAAiD;AACvD,SAAOiG,mBAAa,CAAC,OAAD,EAAU;AAAE1/D,MAAF;AAAMy5D;AAAN,GAAV,CAApB;AACA;AAEM,SAAS8S,WAAT,CAAqB9nK,IAArB,EAAmCi7J,aAAnC,EAAqDx8B,OAArD,EAAiEl9H,OAAjE,EAA6E0wJ,YAA7E,EAA8F;AACpG,QAAM;AAAEl8H,QAAI,EAAE;AAAExyB,UAAI,GAAGvD;AAAT,QAAkB;AAA1B,MAAiCiyJ,YAAY,IAAI,EAAvD;;AAEA,QAAM8V,KAAN,SAAoBjrC,SAApB,CAAyB;AAKxB,eAAWtU,iBAAX,GAAkC;AAAE,aAAOyyC,aAAa,EAApB;AAAyB;;AALrC;;AAAnB8M,OAH8F,CAI5FnnK,IAJ4F,GAIrF2C,IAJqF;AAG9FwkK,OAH8F,CAU5FxxJ,MAV4F,GAUnF,IAVmF;AAG9FwxJ,OAH8F,CAY5FtpC,OAZ4F,GAYlFA,OAZkF;AAG9FspC,OAH8F,CAc5F9pC,aAd4F,GAc5Eg0B,YAd4E;AAiBpG55I,WAAG,CAACrY,IAAD,EAAO+nK,KAAP,EAAcxmK,OAAd,CAAH;AAEA,SAAOwmK,KAAP;AACA;AAED,MAAMJ,SAA0C,GAAG,EAAnD;;AAEA,SAASK,iBAAT,CAA2BzkK,IAA3B,EAA8C;AAC7C,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8BA,IAAI,GAAG,EAAP;;AAC9B,SAAO,CAACA,IAAD,IAASwU,SAAG,CAACxU,IAAD,CAAnB,EAA2B;AAE1BA,QAAI,IAAI80F,UAAU,EAAlB;AACA;;AAED,SAAO90F,IAAP;AACA;;AAEM,SAAS8U,SAAT,CAAarY,IAAb,EAA4BkrC,CAA5B,EAA4C,GAAG52B,QAA/C,EAA+F;AACrG,MAAI,CAACtU,IAAD,IAAU2nK,SAAS,CAACroK,cAAV,CAAyBU,IAAzB,KAAkCkrC,CAAC,KAAKy8H,SAAS,CAAC3nK,IAAD,CAA/D,EAAwE;AACvEA,QAAI,GAAGgoK,iBAAiB,CAAChoK,IAAD,CAAxB;AACA;;AAEDkrC,GAAC,CAAClrC,IAAF,GAASA,IAAT;AACA,MAAI,CAACkrC,CAAC,CAAC52B,QAAP,EAAiB42B,CAAC,CAAC52B,QAAF,GAAa,EAAb;AACjB42B,GAAC,CAAC52B,QAAF,CAAWrV,IAAX,CAAgB,GAAGqV,QAAnB;AACAqzJ,WAAS,CAAC3nK,IAAD,CAAT,GAAkBkrC,CAAlB;AACA;AAED,MAAM+8H,UAAU,GAAG,IAAIrwF,GAAJ,EAAnB;AAEO,SAASswF,kBAAT,CAA4BziJ,KAAe,GAAG,CAAC,MAAD,EAAS,SAAT,EAAoB,QAApB,CAA9C,EAA6E;AACnF,WAASq/C,IAAT,CAAcuhD,KAAd,EAAqB,GAAG/xG,QAAxB,EAAkC;AACjC,SAAK,MAAM,CAACk2E,CAAD,EAAIpwE,CAAJ,CAAX,IAAqBvb,MAAM,CAAC0uE,OAAP,CAAe84C,KAAf,CAArB,EAA4C;AAC3ChuG,eAAG,CAACmyE,CAAD,EAAIpwE,CAAJ,EAAO,GAAG9F,QAAV,CAAH;AACA2zJ,gBAAU,CAAC5vJ,GAAX,CAAe+B,CAAf;AACA;AACD;;AAED0qD,MAAI,CAAC;AACJizB,SAAK,EAAEyuE,WADH;AAEJ2B,SAAK,EAAEzB,WAFH;AAGJ0B,QAAI,EAAE3B,UAAIA;AAHN,GAAD,CAAJ;AAMA3hG,MAAI,CAAC;AAAErO,SAAK,EAAEkwG,WAAKA;AAAd,GAAD,EAAmB,MAAnB,EAA2B,SAA3B,EAAsC,QAAtC,CAAJ;AAEA,MAAIlhJ,KAAK,CAACu6B,QAAN,CAAe,MAAf,CAAJ,EAA4B8kB,IAAI,CAACujG,yBAAD,EAAY,MAAZ,CAAJ;AAC5B,MAAI5iJ,KAAK,CAACu6B,QAAN,CAAe,SAAf,CAAJ,EAA+B8kB,IAAI,CAACwjG,4BAAD,EAAe,SAAf,CAAJ;AAC/B,MAAI7iJ,KAAK,CAACu6B,QAAN,CAAe,QAAf,CAAJ,EAA8B8kB,IAAI,CAACyjG,2BAAD,EAAc,QAAd,CAAJ;AAC9B;AAEM,SAASC,YAAT,CAAsB76E,MAAtB,EAAiCsvC,UAAjC,EAAgD;AACtD,MAAI,CAACA,UAAL,EAAiB,OAAOtvC,MAAP;AACjB,QAAMyvC,KAAK,GAAGN,SAAI,CAACO,cAAL,CAAoBJ,UAApB,CAAd;AACA,SAAOpwC,WAAW,CAACc,MAAD,EAAuBY,KAAK,IAAI6uC,KAAK,CAACE,QAAN,CAAe/uC,KAAf,CAAhC,CAAlB;AACA;AAEM,MAAMz0E,YAAM,GAAI9Z,IAAD,IAAkB;AAAE,SAAO2nK,SAAS,CAAC3nK,IAAD,CAAhB;AAAyB,CAA5D;AACA,MAAM+X,SAAG,GAAI/X,IAAD,IAAkB2nK,SAAS,CAACroK,cAAV,CAAyBU,IAAzB,CAA9B;AACA,MAAMgC,SAAG,GAAIhC,IAAD,IAAkB+X,SAAG,CAAC/X,IAAD,CAAH,GAAY2nK,SAAS,CAAC3nK,IAAD,CAArB,GAA8BwmK,WAA5D;AACA,MAAMiC,YAAY,GAAG,CAAClnK,OAAD,EAAamnK,cAAuB,GAAG,IAAvC,KAC3B,iBAASf,SAAT,EAAoBvtJ,CAAC,IAAIA,CAAC,CAAC9F,QAAF,CAAW0rC,QAAX,CAAoBz+C,OAApB,MAAiC,CAACmnK,cAAD,IAAmBT,UAAU,CAAClwJ,GAAX,CAAeqC,CAAf,CAApD,CAAzB,CADM;AAEA,MAAMuuJ,QAAQ,GAAI3oK,IAAD,IAAmB,OAAOA,IAAP,KAAgB,QAAhB,IAA4B+X,SAAG,CAAC/X,IAAD,CAA/B,IAAyC,CAAC,CAACwmK,WAAK,CAACxmK,IAAP,EAAa0mK,WAAK,CAAC1mK,IAAnB,EAAyBymK,UAAI,CAACzmK,IAA9B,EAAoCggD,QAApC,CAA6ChgD,IAA7C,CAA9E,C;;;;AChSP;AACA;AAYA;AACA;AACA;AACA;AACA;AAEO,MAAM5B,sBAAiB,GAAG,IAAIirH,MAAJ,CAAW,iBAAX,CAA1B;AAEPjrH,sBAAM,CAACkrH,UAAP,GAAoB,qBAApB;AACAlrH,sBAAM,CAACmrH,QAAP,GAAkB,mBAAlB;AACAnrH,sBAAM,CAAC4jG,WAAP,GAAqB,qBAArB;AACA5jG,sBAAM,CAACkF,OAAP,GAAiB;AAChBslK,cAAY,EAAE;AACb5oK,QAAI,EAAE,SADO;AAEbwF,SAAK,EAAE,KAFM;AAGbw8F,eAAW,EAAE,iCAHA;AAIbtQ,SAAK,EAAE,kCAJM;AAKb+3B,YAAQ,EAAE,CAAC,UAAD;AALG,GADE;AAQhBo/C,UAAQ,EAAE;AACT7oK,QAAI,EAAE,OADG;AAETs6H,cAAU,EAAE,2BAFH;AAGT/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,UADG;AAERvI,UAAI,EAAE,yBAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,UADH;AAEFvI,UAAI,EAAE,yBAFJ;AAGFvD,UAAI,EAAE;AAHJ,KAJK,EAQL;AACF8L,SAAG,EAAE,KADH;AAEFvI,UAAI,EAAE,4BAFJ;AAGFvD,UAAI,EAAE,SAHJ;AAIFwF,WAAK,EAAE;AAJL,KARK,CAHC;AAiBTA,SAAK,EAAG,EAjBC;AAkBTw8F,eAAW,EAAE,6BAlBJ;AAmBTtQ,SAAK,EAAE;AAnBE,GARM;AA6BhBo3E,iBAAe,EAAE;AAChB9oK,QAAI,EAAE,SADU;AAEhBgiG,eAAW,EAAE,oCAFG;AAGhBtQ,SAAK,EAAE,qCAHS;AAIhBlsF,SAAK,EAAE,IAJS;AAKhB6yH,YAAQ,EAAE;AALM,GA7BD;AAoChB0wC,iBAAe,EAAE;AAChB/oK,QAAI,EAAE,SADU;AAEhBgiG,eAAW,EAAE,oCAFG;AAGhBtQ,SAAK,EAAE,qCAHS;AAIhBlsF,SAAK,EAAE,KAJS;AAKhB6yH,YAAQ,EAAE;AALM,GApCD;AA2ChB2wC,qBAAmB,EAAE;AACpBhpK,QAAI,EAAE,SADc;AAEpBwF,SAAK,EAAE,KAFa;AAGpBw8F,eAAW,EAAE,wCAHO;AAIpBtQ,SAAK,EAAE,yCAJa;AAKpB2mC,YAAQ,EAAE;AALU,GA3CL;AAkDhB4wC,eAAa,EAAE;AACdjpK,QAAI,EAAE,MADQ;AAEd2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,qBADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,4BADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,CAFM;AASdA,SAAK,EAAE,OATO;AAUdw8F,eAAW,EAAE,kCAVC;AAWdtQ,SAAK,EAAE,mCAXO;AAYd2mC,YAAQ,EAAE,IAZI;AAad3O,aAAS,EAAE;AAbG,GAlDC;AAiEhBw/C,iBAAe,EAAE;AAChBlpK,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,IAFS;AAGhBw8F,eAAW,EAAE,oCAHG;AAIhBtQ,SAAK,EAAE,qCAJS;AAKhB2mC,YAAQ,EAAE;AALM,GAjED;AAwEhB8wC,WAAS,EAAE;AACVnpK,QAAI,EAAE,SADI;AAEVwF,SAAK,EAAE,IAFG;AAGVw8F,eAAW,EAAE,8BAHH;AAIVtQ,SAAK,EAAE,+BAJG;AAKV2mC,YAAQ,EAAE,IALA;AAMVqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC4lK,eAAR,CAAwB1jK;AANpC,GAxEK;AAgFhB4jK,UAAQ,EAAE;AACTppK,QAAI,EAAE,SADG;AAETwF,SAAK,EAAE,IAFE;AAGTw8F,eAAW,EAAE,6BAHJ;AAITtQ,SAAK,EAAE,8BAJE;AAKT2mC,YAAQ,EAAE,IALD;AAMTqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC4lK,eAAR,CAAwB1jK;AANrC;AAhFM,CAAjB;AA0FA,IAAIqhC,KAAJ;;AAEA,MAAMgiI,QAAQ,GAAG,sBAAO,MACvBzqK,sBAAM,CAACkF,OAAP,CAAeulK,QAAf,CAAwBrjK,KAAxB,CAA8Bi1E,MAA9B,CAAqC,CAACuR,GAAD,EAAM5xE,CAAN,KAAY;AAChD4xE,KAAG,CAAC5xE,CAAC,CAAC,CAAD,CAAD,CAAKvU,WAAL,EAAD,CAAH,GAA0B;AACzBjF,QAAI,EAAEwZ,CAAC,CAAC,CAAD,CADkB;AAEzBivJ,kBAAc,EAAEjvJ,CAAC,CAAC,CAAD,CAFQ;AAGzBkvJ,eAAW,EAAElvJ,CAAC,CAAC,CAAD;AAHW,GAA1B;AAKA,SAAO4xE,GAAP;AACA,CAPD,EAOG,EAPH,CADgB,CAAjB;;AAWA5tF,sBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,QAAMkoF,SAAS,GAAGnrK,sBAAM,CAACkF,OAAP,CAAe2lK,aAAf,CAA6BzjK,KAA7B,KAAuC,OAAvC,GACjBuZ,sBAAM,CAAC+N,IAAK,2CADK,GAEjB/N,sBAAM,CAAC+N,IAAK,0EAFb;AAGAy8I,WAAS,CAAC57J,gBAAV,CAA2B,OAA3B,EAAoC,MAAMk5B,KAAK,CAACwtF,KAAN,EAA1C;AACAk1C,WAAS,CAAC57J,gBAAV,CAA2B,UAA3B,EAAuC67J,cAAvC;AAEA,QAAMC,QAAQ,GAAGnrK,QAAQ,CAAC24E,aAAT,CAAuB,sCAAvB,CAAjB;;AACA,MAAIwyF,QAAJ,EAAc;AACbA,YAAQ,CAACnoJ,KAAT,CAAei2E,WAAf,GAA6B,KAA7B;AACAkyE,YAAQ,CAAC77I,KAAT,CAAe27I,SAAf;AACA,GAHD,MAGO;AACNrxE,cAAU,CAACqxE,SAAD,EAAY;AAAEp4F,WAAK,EAAE;AAAT,KAAZ,CAAV;AACA;;AAEDtqC,OAAK,GAAGsrF,YAAA,CAAmB/zH,sBAAM,CAAC2nH,QAA1B,EACNziH,OADM,CACE;AACRuK,aAAS,EAAE,4BADH;AAERikH,aAAS,EAAE,CAFH;AAGR5uF,gBAAY,EAAE;AAHN,GADF,EAMN+wF,YANM,CAMOy1C,iBANP,EAON/lK,MAPM,CAOC4lK,SAPD,CAAR;AASA,MAAI7lI,QAAJ;AACA80F,iBAAA,CAA4B,MAA5B,EAAqC,mBAAkBjzC,IAAI,CAAC,wBAAD,CAA2B,EAAtF,EACC,CAACwxC,OAAD,EAAUt2H,GAAV,KAAkB;AACjB,UAAMkpK,SAAS,GAAG9qK,MAAM,CAAC+M,IAAP,CAAYi9J,QAAQ,EAApB,EAAwB56J,MAAxB,CAA+By1B,QAAQ,IAAIA,QAAQ,CAACk7C,UAAT,CAAoBn+E,GAAG,CAACoF,WAAJ,EAApB,CAA3C,CAAlB;AACA69B,YAAQ,GAAGimI,SAAS,CAAC3pH,QAAV,CAAmBv/C,GAAnB,IAA0BA,GAA1B,GAAgCkpK,SAAS,CAAC,CAAD,CAApD;AACA,WAAQ,GAAEpkF,IAAI,CAAC,0CAAD,CAA6C,IAAG9kF,GAAI,GAAE,kBAAUkpK,SAAV,EAAqBlpK,GAArB,EAA0BqB,MAA1B,GAAoC,IAAG6nK,SAAS,CAAClnK,GAAV,CAAc2X,CAAC,IAAIA,CAAC,CAAChW,OAAF,CAAU3D,GAAV,EAAe,EAAf,CAAnB,EAAuCwN,MAAvC,CAA8C8wF,OAA9C,EAAuDxzF,IAAvD,CAA4D,GAA5D,CAAiE,GAAxG,GAA6G,EAAG,EAApL;AACA,GALF,EAMC,MAAM;AACL,QAAIm4B,QAAJ,EAAckmI,QAAQ,CAAClmI,QAAD,CAAR,CAAd,KACK8lI,cAAc;AACnB,GATF;AAWA,CApCD;;AAsCA,eAAeE,iBAAf,GAAmC;AAClC,QAAMG,WAAW,GAAGvrK,QAAQ,CAACkmB,sBAAT,EAApB;AAEA,QAAM4zI,KAAK,GAAG,MAAMniF,OAAO,CAACt3D,GAAR,CACnB9f,MAAM,CAAC0uE,OAAP,CAAes7F,QAAQ,EAAvB,EACEpmK,GADF,CACM,OAAO,CAACihC,QAAD,EAAW;AAAE9iC;AAAF,GAAX,CAAP,MAAiC;AACrCA,QADqC;AAErC8iC,YAFqC;AAGrChE,UAAM,EAAEgE,QAAQ,CAACoiE,aAAT,CAAuB7lB,YAAY,MAAM,EAAzC,EAA6C;AAAE9lB,iBAAW,EAAE;AAAf,KAA7C,MAA0E,CAH7C;AAIrC56C,QAAI,EAAEnhB,sBAAM,CAACkF,OAAP,CAAe4lK,eAAf,CAA+B1jK,KAA/B,IAAwC,CAAC,MAAMy7E,WAAW,CAACv9C,QAAD,CAAX,CAAsB9lB,KAAtB,CAA4BvT,CAAC,IAAI;AACrFkT,aAAO,CAACjZ,KAAR,CAAc,4BAAd,EAA4Co/B,QAA5C,EAAsDr5B,CAAtD;AACA,aAAO,EAAP;AACA,KAHoD,CAAP,EAG1CkV,IAHE,IAGM;AAPyB,GAAjC,CADN,CADmB,CAApB;;AAaA,OAAK,MAAM;AAAE3e,QAAF;AAAQ8iC,YAAR;AAAkBhE,UAAlB;AAA0BngB;AAA1B,GAAX,IAA+C64I,KAA/C,EAAsD;AACrD,QAAI,CAACh6J,sBAAM,CAACkF,OAAP,CAAe0lK,mBAAf,CAAmCxjK,KAApC,IAA6Ck6B,MAAjD,EAAyD;AAEzD,UAAMoqI,WAAW,GAAGvqJ,IAAI,CAACwqJ,eAAL,IAAwB,IAAIjjK,IAAJ,CAASyY,IAAI,CAACwqJ,eAAL,GAAuB,IAAhC,CAA5C;AACA,UAAMz2H,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK;4BACF4S,MAAM,IAAI,QAAS;wCACP9+B,IAAK;MACvCxC,sBAAM,CAACkF,OAAP,CAAe6lK,SAAf,CAAyB3jK,KAAzB,IAAkC+Z,IAAI,CAACyqJ,UAAvC,IAAqDjrJ,sBAAM,CAACghE,KAAM;uCACjCxgE,IAAI,CAACyqJ,UAAW,aAAYzqJ,IAAI,CAAC0qJ,aAAc;KAChF;MACA7rK,sBAAM,CAACkF,OAAP,CAAe8lK,QAAf,CAAwB5jK,KAAxB,IAAiC+Z,IAAI,CAAC2qJ,OAAtC,IAAiDnrJ,sBAAM,CAACghE,KAAM;gGAC4B+pF,WAAW,IAAIvkF,IAAI,CAAC,0BAAD,EAA6B2V,UAAU,CAAC4uE,WAAD,CAAvC,EAAsD1uE,cAAc,CAAC,IAAIt0F,IAAJ,EAAD,EAAagjK,WAAb,CAApE,CAA+F;KAC5M;gFAC0EpmI,QAAS;;GATvF;AAYA4P,WAAO,CAAC3lC,gBAAR,CAAyB,OAAzB,EAAkC,YAAY;AAC7CsoF,iCAAW,CAAC59E,GAAZ,CAAgB,iCAAhB;;AACA,UAAI;AACH,cAAMuxJ,QAAQ,CAAClmI,QAAD,CAAd;AACA,OAFD,CAEE,OAAOr5B,CAAP,EAAU;AACX4rF,mCAAW,CAACn8E,MAAZ,CAAmB,iCAAnB;AACAyD,eAAO,CAACjZ,KAAR,CAAc+F,CAAd;AACA;AACD,KARD;AASAw/J,eAAW,CAACr8I,MAAZ,CAAmB8lB,OAAnB;AACA;;AAED;AACC,UAAMA,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK,2CAA5B;AACAwmB,WAAO,CAAC3lC,gBAAR,CAAyB,OAAzB,EAAkC67J,cAAlC;AACAK,eAAW,CAACr8I,MAAZ,CAAmB8lB,OAAnB;AACA;AAED,SAAO,CAACu2H,WAAD,CAAP;AACA;;AAED,MAAMD,QAAQ,GAAGjiF,KAAK,CAAC,MAAOjkD,QAAP,IAA4B;AAClD,QAAM;AAAE2lI,kBAAF;AAAkBC;AAAlB,MAAkCT,QAAQ,GAAGnlI,QAAH,CAAhD;AAGA,QAAMymI,aAAa,GAAGnqF,UAAU,MAAMv/C,IAAI,CAAC;AAAE9lB,UAAM,EAAE,MAAV;AAAkBklB,OAAG,EAAE;AAAvB,GAAD,CAA1C;AAEA,QAAM3sB,QAAQ,GAAGm2J,cAAc,GAAGA,cAAH,GAAoB5qK,MAAM,CAACioH,MAAP,CAAcnhC,IAAI,CAAC,+BAAD,EAAkC7hD,QAAlC,CAAlB,CAAnD;AAEA,MAAI0mI,GAAJ;;AACA,MAAId,WAAJ,EAAiB;AAChBc,OAAG,GAAG;AACLA,SAAG,EAAE3rK,MAAM,CAACioH,MAAP,CAAcnhC,IAAI,CAAC,0BAAD,EAA6B7hD,QAA7B,CAAlB;AADA,KAAN;AAGA;;AAED,QAAMymI,aAAN;AAEA,QAAM;AAAE7nI,WAAF;AAAW1gC;AAAX,MAAsB,MAAM6+B,IAAI,CAAC;AACtC9lB,UAAM,EAAE,MAD8B;AAEtCklB,OAAG,EAAE,YAFiC;AAGtCtgB,QAAI,EAAE;AACL2gF,UAAI,EAAEx8D,QADD;AAEL2mI,YAAM,EAAEn3J,QAFH;AAGL,SAAGk3J,GAHE;AAILE,SAAG,EAAElsK,sBAAM,CAACkF,OAAP,CAAeslK,YAAf,CAA4BpjK,KAA5B,GAAoC,IAApC,GAA2C;AAJ3C,KAHgC;AAStCxF,QAAI,EAAE;AATgC,GAAD,CAAJ,CAU/B4d,KAV+B,CAUzBvT,CAAC,IAAI;AACbuyH,kCAAA,CAA+B;AAC9B7W,cAAQ,EAAE,iBADoB;AAE9BtoG,aAAO,EAAE8nE,IAAI,CAAC,mCAAD;AAFiB,KAA/B;AAKA,UAAMl7E,CAAN;AACA,GAjBiC,CAAlC;;AAmBA,MAAIjM,sBAAM,CAACkF,OAAP,CAAewlK,eAAf,CAA+BtjK,KAAnC,EAA0C;AACzC+kK,4BAAwB,CAACjoI,OAAO,GAAGoB,QAAH,GAAc,IAAtB,CAAxB;AACA;;AAED,MAAIpB,OAAJ,EAAa;AACZkoI,cAAU;AACV,GAFD,MAEO;AAEN,UAAMC,SAAS,GAAG1qJ,IAAI,CAACslE,SAAL,CAAezjF,MAAf,CAAlB;AACA,UAAM6b,OAAO,GACXgtJ,SAAS,CAACzqH,QAAV,CAAmB,UAAnB,KAAkCulC,IAAI,CAAC,2BAAD,EAA8B7hD,QAA9B,CAAvC,IACC+mI,SAAS,CAACzqH,QAAV,CAAmB,WAAnB,KAAmCulC,IAAI,CAAC,+BAAD,CADxC,IAEAA,IAAI,CAAC,6BAAD,EAAgC7hD,QAAhC,EAA0C+mI,SAA1C,CAHL;AAIAnzC,yBAAK,CAAC7zF,IAAN,CAAWhmB,OAAX,EAAoB;AAAEkM,gBAAU,EAAE;AAAd,KAApB,EACE7O,IADF,CACO0uJ,cADP;AAEA;AACD,CApDqB,CAAtB;AAsDA,MAAMe,wBAAwB,GAAGrhF,SAAS,CAACxlD,QAAQ,IAAI;AACtD,QAAMgnI,QAAQ,GAAG5mK,KAAK,CAACwsE,IAAN,CAAWhyE,QAAQ,CAAC4M,oBAAT,CAA8B,UAA9B,CAAX,EACfgyE,IADe,CACVytF,QAAQ,IAAIA,QAAQ,CAACnlK,KADX,CAAjB;;AAGA,MAAI,CAACklK,QAAD,IAAatsK,sBAAM,CAACkF,OAAP,CAAeylK,eAAf,CAA+BvjK,KAAhD,EAAuD;AACtDglK,cAAU;AACV;AACA;;AAED,MAAI/sJ,OAAO,GAAGimB,QAAQ,GACrB6hD,IAAI,CAAC,6BAAD,EAAgC7hD,QAAhC,CADiB,GAErB6hD,IAAI,CAAC,0BAAD,CAFL;;AAIA,MAAImlF,QAAJ,EAAc;AACbjtJ,WAAO,IAAK,IAAG8nE,IAAI,CAAC,sBAAD,EAAyBtF,YAAY,MAAM,EAA3C,CAA+C,EAAlE;AACA;;AAEDxiE,SAAO,IAAK,kDAAiDlL,QAAQ,CAACkrE,QAAS,KAAI8H,IAAI,CAAC,uBAAD,CAA0B,UAAjH;AAEAq3C,gCAAA,CAA+B;AAC9B7W,YAAQ,EAAE,iBADoB;AAE9BsK,aAAS,EAAE,iBAFmB;AAG9B5yG;AAH8B,GAA/B;AAKA,CAxByC,EAwBvC;AAAEla,MAAI,EAAE,0BAAR;AAAoC4lF,OAAK,EAAE,KAA3C;AAAkDC,cAAY,EAAE;AAAhE,CAxBuC,CAA1C;;AA0BA,SAASogF,cAAT,GAA0B;AACzB3iI,OAAK,CAAC47D,KAAN;AACAi2B,yBAAA,CAAwBt6H,sBAAM,CAAC2nH,QAA/B,EAAyC,UAAzC;AACA;;AAED,SAASykD,UAAT,GAAsB;AAErBplE,SAAO,CAACu0B,SAAR,CAAkB,EAAlB,EAAsB,EAAtB;AACApnH,UAAQ,CAAC0iJ,MAAT;AACA,C;;;ACpTD;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEO,MAAM72J,kBAAiB,GAAG,IAAIirH,MAAJ,CAAW,aAAX,CAA1B;AAEPjrH,kBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,kBAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,kBAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AACA7rH,kBAAM,CAAC+E,IAAP,GAAc,CAAC,CAAf;AACA/E,kBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AACA5jG,kBAAM,CAACurH,OAAP,GAAiB,CAAC,QAAD,CAAjB;AAEA,MAAM5rC,sBAAU,GAAG,CAAC,aAAD,EAAgB,WAAhB,CAAnB;AACA,MAAM6sF,wBAAwB,GAAG,CAAC,MAAD,EAAS,MAAT,EAAiB,gBAAjB,CAAjC;;AAEAxsK,kBAAM,CAACy4F,EAAP,GAAY,MAAM;AACjBg0E,mBAAiB;AACjB,CAFD;;AAIA,MAAMC,oBAAoB,GAAG,CAAC;AAAEC,QAAF;AAAUzqI,UAAV;AAAoB0qI,MAApB;AAA0B31E;AAA1B,CAAD,KAA0Ct2E,sBAAM,CAAC+N,IAAK;;IAE/Ei+I,MAAM,IAAIhsJ,sBAAM,CAACghE,KAAM;;;GAGvB;;;;;;;KAOCirF,IAAI,CAACvoK,GAAL,CAAS,CAAC;AAAEo9B,KAAF;AAAO6xD;AAAP,CAAD,KAAoB3yE,sBAAM,CAACghE,KAAM;;yDAEUlgD,GAAI,KAAI6xD,KAAM;;IAFlE,CAIC;;;;;;;;;;;;;;;;;;;;;;;;;;;iFA2B2EpxD,QAAS;;;;;;;;;KASrF+0D,QAAQ,CAAC5yF,GAAT,CAAa,CAAC;AAAEo9B,KAAF;AAAO6xD;AAAP,CAAD,KAAoB3yE,sBAAM,CAACghE,KAAM;;yDAEMlgD,GAAI,KAAI6xD,KAAM;;IAFlE,CAIC;;;;;;;;;CAxDN;;AAmEA,MAAMu5E,sBAAsB,GAAI;;;;;;;;;;;;;;;CAAD,CAe7BnmK,IAf6B,EAA/B;AAiBO,MAAMomK,WAAW,GAAG,sBAAO,MAAO;;gBAEzB5hK,MAAM,CAACg0J,aAAA,EAAD,CAA4B;iBACjCjjB,gBAAiB;aACrB8wB,6BAAa,CAACvjG,OAAQ;qBACdujG,6BAAa,CAAC/pK,OAAQ;qBACtBkI,MAAM,CAACy5D,SAAS,CAACqoG,aAAX,CAA0B;iBACpC9hK,MAAM,CAACs+B,gBAAC,CAAC,YAAD,CAAD,CAAgB9lC,MAAhB,GAAyB,CAA1B,CAA6B;;CAPzB,CAApB;;AAWP,SAAS+oK,iBAAT,GAA6B;AAC5B,QAAMQ,cAAiC,GAAI/sK,QAAQ,CAAC0M,cAAT,CAAwB,iBAAxB,CAA3C;AACA,QAAM4yF,QAA8B,GAAIt/F,QAAQ,CAAC24E,aAAT,CAAuB,yBAAvB,CAAxC;;AAEA,MAAIo0F,cAAJ,EAAoB;AACnB,aAASv6J,KAAT,GAAiB;AAChB,YAAM0rE,SAAS,GAAG6uF,cAAc,CAAC7lK,KAAjC;;AAEA,UAAIu4E,sBAAU,CAAC/9B,QAAX,CAAoBw8B,SAAS,CAAC32E,WAAV,EAApB,CAAJ,EAAkD;AACjDylK,kBAAU;AACVC,sBAAc,CAAC3tE,QAAD,CAAd;AACA,OAHD,MAGO;AACN4tE,kBAAU;AAEV;AACD;;AAED16J,SAAK;AAELu6J,kBAAc,CAAC19J,gBAAf,CAAgC,QAAhC,EAA0CtD,CAAC,IAAI;AAC9C,UAAKA,CAAD,CAASqvE,GAAb,EAAkB;AAClB5oE,WAAK;AACL,KAHD;AAQA82B,oBAAC,CAAC,mCAAD,CAAD,CAAuCpiB,EAAvC,CAA0C,OAA1C,EAAmD,MAAM5I,UAAU,CAAC9L,KAAD,EAAQ,GAAR,CAAnE;AACA;;AAED,MAAI8sF,QAAQ,IAAIytE,cAAhB,EAAgC;AAC/BzjI,oBAAC,CAACg2D,QAAD,CAAD,CAAYvlF,GAAZ,CAAgBgzJ,cAAhB,EAAgC7lJ,EAAhC,CAAmC,MAAnC,EAA2C,MAAM;AAChD,YAAMg3D,SAAS,GAAG6uF,cAAc,CAAC7lK,KAAjC;;AACA,UAAI,CAAC,GAAGu4E,sBAAJ,EAAgB,GAAG6sF,wBAAnB,EAA6C5qH,QAA7C,CAAsDw8B,SAAS,CAAC32E,WAAV,EAAtD,CAAJ,EAAoF;AACnF,cAAM4lK,mBAAmB,GAAGP,WAAW,GAAG9mK,OAAd,CAAsB,KAAtB,EAA6B,EAA7B,CAA5B;AACA,cAAMsnK,gBAAgB,GAAG9tE,QAAQ,CAACp4F,KAAT,CAAepB,OAAf,CAAuB,KAAvB,EAA8B,EAA9B,CAAzB;;AACA,YAAI,CAACsnK,gBAAgB,CAAC1rH,QAAjB,CAA0ByrH,mBAA1B,CAAL,EAAqD;AACpD7tE,kBAAQ,CAACp4F,KAAT,IAAkB0lK,WAAW,EAA7B;AACAtjI,0BAAC,CAACg2D,QAAD,CAAD,CAAYj1E,OAAZ,CAAoB,OAApB;AACA;AACD,OAPD,MAOO;AACNi1E,gBAAQ,CAACp4F,KAAT,GAAiBo4F,QAAQ,CAACp4F,KAAT,CAAepB,OAAf,CAAuB8mK,WAAW,EAAlC,EAAsC,EAAtC,CAAjB;AACAtjI,wBAAC,CAACg2D,QAAD,CAAD,CAAYj1E,OAAZ,CAAoB,OAApB;AACA;AACD,KAbD;AAcA;AACD;;AAGD,SAASgjJ,eAAT,CAAyBnvF,SAAzB,EAAoC;AACnC,QAAMhuE,KAAuB,GAAIlQ,QAAQ,CAAC24E,aAAT,CAAuB,kBAAvB,CAAjC;AACAzoE,OAAK,CAAChJ,KAAN,GAAcg3E,SAAd;AACA,QAAMnyE,CAAC,GAAG,IAAI8d,KAAJ,CAAU,QAAV,CAAV;AACC9d,GAAD,CAASqvE,GAAT,GAAe,IAAf;AACAlrE,OAAK,CAACqpE,aAAN,CAAoBxtE,CAApB;AACA;;AAED,SAASkhK,cAAT,CAAwB3tE,QAAxB,EAAkC;AACjC,MAAIA,QAAQ,IAAI,CAACA,QAAQ,CAACp4F,KAA1B,EAAiC;AAChCo4F,YAAQ,CAACp4F,KAAT,GAAiBylK,sBAAjB;AACA;AACD;;AAED,eAAeW,MAAf,GAAwB;AACvB,QAAM,CAACZ,IAAD,EAAO31E,QAAP,IAAmB,MAAMpf,OAAO,CAACt3D,GAAR,CAAY,CAC1CktJ,UAAU,CAAC,oCAAD,CADgC,EAE1CA,UAAU,CAAC,wCAAD,CAFgC,CAAZ,CAA/B;AAKA,SAAOf,oBAAoB,CAAC;AAC3BC,UAAM,EAAEA,kBAAM,EADa;AAE3BC,QAF2B;AAG3B31E,YAH2B;AAI3B/0D,YAAQ,EAAEo4F,WAAA;AAJiB,GAAD,CAA3B;AAMA;;AAED,MAAMozC,QAAQ,GAAG,iBAAjB;;AACA,eAAeR,UAAf,GAA4B;AAC3B,QAAMS,MAAM,GAAGrhD,OAAO,CAAC1oH,GAAR,CAAY8pK,QAAZ,CAAf;;AACA,MAAIC,MAAJ,EAAY;AACXrhD,WAAO,CAAChoG,IAAR,CAAaqpJ,MAAM,CAAC9gK,EAApB;AACA;AACA;;AAED,QAAM+2F,WAAW,GAAG,MAAM4pE,MAAM,EAAhC;AAWAlhD,SAAO,CAACwE,YAAR,CAAqB;AACpBtE,YAAQ,EAAE,mBADU;AAEpB5oB,eAFoB;AAGpB8oB,oBAAgB,EAZS;;;;;;;EASL;AAIpB7/G,MAAE,EAAE6gK,QAJgB;AAMpBx8I,YAAQ,EAAE,CANU;AAOpBoiE,SAAK,EAAE;AAPa,GAArB,EAQGhvE,IARH;AAUAklB,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6B,sCAA7B,EAAsEnb,CAAD,IAAc;AAClF,UAAMK,KAAK,GAAIL,CAAC,CAACmd,aAAH,CAAuBi2D,QAAvB,CAAgC/yE,KAAhC,CAAsCgxE,OAAO,CAACtoE,MAA9C,CAAd;AACA,QAAI,CAAC1I,KAAL,EAAY;AACZihK,mBAAe,CAACjhK,KAAK,CAAC,CAAD,CAAN,CAAf;AACAL,KAAC,CAACsd,cAAF;AACA,GALD;AAMA;;AAED,SAAS6jJ,UAAT,GAAsB;AACrB,MAAI9gD,OAAO,CAAC1oH,GAAR,CAAY8pK,QAAZ,CAAJ,EAA2B;AAE1BphD,WAAO,CAACuC,OAAR;AACA;AACD;;AAED,eAAe4+C,UAAf,CAA0BhsI,GAA1B,EAA+B;AAC9B,MAAI;AACH,UAAM;AAAEtgB;AAAF,QAAY,MAAMkhB,IAAI,CAAC;AAAEZ,SAAF;AAAO7/B,UAAI,EAAE;AAAb,KAAD,CAA5B;AACA,WAAOgsK,eAAe,CAACzsJ,IAAI,IAAIA,IAAI,CAAC0sJ,UAAd,CAAtB;AACA,GAHD,CAGE,OAAO5hK,CAAP,EAAU;AACX,WAAO,EAAP;AACA;AACD;;AAED,SAAS2hK,eAAT,CAAyBprK,IAAzB,EAA+B;AAC9B,MAAI,CAACA,IAAL,EAAW;AACV,WAAO,EAAP;AACA;;AAED,QAAMkpF,KAAK,GAAGlpF,IAAI,CAACgF,KAAL,CAAW,aAAX,EAA0BqI,MAA1B,CAAiCw1D,CAAC,IAAIA,CAAC,CAAC/4D,KAAF,CAAQ,SAAR,CAAtC,CAAd;AAEA,SAAOo/E,KAAK,CAACrnF,GAAN,CAAUypK,QAAQ,IAAI;AAC5B,UAAMjqE,IAAI,GAAG,EAAb;AACA,UAAMkqE,WAAW,GAAGD,QAAQ,CAAC9nK,OAAT,CAAiB,KAAjB,EAAwB,EAAxB,EAA4BwB,KAA5B,CAAkC,IAAlC,CAApB;;AAEA,SAAK,MAAMwmK,OAAX,IAAsBD,WAAtB,EAAmC;AAClC,YAAME,IAAI,GAAGzkI,gBAAC,CAAC9iC,IAAF,CAAOsnK,OAAP,EAAgBxmK,KAAhB,CAAsB,GAAtB,CAAb;;AACA,UAAIymK,IAAI,CAACvqK,MAAL,GAAc,CAAlB,EAAqB;AACpB,cAAMgK,GAAG,GAAGugK,IAAI,CAACrgK,KAAL,EAAZ;;AACA,YAAIF,GAAJ,EAAS;AACRm2F,cAAI,CAACn2F,GAAD,CAAJ,GAAYugK,IAAI,CAAC9gK,IAAL,CAAU,GAAV,CAAZ;AACA;AACD;AACD;;AAED,WAAO02F,IAAP;AACA,GAfM,CAAP;AAgBA;;AAED,SAAS8oE,kBAAT,GAAkB;AACjB,QAAMxhJ,GAAG,GAAG,IAAIziB,IAAJ,EAAZ;AACA,SACEyiB,GAAG,CAAC0jB,QAAJ,OAAmB,CAAnB,IAAwB1jB,GAAG,CAAC4jB,OAAJ,KAAgB,EAAzC,IACC5jB,GAAG,CAAC0jB,QAAJ,OAAmB,CAAnB,IAAwB1jB,GAAG,CAAC4jB,OAAJ,MAAiB,CAF3C;AAIA,C;;;;;AC3RD;AAEA;AACA;AACA;AACA;AAmBA;AAEA;AACA;AACA;AACA;AAEO,MAAM/uC,mBAAiB,GAAG,IAAIirH,MAAJ,CAAW,cAAX,CAA1B;AAEPjrH,mBAAM,CAACkrH,UAAP,GAAoB,kBAApB;AACAlrH,mBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,mBAAM,CAAC4jG,WAAP,GAAqB,kBAArB;AACA5jG,mBAAM,CAACkF,OAAP,GAAiB;AAChBgpK,kBAAgB,EAAE;AACjBtsK,QAAI,EAAE,SADW;AAEjBwF,SAAK,EAAE,IAFU;AAGjBw8F,eAAW,EAAE,kCAHI;AAIjBtQ,SAAK,EAAE,mCAJU;AAKjB+3B,YAAQ,EAAE,CAAC,aAAD,CALO;AAMjB4O,YAAQ,EAAE;AANO,GADF;AAShBk0C,uBAAqB,EAAE;AACtBvsK,QAAI,EAAE,SADgB;AAEtBwF,SAAK,EAAE,IAFe;AAGtBw8F,eAAW,EAAE,uCAHS;AAItBtQ,SAAK,EAAE,wCAJe;AAKtB+3B,YAAQ,EAAE,CAAC,aAAD,CALY;AAMtB4O,YAAQ,EAAE;AANY,GATP;AAiBhBm0C,kBAAgB,EAAE;AACjBxsK,QAAI,EAAE,SADW;AAEjBwF,SAAK,EAAE,IAFU;AAGjBw8F,eAAW,EAAE,kCAHI;AAIjBtQ,SAAK,EAAE,mCAJU;AAKjB2mC,YAAQ,EAAE;AALO,GAjBF;AAwBhBo0C,uBAAqB,EAAE;AACtBzsK,QAAI,EAAE,SADgB;AAEtBwF,SAAK,EAAE,IAFe;AAGtBw8F,eAAW,EAAE,uCAHS;AAItBtQ,SAAK,EAAE;AAJe,GAxBP;AA8BhBg7E,mBAAiB,EAAE;AAClBhtC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACmpK,qBAAR,CAA8BjnK,KADlC;AAElBxF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,IAHW;AAIlBw8F,eAAW,EAAE,mCAJK;AAKlBtQ,SAAK,EAAE;AALW,GA9BH;AAqChBi7E,SAAO,EAAE;AACRjtC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACopK,iBAAR,CAA0BlnK,KADxC;AAERxF,QAAI,EAAE,SAFE;AAGRwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,CAHC;AAIRw8F,eAAW,EAAE,yBAJL;AAKRtQ,SAAK,EAAE;AALC,GArCO;AA4ChBk7E,WAAS,EAAE;AACVltC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACopK,iBAAR,CAA0BlnK,KADtC;AAEVxF,QAAI,EAAE,SAFI;AAGVwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,CAHG;AAIVw8F,eAAW,EAAE,2BAJH;AAKVtQ,SAAK,EAAE;AALG,GA5CK;AAmDhBm7E,WAAS,EAAE;AACVntC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACopK,iBAAR,CAA0BlnK,KADtC;AAEVxF,QAAI,EAAE,SAFI;AAGVwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,CAHG;AAIVw8F,eAAW,EAAE,2BAJH;AAKVtQ,SAAK,EAAE;AALG,GAnDK;AA0DhBo7E,UAAQ,EAAE;AACTptC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACopK,iBAAR,CAA0BlnK,KADvC;AAETxF,QAAI,EAAE,SAFG;AAGTwF,SAAK,EAAE,CAAC,GAAD,EAAM,KAAN,EAAa,IAAb,EAAmB,IAAnB,EAAyB,KAAzB,CAHE;AAITw8F,eAAW,EAAE,0BAJJ;AAKTtQ,SAAK,EAAE;AALE,GA1DM;AAiEhBq7E,SAAO,EAAE;AACRrtC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACopK,iBAAR,CAA0BlnK,KADxC;AAERxF,QAAI,EAAE,SAFE;AAGRwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,CAHC;AAIRw8F,eAAW,EAAE,yBAJL;AAKRtQ,SAAK,EAAE;AALC,GAjEO;AAwEhBs7E,UAAQ,EAAE;AACTttC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACopK,iBAAR,CAA0BlnK,KADvC;AAETxF,QAAI,EAAE,SAFG;AAGTwF,SAAK,EAAE,CAAC,GAAD,EAAM,KAAN,EAAa,IAAb,EAAmB,IAAnB,EAAyB,KAAzB,CAHE;AAITw8F,eAAW,EAAE,0BAJJ;AAKTtQ,SAAK,EAAE;AALE,GAxEM;AA+EhBu7E,0BAAwB,EAAE;AACzBjtK,QAAI,EAAE,SADmB;AAEzBwF,SAAK,EAAE,IAFkB;AAGzBw8F,eAAW,EAAE,0CAHY;AAIzBtQ,SAAK,EAAE;AAJkB,GA/EV;AAqFhBw7E,2BAAyB,EAAE;AAC1BltK,QAAI,EAAE,SADoB;AAE1BwF,SAAK,EAAE,IAFmB;AAG1Bw8F,eAAW,EAAE,2CAHa;AAI1BtQ,SAAK,EAAE;AAJmB,GArFX;AA2FhBy7E,uBAAqB,EAAE;AACtBntK,QAAI,EAAE,SADgB;AAEtBwF,SAAK,EAAE,IAFe;AAGtBw8F,eAAW,EAAE,wCAHS;AAItBtQ,SAAK,EAAE;AAJe,GA3FP;AAiGhB07E,cAAY,EAAE;AACbptK,QAAI,EAAE,SADO;AAEbwF,SAAK,EAAE,IAFM;AAGbw8F,eAAW,EAAE,8BAHA;AAIbtQ,SAAK,EAAE;AAJM,GAjGE;AAuGhB27E,uBAAqB,EAAE;AACtB3tC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC8pK,YAAR,CAAqB5nK,KADrB;AAEtBxF,QAAI,EAAE,SAFgB;AAGtBwF,SAAK,EAAE,IAHe;AAItBw8F,eAAW,EAAE,uCAJS;AAKtBtQ,SAAK,EAAE;AALe,GAvGP;AA8GhB47E,iBAAe,EAAE;AAChBttK,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,IAFS;AAGhBw8F,eAAW,EAAE,iCAHG;AAIhBtQ,SAAK,EAAE,kCAJS;AAKhB2mC,YAAQ,EAAE,IALM;AAMhB3O,aAAS,EAAE;AANK,GA9GD;AAsHhB6jD,cAAY,EAAE;AACbvtK,QAAI,EAAE,SADO;AAEbwF,SAAK,EAAE,IAFM;AAGbw8F,eAAW,EAAE,8BAHA;AAIbtQ,SAAK,EAAE,+BAJM;AAKbg4B,aAAS,EAAE;AALE,GAtHE;AA6HhB8jD,QAAM,EAAE;AACP9tC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACiqK,YAAR,CAAqB/nK,KADpC;AAEPxF,QAAI,EAAE,OAFC;AAGPs6H,cAAU,EAAE,yBAHL;AAIP/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,OADG;AAERvI,UAAI,EAAE,mBAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,MADH;AAEFvI,UAAI,EAAE,kBAFJ;AAGFvD,UAAI,EAAE;AAHJ,KAJK,EAQL;AACF8L,SAAG,EAAE,UADH;AAEFvI,UAAI,EAAE,sBAFJ;AAGFvD,UAAI,EAAE;AAHJ,KARK,EAYL;AACF8L,SAAG,EAAE,KADH;AAEFvI,UAAI,EAAE,iBAFJ;AAGFvD,UAAI,EAAE;AAHJ,KAZK,CAJD;AAqBPwF,SAAK,EAAG,CACP,CAAC,aAAD,EAAgB,mCAAhB,EAAqDxB,SAArD,EAAgEA,SAAhE,CADO,EAEP,CAAC,aAAD,EAAgB,uFAAhB,EAAyGA,SAAzG,EAAoHA,SAApH,CAFO,EAGP,CAAC,mBAAD,EAAsB,UAAtB,EAAkCA,SAAlC,EAA6CA,SAA7C,CAHO,CArBD;AA0BPg+F,eAAW,EAAE,wBA1BN;AA2BPtQ,SAAK,EAAE;AA3BA,GA7HQ;AA0JhB+7E,mBAAiB,EAAE;AAClB/tC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACiqK,YAAR,CAAqB/nK,KADzB;AAElBxF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,KAHW;AAIlBw8F,eAAW,EAAE,mCAJK;AAKlBtQ,SAAK,EAAE,oCALW;AAMlB2mC,YAAQ,EAAE;AANQ,GA1JH;AAkKhBq1C,mBAAiB,EAAE;AAClBhuC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACiqK,YAAR,CAAqB/nK,KADzB;AAElBxF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,IAHW;AAIlBw8F,eAAW,EAAE,mCAJK;AAKlBtQ,SAAK,EAAE;AALW,GAlKH;AAyKhBi8E,sBAAoB,EAAE;AACrB3tK,QAAI,EAAE,SADe;AAErBwF,SAAK,EAAE,IAFc;AAGrBw8F,eAAW,EAAE,qCAHQ;AAIrBtQ,SAAK,EAAE,sCAJc;AAKrB2mC,YAAQ,EAAE;AALW;AAzKN,CAAjB;AAkLAj6H,mBAAM,CAACurH,OAAP,GAAiB,CAChB,UADgB,EAEhB,OAFgB,EAGhB,QAHgB,EAIhB,SAJgB,EAKhB,UALgB,EAMhB,gBANgB,EAOhB,YAPgB,EAQhB,iDARgB,CAAjB;AAWA,MAAMikD,aAAa,GAAG;AACrBC,YAAU,EAAE,MAAM,IADG;AAErBC,SAAO,EAAE,KAFY;AAGrBC,aAAW,EAAE,GAHQ;AAIrBC,MAAI,EAAE,MAAM,IAJS;AAKrBC,SAAO,EAAE,KALY;AAMrBC,cAAY,EAAE,IANO;AAOrBC,MAAI,EAAE,KAPe;AAQrBC,YAAU,EAAE,GARS;AASrBC,aAAW,EAAE;AATQ,CAAtB;AAWA,MAAMC,kBAA6D,GAAG,EAAtE;AACA,MAAMC,aAAwC,GAAG,EAAjD;;AAEAnwK,mBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3Bz5C,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6BgpJ,uBAA7B,EAAsDC,sBAAtD;AAEAC,6BAA2B;AAC3BC,0BAAwB;AACxBC,wBAAsB;AACtB,CAND;;AAQA,SAASF,2BAAT,GAAuC;AACtC,MAAItwK,mBAAM,CAACkF,OAAP,CAAe2pK,wBAAf,CAAwCznK,KAA5C,EAAmD;AAClDqpK,eAAW,CACV,kEADU,EAEVxkK,CAAC,IAAI;AACJ,YAAMykK,WAAW,GAAGlnI,gBAAC,CAACv9B,CAAC,CAACmd,aAAH,CAAD,CAAmBtP,OAAnB,CAA2B,MAA3B,CAApB;AACA,YAAM62J,UAAU,GAAGD,WAAW,CAAC3gK,IAAZ,CAAiB,OAAjB,EAA0B,CAA1B,KAAgC2gK,WAAW,CAAC3gK,IAAZ,CAAiB,mBAAjB,EAAsC,CAAtC,CAAhC,IAA4Ey5B,gBAAC,CAAC,gBAAD,CAAD,CAAoB,CAApB,CAA/F;AACA,UAAImnI,UAAJ,EAAgBtmJ,KAAK,CAACsmJ,UAAD,CAAL;AAChB,KANS,CAAX;AAQA;;AAED,MAAI3wK,mBAAM,CAACkF,OAAP,CAAe4pK,yBAAf,CAAyC1nK,KAA7C,EAAoD;AACnDqpK,eAAW,CACV,yBADU,EAEV,MAAM;AACL,YAAME,UAAU,GAAGnnI,gBAAC,CAAC,sCAAD,CAAD,CAA0C,CAA1C,CAAnB;AACA,UAAImnI,UAAJ,EAAgBtmJ,KAAK,CAACsmJ,UAAD,CAAL;AAChB,KALS,CAAX;AAOA;;AAED,MAAI3wK,mBAAM,CAACkF,OAAP,CAAe6pK,qBAAf,CAAqC3nK,KAAzC,EAAgD;AAC/CqpK,eAAW,CACV,oFADU,EAEV,MAAM;AACL,YAAMG,QAAQ,GAAGpnI,gBAAC,CAAC,8BAAD,CAAlB;;AACA,UAAIonI,QAAQ,CAACltK,MAAT,IAAmBktK,QAAQ,CAACvuK,GAAT,OAAmB,EAA1C,EAA8C;AAC7CuuK,gBAAQ,CAAC5jJ,KAAT;AACA,OAFD,MAEO;AACN3C,aAAK,CAACmf,gBAAC,CAAC,cAAD,CAAD,CAAkB,CAAlB,CAAD,CAAL;AACA;AACD,KATS,CAAX;AAWA;AACD;;AAED,SAAS+mI,wBAAT,GAAoC;AACnC,MAAIvwK,mBAAM,CAACkF,OAAP,CAAegqK,eAAf,CAA+B9nK,KAAnC,EAA0C;AACzCoiC,oBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6B,uGAA7B,EAAsI,YAAW;AAChJypJ,mBAAa,CAAC,IAAD,CAAb;AACA,KAFD;AAKArnI,oBAAC,CAAC,sCAAD,CAAD,CAA0Cna,OAA1C,CAAkD,0EAAlD;AACA;AACD;;AAED,MAAMyhJ,qBAAqB,GAAG,sBAAO,MAAM;AAC1CtnI,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6B,gDAA7B,EAA+E,UAASnb,CAAT,EAAmB;AACjGA,KAAC,CAACsd,cAAF;AAEA,UAAMxP,KAAK,GAAG+hB,QAAQ,CAAC0N,gBAAC,CAAC,IAAD,CAAD,CAAQl4B,IAAR,CAAa,kBAAb,CAAD,EAAmC,EAAnC,CAAtB;AACA,UAAMqiB,GAAG,GAAGo9I,sBAAsB,CAAC,IAAD,CAAlC;;AACA,QAAI,CAACp9I,GAAL,EAAU;AACTxU,aAAO,CAACjZ,KAAR,CAAc,4BAAd;AACA;AACA;;AACD,UAAMgI,OAAO,GAAGgiK,kBAAkB,CAACn2J,KAAD,CAAlC;;AACA,QAAI,CAAC7L,OAAL,EAAc;AACb,YAAM,IAAI9N,KAAJ,CAAW,+BAA8B2Z,KAAM,GAA/C,CAAN;AACA;;AACD7L,WAAO,CAACylB,GAAD,CAAP;AAEAA,OAAG,CAAC3G,KAAJ;AAEA2G,OAAG,CAAC8lD,aAAJ,CAAkB,IAAI1vD,KAAJ,CAAU,OAAV,EAAmB;AAAEuB,aAAO,EAAE,IAAX;AAAiBC,gBAAU,EAAE;AAA7B,KAAnB,CAAlB;AACA,GAlBD,EAkBGnE,EAlBH,CAkBM,OAlBN,EAkBe,wBAlBf,EAkByC,UAASnb,CAAT,EAAmB;AAC3D,UAAM+kK,OAAO,GAAG/kK,CAAC,CAACmd,aAAlB;;AACA,QAAI4nJ,OAAO,CAACtwF,SAAR,CAAkBj4E,QAAlB,CAA2B,WAA3B,CAAJ,EAA6C;AAC5CuoK,aAAO,CAACtwF,SAAR,CAAkBhlE,MAAlB,CAAyB,WAAzB;AACA,KAFD,MAEO;AACN8tB,sBAAC,CAAC,4BAAD,CAAD,CAAgCjN,WAAhC,CAA4C,WAA5C;AACAy0I,aAAO,CAACtwF,SAAR,CAAkBzmE,GAAlB,CAAsB,WAAtB;AACA;;AAEDuvB,oBAAC,CAAC,IAAD,CAAD,CAAQz9B,IAAR,GAAeqX,GAAf,CAAmB;AAClB9T,SAAG,EAAG,GAAE0hK,OAAO,CAACz0F,SAAR,GAAoBy0F,OAAO,CAAClsI,YAAa,IAD/B;AAElB/P,UAAI,EAAG,GAAEi8I,OAAO,CAACnjE,UAAR,GAAqBmjE,OAAO,CAAC5/I,WAA7B,GAA4C4/I,OAAO,CAACxiK,WAAT,CAA2B4iB,WAAY;AAFzE,KAAnB;AAIA,GA/BD;;AAiCA,MAAIpxB,mBAAM,CAACkF,OAAP,CAAeopK,iBAAf,CAAiClnK,KAArC,EAA4C;AAC3CoiC,oBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,SAApB,EAA+B,gFAA/B,EAAiH,UAASnb,CAAT,EAA2B;AAC3I,UAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACI,MAAzB,EAAiC;AAChC,aAAK9tE,IAAL;AACAhhB,SAAC,CAACsd,cAAF;AACA;AACA;;AAED,WAAK,MAAM,CAAC0nJ,cAAD,EAAiBC,UAAjB,CAAX,IAA2Cf,aAA3C,EAA0D;AACzD,YAAI9zE,iBAAiB,CAACpwF,CAAD,EAAIglK,cAAJ,CAArB,EAA0C;AACzC,gBAAM/iK,OAAO,GAAGgiK,kBAAkB,CAACgB,UAAD,CAAlC;AACAhjK,iBAAO,CAAC,IAAD,CAAP;AAGA,eAAKurE,aAAL,CAAmB,IAAI1vD,KAAJ,CAAU,OAAV,EAAmB;AAAEuB,mBAAO,EAAE,IAAX;AAAiBC,sBAAU,EAAE;AAA7B,WAAnB,CAAnB;AAEAtf,WAAC,CAACsd,cAAF;AACA;AACA;AACD;AACD,KAnBD;AAoBA;AACD,CAxD6B,CAA9B;;AA0DO,MAAM6mJ,uBAAuB,GAAG,CACtC,qBADsC,EAEtC,4BAFsC,EAGtC,mCAHsC,EAItC,qBAJsC,EAKtC,4BALsC,EAMtC,wBANsC,EAOtC,sBAPsC,EAQrCjjK,IARqC,CAQhC,mBARgC,CAAhC;;AAUP,SAASgkK,aAAT,CAAuB7sK,IAAvB,EAA6B;AAC5B,UAAQA,IAAI,CAACa,IAAb;AACC,SAAK,OAAL;AACC,aAAOqqK,aAAa,CAACQ,UAArB;;AACD,SAAK,MAAL;AACC,UAAI7yF,UAAU,CAAC,QAAD,CAAV,IAAwB3zC,gBAAC,CAACllC,IAAD,CAAD,CAAQwV,OAAR,CAAgB,QAAhB,EAA0B8iB,QAA1B,CAAmC,MAAnC,CAA5B,EAAwE;AACvE,eAAO4yI,aAAa,CAACO,IAArB;AACA;;AACD,aAAOP,aAAa,CAACK,OAArB;;AACD,SAAK,aAAL;AACC,aAAOL,aAAa,CAACE,OAArB;;AACD,SAAK,MAAL;AACC,aAAOF,aAAa,CAACM,YAArB;;AACD,SAAK,oBAAL;AACC,aAAON,aAAa,CAACG,WAArB;;AACD,SAAK,SAAL;AACC,aAAOH,aAAa,CAACI,IAArB;;AACD,SAAK,aAAL;AACC,aAAOJ,aAAa,CAACS,WAArB;;AAGD;AACC,aAAO,IAAP;AArBF;AAuBA;;AAED,SAASI,sBAAT,GAAkC;AACjC,MAAI,KAAK7qG,YAAL,CAAkB,0BAAlB,CAAJ,EAAmD;AACnD,OAAK9iE,YAAL,CAAkB,0BAAlB,EAA8C,IAA9C;;AAEA,MAAI,KAAK8iE,YAAL,CAAkB,iBAAlB,CAAJ,EAA0C;AACzC;AACA;;AACD,QAAM0xB,KAAK,GAAGi6E,aAAa,CAAC,IAAD,CAA3B;AAEA,OAAKzuK,YAAL,CAAkB,YAAlB,EAAgCw0F,KAAhC;;AAEA,MAAI,KAAK/xF,IAAL,KAAc,OAAlB,EAA2B;AAC1B;AACA;;AAED,MAAI,KAAK0H,EAAL,KAAY,aAAZ,IAA6B,CAAC7M,mBAAM,CAACkF,OAAP,CAAeqqK,oBAAf,CAAoCnoK,KAAtE,EAA6E;AAC5E;AACA;;AAED,MAAI,KAAKyF,EAAL,KAAY,aAAhB,EAA+B;AAC9B,SAAKqW,KAAL,CAAW+N,KAAX,GAAmB,OAAnB;AACA,SAAK/N,KAAL,CAAWmU,MAAX,GAAoB,OAApB;AACA;;AAED,QAAM+5I,GAAG,GAAGC,WAAW,EAAvB;;AACA,MAAI,KAAKxkK,EAAL,KAAY,mBAAZ,IAAmC,KAAKA,EAAL,KAAY,aAAnD,EAAkE;AACjE28B,oBAAC,CAAC,IAAD,CAAD,CAAQn2B,MAAR,GAAiBgc,OAAjB,CAAyB+hJ,GAAzB;AACA,GAFD,MAEO;AACN5nI,oBAAC,CAAC,IAAD,CAAD,CAAQn2B,MAAR,GAAiBkc,MAAjB,CAAwB6hJ,GAAxB;AACA;;AACDP,eAAa,CAAC,IAAD,CAAb;AACA;;AAEM,SAASA,aAAT,CAAuBtE,QAAvB,EAA8C;AACpD,QAAM7oK,MAAM,GAAG8lC,gBAAC,CAAC+iI,QAAD,CAAD,CAAYlqK,GAAZ,GAAkBqB,MAAjC;AACA,QAAMwzF,KAAK,GAAGq1E,QAAQ,CAAC9pK,YAAT,CAAsB,YAAtB,CAAd;AACA,QAAM67F,OAAO,GAAG90D,gBAAC,CAAC+iI,QAAD,CAAD,CAAYl5J,MAAZ,GAAqBA,MAArB,GAA8BtD,IAA9B,CAAmC,iBAAnC,CAAhB;AACAuuF,SAAO,CAAChtF,IAAR,CAAa,OAAb,EAAuB,oBAAmB5N,MAAO,IAAGwzF,KAAM,EAA1D;AACAoH,SAAO,CAAC97F,IAAR,CAAc,GAAEkB,MAAO,IAAGwzF,KAAM,EAAhC;;AACA,MAAIxzF,MAAM,GAAGwzF,KAAb,EAAoB;AACnBoH,WAAO,CAACpiE,QAAR,CAAiB,SAAjB;AACA,GAFD,MAEO;AACNoiE,WAAO,CAAC/hE,WAAR,CAAoB,SAApB;AACA;AACD;AAED,IAAI+0I,aAAJ;AAEO,SAASD,WAAT,GAAuB;AAC7BP,uBAAqB;;AAErB,MAAIQ,aAAJ,EAAmB;AAClB,WAAO9nI,gBAAC,CAAC8nI,aAAD,CAAD,CAAiBhsK,KAAjB,EAAP;AACA;;AAED,QAAMisK,QAAQ,GAAG/nI,gBAAC,CAAC,8BAAD,CAAlB;AAEA,QAAMgoI,cAAc,GAAGhoI,gBAAC,CAAC,sCAAD,CAAD,CAA0Cpa,MAA1C,CAAiDmiJ,QAAjD,CAAvB;;AAEA,MAAIvxK,mBAAM,CAACkF,OAAP,CAAe8pK,YAAf,CAA4B5nK,KAAhC,EAAuC;AAEtC,UAAMqqK,mBAAmB,GAAGt9J,QAAQ,CAACG,IAAT,CAAchI,KAAd,CAAoB,0EAApB,IAAkG,eAAlG,GAAoH,aAAhJ;AAEA,UAAM0iK,YAAY,GAAGxlI,gBAAC,CAAC,4BAAD,CAAD,CACnB9a,IADmB,CACb,GAAE+iJ,mBAAoB,IADT,EAEnBriJ,MAFmB,CAEZoa,gBAAC,CAAC,oCAAD,CAAD,CACNlkC,KADM,GAEN2gB,IAFM,CAED,wCAFC,EAGN5S,MAHM,EAFY,CAArB;AAOA,UAAM2lH,QAAQ,GAAGn3C,YAAY,EAA7B;;AACA,QAAIm3C,QAAQ,IAAI7G,SAAA,CAAkBs0C,0BAAlB,CAAhB,EAA+C;AAC9CA,iBAAA,CAAwBuI,YAAY,CAACj/J,IAAb,CAAkB,GAAlB,EAAuB,CAAvB,CAAxB,EAAyD;AAAEu1B,gBAAQ,EAAE0zF,QAAZ;AAAsBkrC,wBAAgB,EAAE;AAAxC,OAAzD;AACA;;AACD,QACClkK,mBAAM,CAACkF,OAAP,CAAe+pK,qBAAf,CAAqC7nK,KAArC,IACAsqK,sBAAA,CAAuBxsK,OAAvB,CAA+BulK,QAA/B,CAAwCrjK,KAAxC,CAA8C1D,MAD9C,IAEAs1H,QAFA,IAGAA,QAAQ,CAACvxH,WAAT,OAA2BiqK,sBAAA,CAAuBxsK,OAAvB,CAA+BulK,QAA/B,CAAwCrjK,KAAxC,CAA8C,CAA9C,EAAiD,CAAjD,EAAoDK,WAApD,EAJ5B,EAKE;AACDunK,kBAAY,CAAC9yI,QAAb,CAAsB,uBAAtB;AACA;;AACDs1I,kBAAc,CAACpiJ,MAAf,CAAsB4/I,YAAtB;AACA;;AAED,MAAIhvK,mBAAM,CAACkF,OAAP,CAAempK,qBAAf,CAAqCjnK,KAAzC,EAAgD;AAC/C,UAAMuqK,SAAS,GAAG3xK,mBAAM,CAACkF,OAAP,CAAeopK,iBAAf,CAAiClnK,KAAnD;AACAmqK,YAAQ,CAACniJ,MAAT,CAAgBwiJ,cAAc,CAAC,aAAD,EAAiB,OAAMD,SAAS,GAAI,KAAI91E,mBAAW,CAAC77F,mBAAM,CAACkF,OAAP,CAAeqpK,OAAf,CAAuBnnK,KAAxB,CAA+B,GAAlD,GAAuD,EAAG,EAA1F,EAA6FpH,mBAAM,CAACkF,OAAP,CAAeqpK,OAAf,CAAuBnnK,KAApH,EAA2H,UAA3H,EAAuIusB,GAAG,IAAI;AAC3Kk+I,mBAAa,CAACl+I,GAAD,EAAM,IAAN,EAAY,IAAZ,CAAb;AACA,KAF6B,CAA9B;AAGA49I,YAAQ,CAACniJ,MAAT,CAAgBwiJ,cAAc,CAAC,eAAD,EAAmB,SAAQD,SAAS,GAAI,KAAI91E,mBAAW,CAAC77F,mBAAM,CAACkF,OAAP,CAAespK,SAAf,CAAyBpnK,KAA1B,CAAiC,GAApD,GAAyD,EAAG,EAAhG,EAAmGpH,mBAAM,CAACkF,OAAP,CAAespK,SAAf,CAAyBpnK,KAA5H,EAAmI,YAAnI,EAAiJusB,GAAG,IAAI;AACrLk+I,mBAAa,CAACl+I,GAAD,EAAM,GAAN,EAAW,GAAX,CAAb;AACA,KAF6B,CAA9B;AAGA49I,YAAQ,CAACniJ,MAAT,CAAgBwiJ,cAAc,CAAC,mBAAD,EAAuB,SAAQD,SAAS,GAAI,KAAI91E,mBAAW,CAAC77F,mBAAM,CAACkF,OAAP,CAAeupK,SAAf,CAAyBrnK,KAA1B,CAAiC,GAApD,GAAyD,EAAG,EAApG,EAAuGpH,mBAAM,CAACkF,OAAP,CAAeupK,SAAf,CAAyBrnK,KAAhI,EAAuI,YAAvI,EAAqJusB,GAAG,IAAI;AACzLk+I,mBAAa,CAACl+I,GAAD,EAAM,IAAN,EAAY,IAAZ,CAAb;AACA,KAF6B,CAA9B;AAGA49I,YAAQ,CAACniJ,MAAT,CAAgBwiJ,cAAc,CAAC,gBAAD,EAAoB,QAAOD,SAAS,GAAI,KAAI91E,mBAAW,CAAC77F,mBAAM,CAACkF,OAAP,CAAewpK,QAAf,CAAwBtnK,KAAzB,CAAgC,GAAnD,GAAwD,EAAG,EAA/F,EAAkGpH,mBAAM,CAACkF,OAAP,CAAewpK,QAAf,CAAwBtnK,KAA1H,EAAiI,iBAAjI,EAAoJusB,GAAG,IAAI;AACxLm+I,uBAAiB,CAACn+I,GAAD,EAAM,GAAN,CAAjB;AACA,KAF6B,CAA9B;AAGA49I,YAAQ,CAACniJ,MAAT,CAAgBwiJ,cAAc,CAAC,MAAD,EAAU,OAAMD,SAAS,GAAI,KAAI91E,mBAAW,CAAC77F,mBAAM,CAACkF,OAAP,CAAeypK,OAAf,CAAuBvnK,KAAxB,CAA+B,GAAlD,GAAuD,EAAG,EAAnF,EAAsFpH,mBAAM,CAACkF,OAAP,CAAeypK,OAAf,CAAuBvnK,KAA7G,EAAoH,UAApH,EAAgIusB,GAAG,IAAI;AACpKo+I,mBAAa,CAACp+I,GAAD,CAAb;AACA,KAF6B,CAA9B;AAGA49I,YAAQ,CAACniJ,MAAT,CAAgBwiJ,cAAc,CAAC,QAAD,EAAY,QAAOD,SAAS,GAAI,KAAI91E,mBAAW,CAAC77F,mBAAM,CAACkF,OAAP,CAAe0pK,QAAf,CAAwBxnK,KAAzB,CAAgC,GAAnD,GAAwD,EAAG,EAAvF,EAA0FpH,mBAAM,CAACkF,OAAP,CAAe0pK,QAAf,CAAwBxnK,KAAlH,EAAyH,WAAzH,EAAsIusB,GAAG,IAAI;AAC1Kq+I,uBAAiB,CAACr+I,GAAD,EAAM,IAAN,EAAY,EAAZ,CAAjB;AACA,KAF6B,CAA9B;AAGA49I,YAAQ,CAACniJ,MAAT,CAAgBwiJ,cAAc,CAAC,kDAAD,EAAqD,MAArD,EAA6D,IAA7D,EAAmE,UAAnE,EAA+Ej+I,GAAG,IAAI;AACnHq+I,uBAAiB,CAACr+I,GAAD,EAAM,MAAN,EAAc,EAAd,CAAjB;AACA,KAF6B,CAA9B;AAGA49I,YAAQ,CAACniJ,MAAT,CAAgBwiJ,cAAc,CAAC,eAAD,EAAkB,aAAlB,EAAiC,IAAjC,EAAuC,oBAAvC,EAA6Dj+I,GAAG,IAAI;AACjGq+I,uBAAiB,CAACr+I,GAAD,EAAM,IAAN,EAAY,EAAZ,CAAjB;AACA,KAF6B,CAA9B;AAGA49I,YAAQ,CAACniJ,MAAT,CAAgBwiJ,cAAc,CAAC,WAAD,EAAc,aAAd,EAA6B,IAA7B,EAAmC,kBAAnC,EAAuDj+I,GAAG,IAAI;AAC3Fq+I,uBAAiB,CAACr+I,GAAD,EAAM,KAAN,EAAa,EAAb,CAAjB;AACA,KAF6B,CAA9B;AAGA49I,YAAQ,CAACniJ,MAAT,CAAgBwiJ,cAAc,CAAC,qDAAD,EAAwD,OAAxD,EAAiE,IAAjE,EAAuE,WAAvE,EAAoFj+I,GAAG,IAAI;AAExH,YAAMs+I,YAAY,GAAGt+I,GAAG,CAACvsB,KAAJ,CAAUu7F,SAAV,CAAoBhvE,GAAG,CAACu+I,cAAxB,EAAwCv+I,GAAG,CAACw+I,YAA5C,EAA0DnsK,OAA1D,CAAkE,QAAlE,EAA4E,EAA5E,EAAgFA,OAAhF,CAAwF,QAAxF,EAAkG,EAAlG,EAAsGwB,KAAtG,CAA4G,IAA5G,CAArB;AACA,UAAIg8F,OAAJ;;AACA,UAAIyuE,YAAY,CAACvuK,MAAb,IAAuB,CAA3B,EAA8B;AAC7B,YAAIuuK,YAAY,CAAC,CAAD,CAAZ,CAAgBrwH,QAAhB,CAAyB,GAAzB,CAAJ,EAAmC;AAClCqwH,sBAAY,CAAC,CAAD,CAAZ,GAAkBA,YAAY,CAAC,CAAD,CAAZ,CAAgBjsK,OAAhB,CAAwB,KAAxB,EAA+B,EAA/B,EAAmCA,OAAnC,CAA2C,QAA3C,EAAqD,EAArD,CAAlB;AACA,gBAAMosK,YAAY,GAAGH,YAAY,CAAC,CAAD,CAAZ,CAAgBzqK,KAAhB,CAAsB,GAAtB,EAA2B9D,MAAhD;AAQA8/F,iBAAO,GAAG,IAAV;AAGAyuE,sBAAY,CAAC,CAAD,CAAZ,GAAkBA,YAAY,CAAC,CAAD,CAAZ,CAAgBjsK,OAAhB,CAAwB,YAAxB,EAAsC,EAAtC,CAAlB;AACAisK,sBAAY,CAAC,CAAD,CAAZ,GAAkBA,YAAY,CAAC,CAAD,CAAZ,CAAgBjsK,OAAhB,CAAwB,IAAxB,EAA8B,IAA9B,CAAlB;;AACA,cAAI,CAACisK,YAAY,CAAC,CAAD,CAAZ,CAAgBrwH,QAAhB,CAAyB,IAAzB,CAAD,IAAmC,CAACqwH,YAAY,CAAC,CAAD,CAAZ,CAAgBrwH,QAAhB,CAAyB,IAAzB,CAAxC,EAAwE;AACvE4hD,mBAAO,GAAG,KAAV;AACA;;AACDyuE,sBAAY,CAAC,CAAD,CAAZ,GAAkBA,YAAY,CAAC,CAAD,CAAZ,CAAgBjsK,OAAhB,CAAwB,MAAxB,EAAgC,EAAhC,EAAoCA,OAApC,CAA4C,SAA5C,EAAuD,EAAvD,CAAlB;;AACA,cAAIisK,YAAY,CAAC,CAAD,CAAZ,CAAgBzqK,KAAhB,CAAsB,KAAtB,EAA6B9D,MAA7B,GAAsC0uK,YAA1C,EAAwD;AACvD5uE,mBAAO,GAAG,KAAV;AACA;;AACD,cAAK,QAAD,CAAWv2F,IAAX,CAAgBglK,YAAY,CAAC,CAAD,CAA5B,CAAJ,EAAsC;AACrCzuE,mBAAO,GAAG,KAAV;AACA;;AAGD,cAAIA,OAAJ,EAAa;AACZ,iBAAK,MAAMphG,CAAX,IAAgBklF,KAAK,CAAC,CAAD,EAAI2qF,YAAY,CAACvuK,MAAjB,CAArB,EAA+C;AAC9C,kBAAI,CAACuuK,YAAY,CAAC7vK,CAAD,CAAZ,CAAgBw/C,QAAhB,CAAyB,GAAzB,CAAL,EAAoC;AACnC4hD,uBAAO,GAAG,KAAV;AACA;AACA;;AACDyuE,0BAAY,CAAC7vK,CAAD,CAAZ,GAAkB6vK,YAAY,CAAC7vK,CAAD,CAAZ,CAAgB4D,OAAhB,CAAwB,KAAxB,EAA+B,EAA/B,EAAmCA,OAAnC,CAA2C,SAA3C,EAAsD,EAAtD,CAAlB;;AACA,kBAAIisK,YAAY,CAAC7vK,CAAD,CAAZ,CAAgBoF,KAAhB,CAAsB,GAAtB,EAA2B9D,MAA3B,KAAsC0uK,YAA1C,EAAwD;AAGvD5uE,uBAAO,GAAG,KAAV;AACA;AACA;AACD;AACD;AACD;AACD;;AACD,UAAI6uE,UAAJ;;AACA,UAAI7uE,OAAJ,EAAa;AAEZ6uE,kBAAU,GAAGJ,YAAY,CAAC51F,MAAb,CAAoB,CAACi2F,SAAD,EAAYC,QAAZ,EAAsBnwK,CAAtB,KAA4B;AAC5D,cAAIA,CAAC,KAAK,CAAV,EAAa;AACZ,mBAAOkwK,SAAP;AACA;;AAED,iBAAQ,GAAEA,SAAU,WAAU1xF,UAAU,CAAC2xF,QAAD,CAAV,CAAqBvsK,OAArB,CAA6B,KAA7B,EAAoC,WAApC,CAAiD,YAA/E;AACA,SANY,EAMV,EANU,CAAb;AAOA,OATD,MASO;AACNqsK,kBAAU,GAAG,oEAAb;AACA;;AACD,YAAMn9H,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK,gGAA+F/N,sBAAM,CAACugE,IAAP,CAAYmxF,UAAZ,CAAwB,gBAAnJ;AACAn5C,2BAAK,CAAC7zF,IAAN,CAAW6P,OAAX,EAAoB;AAAE3pB,kBAAU,EAAE;AAAd,OAApB,EACE7O,IADF,CACO,MAAM;AACX,YAAI81J,cAAc,GAAG,MAArB;AACA,YAAIC,wBAAwB,GAAG,EAA/B;AACAjpI,wBAAC,CAAC,aAAD,EAAgB0L,OAAhB,CAAD,CAA0B/wC,IAA1B,CAA+B,YAAW;AACzC,gBAAM3B,IAAI,GAAGgnC,gBAAC,CAAC,IAAD,CAAD,CAAQhnC,IAAR,GAAewD,OAAf,CAAuB,QAAvB,EAAiC,EAAjC,CAAb;AACAwsK,wBAAc,IAAK,GAAEhwK,IAAK,KAA1B;AACAiwK,kCAAwB,IAAI,IAAI7qF,MAAJ,CAAWplF,IAAI,CAACkB,MAAhB,CAA5B;AACA+uK,kCAAwB,IAAI,GAA5B;AACA,SALD;AAMAA,gCAAwB,GAAGA,wBAAwB,CAAC3hI,MAAzB,CAAgC,CAAhC,EAAmC2hI,wBAAwB,CAAC/uK,MAAzB,GAAkC,CAArE,CAA3B;AACA8uK,sBAAc,GAAI,GAAEA,cAAc,CAAC1hI,MAAf,CAAsB,CAAtB,EAAyB0hI,cAAc,CAAC9uK,MAAf,GAAwB,CAAjD,CAAoD,KAAI+uK,wBAAyB,IAArG;AACAjpI,wBAAC,CAAC,UAAD,EAAa0L,OAAb,CAAD,CAAuB/wC,IAAvB,CAA4B,YAAW;AACtCqlC,0BAAC,CAAC,IAAD,CAAD,CAAQz5B,IAAR,CAAa,IAAb,EAAmB5L,IAAnB,CAAwB,YAAW;AAClCquK,0BAAc,IAAK,GAAEhpI,gBAAC,CAAC,IAAD,CAAD,CAAQhnC,IAAR,GAAewD,OAAf,CAAuB,QAAvB,EAAiC,EAAjC,CAAqC,KAA1D;AACA,WAFD;AAGAwsK,wBAAc,GAAI,GAAEA,cAAc,CAAC1hI,MAAf,CAAsB,CAAtB,EAAyB0hI,cAAc,CAAC9uK,MAAf,GAAwB,CAAjD,CAAoD,IAAxE;AACA,SALD;;AAMA,YAAI8/F,OAAJ,EAAa;AACZkvE,0BAAgB,CAAC/+I,GAAD,EAAM6+I,cAAN,CAAhB;AACA,SAFD,MAEO;AACNX,uBAAa,CAACl+I,GAAD,EAAM6+I,cAAN,EAAsB,EAAtB,CAAb;AACA;;AACDhpI,wBAAC,CAAC7V,GAAD,CAAD,CAAOpJ,OAAP,CAAe,OAAf;AACA,OAxBF;AA0BA,YAAMooJ,MAAM,GAAGz5C,qBAAK,CAAC30B,UAAN,CAAiB,OAAjB,CAAf;AACA,YAAMquE,MAAM,GAAG15C,qBAAK,CAAC30B,UAAN,CAAiB,OAAjB,CAAf;AACA,YAAMsuE,MAAM,GAAG35C,qBAAK,CAAC30B,UAAN,CAAiB,OAAjB,CAAf;AACA,YAAMuuE,MAAM,GAAG55C,qBAAK,CAAC30B,UAAN,CAAiB,OAAjB,CAAf;AACAouE,YAAM,CAACpjK,gBAAP,CAAwB,OAAxB,EAAiC,MAAM;AACtC,cAAMwjK,KAAK,GAAGvpI,gBAAC,CAAC,aAAD,EAAgB0L,OAAhB,CAAD,CAA0BxxC,MAAxC;AACA,cAAMsvK,MAAM,GAAG,gBAAgBprF,MAAhB,CAAuBmrF,KAAvB,CAAf;AACAvpI,wBAAC,CAAC,OAAD,EAAU0L,OAAV,CAAD,CAAoB9lB,MAApB,CAA4B,OAAM4jJ,MAAO,OAAzC;AACA,OAJD;AAKAJ,YAAM,CAACrjK,gBAAP,CAAwB,OAAxB,EAAiC,MAAM;AACtC,YAAIi6B,gBAAC,CAAC,IAAD,EAAO0L,OAAP,CAAD,CAAiBxxC,MAAjB,GAA0B,CAA9B,EAAiC;AAChC8lC,0BAAC,CAAC,eAAD,EAAkB0L,OAAlB,CAAD,CAA4Bx5B,MAA5B;AACA;AACD,OAJD;AAKAm3J,YAAM,CAACtjK,gBAAP,CAAwB,OAAxB,EAAiC,MAAM;AACtCi6B,wBAAC,CAAC,UAAD,EAAa0L,OAAb,CAAD,CAAuB9lB,MAAvB,CAA8B,eAA9B;AACA,OAFD;AAGA0jJ,YAAM,CAACvjK,gBAAP,CAAwB,OAAxB,EAAiC,MAAM;AACtC,YAAIi6B,gBAAC,CAAC,aAAD,EAAgB0L,OAAhB,CAAD,CAA0BxxC,MAA1B,GAAmC,CAAvC,EAA0C;AACzC8lC,0BAAC,CAAC,0BAAD,EAA6B0L,OAA7B,CAAD,CAAuCx5B,MAAvC;AACA;AACD,OAJD;AAMA,YAAMu3J,gBAAgB,GAAGzpI,gBAAC,CAAC,kBAAD,EAAqB0L,OAArB,CAA1B;AACA+9H,sBAAgB,CAAC7jJ,MAAjB,CAAwBujJ,MAAxB;AACAM,sBAAgB,CAAC7jJ,MAAjB,CAAwBwjJ,MAAxB;AACAK,sBAAgB,CAAC7jJ,MAAjB,CAAwByjJ,MAAxB;AACAI,sBAAgB,CAAC7jJ,MAAjB,CAAwB0jJ,MAAxB;AACA,KArH6B,CAA9B;AAsHA;;AAED,MAAI9yK,mBAAM,CAACkF,OAAP,CAAegqK,eAAf,CAA+B9nK,KAAnC,EAA0C;AACzC,UAAM8rK,QAAQ,GAAG1pI,gBAAC,CAAC,8EAAD,CAAlB;AACA+nI,YAAQ,CAACliJ,OAAT,CAAiB6jJ,QAAjB;AACA;;AAED,MAAIlzK,mBAAM,CAACkF,OAAP,CAAeiqK,YAAf,CAA4B/nK,KAAhC,EAAuC;AACtC+rK,uBAAmB,CAAC3B,cAAD,CAAnB;AAEA,UAAM4B,cAAc,GAAGxB,cAAc,CAACzqF,IAAI,CAACnnF,mBAAM,CAACkF,OAAP,CAAekqK,MAAf,CAAsBlzC,UAAvB,CAAL,EAAyC,IAAzC,EAA+C,IAA/C,EAAqD,yBAArD,EAAgF,MAAM;AAC1H5B,6BAAA,CAAwBt6H,mBAAM,CAAC2nH,QAA/B,EAAyC,QAAzC;AACAn+E,sBAAC,CAAC,4BAAD,CAAD,CAAgCjN,WAAhC,CAA4C,WAA5C;AACA,KAHoC,CAArC;AAIA82I,yBAAqB,CAAC,EAAD,EAAKD,cAAL,CAArB;AACA;;AAED9B,eAAa,GAAGE,cAAhB;AACA,SAAOF,aAAP;AACA;AAED,MAAMgC,kBAAkB,GAAG,IAAI9vF,GAAJ,EAA3B;;AAEA,SAAS+vF,aAAT,CAAuB5f,SAAvB,EAAkC;AAEjCA,WAAS,GAAG,CAACA,SAAS,IAAI,EAAd,EAAkB3yJ,QAAlB,GAA6B0F,IAA7B,MAAuC,QAAnD;AACA,MAAI8sK,UAAU,GAAGF,kBAAkB,CAAC1vK,GAAnB,CAAuB+vJ,SAAvB,CAAjB;;AACA,MAAI6f,UAAU,KAAK5tK,SAAnB,EAA8B;AAC7B4tK,cAAU,GAAG,EAAb;AACAA,cAAU,CAACC,WAAX,GAAyBjqI,gBAAC,CAAE,uCAAsCmqH,SAAU,SAAlD,CAA1B;AACA6f,cAAU,CAACjjJ,SAAX,GAAuBiZ,gBAAC,CAAC,wCAAD,CAAxB;AACAgqI,cAAU,CAAClf,QAAX,GAAsB9qH,gBAAC,CAAC,wCAAD,CAAvB;AACAgqI,cAAU,CAACjjJ,SAAX,CAAqBnB,MAArB,CAA4BokJ,UAAU,CAAClf,QAAvC;AACAgf,sBAAkB,CAACpyJ,GAAnB,CAAuByyI,SAAvB,EAAkC6f,UAAlC;AACA;;AACD,SAAOA,UAAP;AACA;;AAED,SAASH,qBAAT,CAA+B1f,SAA/B,EAA0C/pI,MAA1C,EAAkD;AACjD,QAAMyuC,KAAK,GAAGk7G,aAAa,CAAC5f,SAAD,CAA3B;AACAt7F,OAAK,CAACi8F,QAAN,CAAellI,MAAf,CAAsBoa,gBAAC,CAAC,MAAD,CAAD,CAAUpa,MAAV,CAAiBxF,MAAjB,CAAtB;AACA;;AAED,SAAS8pJ,cAAT,GAA0B;AACzB,MAAI,CAACh0F,kBAAkB,CAAC,aAAD,EAAgB,WAAhB,CAAvB,EAAqD,OAAO,EAAP;AACrD,SAAO,CACN,CAAC,uBAAD,EAA0B,+BAA1B,EAA2D,IAA3D,EAAiE,IAAjE,CADM,EAEN,CAAC,iBAAD,EAAoB,oBAApB,EAA0C,IAA1C,EAAgD,IAAhD,CAFM,CAAP;AAIA;;AAED,SAASyzF,mBAAT,CAA6BQ,OAA7B,EAAsC;AACrC,QAAMvE,MAAM,GAAG,CAAC,GAAGpvK,mBAAM,CAACkF,OAAP,CAAekqK,MAAf,CAAsBhoK,KAA1B,EAAiC,GAAGssK,cAAc,EAAlD,CAAf;;AAEA,OAAK,MAAM,CAACpgF,KAAD,EAAQ9wF,IAAR,EAAc2oH,QAAd,EAAwBz9G,GAAxB,CAAX,IAA2C0hK,MAA3C,EAAmD;AAClD,UAAMxlJ,MAAM,GAAGgoJ,cAAc,CAACt+E,KAAD,EAAQ,IAAR,EAAc5lF,GAAd,EAAmB,WAAnB,EAAgCimB,GAAG,IAAI;AACnEigJ,oBAAc,CAACjgJ,GAAD,EAAMnxB,IAAN,CAAd;AACA,KAF4B,CAA7B;AAGA6wK,yBAAqB,CAACloD,QAAD,EAAWvhG,MAAX,CAArB;AACA;;AAED,QAAMiqJ,aAAa,GAAGrqI,gBAAC,CAAC,qCAAD,CAAvB;AAEA,QAAMsqI,YAAY,GAAGP,aAAa,CAAC,EAAD,CAAlC;AACAM,eAAa,CAACzkJ,MAAd,CAAqB0kJ,YAAY,CAACL,WAAlC;AACAI,eAAa,CAACzkJ,MAAd,CAAqB0kJ,YAAY,CAACvjJ,SAAlC;;AAEA,OAAK,MAAM,CAAC46F,QAAD,EAAWqoD,UAAX,CAAX,IAAqCF,kBAArC,EAAyD;AACxD,QAAInoD,QAAQ,KAAK,QAAjB,EAA2B;AAC1B;AACA;;AACD0oD,iBAAa,CAACzkJ,MAAd,CAAqBokJ,UAAU,CAACC,WAAhC;AACAI,iBAAa,CAACzkJ,MAAd,CAAqBokJ,UAAU,CAACjjJ,SAAhC;AACA;;AACDojJ,SAAO,CAACvkJ,MAAR,CAAeykJ,aAAf;AACA;;AAED,SAASjC,cAAT,CAAwB7pE,KAAxB,EAA+BzU,KAA/B,EAAsC5lF,GAAtC,EAA2C00F,GAA3C,EAAgDl0F,OAAhD,EAAyD;AACxD,MAAI65F,KAAK,KAAK,IAAd,EAAoB;AACnBA,SAAK,GAAG,WAAR;AACA;;AACD,MAAIzU,KAAK,KAAK,IAAd,EAAoB;AACnBA,SAAK,GAAG,EAAR;AACA;;AACD,QAAMygF,gBAAgB,GAAG7D,kBAAkB,CAACxsK,MAA5C;AACA,QAAMkmB,MAAM,GAAGjJ,sBAAM,CAAC+N,IAAK,sBAAqB0zE,GAAI,YAAW9O,KAAM,6CAA4CygF,gBAAiB,KAAIhsE,KAAM,MAA5I;;AAEA,MAAIr6F,GAAG,IAAIA,GAAG,CAAC,CAAD,CAAH,KAAW,IAAtB,EAA4B;AAC3ByiK,iBAAa,CAACtvK,IAAd,CAAmB,CAAC6M,GAAD,EAAMqmK,gBAAN,CAAnB;AACA;;AACD7D,oBAAkB,CAAC6D,gBAAD,CAAlB,GAAuC7lK,OAAvC;AACA,SAAO0b,MAAP;AACA;;AAED,SAASmoJ,aAAT,CAAuBp+I,GAAvB,EAA4B;AAC3B,MAAI8N,GAAG,GAAG6mF,MAAM,CAAC,gBAAD,EAAmB,EAAnB,CAAhB;;AACA,MAAI7mF,GAAJ,EAAS;AAERA,OAAG,GAAGA,GAAG,CAACz7B,OAAJ,CAAY,SAAZ,EAAuB,MAAvB,CAAN;AAEA6rK,iBAAa,CAACl+I,GAAD,EAAM,GAAN,EAAY,KAAI8N,GAAI,GAApB,EAAwBj/B,IAAI,IAAIA,IAAI,CAACwD,OAAL,CAAa,aAAb,EAA4B,MAA5B,CAAhC,CAAb;AACA;AACD;;AAED,SAAS4tK,cAAT,CAAwBjgJ,GAAxB,EAA6BqgJ,SAA7B,EAAwC;AACvC,MAAI,CAACh0K,mBAAM,CAACkF,OAAP,CAAemqK,iBAAf,CAAiCjoK,KAAtC,EAA6C;AAC5CoiC,oBAAC,CAAC,4BAAD,CAAD,CAAgCjN,WAAhC,CAA4C,WAA5C;AACA;;AACD,MAAIv8B,mBAAM,CAACkF,OAAP,CAAeoqK,iBAAf,CAAiCloK,KAArC,EAA4C;AAE3CyqK,iBAAa,CAACl+I,GAAD,EAAM,EAAN,EAAU,EAAV,EADMs+I,YAAY,IAAIgC,gBAAgB,CAACtgJ,GAAD,EAAMqgJ,SAAN,EAAiB/B,YAAjB,CACtC,CAAb;AACA,GAHD,MAGO;AACNJ,iBAAa,CAACl+I,GAAD,EAAMqgJ,SAAN,EAAiB,EAAjB,CAAb;AACA;AACD;;AAED,SAASC,gBAAT,CAA0BtgJ,GAA1B,EAA+BqgJ,SAA/B,EAA0C/B,YAA1C,EAAwD;AACvD,QAAMiC,YAAY,GAAGF,SAAS,CAAC1nK,KAAV,CAAgB,cAAhB,CAArB;;AACA,MAAI4nK,YAAJ,EAAkB;AACjB,UAAMC,qBAAqB,GAAG,IAAI36F,GAAJ,EAA9B;;AACA,SAAK,MAAMttC,WAAX,IAA0BgoI,YAA1B,EAAwC;AACvC,UAAIC,qBAAqB,CAACx6J,GAAtB,CAA0BuyB,WAA1B,CAAJ,EAA4C;AAC3C;AACA;;AACDioI,2BAAqB,CAACl6J,GAAtB,CAA0BiyB,WAA1B;AAEA,YAAMkoI,oBAAoB,GAAGloI,WAAW,CAACy2D,SAAZ,CAAsB,CAAtB,EAAyBz2D,WAAW,CAACxoC,MAAZ,GAAqB,CAA9C,EAAiD+D,WAAjD,EAA7B;AACA,UAAIL,KAAJ;;AACA,UAAI;AACHA,aAAK,GAAGitK,wBAAwB,CAACD,oBAAD,EAAuBJ,SAAvB,EAAkC/B,YAAlC,EAAgDt+I,GAAhD,CAAhC;AACA,OAFD,CAEE,OAAO1nB,CAAP,EAAU;AACXkT,eAAO,CAACjZ,KAAR,CAAc,uCAAd,EAAuDkuK,oBAAvD;AACAj1J,eAAO,CAACjZ,KAAR,CAAc+F,CAAd;AACA;;AACD,UAAI7E,KAAK,KAAKxB,SAAd,EAAyB;AACxBwB,aAAK,GAAGktK,yBAAyB,CAACpoI,WAAD,EAAc8nI,SAAd,CAAjC;AACA;;AAED,UAAI5sK,KAAK,KAAK,IAAd,EAAoB;AAEnB;AACA;;AAGD4sK,eAAS,GAAGA,SAAS,CAAChuK,OAAV,CAAkB,IAAI+D,MAAJ,CAAWmiC,WAAX,EAAwB,GAAxB,CAAlB,EAAgD9kC,KAAhD,CAAZ;AACA;AACD;;AAED,SAAO4sK,SAAP;AACA;;AAED,SAASK,wBAAT,CAAkCnoI,WAAlC,EAA+C8nI,SAA/C,EAA0D/B,YAA1D,EAAwEt+I,GAAxE,EAA6E;AAC5E,QAAMzlB,OAAO,GAAGqmK,iBAAiB,CAACxkK,IAAlB,CAAuBkxB,OAAO,IAAIA,OAAO,CAAC/5B,OAAR,CAAgB06C,QAAhB,CAAyB1V,WAAzB,CAAlC,CAAhB;;AAEA,MAAIh+B,OAAJ,EAAa;AACZ,WAAOA,OAAO,CAACia,MAAR,CAAe6rJ,SAAf,EAA0B/B,YAA1B,EAAwCt+I,GAAxC,CAAP;AACA;AACD;;AAED,MAAM4gJ,iBAGH,GAAG,CACL;AACCrtK,SAAO,EAAE,CAAC,WAAD,CADV;;AAECihB,QAAM,CAAC6rJ,SAAD,EAAY/B,YAAZ,EAA0Bt+I,GAA1B,EAA+B;AACpC,UAAMw8D,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAWv+C,GAAX,CAAd;AACA,UAAMyqD,SAAS,GAAG+R,KAAK,IAAIA,KAAK,CAAC4D,YAAN,EAA3B;;AAEA,QAAI3V,SAAJ,EAAe;AACd,aAAQ,MAAKA,SAAU,EAAvB;AACA;AACD;;AATF,CADK,EAWF;AACFl3E,SAAO,EAAE,CAAC,IAAD,EAAO,aAAP,CADP;;AAEFihB,QAAM,GAAG;AACR,UAAMmd,QAAQ,GAAGu8C,YAAY,EAA7B;;AACA,QAAIv8C,QAAJ,EAAc;AACb,aAAQ,MAAKA,QAAS,EAAtB;AACA;AACD;;AAPC,CAXE,EAmBF;AACFp+B,SAAO,EAAE,CAAC,IAAD,EAAO,aAAP,CADP;;AAEFihB,QAAM,CAAC6rJ,SAAD,EAAY/B,YAAZ,EAA0Bt+I,GAA1B,EAA+B;AACpC,QAAIgqD,OAAJ;;AACA,QAAIR,UAAU,CAAC,UAAD,CAAd,EAA4B;AAC3BQ,aAAO,GAAIz9E,QAAQ,CAAC24E,aAAT,CAAuB,oBAAvB,CAAX;AACA,KAFD,MAEO;AACN,UAAI27F,KAAK,GAAGhrI,gBAAC,CAAC7V,GAAD,CAAb;AACA,UAAI8gJ,QAAQ,GAAGD,KAAf;;AACA,SAAG;AACF,YAAIA,KAAK,IAAIA,KAAK,CAAC9wK,MAAnB,EAA2B+wK,QAAQ,GAAGD,KAAX;AAC3BA,aAAK,GAAGA,KAAK,CAACnhK,MAAN,GAAeyG,OAAf,CAAuB,YAAvB,CAAR;AACA,OAHD,QAGS06J,KAAK,CAAC9wK,MAHf;;AAKAi6E,aAAO,GAAI82F,QAAQ,CAAC1kK,IAAT,CAAc,SAAd,EAAyB,CAAzB,CAAX;AACA;;AAED,QAAI4tE,OAAJ,EAAa;AACZ,YAAMrxE,KAAK,GAAGqxE,OAAO,CAAC0B,QAAR,CAAiB/yE,KAAjB,CAAuBgxE,OAAO,CAACK,OAA/B,CAAd;AACA,UAAI,CAACrxE,KAAL,EAAY,MAAM,IAAIlM,KAAJ,CAAW,yBAAwBu9E,OAAO,CAACrpE,IAAK,EAAhD,CAAN;AACZ,aAAQ,MAAKhI,KAAK,CAAC,CAAD,CAAI,EAAtB;AACA;AACD;;AAtBC,CAnBE,EA0CF;AACFpF,SAAO,EAAE,CAAC,KAAD,CADP;;AAEFihB,QAAM,GAAG;AACR,WAAOhU,QAAQ,CAACG,IAAhB;AACA;;AAJC,CA1CE,EA+CF;AACFpN,SAAO,EAAE,CAAC,UAAD,EAAa,mBAAb,CADP;;AAEFihB,QAAM,CAAC6rJ,SAAD,EAAY/B,YAAZ,EAA0Bt+I,GAA1B,EAA+B;AACpC,QAAI+gJ,KAAK,GAAGlrI,gBAAC,CAAC7V,GAAD,CAAb;AACA,UAAMghJ,SAAS,GAAGD,KAAK,CAAC56J,OAAN,CAAc,gBAAd,EAAgC8iB,QAAhC,CAAyC,OAAzC,CAAlB;;AAEA,QAAI+3I,SAAJ,EAAe;AACdD,WAAK,GAAGA,KAAK,CAAC56J,OAAN,CAAc,QAAd,EAAwBzG,MAAxB,EAAR;AACA;;AAED,UAAMsqE,OAA2B,GAAI+2F,KAAK,CAAC56J,OAAN,CAAc,QAAd,EAAwB/J,IAAxB,CAA6B,gBAA7B,EAA+C,CAA/C,CAArC;;AAEA,QAAI,CAAC4tE,OAAL,EAAc;AACb,aAAO02F,wBAAwB,CAAC,IAAD,EAAOL,SAAP,EAAkB/B,YAAlB,EAAgCt+I,GAAhC,CAA/B;AACA,KAFD,MAEO;AACN,YAAMrnB,KAAK,GAAGqxE,OAAO,CAAC0B,QAAR,CAAiB/yE,KAAjB,CAAuBgxE,OAAO,CAACK,OAA/B,CAAd;AACA,UAAI,CAACrxE,KAAL,EAAY,MAAM,IAAIlM,KAAJ,CAAW,yBAAwB8K,MAAM,CAACyyE,OAAD,CAAU,EAAnD,CAAN;AACZ,aAAQ,MAAKrxE,KAAK,CAAC,CAAD,CAAI,EAAtB;AACA;AACD;;AAnBC,CA/CE,EAmEF;AACFpF,SAAO,EAAE,CAAC,UAAD,EAAa,WAAb,CADP;;AAEFihB,QAAM,CAAC6rJ,SAAD,EAAY/B,YAAZ,EAA0B;AAC/B,WAAOA,YAAP;AACA;;AAJC,CAnEE,EAwEF;AACF/qK,SAAO,EAAE,CAAC,KAAD,CADP;;AAEFihB,QAAM,GAAG;AACR,UAAMmlB,IAAI,GAAG,IAAI5kC,IAAJ,EAAb;AACA,WAAO4kC,IAAI,CAACsnI,YAAL,EAAP;AACA;;AALC,CAxEE,EA8EF;AACF1tK,SAAO,EAAE,CAAC,OAAD,CADP;;AAEFihB,QAAM,GAAG;AACR,UAAMmlB,IAAI,GAAG,IAAI5kC,IAAJ,EAAb;AACA,WAAO4kC,IAAI,CAACunI,YAAL,EAAP;AACA;;AALC,CA9EE,EAoFF;AACF3tK,SAAO,EAAE,CAAC,WAAD,CADP;;AAEFihB,QAAM,GAAG;AACR,QAAIg1D,UAAU,CAAC,UAAD,CAAd,EAA4B;AAC3B,aAAOj9E,QAAQ,CAAC24E,aAAT,CAAuB,iBAAvB,EAA0C/mE,WAAjD;AACA;AACD;;AANC,CApFE,EA2FF;AACF5K,SAAO,EAAE,CAAC,SAAD,CADP;;AAEFihB,QAAM,CAAC6rJ,SAAD,EAAY/B,YAAZ,EAA0B;AAC/B,WAAOA,YAAY,CACjBjsK,OADK,CACG,sBADH,EAC2B,MAD3B,EAGLA,OAHK,CAGG,gBAHH,EAGqB,OAHrB,CAAP;AAIA;;AAPC,CA3FE,EAmGF;AACFkB,SAAO,EAAE,CAAC,qBAAD,CADP;;AAEFihB,QAAM,GAAG;AAAE,WAAOytG,eAAA,EAAP;AAAmC;;AAF5C,CAnGE,EAsGF;AACF1uH,SAAO,EAAE,CAAC,gBAAD,CADP;;AAEFihB,QAAM,GAAG;AAAE,WAAO2sJ,WAAA,EAAP;AAAmC;;AAF5C,CAtGE,CAHN;;AA+GA,SAASR,yBAAT,CAAmCpoI,WAAnC,EAAgD8nI,SAAhD,EAA2D;AAK1D,SAAO1rD,MAAM,CAHI,GAAE0rD,SAAU,+BAA8B9nI,WAAY,GAG1D,EAFCA,WAED,CAAb;AACA;;AAED,SAAS2lI,aAAT,CAAuBl+I,GAAvB,EAA4BwB,MAA5B,EAAoCC,MAApC,EAA4C2/I,cAA5C,EAA4D;AAC3D,MAAI,CAACphJ,GAAL,EAAU;AACT;AACA;;AAED,QAAMuC,SAAS,GAAGvC,GAAG,CAACuC,SAAtB;AAGA,QAAMg8I,cAAc,GAAGv+I,GAAG,CAACu+I,cAA3B;AACA,QAAMC,YAAY,GAAGx+I,GAAG,CAACw+I,YAAzB;AAEA,QAAM3vK,IAAI,GAAGmxB,GAAG,CAACvsB,KAAjB;AACA,QAAM4tK,eAAe,GAAGxyK,IAAI,CAACmgG,SAAL,CAAe,CAAf,EAAkBuvE,cAAlB,CAAxB;AACA,MAAID,YAAY,GAAGzvK,IAAI,CAACmgG,SAAL,CAAeuvE,cAAf,EAA+BC,YAA/B,CAAnB;AACA,QAAM8C,cAAc,GAAGzyK,IAAI,CAACmgG,SAAL,CAAewvE,YAAf,CAAvB;AAGA,MAAI+C,aAAa,GAAG,EAApB;AACA,MAAIC,MAAM,GAAGlD,YAAY,CAACvuK,MAAb,GAAsB,CAAnC;;AACA,SAAOyxK,MAAM,GAAG,CAAT,IAAclD,YAAY,CAACkD,MAAD,CAAZ,KAAyB,GAA9C,EAAmD;AAClDD,iBAAa,IAAI,GAAjB;AACAC,UAAM;AACN;;AACDlD,cAAY,GAAGA,YAAY,CAACtvE,SAAb,CAAuB,CAAvB,EAA0BwyE,MAAM,GAAG,CAAnC,CAAf;;AAEA,MAAI,OAAOJ,cAAP,KAA0B,UAA9B,EAA0C;AACzC9C,gBAAY,GAAG8C,cAAc,CAAC9C,YAAD,CAA7B;AACA;;AAEDt+I,KAAG,CAACvsB,KAAJ,GAAY4tK,eAAe,GAAG7/I,MAAlB,GAA2B88I,YAA3B,GAA0C78I,MAA1C,GAAmD8/I,aAAnD,GAAmED,cAA/E;AAEAthJ,KAAG,CAACw+I,YAAJ,GAAmB6C,eAAe,CAACtxK,MAAhB,GAAyByxB,MAAM,CAACzxB,MAAhC,GAAyCuuK,YAAY,CAACvuK,MAAzE;;AACA,MAAIwuK,cAAc,KAAKC,YAAvB,EAAqC;AACpCx+I,OAAG,CAACu+I,cAAJ,GAAqBv+I,GAAG,CAACw+I,YAAzB;AACA,GAFD,MAEO;AACNx+I,OAAG,CAACu+I,cAAJ,GAAqB8C,eAAe,CAACtxK,MAAhB,GAAyByxB,MAAM,CAACzxB,MAArD;AACA;;AAEDiwB,KAAG,CAACuC,SAAJ,GAAgBA,SAAhB;AACA;;AAED,SAASw8I,gBAAT,CAA0B/+I,GAA1B,EAA+ByhJ,WAA/B,EAA4C;AAC3C,MAAI,CAACzhJ,GAAL,EAAU;AACT;AACA;;AAED,QAAMuC,SAAS,GAAGvC,GAAG,CAACuC,SAAtB;AAGA,QAAMg8I,cAAc,GAAGv+I,GAAG,CAACu+I,cAA3B;AACA,QAAMC,YAAY,GAAGx+I,GAAG,CAACw+I,YAAzB;AAEA,QAAM3vK,IAAI,GAAGmxB,GAAG,CAACvsB,KAAjB;AACA,QAAM4tK,eAAe,GAAGxyK,IAAI,CAACmgG,SAAL,CAAe,CAAf,EAAkBuvE,cAAlB,CAAxB;AACA,QAAM+C,cAAc,GAAGzyK,IAAI,CAACmgG,SAAL,CAAewvE,YAAf,CAAvB;AAGAx+I,KAAG,CAACvsB,KAAJ,GAAY4tK,eAAe,GAAGI,WAAlB,GAAgCH,cAA5C;AAEAthJ,KAAG,CAACw+I,YAAJ,GAAmB6C,eAAe,CAACtxK,MAAhB,GAAyB0xK,WAAW,CAAC1xK,MAAxD;AAEAiwB,KAAG,CAACuC,SAAJ,GAAgBA,SAAhB;AACA;;AAED,SAAS87I,iBAAT,CAA2Br+I,GAA3B,EAAgCwB,MAAhC,EAAwCC,MAAxC,EAAgD;AAC/C,QAAMc,SAAS,GAAGvC,GAAG,CAACuC,SAAtB;AACA,MAAIg8I,cAAc,GAAGv+I,GAAG,CAACu+I,cAAzB;AACA,MAAIC,YAAY,GAAGx+I,GAAG,CAACw+I,YAAvB;AAEA,QAAM3vK,IAAI,GAAGmxB,GAAG,CAACvsB,KAAjB;AACA,MAAIiuK,aAAa,GAAG,CAApB;AACA,QAAM3iD,KAAK,GAAGlwH,IAAI,CAACgF,KAAL,CAAW,IAAX,CAAd;;AACA,OAAK,MAAMpF,CAAX,IAAgBklF,KAAK,CAAC,CAAD,EAAIorC,KAAK,CAAChvH,MAAV,CAArB,EAAwC;AACvC,QAAI4xK,SAAS,GAAGD,aAAhB;AACA,QAAIE,OAAO,GAAGD,SAAS,GAAG5iD,KAAK,CAACtwH,CAAD,CAAL,CAASsB,MAAnC;;AAEA,QAAIwuK,cAAc,IAAIoD,SAAlB,IAA+BA,SAAS,IAAInD,YAA5C,IAA4DD,cAAc,IAAIqD,OAAlB,IAA6BA,OAAO,IAAIpD,YAApG,IAEFmD,SAAS,IAAIpD,cAAb,IAA+BA,cAAc,IAAIqD,OAF/C,IAE0DD,SAAS,IAAInD,YAAb,IAA6BA,YAAY,IAAIoD,OAF3G,EAEoH;AACnH7iD,WAAK,CAACtwH,CAAD,CAAL,GAAW+yB,MAAM,GAAGu9F,KAAK,CAACtwH,CAAD,CAAd,GAAoBgzB,MAA/B;AAEA,UAAIogJ,aAAa,GAAG,CAApB;AACA,UAAIC,WAAW,GAAG,CAAlB;;AACA,UAAIH,SAAS,GAAGpD,cAAhB,EAAgC;AAC/BsD,qBAAa,IAAIrgJ,MAAM,CAACzxB,MAAxB;AACA;;AACD,UAAI6xK,OAAO,GAAGrD,cAAd,EAA8B;AAC7BsD,qBAAa,IAAIpgJ,MAAM,CAAC1xB,MAAxB;AACA;;AACD,UAAI4xK,SAAS,GAAGnD,YAAhB,EAA8B;AAC7BsD,mBAAW,IAAItgJ,MAAM,CAACzxB,MAAtB;AACA;;AACD,UAAI6xK,OAAO,GAAGpD,YAAd,EAA4B;AAC3BsD,mBAAW,IAAIrgJ,MAAM,CAAC1xB,MAAtB;AACA;;AAEDwuK,oBAAc,IAAIsD,aAAlB;AACArD,kBAAY,IAAIsD,WAAhB;AACAH,eAAS,IAAIngJ,MAAM,CAACzxB,MAApB;AACA6xK,aAAO,IAAIpgJ,MAAM,CAACzxB,MAAP,GAAgB0xB,MAAM,CAAC1xB,MAAlC;AACA;;AAED2xK,iBAAa,GAAGE,OAAO,GAAG,CAA1B;AACA;;AAED5hJ,KAAG,CAACvsB,KAAJ,GAAYsrH,KAAK,CAACvlH,IAAN,CAAW,IAAX,CAAZ;AACAwmB,KAAG,CAACu+I,cAAJ,GAAqBA,cAArB;AACAv+I,KAAG,CAACw+I,YAAJ,GAAmBA,YAAnB;AACAx+I,KAAG,CAACuC,SAAJ,GAAgBA,SAAhB;AACA;;AAED,SAAS47I,iBAAT,CAA2Bn+I,GAA3B,EAAgCwB,MAAhC,EAAwC;AACvC,QAAMe,SAAS,GAAGvC,GAAG,CAACuC,SAAtB;AACA,MAAIg8I,cAAc,GAAGv+I,GAAG,CAACu+I,cAAzB;AACA,QAAMC,YAAY,GAAGx+I,GAAG,CAACw+I,YAAzB;AAEA,QAAM3vK,IAAI,GAAGmxB,GAAG,CAACvsB,KAAjB;AACA,QAAM4tK,eAAe,GAAGxyK,IAAI,CAACmgG,SAAL,CAAe,CAAf,EAAkBuvE,cAAlB,CAAxB;AACA,QAAMwD,aAAa,GAAGlzK,IAAI,CAACmgG,SAAL,CAAeuvE,cAAf,EAA+BC,YAA/B,EAA6C3qK,KAA7C,CAAmD,GAAnD,CAAtB;AACA,QAAMytK,cAAc,GAAGzyK,IAAI,CAACmgG,SAAL,CAAewvE,YAAf,CAAvB;AAEA,MAAIwD,eAAe,GAAG,CAAtB;;AAEA,OAAK,MAAMvzK,CAAX,IAAgBklF,KAAK,CAAC,CAAD,EAAIouF,aAAa,CAAChyK,MAAlB,CAArB,EAAgD;AAC/C,QAAIgyK,aAAa,CAACtzK,CAAD,CAAb,KAAqB,EAAzB,EAA6B;AAC5B,UAAIszK,aAAa,CAACtzK,CAAD,CAAb,CAAiBw/C,QAAjB,CAA0B,IAA1B,CAAJ,EAAqC;AACpC,cAAMg0H,eAAe,GAAGF,aAAa,CAACtzK,CAAD,CAAb,CAAiByzK,WAAjB,CAA6B,IAA7B,IAAqC,CAA7D;AACAH,qBAAa,CAACtzK,CAAD,CAAb,GAAmBszK,aAAa,CAACtzK,CAAD,CAAb,CAAiBugG,SAAjB,CAA2B,CAA3B,EAA8BizE,eAA9B,IAAiDzgJ,MAAjD,GAA0DugJ,aAAa,CAACtzK,CAAD,CAAb,CAAiBugG,SAAjB,CAA2BizE,eAA3B,CAA7E;AACAD,uBAAe,IAAIxgJ,MAAM,CAACzxB,MAA1B;AACA;;AACD,UAAIgyK,aAAa,CAACtzK,CAAD,CAAb,CAAiBsmD,MAAjB,CAAwB,CAAxB,MAA+B,IAAnC,EAAyC;AACxCgtH,qBAAa,CAACtzK,CAAD,CAAb,GAAmB+yB,MAAM,GAAGugJ,aAAa,CAACtzK,CAAD,CAAzC;AACA;;AACDuzK,qBAAe,IAAIxgJ,MAAM,CAACzxB,MAA1B;AACA,KAVD,MAUO,IAAIgyK,aAAa,CAACtzK,CAAD,CAAb,KAAqB,EAArB,IAA2BszK,aAAa,CAAChyK,MAAd,KAAyB,CAAxD,EAA2D;AAEjEgyK,mBAAa,CAACtzK,CAAD,CAAb,GAAmB+yB,MAAM,GAAGugJ,aAAa,CAACtzK,CAAD,CAAzC;AACAuzK,qBAAe,IAAIxgJ,MAAM,CAACzxB,MAA1B;AACAwuK,oBAAc,IAAI/8I,MAAM,CAACzxB,MAAzB;AACA;AACD;;AAEDiwB,KAAG,CAACvsB,KAAJ,GAAY4tK,eAAe,GAAGU,aAAa,CAACvoK,IAAd,CAAmB,GAAnB,CAAlB,GAA4C8nK,cAAxD;AACAthJ,KAAG,CAACu+I,cAAJ,GAAqBA,cAArB;AACAv+I,KAAG,CAACw+I,YAAJ,GAAmBA,YAAY,GAAGwD,eAAlC;AACAhiJ,KAAG,CAACuC,SAAJ,GAAgBA,SAAhB;AACA;;AAUD,MAAM4/I,uBAAuB,GAAG,mDAAhC;;AAEA,SAAStF,sBAAT,GAAkC;AACjC,MACC,CAACxwK,mBAAM,CAACkF,OAAP,CAAeipK,qBAAf,CAAqC/mK,KAAtC,IACA,CAACpH,mBAAM,CAACkF,OAAP,CAAegpK,gBAAf,CAAgC9mK,KADjC,IAEA,CAACpH,mBAAM,CAACkF,OAAP,CAAekpK,gBAAf,CAAgChnK,KAHlC,EAIE;AAEFoiC,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6B,iEAA7B,EAAgG,mBAAW,MAAMnb,CAAN,IAAW;AACrH,UAAMsgK,QAA6B,GAAItgK,CAAC,CAACmd,aAAzC;AACA,UAAM2sJ,UAAU,GAAGxJ,QAAQ,CAACnlK,KAAT,CAAezG,KAAf,CAAqB,CAArB,EAAwB4rK,QAAQ,CAAC2F,cAAjC,CAAnB;AACA,UAAM,IAAI9zF,SAAJ,EAAe,CAACx8E,IAAD,IAAS,EAAxB,EAA4BsjF,KAA5B,IAAqC4wF,uBAAuB,CAACnpK,IAAxB,CAA6BopK,UAA7B,KAA4C,EAAvF;AACA,UAAMC,WAAW,GAAG9wF,KAAK,KACxBtjF,IAAI,KAAK,GAAT,IAAgB5B,mBAAM,CAACkF,OAAP,CAAegpK,gBAAf,CAAgC9mK,KAAhD,KAAyD,MAAM6uK,kBAAkB,CAAC/wF,KAAD,CAAjF,KACCtjF,IAAI,KAAK,GAAT,IAAgB5B,mBAAM,CAACkF,OAAP,CAAeipK,qBAAf,CAAqC/mK,KAArD,KAA8D,MAAM8uK,uBAAuB,CAAChxF,KAAD,CAA3F,CADD,IAECtjF,IAAI,KAAK,GAAT,IAAgB5B,mBAAM,CAACkF,OAAP,CAAekpK,gBAAf,CAAgChnK,KAAhD,KAAyD,MAAM+uK,kBAAkB,CAACjxF,KAAD,EAAQ9G,SAAS,IAAIqB,gBAAgB,EAA7B,IAAmC,EAA3C,CAAjF,CAHuB,CAAL,IAIf,EAJL;AAKA22F,gBAAY,CAAC7J,QAAD,CAAZ,CAAuByJ,WAAvB;AACA,GAV+F,EAU7F,GAV6F,CAAhG;AAWA;;AAED,MAAMI,YAAY,GAAG,kBAAU7J,QAAQ,IAAI;AAC1C,QAAMr3H,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK,oEAA5B;AACA,MAAIygD,OAAO,GAAG,EAAd;AACA,MAAIp1D,KAAK,GAAG,CAAZ;AAEAm7B,SAAO,CAAC3lC,gBAAR,CAAyB,OAAzB,EAAmCtD,CAAD,IAAmB;AACpD,UAAMzJ,IAAI,GAAG,CAACyJ,CAAC,CAAC1G,MAAF,CAASuU,OAAT,CAAiB,SAAjB,KAA+B7N,CAAC,CAAC1G,MAAlC,EAA0CuM,WAAvD;AACA,UAAMukK,QAAQ,GAAG9J,QAAQ,CAAC2F,cAA1B;AACA,QAAIn9I,IAAI,GAAGw3I,QAAQ,CAACnlK,KAAT,CAAe0pC,MAAf,CAAsB,CAAtB,EAAyBulI,QAAzB,CAAX;AACA,UAAMvlJ,KAAK,GAAGy7I,QAAQ,CAACnlK,KAAT,CAAe0pC,MAAf,CAAsBulI,QAAtB,CAAd;AACAthJ,QAAI,GAAGA,IAAI,CAAC/uB,OAAL,CAAa8vK,uBAAb,EAAuC,KAAItzK,IAAK,GAAhD,CAAP;AACA+pK,YAAQ,CAACnlK,KAAT,GAAiB2tB,IAAI,GAAGjE,KAAxB;AACAy7I,YAAQ,CAAC2F,cAAT,GAA0B3F,QAAQ,CAAC4F,YAAT,GAAwBp9I,IAAI,CAACrxB,MAAvD;AACA6oK,YAAQ,CAACv/I,KAAT;AAEAu/I,YAAQ,CAAC9yF,aAAT,CAAuB,IAAI1vD,KAAJ,CAAU,OAAV,EAAmB;AAAEuB,aAAO,EAAE,IAAX;AAAiBC,gBAAU,EAAE;AAA7B,KAAnB,CAAvB;AACA,GAXD;;AAaA,QAAM+qJ,eAAe,GAAG,MAAM;AAC7B,SAAK,MAAMjnG,KAAX,IAAoBF,OAApB,EAA6BE,KAAK,CAACqR,SAAN,CAAgBhlE,MAAhB,CAAuB,cAAvB;;AAC7ByzD,WAAO,CAACp1D,KAAK,GAAGo1D,OAAO,CAACzrE,MAAjB,CAAP,CAAgCg9E,SAAhC,CAA0CzmE,GAA1C,CAA8C,cAA9C;AACA,GAHD;;AAKA,QAAMyB,MAAM,GAAG,MAAM;AACpBw5B,WAAO,CAACx5B,MAAR;AACA6wJ,YAAQ,CAAC3sJ,mBAAT,CAA6B,SAA7B,EAAwC22J,QAAxC;AACAhK,YAAQ,CAAC3sJ,mBAAT,CAA6B,MAA7B,EAAqClE,MAArC;AACA,GAJD;;AAMA,QAAM66J,QAAQ,GAAItqK,CAAD,IAAsB;AAEtC,QAAIA,CAAC,CAAC2f,OAAF,IAAa3f,CAAC,CAAC8f,QAAf,IAA2B9f,CAAC,CAACwf,OAA7B,IAAwCxf,CAAC,CAACof,MAA9C,EAAsD;AACtD,QAAI,CAACnrB,QAAQ,CAACuI,QAAT,CAAkBysC,OAAlB,CAAL,EAAiC;;AACjC,YAAQjpC,CAAC,CAACyB,GAAV;AACC,WAAKitF,UAAU,CAACa,IAAhB;AACA,WAAKb,UAAU,CAACY,KAAhB;AACCtvF,SAAC,CAACsd,cAAF;AACAxP,aAAK;AACLu8J,uBAAe;AACf;;AACD,WAAK37E,UAAU,CAACW,EAAhB;AACA,WAAKX,UAAU,CAACU,IAAhB;AACCpvF,SAAC,CAACsd,cAAF;AACAxP,aAAK;AACLu8J,uBAAe;AACf;;AACD,WAAK37E,UAAU,CAACE,GAAhB;AACA,WAAKF,UAAU,CAACG,KAAhB;AACC7uF,SAAC,CAACsd,cAAF;AACA4lD,eAAO,CAACp1D,KAAK,GAAGo1D,OAAO,CAACzrE,MAAjB,CAAP,CAAgC2mB,KAAhC;AACA;;AACD,WAAKswE,UAAU,CAACI,MAAhB;AACC9uF,SAAC,CAACsd,cAAF;AACAtd,SAAC,CAAC4e,wBAAF;AACAnP,cAAM;AACN;;AACD;AACC;AAxBF;AA0BA,GA9BD;;AAiCA,SAAOxU,OAAO,IAAI;AACjB,QAAI,CAACA,OAAO,CAACxD,MAAT,IAAmBxD,QAAQ,CAACkU,aAAT,KAA2Bm4J,QAAlD,EAA4D;AAC3D7wJ,YAAM;AACN;AACA;;AAEDC,SAAK,CAACu5B,OAAD,CAAL;AACAi6B,WAAO,GAAGjoE,OAAO,CAACvG,KAAR,CAAc,CAAd,EAAiB,EAAjB,EAAqB0D,GAArB,CAAyB7B,IAAI,IAAIme,sBAAM,CAAC+N,IAAK,qBAAoBlsB,IAAK,MAAtE,CAAV;AACA0yC,WAAO,CAAC9lB,MAAR,CAAe,GAAG+/C,OAAlB;AAEAp1D,SAAK,GAAG,CAAR;AACAu8J,mBAAe;;AAEf,QAAI,CAACp2K,QAAQ,CAACuI,QAAT,CAAkBysC,OAAlB,CAAL,EAAiC;AAChC,YAAMshI,cAAc,GAAGhtI,gBAAC,CAAC+iI,QAAD,CAAD,CAAYplI,MAAZ,EAAvB;AACAqvI,oBAAc,CAACzhJ,IAAf,IAAuByU,gBAAC,CAAC+iI,QAAD,CAAD,CAAYt7I,KAAZ,EAAvB;AACAuY,sBAAC,CAAC0L,OAAD,CAAD,CAAW9xB,GAAX,CAAeozJ,cAAf;AACAt2K,cAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqB8lB,OAArB;AAEAq3H,cAAQ,CAACh9J,gBAAT,CAA0B,SAA1B,EAAqCgnK,QAArC;AACAhK,cAAQ,CAACh9J,gBAAT,CAA0B,MAA1B,EAAkC,MAAM;AAGvCiP,kBAAU,CAAC,MAAM;AAAE,cAAIte,QAAQ,CAACkU,aAAT,KAA2Bm4J,QAA/B,EAAyC7wJ,MAAM;AAAK,SAA7D,EAA+D,GAA/D,CAAV;AACA,OAJD;AAKA;AACD,GA1BD;AA2BA,CAzFoB,CAArB;;AA2FA,eAAew6J,uBAAf,CAAuChxF,KAAvC,EAA8C;AAC7C,QAAM;AAAE16B;AAAF,MAAa,MAAMnoB,IAAI,CAAC;AAC7B9lB,UAAM,EAAE,MADqB;AAE7BklB,OAAG,EAAE,+BAFwB;AAG7ByjD,SAAK,EAAE;AAAEA;AAAF,KAHsB;AAI7B/jE,QAAI,EAAE;AAAE+jE;AAAF,KAJuB;AAK7BtjF,QAAI,EAAE,MALuB;AAM7BkhF,YAAQ,EAAE5L,GAAGA;AANgB,GAAD,CAA7B;AASA,SAAO1sB,KAAK,CAACnmD,GAAN,CAAUc,IAAI,IAAK,MAAKA,IAAK,EAA7B,CAAP;AACA;;AAED,MAAMsxK,WAAW,GAAG,sBAAO,MAAMhQ,cAAA,CAAenC,SAAf,EAAb,CAApB;;AACA,eAAe2R,kBAAf,CAAkC/wF,KAAlC,EAAyC;AACxC,QAAMuxF,WAAW,EAAjB;AAEA,SAAO/wK,KAAK,CAACwsE,IAAN,CAAWu0F,IAAA,CAAgBliJ,MAAhB,EAAX,EACL1U,MADK,CACE,CAAC;AAAEhD;AAAF,GAAD,KAAYA,EAAE,CAACpF,WAAH,GAAiB+4E,UAAjB,CAA4B0E,KAAK,CAACz9E,WAAN,EAA5B,CADd,EAELoI,MAFK,CAEE,CAAC;AAAErN,QAAF;AAAQ+hK,WAAR;AAAiB9wC;AAAjB,GAAD,KAAkCjxH,IAAI,IAAI+hK,OAAR,IAAmB9wC,SAAS,CAAC/vH,MAFjE,EAILqB,IAJK,CAIA,CAACqE,CAAD,EAAIC,CAAJ,KAAUykC,MAAM,CAACzkC,CAAC,CAACoqH,SAAF,CAAY/vH,MAAZ,GAAqB0F,CAAC,CAACqqH,SAAF,CAAY/vH,MAAlC,CAAN,IAAmD0F,CAAC,CAACyD,EAAF,CAAK66F,aAAL,CAAmBr+F,CAAC,CAACwD,EAArB,CAJ7D,EAKLxI,GALK,CAKD,CAAC;AAAEwI;AAAF,GAAD,KAAa,MAAKA,EAAG,EALpB,CAAP;AAMA;;AAED,eAAespK,kBAAf,CAAkCjxF,KAAlC,EAAyC9G,SAAzC,EAA4D;AAC3D,QAAM;AAAEj9D,QAAI,EAAEu1J;AAAR,MAAuB,MAAMr0I,IAAI,CAAC;AACvC9lB,UAAM,EAAE,KAD+B;AAEvCklB,OAAG,EAAG,MAAK28C,SAAU,kBAFkB;AAGvCx8E,QAAI,EAAE,MAHiC;AAIvCkhF,YAAQ,EAAE5L,GAAGA;AAJ0B,GAAD,CAAvC;AAOA,SAAOw/F,SAAS,CACd7mK,MADK,CACE8mK,QAAQ,IAAIA,QAAQ,CAAClvK,WAAT,GAAuB+4E,UAAvB,CAAkC0E,KAAK,CAACz9E,WAAN,EAAlC,CADd,EAELpD,GAFK,CAEDsyK,QAAQ,IAAK,MAAKv4F,SAAU,SAAQu4F,QAAS,EAF5C,CAAP;AAGA;;AAED,SAAS5F,sBAAT,CAAgCzsK,IAAhC,EAAkE;AACjE,QAAMioK,QAAQ,GAAG/iI,gBAAC,CAACllC,IAAD,CAAD,CACfwV,OADe,CACP,yDADO,EAEf/J,IAFe,CAEV,UAFU,EAGfF,MAHe,CAGR,qHAHQ,EAIfjM,GAJe,CAIX,CAJW,CAAjB;AAMA,SAAQ2oK,QAAR;AACA;;AAEM,SAASkE,WAAT,CAAqBvtK,QAArB,EAAuCkB,QAAvC,EAA6F;AACnGolC,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,SAApB,EAA+BlkB,QAA/B,EAA0C+I,CAAD,IAAsB;AAC9D,QAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACG,KAArB,KAA+B7uF,CAAC,CAACwf,OAAF,IAAaxf,CAAC,CAAC2f,OAA9C,CAAJ,EAA4D;AAC3D3f,OAAC,CAACsd,cAAF;AACAnlB,cAAQ,CAAC6H,CAAD,CAAR;AACA;AACD,GALD;AAMA,C;;;ACvsCD;AAEA;AACA;AACA;AAEO,MAAMjM,oBAAiB,GAAG,IAAIirH,MAAJ,CAAW,eAAX,CAA1B;AAEPjrH,oBAAM,CAACkrH,UAAP,GAAoB,mBAApB;AACAlrH,oBAAM,CAACmrH,QAAP,GAAkB,mBAAlB;AACAnrH,oBAAM,CAAC4rH,iBAAP,GAA2B,IAA3B;AACA5rH,oBAAM,CAAC4jG,WAAP,GAAqB,mBAArB;AAEA5jG,oBAAM,CAACkF,OAAP,GAAiB;AAChB81H,aAAW,EAAE;AACZ1nC,SAAK,EAAE,+BADK;AAEZ1xF,QAAI,EAAE,MAFM;AAGZwF,SAAK,EAAE,aAHK;AAIZw8F,eAAW,EAAE;AAJD,GADG;AAOhBgzE,uBAAqB,EAAE;AACtBtjF,SAAK,EAAE,yCADe;AAEtB1xF,QAAI,EAAE,OAFgB;AAGtBs6H,cAAU,EAAE,cAHU;AAItB/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,UADG;AAERvI,UAAI,EAAE,UAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,aADH;AAEFvI,UAAI,EAAE,aAFJ;AAGFvD,UAAI,EAAE;AAHJ,KAJK,CAJc;AAatBwF,SAAK,EAAG,EAbc;AActBw8F,eAAW,EAAE;AAdS,GAPP;AAuBhBizE,kBAAgB,EAAE;AACjBvjF,SAAK,EAAE,oCADU;AAEjB2mC,YAAQ,EAAE,IAFO;AAGjBr4H,QAAI,EAAE,SAHW;AAIjBwF,SAAK,EAAE,IAJU;AAKjBw8F,eAAW,EAAE;AALI,GAvBF;AA8BhBkzE,8BAA4B,EAAE;AAC7BxjF,SAAK,EAAE,gDADsB;AAE7B2mC,YAAQ,EAAE,IAFmB;AAG7Br4H,QAAI,EAAE,SAHuB;AAI7BwF,SAAK,EAAE,IAJsB;AAK7Bw8F,eAAW,EAAE;AALgB,GA9Bd;AAqChBmzE,qBAAmB,EAAE;AACpBzjF,SAAK,EAAE,uCADa;AAEpB1xF,QAAI,EAAE,SAFc;AAGpBwF,SAAK,EAAE,KAHa;AAIpBw8F,eAAW,EAAE;AAJO;AArCL,CAAjB;;AA6CA,MAAMozE,WAAW,GAAG,sBAAO,MAAM,IAAIxzF,GAAJ,CAAQ,CACxC,CAAC,CAAC3B,YAAY,MAAM,EAAnB,EAAuBp6E,WAAvB,EAAD,EAAuCzH,oBAAM,CAACkF,OAAP,CAAe81H,WAAf,CAA2B5zH,KAAlE,CADwC,EAExC,GAAGpH,oBAAM,CAACkF,OAAP,CAAe0xK,qBAAf,CAAqCxvK,KAArC,CAA2C/C,GAA3C,CAA+C,CAAC,CAACihC,QAAD,EAAW2xI,UAAX,CAAD,KAA4B,CAAC3xI,QAAQ,CAAC79B,WAAT,EAAD,EAAyBwvK,UAAzB,CAA3E,CAFqC,CAAR,CAAb,CAApB;;AAKO,MAAMC,cAAc,GAAG,CAAC5xI,QAAD,EAAmB02D,GAAW,GAAG12D,QAAjC,KAAsD0xI,WAAW,GAAGpzK,GAAd,CAAkB0hC,QAAQ,CAAC79B,WAAT,EAAlB,KAA6Cu0F,GAA1H;;AAEPh8F,oBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,OAAK,MAAM39C,QAAX,IAAuB,IAAIk0C,GAAJ,CAAQ,CAC9BqI,YAAY,EADkB,EAE9B,IAAI7hF,oBAAM,CAACkF,OAAP,CAAe2xK,gBAAf,CAAgCzvK,KAAhC,GAAwCpH,oBAAM,CAACkF,OAAP,CAAe0xK,qBAAf,CAAqCxvK,KAArC,CAA2C/C,GAA3C,CAA+C,CAAC,CAACihC,QAAD,CAAD,KAAgBA,QAA/D,CAAxC,GAAmH,EAAvH,CAF8B,EAG9B,IAAItlC,oBAAM,CAACkF,OAAP,CAAe4xK,4BAAf,CAA4C1vK,KAA5C,GAAoDsqK,sBAAA,CAAuBxsK,OAAvB,CAA+BulK,QAA/B,CAAwCrjK,KAAxC,CAA8C/C,GAA9C,CAAkD,CAAC,CAACihC,QAAD,CAAD,KAAgBA,QAAlE,CAApD,GAAkI,EAAtI,CAH8B,EAI7Bz1B,MAJ6B,CAItB8wF,OAJsB,CAAR,EAIJp8E,MAJI,EAAvB,EAI6B;AAC5B4yJ,gBAAY,CAAC7xI,QAAD,EAAW4xI,cAAc,CAAC5xI,QAAD,EAAWtlC,oBAAM,CAACkF,OAAP,CAAe81H,WAAf,CAA2B5zH,KAAtC,CAAzB,CAAZ;AACA;AACD,CARD;;AAUA,SAAS+vK,YAAT,CAAsBr1E,IAAtB,EAA4Bk5B,WAA5B,EAAyC;AACxC,MAAI,CAACA,WAAD,IAAgBl5B,IAAI,KAAKk5B,WAA7B,EAA0C;AAE1C,QAAMo8C,QAAQ,GAAI,iBAAgBt1E,IAAK,IAAvC;AAGAtlB,QAAM,CAAE;iBACQ46F,QAAS;qBACLA,QAAS;+BACCA,QAAS;uBACjBA,QAAS;YACpBA,QAAS;aACRA,QAAS;;;;;iBAKLA,QAAS;qBACLA,QAAS;+BACCA,QAAS;uBACjBA,QAAS;YACpBA,QAAS;aACRA,QAAS;eACPp8C,WAAY;;;;;;;;YAQfo8C,QAAS;;;;uBAIEA,QAAS;;;EA7BzB,CAAN;;AAmCA,MAAIp3K,oBAAM,CAACkF,OAAP,CAAe6xK,mBAAf,CAAmC3vK,KAAvC,EAA8C;AAC7Co1E,UAAM,CAAE;kBACQ46F,QAAS;sBACLA,QAAS;gCACCA,QAAS;wBACjBA,QAAS;aACpBA,QAAS;cACRA,QAAS;;;;;kBAKLA,QAAS;sBACLA,QAAS;gCACCA,QAAS;wBACjBA,QAAS;aACpBA,QAAS;cACRA,QAAS;;;GAhBf,CAAN;AAoBA;;AAED,QAAMC,SAA6B,GAAIn3K,QAAQ,CAAC24E,aAAT,CAAuB,uBAAvB,CAAvC;;AACA,MAAIw+F,SAAJ,EAAe;AACd,UAAMC,iBAAiB,GAAGD,SAAS,CAACh4F,QAAV,CAAmB/yE,KAAnB,CAAyBgxE,OAAO,CAACK,OAAjC,CAA1B;;AACA,QAAI25F,iBAAiB,IAAIA,iBAAiB,CAAC,CAAD,CAAjB,CAAqB7vK,WAArB,OAAuCq6F,IAAI,CAACr6F,WAAL,EAAhE,EAAoF;AACnF4vK,eAAS,CAACvlK,WAAV,GAAwBulK,SAAS,CAACvlK,WAAV,CAAsB9L,OAAtB,CAA8B87F,IAA9B,EAAoCk5B,WAApC,CAAxB;;AAGA,UAAIh7H,oBAAM,CAACkF,OAAP,CAAe6xK,mBAAf,CAAmC3vK,KAAvC,EAA8C;AAC7CoiC,wBAAC,CAAC6tI,SAAD,CAAD,CACEjwJ,EADF,CACK,YADL,EACmB,YAAW;AAC5B,eAAKtV,WAAL,GAAmB,KAAKA,WAAL,CAAiB9L,OAAjB,CAAyBg1H,WAAzB,EAAsCl5B,IAAtC,CAAnB;AACA,SAHF,EAIE16E,EAJF,CAIK,YAJL,EAImB,YAAW;AAC5B,eAAKtV,WAAL,GAAmB,KAAKA,WAAL,CAAiB9L,OAAjB,CAAyB87F,IAAzB,EAA+Bk5B,WAA/B,CAAnB;AACA,SANF;AAOA;AACD;AACD;AACD,C;;;AC7JD;AAEA;AACA;AAWA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEO,MAAMh7H,mBAAiB,GAAG,IAAIirH,MAAJ,CAAW,cAAX,CAA1B;AAEPjrH,mBAAM,CAACkrH,UAAP,GAAoB,kBAApB;AACAlrH,mBAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,mBAAM,CAAC4jG,WAAP,GAAqB,kBAArB;AACA5jG,mBAAM,CAACkF,OAAP,GAAiB;AAChBqyK,kBAAgB,EAAE;AACjBjkF,SAAK,EAAE,mCADU;AAEjB1xF,QAAI,EAAE,SAFW;AAGjBwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,CAHU;AAIjBw8F,eAAW,EAAE;AAJI,GADF;AAOhB4zE,gBAAc,EAAE;AACflkF,SAAK,EAAE,iCADQ;AAEf1xF,QAAI,EAAE,MAFS;AAGfwF,SAAK,EAAE,EAHQ;AAIfw8F,eAAW,EAAE;AAJE,GAPA;AAahB6zE,QAAM,EAAE;AACPnkF,SAAK,EAAE,yBADA;AAEP1xF,QAAI,EAAE,MAFC;AAGP2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,cADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,mBADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,eADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,gCADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,CAHD;AAgBPA,SAAK,EAAE,MAhBA;AAiBPw8F,eAAW,EAAE;AAjBN,GAbQ;AAgChB8zE,oBAAkB,EAAE;AACnBpkF,SAAK,EAAE,qCADY;AAEnB1xF,QAAI,EAAE,SAFa;AAGnBwF,SAAK,EAAE,IAHY;AAInBw8F,eAAW,EAAE;AAJM,GAhCJ;AAsChB+zE,iBAAe,EAAE;AAChBrkF,SAAK,EAAE,kCADS;AAEhB1xF,QAAI,EAAE,SAFU;AAGhBwF,SAAK,EAAE,IAHS;AAIhBw8F,eAAW,EAAE;AAJG,GAtCD;AA4ChBg0E,mBAAiB,EAAE;AAClBtkF,SAAK,EAAE,oCADW;AAElB1xF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,IAHW;AAIlBw8F,eAAW,EAAE;AAJK;AA5CH,CAAjB;AAoDA,MAAMi0E,iBAAiB,GAAG74E,uBAAO,CAAClR,UAAR,CAAmB,qCAAnB,EAA0D,MAAO,IAAjE,CAA1B;;AAEA9tF,mBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3Bm3C,iBAAA,CACC,CAACN,GAAD,EAAMz3H,GAAN,KAAcy3H,GAAG,KAAK,IAAR,IAAiB,4BAAD,CAA+BntH,IAA/B,CAAoCtK,GAApC,CAD/B,EAEC,sDAFD,EAGC,CAACs2H,OAAD,EAAUt2H,GAAV,EAAe,GAAGq3B,EAAH,EAAOtV,IAAP,CAAf,KAAgC;AAC/B,QAAIA,IAAJ,EAAU;AACT,aAAQ,oBAAmBsV,EAAG,KAAItV,IAAK,EAAvC;AACA,KAFD,MAEO,IAAIsV,EAAJ,EAAQ;AACd,aAAQ,oBAAmBA,EAAG,EAA9B;AACA;;AACD,WAAO,eAAP;AACA,GAVF,EAWC,CAACi/F,OAAD,EAAUt2H,GAAV,EAAe,GAAGq3B,EAAH,EAAOtV,IAAP,CAAf,KAAgC;AAC/B0zJ,0BAAsB,CAAC;AAAEp+I,QAAF;AAAMtV;AAAN,KAAD,CAAtB;AACA,GAbF;AAiBA/jB,QAAM,CAACkP,gBAAP,CAAwB,SAAxB,EAAmCtD,CAAC,IAAI;AACvC,QAAIowF,iBAAiB,CAACpwF,CAAD,EAAIjM,mBAAM,CAACkF,OAAP,CAAeqyK,gBAAf,CAAgCnwK,KAApC,CAArB,EAAiE;AAChE6E,OAAC,CAACsd,cAAF;AACAuuJ,4BAAsB;AACtB;AACD,GALD,EAKG,IALH;;AAOA,MAAI93K,mBAAM,CAACkF,OAAP,CAAewyK,kBAAf,CAAkCtwK,KAAtC,EAA6C;AAC5CoiC,oBAAC,CAAC,0BAAD,CAAD,CAA8BpiB,EAA9B,CAAiC,OAAjC,EAA0C,6BAA1C,EAAyE2wJ,uBAAzE;AACA;;AACD,MAAI/3K,mBAAM,CAACkF,OAAP,CAAeyyK,eAAf,CAA+BvwK,KAAnC,EAA0C;AACzCoiC,oBAAC,CAAC,UAAD,CAAD,CAAcpiB,EAAd,CAAiB,OAAjB,EAA0B,6BAA1B,EAAyD2wJ,uBAAzD;AACA;AACD,CA/BD;;AAiCA,MAAMC,kBAAkB,GAAG,sBAAO,MAAM;AACvC,QAAMC,OAAO,GAAGzuI,gBAAC,CAAC7oB,sBAAM,CAAC+N,IAAK;;;gDAGiB4rG,WAAA,CAA+Bt6H,mBAAM,CAAC2nH,QAAtC,CAAgD;;;;;;;;;;;;;;;;;;;EAH9E,CAAjB;AAuBA,QAAMz1C,IAAI,GAAGuF,QAAQ,CAACwgG,OAAO,CAACloK,IAAR,CAAa,yBAAb,EAAwCnM,GAAxC,CAA4C,CAA5C,CAAD,EAAiD4kG,iBAAjD,CAArB;AACA,QAAM9uE,EAAE,GAAG+9C,QAAQ,CAACwgG,OAAO,CAACloK,IAAR,CAAa,uBAAb,EAAsCnM,GAAtC,CAA0C,CAA1C,CAAD,EAA+Cu+E,gBAA/C,CAAnB;AACA,QAAM+1F,OAAO,GAAGzgG,QAAQ,CAACwgG,OAAO,CAACloK,IAAR,CAAa,4BAAb,EAA2CnM,GAA3C,CAA+C,CAA/C,CAAD,EAAoDu+E,gBAApD,CAAxB;AACA,QAAM/9D,IAAI,GAAGqzD,QAAQ,CAACwgG,OAAO,CAACloK,IAAR,CAAa,yBAAb,EAAwCnM,GAAxC,CAA4C,CAA5C,CAAD,EAAiD01H,mBAAjD,CAArB;AAGA2+C,SAAO,CACLloK,IADF,CACO,0BADP,EAEEqX,EAFF,CAEK,OAFL,EAEenb,CAAD,IAAc;AAC1BA,KAAC,CAACsd,cAAF;AACA4uJ,2BAAuB;AACvB,GALF;AAQAF,SAAO,CACLr0K,GADF,CACM,CADN,EAEE2L,gBAFF,CAEmB,SAFnB,EAE+BtD,CAAD,IAAsB;AAClD,QAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACI,MAAzB,EAAiC;AAChC9uF,OAAC,CAACsd,cAAF;AACA4uJ,6BAAuB;AACvB;AACD,GAPF,EAOI,IAPJ;AAUAF,SAAO,CACLloK,IADF,CACO,yBADP,EAEEnM,GAFF,CAEM,CAFN,EAGE2L,gBAHF,CAGmB,OAHnB,EAG6BtD,CAAD,IAAc;AACxCA,KAAC,CAACsd,cAAF;AACAq6D,4BAAW;AACX,GANF,EAMI,IANJ;AASAw0F,aAAA,CAAyB,qBAAzB,EAAgDx0F,wBAAhD;AAGAq0F,SAAO,CACLloK,IADF,CACO,mBADP,EAGEqX,EAHF,CAGK,iBAHL,EAGwBnb,CAAC,IAAI;AAAEu9B,oBAAC,CAACv9B,CAAC,CAACmd,aAAH,CAAD,CAAmB9X,IAAnB,CAAwB,MAAxB,EAAgC+mK,qBAAqB,EAArD;AAA2D,GAH1F,EAIEjxJ,EAJF,CAIK,OAJL,EAIc+wJ,uBAJd;AAMAF,SAAO,CAACloK,IAAR,CAAa,GAAb,EAAkBqX,EAAlB,CAAqB,UAArB,EAAkCnb,CAAD,IAAsB;AACtD,QAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACG,KAAzB,EAAgC;AAC/B7uF,OAAC,CAACmd,aAAF,CAAgBiB,KAAhB;AACA;AACD,GAJD;AAOA6nD,MAAI,CAAC3iE,gBAAL,CAAsB,QAAtB,EAAgC,MAAM;AACrC,UAAMlN,GAAG,GAAG6vE,IAAI,CAAC9qE,KAAjB;AACAkxK,uBAAmB,CAACj2K,GAAG,CAACm+E,UAAJ,CAAe,KAAf,CAAD,CAAnB;AACA,UAAMw4C,QAAQ,GAAGn3C,YAAY,EAA7B;AACA,QAAIm3C,QAAJ,EAAc6+C,iBAAiB,CAAC32J,GAAlB,CAAsB83G,QAAtB,EAAgC32H,GAAhC;AACd,GALD;AAOA41K,SAAO,CAACtoJ,QAAR,CAAiBzvB,QAAQ,CAACkkB,IAA1B;AAEA,SAAO;AAAE6zJ,WAAF;AAAW/lG,QAAX;AAAiBx4C,MAAjB;AAAqBw+I,WAArB;AAA8B9zJ;AAA9B,GAAP;AACA,CAnF0B,CAA3B;;AAqFA,SAASk0J,mBAAT,CAA6Bx7J,KAA7B,EAAoC;AACnCk7J,oBAAkB,GAAGC,OAArB,CACEloK,IADF,CACO,mCADP,EAEEysB,WAFF,CAEc,WAFd,EAE2B1f,KAF3B;AAGA;;AAEM,SAASi7J,uBAAT,CAAiC9rK,CAAjC,EAAgD;AACtD,QAAM;AAAEo5E,gBAAF;AAAgBhG;AAAhB,MAA6B,IAAI5X,GAAJ,CAAQgQ,QAAQ,CAACxrE,CAAC,CAAC1G,MAAH,EAAWm9E,iBAAX,CAAR,CAAsCpuE,IAA9C,EAAoDH,QAAQ,CAACG,IAA7D,CAAnC;AACA,QAAMikK,WAAW,GAAGtsK,CAAC,CAACwf,OAAF,IAAaxf,CAAC,CAACof,MAAf,IAAyBpf,CAAC,CAAC2f,OAA3B,IAAsC3f,CAAC,CAAC8f,QAA5D;;AACA,MAAI9f,CAAC,CAAC2d,MAAF,KAAa,CAAb,IAAkB,CAAC2uJ,WAAnB,IAAkCj7F,OAAO,CAACmB,cAAR,CAAuBxxE,IAAvB,CAA4BoyE,QAA5B,CAAtC,EAA6E;AAC5EpzE,KAAC,CAACsd,cAAF;AAEA,UAAMivJ,OAAO,GAAGl7F,OAAO,CAACc,SAAR,CAAkBzxE,IAAlB,CAAuB0yE,QAAvB,CAAhB;AAEAy4F,0BAAsB,CAAC;AACtB5lG,UAAI,EAAEsmG,OAAO,GAAI,MAAKA,OAAO,CAAC,CAAD,CAAI,EAApB,GAAwB5yK,SADf;AAEtB8zB,QAAE,EAAE2rD,YAAY,CAACzhF,GAAb,CAAiB,IAAjB,KAA0B,EAFR;AAGtBs0K,aAAO,EAAE7yF,YAAY,CAACzhF,GAAb,CAAiB,SAAjB,KAA+B,EAHlB;AAItBwgB,UAAI,EAAEihE,YAAY,CAACzhF,GAAb,CAAiB,SAAjB,KAA+B;AAJf,KAAD,CAAtB;AAMA,WAAO,IAAP;AACA;AACD;;AAED,eAAe60K,gBAAf,GAAkC;AACjC,QAAMnzI,QAAQ,GAAGu8C,YAAY,EAA7B;;AAEA,MAAI,CAACv8C,QAAL,EAAe;AACd,WAAO,EAAP;AACA;;AAED,QAAM00H,KAAK,GAAG,CAAC;AACd70J,QAAI,EAAG,MAAKmgC,QAAS,EADP;AAEd01F,eAAW,EAAG,MAAK7I,SAAA,CAAkBumD,6BAAlB,IAAmCA,cAAA,CAA6BpzI,QAA7B,CAAnC,GAA4EA,QAAS;AAF1F,GAAD,CAAd;;AAKA,MAAI08C,mBAAmB,EAAvB,EAA2B;AAC1B,UAAM;AAAE7gE;AAAF,QAAY,MAAMkhB,IAAI,CAAC;AAC5BZ,SAAG,EAAE,iCADuB;AAE5ByjD,WAAK,EAAE;AACNgS,aAAK,EAAE,IADD;AAEN5yE,YAAI,EAAE,KAFA;AAGNw9E,YAAI,EAAEjgB,YAAY,MAAM;AAHlB,OAFqB;AAO5BjgF,UAAI,EAAE,MAPsB;AAQ5BkhF,cAAQ,EAAE7L,IAAIA;AARc,KAAD,CAA5B;AAUA,UAAM0hG,OAAO,GAAGx3J,IAAI,CAAC3H,QAAL,CAAcnV,GAAd,CAAkB,CAAC;AAAE8c;AAAF,KAAD,KAAc;AAC/C,YAAMhc,IAAI,GAAGgc,IAAI,CAACsgB,GAAL,CAAS9gC,KAAT,CAAe,CAAf,EAAkB,CAAC,CAAnB,CAAb;AACA,aAAO;AAAEwE,YAAF;AAAQ61H,mBAAW,EAAE71H;AAArB,OAAP;AACA,KAHe,CAAhB;AAIA60J,SAAK,CAACn5J,IAAN,CAAW,GAAG83K,OAAd;AACA;;AAED,SAAO3e,KAAP;AACA;;AAED,MAAM4e,qBAAqB,GAAG,sBAAO,YAAY;AAChD,QAAMC,OAAO,GAAG,MAAMJ,gBAAgB,EAAtC;;AACA,OAAK,MAAM;AAAEtzK,QAAF;AAAQ61H;AAAR,GAAX,IAAoC69C,OAApC,EAA6C;AAC5C,UAAMC,aAAa,GAAG54K,QAAQ,CAACqC,aAAT,CAAuB,QAAvB,CAAtB;AACAu2K,iBAAa,CAAC1xK,KAAd,GAAsBjC,IAAtB;AACA2zK,iBAAa,CAACt2K,IAAd,GAAqBw4H,WAArB;AACAg9C,sBAAkB,GAAG9lG,IAArB,CAA0Bj4D,GAA1B,CAA8B6+J,aAA9B;AACA;;AACDd,oBAAkB,GAAG9lG,IAArB,CAA0BtmE,QAA1B,GAAsCitK,OAAO,CAACn1K,MAAR,GAAiB,CAAvD;AACA,CAT6B,CAA9B;;AAWA,SAASq1K,eAAT,GAA2B;AAE1BrzK,OAAK,CAACwsE,IAAN,CAAW8lG,kBAAkB,GAAGC,OAArB,CAA6BloK,IAA7B,CAAkC,iBAAlC,CAAX,EACEA,IADF,CACO,CAAC6nE,GAAD,EAAMx1E,CAAN,EAAS;AAAEsB;AAAF,GAAT,KAKL,CAACk0E,GAAG,CAACxwE,KAAL,IAAchF,CAAC,KAAKsB,MAAM,GAAG,CAN/B,EAOEspB,KAPF;AAQA;;AAED,eAAegsJ,oBAAf,CAAoCC,WAApC,EAAiDjgD,QAAjD,EAA2D;AAC1D,QAAMkgD,aAAa,GAAGxzK,KAAK,CAACwsE,IAAN,CAAW8lG,kBAAkB,GAAG9lG,IAArB,CAA0BhtE,OAArC,EAA8Cb,GAA9C,CAAkDuzE,GAAG,IAAIpuC,gBAAC,CAACouC,GAAD,CAAD,CAAOp1E,IAAP,GAAciF,WAAd,EAAzD,CAAtB;AACA,MAAI0xK,aAAa,GAAGD,aAAa,CAACp4K,OAAd,CAAsBm4K,WAAW,CAACxxK,WAAZ,EAAtB,CAApB;;AAEA,MAAI0xK,aAAa,KAAK,CAAC,CAAvB,EAA0B;AACzB,YAAQn5K,mBAAM,CAACkF,OAAP,CAAeuyK,MAAf,CAAsBrwK,KAA9B;AACC,WAAK,KAAL;AACC,cAAMw4E,GAAG,GAAGH,gBAAgB,EAA5B;AACA,YAAIG,GAAJ,EAASu5F,aAAa,GAAGD,aAAa,CAACp4K,OAAd,CAAuB,MAAK8+E,GAAG,CAACn4E,WAAJ,EAAkB,EAA9C,CAAhB;AACT;;AACD,WAAK,MAAL;AACC,cAAM2xK,YAAY,GAAG,MAAMvB,iBAAiB,CAACj0K,GAAlB,CAAsBo1H,QAAtB,CAA3B;;AACA,YAAIogD,YAAJ,EAAkB;AACjBD,uBAAa,GAAGD,aAAa,CAACp4K,OAAd,CAAsBs4K,YAAY,CAAC3xK,WAAb,EAAtB,CAAhB;AACA;;AACD;;AACD,WAAK,WAAL;AACC0xK,qBAAa,GAAGnB,kBAAkB,GAAG9lG,IAArB,CAA0Bx9D,aAA1C;AACA;;AAED;AACCykK,qBAAa,GAAG,CAAhB;AACA;AAjBF;AAmBA;;AAEDnB,oBAAkB,GAAG9lG,IAArB,CAA0Bx9D,aAA1B,GAA2CykK,aAAa,KAAK,CAAC,CAAnB,GAAuBA,aAAvB,GAAuC,CAAlF;AACAb,qBAAmB,CAACN,kBAAkB,GAAG9lG,IAArB,CAA0B9qE,KAA1B,CAAgCo5E,UAAhC,CAA2C,KAA3C,CAAD,CAAnB;AACA;;AASM,eAAes3F,sBAAf,CAAsC;AAAE5lG,MAAI,GAAG,EAAT;AAAax4C,IAAE,GAAG,EAAlB;AAAsBw+I,SAAO,GAAGl4K,mBAAM,CAACkF,OAAP,CAAesyK,cAAf,CAA8BpwK,KAA9D;AAAqEgd,MAAI,GAAGpkB,mBAAM,CAACkF,OAAP,CAAe0yK,iBAAf,CAAiCxwK,KAAjC,GAAyC+M,QAAQ,CAACG,IAAlD,GAAyD;AAArI,IAAuK,EAA7M,EAAgO;AACtO,QAAM0kH,QAAQ,GAAGn3C,YAAY,EAA7B;;AAEA,MAAI,CAACm3C,QAAL,EAAe;AACdwF,kCAAA,CAA+B;AAC9B7W,cAAQ,EAAE,cADoB;AAE9B6U,oBAAc,EAAE,oBAFc;AAG9BC,YAAM,EAAE,gBAHsB;AAI9BV,gBAAU,EAAE,IAJkB;AAK9B18G,aAAO,EAAE;AALqB,KAA/B;AAOA;AACA;;AAED,QAAMu5J,qBAAqB,EAA3B;AAEA,QAAMI,oBAAoB,CAAC9mG,IAAD,EAAO8mD,QAAP,CAA1B;AACAg/C,oBAAkB,GAAGt+I,EAArB,CAAwBtyB,KAAxB,GAAgCsyB,EAAhC;AACAs+I,oBAAkB,GAAGE,OAArB,CAA6B9wK,KAA7B,GAAqC8wK,OAArC;AACAF,oBAAkB,GAAG5zJ,IAArB,CAA0Bhd,KAA1B,GAAkCgd,IAAlC;AAEA4zJ,oBAAkB,GAAGC,OAArB,CAA6B59I,MAA7B,CAAoC,GAApC;AAEA0+I,iBAAe;AACf;;AAED,SAASZ,uBAAT,GAAmC;AAClCH,oBAAkB,GAAGC,OAArB,CAA6B39I,OAA7B,CAAqC,GAArC;;AAGA,OAAK,MAAMs9C,GAAX,IAAkBogG,kBAAkB,GAAGC,OAArB,CAA6BloK,IAA7B,CAAkC,yBAAlC,CAAlB,EAAgF;AAC/E6nE,OAAG,CAAC3qD,IAAJ;AACA;AACD;;AAED,SAASorJ,qBAAT,GAAiC;AAChC,QAAMj6F,SAAS,GAAG45F,kBAAkB,GAAG9lG,IAArB,CAA0B9qE,KAA1B,CAAgCo5E,UAAhC,CAA2C,KAA3C,IAAoDw3F,kBAAkB,GAAG9lG,IAArB,CAA0B9qE,KAA9E,GAAsF,EAAxG;AACA,SAAOg3E,SAAS,GACfz9D,sBAAM,CAACsgE,MAAO,uBAAsB+2F,kBAAkB,GAAGt+I,EAArB,CAAwBtyB,KAAM,YAAW4wK,kBAAkB,GAAGE,OAArB,CAA6B9wK,KAAM,YAAW4wK,kBAAkB,GAAG5zJ,IAArB,CAA0Bhd,KAAM,EAD5J;AAEA;;AAED,MAAMiyK,gBAAgB,GAAG;AACxBC,SAAO,EAAE,yBADe;AAExBC,YAAU,EAAE,uBAFY;AAGxBC,SAAO,EAAE,wBAHe;AAIxBC,aAAW,EAAE,oOAJW;AAKxBC,UAAQ,EAAE;AALc,CAAzB;;AAQA,eAAe91F,wBAAf,GAA6B;AAC5B,QAAM1R,IAAI,GAAG8lG,kBAAkB,GAAG9lG,IAArB,CAA0B9qE,KAAvC;;AAEA,MAAI;AACH,UAAM;AAAE46B,UAAI,EAAE;AAAEmmG;AAAF;AAAR,QAAuB,MAAM9lG,IAAI,CAAC;AACvC9lB,YAAM,EAAE,MAD+B;AAEvCklB,SAAG,EAAE,cAFkC;AAGvCtgB,UAAI,EAAE;AACLw4J,gBAAQ,EAAE,MADL;AAELC,eAAO,EAAE1nG,IAAI,CAACtwB,QAAL,CAAc,KAAd,IAAuBswB,IAAI,CAACvxE,KAAL,CAAW,CAAX,CAAvB,GAAuC,EAF3C;AAGLu3K,eAAO,EAAEF,kBAAkB,GAAGE,OAArB,CAA6B9wK,KAHjC;AAIL5E,YAAI,EAAEw1K,kBAAkB,GAAG5zJ,IAArB,CAA0Bhd,KAJ3B;AAKLsyB,UAAE,EAAEs+I,kBAAkB,GAAGt+I,EAArB,CAAwBtyB;AALvB,OAHiC;AAUvCxF,UAAI,EAAE;AAViC,KAAD,CAAvC;;AAaA,QAAIumI,MAAM,CAAC,CAAD,CAAV,EAAe;AACd3J,oCAAA,CAA+B;AAC9B7W,gBAAQ,EAAE,cADoB;AAE9B6U,sBAAc,EAAE,uBAFc;AAG9BC,cAAM,EAAE,mBAHsB;AAI9BV,kBAAU,EAAE,KAJkB;AAK9B18G,eAAO,EAAEg6J,gBAAgB,CAAClxC,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,CAAD,CAAhB,IAAmC,GAAEA,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,CAAa,MAAKA,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,CAAa;AAL/C,OAA/B;AAOA,KARD,MAQO;AACNgwC,6BAAuB;AACvB;AACD,GAzBD,CAyBE,OAAOlsK,CAAP,EAAU;AACXuyH,kCAAA,CAA+B;AAC9B7W,cAAQ,EAAE,cADoB;AAE9B6U,oBAAc,EAAE,0BAFc;AAG9BC,YAAM,EAAE,iBAHsB;AAI9BV,gBAAU,EAAE,KAJkB;AAK9B18G,aAAO,EAAE;AALqB,KAA/B;AAOA,UAAMpT,CAAN;AACA;AACD,C;;ACpZD;AACA;AACA;AAYA;AACA;AAEO,MAAMjM,oBAAiB,GAAG,IAAIirH,MAAJ,CAAW,eAAX,CAA1B;AAEPjrH,oBAAM,CAACkrH,UAAP,GAAoB,mBAApB;AACAlrH,oBAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,oBAAM,CAAC4jG,WAAP,GAAqB,mBAArB;AACA5jG,oBAAM,CAACsrH,SAAP,GAAmB,IAAnB;AACAtrH,oBAAM,CAACkF,OAAP,GAAiB;AAChB20K,eAAa,EAAE;AACdvmF,SAAK,EAAE,iCADO;AAEd1xF,QAAI,EAAE,SAFQ;AAGdwF,SAAK,EAAE,KAHO;AAIdw8F,eAAW,EAAE;AAJC,GADC;AAOhBk2E,WAAS,EAAE;AACVxmF,SAAK,EAAE,6BADG;AAEV1xF,QAAI,EAAE,OAFI;AAGVwF,SAAK,EAAE,SAHG;AAIVw8F,eAAW,EAAE,4BAJH;AAKVq2B,YAAQ,EAAE,IALA;AAMVqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC20K,aAAR,CAAsBzyK;AANlC,GAPK;AAehB2yK,gBAAc,EAAE;AACfzmF,SAAK,EAAE,kCADQ;AAEf1xF,QAAI,EAAE,OAFS;AAGfwF,SAAK,EAAE,SAHQ;AAIfw8F,eAAW,EAAE,iCAJE;AAKfq2B,YAAQ,EAAE,IALK;AAMfqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC20K,aAAR,CAAsBzyK;AAN7B,GAfA;AAuBhB4yK,aAAW,EAAE;AACZ1mF,SAAK,EAAE,+BADK;AAEZ1xF,QAAI,EAAE,SAFM;AAGZwF,SAAK,EAAE,IAHK;AAIZw8F,eAAW,EAAE;AAJD,GAvBG;AA6BhBq2E,SAAO,EAAE;AACR3mF,SAAK,EAAE,2BADC;AAER1xF,QAAI,EAAE,OAFE;AAGRwF,SAAK,EAAE,SAHC;AAIRw8F,eAAW,EAAE,0BAJL;AAKRq2B,YAAQ,EAAE,IALF;AAMRqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC80K,WAAR,CAAoB5yK;AANlC,GA7BO;AAqChB8yK,cAAY,EAAE;AACb5mF,SAAK,EAAE,gCADM;AAEb1xF,QAAI,EAAE,OAFO;AAGbwF,SAAK,EAAE,SAHM;AAIbw8F,eAAW,EAAE,+BAJA;AAKbq2B,YAAQ,EAAE,IALG;AAMbqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC80K,WAAR,CAAoB5yK;AAN7B,GArCE;AA6ChB+yK,gBAAc,EAAE;AACf7mF,SAAK,EAAE,kCADQ;AAEf1xF,QAAI,EAAE,SAFS;AAGfwF,SAAK,EAAE,IAHQ;AAIfw8F,eAAW,EAAE;AAJE,GA7CA;AAmDhBw2E,YAAU,EAAE;AACX9mF,SAAK,EAAE,8BADI;AAEX1xF,QAAI,EAAE,OAFK;AAGXwF,SAAK,EAAE,SAHI;AAIXw8F,eAAW,EAAE,6BAJF;AAKXq2B,YAAQ,EAAE,IALC;AAMXqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACi1K,cAAR,CAAuB/yK;AANlC,GAnDI;AA2DhBizK,iBAAe,EAAE;AAChB/mF,SAAK,EAAE,mCADS;AAEhB1xF,QAAI,EAAE,OAFU;AAGhBwF,SAAK,EAAE,SAHS;AAIhBw8F,eAAW,EAAE,kCAJG;AAKhBq2B,YAAQ,EAAE,IALM;AAMhBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACi1K,cAAR,CAAuB/yK;AAN7B,GA3DD;AAmEhBkzK,eAAa,EAAE;AACdhnF,SAAK,EAAE,iCADO;AAEd1xF,QAAI,EAAE,SAFQ;AAGdwF,SAAK,EAAE,IAHO;AAIdw8F,eAAW,EAAE;AAJC,GAnEC;AAyEhB22E,WAAS,EAAE;AACVjnF,SAAK,EAAE,6BADG;AAEV1xF,QAAI,EAAE,OAFI;AAGVwF,SAAK,EAAE,SAHG;AAIVw8F,eAAW,EAAE,4BAJH;AAKVq2B,YAAQ,EAAE,IALA;AAMVqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACo1K,aAAR,CAAsBlzK;AANlC,GAzEK;AAiFhBozK,gBAAc,EAAE;AACflnF,SAAK,EAAE,kCADQ;AAEf1xF,QAAI,EAAE,OAFS;AAGfwF,SAAK,EAAE,SAHQ;AAIfw8F,eAAW,EAAE,iCAJE;AAKfq2B,YAAQ,EAAE,IALK;AAMfqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACo1K,aAAR,CAAsBlzK;AAN7B,GAjFA;AAyFhBqzK,iBAAe,EAAE;AAChBnnF,SAAK,EAAE,mCADS;AAEhB1xF,QAAI,EAAE,SAFU;AAGhBwF,SAAK,EAAE,IAHS;AAIhBw8F,eAAW,EAAE;AAJG,GAzFD;AA+FhB82E,aAAW,EAAE;AACZpnF,SAAK,EAAE,+BADK;AAEZ1xF,QAAI,EAAE,OAFM;AAGZwF,SAAK,EAAE,SAHK;AAIZw8F,eAAW,EAAE,8BAJD;AAKZq2B,YAAQ,EAAE,IALE;AAMZqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACu1K,eAAR,CAAwBrzK;AANlC,GA/FG;AAuGhBuzK,kBAAgB,EAAE;AACjBrnF,SAAK,EAAE,oCADU;AAEjB1xF,QAAI,EAAE,OAFW;AAGjBwF,SAAK,EAAE,SAHU;AAIjBw8F,eAAW,EAAE,mCAJI;AAKjBq2B,YAAQ,EAAE,IALO;AAMjBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACu1K,eAAR,CAAwBrzK;AAN7B,GAvGF;AA+GhBwzK,cAAY,EAAE;AACbtnF,SAAK,EAAE,gCADM;AAEb1xF,QAAI,EAAE,SAFO;AAGbwF,SAAK,EAAE,IAHM;AAIbw8F,eAAW,EAAE;AAJA,GA/GE;AAqHhBi3E,UAAQ,EAAE;AACTvnF,SAAK,EAAE,4BADE;AAET1xF,QAAI,EAAE,OAFG;AAGTwF,SAAK,EAAE,SAHE;AAITw8F,eAAW,EAAE,2BAJJ;AAKTq2B,YAAQ,EAAE,IALD;AAMTqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC01K,YAAR,CAAqBxzK;AANlC,GArHM;AA6HhB0zK,eAAa,EAAE;AACdxnF,SAAK,EAAE,iCADO;AAEd1xF,QAAI,EAAE,OAFQ;AAGdwF,SAAK,EAAE,SAHO;AAIdw8F,eAAW,EAAE,gCAJC;AAKdq2B,YAAQ,EAAE,IALI;AAMdqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC01K,YAAR,CAAqBxzK;AAN7B,GA7HC;AAqIhB2zK,qBAAmB,EAAE;AACpBznF,SAAK,EAAE,8BADa;AAEpB1xF,QAAI,EAAE,SAFc;AAGpBwF,SAAK,EAAE,IAHa;AAIpBw8F,eAAW,EAAE;AAJO,GArIL;AA2IhBo3E,iBAAe,EAAE;AAChB1nF,SAAK,EAAE,mCADS;AAEhB1xF,QAAI,EAAE,OAFU;AAGhBwF,SAAK,EAAE,SAHS;AAIhBw8F,eAAW,EAAE,kCAJG;AAKhBq2B,YAAQ,EAAE,IALM;AAMhBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC61K,mBAAR,CAA4B3zK;AANlC,GA3ID;AAmJhB6zK,iBAAe,EAAE;AAChB3nF,SAAK,EAAE,mCADS;AAEhB1xF,QAAI,EAAE,OAFU;AAGhBwF,SAAK,EAAE,SAHS;AAIhBw8F,eAAW,EAAE,kCAJG;AAKhBq2B,YAAQ,EAAE,IALM;AAMhBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC61K,mBAAR,CAA4B3zK;AANlC,GAnJD;AA2JhB8zK,yBAAuB,EAAE;AACxB5nF,SAAK,EAAE,2CADiB;AAExB1xF,QAAI,EAAE,SAFkB;AAGxBwF,SAAK,EAAE,KAHiB;AAIxBw8F,eAAW,EAAE;AAJW,GA3JT;AAiKhBu3E,2BAAyB,EAAE;AAC1B7nF,SAAK,EAAE,6CADmB;AAE1B1xF,QAAI,EAAE,SAFoB;AAG1BwF,SAAK,EAAE,IAHmB;AAI1Bw8F,eAAW,EAAE,4CAJa;AAK1Bq2B,YAAQ,EAAE,IALgB;AAM1BqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACg2K,uBAAR,CAAgC9zK;AAN5B,GAjKX;AAyKhBg0K,mBAAiB,EAAE;AAClB9nF,SAAK,EAAE,qCADW;AAElB1xF,QAAI,EAAE,OAFY;AAGlBwF,SAAK,EAAE,SAHW;AAIlBw8F,eAAW,EAAE,oCAJK;AAKlBq2B,YAAQ,EAAE,IALQ;AAMlBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACg2K,uBAAR,CAAgC9zK;AANpC,GAzKH;AAiLhBi0K,wBAAsB,EAAE;AACvB/nF,SAAK,EAAE,0CADgB;AAEvB1xF,QAAI,EAAE,OAFiB;AAGvBwF,SAAK,EAAE,SAHgB;AAIvBw8F,eAAW,EAAE,yCAJU;AAKvBq2B,YAAQ,EAAE,IALa;AAMvBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACg2K,uBAAR,CAAgC9zK;AAN/B,GAjLR;AAyLhBk0K,WAAS,EAAE;AACVhoF,SAAK,EAAE,6BADG;AAEV1xF,QAAI,EAAE,OAFI;AAGVwF,SAAK,EAAE,SAHG;AAIVw8F,eAAW,EAAE,4BAJH;AAKVq2B,YAAQ,EAAE;AALA,GAzLK;AAgMhBshD,oBAAkB,EAAE;AACnBjoF,SAAK,EAAE,sCADY;AAEnB1xF,QAAI,EAAE,SAFa;AAGnBwF,SAAK,EAAE,KAHY;AAInBw8F,eAAW,EAAE;AAJM,GAhMJ;AAsMhB43E,gBAAc,EAAE;AACfloF,SAAK,EAAE,kCADQ;AAEfsQ,eAAW,EAAE,iCAFE;AAGfhiG,QAAI,EAAE,MAHS;AAIfwF,SAAK,EAAE,uBAJQ;AAKfmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,6EADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,2DADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,8CADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,CALO;AAef6yH,YAAQ,EAAE,IAfK;AAgBfqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACq2K,kBAAR,CAA2Bn0K;AAhBlC,GAtMA;AAwNhBq0K,qBAAmB,EAAE;AACpBnoF,SAAK,EAAE,uCADa;AAEpB1xF,QAAI,EAAE,QAFc;AAGpBY,QAAI,EAAE,UAHc;AAIpB4B,YAAQ,EAAEq3K,mBAJU;AAKpB73E,eAAW,EAAE,sCALO;AAMpBq2B,YAAQ,EAAE;AANU;AAxNL,CAAjB;;AAkOAj6H,oBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AAIzB,MAAI/rH,oBAAM,CAACkF,OAAP,CAAeq2K,kBAAf,CAAkCn0K,KAAtC,EAA6C;AAC5Cg5F,kBAAc,CAAC,CAAC,MAAD,EAAS,SAAT,EAAoB,SAApB,CAAD,EAAiCs7E,kBAAjC,EAAqD;AAAE1qF,eAAS,EAAE;AAAb,KAArD,CAAd;AACA;;AAED,MAAIhxF,oBAAM,CAACkF,OAAP,CAAeg2K,uBAAf,CAAuC9zK,KAA3C,EAAkD;AACjDg5F,kBAAc,CAAC,CAAC,SAAD,CAAD,EAAcu7E,mBAAd,EAAmC;AAAE3qF,eAAS,EAAE;AAAb,KAAnC,CAAd;AACA;;AAED,MAAIhxF,oBAAM,CAACkF,OAAP,CAAeu1K,eAAf,CAA+BrzK,KAAnC,EAA0C;AACzCylH,aAAS,CAAC,QAAD,EAAW7sH,oBAAM,CAACkF,OAAP,CAAew1K,WAAf,CAA2BtzK,KAAtC,EAA6CpH,oBAAM,CAACkF,OAAP,CAAey1K,gBAAf,CAAgCvzK,KAA7E,CAAT;AACA;;AACD,MAAIpH,oBAAM,CAACkF,OAAP,CAAe80K,WAAf,CAA2B5yK,KAA/B,EAAsC;AACrCylH,aAAS,CAAC,WAAD,EAAc7sH,oBAAM,CAACkF,OAAP,CAAe+0K,OAAf,CAAuB7yK,KAArC,EAA4CpH,oBAAM,CAACkF,OAAP,CAAeg1K,YAAf,CAA4B9yK,KAAxE,CAAT;AACA;;AACD,MAAIpH,oBAAM,CAACkF,OAAP,CAAe01K,YAAf,CAA4BxzK,KAAhC,EAAuC;AACtCylH,aAAS,CAAC,WAAD,EAAc7sH,oBAAM,CAACkF,OAAP,CAAe21K,QAAf,CAAwBzzK,KAAtC,EAA6CpH,oBAAM,CAACkF,OAAP,CAAe41K,aAAf,CAA6B1zK,KAA1E,CAAT;AACA;;AACD,MAAIpH,oBAAM,CAACkF,OAAP,CAAei1K,cAAf,CAA8B/yK,KAAlC,EAAyC;AACxCylH,aAAS,CAAC,OAAD,EAAU7sH,oBAAM,CAACkF,OAAP,CAAek1K,UAAf,CAA0BhzK,KAApC,EAA2CpH,oBAAM,CAACkF,OAAP,CAAem1K,eAAf,CAA+BjzK,KAA1E,CAAT;AACA;;AACD,MAAIpH,oBAAM,CAACkF,OAAP,CAAeo1K,aAAf,CAA6BlzK,KAAjC,EAAwC;AACvCylH,aAAS,CAAC,MAAD,EAAS7sH,oBAAM,CAACkF,OAAP,CAAeq1K,SAAf,CAAyBnzK,KAAlC,EAAyCpH,oBAAM,CAACkF,OAAP,CAAes1K,cAAf,CAA8BpzK,KAAvE,CAAT;AACA;;AAED,MAAIpH,oBAAM,CAACkF,OAAP,CAAe61K,mBAAf,CAAmC3zK,KAAnC,IAA4C+1E,UAAU,CAAC,UAAD,CAA1D,EAAwE;AACvEkjB,oBAAgB,CAAC,CAAC,UAAD,CAAD,EAAe,IAAf,EAAqBu7E,QAAQ,IAAI;AAChD,YAAMzrF,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAW0pG,QAAX,CAAd;AACA,YAAM9nF,MAAM,GAAG3D,KAAK,IAAIA,KAAK,CAACwD,SAAN,EAAxB;AACAkoF,6BAAuB,CAACD,QAAD,EAAW57K,oBAAM,CAACkF,OAAP,CAAe81K,eAAf,CAA+B5zK,KAA1C,EAAiDpH,oBAAM,CAACkF,OAAP,CAAe+1K,eAAf,CAA+B7zK,KAAhF,EAAuF0sF,MAAvF,CAAvB;AACA,KAJe,EAIb;AAAE9C,eAAS,EAAE;AAAb,KAJa,CAAhB;AAKA;AACD,CAnCD;;AAqCAhxF,oBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,QAAM39C,QAAQ,GAAGu8C,YAAY,EAA7B;;AACA,MAAI7hF,oBAAM,CAACkF,OAAP,CAAe20K,aAAf,CAA6BzyK,KAA7B,IAAsCk+B,QAA1C,EAAoD;AACnDunF,aAAS,CAAE,kBAAiBvnF,QAAS,IAA5B,EAAiCtlC,oBAAM,CAACkF,OAAP,CAAe40K,SAAf,CAAyB1yK,KAA1D,EAAiEpH,oBAAM,CAACkF,OAAP,CAAe60K,cAAf,CAA8B3yK,KAA/F,CAAT;AACA;AACD,CALD;;AAOA,SAASy0K,uBAAT,CAAiC3mI,OAAjC,EAA0C6N,KAA1C,EAAiD+4H,UAAjD,EAA6D,GAAGtwD,OAAhE,EAAyE;AACxE9lH,OAAK,CAACwsE,IAAN,CAAWh9B,OAAO,CAAC7nC,gBAAR,CAAyB,GAAzB,CAAX,EACEhJ,GADF,CACMo+E,mBADN,EAEE5yE,MAFF,CAES8wF,OAFT,EAGE9wF,MAHF,CAGSiyF,IAAI,IAAI,CAAC0pB,OAAO,CAAC5pE,QAAR,CAAiBkgD,IAAjB,CAHlB,EAIE/7B,OAJF,CAIU+7B,IAAI,IAAI+qB,SAAS,CAAE,kBAAiB/qB,IAAK,MAAxB,EAA+B/+C,KAA/B,EAAsC+4H,UAAtC,CAJ3B;AAKA;;AAED,SAASH,mBAAT,CAA6BxrF,KAA7B,EAAoC;AACnC,MAAI,CAACA,KAAK,CAACmC,iBAAN,EAAL,EAAgC;AAEhC,QAAMypF,OAAO,GAAGr2K,KAAK,CAACwsE,IAAN,CAAWie,KAAK,CAACj7C,OAAN,CAAcwrC,SAAzB,EAAoC3wE,IAApC,CAAyCqyF,GAAG,IAAIA,GAAG,CAAC5hB,UAAJ,CAAe,QAAf,CAAhD,CAAhB;AACA,MAAI,CAACu7F,OAAL,EAAc;AAEd,QAAMjoF,MAAM,GAAG3D,KAAK,CAACyD,gBAAN,EAAf;AACA,MAAI,CAACE,MAAL,EAAa;AAEb,QAAMkoF,WAAW,GAAGt2K,KAAK,CAACwsE,IAAN,CAAW4hB,MAAM,CAACpT,SAAlB,EAA6B3wE,IAA7B,CAAkCqyF,GAAG,IAAIA,GAAG,CAAC5hB,UAAJ,CAAe,QAAf,CAAzC,CAApB;;AAEA,MAAIw7F,WAAJ,EAAiB;AAChB,UAAMzrJ,SAAS,GAAI,IAAGwrJ,OAAQ,GAAE/7K,oBAAM,CAACkF,OAAP,CAAei2K,yBAAf,CAAyC/zK,KAAzC,GAAiD,SAAjD,GAA6D,EAAG,EAAhG;AACAylH,aAAS,CACRmvD,WADQ,EAERh8K,oBAAM,CAACkF,OAAP,CAAek2K,iBAAf,CAAiCh0K,KAFzB,EAGRpH,oBAAM,CAACkF,OAAP,CAAem2K,sBAAf,CAAsCj0K,KAH9B,EAIRmpB,SAJQ,CAAT;AAMA;AACD;;AAED,SAASmrJ,kBAAT,CAA4BvrF,KAA5B,EAAmC;AAClC,QAAMj7C,OAAO,GAAGi7C,KAAK,CAACyD,gBAAN,EAAhB;AACA,MAAI,CAAC1+C,OAAL,EAAc;AAEd,QAAM6mI,OAAO,GAAGr2K,KAAK,CAACwsE,IAAN,CAAWh9B,OAAO,CAACwrC,SAAnB,EAA8B3wE,IAA9B,CAAmCqyF,GAAG,IAAIA,GAAG,CAAC5hB,UAAJ,CAAe,QAAf,CAA1C,CAAhB;AACA,MAAI,CAACu7F,OAAL,EAAc;AAEd,QAAME,WAAW,GAAGT,cAAc,CAACx7K,oBAAM,CAACkF,OAAP,CAAes2K,cAAf,CAA8Bp0K,KAA/B,CAAlC;AACA,QAAM27C,KAAK,GAAGk5H,WAAW,CAACF,OAAD,CAAzB;AAEAG,aAAW,CAACH,OAAD,EAAUh5H,KAAV,CAAX;AACA;;AAED,MAAMy4H,cAAc,GAAG;AACtB,0BAAwBO,OAAxB,EAAiC;AAChC,UAAM7nK,IAAI,GAAGgmF,QAAQ,CAAC6hF,OAAD,CAArB;AAIA,UAAMtvI,CAAC,GAAG,CAACv4B,IAAI,GAAG,QAAR,KAAqB,EAA/B;AACA,UAAMi5B,CAAC,GAAG,CAACj5B,IAAI,GAAG,QAAR,KAAqB,CAA/B;AACA,UAAM7K,CAAC,GAAG6K,IAAI,GAAG,QAAjB;AAEA,UAAMioK,GAAG,GAAGr2K,IAAI,CAACwrB,KAAL,CAAWmb,CAAC,GAAG,KAAJ,GAAYU,CAAC,GAAG,KAAhB,GAAwB9jC,CAAC,GAAG,KAAvC,CAAZ;AACA,UAAM+yK,MAAM,GAAG,IAAf;AACA,UAAMC,MAAM,GAAG,IAAf;AAEA,QAAIt5H,KAAK,GAAG,CAACtW,CAAD,EAAIU,CAAJ,EAAO9jC,CAAP,CAAZ;AACA,QAAIizK,cAAc,GAAG,CAAC7vI,CAAD,EAAIU,CAAJ,EAAO9jC,CAAP,CAArB;;AACA,QAAI8yK,GAAG,GAAGC,MAAV,EAAkB;AACjB,YAAMz4J,KAAK,GAAGy4J,MAAM,GAAGD,GAAvB;AACAG,oBAAc,GAAG,CAChBx2K,IAAI,CAACwrB,KAAL,CAAWmb,CAAC,GAAG9oB,KAAf,CADgB,EAEhB7d,IAAI,CAACwrB,KAAL,CAAW6b,CAAC,GAAGxpB,KAAf,CAFgB,EAGhB7d,IAAI,CAACwrB,KAAL,CAAWjoB,CAAC,GAAGsa,KAAf,CAHgB,CAAjB;AAKA,KAPD,MAOO,IAAIw4J,GAAG,GAAGE,MAAV,EAAkB;AACxB,YAAM14J,KAAK,GAAG04J,MAAM,GAAGF,GAAvB;AACAp5H,WAAK,GAAG,CACPj9C,IAAI,CAACwrB,KAAL,CAAWmb,CAAC,GAAG9oB,KAAf,CADO,EAEP7d,IAAI,CAACwrB,KAAL,CAAW6b,CAAC,GAAGxpB,KAAf,CAFO,EAGP7d,IAAI,CAACwrB,KAAL,CAAWjoB,CAAC,GAAGsa,KAAf,CAHO,CAAR;AAKA;;AACDo/B,SAAK,GAAI,OAAMA,KAAK,CAAC51C,IAAN,CAAW,GAAX,CAAgB,GAA/B;AACAmvK,kBAAc,GAAI,OAAMA,cAAc,CAACnvK,IAAf,CAAoB,GAApB,CAAyB,GAAjD;AAEA,WAAO;AACN41C,WADM;AAENu5H;AAFM,KAAP;AAIA,GAtCqB;;AAuCtB,gBAAcP,OAAd,EAAuB;AAEtB,QAAI7nK,IAAI,GAAG,IAAX;;AACA,SAAK,MAAMimF,IAAX,IAAmB4hF,OAAnB,EAA4B;AAC3B7nK,UAAI,GAAI,CAACA,IAAI,IAAI,CAAT,IAAcA,IAAf,GAAuBimF,IAAI,CAAC3uF,UAAL,CAAgB,CAAhB,CAA9B;AAEA;;AAED,UAAMihC,CAAC,GAAG,CAACv4B,IAAI,GAAG,QAAR,KAAqB,EAA/B;AACA,UAAMi5B,CAAC,GAAG,CAACj5B,IAAI,GAAG,QAAR,KAAqB,CAA/B;AACA,UAAM7K,CAAC,GAAG6K,IAAI,GAAG,QAAjB;AACA,UAAM6uC,KAAK,GAAI,OAAM,CAACtW,CAAD,EAAIU,CAAJ,EAAO9jC,CAAP,EAAU8D,IAAV,CAAe,GAAf,CAAoB,GAAzC;AAEA,WAAO;AACN41C;AADM,KAAP;AAGA,GAvDqB;;AAwDtBw5H,YAAU,GAAG;AACZ,WAAO;AACNx5H,WAAK,EAAE,OADD;AAENu5H,oBAAc,EAAE;AAFV,KAAP;AAIA;;AA7DqB,CAAvB;AAgEO,SAASE,aAAT,CAAuBC,MAAvB,EAAuC;AAC7C,SAAO5vD,SAAS,CACd,gBAAe4vD,MAAO,EADR,EAEfC,eAAA,CAAgBx3K,OAAhB,CAAwBy3K,cAAxB,CAAuCv1K,KAFxB,EAGfs1K,eAAA,CAAgBx3K,OAAhB,CAAwB03K,mBAAxB,CAA4Cx1K,KAH7B,CAAhB;AAKA;AAED,MAAMgc,iBAAG,GAAG,EAAZ;AACA,MAAMgiF,SAAS,GAAG1pD,cAAQ,CAAC,MAAM;AAAE8gC,QAAM,CAACp5D,iBAAG,CAACpe,MAAJ,CAAW,CAAX,EAAcoe,iBAAG,CAAC1f,MAAlB,EAA0ByJ,IAA1B,CAA+B,IAA/B,CAAD,CAAN;AAA+C,CAAxD,CAA1B;;AACA,MAAMg7E,mBAAK,GAAGnsE,CAAC,IAAI;AAAEoH,mBAAG,CAACviB,IAAJ,CAASmb,CAAT;AAAaopF,WAAS;AAAK,CAAhD;;AAEA,SAASynB,SAAT,CAAmB3pH,QAAnB,EAA6B6/C,KAA7B,EAAoC+4H,UAApC,EAAgDvrJ,SAAS,GAAG,EAA5D,EAAgE;AAC/D43D,qBAAK,CAAE;EACN53D,SAAU,qBAAoBrtB,QAAS;EACvCqtB,SAAU,uCAAsCrtB,QAAS;UACjDlD,oBAAM,CAACkF,OAAP,CAAeo2K,SAAf,CAAyBl0K,KAAM;;;;qBAIpB27C,KAAM;;EAEzBxyB,SAAU,gCAA+BrtB,QAAS;EAClDqtB,SAAU,kDAAiDrtB,QAAS;;;;EAIpEqtB,SAAU,qBAAoBrtB,QAAS;EACvCqtB,SAAU,uCAAsCrtB,QAAS;qBACtC44K,UAAW;;;EAhB1B,CAAL;AAoBA;;AAED,SAASI,WAAT,CAAqBh5K,QAArB,EAA+B25K,SAA/B,EAA0C;AACzC,QAAM95H,KAAK,GAAG85H,SAAS,CAAC95H,KAAxB;AACA,QAAMu5H,cAAc,GAAGO,SAAS,CAACP,cAAV,IAA4BO,SAAS,CAAC95H,KAA7D;AACAolC,qBAAK,CAAE;mBACWjlF,QAAS;UAClB6/C,KAAM;;kCAEkB7/C,QAAS;UACjCo5K,cAAe;;EALnB,CAAL;AAQA;;AAED,SAASQ,kBAAT,CAA4B/5H,KAA5B,EAAmC;AAClC,MAAI,CAAE,iBAAD,CAAoB91C,IAApB,CAAyB81C,KAAzB,CAAL,EAAsC,MAAM,IAAI3iD,KAAJ,CAAU,2CAAV,CAAN;AACtC,MAAIqkD,CAAC,GAAG3oB,QAAQ,CAACinB,KAAK,CAACjS,MAAN,CAAa,CAAb,EAAgB,CAAhB,CAAD,EAAqB,EAArB,CAAhB;AACA,MAAI4T,CAAC,GAAG5oB,QAAQ,CAACinB,KAAK,CAACjS,MAAN,CAAa,CAAb,EAAgB,CAAhB,CAAD,EAAqB,EAArB,CAAhB;AACA,MAAI6T,CAAC,GAAG7oB,QAAQ,CAACinB,KAAK,CAACjS,MAAN,CAAa,CAAb,EAAgB,CAAhB,CAAD,EAAqB,EAArB,CAAhB;AAEA2T,GAAC,GAAG3+C,IAAI,CAACwrB,KAAL,CAAW,OAAOmzB,CAAlB,IAAuB,GAA3B;AACAC,GAAC,GAAG5+C,IAAI,CAACwrB,KAAL,CAAW,OAAOozB,CAAlB,IAAuB,GAA3B;AACAC,GAAC,GAAG7+C,IAAI,CAACwrB,KAAL,CAAW,OAAOqzB,CAAlB,IAAuB,GAA3B;AACA,SAAQ,IAAGF,CAAC,CAACzjD,QAAF,CAAW,EAAX,EAAe8vC,MAAf,CAAsB,CAAtB,CAAyB,GAAE4T,CAAC,CAAC1jD,QAAF,CAAW,EAAX,EAAe8vC,MAAf,CAAsB,CAAtB,CAAyB,GAAE6T,CAAC,CAAC3jD,QAAF,CAAW,EAAX,EAAe8vC,MAAf,CAAsB,CAAtB,CAAyB,EAA1F;AACA;;AAED,SAAS2qI,mBAAT,GAA+B;AAC9B,MAAI;AACH,SAAK,MAAM32J,MAAX,IAAqB,CAAC,WAAD,EAAc,SAAd,EAAyB,YAAzB,EAAuC,aAAvC,EAAsD,UAAtD,EAAkE,mBAAlE,EAAuF,WAAvF,CAArB,EAA0H;AACzH,YAAMmc,OAAO,GAAG,CAAC20F,qBAAA,CAAchyH,GAAd,CAAkB5D,oBAAM,CAAC2nH,QAAzB,KAAsC3nH,oBAAM,CAACkF,OAA9C,EAAuD4f,MAAvD,EAA+D1d,KAA/E;AACAwuH,yBAAA,CAAY51H,oBAAM,CAAC2nH,QAAnB,EAA6B7iG,MAA7B,EAAqCg4J,kBAAkB,CAAC77I,OAAD,CAAvD;AACA;;AACDi4F,yBAAK,CAAC7zF,IAAN,CAAW,+FAAX;AACA,GAND,CAME,OAAOp5B,CAAP,EAAU;AACXitH,yBAAK,CAAC7zF,IAAN,CAAW8hD,IAAI,CAAC,uCAAD,CAAf;AACA;AACD,C;;ACtdD;AACA;AACA;AACA;AACA;AAcA;AACA;AACA;AACA;AACA;AAEO,MAAMnnF,eAAiB,GAAG,IAAIirH,MAAJ,CAAW,UAAX,CAA1B;AAEPjrH,eAAM,CAACkrH,UAAP,GAAoB,cAApB;AACAlrH,eAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,eAAM,CAAC4jG,WAAP,GAAqB,cAArB;AACA5jG,eAAM,CAACkF,OAAP,GAAiB;AAChB63K,WAAS,EAAE;AACVzpF,SAAK,EAAE,wBADG;AAEV1xF,QAAI,EAAE,SAFI;AAGVwF,SAAK,EAAE,IAHG;AAIVw8F,eAAW,EAAE;AAJH,GADK;AAOhBo5E,iBAAe,EAAE;AAChB1pF,SAAK,EAAE,8BADS;AAEhB1xF,QAAI,EAAE,SAFU;AAGhBwF,SAAK,EAAE,IAHS;AAIhBw8F,eAAW,EAAE,6BAJG;AAKhB09B,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC63K,SAAR,CAAkB31K;AALxB,GAPD;AAchB61K,YAAU,EAAE;AACX3pF,SAAK,EAAE,yBADI;AAEX1xF,QAAI,EAAE,MAFK;AAGXwF,SAAK,EAAE,KAHI;AAIXw8F,eAAW,EAAE,wBAJF;AAKXq2B,YAAQ,EAAE,IALC;AAMXqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC63K,SAAR,CAAkB31K;AAN7B,GAdI;AAsBhBusH,WAAS,EAAE;AACVrgC,SAAK,EAAE,wBADG;AAEV1xF,QAAI,EAAE,MAFI;AAGVwF,SAAK,EAAE,KAHG;AAIVw8F,eAAW,EAAE,uBAJH;AAKVq2B,YAAQ,EAAE,IALA;AAMVqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC63K,SAAR,CAAkB31K;AAN9B,GAtBK;AA8BhBwsH,WAAS,EAAE;AACVtgC,SAAK,EAAE,wBADG;AAEV1xF,QAAI,EAAE,MAFI;AAGVwF,SAAK,EAAE,KAHG;AAIVw8F,eAAW,EAAE,uBAJH;AAKVq2B,YAAQ,EAAE,IALA;AAMVqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC63K,SAAR,CAAkB31K;AAN9B,GA9BK;AAsChB81K,cAAY,EAAE;AACb5pF,SAAK,EAAE,2BADM;AAEb1xF,QAAI,EAAE,SAFO;AAGbwF,SAAK,EAAE,IAHM;AAIbw8F,eAAW,EAAE,0BAJA;AAKbq2B,YAAQ,EAAE,IALG;AAMbqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC63K,SAAR,CAAkB31K;AAN3B,GAtCE;AA8ChB+1K,iBAAe,EAAE;AAChB7pF,SAAK,EAAE,8BADS;AAEhB1xF,QAAI,EAAE,SAFU;AAGhBwF,SAAK,EAAE,IAHS;AAIhBw8F,eAAW,EAAE,6BAJG;AAKhBq2B,YAAQ,EAAE,IALM;AAMhBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC63K,SAAR,CAAkB31K;AANxB,GA9CD;AAsDhBu1K,gBAAc,EAAE;AACfrpF,SAAK,EAAE,6BADQ;AAEf1xF,QAAI,EAAE,OAFS;AAGfwF,SAAK,EAAE,SAHQ;AAIfw8F,eAAW,EAAE,4BAJE;AAKfq2B,YAAQ,EAAE,IALK;AAMfqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACi4K,eAAR,CAAwB/1K;AAN/B,GAtDA;AA8DhBw1K,qBAAmB,EAAE;AACpBtpF,SAAK,EAAE,kCADa;AAEpB1xF,QAAI,EAAE,OAFc;AAGpBwF,SAAK,EAAE,SAHa;AAIpBw8F,eAAW,EAAE,iCAJO;AAKpBq2B,YAAQ,EAAE,IALU;AAMpBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACi4K,eAAR,CAAwB/1K;AAN1B;AA9DL,CAAjB;AAwEO,MAAMg2K,gBAAgB,GAAG,EAAzB;;AAEPp9K,eAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,eAAM,CAACkF,OAAP,CAAe63K,SAAf,CAAyB31K,KAA7B,EAAoC;AACnC2sH,YAAA,CAAe/zH,eAAM,CAAC2nH,QAAtB,EACEziH,OADF,CACU;AACR+rB,WAAK,EAAE,GADC;AAERyiG,eAAS,EAAEniG,UAAU,CAACvxB,eAAM,CAACkF,OAAP,CAAe+3K,UAAf,CAA0B71K,KAA3B,CAFb;AAGRusH,eAAS,EAAEpiG,UAAU,CAACvxB,eAAM,CAACkF,OAAP,CAAeyuH,SAAf,CAAyBvsH,KAA1B,CAHb;AAIRwsH,eAAS,EAAEriG,UAAU,CAACvxB,eAAM,CAACkF,OAAP,CAAe0uH,SAAf,CAAyBxsH,KAA1B;AAJb,KADV,EAOEyuH,YAPF,CAOewnD,YAPf,EAQEnnD,KARF,CAQQ1zC,gBARR;AASA;AACD,CAZD;;AAcA,eAAe66F,YAAf,CAA4BzqB,IAA5B,EAAkC;AACjC,QAAMttH,QAAQ,GAAGm9C,mBAAmB,CAACmwE,IAAI,CAACx9B,gBAAL,EAAD,CAApC;;AAEA,MAAI,CAAC9vF,QAAL,EAAe;AACdnmB,WAAO,CAACjZ,KAAR,CAAcihF,IAAI,CAAC,6BAAD,CAAlB;AACA;AACA;;AAED,QAAMgJ,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAW0gF,IAAI,CAACx9B,gBAAL,EAAX,CAAd;AACA,MAAIj0G,IAAJ;;AAEA,MAAI;AACH,KAAC;AAAEA;AAAF,QAAW,MAAM0hE,WAAW,CAACv9C,QAAD,CAA7B;AACA,GAFD,CAEE,OAAOr5B,CAAP,EAAU;AACX,WAAO,CAAC,IAAD,EAAOk7E,IAAI,CAAC,sBAAD,CAAX,CAAP;AACA;;AAED,MAAIhmE,IAAI,CAACm8J,YAAT,EAAuB;AACtB,WAAO,CAAC,IAAD,EAAOn2F,IAAI,CAAC,uBAAD,CAAX,CAAP;AACA;;AAED,QAAMp5C,CAAC,GAAG,IAAIrlC,IAAJ,CAASyY,IAAI,CAACo8J,WAAL,GAAmB,IAA5B,CAAV;AAEA,QAAM9gD,MAAM,GAAG97G,sBAAM,CAAC+N,IAAK;;oBAERvN,IAAI,CAAChc,IAAK,QAAOgc,IAAI,CAAChc,IAAK;sBACzBgc,IAAI,CAAChc,IAAK,gBAAegiF,IAAI,CAAC,eAAD,CAAkB;sBAC/ChmE,IAAI,CAAChc,IAAK,eAAcgiF,IAAI,CAAC,kBAAD,CAAqB;;EAJtE;;AAQA,MAAItF,YAAY,EAAhB,EAAoB;AACnB,UAAMj4D,MAAM,GAAGouE,6BAAa,CAAC+L,iBAAd,CACd5c,IAAI,CAAC,0BAAD,CADU,EAEd,EAFc,EAGd,MAAMhmE,IAAI,CAACq8J,SAHG,EAId,MAAM1gK,KAAN,IAAe;AACdulB,UAAI,CAAC;AACJ9lB,cAAM,EAAE,MADJ;AAEJklB,WAAG,EAAG,QAAO3kB,KAAK,GAAG,QAAH,GAAc,UAAW,EAFvC;AAGJqE,YAAI,EAAE;AACLvf,cAAI,EAAE,QADD;AAELuD,cAAI,EAAEgc,IAAI,CAAChc,IAFN;AAGLorB,mBAAS,EAAG,MAAK,CAAC,MAAMsyD,WAAW,EAAlB,EAAsB1hE,IAAtB,CAA2BtU,EAAG;AAH1C;AAHF,OAAD,CAAJ;AASAw1B,UAAI,CAAC4iD,UAAL,CAAgB;AAAExjD,WAAG,EAAG,SAAQtgB,IAAI,CAAChc,IAAK;AAA1B,OAAhB;AACA,KAfa,CAAf;AAiBAykB,UAAM,CAAC1G,KAAP,CAAa2N,UAAb,GAA0B,MAA1B;AACA4rG,UAAM,CAAC75H,WAAP,CAAmBgnB,MAAnB;AACA;;AAEDgpI,MAAI,CAACx8B,QAAL,CAAc,CAACqG,MAAD,CAAd;AAEA,QAAM1T,KAAK,GAAGv/E,gBAAC,CAAC,gCAAD,CAAf;AAEA,MAAIi0I,QAAQ,GAAG98J,sBAAM,CAACnP,MAAO;wDAC0B21E,IAAI,CAAC,uBAAD,CAA0B,sCAAqC2V,UAAU,CAAC/uD,CAAD,CAAI,KAAIivD,cAAc,CAACjvD,CAAD,CAAI;wDACvGo5C,IAAI,CAAC,mBAAD,CAAsB,sCAAqC0V,YAAY,CAAC17E,IAAI,CAACyqJ,UAAN,CAAkB;wDAC7FzkF,IAAI,CAAC,sBAAD,CAAyB,sCAAqC0V,YAAY,CAAC17E,IAAI,CAAC0qJ,aAAN,CAAqB;EAH1J;AAMA,QAAM6R,iBAAiB,GAAGvrD,SAAA,CAAkBs0C,0BAAlB,CAA1B;AACA,QAAMkX,OAAO,GAAGD,iBAAiB,KAAI,MAAMjX,cAAA,CAAe7iK,GAAf,CAAmBud,IAAI,CAAChc,IAAxB,CAAV,CAAjC;;AAEA,MAAIu4K,iBAAJ,EAAuB;AACtBD,YAAQ,IAAK,uDAAsDt2F,IAAI,CAAC,iBAAD,CAAoB,6GAA4GhmE,IAAI,CAAChc,IAAK,iBAAjN;AACA;;AAED,MAAIw4K,OAAO,IAAIA,OAAO,CAACr4G,IAAvB,EAA6B;AAC5B,UAAM2lF,KAAK,GAAG0yB,OAAO,CAACr4G,IAAR,CAAa99D,KAAb,CAAmB,IAAnB,EAAyB60E,MAAzB,CAAgC,CAACuR,GAAD,EAAMnsD,GAAN,KAAcmsD,GAAG,GAAGjtE,sBAAM,CAACnP,MAAO,qDAAoDiwB,GAAI,KAAIA,GAAG,CAACz7B,OAAJ,CAAY,sBAAZ,EAAoC,EAApC,CAAwC,MAAtK,EAA6K,EAA7K,CAAd;AACAy3K,YAAQ,IAAK,uDAAsDt2F,IAAI,CAAC,cAAD,CAAiB,sCAAqC8jE,KAAM,cAAnI;AACA;;AAEDwyB,UAAQ,IAAI98J,sBAAM,CAACnP,MAAO;;;6GAGkF2P,IAAI,CAAChc,IAAK,oEAAmEgiF,IAAI,CAAC,qBAAD,CAAwB;EAHrN;;AAMA,MAAIhmE,IAAI,CAAC2qJ,OAAT,EAAkB;AACjB2R,YAAQ,IAAI98J,sBAAM,CAACnP,MAAO,qFAAoF21E,IAAI,CAAC,2BAAD,CAA8B,MAAhJ;AACA,GAFD,MAEO;AACNs2F,YAAQ,IAAI98J,sBAAM,CAACnP,MAAO,oHAAmH2P,IAAI,CAAChc,IAAK,KAAIgiF,IAAI,CAAC,wBAAD,CAA2B,MAA1L;AACA;;AAED,MAAInnF,eAAM,CAACkF,OAAP,CAAei4K,eAAf,CAA+B/1K,KAAnC,EAA0C;AACzC,UAAMw2K,WAAW,GAAG,CAACR,gBAAgB,CAACj8J,IAAI,CAACtU,EAAN,CAArC;AACA4wK,YAAQ,IAAI98J,sBAAM,CAACnP,MAAO,eAAcosK,WAAW,GAAG,YAAH,GAAkB,WAAY,qCAAoCz8J,IAAI,CAACtU,EAAG,KAAI+wK,WAAW,GAAGz2F,IAAI,CAAC,mBAAD,CAAP,GAA+BA,IAAI,CAAC,qBAAD,CAAwB,QAAvM;AACA;;AAED,MAAIw2F,OAAJ,EAAa;AACZ,UAAME,SAAS,GAAG,MAAMl9J,sBAAM,CAAC+N,IAAK,eAAcivJ,OAAO,CAAC33J,OAAR,GAAkB,WAAlB,GAAgC,YAAa,6BAA4B23J,OAAO,CAAC33J,OAAR,GAAkBmhE,IAAI,CAAC,kBAAD,CAAtB,GAA6CA,IAAI,CAAC,gBAAD,CAAmB,QAA/L;;AAEA4hC,SAAK,CAAC3hG,EAAN,CAAS,OAAT,EAAkB,aAAlB,EAAkCnb,CAAD,IAAc;AAC9C,UAAIA,CAAC,CAACmd,aAAF,CAAgBs3D,SAAhB,CAA0Bj4E,QAA1B,CAAmC,YAAnC,CAAJ,EAAsDk1K,OAAO,CAAC7kE,MAAR,GAAtD,KACK6kE,OAAO,CAAC9Y,QAAR;AACL54J,OAAC,CAACmd,aAAF,CAAgBqG,WAAhB,CAA4BouJ,SAAS,EAArC;AACA,KAJD;AAMAJ,YAAQ,IAAII,SAAS,GAAGnhD,SAAxB;AACA;;AAED+gD,UAAQ,IAAI,iCAAZ;AAEA10D,OAAK,CAAC35F,MAAN,CAAaquJ,QAAb;;AAEA,MAAIE,OAAJ,EAAa;AACZA,WAAO,CAAC1jK,GAAR,CAAYw9D,QAAQ,CAACsxC,KAAK,CAACh5G,IAAN,CAAW,SAAX,EAAsBnM,GAAtB,CAA0B,CAA1B,CAAD,EAA+B8+E,iBAA/B,CAApB,EAAuE;AAAEshF,uBAAiB,EAAE;AAArB,KAAvE;AACA;;AAED,MAAIhkK,eAAM,CAACkF,OAAP,CAAei4K,eAAf,CAA+B/1K,KAAnC,EAA0C;AACzC2hH,SAAK,CAACh5G,IAAN,CAAW,gBAAX,EAA6BqX,EAA7B,CAAgC,OAAhC,EAAyC,CAAC;AAAEgC;AAAF,KAAD,KAA8B;AACtE,YAAMqzJ,MAAM,GAAGrzJ,aAAa,CAAC3mB,YAAd,CAA2B,aAA3B,CAAf;AACAq7K,yBAAmB,CAAC10J,aAAD,EAAgBqzJ,MAAhB,EAAwBtsF,KAAxB,CAAnB;AACA,KAHD;AAIA;;AACD,MAAInwF,eAAM,CAACkF,OAAP,CAAeg4K,YAAf,CAA4B91K,KAA5B,IAAqC+oF,KAArC,IAA8CA,KAAK,CAACmB,SAAN,EAAlD,EAAqE;AACpEy3B,SAAK,CAACh5G,IAAN,CAAW,WAAX,EAAwBqX,EAAxB,CAA2B,OAA3B,EAAqCnb,CAAD,IAAmB;AACtD,UAAI,CAACkkF,KAAD,IAAUlkF,CAAC,CAACwf,OAAZ,IAAuBxf,CAAC,CAAC2f,OAAzB,IAAoC3f,CAAC,CAAC8f,QAA1C,EAAoD;AAEpD6mI,UAAI,CAACvuD,KAAL;AACA,YAAM05E,QAAQ,GAAG5tF,KAAK,CAAC9gB,KAAN,CAAYwJ,aAAZ,CAA0B,YAA1B,CAAjB;AACAxuD,WAAK,CAAC0zJ,QAAD,CAAL;AACA9xK,OAAC,CAACsd,cAAF;AACA,KAPD;AAQA;;AAED,MAAIvpB,eAAM,CAACkF,OAAP,CAAe83K,eAAf,CAA+B51K,KAA/B,IAAwC+qH,SAAA,CAAkB6rD,4BAAlB,CAA5C,EAA6E;AAC5Ej1D,SAAK,CAACh5G,IAAN,CAAW,iBAAX,EAA8BqX,EAA9B,CAAiC,OAAjC,EAA2Cnb,CAAD,IAA+B;AACxE,UAAIA,CAAC,CAAC8gB,KAAF,KAAY,CAAhB,EAAmB;AAClB9gB,SAAC,CAACsd,cAAF;AAEA,YAAI00J,QAAJ;;AACA,YAAID,mBAAA,CAAoB94K,OAApB,CAA4B0yK,iBAA5B,CAA8CxwK,KAA9C,IAAuD+oF,KAA3D,EAAkE;AACjE,gBAAM+tF,SAAS,GAAG/tF,KAAK,CAAC4C,mBAAN,EAAlB;;AACA,cAAImrF,SAAJ,EAAe;AACdD,oBAAQ,GAAGC,SAAS,CAAC5pK,IAArB;AACA,gBAAI,CAAC2pK,QAAQ,CAACr8H,QAAT,CAAkB,WAAlB,CAAL,EAAqCq8H,QAAQ,IAAI,aAAZ;AACrC;AACD;;AAEDD,8BAAA,CAAoC;AACnCtkJ,YAAE,EAAEvY,IAAI,CAAChc,IAD0B;AAEnCif,cAAI,EAAE65J;AAF6B,SAApC;AAIArrB,YAAI,CAACvuD,KAAL;AACA;AACD,KAnBD;AAoBA;;AAED,SAAO,CAAC,IAAD,EAAO0kB,KAAP,CAAP;AACA;;AAED,SAAS+0D,mBAAT,CAA6BK,0BAA7B,EAAyD1B,MAAzD,EAAiEtsF,KAAjE,EAAwE;AACvE,MAAIitF,gBAAgB,CAACX,MAAD,CAApB,EAA8B;AAC7BW,oBAAgB,CAACX,MAAD,CAAhB,CAAyB/gK,MAAzB;AACA,WAAO0hK,gBAAgB,CAACX,MAAD,CAAvB;AACA2B,6BAAyB,CAACD,0BAAD,EAA6B,IAA7B,CAAzB;AACA,GAJD,MAIO;AACNf,oBAAgB,CAACX,MAAD,CAAhB,GAA2B4B,aAAA,CAA4B5B,MAA5B,CAA3B;AACA2B,6BAAyB,CAACD,0BAAD,EAA6B,KAA7B,CAAzB;AACA;;AAED,MAAIhsD,SAAA,CAAkB2hC,gCAAlB,KAAuCA,uBAAA,CAAwB5uJ,OAAxB,CAAgCo5K,mBAAhC,CAAoDl3K,KAA/F,EAAsG;AACrG0sJ,eAAA,CAA6B,aAA7B,EAA4C,IAA5C;AACA,QAAI3jE,KAAJ,EAAW2jE,kBAAA,CAAoC3jE,KAApC;AACX2jE,2BAAA,CAAwB,KAAxB,EAA+B,IAA/B;AACA;AACD;;AAED,SAASsqB,yBAAT,CAAmCD,0BAAnC,EAA+DI,YAA/D,EAA6E;AAC5E/0I,kBAAC,CAAC20I,0BAAD,CAAD,CACE3hJ,WADF,CACc,YADd,EAC4B+hJ,YAD5B,EAEE/hJ,WAFF,CAEc,WAFd,EAE2B,CAAC+hJ,YAF5B,EAGE/7K,IAHF,CAGO+7K,YAAY,GAAGp3F,IAAI,CAAC,mBAAD,CAAP,GAA+BA,IAAI,CAAC,qBAAD,CAHtD;AAIA,C;;ACtSD;AACA;AACA;AACA;AAEO,MAAMnnF,kBAAiB,GAAG,IAAIirH,MAAJ,CAAW,aAAX,CAA1B;AAEPjrH,kBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,kBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,kBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AAEA,IAAI46E,QAAJ;;AAEAx+K,kBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAI,CAACu7F,QAAD,IAAarhG,UAAU,CAAC,UAAD,CAA3B,EAAyCshG,mBAAmB;AAC5D,MAAI,CAACD,QAAL,EAAe;AAEf,QAAME,iBAAiB,GAAG/9J,sBAAM,CAAC+N,IAAK,6CAAtC;AAEA,QAAMiwJ,OAAO,GAAGH,QAAQ,CAACE,iBAAD,CAAxB;AAEA9/C,+BAAa,CAAC/6C,WAAd,CAA0B5iD,OAAO,IAAI;AACpCy9I,qBAAiB,CAAC5nJ,MAAlB,GAA2B,CAACmK,OAA5B;AACA,GAFD,EAEG,WAFH;AAIAy9I,mBAAiB,CAACnvK,gBAAlB,CAAmC,OAAnC,EAA6CtD,CAAD,IAAmB;AAC9DA,KAAC,CAAC4e,wBAAF;AACA5e,KAAC,CAACsd,cAAF;AACAo1J,WAAO,CAAC1yK,CAAC,CAACi8I,MAAF,GAAW,CAAX,GAAe,MAAf,GAAwB,IAAzB,EAA+Bj8I,CAA/B,CAAP;AACA,GAJD;AAMA6tF,YAAU,CAAC4kF,iBAAD,EAAoB;AAAE3rG,SAAK,EAAE,CAAC;AAAV,GAApB,CAAV;AACA,CAnBD;;AAqBO,SAAS6rG,WAAT,CAAqB5iK,CAArB,EAAyC;AAC/CwiK,UAAQ,GAAGxiK,CAAX;AACA;;AAED,SAASyiK,mBAAT,GAA+B;AAC9B,QAAMI,WAAW,GAAGl+J,sBAAM,CAAC+N,IAAK,qDAAhC;AACA,MAAI44G,KAAJ;;AAEA,WAASw3C,iBAAT,CAA2B7jG,SAA3B,EAAsD;AACrD,UAAMp1E,OAAO,GAAG0gI,eAAO,CAACC,mBAAR,CAA4B5H,6BAAa,CAAC39F,OAA1C,CAAhB;AACAqmG,SAAK,GAAGzhI,OAAO,IAAIA,OAAO,CAACyhI,KAA3B;AAEAu3C,eAAW,CAAC/nJ,MAAZ,GAAqB,EACpBwwG,KAAK,IACLA,KAAK,CAACpyF,OAAN,CAAcwrC,SAAd,CAAwBj4E,QAAxB,CAAiC,uBAAjC,CADA,IAGC,EAAEwyE,SAAS,KAAK,MAAd,IAAwBqsD,KAAK,CAACpyF,OAAN,CAAc2jC,aAAd,CAA4B,mBAA5B,CAA1B,KACA,EAAEoC,SAAS,KAAK,IAAd,IAAsBqsD,KAAK,CAACpyF,OAAN,CAAc2jC,aAAd,CAA4B,oBAA5B,CAAxB,CALmB,CAArB;AAQA;;AAED+lG,aAAW,CAACF,iBAAiB,IAAI;AAChCA,qBAAiB,CAACnvK,gBAAlB,CAAmC,OAAnC,EAA4C,MAAM+qH,uBAAA,CAAwBt6H,kBAAM,CAAC2nH,QAA/B,CAAlD;AACA+2D,qBAAiB,CAACnvK,gBAAlB,CAAmC,YAAnC,EAAiD,MAAM;AAAEuvK,uBAAiB;AAAK,KAA/E;AACAJ,qBAAiB,CAACtvJ,MAAlB,CAAyByvJ,WAAzB;AAEA,WAAO,CAAC5jG,SAAD,EAAY;AAAE11E;AAAF,KAAZ,KAA2B;AACjC,UAAIA,MAAM,KAAKm5K,iBAAf,EAAkC;AACjC9/C,qCAAa,CAACp4B,IAAd,CAAmBvrB,SAAnB,EAA8B;AAAEqnE,0BAAgB,EAAE,IAApB;AAA0BvnE,qBAAW,EAAE;AAAvC,SAA9B;AACA,OAFD,MAEO,IAAIx1E,MAAM,KAAKs5K,WAAf,EAA4B;AAClC,cAAME,OAAO,GAAGz3C,KAAK,IAAIA,KAAK,CAACpyF,OAAN,CAAc2jC,aAAd,CAA4BoC,SAAS,KAAK,MAAd,GAAuB,mBAAvB,GAA6C,uBAAzE,CAAzB;AACA,YAAI8jG,OAAJ,EAAaA,OAAO,CAAC10J,KAAR;AACby0J,yBAAiB,CAAC7jG,SAAD,CAAjB;AACA;AACD,KARD;AASA,GAdU,CAAX;AAeA,C;;;;;;;ACrED;AACA;AAaA;AACA;AACA;AACA;AACA;AAEO,MAAMj7E,uBAAiB,GAAG,IAAIirH,MAAJ,CAAW,kBAAX,CAA1B;AAEPjrH,uBAAM,CAACkrH,UAAP,GAAoB,gBAApB;AACAlrH,uBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,uBAAM,CAAC4jG,WAAP,GAAqB,gBAArB;AACA5jG,uBAAM,CAACkF,OAAP,GAAiB;AAChB85K,eAAa,EAAE;AACdp9K,QAAI,EAAE,SADQ;AAEdwF,SAAK,EAAE,KAFO;AAGdw8F,eAAW,EAAE,mCAHC;AAIdtQ,SAAK,EAAE;AAJO,GADC;AAOhBgrF,qBAAmB,EAAE;AACpB18K,QAAI,EAAE,SADc;AAEpBwF,SAAK,EAAE,IAFa;AAGpBw8F,eAAW,EAAE,yCAHO;AAIpBtQ,SAAK,EAAE,0CAJa;AAKpB2mC,YAAQ,EAAE;AALU,GAPL;AAchBglD,mBAAiB,EAAE;AAClBr9K,QAAI,EAAE,MADY;AAElBwF,SAAK,EAAEua,IAAI,CAACslE,SAAL,CAAe;AAAErlF,UAAI,EAAE,eAAR;AAAyBu7F,QAAE,EAAE,GAA7B;AAAkCsyD,UAAI,EAAE,OAAxC;AAAiDptJ,SAAG,EAAE;AAAtD,KAAf,CAFW;AAGlBuhG,eAAW,EAAE,uCAHK;AAIlBtQ,SAAK,EAAE,wCAJW;AAKlB2mC,YAAQ,EAAE;AALQ;AAdH,CAAjB;AAsBAj6H,uBAAM,CAACurH,OAAP,GAAiB,CAChB,UADgB,CAAjB;;AAIAvrH,uBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3Bi8F,qBAAmB;;AAEnB,MAAIl/K,uBAAM,CAACkF,OAAP,CAAe85K,aAAf,CAA6B53K,KAAjC,EAAwC;AACvC+3K,cAAU;AACV;;AAEDC,aAAA,CAAwBV,iBAAiB,IAAI;AAC5CA,qBAAiB,CAACnvK,gBAAlB,CAAmC,OAAnC,EAA4C,MAAM;AAAEkV,6BAAM;AAAK,KAA/D;AAEA,WAAOw2D,SAAS,IAAI;AACnB,UAAIA,SAAS,KAAK,IAAlB,EAAwBurB,qBAAI,CAAC,IAAD,CAAJ,CAAxB,KACKA,qBAAI,CAAC,MAAD,CAAJ;AACL,KAHD;AAIA,GAPD;;AASA,QAAM64E,mBAAmB,GAAG,MAAMh9K,GAAN,IAAaA,GAAG,IAAI,CAAC,MAAMi9K,aAAa,EAApB,EAAwBvvK,IAAxB,CAA6B,CAAC;AAAEo7G;AAAF,GAAD,KAAkBA,QAAQ,CAAC3qC,UAAT,CAAoBn+E,GAApB,CAA/C,CAAhD;;AACA+3H,iBAAA,CAA4B,KAA5B,EAAmC,6CAAnC,EACC,OAAOzB,OAAP,EAAgBt2H,GAAhB,KAAwB;AACvB,UAAM;AAAE8oH,cAAQ,EAAEo0D,gBAAgB,GAAG;AAA/B,QAAsC,OAAMF,mBAAmB,CAACh9K,GAAD,CAAzB,KAAkC,EAA9E;AACA,WAAQ,0BAAyB,CAAC,MAAMi9K,aAAa,EAApB,EAAwBj7K,GAAxB,CAA4B,CAAC;AAAE8mH;AAAF,KAAD,KAAkBo0D,gBAAgB,KAAKp0D,QAArB,GAAiC,MAAKA,QAAS,MAA/C,GAAuDA,QAArG,EAA+Gh+G,IAA/G,CAAoH,GAApH,CAAyH,IAA1J;AACA,GAJF,EAKC,OAAOwrH,OAAP,EAAgBt2H,GAAhB,KAAwB;AACvB,UAAM;AAAE8oH,cAAQ,EAAEo0D,gBAAgB,GAAG;AAA/B,QAAsC,OAAMF,mBAAmB,CAACh9K,GAAD,CAAzB,KAAkC,EAA9E;AACA,QAAIk9K,gBAAJ,EAAsBC,WAAW,CAACD,gBAAD,CAAX;AACtB96J,2BAAM,CAAC,KAAD,EAAQ,IAAR,CAAN;AACA,GATF;AAWA,CA5BD;;AA8BA,MAAMmjH,2BAAU,GAAG,sBAAO,MAAM;AAE/BxnC,gBAAc,CAAC,CAAC,SAAD,CAAD,EAAc,MAAM;AAAEq/E,aAAS,CAAChyK,KAAV,CAAgB2hE,KAAhB;AAA0B,GAAhD,CAAd;AAEAwvD,+BAAa,CAAC/6C,WAAd,CAA0B67F,kBAA1B,EAA8C,WAA9C;AACA,MAAI9gD,6BAAa,CAAC39F,OAAlB,EAA2By+I,kBAAkB,CAAC9gD,6BAAa,CAAC39F,OAAf,CAAlB;AAC3B,CANkB,CAAnB;;AAQA,MAAMs4F,0BASL,GAAG;AACHomD,QAAM,EAAE;AACPrsF,SAAK,EAAE,0BADA;AAEPurC,cAAU,EAAE;AAAEj9H,UAAI,EAAE;AAAR;AAFL,GADL;AAKH89F,SAAO,EAAE;AACRpM,SAAK,EAAE,mBADC;AAERurC,cAAU,EAAE;AAAEj9H,UAAI,EAAE;AAAR;AAFJ,GALN;AASHg+K,WAAS,EAAE;AACVtsF,SAAK,EAAE,8CADG;AAEVurC,cAAU,EAAE;AAAEj9H,UAAI,EAAE,UAAR;AAAoB0P,UAAI,EAAE;AAA1B;AAFF,GATR;AAaHuuK,WAAS,EAAE;AACVvsF,SAAK,EAAE,sCADG;AAEVurC,cAAU,EAAE;AAAEj9H,UAAI,EAAE,UAAR;AAAoB0P,UAAI,EAAE;AAA1B;AAFF,GAbR;AAiBHwuK,QAAM,EAAE;AACPxsF,SAAK,EAAE,sDADA;AAEPurC,cAAU,EAAE;AAAEj9H,UAAI,EAAE,UAAR;AAAoB0P,UAAI,EAAE;AAA1B;AAFL,GAjBL;AAqBHy8H,IAAE,EAAE;AACHz6C,SAAK,EAAE,+BADJ;AAEHurC,cAAU,EAAE;AAAEj9H,UAAI,EAAE,UAAR;AAAoB0P,UAAI,EAAE;AAA1B;AAFT,GArBD;AAyBHyuK,OAAK,EAAE;AACNzsF,SAAK,EAAE,yCADD;AAENurC,cAAU,EAAE;AAAEj9H,UAAI,EAAE,UAAR;AAAoB0P,UAAI,EAAE;AAA1B;AAFN,GAzBJ;AA6BH0uK,aAAW,EAAE;AACZ1sF,SAAK,EAAE,4CADK;;AAEZ2sF,eAAW,GAAG;AACb,YAAMC,uBAAuB,GAAGz/K,MAAM,CAAC+M,IAAP,CAAYkvK,gBAAZ,EAC9Br4K,GAD8B,CAC1BqJ,GAAG,IAAK,iBAAgBA,GAAI,EADF,EAE9BP,IAF8B,CAEzB,IAFyB,CAAhC;AAGA,aAAO+yK,uBAAuB,GAAGhgL,QAAQ,CAACmN,gBAAT,CAA0B6yK,uBAA1B,CAAH,GAAwD,EAAtF;AACA;;AAPW,GA7BV;AAsCHC,QAAM,EAAE;AACP7sF,SAAK,EAAE,wCADA;AAEP2sF,eAAW,EAAE,MAAM//K,QAAQ,CAACmN,gBAAT,CAA0B,8BAA1B;AAFZ,GAtCL;AA0CH+yK,QAAM,EAAE;AACP9sF,SAAK,EAAE,kCADA;AAEP2sF,eAAW,EAAE,MAAM//K,QAAQ,CAACmN,gBAAT,CAA0B,cAA1B;AAFZ,GA1CL;AA8CHgzK,MAAI,EAAE;AACL/sF,SAAK,EAAE,8FADF;AAEL8jE,aAAS,EAAE,YAAYhoE,SAAS,EAAC,MAAMkxF,QAAQ,CAAC,WAAD,CAAf,GAA8BnwF,KAAK,IAAIA,KAAK,CAAC98E,MAAN,GAAe,CAAC88E,KAAK,CAAC98E,MAAP,CAAf,GAAgCzN,SAAvE;AAF3B,GA9CH;AAkDHyjI,QAAM,EAAE;AACP/1C,SAAK,EAAE,uCADA;AAEPurC,cAAU,EAAE;AAAEj9H,UAAI,EAAE,YAAR;AAAsBylB,WAAK,EAAE,CAAC,OAAD;AAA7B;AAFL,GAlDL;AAsDHykI,QAAM,EAAE;AACPx4D,SAAK,EAAE,uCADA;AAEPurC,cAAU,EAAE;AAAEj9H,UAAI,EAAE,YAAR;AAAsBylB,WAAK,EAAE,CAAC,OAAD;AAA7B;AAFL,GAtDL;AA0DHk5J,SAAO,EAAE;AACRjtF,SAAK,EAAE,0DADC;;AAER,UAAM8jE,SAAN,GAAkB;AACjB,aAAO,eACNhoE,SAAS,CAACe,KAAK,IAAI;AAClB,cAAMw/D,KAAK,GAAGx/D,KAAK,CAACoD,QAAN,EAAd;;AACA,YAAI,OAAOo8D,KAAP,KAAiB,QAArB,EAA+B;AAC9B,iBAAO,CAAC,CAACA,KAAD,EAAQx/D,KAAR,CAAD,CAAP;AACA;AACD,OALQ,CADH,EAON5vF,GAAG,IAAIA,GAAG,CAACwE,IAAJ,CAAS,CAACqE,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAAC,CAAD,CAAD,GAAOD,CAAC,CAAC,CAAD,CAA3B,CAPD,EAQN,cAAI,CAAC,GAAG+mF,KAAH,CAAD,KAAeA,KAAnB,CARM,GASL,MAAMmwF,QAAQ,CAAC,SAAD,CATT,EAAP;AAUA,KAbO;;AAcR,QAAIzhD,UAAJ,GAAiB;AAAE,aAAOl9G,IAAI,CAACC,KAAL,CAAW5hB,uBAAM,CAACkF,OAAP,CAAe+5K,iBAAf,CAAiC73K,KAA5C,CAAP;AAA4D,KAdvE;;AAeRo5K,aAAS,EAAE;AAfH,GA1DN;AA2EHC,KAAG,EAAE;AACJntF,SAAK,EAAE,wDADH;AAEJ2sF,eAAW,EAAE,MAAM//K,QAAQ,CAACmN,gBAAT,CAA0B,cAA1B,CAFf;AAGJzB,YAAQ,EAAE,MAAM,CAAC1L,QAAQ,CAACkkB,IAAT,CAAcy0D,aAAd,CAA4B,iCAA5B;AAHb,GA3EF;AAgFH6nG,SAAO,EAAE;AACRptF,SAAK,EAAE,uCADC;AAERurC,cAAU,EAAE;AAAEj9H,UAAI,EAAE,UAAR;AAAoB6tJ,UAAI,EAAE;AAA1B;AAFJ;AAhFN,CATJ;AA+FO,SAASkxB,sBAAT,CAAgC9hD,UAAhC,EAA+C;AACrDtF,4BAAS,CAAComD,MAAV,CAAiB9gD,UAAjB,GAA8BA,UAA9B;AACA;;AAED,SAASygD,aAAT,GAAyB;AACxB,SAAOznG,OAAO,CAACt3D,GAAR,CACN9f,MAAM,CAAC0uE,OAAP,CAAeoqD,0BAAf,EACE1pH,MADF,CACS,CAAC,GAAG;AAAEjE;AAAF,GAAH,CAAD,KAAsB,CAACA,QAAD,IAAa,CAACA,QAAQ,EADrD,EAEEvH,GAFF,CAEM,OAAO,CAAC8mH,QAAD,EAAW;AAAE73B;AAAF,GAAX,CAAP,MAAkC;AACtC63B,YADsC;AAEtC12G,YAAQ,EAAE02G,QAAQ,KAAKy1D,eAFe;AAGtC5sI,QAAI,EAAE,CAAC,MAAM6sI,eAAe,CAAC11D,QAAD,CAAtB,EAAkCznH,MAHF;AAItC4vF;AAJsC,GAAlC,CAFN,CADM,EASL52E,IATK,CASAV,CAAC,IACPA,CAAC,CAACnM,MAAF,CAAS,CAAC;AAAEmkC,QAAF;AAAQv/B;AAAR,GAAD,KAAwBA,QAAQ,IAAIu/B,IAA7C,CAVM,CAAP;AAYA;;AAED,MAAMyrI,SAAS,GAAG,kBAAU,MAAOt0D,QAAP,IAAgD;AAC3E,QAAM;AAAE80D,eAAF;AAAe7oB,aAAf;AAA0Bv4B;AAA1B,MAAyCtF,0BAAS,CAACpO,QAAD,CAAxD;AAEA,MAAI57B,MAAJ;;AAEA,MAAI6nE,SAAJ,EAAe;AACd7nE,UAAM,GAAG,gBAAO,MAAM6nE,SAAS,EAAtB,EAAT;AACA,GAFD,MAEO,IAAI6oB,WAAJ,EAAiB;AACvB1wF,UAAM,GAAG,eAAO7pF,KAAK,CAACwsE,IAAN,CAAW+tG,WAAW,EAAtB,EAA0B57K,GAA1B,CAA8B4H,CAAC,IAAIyjF,WAAK,CAACxd,IAAN,CAAWjmE,CAAX,CAAnC,EAAkD4D,MAAlD,CAAyD8wF,OAAzD,CAAP,CAAT;AACA,GAFM,MAEA;AACNpR,UAAM,GAAGG,WAAK,CAACH,MAAN,GAAe1/E,MAAf,CAAsBsgF,KAAK,IAAIA,KAAK,CAACmB,SAAN,EAA/B,CAAT;AACA;;AAED,SAAOguC,YAAA,CAAmB/vC,MAAnB,EAA2BsvC,UAA3B,CAAP;AACA,CAdiB,CAAlB;;AAeA,MAAMyhD,QAAQ,GAAG,CAACn1D,QAAkB,GAAGy1D,eAAtB,KAA0CnB,SAAS,CAACt0D,QAAD,CAApE;;AACA,MAAM01D,eAAe,GAAG11D,QAAQ,IAAIm1D,QAAQ,CAACn1D,QAAD,CAAR,CAAmBzuG,IAAnB,CAAwBV,CAAC,IAAIA,CAAC,CAACnM,MAAF,CAASsgF,KAAK,IAAIA,KAAK,CAACuG,gBAAN,EAAlB,CAA7B,CAApC;;AACA,IAAIoqF,eAAuB,GAAG,IAA9B;AAGA,IAAIF,eAAyB,GAAGlhG,kBAAkB,CAAC,MAAD,EAAS,YAAT,CAAlB,GAA2C,MAA3C,GAAoD,SAApF;AACA,IAAIqhG,MAAM,GAAG,KAAb;;AAEA,MAAM5B,UAAU,GAAG,sBAAO,MAAM;AAC/B,QAAMxrJ,GAAG,GAAGhT,sBAAM,CAAC+N,IAAK;;;8BAGKkyJ,eAAgB,KAAIA,eAAgB;;;;;;;;;;;;;EAHjE;AAkBA,QAAM54K,MAAM,GAAGyvE,QAAQ,CAAC9jD,GAAG,CAACklD,aAAJ,CAAkB,eAAlB,CAAD,EAAqC2vB,iBAArC,CAAvB;AAEAxgG,QAAM,CAACuH,gBAAP,CAAwB,OAAxB,EAAiC,YAAY;AAC5CoM,SAAK,CAAC3T,MAAD,CAAL;AACA,UAAMgwI,UAAU,GAAG,MAAMsnC,aAAa,EAAtC;AACAt3K,UAAM,CAAConB,MAAP,CACC,GAAG4oH,UAAU,CAAC3zI,GAAX,CAAe,CAAC;AAAE8mH,cAAF;AAAY12G,cAAZ;AAAsBu/B;AAAtB,KAAD,KAAkCrzB,sBAAM,CAAC+N,IAAK;cACrDja,QAAQ,IAAI,UAAW,WAAU02G,QAAS,KAAIA,QAAS,WAAUn3E,IAAK;IAD9E,CADJ;AAKA,GARD,EAQG,IARH;AASAhsC,QAAM,CAACuH,gBAAP,CAAwB,OAAxB,EAAiC,CAAC;AAAEwd;AAAF,GAAD,KAA8B;AAAE,QAAIA,KAAK,KAAK,EAAd,EAA4B/kB,MAAM,CAACilB,IAAP;AAAgB,GAA7G;AACAjlB,QAAM,CAACuH,gBAAP,CAAwB,QAAxB,EAAkC,MAAM;AACvC,UAAMyxK,YAAY,GAAGh5K,MAAM,CAAC9C,OAAP,CAAe2+F,IAAf,CAAoB77F,MAAM,CAAC0M,aAA3B,CAArB;;AACA,QAAIssK,YAAY,KAAK,IAArB,EAA2B;AAC1BxB,iBAAW,CAACwB,YAAY,CAAC55K,KAAd,CAAX;AACA;;AACD65K,iBAAa;AACb,GAND;AAQA,QAAMC,SAAS,GAAGvtJ,GAAG,CAACklD,aAAJ,CAAkB,sBAAlB,CAAlB;AACAqoG,WAAS,CAAC3xK,gBAAV,CAA2B,OAA3B,EAAoC,MAAM82D,MAAM,CAACy6G,eAAD,CAAhD;AACA,QAAM/6E,EAAE,GAAGtuB,QAAQ,CAAC9jD,GAAG,CAACklD,aAAJ,CAAkB,eAAlB,CAAD,EAAqCsoG,iBAArC,CAAnB;AACAp7E,IAAE,CAACx2F,gBAAH,CAAoB,OAApB,EAA6B,MAAMi3F,qBAAI,CAAC,IAAD,CAAvC;AACA,QAAMR,IAAI,GAAGvuB,QAAQ,CAAC9jD,GAAG,CAACklD,aAAJ,CAAkB,iBAAlB,CAAD,EAAuCsoG,iBAAvC,CAArB;AACAn7E,MAAI,CAACz2F,gBAAL,CAAsB,OAAtB,EAA+B,MAAMi3F,qBAAI,CAAC,MAAD,CAAzC;AAEA1M,YAAU,CAACnmE,GAAD,EAAM;AAAE+kE,YAAQ,EAAE;AAAZ,GAAN,CAAV;AAEA,QAAM9gB,GAAG,GAAGjkD,GAAG,CAACklD,aAAJ,CAAkB,yBAAlB,CAAZ;AACAjB,KAAG,CAACroE,gBAAJ,CAAqB,OAArB,EAA8B,sBAAO,MAAM;AAC1C,UAAMsjJ,YAAY,GAAGvzB,YAAA,CAAmB,SAAnB,CAArB;AACA,UAAMjnE,KAAK,GAAGinE,YAAA,CAAmBA,QAAA,CAAe,KAAf,EAAsB,CAAC/F,0BAAS,CAACqnD,eAAD,CAAT,CAA2B/hD,UAA5B,CAAtB,CAAnB,EAAmF,IAAnF,EAAyF,IAAzF,CAAd;AACA,UAAMm0B,aAAa,GAAGC,2BAAW,CAACjqC,gBAAZ,CAA6B3wD,KAA7B,EAAoCw6F,YAApC,EAAkD,KAAlD,CAAtB;AACAG,iBAAa,CAAC5rI,EAAd,CAAiB,cAAjB,EAAiC2gE,aAAa,CAAC,MAAM;AACpD/nF,6BAAM,CAACkF,OAAP,CAAe+5K,iBAAf,CAAiC73K,KAAjC,GAAyCua,IAAI,CAACslE,SAAL,CAAegsE,2BAAW,CAAC7pC,gBAAZ,CAA6B4pC,aAA7B,EAA4CH,YAA5C,CAAf,CAAzC;AACAj9B,kBAAA,CAAa51H,uBAAM,CAACkF,OAAP,CAAe+5K,iBAA5B;AACAO,iBAAW,CAACoB,eAAD,EAAkB,IAAlB,CAAX;AACA,KAJ6C,CAA9C;AAKA,UAAMhrH,OAAO,GAAGgiB,GAAG,CAACiB,aAAJ,CAAkB,cAAlB,CAAhB;AACAjjB,WAAO,CAACxmC,MAAR,CAAe4jI,aAAa,CAACpvJ,GAAd,CAAkB,CAAlB,CAAf;AACA,GAX6B,CAA9B;;AAaA,QAAMq9K,aAAa,GAAG,MAAM;AAC3BrpG,OAAG,CAAC9gD,MAAJ,GAAa8pJ,eAAe,KAAK,SAAjC;AACA,GAFD;;AAaAh5C,6BAAU;AACVq5C,eAAa;AACbF,QAAM,GAAG,IAAT;AAEA,SAAO;AACN/4K,UADM;AAENi8F,WAAO,EAfR,UAAiBlqF,KAAjB,EAAwBrW,MAAxB,EAAgC09K,oBAAhC,EAAsD;AACrDr7E,QAAE,CAACn6F,QAAH,GAAcw1K,oBAAoB,IAAI,CAAtC;AACAp7E,UAAI,CAACp6F,QAAL,GAAgBw1K,oBAAoB,IAAI19K,MAAM,GAAG,CAAjD;AACAw9K,eAAS,CAACpvK,WAAV,GAAwBpO,MAAM,GAAI,GAAE09K,oBAAoB,KAAKrnK,KAAzB,GAAiC,EAAjC,GAAsC,GAAI,GAAEqnK,oBAAoB,GAAG,CAAE,IAAG19K,MAAO,EAArF,GAAyF,MAAvH;AACA,KASM;AAGN2hC,QAAI,EAVL,YAAgB;AAAE07I,YAAM,GAAG,IAAT;AAAeptJ,SAAG,CAACmD,MAAJ,GAAa,KAAb;AAAqB,KAO/C;AAINutE,SAAK,EAVN,YAAiB;AAAE08E,YAAM,GAAG,KAAT;AAAgBptJ,SAAG,CAACmD,MAAJ,GAAa,IAAb;AAAoB;AAMhD,GAAP;AAMA,CArFkB,CAAnB;;AAuFA,SAASooJ,mBAAT,GAA+B;AAC9B,QAAM/qK,QAAQ,GAAGjU,QAAQ,CAACkkB,IAAT,CAAcy0D,aAAd,CAA4B,+BAA5B,CAAjB;AACA,MAAI,CAAC1kE,QAAL,EAAe;AAEf,QAAMktK,gBAAgB,GAAG1gK,sBAAM,CAAC+N,IAAK,qDAArC;AACA,QAAM4yJ,OAAO,GAAG3gK,sBAAM,CAAC+N,IAAK,iDAA5B;AACA2yJ,kBAAgB,CAACjyJ,MAAjB,CAAwBkyJ,OAAxB;AACAntK,UAAQ,CAACib,MAAT,CAAgBiyJ,gBAAhB;AAEAA,kBAAgB,CAAC9xK,gBAAjB,CAAkC,YAAlC,EAAgD,YAAY;AAC3DoM,SAAK,CAAC2lK,OAAD,CAAL;AACA,UAAMtpC,UAAU,GAAG,MAAMsnC,aAAa,EAAtC;AACAgC,WAAO,CAAClyJ,MAAR,CAAe,GAAG4oH,UAAU,CAAC3zI,GAAX,CAAe,CAAC;AAAE8mH,cAAF;AAAY73B,WAAZ;AAAmBt/C;AAAnB,KAAD,KAA+B;AAC/D,YAAMkB,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK;oDACqB4kE,KAAM,eAAc63B,QAAS,KAAIA,QAAS,KAAIn3E,IAAK;IADpG;AAGAkB,aAAO,CAAC3lC,gBAAR,CAAyB,OAAzB,EAAkC,MAAM;AAAEiwK,mBAAW,CAACr0D,QAAD,CAAX;AAAwB,OAAlE;AACA,aAAOj2E,OAAP;AACA,KANiB,CAAlB;AAOA,GAVD;AAWA;;AAEM,eAAewqI,kBAAf,CAAkCjrK,QAAlC,EAAmD;AACzD,QAAMqlI,KAAK,GAAG,MAAM+mC,eAAe,EAAnC;;AAEA,MACC/mC,KAAK,CAACl4F,QAAN,CAAentC,QAAf,MAIC,CAAC8kH,0BAAS,CAACqnD,eAAD,CAAT,CAA2BJ,SAA5B,IAEA16K,IAAI,CAAC4nC,GAAL,CAASosG,KAAK,CAACh5I,OAAN,CAAcggL,eAAd,IAAiChnC,KAAK,CAACh5I,OAAN,CAAc2T,QAAd,CAA1C,KAAsE,CANvE,CADD,EASE;AACDqsK,mBAAe,GAAGrsK,QAAlB;AACA;;AAED0qK,YAAU,GAAGl7E,OAAb,CAAqB61C,KAAK,CAACh5I,OAAN,CAAc2T,QAAd,CAArB,EAA8CqlI,KAAK,CAACp2I,MAApD,EAA4Do2I,KAAK,CAACh5I,OAAN,CAAcggL,eAAd,CAA5D;AACA;AAEM,SAAStB,WAAT,CAAqBr0D,QAArB,EAAyCo2D,YAAqB,GAAG,KAAjE,EAAwE;AAC9EX,iBAAe,GAAGz1D,QAAlB;AACA21D,iBAAe,GAAG,IAAlB;AAEA3B,YAAU,GAAGn3K,MAAb,CAAoBZ,KAApB,GAA4B+jH,QAA5B;;AAEAs0D,WAAS,CAAChyK,KAAV,CAAgB67E,MAAhB,CAAuBs3F,eAAvB;;AAEA,MAAIW,YAAJ,EAAkB;AACjB/6E,yBAAI,CAAC,SAAD,CAAJ;AACA,GAFD,MAEO;AACNA,yBAAI,CAAC,KAAD,CAAJ;AACA;AACD;AAEM,SAAS/hF,uBAAT,CAAgBuI,KAAc,GAAG,KAAjC,EAAwCqY,IAAa,GAAG,CAAC07I,MAAzD,EAAiE;AACvE,MAAI,CAAC17I,IAAL,EAAW;AACV85I,cAAU,GAAG96E,KAAb;AACA,GAFD,MAEO;AACN86E,cAAU,GAAG95I,IAAb;AACA,QAAIrY,KAAJ,EAAWmyJ,UAAU,GAAGn3K,MAAb,CAAoBglB,KAApB;AACX;AACD;AAEM,eAAew5E,qBAAf,CAAoBrE,MAApB,EAA+D;AACrEylC,6BAAU;;AAEV,MAAI,CAACrO,0BAAS,CAACqnD,eAAD,CAAT,CAA2BJ,SAAhC,EAA2C;AAE1C,UAAMjgK,GAAG,GAAGmvE,WAAK,CAACH,MAAN,EAAZ;AACA,UAAM6xF,oBAAoB,GAAG7gK,GAAG,CAACzf,OAAJ,CAAYggL,eAAZ,CAA7B;AACA,UAAMpsK,aAAa,GAAG6L,GAAG,CAACzf,OAAJ,CAAY89H,6BAAa,CAAC39F,OAA1B,CAAtB;;AAEA,QACCkhE,MAAM,KAAK,MAAX,IAAqBztF,aAAa,GAAG0sK,oBAArC,IACAj/E,MAAM,KAAK,IAAX,IAAmBztF,aAAa,GAAG0sK,oBAFpC,EAGE;AACD/6G,YAAM,CAACy6G,eAAD,CAAN;AACA;AACA;AACD;;AAED,QAAMj8I,OAAO,GAAG,MAAMg8I,eAAe,EAArC;;AAEA,MAAI1+E,MAAM,KAAK,KAAf,EAAsB;AACrB97B,UAAM,CAACxhC,OAAO,CAAC,CAAD,CAAR,CAAN;AACA,GAFD,MAEO;AAEN,UAAMtkB,GAAG,GAAG,CAAC,IAAI,MAAM+/J,QAAQ,EAAlB,CAAD,CAAZ;AACA,QAAIn+E,MAAM,KAAK,IAAf,EAAqB5hF,GAAG,CAAC5F,OAAJ;AACrB,UAAM+kF,OAAO,GAAGn/E,GAAG,CAAC5f,KAAJ,CAAU4f,GAAG,CAACzf,OAAJ,CAAYggL,eAAZ,KAAgC3+E,MAAM,KAAK,SAAX,GAAuB,CAAvB,GAA2B,CAA3D,CAAV,EAAyEpyF,IAAzE,CAA8EiM,CAAC,IAAI6oB,OAAO,CAAC+c,QAAR,CAAiB5lC,CAAjB,CAAnF,CAAhB;AACAqqD,UAAM,CAACq5B,OAAD,CAAN;AACA;AACD;;AAED,SAASr5B,MAAT,CAAgB8pB,KAAhB,EAA+B;AAC9B,MAAI,CAACA,KAAL,EAAY;AAEZ2wF,iBAAe,GAAG3wF,KAAlB;AAEAyuC,+BAAa,CAAC19G,GAAd,CAAkBivE,KAAlB,EAAyB;AAAEpV,eAAW,EAAE;AAAf,GAAzB,EAAiD,IAAjD;AACA,C;;ACjaD;AACA;AACA;AAEO,MAAM/6E,gBAAiB,GAAG,IAAIirH,MAAJ,CAAW,WAAX,CAA1B;AAEPjrH,gBAAM,CAACkrH,UAAP,GAAoB,eAApB;AACAlrH,gBAAM,CAACmrH,QAAP,GAAkB,cAAlB;AACAnrH,gBAAM,CAAC4jG,WAAP,GAAqB,eAArB;AACA5jG,gBAAM,CAAC82B,MAAP,GAAgB,IAAhB;AAEA,IAAI0qJ,MAAJ;;AAEAxhL,gBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3Bu+F,QAAM,GAAGC,YAAY,CAAC,MAAM;AAC3B,UAAMC,SAAS,GAAGl4I,gBAAC,CAAC,OAAD,EAAU;AAAE38B,QAAE,EAAE;AAAN,KAAV,CAAD,CAA+B8iB,QAA/B,CAAwCzvB,QAAQ,CAACkkB,IAAjD,CAAlB;AACAo6G,kCAAA,CAA+B;AAC9B/B,YAAM,EAAE,oBADsB;AAE9Bp9G,aAAO,EAAE,aAFqB;AAG9BsoG,cAAQ,EAAE3nH,gBAAM,CAAC2nH,QAHa;AAI9B6U,oBAAc,EAAE;AAJc,KAA/B;AAMAh+G,cAAU,CAAC,MAAMkjK,SAAS,CAACxlJ,QAAV,CAAmB,YAAnB,CAAP,EAAyC,GAAzC,CAAV;AACA,GAToB,CAArB;AAUA,CAXD;;AAaO,SAASylJ,YAAT,GAAiC;AACvC,SAAO,CAAC,CAACH,MAAF,IAAYA,MAAM,CAACI,WAA1B;AACA;;AAaD,SAASH,YAAT,CAAsBr9K,QAAtB,EAAgC;AAC/B,QAAMo9K,MAAM,GAAG;AACdpxK,SAAK,EAAE,EADO;AAEdoC,WAAO,EAAE,sBAFK;AAGdovK,eAAW,EAAE,KAHC;AAIdC,cAAU,EAAE,oBAJE;AAKd13J,QAAI,EAAE,MAAM;AACXjqB,cAAQ,CAACqP,gBAAT,CAA0B,SAA1B,EAAsCiY,KAAD,IAA0B;AAC9Dg6J,cAAM,CAACpxK,KAAP,IAAgBoX,KAAK,CAAC0E,OAAtB;;AAEA,YAAIs1J,MAAM,CAACpxK,KAAP,CAAa1M,MAAb,GAAsB89K,MAAM,CAAChvK,OAAP,CAAe9O,MAAzC,EAAiD;AAChD89K,gBAAM,CAACpxK,KAAP,GAAeoxK,MAAM,CAACpxK,KAAP,CAAa0gC,MAAb,CAAqB0wI,MAAM,CAACpxK,KAAP,CAAa1M,MAAb,GAAsB89K,MAAM,CAAChvK,OAAP,CAAe9O,MAA1D,CAAf;AACA;;AAED,YAAI89K,MAAM,CAACpxK,KAAP,KAAiBoxK,MAAM,CAAChvK,OAA5B,EAAqC;AACpCgvK,gBAAM,CAACv/K,IAAP;AACAu/K,gBAAM,CAACpxK,KAAP,GAAe,EAAf;AACAoX,eAAK,CAAC+B,cAAN;AACA,SAJD,MAIO,IAAKi4J,MAAM,CAACpxK,KAAP,KAAiBoxK,MAAM,CAACK,UAAzB,IAAyCL,MAAM,CAACpxK,KAAP,CAAa0gC,MAAb,CAAoB,CAApB,EAAuB0wI,MAAM,CAACpxK,KAAP,CAAa1M,MAApC,MAAgD89K,MAAM,CAACK,UAApG,EAAiH;AACvHL,gBAAM,CAACI,WAAP,GAAqB,IAArB;AAEApjK,oBAAU,CAAC,MAAM;AAChBgjK,kBAAM,CAACI,WAAP,GAAqB,KAArB;AACAJ,kBAAM,CAACpxK,KAAP,GAAe,EAAf;AACA,WAHS,EAGP,IAHO,CAAV;AAIA;AACD,OAnBD,EAmBG,KAnBH;AAoBA,KA1Ba;AA2BdnO,QAAI,EAAE,MAAM,CAAE;AA3BA,GAAf;;AA8BA,MAAI,OAAOmC,QAAP,KAAoB,UAAxB,EAAoC;AACnCo9K,UAAM,CAACv/K,IAAP,GAAcmC,QAAd;AACAo9K,UAAM,CAACr3J,IAAP;AACA;;AAED,SAAOq3J,MAAP;AACA,C;;;AC7ED;AACA;AACA;AAEO,MAAMxhL,wBAAiB,GAAG,IAAIirH,MAAJ,CAAW,mBAAX,CAA1B;AAEPjrH,wBAAM,CAACkrH,UAAP,GAAoB,uBAApB;AACAlrH,wBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,wBAAM,CAAC4jG,WAAP,GAAqB,uBAArB;AACA5jG,wBAAM,CAACkF,OAAP,GAAiB;AAChB48K,WAAS,EAAE;AACVlgL,QAAI,EAAE,SADI;AAEVwF,SAAK,EAAE,KAFG;AAGVw8F,eAAW,EAAE,gCAHH;AAIVtQ,SAAK,EAAE;AAJG,GADK;AAOhB/mB,QAAM,EAAE;AACP3qE,QAAI,EAAE,SADC;AAEPwF,SAAK,EAAE,IAFA;AAGPw8F,eAAW,EAAE,6BAHN;AAIPtQ,SAAK,EAAE;AAJA,GAPQ;AAahByuF,YAAU,EAAE;AACXzgD,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACqnE,MAAR,CAAenlE,KAD1B;AAEXxF,QAAI,EAAE,SAFK;AAGXwF,SAAK,EAAE,KAHI;AAIXw8F,eAAW,EAAE,iCAJF;AAKXtQ,SAAK,EAAE;AALI;AAbI,CAAjB;AAqBAtzF,wBAAM,CAACurH,OAAP,GAAiB,CAChB,UADgB,CAAjB;AAIA,IAAIy2D,WAAJ,EAAiBC,eAAjB;;AAEAjiL,wBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzBi2D,aAAW,GAAGhiL,wBAAM,CAACkF,OAAP,CAAe48K,SAAf,CAAyB16K,KAAzB,IAEb,CAAG,qCAAD,CAAwC6F,IAAxC,CAA6CkH,QAAQ,CAACkrE,QAAtD,CAFH;AAIA+gB,gBAAc,CAAC,CAAC,SAAD,CAAD,EAAc8hF,uBAAd,CAAd;AACA9hF,gBAAc,CAAC,CAAC,MAAD,CAAD,EAAW+hF,kBAAX,CAAd;AACA,CAPD;;AASA,MAAMA,kBAAkB,GAAG,sBAAOhyF,KAAK,IAAI;AAC1C,QAAMuJ,IAAI,GAAGvJ,KAAK,CAACj7C,OAAN,CAAc2jC,aAAd,CAA4B,YAA5B,CAAb;AACA,MAAI,CAAC6gB,IAAL,EAAW;;AAEX,WAASj1E,MAAT,CAAgB+iD,MAAhB,EAAwB;AACvB,UAAM46G,eAAe,GAAGpiL,wBAAM,CAACkF,OAAP,CAAeqnE,MAAf,CAAsBnlE,KAAtB,IAA+BpH,wBAAM,CAACkF,OAAP,CAAe68K,UAAf,CAA0B36K,KAAjF;AACA,UAAMlE,QAAQ,GAAGk/K,eAAe,GAAG,gBAAH,GAAsB,iCAAtD;AACAv6F,kBAAc,CAAC3nF,QAAQ,CAACmN,gBAAT,CAA2B,GAAEnK,QAAS,oCAAmCskE,MAAO,GAAhF,CAAD,EAAsF/iD,MAAM,IAAI;AAC7GA,YAAM,CAAC4F,KAAP;AACA,KAFa,CAAd;;AAIA,QAAIm9C,MAAM,KAAK,MAAf,EAAuB;AACtBw6G,iBAAW,GAAG,IAAd;AACA54K,OAAC,CAAC1G,YAAF,CAAe,QAAf,EAAyB,MAAzB;AACA0G,OAAC,CAAC1G,YAAF,CAAe,OAAf,EAAwB,oBAAxB;AACA0G,OAAC,CAACwpF,OAAF,CAAUpwF,IAAV,GAAiB2kF,IAAI,CAAC,mCAAD,CAArB;AACA,KALD,MAKO;AACN66F,iBAAW,GAAG,KAAd;AACA54K,OAAC,CAAC1G,YAAF,CAAe,QAAf,EAAyB,MAAzB;AACA0G,OAAC,CAAC1G,YAAF,CAAe,OAAf,EAAwB,uCAAxB;AACA0G,OAAC,CAACwpF,OAAF,CAAUpwF,IAAV,GAAiB2kF,IAAI,CAAC,mCAAD,CAArB;AACA;AACD;;AAED,QAAMyR,EAAE,GAAG14F,QAAQ,CAACqC,aAAT,CAAuB,IAAvB,CAAX;AACA,QAAM6G,CAAC,GAAGlJ,QAAQ,CAACqC,aAAT,CAAuB,GAAvB,CAAV;AACA6G,GAAC,CAAC1G,YAAF,CAAe,MAAf,EAAuB,GAAvB;AACA0G,GAAC,CAAC1G,YAAF,CAAe,OAAf,EAAwB,+BAAxB;AACA0G,GAAC,CAACmG,gBAAF,CAAmB,OAAnB,EAA6BtD,CAAD,IAAc;AACzCA,KAAC,CAACsd,cAAF;AACA9E,UAAM,CAACrb,CAAC,CAAC3G,YAAF,CAAe,QAAf,CAAD,CAAN;AACA,GAHD;AAIAw/K,iBAAe,GAAG74K,CAAlB;AAEAqb,QAAM,CAACu9J,WAAW,GAAG,MAAH,GAAY,MAAxB,CAAN;AAEAppF,IAAE,CAACh2F,WAAH,CAAewG,CAAf;AACAswF,MAAI,CAAC92F,WAAL,CAAiBg2F,EAAjB;AACA,CAtC0B,CAA3B;;AAwCA,SAASspF,uBAAT,CAAiCxiF,OAAjC,EAA0C;AACzC,MAAI,CAAC1/F,wBAAM,CAACkF,OAAP,CAAeqnE,MAAf,CAAsBnlE,KAAvB,IAAgC,CAACs4F,OAAO,CAACpN,iBAAR,EAArC,EAAkE;AAClE,MAAI,CAACoN,OAAO,CAACxM,mBAAR,EAAL,EAAoC;AAEpC,QAAM15E,QAAQ,GAAGkmF,OAAO,CAACxqD,OAAR,CAAgB2jC,aAAhB,CAA8B,wBAA9B,CAAjB;AACA,QAAM6gB,IAAI,GAAGgG,OAAO,CAACxqD,OAAR,CAAgB2jC,aAAhB,CAA8B,YAA9B,CAAb;AACA,MAAI,CAACr/D,QAAD,IAAa,CAACkgF,IAAlB,EAAwB;;AAExB,WAASj1E,MAAT,CAAgB+iD,MAAhB,EAAwB;AACvB,QAAIA,MAAM,KAAK,MAAf,EAAuB;AACtBhuD,cAAQ,CAAC0J,KAAT,CAAeC,OAAf,GAAyB,MAAzB;AACA/Z,OAAC,CAACwpF,OAAF,CAAUpwF,IAAV,GAAiB2kF,IAAI,CAAC,gCAAD,EAAmCuY,OAAO,CAACxM,mBAAR,EAAnC,CAArB;AACA9pF,OAAC,CAAC1G,YAAF,CAAe,QAAf,EAAyB,MAAzB;AACA,KAJD,MAIO;AACN8W,cAAQ,CAAC0J,KAAT,CAAeC,OAAf,GAAyB,EAAzB;AACA/Z,OAAC,CAACwpF,OAAF,CAAUpwF,IAAV,GAAiB2kF,IAAI,CAAC,gCAAD,CAArB;AACA/9E,OAAC,CAAC1G,YAAF,CAAe,QAAf,EAAyB,MAAzB;AACA;;AAEDg9F,WAAO,CAACxqD,OAAR,CAAgBwrC,SAAhB,CAA0Bj8D,MAA1B,CAAiC,qBAAjC,EAAwD+iD,MAAM,KAAK,MAAnE;AACA;;AAED,QAAMoxB,EAAE,GAAG14F,QAAQ,CAACqC,aAAT,CAAuB,IAAvB,CAAX;AACA,QAAM6G,CAAC,GAAGlJ,QAAQ,CAACqC,aAAT,CAAuB,GAAvB,CAAV;AACA6G,GAAC,CAAC1G,YAAF,CAAe,MAAf,EAAuB,GAAvB;AACA0G,GAAC,CAAC1G,YAAF,CAAe,OAAf,EAAwB,wBAAxB;AACA0G,GAAC,CAACmG,gBAAF,CAAmB,OAAnB,EAA6BtD,CAAD,IAAc;AACzCA,KAAC,CAACsd,cAAF;AACA9E,UAAM,CAACrb,CAAC,CAAC3G,YAAF,CAAe,QAAf,CAAD,CAAN;AACA,GAHD;AAKA,QAAM+hB,IAAI,GAAGw9J,WAAW,KACtBhiL,wBAAM,CAACkF,OAAP,CAAe68K,UAAf,CAA0B36K,KAA1B,IAAmCs4F,OAAO,CAACpN,iBAAR,EADb,CAAxB;AAEA7tE,QAAM,CAACD,IAAI,GAAG,MAAH,GAAY,MAAjB,CAAN;AAEAo0E,IAAE,CAACh2F,WAAH,CAAewG,CAAf;AACAswF,MAAI,CAAC92F,WAAL,CAAiBg2F,EAAjB;AACA;;AAEM,SAASypF,SAAT,GAAqB;AAC3B,QAAMz4J,MAAM,GAAGq4J,eAAf;AACA,MAAI,CAACr4J,MAAL,EAAa,MAAM,IAAIxpB,KAAJ,CAAU,6BAAV,CAAN;AACbwpB,QAAM,CAACS,KAAP;AACA;AAEM,SAAS5F,wBAAT,CAAgB0rE,KAAhB,EAA0B;AAChC,QAAMvmE,MAAM,GAAGumE,KAAK,CAAC9gB,KAAN,CAAYwJ,aAAZ,CAA0B,kBAA1B,CAAf;AACA,MAAI,CAACjvD,MAAL,EAAa,MAAM,IAAIxpB,KAAJ,CAAU,yBAAV,CAAN;AACbwpB,QAAM,CAACS,KAAP;AACA,C;;;;ACvID;AAEA;AACA;AACA;AACA;AAcA;AACA;AAEO,MAAMrqB,wBAAiB,GAAG,IAAIirH,MAAJ,CAAW,mBAAX,CAA1B;AAEPjrH,wBAAM,CAACkrH,UAAP,GAAoB,SAApB;AACAlrH,wBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,wBAAM,CAAC4jG,WAAP,GAAqB,SAArB;AACA5jG,wBAAM,CAACkF,OAAP,GAAiB;AAChBo9K,kBAAgB,EAAE;AACjB1gL,QAAI,EAAE,SADW;AAEjBwF,SAAK,EAAE,IAFU;AAGjBw8F,eAAW,EAAE,yBAHI;AAIjBtQ,SAAK,EAAE;AAJU,GADF;AAOhBivF,UAAQ,EAAE;AACT3gL,QAAI,EAAE,SADG;AAETwF,SAAK,EAAE,IAFE;AAGTw8F,eAAW,EAAE,iBAHJ;AAITtQ,SAAK,EAAE;AAJE,GAPM;AAahBkvF,iBAAe,EAAE;AAChBlhD,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACq9K,QAAR,CAAiBn7K,KADvB;AAEhBxF,QAAI,EAAE,MAFU;AAGhBwF,SAAK,EAAE,GAHS;AAIhBw8F,eAAW,EAAE,wBAJG;AAKhBtQ,SAAK,EAAE;AALS,GAbD;AAoBhBmvF,iBAAe,EAAE;AAChBnhD,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACq9K,QAAR,CAAiBn7K,KADvB;AAEhBxF,QAAI,EAAE,SAFU;AAGhBwF,SAAK,EAAE,IAHS;AAIhBw8F,eAAW,EAAE,wBAJG;AAKhBtQ,SAAK,EAAE;AALS,GApBD;AA2BhBovF,kBAAgB,EAAE;AACjBphD,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACq9K,QAAR,CAAiBn7K,KAAjB,IAA0BlC,OAAO,CAACu9K,eAAR,CAAwBr7K,KADvD;AAEjBxF,QAAI,EAAE,SAFW;AAGjBwF,SAAK,EAAE,KAHU;AAIjBw8F,eAAW,EAAE,yBAJI;AAKjBtQ,SAAK,EAAE,0BALU;AAMjB2mC,YAAQ,EAAE;AANO,GA3BF;AAmChB0oD,gBAAc,EAAE;AACf/gL,QAAI,EAAE,SADS;AAEfwF,SAAK,EAAE,KAFQ;AAGfw8F,eAAW,EAAE,uBAHE;AAIftQ,SAAK,EAAE,wBAJQ;AAKf2mC,YAAQ,EAAE,IALK;AAMf3O,aAAS,EAAE;AANI;AAnCA,CAAjB;AA4CAtrH,wBAAM,CAACwrH,OAAP,GAAiB,CAChB,MADgB,EAEhB,UAFgB,EAGhB,KAHgB,CAAjB;;AAKAxrH,wBAAM,CAACyrH,SAAP,GAAmB,MAAM,CAAC/rC,kBAAkB,CAAC,WAAD,CAA5C;;AAEA,MAAMkjG,OAAO,GAAG,IAAIppG,GAAJ,EAAhB;AACA,MAAMqpG,kBAAkB,GAAG7jF,uBAAO,CAAC/4E,IAAR,CAAa,0CAAb,EAA0DrgB,SAA1D,CAA3B;AACA,IAAIk9K,6BAAJ;;AAEA9iL,wBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AAEzB3rB,gBAAc,CAAC,CAAC,MAAD,CAAD,EAAWjQ,KAAK,IAAI;AAEjC,QAAIjwF,QAAQ,CAACuI,QAAT,CAAkB0nF,KAAK,CAACj7C,OAAxB,KAAoC,CAACi7C,KAAK,CAACj7C,OAAN,CAAcp7B,OAAd,CAAsB,YAAtB,CAAzC,EAA8E;AAC9E,UAAMjN,EAAE,GAAGsjF,KAAK,CAACoF,WAAN,EAAX;AACA,QAAIqtF,OAAO,CAACjpK,GAAR,CAAY9M,EAAZ,CAAJ,EAAqBsjF,KAAK,CAACj7C,OAAN,CAAcx5B,MAAd;AACrBknK,WAAO,CAAC3oK,GAAR,CAAYpN,EAAZ;AACA,GANa,EAMX;AAAEmkF,aAAS,EAAE;AAAb,GANW,CAAd;AAOA,CATD;;AAWAhxF,wBAAM,CAACy4F,EAAP,GAAY,YAAY;AACvBkQ,OAAK,CAAC,CAAD,CAAL,GAAW;AAAElnE,OAAG,EAAEttB,QAAQ,CAACkrE,QAAhB;AAA0B9uD,aAAS,EAAEA,2BAAS,EAA9C;AAAkDwyJ,eAAW,EAAEC,mBAAmB,CAACzyJ,2BAAS,EAAV;AAAlF,GAAX;AAEA,QAAM0yJ,oBAAoB,GAAGC,wBAAwB,EAArD;AACA,MAAID,oBAAJ,EAA0B,MAAMA,oBAAoB,EAA1B;;AAE1B,MAAIjjL,wBAAM,CAACkF,OAAP,CAAeq9K,QAAf,CAAwBn7K,KAA5B,EAAmC;AAClC+7K,YAAQ,EAAC,MAAMN,kBAAkB,CAACj/K,GAAnB,EAAP,EAAR;AAEAg7H,iCAAa,CAAC/6C,WAAd,CAA0B5iD,OAAO,IAAI;AACpC,UAAI6hJ,6BAAJ,EAAiB;AACjB,YAAMvzF,MAAM,GAAGG,WAAK,CAACO,oBAAN,EAAf;AACA,YAAMmzF,kBAAkB,GAAG7zF,MAAM,CAAC7rF,MAAP,IAAiB6rF,MAAM,CAACzuF,OAAP,CAAemgC,OAAO,CAACiU,OAAvB,IAAkC,CAAnD,CAA3B;AACA,UAAIkuI,kBAAkB,KAAK,CAA3B,EAA8BC,gBAAgB,GAA9C,KACK,IAAID,kBAAkB,GAAG,CAAzB,EAA4BE,YAAY;AAC7C,KAND;AAOA;;AAEDC,qBAAmB,CAAC,KAAD,CAAnB;AACA,CAnBD;;AAqBA,MAAMhzJ,2BAAS,GAAG,sBAAO,MAAMizJ,gBAAgB,MAAMtjL,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAnC,CAAlB;;AACA,MAAMomG,KAIH,GAAG,EAJN;;AAMA,SAASq6E,mBAAT,CAA6BzyJ,SAA7B,EAAwC;AACvC,QAAM;AAAEpE,WAAF;AAAWpgB;AAAX,MAAoB03K,gBAAgB,CAAClzJ,SAAD,CAA1C;AACA,MAAIpE,OAAJ,EAAaA,OAAO,CAAC2K,MAAR,GAAiB,IAAjB;AACb,SAAO/qB,IAAP;AACA;;AAED,MAAM23K,cAAc,GAAG,CAACnkF,IAAI,GAAGoJ,KAAK,CAAChoG,KAAN,CAAY,CAAC,CAAb,EAAgB,CAAhB,CAAR,KAAwC4+F,IAAI,CAACwjF,WAApE;;AACO,IAAIO,YAA8D,GAAG,MAAM,CAAE,CAA7E;AACP,IAAIK,eAAJ;;AAEA,SAASJ,mBAAT,CAA6BK,gBAAgB,GAAG,IAAhD,EAAsD;AACrD,QAAMb,WAAW,GAAGW,cAAc,EAAlC;;AACA,MAAI,CAACX,WAAL,EAAkB;AACjB,QAAIa,gBAAJ,EAAsBC,MAAM,CAAC,eAAD,CAAN;AACtB;AACA;;AAED,QAAMC,eAAe,GAAGhoJ,QAAQ,CAAC97B,wBAAM,CAACkF,OAAP,CAAes9K,eAAf,CAA+Bp7K,KAAhC,EAAuC,EAAvC,CAAhC;;AACA,MAAIpH,wBAAM,CAACkF,OAAP,CAAeq9K,QAAf,CAAwBn7K,KAAxB,IAAiC08K,eAArC,EAAsD;AACrD,QAAIn7E,KAAK,CAACjlG,MAAN,GAAeogL,eAAf,KAAmC,CAAvC,EAA0CX,QAAQ,CAAC,iBAAD,CAAR,CAA1C,KACK,IAAIL,6BAAW,KAAK,iBAApB,EAAuCK,QAAQ,CAAC,IAAD,CAAR;AAC5C;;AAED,QAAMY,YAAY,GAAG,IAAIlsG,OAAJ,CAAYyD,GAAG,IAAI;AAAEgoG,gBAAY,GAAGhoG,GAAf;AAAqB,GAA1C,CAArB;AACA,QAAM0oG,WAAW,GAAGD,YAAY,CAC9BrnK,IADkB,CACb,MAAMunK,QAAQ,CAAClB,WAAD,EAAcp6E,KAAK,CAACjlG,MAApB,CADD,EAElBgZ,IAFkB,CAEb6mK,mBAFa,EAGlB/jK,KAHkB,CAGZvT,CAAC,IAAI;AACX43K,UAAM,CAAE,iCAAgC53K,CAAC,CAACoT,OAAQ,EAA5C,CAAN;AACAF,WAAO,CAACjZ,KAAR,CAAc+F,CAAd;AACA,GANkB,CAApB;AAQAi4K,oBAAkB,CAACH,YAAD,EAAeC,WAAf,CAAlB;AACA,MAAIL,eAAJ,EAAqBA,eAAe,CAAC,KAAD,CAAf;AACrB;;AAED,MAAMQ,WAAW,GAAG,sBAAO,MAAM;AAChC,QAAMjvI,OAAO,GAAG1L,gBAAC,CAAC,QAAD,EAAW;AAC3B38B,MAAE,EAAE,UADuB;AAE3BymF,SAAK,EAAE,qCAFoB;AAG3BjpE,SAAK,EAAE,MAAM84J,QAAQ,CAACL,6BAAW,GAAG,IAAH,GAAU,QAAtB;AAHM,GAAX,CAAD,CAIbl/K,GAJa,CAIT,CAJS,CAAhB;AAKAk2F,YAAU,CAAC5kD,OAAD,EAAU;AAAE3kB,aAAS,EAAE;AAAb,GAAV,CAAV;AACA,SAAO2kB,OAAP;AACA,CARmB,CAApB;;AAUA,SAASiuI,QAAT,CAAkBxgK,MAAlB,EAA0B;AACzB,MAAI3iB,wBAAM,CAACkF,OAAP,CAAeu9K,eAAf,CAA+Br7K,KAAnC,EAA0C;AACzC+8K,eAAW,GAAGzjG,SAAd,CAAwBj8D,MAAxB,CAA+B,QAA/B,EAAyCzkB,wBAAM,CAACkF,OAAP,CAAew9K,gBAAf,CAAgCt7K,KAAhC,KAA0C,CAACub,MAApF;AACA;;AAEDmgK,+BAAW,GAAGngK,MAAd;AACA,MAAImgK,6BAAJ,EAAiBD,kBAAkB,CAAC3hK,GAAnB,CAAuByB,MAAvB,EAAjB,KACKkgK,kBAAkB,CAACv5F,MAAnB;AAEL,MAAIq6F,eAAJ,EAAqBA,eAAe;AACpC;;AAED,MAAMS,QAAQ,GAAG,MAAMjwK,QAAQ,CAACD,IAAT,CAAcssE,UAAd,CAAyBzJ,iBAAzB,CAAvB;;AAEA,SAASstG,eAAT,CAAyB5vK,QAAzB,EAA0C;AACzC,MAAIonC,MAAM,GAAG,CAAb;AAEA,QAAMyoI,eAAe,GAAG96I,gBAAC,CAAC/0B,QAAQ,CAACygC,OAAV,CAAD,CAAoB7hC,MAApB,GAA6B2G,OAA7B,CAAqC,gBAArC,CAAxB;AACA,QAAMuqK,MAAM,GAAGD,eAAe,CAAC1gL,GAAhB,CAAoB,CAApB,CAAf;AACA,MAAI2gL,MAAJ,EAAY1oI,MAAM,GAAG/f,QAAQ,CAACyoJ,MAAM,CAAC3xF,OAAP,CAAe/2C,MAAhB,EAAwB,EAAxB,CAAjB;AAGZ,QAAM;AAAE2oI,OAAG,EAAE75J;AAAP,MAAiBq8E,OAAO,CAAClqF,KAAR,IAAiB,EAAxC;AACA,MAAI6N,KAAK,IAAIA,KAAK,CAACkxB,MAAN,KAAiBA,MAA9B,EAAsC;AAGtC,MAAIyoI,eAAe,CAAC5gL,MAAhB,GAAyB,CAA7B,EAAgCsjG,OAAO,CAACC,iBAAR,GAA4B,QAA5B;AAEhC,QAAM1H,IAAI,GAAGoJ,KAAK,CAAC9sD,MAAD,CAAlB;AACAmrD,SAAO,CAACs0B,YAAR,CACC,EAAE,GAAGt0B,OAAO,CAAClqF,KAAb;AAAoB0nK,OAAG,EAAE;AAAE3oI,YAAF;AAAUpa,SAAG,EAAE89D,IAAI,CAAC99D,GAApB;AAAyBshJ,iBAAW,EAAExjF,IAAI,CAACwjF;AAA3C;AAAzB,GADD,EAEE,GAAE7iL,QAAQ,CAACozF,KAAM,GAAEz3C,MAAM,GAAI,UAASA,MAAM,GAAG,CAAE,EAAxB,GAA4B,EAAG,EAF1D,EAGCA,MAAM,GAAI,GAAEk7B,iBAAkB,IAAGl7B,MAAM,GAAG,CAAE,EAAtC,GAA2C,GAAE1nC,QAAQ,CAACkrE,QAAS,GAAElrE,QAAQ,CAAC+pE,MAAO,GAAEkmG,QAAQ,KAAK,EAAL,GAAUjwK,QAAQ,CAACD,IAAK,EAH1H;AAKA;;AAED,MAAMgvK,wBAAwB,GAAG,sBAAO,MAAM;AAC7C,MAAI,CAACljL,wBAAM,CAACkF,OAAP,CAAeo9K,gBAAf,CAAgCl7K,KAArC,EAA4C;AAE5C,QAAM;AAAEo9K,OAAG,EAAE;AAAE3oI,YAAF;AAAUpa;AAAV,QAAkB;AAAzB,MAAgCulE,OAAO,CAAClqF,KAAR,IAAiB,EAAvD;AACA,MAAIsS,MAAJ;;AACA,MAAIysB,MAAM,IAAIpa,GAAV,IAAiB2iJ,QAAQ,EAA7B,EAAiC;AAChC,UAAMK,WAAW,GAAGR,QAAQ,CAACxiJ,GAAD,EAAMoa,MAAN,EAAc,IAAIg8B,OAAJ,CAAYyD,GAAG,IAAI;AAAElsD,YAAM,GAAG,MAAM;AAAEksD,WAAG;AAAI,eAAOmpG,WAAP;AAAqB,OAA7C;AAAgD,KAArE,CAAd,CAA5B;AACA;;AAED,SAAO,YAAY;AAClB,QAAIr1J,MAAJ,EAAY,MAAMA,MAAM,EAAZ;AACZwvG,iCAAa,CAAC/6C,WAAd,CAA0BwgG,eAA1B,EAA2C,WAA3C;AACA,GAHD;AAIA,CAbgC,CAAjC;;AAeA,SAASb,gBAAT,CAA0Bp/J,IAAiB,GAAGlkB,QAAQ,CAACkkB,IAAvD,EAA2E;AAC1E,QAAMlhB,QAAQ,GAAG,kCAAjB;AACA,QAAMmO,QAAQ,GAAG3L,KAAK,CAACwsE,IAAN,CAAW9tD,IAAI,CAAC/W,gBAAL,CAAsBnK,QAAtB,CAAX,EAA4CyX,OAA5C,EAAjB;;AAEA,OAAK,MAAMu6B,OAAX,IAAsB7jC,QAAtB,EAAgC;AAC/B,QAAI,CAAC6jC,OAAO,CAAC66C,aAAT,IAA0B,CAAC76C,OAAO,CAAC66C,aAAR,CAAsBj2E,OAAtB,CAA8B5W,QAA9B,CAA/B,EAAwE,OAAOgyC,OAAP;AACxE;AACD;;AAEM,SAASuuI,gBAAT,CAA0B7rG,GAAgB,GAAG13E,QAAQ,CAACkkB,IAAtD,EAAuH;AAC7H,QAAM+H,OAAO,GAAGyrD,GAAG,CAAC1wE,OAAJ,CAAY,mBAAZ,IACd0wE,GAAG,CAACkY,kBADU,GACiBlY,GAAG,CAACiB,aAAJ,CAAkB,cAAlB,CADjC;AAEA,SAAO1sD,OAAO,GAAG;AAChBA,WADgB;AAEhBpgB,QAAI,EAAE,CAACogB,OAAO,CAAC0sD,aAAR,CAAsB,cAAtB,KAAyC,EAA1C,EAAmDvkE,IAFzC;AAGhBoF,QAAI,EAAE,CAACyS,OAAO,CAAC0sD,aAAR,CAAsB,cAAtB,KAAyC,EAA1C,EAAmDvkE;AAHzC,GAAH,GAIV,EAJJ;AAKA;;AAED,SAASowK,yBAAT,CAAmC/sD,MAAnC,EAA2C;AAC1Ch8G,OAAK,CAACg8G,MAAD,CAAL;AACAA,QAAM,CAACvoG,MAAP,CAAc,GAAGzO,sBAAM,CAAC+N,IAAK;;;KAGzB/N,sBAAM,CAACugE,IAAP,CAAYo5C,eAAA,CAAmCt6H,wBAAM,CAAC2nH,QAA1C,EAAoD/hH,SAApD,EAA+D,GAA/D,EAAoE,UAApE,CAAZ,CAA6F;;;;KAI7Fk9K,6BAAW,GAAGniK,sBAAM,CAACugE,IAAP,CAAa,YAAWijG,WAAW,GAAGznD,SAAU,2BAAhD,CAAH,GAAiF,IAAK;;;iCAGrEgnD,cAAc,MAAM,EAAG;;SAVtC,CAYRlqK,QAZT;AAaA;;AAED,SAAS0qK,kBAAT,CAA4BH,YAA5B,EAA0CC,WAA1C,EAAuD;AACtD,QAAMrsD,MAAM,GAAGz3H,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAf;AACAo1H,QAAM,CAAC9qH,EAAP,GAAY,mBAAZ;AACA8qH,QAAM,CAACloH,SAAP,GAAmB,mBAAnB;AAEAkoH,QAAM,CAACpoH,gBAAP,CAAwB,OAAxB,EAAkCtD,CAAD,IAAc;AAC9C,QAAIA,CAAC,CAAC1G,MAAF,CAASy0C,OAAT,KAAqB,GAAzB,EAA8B;AAC9BspI,gBAAY;AACZ,GAHD;AAKAS,cAAY,CAACrnK,IAAb,CAAkB,CAAC;AAAEioK,sBAAkB,GAAG;AAAvB,MAAiC,EAAlC,KAAyC;AAC1DhpK,SAAK,CAACg8G,MAAD,CAAL;AACAA,UAAM,CAACvoG,MAAP,CAAczO,sBAAM,CAAC+N,IAAK,yCAA1B;AACA,QAAIi2J,kBAAJ,EAAwB7pG,eAAe,CAAC68C,MAAD,EAAS,IAAT,EAAe;AAAE58C,iBAAW,EAAE,QAAf;AAAyBE,eAAS,EAAE;AAApC,KAAf,CAAf;AACxB,GAJD;AAOA+oG,aAAW,CAACzgC,OAAZ,CADqB,MAAM5rB,MAAM,CAACj8G,MAAP,EAC3B;AAEA,QAAMkpK,UAAU,GAAG,IAAIrrF,oBAAJ,CAAyB,CAAC,CAAC;AAAEC;AAAF,GAAD,CAAD,KAA0B;AACrE,QAAI,CAACA,cAAL,EAAqB;AACrB6pF,oBAAgB;AAChB,GAHkB,EAGhB;AAAEjiF,cAAU,EAAE;AAAd,GAHgB,CAAnB;AAIAwjF,YAAU,CAACpsG,OAAX,CAAmBm/C,MAAnB;;AAEA,QAAMktD,kBAAkB,GAAG,sBAAO/B,WAAW,IAC5CtkD,8BAAA,CAA+B;AAC9B7W,YAAQ,EAAE3nH,wBAAM,CAAC2nH,QADa;AAE9B6U,kBAAc,EAAEsmD,WAFc;AAG9BzjK,WAAO,EAAEyjK,WAAW,KAAK,iBAAhB,GAAqC;;mEAEkB9iL,wBAAM,CAACkF,OAAP,CAAes9K,eAAf,CAA+Bp7K,KAAM;IAF5F,GAIR,2CAA0C+8K,WAAW,GAAGznD,SAAU;AAPrC,GAA/B,CAD0B,CAA3B;;AAYA,QAAMooD,aAAa,GAAG,IAAIvrF,oBAAJ,CAAyB,CAAC,CAAC;AAAEC;AAAF,GAAD,CAAD,KAA0B;AACxE,QAAIA,cAAc,IAAIspF,6BAAtB,EAAmC+B,kBAAkB,CAAC/B,6BAAD,CAAlB;AACnC,GAFqB,EAEnB;AAAE1rE,aAAS,EAAE,CAAC,CAAD;AAAb,GAFmB,CAAtB;AAIA,QAAM2tE,cAAc,GAAG,IAAIxrF,oBAAJ,CAAyB,CAAC,CAAC;AAAEC;AAAF,GAAD,CAAD,KAA0B;AACzE,QAAI,CAACA,cAAL,EAAqB;AACrB8pF,gBAAY;AACZ,GAHsB,EAGpB;AAAElsE,aAAS,EAAE,CAAC,CAAD;AAAb,GAHoB,CAAvB;;AAKAusE,iBAAe,GAAG,CAACqB,YAAY,GAAG,IAAhB,KAAyB;AAC1C,UAAM3hF,OAAO,GAAGrjG,wBAAM,CAACkF,OAAP,CAAeq9K,QAAf,CAAwBn7K,KAAxB,IAAiC,CAAC07K,6BAAlD;AACA,QAAIz/E,OAAJ,EAAa0hF,cAAc,CAACvsG,OAAf,CAAuBm/C,MAAvB,EAAb,KACKotD,cAAc,CAACxsG,UAAf;AACL,QAAIysG,YAAJ,EAAkBN,yBAAyB,CAAC/sD,MAAD,CAAzB;AAClBmtD,iBAAa,CAACtsG,OAAd,CAAsBm/C,MAAtB;AACA,GAND;;AAQA+sD,2BAAyB,CAAC/sD,MAAD,CAAzB;AAEAosD,cAAY,CAACrnK,IAAb,CAAkB,MAAM;AACvBkoK,cAAU,CAACrsG,UAAX;AACAwsG,kBAAc,CAACxsG,UAAf;AACAusG,iBAAa,CAACvsG,UAAd;AACAorG,mBAAe,GAAG,IAAlB;AACA,GALD;AAOAh7E,OAAK,CAAChoG,KAAN,CAAY,CAAC,CAAb,EAAgB,CAAhB,EAAmB4vB,SAAnB,CAA6BnB,MAA7B,CAAoCuoG,MAApC;AACA;;AAED,MAAMstD,SAAS,GAAG,kBAAUxjJ,GAAG,IAAIY,IAAI,CAAC;AAAEZ,KAAF;AAAOqhD,UAAQ,EAAE7L,IAAIA;AAArB,CAAD,CAArB,CAAlB;;AACA,MAAMosG,gBAAgB,GAAG,MAAM;AAAE,QAAM5hJ,GAAG,GAAGiiJ,cAAc,EAA1B;AAA8B,MAAIjiJ,GAAJ,EAASwjJ,SAAS,CAACxjJ,GAAD,CAAT;AAAiB,CAAzF;;AAEA,eAAewiJ,QAAf,CAAwBxiJ,GAAxB,EAAqCoa,MAArC,EAAqDqpI,aAArD,EAAiF;AAChF,QAAMx2J,IAAI,GAAG,CAAC,MAAMu2J,SAAS,CAACxjJ,GAAD,CAAhB,EAEXz7B,OAFW,CAEH,0DAFG,EAEyD,EAFzD,CAAb;AAIA,QAAM9F,QAAQ,GAAG,IAAI49B,SAAJ,GAAgBC,eAAhB,CAAgCrP,IAAhC,EAAsC,WAAtC,CAAjB;;AAEA,MAAIvrB,YAAO,CAACmiC,QAAR,IAAoBniC,YAAO,CAACmiC,QAAR,KAAqBw8C,oBAAoB,CAAC5hF,QAAQ,CAACkkB,IAAV,CAAjE,EAAkF;AACjF,UAAM,IAAIhkB,KAAJ,CAAU,sCAAV,CAAN;AACA;;AAGD,QAAM+kL,YAAY,GAAG3B,gBAAgB,CAACtjL,QAAQ,CAACkkB,IAAV,CAArC;AACA,MAAI,CAAC+gK,YAAL,EAAmB,MAAM/kL,KAAK,CAAC,8BAAD,CAAX;AAEnB,QAAMglL,SAAS,GAAGD,YAAY,CAACtsG,aAAb,CAA2B,YAA3B,CAAlB;AACA,MAAIusG,SAAJ,EAAe,MAAM,IAAIhlL,KAAJ,CAAUglL,SAAS,CAACtzK,WAApB,CAAN;;AAGf,OAAK,MAAM;AAAE3M;AAAF,GAAX,IAAuBggL,YAAY,CAACv7K,UAApC,EAAgDu7K,YAAY,CAAC53K,eAAb,CAA6BpI,IAA7B;;AAEhDwjG,OAAK,CAAC9sD,MAAD,CAAL,GAAgB;AAAEpa,OAAF;AAAOlR,aAAS,EAAE40J,YAAlB;AAAgCpC,eAAW,EAAEC,mBAAmB,CAACmC,YAAD;AAAhE,GAAhB;AAGAvkF,cAAY,CAACukF,YAAD,CAAZ;AAEA,QAAME,UAAU,GAAG1kK,sBAAM,CAAC+N,IAAK,2CAA0CmtB,MAAO;aACpE8sD,KAAK,CAAC9sD,MAAD,CAAL,CAAcpa,GAAI,UAASoa,MAAM,GAAG,CAAE;IAC/Cl7B,sBAAM,CAACugE,IAAP,CAAYo5C,eAAA,CAAmCt6H,wBAAM,CAAC2nH,QAA1C,EAAoD/hH,SAApD,EAA+D,GAA/D,EAAoE,UAApE,CAAZ,CAA6F;QAFhG;AAKA,QAAMs/K,aAAN;AAEA,QAAMI,QAAQ,GAAG97I,gBAAC,CAACjZ,2BAAS,EAAV,CAAD,CAAexgB,IAAf,CAAoB,kBAApB,EAAwCvN,IAAxC,GAA+CkB,MAAhE;AACA,QAAM6hL,OAAO,GAAG/7I,gBAAC,CAAC27I,YAAD,CAAD,CAAgBp1K,IAAhB,CAAqB,kBAArB,EAAyCvN,IAAzC,GAAgDkB,MAAhE;;AACA,MAAI6hL,OAAO,GAAGD,QAAd,EAAwB;AACvB9oG,UAAM,CAAE,4CAA2C,CAAC+oG,OAAO,GAAG,GAAX,EAAgBr4B,OAAhB,CAAwB,CAAxB,CAA2B,OAAxE,CAAN;AACA;;AAED38H,6BAAS,GAAGnB,MAAZ,CAAmBi2J,UAAnB,EAA+BF,YAA/B;AAEA9kL,QAAM,CAACo5E,aAAP,CAAqB,IAAI1vD,KAAJ,CAAU,iBAAV,EAA6B;AAAEuB,WAAO,EAAE,IAAX;AAAiBC,cAAU,EAAE;AAA7B,GAA7B,CAArB;AACA;;AAED,SAASs4J,MAAT,CAAgBrhL,IAAhB,EAAsB;AACrBgnC,kBAAC,CAAC,OAAD,EAAU;AACVg8I,SAAK,EAAE,iCADG;AAEVhjL;AAFU,GAAV,CAAD,CAIE4sB,MAJF,CAISkrG,eAAA,CAAmCt6H,wBAAM,CAAC2nH,QAA1C,EAAoD/hH,SAApD,EAA+D,GAA/D,EAAoE,UAApE,CAJT,EAKEwpB,MALF,CAKU;;eAEIjb,QAAQ,CAACG,IAAT,CAAc9M,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAA4B;eAC5Bk8K,cAAc,MAAM,EAAG;;;;GARrC,EAaE/zJ,QAbF,CAaWY,2BAAS,EAbpB;AAcA,C;;;AC9XD;AAEA;AACA;AAOA;AACA;AAEO,MAAMvwB,sBAAiB,GAAG,IAAIirH,MAAJ,CAAW,iBAAX,CAA1B;AAGP,MAAM7/B,oBAAI,GAAG;AACZq6F,UAAQ,EAAE;AADE,CAAb;AAIAzlL,sBAAM,CAACkrH,UAAP,GAAoB,YAApB;AACAlrH,sBAAM,CAAC4jG,WAAP,GAAqB,YAArB;AACA5jG,sBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,sBAAM,CAACkF,OAAP,GAAiB;AAChBwgL,oBAAkB,EAAE;AACnB9jL,QAAI,EAAE,SADa;AAEnBwF,SAAK,EAAE,KAFY;AAGnBw8F,eAAW,EAAE,8BAHM;AAInBtQ,SAAK,EAAE,+BAJY;AAKnBg4B,aAAS,EAAE;AALQ,GADJ;AAQhBq6D,wBAAsB,EAAE;AACvB/jL,QAAI,EAAE,SADiB;AAEvBwF,SAAK,EAAE,KAFgB;AAGvBw8F,eAAW,EAAE,kCAHU;AAIvBtQ,SAAK,EAAE,mCAJgB;AAKvBg4B,aAAS,EAAE;AALY,GARR;AAehBs6D,kBAAgB,EAAE;AACjBhkL,QAAI,EAAE,SADW;AAEjBwF,SAAK,EAAE,KAFU;AAGjBw8F,eAAW,EAAE,4BAHI;AAIjBtQ,SAAK,EAAE;AAJU,GAfF;AAqBhBuyF,UAAQ,EAAE;AACTjkL,QAAI,EAAE,SADG;AAETwF,SAAK,EAAE,IAFE;AAGTw8F,eAAW,EAAE,oBAHJ;AAITtQ,SAAK,EAAE;AAJE;AArBM,CAAjB;;AA6BAtzF,sBAAM,CAACyrH,SAAP,GAAmB,MAAMq6D,YAAY,CAAC3xK,QAAQ,CAACoxE,QAAV,CAArC;;AAEA,MAAMwgG,2BAA2B,GAAI;;;;;oDAKe36F,oBAAI,CAACq6F,QAAS;;eAEnDr6F,oBAAI,CAACq6F,QAAS;;;;CAP7B;AAaA,IAAIO,qBAAJ;;AAEAhmL,sBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,sBAAM,CAACkF,OAAP,CAAe2gL,QAAf,CAAwBz+K,KAA5B,EAAmC;AAClCoiC,oBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,WAApB,EAAiC,GAAjC,EAAsC6+J,gBAAtC;AACA;;AAED,MAAIC,cAAc,EAAlB,EAAsB;AACrBC,sBAAkB;AAClB,GAFD,MAEO,IAAItkG,YAAY,EAAhB,EAAoB;AAC1B,QAAI1E,UAAU,CAAC,UAAD,EAAa,UAAb,CAAV,IAAsC,EAAEj9E,QAAQ,CAACkkB,IAAT,CAAcs8D,SAAd,CAAwBj4E,QAAxB,CAAiC,YAAjC,KAAkDvI,QAAQ,CAACkkB,IAAT,CAAcs8D,SAAd,CAAwBj4E,QAAxB,CAAiC,cAAjC,CAApD,CAA1C,EAAiJ;AAChJ29K,8BAAwB;AACxB,KAFD,MAEO;AACND,wBAAkB;AAClB;AACD;AACD,CAdD;;AAgBA,SAASL,YAAT,CAAsBvgG,QAAtB,EAAgC;AAE/B,SAAQ,0BAAD,CAA6Bt4E,IAA7B,CAAkCs4E,QAAlC,CAAP;AACA;;AAED,SAAS0gG,gBAAT,CAA0Bh6K,CAA1B,EAAoC;AACnC,QAAM1G,MAAyB,GAAI0G,CAAC,CAACmd,aAArC;AAEA,MAAI,CAAC7jB,MAAM,CAAC9C,YAAP,CAAoB,MAApB,EAA4B+9E,UAA5B,CAAuC,GAAvC,CAAD,IAAgDj7E,MAAM,CAAC2B,OAAP,CAAe,OAAf,CAApD,EAA6E;;AAE7E,MAAI3B,MAAM,CAACggF,QAAP,CAAgB3C,QAAhB,CAAyB,eAAzB,CAAJ,EAA+C;AAC9Cr9E,UAAM,CAACggF,QAAP,GAAkB,gBAAlB;AACA;AACD;;AAED,SAAS2gG,cAAT,GAA0B;AACzB,SAAO,CAAC/oG,UAAU,CAAC,UAAD,CAAX,IAA2BkpG,YAAY,MAAM,CAACrmL,sBAAM,CAACkF,OAAP,CAAe0gL,gBAAf,CAAgCx+K,KAArF;AACA;;AAEM,SAASk/K,eAAT,GAA2B;AACjC,SAAON,qBAAqB,IAAIhmL,sBAAM,CAACkF,OAAP,CAAewgL,kBAAf,CAAkCt+K,KAAlE;AACA;;AAED,SAASi/K,YAAT,GAAwB;AACvB,SAAOnmL,QAAQ,CAACkkB,IAAT,CAAcs8D,SAAd,CAAwBj4E,QAAxB,CAAiC,YAAjC,CAAP;AACA;;AAEM,SAAS89K,aAAT,CAAuBjyK,IAAY,GAAGH,QAAQ,CAACG,IAA/C,EAAqD;AAC3D,QAAMkyK,QAAQ,GAAG,IAAI/+G,GAAJ,CAAQnzD,IAAR,EAAcH,QAAQ,CAACG,IAAvB,CAAjB;AACA,MAAIwxK,YAAY,CAACU,QAAQ,CAACjhG,QAAV,CAAhB,EAAqCihG,QAAQ,CAACjhG,QAAT,GAAoB,gBAApB;AACrC,SAAOihG,QAAQ,CAAClyK,IAAhB;AACA;;AAED,SAAS6xK,kBAAT,GAA8B;AAC7B,QAAM9mK,OAAO,GAAGgnK,YAAY,KAC1B,+BAA8Bj7F,oBAAI,CAACq6F,QAAS,qGADlB,GAE1B,qCAAoCr6F,oBAAI,CAACq6F,QAAS,qGAFpD;AAIAjnD,gCAAA,CAA+B;AAC9B7W,YAAQ,EAAE3nH,sBAAM,CAAC2nH,QADa;AAE9B6U,kBAAc,EAAE,kBAFc;AAG9BT,cAAU,EAAE,IAHkB;AAI9BU,UAAM,EAAE,qBAJsB;AAK9Bp9G,WAAO,EAAG,GAAEA,OAAQ,gBAAeknK,aAAa,EAAG;AALrB,GAA/B;AAOA;;AAED,SAASE,cAAT,GAA0B;AACzB,QAAMpnK,OAAO,GAAGgnK,YAAY,KAAM;;;;iBAIlBE,aAAa,EAAG;GAJJ,GAKtB;;;;;GALN;AAYA/nD,gCAAA,CAA+B;AAC9B7W,YAAQ,EAAE3nH,sBAAM,CAAC2nH,QADa;AAE9B6U,kBAAc,EAAE,kBAFc;AAG9BT,cAAU,EAAE,KAHkB;AAI9BU,UAAM,EAAE,kBAJsB;AAK9Bp9G,WAAO,EAAG,GAAEA,OAAQ,GAAE0mK,2BAA4B;AALpB,GAA/B;AAOA;;AAED,MAAMW,cAAc,GAAG,EAAvB;AAEO,eAAeC,YAAf,CAA4BC,UAA5B,EAAsD;AAE5D,QAAMC,WAAW,GAAGD,UAAU,IAAI,CAACA,UAAU,CAAC1/K,OAAX,CAAmB,kBAAnB,CAAnC;AAEA,MAAI0/K,UAAJ,EAAgBF,cAAc,CAAC7lL,IAAf,CAAoB+lL,UAApB;AAEhB,QAAM9pD,YAAY,GAAG,MAAM0B,8BAAA,CAA+B;AACzD7W,YAAQ,EAAE3nH,sBAAM,CAAC2nH,QADwC;AAEzDsK,aAAS,EAAE,oBAF8C;AAGzDmL,YAAQ,EAAE,IAH+C;AAIzDX,UAAM,EAAE,kBAJiD;AAKzDp9G,WAAO,EAAG;;KAEP0mK,2BAA4B;KAC5Bc,WAAW,GAAG,4FAAH,GAAkG,EAAG;;AAR1D,GAA/B,CAA3B;;AAYA,MAAI/pD,YAAJ,EAAkB;AACjBtzF,oBAAC,CAACszF,YAAY,CAAC5nF,OAAd,CAAD,CAAwBnlC,IAAxB,CAA6B,0BAA7B,EAAyDqX,EAAzD,CAA4D,OAA5D,EAAqE,MAAM;AAC1E0/J,gBAAU,CAACJ,cAAD,CAAV;AACA5pD,kBAAY,CAACz4B,KAAb;AACA,KAHD;AAIA;AACD;;AAED,MAAM0iF,eAAe,GAAG,sBAAO,MAAM;AACpCvoD,gCAAA,CAA+B;AAC9B7W,YAAQ,EAAE3nH,sBAAM,CAAC2nH,QADa;AAE9BsK,aAAS,EAAE,wBAFmB;AAG9BwK,UAAM,EAAE,kBAHsB;AAI9Bp9G,WAAO,EAAG,0EAAyE0mK,2BAA4B;AAJjF,GAA/B;AAMA,CAPuB,CAAxB;;AASA,SAASK,wBAAT,GAAoC;AACnCJ,uBAAqB,GAAG,IAAxB;AAEAS,gBAAc;AAEd5uF,6BAAW,CAAC59E,GAAZ,CAAgB,qBAAhB;AAEA+sK,cAAY;AAEZx9I,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,SAApB,EAA+BgxJ,uBAA/B,EAAsEnsK,CAAD,IAAc;AAClF86K,mBAAe;;AAEf,QAAI/mL,sBAAM,CAACkF,OAAP,CAAeygL,sBAAf,CAAsCv+K,KAA1C,EAAiD;AAChDqwE,cAAQ,CAACxrE,CAAC,CAACmd,aAAH,EAAkBkwG,mBAAlB,CAAR,CAA+C1tH,QAA/C,GAA0D,IAA1D;AACA;AACD,GAND;AAOA;;AAED,SAASo7K,YAAT,GAAwB;AACvBx9I,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6B,QAA7B,EAAwCnb,CAAD,IAAc;AACpD,QAAIA,CAAC,CAACmd,aAAF,CAAgBs3D,SAAhB,CAA0Bj4E,QAA1B,CAAmC,IAAnC,KAA4CwD,CAAC,CAACmd,aAAF,CAAgBs3D,SAAhB,CAA0Bj4E,QAA1B,CAAmC,MAAnC,CAAhD,EAA4F;AAC3Fk+K,kBAAY,CAAC16K,CAAC,CAACmd,aAAH,CAAZ;AACA;AACD,GAJD;AAKA;;AAED,SAAS09J,UAAT,CAAoBG,WAApB,EAAiC;AAChCA,aAAW,CAAClhH,OAAZ,CAAoB,CAAC6gH,UAAD,EAAa7sK,KAAb,KAAuB;AAC1CyE,cAAU,CAAC,MAAM;AAChB,UAAIooK,UAAU,CAAClmG,SAAX,CAAqBj4E,QAArB,CAA8B,OAA9B,KAA0Cm+K,UAAU,CAAClmG,SAAX,CAAqBj4E,QAArB,CAA8B,SAA9B,CAA9C,EAAwF;AACvF4hB,aAAK,CAACu8J,UAAD,CAAL;AACA;AACD,KAJS,EAIP7sK,KAAK,GAAG,IAJD,CAAV;AAKA,GAND;AAQAykH,gCAAA,CAA+B;AAC9B7W,YAAQ,EAAE3nH,sBAAM,CAAC2nH,QADa;AAE9BsK,aAAS,EAAE,oBAFmB;AAG9BwK,UAAM,EAAE,kBAHsB;AAI9Bp9G,WAAO,EAAG;KACP4nK,WAAW,CAACvjL,MAAZ,GAAqB,CAArB,GAAyB,gCAAzB,GAA4D,8BAA+B;;iBAE/E0nF,oBAAI,CAACq6F,QAAS;;AAPC,GAA/B;AAUA,C;;;AC5OD;AAEA;AACA;AACA;AACA;AAcA;AACA;AACA;AACA;AAEO,MAAMzlL,mBAAiB,GAAG,IAAIirH,MAAJ,CAAW,cAAX,CAA1B;AAEPjrH,mBAAM,CAACkrH,UAAP,GAAoB,kBAApB;AACAlrH,mBAAM,CAAC4jG,WAAP,GAAqB,kBAArB;AACA5jG,mBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,mBAAM,CAACwrH,OAAP,GAAiB,CAChB,QADgB,CAAjB;AAIA,MAAM07D,mBAAmB,GAAGloF,uBAAO,CAAC7Q,QAAR,CAAiB,uCAAjB,EAA0D,MAKhF;AAAE,QAAM,IAAI/tF,KAAJ,CAAU,yBAAV,CAAN;AAA6C,CALzB,CAA5B;;AAOAJ,mBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB3rB,gBAAc,CAAC,CAAC,SAAD,CAAD,EAAcjQ,KAAK,IAAI;AACpC,UAAMh2E,OAAO,GAAGg2E,KAAK,CAACj7C,OAAN,CAAc2jC,aAAd,CAA4B,iCAA5B,CAAhB;AACA,QAAI,CAAC1+D,OAAL,EAAc;AACdA,WAAO,CAACqV,KAAR,CAAc23J,WAAW,EAAzB;AACA,GAJa,CAAd;AAKA,CAND;;AAQAnnL,mBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAI9F,UAAU,CAAC,SAAD,CAAd,EAA2B;AAC1B6a,iCAAa,CAACD,WAAd,CAA0B;AACzBv1F,UAAI,EAAE,aADmB;AAEzBy1F,cAAQ,EAAE,MAAM;AAAE9jF,gBAAQ,CAACG,IAAT,GAAgB,6BAAhB;AAAgD;AAFzC,KAA1B;AAIA;;AAEDmjF,iBAAe,CAAC,eAAD,EAAkB,gBAAlB,EAAoCz3F,mBAAM,CAAC2nH,QAA3C,EAAqD,MAAM7vB,OAAN,IAAiBtuD,gBAAC,CAACsuD,OAAD,CAAD,CAAW1oE,MAAX,EAAkB,MAAMg4J,iBAAiB,EAAzC,EAAtE,CAAf;AACA,CATD;;AAWA,MAAMD,WAAW,GAAG,CAACl7K,CAAC,IAAI,MAAMywE,cAAc,CAACzwE,CAAC,GAAGya,SAAJ,CAAc,IAAd,CAAD,CAA1B,EAAiD,sBAAO,MAAM;AACjF8iB,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6B,iBAA7B,EAAgD,CAAC;AAAEgC;AAAF,GAAD,KAA8B;AAC7E,QAAIA,aAAa,CAACs3D,SAAd,CAAwBj4E,QAAxB,CAAiC,WAAjC,CAAJ,EAAmD;AAEnD,UAAM0nF,KAAK,GAAGT,WAAK,CAACM,WAAN,CAAkB5mE,aAAlB,CAAd;AACAi+J,eAAW,CAACl3F,KAAD,CAAX;AAEA,UAAM/mF,CAAC,GAAIggB,aAAa,CAACqb,iBAAzB;AACA1N,yBAAqB,CAAC,MAAM;AAC3B3tB,OAAC,CAACwpF,OAAF,CAAUpwF,IAAV,GAAiB,WAAjB;AACA4G,OAAC,CAACkL,IAAF,GAAS,4BAAT;AACA,KAHoB,CAArB;AAIA,GAXD;AAaA,SAAOqM,sBAAM,CAAC+N,IAAK;;;;EAAnB;AAKA,CAnBoE,CAAjD,CAApB;;AAqBA,SAAS44J,iBAAT,CAA2Bn3F,KAA3B,EAAkC;AACjC,QAAMz1E,OAAO,GAAG8uB,gBAAC,CAAC2mD,KAAK,CAAC9gB,KAAN,CAAYwJ,aAAZ,CAA0B,4BAA1B,CAAD,CAAD,CAA2DvzE,KAA3D,EAAhB;AACAoV,SAAO,CAAC3K,IAAR,CAAa,4EAAb,EAA2F2L,MAA3F;AACA,SAAOhB,OAAO,CAACgU,IAAR,EAAP;AACA;;AAED,eAAe24J,WAAf,CAA2Bl3F,KAA3B,EAAyC;AACxC,QAAMo3F,SAAS,GAAGp3F,KAAK,CAAC4C,mBAAN,EAAlB;AACA,MAAI,CAACw0F,SAAL,EAAgB,MAAM,IAAInnL,KAAJ,CAAU,yBAAV,CAAN;AAEhB,QAAMyM,EAAE,GAAGsjF,KAAK,CAACoF,WAAN,GAAoB/tF,KAApB,CAA0B,GAA1B,EAA+B7G,KAA/B,CAAqC,CAAC,CAAtC,EAAyC,CAAzC,CAAX;AACA,MAAI,CAAC,MAAMumL,mBAAmB,CAACxhK,MAApB,EAAP,EAAqCxkB,cAArC,CAAoD2L,EAApD,CAAJ,EAA6D;AAE7Dq6K,qBAAmB,CAAChmK,GAApB,CAAwBrU,EAAxB,EAA4B;AAC3ByH,QAAI,EAAEizK,SAAS,CAACjzK,IADW;AAE3BgxB,YAAQ,EAAE6qD,KAAK,CAACwD,SAAN,MAAqB,WAFJ;AAG3B+L,WAAO,EAAE4nF,iBAAiB,CAACn3F,KAAD,CAHC;AAI3Bq3F,aAAS,EAAE,IAAI9+K,IAAJ,GAAW1H,QAAX;AAJgB,GAA5B;AAMA;;AAED,MAAMymL,qBAAqB,GAAG,CAAC;AAAEjqG,UAAF;AAAYkqG,WAAZ;AAAuBC;AAAvB,CAAD,KAAgDhnK,sBAAM,CAAC+N,IAAK;;IAEtF,CAAC8uD,QAAQ,CAAC95E,MAAV,IAAoBid,sBAAM,CAACghE,KAAM;;;MAG/BhhE,sBAAM,CAACugE,IAAP,CAAYo0D,mBAAQ,CAACqyC,iBAAD,CAApB,CAAyC;;GAE3C;IACAD,SAAS,IAAIA,SAAS,CAACrjL,GAAV,CAAc,CAAC;AAAEujL,YAAF;AAAcC,aAAd;AAA2BC,gBAA3B;AAA2CC;AAA3C,CAAD,KAA6DpnK,sBAAM,CAACghE,KAAM;;6DAE5CimG,UAAW;;cAE1DC,WAAY;cACZC,cAAe;cACfC,UAAW;;;GANR,CASZ;;KAEAvqG,QAAQ,CAACn5E,GAAT,CAAa,CAAC;AAAEwI,IAAF;AAAMy4D,MAAN;AAAYhgC,UAAZ;AAAsB0iJ,UAAtB;AAAgC16I,MAAhC;AAAsC26I,SAAtC;AAA+C7jK;AAA/C,CAAD,KAA2DzD,sBAAM,CAACghE,KAAM;;;iBAGzErc,IAAK;YACVhgC,QAAS;8BACS0iJ,QAAS,eAAc16I,IAAK,KAAI26I,OAAQ;;;wCAG9BtnK,sBAAM,CAACugE,IAAP,CAAY98D,IAAZ,CAAkB;;;sBAGpCkhD,IAAK;8DACmCz4D,EAAG;;;;IAZ5D,CAgBC;;;CAnCN;;AAwCA,MAAMu6K,iBAAiB,GAAG,sBAAO,YAAY;AAC5C,QAAMc,aAAa,GAAG,MAAMhB,mBAAmB,CAACxhK,MAApB,EAA5B;AAEA,QAAM83D,QAAQ,GAAG/8E,MAAM,CAAC0uE,OAAP,CAAe+4G,aAAf,EAA8B7jL,GAA9B,CAAkC,CAAC,CAACwI,EAAD,EAAK;AAAE6yF,WAAF;AAAWprF,QAAX;AAAiBgxB,YAAjB;AAA2BkiJ;AAA3B,GAAL,CAAD,KAAkD;AACpG,UAAMl6I,IAAI,GAAG,IAAI5kC,IAAJ,CAAS8+K,SAAT,CAAb;AACA,WAAO;AACN36K,QADM;AAENy4D,UAAI,EAAEhxD,IAFA;AAGNgxB,cAHM;AAINgI,UAAI,EAAEwvD,UAAU,CAACxvD,IAAD,CAJV;AAKN06I,cAAQ,EAAEjrF,cAAc,CAACzvD,IAAD,CALlB;AAMN26I,aAAO,EAAEjrF,cAAc,CAAC1vD,IAAD,CANjB;AAONlpB,UAAI,EAAEs7E,OAAO,CAAC15F,OAAR,CAAgB,yDAAhB,EAA2E,EAA3E;AAPA,KAAP;AASA,GAXgB,CAAjB;AAaA,SAAOwjC,gBAAC,CAACi+I,qBAAqB,CAAC;AAC9BE,qBAAiB,EAAExgG,IAAI,CAACnnF,mBAAM,CAAC4jG,WAAR,CADO;AAE9B8jF,aAAS,EAAEv1D,iBAAA,CAAkBg2D,2BAAlB,KAAkC,CAAC;AAC7CP,gBAAU,EAAEttD,WAAA,CAA+B6tD,kBAAA,CAAmBxgE,QAAlD,EAA4D,UAA5D,CADiC;AAE7CkgE,iBAAW,EAAEhsF,mBAAW,CAACssF,kBAAA,CAAmBjjL,OAAnB,CAA2BkjL,QAA3B,CAAoChhL,KAArC,CAFqB;AAG7C0gL,oBAAc,EAAEjsF,mBAAW,CAACssF,kBAAA,CAAmBjjL,OAAnB,CAA2BmiL,WAA3B,CAAuCjgL,KAAxC,CAHkB;AAI7C2gL,gBAAU,EAAElsF,mBAAW,CAACssF,kBAAA,CAAmBjjL,OAAnB,CAA2BmjL,OAA3B,CAAmCjhL,KAApC;AAJsB,KAAD,CAFf;AAQ9Bo2E;AAR8B,GAAD,CAAtB,CAAD,CAULp2D,EAVK,CAUF,OAVE,EAUO,gBAVP,EAU0Bnb,CAAD,IAAc;AAC5CA,KAAC,CAACsd,cAAF;AACA29J,uBAAmB,CAAC59F,MAApB,CAA2Br9E,CAAC,CAACmd,aAAF,CAAgBwpE,OAAhB,CAAwB01F,QAAnD;AACAr8K,KAAC,CAACmd,aAAF,CAAgBtX,WAAhB,GAA8B,SAA9B;AACA,GAdK,CAAP;AAeA,CA/ByB,CAA1B;;AAiCO,SAASy2K,2BAAT,GAAuC;AAC7C/pD,gCAAA,CAA+B;AAC9B7W,YAAQ,EAAE3nH,mBAAM,CAAC2nH,QADa;AAE9BsK,aAAS,EAAE,UAFmB;AAG9BuK,kBAAc,EAAE,qBAHc;AAI9BT,cAAU,EAAE,KAJkB;AAK9BqB,YAAQ,EAAE,IAAIjmD,IALgB;AAM9BslD,UAAM,EAAE,2BANsB;AAO9Bp9G,WAAO,EAAG;;iCAEqBw8E,mBAAW,CAACssF,kBAAA,CAAmBjjL,OAAnB,CAA2BkjL,QAA3B,CAAoChhL,KAArC,CAA4C,yBAAwBy0F,mBAAW,CAACssF,kBAAA,CAAmBjjL,OAAnB,CAA2BmiL,WAA3B,CAAuCjgL,KAAxC,CAA+C;;;;gCAI1Iy0F,mBAAW,CAACssF,kBAAA,CAAmBjjL,OAAnB,CAA2BmjL,OAA3B,CAAmCjhL,KAApC,CAA2C;;;8CAGxCkzH,eAAA,CAAmC6tD,kBAAA,CAAmBxgE,QAAtD,EAAgE,UAAhE,EAA4E,kBAA5E,CAAgG;;AAhB9G,GAA/B;AAmBA,C;;AClMD;AACA;AACA;AACA;AAEO,MAAM3nH,iBAAiB,GAAG,IAAIirH,MAAJ,CAAW,YAAX,CAA1B;AAEPjrH,iBAAM,CAACkrH,UAAP,GAAoB,gBAApB;AACAlrH,iBAAM,CAACmrH,QAAP,GAAkB,mBAAlB;AACAnrH,iBAAM,CAAC4jG,WAAP,GAAqB,gBAArB;AACA5jG,iBAAM,CAACkF,OAAP,GAAiB;AAChB+3K,YAAU,EAAE;AACX3pF,SAAK,EAAE,2BADI;AAEX1xF,QAAI,EAAE,MAFK;AAGXwF,SAAK,EAAE,KAHI;AAIXw8F,eAAW,EAAE,0BAJF;AAKXq2B,YAAQ,EAAE;AALC,GADI;AAQhBtG,WAAS,EAAE;AACVrgC,SAAK,EAAE,0BADG;AAEV1xF,QAAI,EAAE,MAFI;AAGVwF,SAAK,EAAE,KAHG;AAIVw8F,eAAW,EAAE,yBAJH;AAKVq2B,YAAQ,EAAE;AALA,GARK;AAehBrG,WAAS,EAAE;AACVtgC,SAAK,EAAE,0BADG;AAEV1xF,QAAI,EAAE,MAFI;AAGVwF,SAAK,EAAE,KAHG;AAIVw8F,eAAW,EAAE,yBAJH;AAKVq2B,YAAQ,EAAE;AALA,GAfK;AAsBhBh/C,WAAS,EAAE;AACVqY,SAAK,EAAE,0BADG;AAEV1xF,QAAI,EAAE,MAFI;AAGVwF,SAAK,EAAE,MAHG;AAIVmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,OADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,OADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,CAJE;AAWVw8F,eAAW,EAAE,yBAXH;AAYV0nB,aAAS,EAAE;AAZD;AAtBK,CAAjB;AAqCAtrH,iBAAM,CAACurH,OAAP,GAAiB,CAChB,UADgB,CAAjB;AAIA,IAAI9iF,gBAAJ;;AAEAzoC,iBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3Bx6C,kBAAK,GAAGsrF,QAAA,CAAe/zH,iBAAM,CAAC2nH,QAAtB,EACNziH,OADM,CACE;AACRwuH,aAAS,EAAEniG,UAAU,CAACvxB,iBAAM,CAACkF,OAAP,CAAe+3K,UAAf,CAA0B71K,KAA3B,CADb;AAERusH,aAAS,EAAEpiG,UAAU,CAACvxB,iBAAM,CAACkF,OAAP,CAAeyuH,SAAf,CAAyBvsH,KAA1B,CAFb;AAGRwsH,aAAS,EAAEriG,UAAU,CAACvxB,iBAAM,CAACkF,OAAP,CAAe0uH,SAAf,CAAyBxsH,KAA1B;AAHb,GADF,EAMNyuH,YANM,CAMO+8B,IAAI,IAAI41B,gBAAgB,CAAC94F,WAAK,CAACM,WAAN,CAAkB4iE,IAAI,CAACx9B,gBAAL,EAAlB,CAAD,CAN/B,EAONc,KAPM,CAOA,8CAPA,CAAR;AAQA,CATD;;AAWO,SAASuyD,UAAT,CAAoB7+J,MAApB,EAAyC;AAC/C,MAAI6e,gBAAJ,EAAWA,gBAAK,CAACljC,MAAN,CAAaqkB,MAAb,EAAqBqsG,KAArB;AACX;;AAED,SAAS+vC,0BAAT,GAA2B;AAC1B,QAAME,KAAK,GAAG18H,gBAAC,CAAC,IAAD,CAAf;AACA,QAAMk/I,WAAW,GAAG;AACnB3iF,MAAE,EAAE,OADe;AAEnB78B,QAAI,EAAE,SAFa;AAGnB88B,QAAI,EAAE;AAHa,GAApB;AAKA,QAAMn5F,EAAE,GAAGq5J,KAAK,CAAC7yJ,MAAN,GAAeA,MAAf,GAAwB/B,IAAxB,CAA6B,eAA7B,CAAX;AACA,MAAI2pE,SAAS,GAAI,mBAAD,CAAsBtuE,IAAtB,CAA2B,KAAK8C,SAAhC,CAAhB;AAEA,MAAI,CAACwrE,SAAL,EAAgB;AAEhBA,WAAS,GAAGA,SAAS,CAAC,CAAD,CAArB;AAEA,QAAM0tG,aAAa,GAAGn/I,gBAAC,CAAE,sBAAqB38B,EAAG,EAA1B,CAAD,CACpB2M,QADoB,CACX,SADW,EAEpBzJ,IAFoB,CAEd,UAASkrE,SAAU,YAAWA,SAAU,KAF1B,CAAtB;;AAIA,MAAI0tG,aAAa,CAACjlL,MAAd,KAAyB,CAA7B,EAAgC;AAC/Byb,WAAO,CAACjZ,KAAR,CAAc,2EAAd,EACC+0E,SADD,EACYpuE,EADZ,EACgB87K,aAAa,CAACjlL,MAD9B;AAEA;AACA;;AAKD,WAASklL,mBAAT,CAA6BphK,KAA7B,EAA2C;AAC1CA,SAAK,CAACgC,eAAN;AACA;;AAEDm/J,eAAa,CAACvhK,EAAd,CAAiB,OAAjB,EAA0BwhK,mBAA1B;AACAD,eAAa,CAACt+J,KAAd;AACAs+J,eAAa,CAAClhK,GAAd,CAAkB,OAAlB,EAA2BmhK,mBAA3B;AAEA,QAAMC,OAAO,GAAG3iB,KAAK,CAAC7yJ,MAAN,EAAhB;AAEA,MAAIy1K,QAAQ,GAAG,MAAf;;AACA,OAAK,MAAM,CAACp7K,GAAD,EAAMtG,KAAN,CAAX,IAA2B3G,MAAM,CAAC0uE,OAAP,CAAeu5G,WAAf,CAA3B,EAAwD;AACvD,QAAIG,OAAO,CAACjsJ,QAAR,CAAiBx1B,KAAjB,CAAJ,EAA6B;AAC5B0hL,cAAQ,GAAGp7K,GAAX;AACA;AACA;AACD;;AAED,QAAMq7K,MAAM,GAAG9tG,SAAS,KAAK6tG,QAAd,GAAyB,MAAzB,GAAkC7tG,SAAjD;AAEA4tG,SAAO,CAACx1K,MAAR,GAAiBmG,QAAjB,CAA2B,IAAGkvK,WAAW,CAACI,QAAD,CAAW,EAApD,EACEvsJ,WADF,CACcmsJ,WAAW,CAACI,QAAD,CADzB,EAEE5sJ,QAFF,CAEWwsJ,WAAW,CAACK,MAAD,CAFtB;AAGAF,SAAO,CAAC94K,IAAR,CAAa,aAAb,EACEysB,WADF,CACc,OADd,EACuBusJ,MAAM,KAAK,IADlC,EAEEvsJ,WAFF,CAEc,IAFd,EAEoBusJ,MAAM,KAAK,IAF/B;AAGAF,SAAO,CAAC94K,IAAR,CAAa,iBAAb,EACEysB,WADF,CACc,SADd,EACyBusJ,MAAM,KAAK,MADpC,EAEEvsJ,WAFF,CAEc,MAFd,EAEsBusJ,MAAM,KAAK,MAFjC;AAGA;;AAED,SAASP,gBAAT,CAA0Br4F,KAA1B,EAAwC;AACvC,QAAMlV,SAAS,GAAGj7E,iBAAM,CAACkF,OAAP,CAAe+1E,SAAf,CAAyB7zE,KAA3C;AAEA,MAAI4hL,QAAQ,GAAGx/I,gBAAC,CAAC2mD,KAAK,CAACj7C,OAAP,CAAD,CAAiB96B,OAAjB,CAAyB,QAAzB,EAAmC9U,KAAnC,EAAf;AACA,MAAI2jL,YAAY,GAAG,EAAnB;;AAEA,MAAID,QAAQ,CAACtlL,MAAT,KAAoB,CAAxB,EAA2B;AAE1BulL,gBAAY,GAAGz/I,gBAAC,CAAC2mD,KAAK,CAACj7C,OAAP,CAAD,CAAiBnlC,IAAjB,CAAsB,8BAAtB,EAAsDtL,KAAtD,GAA8D6M,IAA9D,CAAmE,eAAnE,CAAf;AACA,GAHD,MAGO;AAEN,UAAM43K,WAAW,GAAGF,QAAQ,CAACrkL,IAAT,GAAgB2M,IAAhB,CAAqB,eAArB,CAApB;AAEA23K,gBAAY,GAAGz/I,gBAAC,CAAE,mBAAkB0/I,WAAY,0CAAhC,CAAD,CAA4EzkL,KAA5E,GAAoF6M,IAApF,CAAyF,eAAzF,CAAf;AACA;;AACD,MAAI2pE,SAAS,KAAK,IAAlB,EAAwB;AACvB+tG,YAAQ,GAAGx/I,gBAAC,CAACw/I,QAAQ,CAACplL,GAAT,GAAe+W,OAAf,EAAD,CAAZ;AACA;;AAEDquK,UAAQ,CAAC9sJ,QAAT,CAAkB,uBAAlB,EAA2CK,WAA3C,CAAuD,gBAAvD;AACAysJ,UAAQ,CAACxvK,QAAT,CAAkB,QAAlB,EAA4BkC,MAA5B;AACAstK,UAAQ,CAAC7kL,IAAT,CAAc,YAAW;AACxB,UAAM+hK,KAAK,GAAG18H,gBAAC,CAAC,IAAD,CAAf;AAGA08H,SAAK,CAACz+I,GAAN,CAAU,OAAV;AAGA,QAAI5a,EAAE,GAAGq5J,KAAK,CAAC50J,IAAN,CAAW,eAAX,CAAT;;AACA,QAAIzE,EAAJ,EAAQ;AACPA,QAAE,GAAGA,EAAE,CAAClM,KAAH,CAAS,CAAT,CAAL;AACAulK,WAAK,CAACn2J,IAAN,CAAW,mBAAX,EAAgCqf,MAAhC,CAAwC,uCAAsCviB,EAAG,oBAAjF;AACA;AACD,GAZD;AAaAm8K,UAAQ,CAACj5K,IAAT,CAAc,SAAd,EAAyB2L,MAAzB;AACAstK,UAAQ,CAACj5K,IAAT,CAAc,gBAAd,EAAgCuU,IAAhC;AACA0kK,UAAQ,CAACj5K,IAAT,CAAc,oBAAd,EAAoC2L,MAApC;AACAstK,UAAQ,CAACj5K,IAAT,CAAc,gBAAd,EAAgC2L,MAAhC;AACAstK,UAAQ,CAACj5K,IAAT,CAAc,aAAd,EAA6B2L,MAA7B;AACAstK,UAAQ,CAACj5K,IAAT,CAAc,aAAd,EAA6B2L,MAA7B;AACAstK,UAAQ,CAACj5K,IAAT,CAAc,YAAd,EAA4B2L,MAA5B;AACAstK,UAAQ,CAACj5K,IAAT,CAAc,SAAd,EAAyB2L,MAAzB;AACAstK,UAAQ,CAACj5K,IAAT,CAAc,MAAd,EAAsBuB,IAAtB,CAA2B,IAA3B,EAAiC,EAAjC;AACA03K,UAAQ,CAACj5K,IAAT,CAAc,QAAd,EAAwBqX,EAAxB,CAA2B,OAA3B,EAAoC4+I,0BAApC;AAKAgjB,UAAQ,CAACj5K,IAAT,CAAc,mCAAd,EAAmD2L,MAAnD;AACAstK,UAAQ,CAACj5K,IAAT,CAAc,mBAAd,EAAmC2L,MAAnC;AAEA,QAAMo7G,UAAU,GAAGttF,gBAAC,CAAC,oCAAD,CAApB;AACAstF,YAAU,CAAC1nG,MAAX,CAAkB45J,QAAlB;;AAEA,MAAIC,YAAJ,EAAkB;AACjBnyD,cAAU,CAAC1nG,MAAX,CAAmB,2BAA0B65J,YAAa,2BAA1D;AACA;;AACDD,UAAQ,CAACroL,KAAT,CAAe,CAAf,EAAkB,CAAC,CAAnB,EAAsB6uB,KAAtB,CAA4B,yCAA5B;AACA,SAAO,CAAC,SAAD,EAAYsnG,UAAZ,CAAP;AACA,C;;ACzLD;AACA;AACA;AAEO,MAAM92H,kBAAiB,GAAG,IAAIirH,MAAJ,CAAW,aAAX,CAA1B;AAEPjrH,kBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,kBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,kBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AACA5jG,kBAAM,CAACkF,OAAP,GAAiB;AAChBikL,WAAS,EAAE;AACV71F,SAAK,EAAE,2BADG;AAEV1xF,QAAI,EAAE,MAFI;AAGV2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,yBADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,yBADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,CAHE;AAUVA,SAAK,EAAE,eAVG;AAWVw8F,eAAW,EAAE;AAXH,GADK;AAchBwlF,SAAO,EAAE;AACR91F,SAAK,EAAE,yBADC;AAER1xF,QAAI,EAAE,SAFE;AAGRwF,SAAK,EAAE,IAHC;AAIRw8F,eAAW,EAAE,wBAJL;AAKRq2B,YAAQ,EAAE;AALF,GAdO;AAqBhBovD,eAAa,EAAE;AACd/1F,SAAK,EAAE,+BADO;AAEd1xF,QAAI,EAAE,SAFQ;AAGdwF,SAAK,EAAE,KAHO;AAIdw8F,eAAW,EAAE,8BAJC;AAKd09B,aAAS,EAAEp8H,OAAO,IAAI,CAACA,OAAO,CAACkkL,OAAR,CAAgBhiL;AALzB,GArBC;AA4BhBkiL,gBAAc,EAAE;AACfh2F,SAAK,EAAE,gCADQ;AAEf1xF,QAAI,EAAE,SAFS;AAGfwF,SAAK,EAAE,KAHQ;AAIfw8F,eAAW,EAAE;AAJE;AA5BA,CAAjB;AAmCA5jG,kBAAM,CAACwrH,OAAP,GAAiB,CAChB,UADgB,CAAjB;AAIO,MAAM+9D,eAA8B,GAAG,IAAIj6F,OAAJ,EAAvC;;AAEPtvF,kBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB3rB,gBAAc,CAAC,CAAC,MAAD,CAAD,EAAWjQ,KAAK,IAAI;AACjC,UAAM/E,IAAI,GAAG,IAAI5R,GAAJ,CAAQ,CAAC2W,KAAK,CAACwC,UAAN,EAAD,CAAR,CAAb;;AAEA,QAAIxC,KAAK,CAACiC,UAAN,EAAJ,EAAwB;AACvBhH,UAAI,CAACnxE,GAAL,CAASk2E,KAAK,CAAC2C,eAAN,GAAwBx+E,IAAjC;AACA,KAFD,MAEO,IAAItU,kBAAM,CAACkF,OAAP,CAAemkL,aAAf,CAA6BjiL,KAAjC,EAAwC;AAC9C,YAAMoiL,aAAa,GAAGr5F,KAAK,CAAC6D,gBAAN,EAAtB;AACA,UAAIw1F,aAAJ,EAAmBp+F,IAAI,CAACnxE,GAAL,CAASuvK,aAAa,CAACl1K,IAAvB;AACnB;;AAED,UAAMm1K,OAAO,GAAG,CAACzpL,kBAAM,CAACkF,OAAP,CAAeikL,SAAf,CAAyB/hL,KAAzB,KAAmC,eAAnC,GAAqD,CAAC,GAAGgkF,IAAJ,EAAUzwE,OAAV,EAArD,GAA2E,CAAC,GAAGywE,IAAJ,CAA5E,EAAuFv7E,MAAvF,CAA8F8wF,OAA9F,CAAhB;;AAEA,UAAMt7D,IAAI,GAAIqkJ,OAAD,IAAsB;AAAEv+F,iBAAW,CAACu+F,OAAD,EAAU,GAAGD,OAAb,CAAX;AAAmC,KAAxE;;AAGAF,mBAAe,CAACroK,GAAhB,CAAoBivE,KAApB,EAA2B9qD,IAA3B;AAEA,QAAI,CAACokJ,OAAO,CAAC/lL,MAAT,IAAoB1D,kBAAM,CAACkF,OAAP,CAAekkL,OAAf,CAAuBhiL,KAAvB,IAAgCqiL,OAAO,CAAC/lL,MAAR,KAAmB,CAA3E,EAA+E;AAE/E,UAAMlB,IAAI,GAAGinL,OAAO,CAAC/lL,MAAR,KAAmB,CAAnB,GAAuB,OAAvB,GAAiC,OAA9C;AACA,UAAMk0E,GAAG,GAAGj3D,sBAAM,CAAC+N,IAAK,+DAA8DlsB,IAAK,aAA3F;AAGCo1E,OAAG,CAACnzC,iBAAL,CAA6Bl1B,gBAA7B,CAA8C,UAA9C,EAA0DtD,CAAC,IAAI;AAAEA,OAAC,CAACsd,cAAF;AAAqB,KAAtF;AAECquD,OAAG,CAACnzC,iBAAL,CAA6Bl1B,gBAA7B,CAA8C,SAA9C,EAA0DtD,CAAD,IAAmB;AAC3E,UAAIA,CAAC,CAAC2d,MAAF,KAAa,CAAb,IAAkB3d,CAAC,CAAC2d,MAAF,KAAa,CAAnC,EAAsC;AACtC,YAAM8/J,OAAO,GAAG,CAACz9K,CAAC,CAAC2d,MAAH,IAAa,CAAC3d,CAAC,CAACwf,OAAhB,IAA2B,CAACzrB,kBAAM,CAACkF,OAAP,CAAeokL,cAAf,CAA8BliL,KAA1E;AACAi+B,UAAI,CAACqkJ,OAAD,CAAJ;AACA,KAJD;AAMAv5F,SAAK,CAAC8C,UAAN,GAAmB7jE,MAAnB,CAA0BwoD,GAA1B;AACA,GAhCa,CAAd;AAiCA,CAlCD,C;;;;;;;AClDA;AAEA;AACA;AACA;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAM53E,kBAAiB,GAAG,IAAIirH,MAAJ,CAAW,aAAX,CAA1B;AAEPjrH,kBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,kBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,kBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AACA5jG,kBAAM,CAACkF,OAAP,GAAiB;AAChBykL,mBAAiB,EAAE;AAClB/nL,QAAI,EAAE,MADY;AAElB2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,aADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,cADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,aADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,WADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,EAYL;AACFjC,UAAI,EAAE,WADJ;AAEFiC,WAAK,EAAE;AAFL,KAZK,EAeL;AACFjC,UAAI,EAAE,QADJ;AAEFiC,WAAK,EAAE;AAFL,KAfK,CAFU;AAqBlBA,SAAK,EAAE,aArBW;AAsBlBw8F,eAAW,EAAE,kCAtBK;AAuBlBtQ,SAAK,EAAE,mCAvBW;AAwBlB2mC,YAAQ,EAAE;AAxBQ,GADH;AA2BhB2vD,sBAAoB,EAAE;AACrBhoL,QAAI,EAAE,MADe;AAErB2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,aADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,cADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,aADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,WADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,EAYL;AACFjC,UAAI,EAAE,WADJ;AAEFiC,WAAK,EAAE;AAFL,KAZK,EAeL;AACFjC,UAAI,EAAE,QADJ;AAEFiC,WAAK,EAAE;AAFL,KAfK,CAFa;AAqBrBA,SAAK,EAAE,QArBc;AAsBrBw8F,eAAW,EAAE,qCAtBQ;AAuBrBtQ,SAAK,EAAE,sCAvBc;AAwBrB2mC,YAAQ,EAAE;AAxBW,GA3BN;AAqDhB4vD,aAAW,EAAE;AACZjoL,QAAI,EAAE,SADM;AAEZwF,SAAK,EAAE,IAFK;AAGZw8F,eAAW,EAAE,4BAHD;AAIZtQ,SAAK,EAAE;AAJK,GArDG;AA2DhBw2F,oBAAkB,EAAE;AACnBxoD,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC2kL,WAAR,CAAoBziL,KADvB;AAEnBxF,QAAI,EAAE,MAFa;AAGnB2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,gBADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,eADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,CAHW;AAUnBA,SAAK,EAAE,OAVY;AAWnBw8F,eAAW,EAAE,mCAXM;AAYnBtQ,SAAK,EAAE,oCAZY;AAanB2mC,YAAQ,EAAE;AAbS,GA3DJ;AA0EhB8vD,mBAAiB,EAAE;AAClBzoD,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC2kL,WAAR,CAAoBziL,KADxB;AAElBxF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,IAHW;AAIlBw8F,eAAW,EAAE,kCAJK;AAKlBtQ,SAAK,EAAE;AALW,GA1EH;AAiFhB02F,2BAAyB,EAAE;AAC1B1oD,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC2kL,WAAR,CAAoBziL,KADhB;AAE1BxF,QAAI,EAAE,MAFoB;AAG1B2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,MADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,OADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,KADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,CAHkB;AAa1BA,SAAK,EAAE,KAbmB;AAc1Bw8F,eAAW,EAAE,0CAda;AAe1BtQ,SAAK,EAAE,2CAfmB;AAgB1B2mC,YAAQ,EAAE;AAhBgB,GAjFX;AAmGhBgwD,YAAU,EAAE;AACX3oD,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC2kL,WAAR,CAAoBziL,KAD/B;AAEXxF,QAAI,EAAE,SAFK;AAGXwF,SAAK,EAAE,IAHI;AAIXw8F,eAAW,EAAE,2BAJF;AAKXtQ,SAAK,EAAE,4BALI;AAMX2mC,YAAQ,EAAE;AANC,GAnGI;AA2GhBiwD,gBAAc,EAAE;AACftoL,QAAI,EAAE,SADS;AAEfwF,SAAK,EAAE,IAFQ;AAGfw8F,eAAW,EAAE,+BAHE;AAIftQ,SAAK,EAAE,gCAJQ;AAKf2mC,YAAQ,EAAE;AALK,GA3GA;AAkHhBkwD,gBAAc,EAAE;AACfvoL,QAAI,EAAE,SADS;AAEfwF,SAAK,EAAE,KAFQ;AAGfw8F,eAAW,EAAE,+BAHE;AAIftQ,SAAK,EAAE,gCAJQ;AAKf2mC,YAAQ,EAAE;AALK,GAlHA;AAyHhBmwD,uBAAqB,EAAE;AACtBxoL,QAAI,EAAE,SADgB;AAEtBwF,SAAK,EAAE,KAFe;AAGtBw8F,eAAW,EAAE,sCAHS;AAItBtQ,SAAK,EAAE,uCAJe;AAKtB2mC,YAAQ,EAAE;AALY,GAzHP;AAgIhBowD,uBAAqB,EAAE;AACtBzoL,QAAI,EAAE,SADgB;AAEtBwF,SAAK,EAAE,IAFe;AAGtBw8F,eAAW,EAAE,sCAHS;AAItBtQ,SAAK,EAAE;AAJe,GAhIP;AAsIhBg3F,YAAU,EAAE;AACX1oL,QAAI,EAAE,SADK;AAEXwF,SAAK,EAAE,CAAC,GAAD,EAAM,KAAN,EAAa,KAAb,EAAoB,IAApB,EAA0B,KAA1B,CAFI;AAGXw8F,eAAW,EAAE,2BAHF;AAIXtQ,SAAK,EAAE,4BAJI;;AAKXlvF,YAAQ,GAAG;AAAEmmL,sBAAgB;AAAK;;AALvB,GAtII;AA6IhBC,eAAa,EAAE;AACd5oL,QAAI,EAAE,SADQ;AAEd6oL,mBAAe,EAAE,CAACrwD,2BAAD,CAFH;AAGdhzH,SAAK,EAAE,CAAC,GAAD,EAAM,KAAN,EAAa,KAAb,EAAoB,KAApB,EAA2B,KAA3B,CAHO;AAIdw8F,eAAW,EAAE,8BAJC;AAKdtQ,SAAK,EAAE,+BALO;;AAMdlvF,YAAQ,GAAG;AAAEg2H,wBAAA;AAAuB;;AANtB,GA7IC;AAqJhBswD,wBAAsB,EAAE;AACvB9oL,QAAI,EAAE,SADiB;AAEvB6oL,mBAAe,EAAE,CAACrwD,2BAAD,EAAcg4B,2BAAd,CAFM;AAGvBhrJ,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHgB;AAIvBw8F,eAAW,EAAE,uCAJU;AAKvBtQ,SAAK,EAAE,wCALgB;;AAMvBlvF,YAAQ,GAAG;AAAEg2H,sBAAA,CAAiB,KAAjB;AAA0B;;AANhB,GArJR;AA6JhB51G,MAAI,EAAE;AACL5iB,QAAI,EAAE,SADD;AAEL2pH,WAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,CAFJ;AAGLnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHF;AAILw8F,eAAW,EAAE,qBAJR;AAKLtQ,SAAK,EAAE,sBALF;AAMLlvF,YAAQ,EAAEumL;AANL,GA7JU;AAqKhBC,QAAM,EAAE;AACPhpL,QAAI,EAAE,SADC;AAEP2pH,WAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,EAAoC,QAApC,CAFF;AAGPnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHA;AAIPw8F,eAAW,EAAE,uBAJN;AAKPtQ,SAAK,EAAE,wBALA;;AAMPlvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,IAAnB,EAAyB;AAAE87C,wBAAgB,EAAE,IAApB;AAA0BvnE,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAeykL,iBAAf,CAAiCviL;AAAxE,OAAzB;AAA4G;;AANlH,GArKQ;AA6KhByjL,UAAQ,EAAE;AACTjpL,QAAI,EAAE,SADG;AAET2pH,WAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,EAAoC,QAApC,CAFA;AAGTnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHE;AAITw8F,eAAW,EAAE,yBAJJ;AAKTtQ,SAAK,EAAE,0BALE;;AAMTlvF,YAAQ,GAAG;AACVw6H,mCAAa,CAACp4B,IAAd,CAAmB,MAAnB,EAA2B;AAAE87C,wBAAgB,EAAE,IAApB;AAA0BvnE,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAeykL,iBAAf,CAAiCviL;AAAxE,OAA3B,EAA4G0jL,gBAA5G;AACA;;AARQ,GA7KM;AAuLhBC,eAAa,EAAE;AACdnpL,QAAI,EAAE,SADQ;AAEd2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,EAAiC,OAAjC,CAFK;AAGdnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHO;AAIdw8F,eAAW,EAAE,8BAJC;AAKdtQ,SAAK,EAAE,+BALO;;AAMdlvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,IAAnB,EAAyB;AAAEzrB,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAeykL,iBAAf,CAAiCviL;AAAhD,OAAzB;AAAoF;;AANnF,GAvLC;AA+LhB4jL,iBAAe,EAAE;AAChBppL,QAAI,EAAE,SADU;AAEhB2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,EAAiC,OAAjC,CAFO;AAGhBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHS;AAIhBw8F,eAAW,EAAE,gCAJG;AAKhBtQ,SAAK,EAAE,iCALS;;AAMhBlvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,MAAnB,EAA2B;AAAEzrB,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAeykL,iBAAf,CAAiCviL;AAAhD,OAA3B;AAAsF;;AANnF,GA/LD;AAuMhB6jL,SAAO,EAAE;AACRrpL,QAAI,EAAE,SADE;AAER2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,EAAiC,UAAjC,EAA6C,SAA7C,EAAwD,OAAxD,EAAiE,QAAjE,CAFD;AAGRnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHC;AAIRw8F,eAAW,EAAE,wBAJL;AAKRtQ,SAAK,EAAE,yBALC;;AAMRlvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,KAAnB,EAA0B;AAAEzrB,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAe0kL,oBAAf,CAAoCxiL;AAAnD,OAA1B;AAAwF;;AAN7F,GAvMO;AA+MhB8jL,YAAU,EAAE;AACXtpL,QAAI,EAAE,SADK;AAEX2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,EAAiC,UAAjC,EAA6C,SAA7C,EAAwD,OAAxD,EAAiE,QAAjE,CAFE;AAGXnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHI;AAIXw8F,eAAW,EAAE,2BAJF;AAKXtQ,SAAK,EAAE,4BALI;;AAMXlvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,QAAnB,EAA6B;AAAEzrB,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAe0kL,oBAAf,CAAoCxiL;AAAnD,OAA7B;AAA2F;;AAN7F,GA/MI;AAuNhB+jL,eAAa,EAAE;AACdvpL,QAAI,EAAE,SADQ;AAEd2pH,WAAO,EAAE,CAAC,UAAD,CAFK;AAGdnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHO;AAIdw8F,eAAW,EAAE,8BAJC;AAKdtQ,SAAK,EAAE,+BALO;;AAMdlvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,WAAnB,EAAgC;AAAEzrB,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAe0kL,oBAAf,CAAoCxiL;AAAnD,OAAhC;AAA8F;;AAN7F,GAvNC;AA+NhBgkL,iBAAe,EAAE;AAChBxpL,QAAI,EAAE,SADU;AAEhB2pH,WAAO,EAAE,CAAC,UAAD,CAFO;AAGhBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHS;AAIhBw8F,eAAW,EAAE,gCAJG;AAKhBtQ,SAAK,EAAE,iCALS;;AAMhBlvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,aAAnB,EAAkC;AAAEzrB,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAe0kL,oBAAf,CAAoCxiL;AAAnD,OAAlC;AAAgG;;AAN7F,GA/ND;AAuOhBikL,uBAAqB,EAAE;AACtBzpL,QAAI,EAAE,SADgB;AAEtB2pH,WAAO,EAAE,CAAC,UAAD,CAFa;AAGtBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,IAAL,EAAW,KAAX,EAAkB,KAAlB,EAAyB,KAAzB,CAHe;AAItBw8F,eAAW,EAAE,sCAJS;AAKtBtQ,SAAK,EAAE,uCALe;;AAMtBlvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,mBAAnB,EAAwC;AAAEzrB,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAe0kL,oBAAf,CAAoCxiL;AAAnD,OAAxC;AAAsG;;AAN7F,GAvOP;AA+OhBkkL,cAAY,EAAE;AACb1pL,QAAI,EAAE,SADO;AAEb2pH,WAAO,EAAE,CAAC,UAAD,CAFI;AAGbnkH,SAAK,EAAE,CAAC,EAAD,EAAK,IAAL,EAAW,KAAX,EAAkB,IAAlB,EAAwB,KAAxB,CAHM;AAIbw8F,eAAW,EAAE,6BAJA;AAKbtQ,SAAK,EAAE,8BALM;;AAMblvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,UAAnB,EAA+B;AAAEzrB,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAe0kL,oBAAf,CAAoCxiL;AAAnD,OAA/B;AAA6F;;AAN7F,GA/OE;AAuPhBmkL,gBAAc,EAAE;AACf3pL,QAAI,EAAE,SADS;AAEf2pH,WAAO,EAAE,CAAC,UAAD,CAFM;AAGfnkH,SAAK,EAAE,CAAC,EAAD,EAAK,IAAL,EAAW,KAAX,EAAkB,IAAlB,EAAwB,KAAxB,CAHQ;AAIfw8F,eAAW,EAAE,+BAJE;AAKftQ,SAAK,EAAE,gCALQ;;AAMflvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,YAAnB,EAAiC;AAAEzrB,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAe0kL,oBAAf,CAAoCxiL;AAAnD,OAAjC;AAA+F;;AAN7F,GAvPA;AA+PhBokL,kBAAgB,EAAE;AACjB5pL,QAAI,EAAE,SADW;AAEjB2pH,WAAO,EAAE,CAAC,UAAD,CAFQ;AAGjBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHU;AAIjBw8F,eAAW,EAAE,iCAJI;AAKjBtQ,SAAK,EAAE,kCALU;;AAMjBlvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,cAAnB,EAAmC;AAAEzrB,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAe0kL,oBAAf,CAAoCxiL;AAAnD,OAAnC;AAAiG;;AAN7F,GA/PF;AAuQhBqkL,cAAY,EAAE;AACb7pL,QAAI,EAAE,SADO;AAEb2pH,WAAO,EAAE,CAAC,UAAD,CAFI;AAGbnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHM;AAIbw8F,eAAW,EAAE,6BAJA;AAKbtQ,SAAK,EAAE,8BALM;;AAMblvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,UAAnB,EAA+B;AAAEzrB,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAe0kL,oBAAf,CAAoCxiL;AAAnD,OAA/B;AAA6F;;AAN7F,GAvQE;AA+QhBskL,UAAQ,EAAE;AACT9pL,QAAI,EAAE,SADG;AAETwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,CAFE;AAGTw8F,eAAW,EAAE,yBAHJ;AAITtQ,SAAK,EAAE,0BAJE;;AAKTlvF,YAAQ,GAAG;AAAEw6H,mCAAa,CAACp4B,IAAd,CAAmB,UAAnB,EAA+B;AAAEzrB,mBAAW,EAAE/6E,kBAAM,CAACkF,OAAP,CAAe0kL,oBAAf,CAAoCxiL;AAAnD,OAA/B;AAA6F;;AALjG,GA/QM;AAsRhBukL,aAAW,EAAE;AACZ/pL,QAAI,EAAE,SADM;AAEZ6oL,mBAAe,EAAE,CAACmB,0BAAD,CAFL;AAGZxkL,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHK;AAIZw8F,eAAW,EAAE,4BAJD;AAKZtQ,SAAK,EAAE,6BALK;;AAMZlvF,YAAQ,CAACqQ,QAAQ,GAAGo3K,WAAW,EAAvB,EAA2B;AAClCD,gBAAA,CAAsBE,aAAa,CAACr3K,QAAQ,CAACygC,OAAT,CAAiB2jC,aAAjB,CAA+B,6BAA/B,CAAD,CAAnC;AACA;;AARW,GAtRG;AAgShBkzG,YAAU,EAAE;AACXnqL,QAAI,EAAE,SADK;AAEX2pH,WAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,EAAoC,UAApC,EAAgD,QAAhD,CAFE;AAGXnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHI;AAIXw8F,eAAW,EAAE,2BAJF;AAKXtQ,SAAK,EAAE,4BALI;;AAMXlvF,YAAQ,GAAG;AAAE2nL,gBAAU;AAAK;;AANjB,GAhSI;AAwShBC,kBAAgB,EAAE;AACjBpqL,QAAI,EAAE,SADW;AAEjB2pH,WAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,EAAoC,UAApC,EAAgD,QAAhD,CAFQ;AAGjBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHU;AAIjBw8F,eAAW,EAAE,iCAJI;AAKjBtQ,SAAK,EAAE,kCALU;;AAMjBlvF,YAAQ,GAAG;AAAE2nL,gBAAU,CAAC,IAAD,CAAV;AAAmB;;AANf,GAxSF;AAgThBE,eAAa,EAAE;AACdrqL,QAAI,EAAE,SADQ;AAEd6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFH;AAGdhnJ,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHO;AAIdw8F,eAAW,EAAE,8BAJC;AAKdtQ,SAAK,EAAE,+BALO;;AAMdlvF,YAAQ,CAACqQ,QAAQ,GAAGo3K,WAAW,EAAvB,EAA2B;AAClCz9B,yBAAA,CAA+B35I,QAA/B,EAAyC;AACxCktI,sBAAc,EAAE3hJ,kBAAM,CAACkF,OAAP,CAAegnL,eAAf,CAA+B9kL;AADP,OAAzC;AAGA;;AAVa,GAhTC;AA4ThB8kL,iBAAe,EAAE;AAChBtqL,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,IAFS;AAGhBw8F,eAAW,EAAE,gCAHG;AAIhBtQ,SAAK,EAAE,iCAJS;AAKhB2mC,YAAQ,EAAE;AALM,GA5TD;AAmUhBkyD,aAAW,EAAE;AACZvqL,QAAI,EAAE,SADM;AAEZ6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFL;AAGZhnJ,SAAK,EAAE,CAAC,GAAD,EAAM,KAAN,EAAa,KAAb,EAAoB,KAApB,EAA2B,KAA3B,CAHK;AAIZw8F,eAAW,EAAE,4BAJD;AAKZtQ,SAAK,EAAE,6BALK;;AAMZlvF,YAAQ,GAAG;AAAEgoL,iBAAW,CAAC;AAAEC,cAAM,EAAE;AAAV,OAAD,CAAX;AAA+B;;AANhC,GAnUG;AA2UhBC,eAAa,EAAE;AACd1qL,QAAI,EAAE,SADQ;AAEd6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFH;AAGdhnJ,SAAK,EAAE,CAAC,GAAD,EAAM,KAAN,EAAa,KAAb,EAAoB,KAApB,EAA2B,KAA3B,CAHO;AAIdw8F,eAAW,EAAE,8BAJC;AAKdtQ,SAAK,EAAE,+BALO;;AAMdlvF,YAAQ,GAAG;AAAEgoL,iBAAW,CAAC;AAAEC,cAAM,EAAE,IAAI;AAAd,OAAD,CAAX;AAAmC;;AANlC,GA3UC;AAmVhBE,iBAAe,EAAE;AAChB3qL,QAAI,EAAE,SADU;AAEhB6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFD;AAGhBhnJ,SAAK,EAAE,CAAC,GAAD,EAAM,KAAN,EAAa,KAAb,EAAoB,IAApB,EAA0B,KAA1B,CAHS;AAIhBw8F,eAAW,EAAE,gCAJG;AAKhBtQ,SAAK,EAAE,iCALS;;AAMhBlvF,YAAQ,GAAG;AAAEgoL,iBAAW,CAAC;AAAEC,cAAM,EAAE;AAAV,OAAD,CAAX;AAA+B;;AAN5B,GAnVD;AA2VhBG,mBAAiB,EAAE;AAClB5qL,QAAI,EAAE,SADY;AAElB6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFC;AAGlBhnJ,SAAK,EAAE,CAAC,GAAD,EAAM,KAAN,EAAa,KAAb,EAAoB,IAApB,EAA0B,KAA1B,CAHW;AAIlBw8F,eAAW,EAAE,kCAJK;AAKlBtQ,SAAK,EAAE,mCALW;;AAMlBlvF,YAAQ,GAAG;AAAEgoL,iBAAW,CAAC;AAAEC,cAAM,EAAE,IAAI;AAAd,OAAD,CAAX;AAAmC;;AAN9B,GA3VH;AAmWhBI,oBAAkB,EAAE;AACnB7qL,QAAI,EAAE,SADa;AAEnB6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFE;AAGnBhnJ,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHY;AAInBw8F,eAAW,EAAE,mCAJM;AAKnBtQ,SAAK,EAAE,oCALY;;AAMnBlvF,YAAQ,GAAG;AAAEgoL,iBAAW,CAAC;AAAEM,+BAAuB,EAAE;AAA3B,OAAD,CAAX;AAAiD;;AAN3C,GAnWJ;AA2WhBC,aAAW,EAAE;AACZ/qL,QAAI,EAAE,SADM;AAEZ6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFL;AAGZhnJ,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,CAHK;AAIZw8F,eAAW,EAAE,4BAJD;AAKZtQ,SAAK,EAAE,6BALK;;AAMZlvF,YAAQ,GAAG;AAAEo6I,eAAS,CAAC,CAAD,EAAI,CAAC,EAAL,CAAT;AAAoB;;AANrB,GA3WG;AAmXhBouC,eAAa,EAAE;AACdhrL,QAAI,EAAE,SADQ;AAEd6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFH;AAGdhnJ,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,CAHO;AAIdw8F,eAAW,EAAE,8BAJC;AAKdtQ,SAAK,EAAE,+BALO;;AAMdlvF,YAAQ,GAAG;AAAEo6I,eAAS,CAAC,CAAD,EAAI,EAAJ,CAAT;AAAmB;;AANlB,GAnXC;AA2XhBquC,eAAa,EAAE;AACdjrL,QAAI,EAAE,SADQ;AAEd6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFH;AAGdhnJ,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,CAHO;AAIdw8F,eAAW,EAAE,8BAJC;AAKdtQ,SAAK,EAAE,+BALO;;AAMdlvF,YAAQ,GAAG;AAAEo6I,eAAS,CAAC,CAAC,EAAF,EAAM,CAAN,CAAT;AAAoB;;AANnB,GA3XC;AAmYhBsuC,gBAAc,EAAE;AACflrL,QAAI,EAAE,SADS;AAEf6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFF;AAGfhnJ,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,CAHQ;AAIfw8F,eAAW,EAAE,+BAJE;AAKftQ,SAAK,EAAE,gCALQ;;AAMflvF,YAAQ,GAAG;AAAEo6I,eAAS,CAAC,EAAD,EAAK,CAAL,CAAT;AAAmB;;AANjB,GAnYA;AA2YhBuuC,sBAAoB,EAAE;AACrBnrL,QAAI,EAAE,SADe;AAErB6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFI;AAGrBhnJ,SAAK,EAAE,CAAC,GAAD,EAAM,KAAN,EAAa,KAAb,EAAoB,KAApB,EAA2B,KAA3B,CAHc;AAIrBw8F,eAAW,EAAE,qCAJQ;AAKrBtQ,SAAK,EAAE,sCALc;;AAMrBlvF,YAAQ,GAAG;AAAE4oL,qBAAe,CAAC,UAAD,CAAf;AAA8B;;AANtB,GA3YN;AAmZhBC,kBAAgB,EAAE;AACjBrrL,QAAI,EAAE,SADW;AAEjB6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFA;AAGjBhnJ,SAAK,EAAE,CAAC,GAAD,EAAM,KAAN,EAAa,KAAb,EAAoB,KAApB,EAA2B,KAA3B,CAHU;AAIjBw8F,eAAW,EAAE,iCAJI;AAKjBtQ,SAAK,EAAE,kCALU;;AAMjBlvF,YAAQ,GAAG;AAAE4oL,qBAAe,CAAC,MAAD,CAAf;AAA0B;;AANtB,GAnZF;AA2ZhBE,yBAAuB,EAAE;AACxBtrL,QAAI,EAAE,SADkB;AAExBwF,SAAK,EAAE,IAFiB;AAGxBw8F,eAAW,EAAE,wCAHW;AAIxBtQ,SAAK,EAAE,yCAJiB;AAKxB2mC,YAAQ,EAAE;AALc,GA3ZT;AAkahBkzD,kBAAgB,EAAE;AACjBvrL,QAAI,EAAE,SADW;AAEjB6oL,mBAAe,EAAE,CAACr8B,0BAAD,CAFA;AAGjBhnJ,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHU;AAIjBw8F,eAAW,EAAE,iCAJI;AAKjBtQ,SAAK,EAAE,kCALU;;AAMjBlvF,YAAQ,GAAG;AAAEgqJ,sBAAA,GAA8B/jI,KAA9B;AAAwC;;AANpC,GAlaF;AA0ahB+iK,gBAAc,EAAE;AACfxrL,QAAI,EAAE,SADS;AAEf2pH,WAAO,EAAE,CAAC,UAAD,EAAa,OAAb,CAFM;AAGfnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHQ;AAIfw8F,eAAW,EAAE,+BAJE;AAKftQ,SAAK,EAAE,gCALQ;AAMflvF,YAAQ,EAAEgpL;AANK,GA1aA;AAkbhBC,gBAAc,EAAE;AACfzrL,QAAI,EAAE,SADS;AAEf2pH,WAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,EAAoC,QAApC,CAFM;AAGfnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHQ;AAIfw8F,eAAW,EAAE,+BAJE;AAKftQ,SAAK,EAAE,gCALQ;;AAMflvF,YAAQ,GAAG;AAAEipL,oBAAc;AAAK;;AANjB,GAlbA;AA0bhBC,sBAAoB,EAAE;AACrB1rL,QAAI,EAAE,SADe;AAErB2pH,WAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,EAAoC,QAApC,CAFY;AAGrBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHc;AAIrBw8F,eAAW,EAAE,qCAJQ;AAKrBtQ,SAAK,EAAE,sCALc;;AAMrBlvF,YAAQ,GAAG;AAAEipL,oBAAc,CAAC,IAAD,CAAd;AAAuB;;AANf,GA1bN;AAkchBE,6BAA2B,EAAE;AAC5B3rL,QAAI,EAAE,SADsB;AAE5B6oL,mBAAe,EAAE,CAAC+C,2BAAD,CAFW;AAG5BpmL,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHqB;AAI5Bw8F,eAAW,EAAE,4CAJe;AAK5BtQ,SAAK,EAAE,6CALqB;;AAM5BlvF,YAAQ,GAAG;AAAGopL,qBAAA,CAA4B5pL,GAA5B,CAAgCioL,WAAW,EAA3C,CAAD,CAAsD,IAAtD;AAA8D;;AAN/C,GAlcb;AA0chB4B,+BAA6B,EAAE;AAC9B7rL,QAAI,EAAE,SADwB;AAE9B6oL,mBAAe,EAAE,CAAC+C,2BAAD,CAFa;AAG9BpmL,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHuB;AAI9Bw8F,eAAW,EAAE,8CAJiB;AAK9BtQ,SAAK,EAAE,+CALuB;;AAM9BlvF,YAAQ,GAAG;AAAGopL,qBAAA,CAA4B5pL,GAA5B,CAAgCioL,WAAW,EAA3C,CAAD,CAAsD,KAAtD;AAA+D;;AAN9C,GA1cf;AAkdhB6B,QAAM,EAAE;AACP9rL,QAAI,EAAE,SADC;AAEP2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,EAAiC,UAAjC,EAA6C,SAA7C,EAAwD,UAAxD,EAAoE,OAApE,EAA6E,QAA7E,CAFF;AAGPnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHA;AAIPw8F,eAAW,EAAE,uBAJN;AAKPtQ,SAAK,EAAE,wBALA;AAMPq6F,kBAAc,EAAE,IANT;;AAOPvpL,YAAQ,GAAG;AAAEwpL,UAAI,CAAC,OAAD,CAAJ;AAAgB;;AAPtB,GAldQ;AA2dhBC,UAAQ,EAAE;AACTjsL,QAAI,EAAE,SADG;AAET2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,EAAiC,UAAjC,EAA6C,SAA7C,EAAwD,UAAxD,EAAoE,OAApE,EAA6E,QAA7E,CAFA;AAGTnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHE;AAITw8F,eAAW,EAAE,yBAJJ;AAKTtQ,SAAK,EAAE,0BALE;AAMTq6F,kBAAc,EAAE,IANP;;AAOTvpL,YAAQ,GAAG;AAAEwpL,UAAI,CAAC,SAAD,CAAJ;AAAkB;;AAPtB,GA3dM;AAoehBE,uBAAqB,EAAE;AACtBlsL,QAAI,EAAE,SADgB;AAEtB2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,EAAiC,UAAjC,EAA6C,SAA7C,EAAwD,UAAxD,EAAoE,OAApE,EAA6E,QAA7E,CAFa;AAGtBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHe;AAItBw8F,eAAW,EAAE,sCAJS;AAKtBtQ,SAAK,EAAE,uCALe;AAMtBq6F,kBAAc,EAAE,IANM;;AAOtBvpL,YAAQ,GAAG;AAAEwpL,UAAI,CAAC,OAAD,EAAU,IAAV,CAAJ;AAAsB;;AAPb,GApeP;AA6ehBG,yBAAuB,EAAE;AACxBnsL,QAAI,EAAE,SADkB;AAExB2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,EAAiC,UAAjC,EAA6C,SAA7C,EAAwD,UAAxD,EAAoE,OAApE,EAA6E,QAA7E,CAFe;AAGxBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHiB;AAIxBw8F,eAAW,EAAE,wCAJW;AAKxBtQ,SAAK,EAAE,yCALiB;AAMxBq6F,kBAAc,EAAE,IANQ;;AAOxBvpL,YAAQ,GAAG;AAAEwpL,UAAI,CAAC,SAAD,EAAY,IAAZ,CAAJ;AAAwB;;AAPb,GA7eT;AAsfhBxF,UAAQ,EAAE;AACTxmL,QAAI,EAAE,SADG;AAET2pH,WAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,EAAoC,UAApC,CAFA;AAGTnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHE;AAITw8F,eAAW,EAAE,yBAJJ;AAKTtQ,SAAK,EAAE,0BALE;AAMTq6F,kBAAc,EAAE,IANP;;AAOTvpL,YAAQ,GAAG;AACVimB,WAAK,CAAC2jK,6BAA6B,CAAC,4CAAD,EAA+CC,MAA/C,CAA9B,CAAL;AACA;;AATQ,GAtfM;AAigBhB5G,aAAW,EAAE;AACZzlL,QAAI,EAAE,SADM;AAEZ2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,CAFG;AAGZnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHK;AAIZw8F,eAAW,EAAE,4BAJD;AAKZtQ,SAAK,EAAE,6BALK;AAMZq6F,kBAAc,EAAE,IANJ;;AAOZvpL,YAAQ,GAAG;AACVimB,WAAK,CAAC2jK,6BAA6B,CAAC,0BAAD,EAA6BC,MAA7B,CAA9B,CAAL;AACA;;AATW,GAjgBG;AA4gBhB5F,SAAO,EAAE;AACRzmL,QAAI,EAAE,SADE;AAER6oL,mBAAe,EAAE,CAACyD,4BAAD,CAFT;AAGR9mL,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHC;AAIRw8F,eAAW,EAAE,wBAJL;AAKRtQ,SAAK,EAAE,yBALC;;AAMRlvF,YAAQ,GAAG;AACVimB,WAAK,CAAC2jK,6BAA6B,CAAC,gCAAD,EAAmCC,MAAnC,CAA9B,CAAL;AACAC,iCAAA;AACA;;AATO,GA5gBO;AAuhBhBC,OAAK,EAAE;AACNvsL,QAAI,EAAE,SADA;AAEN2pH,WAAO,EAAE,CAAC,UAAD,EAAa,OAAb,CAFH;AAGNnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHD;AAINw8F,eAAW,EAAE,sBAJP;AAKNtQ,SAAK,EAAE,uBALD;AAMNq6F,kBAAc,EAAE,IANV;AAONvpL,YAAQ,EAAE+pL;AAPJ,GAvhBS;AAgiBhBC,MAAI,EAAE;AACLxsL,QAAI,EAAE,SADD;AAEL2pH,WAAO,EAAE,CAAC,UAAD,EAAa,SAAb,CAFJ;AAGLnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHF;AAILw8F,eAAW,EAAE,qBAJR;AAKLtQ,SAAK,EAAE,sBALF;AAMLq6F,kBAAc,EAAE,IANX;;AAOLvpL,YAAQ,GAAG;AACVimB,WAAK,CAAC2jK,6BAA6B,CAAC,uBAAD,EAA0BC,MAA1B,EAAkCpC,WAAW,EAA7C,CAA9B,CAAL;AACA;;AATI,GAhiBU;AA2iBhBwC,mBAAiB,EAAE;AAClBzsL,QAAI,EAAE,SADY;AAElB6oL,mBAAe,EAAE,CAAC6D,iCAAD,CAFC;AAGlBlnL,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHW;AAIlBw8F,eAAW,EAAE,kCAJK;AAKlBtQ,SAAK,EAAE,mCALW;;AAMlBlvF,YAAQ,CAACqQ,QAAQ,GAAGo3K,WAAW,EAAvB,EAA2B;AAClCyC,8BAAA,CAAyB75K,QAAzB;AACA;;AARiB,GA3iBH;AAqjBhB85K,sBAAoB,EAAE;AACrB3sL,QAAI,EAAE,SADe;AAErB6oL,mBAAe,EAAE,CAAC6D,iCAAD,CAFI;AAGrBlnL,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHc;AAIrBw8F,eAAW,EAAE,qCAJQ;AAKrBtQ,SAAK,EAAE,sCALc;;AAMrBlvF,YAAQ,GAAG;AACVkqL,eAAA;AACA;;AARoB,GArjBN;AA+jBhBE,iBAAe,EAAE;AAChB5sL,QAAI,EAAE,SADU;AAEhB2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,EAAiC,OAAjC,CAFO;AAGhBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHS;AAIhBw8F,eAAW,EAAE,gCAJG;AAKhBtQ,SAAK,EAAE,iCALS;;AAMhBlvF,YAAQ,GAAG;AAAEoqL,qBAAe;AAAK;;AANjB,GA/jBD;AAukBhBC,uBAAqB,EAAE;AACtB7sL,QAAI,EAAE,SADgB;AAEtB2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,EAAiC,OAAjC,CAFa;AAGtBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHe;AAItBw8F,eAAW,EAAE,sCAJS;AAKtBtQ,SAAK,EAAE,uCALe;;AAMtBlvF,YAAQ,GAAG;AAAEoqL,qBAAe,CAAC,IAAD,CAAf;AAAwB;;AANf,GAvkBP;AA+kBhBE,iBAAe,EAAE;AAChB9sL,QAAI,EAAE,SADU;AAEhB2pH,WAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,EAAoC,QAApC,CAFO;AAGhBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHS;AAIhBw8F,eAAW,EAAE,gCAJG;AAKhBtQ,SAAK,EAAE,iCALS;;AAMhBlvF,YAAQ,GAAG;AAAEsqL,qBAAe;AAAK;;AANjB,GA/kBD;AAulBhBC,uBAAqB,EAAE;AACtB/sL,QAAI,EAAE,SADgB;AAEtB2pH,WAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,EAAoC,QAApC,CAFa;AAGtBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHe;AAItBw8F,eAAW,EAAE,sCAJS;AAKtBtQ,SAAK,EAAE,uCALe;;AAMtBlvF,YAAQ,GAAG;AAAEsqL,qBAAe,CAAC,IAAD,CAAf;AAAwB;;AANf,GAvlBP;AA+lBhBE,eAAa,EAAE;AACdhtL,QAAI,EAAE,SADQ;AAEd2pH,WAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,kBAAzB,EAA6C,OAA7C,EAAsD,UAAtD,EAAkE,QAAlE,CAFK;AAGdnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHO;AAIdw8F,eAAW,EAAE,8BAJC;AAKdtQ,SAAK,EAAE,+BALO;;AAMdlvF,YAAQ,GAAG;AAAEwqL,mBAAa;AAAK;;AANjB,GA/lBC;AAumBhBC,qBAAmB,EAAE;AACpBjtL,QAAI,EAAE,SADc;AAEpB2pH,WAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,kBAAzB,EAA6C,OAA7C,EAAsD,UAAtD,EAAkE,QAAlE,CAFW;AAGpBnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHa;AAIpBw8F,eAAW,EAAE,oCAJO;AAKpBtQ,SAAK,EAAE,qCALa;;AAMpBlvF,YAAQ,GAAG;AAAEwqL,mBAAa,CAAC,IAAD,CAAb;AAAsB;;AANf,GAvmBL;AA+mBhBE,wBAAsB,EAAE;AACvBltL,QAAI,EAAE,SADiB;AAEvB6oL,mBAAe,EAAE,CAAC32B,gCAAD,CAFM;AAGvB1sJ,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHgB;AAIvBw8F,eAAW,EAAE,uCAJU;AAKvBtQ,SAAK,EAAE,wCALgB;;AAMvBlvF,YAAQ,GAAG;AAAE0vJ,6BAAA,CAAwB,IAAxB;AAAgC;;AANtB,GA/mBR;AAunBhBi7B,wBAAsB,EAAE;AACvBntL,QAAI,EAAE,SADiB;AAEvB6oL,mBAAe,EAAE,CAAC32B,gCAAD,CAFM;AAGvB1sJ,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHgB;AAIvBw8F,eAAW,EAAE,uCAJU;AAKvBtQ,SAAK,EAAE,wCALgB;;AAMvBlvF,YAAQ,GAAG;AAAE0vJ,2BAAA,CAAsB,IAAtB;AAA8B;;AANpB,GAvnBR;AA+nBhBk7B,0BAAwB,EAAE;AACzBptL,QAAI,EAAE,SADmB;AAEzB6oL,mBAAe,EAAE,CAAC32B,gCAAD,CAFQ;AAGzB1sJ,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHkB;AAIzBw8F,eAAW,EAAE,yCAJY;AAKzBtQ,SAAK,EAAE,0CALkB;;AAMzBlvF,YAAQ,GAAG;AAAE0vJ,2BAAA,CAAsB,MAAtB;AAAgC;;AANpB,GA/nBV;AAuoBhBm7B,kBAAgB,EAAE;AACjBrtL,QAAI,EAAE,SADW;AAEjBwF,SAAK,EAAE,CAAC,GAAD,EAAM,IAAN,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAFU;AAGjBw8F,eAAW,EAAE,iCAHI;AAIjBtQ,SAAK,EAAE,kCAJU;;AAKjBlvF,YAAQ,GAAG;AAAElE,cAAQ,CAAC24E,aAAT,CAAuB,yBAAvB,EAAkD7rD,KAAlD;AAA4D;;AALxD,GAvoBF;AA8oBhBkiK,WAAS,EAAE;AACVttL,QAAI,EAAE,SADI;AAEVwF,SAAK,EAAE,IAFG;AAGVw8F,eAAW,EAAE,0BAHH;AAIVtQ,SAAK,EAAE;AAJG,GA9oBK;AAopBhB67F,QAAM,EAAE;AACPvtL,QAAI,EAAE,SADC;AAEPwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAFA;AAGPw8F,eAAW,EAAE,uBAHN;AAIPtQ,SAAK,EAAE,wBAJA;AAKPguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACgqL,SAAR,CAAkB9nL,KALjC;;AAMPhD,YAAQ,GAAG;AAAE,UAAIpE,kBAAM,CAACkF,OAAP,CAAegqL,SAAf,CAAyB9nL,KAA7B,EAAoCgoL,YAAY;AAAK;;AAN3D,GAppBQ;AA4pBhB1xG,OAAK,EAAE;AACN97E,QAAI,EAAE,SADA;AAENwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAFD;AAGNw8F,eAAW,EAAE,sBAHP;AAINtQ,SAAK,EAAE,uBAJD;;AAKNlvF,YAAQ,GAAG;AAAEk0H,4BAAU,CAAC,iBAAD,EAAoB;AAAE+2D,eAAO,EAAE;AAAX,OAApB,CAAV;AAAmD,KAL1D;;AAMNF,UAAM,EAAE;AANF,GA5pBS;AAoqBhBG,aAAW,EAAE;AACZ1tL,QAAI,EAAE,SADM;AAEZwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAFK;AAGZw8F,eAAW,EAAE,4BAHD;AAIZtQ,SAAK,EAAE,6BAJK;;AAKZlvF,YAAQ,GAAG;AAAEk0H,4BAAU,CAAC,iBAAD,EAAoB;AAAEi3D,iBAAS,EAAE,IAAb;AAAmBF,eAAO,EAAE;AAA5B,OAApB,CAAV;AAAoE,KALrE;;AAMZF,UAAM,EAAE;AANI,GApqBG;AA4qBhBK,SAAO,EAAE;AACR5tL,QAAI,EAAE,SADE;AAERwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAFC;AAGRw8F,eAAW,EAAE,wBAHL;AAIRtQ,SAAK,EAAE,yBAJC;;AAKRlvF,YAAQ,GAAG;AAAEk0H,4BAAU,CAAC,qBAAD,EAAwB;AAAE+2D,eAAO,EAAE;AAAX,OAAxB,CAAV;AAAuD,KAL5D;;AAMRF,UAAM,EAAE;AANA,GA5qBO;AAorBhBM,eAAa,EAAE;AACd7tL,QAAI,EAAE,SADQ;AAEdwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAFO;AAGdw8F,eAAW,EAAE,8BAHC;AAIdtQ,SAAK,EAAE,+BAJO;;AAKdlvF,YAAQ,GAAG;AAAEk0H,4BAAU,CAAC,qBAAD,EAAwB;AAAEi3D,iBAAS,EAAE,IAAb;AAAmBF,eAAO,EAAE;AAA5B,OAAxB,CAAV;AAAwE,KALvE;;AAMdF,UAAM,EAAE;AANM,GAprBC;AA4rBhBxxG,SAAO,EAAE;AACR/7E,QAAI,EAAE,SADE;AAERwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAFC;AAGRw8F,eAAW,EAAE,wBAHL;AAIRtQ,SAAK,EAAE,yBAJC;;AAKRlvF,YAAQ,GAAG;AACV,YAAM09F,IAAI,GAAGjgB,YAAY,EAAzB;AACA,UAAIigB,IAAJ,EAAUw2B,sBAAU,CAAE,SAAQx2B,IAAK,EAAf,EAAkB;AAAEutF,eAAO,EAAE;AAAX,OAAlB,CAAV;AACV,KARO;;AASRF,UAAM,EAAE;AATA,GA5rBO;AAusBhBO,eAAa,EAAE;AACd9tL,QAAI,EAAE,SADQ;AAEdwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAFO;AAGdw8F,eAAW,EAAE,8BAHC;AAIdtQ,SAAK,EAAE,+BAJO;;AAKdlvF,YAAQ,GAAG;AACV,YAAM09F,IAAI,GAAGjgB,YAAY,EAAzB;AACA,UAAIigB,IAAJ,EAAUw2B,sBAAU,CAAE,SAAQx2B,IAAK,EAAf,EAAkB;AAAEytF,iBAAS,EAAE,IAAb;AAAmBF,eAAO,EAAE;AAA5B,OAAlB,CAAV;AACV,KARa;;AASdF,UAAM,EAAE;AATM,GAvsBC;AAktBhBQ,WAAS,EAAE;AACV/tL,QAAI,EAAE,SADI;AAEVwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAFG;AAGVw8F,eAAW,EAAE,0BAHH;AAIVtQ,SAAK,EAAE,2BAJG;;AAKVlvF,YAAQ,GAAG;AAAEk0H,4BAAU,CAAC,GAAD,EAAM;AAAE+2D,eAAO,EAAE;AAAX,OAAN,CAAV;AAAqC,KALxC;;AAMVF,UAAM,EAAE;AANE,GAltBK;AA0tBhBS,UAAQ,EAAE;AACThuL,QAAI,EAAE,SADG;AAETwF,SAAK,EAAE,CAAC,EAAD,EAAK,IAAL,EAAW,KAAX,EAAkB,KAAlB,EAAyB,KAAzB,CAFE;AAGTw8F,eAAW,EAAE,yBAHJ;AAITtQ,SAAK,EAAE,0BAJE;;AAKTlvF,YAAQ,GAAG;AAAEk0H,4BAAU,CAAC,QAAD,EAAW;AAAE+2D,eAAO,EAAE;AAAX,OAAX,CAAV;AAA0C,KAL9C;;AAMTF,UAAM,EAAE;AANC,GA1tBM;AAkuBhBU,oBAAkB,EAAE;AACnBjuL,QAAI,EAAE,SADa;AAEnBwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAFY;AAGnBw8F,eAAW,EAAE,oCAHM;AAInBtQ,SAAK,EAAE,qCAJY;;AAKnBlvF,YAAQ,GAAG;AACV,YAAMw7E,GAAG,GAAGH,gBAAgB,EAA5B;AACA,UAAIG,GAAJ,EAAS04C,sBAAU,CAAE,MAAK14C,GAAI,EAAX,EAAc;AAAEyvG,eAAO,EAAE;AAAX,OAAd,CAAV;AACT,KARkB;;AASnBF,UAAM,EAAE;AATW,GAluBJ;AA6uBhBppL,QAAM,EAAE;AACPnE,QAAI,EAAE,SADC;AAEPwF,SAAK,EAAE,CAAC,EAAD,EAAK,IAAL,EAAW,KAAX,EAAkB,KAAlB,EAAyB,KAAzB,CAFA;AAGPw8F,eAAW,EAAE,uBAHN;AAIPtQ,SAAK,EAAE,wBAJA;;AAKPlvF,YAAQ,GAAG;AAAEk0H,4BAAU,CAAC,WAAD,EAAc;AAAE+2D,eAAO,EAAE;AAAX,OAAd,CAAV;AAA6C,KALnD;;AAMPF,UAAM,EAAE;AAND,GA7uBQ;AAqvBhBW,UAAQ,EAAE;AACTluL,QAAI,EAAE,SADG;AAET2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,EAAiC,UAAjC,EAA6C,SAA7C,EAAwD,OAAxD,CAFA;AAGTnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHE;AAITw8F,eAAW,EAAE,yBAJJ;AAKTtQ,SAAK,EAAE,0BALE;;AAMTlvF,YAAQ,GAAG;AACV,UAAI+tH,SAAA,CAAkB49D,iCAAlB,CAAJ,EAA0C;AACzCA,oBAAA,CAA+B;AAAEpL,4BAAkB,EAAE;AAAtB,SAA/B;AACA,OAFD,MAEO;AACN,cAAM54K,IAAI,GAAGgkL,gBAAA,GAAqChkL,IAAlD;AACA,YAAIA,IAAJ,EAAUoI,QAAQ,CAACG,IAAT,GAAgBvI,IAAhB;AACV;AACD,KAbQ;;AAcTojL,UAAM,EAAE;AAdC,GArvBM;AAqwBhBa,UAAQ,EAAE;AACTpuL,QAAI,EAAE,SADG;AAET2pH,WAAO,EAAE,CAAC,UAAD,EAAa,kBAAb,EAAiC,UAAjC,EAA6C,SAA7C,EAAwD,OAAxD,CAFA;AAGTnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAHE;AAITw8F,eAAW,EAAE,yBAJJ;AAKTtQ,SAAK,EAAE,0BALE;;AAMTlvF,YAAQ,GAAG;AACV,WAAI+tH,SAAA,CAAkB49D,iCAAlB,CAAJ,EAEO;AACN,cAAMr2K,IAAI,GAAGq2K,gBAAA,GAAqCr2K,IAAlD;AACA,YAAIA,IAAJ,EAAUvF,QAAQ,CAACG,IAAT,GAAgBoF,IAAhB;AACV;AACD,KAbQ;;AAcTy1K,UAAM,EAAE;AAdC,GArwBM;AAqxBhBc,gBAAc,EAAE;AACfruL,QAAI,EAAE,SADS;AAEf2pH,WAAO,EAAE,CAAC,KAAD,EAAQ,SAAR,CAFM;AAGfnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHQ;AAIfw8F,eAAW,EAAE,+BAJE;AAKftQ,SAAK,EAAE,gCALQ;;AAMflvF,YAAQ,GAAG;AACV,YAAM60H,WAAW,GAAG/4C,kBAAkB,EAAtC;AACA,UAAI+4C,WAAJ,EAAiBX,sBAAU,CAAE,SAAQW,WAAY,WAAtB,EAAkC;AAAEo2D,eAAO,EAAE;AAAX,OAAlC,CAAV;AACjB,KATc;;AAUfF,UAAM,EAAE;AAVO,GArxBA;AAiyBhBe,aAAW,EAAE;AACZtuL,QAAI,EAAE,SADM;AAEZ2pH,WAAO,EAAE,CAAC,KAAD,EAAQ,SAAR,CAFG;AAGZnkH,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,CAHK;AAIZw8F,eAAW,EAAE,4BAJD;AAKZtQ,SAAK,EAAE,6BALK;;AAMZlvF,YAAQ,GAAG;AACV,YAAM60H,WAAW,GAAG/4C,kBAAkB,EAAtC;AACA,UAAI+4C,WAAJ,EAAiBX,sBAAU,CAAE,SAAQW,WAAY,EAAtB,EAAyB;AAAEo2D,eAAO,EAAE;AAAX,OAAzB,CAAV;AACjB,KATW;;AAUZF,UAAM,EAAE;AAVI;AAjyBG,CAAjB;;AAgzBAnvL,kBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzBukC,iCAAmB;;AAEnB,MAAItwJ,kBAAM,CAACkF,OAAP,CAAe2kL,WAAf,CAA2BziL,KAA/B,EAAsC;AACrCw3H,iCAAa,CAAC/6C,WAAd,CAA0BssG,qBAA1B,EAAiD,WAAjD;AACA9vF,oBAAgB,CAAC,CAAC,UAAD,CAAD,EAAe,IAAf,EAAqBnrD,OAAO,IAAI;AAC/C,YAAMi7C,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAWh9B,OAAX,CAAd;AACA,UAAI0pF,6BAAa,CAAC39F,OAAd,KAA0BkvD,KAA9B,EAAqCggG,qBAAqB,CAAChgG,KAAD,CAArB;AACrC,KAHe,CAAhB;AAIA;AACD,CAVD;;AAYAnwF,kBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B5iF,QAAM,CAACkP,gBAAP,CAAwB,SAAxB,EAAmC6gL,cAAnC,EAAmD,IAAnD;AACA,CAFD;;AAIA,SAAS9/B,+BAAT,GAA+B;AAC9Bl2B,iBAAA,CAA4B,KAA5B,EAAmC,+FAAnC,EACC,MAAM,CAAE,CADT,EAECzB,OAAO,IAAI;AACV,UAAM98E,MAAM,GAAG/f,QAAQ,CAAC68F,OAAD,EAAU,EAAV,CAAvB;AACA,UAAM03D,UAAU,GAAGC,eAAe,CAACz0I,MAAM,GAAG,CAAV,CAAlC;;AACA,QAAIw0I,UAAJ,EAAgB;AACf,UAAI,CAACnwL,QAAQ,CAACuI,QAAT,CAAkB4nL,UAAU,CAAC/qH,IAA7B,CAAL,EAAyC;AACxCnmD,eAAO,CAAC68C,GAAR,CAAY,6CAAZ;AACA;AACA;;AACDypG,cAAQ,CAAC5pH,MAAM,GAAG,CAAV,CAAR;AACA,KAND,MAMO;AACN00I,sBAAgB,CAAC10I,MAAD,CAAhB;AACA;AACD,GAdF;AAgBA;;AAED,IAAIy0I,eAAe,GAAG,EAAtB;;AAEA,SAASH,qBAAT,CAA+B17K,QAA/B,EAAyC;AACxC,OAAK,MAAM;AAAE47K;AAAF,GAAX,IAA6BC,eAA7B,EAA8CD,UAAU,CAAC30K,MAAX;;AAE9C40K,iBAAe,GAAK5qL,KAAK,CAACwsE,IAAN,CAAYz9D,QAAQ,IAAIA,QAAQ,CAAC46D,KAAT,CAAehiE,gBAAf,CAAgC,yBAAhC,CAAb,IAA4E,EAAvF,CAAF,CAChBwC,MADgB,CACTy1D,IAAI,IAAI,CAAC+a,aAAa,CAAC/a,IAAD,CAAd,IAAwB,CAACib,WAAW,CAACjb,IAAD,CADnC,EAEhBjhE,GAFgB,CAEZ,CAACihE,IAAD,EAAOljE,CAAP,KAAa;AACjB,UAAMy5C,MAAM,GAAGz5C,CAAC,GAAG,CAAnB;AACA,UAAMkxF,KAAK,GAAGz3C,MAAM,GAAG,EAAT,GAAe,SAAQA,MAAO,eAA9B,GACbA,MAAM,KAAK,EAAX,GAAgB,sBAAhB,GACC,SAAQggD,mBAAW,CAAC77F,kBAAM,CAACkF,OAAP,CAAeslL,aAAf,CAA6BpjL,KAA9B,CAAqC,SAAQy0C,MAAO,yBAFzE;AAIA,UAAMw0I,UAAU,GAAG1vK,sBAAM,CAAC+N,IAAK,sDAAqDmtB,MAAO,aAAYy3C,KAAM,WAA7G;AAEA,QAAItzF,kBAAM,CAACkF,OAAP,CAAe4kL,kBAAf,CAAkC1iL,KAAlC,KAA4C,OAAhD,EAAyDk+D,IAAI,CAAC91C,KAAL,CAAW6gK,UAAX,EAAzD,KACK/qH,IAAI,CAAC/1C,MAAL,CAAY8gK,UAAZ;AAEL,WAAO;AAAEA,gBAAF;AAAc/qH;AAAd,KAAP;AACA,GAdgB,CAAlB;AAeA;;AAED,SAASilH,gBAAT,GAA4B;AAC3B,QAAMiG,UAAU,GAAG,GAAnB;;AACA,MAAI,CAACC,QAAQ,GAAGn/K,IAAX,CAAgB,OAAhB,CAAL,EAA+B;AAC9Bm/K,YAAQ,GAAGn/K,IAAX,CAAgB,OAAhB,EAAyB,OAAzB;AACAm/K,YAAQ,GAAGrtK,GAAX,CAAe;AAAE0N,WAAK,EAAE;AAAT,KAAf;AACA2/J,YAAQ,GAAGnsK,IAAX;AACA;;AACD,MAAImsK,QAAQ,GAAGn/K,IAAX,CAAgB,OAAhB,MAA6B,MAAjC,EAAyC;AACxCm/K,YAAQ,GAAG92J,OAAX,CAAmB;AAClB7I,WAAK,EAAE;AADW,KAAnB,EAEG0/J,UAFH;AAGAC,YAAQ,GAAGn/K,IAAX,CAAgB,OAAhB,EAAyB,OAAzB;AACA,GALD,MAKO;AACNm/K,YAAQ,GAAG92J,OAAX,CAAmB;AAClB7I,WAAK,EAAE;AADW,KAAnB,EAEG0/J,UAFH;AAGAC,YAAQ,GAAGn/K,IAAX,CAAgB,OAAhB,EAAyB,MAAzB;AACA;AACD;;AAED,MAAMm/K,QAAQ,GAAG,sBAAO,MAAM;AAC7B,QAAMjjL,IAAI,GAAG4hF,SAAS,CAACshG,uBAAuB,EAAxB,EAA4Bn3J,GAAG,IAAI;AACxD,QAAIrN,OAAO,GAAG2vE,mBAAW,CAACtiE,GAAG,CAACnyB,KAAL,CAAzB;;AACA,QAAImyB,GAAG,CAAC41J,MAAJ,IAAcnvL,kBAAM,CAACkF,OAAP,CAAegqL,SAAf,CAAyB9nL,KAA3C,EAAkD;AACjD8kB,aAAO,GAAI,GAAE2vE,mBAAW,CAAC77F,kBAAM,CAACkF,OAAP,CAAeiqL,MAAf,CAAsB/nL,KAAvB,CAA8B,MAAK8kB,OAAQ,EAAnE;AACA;;AAED,WAAO,CAAC;AAAEA,aAAF;AAAW03E,iBAAW,EAAEzc,IAAI,CAAC5tD,GAAG,CAACqqE,WAAL;AAA5B,KAAD,CAAP;AACA,GAPqB,CAAtB;AASA,SAAOp6D,gBAAC,CAAC7oB,sBAAM,CAAC+N,IAAK;;;;;;;OAOflhB,IAAI,CAACnJ,GAAL,CAAS,CAAC;AAAE6nB,WAAF;AAAW03E;AAAX,GAAD,KAA8BjjF,sBAAM,CAACghE,KAAM;gBAC3Cz1D,OAAQ,YAAW03E,WAAY;MADxC,CAEC;;;;EATC,CAAD,CAaJj0E,QAbI,CAaKzvB,QAAQ,CAACkkB,IAbd,CAAP;AAcA,CAxBgB,CAAjB;;AA0BA,SAASusK,WAAT,GAAuB;AACtB,QAAMC,eAAe,GAAG5wL,kBAAM,CAACkF,OAAP,CAAe8kL,yBAAf,CAAyC5iL,KAAjE;AACA,QAAMoG,IAAI,GAAG,EAAb;;AAEA,WAASqjL,MAAT,CAAgBnjL,GAAhB,EAAqBqM,KAArB,EAA4B;AAC3BvM,QAAI,CAAC3M,IAAL,CAAU;AACTuG,WAAK,EAAE,CAACsG,GAAD,EAAM,KAAN,EAAa,KAAb,EAAoB,KAApB,EAA2B,KAA3B,CADE;;AAETtJ,cAAQ,GAAG;AAAEqhK,gBAAQ,CAAC1rJ,KAAD,CAAR;AAAkB;;AAFtB,KAAV;;AAKA,QAAI62K,eAAe,KAAK,MAAxB,EAAgC;AAC/BpjL,UAAI,CAAC3M,IAAL,CAAU;AACTuG,aAAK,EAAE,CAACsG,GAAD,EAAMkjL,eAAe,KAAK,KAA1B,EAAiC,KAAjC,EAAwCA,eAAe,KAAK,OAA5D,EAAqE,KAArE,CADE;;AAETxsL,gBAAQ,GAAG;AAAEqhK,kBAAQ,CAAC1rJ,KAAD,EAAQ,IAAR,CAAR;AAAwB;;AAF5B,OAAV;AAIA;AACD;;AAED,MAAI/Z,kBAAM,CAACkF,OAAP,CAAe2kL,WAAf,CAA2BziL,KAA/B,EAAsC;AACrC,KAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,EAAyC2+D,OAAzC,CAAiD8qH,MAAjD;AACA,KAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,GAAb,EAAkB,GAAlB,EAAuB,GAAvB,EAA4B,GAA5B,EAAiC,GAAjC,EAAsC,GAAtC,EAA2C,EAA3C,EAA+C9qH,OAA/C,CAAuD8qH,MAAvD;AACA;;AAED,SAAOrjL,IAAP;AACA;;AAED,MAAMkjL,uBAAuB,GAAG,sBAAO,MACtCthG,SAAS,CAAC3uF,MAAM,CAAC8jB,MAAP,CAAcvkB,kBAAM,CAACkF,OAArB,CAAD,EAAgC4f,MAAM,IAAI;AAClD,MACCA,MAAM,CAACljB,IAAP,KAAgB,SAAhB,IACAkjB,MAAM,CAAC1gB,QADP,KAEC,CAAC0gB,MAAM,CAACw8G,SAAR,IAAqBx8G,MAAM,CAACw8G,SAAP,CAAiBthI,kBAAM,CAACkF,OAAxB,CAFtB,MAGC,CAAC4f,MAAM,CAACymG,OAAR,IAAmB1uC,mBAAmB,CAAC/3D,MAAM,CAACymG,OAAR,CAHvC,MAIC,CAACzmG,MAAM,CAAC6oK,cAAR,IAA0B9rG,YAAY,EAJvC,MAKC,CAAC/8D,MAAM,CAAC2lK,eAAR,IAA2B3lK,MAAM,CAAC2lK,eAAP,CAAuBhjF,KAAvB,CAA6B0qB,SAA7B,CAL5B,CADD,EAOE;AACD,WAAO,CAACrtG,MAAD,CAAP;AACA;AACD,CAXQ,CADsB,CAAhC;;AAeA,MAAMgsK,cAAc,GAAG,sBAAO,MAAM;AACnC,QAAMC,MAAM,GAAG,EAAf;;AACA,OAAK,MAAMjsK,MAAX,IAAqB,CAAC,GAAG4rK,uBAAuB,EAA3B,EAA+B,GAAGC,WAAW,EAA7C,CAArB,EAAuE;AACtE,UAAMz8K,IAAI,GAAGuoF,YAAY,CAAC33E,MAAM,CAAC1d,KAAR,CAAzB;;AACA,QAAI,CAAC2pL,MAAM,CAAC78K,IAAD,CAAX,EAAmB;AAClB68K,YAAM,CAAC78K,IAAD,CAAN,GAAe,EAAf;AACA;;AAED68K,UAAM,CAAC78K,IAAD,CAAN,CAAarT,IAAb,CAAkBikB,MAAlB;AACA;;AACD,SAAOisK,MAAP;AACA,CAXsB,CAAvB;;AAaA,SAASX,cAAT,CAAwBnkL,CAAxB,EAA2B;AAC1B,MAAI+kL,YAAA,EAAJ,EAA8B;;AAG9B,MAAI9wL,QAAQ,CAACkU,aAAT,IAA0B,CAAC,GAAD,EAAM,QAAN,EAAgBwtC,QAAhB,CAAyB1hD,QAAQ,CAACkU,aAAT,CAAuB4lC,OAAhD,CAA9B,EAAwF;AACvF,UAAMi3I,kBAAkB,GAAG,CAACt2F,UAAU,CAACE,GAAZ,EAAiBF,UAAU,CAACG,KAA5B,EAC1BH,UAAU,CAACK,KADe,EACRp5C,QADQ,CACC31C,CAAC,CAACyB,GADH,CAA3B;AAEA,QAAIujL,kBAAJ,EAAwB;AACxB,GAJD,MAIO,IAAI/wL,QAAQ,CAACkU,aAAT,IAA0BlU,QAAQ,CAACkU,aAAT,CAAuB4lC,OAAvB,KAAmC,MAAjE,EAAyE;AAC/E;AACA;;AAED,QAAM9lC,IAAI,GAAGqoF,YAAY,CAACtwF,CAAD,CAAzB;AACA,QAAM/G,OAAO,GAAG,CAAC4rL,cAAc,GAAG58K,IAAH,CAAd,IAA0B,EAA3B,EACdrE,MADc,CACPmM,CAAC,IAAI;AACZ,QAAIA,CAAC,CAACmzK,MAAN,EAAc,OAAOnvL,kBAAM,CAACkF,OAAP,CAAegqL,SAAf,CAAyB9nL,KAAzB,KAAmC8pL,YAA1C,CAAd,KACK,OAAO,CAACA,YAAR;AACL,GAJc,CAAhB;;AAMA,MAAIhsL,OAAO,CAACxB,MAAZ,EAAoB;AACnBytL,mBAAe,CAACjsL,OAAD,CAAf;AACA+G,KAAC,CAACsd,cAAF;AACAtd,KAAC,CAAC1G,MAAF,CAAS0nB,IAAT;AACA;AACD;;AAED,eAAekkK,eAAf,CAA+BjsL,OAA/B,EAAwC;AACvC,MAAIA,OAAO,CAAC45E,IAAR,CAAa9iE,CAAC,IAAIA,CAAC,CAACmzK,MAApB,CAAJ,EAAiC;AAChC,QAAI+B,YAAJ,EAAkB9B,YAAY;;AAE9B,QAAIlqL,OAAO,CAACxB,MAAR,GAAiB,CAArB,EAAwB;AACvB,YAAM0tL,QAAQ,GAAGv1F,mBAAW,CAAC32F,OAAO,CAAC,CAAD,CAAP,CAAWkC,KAAZ,CAA5B;AACAlC,aAAO,GAAG,MAAMmsL,oBAAoB,CAACD,QAAD,EAAWlsL,OAAX,CAApC;AACA;AACD;;AAED,OAAK,MAAM4f,MAAX,IAAqB5f,OAArB,EAA8B;AAC7B,QAAI;AACH4f,YAAM,CAAC1gB,QAAP;AACA,KAFD,CAEE,OAAO6H,CAAP,EAAU;AACXkT,aAAO,CAACjZ,KAAR,CAAc,4BAAd,EAA4CihF,IAAI,CAACriE,MAAM,CAACwuE,KAAR,CAAhD,EAAgErnF,CAAhE;AACA;AACD;AACD;;AAED,MAAMolL,oBAAoB,GAAG,kBAAU,OAAOD,QAAP,EAAiBlsL,OAAjB,KAAkC;AACxE,QAAMs1I,QAAQ,GAAGrzD,IAAI,CAAC,oCAAD,EAAuCA,IAAI,CAACnnF,kBAAM,CAACkrH,UAAR,CAA3C,EAAiE,MAAKkmE,QAAS,MAA/E,EAAsF,UAAtF,EAAmG,MAAKA,QAAS,MAAjH,CAArB;AACA,QAAME,aAAa,GAAGpsL,OAAO,CAACb,GAAR,CAAYygB,MAAM,IACvC,CAACA,MAAD,EAAS0kB,gBAAC,CAAE,iDAAgD29C,IAAI,CAACriE,MAAM,CAAC8+E,WAAR,CAAqB,WAA3E,CAAD,CAAwFhgG,GAAxF,CAA4F,CAA5F,CAAT,CADqB,CAAtB;AAGA,QAAM2tL,QAAQ,GAAGpqG,IAAI,CAAC,4CAAD,EAA+CmzC,eAAA,CAAmCt6H,kBAAM,CAAC2nH,QAA1C,EAAoD/hH,SAApD,EAA+DuhF,IAAI,CAACnnF,kBAAM,CAACkrH,UAAR,CAAnE,CAA/C,CAArB;AAEA,QAAM7rG,OAAO,GAAGmqB,gBAAC,CAAE,QAAOgxG,QAAS,QAAlB,CAAD,CACdprH,MADc,CACPkiK,aAAa,CAACjtL,GAAd,CAAkB,CAAC,GAAGulB,MAAH,CAAD,KAAgBA,MAAlC,CADO,EAEdwF,MAFc,CAEN,mBAAkBmiK,QAAS,WAFrB,EAGd3tL,GAHc,CAGV,CAHU,CAAhB;AAKA,QAAMk5H,YAAY,GAAG0B,8BAAA,CAA+B;AACnD7W,YAAQ,EAAE3nH,kBAAM,CAAC2nH,QADkC;AAEnD8U,UAAM,EAAE,oBAF2C;AAGnDp9G,WAHmD;AAInDs9G,aAAS,EAAE,IAJwC;AAKnDZ,cAAU,EAAEhmD;AALuC,GAA/B,CAArB;AAQA,QAAMy7G,eAAe,GAAG,MAAM35G,OAAO,CAACC,IAAR,CAC7Bw5G,aAAa,CAACjtL,GAAd,CAAkB,CAAC,CAACygB,MAAD,EAAS8E,MAAT,CAAD,KAAsB+tD,YAAY,CAAC/tD,MAAD,EAAS,OAAT,CAAZ,CAA8BlN,IAA9B,CAAmC,MAAMoI,MAAzC,CAAxC,CAD6B,CAA9B;;AAIA,OAAK,MAAMA,MAAX,IAAqB,kBAAU5f,OAAV,EAAmBssL,eAAnB,CAArB,EAA0D;AACzD1sK,UAAM,CAAC1d,KAAP,GAAe,CAAC,CAAC,CAAF,EAAK,KAAL,EAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,CAAf;AACAwuH,gBAAA,CAAa9wG,MAAb;AACA;;AAEDg4G,cAAY,CAACz4B,KAAb;AAEA,SAAO,CAACmtF,eAAD,CAAP;AACA,CAhC4B,CAA7B;;AAkCA,SAAS3F,WAAT,GAA8B;AAC7B,QAAMp3K,QAAQ,GAAGmqH,6BAAa,CAAC39F,OAA/B;AACA,MAAI,CAACxsB,QAAL,EAAe,MAAM,IAAIrU,KAAJ,CAAU,0BAAV,CAAN;AACf,MAAI,CAACqU,QAAQ,CAACm8E,SAAT,EAAL,EAA2B,MAAM,IAAIxwF,KAAJ,CAAU,uBAAV,CAAN;AAC3B,SAAOqU,QAAP;AACA;;AAED,MAAMw5K,MAAM,GAAG,IAAf;AACA,MAAMwD,QAAQ,GAAG,KAAjB;;AAEA,SAAS3F,aAAT,CAAuB52I,OAAvB,EAA6C;AAC5C,MAAI,CAACA,OAAL,EAAc,MAAM,IAAI90C,KAAJ,CAAU,uBAAV,CAAN;AACd,SAAO80C,OAAP;AACA;;AAED,SAAS84I,6BAAT,CAAuC9oG,KAAvC,EAAsDwsG,eAAtD,EAAgFvhG,KAAK,GAAG07F,WAAW,EAAnG,EAAuG;AACtG,QAAM32I,OAAO,GAAGi7C,KAAK,CAAC9gB,KAAN,CAAYwJ,aAAZ,CAA0BqM,KAA1B,CAAhB;AACA,SAAOwsG,eAAe,GAAG5F,aAAa,CAAC52I,OAAD,CAAhB,GAA4BA,OAAlD;AACA;;AAED,SAASy8I,yBAAT,CAAmCzsG,KAAnC,EAAkD0sG,YAAlD,EAAyEzhG,KAAK,GAAG07F,WAAW,EAA5F,EAAgG;AAC/F,QAAMx6K,QAAQ,GAAG3L,KAAK,CAACwsE,IAAN,CAAWie,KAAK,CAAC9gB,KAAN,CAAYhiE,gBAAZ,CAA6B63E,KAA7B,CAAX,CAAjB;AACA,MAAI0sG,YAAJ,EAAkB9F,aAAa,CAACz6K,QAAQ,CAAC,CAAD,CAAT,CAAb;AAClB,SAAOA,QAAP;AACA;;AAED,SAASwgL,mCAAT,CAA6C3sG,KAA7C,EAAoD0sG,YAApD,EAAkEzhG,KAAlE,EAAyE;AACxE,SAAO,gBAAQwhG,yBAAyB,CAACzsG,KAAD,EAAQ0sG,YAAR,EAAsBzhG,KAAtB,CAAjC,EAA+D9V,yBAA/D,CAAP;AACA;;AAED,SAASswG,QAAT,CAAkBl2K,QAAQ,GAAGo3K,WAAW,EAAxC,EAA4C;AAC3C,QAAMrnK,IAAI,GAAGsnK,aAAa,CAACr3K,QAAQ,CAACu+E,cAAT,EAAD,CAA1B;;AAGA,MAAIhzF,kBAAM,CAACkF,OAAP,CAAeglL,cAAf,CAA8B9iL,KAAlC,EAAyC;AACxCw3H,iCAAa,CAACp4B,IAAd,CAAmB,MAAnB,EAA2B;AAAE87C,sBAAgB,EAAE,IAApB;AAA0BvnE,iBAAW,EAAE;AAAvC,KAA3B,EAA4E+vG,gBAA5E;AACA;;AAEDzgK,OAAK,CAAC7F,IAAD,CAAL;AACA;;AAED,SAASkqK,eAAT,CAAyBa,SAAS,GAAG,KAArC,EAA4C96K,QAAQ,GAAGo3K,WAAW,EAAlE,EAAsE;AACrE,QAAMziL,CAAC,GAAGquE,QAAQ,CAACq0G,aAAa,CAACr3K,QAAQ,CAACu/E,gBAAT,EAAD,CAAd,EAA6CtR,iBAA7C,CAAlB;AACA41C,wBAAU,CAAClvH,CAAC,CAACkL,IAAH,EAAS;AAAEi7K,aAAF;AAAaF,WAAO,EAAE;AAAtB,GAAT,CAAV;AACA;;AAED,SAAST,aAAT,CAAuBW,SAAS,GAAG,KAAnC,EAA0C96K,QAAQ,GAAGo3K,WAAW,EAAhE,EAAoE;AACnEvzD,wBAAU,CAAC7jH,QAAQ,CAACo/E,YAAT,EAAD,EAA0B;AAAE07F,aAAF;AAAaF,WAAO,EAAE;AAAtB,GAA1B,CAAV;AACA;;AAED,SAASjC,cAAT,CAAwB34K,QAAQ,GAAGo3K,WAAW,EAA9C,EAAkD;AACjD,MAAIp3K,QAAQ,CAACygC,OAAT,CAAiBwrC,SAAjB,CAA2Bj4E,QAA3B,CAAoC,MAApC,CAAJ,EAAiD;AAEjD4hB,OAAK,CAACyhK,aAAa,CAElBkC,6BAA6B,CAAC,qBAAD,EAAwByD,QAAxB,EAAkCh9K,QAAlC,CAA7B,IAEAu5K,6BAA6B,CAAC,uBAAD,EAA0ByD,QAA1B,EAAoCh9K,QAApC,CAF7B,IAIAu5K,6BAA6B,CAAC,UAAD,EAAayD,QAAb,EAAuBh9K,QAAvB,CANX,CAAd,CAAL;AAQA;;AAED,SAAS23K,WAAT,CAAqB;AAAEC,QAAM,GAAG,CAAX;AAAcK,yBAAuB,GAAG;AAAxC,CAArB,EAAgI;AAC/H,QAAMoF,WAAW,GAAGD,mCAAmC,CAAC,qBAAD,EAAwB5D,MAAxB,CAAvD;AACA,MAAIvB,uBAAJ,EAA6BoF,WAAW,CAAC5uK,KAAZ,CAAkBm6G,SAAlB,GAA8B,MAA9B;AAC7B+wB,QAAA,CAAkB0jC,WAAlB,EAA+BA,WAAW,CAAC5jF,WAAZ,GAA0Bm+E,MAAzD;AACA;;AAED,SAAS7tC,SAAT,CAAmByJ,MAAnB,EAA2BC,MAA3B,EAAmC;AAClC,QAAM4pC,WAAW,GAAGD,mCAAmC,CAAC,oBAAD,EAAuB5D,MAAvB,CAAvD;AACA7/B,iBAAA,CAAgB0jC,WAAhB,EAA6B7pC,MAA7B,EAAqCC,MAArC;AACA;;AAED,SAAS8kC,eAAT,CAAyB/xG,SAAzB,EAAyD;AACxD,QAAM82G,OAAO,GAAGF,mCAAmC,CAAC,cAAD,EAAiB5D,MAAjB,CAAnD;AACAnC,eAAa,CAACiG,OAAO,CAACl5G,aAAR,CAAuB,aAAYoC,SAAU,EAA7C,CAAD,CAAb,CAA+D5wD,KAA/D;;AACA,MAAIrqB,kBAAM,CAACkF,OAAP,CAAegoL,uBAAf,CAAuC9lL,KAA3C,EAAkD;AACjD0zE,mBAAe,CAACgxG,aAAa,CAACiG,OAAO,CAACl5G,aAAR,CAAsB,qBAAtB,CAAD,CAAd,EAA8D,IAA9D,EAAoE;AAAEkC,iBAAW,EAAE,aAAf;AAA8BC,yBAAmB,EAAE;AAAnD,KAApE,CAAf;AACA;AACD;;AAED,SAAS+wG,UAAT,CAAoBwD,SAAS,GAAG,KAAhC,EAAuC96K,QAAQ,GAAGo3K,WAAW,EAA7D,EAAiE;AAChE,MAAI1uG,UAAU,CAAC,UAAD,CAAV,IAA0B,CAAC1oE,QAAQ,CAACygC,OAAT,CAAiBwrC,SAAjB,CAA2Bj4E,QAA3B,CAAoC,MAApC,CAA/B,EAA4E;AAE5E,QAAMW,CAAC,GAAGqL,QAAQ,CAACi+E,WAAT,EAAV;AACA4lC,wBAAU,CAAClvH,CAAC,CAACkL,IAAH,EAAS;AAAEi7K;AAAF,GAAT,CAAV;AACA;;AAED,SAASgB,gBAAT,CAA0B1sL,GAA1B,EAA+B;AAC9B,QAAM0B,MAAM,GAAGmqF,WAAK,CAACQ,aAAN,GAAsBngF,IAAtB,CAA2BiM,CAAC,IAAIA,CAAC,CAACy5E,OAAF,OAAgB5xF,GAAhD,CAAf;AACA,MAAI,CAAC0B,MAAL,EAAa,MAAM,IAAInF,KAAJ,CAAW,wCAAuCyD,GAAI,EAAtD,CAAN;AACb+6H,+BAAa,CAAC19G,GAAd,CAAkB3b,MAAlB;AACAwmL,YAAU;AACV;;AAED,SAASyC,eAAT,CAAyBe,SAAS,GAAG,KAArC,EAA4C;AAC3C,QAAMnmL,CAAC,GAAGquE,QAAQ,CAACu2G,6BAA6B,CAAC,UAAD,EAAaC,MAAb,CAA9B,EAAoDvrG,iBAApD,CAAlB;AACA41C,wBAAU,CAAClvH,CAAC,CAACkL,IAAH,EAAS;AAAEi7K;AAAF,GAAT,CAAV;AACA;;AAED,SAASlC,cAAT,CAAwBkC,SAAS,GAAG,KAApC,EAA2C96K,QAAQ,GAAGo3K,WAAW,EAAjE,EAAqE;AACpE,QAAMziL,CAAC,GAAGqL,QAAQ,CAACq+E,eAAT,EAAV;AACAwlC,wBAAU,CAAClvH,CAAC,CAACkL,IAAH,EAAS;AAAEi7K;AAAF,GAAT,CAAV;AACA;;AAED,SAAS3B,IAAT,CAAcoE,GAAd,EAAwCC,aAAa,GAAG,KAAxD,EAA+Dx9K,QAAQ,GAAGo3K,WAAW,EAArF,EAAyF;AACxF,QAAMjiK,MAAM,GAAGkiK,aAAa,CAACkG,GAAG,KAAK,OAAR,GAAkBv9K,QAAQ,CAACsgF,eAAT,EAAlB,GAA+CtgF,QAAQ,CAACwgF,iBAAT,EAAhD,CAA5B;;AAEA,MAAIrrE,MAAM,CAAC82D,SAAP,CAAiBj4E,QAAjB,CAA0B,UAA1B,CAAJ,EAA2C,CAE1C,CAFD,MAEO,IAAIypL,eAAA,EAAJ,EAAuC;AAC7CA,gBAAA;AACA,GAFM,MAEA,IAAI,CAACD,aAAD,IAAkB,CAACroK,MAAM,CAAC82D,SAAP,CAAiBj4E,QAAjB,CAA0BupL,GAA1B,CAAvB,EAAuD;AAC7D3nK,SAAK,CAACT,MAAD,CAAL;AACA;;AAED,MAAInV,QAAQ,CAAC68E,SAAT,EAAJ,EAA0B;AACzB,QAAItxF,kBAAM,CAACkF,OAAP,CAAeklL,qBAAf,CAAqChjL,KAAzC,EAAgDpH,kBAAM,CAACkF,OAAP,CAAe8lL,eAAf,CAA+B5mL,QAA/B;AAChD,GAFD,MAEO;AACN,QAAIpE,kBAAM,CAACkF,OAAP,CAAeilL,cAAf,CAA8B/iL,KAAlC,EAAyCpH,kBAAM,CAACkF,OAAP,CAAe2lL,QAAf,CAAwBzmL,QAAxB;AACzC;AACD;;AAED,SAAS+pL,KAAT,CAAe15K,QAAQ,GAAGo3K,WAAW,EAArC,EAAyC;AACxC,MAAIp3K,QAAQ,CAACygC,OAAT,CAAiBwrC,SAAjB,CAA2Bj4E,QAA3B,CAAoC,MAApC,KAA+C00E,UAAU,CAAC,UAAD,CAA7D,EAA2E;AAE1E,UAAMg1G,OAAO,GAAG3oJ,gBAAC,CAAC,0CAAD,CAAjB;;AACA,QAAI2oJ,OAAO,CAACtiL,MAAR,CAAe,UAAf,EAA2BnM,MAA/B,EAAuC;AACtCyuL,aAAO,CAACnlK,KAAR;AACA;AACA;AACD;;AAED3C,OAAK,CAACyhK,aAAa,CAElBkC,6BAA6B,CAAC,4BAAD,EAA+ByD,QAA/B,EAAyCh9K,QAAzC,CAA7B,IAEAu5K,6BAA6B,CAAC,wCAAD,EAA2CyD,QAA3C,EAAqDh9K,QAArD,CAJX,CAAd,CAAL;AAMA;;AAED,SAAS6jH,sBAAT,CAAoBhkH,IAApB,EAA0BpP,OAA1B,EAAiF;AAChF,MACCA,OAAO,CAACmqL,OAAR,IACAl9D,iBAAA,CAAkB+/D,+BAAlB,CADA,IAEAA,sBAAA,CAAuBhtL,OAAvB,CAA+B2gL,QAA/B,CAAwCz+K,KAHzC,EAIE;AACDkN,QAAI,GAAG49K,aAAA,CAA8B59K,IAA9B,CAAP;AACA;;AAED,MAAIpP,OAAO,CAACqqL,SAAZ,EAAuB;AACtBrkG,cAAU,CAAC52E,IAAD,EAAOtU,kBAAM,CAACkF,OAAP,CAAemlL,qBAAf,CAAqCjjL,KAA5C,CAAV;AACA,GAFD,MAEO;AACN+M,YAAQ,CAACG,IAAT,GAAgBA,IAAhB;AACA;AACD;;AAED,MAAM89K,WAAW,GAAG,sBAAO,MAAM;AAChC,QAAMC,OAAO,GAAG3B,uBAAuB,GACrC7gL,MADc,CACP0pB,GAAG,IAAIA,GAAG,CAAC41J,MADJ,EAEd9qL,GAFc,CAEVk1B,GAAG,KAAK;AAAE7rB,OAAG,EAAEy5E,IAAI,CAAC5tD,GAAG,CAAC+5D,KAAL,CAAX;AAAwBuI,eAAW,EAAEA,mBAAW,CAACtiE,GAAG,CAACnyB,KAAL;AAAhD,GAAL,CAFO,CAAhB;AAIA,SAAOoiC,gBAAC,CAAC7oB,sBAAM,CAAC+N,IAAK;;;;;;OAMf2jK,OAAO,CAAChuL,GAAR,CAAY,CAAC;AAAEw3F,eAAF;AAAenuF;AAAf,GAAD,KAA0BiT,sBAAM,CAACghE,KAAM;;aAE7Cka,WAAY;;aAEZnuF,GAAI;;MAJV,CAMC;;;;EAZC,CAAD,CAiBLqC,IAjBK,CAiBA,iBAjBA,EAiBmBsa,KAjBnB,CAiByB+kK,YAjBzB,EAkBLtqL,GAlBK,EAAP;AAmBA,CAxBmB,CAApB;;AA0BA,IAAIosL,YAAY,GAAG,KAAnB;;AAEA,SAAS9B,YAAT,GAAwB;AACvB8B,cAAY,GAAG,CAACA,YAAhB;;AACA,MAAIA,YAAJ,EAAkB;AACjB1nJ,oBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6BkrK,qBAA7B;AACAF,eAAW,GAAGziK,QAAd,CAAuBzvB,QAAQ,CAACkkB,IAAhC,EAAsCiW,MAAtC;AACA,GAHD,MAGO;AACN+3J,eAAW,GAAG93J,OAAd;AACAkP,oBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBqD,GAAjB,CAAqB,OAArB,EAA8B6qK,qBAA9B;AACA;AACD;;AAED,SAASA,qBAAT,CAA+B9qK,KAA/B,EAAqD;AACpD,MAAIA,KAAK,CAAC9Z,GAAN,KAAcitF,UAAU,CAACI,MAA7B,EAAqC;AACpCq0F,gBAAY;AACZ;AACD;;AAED,SAAStE,gBAAT,GAA4B;AAC3B,QAAMyH,IAAI,GAAGpgE,SAAA,CAAkB49D,iCAAlB,MAEX,CAACnxD,6BAAa,CAAC39F,OAAf,IACA,CAAC29F,6BAAa,CAAC39F,OAAf,EAAwBr7B,SAAxB,EAAmCg8C,QAAnC,CAA4C,eAAO8tC,WAAK,CAACQ,aAAN,EAAP,CAA5C,CAHW,CAAb;AAKA,MAAIqiG,IAAJ,EAAUxC,YAAA,CAA+B;AAAEpL,sBAAkB,EAAE;AAAtB,GAA/B;AACV;;AAED,SAASlf,QAAT,CAAkB1rJ,KAAlB,EAAyBy4K,OAAO,GAAG,KAAnC,EAA0C;AACzC,QAAMltH,IAAI,GAAGgrH,eAAe,CAACv2K,KAAD,CAAf,IAA0Bu2K,eAAe,CAACv2K,KAAD,CAAf,CAAuBurD,IAA9D;AACA,MAAI,CAACA,IAAL,EAAW,MAAMllE,KAAK,CAAE,mBAAkB2Z,KAAM,mBAA1B,CAAX;AAEX,QAAMlU,OAAO,GAAGuoJ,cAAA,CAA0B9oF,IAA1B,CAAhB;;AACA,MAAIz/D,OAAO,IAAK7F,kBAAM,CAACkF,OAAP,CAAe6kL,iBAAf,CAAiC3iL,KAAjC,KAA2CorL,OAA3D,EAAqE;AACpEnoK,SAAK,CAACxkB,OAAO,CAAC+jB,MAAT,CAAL;AACA,GAFD,MAEO,IAAI0wG,aAAA,CAAiCh1D,IAAI,CAAChxD,IAAtC,CAAJ,EAAiD;AACvDgmH,6BAAA,CAA0Bh1D,IAA1B;AACA,GAFM,MAEA,IAAItlE,kBAAM,CAACkF,OAAP,CAAe+kL,UAAf,CAA0B7iL,KAA9B,EAAqC;AAC3C8jF,cAAU,CAAC5lB,IAAI,CAAChxD,IAAN,EAAYtU,kBAAM,CAACkF,OAAP,CAAemlL,qBAAf,CAAqCjjL,KAAjD,CAAV;AACA,GAFM,MAEA;AACN+M,YAAQ,CAACG,IAAT,GAAgBgxD,IAAI,CAAChxD,IAArB;AACA;AACD,C;;;;;;AC9yCD;AAEA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AAEO,MAAMtU,cAAiB,GAAG,IAAIirH,MAAJ,CAAW,SAAX,CAA1B;AAEPjrH,cAAM,CAACkrH,UAAP,GAAoB,aAApB;AACAlrH,cAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,cAAM,CAAC4jG,WAAP,GAAqB,aAArB;AACA5jG,cAAM,CAACkF,OAAP,GAAiB;AAChBqyH,UAAQ,EAAE;AACTjkC,SAAK,EAAE,sBADE;AAET1xF,QAAI,EAAE,SAFG;AAGTwF,SAAK,EAAE,IAHE;AAITw8F,eAAW,EAAE;AAJJ,GADM;AAOhB6uF,UAAQ,EAAE;AACTn/F,SAAK,EAAE,sBADE;AAET1xF,QAAI,EAAE,SAFG;AAGTwF,SAAK,EAAE,IAHE;AAITw8F,eAAW,EAAE;AAJJ,GAPM;AAahB8uF,gBAAc,EAAE;AACfp/F,SAAK,EAAE,4BADQ;AAEf1xF,QAAI,EAAE,SAFS;AAGfwF,SAAK,EAAE,IAHQ;AAIfw8F,eAAW,EAAE;AAJE;AAbA,CAAjB;AAuBA5jG,cAAM,CAACurH,OAAP,GAAiB,CAAC,IAAD,CAAjB;AAEA,MAAMonE,kBAAkB,GAAG3zF,uBAAO,CAAClR,UAAR,CAAmB,sBAAnB,EAA2C,OAAO;AAAEuV,SAAO,EAAE;AAAX,CAAP,CAA3C,CAA3B;AACA,MAAMuvF,kBAAkB,GAAG5zF,uBAAO,CAAC/4E,IAAR,CAAa,gBAAb,EAA+B,CAA/B,CAA3B;;AAEAjmB,cAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,cAAM,CAACkF,OAAP,CAAeqyH,QAAf,CAAwBnwH,KAA5B,EAAmC;AAClCqwH,oBAAA,CACC,MAAM92G,sBAAM,CAAC+N,IAAK,SAAQy4D,IAAI,CAAC,eAAD,CAAkB,SADjD,EAEC,MAAM;AAAE0rG,qBAAe,CAAC,QAAD,CAAf;AAA4B,KAFrC;AAIA;AACD,CAPD;;AASA,IAAIC,gBAAJ;AACA,MAAMx4B,mBAA6B,GAAG,IAAI92E,GAAJ,EAAtC;AACA,MAAMuvG,sBAAsB,GAAG,IAAIl7G,OAAJ,CAAYz7D,OAAO,IAAI;AAAE02K,kBAAgB,GAAG,MAAM12K,OAAO,CAAC,IAAD,CAAhC;AAAyC,CAAlE,CAA/B;;AAEApc,cAAM,CAACgsH,SAAP,GAAmB,YAAY;AAC9B,QAAMgnE,aAAa,GAAGhzL,cAAM,CAACkF,OAAP,CAAeutL,QAAf,CAAwBrrL,KAAxB,KAAiC,MAAMqrL,QAAQ,EAA/C,CAAtB;AACA,MAAIzyL,cAAM,CAACkF,OAAP,CAAewtL,cAAf,CAA8BtrL,KAA9B,IAAuC,CAAC4rL,aAA5C,EAA2DF,gBAAgB;AAC3E,CAHD;;AAKA,MAAMG,sBAAsB,GAAG,sBAAO,MACrCzpJ,gBAAC,CAAC,+HAAD,CAAD,CACEnf,KADF,CACSpe,CAAD,IAAc;AAAEjM,gBAAM,CAACkF,OAAP,CAAewtL,cAAf,CAA8BtrL,KAA9B,GAAuC6E,CAAC,CAACmd,aAAF,CAAgByvD,aAAhB,CAA8B,OAA9B,CAAD,CAA8CrkE,OAApF;AAA6FohH,cAAA,CAAa51H,cAAM,CAACkF,OAAP,CAAewtL,cAA5B;AAA8C,CADnK,CAD8B,CAA/B;;AAMO,MAAMQ,aAAa,GAAG,kBAAU,OAAOrmL,EAAP,EAAmB+qH,GAAnB,KAAgC;AACtEA,KAAG,CAAC5K,MAAJ,GAAa,MAAM;AAAE2lE,sBAAkB,CAACzxK,GAAnB,CAAuBrU,EAAvB,EAA2B;AAAEw2F,aAAO,EAAE;AAAX,KAA3B;AAAiD,GAAtE;;AAEAi3D,qBAAW,CAACp5I,GAAZ,CAAgBrU,EAAhB,EAAoB+qH,GAApB;AAEAu7D,MAAI,CAACtyL,IAAL,CAAU+2H,GAAV;AAEA,MACC,CAACA,GAAG,CAAC2iC,KAAL,KACA,MAAMw4B,sBADN,MAEA,MAAMJ,kBAAkB,CAAC/uL,GAAnB,CAAuBiJ,EAAvB,EAA2B6P,IAA3B,CAAgC,CAAC;AAAE2mF;AAAF,GAAD,KAAiBA,OAAjD,CAFN,CADD,EAIE+vF,cAAc,CAACvmL,EAAD,CAAd;AACF,CAZ4B,CAAtB;AAcA,MAAMumL,cAAc,GAAG7pG,KAAK,CAAE18E,EAAD,IAAgB;AACnD,QAAM+qH,GAAG,GAAG0iC,mBAAW,CAAC12J,GAAZ,CAAgBiJ,EAAhB,CAAZ;;AAEA,MAAI,CAAC+qH,GAAL,EAAU;AACTz4G,WAAO,CAACjZ,KAAR,CAAc,0BAAd,EAA0C2G,EAA1C;AACA;AACA;;AAED,MAAI+qH,GAAG,CAACpL,QAAJ,YAAwB6mE,OAAxB,IAAmC,CAACt5G,iBAAiB,CAAC69C,GAAG,CAACpL,QAAL,CAAzD,EAAyE;AAExErtG,WAAO,CAAC68C,GAAR,CAAY,+DAAZ,EAA6E47D,GAA7E;AACA;AACA;;AAED,SAAO07D,OAAO,CAAC17D,GAAD,EAAM;AACnBtkC,SAAK,EAAE,aADY;AAEnBq5B,eAAW,EAAE,gBAFM;AAGnBD,oBAAgB,EAAEumE,sBAAsB,EAHrB;AAInB9mK,WAAO,EAAE;AAJU,GAAN,CAAd;AAMA,CApBkC,CAA5B;;AAsBP,eAAesmK,QAAf,GAA4C;AAC3C,QAAMc,SAAS,GAAG,MAAMX,kBAAkB,CAAChvL,GAAnB,EAAxB;AACA,QAAMunB,GAAG,GAAGziB,IAAI,CAACyiB,GAAL,EAAZ;AACA,QAAMuP,KAAK,GAAG84J,cAAA,CAA0BxzL,cAAM,CAAC2nH,QAAjC,EAA2C,UAA3C,EAAuD;AACpEvgH,SAAK,EAAE8vE,GAD6D;AAEpEhG,WAAO,EAAEgG,GAAGA;AAFwD,GAAvD,CAAd;;AAIA,MAAK/rD,GAAG,GAAGooK,SAAP,GAAoB74J,KAAxB,EAA+B;AAE9Bk4J,sBAAkB,CAAC1xK,GAAnB,CAAuBiK,GAAvB;;AACA,QAAIooK,SAAS,KAAK,CAAlB,EAAqB;AACpB,YAAMV,eAAe,EAArB;AACA,KAFD,MAEO;AACNW,yBAAA,CAA+BxzL,cAAM,CAAC2nH,QAAtC,EAAgD,UAAhD,EAA4D,gBAAQ6rE,WAAA,GAAyBL,IAAI,CAACzvL,MAAtC,EAA8C,CAA9C,EAAiD,CAAjD,CAA5D;AACA,YAAMmvL,eAAe,CAAC,QAAD,CAArB;AACA;;AACD,WAAO,IAAP;AACA;;AACD,SAAO,KAAP;AACA;;AAED,SAASY,eAAT,CAAyB;AAAEp0K,SAAF;AAAWq0K,UAAX;AAAqBxuL;AAArB,CAAzB,EAA8D;AAC7D,QAAM0+F,WAAW,GAAG,EAApB;AAEA,MAAI,OAAOvkF,OAAP,KAAmB,UAAvB,EAAmCukF,WAAW,CAAC/iG,IAAZ,CAAiBwe,OAAO,EAAxB,EAAnC,KACK,IAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiCukF,WAAW,CAAC/iG,IAAZ,CAAiBwe,OAAjB;;AAEtC,MAAIq0K,QAAJ,EAAc;AAEb,UAAM9nL,QAAQ,GAAG,CAACumH,iBAAA,CAAkBg2D,2BAAlB,CAAlB;AACAvkF,eAAW,CAAC/iG,IAAZ,CAAkB,yBAAwB+K,QAAQ,GAAG,qBAAH,GAA2B,EAAG,IAAhF;AACAg4F,eAAW,CAAC/iG,IAAZ,CAAkB,sBAAqB+K,QAAQ,GAAG,aAAH,GAAmB,EAAG,EAArE;AACAg4F,eAAW,CAAC/iG,IAAZ,CAAiB,OAAjB;AAEA,UAAM8yL,aAAa,GAAG37F,6BAAa,CAAC2L,KAAd,CAAoB+vF,QAApB,EAA8BE,uBAA9B,CAAtB;AACA,QAAID,aAAJ,EAAmB/vF,WAAW,CAAC/iG,IAAZ,CAAiB8yL,aAAjB;AACnB;;AAED,MAAIzuL,OAAJ,EAAa;AACZ,SAAK,MAAM4f,MAAX,IAAqB5f,OAArB,EAA8B;AAC7B0+F,iBAAW,CAAC/iG,IAAZ,CAAiB,8BAAjB;AACA+iG,iBAAW,CAAC/iG,IAAZ,CAAiB,6CAAjB;AACA+iG,iBAAW,CAAC/iG,IAAZ,CAAiB,OAAjB;AAEA,YAAMgzL,WAAW,GAAG77F,6BAAa,CAAC2L,KAAd,CAAoB7+E,MAApB,EAA4BgvK,qBAA5B,CAApB;AACA,UAAID,WAAJ,EAAiBjwF,WAAW,CAAC/iG,IAAZ,CAAiBgzL,WAAjB;AACjB;AACD;;AAED,SAAOrqJ,gBAAC,CAAC,SAAD,CAAD,CAAa9a,IAAb,CAAkBk1E,WAAW,CAACz2F,IAAZ,CAAiB,IAAjB,CAAlB,CAAP;AACA;;AAED,SAASymL,uBAAT,CAAiCG,iBAAjC,EAA4D;AAC3D,QAAM7nK,OAAO,GAAG2vE,mBAAW,CAACssF,kBAAA,CAAmBjjL,OAAnB,CAA2B6uL,iBAA3B,EAA8C3sL,KAA/C,CAA3B;AACA,MAAI,CAAC8kB,OAAL,EAAc,OAAO,KAAP;AAEd,QAAM03E,WAAW,GAAG,EAApB;AACAA,aAAW,CAAC/iG,IAAZ,CAAiB,MAAjB;AACA+iG,aAAW,CAAC/iG,IAAZ,CAAkB,aAAYqrB,OAAO,CAACzkB,WAAR,EAAsB,cAApD;AACAm8F,aAAW,CAAC/iG,IAAZ,CAAkB,OAAMkzL,iBAAkB,OAA1C;AACAnwF,aAAW,CAAC/iG,IAAZ,CAAiB,WAAjB;AACA+iG,aAAW,CAAC/iG,IAAZ,CAAiB,iBAAjB;AACA+iG,aAAW,CAAC/iG,IAAZ,CAAkB,OAAMsmF,IAAI,CAACghG,kBAAA,CAAmBjjL,OAAnB,CAA2B6uL,iBAA3B,EAA8CnwF,WAA/C,CAA4D,OAAxF;AACAA,aAAW,CAAC/iG,IAAZ,CAAiB,OAAjB;AAEA,SAAO+iG,WAAP;AACA;;AAED,SAASkwF,qBAAT,CAA+BhvK,MAA/B,EAAuC;AACtC,QAAMyjC,GAAG,GAAG4pE,YAAA,CAAqBrtG,MAAM,CAAC6iG,QAA5B,CAAZ;AACA,MAAI,CAACp/D,GAAL,EAAU,OAAO,KAAP;AAEV,QAAMq7C,WAAW,GAAG,EAApB;AAEAA,aAAW,CAAC/iG,IAAZ,CAAiB,MAAjB;AACA+iG,aAAW,CAAC/iG,IAAZ,CAAkB,OAAMsmF,IAAI,CAAC5+B,GAAG,CAAC4iE,QAAL,CAAe,OAA3C;AAEAvnB,aAAW,CAAC/iG,IAAZ,CAAiB,MAAjB;AACA+iG,aAAW,CAAC/iG,IAAZ,CAAiBy5H,eAAA,CAAmCx1G,MAAM,CAAC6iG,QAA1C,EAAoD/hH,SAApD,EAA+DuhF,IAAI,CAAC5+B,GAAG,CAAC2iE,UAAL,CAAnE,CAAjB;AACAtnB,aAAW,CAAC/iG,IAAZ,CAAiB,OAAjB;AAEA+iG,aAAW,CAAC/iG,IAAZ,CAAiB,MAAjB;AACA+iG,aAAW,CAAC/iG,IAAZ,CAAiBikB,MAAM,CAACpX,GAAP,GAAa4sH,eAAA,CAAmCx1G,MAAM,CAAC6iG,QAA1C,EAAoD7iG,MAAM,CAACpX,GAA3D,CAAb,GAA+E,QAAhG;AACAk2F,aAAW,CAAC/iG,IAAZ,CAAiB,OAAjB;;AAEA,MAAIikB,MAAM,CAACpX,GAAP,IAAc66C,GAAG,CAACrjD,OAAJ,CAAY4f,MAAM,CAACpX,GAAnB,CAAlB,EAA2C;AAC1Ck2F,eAAW,CAAC/iG,IAAZ,CAAiB,WAAjB;AACA+iG,eAAW,CAAC/iG,IAAZ,CAAkB,mBAAkBsmF,IAAI,CAAC5+B,GAAG,CAACrjD,OAAJ,CAAY4f,MAAM,CAACpX,GAAnB,EAAwBk2F,WAAzB,CAAsC,OAA9E;AACA;;AACDA,aAAW,CAAC/iG,IAAZ,CAAiB,OAAjB;AAEA,SAAO+iG,WAAP;AACA;;AAiBD,MAAMuvF,IAAgB,GAAG,CAAC;AACzB9zK,SAAO,EAAG;;;6FAGkFw3D,iBAAkB;GAJrF;AAMzB21C,UAAQ,EAAE,oBANe;AAOzBt7F,UAAQ,EAAE;AAPe,CAAD,EAQtB;AACF7R,SAAO,EAAE,8GADP;AAEFmtG,UAAQ,EAAE,kBAFR;AAGFt7F,UAAQ,EAAE,CAHR;AAIFhsB,SAAO,EAAE,CAAC;AAAEyiH,YAAQ,EAAE;AAAZ,GAAD;AAJP,CARsB,EAatB;AACFtoG,SAAO,EAAE,yUADP;AAEFi0E,OAAK,EAAE;AAFL,CAbsB,EAgBtB;AACFj0E,SAAO,EAAE;AADP,CAhBsB,EAkBtB;AACFA,SAAO,EAAE,sIADP;AAEFna,SAAO,EAAE,CAAC;AAAEyiH,YAAQ,EAAE;AAAZ,GAAD;AAFP,CAlBsB,EAqBtB;AACFtoG,SAAO,EAAE,0FADP;AAEFna,SAAO,EAAE,CAAC;AAAEyiH,YAAQ,EAAE;AAAZ,GAAD,CAFP;AAGF+rE,UAAQ,EAAE;AAHR,CArBsB,EAyBtB;AACFr0K,SAAO,EAAE,uNADP;AAEFna,SAAO,EAAE,CAAC;AACTyiH,YAAQ,EAAE,eADD;AAETj6G,OAAG,EAAE;AAFI,GAAD,EAGN;AACFi6G,YAAQ,EAAE,cADR;AAEFj6G,OAAG,EAAE;AAFH,GAHM;AAFP,CAzBsB,EAkCtB;AACF2R,SAAO,EAAE,0HADP;AAEFna,SAAO,EAAE,CAAC;AACTyiH,YAAQ,EAAE;AADD,GAAD;AAFP,CAlCsB,EAuCtB;AACFtoG,SAAO,EAAE,yGADP;AAEFna,SAAO,EAAE,CAAC;AACTyiH,YAAQ,EAAE;AADD,GAAD,CAFP;AAKF+rE,UAAQ,EAAE;AALR,CAvCsB,EA6CtB;AACFr0K,SAAO,EAAE,uHADP;AAEFna,SAAO,EAAE,CAAC;AACTyiH,YAAQ,EAAE,UADD;AAETj6G,OAAG,EAAE;AAFI,GAAD;AAFP,CA7CsB,EAmDtB;AACF2R,SAAO,EAAE,iGADP;AAEFna,SAAO,EAAE,CAAC;AACTyiH,YAAQ,EAAE;AADD,GAAD;AAFP,CAnDsB,EAwDtB;AACFtoG,SAAO,EAAE,qHADP;AAEFna,SAAO,EAAE,CAAC;AACTyiH,YAAQ,EAAE;AADD,GAAD;AAFP,CAxDsB,EA6DtB;AACFtoG,SAAO,EAAE,gGADP;AAEFna,SAAO,EAAE,CAAC;AACTyiH,YAAQ,EAAE;AADD,GAAD;AAFP,CA7DsB,EAkEtB;AACFtoG,SAAO,EAAE;AADP,CAlEsB,EAoEtB;AACFA,SAAO,EAAE;AADP,CApEsB,EAsEtB;AACFA,SAAO,EAAE,ySADP;AAEFna,SAAO,EAAE,CAAC;AACTyiH,YAAQ,EAAE;AADD,GAAD;AAFP,CAtEsB,EA2EtB;AACFtoG,SAAO,EAAE,qIADP;AAEFna,SAAO,EAAE,CAAC;AACTyiH,YAAQ,EAAE;AADD,GAAD;AAFP,CA3EsB,EAgFtB;AACFtoG,SAAO,EAAE,kKADP;AAEFna,SAAO,EAAE,CAAC;AACTyiH,YAAQ,EAAE,iBADD;AAETj6G,OAAG,EAAE;AAFI,GAAD;AAFP,CAhFsB,EAsFtB;AACF2R,SAAO,EAAE,6IADP;AAEFna,SAAO,EAAE,CAAC;AACTyiH,YAAQ,EAAE,YADD;AAETj6G,OAAG,EAAE;AAFI,GAAD;AAFP,CAtFsB,CAAzB;;AA8FA,MAAMsmL,iBAAiB,GAAG,sBAAO,MAChCxqJ,gBAAC,CAAE,iEAAgExpC,cAAM,CAACkF,OAAP,CAAeutL,QAAf,CAAwBrrL,KAAxB,GAAgC,SAAhC,GAA4C,EAAG,gDAAjH,CAAD,CACEijB,KADF,CACSpe,CAAD,IAAc;AAAEjM,gBAAM,CAACkF,OAAP,CAAeutL,QAAf,CAAwBrrL,KAAxB,GAAiC6E,CAAC,CAACmd,aAAF,CAAgByvD,aAAhB,CAA8B,OAA9B,CAAD,CAA8CrkE,OAA9E;AAAuFohH,cAAA,CAAa51H,cAAM,CAACkF,OAAP,CAAeutL,QAA5B;AAAwC,CADvJ,CADyB,CAA1B;;AAKA,IAAIwB,OAAJ;;AAEA,SAASpB,eAAT,CAAyB1wF,MAAzB,EAA8D;AAE7DqxF,qBAAA,CAA+BxzL,cAAM,CAAC2nH,QAAtC,EAAgD,UAAhD,EAA4D,CAA5D;AAEA,MAAIusE,YAAY,GAAGpuL,IAAI,CAAC0tB,GAAL,CAAS2/J,IAAI,CAACryL,OAAL,CAAamzL,OAAb,CAAT,EAAgC,CAAhC,CAAnB;AACA,MAAIr8D,GAAJ;;AACA,SAAO,CAACA,GAAD,IAASA,GAAG,CAACpL,QAAJ,IAAgB,CAAChjF,gBAAC,CAACouF,GAAG,CAACpL,QAAL,CAAD,CAAgBh0G,EAAhB,CAAmB,UAAnB,CAAjC,EAAkE;AACjE,QAAI2pF,MAAM,KAAK,QAAf,EAAyB+xF,YAAY,GAAG,iBAASf,IAAI,CAACzvL,MAAd,CAAf,CAAzB,KACK,IAAIy+F,MAAM,KAAK,MAAf,EAAuB+xF,YAAY,IAAI,CAAhB,CAAvB,KACA,IAAI/xF,MAAM,KAAK,MAAf,EAAuB+xF,YAAY,IAAI,CAAhB,CAAvB,KACA/xF,MAAM,GAAG,MAAT;AACL+xF,gBAAY,GAAGn2F,cAAc,CAACm2F,YAAD,EAAef,IAAI,CAACzvL,MAApB,CAA7B;AACAk0H,OAAG,GAAGu7D,IAAI,CAACe,YAAD,CAAV;AACA;;AAED,SAAOZ,OAAO,CAAE17D,GAAF,EAAa;AAC1BzrG,WAAO,EAAE,CAAC;AACThnB,UAAI,EAAE,MADG;AAETypH,aAAO,EAAE,MAAMikE,eAAe,CAAC,MAAD;AAFrB,KAAD,EAGN;AACF1tL,UAAI,EAAE,MADJ;AAEFypH,aAAO,EAAE,MAAMikE,eAAe,CAAC,MAAD;AAF5B,KAHM,CADiB;;AAQ1B9lE,WAAO,GAAG;AAAEymE,yBAAA,CAA+BxzL,cAAM,CAAC2nH,QAAtC,EAAgD,UAAhD,EAA4D,CAA5D;AAAiE,KARnD;;AAS1BgF,eAAW,EAAE,iBATa;AAU1BD,oBAAgB,EAAEsnE,iBAAiB,EAVT;AAW1B1gG,SAAK,EAAE;AAXmB,GAAb,CAAd;AAaA;;AAED,SAASggG,OAAT,CAAiB17D,GAAjB,EAA2Bu8D,SAA3B,EAAsC;AACrC,QAAM;AAAEv4B;AAAF,MAAmBq4B,OAAO,GAAGr8D,GAAnC;;AACA,MAAIgkC,YAAJ,EAAkB;AACjB,UAAMw4B,aAAa,GAAG,EAAE,GAAGD;AAAL,KAAtB;AASAA,aAAS,CAAChoK,OAAV,GAAoB,CAAC,GAAGgoK,SAAS,CAAChoK,OAAd,EAAuB;AAAEhnB,UAAI,EAAE,MAAR;AAAgBypH,aAAO,EARlD,YAAY;AAC3B,cAAMylE,UAAU,GAAGz4B,YAAY,EAA/B;AACA,YAAI04B,OAAJ;;AACA,eAAO,EAAEA,OAAO,GAAGh6B,mBAAW,CAAC12J,GAAZ,CAAgBywL,UAAhB,CAAZ,CAAP,EAAiD;AAChD,gBAAM,IAAIx8G,OAAJ,CAAYprC,CAAC,IAAIjuB,UAAU,CAACiuB,CAAD,EAAI,GAAJ,CAA3B,CAAN;AACA;;AACD6mJ,eAAO,CAACgB,OAAD,EAAUF,aAAV,CAAP;AACA;AAC0C,KAAvB,CAApB;AACA;;AAED,QAAM5nE,QAAsB,GAAGoL,GAAG,CAACpL,QAAJ,IAAgBhjF,gBAAC,CAACouF,GAAG,CAACpL,QAAL,CAAD,CAAgB5oH,GAAhB,CAAoB,CAApB,CAAhB,IAA0C,IAAzE;;AAGA,QAAM2wL,qBAAqB,GAAGz3K,KAAK,IAAI;AAAE,QAAI0vG,QAAJ,EAAcA,QAAQ,CAAC9rC,SAAT,CAAmBj8D,MAAnB,CAA0B,2BAA1B,EAAuD3H,KAAvD;AAAgE,GAAvH;;AAEA,SAAO,IAAI+6D,OAAJ,CAAkBz7D,OAAO,IAAI;AACnCkwG,WAAO,CAACuC,OAAR;AACAvC,WAAO,CAACwE,YAAR,CAAqB;AACpBjkH,QAAE,EAAG,cAAam7E,WAAW,CAAC78D,GAAZ,EAAkB,EADhB;AAEpByhG,mBAAa,EAAE,IAFK;AAGpBO,aAAO,EAAE,IAHW;AAIpBvpB,iBAAW,EAAE6vF,eAAe,CAAC77D,GAAD,CAJR;AAKpB,SAAGu8D,SALiB;AAMpB,SAAGv8D,GANiB;;AAOpB5K,YAAM,GAAG;AACR,YAAI4K,GAAG,CAAC5K,MAAR,EAAgB4K,GAAG,CAAC5K,MAAJ;AAChBunE,6BAAqB,CAAC,KAAD,CAArB;AACAn4K,eAAO;AACP,OAXmB;;AAYpBowG;AAZoB,KAArB;AAcA+nE,yBAAqB,CAAC,IAAD,CAArB;AACAjoE,WAAO,CAAChoG,IAAR;AACA,GAlBM,CAAP;AAmBA,C;;AC1YD;AACA;AAEO,MAAMtkB,YAAiB,GAAG,IAAIirH,MAAJ,CAAW,OAAX,CAA1B;AAEPjrH,YAAM,CAACkrH,UAAP,GAAoB,WAApB;AACAlrH,YAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,YAAM,CAAC+E,IAAP,GAAc,CAAC,EAAf;AACA/E,YAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AACA7rH,YAAM,CAAC4jG,WAAP,GAAqB,WAArB;AAEA5jG,YAAM,CAACkF,OAAP,GAAiB;AAChBsvL,SAAO,EAAE;AACR5yL,QAAI,EAAE,QADE;AAERgiG,eAAW,EAAE,qBAFL;AAGRtQ,SAAK,EAAE,0BAHC;AAIR9wF,QAAI,EAAEw1F,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,CAJE;AAKRthE,YAAQ,EAAE;AAAEujH,cAAQ,EAAE;AAAZ;AALF,GADO;AAQhB8sE,QAAM,EAAE;AACP7yL,QAAI,EAAE,QADC;AAEPgiG,eAAW,EAAE,oBAFN;AAGPtQ,SAAK,EAAE,yBAHA;AAIP9wF,QAAI,EAAEw1F,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,CAJC;AAKPthE,YAAQ,EAAE;AAAEujH,cAAQ,EAAE;AAAZ;AALH,GARQ;AAehB+sE,gBAAc,EAAE;AACf9yL,QAAI,EAAE,QADS;AAEfgiG,eAAW,EAAE,4BAFE;AAGftQ,SAAK,EAAE,iCAHQ;AAIf9wF,QAAI,EAAEw1F,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,CAJS;AAKfthE,YAAQ,EAAE;AAAEujH,cAAQ,EAAE;AAAZ;AALK,GAfA;AAsBhBgtE,eAAa,EAAE;AACd/yL,QAAI,EAAE,QADQ;AAEdgiG,eAAW,EAAE,2BAFC;AAGdtQ,SAAK,EAAE,gCAHO;AAId9wF,QAAI,EAAEw1F,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,CAJQ;AAKdthE,YAAQ,EAAE;AALI,GAtBC;AA6BhBwwL,QAAM,EAAE;AACPhzL,QAAI,EAAE,QADC;AAEPgiG,eAAW,EAAE,oBAFN;AAGPtQ,SAAK,EAAE,yBAHA;AAIP9wF,QAAI,EAAEw1F,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,CAJC;AAKPthE,YAAQ,EAAE;AALH,GA7BQ;AAoChBwoK,MAAI,EAAE;AACLhrK,QAAI,EAAE,QADD;AAELgiG,eAAW,EAAE,kBAFR;AAGLtQ,SAAK,EAAE,uBAHF;AAIL9wF,QAAI,EAAEw1F,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,CAJD;AAKLthE,YAAQ,EAAE;AALL,GApCU;AA2ChBywL,aAAW,EAAE;AACZjzL,QAAI,EAAE,QADM;AAEZgiG,eAAW,EAAE,yBAFD;AAGZtQ,SAAK,EAAE,8BAHK;AAIZ9wF,QAAI,EAAEw1F,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,CAJM;AAKZthE,YAAQ,EAAE;AALE,GA3CG;AAkDhB0wL,KAAG,EAAE;AACJlzL,QAAI,EAAE,QADF;AAEJgiG,eAAW,EAAE,iBAFT;AAGJtQ,SAAK,EAAE,sBAHH;AAIJ9wF,QAAI,EAAEw1F,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,CAJF;AAKJthE,YAAQ,EAAE;AALN,GAlDW;AAyDhBnC,MAAI,EAAE;AACLL,QAAI,EAAE,QADD;AAELgiG,eAAW,EAAE,kBAFR;AAGLtQ,SAAK,EAAE,uBAHF;AAIL9wF,QAAI,EAAEw1F,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,CAJD;AAKLthE,YAAQ,EAAE;AALL,GAzDU;AAgEhB2wL,cAAY,EAAE;AACbnzL,QAAI,EAAE,QADO;AAEbgiG,eAAW,EAAE,0BAFA;AAGbtQ,SAAK,EAAE,+BAHM;AAIb9wF,QAAI,EAAEw1F,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,CAJO;AAKbthE,YAAQ,EAAE;AALG,GAhEE;AAuEhB4wL,SAAO,EAAE;AACRpzL,QAAI,EAAE,QADE;AAERgiG,eAAW,EAAE,qBAFL;AAGRtQ,SAAK,EAAE,0BAHC;AAIR9wF,QAAI,EAAEw1F,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,CAJE;AAKRthE,YAAQ,EAAE;AALF,GAvEO;AA8EhB6wL,SAAO,EAAE;AACRrzL,QAAI,EAAE,QADE;AAERgiG,eAAW,EAAE,qBAFL;AAGRtQ,SAAK,EAAE,0BAHC;AAIR9wF,QAAI,EAAEw1F,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,CAJE;AAKRthE,YAAQ,EAAE;AALF;AA9EO,CAAjB,C;;;ACVA;AACA;AACA;AACA;AAEA;AAEO,MAAMpE,oBAAiB,GAAG,IAAIirH,MAAJ,CAAW,eAAX,CAA1B;AAEPjrH,oBAAM,CAACkrH,UAAP,GAAoB,mBAApB;AACAlrH,oBAAM,CAACmrH,QAAP,GAAkB,cAAlB;AACAnrH,oBAAM,CAAC4jG,WAAP,GAAqB,mBAArB;AACA5jG,oBAAM,CAAC82B,MAAP,GAAgB,IAAhB;AAEA,MAAMsnD,uBAAS,GAAG69D,sBAAlB;AACA,MAAMtD,SAAS,GAAI,MAAKv6D,uBAAU,mBAAlC;AACA,MAAM82G,OAAO,GAAI,MAAK92G,uBAAU,MAAhC;AAEA,MAAM+2G,cAAc,GAAGn2F,uBAAO,CAAC/4E,IAAR,CAAa,wCAAb,EAAuD,CAAvD,CAAvB;AACA,MAAMmvK,cAAc,GAAGp2F,uBAAO,CAAC/4E,IAAR,CAAa,wCAAb,EAAuD,CAAvD,CAAvB;AACA,MAAMovK,MAAM,GAAGr2F,uBAAO,CAAC/4E,IAAR,CAAa,4CAAb,EAA4D,IAA5D,CAAf;AAEA,MAAMqvK,YAAY,GAAG,KAAKp+G,GAA1B;AACA,MAAMq+G,YAAY,GAAG,KAAKr+G,GAA1B;AAEA,MAAMs+G,gBAAgB,GAAGv+G,IAAzB;AAEA,MAAM9rD,iBAAG,GAAGziB,IAAI,CAACyiB,GAAL,EAAZ;AAEA,IAAIsqK,IAAJ;;AAEAz1L,oBAAM,CAACy4F,EAAP,GAAY,YAAY;AACvB,MAAI/Y,kBAAkB,CAACtB,uBAAD,CAAtB,EAAmC;AAClCs3G,iBAAa;AACb,GAFD,MAEO;AACN,UAAM/1F,IAAI,GAAG,MAAMg2F,mBAAmB,EAAtC;;AACA,QAAIh2F,IAAJ,EAAU;AACTpiF,YAAM,CAACoiF,IAAD,CAAN;AACA;AACD;AACD,CATD;;AAWA,eAAeg2F,mBAAf,GAAqC;AACpC,QAAMh2F,IAAI,GAAG,MAAMi2F,aAAa,EAAhC;;AACA,MAAI,CAACj2F,IAAL,EAAW;AACV,WAAO,KAAP;AACA;;AACDk2F,iBAAe,CAACl2F,IAAD,CAAf;AAEA,QAAMhtF,MAAM,GAAG,MAAMmjL,YAAY,CAACn2F,IAAD,CAAjC;AACA,SAAOhtF,MAAM,GAAGgtF,IAAH,GAAU,KAAvB;AACA;;AAED,eAAem2F,YAAf,CAA4Bn2F,IAA5B,EAAkC;AACjC,QAAMo2F,WAAW,GAAGp2F,IAAI,CAAC49E,WAAL,GAAmB,IAAvC;;AAEA,MAAIwY,WAAW,GAAGT,YAAd,IAA8BnqK,iBAAlC,EAAuC;AAEtC,WAAO,KAAP;AACA;;AAED,MAAI4qK,WAAW,KAAI,MAAMZ,cAAc,CAACvxL,GAAf,EAAV,CAAf,EAA+C;AAE9C,WAAO,KAAP;AACA;;AAED,MAAI,CAACoyL,cAAc,CAACr2F,IAAD,CAAnB,EAA2B;AAC1B,WAAO,KAAP;AACA;;AAED,SAAO,IAAP;AACA;;AAED,MAAMpiF,MAAM,GAAG,sBAAO,MAAMoiF,IAAN,IAAc;AACnC,QAAMl+D,GAAG,GAAGk+D,IAAI,CAAC9yF,EAAL,GAAW,aAAY8yF,IAAI,CAAC9yF,EAAG,EAA/B,GAAmCqoL,OAA/C;AACA,QAAMe,WAAW,GAAG,CAAC,MAAMb,cAAc,CAACxxL,GAAf,EAAP,IAA+B2xL,YAA/B,GAA8CpqK,iBAAlE;AACA,QAAMmoE,KAAK,GAAGqM,IAAI,CAAC7L,MAAL,GACb3M,IAAI,CAAC,4BAAD,EAA+B/I,uBAA/B,EAA0CuhB,IAAI,CAAC7L,MAA/C,CADS,GAEb3M,IAAI,CAAC,sBAAD,EAAyB/I,uBAAzB,CAFL;AAIA83G,qBAAmB,CAACv2F,IAAD,EAAOl+D,GAAP,EAAY6xD,KAAZ,EAAmB2iG,WAAnB,CAAnB;AAGA,QAAME,mBAAmB,GAAG,MAAMf,cAAc,CAACz7K,GAAf,EAAlC;;AACA,MAAIw8K,mBAAJ,EAAyB;AAExB1+D,oBAAA,CACC,MAAM92G,sBAAM,CAAC+N,IAAK,gBAAe4kE,KAAM;;;WADxC,EAKCrnF,CAAC,IAAI;AACJypL,mBAAa;AACb,UAAIzpL,CAAC,CAAC1G,MAAF,CAASuU,OAAT,CAAiB,mCAAjB,CAAJ,EAA2D;AAC3DoxE,gBAAU,CAACzpD,GAAD,CAAV;AACA,KATF,EAUC,CAAC,CAVF;AAYA;AACD,CA1Bc,CAAf;;AA4BA,eAAeo0J,eAAf,CAA+Bl2F,IAA/B,EAAqC;AAEpC,MAAIA,IAAI,CAAC9yF,EAAL,MAAY,MAAMwoL,MAAM,CAACzxL,GAAP,EAAlB,CAAJ,EAAoC;AACnCyxL,UAAM,CAACn0K,GAAP,CAAWy+E,IAAI,CAAC9yF,EAAhB;AACAuoL,kBAAc,CAACl0K,GAAf,CAAmBiK,iBAAnB;AACA;AACD;;AAeD,SAAS+qK,mBAAT,CAA6Bv2F,IAA7B,EAAmCl+D,GAAnC,EAAwC6xD,KAAxC,EAA+C2iG,WAA/C,EAA4D;AAC3DR,MAAI,GAAG90K,sBAAM,CAAC+N,IAAK,uCAAsCunK,WAAW,GAAG,WAAH,GAAiB,EAAG,UAASx0J,GAAI,oBAArG;AACAg0J,MAAI,CAACrmK,MAAL,CAAY4oE,6BAAa,CAACtyB,IAAd,CAAmB,MAAnB,EAA2B,MAA3B,EAAmC,EAAnC,EAAuC4tB,KAAvC,CAAZ;AACAmiG,MAAI,CAAClmL,gBAAL,CAAsB,OAAtB,EAA+BmmL,aAA/B;AAEA57F,YAAU,CAAC27F,IAAD,EAAO;AAAEllK,aAAS,EAAE;AAAb,GAAP,CAAV;AACA;;AAED,eAAeqlK,aAAf,GAA+B;AAC9B,QAAM;AAAEz0K,QAAI,EAAE;AAAE3H,cAAQ,EAAE,CAAC;AAAE2H;AAAF,OAAD;AAAZ;AAAR,MAAsC,MAAMkhB,IAAI,CAAC;AACtDZ,OAAG,EAAEk3G,SADiD;AAEtD/2I,QAAI,EAAE,MAFgD;AAGtDkhF,YAAQ,EAAE0yG;AAH4C,GAAD,CAAtD;AAMA,SAAOr0K,IAAP;AACA;;AAED,SAASu0K,aAAT,GAAyB;AACxBP,gBAAc,CAACj0K,GAAf,CAAmBiK,iBAAnB;AACA,MAAIsqK,IAAJ,EAAUA,IAAI,CAAC/5K,MAAL;AACV;;AAED,SAASs6K,cAAT,CAAwBr2F,IAAxB,EAA8B;AAC7B,MAAI,CAAE,mCAAD,CAAsC1yF,IAAtC,CAA2C0yF,IAAI,CAACrM,KAAhD,CAAL,EAA6D;AAE5D,WAAO,IAAP;AACA;;AAED,MAAIqM,IAAI,CAACrM,KAAL,CAAW7rF,WAAX,GAAyBm6C,QAAzB,CAAkC,SAAgCn6C,WAAhC,EAAlC,CAAJ,EAAsF;AAErF,WAAO,IAAP;AACA;;AAED,SAAO,KAAP;AACA,C;;AC9JD;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMzH,eAAiB,GAAG,IAAIirH,MAAJ,CAAW,UAAX,CAA1B;AAEPjrH,eAAM,CAACkrH,UAAP,GAAoB,cAApB;AACAlrH,eAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,eAAM,CAAC4jG,WAAP,GAAqB,cAArB;AAEA5jG,eAAM,CAACkF,OAAP,GAAiB;AAChBkxL,uBAAqB,EAAE;AACtBx0L,QAAI,EAAE,MADgB;AAEtBwF,SAAK,EAAE,MAFe;AAGtBw8F,eAAW,EAAE,mCAHS;AAItBtQ,SAAK,EAAE;AAJe,GADP;AAOhBjsE,OAAK,EAAE;AACNzlB,QAAI,EAAE,MADA;AAEN2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,KADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,eADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,iBADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,CAFF;AAYNA,SAAK,EAAE,SAZD;AAaNw8F,eAAW,EAAE,mBAbP;AAcNtQ,SAAK,EAAE;AAdD;AAPS,CAAjB;AAyBA,MAAMw/D,kBAAS,GAAG31E,UAAU,CAAC,UAAD,EAAa,kBAAb,CAAV,GAA6C,SAA7C,GAAyD,MAA3E;AAEA,MAAMk5G,QAAQ,GAAGluG,KAAK,CACrB2xD,KAAK,IAAIw8C,IAAA,CAAeA,IAAf,EAA+Bx8C,KAA/B,CADY,EAErB;AAAE9lG,MAAI,EAAE,EAAR;AAAYtZ,OAAK,EAAE,IAAnB;AAAyB0tD,mBAAiB,EAAE;AAA5C,CAFqB,CAAtB;;AAKApoF,eAAM,CAACyrH,SAAP,GAAmB,MAAM,CAACtnC,iBAAiB,EAA3C;;AAEAnkF,eAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI/rH,eAAM,CAACkF,OAAP,CAAemiB,KAAf,CAAqBjgB,KAArB,IAA8B0rJ,kBAAS,KAAK9yJ,eAAM,CAACkF,OAAP,CAAemiB,KAAf,CAAqBjgB,KAArE,EAA4E;;AAE5E,MAAI0rJ,kBAAS,KAAK,SAAd,IAA2B,CAAC3gC,SAAA,CAAkBo1C,4BAAlB,CAAhC,EAAiE;AAChEpoJ,WAAO,CAACC,IAAR,CAAa,4CAAb;AACA;AACA;;AAED,QAAMg3K,qBAAqB,GAAG7kK,UAAU,CAACvxB,eAAM,CAACkF,OAAP,CAAekxL,qBAAf,CAAqChvL,KAAtC,CAAV,IAA0D,CAAxF;AACA,QAAMmvL,OAA8B,GAAG,IAAI/yG,GAAJ,EAAvC;AAEA,QAAM0d,EAAE,GAAG,IAAI3H,oBAAJ,CAAyBpqB,OAAO,IAAI;AAC9C,SAAK,MAAM;AAAE5pE,YAAF;AAAUi0F;AAAV,KAAX,IAAyCrqB,OAAzC,EAAkD;AACjD,YAAMghB,KAAK,GAAGT,WAAK,CAACM,WAAN,CAAkBzqF,MAAlB,CAAd;AACA,YAAMsH,EAAE,GAAG0pL,OAAO,CAAC3yL,GAAR,CAAYusF,KAAZ,CAAX;;AACA,UAAIqJ,cAAJ,EAAoB;AACnB+8F,eAAO,CAACr1K,GAAR,CAAYivE,KAAZ,EAAmB3xE,UAAU,CAAC,MAAM;AACnC,cAAIs0I,kBAAS,KAAK,MAAlB,EAA0BujC,QAAQ,CAAClmG,KAAD,CAAR,CAA1B,KACKo3E,gBAAA,CAAiBp3E,KAAjB;AAEL+Q,YAAE,CAACG,SAAH,CAAa97F,MAAb;AACAgxL,iBAAO,CAACjtG,MAAR,CAAe6G,KAAf;AACA,SAN4B,EAM1BimG,qBAN0B,CAA7B;AAOA,OARD,MAQO,IAAIvpL,EAAJ,EAAQ;AACd0pL,eAAO,CAACjtG,MAAR,CAAe6G,KAAf;AACAt1D,oBAAY,CAAChuB,EAAD,CAAZ;AACA;AACD;AACD,GAjBU,EAiBR;AAAEuqG,aAAS,EAAE,CAAC,CAAD,CAAb;AAAkBhW,cAAU,EAAE;AAA9B,GAjBQ,CAAX;AAmBAhB,gBAAc,CAAC,CAAC0yD,kBAAD,CAAD,EAAc3iE,KAAK,IAAI;AACpC+Q,MAAE,CAAC1oB,OAAH,CAAW2X,KAAK,CAAC9gB,KAAjB;AACA,GAFa,CAAd;AAGA,CAjCD,C;;;;;;;AC5BO,SAAS3wC,SAAT,CAAmBwD,QAAnB,EAAuD;AAK7D,SAAOvgB,IAAI,CAACslE,SAAL,CAJwB;AAC9BuvG,kBAAc,EAAE,CADc;AAE9Br1K,QAAI,EAAE+gB;AAFwB,GAIxB,CAAP;AACA;AAEM,SAASu0J,WAAT,CAAqB91K,MAArB,EAAuD;AAC7D,QAAM7F,MAAM,GAAG6G,IAAI,CAACC,KAAL,CAAWjB,MAAX,CAAf;;AACA,UAAQ7F,MAAM,CAAC07K,cAAf;AACC;AAAS;AACR,cAAM;AAAEA,wBAAF;AAAkB,aAAGE;AAArB,YAAkC57K,MAAxC;AACA,eAAO,2BAAY47K,OAAZ,EAAqB,CAAC16K,CAAD,EAAIowE,CAAJ,KAAU;AACrC,cAAI;AACH,mBAAOzqE,IAAI,CAACC,KAAL,CAAW5F,CAAX,CAAP;AACA,WAFD,CAEE,OAAO/P,CAAP,EAAU;AACXkT,mBAAO,CAACC,IAAR,CAAa,kBAAb,EAAiCgtE,CAAjC,EAAoC,6BAApC;AACA,mBAAOpwE,CAAP;AACA;AACD,SAPM,CAAP;AAQA;;AACD,SAAK,CAAL;AAAQ;AACP,cAAM;AAAEw6K,wBAAF;AAAkB,aAAGt0J;AAArB,YAAmCpnB,MAAzC;AACA,eAAOonB,QAAP;AACA;;AACD,SAAK,CAAL;AAAQ;AACP,cAAM;AAAE/gB,cAAI,EAAE+gB;AAAR,YAAsBpnB,MAA5B;AACA,eAAOonB,QAAP;AACA;AAnBF;AAqBA,C;;ACjDM,MAAMy0J,QAAN,CAAe;AAMrBtzL,MAAI,CAAC,EAAD,EAA2B;AAC9B,WAAOw0E,OAAO,CAACz7D,OAAR,CAAgB,IAAhB,CAAP;AACA;;AAED0tG,MAAI,GAAoB;AAAE,UAAM,IAAI1pH,KAAJ,CAAU,eAAV,CAAN;AAAmC;;AAE7Dw2L,OAAK,CAACz1K,IAAD,EAA8B;AAAE,UAAM,IAAI/gB,KAAJ,CAAU,eAAV,CAAN;AAAmC;;AAZnD;AAATu2L,Q,CACLjpL,G,GAAM,U;AADDipL,Q,CAELn0L,I,GAAO,U;AAFFm0L,Q,CAGLE,gB,GAAmB,I;AAHdF,Q,CAILG,wB,GAA2B,K;;ACLnC;AACA;AACA;AAEO,MAAMC,SAAN,SAAmBJ,QAAnB,CAA4B;AAKlC7sE,MAAI,GAAoB;AACvB,WAAO,IAAIjyC,OAAJ,CAAY,CAACz7D,OAAD,EAAUC,MAAV,KAAqB;AACvC,YAAMipD,IAAI,GAAGplE,QAAQ,CAACqC,aAAT,CAAuB,OAAvB,CAAb;AACA+iE,UAAI,CAAC1jE,IAAL,GAAY,MAAZ;AACA0jE,UAAI,CAAC0xH,MAAL,GAAc,YAAd;AACA1xH,UAAI,CAAC/1D,gBAAL,CAAsB,QAAtB,EAAgC,MAAM;AACrC,cAAMsF,IAAI,GAAGywD,IAAI,CAACkwE,KAAL,CAAW,CAAX,CAAb;AACA,cAAMyhD,MAAM,GAAG,IAAIC,UAAJ,EAAf;;AACAD,cAAM,CAACzxJ,MAAP,GAAgB,MAAM;AACrBppB,iBAAO,CAAE66K,MAAM,CAACtkL,MAAT,CAAP;AACA,SAFD;;AAGAskL,cAAM,CAACE,UAAP,CAAkBtiL,IAAlB;AACA,OAPD;AAUA8iE,kBAAY,CAACt3E,MAAD,EAAS,WAAT,CAAZ,CAAkCqc,IAAlC,CAAuC,MAAM8B,UAAU,CAAC,MAAM;AAC7D,YAAI,CAAC8mD,IAAI,CAACkwE,KAAL,CAAW9xI,MAAhB,EAAwB2Y,MAAM,CAAC,IAAIjc,KAAJ,CAAU,mBAAV,CAAD,CAAN;AACxB,OAFsD,CAAvD;AAGAklE,UAAI,CAACj7C,KAAL;AACA,KAlBM,CAAP;AAmBA;;AAEDusK,OAAK,CAACz1K,IAAD,EAA8B;AAClC,UAAMi2K,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACl2K,IAAD,CAAT,EAAiB;AAAEvf,UAAI,EAAE;AAAR,KAAjB,CAAb;AAEA,UAAM0jE,IAAI,GAAGplE,QAAQ,CAACqC,aAAT,CAAuB,GAAvB,CAAb;AACA+iE,QAAI,CAAChxD,IAAL,GAAYmzD,GAAG,CAACC,eAAJ,CAAoB0vH,IAApB,CAAZ;AACA,UAAM9pJ,IAAI,GAAG,IAAI5kC,IAAJ,EAAb;AACA48D,QAAI,CAACmgB,QAAL,GAAiB,OAAMn4C,IAAI,CAACgqJ,cAAL,EAAsB,IAAGhqJ,IAAI,CAACuB,QAAL,KAAkB,CAAE,IAAGvB,IAAI,CAACyB,OAAL,EAAe,IAAGjpC,IAAI,CAACwrB,KAAL,CAAWgc,IAAI,CAACkD,OAAL,KAAiB,IAA5B,CAAkC,IAAGyrG,gBAAA,CAAiBj2I,OAAjB,CAAyB,KAAzB,EAAgC,GAAhC,CAAqC,YAAnK;AACAqkB,SAAK,CAACi7C,IAAD,CAAL;AACA,WAAOuS,OAAO,CAACz7D,OAAR,EAAP;AACA;;AApCiC;AAAtB26K,S,CACLrpL,G,GAAM,M;AADDqpL,S,CAELv0L,I,GAAO,+B;AAFFu0L,S,CAGLF,gB,GAAmB,K;;ACP3B;AACA;AACA;AAEA,MAAMU,IAAI,GAAG,kBAAb;AACA,MAAMC,MAAM,GAAG,eAAf;AAEO,MAAMC,uBAAN,SAA0Bd,QAA1B,CAAmC;AAAA;AAAA;AAAA,SAKzCe,WALyC;AAAA;;AAOzC,QAAMr0L,IAAN,CAAW;AAAEs0L;AAAF,GAAX,EAAsD;AACrD,SAAKD,WAAL,GAAmB,MAAMrtG,cAAc,CAAC;AACvC7L,YAAM,EAAG,2DAA0Dm5G,eAAgB,EAD5C;AAEvCrtG,cAAQ,EAAE,0EAF6B;AAGvCC,WAAK,EAAE,+CAHgC;AAIvCP,iBAAW,EAAkJ,CAAC,2CAAD,EAA8C,8CAA9C;AAJtH,KAAD,EAKpC,MAAM3qE,OAAN,IAAiB;AACnB,YAAM65G,qBAAK,CAAC7zF,IAAN,CAAY;;SAEZhmB,OAAQ;IAFR,EAGH;AAAEkM,kBAAU,EAAE;AAAd,OAHG,CAAN;AAIA,KAVsC,CAAvC;AAYA,WAAO,IAAP;AACA;;AAED,QAAMqsK,eAAN,GAAwB;AACvB,UAAM;AAAEpiD,WAAK,EAAE,CAAC3gI,IAAD;AAAT,QAAoB,MAAMwtB,IAAI,CAAC;AACpC9lB,YAAM,EAAE,KAD4B;AAEpCklB,SAAG,EAAE,+CAF+B;AAGpCyjD,WAAK,EAAE;AAAEiZ,cAAM,EAAE,WAAV;AAAuB71C,SAAC,EAAG,SAAQivI,IAAK,GAAxC;AAA4CM,cAAM,EAAEL;AAApD,OAH6B;AAIpCxzJ,aAAO,EAAE;AAAE4yG,qBAAa,EAAG,UAAS,KAAK8gD,WAAY;AAA5C,OAJ2B;AAKpC91L,UAAI,EAAE;AAL8B,KAAD,CAApC;AAOA,WAAOiT,IAAP;AACA;;AAED,QAAMijL,eAAN,GAAwB;AACvB,UAAMC,YAAY,GAAG,MAAM,KAAKH,eAAL,EAA3B;AACA,QAAIG,YAAJ,EAAkB,OAAOA,YAAP;AAGlB,WAAO11J,IAAI,CAAC;AACX9lB,YAAM,EAAE,MADG;AAEXklB,SAAG,EAAE,+CAFM;AAGXyjD,WAAK,EAAE;AAAEiZ,cAAM,EAAE;AAAV,OAHI;AAIXh9E,UAAI,EAAEQ,IAAI,CAACslE,SAAL,CAAe;AAAE9hF,YAAI,EAAEoyL,IAAR;AAAcn9K,eAAO,EAAE,CAACo9K,MAAD;AAAvB,OAAf,CAJK;AAKXxzJ,aAAO,EAAE;AAAE,wBAAgB,kBAAlB;AAAsC4yG,qBAAa,EAAG,UAAS,KAAK8gD,WAAY;AAAhF,OALE;AAMX91L,UAAI,EAAE;AANK,KAAD,CAAX;AAQA;;AAED,QAAMkoH,IAAN,GAAa;AACZ,UAAMj1G,IAAI,GAAG,MAAM,KAAK+iL,eAAL,EAAnB;AACA,QAAI,CAAC/iL,IAAL,EAAW,MAAM,IAAIzU,KAAJ,CAAU,wBAAV,CAAN;AACX,WAAOiiC,IAAI,CAAC;AACX9lB,YAAM,EAAE,KADG;AAEXklB,SAAG,EAAG,iDAAgD5sB,IAAI,CAAChI,EAAG,EAFnD;AAGXq4E,WAAK,EAAE;AAAE8W,WAAG,EAAE;AAAP,OAHI;AAIXh4D,aAAO,EAAE;AAAE,wBAAgB,kBAAlB;AAAsC4yG,qBAAa,EAAG,UAAS,KAAK8gD,WAAY;AAAhF;AAJE,KAAD,CAAX;AAMA;;AAED,QAAMd,KAAN,CAAYz1K,IAAZ,EAA0B;AACzB,UAAM;AAAEtU;AAAF,QAAS,MAAM,KAAKirL,eAAL,EAArB;AACA,UAAMz1J,IAAI,CAAC;AACV9lB,YAAM,EAAE,OADE;AAEVklB,SAAG,EAAG,wDAAuD50B,EAAG,EAFtD;AAGVq4E,WAAK,EAAE;AAAE8yG,kBAAU,EAAE;AAAd,OAHG;AAIV72K,UAJU;AAKV6iB,aAAO,EAAE;AAAE,wBAAgB,kBAAlB;AAAsC4yG,qBAAa,EAAG,UAAS,KAAK8gD,WAAY;AAAhF,OALC;AAMV91L,UAAI,EAAE;AANI,KAAD,CAAV;AAQA;;AAtEwC;AAA7B61L,uB,CACL/pL,G,GAAM,a;AADD+pL,uB,CAELj1L,I,GAAO,c;AAFFi1L,uB,CAGLX,wB,GAA2B,I;;ACVnC;AACA;AACA;AAEA,MAAMS,aAAI,GAAG,kBAAb;AAEO,MAAMU,iBAAN,SAAuBtB,QAAvB,CAAgC;AAAA;AAAA;AAAA,SAKtCe,WALsC;AAAA;;AAOtC,QAAMr0L,IAAN,CAAW,EAAX,EAAqC;AACpC,SAAKq0L,WAAL,GAAmB,MAAMrtG,cAAc,CAAC;AACvC7L,YAAM,EAAE,8CAD+B;AAEvC8L,cAAQ,EAAE,sCAF6B;AAGvCC,WAAK,EAAE,oBAHgC;AAIvCP,iBAAW,EAAgD,CAAC,8CAAD;AAJpB,KAAD,EAKpC,MAAM3qE,OAAN,IAAiB;AACnB,YAAM65G,qBAAK,CAAC7zF,IAAN,CAAY;;SAEZhmB,OAAQ;IAFR,EAGH;AAAEkM,kBAAU,EAAE;AAAd,OAHG,CAAN;AAIA,KAVsC,CAAvC;AAYA,WAAO,IAAP;AACA;;AAED,QAAM2sK,WAAN,GAAoB;AACnB,QAAI;AACH,aAAO,MAAM71J,IAAI,CAAC;AACjB9lB,cAAM,EAAE,KADS;AAEjBklB,WAAG,EAAG,wDAAuD81J,aAAK,EAFjD;AAKjBryG,aAAK,EAAE;AAAEl9E,gBAAM,EAAE;AAAV,SALU;AAMjBg8B,eAAO,EAAE;AAAE4yG,uBAAa,EAAG,UAAS,KAAK8gD,WAAY;AAA5C,SANQ;AAOjB91L,YAAI,EAAE;AAPW,OAAD,CAAjB;AASA,KAVD,CAUE,OAAOqK,CAAP,EAAU;AACX,UAAIA,CAAC,CAACu3B,MAAF,KAAa,GAAjB,EAAsB;AACrB,cAAM,IAAIpjC,KAAJ,CAAU,wBAAV,CAAN;AACA,OAFD,MAEO;AACN,cAAM6L,CAAN;AACA;AACD;AACD;;AAED,QAAM69G,IAAN,GAAa;AACZ,UAAMj1G,IAAI,GAAG,MAAM,KAAKqjL,WAAL,EAAnB;AACA,WAAO71J,IAAI,CAAC;AACX9lB,YAAM,EAAE,KADG;AAEXklB,SAAG,EAAE5sB,IAAI,CAAC,sBAAD;AAFE,KAAD,CAAX;AAIA;;AAED,QAAM+hL,KAAN,CAAYz1K,IAAZ,EAA0B;AACzB,UAAMkhB,IAAI,CAAC;AACV9lB,YAAM,EAAE,KADE;AAEVklB,SAAG,EAAG,wDAAuD81J,aAAK,WAFxD;AAGVp2K,UAHU;AAIV6iB,aAAO,EAAE;AAAE4yG,qBAAa,EAAG,UAAS,KAAK8gD,WAAY;AAA5C,OAJC;AAKV91L,UAAI,EAAE;AALI,KAAD,CAAV;AAOA;;AA3DqC;AAA1Bq2L,iB,CACLvqL,G,GAAM,U;AADDuqL,iB,CAELz1L,I,GAAO,U;AAFFy1L,iB,CAGLnB,wB,GAA2B,I;;ACTnC;AACA;AACA;AAEA,MAAMS,YAAI,GAAG,mBAAb;AAEO,MAAMY,eAAN,SAAsBxB,QAAtB,CAA+B;AAAA;AAAA;AAAA,SAKrCe,WALqC;AAAA;;AAOrC,QAAMr0L,IAAN,CAAW,EAAX,EAAqC;AACpC,SAAKq0L,WAAL,GAAmB,MAAMrtG,cAAc,CAAC;AACvC7L,YAAM,EAAE,0CAD+B;AAEvC8L,cAAQ,EAAE,iBAF6B;AAGvCN,iBAAW,EAAgD,CAAC,0CAAD;AAHpB,KAAD,EAIpC,MAAM3qE,OAAN,IAAiB;AACnB,YAAM65G,qBAAK,CAAC7zF,IAAN,CAAY;;SAEZhmB,OAAQ;IAFR,EAGH;AAAEkM,kBAAU,EAAE;AAAd,OAHG,CAAN;AAIA,KATsC,CAAvC;AAWA,WAAO,IAAP;AACA;;AAED,QAAMu+F,IAAN,GAAa;AACZ,QAAI;AACH,aAAO,MAAMznF,IAAI,CAAC;AACjB9lB,cAAM,EAAE,MADS;AAEjBklB,WAAG,EAAE,iDAFY;AAGjByjD,aAAK,EAAE;AAAE/9E,aAAG,EAAEwa,IAAI,CAACslE,SAAL,CAAe;AAAEvyC,gBAAI,EAAE6iJ,YAAIA;AAAZ,WAAf;AAAP,SAHU;AAIjBvzJ,eAAO,EAAE;AAAE4yG,uBAAa,EAAG,UAAS,KAAK8gD,WAAY;AAA5C;AAJQ,OAAD,CAAjB;AAMA,KAPD,CAOE,OAAOzrL,CAAP,EAAU;AACX,UAAIA,CAAC,CAACu3B,MAAF,KAAa,GAAjB,EAAsB;AACrB,cAAM,IAAIpjC,KAAJ,CAAU,wBAAV,CAAN;AACA,OAFD,MAEO;AACN,cAAM6L,CAAN;AACA;AACD;AACD;;AAED,QAAM2qL,KAAN,CAAYz1K,IAAZ,EAA0B;AACzB,UAAMkhB,IAAI,CAAC;AACV9lB,YAAM,EAAE,MADE;AAEVklB,SAAG,EAAE,+CAFK;AAGVyjD,WAAK,EAAE;AAAE/9E,WAAG,EAAEwa,IAAI,CAACslE,SAAL,CAAe;AAAEvyC,cAAI,EAAE6iJ,YAAR;AAAca,cAAI,EAAE,WAApB;AAAiCC,cAAI,EAAE;AAAvC,SAAf;AAAP,OAHG;AAIVl3K,UAJU;AAKV6iB,aAAO,EAAE;AAAE,wBAAgB,0BAAlB;AAA8C4yG,qBAAa,EAAG,UAAS,KAAK8gD,WAAY;AAAxF,OALC;AAMV91L,UAAI,EAAE;AANI,KAAD,CAAV;AAQA;;AAhDoC;AAAzBu2L,e,CACLzqL,G,GAAM,S;AADDyqL,e,CAEL31L,I,GAAO,S;AAFF21L,e,CAGLrB,wB,GAA2B,I;;ACTnC;AACA;AACA;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAM92L,uBAAiB,GAAG,IAAIirH,MAAJ,CAAW,kBAAX,CAA1B;AAEPjrH,uBAAM,CAACkrH,UAAP,GAAoB,YAApB;AACAlrH,uBAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,uBAAM,CAAC+E,IAAP,GAAc,CAAC,CAAf;AACA/E,uBAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AACA7rH,uBAAM,CAAC4jG,WAAP,GAAqB,YAArB;AAEA5jG,uBAAM,CAACkF,OAAP,GAAiB;AAChBuvL,QAAM,EAAE;AACP7yL,QAAI,EAAE,QADC;AAEP2iB,UAAM,EAAE9jB,MAAM,CAAC8jB,MAAP,CAAc+zK,yBAAd,EAAyBj0L,GAAzB,CAA6BgyB,CAAC,KAAK;AAC1C7zB,UAAI,EAAE6zB,CAAC,CAAC7zB,IADkC;AAE1C4B,cAAQ,EAAE,MAAMm0L,WAAW,CAACliK,CAAD,CAAX,CAAe3Z,IAAf,CAAoB+3K,MAApB;AAF0B,KAAL,CAA9B,CAFD;AAMP7wF,eAAW,EAAE,4BANN;AAOPtQ,SAAK,EAAE;AAPA,GADQ;AAUhBklG,SAAO,EAAE;AACR52L,QAAI,EAAE,QADE;AAER2iB,UAAM,EAAE9jB,MAAM,CAAC8jB,MAAP,CAAc+zK,yBAAd,EAAyBj0L,GAAzB,CAA6BgyB,CAAC,KAAK;AAC1C7zB,UAAI,EAAE6zB,CAAC,CAAC7zB,IADkC;AAE1C4B,cAAQ,EAAE,MAAMm0L,WAAW,CAACliK,CAAD,CAAX,CAAe3Z,IAAf,CAAoB87K,OAApB;AAF0B,KAAL,CAA9B,CAFA;AAMR50F,eAAW,EAAE,6BANL;AAORtQ,SAAK,EAAE;AAPC,GAVO;AAmBhBmlG,eAAa,EAAE;AACd72L,QAAI,EAAE,MADQ;AAEdwF,SAAK,EAAE,MAFO;AAGdmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,mCADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,mCADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,mCADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,CAHM;AAadw8F,eAAW,EAAE,mCAbC;AAcdtQ,SAAK,EAAE;AAdO,GAnBC;AAmChBolG,kBAAgB,EAAE;AACjB92L,QAAI,EAAE,MADW;AAEjBwF,SAAK,EAAE,MAFU;AAGjBmd,UAAM,EAAE,CACP;AACCpf,UAAI,EAAE,sCADP;AAECiC,WAAK,EAAE;AAFR,KADO,EAKP,GAAG3G,MAAM,CAAC8jB,MAAP,CAAc+zK,yBAAd,EACDzoL,MADC,CACMwmB,CAAC,IAAIA,CAAC,CAACygK,wBADb,EAEDzyL,GAFC,CAEGgyB,CAAC,KAAK;AACVlxB,UAAI,EAAEkxB,CAAC,CAAC7zB,IADE;AAEV4E,WAAK,EAAEivB,CAAC,CAAC3oB;AAFC,KAAL,CAFJ,CALI,CAHS;AAejBk2F,eAAW,EAAE,sCAfI;AAgBjBtQ,SAAK,EAAE,uCAhBU;;AAiBjB2E,YAAQ,GAAG;AAEV0gG,sBAAgB,CAACz3K,GAAjB,CAAqB,CAArB;AACA03K,yBAAmB;AACnB;;AArBgB,GAnCF;AA0DhBC,4BAA0B,EAAE;AAC3Bj3L,QAAI,EAAE,SADqB;AAE3BwF,SAAK,EAAE,IAFoB;AAG3Bw8F,eAAW,EAAE,gDAHc;AAI3BtQ,SAAK,EAAE,iDAJoB;AAK3BguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACwzL,gBAAR,CAAyBtxL,KAAzB,KAAmC;AAL9B,GA1DZ;AAiEhB0xL,eAAa,EAAE;AACdl3L,QAAI,EAAE,MADQ;AAEdwF,SAAK,EAAE,EAFO;AAGdw8F,eAAW,EAAE,mCAHC;AAIdtQ,SAAK,EAAE,oCAJO;AAKd2mC,YAAQ,EAAE;AALI;AAjEC,CAAjB;;AA0EAj6H,uBAAM,CAACgsH,SAAP,GAAmB,YAAY;AAC9B,QAAM4sE,mBAAmB,EAAzB;AACA,CAFD;;AAIA,SAASL,WAAT,CAAqBQ,aAArB,EAAoC;AACnC,SAAO,IAAIA,aAAJ,GAAoB11L,IAApB,CAAyB;AAC/Bs0L,mBAAe,EAAE33L,uBAAM,CAACkF,OAAP,CAAe4zL,aAAf,CAA6B1xL;AADf,GAAzB,CAAP;AAGA;;AAED,MAAM4xL,mBAAmB,GAAGh6F,uBAAO,CAAClR,UAAR,CAAmB,sBAAnB,EAA2C,MAAO,CAAlD,CAA5B;AACA,MAAM6qG,gBAAgB,GAAG35F,uBAAO,CAAC/4E,IAAR,CAAa,kBAAb,EAAkC,CAAlC,CAAzB;;AAEA,eAAe2yK,mBAAf,GAAqC;AACpC,QAAMK,oBAAoB,GAAGj5L,uBAAM,CAACkF,OAAP,CAAewzL,gBAAf,CAAgCtxL,KAA7D;AACA,MAAI6xL,oBAAoB,KAAK,MAA7B,EAAqC;AAErC,QAAMF,aAAa,GAAGt4L,MAAM,CAAC8jB,MAAP,CAAc+zK,yBAAd,EAAyBvoL,IAAzB,CAA8BsmB,CAAC,IAAIA,CAAC,CAAC3oB,GAAF,KAAUurL,oBAA7C,CAAtB;AACA,MAAI,CAACF,aAAL,EAAoB,MAAM,IAAI34L,KAAJ,CAAW,gCAA+B64L,oBAAqB,EAA/D,CAAN;AAEpB,QAAM9tK,GAAG,GAAGziB,IAAI,CAACyiB,GAAL,EAAZ;AACA,QAAMooK,SAAS,GAAG,MAAMoF,gBAAgB,CAAC/0L,GAAjB,EAAxB;AACA,MAAKunB,GAAG,GAAGooK,SAAP,GAAqB,KAAKv8G,MAA9B,EAAuC;AAGvC,MAAI,EAAC,MAAM2hH,gBAAgB,CAACpsG,aAAjB,CAA+BgnG,SAA/B,EAA0CpoK,GAA1C,CAAP,CAAJ,EAA2D;AAI3D,QAAM+tK,QAAQ,GAAG,MAAMX,WAAW,CAACQ,aAAD,CAAlC;AAMA,MAAII,YAAJ;;AACA,QAAMC,eAAe,GAAGJ,mBAAmB,CAACvrG,OAApB,CAA4BsrG,aAAa,CAACrrL,GAA1C,CAAxB;;AACA,MAAI;AACHyrL,gBAAY,GAAG1C,WAAW,EAAC,MAAMyC,QAAQ,CAACpvE,IAAT,EAAP,EAA1B;AACA,GAFD,CAEE,OAAO79G,CAAP,EAAU;AACXkT,WAAO,CAACC,IAAR,CAAa,kCAAb,EAAiDnT,CAAjD;AACAktL,gBAAY,GAAG;AAAE,OAACC,eAAD,GAAmB;AAArB,KAAf;AACA;;AAID,MAAKD,YAAY,CAACC,eAAD,CAAb,IAAuC,MAAMJ,mBAAmB,CAACp1L,GAApB,CAAwBm1L,aAAa,CAACrrL,GAAtC,CAA7C,CAAJ,EAA6F;AAG5F,UAAM8qL,OAAO,CAACU,QAAD,EAAWl5L,uBAAM,CAACkF,OAAP,CAAe2zL,0BAAf,CAA0CzxL,KAA1C,GAAkD,WAAlD,GAAgE,MAA3E,CAAb;AACA,GAJD,MAIO;AACN,UAAMqtL,MAAM,CAACyE,QAAD,CAAZ;AACA;AACD;;AAED,eAAezE,MAAf,CAAsByE,QAAtB,EAAgC;AAC/B,QAAM;AAAExrL,OAAF;AAAOlL,QAAP;AAAaq0L;AAAb,MAAkCqC,QAAQ,CAACz1L,WAAjD;AAYA,QAAMu1L,mBAAmB,CAAC93K,GAApB,CAAwBxT,GAAxB,EAA6BhF,IAAI,CAACyiB,GAAL,EAA7B,CAAN;AACA,QAAMwgE,OAAO,GAAG,MAAMqT,uBAAO,CAACt5E,MAAR,EAAtB;AACA,QAAMwzK,QAAQ,CAACtC,KAAT,CAAel4J,SAAS,CAACitD,OAAD,CAAxB,CAAN;;AAEA,MAAIkrG,gBAAJ,EAAsB;AACrBr4D,kCAAA,CAA+B;AAC9Bn/G,aAAO,EAAE8nE,IAAI,CAAC,mCAAD,EAAsC3kF,IAAtC,CADiB;AAE9Bg6H,oBAAc,EAAE,uBAFc;AAG9B7U,cAAQ,EAAE3nH,uBAAM,CAAC2nH,QAHa;AAI9BoU,gBAAU,EAAE;AAJkB,KAA/B;AAMA;AACD;;AAED,eAAey8D,OAAf,CAAuBU,QAAvB,EAAiCG,SAA0C,GAAG,QAA9E,EAAwF;AACvF,QAAM;AAAE3rL,OAAF;AAAOvI;AAAP,MAAgB+zL,QAAQ,CAACz1L,WAA/B;AACA,QAAM0d,IAAI,GAAG,MAAM+3K,QAAQ,CAACpvE,IAAT,EAAnB;AACA,QAAMn+B,OAAO,GAAG8qG,WAAW,CAACt1K,IAAD,CAA3B;AAEA,QAAMm4K,WAAW,GAAGD,SAAS,KAAK,WAAlC;;AAEA,MAAIA,SAAS,KAAK,MAAlB,EAA0B;AACzB,UAAMD,eAAe,GAAGJ,mBAAmB,CAACvrG,OAApB,CAA4B//E,GAA5B,CAAxB;;AACA,UAAM6rL,UAAyB,GAAI5tG,OAAO,CAACytG,eAAD,CAA1C;AACA,QAAIplJ,IAAJ;;AACA,QAAI;AAEHA,UAAI,GAAI,IAAI6nB,IAAI,CAAC29H,YAAT,CAAsBtrJ,WAAtB,EAA8B;AAAEhrB,aAAK,EAAE,MAAT;AAAiBa,YAAI,EAAE,MAAvB;AAA+B01K,gBAAQ,EAAE,SAAzC;AAAoDC,mBAAW,EAAE;AAAjE,OAA9B,CAAD,CAA6GtsJ,MAA7G,CAAoHjsB,IAAI,CAACzd,MAAzH,CAAP;AACA,KAHD,CAGE,OAAOuI,CAAP,EAAU;AACX+nC,UAAI,GAAI,GAAE7yB,IAAI,CAACzd,MAAL,GAAc,GAAI,KAA5B;AACA;;AACD,QAAI;AACH,YAAMw1H,qBAAK,CAAC7zF,IAAN,CAAY;KAChBi0J,WAAW,GAAI;YACRnyG,IAAI,CAAC,6BAAD,EAAgChiF,IAAhC,CAAsC;;IADtC,GAGT,EAAG;QACFgiF,IAAI,CAAC,wCAAD,CAA2C;;KAElDmyG,WAAW,GAAI;SACXnyG,IAAI,CAAC,6BAAD,CAAgC;;IAD7B,GAGT,EAAG;KACLoyG,UAAU,GAAI;SACVpyG,IAAI,CAAC,4BAAD,EAA+B4V,cAAc,CAAC,IAAIr0F,IAAJ,CAAS6wL,UAAT,CAAD,CAA7C,CAAqE;IADnE,GAER,EAAG;QACFpyG,IAAI,CAAC,4BAAD,EAA+BnzC,IAA/B,CAAqC;GAdxC,EAeJ;AAAEzoB,kBAAU,EAAE;AAAd,OAfI,CAAN;AAgBA,KAjBD,CAiBE,OAAOtf,CAAP,EAAU;AACX,UAAIqtL,WAAJ,EAAiB;AAChBh/D,+BAAA,CAAwBt6H,uBAAM,CAAC2nH,QAA/B,EAAyC,kBAAzC;AACA;;AACD;AACA;AACD;;AASD,QAAM3oB,uBAAO,CAAC3S,WAAR,CAAoBV,OAApB,CAAN;AAIA,QAAMgtG,gBAAgB,CAACz3K,GAAjB,CAAqBxY,IAAI,CAACyiB,GAAL,EAArB,CAAN;AAGA,QAAMy4D,WAAW,CAAC,eAAD,CAAjB;AAEA+1G,aAAW,CAAC35L,uBAAM,CAACkF,OAAP,CAAeuzL,aAAf,CAA6BrxL,KAA9B,CAAX;AAEA,QAAM8xH,qBAAK,CAAC7zF,IAAN,CAAW8hD,IAAI,CAAC,0BAAD,CAAf,CAAN;AACAwyG,aAAW,CAAC5uG,KAAZ,CAAkB,MAAlB;AACA;;AAED,MAAM4uG,WAAW,GAAG7uG,SAAS,CAACZ,SAAS,IAAI;AAC1C,UAAQA,SAAR;AACC,SAAK,MAAL;AACCgvC,2BAAK,CAAC7zF,IAAN,CAAW8hD,IAAI,CAAC,mCAAD,CAAf,EAAsD;AAAE57D,kBAAU,EAAE;AAAd,OAAtD,EACE7O,IADF,CACO,MAAMvI,QAAQ,CAAC0iJ,MAAT,EADb,EACgC,MAAM,CAAE,CADxC;AAEA;;AACD,SAAK,MAAL;AACC1iJ,cAAQ,CAAC0iJ,MAAT;AACA;;AACD,SAAK,MAAL;AACA;AACC;AAVF;AAYA,CAb4B,EAa1B;AAAE1xJ,MAAI,EAAE,0BAAR;AAAoC4lF,OAAK,EAAE;AAA3C,CAb0B,CAA7B,C;;;;;AC7OA;AAEA;AACA;AAsBA;AAEA;AACA;AAEO,MAAM/qF,uBAAiB,GAAG,IAAIirH,MAAJ,CAAW,kBAAX,CAA1B;AAEPjrH,uBAAM,CAACkrH,UAAP,GAAoB,kBAApB;AACAlrH,uBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,uBAAM,CAAC4jG,WAAP,GAAqB,kBAArB;AACA5jG,uBAAM,CAACurH,OAAP,GAAiB,CAAC,IAAD,CAAjB;AACAvrH,uBAAM,CAACsrH,SAAP,GAAmB,IAAnB;AACAtrH,uBAAM,CAACkF,OAAP,GAAiB;AAChB00L,mBAAiB,EAAE;AAClBtmG,SAAK,EAAE,wCADW;AAElB1xF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,IAHW;AAIlBw8F,eAAW,EAAE;AAJK,GADH;AAOhBi2F,qBAAmB,EAAE;AACpBvmG,SAAK,EAAE,0CADa;AAEpB1xF,QAAI,EAAE,SAFc;AAGpBwF,SAAK,EAAE,IAHa;AAIpBw8F,eAAW,EAAE;AAJO,GAPL;AAahBk2F,0BAAwB,EAAE;AACzBxmG,SAAK,EAAE,+CADkB;AAEzB1xF,QAAI,EAAE,SAFmB;AAGzBwF,SAAK,EAAE,KAHkB;AAIzBw8F,eAAW,EAAE;AAJY,GAbV;AAmBhBm2F,oBAAkB,EAAE;AACnBzmG,SAAK,EAAE,yCADY;AAEnB1xF,QAAI,EAAE,SAFa;AAGnBwF,SAAK,EAAE,IAHY;AAInBw8F,eAAW,EAAE;AAJM,GAnBJ;AAyBhBo2F,uBAAqB,EAAE;AACtB1mG,SAAK,EAAE,4CADe;AAEtB1xF,QAAI,EAAE,MAFgB;AAGtBwF,SAAK,EAAE,KAHe;AAItBw8F,eAAW,EAAE;AAJS,GAzBP;AA+BhBq2F,2BAAyB,EAAE;AAC1B3mG,SAAK,EAAE,gDADmB;AAE1BguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC60L,kBAAR,CAA2B3yL,KAFvB;AAG1BxF,QAAI,EAAE,MAHoB;AAI1BwF,SAAK,EAAE,MAJmB;AAK1Bw8F,eAAW,EAAE;AALa,GA/BX;AAsChBs2F,gBAAc,EAAE;AACf5mG,SAAK,EAAE,qCADQ;AAEf1xF,QAAI,EAAE,SAFS;AAGfwF,SAAK,EAAE,KAHQ;AAIfw8F,eAAW,EAAE,oCAJE;AAKf0nB,aAAS,EAAE;AALI,GAtCA;AA6ChB6uE,eAAa,EAAE;AACd7mG,SAAK,EAAE,oCADO;AAEd1xF,QAAI,EAAE,SAFQ;AAGdwF,SAAK,EAAE,IAHO;AAIdw8F,eAAW,EAAE;AAJC,GA7CC;AAmDhBw2F,SAAO,EAAE;AACR9mG,SAAK,EAAE,8BADC;AAER1xF,QAAI,EAAE,SAFE;AAGRwF,SAAK,EAAE,IAHC;AAIRw8F,eAAW,EAAE;AAJL,GAnDO;AAyDhBy2F,WAAS,EAAE;AACV/mG,SAAK,EAAE,gCADG;AAEV1xF,QAAI,EAAE,SAFI;AAGVwF,SAAK,EAAE,IAHG;AAIVw8F,eAAW,EAAE;AAJH,GAzDK;AA+DhB02F,aAAW,EAAE;AACZhnG,SAAK,EAAE,kCADK;AAEZ1xF,QAAI,EAAE,SAFM;AAGZwF,SAAK,EAAE,IAHK;AAIZw8F,eAAW,EAAE;AAJD,GA/DG;AAqEhB22F,kBAAgB,EAAE;AACjBjnG,SAAK,EAAE,uCADU;AAEjB1xF,QAAI,EAAE,SAFW;AAGjBwF,SAAK,EAAE,IAHU;AAIjBw8F,eAAW,EAAE;AAJI,GArEF;AA2EhB42F,YAAU,EAAE;AACXlnG,SAAK,EAAE,iCADI;AAEX1xF,QAAI,EAAE,SAFK;AAGXwF,SAAK,EAAE,IAHI;AAIXw8F,eAAW,EAAE;AAJF,GA3EI;AAiFhB62F,cAAY,EAAE;AACbnnG,SAAK,EAAE,mCADM;AAEb1xF,QAAI,EAAE,SAFO;AAGbwF,SAAK,EAAE,IAHM;AAIbw8F,eAAW,EAAE;AAJA,GAjFE;AAuFhB82F,cAAY,EAAE;AACbpnG,SAAK,EAAE,mCADM;AAEb1xF,QAAI,EAAE,SAFO;AAGbwF,SAAK,EAAE,KAHM;AAIbw8F,eAAW,EAAE;AAJA,GAvFE;AA6FhB+2F,WAAS,EAAE;AACVrnG,SAAK,EAAE,gCADG;AAEV1xF,QAAI,EAAE,SAFI;AAGVwF,SAAK,EAAE,IAHG;AAIVw8F,eAAW,EAAE;AAJH,GA7FK;AAmGhBg3F,aAAW,EAAE;AACZtnG,SAAK,EAAE,kCADK;AAEZ1xF,QAAI,EAAE,SAFM;AAGZwF,SAAK,EAAE,IAHK;AAIZw8F,eAAW,EAAE;AAJD,GAnGG;AAyGhBi3F,SAAO,EAAE;AACRvnG,SAAK,EAAE,8BADC;AAER1xF,QAAI,EAAE,SAFE;AAGRwF,SAAK,EAAE,IAHC;AAIRw8F,eAAW,EAAE;AAJL,GAzGO;AA+GhBk3F,cAAY,EAAE;AACbxnG,SAAK,EAAE,mCADM;AAEb1xF,QAAI,EAAE,SAFO;AAGbwF,SAAK,EAAE,IAHM;AAIbw8F,eAAW,EAAE;AAJA,GA/GE;AAqHhBm3F,WAAS,EAAE;AACVznG,SAAK,EAAE,gCADG;AAEV1xF,QAAI,EAAE,SAFI;AAGVwF,SAAK,EAAE,IAHG;AAIVw8F,eAAW,EAAE;AAJH,GArHK;AA2HhBo3F,YAAU,EAAE;AACX1nG,SAAK,EAAE,iCADI;AAEX1xF,QAAI,EAAE,SAFK;AAGXwF,SAAK,EAAE,IAHI;AAIXw8F,eAAW,EAAE;AAJF,GA3HI;AAiIhBq3F,YAAU,EAAE;AACX3nG,SAAK,EAAE,iCADI;AAEX1xF,QAAI,EAAE,SAFK;AAGXwF,SAAK,EAAE,IAHI;AAIXw8F,eAAW,EAAE;AAJF,GAjII;AAuIhBs3F,qBAAmB,EAAE;AACpB5nG,SAAK,EAAE,0CADa;AAEpB1xF,QAAI,EAAE,SAFc;AAGpBwF,SAAK,EAAE,IAHa;AAIpBw8F,eAAW,EAAE,yCAJO;AAKpBq2B,YAAQ,EAAE;AALU,GAvIL;AA8IhBkhE,8BAA4B,EAAE;AAC7B7nG,SAAK,EAAE,mDADsB;AAE7BguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACg2L,mBAAR,CAA4B9zL,KAFrB;AAG7BxF,QAAI,EAAE,SAHuB;AAI7BwF,SAAK,EAAE,KAJsB;AAK7Bw8F,eAAW,EAAE,kDALgB;AAM7Bq2B,YAAQ,EAAE;AANmB,GA9Id;AAsJhBmhE,gBAAc,EAAE;AACf9nG,SAAK,EAAE,qCADQ;AAEf1xF,QAAI,EAAE,SAFS;AAGfwF,SAAK,EAAE,IAHQ;AAIfw8F,eAAW,EAAE,oCAJE;AAKfq2B,YAAQ,EAAE;AALK,GAtJA;AA6JhBohE,oBAAkB,EAAE;AACnB/nG,SAAK,EAAE,yCADY;AAEnB1xF,QAAI,EAAE,SAFa;AAGnBwF,SAAK,EAAE,IAHY;AAInBw8F,eAAW,EAAE;AAJM;AA7JJ,CAAjB;AAqKA,IAAI03F,kBAAJ,EAAwBC,uBAAxB,EAAiDC,wBAAjD,EAA2EC,6BAA3E,EACCC,mBADD,EACsBC,YADtB;AAGA,IAAIC,oBAAoB,GAAG,EAA3B;AAEA,MAAMC,2BAA2B,GAAG78F,uBAAO,CAAC/4E,IAAR,CAAa,MAAO,oDAAmD47D,YAAY,MAAM,MAAO,EAAhG,EAAoG,EAApG,CAApC;AAIA,MAAMi6G,yBAAyB,GAAG98F,uBAAO,CAAC/4E,IAAR,CAAa,MAAM;AACpD,QAAMqf,QAAQ,GAAGtlC,uBAAM,CAACkF,OAAP,CAAe20L,mBAAf,CAAmCzyL,KAAnC,GAA2Cy6E,YAAY,EAAvD,GAA4D,IAA7E;AACA,SAAQ,kDAAiDv8C,QAAQ,IAAI,MAAO,EAA5E;AACA,CAHiC,EAG9B,EAH8B,CAAlC;;AASA,MAAMy2J,aAAa,GAAG,YAAY;AAAEH,sBAAoB,GAAG,MAAME,yBAAyB,CAACl4L,GAA1B,EAA7B;AAA+D,CAAnG;;AAGA,MAAMo4L,oBAAoB,GAAG,sBAAO,MAAMljG,0BAAU,CAACX,gBAAX,CAA4Bz7E,IAA5B,CAAiCq/K,aAAjC,CAAb,CAA7B;;AAEA/7L,uBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzBnzC,mBAAiB,CAAC14E,QAAQ,CAACgP,eAAV,EAA2B,iBAA3B,CAAjB,CAA+DwN,IAA/D,CAAoEu/K,kBAApE;AACA,CAFD;;AAIAj8L,uBAAM,CAACijF,YAAP,GAAsB,YAAY;AACjCi5G,6BAA2B;AAE3B,QAAMF,oBAAoB,EAA1B;AAEA57F,gBAAc,CAAC,CAAC,WAAD,CAAD,EAAgBjQ,KAAK,IAAI;AACtC,UAAMgsG,YAAY,GAAGhsG,KAAK,CAACqC,eAAN,EAArB;AACA,UAAMjiE,SAAS,GAAG4/D,KAAK,CAACj7C,OAAN,CAAc2jC,aAAd,CAA4B,SAA5B,CAAlB;AACA,QAAI,CAACsjH,YAAD,IAAiB,CAAC5rK,SAAtB,EAAiC;AACjC,UAAM,GAAG6tD,SAAH,IAAgBd,OAAO,CAACc,SAAR,CAAkBzxE,IAAlB,CAAuBwvL,YAAY,CAAC98G,QAApC,KAAiD,EAAvE;AACA,QAAI,CAACjB,SAAL,EAAgB;AAChB7tD,aAAS,CAACnB,MAAV,CAAiBgtK,0BAA0B,CAACh+G,SAAD,CAA3C;AACA,GAPa,CAAd;AAQA,CAbD;;AAeAp+E,uBAAM,CAACgsH,SAAP,GAAmB,MAAM;AACxB,MAAIhsH,uBAAM,CAACkF,OAAP,CAAe+1L,UAAf,CAA0B7zL,KAA1B,IAAmClH,QAAQ,CAAC6M,sBAAT,CAAgC,iBAAhC,EAAmDrJ,MAA1F,EAAkG;AACjGu3L,+BAAU;AACV;;AAED,QAAM78G,SAAS,GAAGqB,gBAAgB,EAAlC;;AACA,MAAIrB,SAAJ,EAAe;AACdrnD,yBAAqB,CAAC,MAAM;AAAEslK,qBAAe,CAACj+G,SAAD,CAAf;AAA6B,KAAtC,CAArB;AACA;AACD,CATD;;AAWA,SAAS89G,2BAAT,GAAuC;AAEtC,QAAM99G,SAAS,GAAGqB,gBAAgB,EAAlC;;AACA,MAAIrB,SAAS,IAAIp+E,uBAAM,CAACkF,OAAP,CAAe00L,iBAAf,CAAiCxyL,KAAlD,EAAyD;AACxD,UAAMk1L,UAAU,GAAGp8L,QAAQ,CAACmN,gBAAT,CAA0B,4BAA1B,CAAnB;;AACA,SAAK,MAAMkvL,SAAX,IAAwBD,UAAxB,EAAoC;AACnC,UAAIE,qBAAJ,EAA2BC,OAA3B;;AACA,UAAI,CAACr+G,SAAS,CAACx8B,QAAV,CAAmB,GAAnB,CAAD,IAA4B,CAAC89B,kBAAkB,CAAC,KAAD,CAAnD,EAA4D;AAC3D88G,6BAAqB,GAAGp+G,SAAxB;AACAq+G,eAAO,GAAG,KAAV;AACA,OAHD,MAGO,IAAIjzJ,gBAAC,CAAC+yJ,SAAD,CAAD,CAAalpL,MAAb,GAAsBupB,QAAtB,CAA+B,YAA/B,CAAJ,EAAkD;AACxD4/J,6BAAqB,GAAGhzJ,gBAAC,CAAC+yJ,SAAD,CAAD,CAAalpL,MAAb,GAAsBA,MAAtB,GAA+BtD,IAA/B,CAAoC,SAApC,EAA+CvN,IAA/C,EAAxB;AACAi6L,eAAO,GAAG,IAAV;AACA,OAHM,MAGA;AACND,6BAAqB,GAAGhzJ,gBAAC,CAAC+yJ,SAAD,CAAD,CAAaxwL,IAAb,GAAoBvJ,IAApB,EAAxB;AACAi6L,eAAO,GAAG,IAAV;AACA;;AACD,UAAIjzJ,gBAAC,CAAE,eAAcgzJ,qBAAsB,EAAtC,CAAD,CAA0C94L,MAA1C,KAAqD,CAAzD,EAA4D;AAC3D,cAAMg5L,kBAAkB,GAAGlzJ,gBAAC,CAAE,uBAAsBgzJ,qBAAsB,6BAA9C,CAA5B;AACAhzJ,wBAAC,CAAC+yJ,SAAD,CAAD,CAAat2K,IAAb,CAAkBy2K,kBAAlB;AACAC,sBAAc,CAACH,qBAAD,CAAd,CAAsC9/K,IAAtC,CAA2CkgL,UAAU,IAAI;AACxDpzJ,0BAAC,CAAC+yJ,SAAD,CAAD,CAAantK,MAAb,CAAoBwtK,UAApB;AACA,SAFD;;AAIA,YAAIH,OAAJ,EAAa;AACZ,gBAAMI,OAAO,GAAGrzJ,gBAAC,CAAC+yJ,SAAD,CAAD,CAAalpL,MAAb,EAAhB;AACAm2B,0BAAC,CAACqzJ,OAAD,CAAD,CAAWltK,QAAX,CAAoB6Z,gBAAC,CAACqzJ,OAAD,CAAD,CAAWxpL,MAAX,EAApB;AACA;AACD;;AACDkpL,eAAS,CAAChtL,gBAAV,CAA2B,OAA3B,EAAoC,MAAM;AAEzC8yB,YAAI,CAAC4iD,UAAL,CAAgB;AACfxjD,aAAG,EAAE,uBADU;AAEfyjD,eAAK,EAAE;AACN11D,iBAAK,EAAE,EADD;AAEN0nE,iBAAK,EAAE,GAFD;AAGN4K,gBAAI,EAAEjgB,YAAY;AAHZ;AAFQ,SAAhB;AAQA,OAVD;AAYA,YAAMi7G,WAAW,GAAGtzJ,gBAAC,CAAE,eAAcgzJ,qBAAsB,EAAtC,CAArB;AACA,YAAM5yK,MAAM,GAAGwyK,0BAA0B,CAACh+G,SAAD,CAAzC;AACA49G,0BAAoB,GAAGt/K,IAAvB,CAA4B,MAAMkN,MAAM,CAAC6vD,aAAP,CAAqB,IAAIwoB,WAAJ,CAAgB,SAAhB,CAArB,CAAlC;AACAr4E,YAAM,CAAC82D,SAAP,CAAiBzmE,GAAjB,CAAqB,iBAArB;AACA6iL,iBAAW,CAAC1tK,MAAZ,CAAmBxF,MAAnB;AACA,YAAM4qJ,KAAK,GAAGsoB,WAAW,CAAC/wL,IAAZ,EAAd;;AACA,UAAIyoK,KAAK,CAAC53I,QAAN,CAAe,OAAf,KAA2B,CAACkgK,WAAW,CAAClgK,QAAZ,CAAqB,SAArB,CAAhC,EAAiE;AAChEkgK,mBAAW,CAACvtK,MAAZ,CAAmBilJ,KAAnB;AACAsoB,mBAAW,CAAC5gK,QAAZ,CAAqB,SAArB;AACA;AACD;AACD;AACD;;AAEM,SAASkgK,0BAAT,CAAoCh+G,SAApC,EAAuD;AAC7D,SAAO4Z,6BAAa,CAAC+L,iBAAd,CACN5c,IAAI,CAAC,gCAAD,CADE,EAENA,IAAI,CAAC,0CAAD,CAFE,EAGN,MAAMy0G,oBAAoB,CAAC98G,IAArB,CAA0BsyG,QAAQ,IAAIA,QAAQ,CAAChzG,SAAT,CAAmB32E,WAAnB,OAAqC22E,SAAS,CAAC32E,WAAV,EAA3E,CAHA,EAINqV,KAAK,IAAI;AACR,QAAIA,KAAJ,EAAWigL,oBAAoB,CAAC3+G,SAAD,CAApB,CAAX,KACK4+G,uBAAuB,CAAC5+G,SAAD,CAAvB;AACL6+G,mBAAe;AACf,GARK,CAAP;AAUA;AAED,IAAIC,+BAAJ,EAAqCC,+BAArC;;AAEA,SAASF,eAAT,GAA2B;AAC1B3B,oBAAkB,CAACxpL,WAAnB,GAAiC,EAAjC;AAGA,QAAMsrL,UAAU,GAAG,CAAC39G,gBAAgB,MAAM,EAAvB,EAA2Bh4E,WAA3B,GAAyCD,KAAzC,CAA+C,GAA/C,EAAoDzC,IAApD,GAA2DoI,IAA3D,CAAgE,GAAhE,CAAnB;;AACA,QAAMkwL,SAAS,GAAGz9G,GAAG,IAAI;AACxB,UAAM09G,UAAU,GAAG19G,GAAG,CAAC55E,OAAJ,CAAY,OAAZ,EAAqB,GAArB,EAA0BwB,KAA1B,CAAgC,GAAhC,EAAqCzC,IAArC,EAAnB;AACA,WAAOu4L,UAAU,CAACx+G,IAAX,CAAgB9iE,CAAC,IAAI0jE,kBAAkB,CAAC1jE,CAAD,CAAvC,KAA+CohL,UAAU,KAAKE,UAAU,CAACnwL,IAAX,CAAgB,GAAhB,CAArE;AACA,GAHD;;AAKA,MAAI/K,CAAC,GAAG,CAAR;;AACA,OAAK,MAAMgvL,QAAX,IAAuBwK,oBAAvB,EAA6C;AAC5C,UAAM2B,YAAY,GAAGr9L,QAAQ,CAACqC,aAAT,CAAuB,GAAvB,CAArB;AACAg7L,gBAAY,CAAC76L,YAAb,CAA0B,YAA1B,EAAwCwI,MAAM,CAAC9I,CAAC,EAAF,CAA9C;AACAm7L,gBAAY,CAAC76L,YAAb,CAA0B,gBAA1B,EAA4C0uL,QAAQ,CAAChzG,SAArD;AACAm/G,gBAAY,CAAC78G,SAAb,CAAuBzmE,GAAvB,CAA2B,YAA3B;AACA,QAAIojL,SAAS,CAACjM,QAAQ,CAAChzG,SAAV,CAAb,EAAmCm/G,YAAY,CAAC78G,SAAb,CAAuBzmE,GAAvB,CAA2B,wBAA3B;AAEnCsjL,gBAAY,CAAC76L,YAAb,CAA0B,MAA1B,EAAmC,MAAK0uL,QAAQ,CAAChzG,SAAT,CAAmBp4E,OAAnB,CAA2B,gBAA3B,EAA6C,EAA7C,CAAiD,EAAzF;AACAu3L,gBAAY,CAACzrL,WAAb,GAA2Bs/K,QAAQ,CAACoM,WAApC;AACAD,gBAAY,CAAChuL,gBAAb,CAA8B,OAA9B,EAAwCtD,CAAD,IAAmB;AACzD,UAAIA,CAAC,CAAC2d,MAAF,KAAa,CAAb,IAAkB3d,CAAC,CAACwf,OAApB,IAA+Bxf,CAAC,CAAC2f,OAAjC,IAA4C3f,CAAC,CAACof,MAA9C,IAAwDpf,CAAC,CAAC8f,QAA9D,EAAwE;AAEvE,eAAO,IAAP;AACA,OAHD,MAGO;AACN9f,SAAC,CAACsd,cAAF;AACAk0K,+BAAuB,CAAGxxL,CAAC,CAACmd,aAAJ,CAA4C9U,IAA7C,CAAvB;AACA;AACD,KARD;AAUAipL,gBAAY,CAAChuL,gBAAb,CAA8B,UAA9B,EAA2CtD,CAAD,IAAmB;AAC5DA,OAAC,CAACsd,cAAF;AACAk0K,6BAAuB,CAAC/xJ,MAAxB;AACAgyJ,gCAA0B;AAC1BC,2BAAqB,CAAC1xL,CAAC,CAACmd,aAAH,EAAkBnd,CAAlB,CAArB;AACA,KALD;AAOAsxL,gBAAY,CAAChuL,gBAAb,CAA8B,WAA9B,EAA4CtD,CAAD,IAAc;AACxD4uB,kBAAY,CAACqiK,+BAAD,CAAZ;AACAU,gCAA0B,CAAC3xL,CAAC,CAACmd,aAAH,CAA1B;AACA,KAHD;AAKAm0K,gBAAY,CAAChuL,gBAAb,CAA8B,UAA9B,EAA0C,MAAM;AAC/CsrB,kBAAY,CAACsiK,+BAAD,CAAZ;AACAD,qCAA+B,GAAG1+K,UAAU,CAAC,MAAMk/K,0BAA0B,EAAjC,EAAqC,GAArC,CAA5C;AACA,KAHD;AAKAH,gBAAY,CAAChuL,gBAAb,CAA8B,WAA9B,EAA2CsuL,kBAA3C;AACAN,gBAAY,CAAChuL,gBAAb,CAA8B,WAA9B,EAA2CuuL,kBAA3C;AACAP,gBAAY,CAAChuL,gBAAb,CAA8B,UAA9B,EAA0CwuL,iBAA1C;AACAR,gBAAY,CAAChuL,gBAAb,CAA8B,WAA9B,EAA2CyuL,kBAA3C;AACAT,gBAAY,CAAChuL,gBAAb,CAA8B,MAA9B,EAAsC0uL,aAAtC;AACAV,gBAAY,CAAChuL,gBAAb,CAA8B,SAA9B,EAAyC2uL,gBAAzC;AAEA,UAAMC,GAAG,GAAGj+L,QAAQ,CAACqC,aAAT,CAAuB,MAAvB,CAAZ;AACA47L,OAAG,CAACz7L,YAAJ,CAAiB,OAAjB,EAA0B,WAA1B;AACAy7L,OAAG,CAACrsL,WAAJ,GAAkB,GAAlB;AACAwpL,sBAAkB,CAAClsK,MAAnB,CAA0B+uK,GAA1B;AAEA7C,sBAAkB,CAAClsK,MAAnB,CAA0BmuK,YAA1B,EAAwCY,GAAxC;AACA;;AAED,MAAIvC,oBAAoB,CAACl4L,MAAzB,EAAiC;AAChC43L,sBAAkB,CAACp4K,KAAnB,CAAyBk7K,aAAzB,GAAyC,EAAzC;AACA,GAFD,MAEO;AACN9C,sBAAkB,CAACp4K,KAAnB,CAAyBk7K,aAAzB,GAAyC,MAAzC;AACA9C,sBAAkB,CAACxpL,WAAnB,GAAiC,oHAAjC;AACA;AACD;;AAED,SAAS8rL,0BAAT,CAAoCp8L,GAApC,EAAyC;AACxC,MAAIm+E,UAAU,GAAG,EAAjB;AACA,MAAIvqD,MAAM,GAAG,EAAb;;AAEA,MAAI5zB,GAAG,CAACiB,YAAJ,IAAoBjB,GAAG,CAACiB,YAAJ,CAAiB,gBAAjB,EAAmCm/C,QAAnC,CAA4C,GAA5C,CAAxB,EAA0E;AACzE,QAAIy8I,eAAe,GAAG78L,GAAG,CAACiB,YAAJ,CAAiB,gBAAjB,CAAtB;;AAEA,QAAI47L,eAAe,CAACv9L,OAAhB,CAAwB,GAAxB,IAA+Bu9L,eAAe,CAACxoB,WAAhB,CAA4B,GAA5B,CAA/B,IAAmE71K,uBAAM,CAACkF,OAAP,CAAe40L,wBAAf,CAAwC1yL,KAA/G,EAAsH;AAGrH,UAAI2uB,GAAJ;;AACA,UAAI,CAACA,GAAG,GAAGsoK,eAAe,CAACxoB,WAAhB,CAA4B,GAA5B,CAAP,IAA2CwoB,eAAe,CAACxoB,WAAhB,CAA4B,GAA5B,CAA/C,EAAiF;AAChFzgJ,cAAM,GAAGipK,eAAe,CAACvtJ,MAAhB,CAAuB/a,GAAvB,CAAT;AACAsoK,uBAAe,GAAGA,eAAe,CAACvtJ,MAAhB,CAAuB,CAAvB,EAA0B/a,GAA1B,CAAlB;AACA;;AACD,UAAI,CAACA,GAAG,GAAGsoK,eAAe,CAACxoB,WAAhB,CAA4B,GAA5B,CAAP,IAA2CwoB,eAAe,CAACxoB,WAAhB,CAA4B,GAA5B,CAA/C,EAAiF;AAChFzgJ,cAAM,GAAGipK,eAAe,CAACvtJ,MAAhB,CAAuB/a,GAAvB,IAA8BX,MAAvC;AACAipK,uBAAe,GAAGA,eAAe,CAACvtJ,MAAhB,CAAuB,CAAvB,EAA0B/a,GAA1B,CAAlB;AACA;AACD;;AACD4pD,cAAU,GAAG0+G,eAAe,CAACr4L,OAAhB,CAAwB,OAAxB,EAAiC,GAAjC,EAAsCwB,KAAtC,CAA4C,GAA5C,CAAb;AACA;;AAED,MAAI,EAAEm4E,UAAU,CAACj8E,MAAX,IAAqB1D,uBAAM,CAACkF,OAAP,CAAe60L,kBAAf,CAAkC3yL,KAAzD,CAAJ,EAAqE;AACpE;AACA;;AAED,MAAIszB,KAAJ;;AAEA,MAAIilD,UAAU,CAACj8E,MAAf,EAAuB;AACtBg3B,SAAK,GAAGoB,QAAQ,CAAC97B,uBAAM,CAACkF,OAAP,CAAe80L,qBAAf,CAAqC5yL,KAAtC,EAA6C,EAA7C,CAAhB;AACA,GAFD,MAEO;AACNszB,SAAK,GAAGoB,QAAQ,CAAC97B,uBAAM,CAACkF,OAAP,CAAe+0L,yBAAf,CAAyC7yL,KAA1C,EAAiD,EAAjD,CAAhB;AACA;;AAEDyzB,cAAY,CAACsiK,+BAAD,CAAZ;AACAA,iCAA+B,GAAG3+K,UAAU,CAC3C,MAAM8/K,2BAA2B,CAAC98L,GAAD,EAAMm+E,UAAN,EAAkBvqD,MAAlB,CADU,EAE3CsF,KAF2C,CAA5C;AAIA;;AAED,SAAS4jK,2BAAT,CAAqC98L,GAArC,EAA0Cm+E,UAA1C,EAAsDvqD,MAAtD,EAA8D;AAE7DqmK,+BAA6B,GAAGj6L,GAAhC;;AAEA,MAAI,CAAC+5L,uBAAL,EAA8B;AAC7BA,2BAAuB,GAAG/xJ,gBAAC,CAAC,OAAD,EAAU;AAAE38B,QAAE,EAAE;AAAN,KAAV,CAA3B;AACA2uL,4BAAwB,GAAGt7L,QAAQ,CAACqC,aAAT,CAAuB,IAAvB,CAA3B;AACAg5L,2BAAuB,CAACnsK,MAAxB,CAA+BosK,wBAA/B;;AAEA,QAAIx7L,uBAAM,CAACkF,OAAP,CAAe60L,kBAAf,CAAkC3yL,KAAtC,EAA6C;AAC5Cm0L,6BAAuB,CAACnsK,MAAxB,CAAgC;;;;;IAAhC;AAMA;;AACDmsK,2BAAuB,CAAC5rK,QAAxB,CAAiCzvB,QAAQ,CAACkkB,IAA1C;AAEAm3K,2BAAuB,CAACn0K,EAAxB,CAA2B,UAA3B,EAAuC,MAAM;AAC5C81K,qCAA+B,GAAG1+K,UAAU,CAAC,MAAM;AAClDk/K,kCAA0B;AAC1B,OAF2C,EAEzC,GAFyC,CAA5C;AAGA,KAJD;AAMAnC,2BAAuB,CAACn0K,EAAxB,CAA2B,WAA3B,EAAwC,MAAM;AAC7CyT,kBAAY,CAACqiK,+BAAD,CAAZ;AACA,KAFD;AAIA3B,2BAAuB,CAACn0K,EAAxB,CAA2B,OAA3B,EAAoC,OAApC,EAA8Cnb,CAAD,IAAmB;AAC/DA,OAAC,CAACsd,cAAF;AACAm0K,gCAA0B;AAC1BC,2BAAqB,CAAClC,6BAAD,EAAgCxvL,CAAhC,CAArB;AACA,KAJD;AAMAsvL,2BAAuB,CAACn0K,EAAxB,CAA2B,OAA3B,EAAoC,SAApC,EAAgDnb,CAAD,IAAmB;AACjEA,OAAC,CAACsd,cAAF;AACAm0K,gCAA0B;AAC1BC,2BAAqB,CAAClC,6BAAD,EAAgCxvL,CAAhC,CAArB;AACA0vL,kBAAY,CAACtxK,KAAb;AACA,KALD;AAMA;;AAEDmf,kBAAC,CAACgyJ,wBAAD,CAAD,CAA4BzrL,IAA5B,CAAiC,kCAAjC,EAAqE2L,MAArE;;AAEA,MAAIikE,UAAJ,EAAgB;AACf,UAAM4+G,KAAK,GAAG5+G,UAAU,CAACtD,MAAX,CAAkB,CAACmiH,WAAD,EAAcpgH,SAAd,KAA4B;AAC3D,YAAMqgH,OAAO,GAAGj1J,gBAAC,CAAE,mBAAkB40C,SAAU,GAAEhpD,MAAO,KAAIgpD,SAAU,gCAA+BhpD,MAAO,kBAA3F,CAAjB;;AACA,UAAIsqD,kBAAkB,CAACtB,SAAD,CAAtB,EAAmC;AAClCqgH,eAAO,CAACviK,QAAR,CAAiB,wBAAjB;AACA;;AACD,aAAOsiK,WAAW,CAACvkL,GAAZ,CAAgBwkL,OAAhB,CAAP;AACA,KANa,EAMXj1J,gBAAC,EANU,CAAd;AAQAA,oBAAC,CAACgyJ,wBAAD,CAAD,CAA4BnsK,OAA5B,CAAoCkvK,KAApC;AACA;;AAED,QAAM;AAAExpK;AAAF,MAAWyU,gBAAC,CAAChoC,GAAD,CAAD,CAAO2lC,MAAP,EAAjB;AACA,QAAM;AAAE6yC;AAAF,MAAa95E,QAAQ,CAAC24E,aAAT,CAAuB,iBAAvB,EAA0ChkD,qBAA1C,EAAnB;AACA0mK,yBAAuB,CACrBn4K,GADF,CACM;AAAE9T,OAAG,EAAG,GAAE0qE,MAAO,IAAjB;AAAsBjlD,QAAI,EAAG,GAAEA,IAAK;AAApC,GADN,EAEEzQ,IAFF;AAGA;;AAED,SAASo5K,0BAAT,GAAsC;AACrCR,iCAA+B,GAAGt3L,SAAlC;;AACA,MAAI21L,uBAAJ,EAA6B;AAC5BA,2BAAuB,CAAC/2K,IAAxB;AACA;AACD;;AAED,SAASm5K,qBAAT,CAA+B/lH,GAA/B,EAAoCpwD,KAApC,EAA2C;AAC1C,QAAM42D,SAAS,GAAGxG,GAAG,CAACn1E,YAAJ,CAAiB,gBAAjB,CAAlB;AAEA,QAAMmR,GAAG,GAAGgoL,oBAAoB,CAACn+B,SAArB,CAA+B2zB,QAAQ,IAAIA,QAAQ,CAAChzG,SAAT,KAAuBA,SAAlE,CAAZ;;AAEA,MAAI,CAACs9G,mBAAL,EAA0B;AACzBA,uBAAmB,GAAGlyJ,gBAAC,CAAC,OAAD,EAAU;AAAE38B,QAAE,EAAE;AAAN,KAAV,CAAD,CACpB8iB,QADoB,CACXzvB,QAAQ,CAACkkB,IADE,CAAtB;AAEA;;AAED,QAAMs6K,UAAU,GAAG,CAACtgH,SAAS,CAACx8B,QAAV,CAAmB,GAAnB,CAApB;AAEA,QAAM+8I,QAAQ,GAAI;;;;;;;kDAO+BvgH,SAAU,oCAAmCsgH,UAAU,GAAG,YAAH,GAAkB,EAAG;;;;;;;;;oDAS1E9mH,GAAG,CAAC9lE,WAAY;;;4CAGxB8B,GAAI;;;;EAnB/C;AAwBA8nL,qBAAmB,CAAChtK,IAApB,CAAyBiwK,QAAzB;AAEAjD,qBAAmB,CAAC3rL,IAApB,CAAyB,qBAAzB,EAAgDqX,EAAhD,CAAmD,OAAnD,EAA4D,mBAAW,CAAC;AAAEgC,iBAAa,EAAEgoK;AAAjB,GAAD,KAAgD;AACtH,QAAI,CAAEA,QAAD,CAAgBhqL,KAAhB,CAAsBw6C,QAAtB,CAA+B,GAA/B,CAAL,EAA0C;AACzCwvI,cAAQ,CAAC1wG,SAAT,CAAmBzmE,GAAnB,CAAuB,YAAvB;AACA,KAFD,MAEO;AACNm3K,cAAQ,CAAC1wG,SAAT,CAAmBhlE,MAAnB,CAA0B,YAA1B;AACA;AACD,GAN2D,EAMzD,GANyD,CAA5D;AAOA,QAAMuxJ,cAAc,GAAGyuB,mBAAmB,CAAC3rL,IAApB,CAAyB,uBAAzB,EAAkDnM,GAAlD,CAAsD,CAAtD,CAAvB;AACA,QAAMg7L,gBAAgB,GAAGlD,mBAAmB,CAAC3rL,IAApB,CAAyB,yBAAzB,EAAoDnM,GAApD,CAAwD,CAAxD,CAAzB;AAEA83L,qBAAmB,CAAC3rL,IAApB,CAAyB,MAAzB,EAAiCqX,EAAjC,CAAoC,QAApC,EAA8Cnb,CAAC,IAAIA,CAAC,CAACsd,cAAF,EAAnD;AAEA,QAAMonJ,UAAU,GAAG+qB,mBAAmB,CACpC3rL,IADiB,CACZ,4BADY,EAEjBsa,KAFiB,CAEX,MAAM;AACZ,UAAMzW,GAAG,GAAG8nL,mBAAmB,CAAC3rL,IAApB,CAAyB,iBAAzB,EAA4C1N,GAA5C,EAAZ;AACA,UAAM+7E,SAAS,GAAGs9G,mBAAmB,CAAC3rL,IAApB,CAAyB,uBAAzB,EAAkD1N,GAAlD,EAAlB;AACA,UAAMm7L,WAAW,GAAG9B,mBAAmB,CAAC3rL,IAApB,CAAyB,yBAAzB,EAAoD1N,GAApD,EAApB;AAEAw8L,yBAAqB,CAACzgH,SAAD,EAAYo/G,WAAZ,EAAyB5pL,GAAzB,CAArB;AACA8nL,uBAAmB,CAACl3K,IAApB;AACA,GATiB,EAUjB5gB,GAViB,CAUb,CAVa,CAAnB;AAYA+3L,cAAY,GAAGD,mBAAmB,CAAC3rL,IAApB,CAAyB,8BAAzB,EAAyDnM,GAAzD,CAA6D,CAA7D,CAAf;AACA+3L,cAAY,CAACpsL,gBAAb,CAA8B,OAA9B,EAAuC,MAAM;AAC5C,UAAMqE,GAAG,GAAG8nL,mBAAmB,CAAC3rL,IAApB,CAAyB,iBAAzB,EAA4C1N,GAA5C,EAAZ;;AAEA,QAAI+hG,OAAO,CAAC,gDAAD,CAAX,EAA+D;AAC9Dy6F,2BAAqB,CAAC,EAAD,EAAK,EAAL,EAASjrL,GAAT,CAArB;AACA8nL,yBAAmB,CAACl3K,IAApB;AACA;AACD,GAPD;;AAUA,WAASs6K,WAAT,CAAqB7yL,CAArB,EAAwB;AACvB,UAAM8yL,OAAyB,GAAIrD,mBAAmB,CAAC3rL,IAApB,CAAyB,uBAAzB,EAAkDnM,GAAlD,CAAsD,CAAtD,CAAnC;AACA,UAAMo7L,OAAO,GAAGD,OAAO,CAAC33L,KAAxB;AAEA,UAAM63L,MAAM,GAAGD,OAAO,CAACx3L,KAAR,CAAc,GAAd,CAAf;AACAy3L,UAAM,CAACl6L,IAAP;AACA,UAAMm6L,MAAM,GAAGD,MAAM,CAAC9xL,IAAP,CAAY,GAAZ,CAAf;AAEA,UAAMgyL,OAAO,GAAGF,MAAhB;AACAE,WAAO,CAACxkL,OAAR;AACA,UAAMykL,OAAO,GAAGD,OAAO,CAAChyL,IAAR,CAAa,GAAb,CAAhB;AACA,QAAIkyL,MAAJ;;AACA,QAAIpzL,CAAC,CAAC1G,MAAF,YAAoB47K,iBAApB,IAAyCl1K,CAAC,CAAC1G,MAAF,CAAS3D,IAAT,KAAkB,QAA/D,EAAyE;AAExEm9L,aAAO,CAAC33L,KAAR,GAAiB43L,OAAO,KAAKE,MAAZ,GAAqBE,OAArB,GAA+BF,MAAhD;AACAG,YAAM,GAAIL,OAAO,KAAKE,MAAZ,GAAqB,KAArB,GAA6B,KAAvC;AACA,KAJD,MAIO;AACNG,YAAM,GAAIL,OAAO,KAAKE,MAAZ,GAAqB,KAArB,GAA6B,KAAvC;AACA;;AACD11J,oBAAC,CAAC,aAAD,CAAD,CAAiBhnC,IAAjB,CAAsB68L,MAAtB;AACA;;AAGD3D,qBAAmB,CAAC3rL,IAApB,CAAyB,aAAzB,EAAwCsa,KAAxC,CAA8Cy0K,WAA9C;AAGApD,qBAAmB,CAAC3rL,IAApB,CAAyB,uBAAzB,EAAkDqX,EAAlD,CAAqD,QAArD,EAA+D03K,WAA/D;AAGA7xB,gBAAc,CAAC19J,gBAAf,CAAgC,SAAhC,EAA4CtD,CAAD,IAAsB;AAChE,QAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACG,KAAzB,EAAgC;AAC/B7uF,OAAC,CAACsd,cAAF;AACAtd,OAAC,CAACud,eAAF;AACA;AACD,GALD;AAMAyjJ,gBAAc,CAAC19J,gBAAf,CAAgC,OAAhC,EAA0CtD,CAAD,IAAsB;AAC9D,QAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACI,MAAzB,EAAiC;AAChC2gG,yBAAmB,CACjBl3K,IADF,GAEEyI,IAFF;AAGA,KAJD,MAIO,IAAIhhB,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACG,KAAzB,EAAgC;AACtCzwE,WAAK,CAACsmJ,UAAD,CAAL;AACA;AACD,GARD;AASAiuB,kBAAgB,CAACrvL,gBAAjB,CAAkC,OAAlC,EAA4CtD,CAAD,IAAsB;AAChE,QAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACI,MAAzB,EAAiC;AAChC2gG,yBAAmB,CACjBl3K,IADF,GAEEyI,IAFF;AAGA,KAJD,MAIO,IAAIhhB,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACG,KAAzB,EAAgC;AACtCzwE,WAAK,CAACsmJ,UAAD,CAAL;AACA;AACD,GARD;AAWA+qB,qBAAmB,CAAC3rL,IAApB,CAAyB,oBAAzB,EAA+Csa,KAA/C,CAAqD,MAAM;AAC1DqxK,uBAAmB,CAACl3K,IAApB;AACA,GAFD;AAIAk3K,qBAAmB,CAACp3K,IAApB;AAEA,QAAMg7K,QAAQ,GAAGx5L,IAAI,CAACukC,GAAL,CAAS7iB,KAAK,CAAC4E,OAAf,EAAwB/rB,MAAM,CAACmsG,UAAP,IAAqBkvF,mBAAmB,CAAC93L,GAApB,CAAwB,CAAxB,EAA2BwtB,WAA3B,GAAyC,EAA9D,CAAxB,CAAjB;AACAsqK,qBAAmB,CAACt4K,GAApB,CAAwB,MAAxB,EAAiC,GAAEk8K,QAAS,IAA5C;AAEA9gL,YAAU,CAAC,MAAMyuJ,cAAc,CAACjgJ,KAAf,EAAP,EAA+B,GAA/B,CAAV;AACA;;AAED,eAAe6xK,qBAAf,CAAqCzgH,SAArC,EAAgDo/G,WAAhD,EAA6D5pL,GAA7D,EAAkE;AACjE,MAAIwqE,SAAS,KAAK,EAAd,IAAoBo/G,WAAW,KAAK,EAAxC,EAA4C;AAC3Cp/G,aAAS,GAAGw9G,oBAAoB,CAAChoL,GAAD,CAApB,CAA0BwqE,SAAtC;AACA,UAAM4+G,uBAAuB,CAAC5+G,SAAD,CAA7B;AACA,GAHD,MAGO;AACNw9G,wBAAoB,CAAChoL,GAAD,CAApB,GAA4B;AAC3BwqE,eAD2B;AAE3Bo/G,iBAF2B;AAG3B+B,eAAS,EAAE72L,IAAI,CAACyiB,GAAL;AAHgB,KAA5B;AAMAq0K,uBAAmB;AACnB;;AAEDvC,iBAAe;AACf;;AAED,MAAMQ,uBAAuB,GAAG,mBAAWh8J,GAAG,IAAI;AAAEttB,UAAQ,CAACG,IAAT,GAAgBmtB,GAAhB;AAAsB,CAA1C,EAA4C,GAA5C,CAAhC;;AAEA,IAAIg+J,SAAJ,EAAeC,cAAf;;AAEA,SAAS7B,kBAAT,CAA4B5xL,CAA5B,EAA0C;AACzCwxL,yBAAuB,CAAC/xJ,MAAxB;AAEA,OAAKxoB,KAAL,CAAWsR,OAAX,GAAqB,KAArB;AACAirK,WAAS,GAAG,IAAZ;;AACA,MAAIz/L,uBAAM,CAACkF,OAAP,CAAek2L,cAAf,CAA8Bh0L,KAAlC,EAAyC;AACxCu4L,eAAW,CAACF,SAAD,CAAX;AACA;;AAGDxzL,GAAC,CAAC+sG,YAAF,CAAeoD,aAAf,GAA+B,MAA/B;AAEAsjF,gBAAc,GAAI,GAAE,KAAKj9L,YAAL,CAAkB,YAAlB,CAAgC,IAAG+mC,gBAAC,CAAC,IAAD,CAAD,CAAQroB,IAAR,CAAa,WAAb,CAA0B,EAAjF;AACA;;AAED,SAAS28K,kBAAT,GAA8B;AAC7B,OAAKp9G,SAAL,CAAezmE,GAAf,CAAmB,QAAnB;AACA,SAAO,KAAP;AACA;;AAED,SAAS8jL,iBAAT,CAA2B9xL,CAA3B,EAAyC;AACxC,MAAIA,CAAC,CAACsd,cAAN,EAAsB;AACrBtd,KAAC,CAACsd,cAAF;AACA;;AAED,MAAIgyK,uBAAJ,EAA6B;AAC5BA,2BAAuB,CAAC/2K,IAAxB;AACA;;AAGDvY,GAAC,CAAC+sG,YAAF,CAAeuF,UAAf,GAA4B,MAA5B;AACA,SAAO,KAAP;AACA;;AAED,SAASy/E,kBAAT,GAA8B;AAC7B,OAAKt9G,SAAL,CAAehlE,MAAf,CAAsB,QAAtB;AACA,SAAO,KAAP;AACA;;AAED,SAASuiL,aAAT,CAAuBhyL,CAAvB,EAAqC;AACpC,MAAIA,CAAC,CAACud,eAAN,EAAuB;AACtBvd,KAAC,CAACud,eAAF;AACA;;AAGDvd,GAAC,CAACsd,cAAF;;AAGA,MAAIk2K,SAAS,KAAK,IAAlB,EAAwB;AACvB,QAAIxzL,CAAC,CAAC1G,MAAF,CAAS9C,YAAT,CAAsB,IAAtB,MAAgC,oBAApC,EAA0D;AAGzD,YAAMm9L,OAAO,GAAGF,cAAc,CAACl4L,KAAf,CAAqB,GAArB,CAAhB;AACA,YAAMq4L,aAAa,GAAG/jK,QAAQ,CAAC8jK,OAAO,CAAC,CAAD,CAAR,EAAa,EAAb,CAA9B;AACA,YAAME,YAAY,GAAGlE,oBAAoB,CAACiE,aAAD,CAAzC;AACA,YAAME,cAAc,GAAGjkK,QAAQ,CAAC,KAAKr5B,YAAL,CAAkB,YAAlB,CAAD,EAAkC,EAAlC,CAA/B;AACA,YAAMu9L,aAAa,GAAGpE,oBAAoB,CAACmE,cAAD,CAA1C;AACA,YAAME,UAAU,GAAG,EAAnB;AACA,UAAIC,WAAW,GAAG,CAAlB;AAEAtE,0BAAoB,CAAC71H,OAArB,CAA6B,CAACqrH,QAAD,EAAWhvL,CAAX,KAAiB;AAC7C,YAAKA,CAAC,KAAKy9L,aAAP,IAA0Bz9L,CAAC,KAAK29L,cAApC,EAAqD;AACpDE,oBAAU,CAACC,WAAD,CAAV,GAA0B9O,QAA1B;AACA8O,qBAAW;AACX,SAHD,MAGO,IAAI99L,CAAC,KAAK29L,cAAV,EAA0B;AAChC,cAAIA,cAAc,GAAGF,aAArB,EAAoC;AAEnCI,sBAAU,CAACC,WAAD,CAAV,GAA0BF,aAA1B;AACAE,uBAAW;AACXD,sBAAU,CAACC,WAAD,CAAV,GAA0BJ,YAA1B;AACAI,uBAAW;AACX,WAND,MAMO;AAEND,sBAAU,CAACC,WAAD,CAAV,GAA0BJ,YAA1B;AACAI,uBAAW;AACXD,sBAAU,CAACC,WAAD,CAAV,GAA0BF,aAA1B;AACAE,uBAAW;AACX;AACD;AACD,OAnBD;AAsBAtE,0BAAoB,GAAGqE,UAAvB;AACAT,yBAAmB;AAEnBvC,qBAAe;AACf,KArCD,MAqCO;AACN,YAAM2C,OAAO,GAAGF,cAAc,CAACl4L,KAAf,CAAqB,GAArB,CAAhB;AACA,YAAMs4L,YAAY,GAAGF,OAAO,CAAC,CAAD,CAA5B;AACA5C,6BAAuB,CAAC8C,YAAD,CAAvB;AACA;AACD;;AACD,SAAO,KAAP;AACA;;AAED,SAAS5B,gBAAT,GAA4B;AAC3B,OAAKh7K,KAAL,CAAWsR,OAAX,GAAqB,GAArB;AACA,OAAKksD,SAAL,CAAehlE,MAAf,CAAsB,QAAtB;;AACA,MAAI1b,uBAAM,CAACkF,OAAP,CAAek2L,cAAf,CAA8Bh0L,KAAlC,EAAyC;AACxC+4L,kBAAc;AACd;;AACD,SAAO,KAAP;AACA;;AAED,eAAelE,kBAAf,CAAkCmE,cAAlC,EAAkD;AACjD,QAAMC,iBAAsC,GAAI36L,KAAK,CAACwsE,IAAN,CAAWhyE,QAAQ,CAACmN,gBAAT,CAA0B,mBAA1B,CAAX,CAAhD;AACA,QAAMizL,QAAQ,GAAGtgM,uBAAM,CAACkF,OAAP,CAAeu1L,YAAf,CAA4BrzL,KAA5B,IAAqCi5L,iBAAiB,CAACtwL,IAAlB,CAAuB,CAAC;AAAEsvE;AAAF,GAAD,KAAkBA,QAAQ,KAAK,cAAtD,CAAtD;AACA,QAAMkhH,YAAY,GAAGD,QAAQ,IAAIA,QAAQ,CAAC5/G,SAAT,CAAmBj4E,QAAnB,CAA4B,MAA5B,CAAjC;AACA,QAAMuxJ,KAAK,GAAGh6J,uBAAM,CAACkF,OAAP,CAAey1L,SAAf,CAAyBvzL,KAAzB,IAAkCi5L,iBAAiB,CAACtwL,IAAlB,CAAuB,CAAC;AAAEsvE;AAAF,GAAD,KAAkBA,QAAQ,KAAK,SAAtD,CAAhD;AACA,QAAMmhH,iBAAiB,GAAGH,iBAAiB,CAACtwL,IAAlB,CAAuB,CAAC;AAAEsvE;AAAF,GAAD,KAAkBA,QAAQ,KAAK,GAAtD,CAA1B;AACA,QAAMohH,eAAe,GAAGJ,iBAAiB,CAACtwL,IAAlB,CAAuB,CAAC;AAAEsvE;AAAF,GAAD,KAAkBA,QAAQ,KAAK,aAAtD,CAAxB;AACA,QAAMqhH,oBAAoB,GAAGL,iBAAiB,CAACtwL,IAAlB,CAAuB,CAAC;AAAEsvE;AAAF,GAAD,KAAkBA,QAAQ,KAAK,kBAAtD,CAA7B;AAGA1jE,OAAK,CAACykL,cAAD,CAAL;AAEA,QAAMpE,oBAAoB,EAA1B;AAEA,QAAMl6F,IAAI,GAAGjgB,YAAY,EAAzB;AAEA,QAAM8+G,mBAAmB,GAAG,CAC3B3gM,uBAAM,CAACkF,OAAP,CAAei1L,aAAf,CAA6B/yL,KAA7B,IAAsC,0DADX,EAE3BpH,uBAAM,CAACkF,OAAP,CAAem1L,SAAf,CAAyBjzL,KAAzB,IAAkCo5L,iBAAlC,IAAwD,kCAAiCA,iBAAiB,CAAC1uL,WAAY,MAF5F,EAG3B9R,uBAAM,CAACkF,OAAP,CAAeo1L,WAAf,CAA2BlzL,KAA3B,IAAoCq5L,eAApC,IAAwD,4CAA2CA,eAAe,CAAC3uL,WAAY,MAHpG,EAI3B9R,uBAAM,CAACkF,OAAP,CAAeq1L,gBAAf,CAAgCnzL,KAAhC,IAAyCs5L,oBAAzC,IAAkE,iDAAgDA,oBAAoB,CAAC5uL,WAAY,MAJxH,EAK3B9R,uBAAM,CAACkF,OAAP,CAAek1L,OAAf,CAAuBhzL,KAAvB,IAAgC,8CALL,EAM3BpH,uBAAM,CAACkF,OAAP,CAAes1L,UAAf,CAA0BpzL,KAA1B,IAAmC,oDANR,EAO3BpH,uBAAM,CAACkF,OAAP,CAAeu1L,YAAf,CAA4BrzL,KAA5B,IAAqCk5L,QAArC,IAAkD,wBAAuBC,YAAY,GAAG,MAAH,GAAY,EAAG,oCAPzE,EAQ3BvgM,uBAAM,CAACkF,OAAP,CAAey1L,SAAf,CAAyBvzL,KAAzB,IAAkC4yJ,KAAlC,IAA2C,gDARhB,EAS3Bh6J,uBAAM,CAACkF,OAAP,CAAew1L,YAAf,CAA4BtzL,KAA5B,IAAqC,+DATV,EAU3B06F,IAAI,IAAI,CACP9hG,uBAAM,CAACkF,OAAP,CAAe01L,WAAf,CAA2BxzL,KAA3B,IAAoC,sDAD7B,EAEP46E,mBAAmB,MAAM,CACxBhiF,uBAAM,CAACkF,OAAP,CAAe21L,OAAf,CAAuBzzL,KAAvB,IAAgC,8CADR,EAExBpH,uBAAM,CAACkF,OAAP,CAAe41L,YAAf,CAA4B1zL,KAA5B,IAAqC,iEAFb,CAFlB,EAMPpH,uBAAM,CAACkF,OAAP,CAAe61L,SAAf,CAAyB3zL,KAAzB,IAAmC,qCAAoC06F,IAAK,mBANrE,CAVmB,EAkB3B9hG,uBAAM,CAACkF,OAAP,CAAe81L,UAAf,CAA0B5zL,KAA1B,IAAoC,GAAEkzH,eAAA,CAAmCt6H,uBAAM,CAAC2nH,QAA1C,EAAoD,EAApD,EAAwD,MAAxD,EAAgE,gCAAhE,CAAkG,EAlB7G,EAqB1Bi5E,IArB0B,CAqBrB,CArBqB,EAsB1B/wL,MAtB0B,CAsBnB8wF,OAtBmB,EAuB1BxzF,IAvB0B,CAuBrB,kCAvBqB,CAA5B;AAyBAizL,gBAAc,CAAChxK,MAAf,CAAsB,GAAGzO,sBAAM,CAAC+N,IAAK;;;;;kEAK4B/N,sBAAM,CAACugE,IAAP,CAAYy/G,mBAAZ,CAAiC;;;;;;;;;;;;SALzE,CAiBhBnnL,QAjBT;AAmBA4mL,gBAAc,CAACvnH,aAAf,CAA6B,sBAA7B,EAAqDtpE,gBAArD,CAAsE,OAAtE,EAAgFtD,CAAD,IAAmB;AACjGA,KAAC,CAAC4e,wBAAF;AACAg2K,2BAAuB;AACvB,GAHD;AAKAvF,oBAAkB,GAAG8E,cAAc,CAACvnH,aAAf,CAA6B,eAA7B,CAArB;AAEA,QAAMioH,MAAM,GAAG,CAAC,GAAGV,cAAc,CAAC/yL,gBAAf,CAAgC,uCAAhC,CAAJ,EACb0C,IADa,CACRu1D,IAAI,IAAIA,IAAI,YAAYod,iBAAhB,IAAqCvC,YAAY,CAAC7a,IAAI,CAAC+Z,QAAN,CAAZ,KAAgCc,YAAY,EADjF,CAAf;AAEA,MAAI2gH,MAAJ,EAAYA,MAAM,CAACpgH,SAAP,CAAiBzmE,GAAjB,CAAqB,wBAArB;AAEZ,QAAM8mL,sBAAsB,GAAG7gM,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAA/B;AACAw+L,wBAAsB,CAACrgH,SAAvB,CAAiCzmE,GAAjC,CAAqC,aAArC;AAEAmmL,gBAAc,CAACvnH,aAAf,CAA6B,mBAA7B,EAAkDtpE,gBAAlD,CAAmE,OAAnE,EAA4E,OAAO;AAAE6Z;AAAF,GAAP,KAAyC;AACpH,UAAMswE,IAAI,GAAGsnG,QAAQ,EAArB;AACA9gM,YAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqBsqE,IAArB;AACA,UAAM;AAAE1f,YAAF;AAAUjlD;AAAV,QAAmB3L,aAAa,CAACyL,qBAAd,EAAzB;AACA6kE,QAAI,CAACx2E,KAAL,CAAW5T,GAAX,GAAkB,GAAE0qE,MAAO,IAA3B;AACA0f,QAAI,CAACx2E,KAAL,CAAW6R,IAAX,GAAmB,GAAEjvB,IAAI,CAACukC,GAAL,CAASnqC,QAAQ,CAACkkB,IAAT,CAAcyQ,qBAAd,GAAsC5D,KAAtC,GAA8CyoE,IAAI,CAAC7kE,qBAAL,GAA6B5D,KAApF,EAA2F8D,IAA3F,CAAiG,IAAtH;AACA,UAAM4iD,YAAY,CAAC+hB,IAAD,EAAO,YAAP,CAAlB;AACAA,QAAI,CAACh+E,MAAL;AACA,GARD;AAUA,QAAMg4I,SAAS,GAAG0sC,cAAc,CAACvnH,aAAf,CAA6B,kBAA7B,CAAlB;AACA66E,WAAS,CAACnkJ,gBAAV,CAA2B,OAA3B,EAAoC,MAAM;AAAE0xL,0BAAsB;AAAK,GAAvE;AAEA,QAAMC,UAAU,GAAGd,cAAc,CAACvnH,aAAf,CAA6B,mBAA7B,CAAnB;AACAqoH,YAAU,CAAC3xL,gBAAX,CAA4B,OAA5B,EAAqC,MAAM;AAC1C,UAAMwC,UAAuB,GAAIupL,kBAAkB,CAACvpL,UAApD;AACA,UAAMovL,eAAe,GAAGrlK,QAAQ,CAAC/pB,UAAU,CAACmR,KAAX,CAAiB2N,UAAlB,EAA8B,EAA9B,CAAR,IAA6C,CAArE;AACA,UAAMuwK,UAAU,GAAGt7L,IAAI,CAAC6nC,KAAL,CAAWnE,gBAAC,CAAC,uBAAD,CAAD,CAA2BvY,KAA3B,EAAX,IAAiD,EAApE;AACA,UAAMJ,UAAU,GAAGswK,eAAe,GAAGC,UAArC;;AACA,QAAIvwK,UAAU,IAAI,CAAlB,EAAqB;AACpB9e,gBAAU,CAACmR,KAAX,CAAiB2N,UAAjB,GAA+B,GAAEA,UAAW,IAA5C;AACA;AACD,GARD;AAUA,QAAMwwK,WAAW,GAAGjB,cAAc,CAACvnH,aAAf,CAA6B,oBAA7B,CAApB;AACAwoH,aAAW,CAAC9xL,gBAAZ,CAA6B,OAA7B,EAAsC,MAAM;AAC3C,UAAMwC,UAAuB,GAAIupL,kBAAkB,CAACvpL,UAApD;AACA,QAAI8e,UAAU,GAAG9e,UAAU,CAACmR,KAAX,CAAiB2N,UAAlC;AACAA,cAAU,GAAGiL,QAAQ,CAACjL,UAAU,CAAC7qB,OAAX,CAAmB,IAAnB,EAAyB,EAAzB,CAAD,EAA+B,EAA/B,CAArB;AAEA,QAAIojC,KAAK,CAACvY,UAAD,CAAT,EAAuBA,UAAU,GAAG,CAAb;AAEvB,UAAMuwK,UAAU,GAAG53J,gBAAC,CAAC,uBAAD,CAAD,CAA2BvY,KAA3B,KAAqC,EAAxD;;AACA,QAAIqqK,kBAAkB,CAAClqK,WAAnB,GAAkCgwK,UAAtC,EAAmD;AAClDvwK,gBAAU,IAAIuwK,UAAd;AACArvL,gBAAU,CAACmR,KAAX,CAAiB2N,UAAjB,GAA+B,GAAEA,UAAW,IAA5C;AACA;AACD,GAZD;AAcAosK,iBAAe;AACf;;AAED,MAAMqE,QAAQ,GAAG,sBAAO,MAAM;AAC7B,QAAMC,MAAM,GAAG/3J,gBAAC,CAAC,OAAD,EAAU;AAAEg8I,SAAK,EAAE;AAAT,GAAV,CAAhB;AAEA,QAAMgc,UAAU,GAAGh4J,gBAAC,CAAC,OAAD,EAAU;AAAE38B,MAAE,EAAE,yBAAN;AAAiC24K,SAAK,EAAE;AAAxC,GAAV,CAApB;AACA,QAAMic,cAAc,GAAGD,UAAU,CAAC59L,GAAX,CAAe,CAAf,CAAvB;AACA69L,gBAAc,CAAClyL,gBAAf,CAAgC,WAAhC,EAA6CuuL,kBAA7C;AACA2D,gBAAc,CAAClyL,gBAAf,CAAgC,WAAhC,EAA6CyuL,kBAA7C;AACAyD,gBAAc,CAAClyL,gBAAf,CAAgC,UAAhC,EAA4CwuL,iBAA5C;AACA0D,gBAAc,CAAClyL,gBAAf,CAAgC,MAAhC,EAAwC0uL,aAAxC;AAEA,QAAMyD,QAAQ,GAAGl4J,gBAAC,CAAC,OAAD,EAAU;AAAE38B,MAAE,EAAE;AAAN,GAAV,CAAD,CACfuiB,MADe,CAEfmyK,MAFe,EAGfC,UAHe,EAIfh4J,gBAAC,CAAC,OAAD,EAAU;AACV38B,MAAE,EAAE,kBADM;AAEVrK,QAAI,EAAE;AAFI,GAAV,CAJc,CAAjB;AAUA,SAAO;AACNk/L,YADM;AAENF,cAFM;AAGND;AAHM,GAAP;AAKA,CAzBgB,CAAjB;;AA2BA,SAASN,sBAAT,GAAkC;AACjC,MAAIU,yBAAyB,GAAGzhM,QAAQ,CAAC24E,aAAT,CAAuB,8BAAvB,CAAhC;;AAEA,QAAMwrB,KAAK,GAAG,MAAMs9F,yBAAyB,CAACjmL,MAA1B,EAApB;;AAEA,MAAIimL,yBAAJ,EAA+B;AAC9Bt9F,SAAK;AACL;AACA;;AAEDs9F,2BAAyB,GAAGzhM,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAA5B;AACAo/L,2BAAyB,CAACj/L,YAA1B,CAAuC,IAAvC,EAA6C,8BAA7C;AACAi/L,2BAAyB,CAACvyK,MAA1B,CAAiCzO,sBAAM,CAAC+N,IAAK;;;;;;;;;EAA7C;AAUA,QAAMkzK,qBAAuC,GAAID,yBAAyB,CAAC9oH,aAA1B,CAAwC,cAAxC,CAAjD;AACA,QAAMgpH,gCAAkD,GAAIF,yBAAyB,CAAC9oH,aAA1B,CAAwC,cAAxC,CAA5D;AAEA+oH,uBAAqB,CAACryL,gBAAtB,CAAuC,OAAvC,EAAiDtD,CAAD,IAAsB;AACrE,QAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACI,MAAzB,EAAiCsJ,KAAK;AACtC,GAFD;AAIAw9F,kCAAgC,CAACtyL,gBAAjC,CAAkD,OAAlD,EAA4DtD,CAAD,IAAsB;AAChF,QAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACI,MAAzB,EAAiCsJ,KAAK;AACtC,GAFD;AAKA,QAAMy9F,gBAAgB,GAAGH,yBAAyB,CAAC9oH,aAA1B,CAAwC,mBAAxC,CAAzB;AACAipH,kBAAgB,CAACvyL,gBAAjB,CAAkC,QAAlC,EAA4CtD,CAAC,IAAI;AAChDA,KAAC,CAACsd,cAAF;AACA,QAAI60D,SAAS,GAAGwjH,qBAAqB,CAACx6L,KAAtC;AACA,QAAI26L,WAAW,GAAGF,gCAAgC,CAACz6L,KAAnD;AACA,QAAI26L,WAAW,KAAK,EAApB,EAAwBA,WAAW,GAAG3jH,SAAd;AAExBA,aAAS,GAAGA,SAAS,CAACp4E,OAAV,CAAkB,UAAlB,EAA8B,EAA9B,CAAZ;;AAEA,QAAIo4E,SAAJ,EAAe;AACd2+G,0BAAoB,CAAC3+G,SAAD,EAAY2jH,WAAZ,CAApB;AACA;;AAED19F,SAAK;AACL,GAbD;AAeAnkG,UAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqBuyK,yBAArB;AACAC,uBAAqB,CAAC50K,KAAtB;;AAEA,MAAIhtB,uBAAM,CAACkF,OAAP,CAAek2L,cAAf,CAA8Bh0L,KAAlC,EAAyC;AACxC,UAAM46L,aAAa,GAAGrhL,sBAAM,CAAC+N,IAAK,6JAAlC;AACA8a,oBAAC,CAAC,yDAAD,CAAD,CAA6Dna,OAA7D,CAAqE2yK,aAArE,EAAoF,KAApF;AACAA,iBAAa,CAACzyL,gBAAd,CAA+B,OAA/B,EAAwC,MAAM;AAAEowL,iBAAW;AAAK,KAAhE;AACA;AACD;;AAED,MAAMsC,YAAY,GAAG,sBAAO,MAAM;AACjC,QAAMC,YAAY,GAAGhiM,QAAQ,CAAC24E,aAAT,CAAuB,iBAAvB,CAArB;AAEA,SAAOrvC,gBAAC,CAAC,OAAD,EAAU;AAAE38B,MAAE,EAAE;AAAN,GAAV,CAAD,CACLuW,GADK,CACD;AAAE9T,OAAG,EAAG,GAAE4yL,YAAY,CAACp9J,YAAa;AAApC,GADC,EAELza,KAFK,CAEC,MAAM81K,cAAc,EAFrB,CAAP;AAGA,CANoB,CAArB;;AAQA,SAASR,WAAT,CAAqBvO,QAArB,EAA+B;AAE9B,MAAImK,uBAAJ,EAA6B;AAC5BA,2BAAuB,CAAC/2K,IAAxB;AACA;;AAGD,MAAI4sK,QAAJ,EAAc;AACbkQ,YAAQ,GAAGC,MAAX,CAAkB7yK,IAAlB,CAAuB/N,sBAAM,CAACnP,MAAO,wCAAuCg4B,gBAAC,CAAC4nJ,QAAD,CAAD,CAAY5uL,IAAZ,EAAmB,WAA/F;AACA,GAFD,MAEO;AACN8+L,YAAQ,GAAGC,MAAX,CAAkB/+L,IAAlB,CAAuB,wCAAvB;AACA;;AAGD8+L,UAAQ,GAAGI,QAAX,CACE/xK,QADF,CACWzvB,QAAQ,CAACkkB,IADpB,EAEEE,IAFF;AAIA29K,cAAY,GACVtyK,QADF,CACWzvB,QAAQ,CAACkkB,IADpB,EAEEE,IAFF;AAGA;;AAED,SAAS67K,cAAT,GAA0B;AACzB8B,cAAY,GAAGz9K,IAAf;AACA88K,UAAQ,GAAGI,QAAX,CAAoBl9K,IAApB;AACA88K,UAAQ,GAAGE,UAAX,CAAsBjlK,WAAtB,CAAkC,QAAlC;AACA;;AAED,MAAMykK,QAAQ,GAAG,sBAAO,MAAM;AAC7B,QAAM9rJ,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK;;;;;QAA5B;AAOA,MAAIyzK,SAAJ;AAEA34J,kBAAC,CAAC0L,OAAD,CAAD,CAAWnlC,IAAX,CAAgB,GAAhB,EAAqBsa,KAArB,CAA2B,CAAC;AAAEjB;AAAF,GAAD,KAAuB;AACjD,UAAMsgG,KAAK,GAAGtgG,aAAa,CAACwpE,OAAd,CAAsB82B,KAApC;AACA,UAAM04E,SAAS,GAAGD,SAAS,KAAKz4E,KAAhC;AACAy4E,aAAS,GAAGz4E,KAAZ;AACA24E,iBAAa,CAACD,SAAS,GAAG,IAAH,GAAU14E,KAApB,EAA2B04E,SAA3B,CAAb;AACA,GALD;AAOA,SAAOltJ,OAAP;AACA,CAlBgB,CAAjB;;AAoBA,SAASmtJ,aAAT,CAAuB34E,KAAvB,EAA8B/uG,OAA9B,EAAuC;AACtC,MAAI+uG,KAAJ,EAAWkyE,oBAAoB,CAAC72L,IAArB,CAA0B,CAACqE,CAAD,EAAIC,CAAJ,KAAU6B,MAAM,CAAC9B,CAAC,CAACsgH,KAAD,CAAF,CAAN,CAAiBhiB,aAAjB,CAA+Bx8F,MAAM,CAAC7B,CAAC,CAACqgH,KAAD,CAAF,CAArC,EAAiD9jH,SAAjD,EAA4D;AAAEswE,WAAO,EAAE,IAAX;AAAiBna,eAAW,EAAE;AAA9B,GAA5D,CAApC;AACX,MAAIphD,OAAJ,EAAaihL,oBAAoB,CAACjhL,OAArB;AAGbsiL,iBAAe;AAGfuC,qBAAmB;AACnB;;AAED,MAAM8C,MAAM,GAAG,sBAAO,YAAY;AACjC,QAAMptJ,OAAO,GAAGh1C,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAhB;AACA2yC,SAAO,CAACroC,EAAR,GAAa,QAAb;AAEA,QAAMi1F,IAAI,GAAGjgB,YAAY,EAAzB;;AACA,MAAI,CAACigB,IAAL,EAAW;AACV5sD,WAAO,CAAC9lB,MAAR,CAAezO,sBAAM,CAAC+N,IAAK,wJAA3B;AACA,WAAOwmB,OAAP;AACA;;AAEDA,SAAO,CAAC9lB,MAAR,CAAezO,sBAAM,CAAC+N,IAAK,sDAA3B;;AAEA,MAAI;AACH,UAAMi1E,KAAK,GAAG,MAAM4+F,oBAAoB,CAACzgG,IAAD,CAAxC;AACAnmF,SAAK,CAACu5B,OAAD,CAAL;AACAA,WAAO,CAAC9lB,MAAR,CAAezO,sBAAM,CAAC+N,IAAK,mEAA3B,EAA+Fi1E,KAA/F;AACA,GAJD,CAIE,OAAO13F,CAAP,EAAU;AACXkT,WAAO,CAACjZ,KAAR,CAAc+F,CAAd;AACAipC,WAAO,CAAC9lB,MAAR,CAAezO,sBAAM,CAAC+N,IAAK,8MAA3B;AACA;;AAED,SAAOwmB,OAAP;AACA,CAtBc,CAAf;;AAwBA,eAAe2rJ,uBAAf,CAAuC50L,CAAvC,EAAkD;AACjD,QAAM2rE,GAAG,GAAG,MAAM0qH,MAAM,EAAxB;AACA,MAAI1qH,GAAG,IAAI3rE,CAAP,KAAa2rE,GAAG,CAACnvE,QAAJ,CAAawD,CAAC,CAAC1G,MAAf,KAA0B,CAACrF,QAAQ,CAACuI,QAAT,CAAkBwD,CAAC,CAAC1G,MAApB,CAAxC,CAAJ,EAA0E;;AAE1E,MAAIrF,QAAQ,CAACkkB,IAAT,CAAc3b,QAAd,CAAuBmvE,GAAvB,CAAJ,EAAiC;AAChCA,OAAG,CAACl8D,MAAJ;AACAxb,YAAQ,CAACkkB,IAAT,CAAcxE,mBAAd,CAAkC,OAAlC,EAA2CihL,uBAA3C;AACA,GAHD,MAGO;AACN3gM,YAAQ,CAACkkB,IAAT,CAAcgL,MAAd,CAAqBwoD,GAArB;AACA13E,YAAQ,CAACkkB,IAAT,CAAc7U,gBAAd,CAA+B,OAA/B,EAAwCsxL,uBAAxC;AACA;AACD;;AAED,eAAe0B,oBAAf,CAAoCzgG,IAApC,EAA0C;AACzC,QAAM99D,OAAO,GAAG;AACfo6C,aAAS,EAAE,WADI;AAEf,QAAIp+E,uBAAM,CAACkF,OAAP,CAAeg2L,mBAAf,CAAmC9zL,KAAnC,GAA2C;AAAEo7L,iBAAW,EAAE;AAAf,KAA3C,GAA6E,EAAjF,CAFe;AAGfC,kBAAc,EAAE;AAHD,GAAhB;AAMA,QAAMC,YAAY,GAAG,IAAIl/G,GAAJ,EAArB;AACA,MAAIh0D,KAAK,GAAG,EAAZ;;AAEA,KAAG;AACF,UAAM;AAAErO;AAAF,QAAY,MAAMkhB,IAAI,CAAC;AAC5BZ,SAAG,EAAE,uBADuB;AAE5ByjD,WAAK,EAAE;AACN11D,aADM;AAEN0nE,aAAK,EAAE,GAFD;AAGN4K;AAHM,OAFqB;AAO5BlgG,UAAI,EAAE,MAPsB;AAQ5BkhF,cAAQ,EAAE5L,GAAGA;AARe,KAAD,CAA5B;;AAWA,QAAI/1D,IAAI,IAAIA,IAAI,CAAC3H,QAAjB,EAA2B;AAE1B,WAAK,MAAM;AAAE2H,YAAI,EAAEy+D;AAAR,OAAX,IAA4Bz+D,IAAI,CAAC3H,QAAjC,EAA2CkpL,YAAY,CAACxhL,GAAb,CAAiB0+D,GAAG,CAAC+iH,YAArB,EAAmC/iH,GAAnC;;AAE3CpwD,WAAK,GAAGrO,IAAI,CAACqO,KAAb;AACA,KALD,MAKO,IAAI,CAACA,KAAL,EAAY;AAClB,YAAM,IAAIpvB,KAAJ,CAAU,uBAAV,CAAN;AACA;AACD,GApBD,QAoBSovB,KApBT;;AAsBA,QAAMozK,oBAAoB,GAAG,MAAM/G,2BAA2B,CAACj4L,GAA5B,EAAnC;AAwBA,QAAMud,IAAI,GAAG,CAAC,GAAGuhL,YAAY,CAACn+K,MAAb,EAAJ,CAAb;AACA,QAAMo/E,KAAK,GAAG,IAAIggC,qBAAK,CAACx8B,QAAV,CAAmBnjE,OAAnB,EAA4B7iB,IAA5B,EAvBC,CAAC;AAAEwhL,gBAAY,EAAEnF,WAAhB;AAA6B/7J;AAA7B,GAAD,KAAwC;AACtD,UAAMohK,EAAE,GAAGD,oBAAoB,CAACpF,WAAW,CAAC/1L,WAAZ,EAAD,CAA/B;AACA,UAAMq1I,EAAE,GAAG+lD,EAAE,IAAI/mK,QAAQ,CAAC+mK,EAAE,CAACC,YAAJ,EAAkB,EAAlB,CAAzB;AACA,UAAMC,KAAK,GAAG7iM,QAAQ,CAACqC,aAAT,CAAuB,MAAvB,CAAd;;AACA,QAAIu6I,EAAJ,EAAQ;AACP,YAAMkmD,WAAW,GAAG,IAAIt6L,IAAJ,CAASo0I,EAAT,CAApB;AACAimD,WAAK,CAACjxL,WAAN,GAAoBmrF,kBAAkB,CAAC+lG,WAAD,CAAtC;AACAD,WAAK,CAACrgM,YAAN,CAAmB,OAAnB,EAA4Bo6F,UAAU,CAACkmG,WAAD,CAAtC;AACA,KAJD,MAIO;AACND,WAAK,CAACjxL,WAAN,GAAoB,KAApB;AACA;;AAED,UAAM2wL,cAAc,GAAGrG,0BAA0B,CAACoB,WAAD,CAAjD;AACAiF,kBAAc,CAAChzL,SAAf,GAA2B,EAA3B;AAEA,WAAO;AACN2uE,eAAS,EAAEz9D,sBAAM,CAAC+N,IAAK,YAAW+S,GAAI,KAAI+7J,WAAY,MADhD;AAENgF,iBAAW,EAAEO,KAFP;AAGNN;AAHM,KAAP;AAKA,GAGa,EAA0C;AAAEp7F,YAAQ,EAAEtxB,QAAZ;AAAsBxpC,UAAM,EAAE;AAA9B,GAA1C,CAAd;AAEA,QAAMqrC,GAAG,GAAG13E,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAZ;AACAq1E,KAAG,CAACxoD,MAAJ,CACCu0E,KAAK,CAACsE,mBAAN,CAA0B,CAAC;AAAE06F,gBAAY,EAAEnF;AAAhB,GAAD,KAAmCA,WAA7D,EAA0Er2G,IAAI,CAAC,mCAAD,CAA9E,EAAqH,IAArH,CADD,EAECwc,KAAK,CAACzuD,OAFP;AAKA,SAAO0iC,GAAP;AACA;;AAEM,eAAe+kH,cAAf,CAA8Ba,WAA9B,EAAoE;AAC1E,MAAI,CAACx9L,uBAAM,CAACkF,OAAP,CAAem2L,kBAAf,CAAkCj0L,KAAvC,EAA8C,OAAO,EAAP;AAC9C,QAAM06F,IAAI,GAAGjgB,YAAY,EAAzB;AACA,MAAI,CAACigB,IAAL,EAAW,OAAO,EAAP;AACX,QAAMmhG,MAAM,GAAG,MAAM5gK,IAAI,CAAC;AACzBZ,OAAG,EAAG,mBAAkBqgE,IAAK,EADJ;AAEzBlgG,QAAI,EAAE,MAFmB;AAGzBkhF,YAAQ,EAAE5L,GAAGA;AAHY,GAAD,CAAzB;AAKA,QAAM10D,KAAK,GAAGygL,MAAM,CAACpzL,MAAP,CAAcmwE,KAAK,IAAIA,KAAK,CAAC7+D,IAAN,CAAWw+D,UAAX,CAAsBb,IAAtB,CAA2BqwD,EAAE,IAAIA,EAAE,CAAChqI,IAAH,KAAYq4L,WAA7C,CAAvB,EAAkF95L,MAAhG;AACA,MAAI8e,KAAJ,EAAW,OAAO7B,sBAAM,CAACnP,MAAO,oCAAmC21E,IAAI,CAAC,iCAAD,EAAoCq2G,WAApC,EAAiDh7K,KAAjD,CAAwD,KAAIA,KAAM,SAA9H,CAAX,KACK,OAAO,EAAP;AACL;;AAED,SAASg9K,mBAAT,GAA+B;AAC9B1D,2BAAyB,CAAC56K,GAA1B,CAA8B06K,oBAAoB,IAAI,EAAtD;AACA;;AAED,eAAemB,oBAAf,CAAoC3+G,SAApC,EAA+C2jH,WAA/C,EAA4D;AAC3D,QAAMhG,aAAa,EAAnB;AAEA,QAAMnoL,GAAG,GAAGgoL,oBAAoB,CAACn+B,SAArB,CAA+B2zB,QAAQ,IAClDA,QAAQ,CAAChzG,SAAT,CAAmB32E,WAAnB,OAAqC22E,SAAS,CAAC32E,WAAV,EAD1B,CAAZ;;AAIA,MAAImM,GAAG,KAAK,CAAC,CAAb,EAAgB;AACfslH,yBAAK,CAAC7zF,IAAN,CAAW,wDAAX;AACA,GAFD,MAEO;AACN08J,eAAW,GAAGA,WAAW,IAAI3jH,SAA7B;AACA,UAAM8kH,YAAY,GAAG;AACpB9kH,eADoB;AAEpBo/G,iBAAW,EAAEuE,WAAW,CAACt6L,WAAZ,EAFO;AAGpB83L,eAAS,EAAE72L,IAAI,CAACyiB,GAAL;AAHS,KAArB;AAMAywK,wBAAoB,CAAC/6L,IAArB,CAA0BqiM,YAA1B;AAEA1D,uBAAmB;AACnBvC,mBAAe;AAEfz+D,kCAAA,CAA+B;AAC9B7W,cAAQ,EAAE,kBADoB;AAE9BtoG,aAAO,EAAE;AAFqB,KAA/B;AAIA;AACD;;AAED,eAAe29K,uBAAf,CAAuC5+G,SAAvC,EAAkD;AACjD,QAAM29G,aAAa,EAAnB;AAEA,QAAMnoL,GAAG,GAAGgoL,oBAAoB,CAACn+B,SAArB,CAA+B2zB,QAAQ,IAClDA,QAAQ,CAAChzG,SAAT,CAAmB32E,WAAnB,OAAqC22E,SAAS,CAAC32E,WAAV,EAD1B,CAAZ;;AAIA,MAAImM,GAAG,KAAK,CAAC,CAAb,EAAgB;AACfgoL,wBAAoB,CAAC52L,MAArB,CAA4B4O,GAA5B,EAAiC,CAAjC;AAEA4rL,uBAAmB;AACnBvC,mBAAe;AACf;AACD;;AAED,SAASZ,eAAT,CAAyBj+G,SAAzB,EAAoC;AACnC,MAAI,CAACp+E,uBAAM,CAACkF,OAAP,CAAeg2L,mBAAf,CAAmC9zL,KAAxC,EAA+C;AAC/C,MAAI,CAACpH,uBAAM,CAACkF,OAAP,CAAei2L,4BAAf,CAA4C/zL,KAA7C,IAAsD+8E,iBAAiB,EAA3E,EAA+E;AAE/E03G,6BAA2B,CAAC1iI,KAA5B,CAAkC;AAAE,KAACilB,SAAS,CAAC32E,WAAV,EAAD,GAA2B;AAAEq7L,kBAAY,EAAEp6L,IAAI,CAACyiB,GAAL;AAAhB;AAA7B,GAAlC;AACA;;AAEM,SAASg4K,oBAAT,CAA8BC,aAA9B,EAAqDrgE,SAAmB,GAAG,IAA3E,EAAiF;AAEvF,SAAO1gG,IAAI,CAAC;AACX9lB,UAAM,EAAE,MADG;AAEXklB,OAAG,EAAE,gBAFM;AAGXtgB,QAAI,EAAE;AACLguH,QAAE,EAAEi0D,aADC;AAEL57H,YAAM,EAAEu7D,SAAS,GAAG,KAAH,GAAW;AAFvB;AAHK,GAAD,CAAX;AAQA;;AAED,eAAek4D,2BAAf,GAA4B;AAC3B,QAAMoI,eAAe,GAAG75J,gBAAC,CAAC,wBAAD,CAAD,CAA4BnlC,GAA5B,CAAgC,YAAW;AAAE,WAAO,KAAKyN,WAAZ;AAA0B,GAAvE,EAAyEnO,OAAzE,GAAmFwJ,IAAnF,EAAxB;AACA,QAAMm2L,2BAA2B,GAAG,OAAM/hC,uBAAO,CAAC39J,GAAR,CAAY,6CAAZ,CAAN,KAAoE,EAAxG;AACA,QAAM2/L,qBAAqB,GAAGD,2BAA2B,CAACzhH,YAAY,MAAM,MAAnB,CAAzD;;AACA,MAAI2hH,WAAJ;;AACA,MAAID,qBAAqB,IAAIA,qBAAqB,CAAC/5L,IAAtB,KAA+B65L,eAA5D,EAA6E;AAC5EG,eAAW,GAAG1nK,QAAQ,CAAC,CAAC,IAAIpzB,IAAJ,GAAW8nC,OAAX,KAAuB+yJ,qBAAqB,CAAC5oK,IAA9C,IAAsD,KAAvD,EAA8D,EAA9D,CAAtB;;AACA,QAAI6oK,WAAW,GAAG,EAAlB,EAAsB;AACrBA,iBAAW,GAAG,KAAd;AACAD,2BAAqB,CAAC5oK,IAAtB,GAA6B,IAAIjyB,IAAJ,GAAW8nC,OAAX,KAAuB,KAAK,KAAzD;AACA,KAHD,MAGO;AACNgzJ,iBAAW,IAAIA,WAAW,GAAG,CAAd,GAAkB,cAAlB,GAAmC,aAAlD;AACA;AACD,GARD,MAQO;AACNF,+BAA2B,CAACzhH,YAAY,MAAM,MAAnB,CAA3B,GAAwD;AACvDr4E,UAAI,EAAE65L,eADiD;AAEvD1oK,UAAI,EAAE,IAAIjyB,IAAJ,GAAW8nC,OAAX;AAFiD,KAAxD;AAIAgzJ,eAAW,GAAG,UAAd;AACA;;AACD,MAAIA,WAAW,KAAK,KAAhB,IAAyBD,qBAA7B,EAAoD;AACnD/5J,oBAAC,CAAC,uCAAD,CAAD,CAA2Cha,KAA3C,CAAkD,4DAA2Dg0K,WAAY,SAAzH;AACA;;AAED,QAAMC,iBAAiB,GAAG,IAAI/6L,IAAJ,GAAW8nC,OAAX,KAAuB,UAAjD;;AACA,OAAK,MAAM,CAACsxD,IAAD,EAAO4hG,YAAP,CAAX,IAAmCjjM,MAAM,CAAC0uE,OAAP,CAAem0H,2BAAf,CAAnC,EAAgF;AAC/E,QAAII,YAAY,CAAC/oK,IAAb,GAAoB8oK,iBAAxB,EAA2C;AAC1C,aAAOH,2BAA2B,CAACxhG,IAAD,CAAlC;AACA;AACD;;AACDy/D,yBAAO,CAACrgJ,GAAR,CAAY,6CAAZ,EAA2DoiL,2BAA3D;AACA,C;;;;AC7uCD;AAEA;AACA;AACA;AAeA;AACA;AACA;AACA;AACA;AAEO,MAAMtjM,kBAAiB,GAAG,IAAIirH,MAAJ,CAAW,aAAX,CAA1B;AAEPjrH,kBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,kBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,kBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AACA5jG,kBAAM,CAACkF,OAAP,GAAiB;AAChBy+L,sBAAoB,EAAE;AACrB/hM,QAAI,EAAE,SADe;AAErBwF,SAAK,EAAE,KAFc;AAGrBw8F,eAAW,EAAE,oCAHQ;AAIrBtQ,SAAK,EAAE;AAJc,GADN;AAOhBswG,cAAY,EAAE;AACbhiM,QAAI,EAAE,SADO;AAEbwF,SAAK,EAAE,IAFM;AAGbw8F,eAAW,EAAE,6BAHA;AAIbtQ,SAAK,EAAE;AAJM,GAPE;AAahBuwG,iBAAe,EAAE;AAChBjiM,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,KAFS;AAGhBw8F,eAAW,EAAE,gCAHG;AAIhBtQ,SAAK,EAAE,iCAJS;AAKhBguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC0+L,YAAR,CAAqBx8L;AAL3B,GAbD;AAoBhB08L,mBAAiB,EAAE;AAClBliM,QAAI,EAAE,MADY;AAElBwF,SAAK,EAAE,MAFW;AAGlBw8F,eAAW,EAAE,kCAHK;AAIlBtQ,SAAK,EAAE,mCAJW;AAKlB2mC,YAAQ,EAAE,IALQ;AAMlBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC0+L,YAAR,CAAqBx8L,KAArB,IAA8B,CAAClC,OAAO,CAAC2+L,eAAR,CAAwBz8L;AAN3D,GApBH;AA4BhB28L,YAAU,EAAE;AACXniM,QAAI,EAAE,SADK;AAEXwF,SAAK,EAAE,IAFI;AAGXw8F,eAAW,EAAE,2BAHF;AAIXtQ,SAAK,EAAE,4BAJI;AAKX2mC,YAAQ,EAAE;AALC,GA5BI;AAmChB+pE,eAAa,EAAE;AACdpiM,QAAI,EAAE,SADQ;AAEdwF,SAAK,EAAE,KAFO;AAGdw8F,eAAW,EAAE,8BAHC;AAIdtQ,SAAK,EAAE,+BAJO;AAKd2mC,YAAQ,EAAE;AALI,GAnCC;AA0ChBgqE,aAAW,EAAE;AACZriM,QAAI,EAAE,SADM;AAEZwF,SAAK,EAAE,KAFK;AAGZw8F,eAAW,EAAE,4BAHD;AAIZtQ,SAAK,EAAE,6BAJK;AAKZ2mC,YAAQ,EAAE;AALE,GA1CG;AAiDhBiqE,WAAS,EAAE;AACVtiM,QAAI,EAAE,MADI;AAEV2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,MADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,oBADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,UADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,4BADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,EAYL;AACFjC,UAAI,EAAE,aADJ;AAEFiC,WAAK,EAAE;AAFL,KAZK,CAFE;AAkBVA,SAAK,EAAE,MAlBG;AAmBVw8F,eAAW,EAAE,0BAnBH;AAoBVtQ,SAAK,EAAE,2BApBG;AAqBVg4B,aAAS,EAAE;AArBD,GAjDK;AAwEhB64E,yBAAuB,EAAE;AACxBviM,QAAI,EAAE,SADkB;AAExBwF,SAAK,EAAE,IAFiB;AAGxBw8F,eAAW,EAAE,wCAHW;AAIxBtQ,SAAK,EAAE,yCAJiB;AAKxBg4B,aAAS,EAAE;AALa,GAxET;AA+EhB84E,qBAAmB,EAAE;AACpBxiM,QAAI,EAAE,SADc;AAEpBwF,SAAK,EAAE,IAFa;AAGpBw8F,eAAW,EAAE,oCAHO;AAIpBtQ,SAAK,EAAE;AAJa,GA/EL;AAqFhB+wG,oBAAkB,EAAE;AACnBziM,QAAI,EAAE,SADa;AAEnBwF,SAAK,EAAE,KAFY;AAGnBw8F,eAAW,EAAE,mCAHM;AAInBtQ,SAAK,EAAE,oCAJY;AAKnBg4B,aAAS,EAAE;AALQ,GArFJ;AA4FhBg5E,uBAAqB,EAAE;AACtB1iM,QAAI,EAAE,SADgB;AAEtBwF,SAAK,EAAE,KAFe;AAGtBw8F,eAAW,EAAE,sCAHS;AAItBtQ,SAAK,EAAE,uCAJe;AAKtBg4B,aAAS,EAAE;AALW,GA5FP;AAmGhBi5E,sBAAoB,EAAE;AACrB3iM,QAAI,EAAE,SADe;AAErBwF,SAAK,EAAE,KAFc;AAGrBw8F,eAAW,EAAE,qCAHQ;AAIrBtQ,SAAK,EAAE,sCAJc;AAKrBg4B,aAAS,EAAE;AALU,GAnGN;AA0GhBk5E,mBAAiB,EAAE;AAClB5iM,QAAI,EAAE,SADY;AAElBwF,SAAK,EAAE,KAFW;AAGlBw8F,eAAW,EAAE,kCAHK;AAIlBtQ,SAAK,EAAE,mCAJW;AAKlBg4B,aAAS,EAAE;AALO,GA1GH;AAiHhBm5E,4BAA0B,EAAE;AAC3B7iM,QAAI,EAAE,SADqB;AAE3BwF,SAAK,EAAE,KAFoB;AAG3Bw8F,eAAW,EAAE,2CAHc;AAI3BtQ,SAAK,EAAE,4CAJoB;AAK3Bg4B,aAAS,EAAE;AALgB,GAjHZ;AAwHhBo5E,iBAAe,EAAE;AAChB9iM,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,KAFS;AAGhBw8F,eAAW,EAAE,gCAHG;AAIhBtQ,SAAK,EAAE;AAJS,GAxHD;AA8HhBqxG,WAAS,EAAE;AACV/iM,QAAI,EAAE,SADI;AAEVwF,SAAK,EAAE,KAFG;AAGVw8F,eAAW,EAAE,0BAHH;AAIVtQ,SAAK,EAAE;AAJG,GA9HK;AAoIhBsxG,uBAAqB,EAAE;AACtBhjM,QAAI,EAAE,SADgB;AAEtBwF,SAAK,EAAE,KAFe;AAGtBw8F,eAAW,EAAE,sCAHS;AAItBtQ,SAAK,EAAE,uCAJe;AAKtBg4B,aAAS,EAAE;AALW,GApIP;AA2IhBu5E,mBAAiB,EAAE;AAClBjjM,QAAI,EAAE,SADY;AAElBwF,SAAK,EAAE,KAFW;AAGlBw8F,eAAW,EAAE,kCAHK;AAIlBtQ,SAAK,EAAE,mCAJW;AAKlBg4B,aAAS,EAAE;AALO,GA3IH;AAkJhBw5E,wBAAsB,EAAE;AACvBljM,QAAI,EAAE,SADiB;AAEvBwF,SAAK,EAAE,KAFgB;AAGvBw8F,eAAW,EAAE,uCAHU;AAIvBtQ,SAAK,EAAE,wCAJgB;AAKvBg4B,aAAS,EAAE;AALY,GAlJR;AAyJhBy5E,sBAAoB,EAAE;AACrBnjM,QAAI,EAAE,SADe;AAErBwF,SAAK,EAAE,KAFc;AAGrBw8F,eAAW,EAAE,qCAHQ;AAIrBtQ,SAAK,EAAE,sCAJc;AAKrB2mC,YAAQ,EAAE;AALW;AAzJN,CAAjB;AAkKAj6H,kBAAM,CAACwrH,OAAP,GAAiB,CAChB,KADgB,CAAjB;;AAIAxrH,kBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI/rH,kBAAM,CAACkF,OAAP,CAAey+L,oBAAf,CAAoCv8L,KAAxC,EAA+C;AAC9Cg5F,kBAAc,CAAC,CAAC,SAAD,CAAD,EAAcV,OAAO,IAAI;AACtC,YAAMt7E,IAAI,GAAGs7E,OAAO,CAAC7M,WAAR,EAAb;AACA,UAAIzuE,IAAJ,EAAU,KAAK,MAAMkhD,IAAX,IAAmBlhD,IAAI,CAAC/W,gBAAL,CAAsB,GAAtB,CAAnB,EAA+Cs2L,oBAAoB,CAAEr+H,IAAF,CAApB;AACzD,KAHa,CAAd;AAIA;;AAED,MAAItlE,kBAAM,CAACkF,OAAP,CAAe0+L,YAAf,CAA4Bx8L,KAAhC,EAAuC;AACtCg5F,kBAAc,CAAC,CAAC,MAAD,CAAD,EAAWwjG,YAAX,CAAd;AACA;;AAED,MAAI5jM,kBAAM,CAACkF,OAAP,CAAey/L,SAAf,CAAyBv9L,KAA7B,EAAoC;AACnCi5F,oBAAgB,CAAC,CAAC,MAAD,CAAD,EAAW,6BAAX,EAA0C2kG,YAA1C,CAAhB;AACA5kG,kBAAc,CAAC,IAAD,EAAOjQ,KAAK,IAAI;AAC7B,WAAK,MAAM7qB,IAAX,IAAmB6qB,KAAK,CAAC9gB,KAAN,CAAYhiE,gBAAZ,CAA6B,2BAA7B,CAAnB,EAA8E23L,YAAY,CAAC1/H,IAAD,CAAZ;AAC9E,KAFa,CAAd;AAGA;;AAED,MAAItlE,kBAAM,CAACkF,OAAP,CAAe6+L,UAAf,CAA0B38L,KAA1B,IAAmCpH,kBAAM,CAACkF,OAAP,CAAe8+L,aAAf,CAA6B58L,KAAhE,IAAyEpH,kBAAM,CAACkF,OAAP,CAAe++L,WAAf,CAA2B78L,KAAxG,EAA+G;AAE9Gg5F,kBAAc,CAAC,CAAC,MAAD,CAAD,EAAWjQ,KAAK,IAAI;AAAE,UAAIA,KAAK,CAACS,SAAN,EAAJ,EAAuBq0G,cAAc,CAAC90G,KAAD,CAAd;AAAwB,KAArE,EAAuE;AAAEa,eAAS,EAAE;AAAb,KAAvE,CAAd;AACAoP,kBAAc,CAAC,CAAC,MAAD,CAAD,EAAW8kG,aAAX,CAAd;AACA;;AAED,UAAQllM,kBAAM,CAACkF,OAAP,CAAeg/L,SAAf,CAAyB98L,KAAjC;AACC,SAAK,SAAL;AACC+0E,kBAAY,CAAC,qBAAD,EAAwB,IAAxB,CAAZ;;AACA;;AACD,SAAK,KAAL;AACCA,kBAAY,CAAC,gBAAD,CAAZ;;AACA;;AACD,SAAK,YAAL;AACCA,kBAAY,CAAC,gBAAD,CAAZ;;AACAA,kBAAY,CAAC,qBAAD,EAAwB,IAAxB,CAAZ;;AACA;;AACD,SAAK,QAAL;AACCA,kBAAY,CAAC,QAAD,CAAZ;;AACA;;AACD,SAAK,MAAL;AACA;AACC;AAhBF;;AAmBA,MAAIn8E,kBAAM,CAACkF,OAAP,CAAe6/L,oBAAf,CAAoC39L,KAAxC,EAA+C;AAC9C,UAAM+9L,GAAG,GAAGjlM,QAAQ,CAACqC,aAAT,CAAuB,QAAvB,CAAZ;AACA4iM,OAAG,CAACh1L,SAAJ,GAAiB;;;;;;;;;;IAAjB;AAWAjQ,YAAQ,CAACgP,eAAT,CAAyBkgB,MAAzB,CAAgC+1K,GAAhC;AACA;AACD,CA3DD;;AA6DAnlM,kBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,kBAAM,CAACkF,OAAP,CAAek/L,mBAAf,CAAmCh9L,KAAnC,IAA4C+1E,UAAU,CAAC,UAAD,EAAa,kBAAb,CAA1D,EAA4F;AAC3F3zC,oBAAC,CAAC,YAAD,CAAD,CAAgBpiB,EAAhB,CAAmB,YAAnB,EAAiC,eAAjC,EAAkD,YAAW;AAC5D,YAAMg+K,QAAQ,GAAG57J,gBAAC,CAAC,IAAD,CAAD,CAAQ/wB,QAAR,CAAiB,MAAjB,EAAyB7U,GAAzB,CAA6B,CAA7B,CAAjB;;AACA,UAAIwhM,QAAJ,EAAc;AACb,YAAI,CAAC,KAAK3iM,YAAL,CAAkB,OAAlB,EAA2Bm/C,QAA3B,CAAoC,UAApC,CAAL,EAAsD;AACrD,gBAAMyjJ,mBAAmB,GAAGvpK,QAAQ,CAAC,KAAKr5B,YAAL,CAAkB,OAAlB,EAA2B6J,KAA3B,CAAiC,QAAjC,EAA2C,CAA3C,CAAD,EAAgD,EAAhD,CAApC;AACA,gBAAMwiJ,QAAQ,GAAG,IAAIpmJ,IAAJ,CAAS08L,QAAQ,CAAC3iM,YAAT,CAAsB,UAAtB,CAAT,EAA4C+tC,OAA5C,EAAjB;AACA,gBAAM80J,WAAW,GAAGx/L,IAAI,CAACmuB,IAAL,CAAU,CAAC66H,QAAQ,GAAGu2C,mBAAmB,GAAG,KAAjC,GAAyC,IAAI38L,IAAJ,GAAW8nC,OAAX,EAA1C,IAAkE,KAA5E,CAApB;;AACA,cAAI80J,WAAW,IAAI,CAAnB,EAAsB;AACrB,iBAAK5iM,YAAL,CAAkB,OAAlB,EAA4B,6BAA4B4iM,WAAY,UAASA,WAAW,GAAG,CAAd,GAAkB,GAAlB,GAAwB,EAAG,EAAxG;AACA,WAFD,MAEO;AACN,iBAAK5iM,YAAL,CAAkB,OAAlB,EAA2B,6BAA3B;AACA;AACD;AACD;AACD,KAdD;AAeA;;AAED,QAAMo/F,IAAI,GAAGjgB,YAAY,EAAzB;;AACA,MAAI7hF,kBAAM,CAACkF,OAAP,CAAew/L,eAAf,CAA+Bt9L,KAA/B,IAAwC06F,IAAxC,IAAgD5hG,QAAQ,CAAC24E,aAAT,CAAuB,0CAAvB,CAApD,EAAwH;AACvH6rH,mBAAe,CAAC5iG,IAAD,CAAf;AACA;;AAED,UAAQ9hG,kBAAM,CAACkF,OAAP,CAAeg/L,SAAf,CAAyB98L,KAAjC;AACC,SAAK,QAAL;AACC88L,2BAAS;AACT;;AACD,SAAK,KAAL;AACCqB,qBAAe;AACf;;AACD,SAAK,YAAL;AACCA,qBAAe;AACfC,gBAAU;AACV;;AACD,SAAK,SAAL;AACCA,gBAAU;AACV;;AACD;AACC;AAfF;AAiBA,CAzCD;;AA2CA,SAAS7B,oBAAT,CAA8Br+H,IAA9B,EAAoC;AACnCA,MAAI,CAAC//D,MAAL,GAAc,QAAd;AACA+/D,MAAI,CAACmgI,GAAL,GAAW,oBAAX;AACA;;AAED,SAAS7B,YAAT,CAAsBzzG,KAAtB,EAA6B;AAC5B,QAAM7iE,IAAI,GAAG6iE,KAAK,CAAC6C,cAAN,EAAb;AACA,MAAI,CAAC1lE,IAAL,EAAW;AAEX,QAAMlkB,CAAC,GAAGlJ,QAAQ,CAACqC,aAAT,CAAuB,GAAvB,CAAV;AACA6G,GAAC,CAACqG,SAAF,GAAc,SAAd;AACArG,GAAC,CAACkL,IAAF,GAAS,mBAAT;AACAlL,GAAC,CAACwpF,OAAF,CAAU4H,WAAV,GAAwBltE,IAAI,CAACslE,OAAL,CAAa4H,WAArC;AACApxF,GAAC,CAACwpF,OAAF,CAAUpwF,IAAV,GAAiB2kF,IAAI,CACpB75D,IAAI,CAACslE,OAAL,CAAa4H,WAAb,KAA6B,MAA7B,GACC,0BADD,GAEC,4BAHmB,CAArB;AAKApxF,GAAC,CAACmG,gBAAF,CAAmB,OAAnB,EAA4B,MAAMo7K,oBAAQ,CAACvhL,CAAD,CAA1C;AAEAkkB,MAAI,CAACmC,WAAL,CAAiBrmB,CAAjB;AACA;;AAED,MAAM+zH,qBAAS,GAAG,IAAI35C,GAAJ,EAAlB;;AAEA,eAAemnG,oBAAf,CAAwB+a,WAAxB,EAAqCl+H,MAAM,GAAGk+H,WAAW,CAAC9yG,OAAZ,CAAoB4H,WAAlE,EAA+E;AAC9E,QAAM5/D,OAAO,GAAG56B,kBAAM,CAACkF,OAAP,CAAe2+L,eAAf,CAA+Bz8L,KAA/B,GACf,IADe,GAEf00B,QAAQ,CAAC97B,kBAAM,CAACkF,OAAP,CAAe4+L,iBAAf,CAAiC18L,KAAlC,EAAyC,EAAzC,CAFT;AAIA,QAAM+oF,KAAK,GAAGT,WAAK,CAACM,WAAN,CAAkB01G,WAAlB,CAAd;;AAEA,MAAIl+H,MAAM,KAAK,MAAf,EAAuB;AAEtB,UAAM3hE,OAAO,GAAG0gI,eAAO,CAACC,mBAAR,CAA4Br2C,KAA5B,CAAhB;AACA,QAAItqF,OAAO,IAAIA,OAAO,CAACwhB,KAAR,CAAcu6B,QAAd,CAAuB,QAAvB,CAAf,EAAiD/7C,OAAO,CAAC8gI,QAAR;;AAEjD,QAAI/rG,OAAO,KAAK,IAAhB,EAAsB;AACrB,UAAI,CAACuiD,UAAU,CAAC,UAAD,CAAf,EAA6B3zC,gBAAC,CAAC2mD,KAAK,CAACj7C,OAAP,CAAD,CAAiB1wB,IAAjB;AAC7B,KAFD,MAEO;AACN24G,2BAAS,CAACj8G,GAAV,CAAcwkL,WAAd,EAA2BlnL,UAAU,CAAC,MAAM;AAC3C,YAAIknL,WAAW,CAAC9yG,OAAZ,CAAoB4H,WAApB,KAAoChzB,MAAxC,EAAgD;AAChDh+B,wBAAC,CAAC2mD,KAAK,CAACj7C,OAAP,CAAD,CAAiB5a,OAAjB,CAAyB,GAAzB;AACA,OAHoC,EAGlCM,OAHkC,CAArC;AAIA;AACD;;AAED,MAAI;AACH,QAAI4sC,MAAM,KAAK,MAAf,EAAuB,MAAMhjD,cAAI,CAAC2rE,KAAD,CAAV,CAAvB,KACK,MAAMuK,MAAM,CAACvK,KAAD,CAAZ;AACL,GAHD,CAGE,OAAOlkF,CAAP,EAAU;AACXitH,yBAAK,CAAC7zF,IAAN,CAAW8hD,IAAI,CAAC3f,MAAM,KAAK,MAAX,GAAoB,gCAApB,GAAuD,kCAAxD,CAAf;AACAh+B,oBAAC,CAAC2mD,KAAK,CAACj7C,OAAP,CAAD,CAAiB5wB,IAAjB;AACA,UAAMrY,CAAN;AACA;AACD;;AAED,MAAMg5L,cAAc,GAAG,kBAAU90G,KAAK,IAAI;AACzC,QAAM1uD,GAAG,GAAG,IAAIgmC,GAAJ,CAAQ0oB,KAAK,CAACwC,UAAN,EAAR,EAA4Bx+E,QAAQ,CAACwuE,MAArC,CAAZ;AACA,MAAI,CAACgjH,OAAO,CAAC1hE,OAAR,CAAgBnlD,IAAhB,CAAqBN,MAAM,IAAI/8C,GAAG,CAAC8jD,QAAJ,CAAa3C,QAAb,CAAsBpE,MAAtB,CAA/B,CAAL,EAAoE;AACpE,QAAM,CAAC3xE,EAAD,IAAO84L,OAAO,CAACthE,MAAR,CAAe5iG,GAAf,KAAuB,EAApC;AACA,MAAI50B,EAAJ,EAAQ,OAAO84L,OAAO,CAACphE,YAAR,IAAwBohE,OAAO,CAACphE,YAAR,CAAqB13H,EAArB,CAA/B;AACR,CALsB,CAAvB;;AAOA,eAAeq4L,aAAf,CAA6B/0G,KAA7B,EAAoC;AACnC,QAAMhvE,IAAI,GAAG,MAAM8jL,cAAc,CAAC90G,KAAD,CAAjC;AACA,MAAI,CAAChvE,IAAL,EAAW;AAEX,QAAM;AAAEmyE,SAAF;AAASx9D,YAAT;AAAmBqnH,eAAnB;AAAgCE;AAAhC,MAA8Cl8H,IAApD;AAEA,QAAMmkD,IAAI,GAAG6qB,KAAK,CAACuC,WAAN,EAAb;AACA,QAAMqhB,IAAI,GAAG,EAAb;;AAEA,MAAI/zG,kBAAM,CAACkF,OAAP,CAAe8+L,aAAf,CAA6B58L,KAAjC,EAAwC;AACvC,UAAMw+L,QAAQ,GAAG,IAAIl9L,IAAJ,CAASy0I,WAAT,CAAjB;AACA,UAAM/7E,EAAE,GAAI,GAAEwkI,QAAQ,CAAC/wB,YAAT,EAAwB,IAAG+wB,QAAQ,CAAChxB,YAAT,EAAwB,EAAjE;AACA,UAAMqT,OAAO,GAAG9gG,IAAI,CAAC,qBAAD,EAAwB6V,cAAc,CAAC4oG,QAAD,CAAtC,CAApB;AACA7xF,QAAI,CAAClzG,IAAL,CAAW,iBAAgBugE,EAAG,eAAc+7E,WAAY,4BAA2B8qC,OAAQ,UAA3F;AACA;;AAED,MAAIjoL,kBAAM,CAACkF,OAAP,CAAe++L,WAAf,CAA2B78L,KAA3B,IAAoCi2I,SAAxC,EAAmD;AAClDtpC,QAAI,CAAClzG,IAAL,CAAUsmF,IAAI,CAAC,wBAAD,EAA2Bk2D,SAA3B,CAAd;AACA;;AAED,QAAMwoD,iBAAiB,GAAG,6BAA1B;AACA,QAAMC,wBAAwB,GAAG,kDAAjC;AACA,QAAMjpD,SAAS,GAAGipD,wBAAwB,CAACn5L,IAAzB,CAA8B24D,IAAI,CAAChxD,IAAnC,CAAlB;AACA,QAAMyxL,UAAU,GAAGF,iBAAiB,CAAC54L,IAAlB,CAAuBq4D,IAAI,CAACxzD,WAA5B,CAAnB;AAEA,MAAI8mB,SAAJ;;AACA,MAAIikH,SAAS,IAAI,CAACkpD,UAAlB,EAA8B;AAC7B,UAAMC,OAAO,GAAGC,4BAA4B,CAACppD,SAAS,CAAC,CAAD,CAAV,CAA5C;AACAjkH,aAAS,GAAGw+C,iBAAiB,CAAC4uH,OAAD,CAA7B;AACA;;AAED,MAAIjyF,IAAI,CAACrwG,MAAT,EAAiB;AAChB4hE,QAAI,CAAC1iE,WAAL,CAAiB+d,sBAAM,CAAC+N,IAAK,+BAA8B/N,sBAAM,CAACugE,IAAP,CAAY6yB,IAAI,CAAC5mG,IAAL,CAAU,GAAV,CAAZ,CAA4B,SAAvF;AACA;;AACDm4D,MAAI,CAAC5iE,YAAL,CAAkB,OAAlB,EAA2BykF,IAAI,CAAC,8BAAD,EAAiCmM,KAAjC,CAA/B;;AAEA,MAAItzF,kBAAM,CAACkF,OAAP,CAAe6+L,UAAf,CAA0B38L,KAA9B,EAAqC;AAEpC,UAAMotF,SAAS,GAAGrE,KAAK,CAACj7C,OAAN,CAAc2jC,aAAd,CAA4B,aAA5B,CAAlB;;AACA,QAAI2b,SAAJ,EAAe;AACdA,eAAS,CAAC5xF,WAAV,CAAsB+d,sBAAM,CAAC+N,IAAK,iCAAgCoH,QAAS,GAAE8C,SAAS,GAAI,MAAKA,SAAU,GAAnB,GAAwB,EAAG,QAAjH;AACA;AACD;AACD;;AAED,SAASqtK,4BAAT,CAAsCC,EAAtC,EAAkD;AACjD,MAAIC,WAAW,GAAGr4J,MAAM,CAACo4J,EAAD,CAAxB;;AACA,MAAIp4J,MAAM,CAAC1E,KAAP,CAAa+8J,WAAb,CAAJ,EAA+B;AAC9B,UAAMC,KAAK,GAAIF,EAAE,CAAC1+L,KAAH,CAAS,YAAT,EACbqI,MADa,CACN8wF,OADM,EAEbtkB,MAFa,CAEN,CAACuR,GAAD,EAAMthF,KAAN,KAAgB;AACvBshF,SAAG,CAACthF,KAAK,CAAC3L,KAAN,CAAY,CAAC,CAAb,CAAD,CAAH,GAAuBmtC,MAAM,CAACxhC,KAAK,CAAC3L,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAD,CAA7B;AACA,aAAOitF,GAAP;AACA,KALa,EAKX,EALW,CAAf;AAMAu4G,eAAW,GAAG,CAACC,KAAK,CAACx5J,CAAN,IAAW,CAAZ,IAAiB,IAAjB,GAAwB,CAACw5J,KAAK,CAACh6L,CAAN,IAAW,CAAZ,IAAiB,EAAzC,IAA+Cg6L,KAAK,CAAC7nK,CAAN,IAAW,CAA1D,CAAd;AACA;;AACD,SAAO4nK,WAAP;AACA;;AAED,SAASZ,eAAT,GAA2B;AAG1B,QAAMc,EAAE,GAAGl0E,SAAA,CAAkBm0E,gCAAlB,CAAX;AAEA,QAAMC,EAAE,GAAGrmM,QAAQ,CAAC0M,cAAT,CAAwB,gBAAxB,CAAX;;AACA,MAAI,CAAC25L,EAAL,EAAS;AACR;AACA;;AACD,QAAM9pE,MAAM,GAAGv8H,QAAQ,CAAC0M,cAAT,CAAwB,QAAxB,CAAf;AAGA,QAAMiyG,MAAM,GAAG3+G,QAAQ,CAACqC,aAAT,CAAuB,KAAvB,CAAf;AAEAs8G,QAAM,CAAC37F,KAAP,CAAasjL,UAAb,GAA0BnmM,MAAM,CAAC+vB,gBAAP,CAAwBm2K,EAAxB,EAA4B,IAA5B,EAAkCC,UAA5D;AACA3nF,QAAM,CAAC37F,KAAP,CAAaujL,aAAb,GAA6BpmM,MAAM,CAAC+vB,gBAAP,CAAwBm2K,EAAxB,EAA4B,IAA5B,EAAkCE,aAA/D;;AAIA,MAAIJ,EAAJ,EAAQ;AACPxnF,UAAM,CAAC37F,KAAP,CAAamU,MAAb,GAAuB,GAAEyE,QAAQ,CAACz7B,MAAM,CAAC+vB,gBAAP,CAAwBm2K,EAAxB,EAA4B,IAA5B,EAAkClvK,MAAnC,EAA2C,EAA3C,CAAR,GAAyD,CAAzD,GAA6D,CAAE,IAAxF;AACA,GAFD,MAEO;AACNwnF,UAAM,CAAC37F,KAAP,CAAamU,MAAb,GAAsBh3B,MAAM,CAAC+vB,gBAAP,CAAwBm2K,EAAxB,EAA4B,IAA5B,EAAkClvK,MAAxD;AACA;;AAGDolG,QAAM,CAACntG,YAAP,CAAoBuvF,MAApB,EAA4B0nF,EAA5B;AACArmM,UAAQ,CAACkkB,IAAT,CAAckL,YAAd,CAA2Bi3K,EAA3B,EAA+B9pE,MAA/B;AAGAjgD,QAAM,CAAE;;;;;;;;;;;EAAF,CAAN;AAYAkqH,mBAAiB,CAACL,EAAD,CAAjB;AACA;;AAED,SAASb,UAAT,GAAsB;AACrB,QAAM/oE,MAAM,GAAGv8H,QAAQ,CAAC0M,cAAT,CAAwB,oBAAxB,CAAf;AACA,QAAM+5L,OAAO,GAAGzmM,QAAQ,CAAC0M,cAAT,CAAwB,qBAAxB,CAAhB;AAEAvM,QAAM,CAACkP,gBAAP,CAAwB,QAAxB,EAAkC,mBAAW,MAAM;AAClD,QAAIktH,MAAM,CAAC5nG,qBAAP,GAA+BvlB,GAA/B,GAAqC,CAAzC,EAA4C;AAC3Cq3L,aAAO,CAACjmH,SAAR,CAAkBhlE,MAAlB,CAAyB,sBAAzB;AACA,KAFD,MAEO;AACNirL,aAAO,CAACjmH,SAAR,CAAkBzmE,GAAlB,CAAsB,sBAAtB;AACA;AACD,GANiC,EAM/B,GAN+B,CAAlC;AAQAysL,mBAAiB;AACjB;;AAKD,SAASxC,qBAAT,GAAqB;AACpB,QAAMmC,EAAE,GAAGl0E,SAAA,CAAkBm0E,gCAAlB,CAAX;AAEA,QAAM7pE,MAAM,GAAGv8H,QAAQ,CAAC0M,cAAT,CAAwB,QAAxB,CAAf;;AAEA,MAAI,CAAC6vH,MAAL,EAAa;AACZt9G,WAAO,CAACjZ,KAAR,CAAc,oCAAd;AACA;AACA;;AAED,QAAM0gM,YAAY,GAAGp9J,gBAAC,CAAC,SAAD,CAAD,CAAa8lF,WAAb,CAAyB,IAAzB,CAArB;AAGA9yC,QAAM,CAAE;;;;;EAAF,CAAN;AAMAkqH,mBAAiB,CAACL,EAAD,CAAjB;AAIA7pH,QAAM,CAAE;;;;;;;EAAF,CAAN;AAUAhzC,kBAAC,CAAC,OAAD,EAAU;AACV38B,MAAE,EAAE,uBADM;AAEVwqB,UAAM,EAAEuvK;AAFE,GAAV,CAAD,CAGGt3K,YAHH,CAGgBmtG,MAHhB;AAIA;;AAED,SAASiqE,iBAAT,CAA2BL,EAA3B,EAA+B;AAE9B,MAAIA,EAAJ,EAAQ;AAEP7pH,UAAM,CAAE;;;;;;;GAAF,CAAN;AAQA,GAVD,MAUO;AACNA,UAAM,CAAE;;;;GAAF,CAAN;AAKA;AACD;;AAED,SAASkoH,eAAT,CAAyB5iG,IAAzB,EAA+B;AAC9B9J,+BAAa,CAACD,WAAd,CAA0B;AACzBv1F,QAAI,EAAE,OADmB;AAEzBy1F,YAAQ,EAAE,MAAM;AAAE9jF,cAAQ,CAACG,IAAT,GAAiB,SAAQwtF,IAAK,SAA9B;AAAyC;AAFlC,GAA1B;AAIA;;AAED,SAASkjG,YAAT,CAAsB9vJ,OAAtB,EAA+B;AAC9B,MAAIA,OAAO,CAACwrC,SAAR,CAAkBj4E,QAAlB,CAA2B,SAA3B,CAAJ,EAA2C;AAE3CysC,SAAO,CAACwrC,SAAR,CAAkBzmE,GAAlB,CAAsB,SAAtB;AACAi7B,SAAO,CAAC09C,OAAR,CAAgBpwF,IAAhB,GAAuB0yC,OAAO,CAACpjC,WAA/B;AACAojC,SAAO,CAACpjC,WAAR,GAAsB,EAAtB;AACA,C;;AC/iBD;AACA;AACA;AAEO,MAAM9R,mBAAiB,GAAG,IAAIirH,MAAJ,CAAW,cAAX,CAA1B;AAEPjrH,mBAAM,CAACkrH,UAAP,GAAoB,kBAApB;AACAlrH,mBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,mBAAM,CAAC4rH,iBAAP,GAA2B,IAA3B;AACA5rH,mBAAM,CAAC4jG,WAAP,GAAqB,kBAArB;AAEA5jG,mBAAM,CAACkF,OAAP,GAAiB;AAChB2hM,qBAAmB,EAAE;AACpBjlM,QAAI,EAAE,MADc;AAEpBwF,SAAK,EAAE,GAFa;AAGpBw8F,eAAW,EAAE,qCAHO;AAIpBtQ,SAAK,EAAE;AAJa,GADL;AAOhBwzG,wBAAsB,EAAE;AACvBllM,QAAI,EAAE,MADiB;AAEvBwF,SAAK,EAAE,IAFgB;AAGvBw8F,eAAW,EAAE,wCAHU;AAIvBtQ,SAAK,EAAE;AAJgB,GAPR;AAahByzG,mBAAiB,EAAE;AAClBnlM,QAAI,EAAE,SADY;AAElBwF,SAAK,EAAE,KAFW;AAGlBw8F,eAAW,EAAE,mCAHK;AAIlBtQ,SAAK,EAAE;AAJW,GAbH;AAmBhB0zG,0BAAwB,EAAE;AACzB1lE,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6hM,iBAAR,CAA0B3/L,KADvB;AAEzBxF,QAAI,EAAE,SAFmB;AAGzBwF,SAAK,EAAE,KAHkB;AAIzBw8F,eAAW,EAAE,0CAJY;AAKzBtQ,SAAK,EAAE;AALkB,GAnBV;AA0BhB2zG,wBAAsB,EAAE;AACvBrlM,QAAI,EAAE,OADiB;AAEvBs6H,cAAU,EAAE,0BAFW;AAGvB/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,YADG;AAERvI,UAAI,EAAE,uBAFE;AAGRvD,UAAI,EAAE,MAHE;AAIRy3J,cAAQ,EAAE;AAJF,KAAD,EAKL;AACF3rJ,SAAG,EAAE,cADH;AAEFvI,UAAI,EAAE,0BAFJ;AAGFvD,UAAI,EAAE,MAHJ;AAIFwF,WAAK,EAAE;AAJL,KALK,EAUL;AACFsG,SAAG,EAAE,iBADH;AAEFvI,UAAI,EAAE,6BAFJ;AAGFvD,UAAI,EAAE,MAHJ;AAIFwF,WAAK,EAAE;AAJL,KAVK,CAHe;AAmBvBA,SAAK,EAAG,EAnBe;AAoBvBw8F,eAAW,EAAE,wCApBU;AAqBvBtQ,SAAK,EAAE;AArBgB;AA1BR,CAAjB;;AAmDAtzF,mBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3Bz5C,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,WAApB,EAAiC,sBAAjC,EAA0Dnb,CAAD,IAAc;AACtE,UAAM1G,MAAyB,GAAI0G,CAAC,CAACmd,aAArC;AACA,UAAMqY,GAAG,GAAG,IAAIgmC,GAAJ,CAAQliE,MAAM,CAAC+O,IAAf,EAAqBH,QAAQ,CAACG,IAA9B,CAAZ;AAGA,QAAImtB,GAAG,CAAC4jD,YAAJ,CAAiB1rE,GAAjB,CAAqB,OAArB,CAAJ,EAAmC;;AAEnC,QAAI2jE,OAAO,CAACa,gBAAR,CAAyBlxE,IAAzB,CAA8Bw0B,GAAG,CAAC49C,QAAlC,CAAJ,EAAiD;AAChD,UAAI,CAACr/E,mBAAM,CAACkF,OAAP,CAAe6hM,iBAAf,CAAiC3/L,KAAtC,EAA6C;AAC7C,UAAI,CAACpH,mBAAM,CAACkF,OAAP,CAAe8hM,wBAAf,CAAwC5/L,KAAzC,IAAkDq6B,GAAG,CAAC4jD,YAAJ,CAAiB1rE,GAAjB,CAAqB,SAArB,CAAtD,EAAuF;AACvF;;AAED,UAAMzS,OAAO,GAAGy3E,WAAW,CAACnB,QAAZ,CAAqB/7C,GAAG,CAAC49C,QAAzB,CAAhB;AACA,QAAI,CAACn4E,OAAL,EAAc;AAEd,UAAMk3E,SAAS,GAAGl3E,OAAO,CAAC,CAAD,CAAP,CAAWO,WAAX,EAAlB;AAGA,UAAM,GAAGy/L,YAAH,EAAiBC,eAAjB,IACLnnM,mBAAM,CAACkF,OAAP,CAAe+hM,sBAAf,CAAsC7/L,KAAtC,CAA4C2I,IAA5C,CAAiD,CAAC,CAAC4vE,UAAD,CAAD,KAAkBA,UAAU,CAACl4E,WAAX,GAAyBD,KAAzB,CAA+B,GAA/B,EAAoCo6C,QAApC,CAA6Cw8B,SAA7C,CAAnE,KACA,CAAC,IAAD,EAAOp+E,mBAAM,CAACkF,OAAP,CAAe2hM,mBAAf,CAAmCz/L,KAA1C,EAAiDpH,mBAAM,CAACkF,OAAP,CAAe4hM,sBAAf,CAAsC1/L,KAAvF,CAFD;AAMA,QAAI,CAAC00B,QAAQ,CAACorK,YAAD,EAAe,EAAf,CAAb,EAAiC;AAEjC,UAAME,YAAY,GAAGtrK,QAAQ,CAACqrK,eAAD,EAAkB,EAAlB,CAA7B;;AACA,QAAIC,YAAJ,EAAkB;AACjB,YAAMj3G,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAWjmE,CAAC,CAACmd,aAAb,CAAd;AACA,UAAI+mE,KAAK,IAAIA,KAAK,CAACgC,MAAN,EAAT,IAA2B,CAAChC,KAAK,CAACkE,eAAN,MAA2B,CAA5B,IAAiC+yG,YAAhE,EAA8E;AAC9E;;AAED3lK,OAAG,CAAC4jD,YAAJ,CAAiBnkE,GAAjB,CAAqB,OAArB,EAA8BgmL,YAA9B;AACA3hM,UAAM,CAACgI,eAAP,CAAuB,kBAAvB;AACAhI,UAAM,CAAC+O,IAAP,GAAcmtB,GAAG,CAACntB,IAAlB;AACA,GAnCD;AAoCA,CArCD,C;;AC9DA;AACA;AACA;AACA;AAEO,MAAMtU,2BAAiB,GAAG,IAAIirH,MAAJ,CAAW,sBAAX,CAA1B;AAEPjrH,2BAAM,CAACkrH,UAAP,GAAoB,oBAApB;AACAlrH,2BAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,2BAAM,CAAC4jG,WAAP,GAAqB,oBAArB;AAEA5jG,2BAAM,CAACurH,OAAP,GAAiB,CAChB,UADgB,EAEhB,OAFgB,CAAjB;AAKA,MAAM87E,eAAe,GAAG,sBAAxB;AACA,MAAMngC,8BAAiB,GAAG,CAACvoF,WAAW,CAACnB,QAAZ,CAAqBrpE,QAAQ,CAACkrE,QAA9B,KAA2C,EAA5C,EAAgD,CAAhD,CAA1B;AACA,MAAMsf,iCAAY,GAAGK,uBAAO,CAAClR,UAAR,CAAmB,uBAAnB,EAA4C,OAG3D;AACLgR,YAAU,EAAEp2F,IAAI,CAACyiB,GAAL;AADP,CAH2D,CAA5C,CAArB;AAMA,MAAMrH,4BAAO,GAAGojJ,8BAAS,IAAIvoE,iCAAY,CAAC/6F,GAAb,CAAiBsjK,8BAAjB,CAA7B;;AAEAlnK,2BAAM,CAAC+rH,UAAP,GAAoB,YAAY;AAC/B,QAAM;AAAEu7E;AAAF,MAAsB,OAAMxjL,4BAAN,KAAiB,EAA7C;AACA,MAAI,CAACwjL,eAAL,EAAsB;AAEtBlnG,gBAAc,CAAC,CAAC,SAAD,CAAD,EAAcjQ,KAAK,IAAI;AACpC,QAAIm3G,eAAe,CAACpmM,cAAhB,CAA+BivF,KAAK,CAACoF,WAAN,EAA/B,CAAJ,EAAyDpF,KAAK,CAAC2F,kBAAN,CAAyB,IAAzB,EAA+BuxG,eAA/B;AACzD,GAFa,EAEX;AAAEr2G,aAAS,EAAE;AAAb,GAFW,CAAd;AAGA,CAPD;;AASAhxF,2BAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3BskH,yBAAuB;AAEvB7oG,sBAAoB,CAAC,sBAAD,EAAyBC,iCAAzB,CAApB;AACA,CAJD;;AAMA,SAAS4oG,uBAAT,GAAmC;AAClC/9J,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6B,UAA7B,EAA0Cnb,CAAD,IAAmB;AAC3D,UAAMkkF,KAAK,GAAGT,WAAK,CAACM,WAAN,CAAkB/jF,CAAC,CAACmd,aAApB,CAAd;AACA,UAAMo+K,SAAS,GAAGr3G,KAAK,CAAC8F,WAAN,EAAlB;;AAEA,QAAIuxG,SAAJ,EAAe;AAEd,YAAMC,qBAAqB,GAAGx7L,CAAC,CAACmd,aAAF,CAAgB3mB,YAAhB,CAA6B,iBAA7B,CAA9B;AACA,UAAIglM,qBAAqB,IAAIA,qBAAqB,KAAKJ,eAAvD,EAAwE;AAExE1oG,uCAAY,CAACxlC,KAAb,CAAmB+tG,8BAAnB,EAA8B;AAAEogC,uBAAe,EAAE;AAAE,WAACn3G,KAAK,CAACoF,WAAN,EAAD,GAAuB;AAAzB,SAAnB;AAAoDuJ,kBAAU,EAAEp2F,IAAI,CAACyiB,GAAL;AAAhE,OAA9B;AACA,KAND,MAMO;AACNlf,OAAC,CAACmd,aAAF,CAAgB7b,eAAhB,CAAgC,iBAAhC;AACAoxF,uCAAY,CAAC1R,UAAb,CAAwBi6E,8BAAxB,EAAmC,iBAAnC,EAAsD/2E,KAAK,CAACoF,WAAN,EAAtD;AACA;AACD,GAdD;AAeA,C;;;;;ACzDD;AAEA;AACA;AAEA;AACA;AACA;AAUA;AACA;AACA;AAEO,MAAMv1F,qBAAiB,GAAG,IAAIirH,MAAJ,CAAW,gBAAX,CAA1B;AAEPjrH,qBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,qBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,qBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AACA5jG,qBAAM,CAACkF,OAAP,GAAiB;AAChBwiM,iBAAe,EAAE;AAChB9lM,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,IAFS;AAGhBw8F,eAAW,EAAE,mCAHG;AAIhBtQ,SAAK,EAAE;AAJS,GADD;AAOhBq0G,qBAAmB,EAAE;AACpB/lM,QAAI,EAAE,SADc;AAEpBwF,SAAK,EAAE,KAFa;AAGpBw8F,eAAW,EAAE,uCAHO;AAIpBtQ,SAAK,EAAE,wCAJa;AAKpBg4B,aAAS,EAAE;AALS,GAPL;AAchBs8E,eAAa,EAAE;AACdhmM,QAAI,EAAE,SADQ;AAEdwF,SAAK,EAAE,CAAC,EAAD,EAAK,KAAL,EAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,CAFO;AAGdw8F,eAAW,EAAE,iCAHC;AAIdtQ,SAAK,EAAE;AAJO,GAdC;AAoBhBu0G,YAAU,EAAE;AACXjmM,QAAI,EAAE,SADK;AAEXwF,SAAK,EAAE,IAFI;AAGXw8F,eAAW,EAAE,8BAHF;AAIXtQ,SAAK,EAAE,+BAJI;AAKX2mC,YAAQ,EAAE,IALC;AAMX3O,aAAS,EAAE;AANA,GApBI;AA4BhBw8E,mBAAiB,EAAE;AAClBlmM,QAAI,EAAE,SADY;AAElBwF,SAAK,EAAE,IAFW;AAGlBw8F,eAAW,EAAE,qCAHK;AAIlBtQ,SAAK,EAAE,sCAJW;AAKlB2mC,YAAQ,EAAE;AALQ,GA5BH;AAmChB8tE,gBAAc,EAAE;AACfnmM,QAAI,EAAE,SADS;AAEfwF,SAAK,EAAE,IAFQ;AAGfw8F,eAAW,EAAE,kCAHE;AAIftQ,SAAK,EAAE,mCAJQ;AAKf2mC,YAAQ,EAAE;AALK,GAnCA;AA0ChB+tE,eAAa,EAAE;AACdpmM,QAAI,EAAE,SADQ;AAEdwF,SAAK,EAAE,IAFO;AAGdw8F,eAAW,EAAE,iCAHC;AAIdtQ,SAAK,EAAE,kCAJO;AAKd2mC,YAAQ,EAAE;AALI,GA1CC;AAiDhBguE,0BAAwB,EAAE;AACzBrmM,QAAI,EAAE,SADmB;AAEzBwF,SAAK,EAAE,IAFkB;AAGzBw8F,eAAW,EAAE,4CAHY;AAIzBtQ,SAAK,EAAE,6CAJkB;AAKzB2mC,YAAQ,EAAE;AALe,GAjDV;AAwDhBiuE,sBAAoB,EAAE;AACrBtmM,QAAI,EAAE,SADe;AAErBwF,SAAK,EAAE,IAFc;AAGrBw8F,eAAW,EAAE,wCAHQ;AAIrBtQ,SAAK,EAAE,yCAJc;AAKrB2mC,YAAQ,EAAE;AALW,GAxDN;AA+DhBkuE,gBAAc,EAAE;AACfvmM,QAAI,EAAE,SADS;AAEfwF,SAAK,EAAE,IAFQ;AAGfw8F,eAAW,EAAE,kCAHE;AAIftQ,SAAK,EAAE,mCAJQ;AAKf2mC,YAAQ,EAAE;AALK;AA/DA,CAAjB;AAuEAj6H,qBAAM,CAACurH,OAAP,GAAiB,CAChB,UADgB,EAEhB,OAFgB,EAGhB,QAHgB,EAIhB,SAJgB,EAKhB,UALgB,EAMhB,gBANgB,EAOhB,MAPgB,CAAjB;AASAvrH,qBAAM,CAACwrH,OAAP,GAAiB,CAChB,KADgB,EAEhB,4DAFgB,CAAjB;AAKA,MAAM48E,eAAe,GAAG,IAAI5kH,GAAJ,EAAxB;AACA,IAAI6kH,MAAJ,EAAYC,KAAZ;;AAEAtoM,qBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzBs8E,QAAM,GAAGlrH,UAAU,CAAC,MAAD,CAAnB;AACAmrH,OAAK,GAAI,uEAAD,CAA0Er7L,IAA1E,CAA+EkH,QAAQ,CAACG,IAAxF,CAAR;AAEA,QAAM8pE,SAAS,GAAGqB,gBAAgB,EAAlC;AACA,MAAI4oH,MAAM,IAAIjqH,SAAd,EAAyBmqH,cAAc,CAACnqH,SAAD,CAAd;AACzB,CAND;;AAQAp+E,qBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,qBAAM,CAACkF,OAAP,CAAewiM,eAAf,CAA+BtgM,KAAnC,EAA0C;AACzCoiC,oBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6B,kBAA7B,EAAiDohL,aAAjD;;AAEA,QAAIr2E,SAAA,CAAkBg2D,2BAAlB,CAAJ,EAAoC;AACnC3+I,sBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,SAApB,EAA+B,6CAA/B,EAA+Enb,CAAD,IAAsB;AACnG,YAAIowF,iBAAiB,CAACpwF,CAAD,EAAIjM,qBAAM,CAACkF,OAAP,CAAe0iM,aAAf,CAA6BxgM,KAAjC,CAArB,EAA8D;AAC7DohM,uBAAa,CAACv8L,CAAD,CAAb;AACA;AACD,OAJD;AAKA;AACD;;AAED,MAAIo8L,MAAJ,EAAY;AACXI,qBAAiB;AACjBC,sBAAkB,CAACxoM,QAAQ,CAAC24E,aAAT,CAAuB,WAAvB,CAAD,CAAlB;AACA,GAHD,MAGO;AACNrvC,oBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6BgxJ,uBAA7B,EAAmEnsK,CAAC,IAAI;AACvEy8L,wBAAkB,CAACz8L,CAAC,CAACmd,aAAH,CAAlB;AACAu/K,mBAAa,CAAC18L,CAAC,CAACmd,aAAH,CAAb;AACA,KAHD;AAIA;AACD,CAtBD;;AAwBA,eAAem/K,cAAf,CAA8BnqH,SAA9B,EAAyC;AACxC,QAAM;AAAEj9D;AAAF,MAAY,MAAMkhB,IAAI,CAAC;AAC5BZ,OAAG,EAAG,MAAK28C,SAAU,wBADO;AAE5Bx8E,QAAI,EAAE;AAFsB,GAAD,CAA5B;;AAKA,MAAIuf,IAAI,IAAIA,IAAI,CAACkoH,MAAjB,EAAyB;AACxB,SAAK,MAAM;AAAElkI,UAAF;AAAQs8B;AAAR,KAAX,IAA4BtgB,IAAI,CAACkoH,MAAjC,EAAyC;AACxC++D,qBAAe,CAAClnL,GAAhB,CAAoB/b,IAApB,EAA0Bs8B,GAA1B;AACA;AACD;AACD;;AAED,SAASmnK,cAAT,CAAwB7hE,EAAxB,EAA4B;AAC3B,MAAIuhE,KAAK,IAAIvhE,EAAE,CAACrjI,MAAhB,EAAwB;AACvBqjI,MAAE,GAAG8hE,kBAAkB,CAAC9hE,EAAD,EAAKtnD,gBAAgB,MAAM,EAA3B,CAAvB;AACA;;AAED,MAAI,CAAC4oH,MAAL,EAAa;AACZ,WAAO/yD,mBAAQ,CAACvO,EAAD,CAAf;AACA,GAFD,MAEO;AAWN,UAAM+hE,IAAI,GAAGt/J,gBAAC,CAAC,QAAD,CAAD,CAAY9a,IAAZ,CAAiB6mH,YAAY,CAACxO,EAAD,CAA7B,CAAb;;AAEA,SAAK,MAAMyC,GAAX,IAAqCs/D,IAAI,CAAC/4L,IAAL,CAAU,KAAV,CAArC,EAA6D;AAC5D,YAAMlO,GAAG,GAAG2nI,GAAG,CAAC/mI,YAAJ,CAAiB,KAAjB,CAAZ;AACA,YAAMsmM,MAAM,GAAGlnM,GAAG,IAAIA,GAAG,CAAC2+E,UAAJ,CAAe,IAAf,CAAP,IAA+B3+E,GAAG,CAAC+gF,QAAJ,CAAa,IAAb,CAA/B,IAAqD/gF,GAAG,CAAClB,KAAJ,CAAU,KAAK+C,MAAf,EAAuB,CAAC,KAAKA,MAA7B,CAApE;AACA,YAAMslM,WAAW,GAAGD,MAAM,IAAIX,eAAe,CAACxkM,GAAhB,CAAoBmlM,MAApB,CAA9B;;AAEA,UAAIC,WAAJ,EAAiB;AAEhBx/D,WAAG,CAAC3nI,GAAJ,GAAUmnM,WAAV;AACA,OAHD,MAGO;AAENx/D,WAAG,CAAC9tH,MAAJ;AACA;AACD;;AAED,UAAMsgE,SAAS,GAAG,IAAIwH,GAAJ,EAAlB;AACA,UAAMx/C,OAAO,GAAG8kK,IAAI,CAAC/4L,IAAL,CAAU,wBAAV,CAAhB;AACA,UAAMk5L,MAAM,GAAGz/J,gBAAC,CAAC,OAAD,CAAD,CAAWtN,QAAX,CAAoB,KAApB,CAAf;AACA,QAAIgtK,OAAO,GAAG1/J,gBAAC,CAAC,MAAD,CAAf;AACA0/J,WAAO,CAAC/nL,IAAR,CAAa,OAAb,EAAsB,CAAtB;AACA8nL,UAAM,CAAC75K,MAAP,CAAc85K,OAAd;AACA,QAAIj/I,KAAK,GAAG,CAAZ;AACA,QAAI6mB,QAAQ,GAAG,CAAf;AAEA9sC,WAAO,CAAC7/B,IAAR,CAAa,YAAW;AACvB,YAAMsV,QAAQ,GAAG+vB,gBAAC,CAAC,IAAD,CAAD,CAAQhnC,IAAR,EAAjB;AACA,UAAI2mM,GAAG,GAAG3/J,gBAAC,CAAC,OAAD,CAAD,CAAW9a,IAAX,CAAgBjV,QAAhB,EAA0BjX,IAA1B,EAAV;AACA2mM,SAAG,GAAI,GAJO,MAIE,IAAGA,GAAG,CAACnjM,OAAJ,CAAY,IAAZ,EAAkB,GAAlB,EAAuByB,WAAvB,EAAqC,EAAxD;AACA0hM,SAAG,GAAGA,GAAG,CAACnjM,OAAJ,CAAY,YAAZ,EAA0Bu4B,CAAC,IAAK,IAAGA,CAAC,CAAC/yB,UAAF,CAAa,CAAb,EAAgBxK,QAAhB,CAAyB,EAAzB,EAA6Byf,WAA7B,EAA2C,EAA9E,CAAN;AACA,YAAM2oL,KAAK,GAAG,CAACptH,SAAS,CAACp4E,GAAV,CAAculM,GAAd,KAAsB,CAAvB,IAA4B,CAA1C;AACAntH,eAAS,CAAC96D,GAAV,CAAcioL,GAAd,EAAmBC,KAAnB;;AAEA,UAAIA,KAAK,GAAG,CAAZ,EAAe;AACdD,WAAG,IAAIC,KAAP;AACA;;AAED5/J,sBAAC,CAAC,IAAD,CAAD,CAAQl4B,IAAR,CAAa,IAAb,EAAmB63L,GAAnB;AAEA,YAAMvwG,EAAE,GAAGpvD,gBAAC,CAAC,MAAD,CAAD,CAAUtN,QAAV,CAAmBitK,GAAnB,CAAX;AACA,YAAM//L,CAAC,GAAGogC,gBAAC,CAAC,KAAD,CAAD,CAASl4B,IAAT,CAAc,MAAd,EAAuB,IAAG63L,GAAI,EAA9B,EAAiC3mM,IAAjC,CAAsCiX,QAAtC,CAAV;AACAm/E,QAAE,CAACxpE,MAAH,CAAUhmB,CAAV;AAEA,YAAMigM,SAAS,GAAG,CAAC,KAAKrvJ,OAAL,CAAar5C,KAAb,CAAmB,CAAC,CAApB,CAAnB;;AACA,UAAI0oM,SAAS,GAAGv4H,QAAhB,EAA0B;AACzB,cAAMw4H,MAAM,GAAG9/J,gBAAC,CAAC,MAAD,CAAhB;AACA8/J,cAAM,CAACnoL,IAAP,CAAY,OAAZ,EAAqBkoL,SAArB;AACAH,eAAO,CAAC95K,MAAR,CAAek6K,MAAf;AACAJ,eAAO,GAAGI,MAAV;AACAr/I,aAAK;AACL,OAND,MAMO,IAAIo/I,SAAS,GAAGv4H,QAAhB,EAA0B;AAChC,eAAO7mB,KAAK,GAAG,CAAR,IAAai/I,OAAO,CAAC/nL,IAAR,CAAa,OAAb,IAAwBkoL,SAA5C,EAAuD;AACtDH,iBAAO,GAAGA,OAAO,CAAC71L,MAAR,EAAV;AACA42C,eAAK;AACL;AACD;;AACD6mB,cAAQ,GAAGu4H,SAAX;AACAH,aAAO,CAAC95K,MAAR,CAAewpE,EAAf;AACA,KAjCD;AAkCAkwG,QAAI,CAACz5K,OAAL,CAAa45K,MAAb;AACA,WAAOH,IAAI,CAACp6K,IAAL,EAAP;AACA;AACD;;AAED,MAAMg6K,kBAAkB,GAAG,kBAAU9wH,GAAG,IAAI;AAC3C,MAAI,CAAC53E,qBAAM,CAACkF,OAAP,CAAewiM,eAAf,CAA+BtgM,KAApC,EAA2C;AAE3C,QAAMmiM,eAAe,GAAG7sH,cAAc,CAAC/7D,sBAAM,CAAC+N,IAAK;;;;EAAb,CAAtC;;AAMA,MAAI45K,KAAK,IAAID,MAAb,EAAqB;AACpBzwH,OAAG,CAACpoD,KAAJ,CAAU+5K,eAAV;AACA,GAFD,MAEO;AACN,UAAMh5K,SAAS,GAAGqnD,GAAG,CAAC99D,OAAJ,CAAY,gBAAZ,CAAlB;AACA,QAAI,CAACyW,SAAL,EAAgB;AAChB,UAAMypD,MAAM,GAAGzpD,SAAS,CAACsoD,aAAV,CAAwB,cAAxB,CAAf;AACAmB,UAAM,CAAC3qD,OAAP,CAAek6K,eAAf;AACA;AACD,CAjB0B,CAA3B;;AAmBA,MAAMZ,aAAa,GAAG,kBAAUp8B,QAAQ,IAAI;AAC3C,MACC,CAACvsK,qBAAM,CAACkF,OAAP,CAAe4iM,iBAAf,CAAiC1gM,KAAlC,IAA2CmlK,QAAQ,CAACzyJ,OAAT,CAAiB,wBAAjB,CAA3C,IACA,CAAC9Z,qBAAM,CAACkF,OAAP,CAAe6iM,cAAf,CAA8B3gM,KAA/B,KAAyC+1E,UAAU,CAAC,QAAD,CAAV,IAAwBovF,QAAQ,CAACzyJ,OAAT,CAAiB,OAAjB,CAAjE,CADA,IAEA,CAAC9Z,qBAAM,CAACkF,OAAP,CAAe+iM,wBAAf,CAAwC7gM,KAAzC,IAAmD,8BAAD,CAAiC6F,IAAjC,CAAsCkH,QAAQ,CAACkrE,QAA/C,CAFlD,IAGA,CAACr/E,qBAAM,CAACkF,OAAP,CAAegjM,oBAAf,CAAoC9gM,KAArC,IAA8CkhM,KAJ/C,EAKE;AACD;AACA;;AAED,QAAM/3K,SAAS,GAAGg8I,QAAQ,CAACzyJ,OAAT,CAAiB,yBAAjB,CAAlB;AACA,MAAI,CAACyW,SAAL,EAAgB;AAEhB,QAAMunH,OAAO,GAAGp7D,cAAc,CAAC8sH,cAAc,EAAf,CAA9B;AAEA,QAAMn4L,QAAQ,GAAG,CAACymI,OAAO,CAACj/D,aAAR,CAAsB,oBAAtB,CAAD,CAAjB;;AACA,MAAI74E,qBAAM,CAACkF,OAAP,CAAeijM,cAAf,CAA8B/gM,KAA9B,IAAuCmlK,QAAQ,CAAC9pK,YAAT,CAAsB,MAAtB,MAAkC,aAA7E,EAA4F;AAC3F4O,YAAQ,CAACxQ,IAAT,CAAcX,QAAQ,CAAC24E,aAAT,CAAuB,0BAAvB,CAAd;AACA;;AAEDrvC,kBAAC,CAAC+iI,QAAD,CAAD,CAAYnlJ,EAAZ,CAAe,OAAf,EAAwB,mBAAW,MAAMqiL,eAAe,CAACl9B,QAAD,EAAWz0B,OAAX,EAAoBzmI,QAApB,CAAhC,EAA+D,GAA/D,CAAxB;AAIAo4L,iBAAe,CAACl9B,QAAD,EAAWz0B,OAAX,EAAoBzmI,QAApB,CAAf;AAGAm4B,kBAAC,CAAC+iI,QAAQ,CAACzyJ,OAAT,CAAiB,MAAjB,CAAD,CAAD,CAA4BsN,EAA5B,CAA+B,QAA/B,EAAyC,MAAM;AAC9C0wH,WAAO,CAACp8H,MAAR;AACA,GAFD;AAIA6U,WAAS,CAACnB,MAAV,CAAiB0oH,OAAjB;AACA,CAhCqB,CAAtB;;AAkCA,SAAS2wD,iBAAT,GAA6B;AAC5B,MAAI,CAACzoM,qBAAM,CAACkF,OAAP,CAAe8iM,aAAf,CAA6B5gM,KAAlC,EAAyC;AAEzC,QAAM0wI,OAAO,GAAG0xD,cAAc,EAA9B;AACA1xD,SAAO,CAACj/D,aAAR,CAAsB,KAAtB,EAA6B6H,SAA7B,CAAuCzmE,GAAvC,CAA2C,MAA3C;AACA/Z,UAAQ,CAAC24E,aAAT,CAAuB,gBAAvB,EAAyCrpD,KAAzC,CAA+CsoH,OAA/C;AACA,QAAMr+H,QAAQ,GAAGq+H,OAAO,CAACj/D,aAAR,CAAsB,oBAAtB,CAAjB;AAEArvC,kBAAC,CAAC,oBAAD,CAAD,CAAwBpiB,EAAxB,CAA2B,aAA3B,EAA0C,mBAAWnb,CAAC,IAAIw9L,eAAe,CAACx9L,CAAC,CAACmd,aAAH,EAAkB0uH,OAAlB,EAA2B,CAACr+H,QAAD,CAA3B,CAA/B,EAAuE,GAAvE,CAA1C;AACA;;AAED,SAASgwL,eAAT,CAAyBl9B,QAAzB,EAAmCz0B,OAAnC,EAA4CzmI,QAA5C,EAAsD;AACrD,QAAMq4L,YAAY,GAAGjyH,QAAQ,CAAC80F,QAAD,EAAWjzC,mBAAX,CAAR,CAAwClyH,KAA7D;;AAEA,MAAIsiM,YAAY,CAAChmM,MAAjB,EAAyB;AACxB,QAAIo0I,OAAJ,EAAaA,OAAO,CAAChhH,MAAR,GAAiB,KAAjB;;AAEb,SAAK,MAAM8gD,GAAX,IAAkBvmE,QAAlB,EAA4BumE,GAAG,CAACznE,SAAJ,GAAgBy4L,cAAc,CAACc,YAAD,CAA9B;AAC5B,GAJD,MAIO;AACN,QAAI5xD,OAAJ,EAAaA,OAAO,CAAChhH,MAAR,GAAiB,IAAjB;;AACb,SAAK,MAAM8gD,GAAX,IAAkBvmE,QAAlB,EAA4BsK,KAAK,CAACi8D,GAAD,CAAL;AAC5B;AACD;;AAED,SAAS4xH,cAAT,GAA0B;AACzB,SAAO7oL,sBAAM,CAAC+N,IAAK;;;KAGf/N,sBAAM,CAACugE,IAAP,CAAYo5C,eAAA,CAAmCt6H,qBAAM,CAAC2nH,QAA1C,EAAoD/hH,SAApD,EAA+D,GAA/D,EAAoE,UAApE,CAAZ,CAA6F;;;EAHjG;AAOA;;AAED,MAAM+jM,eAAe,GAAG,sBAAO,MAAM;AACpC,QAAMC,OAAO,GAAGpgK,gBAAC,CAAC,sBAAD,CAAjB;AACA,QAAMqgK,KAAK,GAAGrgK,gBAAC,CAAC,0DAAD,CAAf;AACA,QAAMsgK,SAAS,GAAGtgK,gBAAC,CAAC,8FAAD,CAAnB;AACA,QAAMugK,SAAS,GAAGD,SAAS,CAAC/5L,IAAV,CAAe,UAAf,CAAlB;AACA,QAAMi6L,KAAK,GAAGxgK,gBAAC,CAAC,sBAAD,CAAf;;AACA,MAAI,CAAC8+J,KAAL,EAAY;AACX0B,SAAK,CAAC56K,MAAN,CAAaoa,gBAAC,CAAC,qCAAD,CAAD,CAAyCpiB,EAAzC,CAA4C,OAA5C,EAAqD,MAAM;AACvE,YAAMxiB,GAAG,GAAGmlM,SAAS,CAAC1nM,GAAV,GAAgBqB,MAA5B;AACA,YAAM8vB,GAAG,GAAGu2K,SAAS,CAAC5oL,IAAV,CAAe,YAAf,CAAZ;;AACA,UAAIvc,GAAG,GAAG4uB,GAAV,EAAe;AACdgW,wBAAC,CAAC,8BAAD,CAAD,CAAkChlB,IAAlC,GAAyC3U,MAAzC,CAAgD,WAAhD,EAA6DrN,IAA7D,CAAmE,0BAAyBgxB,GAAI,GAAhG,EAAoGlP,IAApG;AACA,OAFD,MAEO,IAAI1f,GAAG,KAAK,CAAZ,EAAe;AACrB4kC,wBAAC,CAAC,8BAAD,CAAD,CAAkChlB,IAAlC,GAAyC3U,MAAzC,CAAgD,UAAhD,EAA4DyU,IAA5D;AACA,OAFM,MAEA;AACN2lL,qBAAa,CAAC,IAAD,CAAb;AACA;AACD,KAVY,CAAb;AAWA;;AACDD,OAAK,CAAC56K,MAAN,CAAaoa,gBAAC,CAAC,sCAAD,CAAD,CAA0CpiB,EAA1C,CAA6C,OAA7C,EAAsD,MAAM6iL,aAAa,EAAzE,CAAb;AAEAD,OAAK,CAAC56K,MAAN,CAAaoa,gBAAC,CAAE;;;;;EAAF,CAAd;AAOAsgK,WAAS,CAAC16K,MAAV,CAAiB46K,KAAjB;AACAH,OAAK,CAACz6K,MAAN,CAAa06K,SAAb;AAEA,QAAMI,MAAM,GAAG1gK,gBAAC,CAAE;;;EAAF,CAAhB;AAIAogK,SAAO,CAACx6K,MAAR,CAAey6K,KAAf,EAAsBz6K,MAAtB,CAA6B86K,MAA7B;AAEAA,QAAM,CAACn6L,IAAP,CAAY,iBAAZ,EAA+BqX,EAA/B,CAAkC,OAAlC,EAA2C,MAAM6iL,aAAa,EAA9D;AAEA,QAAME,QAAQ,GAAGD,MAAM,CAACn6L,IAAP,CAAY,aAAZ,CAAjB;AACAg6L,WAAS,CAAC3iL,EAAV,CAAa,OAAb,EAAsB,mBAAW,MAAMqiL,eAAe,CAACM,SAAS,CAACnmM,GAAV,CAAc,CAAd,CAAD,EAAmB,IAAnB,EAAyB,CAACumM,QAAQ,CAACvmM,GAAT,CAAa,CAAb,CAAD,CAAzB,CAAhC,EAA6E,GAA7E,CAAtB;AAEAgmM,SAAO,CAACxiL,EAAR,CAAW,SAAX,EAAuBnb,CAAD,IAAsB;AAE3C,QAAIA,CAAC,CAACyB,GAAF,KAAUitF,UAAU,CAACI,MAAzB,EAAiC;AAChCkvG,mBAAa;AACbh+L,OAAC,CAACsd,cAAF;AACA,aAAO,KAAP;AACA;AACD,GAPD;AASA,SAAOqgL,OAAP;AACA,CApDuB,CAAxB;;AAsDA,IAAIQ,cAAJ;;AAEA,SAAS5B,aAAT,CAAuBv8L,CAAvB,EAAiC;AAChCA,GAAC,CAACsd,cAAF;AACA,QAAMqgL,OAAO,GAAGD,eAAe,EAA/B;AACAngK,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CACEgL,MADF,CACSw6K,OADT,EAEE1tK,QAFF,CAEW,eAFX;AAGA,QAAM6tK,SAAS,GAAGH,OAAO,CAAC75L,IAAR,CAAa,UAAb,CAAlB;AACA,MAAIs6L,SAAJ;;AACA,MAAI,CAAChC,MAAD,IAAW,CAACC,KAAhB,EAAuB;AACtB+B,aAAS,GAAG7gK,gBAAC,CAACv9B,CAAC,CAACmd,aAAH,CAAD,CAAmBhP,OAAnB,CAA2B,sBAA3B,EAAmDrK,IAAnD,CAAwD,UAAxD,CAAZ;AAEA,UAAMmnF,KAAK,GAAGmzG,SAAS,CAAC/4L,IAAV,CAAe,YAAf,CAAd;AACAy4L,aAAS,CAACz4L,IAAV,CAAe,YAAf,EAA6B4lF,KAA7B;AACA1tD,oBAAC,CAAC,aAAD,CAAD,CAAiBjN,WAAjB,CAA6B,MAA7B;AACAiN,oBAAC,CAAC,6BAAD,CAAD,CAAiCjN,WAAjC,CAA6C,mBAA7C;AACA,GAPD,MAOO,IAAI+rK,KAAJ,EAAW;AACjB+B,aAAS,GAAG7gK,gBAAC,CAAC,cAAD,CAAb;AAEA,UAAM0tD,KAAK,GAAGmzG,SAAS,CAAC/4L,IAAV,CAAe,YAAf,CAAd;AACAy4L,aAAS,CAACz4L,IAAV,CAAe,YAAf,EAA6B4lF,KAA7B;AACA1tD,oBAAC,CAAC,aAAD,CAAD,CAAiBjN,WAAjB,CAA6B,MAA7B;AACAiN,oBAAC,CAAC,6BAAD,CAAD,CAAiCjN,WAAjC,CAA6C,mBAA7C;AACA,GAPM,MAOA;AACN8tK,aAAS,GAAG7gK,gBAAC,CAAC,oBAAD,CAAb;AACAA,oBAAC,CAAC,aAAD,CAAD,CAAiBtN,QAAjB,CAA0B,MAA1B;AACAsN,oBAAC,CAAC,6BAAD,CAAD,CAAiCtN,QAAjC,CAA0C,mBAA1C;AACA;;AAED,QAAMo5G,QAAQ,GAAG+0D,SAAS,CAAChoM,GAAV,EAAjB;AACA,QAAMyzE,SAAS,GAAGu0H,SAAS,CAAClpL,IAAV,CAAe,YAAf,CAAlB;AACA4oL,WAAS,CAAC5oL,IAAV,CAAe,YAAf,EAA6B20D,SAA7B,EAAwCzzE,GAAxC,CAA4CizI,QAA5C,EAAsDtoH,KAAtD;AACAo9K,gBAAc,GAAGC,SAAjB;AACAN,WAAS,CAACnmM,GAAV,CAAc,CAAd,EAAiB61E,aAAjB,CAA+B,IAAI1vD,KAAJ,CAAU,OAAV,EAAmB;AAAEuB,WAAO,EAAE,IAAX;AAAiBC,cAAU,EAAE;AAA7B,GAAnB,CAA/B;AACA;;AAED,SAAS0+K,aAAT,CAAuB/rF,IAAa,GAAG,KAAvC,EAA8C;AAC7C,MAAI,CAACksF,cAAL,EAAqB,MAAM,IAAIhqM,KAAJ,EAAN;AAErB,QAAMwpM,OAAO,GAAGD,eAAe,EAA/B;AACA,QAAMI,SAAS,GAAGH,OAAO,CAAC75L,IAAR,CAAa,UAAb,CAAlB;AAEAq6L,gBAAc,CAAC/nM,GAAf,CAAmB0nM,SAAS,CAAC1nM,GAAV,EAAnB;AACA+nM,gBAAc,CAACxmM,GAAf,CAAmB,CAAnB,EAAsB61E,aAAtB,CAAoC,IAAI1vD,KAAJ,CAAU,OAAV,EAAmB;AAAEuB,WAAO,EAAE,IAAX;AAAiBC,cAAU,EAAE;AAA7B,GAAnB,CAApC;;AAEA,MAAI2yF,IAAJ,EAAU;AACTksF,kBAAc,CAACtwL,OAAf,CAAuB,MAAvB,EAA+B/J,IAA/B,CAAoC,yCAApC,EAA+Esa,KAA/E;AACA,GAFD,MAEO;AACN+/K,kBAAc,CAACp9K,KAAf;AACA;;AAGD48K,SAAO,CAAChmM,GAAR,CAAY,CAAZ,EAAe8X,MAAf;AACA8tB,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBmY,WAAjB,CAA6B,eAA7B;AAEA6tK,gBAAc,GAAG,IAAjB;AACA;;AAED,SAASvB,kBAAT,CAA4BxpL,OAA5B,EAAqC++D,SAArC,EAAgD;AAC/C,SAAO,CACL,4CAA2CA,SAAU,QAAOA,SAAU,IADjE,EAEN,EAFM,EAGN,2BAHM,EAIN,EAJM,EAKN/+D,OAAO,CAACrZ,OAAR,CAAgB,KAAhB,EAAuB,IAAvB,CALM,EAMN,EANM,EAON,iQAPM,EAQLmH,IARK,CAQA,MARA,CAAP;AASA,C;;;ACncD;AAEA;AACA;AAOO,MAAMnN,2BAAiB,GAAG,IAAIirH,MAAJ,CAAW,sBAAX,CAA1B;AAEPjrH,2BAAM,CAACkrH,UAAP,GAAoB,0BAApB;AACAlrH,2BAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,2BAAM,CAAC4jG,WAAP,GAAqB,0BAArB;AAEA5jG,2BAAM,CAACkF,OAAP,GAAiB;AAChBolM,iCAA+B,EAAE;AAChC1oM,QAAI,EAAE,SAD0B;AAEhCwF,SAAK,EAAE,IAFyB;AAGhCw8F,eAAW,EAAE,qCAHmB;AAIhCtQ,SAAK,EAAE;AAJyB,GADjB;AAOhBi3G,+BAA6B,EAAE;AAC9B3oM,QAAI,EAAE,SADwB;AAE9BwF,SAAK,EAAE,KAFuB;AAG9BkkH,aAAS,EAAE,IAHmB;AAI9B1nB,eAAW,EAAE,mCAJiB;AAK9BtQ,SAAK,EAAE;AALuB,GAPf;AAchBk3G,eAAa,EAAE;AACdlpE,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACqlM,6BAAR,CAAsCnjM,KAD9C;AAEdxF,QAAI,EAAE,OAFQ;AAGdwF,SAAK,EAAE,SAHO;AAIdw8F,eAAW,EAAE,iCAJC;AAKdtQ,SAAK,EAAE;AALO,GAdC;AAqBhBm3G,oBAAkB,EAAE;AACnBnpE,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACqlM,6BAAR,CAAsCnjM,KADzC;AAEnBxF,QAAI,EAAE,OAFa;AAGnBwF,SAAK,EAAE,SAHY;AAInBw8F,eAAW,EAAE,sCAJM;AAKnBtQ,SAAK,EAAE;AALY,GArBJ;AA4BhBo3G,wBAAsB,EAAE;AACvBppE,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACqlM,6BAAR,CAAsCnjM,KADrC;AAEvBxF,QAAI,EAAE,OAFiB;AAGvBwF,SAAK,EAAE,SAHgB;AAIvBw8F,eAAW,EAAE,0CAJU;AAKvBtQ,SAAK,EAAE;AALgB,GA5BR;AAmChBq3G,eAAa,EAAE;AACdrpE,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACqlM,6BAAR,CAAsCnjM,KAD9C;AAEdxF,QAAI,EAAE,MAFQ;AAGdwF,SAAK,EAAE,IAHO;AAIdw8F,eAAW,EAAE,iCAJC;AAKdtQ,SAAK,EAAE;AALO,GAnCC;AA0ChBs3G,oBAAkB,EAAE;AACnBtpE,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACqlM,6BAAR,CAAsCnjM,KADzC;AAEnBxF,QAAI,EAAE,SAFa;AAGnBwF,SAAK,EAAE,KAHY;AAInBkkH,aAAS,EAAE,IAJQ;AAKnB1nB,eAAW,EAAE,sCALM;AAMnBtQ,SAAK,EAAE;AANY,GA1CJ;AAkDhBu3G,kBAAgB,EAAE;AACjBjpM,QAAI,EAAE,SADW;AAEjBwF,SAAK,EAAE,KAFU;AAGjBw8F,eAAW,EAAE,sBAHI;AAIjBtQ,SAAK,EAAE;AAJU;AAlDF,CAAjB;AA0DAtzF,2BAAM,CAACurH,OAAP,GAAiB,CAChB,UADgB,CAAjB;;AAIAvrH,2BAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI/rH,2BAAM,CAACkF,OAAP,CAAeqlM,6BAAf,CAA6CnjM,KAAjD,EAAwD;AACvDmjM,iCAA6B;AAC7B;AACD,CAJD;;AAMAvqM,2BAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,2BAAM,CAACkF,OAAP,CAAeolM,+BAAf,CAA+CljM,KAAnD,EAA0D;AACzDkjM,mCAA+B;AAC/B;;AACD,MAAItqM,2BAAM,CAACkF,OAAP,CAAe2lM,gBAAf,CAAgCzjM,KAApC,EAA2C;AAC1CyjM,oBAAgB;AAChB;AACD,CAPD;;AASA,SAASP,+BAAT,GAA2C;AAC1C9gK,kBAAC,CAAC,cAAD,CAAD,CAAkBpiB,EAAlB,CAAqB,UAArB,EAAiC,UAAjC,EAA8Cnb,CAAD,IAAc;AAC1D,UAAMkkF,KAAK,GAAGT,WAAK,CAACM,WAAN,CAAkB/jF,CAAC,CAACmd,aAApB,CAAd;AACA+mE,SAAK,CAAC2F,kBAAN,CAAyB,CAAC3F,KAAK,CAAC8F,WAAN,EAA1B,EAA+C,sBAA/C;;AAIA,QAAI51F,MAAM,CAAC+6G,YAAP,EAAJ,EAA2B;AAC1B/6G,YAAM,CAAC+6G,YAAP,GAAsBC,eAAtB;AACA;AACD,GATD;AAUA;;AAED,SAASkvF,6BAAT,GAAyC;AACxC,QAAMI,aAAa,GAAG,gBAAQ7uK,QAAQ,CAAC97B,2BAAM,CAACkF,OAAP,CAAeylM,aAAf,CAA6BvjM,KAA9B,EAAqC,EAArC,CAAhB,EAA0D,CAA1D,EAA6D00B,QAAQ,CAAE97B,2BAAM,CAACkF,OAAP,CAAeylM,aAAhB,CAAoCz5H,OAArC,EAA8C,EAA9C,CAArE,IAA0H,GAAhJ;AAEAsL,QAAM,CAAE;;mBAEU,MAAMmuH,aAAc;;;;uBAIhB3qM,2BAAM,CAACkF,OAAP,CAAeulM,kBAAf,CAAkCrjM,KAAM;;;;YAInD,IAAIujM,aAAc;uBACP3qM,2BAAM,CAACkF,OAAP,CAAeslM,aAAf,CAA6BpjM,KAAM;;;;uBAInCpH,2BAAM,CAACkF,OAAP,CAAewlM,sBAAf,CAAsCtjM,KAAM;;EAf5D,CAAN;AAkBA;;AAED,SAASyjM,gBAAT,GAA4B;AAC3BrhK,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6B,SAA7B,EAAyCI,KAAD,IAAuB;AAE9D,QAAI6C,KAAK,CAACsvD,mBAAN,CAA0BnyD,KAA1B,CAAJ,EAAsC;AAEtC,UAAM2oE,KAAK,GAAGT,WAAK,CAACM,WAAN,CAAkBxoE,KAAK,CAACjiB,MAAxB,CAAd;AAEA,QAAI4qF,KAAK,CAACj7C,OAAN,CAAcwrC,SAAd,CAAwBj4E,QAAxB,CAAiC,cAAjC,CAAJ,EAAsD;AAEtD,UAAMlD,MAAM,GAAG4qF,KAAK,CAAC4B,UAAN,CAAiBrC,WAAK,CAACnsF,SAAN,CAAgBuuF,cAAjC,EAAiD;AAAE7W,eAAS,EAAE;AAAb,KAAjD,CAAf;AACA,QAAI,CAAC11E,MAAL,EAAa;AAEbq5H,iCAAa,CAAC19G,GAAd,CAAkB3b,MAAlB,EAA0B;AAAEw1E,iBAAW,EAAE,OAAf;AAAwB7I,UAAI,EAAEie,KAAK,CAAC9gB;AAApC,KAA1B;AACA,GAZD;AAaA,C;;AC/ID;AACA;AAKO,MAAMrvE,oBAAiB,GAAG,IAAIirH,MAAJ,CAAW,eAAX,CAA1B;AAEPjrH,oBAAM,CAACkrH,UAAP,GAAoB,oBAApB;AACAlrH,oBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,oBAAM,CAAC4jG,WAAP,GAAqB,mBAArB;AACA5jG,oBAAM,CAACurH,OAAP,GAAiB,CAAC,KAAD,CAAjB;;AAEAvrH,oBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzBrqB,sBAAoB,CAAC,cAAD,EAAiB,CAACxsD,OAAD,EAAU;AAAEpqC,KAAC,EAAE;AAAE2+E;AAAF;AAAL,GAAV,KAAgC;AACpE,QAAIA,MAAJ,EAAY;;AACZ,UAAMqhH,KAAK,GAAG5qM,QAAQ,CAAC24E,aAAT,CAAuB,0BAAvB,CAAd;;AACA,UAAMpjE,IAAI,GAAGq1L,KAAK,IAAIA,KAAK,CAAC/6G,aAA5B;AACA,QAAI,CAACt6E,IAAD,IAASA,IAAI,CAACojE,aAAL,CAAmB,iBAAnB,CAAb,EAAoD;AACpDpjE,QAAI,CAAC2Z,MAAL,CAAYzO,sBAAM,CAAC+N,IAAK;;;;;;;MAOpB,QAAmB;GAPvB;AASA,GAdmB,CAApB;AAeA,CAhBD,C;;ACbA;AACA;AAEO,MAAM1uB,mBAAiB,GAAG,IAAIirH,MAAJ,CAAW,cAAX,CAA1B;AAEPjrH,mBAAM,CAACkrH,UAAP,GAAoB,kBAApB;AACAlrH,mBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,mBAAM,CAAC4jG,WAAP,GAAqB,kBAArB;AACA5jG,mBAAM,CAACkF,OAAP,GAAiB;AAChB6lM,cAAY,EAAE;AACbnpM,QAAI,EAAE,SADO;AAEbwF,SAAK,EAAE,IAFM;AAGbw8F,eAAW,EAAE,8BAHA;AAIbtQ,SAAK,EAAE,+BAJM;AAKbg4B,aAAS,EAAE;AALE,GADE;AAQhB0/E,gBAAc,EAAE;AACfppM,QAAI,EAAE,SADS;AAEfwF,SAAK,EAAE,IAFQ;AAGfw8F,eAAW,EAAE,gCAHE;AAIftQ,SAAK,EAAE,iCAJQ;AAKf2mC,YAAQ,EAAE,IALK;AAMfqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6lM,YAAR,CAAqB3jM,KAN5B;AAOfkkH,aAAS,EAAE;AAPI,GARA;AAiBhB2/E,oBAAkB,EAAE;AACnBrpM,QAAI,EAAE,SADa;AAEnBwF,SAAK,EAAE,KAFY;AAGnBw8F,eAAW,EAAE,oCAHM;AAInBtQ,SAAK,EAAE,qCAJY;AAKnB2mC,YAAQ,EAAE,IALS;AAMnBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6lM,YAAR,CAAqB3jM,KANxB;AAOnBkkH,aAAS,EAAE;AAPQ,GAjBJ;AA0BhB4/E,eAAa,EAAE;AACdtpM,QAAI,EAAE,MADQ;AAEdwF,SAAK,EAAE,IAFO;AAGdw8F,eAAW,EAAE,+BAHC;AAIdtQ,SAAK,EAAE,gCAJO;AAKd2mC,YAAQ,EAAE,IALI;AAMdqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6lM,YAAR,CAAqB3jM;AAN7B,GA1BC;AAkChB+jM,YAAU,EAAE;AACXvpM,QAAI,EAAE,SADK;AAEXwF,SAAK,EAAE,KAFI;AAGXw8F,eAAW,EAAE,4BAHF;AAIXtQ,SAAK,EAAE,6BAJI;AAKX2mC,YAAQ,EAAE,IALC;AAMXqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6lM,YAAR,CAAqB3jM,KANhC;AAOXkkH,aAAS,EAAE;AAPA;AAlCI,CAAjB;AA6CAtrH,mBAAM,CAACurH,OAAP,GAAiB,CAChB,UADgB,EAEhB,kBAFgB,CAAjB;AAKAvrH,mBAAM,CAACwrH,OAAP,GAAiB,CAChB,KADgB,CAAjB;;AAIAxrH,mBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI/rH,mBAAM,CAACkF,OAAP,CAAe6lM,YAAf,CAA4B3jM,KAA5B,IAAqCpH,mBAAM,CAACkF,OAAP,CAAegmM,aAAf,CAA6B9jM,KAAtE,EAA6E;AAE5Eo1E,UAAM,CAAE;;mBAESx8E,mBAAM,CAACkF,OAAP,CAAegmM,aAAf,CAA6B9jM,KAAM;;GAF9C,CAAN;AAKA;AACD,CATD,C;;AC9DA;AACA;AACA;AAEO,MAAMpH,cAAiB,GAAG,IAAIirH,MAAJ,CAAW,SAAX,CAA1B;AAEPjrH,cAAM,CAACkrH,UAAP,GAAoB,aAApB;AACAlrH,cAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,cAAM,CAAC4jG,WAAP,GAAqB,aAArB;AACA5jG,cAAM,CAACkF,OAAP,GAAiB;AAChBkmM,iBAAe,EAAE;AAChBxpM,QAAI,EAAE,SADU;AAEhBwF,SAAK,EAAE,IAFS;AAGhBw8F,eAAW,EAAE,4BAHG;AAIhBtQ,SAAK,EAAE;AAJS,GADD;AAOhB+3G,gBAAc,EAAE;AACfzpM,QAAI,EAAE,MADS;AAEfwF,SAAK,EAAE,GAFQ;AAGfw8F,eAAW,EAAE,2BAHE;AAIftQ,SAAK,EAAE;AAJQ;AAPA,CAAjB;AAeAtzF,cAAM,CAACurH,OAAP,GAAiB,CAChB,UADgB,EAEhB,kBAFgB,EAGhB,OAHgB,EAIhB,SAJgB,EAKhB,UALgB,CAAjB;;AAQAvrH,cAAM,CAACy4F,EAAP,GAAY,MAAM;AACjB,MAAItb,UAAU,CAAC,UAAD,CAAV,IAA0Bn9E,cAAM,CAACkF,OAAP,CAAekmM,eAAf,CAA+BhkM,KAA7D,EAAoE;AACnEkkM,sBAAkB;AAClB;;AAED,QAAMD,cAAc,GAAGvvK,QAAQ,CAAC97B,cAAM,CAACkF,OAAP,CAAemmM,cAAf,CAA8BjkM,KAA/B,EAAsC,EAAtC,CAA/B;;AACA,MAAI+1E,UAAU,CAAC,kBAAD,EAAqB,OAArB,EAA8B,SAA9B,EAAyC,UAAzC,CAAV,IAAkEkuH,cAAc,IAAI,CAAxF,EAA2F;AAC1FE,qBAAiB,CAACF,cAAD,CAAjB;AACA;AACD,CATD;;AAWA,SAASC,kBAAT,GAA8B;AAC7B,MAAIn3L,QAAQ,CAAC+pE,MAAT,KAAoB,gBAAxB,EAA0C;AACzC,UAAMstH,QAAQ,GAAGtrM,QAAQ,CAAC24E,aAAT,CAAuB,gCAAvB,CAAjB;;AACA,QAAI2yH,QAAJ,EAAc;AAEb,UAAIhiK,gBAAC,CAAC,yCAAD,CAAD,CAA6C9lC,MAA7C,GAAsD,CAA1D,EAA6D;AAC5D8nM,gBAAQ,CAACp8K,MAAT,CAAgB,QAAhB,EAAoCzO,sBAAM,CAAC+N,IAAK,oDAAhD,EAAqG,SAArG;AACA;AACD;AACD;AACD;;AAED,SAAS68K,iBAAT,CAA2BE,YAA3B,EAAyC;AACxCjiK,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,WAApB,EAAiC,UAAjC,EAA8Cnb,CAAD,IAAc;AAC1D,UAAM1G,MAAyB,GAAI0G,CAAC,CAACmd,aAArC;AACA7jB,UAAM,CAAC+O,IAAP,GAAc/O,MAAM,CAAC+O,IAAP,CAAYtO,OAAZ,CAAoB,uBAApB,EAA8C,aAAYylM,YAAa,EAAvE,CAAd;AACA,GAHD;AAIA,C;;AC5DD;AACA;AACA;AACA;AAEO,MAAMzrM,iBAAiB,GAAG,IAAIirH,MAAJ,CAAW,YAAX,CAA1B;AAEPjrH,iBAAM,CAACkrH,UAAP,GAAoB,gBAApB;AACAlrH,iBAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,iBAAM,CAAC+E,IAAP,GAAc,CAAC,CAAf;AACA/E,iBAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AACA7rH,iBAAM,CAAC4jG,WAAP,GAAqB,gBAArB;;AAEA5jG,iBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3Bw0C,kBAAA,CACC,MAAM92G,sBAAM,CAAC+N,IAAK,SAAQy4D,IAAI,CAAC,aAAD,CAAgB,iBAD/C,EAEC,MAAM;AAAE+D,cAAU,CAAC,gDAAD,CAAV;AAA+D,GAFxE;AAIA,CALD,C;;;ACbA;AAEA;AACA;AACA;AAYA;AACA;AACA;AAEO,MAAMlrF,gBAAiB,GAAG,IAAIirH,MAAJ,CAAW,WAAX,CAA1B;AAEPjrH,gBAAM,CAACkrH,UAAP,GAAoB,eAApB;AACAlrH,gBAAM,CAACmrH,QAAP,GAAkB,sBAAlB;AACAnrH,gBAAM,CAAC4jG,WAAP,GAAqB,eAArB;AACA5jG,gBAAM,CAACkF,OAAP,GAAiB;AAChBqyH,UAAQ,EAAE;AACT31H,QAAI,EAAE,SADG;AAETwF,SAAK,EAAE,IAFE;AAGTw8F,eAAW,EAAE,uBAHJ;AAITtQ,SAAK,EAAE;AAJE,GADM;AAOhBo4G,cAAY,EAAE;AACb9pM,QAAI,EAAE,MADO;AAEbwF,SAAK,EAAE,GAFM;AAGbw8F,eAAW,EAAE,2BAHA;AAIbtQ,SAAK,EAAE,4BAJM;AAKb2mC,YAAQ,EAAE;AALG,GAPE;AAchB0xE,aAAW,EAAE;AACZ/pM,QAAI,EAAE,MADM;AAEZ2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,KADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,KADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,QADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,eADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,EAYL;AACFjC,UAAI,EAAE,KADJ;AAEFiC,WAAK,EAAE;AAFL,KAZK,CAFI;AAkBZA,SAAK,EAAE,KAlBK;AAmBZw8F,eAAW,EAAE,0BAnBD;AAoBZtQ,SAAK,EAAE;AApBK,GAdG;AAoChBs4G,mBAAiB,EAAE;AAClBhqM,QAAI,EAAE,MADY;AAElB2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,WADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,KADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,KADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,UADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,CAFU;AAelBA,SAAK,EAAE,WAfW;AAgBlBw8F,eAAW,EAAE,gCAhBK;AAiBlBtQ,SAAK,EAAE;AAjBW,GApCH;AAuDhBu4G,mBAAiB,EAAE;AAClBjqM,QAAI,EAAE,SADY;AAElBwF,SAAK,EAAE,IAFW;AAGlBw8F,eAAW,EAAE,gCAHK;AAIlBtQ,SAAK,EAAE;AAJW;AAvDH,CAAjB;;AAgEA,MAAMw4G,iBAAiB,GAAG,sBAAOC,gBAAP,CAA1B;;AAEA/rM,gBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI/rH,gBAAM,CAACkF,OAAP,CAAeqyH,QAAf,CAAwBnwH,KAA5B,EAAmC;AAClC,UAAM4kM,YAAY,GAAG5uH,SAAS,CAAC,KAAD,CAAT,GAAmB,oCAAnB,GAA0D,cAA/E;AACAq6C,oBAAA,CACC,MAAM92G,sBAAM,CAAC+N,IAAK,YAAWs9K,YAAa,KAAI7kH,IAAI,CAAC,aAAD,CAAgB,MADnE,EAECvhF,SAFD,EAGC,CAAC,CAHF;AAKA;AACD,CATD;;AAWA5F,gBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3BwU,iBAAe,CAAC,mBAAD,EAAsB,cAAtB,EAAsCz3F,gBAAM,CAAC2nH,QAA7C,EAAuDma,mCAAvD,CAAf;AAEA,QAAM1jD,SAAS,GAAGqB,gBAAgB,EAAlC;;AACA,MAAIz/E,gBAAM,CAACkF,OAAP,CAAe2mM,iBAAf,CAAiCzkM,KAAjC,IAA0Cg3E,SAA9C,EAAyD;AACxD6tH,yBAAqB,CAAC7tH,SAAD,CAArB;AACA;AACD,CAPD;;AASA,MAAM8tH,QAAQ,GAAG,GAAjB;AAEA,MAAMC,gBAAgB,GAAGntG,uBAAO,CAAC/4E,IAAR,CAAa,MAAO,wBAAuB47D,YAAY,MAAM,MAAO,EAApE,EAAwE,EAAxE,CAAzB;AAWO,IAAIuqH,OAA6B,GAAG,EAApC;;AAEP,eAAeL,gBAAf,GAAkC;AACjCK,SAAO,GAAG,CAAC,MAAMD,gBAAgB,CAACvoM,GAAjB,EAAP,EAERiM,MAFQ,CAED8wF,OAFC,CAAV;AAGA;;AAED,eAAemhC,mCAAf,CAAyChqC,OAAzC,EAAkD;AACjD,QAAMg0G,iBAAiB,EAAvB;AACAO,oBAAkB,CAAC7iK,gBAAC,CAACsuD,OAAD,CAAF,CAAlB;AACAw0G,qBAAmB;AACnBC,iBAAe;AACf;;AAED,SAASA,eAAT,GAA2B;AAC1B,OAAK,MAAM50E,MAAX,IAAqBy0E,OAArB,EAA8B;AAC7B,QAAIz0E,MAAJ,EAAY60E,SAAS,CAAC70E,MAAD,CAAT;AACZ;;AAEDrqB,mBAAQ,CAACr4C,MAAT,CAAgB/0D,QAAQ,CAAC24E,aAAT,CAAuB,eAAvB,CAAhB,EAAyD;AACxD1wD,UAAM,EAAE,iCADgD;AAExD8vE,YAAQ,EAAE,MAAMw0G,SAAS;AAF+B,GAAzD;AAIA;;AAED,MAAMC,WAAW,GAAG,EAApB;AACA,IAAIC,gBAAJ;;AAEA,SAASC,gBAAT,CAA0BC,cAA1B,EAA0C;AACzCH,aAAW,CAAC7rM,IAAZ,CAAiBgsM,cAAjB;;AACA,MAAI,CAACF,gBAAL,EAAuB;AACtBA,oBAAgB,GAAGxwF,WAAW,CAAC2wF,kBAAD,EAAqB,IAArB,CAA9B;AACAtuL,cAAU,CAACsuL,kBAAD,EAAqB,GAArB,CAAV;AACA;AACD;;AAED,SAASA,kBAAT,GAA8B;AAC7B,QAAMC,UAAU,GAAGL,WAAW,CAACpjM,GAAZ,EAAnB;AACAyjM,YAAU;;AACV,MAAIL,WAAW,CAAChpM,MAAZ,GAAqB,CAAzB,EAA4B;AAC3Bs6G,iBAAa,CAAC2uF,gBAAD,CAAb;AACAA,oBAAgB,GAAG/mM,SAAnB;AACA;AACD;;AAED,SAAS6mM,SAAT,GAAqB;AACpB,QAAMtrL,IAAI,GAAGqoB,gBAAC,CAAC,qCAAD,CAAD,CAAyC7lC,OAAzC,GAAmDU,GAAnD,CAAuD4H,CAAC,IAAIu9B,gBAAC,CAACv9B,CAAD,CAAD,CAAKqF,IAAL,CAAU,IAAV,CAA5D,CAAb;AACA6P,MAAI,CAACxG,OAAL;AACA,QAAMqyL,QAAQ,GAAG,EAAjB;;AACA,OAAK,MAAMr1E,MAAX,IAAqBy0E,OAArB,EAA8B;AAC7B,UAAMj6F,QAAQ,GAAGhxF,IAAI,CAACrgB,OAAL,CAAa62H,MAAM,CAACs1E,QAAP,CAAgBjnM,OAAhB,CAAwB,UAAxB,EAAoC,GAApC,CAAb,CAAjB;AACAgnM,YAAQ,CAAC76F,QAAD,CAAR,GAAqBwlB,MAArB;AACA;;AACDy0E,SAAO,GAAGY,QAAV;AACAb,kBAAgB,CAACjrL,GAAjB,CAAqBkrL,OAArB;AACA;;AAED,IAAIc,iBAAJ;;AAEA,SAASZ,mBAAT,GAA+B;AAC9B,QAAMa,uBAAuB,GAAG3jK,gBAAC,CAAC,sEAAD,CAAjC;AACA2jK,yBAAuB,CAACz+K,IAAxB,CAA8B;;;;;;;;;;;;;;;;EAA9B;AAkBAy+K,yBAAuB,CAACp9L,IAAxB,CAA6B,iBAA7B,EAAgDnM,GAAhD,CAAoD,CAApD,EAAuD2L,gBAAvD,CAAwE,QAAxE,EAAkFtD,CAAC,IAAI;AACtFA,KAAC,CAACsd,cAAF;AACA,QAAI6jL,YAAY,GAAG5jK,gBAAC,CAAC,aAAD,CAAD,CAAiBnnC,GAAjB,EAAnB;;AACA,QAAI+qM,YAAY,KAAK,EAArB,EAAyB;AACxBA,kBAAY,GAAGA,YAAY,CAACpnM,OAAb,CAAqB,OAArB,EAA8B,GAA9B,CAAf;AACAknM,uBAAiB,CAACG,cAAlB,GAAmCH,iBAAiB,CAACD,QAArD;AACAC,uBAAiB,CAACD,QAAlB,GAA8B,MAAKG,YAAa,EAAhD;AACAF,uBAAiB,CAAC1P,WAAlB,GAAgCh0J,gBAAC,CAAC,wBAAD,CAAD,CAA4BnnC,GAA5B,EAAhC;AACA6qM,uBAAiB,CAACzjH,MAAlB;AACAjgD,sBAAC,CAAC,4BAAD,CAAD,CAAgClP,OAAhC,CAAwC,MAAMkP,gBAAC,CAAC,aAAD,CAAD,CAAiBvc,IAAjB,EAA9C;AACAigL,uBAAiB,CAACI,SAAlB,CAA4Bv9L,IAA5B,CAAiC,aAAjC,EAAgDvN,IAAhD,CAAqD0qM,iBAAiB,CAAC1P,WAAvE,EAAoFlsL,IAApF,CAAyF,OAAzF,EAAmG,MAAK87L,YAAa,EAArH;AACApoB,4BAAY;AACZ;AACD,GAbD;AAcAmoB,yBAAuB,CAACp9L,IAAxB,CAA6B,iBAA7B,EAAgDnM,GAAhD,CAAoD,CAApD,EAAuD2L,gBAAvD,CAAwE,QAAxE,EAAkFtD,CAAC,IAAI;AACtFA,KAAC,CAACsd,cAAF;AACA,UAAM6jL,YAAY,GAAG5jK,gBAAC,CAAC,aAAD,CAAD,CAAiBnnC,GAAjB,EAArB;AACA6qM,qBAAiB,CAACG,cAAlB,GAAmCH,iBAAiB,CAACD,QAArD;AACAC,qBAAiB,CAACD,QAAlB,GAA6BtsL,sBAAM,CAACsgE,MAAO,aAAYmsH,YAAa,EAApE;AACAF,qBAAiB,CAAC1P,WAAlB,GAAgCh0J,gBAAC,CAAC,wBAAD,CAAD,CAA4BnnC,GAA5B,EAAhC;AACA6qM,qBAAiB,CAACzjH,MAAlB;AACAjgD,oBAAC,CAAC,4BAAD,CAAD,CAAgClP,OAAhC,CAAwC,MAAM;AAC7CkP,sBAAC,CAAC,aAAD,CAAD,CAAiBnnC,GAAjB,CAAqB,EAArB,EAAyB4qB,IAAzB;AACAuc,sBAAC,CAAC,wBAAD,CAAD,CAA4BnnC,GAA5B,CAAgC,EAAhC,EAAoC4qB,IAApC;AACA,KAHD;AAIAigL,qBAAiB,CAACI,SAAlB,CAA4Bv9L,IAA5B,CAAiC,aAAjC,EAAgDvN,IAAhD,CAAqD0qM,iBAAiB,CAAC1P,WAAvE,EAAoFlsL,IAApF,CAAyF,OAAzF,EAAkG87L,YAAlG;AACApoB,0BAAY;AACZ,GAbD;AAcAmoB,yBAAuB,CAACp9L,IAAxB,CAA6B,eAA7B,EAA8Csa,KAA9C,CAAoD,MAAM;AACzD,QAAI6iL,iBAAiB,CAACD,QAAlB,CAA2BzsH,UAA3B,CAAsC,YAAtC,CAAJ,EAAyD;AACxDh3C,sBAAC,CAAC,4BAAD,CAAD,CAAgClP,OAAhC,CAAwC,MAAMkP,gBAAC,CAAC,wBAAD,CAAD,CAA4BnnC,GAA5B,CAAgC,EAAhC,EAAoC4qB,IAApC,EAA9C;AACA,KAFD,MAEO;AACNuc,sBAAC,CAAC,4BAAD,CAAD,CAAgClP,OAAhC,CAAwC,MAAMkP,gBAAC,CAAC,aAAD,CAAD,CAAiBvc,IAAjB,EAA9C;AACA;AACD,GAND;AAOAuc,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgL,MAAjB,CAAwB+9K,uBAAxB;AACA;;AAED,SAASI,YAAT,GAAwB;AACvB,QAAMN,QAAQ,GAAGC,iBAAiB,CAACD,QAAnC;AACA,QAAMK,SAAS,GAAGJ,iBAAiB,CAACI,SAApC;AACA,QAAME,MAAM,GAAGhkK,gBAAC,CAAC8jK,SAAD,CAAD,CAAap8K,QAAb,GAAwB5hB,GAAvC;AACA,QAAMm+L,QAAQ,GAAGjkK,gBAAC,CAAC8jK,SAAD,CAAD,CAAar8K,KAAb,EAAjB;AACAuY,kBAAC,CAAC,4BAAD,CAAD,CAAgCpmB,GAAhC,CAAoC,KAApC,EAA4C,GAAEoqL,MAAO,IAArD,EAA0DpqL,GAA1D,CAA8D,MAA9D,EAAsE,KAAtE,EAA6EA,GAA7E,CAAiF,OAAjF,EAA2F,GAAEqqL,QAAQ,GAAG,CAAE,IAA1G;;AACA,MAAIR,QAAQ,CAACzsH,UAAT,CAAoB,YAApB,CAAJ,EAAuC;AACtCh3C,oBAAC,CAAC,wBAAD,CAAD,CAA4BnnC,GAA5B,CAAgC6qM,iBAAiB,CAAC1P,WAAlD;AACAh0J,oBAAC,CAAC,aAAD,CAAD,CAAiBnnC,GAAjB,CAAqB85I,kBAAkB,CAAC8wD,QAAQ,CAACn8J,MAAT,CAAgB,EAAhB,CAAD,CAAvC;AACAtH,oBAAC,CAAC,iBAAD,CAAD,CAAqBllB,IAArB;AACAklB,oBAAC,CAAC,iBAAD,CAAD,CAAqBhlB,IAArB;AACAglB,oBAAC,CAAC,4BAAD,CAAD,CAAgCnP,MAAhC,CAAuC,MAAvC;AACA,GAND,MAMO;AACNmP,oBAAC,CAAC,aAAD,CAAD,CAAiBnnC,GAAjB,CAAqB6qM,iBAAiB,CAACD,QAAlB,CAA2Bn8J,MAA3B,CAAkC,CAAlC,CAArB;AACAtH,oBAAC,CAAC,wBAAD,CAAD,CAA4BnnC,GAA5B,CAAgC6qM,iBAAiB,CAAC1P,WAAlD;AACAh0J,oBAAC,CAAC,iBAAD,CAAD,CAAqBllB,IAArB;AACAklB,oBAAC,CAAC,iBAAD,CAAD,CAAqBhlB,IAArB;AACAglB,oBAAC,CAAC,4BAAD,CAAD,CAAgCnP,MAAhC,CAAuC,MAAvC;AACA;AACD;;AAED,IAAIqzK,YAAJ;;AAEA,SAASrB,kBAAT,CAA4BsB,QAA5B,EAAsC;AACrC,QAAMC,sBAAsB,GAAGpkK,gBAAC,CAAC,qEAAD,CAAhC;AACAokK,wBAAsB,CAACl/K,IAAvB,CAA6B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAA7B;AAyCAk/K,wBAAsB,CAAC79L,IAAvB,CAA4B,oBAA5B,EAAkDsa,KAAlD,CAAwD,YAAW;AAClEmf,oBAAC,CAAC,IAAD,CAAD,CAAQn2B,MAAR,GAAiBinB,OAAjB,CAAyB,MAAMkP,gBAAC,CAAC,mBAAD,CAAD,CAAuBnP,MAAvB,EAA/B;AACA,GAFD;AAGAuzK,wBAAsB,CAAC79L,IAAvB,CAA4B,iBAA5B,EAA+Csa,KAA/C,CAAqD,YAAW;AAC/D,UAAM+iL,YAAY,GAAG5jK,gBAAC,CAAC,IAAD,CAAD,CAAQl4B,IAAR,CAAa,YAAb,CAArB;AACAk7L,aAAS,CAAC;AACTS,cAAQ,EAAEG;AADD,KAAD,EAEN,IAFM,CAAT;AAGA5jK,oBAAC,CAAC,yBAAD,CAAD,CAA6BlP,OAA7B,CAAqC,MAAMkP,gBAAC,CAAC,mBAAD,CAAD,CAAuBnP,MAAvB,EAA3C;AACA,GAND;AAOAuzK,wBAAsB,CAAC79L,IAAvB,CAA4B,kBAA5B,EAAgDsa,KAAhD,CAAsD,MAAM;AAC3Dmf,oBAAC,CAAC,mBAAD,CAAD,CAAuBlP,OAAvB,CAA+B,MAAM;AACpCkP,sBAAC,CAAC,yBAAD,CAAD,CAA6BnP,MAA7B,CAAoC,MAAM;AACzCmP,wBAAC,CAAC,wBAAD,CAAD,CAA4Bxc,KAA5B;AACA,OAFD;AAGA,KAJD;AAKA,GAND;AAOA4gL,wBAAsB,CAAC79L,IAAvB,CAA4B,gBAA5B,EAA8Csa,KAA9C,CAAoD,MAAM;AACzDmf,oBAAC,CAAC,mBAAD,CAAD,CAAuBlP,OAAvB,CAA+B,MAAMkP,gBAAC,CAAC,yBAAD,CAAD,CAA6BnP,MAA7B,EAArC;AACA,GAFD;AAGAuzK,wBAAsB,CAAC79L,IAAvB,CAA4B,gBAA5B,EAA8Csa,KAA9C,CAAoD,MAAM;AACzDmf,oBAAC,CAAC,mBAAD,CAAD,CAAuBlP,OAAvB,CAA+B,MAAMkP,gBAAC,CAAC,uBAAD,CAAD,CAA2BnP,MAA3B,EAArC;AACA,GAFD;AAGAuzK,wBAAsB,CAAC79L,IAAvB,CAA4B,kBAA5B,EAAgDsa,KAAhD,CAAsD,MAAM;AAC3Dmf,oBAAC,CAAC,mBAAD,CAAD,CAAuBlP,OAAvB,CAA+B,MAAMkP,gBAAC,CAAC,yBAAD,CAAD,CAA6BnP,MAA7B,EAArC;AACA,GAFD;AAIAuzK,wBAAsB,CAAC79L,IAAvB,CAA4B,gBAA5B,EAA8CnM,GAA9C,CAAkD,CAAlD,EAAqD2L,gBAArD,CAAsE,QAAtE,EAAgFtD,CAAC,IAAI;AACpFA,KAAC,CAACsd,cAAF;AACA,QAAI6jL,YAAY,GAAG5jK,gBAAC,CAAC,YAAD,CAAD,CAAgBnnC,GAAhB,EAAnB;;AACA,QAAI+qM,YAAY,KAAK,EAArB,EAAyB;AACxBA,kBAAY,GAAGA,YAAY,CAACpnM,OAAb,CAAqB,OAArB,EAA8B,GAA9B,CAAf;AACA,YAAM6nM,eAAe,GAAIrkK,gBAAC,CAAC,uBAAD,CAAD,CAA2BnnC,GAA3B,EAAD,GAAqCmnC,gBAAC,CAAC,uBAAD,CAAD,CAA2BnnC,GAA3B,EAArC,GAAwE+qM,YAAhG;AACAZ,eAAS,CAAC;AACTS,gBAAQ,EAAEG,YADD;AAET5P,mBAAW,EAAEqQ;AAFJ,OAAD,EAGN,IAHM,CAAT;AAIArkK,sBAAC,CAAC,YAAD,CAAD,CAAgBnnC,GAAhB,CAAoB,EAApB,EAAwB4qB,IAAxB;AACAuc,sBAAC,CAAC,yBAAD,CAAD,CAA6BlP,OAA7B,CAAqC,MAAM;AAC1CkP,wBAAC,CAAC,mBAAD,CAAD,CAAuBnP,MAAvB;AACA,OAFD;AAGA;AACD,GAfD;AAgBAuzK,wBAAsB,CAAC79L,IAAvB,CAA4B,cAA5B,EAA4CnM,GAA5C,CAAgD,CAAhD,EAAmD2L,gBAAnD,CAAoE,QAApE,EAA8EtD,CAAC,IAAI;AAClFA,KAAC,CAACsd,cAAF;AACA,UAAM6jL,YAAY,GAAI,SAAQ5jK,gBAAC,CAAC,UAAD,CAAD,CAAcnnC,GAAd,EAAoB,EAAlD;AACAmqM,aAAS,CAAC;AACTS,cAAQ,EAAEG;AADD,KAAD,EAEN,IAFM,CAAT;AAGA5jK,oBAAC,CAAC,UAAD,CAAD,CAAcnnC,GAAd,CAAkB,EAAlB,EAAsB4qB,IAAtB;AACAuc,oBAAC,CAAC,uBAAD,CAAD,CAA2BlP,OAA3B,CAAmC,MAAMkP,gBAAC,CAAC,mBAAD,CAAD,CAAuBnP,MAAvB,EAAzC;AACA,GARD;AASAuzK,wBAAsB,CAAC79L,IAAvB,CAA4B,gBAA5B,EAA8CnM,GAA9C,CAAkD,CAAlD,EAAqD2L,gBAArD,CAAsE,QAAtE,EAAgFtD,CAAC,IAAI;AACpFA,KAAC,CAACsd,cAAF;AACA,UAAM6jL,YAAY,GAAGzsL,sBAAM,CAACsgE,MAAO,aAAYz3C,gBAAC,CAAC,YAAD,CAAD,CAAgBnnC,GAAhB,EAAsB,EAArE;AACA,UAAMwrM,eAAe,GAAIrkK,gBAAC,CAAC,uBAAD,CAAD,CAA2BnnC,GAA3B,EAAD,GAAqCmnC,gBAAC,CAAC,uBAAD,CAAD,CAA2BnnC,GAA3B,EAArC,GAAwE+qM,YAAhG;AACAZ,aAAS,CAAC;AACTS,cAAQ,EAAEG,YADD;AAET5P,iBAAW,EAAEqQ;AAFJ,KAAD,EAGN,IAHM,CAAT;AAIArkK,oBAAC,CAAC,YAAD,CAAD,CAAgBnnC,GAAhB,CAAoB,EAApB,EAAwB4qB,IAAxB;AACAuc,oBAAC,CAAC,yBAAD,CAAD,CAA6BlP,OAA7B,CAAqC,MAAMkP,gBAAC,CAAC,mBAAD,CAAD,CAAuBnP,MAAvB,EAA3C;AACA,GAVD;AAWAqzK,cAAY,GAAGlkK,gBAAC,CAAC,6BAAD,CAAhB;AACAmkK,UAAQ,CAACv+K,MAAT,CAAgBw+K,sBAAhB,EAAwCF,YAAxC;AACA;;AAED,SAASlB,SAAT,CAAmBsB,aAAnB,EAAiDp3I,KAAjD,EAAwD;AACvD,MAAI,CAACo3I,aAAa,CAACb,QAAd,CAAuBzsH,UAAvB,CAAkC,GAAlC,CAAL,EAA6C;AAC5CstH,iBAAa,CAACb,QAAd,GAA0B,MAAKa,aAAa,CAACb,QAAS,EAAtD;AACA;;AACD,QAAMc,MAAM,GAAG3B,OAAO,CAACttH,IAAR,CAAa64C,MAAM,IAAIA,MAAM,CAACs1E,QAAP,KAAoBa,aAAa,CAACb,QAAzD,CAAf;AAEAzuL,YAAU,CAAC,MAAM;AAChBgrB,oBAAC,CAAE,+BAA8BskK,aAAa,CAACb,QAAS,IAAvD,CAAD,CAA6DzoL,IAA7D;AACA,GAFS,EAEP,IAFO,CAAV;;AAGA,MAAIupL,MAAM,IAAIr3I,KAAd,EAAqB;AACpBwiE,yBAAK,CAAC7zF,IAAN,CAAY,gBAAeyoK,aAAa,CAACb,QAAS,kBAAlD;AACA,GAFD,MAEO;AACN,UAAMe,UAAU,GAAG,IAAIC,YAAJ,CAAiBH,aAAjB,CAAnB;AACA,QAAIJ,YAAJ,EAAkBM,UAAU,CAAC3qM,IAAX;AAClB6qM,cAAU,CAACF,UAAU,CAACF,aAAX,EAAD,CAAV;AACA;AACD;;AAED,eAAeK,YAAf,CAA4BL,aAA5B,EAA2C;AAC1C,QAAM/B,gBAAgB,EAAtB;AACA,MAAIgC,MAAJ;AACA3B,SAAO,GAAGA,OAAO,CAACv8L,MAAR,CAAe8nH,MAAM,IAAI;AAClC,QAAIA,MAAM,CAACs1E,QAAP,KAAoBa,aAAa,CAACb,QAAtC,EAAgD;AAC/Cc,YAAM,GAAG,IAAT;AACAvkK,sBAAC,CAACtpC,QAAQ,CAAC0M,cAAT,CAAwB+qH,MAAM,CAACs1E,QAAP,CAAgBjnM,OAAhB,CAAwB,QAAxB,EAAkC,GAAlC,CAAxB,CAAD,CAAD,CAAmEs0B,OAAnE,CAA2E,MAA3E,EAAmF,YAAW;AAC7FkP,wBAAC,CAAC,IAAD,CAAD,CAAQra,MAAR;AACA,OAFD;AAIA3Q,gBAAU,CAAC,MAAM;AAChBgrB,wBAAC,CAAE,+BAA8BskK,aAAa,CAACb,QAAS,IAAvD,CAAD,CAA6D3oL,IAA7D;AACA,OAFS,EAEP,IAFO,CAAV;AAGA,aAAO,KAAP;AACA;;AAED,WAAO,IAAP;AACA,GAdS,CAAV;;AAeA,MAAI,CAACypL,MAAL,EAAa;AACZvvE,kCAAA,CAA+B;AAC9B7W,cAAQ,EAAE,WADoB;AAE9BtoG,aAAO,EAAE;AAFqB,KAA/B;AAIA;;AACD8sL,kBAAgB,CAACjrL,GAAjB,CAAqBkrL,OAArB;AACA;;AAED,eAAe8B,UAAf,CAA0BJ,aAA1B,EAAyC;AACxC,QAAM/B,gBAAgB,EAAtB;AAEA,MAAIhyL,KAAK,GAAGqyL,OAAO,CAAC3uC,SAAR,CAAkB9lC,MAAM,IAAIA,MAAM,CAACs1E,QAAP,KAAoBa,aAAa,CAACb,QAA9D,CAAZ;;AAGA,MAAIlzL,KAAK,KAAK,CAAC,CAAf,EAAkB;AACjBA,SAAK,GAAGqyL,OAAO,CAAC1oM,MAAhB;AACA;;AACD0oM,SAAO,CAACryL,KAAD,CAAP,GAAiB+zL,aAAjB;AAEA3B,kBAAgB,CAACjrL,GAAjB,CAAqBkrL,OAArB;AACA;;AAED,eAAepnB,sBAAf,GAA8B;AAC7B,QAAM+mB,gBAAgB,EAAtB;AACAK,SAAO,GAAGA,OAAO,CAAC/nM,GAAR,CAAYszH,MAAM,IAAI;AAC/B,QAAIA,MAAM,CAACs1E,QAAP,KAAoBC,iBAAiB,CAACG,cAA1C,EAA0D;AACzD,aAAOH,iBAAiB,CAACG,cAAzB;AACA11E,YAAM,GAAGu1E,iBAAiB,CAACY,aAAlB,EAAT;AACA;;AACD,WAAOn2E,MAAP;AACA,GANS,CAAV;AAOAw0E,kBAAgB,CAACjrL,GAAjB,CAAqBkrL,OAArB;AACA;;AAED,SAAS6B,YAAT,CAAsBG,aAAtB,EAAoD;AACnD,OAAKnB,QAAL,GAAgBmB,aAAa,CAACnB,QAA9B;;AACA,MAAImB,aAAa,CAAC5Q,WAAd,KAA8B53L,SAA9B,IAA2CwoM,aAAa,CAAC5Q,WAAd,KAA8B,IAA7E,EAAmF;AAClF4Q,iBAAa,CAAC5Q,WAAd,GAA4B,KAAKyP,QAAjC;AACA;;AACD,OAAKzP,WAAL,GAAmB4Q,aAAa,CAAC5Q,WAAjC;AACA,OAAK6Q,QAAL,GAAgBD,aAAa,CAACC,QAAd,IAA0BvyK,QAAQ,CAAC97B,gBAAM,CAACkF,OAAP,CAAewmM,YAAf,CAA4BtkM,KAA7B,EAAoC,EAApC,CAAlD;AACA,OAAKmlC,MAAL,GAAc6hK,aAAa,CAAC7hK,MAAd,IAAwBvsC,gBAAM,CAACkF,OAAP,CAAeymM,WAAf,CAA2BvkM,KAAjE;AACA,OAAKknM,YAAL,GAAoBF,aAAa,CAACE,YAAd,IAA8BtuM,gBAAM,CAACkF,OAAP,CAAe0mM,iBAAf,CAAiCxkM,KAAnF;AACA,OAAKmnM,SAAL,GAAiBH,aAAa,CAACG,SAAd,IAA2B,KAA5C;AACA,OAAKjB,SAAL,GAAiB9jK,gBAAC,CAAE;0CACqB,KAAKyjK,QAAL,CAAcjnM,OAAd,CAAsB,QAAtB,EAAgC,GAAhC,CAAqC;;;;;;;EAD5D,CAAlB;AASA,OAAKy2H,MAAL,GAAcjzF,gBAAC,CAAE,yEAAwE,KAAKyjK,QAAS,WAAU,KAAKA,QAAS,cAAhH,CAAf;AACA,OAAKxwE,MAAL,CAAY1sH,IAAZ,CAAiB,aAAjB,EAAgCvN,IAAhC,CAAqC,KAAKg7L,WAA1C;AACA,OAAKgR,YAAL,GAAoBhlK,gBAAC,CAAC,kLAAD,CAArB;AACA,OAAKilK,kBAAL,GAA0BjlK,gBAAC,CAAC,uJAAD,CAA3B;;AAEA,OAAKskK,aAAL,GAAqB,OAAO;AAC3Bb,YAAQ,EAAE,KAAKA,QADY;AAE3BzP,eAAW,EAAE,KAAKA,WAFS;AAG3B6Q,YAAQ,EAAE,KAAKA,QAHY;AAI3B9hK,UAAM,EAAE,KAAKA,MAJc;AAK3B+hK,gBAAY,EAAE,KAAKA,YALQ;AAM3BC,aAAS,EAAE,KAAKA;AANW,GAAP,CAArB;;AASA/kK,kBAAC,CAAC,KAAKglK,YAAN,CAAD,CAAqBz+L,IAArB,CAA2B,WAAU,KAAKw8B,MAAO,GAAjD,EAAqDrQ,QAArD,CAA8D,QAA9D;AACAsN,kBAAC,CAAC,KAAKglK,YAAN,CAAD,CAAqBz+L,IAArB,CAA0B,IAA1B,EAAgCsa,KAAhC,CAAsCpe,CAAC,IAAI;AAC1C,SAAKyiM,UAAL,CAAgBllK,gBAAC,CAACv9B,CAAC,CAACmd,aAAH,CAAD,CAAmB9X,IAAnB,CAAwB,MAAxB,CAAhB;AACA,GAFD;AAGAk4B,kBAAC,CAAC,KAAKilK,kBAAN,CAAD,CAA2B1+L,IAA3B,CAAiC,WAAU,KAAKu+L,YAAa,GAA7D,EAAiEpyK,QAAjE,CAA0E,QAA1E;AACAsN,kBAAC,CAAC,KAAKilK,kBAAN,CAAD,CAA2B1+L,IAA3B,CAAgC,IAAhC,EAAsCsa,KAAtC,CAA4Cpe,CAAC,IAAI;AAChD,SAAKyiM,UAAL,CAAgBllK,gBAAC,CAACv9B,CAAC,CAACmd,aAAH,CAAD,CAAmB9X,IAAnB,CAAwB,MAAxB,CAAhB;AACA,GAFD;AAGAk4B,kBAAC,CAAC,KAAKizF,MAAN,CAAD,CAAertG,MAAf,CAAsB,KAAKo/K,YAA3B;;AACA,MAAI,CAAC,KAAKvB,QAAL,CAAczsH,UAAd,CAAyB,KAAzB,CAAD,IAAoC,CAAC,KAAKysH,QAAL,CAAczsH,UAAd,CAAyB,QAAzB,CAAzC,EAA6E;AAC5EhiE,cAAU,CAAC,MAAMgrB,gBAAC,CAAC,KAAKglK,YAAN,CAAD,CAAqBhqL,IAArB,EAAP,EAAoC,GAApC,CAAV;AACA;;AACDglB,kBAAC,CAAC,KAAKizF,MAAN,CAAD,CAAertG,MAAf,CAAsB,KAAKq/K,kBAA3B;;AACA,MAAI,CAAC,KAAKxB,QAAL,CAAczsH,UAAd,CAAyB,YAAzB,CAAL,EAA6C;AAC5ChiE,cAAU,CAAC,MAAMgrB,gBAAC,CAAC,KAAKilK,kBAAN,CAAD,CAA2BjqL,IAA3B,EAAP,EAA0C,GAA1C,CAAV;AACA;;AACD,OAAKmqL,aAAL,GAAqBnlK,gBAAC,CAAC,qbAAD,CAAtB;AACAA,kBAAC,CAAC,KAAKmlK,aAAN,CAAD,CAAsB5+L,IAAtB,CAA2B,IAA3B,EAAiCsa,KAAjC,CAAuCpe,CAAC,IAAI;AAC3C,YAAQu9B,gBAAC,CAACv9B,CAAC,CAACmd,aAAH,CAAD,CAAmB9X,IAAnB,CAAwB,QAAxB,CAAR;AACC,WAAK,SAAL;AACC,aAAKm4E,MAAL;AACA;;AACD,WAAK,YAAL;AACCjgD,wBAAC,CAAC,sBAAD,CAAD,CAA0Bnf,KAA1B;AACA;;AACD,WAAK,QAAL;AACC,YAAI,KAAKgkL,QAAL,KAAkBnC,QAAtB,EAAgC;AAChC,aAAKmC,QAAL;AACA,YAAI,KAAKA,QAAL,KAAkBnC,QAAtB,EAAgC1iK,gBAAC,CAAC,KAAKmlK,aAAN,CAAD,CAAsB5+L,IAAtB,CAA2B,mBAA3B,EAAgDmsB,QAAhD,CAAyD,UAAzD;AAChCsN,wBAAC,CAAC,KAAKmlK,aAAN,CAAD,CAAsB5+L,IAAtB,CAA2B,mBAA3B,EAAgDwsB,WAAhD,CAA4D,UAA5D;AACA2xK,kBAAU,CAAC,KAAKJ,aAAL,EAAD,CAAV;AACA,aAAKrkH,MAAL;AACA;;AACD,WAAK,QAAL;AACC,YAAI,KAAK4kH,QAAL,KAAkB,CAAtB,EAAyB;AACzB,aAAKA,QAAL;AACA,YAAI,KAAKA,QAAL,KAAkB,CAAtB,EAAyB7kK,gBAAC,CAAC,KAAKmlK,aAAN,CAAD,CAAsB5+L,IAAtB,CAA2B,mBAA3B,EAAgDmsB,QAAhD,CAAyD,UAAzD;AACzBsN,wBAAC,CAAC,KAAKmlK,aAAN,CAAD,CAAsB5+L,IAAtB,CAA2B,mBAA3B,EAAgDwsB,WAAhD,CAA4D,UAA5D;AACA2xK,kBAAU,CAAC,KAAKJ,aAAL,EAAD,CAAV;AACA,aAAKrkH,MAAL;AACA;;AACD,WAAK,UAAL;AACCjgD,wBAAC,CAAC,KAAK8jK,SAAN,CAAD,CAAkB9wK,WAAlB,CAA8B,WAA9B;;AACA,YAAIgN,gBAAC,CAAC,KAAK8jK,SAAN,CAAD,CAAkB1wK,QAAlB,CAA2B,WAA3B,CAAJ,EAA6C;AAC5C4M,0BAAC,CAACv9B,CAAC,CAACmd,aAAH,CAAD,CAAmB5mB,IAAnB,CAAwB,GAAxB;AACA,eAAK+rM,SAAL,GAAiB,IAAjB;AACA,SAHD,MAGO;AACN/kK,0BAAC,CAACv9B,CAAC,CAACmd,aAAH,CAAD,CAAmB5mB,IAAnB,CAAwB,GAAxB;AACA,eAAK+rM,SAAL,GAAiB,KAAjB;AACA,eAAK9kH,MAAL;AACA;;AACDjgD,wBAAC,CAAC,KAAK/vB,QAAN,CAAD,CAAiBpG,MAAjB,GAA0B+mB,WAA1B;AACA8zK,kBAAU,CAAC,KAAKJ,aAAL,EAAD,CAAV;AACA;;AACD,WAAK,QAAL;AACCK,oBAAY,CAAC,KAAKL,aAAL,EAAD,CAAZ;AACA;;AACD;AACC;AAxCF;AA0CA,GA3CD;AA4CAtkK,kBAAC,CAAC,KAAKizF,MAAN,CAAD,CAAertG,MAAf,CAAsB,KAAKu/K,aAA3B;;AACA,OAAKD,UAAL,GAAkBniK,MAAM,IAAI;AAC3B,SAAKA,MAAL,GAAcA,MAAd;AACA,SAAK+hK,YAAL,GAAoB/hK,MAApB;AACA/C,oBAAC,CAAC,KAAKizF,MAAN,CAAD,CAAe1sH,IAAf,CAAoB,yBAApB,EAA+CwsB,WAA/C,CAA2D,QAA3D;AACAiN,oBAAC,CAAC,KAAKizF,MAAN,CAAD,CAAe1sH,IAAf,CAAqB,gCAA+Bw8B,MAAO,GAA3D,EAA+DrQ,QAA/D,CAAwE,QAAxE;AACA,SAAKutD,MAAL;AACAykH,cAAU,CAAC,KAAKJ,aAAL,EAAD,CAAV;AACA,GAPD;;AAQA,OAAK1f,IAAL,GAAY,MAAM;AACjB8e,qBAAiB,GAAG,IAApB;AACAK,gBAAY;AACZ,GAHD;;AAIA/jK,kBAAC,CAAC,KAAKizF,MAAN,CAAD,CAAe1sH,IAAf,CAAoB,aAApB,EAAmCsa,KAAnC,CAAyC,KAAK+jK,IAA9C;;AACA,OAAK3kG,MAAL,GAAc,MAAM;AACnB,QAAI,KAAKwjH,QAAL,CAAcrrJ,QAAd,CAAuB,QAAvB,CAAJ,EAAsC;AACrC,WAAKgtJ,QAAL,GAAiB,KAAKriK,MAAL,KAAgB,KAAjB,GAA0B,GAA1B,GAAiC,SAAQ,KAAKA,MAAO,EAArE;AACA,KAFD,MAEO,IAAI,KAAK0gK,QAAL,CAAcrrJ,QAAd,CAAuB,KAAvB,CAAJ,EAAmC;AACzC,WAAKgtJ,QAAL,GAAiB,KAAKriK,MAAL,KAAgB,KAAjB,GAA0B,GAA1B,GAAiC,IAAG,KAAKA,MAAO,GAAhE;AACA,KAFM,MAEA,IAAI,KAAK0gK,QAAL,CAAcrrJ,QAAd,CAAuB,YAAvB,CAAJ,EAA0C;AAChD,WAAKgtJ,QAAL,GAAiB,SAAQ,KAAKN,YAAa,EAA3C;AACA,KAFM,MAEA;AACN,WAAKM,QAAL,GAAgB,EAAhB;AACA;;AACD,SAAKntK,GAAL,GAAY,GAAEttB,QAAQ,CAACwtB,QAAS,KAAIxtB,QAAQ,CAACoxE,QAAS,IAAG,KAAK0nH,QAAS,GAAE,KAAK2B,QAAS,EAAvF;AACAplK,oBAAC,CAAC,KAAK/vB,QAAN,CAAD,CAAiBggB,MAAjB,CAAwB,MAAxB,EAAgC,IAAhC;AACA+P,oBAAC,CAAC,KAAKqlK,KAAN,CAAD,CAAcx0K,MAAd;AAEAgI,QAAI,CAAC;AACJ9lB,YAAM,EAAE,KADJ;AAEJklB,SAAG,EAAE,KAAKA,GAFN;AAGJyjD,WAAK,EAAE;AACNgS,aAAK,EAAE,KAAKm3G;AADN;AAHH,KAAD,CAAJ,CAOE3xL,IAPF,CAOO,KAAK05G,QAPZ,EAQE52G,KARF,CAQQ,KAAKtZ,KARb;AASA,GAvBD;;AAwBA,OAAKqqB,SAAL,GAAiBiZ,gBAAC,CAAC,qGAAD,CAAlB;;AACA,MAAI,KAAK+kK,SAAT,EAAoB;AACnB/kK,oBAAC,CAAC,KAAKjZ,SAAN,CAAD,CAAkB2L,QAAlB,CAA2B,WAA3B;AACAsN,oBAAC,CAAC,KAAKmlK,aAAN,CAAD,CAAsB5+L,IAAtB,CAA2B,aAA3B,EAA0CmsB,QAA1C,CAAmD,WAAnD,EAAgE15B,IAAhE,CAAqE,GAArE;AACA;;AACD,OAAKqsM,KAAL,GAAarlK,gBAAC,CAAC,KAAK8jK,SAAN,CAAD,CAAkBv9L,IAAlB,CAAuB,6BAAvB,CAAb;AACA,OAAK0J,QAAL,GAAgB+vB,gBAAC,CAAC,KAAKjZ,SAAN,CAAD,CAAkBxgB,IAAlB,CAAuB,gCAAvB,CAAhB;;AACA,OAAK1M,IAAL,GAAY,MAAM;AACjB,SAAK0mH,IAAL;AACA,QAAI,CAAC,KAAKwkF,SAAV,EAAqB3B,gBAAgB,CAAC,KAAKnjH,MAAN,CAAhB;AACrB,GAHD;;AAIA,OAAKsgC,IAAL,GAAY,MAAM;AACjBvgF,oBAAC,CAAC,KAAK8jK,SAAN,CAAD,CAAkBl+K,MAAlB,CAAyB,KAAKqtG,MAA9B;AACAjzF,oBAAC,CAAC,KAAK8jK,SAAN,CAAD,CAAkBl+K,MAAlB,CAAyB,KAAKmB,SAA9B;AACA,QAAI,KAAKg+K,SAAT,EAAoB/kK,gBAAC,CAAC,KAAK8jK,SAAN,CAAD,CAAkBpxK,QAAlB,CAA2B,WAA3B;AACpBwxK,gBAAY,CAACr+K,OAAb,CAAqB,KAAKi+K,SAA1B;AAEA,GAND;;AAOA,OAAKl3E,QAAL,GAAgBt1F,QAAQ,IAAI;AAC3B,QAAIguK,cAAc,GAAGtlK,gBAAC,CAAC1I,QAAD,CAAD,CAAY/wB,IAAZ,CAAiB,iDAAjB,CAArB;AACA,UAAMg/L,mBAAmB,GAAGvlK,gBAAC,CAAC,KAAK/vB,QAAN,CAA7B;AAEAq1L,kBAAc,CAACx9L,IAAf,CAAoB,IAApB,EAA2B,aAAY,KAAK27L,QAAL,CAAcjnM,OAAd,CAAsB,QAAtB,EAAgC,GAAhC,CAAqC,EAA5E;AACA,QAAI8oM,cAAc,CAACprM,MAAf,KAA0B,CAA9B,EAAiCorM,cAAc,GAAGtlK,gBAAC,CAACslK,cAAc,CAAC,CAAD,CAAf,CAAlB;AACjCA,kBAAc,CAACx9L,IAAf,CAAoB,KAApB,EAA4B,GAAE,KAAKmwB,GAAI,UAAS,KAAK4sK,QAAS,EAA9D;;AACA,QAAKS,cAAc,CAACprM,MAAf,GAAwB,CAAzB,IAAgCorM,cAAc,CAACpgL,IAAf,OAA0B,EAA9D,EAAmE;AAClEogL,oBAAc,CAACpgL,IAAf,CAAoBogL,cAAc,CAACpgL,IAAf,GAAsB1oB,OAAtB,CAA8B,2BAA9B,EAA2D,EAA3D,CAApB;AAGA,YAAMgpM,UAAU,GAAGF,cAAc,CAAC/+L,IAAf,CAAoB,kBAApB,CAAnB;;AACA,UAAIi/L,UAAU,CAACtrM,MAAf,EAAuB;AACtBorM,sBAAc,CAACpgL,IAAf,CAAoB,6JAApB;AACA;;AAGD,UAAI;AACHqgL,2BAAmB,CAACpzL,KAApB,GAA4ByT,MAA5B,CAAmC0/K,cAAnC;AACA,OAFD,CAEE,OAAO7iM,CAAP,EAAU,CAEX;;AAED8iM,yBAAmB,CAACt1K,MAApB,CAA2B,MAA3B,EAAmC,CAAnC;AACA+P,sBAAC,CAAC,KAAKqlK,KAAN,CAAD,CAAcv0K,OAAd,CAAsB,YAAW;AAChCkP,wBAAC,CAAC,IAAD,CAAD,CAAQhlB,IAAR;AACA,OAFD;AAGA,KApBD,MAoBO;AACN,UAAI,KAAKid,GAAL,CAASmgB,QAAT,CAAkB,WAAlB,CAAJ,EAAoC;AACnCmtJ,2BAAmB,CAACrgL,IAApB,CAAyB,yDAAzB;AACA,OAFD,MAEO;AACNqgL,2BAAmB,CAACrgL,IAApB,CAAyB,+MAAzB;AACA;;AACDqgL,yBAAmB,CAACt1K,MAApB,CAA2B,MAA3B,EAAmC,CAAnC;AACA+P,sBAAC,CAAC,KAAKqlK,KAAN,CAAD,CAAcv0K,OAAd;AACA;;AACDkP,oBAAC,CAAC,KAAKmlK,aAAN,CAAD,CAAsB5+L,IAAtB,CAA2B,aAA3B,EAA0CvN,IAA1C,CAAgD,YAAWu6F,cAAc,EAAG,EAA5E;;AAGA,QAAI+xG,cAAc,CAAC,CAAD,CAAlB,EAAuB;AACtBluG,kBAAY,CAACkuG,cAAc,CAAC,CAAD,CAAf,CAAZ;AACA;AACD,GA1CD;;AA2CA,OAAK5oM,KAAL,GAAa+F,CAAC,IAAI;AACjB,QAAIA,CAAC,CAACu3B,MAAF,KAAa,GAAjB,EAAsB;AACrBgG,sBAAC,CAAC,KAAK/vB,QAAN,CAAD,CAAiBiV,IAAjB,CAAsB,+GAAtB;AACA,KAFD,MAEO;AACN8a,sBAAC,CAAC,KAAK/vB,QAAN,CAAD,CAAiBiV,IAAjB,CAAsB,qJAAtB;AACA;;AACD8a,oBAAC,CAAC,KAAKqlK,KAAN,CAAD,CAAcv0K,OAAd;AACAkP,oBAAC,CAAC,KAAK/vB,QAAN,CAAD,CAAiBggB,MAAjB,CAAwB,MAAxB,EAAgC,CAAhC;AACA,GARD;AASA;;AAED,SAASwyK,qBAAT,CAA+B7tH,SAA/B,EAA0C;AACzC,QAAMk+G,UAAU,GAAGp8L,QAAQ,CAACmN,gBAAT,CAA0B,4BAA1B,CAAnB;;AACA,OAAK,MAAMkvL,SAAX,IAAwBD,UAAxB,EAAoC;AACnC,QAAIG,OAAJ,EAAaD,qBAAb;;AACA,QAAI,CAACp+G,SAAS,CAACx8B,QAAV,CAAmB,GAAnB,CAAD,IAA4B,CAAC89B,kBAAkB,CAAC,KAAD,CAAnD,EAA4D;AAC3D+8G,aAAO,GAAG,KAAV;AACAD,2BAAqB,GAAGp+G,SAAxB;AACA,KAHD,MAGO,IAAI50C,gBAAC,CAAC+yJ,SAAD,CAAD,CAAalpL,MAAb,GAAsBupB,QAAtB,CAA+B,YAA/B,CAAJ,EAAkD;AACxD6/J,aAAO,GAAG,IAAV;AACAD,2BAAqB,GAAGhzJ,gBAAC,CAAC+yJ,SAAD,CAAD,CAAalpL,MAAb,GAAsBA,MAAtB,GAA+BtD,IAA/B,CAAoC,SAApC,EAA+CvN,IAA/C,EAAxB;AACA,KAHM,MAGA;AACNi6L,aAAO,GAAG,IAAV;AACAD,2BAAqB,GAAGhzJ,gBAAC,CAAC+yJ,SAAD,CAAD,CAAaxwL,IAAb,GAAoBvJ,IAApB,EAAxB;AACA;;AACD,QAAIgnC,gBAAC,CAAE,eAAcgzJ,qBAAsB,EAAtC,CAAD,CAA0C94L,MAA1C,KAAqD,CAAzD,EAA4D;AAC3D,YAAMg5L,kBAAkB,GAAGlzJ,gBAAC,CAAE,uBAAsBgzJ,qBAAsB,2DAA9C,CAA5B;AACAhzJ,sBAAC,CAAC+yJ,SAAD,CAAD,CAAat2K,IAAb,CAAkBy2K,kBAAlB;;AAEA,UAAID,OAAJ,EAAa;AACZ,cAAMI,OAAO,GAAGrzJ,gBAAC,CAAC+yJ,SAAD,CAAD,CAAalpL,MAAb,EAAhB;AACAm2B,wBAAC,CAACqzJ,OAAD,CAAD,CAAWltK,QAAX,CAAoB6Z,gBAAC,CAACqzJ,OAAD,CAAD,CAAWxpL,MAAX,EAApB;AACA;AACD;;AACD,UAAMypL,WAAW,GAAGtzJ,gBAAC,CAAE,eAAcgzJ,qBAAsB,EAAtC,CAArB;AACA,UAAM5yK,MAAM,GAAGqlL,2BAA2B,CAAC7wH,SAAD,CAA1C;AACA0tH,qBAAiB,GAAGpvL,IAApB,CAAyB,MAAMkN,MAAM,CAAC6vD,aAAP,CAAqB,IAAIwoB,WAAJ,CAAgB,SAAhB,CAArB,CAA/B;AACAr4E,UAAM,CAAC82D,SAAP,CAAiBzmE,GAAjB,CAAqB,oBAArB;AACA6iL,eAAW,CAAC1tK,MAAZ,CAAmBxF,MAAnB;AACA,UAAM7d,IAAI,GAAG+wL,WAAW,CAAC/wL,IAAZ,EAAb;;AACA,QAAIy9B,gBAAC,CAACz9B,IAAD,CAAD,CAAQ6wB,QAAR,CAAiB,OAAjB,KAA6B,CAACkgK,WAAW,CAAClgK,QAAZ,CAAqB,SAArB,CAAlC,EAAmE;AAClEkgK,iBAAW,CAACvtK,MAAZ,CAAmBia,gBAAC,CAACz9B,IAAD,CAApB;AACA+wL,iBAAW,CAAC5gK,QAAZ,CAAqB,SAArB;AACA;AACD;AACD;;AAEM,SAAS+yK,2BAAT,CAAqC7wH,SAArC,EAAwD;AAC9D,QAAM6uH,QAAQ,GAAI,MAAK7uH,SAAS,CAAC32E,WAAV,EAAwB,EAA/C;AAEA,SAAOuwF,6BAAa,CAAC+L,iBAAd,CACN5c,IAAI,CAAC,iCAAD,CADE,EAENA,IAAI,CAAC,0CAAD,CAFE,EAGN,MAAMilH,OAAO,CAACttH,IAAR,CAAa64C,MAAM,IAAIA,MAAM,IAAKA,MAAM,CAACs1E,QAAP,CAAgBxlM,WAAhB,OAAkCwlM,QAApE,CAHA,EAINnwL,KAAK,IAAI;AACR,QAAIA,KAAJ,EAAW;AACV0vL,eAAS,CAAC;AAAES;AAAF,OAAD,CAAT;AACAzuE,oCAAA,CAA+B;AAC9B/B,cAAM,EAAE,wBADsB;AAE9B9U,gBAAQ,EAAE,WAFoB;AAG9BtoG,eAAO,EAAG;mCACoB4tL,QAAS;;;;AAJT,OAA/B;AASA,KAXD,MAWO;AACNkB,kBAAY,CAAC;AAAElB;AAAF,OAAD,CAAZ;AACA;AACD,GAnBK,CAAP;AAqBA,C;;ACtsBD;AACA;AAEO,MAAMjtM,kBAAiB,GAAG,IAAIirH,MAAJ,CAAW,aAAX,CAA1B;AAEPjrH,kBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,kBAAM,CAACmrH,QAAP,GAAkB,sBAAlB;AACAnrH,kBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AACA5jG,kBAAM,CAAC4rH,iBAAP,GAA2B,IAA3B;;AAEA5rH,kBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzBjzB,4BAAU,CAACZ,SAAX,CAAqBx7E,IAArB,CAA0B,MAAM;AAC/Bg8D,oBAAgB,CAACx4E,QAAQ,CAACkkB,IAAV,EAAgB,QAAhB,EAA0BwzD,GAAG,IAAI;AAChD,YAAMt1E,MAAM,GAAGm1E,QAAQ,CAACG,GAAD,EAAMs3H,iBAAN,CAAvB;AACA,UAAK,UAAD,CAAajiM,IAAb,CAAkB,IAAIw6D,GAAJ,CAAQnlE,MAAM,CAACT,GAAf,EAAoBsS,QAAQ,CAACwuE,MAA7B,EAAqCtD,QAAvD,CAAJ,EAAsE/8E,MAAM,CAACoZ,MAAP;AACtE,KAHe,CAAhB;AAMAg9D,oBAAgB,CAACx4E,QAAQ,CAACkkB,IAAV,EAAgB,WAAhB,EAA6BwzD,GAAG,IAAI;AACnDA,SAAG,CAACl8D,MAAJ;AACA,KAFe,CAAhB;AAGA,GAVD;AAWA,CAZD;;AAcA1b,kBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,QAAMvd,IAAI,GAAGxlE,QAAQ,CAACkkB,IAAT,CAAcy0D,aAAd,CAA4B,OAA5B,CAAb;;AACA,MAAInT,IAAJ,EAAU;AACT,QAAIA,IAAI,CAACoqB,kBAAT,EAA6BpqB,IAAI,CAACoqB,kBAAL,CAAwBp0E,MAAxB;AAC7BgqD,QAAI,CAAChqD,MAAL;AACA;AACD,CAND,C;;ACxBA;AACA;AAEO,MAAM1b,gBAAiB,GAAG,IAAIirH,MAAJ,CAAW,WAAX,CAA1B;AAEPjrH,gBAAM,CAACkrH,UAAP,GAAoB,eAApB;AACAlrH,gBAAM,CAACmrH,QAAP,GAAkB,mBAAlB;AACAnrH,gBAAM,CAAC4jG,WAAP,GAAqB,eAArB;;AAEA5jG,gBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3Bz5C,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CACEgD,EADF,CACK,YADL,EACmB,MADnB,EAC2B,YAAW;AACpC,UAAM8+I,KAAK,GAAG18H,gBAAC,CAAC,IAAD,CAAf;;AACA,QAAI,CAAC08H,KAAK,CAAC/kJ,IAAN,CAAW,eAAX,CAAL,EAAkC;AACjC+kJ,WAAK,CAAC/kJ,IAAN,CAAW,eAAX,EAA4B+kJ,KAAK,CAAC50J,IAAN,CAAW,OAAX,CAA5B;AACA;;AACD40J,SAAK,CAAC50J,IAAN,CAAW,OAAX,EAAoB,IAAI5I,IAAJ,CAASw9J,KAAK,CAAC50J,IAAN,CAAW,UAAX,CAAT,CAApB;AACA,GAPF,EAQE8V,EARF,CAQK,YARL,EAQmB,MARnB,EAQ2B,YAAW;AACpC,UAAM8+I,KAAK,GAAG18H,gBAAC,CAAC,IAAD,CAAf;AACA08H,SAAK,CAAC50J,IAAN,CAAW,OAAX,EAAoB40J,KAAK,CAAC/kJ,IAAN,CAAW,eAAX,CAApB;AACA,GAXF;AAYA,CAbD,C;;ACTA;AACA;AAEO,MAAMnhB,eAAiB,GAAG,IAAIirH,MAAJ,CAAW,UAAX,CAA1B;AAEPjrH,eAAM,CAACkrH,UAAP,GAAoB,cAApB;AACAlrH,eAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,eAAM,CAAC4jG,WAAP,GAAqB,cAArB;AACA5jG,eAAM,CAACkF,OAAP,GAAiB;AAChBiqM,uBAAqB,EAAE;AACtBvtM,QAAI,EAAE,MADgB;AAEtBwF,SAAK,EAAE,WAFe;AAGtBw8F,eAAW,EAAE,mCAHS;AAItBtQ,SAAK,EAAE,oCAJe;AAKtB/uE,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,mBADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,aADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,aADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,mBADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,EAYL;AACFjC,UAAI,EAAE,iBADJ;AAEFiC,WAAK,EAAE;AAFL,KAZK,EAeL;AACFjC,UAAI,EAAE,oBADJ;AAEFiC,WAAK,EAAE;AAFL,KAfK,EAkBL;AACFjC,UAAI,EAAE,eADJ;AAEFiC,WAAK,EAAE;AAFL,KAlBK,EAqBL;AACFjC,UAAI,EAAE,gBADJ;AAEFiC,WAAK,EAAE;AAFL,KArBK;AALc,GADP;AAgChBgoM,mBAAiB,EAAE;AAClB9tE,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACiqM,qBAAR,CAA8B/nM,KAA9B,KAAwC,QAD5C;AAElBxF,QAAI,EAAE,MAFY;AAGlBwF,SAAK,EAAE,GAHW;AAIlBw8F,eAAW,EAAE,+BAJK;AAKlBtQ,SAAK,EAAE;AALW;AAhCH,CAAjB;;AAyCAtzF,eAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,QAAMosH,cAAkC,GAAInvM,QAAQ,CAAC0M,cAAT,CAAwB,cAAxB,KAA2C1M,QAAQ,CAAC0M,cAAT,CAAwB,YAAxB,CAA3C,IAAoF1M,QAAQ,CAAC24E,aAAT,CAAuB,oBAAvB,CAAhI;;AACA,MAAIw2H,cAAJ,EAAoB;AACnB,UAAM5tK,GAAG,GAAG6tK,cAAc,EAA1B;;AACA,QAAI7tK,GAAJ,EAAS;AACR4tK,oBAAc,CAAC/6L,IAAf,GAAsBmtB,GAAtB;AACA;AACD;AACD,CARD;;AAUA,SAAS6tK,cAAT,GAA0B;AACzB,QAAMC,WAAW,GAAGvvM,eAAM,CAACkF,OAAP,CAAeiqM,qBAAf,CAAqC/nM,KAAzD;;AACA,UAAQmoM,WAAR;AACC,SAAK,WAAL;AACC,aAAO,KAAP;;AACD,SAAK,KAAL;AACC,aAAO,QAAP;;AACD,SAAK,KAAL;AACC,aAAO,MAAP;;AACD,SAAK,WAAL;AACC,aAAO,cAAP;;AACD,SAAK,WAAL;AACC,aAAO/lK,gBAAC,CAAC,iBAAD,CAAD,CAAqBl4B,IAArB,CAA0B,MAA1B,CAAP;;AACD,SAAK,QAAL;AACC,aAAOtR,eAAM,CAACkF,OAAP,CAAekqM,iBAAf,CAAiChoM,KAAxC;;AACD;AACC,aAAOmoM,WAAP;AAdF;AAgBA,C;;AC7ED;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMvvM,kBAAiB,GAAG,IAAIirH,MAAJ,CAAW,aAAX,CAA1B;AAEPjrH,kBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,kBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,kBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AAEA5jG,kBAAM,CAACkF,OAAP,GAAiB;AAChB+lJ,OAAK,EAAE;AACNrpJ,QAAI,EAAE,OADA;AAENs6H,cAAU,EAAE,wBAFN;AAGN/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,OADG;AAERvI,UAAI,EAAE,kBAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,KADH;AAEFvI,UAAI,EAAE,gBAFJ;AAGFvD,UAAI,EAAE;AAHJ,KAJK,CAHF;AAYNwF,SAAK,EAAE,CACN,CAAC,SAAD,EAAY,kBAAZ,CADM,EAEN,CAAC,KAAD,EAAQ,gBAAR,CAFM,EAGN,CAAC,QAAD,EAAW,iBAAX,CAHM,EAIN,CAAC,UAAD,EAAa,mBAAb,CAJM,EAKN,CAAC,iBAAD,EAAoB,mBAApB,CALM,EAMN,CAAC,cAAD,EAAiB,oBAAjB,CANM,EAON,CAAC,cAAD,EAAiB,mBAAjB,CAPM,CAZD;AAqBNw8F,eAAW,EAAE,sBArBP;AAsBNtQ,SAAK,EAAE;AAtBD,GADS;AAyBhB0pF,iBAAe,EAAE;AAChBp7K,QAAI,EAAE,SADU;AAEhBgiG,eAAW,EAAE,gCAFG;AAGhBtQ,SAAK,EAAE,iCAHS;AAIhBlsF,SAAK,EAAE;AAJS,GAzBD;AA+BhB61K,YAAU,EAAE;AACXr7K,QAAI,EAAE,MADK;AAEXwF,SAAK,EAAE,MAFI;AAGXw8F,eAAW,EAAE,2BAHF;AAIXtQ,SAAK,EAAE,4BAJI;AAKX2mC,YAAQ,EAAE;AALC,GA/BI;AAsChBtG,WAAS,EAAE;AACV/xH,QAAI,EAAE,MADI;AAEVwF,SAAK,EAAE,KAFG;AAGVw8F,eAAW,EAAE,0BAHH;AAIVtQ,SAAK,EAAE,2BAJG;AAKV2mC,YAAQ,EAAE;AALA,GAtCK;AA6ChBrG,WAAS,EAAE;AACVhyH,QAAI,EAAE,MADI;AAEVwF,SAAK,EAAE,KAFG;AAGVw8F,eAAW,EAAE,0BAHH;AAIVtQ,SAAK,EAAE,2BAJG;AAKV2mC,YAAQ,EAAE;AALA;AA7CK,CAAjB;;AAsDAj6H,kBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B8wC,cAAA,CAAmB/zH,kBAAM,CAAC2nH,QAA1B,EACEziH,OADF,CACU;AACRwuH,aAAS,EAAEniG,UAAU,CAACvxB,kBAAM,CAACkF,OAAP,CAAe+3K,UAAf,CAA0B71K,KAA3B,CADb;AAERusH,aAAS,EAAEpiG,UAAU,CAACvxB,kBAAM,CAACkF,OAAP,CAAeyuH,SAAf,CAAyBvsH,KAA1B,CAFb;AAGRwsH,aAAS,EAAEriG,UAAU,CAACvxB,kBAAM,CAACkF,OAAP,CAAe0uH,SAAf,CAAyBxsH,KAA1B;AAHb,GADV,EAMEyuH,YANF,CAMe,MAAM,CAAC25E,eAAe,EAAhB,CANrB,EAOEt5E,KAPF,CAOQ,6CAPR;AAQA,CATD;;AAWA,SAASs5E,eAAT,GAA2B;AAC1B,QAAMrpL,QAAQ,GAAGjmB,QAAQ,CAACkmB,sBAAT,EAAjB;;AAEA,OAAK,MAAMk/C,IAAX,IAAmBtlE,kBAAM,CAACkF,OAAP,CAAe+lJ,KAAf,CAAqB7jJ,KAAxC,EAA+C;AAC9C,UAAM2gG,KAAK,GAAGziC,IAAI,CAAC,CAAD,CAAJ,IAAW,EAAzB;AACA,UAAM7jC,GAAG,GAAG6jC,IAAI,CAAC,CAAD,CAAJ,IAAW,EAAvB;AACA,UAAMszB,EAAE,GAAGj4E,sBAAM,CAAC+N,IAAK,gBAAe+S,GAAI,KAAIsmE,KAAM,WAApD;AAEAnP,MAAE,CAACrpF,gBAAH,CAAoB,OAApB,EAA8BtD,CAAD,IAAmB;AAC/C,UAAIjM,kBAAM,CAACkF,OAAP,CAAe83K,eAAf,CAA+B51K,KAA/B,IAAwC+qH,SAAA,CAAkB6rD,4BAAlB,CAAxC,IAA2EA,uBAAA,CAAqC/xK,CAArC,CAA/E,EAAwH;AACxH8nH,kBAAA,CAAmB/zH,kBAAM,CAAC2nH,QAA1B,EAAoCtjB,KAApC;AACA,KAHD;AAKA,QAAI5iE,GAAG,CAACmgB,QAAJ,CAAa,kBAAb,CAAJ,EAAsCg3C,EAAE,CAACxpE,MAAH,CAAUzO,sBAAM,CAAC+N,IAAK,0DAAtB;AAEtCvI,YAAQ,CAACiJ,MAAT,CAAgBwpE,EAAhB;AACA;;AAEDzyE,UAAQ,CAACiJ,MAAT,CAAgBzO,sBAAM,CAAC+N,IAAK,eAAc4rG,WAAA,CAA+Bt6H,kBAAM,CAAC2nH,QAAtC,EAAgD,aAAhD,CAA+D;OACnGxgC,IAAI,CAACnnF,kBAAM,CAACkrH,UAAR,CAAoB;;WAD9B;AAKA,SAAO/kG,QAAP;AACA,C;;ACvGD;AACA;AACA;AACA;AAEO,MAAMnmB,gBAAiB,GAAG,IAAIirH,MAAJ,CAAW,WAAX,CAA1B;AAEPjrH,gBAAM,CAACkrH,UAAP,GAAoB,eAApB;AACAlrH,gBAAM,CAACmrH,QAAP,GAAkB,cAAlB;AACAnrH,gBAAM,CAAC4jG,WAAP,GAAqB,eAArB;AACA5jG,gBAAM,CAAC82B,MAAP,GAAgB,IAAhB;AACA92B,gBAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AACA7rH,gBAAM,CAACurH,OAAP,GAAiB,CAAC,YAAD,CAAjB;;AACAvrH,gBAAM,CAACy4F,EAAP,GAAY,MAAM;AACjBg3G,mBAAiB;AACjB,CAFD;;AAIA,MAAMtc,cAAI,GAAG;AACZ,mBAAiB,oMADL;AAEZuc,QAAM,EAAE,oUAFI;AAGZ,mBAAkB,kuBAAiuBp1E,WAAA,CAA+B,aAA/B,EAA8C,cAA9C,CAA8D,kBAHryB;AAIZq1E,WAAS,EAAE;AAJC,CAAb;;AAOA,SAASF,iBAAT,GAA6B;AAC5B,QAAMG,mBAAmB,GAAGpmK,gBAAC,CAAC,0CAAD,CAA7B;AACA,QAAMy0C,UAAU,GAAI2xH,mBAAmB,CAAClsM,MAArB,GAA+B8lC,gBAAC,CAAComK,mBAAD,CAAD,CAAuBvtM,GAAvB,EAA/B,GAA8D,EAAjF;AAEAwtM,eAAa;;AACb,MAAI5xH,UAAU,CAACv6E,MAAf,EAAuB;AAEtB,QAAI,CAACu6E,UAAU,CAACr8B,QAAX,CAAoB,MAApB,CAAD,IAAgC,CAACq8B,UAAU,CAACr8B,QAAX,CAAoB,MAApB,CAArC,EAAkE;AACjEkuJ,kBAAY,CAAC,eAAD,CAAZ;AACA;;AACD,QAAI,CAAC7xH,UAAU,CAACr8B,QAAX,CAAoB,gBAApB,CAAL,EAA4C;AAC3CkuJ,kBAAY,CAAC,WAAD,CAAZ;AACA;;AAGD,UAAMC,SAAS,GAAG9xH,UAAU,CAACn9E,OAAX,CAAmB,2BAAnB,CAAlB;;AACA,QAAIivM,SAAS,KAAK,CAAC,CAAnB,EAAsB;AACrB,UAAIC,UAAU,GAAG,EAAjB;AACA,UAAI5tM,CAAC,GAAG2tM,SAAR;;AACA,aAAO3tM,CAAC,GAAG67E,UAAU,CAACv6E,MAAtB,EAA8B;AAC7B,cAAMusM,QAAQ,GAAGhyH,UAAU,CAACv1B,MAAX,CAAkBtmD,CAAlB,CAAjB;AACA4tM,kBAAU,IAAIC,QAAd;;AACA,YAAIA,QAAQ,KAAK,GAAjB,EAAsB;AACrB7tM,WAAC,GAAG67E,UAAU,CAACv6E,MAAf;AACA;;AACDtB,SAAC;AACD;;AACD,UACC,CACC4tM,UAAU,CAACpuJ,QAAX,CAAoB,aAApB,KACAouJ,UAAU,CAACpuJ,QAAX,CAAoB,kBAApB,CADA,IAEAouJ,UAAU,CAACpuJ,QAAX,CAAoB,wBAApB,CAHD,KAKA,CAACouJ,UAAU,CAACpuJ,QAAX,CAAoB,QAApB,CALD,IAMA,CAACq8B,UAAU,CAACr8B,QAAX,CAAoB,yBAApB,CAPF,EAQE;AACDkuJ,oBAAY,CAAC,eAAD,CAAZ;AACA,OAVD,MAUO;AACNA,oBAAY,CAAC,QAAD,CAAZ;AACA;AACD;AACD;AACD;;AAED,IAAII,QAAJ,EAAcC,cAAd,EAA8BC,gBAA9B,EAAgDC,YAAhD;;AAEA,SAASR,aAAT,GAAyB;AACxB,QAAMS,UAAU,GAAG9mK,gBAAC,CAAC,YAAD,CAApB;AAEA0mK,UAAQ,GAAG1mK,gBAAC,CAAC,OAAD,EAAU;AAAE38B,MAAE,EAAE;AAAN,GAAV,CAAZ;AACAsjM,gBAAc,GAAG3mK,gBAAC,CAAC,OAAD,EAAU;AAC3B38B,MAAE,EAAE,6BADuB;AAE3B24K,SAAK,EAAE,WAFoB;AAG3BhjL,QAAI,EAAE,2BAHqB;AAI3B6nB,SAAK,EAAEkmL;AAJoB,GAAV,CAAlB;AAOA,QAAMC,mBAAmB,GAAGhnK,gBAAC,CAAC,QAAD,EAAW;AACvC38B,MAAE,EAAE,4BADmC;AAEvC24K,SAAK,EAAE,uCAFgC;AAGvClyF,SAAK,EAAE,wBAHgC;AAIvCjpE,SAAK,EAAEomL;AAJgC,GAAX,CAA7B;AAOA,QAAMC,kBAAkB,GAAGlnK,gBAAC,CAAC,QAAD,EAAW;AAAEg8I,SAAK,EAAE,SAAT;AAAoBhjL,QAAI,EAAE;AAA1B,GAAX,CAA5B;AAEA2tM,gBAAc,CACZ/gL,MADF,CACSohL,mBADT,EAEEphL,MAFF,CAESshL,kBAFT;AAIAN,kBAAgB,GAAG5mK,gBAAC,CAAC,OAAD,EAAU;AAAE38B,MAAE,EAAE;AAAN,GAAV,CAApB;AACAwjM,cAAY,GAAG7mK,gBAAC,CAAC,MAAD,EAAS;AAAE38B,MAAE,EAAE;AAAN,GAAT,CAAhB;AACAujM,kBAAgB,CAAChhL,MAAjB,CAAwBihL,YAAxB;AAEAH,UAAQ,CACN9gL,MADF,CACS+gL,cADT,EAEE/gL,MAFF,CAESghL,gBAFT;AAIAE,YAAU,CAAC/gL,MAAX,CAAkB2gL,QAAlB;AACA;;AAED,SAASO,WAAT,GAAuB;AACtB7pG,gBAAc,CAAC5f,OAAf,CAAuB,aAAvB,EAAsC,MAAtC;AACAkpH,UAAQ,CAAC1rL,IAAT;AACA;;AAED,SAAS+rL,aAAT,GAAyB;AACxB,MAAIJ,cAAc,CAACvzK,QAAf,CAAwB,WAAxB,CAAJ,EAA0C;AACzC+zK,uBAAmB;AACnB,GAFD,MAEO;AACNC,wBAAoB;AACpB;AACD;;AAED,SAASD,mBAAT,GAA+B;AAC9BR,gBAAc,CAAC5zK,WAAf,CAA2B,WAA3B;AACA6zK,kBAAgB,CAACl2K,SAAjB;AACA;;AAED,SAAS02K,oBAAT,GAAgC;AAC/BT,gBAAc,CAACj0K,QAAf,CAAwB,WAAxB;AACAk0K,kBAAgB,CAACj2K,OAAjB;AACA;;AAED,SAAS21K,YAAT,CAAsBpiM,GAAtB,EAA2B;AAC1B,QAAMmjM,OAAO,GAAG1d,cAAI,CAACzlL,GAAD,CAApB;AACA,QAAMojM,IAAI,GAAGtnK,gBAAC,CAAC,MAAD,EAAS;AAAE9a,QAAI,EAAE4mH,mBAAQ,CAACu7D,OAAD;AAAhB,GAAT,CAAd;;AAEA,MAAI,CAACjqG,cAAc,CAAC9f,OAAf,CAAuB,aAAvB,CAAL,EAA4C;AAC3CopH,YAAQ,CAAC5rL,IAAT;AACA;;AAED+rL,cAAY,CAACjhL,MAAb,CAAoB0hL,IAApB;AACA,C;;ACzID;AACA;AACA;AACA;AACA;AACA;AAEO,MAAM9wM,wBAAiB,GAAG,IAAIirH,MAAJ,CAAW,mBAAX,CAA1B;AAEPjrH,wBAAM,CAACkrH,UAAP,GAAoB,uBAApB;AACAlrH,wBAAM,CAAC4jG,WAAP,GAAqB,uBAArB;AACA5jG,wBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AAEAnrH,wBAAM,CAACurH,OAAP,GAAiB,CAIhB,UAJgB,CAAjB;AAOAvrH,wBAAM,CAACkF,OAAP,GAAiB;AAChB6rM,aAAW,EAAE;AACZnvM,QAAI,EAAE,SADM;AAEZwF,SAAK,EAAE,IAFK;AAGZw8F,eAAW,EAAE,kCAHD;AAIZtQ,SAAK,EAAE;AAJK,GADG;AAOhB09G,cAAY,EAAE;AACb1vE,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6rM,WAAR,CAAoB3pM,KAD7B;AAEbxF,QAAI,EAAE,OAFO;AAGbs6H,cAAU,EAAE,8BAHC;AAIb/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,OADG;AAERvI,UAAI,EAAE,wBAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,KADH;AAEFvI,UAAI,EAAE,sBAFJ;AAGFvD,UAAI,EAAE;AAHJ,KAJK,CAJK;AAabwF,SAAK,EAAE,CACN,CAAC,KAAD,EAAQ,OAAR,CADM,EAEN,CAAC,QAAD,EAAW,UAAX,CAFM,EAGN,CAAC,eAAD,EAAkB,iBAAlB,CAHM,EAIN,CAAC,KAAD,EAAQ,OAAR,CAJM,EAKN,CAAC,gBAAD,EAAmB,eAAnB,CALM,EAMN,CAAC,QAAD,EAAW,UAAX,CANM,EAON,CAAC,UAAD,EAAa,OAAb,CAPM,CAbM;AAsBbw8F,eAAW,EAAE,mCAtBA;AAuBbtQ,SAAK,EAAE;AAvBM,GAPE;AAgChB2pF,YAAU,EAAE;AACX37C,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6rM,WAAR,CAAoB3pM,KAD/B;AAEXxF,QAAI,EAAE,MAFK;AAGXwF,SAAK,EAAE,MAHI;AAIXw8F,eAAW,EAAE,iCAJF;AAKXtQ,SAAK,EAAE,kCALI;AAMX2mC,YAAQ,EAAE;AANC,GAhCI;AAwChBtG,WAAS,EAAE;AACV2N,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6rM,WAAR,CAAoB3pM,KADhC;AAEVxF,QAAI,EAAE,MAFI;AAGVwF,SAAK,EAAE,KAHG;AAIVw8F,eAAW,EAAE,gCAJH;AAKVtQ,SAAK,EAAE,iCALG;AAMV2mC,YAAQ,EAAE;AANA,GAxCK;AAgDhBrG,WAAS,EAAE;AACV0N,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6rM,WAAR,CAAoB3pM,KADhC;AAEVxF,QAAI,EAAE,MAFI;AAGVwF,SAAK,EAAE,KAHG;AAIVw8F,eAAW,EAAE,gCAJH;AAKVtQ,SAAK,EAAE,iCALG;AAMV2mC,YAAQ,EAAE;AANA;AAhDK,CAAjB;;AA0DAj6H,wBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,wBAAM,CAACkF,OAAP,CAAe6rM,WAAf,CAA2B3pM,KAA/B,EAAsC;AACrC2sH,gBAAA,CAAmB/zH,wBAAM,CAAC2nH,QAA1B,EACEziH,OADF,CACU;AACRwuH,eAAS,EAAE8/D,cAAA,CAA0BxzL,wBAAM,CAAC2nH,QAAjC,EAA2C,aAA3C,EAA0D3nH,wBAAM,CAACkF,OAAP,CAAe+3K,UAAzE,CADH;AAERtpD,eAAS,EAAEpiG,UAAU,CAACvxB,wBAAM,CAACkF,OAAP,CAAeyuH,SAAf,CAAyBvsH,KAA1B,CAFb;AAGRwsH,eAAS,EAAEriG,UAAU,CAACvxB,wBAAM,CAACkF,OAAP,CAAe0uH,SAAf,CAAyBxsH,KAA1B,CAHb;AAIRotH,SAAG,EAAET,GAAA,CAAUjjG,KAJP;AAKRM,iBAAW,EAAE,CAAC,EALN;AAMR0T,kBAAY,EAAE,CANN;AAORoyF,mBAAa,EAAE;AAPP,KADV,EAUErB,YAVF,CAUe+8B,IAAI,IAAI,CAAC48C,iCAAe,CAAC58C,IAAI,CAACx9B,gBAAL,GAAwB9gH,IAAzB,CAAhB,CAVvB,EAWE4hH,KAXF,CAWQ,+BAXR;AAYA;AACD,CAfD;;AAiBA,MAAMs5E,iCAAe,GAAGn4D,OAAO,IAAI;AAClCm8C,qBAAA,CAA+BxzL,wBAAM,CAAC2nH,QAAtC,EAAgD,aAAhD,EAA+D,CAA/D;AAEA,QAAMxhG,QAAQ,GAAGjmB,QAAQ,CAACkmB,sBAAT,EAAjB;;AAEA,OAAK,MAAMk/C,IAAX,IAAmBtlE,wBAAM,CAACkF,OAAP,CAAe8rM,YAAf,CAA4B5pM,KAA/C,EAAsD;AACrD,UAAM2gG,KAAK,GAAGziC,IAAI,CAAC,CAAD,CAAJ,IAAW,EAAzB;AACA,UAAM7jC,GAAG,GAAG6jC,IAAI,CAAC,CAAD,CAAJ,IAAW,EAAvB;AACA,UAAMszB,EAAE,GAAGj4E,sBAAM,CAAC+N,IAAK,gBAAe2oH,OAAQ,GAAE51G,GAAI,KAAIsmE,KAAM,WAA9D;AAEAnP,MAAE,CAACrpF,gBAAH,CAAoB,OAApB,EAA6B,MAAM;AAClCwkH,kBAAA,CAAmB/zH,wBAAM,CAAC2nH,QAA1B,EAAoCtjB,KAApC;AACAmvF,yBAAA,CAA+BxzL,wBAAM,CAAC2nH,QAAtC,EAAgD,aAAhD,EAA+D,CAAC,EAAhE;AACA,KAHD;AAKAxhG,YAAQ,CAACiJ,MAAT,CAAgBwpE,EAAhB;AACA;;AAEDzyE,UAAQ,CAACiJ,MAAT,CAAgBzO,sBAAM,CAAC+N,IAAK,eAAc4rG,WAAA,CAA+Bt6H,wBAAM,CAAC2nH,QAAtC,EAAgD,aAAhD,CAA+D;OACnGxgC,IAAI,CAACnnF,wBAAM,CAACkrH,UAAR,CAAoB;;WAD9B;AAKA,SAAO/kG,QAAP;AACA,CAxBD,C;;AC/FA;AACA;AAEO,MAAMnmB,0BAAiB,GAAG,IAAIirH,MAAJ,CAAW,qBAAX,CAA1B;AAEPjrH,0BAAM,CAACkrH,UAAP,GAAoB,SAApB;AACAlrH,0BAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,0BAAM,CAAC4jG,WAAP,GAAqB,gBAArB;AACA5jG,0BAAM,CAACkF,OAAP,GAAiB;AAChB+rM,mBAAiB,EAAE;AAClBrvM,QAAI,EAAE,SADY;AAElBwF,SAAK,EAAE,KAFW;AAGlBw8F,eAAW,EAAE,0BAHK;AAIlBtQ,SAAK,EAAE;AAJW;AADH,CAAjB;AASAtzF,0BAAM,CAACurH,OAAP,GAAiB,CAChB,UADgB,CAAjB;;AAIAvrH,0BAAM,CAACgsH,SAAP,GAAmB,MAAM;AACxB,QAAM7oH,OAAO,GAAGjD,QAAQ,CAACkkB,IAAT,CAAcy0D,aAAd,CAA4B74E,0BAAM,CAACkF,OAAP,CAAe+rM,iBAAf,CAAiC7pM,KAAjC,GAAyC,gBAAzC,GAA4D,sCAAxF,CAAhB;AACA,MAAI,CAACjE,OAAL,EAAc;AAEd,QAAM+tM,cAAc,GAAG,IAAI13H,GAAJ,EAAvB;AAEA,QAAM0nB,EAAE,GAAG,IAAI3H,oBAAJ,CAAyBpqB,OAAO,IAAI;AAC9C,SAAK,MAAM;AAAEqqB,oBAAF;AAAkBj0F;AAAlB,KAAX,IAAyC4pE,OAAzC,EAAkD;AACjD,UAAI,CAAChsE,OAAO,CAACsF,QAAR,CAAiBlD,MAAjB,CAAL,EAA+B27F,EAAE,CAACG,SAAH,CAAa97F,MAAb;AAC/B,UAAIi0F,cAAJ,EAAoB03G,cAAc,CAACj3L,GAAf,CAAmB1U,MAAnB,EAApB,KACK2rM,cAAc,CAAC5nH,MAAf,CAAsB/jF,MAAtB;AACL;;AAED,QAAI2rM,cAAc,CAACl9J,IAAnB,EAAyB;AACxB3zC,YAAM,CAACkP,gBAAP,CAAwB,QAAxB,EAAkC4hM,SAAlC;AACAA,eAAS;AACT,KAHD,MAGO;AACN9wM,YAAM,CAACuf,mBAAP,CAA2B,QAA3B,EAAqCuxL,SAArC;AACA;AAGD,GAfU,EAeR;AAAE/vG,cAAU,EAAE;AAAd,GAfQ,CAAX;AAkBA,QAAM+vG,SAAS,GAAG3nH,aAAa,CAACD,KAAK,CAAC,YAAY;AAGjD,UAAM6nH,MAAM,GAAG1rM,KAAK,CAACwsE,IAAN,CAAWg/H,cAAc,CAAC3sL,MAAf,EAAX,EAAoCxf,IAApC,CAAyC,CAACqE,CAAD,EAAIC,CAAJ,KAAU,KAAKD,CAAC,CAACuH,uBAAF,CAA0BtH,CAA1B,IAA+B,CAApC,CAAnD,EACb0G,IADa,CACR9D,CAAC,IAAI;AAEV,YAAMkkF,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAWjmE,CAAX,CAAd;AACA,aAAO,CAAC2yH,6BAAa,CAAC39F,OAAf,IAA0B,CAACkvD,KAA3B,IAAqCyuC,6BAAa,CAAC39F,OAAd,CAAsBuvD,cAAtB,CAAqCL,KAArC,MAAgD,MAA5F;AACA,KALa,CAAf;;AAMA,QAAIihH,MAAJ,EAAY;AACXA,YAAM,CAAC/mL,KAAP;AACA,YAAM+uD,aAAa,CAClBg4H,MADkB,EAGlB,IAAIv5H,OAAJ,CAAYyD,GAAG,IAAI98D,UAAU,CAAC88D,GAAD,EAAM,IAAN,CAA7B,CAHkB,CAAnB;AAKA61H,eAAS;AACT;AACD,GAlBoC,CAAN,EAkB3B,CAlB2B,CAA/B;AAoBA93H,qBAAmB,CAACl2E,OAAD,EAAU,iBAAV,EAA6By0E,GAAG,IAAI;AAAEspB,MAAE,CAAC1oB,OAAH,CAAWZ,GAAX;AAAkB,GAAxD,CAAnB;AACA,CA7CD,C;;ACrBA;AACA;AACA;AACA;AACA;AAEO,MAAM53E,iBAAiB,GAAG,IAAIirH,MAAJ,CAAW,YAAX,CAA1B;AAEPjrH,iBAAM,CAACkrH,UAAP,GAAoB,gBAApB;AACAlrH,iBAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,iBAAM,CAAC4jG,WAAP,GAAqB,gBAArB;AACA5jG,iBAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AAEA7rH,iBAAM,CAACkF,OAAP,GAAiB;AAChBmsM,oBAAkB,EAAE;AACnB/9G,SAAK,EAAE,kCADY;AAEnBsQ,eAAW,EAAE,yCAFM;AAGnBhiG,QAAI,EAAE,MAHa;AAInBwF,SAAK,EAAE,cAJY;AAKnBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,yCADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,yCADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,oCADJ;AAEFiC,WAAK,EAAE;AAFL,KANK;AALW,GADJ;AAiBhBkqM,yBAAuB,EAAE;AACxBh+G,SAAK,EAAE,uCADiB;AAExBsQ,eAAW,EAAE,8CAFW;AAGxBhiG,QAAI,EAAE,MAHkB;AAIxBwF,SAAK,EAAE,cAJiB;AAKxBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,yCADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,yCADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,oCADJ;AAEFiC,WAAK,EAAE;AAFL,KANK;AALgB,GAjBT;AAiChBmqM,wBAAsB,EAAE;AACvBj+G,SAAK,EAAE,sCADgB;AAEvBsQ,eAAW,EAAE,6CAFU;AAGvBhiG,QAAI,EAAE,MAHiB;AAIvBwF,SAAK,EAAE,cAJgB;AAKvBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,yCADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,yCADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,oCADJ;AAEFiC,WAAK,EAAE;AAFL,KANK;AALe;AAjCR,CAAjB;AAmDA,MAAMoqM,qBAAqB,GAAGxyG,uBAAO,CAAC/4E,IAAR,CAAa,gBAAb,EAA+B,IAA/B,CAA9B;;AAEAjmB,iBAAM,CAACy4F,EAAP,GAAY,YAAY;AACvB,QAAMg5G,cAAc,GAAG,MAAMD,qBAAqB,CAAC5tM,GAAtB,EAA7B;;AAEA,MAAI,CAAC6tM,cAAL,EAAqB;AACpBD,yBAAqB,CAACtwL,GAAtB,CAA0B+6H,gBAA1B;AACA;AACA;;AAED,MACCw1D,cAAc,KAAKx1D,gBAAnB,IACAvyG,mBAAO,CAAC,GAAD,CAAP,CAA+B+nK,cAA/B,EAA+Cx1D,gBAA/C,CAFD,EAGE;;AAEF,QAAM3tI,IAAI,GAAGo7B,mBAAO,CAAC,GAAD,CAAP,CAAiCuyG,gBAAjC,EAAmDw1D,cAAnD,CAAb;;AAEA,QAAMC,SAAS,GAAGtiH,SAAS,CAAC,CAC3B6sD,MAAA,IAAmB,wBADQ,EAE3B3tI,IAAI,KAAK,OAAT,IAAoB,yBAFO,EAG3B,CAACA,IAAI,KAAK,OAAT,IAAoBA,IAAI,KAAK,OAA9B,KAA0C,oBAHf,CAAD,EAIxBqjM,kBAAkB,IAAIA,kBAAkB,GAAG,CAAC3xM,iBAAM,CAACkF,OAAP,CAAeysM,kBAAf,EAAmCvqM,KAApC,CAAH,GAAgDxB,SAJhE,CAA3B;;AAMA,MAAI8rM,SAAS,CAAC9vJ,QAAV,CAAmB,cAAnB,CAAJ,EAAwC;AACvCspC,cAAU,CAAC+wD,UAAD,EAAsB,KAAtB,CAAV;AACA,GAFD,MAEO,IAAIy1D,SAAS,CAAC9vJ,QAAV,CAAmB,cAAnB,CAAJ,EAAwC;AAC9C48E,kCAAA,CAA+B;AAC9B7W,cAAQ,EAAE3nH,iBAAM,CAAC2nH,QADa;AAE9B6U,oBAAc,EAAEluH,IAFc;AAG9B+Q,aAAO,EAAG;MACP8nE,IAAI,CAAC,0BAAD,EAA6B80D,gBAA7B,CAA+C;oDACLA,UAAoB;OACjE90D,IAAI,CAAC,sBAAD,CAAyB;;IAHxB,CAKPzgF,IALO,EAHqB;AAS9Bq1H,gBAAU,EAAE;AATkB,KAA/B;AAWA,GAZM,MAYA;AACN58G,WAAO,CAAC68C,GAAR,CAAa,oBAAmBigF,gBAAiB,GAAjD;AACA;;AAEDu1D,uBAAqB,CAACtwL,GAAtB,CAA0B+6H,gBAA1B;AACA,CAxCD,C;;;;;;;;;;;;AClEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMj8I,gBAAiB,GAAG,IAAIirH,MAAJ,CAAW,WAAX,CAA1B;AAEPjrH,gBAAM,CAACkrH,UAAP,GAAoB,eAApB;AACAlrH,gBAAM,CAACmrH,QAAP,GAAkB,mBAAlB;AACAnrH,gBAAM,CAAC4jG,WAAP,GAAqB,eAArB;AAEA5jG,gBAAM,CAACkF,OAAP,GAAiB;AAChB0sM,kBAAgB,EAAE;AACjBhuG,eAAW,EAAE,+BADI;AAEjBtQ,SAAK,EAAE,gCAFU;AAGjB1xF,QAAI,EAAE,SAHW;AAIjBwF,SAAK,EAAE;AAJU,GADF;AAOhByqM,kBAAgB,EAAE;AACjBjuG,eAAW,EAAE,+BADI;AAEjBtQ,SAAK,EAAE,gCAFU;AAGjB1xF,QAAI,EAAE,SAHW;AAIjBwF,SAAK,EAAE;AAJU,GAPF;AAahBsjK,iBAAe,EAAE;AAChB9mE,eAAW,EAAE,8BADG;AAEhBynB,YAAQ,EAAE,CAAC,SAAD,EAAY,MAAZ,CAFM;AAGhB/3B,SAAK,EAAE,+BAHS;AAIhB1xF,QAAI,EAAE,SAJU;AAKhBwF,SAAK,EAAE;AALS,GAbD;AAoBhB0qM,sBAAoB,EAAE;AACrBluG,eAAW,EAAE,mCADQ;AAErBtQ,SAAK,EAAE,oCAFc;AAGrB1xF,QAAI,EAAE,SAHe;AAIrBwF,SAAK,EAAE;AAJc,GApBN;AA0BhB2qM,kBAAgB,EAAE;AACjBnuG,eAAW,EAAE,+BADI;AAEjBtQ,SAAK,EAAE,gCAFU;AAGjB1xF,QAAI,EAAE,SAHW;AAIjBwF,SAAK,EAAE,KAJU;AAKjBkkH,aAAS,EAAE;AALM,GA1BF;AAiChB0mF,wBAAsB,EAAE;AACvBpuG,eAAW,EAAE,qCADU;AAEvBtQ,SAAK,EAAE,sCAFgB;AAGvB1xF,QAAI,EAAE,SAHiB;AAIvBwF,SAAK,EAAE;AAJgB,GAjCR;AAuChB6qM,kBAAgB,EAAE;AACjBruG,eAAW,EAAE,sBADI;AAEjBtQ,SAAK,EAAE,uBAFU;AAGjB1xF,QAAI,EAAE,SAHW;AAIjBwF,SAAK,EAAE;AAJU,GAvCF;AA6ChB8qM,0BAAwB,EAAE;AACzBtuG,eAAW,EAAE,uCADY;AAEzBtQ,SAAK,EAAE,wCAFkB;AAGzB1xF,QAAI,EAAE,SAHmB;AAIzBwF,SAAK,EAAE;AAJkB,GA7CV;AAmDhB+qM,4BAA0B,EAAE;AAC3BvuG,eAAW,EAAE,gCADc;AAE3BtQ,SAAK,EAAE,iCAFoB;AAG3B2mC,YAAQ,EAAE,IAHiB;AAI3Br4H,QAAI,EAAE,OAJqB;AAK3BwF,SAAK,EAAE,SALoB;AAM3Bk6H,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACgtM,wBAAR,CAAiC9qM;AAN5B,GAnDZ;AA2DhBgrM,8BAA4B,EAAE;AAC7BxuG,eAAW,EAAE,kCADgB;AAE7BtQ,SAAK,EAAE,mCAFsB;AAG7B2mC,YAAQ,EAAE,IAHmB;AAI7Br4H,QAAI,EAAE,OAJuB;AAK7BwF,SAAK,EAAE,SALsB;AAM7Bk6H,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACgtM,wBAAR,CAAiC9qM;AAN1B,GA3Dd;AAmEhBirM,qBAAmB,EAAE;AACpBzuG,eAAW,EAAE,kCADO;AAEpBtQ,SAAK,EAAE,mCAFa;AAGpB1xF,QAAI,EAAE,SAHc;AAIpBwF,SAAK,EAAE,IAJa;AAKpBk6H,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACgtM,wBAAR,CAAiC9qM;AALnC,GAnEL;AA0EhBkrM,oBAAkB,EAAE;AACnB1uG,eAAW,EAAE,iCADM;AAEnBtQ,SAAK,EAAE,kCAFY;AAGnB1xF,QAAI,EAAE,SAHa;AAInBwF,SAAK,EAAE,KAJY;AAKnB6yH,YAAQ,EAAE;AALS,GA1EJ;AAiFhBs4E,eAAa,EAAE;AACd3uG,eAAW,EAAE,4BADC;AAEdtQ,SAAK,EAAE,6BAFO;AAGd1xF,QAAI,EAAE,SAHQ;AAIdwF,SAAK,EAAE,KAJO;AAKdkkH,aAAS,EAAE;AALG,GAjFC;AAwFhBknF,aAAW,EAAE;AACZ5uG,eAAW,EAAE,0BADD;AAEZtQ,SAAK,EAAE,2BAFK;AAGZ1xF,QAAI,EAAE,SAHM;AAIZwF,SAAK,EAAE,KAJK;AAKZkkH,aAAS,EAAE;AALC,GAxFG;AA+FhBmnF,kBAAgB,EAAE;AACjB7uG,eAAW,EAAE,+BADI;AAEjBtQ,SAAK,EAAE,gCAFU;AAGjB1xF,QAAI,EAAE,SAHW;AAIjBwF,SAAK,EAAE,KAJU;AAKjBkkH,aAAS,EAAE,IALM;AAMjBgW,aAAS,EAAEp8H,OAAO,IAAI,CAACA,OAAO,CAACstM,WAAR,CAAoBprM;AAN1B,GA/FF;AAuGhBsrM,gBAAc,EAAE;AACf9uG,eAAW,EAAE,6BADE;AAEftQ,SAAK,EAAE,8BAFQ;AAGf1xF,QAAI,EAAE,SAHS;AAIfwF,SAAK,EAAE,KAJQ;AAKfkkH,aAAS,EAAE;AALI,GAvGA;AA8GhBqnF,qBAAmB,EAAE;AACpB/uG,eAAW,EAAE,kCADO;AAEpBtQ,SAAK,EAAE,mCAFa;AAGpB1xF,QAAI,EAAE,SAHc;AAIpBwF,SAAK,EAAE,KAJa;AAKpBkkH,aAAS,EAAE,IALS;AAMpBgW,aAAS,EAAEp8H,OAAO,IAAI,CAACA,OAAO,CAACwtM,cAAR,CAAuBtrM;AAN1B;AA9GL,CAAjB;;AAwHApH,gBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,gBAAM,CAACkF,OAAP,CAAe+sM,gBAAf,CAAgC7qM,KAApC,EAA2CwrM,YAAY;;AAEvD,MAAI,CAAC/wH,YAAY,EAAjB,EAAqB;AACpB;AACA;;AAEDgxH,iBAAe;;AACf,MAAI7yM,gBAAM,CAACkF,OAAP,CAAe0sM,gBAAf,CAAgCxqM,KAApC,EAA2C;AAC1C0rM,sBAAkB,GAAGxhM,IAArB,CAA0B,QAA1B,EAAoC,QAApC,EAA8CA,IAA9C,CAAmD,KAAnD,EAA0D,oBAA1D;AACA;;AAEDyhM,gBAAc;AACd,CAbD;;AAeO,eAAeA,cAAf,CAA8B5wM,GAAgB,GAAGjC,QAAQ,CAACkkB,IAA1D,EAAgE;AACtE,MAAI,CAAC+tG,SAAA,CAAkBnyH,gBAAlB,CAAL,EAAgC;AAChC,MAAI,CAACA,gBAAM,CAACkF,OAAP,CAAe2sM,gBAAf,CAAgCzqM,KAArC,EAA4C;AAC5C,MAAI,CAACy6E,YAAY,EAAjB,EAAqB;AAGrB,QAAMmxH,gBAAgB,GAAG7wM,GAAG,CAAC02E,aAAJ,CAAkB,YAAlB,CAAzB;AAEA,QAAMo6H,cAAc,GAAG,8EAAvB;AACA,QAAM,CAACvwE,SAAD,IAAcswE,gBAAgB,IAAIC,cAAc,CAACtmM,IAAf,CAAoBqmM,gBAAgB,CAAClhM,WAArC,CAApB,IAAyE,EAA7F;;AACA,MAAIpJ,IAAI,CAACkZ,KAAL,CAAW8gH,SAAX,CAAJ,EAA2B;AAC1B,UAAMu4D,UAAU,GAAG,MAAM15B,uBAAO,CAAC39J,GAAR,CAAY,uBAAZ,CAAzB;AACA29J,2BAAO,CAACrgJ,GAAR,CAAY,uBAAZ,EAAqCwhH,SAArC;AACA,QAAIu4D,UAAU,IAAI,IAAIvyL,IAAJ,CAASuyL,UAAT,KAAwB,IAAIvyL,IAAJ,CAASg6H,SAAT,CAA1C,EAA+D;AAC/D;;AAEDwwE,gBAAc,CAACC,cAAc,CAAChxM,GAAD,CAAf,CAAd;AACA;AAED,IAAIixM,SAAS,GAAG,CAAhB;;AAEA,MAAMC,eAAe,GAAGvoH,SAAS,CAAEtoE,KAAD,IAAmB;AAEpD,MAAIA,KAAK,KAAK4wL,SAAd,EAAyB;AACzBA,WAAS,GAAG5wL,KAAZ;AAEA8wL,oBAAkB,CAAC9wL,KAAD,CAAlB;AACA+wL,aAAW,CAAC/wL,KAAD,CAAX;AACAgxL,qBAAmB,CAAChxL,KAAD,CAAnB;AACAixL,yBAAuB,CAACjxL,KAAD,CAAvB;;AAEA,MAAIA,KAAK,GAAG,CAAZ,EAAe;AACdniB,UAAM,CAACo5E,aAAP,CAAqB,IAAI1vD,KAAJ,CAAU,WAAV,CAArB;AACA;AACD,CAbgC,EAa9B;AAAE5kB,MAAI,EAAE,gBAAR;AAA0B6lF,cAAY,EAAE;AAAxC,CAb8B,CAAjC;;AAeA,SAASkoH,cAAT,CAAwB1wL,KAAxB,EAAuC;AACtC,MAAIxiB,gBAAM,CAACkF,OAAP,CAAewlK,eAAf,CAA+BtjK,KAAnC,EAA0C;AACzCisM,mBAAe,CAAC7wL,KAAD,CAAf;AACA,GAFD,MAEO;AACN6wL,mBAAe,CAACtoH,KAAhB,CAAsBvoE,KAAtB;AACA;AACD;;AAED,SAAS+wL,WAAT,CAAqB/wL,KAArB,EAA4B;AAC3B,MAAI,CAACxiB,gBAAM,CAACkF,OAAP,CAAe8sM,sBAAf,CAAsC5qM,KAA3C,EAAkD;;AAClD,MAAIob,KAAK,GAAG,CAAZ,EAAe;AACdtiB,YAAQ,CAACozF,KAAT,GAAkB,IAAG9wE,KAAM,KAAItiB,QAAQ,CAACozF,KAAT,CAAettF,OAAf,CAAuB,cAAvB,EAAuC,EAAvC,CAA2C,EAA1E;AACA,GAFD,MAEO;AACN9F,YAAQ,CAACozF,KAAT,GAAiBpzF,QAAQ,CAACozF,KAAT,CAAettF,OAAf,CAAuB,cAAvB,EAAuC,EAAvC,CAAjB;AACA;AACD;;AAED,SAASwtM,mBAAT,CAA6BhxL,KAA7B,EAAoC;AACnC,QAAM;AAAEkxL,qBAAF;AAAqBC;AAArB,MAA8CC,iBAAiB,EAArE;AAEApqK,kBAAC,GAAGvvB,GAAJ,CAAQ05L,oBAAR,EAA8B15L,GAA9B,CAAkCy5L,iBAAlC,EACEpiM,IADF,CACO,OADP,EACgBkR,KAAK,GAAG,WAAH,GAAiB,aADtC,EAEEga,WAFF,CAEc,UAFd,EAE0B,CAAC,CAACha,KAF5B,EAGEga,WAHF,CAGc,YAHd,EAG4B,CAACha,KAH7B,EAIElR,IAJF,CAIO,MAJP,EAIeuiM,YAAY,CAACrxL,KAAD,CAJ3B;AAKA;;AAED,SAASixL,uBAAT,CAAiCjxL,KAAjC,EAAwC;AACvC,QAAM;AAAEsxL,oBAAF;AAAoBC;AAApB,MAA4CH,iBAAiB,EAAnE;AAEApqK,kBAAC,GAAGvvB,GAAJ,CAAQ85L,mBAAR,EAA6B95L,GAA7B,CAAiC65L,gBAAjC,EACE1wL,GADF,CACM,SADN,EACiBZ,KAAK,GAAG,cAAH,GAAoB,MAD1C,EAEElR,IAFF,CAEO,MAFP,EAEeuiM,YAAY,CAACrxL,KAAD,CAF3B,EAGElR,IAHF,CAGO,OAHP,EAGgBkR,KAAK,GAAG,WAAH,GAAiB,aAHtC,EAIEhgB,IAJF,CAIOggB,KAJP,EAKE0Z,QALF,CAKW,eALX;AAMA;;AAED,SAASo3K,kBAAT,CAA4B9wL,KAA5B,EAAmC;AAClC,MAAIxiB,gBAAM,CAACkF,OAAP,CAAegtM,wBAAf,CAAwC9qM,KAA5C,EAAmD;AAClDwrM,gBAAY,GAAG5rI,KAAf,CAAqBxkD,KAArB;AACA;AACD;;AAED,MAAMowL,YAAY,GAAG,sBAAO,MAAM;AACjC,QAAMoB,QAAQ,GAAGtuM,KAAK,CAACwsE,IAAN,CAAWhyE,QAAQ,CAACyC,IAAT,CAAc0K,gBAAd,CAA+B,kBAA/B,CAAX,CAAjB;;AACA,QAAM4mM,eAAe,GAAGD,QAAQ,CAACjkM,IAAT,CAAc88B,CAAC,IAAIA,CAAC,CAACpqC,YAAF,CAAe,OAAf,MAA4B,OAA/C,KAA2D,eAAOuxM,QAAP,CAAnF;;AAEA,OAAK,MAAMnnK,CAAX,IAAgBmnK,QAAhB,EAA0B;AACzB,QAAInnK,CAAC,KAAKonK,eAAV,EAA2BpnK,CAAC,CAACnxB,MAAF;AAC3B;;AAED,MAAI1b,gBAAM,CAACkF,OAAP,CAAe+sM,gBAAf,CAAgC7qM,KAApC,EAA2C;AAC1C6sM,mBAAe,CAACvxM,YAAhB,CAA6B,MAA7B,EAAqCwxM,uBAArC;AACA;;AAED,QAAMC,OAAO,GAAG,IAAIpxI,gBAAJ,CAAW;AAC1BE,WAAO,EAAEjjE,gBAAM,CAACkF,OAAP,CAAeitM,0BAAf,CAA0C/qM,KADzB;AAE1B87D,aAAS,EAAEljE,gBAAM,CAACkF,OAAP,CAAektM,4BAAf,CAA4ChrM;AAF7B,GAAX,CAAhB;;AAKA,MAAIpH,gBAAM,CAACkF,OAAP,CAAemtM,mBAAf,CAAmCjrM,KAAvC,EAA8C;AAE7C/G,UAAM,CAACkP,gBAAP,CAAwB,cAAxB,EAAwC,MAAM4kM,OAAO,CAACl/L,KAAR,EAA9C;AACA;;AAED,SAAOk/L,OAAP;AACA,CAvBoB,CAArB;;AAyBA,MAAMP,iBAAiB,GAAG,OAAO,EAChC,GAAGQ,aAAa,EADgB;AAEhC,KAAGvB,eAAe,EAFc;AAGhCwB,uBAAqB,EAAE;AAHS,CAAP,CAA1B;;AAMA,MAAMvB,kBAAkB,GAAG,MAAMryM,MAAM,CAAC8jB,MAAP,CAAcqvL,iBAAiB,EAA/B,EAAmCv3H,MAAnC,CAA0C,CAACi4H,IAAD,EAAO18H,GAAP,KAAe08H,IAAI,CAACr6L,GAAL,CAAS29D,GAAT,CAAzD,EAAwEpuC,gBAAC,EAAzE,CAAjC;;AAEA,MAAM4qK,aAAa,GAAG,sBAAO,MAAM;AAClC,QAAMV,iBAAiB,GAAGxzM,QAAQ,CAAC24E,aAAT,CAAuB,4BAAvB,CAA1B;AACA,MAAIi7H,gBAAgB,GAAG5zM,QAAQ,CAAC24E,aAAT,CAAuB,qCAAvB,CAAvB;;AACA,MAAI,CAACi7H,gBAAD,KAAsB9zM,gBAAM,CAACkF,OAAP,CAAe2sM,gBAAf,CAAgCzqM,KAAhC,IAAyCpH,gBAAM,CAACkF,OAAP,CAAewlK,eAAf,CAA+BtjK,KAA9F,CAAJ,EAA0G;AACzG0sM,oBAAgB,GAAG5zM,QAAQ,CAACqC,aAAT,CAAuB,GAAvB,CAAnB;AACAuxM,oBAAgB,CAAC5wL,KAAjB,CAAuBC,OAAvB,GAAiC,MAAjC;AACAuwL,qBAAiB,CAAClkL,KAAlB,CAAwBskL,gBAAxB;AACA;;AACD,SAAO;AAAEJ,qBAAF;AAAqBI;AAArB,GAAP;AACA,CATqB,CAAtB;;AAWA,MAAMjB,eAAe,GAAG,sBAAO,MAAM;AACpC,MAAI,CAAC7yM,gBAAM,CAACkF,OAAP,CAAe4sM,oBAAf,CAAoC1qM,KAAzC,EAAgD;AAC/C,WAAO;AAAEusM,0BAAoB,EAAE/tM,SAAxB;AAAmCmuM,yBAAmB,EAAEnuM;AAAxD,KAAP;AACA;;AACD,MAAI+tM,oBAAJ,EAA0BI,mBAA1B;AAEA,QAAM7P,SAAS,GAAGqQ,kBAAA,CAAmBrvM,OAAnB,CAA2Bg/L,SAA3B,CAAqC98L,KAAvD;;AACA,MAAI88L,SAAS,KAAK,KAAd,IAAuBA,SAAS,KAAK,MAAzC,EAAiD;AAChDyP,wBAAoB,GAAGnqK,gBAAC,CAAC,KAAD,EAAQ;AAAE38B,QAAE,EAAE,SAAN;AAAiB24K,WAAK,EAAE;AAAxB,KAAR,CAAxB;AACA1rF,cAAU,CAAC65G,oBAAoB,CAAC/vM,GAArB,CAAyB,CAAzB,CAAD,CAAV;AAEAmwM,uBAAmB,GAAGvqK,gBAAC,CAAC,KAAD,EAAQ;AAAE38B,QAAE,EAAE;AAAN,KAAR,CAAvB;AACAknM,uBAAmB,CAAC3wL,GAApB,CAAwB,SAAxB,EAAmC,MAAnC;AACA2wL,uBAAmB,CAACziM,IAApB,CAAyB,MAAzB,EAAiCuiM,YAAY,CAAC,IAAD,CAA7C;AACA/5G,cAAU,CAACi6G,mBAAmB,CAACnwM,GAApB,CAAwB,CAAxB,CAAD,CAAV;AACA;;AAED,SAAO;AAAE+vM,wBAAF;AAAwBI;AAAxB,GAAP;AACA,CAlBuB,CAAxB;;AAoBA,SAASF,YAAT,CAAsBW,QAAtB,EAAgC;AAC/B,MAAIA,QAAQ,IAAI,CAACx0M,gBAAM,CAACkF,OAAP,CAAeotM,kBAAf,CAAkClrM,KAAnD,EAA0D;AACzD,WAAO,kBAAP;AACA;;AAED,SAAO,iBAAP;AACA;;AACD,SAAS+rM,cAAT,CAAwB5iL,SAAxB,EAAmC;AAClC,QAAMkkL,SAAS,GAAGlkL,SAAS,CAACsoD,aAAV,CAAwB,gBAAxB,CAAlB;AACA,SAAO47H,SAAS,IAAI34K,QAAQ,CAAC24K,SAAS,CAAC3iM,WAAX,EAAwB,EAAxB,CAArB,IAAoD,CAA3D;AACA,C;;;ACjTD;AAEA;AACA;AACA;AACA;AAEO,MAAM9R,oBAAiB,GAAG,IAAIirH,MAAJ,CAAW,eAAX,CAA1B;AAEPjrH,oBAAM,CAACkrH,UAAP,GAAoB,aAApB;AACAlrH,oBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,oBAAM,CAAC4jG,WAAP,GAAqB,aAArB;AACA5jG,oBAAM,CAACkF,OAAP,GAAiB;AAChBwvM,OAAK,EAAE;AACN9yM,QAAI,EAAE,SADA;AAENwF,SAAK,EAAE,IAFD;AAGNw8F,eAAW,EAAE,kBAHP;AAINtQ,SAAK,EAAE;AAJD,GADS;AAOhBqhH,WAAS,EAAE;AACV/yM,QAAI,EAAE,SADI;AAEVwF,SAAK,EAAE,IAFG;AAGVw8F,eAAW,EAAE,sBAHH;AAIVtQ,SAAK,EAAE;AAJG,GAPK;AAahBshH,UAAQ,EAAE;AACThzM,QAAI,EAAE,SADG;AAETwF,SAAK,EAAE,IAFE;AAGTw8F,eAAW,EAAE,qBAHJ;AAITtQ,SAAK,EAAE;AAJE,GAbM;AAmBhBuhH,gBAAc,EAAE;AACfjzM,QAAI,EAAE,SADS;AAEfwF,SAAK,EAAE,IAFQ;AAGfw8F,eAAW,EAAE,2BAHE;AAIftQ,SAAK,EAAE,4BAJQ;AAKfguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC0vM,QAAR,CAAiBxtM;AALxB;AAnBA,CAAjB;;AA4BApH,oBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI/rH,oBAAM,CAACkF,OAAP,CAAe0vM,QAAf,CAAwBxtM,KAAxB,IAAiC+1E,UAAU,CAAC,UAAD,CAA/C,EAA6D;AAC5DijB,kBAAc,CAAC,CAAC,MAAD,CAAD,EAAW00G,aAAX,CAAd;AACA;AACD,CAJD;;AAMA90M,oBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,oBAAM,CAACkF,OAAP,CAAeyvM,SAAf,CAAyBvtM,KAAzB,IAAkC+1E,UAAU,CAAC,UAAD,CAAhD,EAA8D;AAC7D43H,wBAAoB;AACpB;;AACD,MAAI/0M,oBAAM,CAACkF,OAAP,CAAewvM,KAAf,CAAqBttM,KAAzB,EAAgC;AAC/B4tM,aAAS;AACT;AACD,CAPD;;AASA,SAASA,SAAT,GAAqB;AACpB,QAAM9/J,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK,yEAAwEy4D,IAAI,CAAC,mBAAD,CAAsB,gBAA9H;AACAjyC,SAAO,CAAC3lC,gBAAR,CAAyB,OAAzB,EAAmCtD,CAAD,IAAc;AAC/CA,KAAC,CAACsd,cAAF;AACAlpB,UAAM,CAAC+nC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACAw2F,iCAAa,CAACp4B,IAAd,CAAmB,KAAnB;AACA,GAJD;AAKA1M,YAAU,CAAC5kD,OAAD,EAAU;AAAE69B,SAAK,EAAE;AAAT,GAAV,CAAV;AACA;;AAED,MAAMkiI,qBAAqB,GAAG,CAAC;AAAEC,cAAF;AAAgBC,QAAhB;AAAwBC,cAAxB;AAAsCC,UAAtC;AAAgDprB,YAAhD;AAA4D32F,OAA5D;AAAmEgiH,YAAnE;AAA+E92H,QAA/E;AAAuF7jD,MAAvF;AAA6Fm5D,QAA7F;AAAqGyhH;AAArG,CAAD,KAAuH50L,sBAAM,CAAC+N,IAAK;;IAE7JwmL,YAAY,IAAIv0L,sBAAM,CAACghE,KAAM;iDACgBuzH,YAAa;GAC1D;cACUC,MAAO;aACRC,YAAa;;;eAGXC,QAAS,KAAIprB,UAAU,IAAItpK,sBAAM,CAACghE,KAAM,0CAA0C,gCAA+B2R,KAAM;eACvHgiH,UAAW,yCAAwC92H,MAAO;;;gBAGzD7jD,IAAK;eACN46K,UAAW,kCAAiCzhH,MAAO;;;;CAdlE;;AAoBA,SAASihH,oBAAT,GAAgC;AAE/B,QAAMS,WAAW,GAAGt1M,QAAQ,CAAC24E,aAAT,CAAuB,uDAAvB,CAApB;AACA,MAAI,CAAC28H,WAAL,EAAkB;AAElB,QAAMtgK,OAAO,GAAGv0B,sBAAM,CAAC+N,IAAK,kFAAiFy4D,IAAI,CAAC,uBAAD,CAA0B,gBAA3I;AACAjyC,SAAO,CAAC3lC,gBAAR,CAAyB,OAAzB,EAAmCtD,CAAD,IAAc;AAC/CA,KAAC,CAACsd,cAAF;AACAisL,eAAW,CAACxoL,KAAZ;AACA,GAHD;AAKA8sE,YAAU,CAAC5kD,OAAD,EAAU;AAAE3kB,aAAS,EAAE;AAAb,GAAV,CAAV;AACA;;AAED,MAAMukL,aAAa,GAAG,sBAAOW,eAAe,IAAI;AAC/C,MAAIC,OAAJ;AACA,MAAIC,eAAe,GAAG,IAAtB;AACA,MAAIC,UAAJ,EAAgBC,WAAhB;;AAEA,WAASC,UAAT,GAAsB;AACrBJ,WAAO,CAACtyL,GAAR,CAAY;AAAE9T,SAAG,EAAE6qE,eAAe,CAAC,IAAD;AAAtB,KAAZ,EAA4C59C,WAA5C,CAAwD,MAAxD;AACA;;AAED,WAASw5K,UAAT,GAAsB;AACrBL,WAAO,CAACtyL,GAAR,CAAY;AAAE9T,SAAG,EAAE,CAACsmM;AAAR,KAAZ,EAAkC15K,QAAlC,CAA2C,MAA3C;AACA;;AAED,WAAS85K,YAAT,GAAwB;AACvB,WAAOxsK,gBAAC,CAACyrK,qBAAqB,CAAC;AAC9BE,YAAM,EAAEM,eAAe,CAACvgK,OAAhB,CAAwBroC,EADF;AAE9BqoM,kBAAY,EAAEO,eAAe,CAAClhH,mBAAhB,EAFgB;AAG9B8gH,cAAQ,EAAEI,eAAe,CAAChjH,WAAhB,EAHoB;AAI9Bw3F,gBAAU,EAAEjqL,oBAAM,CAACkF,OAAP,CAAe2vM,cAAf,CAA8BztM,KAJZ;AAK9BksF,WAAK,EAAEmiH,eAAe,CAACljH,QAAhB,EALuB;AAM9B+iH,gBAAU,EAAEG,eAAe,CAACrhH,gBAAhB,EANkB;AAO9B5V,YAAM,EAAEi3H,eAAe,CAACthH,iBAAhB,EAPsB;AAQ9Bx5D,UAAI,EAAE86K,eAAe,CAACv/G,WAAhB,EARwB;AAS9Bq/G,gBAAU,EAAEE,eAAe,CAAC5hH,YAAhB,EATkB;AAU9BC,YAAM,EAAE2hH,eAAe,CAAC9hH,SAAhB,EAVsB;AAW9ByhH,kBAAY,EAAE96E,WAAA,CAA+Bt6H,oBAAM,CAAC2nH,QAAtC,EAAgD,UAAhD;AAXgB,KAAD,CAAtB,CAAR;AAaA;;AAED,QAAMq9D,YAAY,GAAGj9F,aAAa,CAAE97E,CAAD,IAAmB;AACrD,UAAMgqM,WAAW,GAAGhqM,CAAC,CAACi8I,MAAF,GAAW,CAA/B;;AAEA,QAAI+tD,WAAW,IAAIN,eAAnB,EAAoC;AACnC/tE,gBAAU;AAEVkuE,gBAAU;AACV,KAJD,MAIO,IAAIJ,OAAJ,EAAa;AACnBK,gBAAU;AACV;AACD,GAViC,CAAlC;;AAYA,QAAMnuE,UAAU,GAAG,sBAAO,MAAM;AAC/B8tE,WAAO,GAAGM,YAAY,GACpB5uL,EADQ,CACL,YADK,EACS,MAAMsuL,OAAO,CAACtyL,GAAR,CAAY;AAAEiU,YAAM,EAAEw+K;AAAV,KAAZ,CADf,EAERzuL,EAFQ,CAEL,YAFK,EAES,MAAMsuL,OAAO,CAACtyL,GAAR,CAAY;AAAEiU,YAAM,EAAEu+K;AAAV,KAAZ,CAFf,EAGRjmL,QAHQ,CAGCzvB,QAAQ,CAACkkB,IAHV,CAAV;AAKAwxL,cAAU,GAAGF,OAAO,CAAC9xM,GAAR,CAAY,CAAZ,EAAeixB,qBAAf,GAAuCwC,MAApD;AACAw+K,eAAW,GAAGH,OAAO,CAAC9xM,GAAR,CAAY,CAAZ,EAAe+2E,YAA7B;AAEA,QAAI4e,oBAAJ,CAAyBpqB,OAAO,IAAI;AACnCwmI,qBAAe,GAAG,CAACxmI,OAAO,CAAC,CAAD,CAAP,CAAWqqB,cAA9B;AACA,UAAI,CAACm8G,eAAL,EAAsBI,UAAU;AAChC,KAHD,EAGG;AAAE30G,gBAAU,EAAE;AAAd,KAHH,EAGwC5oB,OAHxC,CAGgDi9H,eAAe,CAACvgK,OAHhE;AAKA70C,UAAM,CAACkP,gBAAP,CAAwB,QAAxB,EAAkC,MAAM;AAAE,UAAIurE,eAAe,CAACnB,mBAAhB,EAAJ,EAA2Co8H,UAAU;AAAK,KAApG;AACA,GAfkB,CAAnB;;AAiBA11M,QAAM,CAACkP,gBAAP,CAAwB,OAAxB,EAAiCy1K,YAAjC,EAA+C;AAAE95E,WAAO,EAAE;AAAX,GAA/C;AACA,CA3DqB,CAAtB,C;;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMlrG,qBAAiB,GAAG,IAAIirH,MAAJ,CAAW,gBAAX,CAA1B;AAEPjrH,qBAAM,CAACkrH,UAAP,GAAoB,oBAApB;AACAlrH,qBAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AACA7rH,qBAAM,CAAC+E,IAAP,GAAc,CAAC,CAAf;AACA/E,qBAAM,CAAC4jG,WAAP,GAAqB,oBAArB;AACA5jG,qBAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,qBAAM,CAACkF,OAAP,GAAiB;AAChBgxM,YAAU,EAAE;AACX5iH,SAAK,EAAE,+BADI;AAEX1xF,QAAI,EAAE,QAFK;AAGXY,QAAI,EAAE,0BAHK;AAIX4B,YAAQ,EAAE8xM,UAJC;AAKXtyG,eAAW,EAAE;AALF,GADI;AAQhBuyG,WAAS,EAAE;AACV7iH,SAAK,EAAE,8BADG;AAEV1xF,QAAI,EAAE,QAFI;AAGVY,QAAI,EAAE,0BAHI;AAIV4B,YAAQ,EAAE+xM,SAJA;AAKVvyG,eAAW,EAAE;AALH,GARK;AAehBwyG,gBAAc,EAAE;AACf9iH,SAAK,EAAE,mCADQ;AAEf1xF,QAAI,EAAE,QAFS;AAGfY,QAAI,EAAE,0BAHS;AAIf4B,YAAQ,EAAEgyM,cAJK;AAKfxyG,eAAW,EAAE;AALE,GAfA;AAsBhByyG,YAAU,EAAE;AACX/iH,SAAK,EAAE,+BADI;AAEX1xF,QAAI,EAAE,QAFK;AAGXY,QAAI,EAAE,4BAHK;;AAIX4B,YAAQ,GAAG;AACV,YAAMq9B,GAAG,GAAG,IAAIgmC,GAAJ,CAAQtkE,YAAO,CAACk8E,QAAhB,EAA0Bl8E,YAAO,CAACw/E,MAAlC,CAAZ;AACAlhD,SAAG,CAACvtB,IAAJ,GAAW0iE,iBAAX;AACAv2E,YAAM,CAACiP,GAAP,CAAW6E,QAAX,CAAoBG,IAApB,GAA2BmtB,GAAG,CAACntB,IAA/B;AACA,KARU;;AASXsvF,eAAW,EAAE;AATF,GAtBI;AAiChB0yG,YAAU,EAAE;AACXhjH,SAAK,EAAE,+BADI;AAEX1xF,QAAI,EAAE,QAFK;AAGXY,QAAI,EAAE,+BAHK;;AAIX4B,YAAQ,GAAG;AACV;AACA,KANU;;AAOXw/F,eAAW,EAAE;AAPF,GAjCI;AA0ChB2yG,iBAAe,EAAE;AAChBjjH,SAAK,EAAE,oCADS;AAEhB1xF,QAAI,EAAE,QAFU;AAGhBY,QAAI,EAAE,oCAHU;AAIhB4B,YAAQ,EAAEmyM,eAJM;AAKhB3yG,eAAW,EAAE;AALG,GA1CD;AAiDhB4yG,mBAAiB,EAAE;AAClBljH,SAAK,EAAE,sCADW;AAElB1xF,QAAI,EAAE,QAFY;AAGlBY,QAAI,EAAE,sCAHY;AAIlB4B,YAAQ,EAAEoyM,iBAJQ;AAKlB5yG,eAAW,EAAE;AALK;AAjDH,CAAjB;;AA0DA,SAASsyG,UAAT,GAAsB;AACrBpxH,0BAAQ,CAAC1V,KAAT;AACAmyF,yBAAO,CAACnyF,KAAR;AACAyX,cAAY,CAACK,UAAb,CAAwBnB,eAAxB;AACAc,cAAY,CAACK,UAAb,CAAwBjB,yBAAxB;AACAY,cAAY,CAACK,UAAb,CAAwBlB,mBAAxB;AACAw4C,gCAAA,CAA+Br3C,IAAI,CAAC,6BAAD,CAAnC,EAAoE,IAApE;AACA;;AAED,eAAegvH,SAAf,GAA2B;AAC1B,QAAM/xG,OAAO,GAAG/jG,MAAM,CAAC+jG,OAAP,CAAejd,IAAI,CAAC,8BAAD,CAAnB,CAAhB;;AACA,MAAIid,OAAJ,EAAa;AACZ,UAAMqyG,QAAQ,GAAG,CAAC,MAAMhwC,cAAA,CAAenC,SAAf,EAAP,EACfz0J,MADe,CACR,CAAC;AAAErN,UAAF;AAAQ+hK,aAAO,GAAG,CAAlB;AAAqBC,eAAS,GAAG;AAAjC,KAAD,KAA0C,CAAChiK,IAAD,IAAS+hK,OAAO,IAAI,CAApB,IAAyBC,SAAS,IAAI,CADxE,CAAjB;;AAEA,SAAK,MAAMv0J,GAAX,IAAkBwmM,QAAlB,EAA4BxmM,GAAG,CAACq5E,MAAJ;;AAC5Bk1C,kCAAA,CAA+Br3C,IAAI,CAAC,8BAAD,EAAiCsvH,QAAQ,CAAC/yM,MAA1C,CAAnC,EAAsF,IAAtF;AACA,GALD,MAKO;AACN86H,kCAAA,CAA+Br3C,IAAI,CAAC,6BAAD,CAAnC,EAAoE,IAApE;AACA;AACD;;AAED,SAASivH,cAAT,GAA0B;AACzB,QAAMhyG,OAAO,GAAG/jG,MAAM,CAACioH,MAAP,CAAcnhC,IAAI,CAAC,wCAAD,EAA2C,OAA3C,CAAlB,CAAhB;;AACA,MAAIid,OAAO,KAAK,OAAZ,IAAuBA,OAAO,KAAK,SAAvC,EAAkD;AACjD8xG,cAAU;AACVl3G,2BAAO,CAAC5vB,KAAR;AACAovD,kCAAA,CAA+Br3C,IAAI,CAAC,6BAAD,CAAnC,EAAoE,IAApE;AACA,GAJD,MAIO;AACNq3C,kCAAA,CAA+Br3C,IAAI,CAAC,6BAAD,CAAnC,EAAoE,IAApE;AACA;AACD;;AAED,SAASqvH,iBAAT,GAA6B;AAC5Bh4E,gCAAA,CAA+B;AAC9B7W,YAAQ,EAAE3nH,qBAAM,CAAC2nH,QADa;AAE9B8U,UAAM,EAAE,eAFsB;AAG9Bp9G,WAAO,EAAE;AAHqB,GAA/B;AAKA;;AAED,MAAMq3L,aAAa,GAAG5rH,SAAS,CAACzoF,GAAG,IAAI;AACtC62H,uBAAK,CAAC7zF,IAAN,CAAY,cAAahjC,GAAI,EAA7B;AACA,CAF8B,EAE5B;AAAE8C,MAAI,EAAE,eAAR;AAAyB4lF,OAAK,EAAE,KAAhC;AAAuCC,cAAY,EAAE;AAArD,CAF4B,CAA/B;;AAIA,eAAeurH,eAAf,GAAiC;AAChC,QAAMI,OAAO,GAAG,UAAhB;AACA,QAAM1tG,IAAI,GAAG,EAAb;;AAEA,MAAI;AACH,QAAI3rC,IAAJ;AAEA2rC,QAAI,CAACpoG,IAAL,CAAW,qBAAoBqK,MAAM,CAACi5E,iBAAiB,EAAlB,CAAsB,EAA3D,EAA8D,EAA9D;AAEA7mB,QAAI,GAAGx3D,IAAI,CAACC,MAAL,EAAP;AACAkjG,QAAI,CAACpoG,IAAL,CAAW,sBAAqBy8D,IAAK,EAArC,EAAwC,EAAxC;AACAo5I,iBAAa,CAACp5I,IAAD,CAAb;AAEAA,QAAI,GAAGx3D,IAAI,CAACC,MAAL,EAAP;AACAkjG,QAAI,CAACpoG,IAAL,CAAW,kBAAiBy8D,IAAK,EAAjC;AACA0hC,2BAAO,CAAC99E,GAAR,CAAYy1L,OAAZ,EAAqBr5I,IAArB;AACA2rC,QAAI,CAACpoG,IAAL,CAAW,kBAAkB,MAAMm+F,uBAAO,CAACp7F,GAAR,CAAY+yM,OAAZ,CAA2B,EAA9D;AACA1tG,QAAI,CAACpoG,IAAL,CAAW,kBAAkB,MAAMm+F,uBAAO,CAACrlF,GAAR,CAAYg9L,OAAZ,CAA2B,EAA9D;AACA1tG,QAAI,CAACpoG,IAAL,CAAU,kBAAV;AACAm+F,2BAAO,CAAC1V,MAAR,CAAeqtH,OAAf;AACA1tG,QAAI,CAACpoG,IAAL,CAAW,kBAAkB,MAAMm+F,uBAAO,CAACp7F,GAAR,CAAY+yM,OAAZ,CAA2B,EAA9D;AACA1tG,QAAI,CAACpoG,IAAL,CAAW,kBAAkB,MAAMm+F,uBAAO,CAACrlF,GAAR,CAAYg9L,OAAZ,CAA2B,EAA9D,EAAiE,EAAjE;AAEAr5I,QAAI,GAAGx3D,IAAI,CAACC,MAAL,EAAP;AACAkjG,QAAI,CAACpoG,IAAL,CAAW,kBAAiBy8D,IAAK,EAAjC;AACAikG,2BAAO,CAACrgJ,GAAR,CAAYy1L,OAAZ,EAAqBr5I,IAArB;AACA2rC,QAAI,CAACpoG,IAAL,CAAW,kBAAkB,MAAM0gK,uBAAO,CAAC39J,GAAR,CAAY+yM,OAAZ,CAA2B,EAA9D;AACA1tG,QAAI,CAACpoG,IAAL,CAAW,kBAAkB,MAAM0gK,uBAAO,CAAC5nJ,GAAR,CAAYg9L,OAAZ,CAA2B,EAA9D;AACA1tG,QAAI,CAACpoG,IAAL,CAAU,kBAAV;AACA0gK,2BAAO,CAACj4E,MAAR,CAAeqtH,OAAf;AACA1tG,QAAI,CAACpoG,IAAL,CAAW,kBAAkB,MAAM0gK,uBAAO,CAAC39J,GAAR,CAAY+yM,OAAZ,CAA2B,EAA9D;AACA1tG,QAAI,CAACpoG,IAAL,CAAW,kBAAkB,MAAM0gK,uBAAO,CAAC5nJ,GAAR,CAAYg9L,OAAZ,CAA2B,EAA9D,EAAiE,EAAjE;AAEAr5I,QAAI,GAAGx3D,IAAI,CAACC,MAAL,EAAP;AACA,UAAMmnE,OAAO,GAAG8xB,uBAAO,CAAC/4E,IAAR,CAAa0wL,OAAb,EAAsB,SAAtB,CAAhB;AACA1tG,QAAI,CAACpoG,IAAL,CAAW,kBAAiBy8D,IAAK,EAAjC;AACA4P,WAAO,CAAChsD,GAAR,CAAYo8C,IAAZ;AACA2rC,QAAI,CAACpoG,IAAL,CAAW,kBAAkB,MAAMqsE,OAAO,CAACtpE,GAAR,EAAoB,EAAvD;AACAqlG,QAAI,CAACpoG,IAAL,CAAW,kBAAkB,MAAMqsE,OAAO,CAACvzD,GAAR,EAAoB,EAAvD;AACAsvF,QAAI,CAACpoG,IAAL,CAAU,kBAAV;AACAqsE,WAAO,CAACoc,MAAR;AACA2f,QAAI,CAACpoG,IAAL,CAAW,kBAAkB,MAAMqsE,OAAO,CAACtpE,GAAR,EAAoB,EAAvD;AACAqlG,QAAI,CAACpoG,IAAL,CAAW,kBAAkB,MAAMqsE,OAAO,CAACvzD,GAAR,EAAoB,EAAvD,EAA0D,EAA1D;AAEA2jD,QAAI,GAAGx3D,IAAI,CAACC,MAAL,EAAP;AACA,UAAMy4E,MAAM,GAAGwgB,uBAAO,CAAClR,UAAR,CAAmB6oH,OAAnB,EAA4B,MAAM,SAAlC,CAAf;AACA1tG,QAAI,CAACpoG,IAAL,CAAW,iBAAgBy8D,IAAK,EAAhC;AACAkhB,UAAM,CAACt9D,GAAP,CAAW,GAAX,EAAgBo8C,IAAhB;AACA2rC,QAAI,CAACpoG,IAAL,CAAW,iBAAiB,MAAM29E,MAAM,CAAC56E,GAAP,CAAW,GAAX,CAAsB,EAAxD;AACAqlG,QAAI,CAACpoG,IAAL,CAAW,iBAAiB,MAAM29E,MAAM,CAAC7kE,GAAP,CAAW,GAAX,CAAsB,EAAxD;AACAsvF,QAAI,CAACpoG,IAAL,CAAU,iBAAV;AACA29E,UAAM,CAAC8K,MAAP,CAAc,GAAd;AACA2f,QAAI,CAACpoG,IAAL,CAAW,iBAAiB,MAAM29E,MAAM,CAAC56E,GAAP,CAAW,GAAX,CAAsB,EAAxD;AACAqlG,QAAI,CAACpoG,IAAL,CAAW,iBAAiB,MAAM29E,MAAM,CAAC7kE,GAAP,CAAW,GAAX,CAAsB,EAAxD,EAA2D,EAA3D;AAEA2jD,QAAI,GAAGx3D,IAAI,CAACC,MAAL,EAAP;AACA,UAAMqxL,IAAI,GAAGp4F,uBAAO,CAAC7Q,QAAR,CAAiBwoH,OAAjB,EAA0B,MAAM,SAAhC,CAAb;AACA1tG,QAAI,CAACpoG,IAAL,CAAW,eAAcy8D,IAAK,EAA9B;AACA85H,QAAI,CAACl2K,GAAL,CAAS,GAAT,EAAco8C,IAAd;AACA2rC,QAAI,CAACpoG,IAAL,CAAW,eAAe,MAAMu2L,IAAI,CAACxzL,GAAL,CAAS,GAAT,CAAoB,EAApD;AACAqlG,QAAI,CAACpoG,IAAL,CAAW,eAAe,MAAMu2L,IAAI,CAACz9K,GAAL,CAAS,GAAT,CAAoB,EAApD;AACAsvF,QAAI,CAACpoG,IAAL,CAAU,eAAV;AACAu2L,QAAI,CAAC9tG,MAAL,CAAY,GAAZ;AACA2f,QAAI,CAACpoG,IAAL,CAAW,eAAe,MAAMu2L,IAAI,CAACxzL,GAAL,CAAS,GAAT,CAAoB,EAApD;AACAqlG,QAAI,CAACpoG,IAAL,CAAW,eAAe,MAAMu2L,IAAI,CAACz9K,GAAL,CAAS,GAAT,CAAoB,EAApD,EAAuD,EAAvD;AACA,GA7DD,CA6DE,OAAO1N,CAAP,EAAU;AACXg9F,QAAI,CAACpoG,IAAL,CAAU,EAAV,EAAe,YAAWoL,CAAE,EAA5B;AACAkT,WAAO,CAACjZ,KAAR,CAAc+F,CAAd;AACA;;AAEDitH,uBAAK,CAAC7zF,IAAN,CAAW4jE,IAAI,CAAC97F,IAAL,CAAU,MAAV,CAAX;AACA,C;;AC5LD;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMnN,cAAiB,GAAG,IAAIirH,MAAJ,CAAW,SAAX,CAA1B;AAEPjrH,cAAM,CAACkrH,UAAP,GAAoB,aAApB;AACAlrH,cAAM,CAACmrH,QAAP,GAAkB,cAAlB;AACAnrH,cAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AACA7rH,cAAM,CAAC4jG,WAAP,GAAqB,aAArB;AAEA5jG,cAAM,CAACkF,OAAP,GAAiB;AAChB0xM,MAAI,EAAE;AACLtjH,SAAK,EAAE,kBADF;AAELsQ,eAAW,EAAE,iBAFR;AAGLhiG,QAAI,EAAE,QAHD;AAILY,QAAI,EAAE,cAJD;AAKL4B,YAAQ,EAAEyyM,aAAa,CAAC,MACvBC,aAAa,CAAC,CACb,eADa,EAEb,OAFa,EAGb,eAHa,EAIb,WAJa,EAKb,YALa,EAMb,eANa,EAOb,YAPa,EAQb,cARa,EASb,mBATa,EAUb,iBAVa,EAWb,aAXa,EAYb,cAZa,EAab,eAba,EAcb,UAda,EAeb,eAfa,EAgBb,cAhBa,EAiBb,aAjBa,EAkBb,aAlBa,EAmBb,eAnBa,EAoBb,aApBa,EAqBb,sBArBa,EAsBb,cAtBa,EAuBb,gBAvBa,EAwBb,WAxBa,EAyBb,iBAzBa,CAAD,EA0BV,GA1BU,CADS;AALlB,GADU;AAoChBC,YAAU,EAAE;AACXzjH,SAAK,EAAE,wBADI;AAEXsQ,eAAW,EAAE,uBAFF;AAGXhiG,QAAI,EAAE,QAHK;AAIXY,QAAI,EAAE,cAJK;AAKX4B,YAAQ,EAAEyyM,aAAa,CAAC,MACvBC,aAAa,CAAClxM,SAAD,EAAY,GAAZ,CADS;AALZ,GApCI;AA6ChBoxM,UAAQ,EAAE;AACT1jH,SAAK,EAAE,sBADE;AAETsQ,eAAW,EAAE,qBAFJ;AAGThiG,QAAI,EAAE,QAHG;AAITY,QAAI,EAAE,cAJG;AAKT4B,YAAQ,EAAEyyM,aAAa,CAAC,YAAY;AACnC,YAAMC,aAAa,CAAClxM,SAAD,EAAY,yCAAyC4B,KAAzC,CAA+C,OAA/C,CAAZ,CAAnB;AACA,YAAMyvM,aAAa,CAACrxM,SAAD,EAAY,uBAAuB4B,KAAvB,CAA6B,OAA7B,CAAZ,CAAnB;AACA,KAHsB;AALd,GA7CM;AAuDhB4uM,gBAAc,EAAEc,qBAAA,CAAsBhyM,OAAtB,CAA8BkxM;AAvD9B,CAAjB;;AA0DA,SAASS,aAAT,CAAuBzyM,QAAvB,EAAiC;AAChC,SAAO,kBAAiB;AACvB,UAAM+yM,YAAY,GAAG7uF,MAAM,CAAE,uCAAsCnhC,IAAI,CAAC,KAAKmM,KAAN,CAAa,mCAAzD,CAA3B;;AACA,QAAK,WAAD,CAAcrmF,IAAd,CAAmBkqM,YAAnB,CAAJ,EAAsC;AACrC,YAAM/yM,QAAQ,EAAd;AACA,YAAMgzM,YAAY,GAAGhzG,OAAO,CAAE,mBAAkBjd,IAAI,CAAC,KAAKmM,KAAN,CAAa,6EAArC,CAA5B;;AACA,UAAI8jH,YAAJ,EAAkB;AACjBjjM,gBAAQ,CAAC0iJ,MAAT;AACA;AACD,KAND,MAMO;AACNr4B,oCAAA,CAA+B;AAC9B7W,gBAAQ,EAAE3nH,cAAM,CAAC2nH,QADa;AAE9B8U,cAAM,EAAE,kBAFsB;AAG9Bp9G,eAAO,EAAE;AAHqB,OAA/B;AAKA;AACD,GAfD;AAgBA;;AAED,SAASg4L,mBAAT,CAA6BC,WAA7B,EAA0C;AACzC,MAAIC,SAAJ;;AACA,MAAID,WAAW,KAAK,GAApB,EAAyB;AACxBC,aAAS,GAAGC,UAAU,EAAtB;AACA,GAFD,MAEO,IAAI,OAAOF,WAAP,KAAuB,QAA3B,EAAqC;AAC3CC,aAAS,GAAGD,WAAW,CAAC9vM,KAAZ,CAAkB,OAAlB,CAAZ;AACA,GAFM,MAEA,IAAI8vM,WAAW,IAAIA,WAAW,CAAC5zM,MAA/B,EAAuC;AAC7C6zM,aAAS,GAAGD,WAAZ;AACA;;AACD,SAAOC,SAAS,GAAG,GAAG32M,MAAH,CAAU22M,SAAV,CAAH,GAA0B,EAA1C;AACA;;AAED,eAAeT,aAAf,CAA6BW,aAA7B,EAA4CC,cAA5C,EAA4D;AAC3D,MAAIrrF,MAAM,GAAGgrF,mBAAmB,CAACI,aAAD,CAAhC;AACA,MAAI77L,OAAO,GAAGy7L,mBAAmB,CAACK,cAAD,CAAjC;AAEA97L,SAAO,GAAG67L,aAAa,KAAK,GAAlB,GACT77L,OAAO,CAAC/L,MAAR,CAAe83G,QAAQ,IAAI,CAAC0E,MAAM,CAACzqE,QAAP,CAAgB+lE,QAAhB,CAA5B,CADS,GAET/rG,OAFD;AAIAywG,QAAM,GAAGqrF,cAAc,KAAK,GAAnB,GACRrrF,MAAM,CAACx8G,MAAP,CAAc83G,QAAQ,IAAI,CAAC/rG,OAAO,CAACgmC,QAAR,CAAiB+lE,QAAjB,CAA3B,CADQ,GAER0E,MAFD;;AAIA,OAAK,MAAM8G,KAAX,IAAoBv3G,OAApB,EAA6B,MAAMu2G,UAAA,CAAmBgB,KAAnB,EAA0B,KAA1B,CAAN;;AAC7B,OAAK,MAAMA,KAAX,IAAoB9G,MAApB,EAA4B,MAAM8F,UAAA,CAAmBgB,KAAnB,EAA0B,IAA1B,CAAN;AAC5B;;AAED,SAASqkF,UAAT,GAAsB;AACrB,SAAOrlF,WAAA,GAAc9tH,GAAd,CAAkBkkD,GAAG,IAAIA,GAAG,CAACo/D,QAA7B,CAAP;AACA;;AAED,eAAesvF,aAAf,CAA6BQ,aAA7B,EAA4CC,cAA5C,EAA4D;AAC3D,QAAMrrF,MAAM,GAAGorF,aAAa,GAAG,GAAG72M,MAAH,CAAU62M,aAAV,CAAH,GAA8B,EAA1D;AACA,QAAM77L,OAAO,GAAG87L,cAAc,GAAG,GAAG92M,MAAH,CAAU82M,cAAV,CAAH,GAA+B,EAA7D;;AAEA,OAAK,MAAM5yL,MAAX,IAAqBunG,MAArB,EAA6B,MAAMsrF,cAAc,CAAC,IAAD,EAAO7yL,MAAP,CAApB;;AAC7B,OAAK,MAAMA,MAAX,IAAqBlJ,OAArB,EAA8B,MAAM+7L,cAAc,CAAC,KAAD,EAAQ7yL,MAAR,CAApB;AAC9B;;AAED,eAAe6yL,cAAf,CAA8BvwM,KAA9B,EAAqCstC,IAArC,EAA2C;AAE1C,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC7BA,QAAI,GAAGA,IAAI,CAACltC,KAAL,CAAW,GAAX,CAAP;AACA;;AACD,QAAM,CAACqF,EAAD,EAAK+qM,OAAL,IAAgBljK,IAAtB;AACA,QAAMkhF,mBAAA,CAAY/oH,EAAZ,EAAgB+qM,OAAhB,EAAyBxwM,KAAzB,CAAN;AACA,C;;AC1ID;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMpH,uBAAiB,GAAG,IAAIirH,MAAJ,CAAW,kBAAX,CAA1B;AAEPjrH,uBAAM,CAACkrH,UAAP,GAAoB,sBAApB;AACAlrH,uBAAM,CAAC4jG,WAAP,GAAqB,sBAArB;AACA5jG,uBAAM,CAACmrH,QAAP,GAAkB,mBAAlB;AAEAnrH,uBAAM,CAACkF,OAAP,GAAiB;AAChB6rM,aAAW,EAAE;AACZz9G,SAAK,EAAE,kCADK;AAEZ1xF,QAAI,EAAE,SAFM;AAGZwF,SAAK,EAAE,IAHK;AAIZw8F,eAAW,EAAE;AAJD,GADG;AAOhBotG,cAAY,EAAE;AACb19G,SAAK,EAAE,mCADM;AAEbguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6rM,WAAR,CAAoB3pM,KAF7B;AAGbw8F,eAAW,EAAE,kCAHA;AAIbhiG,QAAI,EAAE,OAJO;AAKbs6H,cAAU,EAAE,+BALC;AAMb/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,OADG;AAERvI,UAAI,EAAE,OAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,KADH;AAEFvI,UAAI,EAAE,KAFJ;AAGFvD,UAAI,EAAE;AAHJ,KAJK,CANK;AAebwF,SAAK,EAAE,CACN,CAAC,OAAD,EAAU,SAAV,CADM,EAEN,CAAC,UAAD,EAAa,YAAb,CAFM,EAGN,CAAC,WAAD,EAAc,aAAd,CAHM,EAIN,CAAC,QAAD,EAAW,UAAX,CAJM,EAKN,CAAC,SAAD,EAAY,WAAZ,CALM,EAMN,CAAC,WAAD,EAAc,aAAd,CANM;AAfM,GAPE;AA+BhB61K,YAAU,EAAE;AACX3pF,SAAK,EAAE,iCADI;AAEXguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6rM,WAAR,CAAoB3pM,KAF/B;AAGXxF,QAAI,EAAE,MAHK;AAIXwF,SAAK,EAAE,MAJI;AAKXw8F,eAAW,EAAE,gCALF;AAMXq2B,YAAQ,EAAE;AANC,GA/BI;AAuChBtG,WAAS,EAAE;AACVrgC,SAAK,EAAE,gCADG;AAEVguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6rM,WAAR,CAAoB3pM,KAFhC;AAGVxF,QAAI,EAAE,MAHI;AAIVwF,SAAK,EAAE,KAJG;AAKVw8F,eAAW,EAAE,+BALH;AAMVq2B,YAAQ,EAAE;AANA,GAvCK;AA+ChBrG,WAAS,EAAE;AACVtgC,SAAK,EAAE,gCADG;AAEVguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC6rM,WAAR,CAAoB3pM,KAFhC;AAGVxF,QAAI,EAAE,MAHI;AAIVwF,SAAK,EAAE,KAJG;AAKVw8F,eAAW,EAAE,+BALH;AAMVq2B,YAAQ,EAAE;AANA;AA/CK,CAAjB;;AAyDAj6H,uBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,QAAM39C,QAAQ,GAAGu8C,YAAY,EAA7B;;AACA,MAAI7hF,uBAAM,CAACkF,OAAP,CAAe6rM,WAAf,CAA2B3pM,KAA3B,IAAoCk+B,QAAxC,EAAkD;AACjDyuF,gBAAA,CAAmB/zH,uBAAM,CAAC2nH,QAA1B,EACEziH,OADF,CACU;AACRwuH,eAAS,EAAE8/D,cAAA,CAA0BxzL,uBAAM,CAAC2nH,QAAjC,EAA2C,aAA3C,EAA0D3nH,uBAAM,CAACkF,OAAP,CAAe+3K,UAAzE,CADH;AAERtpD,eAAS,EAAEpiG,UAAU,CAACvxB,uBAAM,CAACkF,OAAP,CAAeyuH,SAAf,CAAyBvsH,KAA1B,CAFb;AAGRwsH,eAAS,EAAEriG,UAAU,CAACvxB,uBAAM,CAACkF,OAAP,CAAe0uH,SAAf,CAAyBxsH,KAA1B,CAHb;AAIRotH,SAAG,EAAET,GAAA,CAAU/5C;AAJP,KADV,EAOE67C,YAPF,CAOe,MAAM,CAAC25E,gCAAe,CAAClqK,QAAD,CAAhB,CAPrB,EAQE4wF,KARF,CAQQ,iBARR;AASA;AACD,CAbD;;AAeA,MAAMs5E,gCAAe,GAAGlqK,QAAQ,IAAI;AACnCkuJ,qBAAA,CAA+BxzL,uBAAM,CAAC2nH,QAAtC,EAAgD,aAAhD,EAA+D,CAA/D;AAEA,QAAMxhG,QAAQ,GAAGjmB,QAAQ,CAACkmB,sBAAT,EAAjB;;AAEA,OAAK,MAAMk/C,IAAX,IAAmBtlE,uBAAM,CAACkF,OAAP,CAAe8rM,YAAf,CAA4B5pM,KAA/C,EAAsD;AACrD,UAAM2gG,KAAK,GAAGziC,IAAI,CAAC,CAAD,CAAJ,IAAW,EAAzB;AACA,UAAM7jC,GAAG,GAAG6jC,IAAI,CAAC,CAAD,CAAJ,IAAW,EAAvB;AACA,UAAMszB,EAAE,GAAGj4E,sBAAM,CAAC+N,IAAK,sBAAqB4W,QAAS,IAAG7D,GAAI,KAAIsmE,KAAM,WAAtE;AAEAnP,MAAE,CAACrpF,gBAAH,CAAoB,OAApB,EAA6B,MAAM;AAClCwkH,kBAAA,CAAmB/zH,uBAAM,CAAC2nH,QAA1B,EAAoCtjB,KAApC;AACAmvF,yBAAA,CAA+BxzL,uBAAM,CAAC2nH,QAAtC,EAAgD,aAAhD,EAA+D,CAAC,EAAhE;AACA,KAHD;AAKAxhG,YAAQ,CAACiJ,MAAT,CAAgBwpE,EAAhB;AACA;;AAEDzyE,UAAQ,CAACiJ,MAAT,CAAgBzO,sBAAM,CAAC+N,IAAK,eAAc4rG,WAAA,CAA+Bt6H,uBAAM,CAAC2nH,QAAtC,EAAgD,aAAhD,CAA+D;OACnGxgC,IAAI,CAACnnF,uBAAM,CAACkrH,UAAR,CAAoB;;WAD9B;AAKA,SAAO/kG,QAAP;AACA,CAxBD,C;;ACrFA;AACA;AACA;AACA;AACA;AAEO,MAAMnmB,sBAAiB,GAAG,IAAIirH,MAAJ,CAAW,iBAAX,CAA1B;AAEPjrH,sBAAM,CAACkrH,UAAP,GAAoB,qBAApB;AACAlrH,sBAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,sBAAM,CAAC4jG,WAAP,GAAqB,qBAArB;AACA5jG,sBAAM,CAACqrH,QAAP,GAAkB,CAAC,QAAD,EAAW,UAAX,CAAlB;AACArrH,sBAAM,CAACurH,OAAP,GAAiB,CAChB,SADgB,EAEhB,WAFgB,CAAjB;AAKAvrH,sBAAM,CAACkF,OAAP,GAAiB;AAChB2yM,iBAAe,EAAE;AAChBvkH,SAAK,EAAE,qCADS;AAEhBsQ,eAAW,EAAE,oCAFG;AAGhBynB,YAAQ,EAAE,CAAC,QAAD,EAAW,UAAX,CAHM;AAIhBzpH,QAAI,EAAE,MAJU;AAKhBwF,SAAK,EAAE,MALS;AAMhBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,YADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,mBADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,UADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,oBADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,EAYL;AACFjC,UAAI,EAAE,QADJ;AAEFiC,WAAK,EAAE;AAFL,KAZK,EAeL;AACFjC,UAAI,EAAE,QADJ;AAEFiC,WAAK,EAAE;AAFL,KAfK;AANQ,GADD;AA2BhB0wM,uBAAqB,EAAE;AACtBx2E,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC2yM,eAAR,CAAwBzwM,KAAxB,KAAkC,QADlC;AAEtBksF,SAAK,EAAE,2CAFe;AAGtBsQ,eAAW,EAAE,0CAHS;AAItBhiG,QAAI,EAAE,MAJgB;AAKtBwF,SAAK,EAAE;AALe;AA3BP,CAAjB;;AAoCApH,sBAAM,CAAC+rH,UAAP,GAAoB,YAAW;AAC9B,QAAM,GAAGzmF,QAAH,EAAayyK,cAAb,IAA+Bz6H,OAAO,CAACM,SAAR,CAAkBjxE,IAAlB,CAAuBwH,QAAQ,CAACkrE,QAAhC,KAA6C,EAAlF;;AACA,MAAI/5C,QAAQ,IAAI,CAACyyK,cAAjB,EAAiC;AAChC,QAAI/3M,sBAAM,CAACkF,OAAP,CAAe2yM,eAAf,CAA+BzwM,KAA/B,KAAyC,MAA7C,EAAqD;AACpD,YAAM4wM,gBAAgB,GAAGh4M,sBAAM,CAACkF,OAAP,CAAe2yM,eAAf,CAA+BzwM,KAA/B,KAAyC,QAAzC,GACxBpH,sBAAM,CAACkF,OAAP,CAAe4yM,qBAAf,CAAqC1wM,KADb,GAExBpH,sBAAM,CAACkF,OAAP,CAAe2yM,eAAf,CAA+BzwM,KAFhC;AAGA/G,YAAM,CAAC8T,QAAP,CAAgBnO,OAAhB,CAAyB,SAAQs/B,QAAS,IAAG0yK,gBAAiB,EAA9D;AACA,KALD,MAKO,IAAI76H,UAAU,CAAC,WAAD,CAAd,EAA6B;AACnC,YAAM99D,OAAO,GAAGsB,sBAAM,CAAC+N,IAAK;;UAErBy4D,IAAI,CAAC,gDAAD,CAAmD;qDACZmzC,WAAA,CAA+Bt6H,sBAAM,CAAC2nH,QAAtC,EAAgD,iBAAhD,CAAmE,KAAIxgC,IAAI,CAAC,kDAAD,CAAqD;;IAHlL;AAOA,YAAM21C,YAAY,GAAG0B,8BAAA,CAA+B;AACnD7W,gBAAQ,EAAE3nH,sBAAM,CAAC2nH,QADkC;AAEnDsK,iBAAS,EAAE,iBAFwC;AAGnDwK,cAAM,EAAEt1C,IAAI,CAAC,iDAAD,CAHuC;AAInD9nE,eAJmD;AAKnD+9G,gBAAQ,EAAEjmD,IAAIA;AALqC,OAA/B,CAArB;AAQA93D,aAAO,CAACw5D,aAAR,CAAsB,4BAAtB,EAAoDtpE,gBAApD,CAAqE,OAArE,EAA8E,MAAM;AACnFutH,oBAAY,CAACz4B,KAAb;AACA,OAFD;AAGA;AACD;AACD,CA7BD,C;;ACrDA;AACA;AACA;AACA;AAEO,MAAMrkG,qBAAiB,GAAG,IAAIirH,MAAJ,CAAW,gBAAX,CAA1B;AAEPjrH,qBAAM,CAACkrH,UAAP,GAAoB,oBAApB;AACAlrH,qBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,qBAAM,CAAC4jG,WAAP,GAAqB,oBAArB;AACA5jG,qBAAM,CAACkF,OAAP,GAAiB;AAChB+yM,WAAS,EAAE;AACV3kH,SAAK,EAAE,0BADG;AAEV1xF,QAAI,EAAE,SAFI;AAGVwF,SAAK,EAAE,KAHG;AAIVw8F,eAAW,EAAE;AAJH,GADK;AAOhBs0G,sBAAoB,EAAE;AACrB5kH,SAAK,EAAE,0BADc;AAErB1xF,QAAI,EAAE,SAFe;AAGrBwF,SAAK,EAAE,KAHc;AAIrBw8F,eAAW,EAAE;AAJQ;AAPN,CAAjB;AAeA5jG,qBAAM,CAACurH,OAAP,GAAiB,CAAC,UAAD,EAAa,UAAb,EAAyB,MAAzB,CAAjB;;AAEAvrH,qBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,qBAAM,CAACkF,OAAP,CAAe+yM,SAAf,CAAyB7wM,KAA7B,EAAoC;AACnCg5F,kBAAc,CAAC,CAAC,MAAD,CAAD,EAAWrY,aAAa,CAAC,MAAM;AAAEv+C,sBAAC,CAAC,mBAAD,CAAD,CAAuBn2B,MAAvB,GAAgCqI,MAAhC;AAA2C,KAApD,CAAxB,CAAd;AACA;;AACD,MAAI+kE,sBAAsB,MAAMzgF,qBAAM,CAACkF,OAAP,CAAegzM,oBAAf,CAAoC9wM,KAApE,EAA2E;AAC1EywF,+BAAW,CAACn8E,MAAZ,CAAmB,YAAnB;AACA8tB,oBAAC,CAAC,oBAAD,CAAD,CAAwBhlB,IAAxB;AACA;AACD,CARD,C;;AC3BA;AAEO,MAAMxkB,qBAAiB,GAAG,IAAIirH,MAAJ,CAAW,gBAAX,CAA1B;AAEPjrH,qBAAM,CAACkrH,UAAP,GAAoB,oBAApB;AACAlrH,qBAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,qBAAM,CAAC4jG,WAAP,GAAqB,oBAArB;AACA5jG,qBAAM,CAACkF,OAAP,GAAiB;AAChBizM,mBAAiB,EAAE;AAClBv2M,QAAI,EAAE,SADY;AAElBwF,SAAK,EAAE,KAFW;AAGlBw8F,eAAW,EAAE,wBAHK;AAIlBtQ,SAAK,EAAE,yBAJW;AAKlBg4B,aAAS,EAAE;AALO;AADH,CAAjB,C;;ACPA;AAEO,MAAMtrH,yBAAiB,GAAG,IAAIirH,MAAJ,CAAW,oBAAX,CAA1B;AAEPjrH,yBAAM,CAACkrH,UAAP,GAAoB,wBAApB;AACAlrH,yBAAM,CAAC4jG,WAAP,GAAqB,wBAArB;AACA5jG,yBAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,yBAAM,CAAC4rH,iBAAP,GAA2B,IAA3B;AACA5rH,yBAAM,CAACgqF,WAAP,GAAqB;AACpB,MAAIiiC,mBAAJ,GAA0B;AAAE,WAAQxnD,MAAD,CAAcsf,OAAd,CAAsBq0H,WAAtB,GAAoCC,oBAA3C;AAAkE;;AAD1E,CAArB,C;;;;;ACRA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMr4M,aAAiB,GAAG,IAAIirH,MAAJ,CAAW,QAAX,CAA1B;AAEPjrH,aAAM,CAACkrH,UAAP,GAAoB,YAApB;AACAlrH,aAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,aAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AACA7rH,aAAM,CAAC+E,IAAP,GAAc,CAAC,CAAf;AACA/E,aAAM,CAAC4jG,WAAP,GAAsB;;;;;;;;;;;;;;CAAtB;AAeA5jG,aAAM,CAACorH,cAAP,GAAwB,IAAxB;AAEA,MAAMktF,eAAe,GAAG,IAAxB;AAEO,SAASp6H,aAAT,CAAgBgH,KAAa,GAAG90E,YAAK,GAAGhJ,KAAxC,EAA+C;AACrDgJ,cAAK,GAAGhJ,KAAR,GAAgB89E,KAAhB;;AAEA,MAAI,CAACA,KAAL,EAAY;AACXqzH,qBAAiB,CAACrzH,KAAD,EAAQ,EAAR,CAAjB;AACA;AACA;;AAED,QAAMszH,cAAc,GAAGC,cAAc,CAACvzH,KAAD,EAAQozH,eAAR,CAArC;AACA,QAAMI,UAAU,GAAGF,cAAc,IAAIA,cAAc,CAAC90M,MAAjC,GAA0C80M,cAAc,CAAChxM,KAAf,CAAqB,GAArB,CAA1C,GAAsE,EAAzF;AACA,MAAIZ,OAAO,GAAG,EAAd;;AAGA,MAAI8xM,UAAU,IAAIA,UAAU,CAACh1M,MAA7B,EAAqC;AACpCkD,WAAO,GAAG+xM,YAAY,GACpBt0M,GADQ,CACJw/F,IAAI,KAAK;AACbnO,UAAI,EAAEmO,IAAI,CAACpO,OAAL,CAAaijH,UAAb,EAAyB70G,IAAI,CAAC1gG,OAA9B,CADO;AAEbA,aAAO,EAAE0gG,IAAI,CAAC1gG;AAFD,KAAL,CADA,EAKR0M,MALQ,CAKDg0F,IAAI,IAAIA,IAAI,CAACnO,IAAL,KAAc3f,QALrB,EAMRhxE,IANQ,CAMH,CAACqE,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACqsF,IAAF,GAAStsF,CAAC,CAACssF,IANlB,EAORrxF,GAPQ,CAOJw/F,IAAI,IAAIA,IAAI,CAAC1gG,OAPT,CAAV;AAQA;;AAEDo1M,mBAAiB,CAACrzH,KAAD,EAAQt+E,OAAR,CAAjB;AACA;;AAcD,MAAM+xM,YAAY,GAAG,sBAAO,MAAM;AACjC,QAAM/xM,OAAO,GAAG,EAAhB;;AACA,OAAK,MAAM2hD,GAAX,IAAkB4pE,WAAA,EAAlB,EAAiC;AAChC,QAAI5pE,GAAG,KAAKvoD,aAAZ,EAAoB;AAEpB,QAAIuoD,GAAG,CAACzxB,MAAR,EAAgB;AAEhB,UAAMo0F,UAAU,GAAG/jC,IAAI,CAAC5+B,GAAG,CAAC2iE,UAAL,CAAvB;AACA,UAAMC,QAAQ,GAAGhkC,IAAI,CAAC5+B,GAAG,CAAC4iE,QAAL,CAArB;AAEAvkH,WAAO,CAAC/F,IAAR,CAAa;AACZ40F,aAAO,EAAEmjH,UADG;AAEZz1M,aAAO,EAAG;AACTmwF,aAAK,EAAE43B,UADE;AAETtnB,mBAAW,EAAEr7C,GAAG,CAAC6iE,cAAJ,GAAqB7iE,GAAG,CAACq7C,WAAzB,GAAuC0xC,mBAAQ,CAACnuD,IAAI,CAAC5+B,GAAG,CAACq7C,WAAL,CAAL,CAFnD;AAGTunB,gBAHS;AAITxD,gBAAQ,EAAEp/D,GAAG,CAACo/D,QAJL;AAKTuD,kBALS;AAMTG,gBAAQ,EAAE9iE,GAAG,CAAC8iE;AANL;AAFE,KAAb;AAYA,QAAI,kBAAU9iE,GAAG,CAACrjD,OAAd,CAAJ,EAA4B;;AAE5B,SAAK,MAAM,CAAC+sH,SAAD,EAAYntG,MAAZ,CAAX,IAAkCrkB,MAAM,CAAC0uE,OAAP,CAAe5mB,GAAG,CAACrjD,OAAnB,CAAlC,EAA+D;AAC9D,UAAI4f,MAAM,CAAC+uG,QAAX,EAAqB;AAErB,YAAMrM,UAAU,GAAGrgC,IAAI,CAACriE,MAAM,CAACwuE,KAAR,CAAvB;AAEA1sF,aAAO,CAAC/F,IAAR,CAAa;AACZ40F,eAAO,EAAEojH,UADG;AAEZ11M,eAAO,EAAG;AACTmwF,eAAK,EAAEk0B,UADE;AAET5jB,qBAAW,EAAE0xC,mBAAQ,CAACnuD,IAAI,CAACriE,MAAM,CAAC8+E,WAAR,CAAJ,CAAyBp8F,KAAzB,CAA+B,IAA/B,EAAqC,CAArC,CAAD,CAFZ;AAGTyyH,kBAAQ,EAAEn1G,MAAM,CAACm1G,QAHR;AAIT9O,kBAJS;AAKTxD,kBAAQ,EAAEp/D,GAAG,CAACo/D,QALL;AAMTuD,oBANS;AAOT+G,mBAPS;AAQTzK,oBARS;AAST6D,kBAAQ,EAAEvmG,MAAM,CAACumG,QAAP,IAAmB;AATpB;AAFE,OAAb;AAcA;AACD;;AAED,SAAOzkH,OAAP;AACA,CA/CoB,CAArB;;AAiDA,SAASkyM,UAAT,CAAoBJ,UAApB,EAAgC/3L,MAAhC,EAAwC;AACvC,MAAI,CAAC+3L,UAAD,IAAe,CAACA,UAAU,CAACh1M,MAA3B,IAAqC,CAACid,MAA1C,EAAkD;AACjD,WAAOo1D,QAAP;AACA;;AACD,QAAMp2B,OAAO,GAAGo5J,4BAA4B,CAACL,UAAD,EAAaD,cAAc,CAAC93L,MAAD,EAAS,KAAT,CAA3B,CAA5C;AAEA,QAAMq4L,QAAQ,GAAGr5J,OAAO,CAACt7C,GAAR,CAAYw/F,IAAI,IAAI,MAAOA,IAAI,CAACz8F,KAAL,IAAetB,IAAI,CAACk2D,GAAL,CAAS6nC,IAAI,CAACo1G,YAAL,GAAoB,CAA7B,IAAkCnzM,IAAI,CAACk2D,GAAL,CAAS,CAAT,CAAnC,GAAkD,CAAhE,CAA3B,CAAjB;AACA,SAAOg9I,QAAQ,CAACt1M,MAAT,GACNs1M,QAAQ,CAAC38H,MAAT,CAAgB,CAACjzE,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAA9B,EAAiC,CAAjC,CADM,GAEN0sE,QAFD;AAGA;;AAKD,SAAS6iI,UAAT,CAAoBF,UAApB,EAAgCv1M,OAAhC,EAAyC;AACxC,QAAMwd,MAAM,GAAG,CACdxd,OAAO,CAACwkH,QADM,EAEdxkH,OAAO,CAAC+nH,UAFM,EAGd/nH,OAAO,CAACgoH,QAHM,EAIdhoH,OAAO,CAACygG,WAJM,EAKd,GAAGzgG,OAAO,CAACkoH,QALG,EAMbl+G,IANa,CAMR,GANQ,CAAf;AAOA,SAAO2rM,UAAU,CAACJ,UAAD,EAAa/3L,MAAb,CAAV,GAAiC,GAAxC;AACA;;AAKD,SAASk4L,UAAT,CAAoBH,UAApB,EAAgCv1M,OAAhC,EAAyC;AACxC,QAAMwd,MAAM,GAAG,CAEdxd,OAAO,CAAC8uH,SAFM,EAGd9uH,OAAO,CAACmwF,KAHM,EAIdnwF,OAAO,CAACygG,WAJM,EAKd,GAAGzgG,OAAO,CAACkoH,QALG,EAOdloH,OAAO,CAACwkH,QAPM,EAQdxkH,OAAO,CAAC+nH,UARM,EASd/nH,OAAO,CAACgoH,QATM,EAUbh+G,IAVa,CAUR,GAVQ,CAAf;AAWA,SAAO2rM,UAAU,CAACJ,UAAD,EAAa/3L,MAAb,CAAjB;AACA;;AAED,SAASo4L,4BAAT,CAAsCG,OAAtC,EAA+CC,QAA/C,EAAyD;AACxD,MAAI,CAACA,QAAD,IAAa,CAACA,QAAQ,CAACz1M,MAA3B,EAAmC,OAAO,EAAP;AAEnC,SAAOw1M,OAAO,CACZ70M,GADK,CACD,CAAC+0M,MAAD,EAASh3M,CAAT,MAAgB;AACpB62M,gBAAY,EAAE72M,CADM;AAEpBgF,SAAK,EAAE+xM,QAAQ,CAACr4M,OAAT,CAAiBs4M,MAAjB;AAFa,GAAhB,CADC,EAKLvpM,MALK,CAKEg0F,IAAI,IAAIA,IAAI,CAACz8F,KAAL,KAAe,CAAC,CAL1B,CAAP;AAMA;;AAED,SAASqxM,cAAT,CAAwBj2M,IAAxB,EAA8B62M,cAA9B,EAA8C;AAC7C,MAAI72M,IAAI,KAAKoD,SAAT,IAAsBpD,IAAI,KAAK,IAAnC,EAAyC;AACxC,WAAO,EAAP;AACA;;AAED,QAAM82M,iBAAiB,GAAGD,cAAc,GAAG,GAAH,GAAS,EAAjD;AACA,SAAO72M,IAAI,CAACxB,QAAL,GAAgByG,WAAhB,GACLzB,OADK,CACG,WADH,EACgBszM,iBADhB,CAAP;AAEA;;AAED,SAASC,sBAAT,CAAgC5xF,QAAhC,EAA0CsK,SAA1C,EAAqD;AACpDqI,yBAAA,CAAwB3S,QAAxB,EAAkCsK,SAAlC;AACA;;AAGM,MAAM7hH,YAAK,GAAG,sBAAO,MAAMqnE,QAAQ,CAAC92D,sBAAM,CAAC+N,IAAK,wDAAuDy4D,IAAI,CAAC,mBAAD,CAAsB,IAA9F,EAAmGhF,gBAAnG,CAArB,CAAd;;AAEP,SAASo2H,iBAAT,CAA2BrzH,KAA3B,EAAkCt+E,OAAlC,EAAqD;AACpD,QAAM4yM,iBAAiB,GAAGhwK,gBAAC,CAAC,8BAAD,CAA3B;AACAgwK,mBAAiB,CAAC/xL,GAAlB,CAAsB,OAAtB,EAA+BgyL,uBAA/B,EACEryL,EADF,CACK,OADL,EACc,wBADd,EACwCqyL,uBADxC;;AAGA,MAAI,CAACv0H,KAAD,IAAU,CAACA,KAAK,CAACxhF,MAArB,EAA6B;AAC5B81M,qBAAiB,CAACh1L,IAAlB;AACA;AACA;;AAED,QAAMk1L,eAAe,GAAG9yM,OAAO,CAACiJ,MAAR,CAAe,CAAC;AAAEoqH;AAAF,GAAD,KAAkBA,QAAjC,EAA2Cv2H,MAAnE;AACA,QAAM8e,KAAK,GAAG5b,OAAO,CAAClD,MAAR,GAAiBg2M,eAA/B;AAGA,QAAMC,MAAM,GAAIn3L,KAAK,KAAK,CAAV,GAAc,GAAd,GAAoB,EAApC;AAEAgnB,kBAAC,CAAC,kBAAD,CAAD,CAAsBhnC,IAAtB,CADwB,GAAEggB,KAAM,UAASm3L,MAAO,QAAOz0H,KAAM,EAC7D;AAEAs0H,mBAAiB,CAACl1L,IAAlB;AACAk1L,mBAAiB,CAACzpM,IAAlB,CAAuB,kBAAvB,EAA2CvN,IAA3C,CAAgD0iF,KAAhD;;AAEA,MAAIw0H,eAAJ,EAAqB;AACpBF,qBAAiB,CAACzpM,IAAlB,CAAuB,2BAAvB,EAAoDmsB,QAApD,CAA6D,iBAA7D;AACAsN,oBAAC,CAAC,6BAAD,CAAD,CAAiC/hB,GAAjC,CAAqC,OAArC,EAA8CL,EAA9C,CAAiD,OAAjD,EAA0D,MAAM;AAC/DoiB,sBAAC,CAACtpC,QAAQ,CAAC0M,cAAT,CAAwB,eAAxB,CAAD,CAAD,CAA4Cyd,KAA5C;AACA6zD,mBAAM;AACN,aAAO,KAAP;AACA,KAJD;AAKA,GAPD,MAOO;AACNs7H,qBAAiB,CAACzpM,IAAlB,CAAuB,2BAAvB,EAAoDwsB,WAApD,CAAgE,iBAAhE;AACA;;AAED,MAAI,CAAC31B,OAAO,CAAClD,MAAb,EAAqB;AACpB81M,qBAAiB,CAACzpM,IAAlB,CAAuB,oBAAvB,EAA6CyU,IAA7C;AACA,GAFD,MAEO;AACNg1L,qBAAiB,CAACzpM,IAAlB,CAAuB,oBAAvB,EAA6CuU,IAA7C;AAEA,UAAMs1L,WAAW,GAAG15M,QAAQ,CAAC0M,cAAT,CAAwB,mBAAxB,CAApB;AAEA+O,SAAK,CAACi+L,WAAD,CAAL;AACAA,eAAW,CAACxqL,MAAZ,CAAmB,GAAGxoB,OAAO,CAACvC,GAAR,CAAYw1M,oBAAZ,CAAtB;AACA;AACD;;AAED,MAAMC,oBAAoB,GAAG,CAAC;AAAExmH,OAAF;AAAS63B,UAAT;AAAmBvnB,aAAnB;AAAgCsnB,YAAhC;AAA4CvD,UAA5C;AAAsDH,YAAtD;AAAkEyK;AAAlE,CAAD,KAAmFtxG,sBAAM,CAAC+N,IAAK;;;0CAGlF4kE,KAAM;wCACRnM,IAAI,CAAC,oBAAD,CAAuB;QAC3DgkC,QAAS;QACTD,UAAW,KAAIvD,QAAS;MACzBH,UAAU,IAAIyK,SAAf,GAA6B,MAAKzK,UAAW,KAAIyK,SAAU,GAA3D,GAAgEA,SAAS,IAAK,MAAKA,SAAU,EAAE;;;;KAIhGtxG,sBAAM,CAACugE,IAAP,CAAY0iB,WAAZ,CAAyB;;;CAX9B;;AAgBA,MAAMi2G,oBAAoB,GAAG,kBAAUlnM,MAAM,IAAI;AAChD,QAAMuiC,OAAO,GAAGh1C,QAAQ,CAACqC,aAAT,CAAuB,IAAvB,CAAhB;AACA2yC,SAAO,CAACwrC,SAAR,CAAkBzmE,GAAlB,CAAsB,uBAAtB;;AACA,MAAItH,MAAM,CAACsnH,QAAX,EAAqB;AACpB/kF,WAAO,CAACwrC,SAAR,CAAkBzmE,GAAlB,CAAsB,UAAtB;AACA;;AACDi7B,SAAO,CAACxyC,YAAR,CAAqB,gBAArB,EAAuCiQ,MAAM,CAACg1G,QAA9C;;AACA,MAAIh1G,MAAM,CAACs/G,SAAX,EAAsB;AACrB/8E,WAAO,CAACxyC,YAAR,CAAqB,iBAArB,EAAwCiQ,MAAM,CAACs/G,SAA/C;AACA;;AAED/8E,SAAO,CAACtyC,WAAR,CAAoBk3M,oBAAoB,CAACnnM,MAAD,CAAxC;AAEA,QAAMonM,UAAU,GACf/hH,6BAAa,CAACtyB,IAAd,CACC,MADD,EAEC,MAFD,EAGC,sCAHD,EAICyhB,IAAI,CAAC,4BAAD,CAJL,CADD;AAOAjyC,SAAO,CAAC5lB,YAAR,CAAqByqL,UAArB,EAAiC7kK,OAAO,CAACnjC,UAAzC;AAEA,SAAOmjC,OAAP;AACA,CAvB4B,CAA7B;;AAyBA,SAASukK,uBAAT,CAAiCjyL,KAAjC,EAA+C;AAC9C,QAAMmgG,QAAQ,GAAG,KAAKllH,YAAL,CAAkB,gBAAlB,CAAjB;AACA,QAAMwvH,SAAS,GAAG,KAAKxvH,YAAL,CAAkB,iBAAlB,CAAlB;;AAEA,MAAI+kB,KAAK,CAACjiB,MAAN,CAAam7E,SAAb,CAAuBj4E,QAAvB,CAAgC,6BAAhC,CAAJ,EAAoE;AACnEuxM,sBAAkB,CAACryF,QAAD,EAAWsK,SAAX,CAAlB;AACA,GAFD,MAEO;AACNsnF,0BAAsB,CAAC5xF,QAAD,EAAWsK,SAAX,CAAtB;AACA;;AACDzqG,OAAK,CAAC+B,cAAN;AACA;;AAED,SAASywL,kBAAT,CAA4BryF,QAA5B,EAAsCsK,SAAtC,EAAiD;AAChD,QAAMqjB,QAAQ,GAAG2kE,0BAA0B,CAACtyF,QAAD,EAAWsK,SAAX,CAA3C;AACAiH,uBAAK,CAAC7zF,IAAN,CAAY,gCAA+BiwG,QAAS,yDAApD;AACA;;AAED,MAAM4kE,kBAAkB,GAAG,CAAC;AAAE5mH,OAAF;AAAS7xD,KAAT;AAAcmiE,aAAd;AAA2Bu2G,aAA3B;AAAwChvF,UAAxC;AAAkDD,YAAlD;AAA8DkvF,WAA9D;AAAyEzyF,UAAzE;AAAmFsK,WAAnF;AAA8FooF;AAA9F,CAAD,KAAgH;KACtI/mH,KAAM,KAAI7xD,GAAI,2CAA0C04K,WAAY,OAAMhvF,QAAS,OAAMD,UAAW,KAAIkvF,SAAU,KAAIzyF,QAAS,KAAIsK,SAAS,GAAI,OAAMA,SAAU,KAAIooF,SAAU,GAAlC,GAAuC,EAAG;;EAEzLz2G,WAAY;CAH4H,CAIxIl9F,IAJwI,EAA1I;;AAMA,SAASuzM,0BAAT,CAAoCtyF,QAApC,EAA8CsK,SAA9C,EAAyD;AACxD,QAAMjyH,MAAM,GAAGmyH,WAAA,CAAYxK,QAAZ,CAAf;AAEA,QAAMxkH,OAAO,GAAG;AACfwkH,YADe;AAEfuD,cAAU,EAAE/jC,IAAI,CAACnnF,MAAM,CAACkrH,UAAR,CAFD;AAGfC,YAAQ,EAAEhkC,IAAI,CAACnnF,MAAM,CAACmrH,QAAR,CAHC;AAIf8G,aAJe;AAKf3+B,SAAK,EAAE2+B,SAAS,GAAGA,SAAH,GAAe9qC,IAAI,CAACnnF,MAAM,CAACkrH,UAAR,CALpB;AAMftnB,eAAW,EAAEquB,SAAS,GAAG9qC,IAAI,CAACnnF,MAAM,CAACkF,OAAP,CAAe+sH,SAAf,EAA0BruB,WAA3B,CAAP,GAAiDzc,IAAI,CAACnnF,MAAM,CAAC4jG,WAAR,CAN5D;AAOfniE,OAAG,EAAE64F,WAAA,CAA+B3S,QAA/B,EAAyCsK,SAAzC,CAPU;AAQfkoF,eAAW,EAAE7/E,WAAA,EARE;AASf8/E,aAAS,EAAE9/E,WAAA,CAA+B3S,QAA/B,CATI;AAUf0yF,aAAS,EAAE//E,WAAA,CAA+B3S,QAA/B,EAAyCsK,SAAzC;AAVI,GAAhB;AAaA,SAAQ,GAAEioF,kBAAkB,CAAC/2M,OAAD,CAAU,QAAtC;AACA,C;;AC/TD;AACA;AACA;AASO,MAAMnD,mBAAiB,GAAG,IAAIirH,MAAJ,CAAW,cAAX,CAA1B;AAEPjrH,mBAAM,CAACkrH,UAAP,GAAoB,kBAApB;AACAlrH,mBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,mBAAM,CAAC4jG,WAAP,GAAqB,kBAArB;AACA5jG,mBAAM,CAACkF,OAAP,GAAiB;AAChBo1M,kBAAgB,EAAE;AACjBhnH,SAAK,EAAE,mCADU;AAEjB1xF,QAAI,EAAE,SAFW;AAGjBwF,SAAK,EAAE,IAHU;AAIjBw8F,eAAW,EAAE;AAJI,GADF;AAOhB22G,mBAAiB,EAAE;AAClBjnH,SAAK,EAAE,oCADW;AAElB1xF,QAAI,EAAE,MAFY;AAGlBwF,SAAK,EAAE,MAHW;AAIlBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,MADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,WADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,KADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,KADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,EAYL;AACFjC,UAAI,EAAE,KADJ;AAEFiC,WAAK,EAAE;AAFL,KAZK,EAeL;AACFjC,UAAI,EAAE,UADJ;AAEFiC,WAAK,EAAE;AAFL,KAfK,CAJU;AAuBlBw8F,eAAW,EAAE,mCAvBK;AAwBlB09B,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACo1M,gBAAR,CAAyBlzM,KAxB7B;AAyBlB6yH,YAAQ,EAAE;AAzBQ,GAPH;AAkChBugF,mBAAiB,EAAE;AAClBlnH,SAAK,EAAE,oCADW;AAElB1xF,QAAI,EAAE,MAFY;AAGlBwF,SAAK,EAAE,MAHW;AAIlBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,MADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,KADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,MADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,KADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,EAYL;AACFjC,UAAI,EAAE,MADJ;AAEFiC,WAAK,EAAE;AAFL,KAZK,EAeL;AACFjC,UAAI,EAAE,OADJ;AAEFiC,WAAK,EAAE;AAFL,KAfK,EAkBL;AACFjC,UAAI,EAAE,MADJ;AAEFiC,WAAK,EAAE;AAFL,KAlBK,CAJU;AA0BlBw8F,eAAW,EAAE,mCA1BK;AA2BlB09B,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACo1M,gBAAR,CAAyBlzM,KA3B7B;AA4BlB6yH,YAAQ,EAAE;AA5BQ,GAlCH;AAgEhBwgF,cAAY,EAAE;AACbnnH,SAAK,EAAE,+BADM;AAEb1xF,QAAI,EAAE,SAFO;AAGbwF,SAAK,EAAE,KAHM;AAIbw8F,eAAW,EAAE;AAJA,GAhEE;AAsEhB82G,qBAAmB,EAAE;AACpBpnH,SAAK,EAAE,sCADa;AAEpB1xF,QAAI,EAAE,SAFc;AAGpBwF,SAAK,EAAE,IAHa;AAIpBw8F,eAAW,EAAE,qCAJO;AAKpBq2B,YAAQ,EAAE,IALU;AAMpBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACu1M,YAAR,CAAqBrzM;AANvB,GAtEL;AA8EhBuzM,mBAAiB,EAAE;AAClBrnH,SAAK,EAAE,oCADW;AAElB1xF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,KAHW;AAIlBw8F,eAAW,EAAE,mCAJK;AAKlBq2B,YAAQ,EAAE,IALQ;AAMlBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACu1M,YAAR,CAAqBrzM;AANzB,GA9EH;AAsFhBwzM,uBAAqB,EAAE;AACtBtnH,SAAK,EAAE,wCADe;AAEtB1xF,QAAI,EAAE,SAFgB;AAGtBwF,SAAK,EAAE,KAHe;AAItBw8F,eAAW,EAAE;AAJS,GAtFP;AA4FhBi3G,eAAa,EAAE;AACdvnH,SAAK,EAAE,gCADO;AAEd1xF,QAAI,EAAE,SAFQ;AAGdwF,SAAK,EAAE,IAHO;AAIdw8F,eAAW,EAAE;AAJC,GA5FC;AAkGhBk3G,gBAAc,EAAE;AACfxnH,SAAK,EAAE,iCADQ;AAEf1xF,QAAI,EAAE,SAFS;AAGfwF,SAAK,EAAE,IAHQ;AAIfw8F,eAAW,EAAE,gCAJE;AAKf0nB,aAAS,EAAE;AALI,GAlGA;AAyGhByvF,kBAAgB,EAAE;AACjBznH,SAAK,EAAE,mCADU;AAEjB1xF,QAAI,EAAE,MAFW;AAGjBwF,SAAK,EAAE,YAHU;AAIjBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,MADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,YADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,oBADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,QADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,CAJS;AAiBjBw8F,eAAW,EAAE,kCAjBI;AAkBjB09B,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC41M,cAAR,CAAuB1zM,KAlB5B;AAmBjB6yH,YAAQ,EAAE;AAnBO,GAzGF;AA8HhB+gF,sBAAoB,EAAE;AACrB1nH,SAAK,EAAE,uCADc;AAErB1xF,QAAI,EAAE,SAFe;AAGrBwF,SAAK,EAAE,IAHc;AAIrBw8F,eAAW,EAAE,sCAJQ;AAKrB09B,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC41M,cAAR,CAAuB1zM,KALxB;AAMrB6yH,YAAQ,EAAE;AANW,GA9HN;AAsIhBghF,mBAAiB,EAAE;AAClB3nH,SAAK,EAAE,oCADW;AAElB1xF,QAAI,EAAE,MAFY;AAGlBwF,SAAK,EAAE,SAHW;AAIlBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,gCADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,QADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,OADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,CAJU;AAclBw8F,eAAW,EAAE;AAdK;AAtIH,CAAjB;;AAwJA5jG,mBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,mBAAM,CAACkF,OAAP,CAAeo1M,gBAAf,CAAgClzM,KAApC,EAA2C;AAC1C,UAAM8zM,aAAa,GAAGh7M,QAAQ,CAAC0M,cAAT,CAAwB,eAAxB,CAAtB;;AACA,QAAIsuM,aAAJ,EAAmB;AAClB,UAAIC,iBAAiB,GAAG,6fAAxB;;AACA,UAAI3xK,gBAAC,CAAC0xK,aAAD,CAAD,CAAiBnrM,IAAjB,CAAsB,yBAAtB,EAAiDrM,MAArD,EAA6D;AAC5Dy3M,yBAAiB,GAAI,SAAQA,iBAAkB,EAA/C;AACA;;AACD,UAAIn7M,mBAAM,CAACkF,OAAP,CAAeq1M,iBAAf,CAAiCnzM,KAAjC,KAA2C,MAA/C,EAAuD;AACtD,cAAM8Q,YAAY,GAAGlY,mBAAM,CAACkF,OAAP,CAAeq1M,iBAAf,CAAiCnzM,KAAtD;AACA+zM,yBAAiB,GAAGA,iBAAiB,CAACn1M,OAAlB,CAA2B,UAASkS,YAAa,GAAjD,EAAsD,UAASA,YAAa,YAA5E,CAApB;AACA;;AACD,UAAIlY,mBAAM,CAACkF,OAAP,CAAes1M,iBAAf,CAAiCpzM,KAAjC,KAA2C,MAA/C,EAAuD;AACtD,cAAM8Q,YAAY,GAAGlY,mBAAM,CAACkF,OAAP,CAAes1M,iBAAf,CAAiCpzM,KAAtD;AACA+zM,yBAAiB,GAAGA,iBAAiB,CAACn1M,OAAlB,CAA2B,UAASkS,YAAa,GAAjD,EAAsD,UAASA,YAAa,YAA5E,CAApB;AACA;;AACDsxB,sBAAC,CAAC0xK,aAAD,CAAD,CAAiBnrM,IAAjB,CAAsB,iBAAtB,EAAyCwf,MAAzC,CAAgD4rL,iBAAhD;AACA;AACD;;AACD,MAAIn7M,mBAAM,CAACkF,OAAP,CAAeu1M,YAAf,CAA4BrzM,KAAhC,EAAuC;AACtCoiC,oBAAC,CAAC,aAAD,CAAD,CAAiBpa,MAAjB,CAAwB,8DAAxB;AACA;;AACD,MAAIpvB,mBAAM,CAACkF,OAAP,CAAe01M,qBAAf,CAAqCxzM,KAAzC,EAAgD;AAC/C,UAAM,GAAGg0M,WAAH,IAAkBjnM,QAAQ,CAACkrE,QAAT,CAAkB/yE,KAAlB,CAAwBgxE,OAAO,CAACK,OAAhC,KAA4C,EAApE;;AACA,QAAIy9H,WAAW,IAAIl7M,QAAQ,CAACm7M,QAA5B,EAAsC;AACrC,YAAMA,QAAQ,GAAG,IAAI5zI,GAAJ,CAAQvnE,QAAQ,CAACm7M,QAAjB,CAAjB;AACA,UAAI/uM,KAAJ,EAAWgvM,YAAX;;AACA,UAAKhvM,KAAK,GAAG+uM,QAAQ,CAACh8H,QAAT,CAAkB/yE,KAAlB,CAAwBgxE,OAAO,CAACc,SAAhC,CAAb,EAA0D;AACzDk9H,oBAAY,GAAI,KAAIhvM,KAAK,CAAC,CAAD,CAAI,EAA7B;AACA,OAFD,MAEO,IAAKA,KAAK,GAAG+uM,QAAQ,CAACh8H,QAAT,CAAkB/yE,KAAlB,CAAwBgxE,OAAO,CAACiB,WAAhC,CAAb,EAA4D;AAClE+8H,oBAAY,GAAGhvM,KAAK,CAAC,CAAD,CAApB;AACA;;AACD,UAAIgvM,YAAJ,EAAkB;AACjB9xK,wBAAC,CAAC,qBAAD,CAAD,CAAyBna,OAAzB,CAAkC,kCAAiCisL,YAAa,oBAAmBF,WAAY,2CAA0CA,WAAY,QAAOE,YAAa,YAAzL;AACA;AACD;AACD;;AACD,QAAMC,cAAc,GAAGr7M,QAAQ,CAAC24E,aAAT,CAAuB,YAAvB,CAAvB;;AACA,MAAI74E,mBAAM,CAACkF,OAAP,CAAew1M,mBAAf,CAAmCtzM,KAAnC,IAA4C+1E,UAAU,CAAC,QAAD,CAAtD,IAAoEo+H,cAAxE,EAAwF;AACvF,QAAIv7M,mBAAM,CAACkF,OAAP,CAAey1M,iBAAf,CAAiCvzM,KAAjC,IAA0C+M,QAAQ,CAACD,IAAT,KAAkB,mBAAhE,EAAqF;AACpF2jF,iCAAW,CAAC59E,GAAZ,CAAgB,kBAAhB;AACA;;AACDuvB,oBAAC,CAAC,sBAAD,CAAD,CAA0Bpa,MAA1B,CAAiC,oFAAjC;AACAoa,oBAAC,CAAC,kCAAD,CAAD,CAAsCna,OAAtC,CAA8C,oFAA9C;AACAma,oBAAC,CAAC,yBAAD,CAAD,CAA6BpiB,EAA7B,CAAgC,OAAhC,EAAyC,MAAMywE,2BAAW,CAAC59E,GAAZ,CAAgB,kBAAhB,CAA/C;AACAuvB,oBAAC,CAAC,yBAAD,CAAD,CAA6BpiB,EAA7B,CAAgC,OAAhC,EAAyC,MAAMywE,2BAAW,CAACn8E,MAAZ,CAAmB,kBAAnB,CAA/C;AACA;;AACD,MAAI1b,mBAAM,CAACkF,OAAP,CAAe21M,aAAf,CAA6BzzM,KAAjC,EAAwC;AACvCoiC,oBAAC,CAAC,YAAD,CAAD,CAAgBpiB,EAAhB,CAAmB,YAAnB,EAAiC,uCAAjC,EAA2Enb,CAAD,IAA+B;AACxG,YAAMmyE,SAAS,GAAGsR,WAAK,CAACM,WAAN,CAAkB/jF,CAAC,CAACmd,aAApB,EAAmC2qE,YAAnC,EAAlB;AACA,YAAMomE,KAAK,GAAGluJ,CAAC,CAACmd,aAAF,CAAgBkqE,KAAhB,CAAsBttF,OAAtB,CAA8B,KAA9B,EAAqC,GAArC,CAAd;;AACA,UAAIm0J,KAAJ,EAAW;AACVluJ,SAAC,CAACmd,aAAF,CAAgBs3D,SAAhB,CAA0BzmE,GAA1B,CAA8B,iBAA9B;AACAhO,SAAC,CAACmd,aAAF,CAAgBxmB,WAAhB,CAA4B+d,sBAAM,CAAC+N,IAAK,YAAW/N,sBAAM,CAACsgE,MAAO,MAAK7C,SAAU,6CAA4C+7E,KAAM,EAAE,QAApI;AACA;AACD,KAPD;AAQA;;AAGD,MAAIn6J,mBAAM,CAACkF,OAAP,CAAe41M,cAAf,CAA8B1zM,KAA9B,IAAuC,CAACm0M,cAA5C,EAA4D;AAE3D,UAAMC,cAAc,GAAGhyK,gBAAC,CAAC,MAAD,EAAS;AAAEg8I,WAAK,EAAE;AAAT,KAAT,CAAxB;AACA,UAAMi2B,YAAY,GAAGv7M,QAAQ,CAAC24E,aAAT,CAAuB,iBAAvB,CAArB;AACA,UAAM6iI,UAAU,GAAGx7M,QAAQ,CAAC24E,aAAT,CAAuB,sBAAvB,CAAnB;AACA,UAAM8iI,cAAc,GAAGz7M,QAAQ,CAAC24E,aAAT,CAAuB,iBAAvB,CAAvB;AACA,UAAM+iI,YAAY,GAAG17M,QAAQ,CAAC24E,aAAT,CAAuB,gCAAvB,CAArB;AACA,UAAMgjI,cAAc,GAAGryK,gBAAC,CAAC,OAAD,EAAU;AAAEg8I,WAAK,EAAE;AAAT,KAAV,CAAxB;;AAGA,QAAI,CAACk2B,UAAL,EAAiB;AAAE;AAAS;;AAE5BA,cAAU,CAAC54M,WAAX,CAAuB44M,UAAU,CAAC7iI,aAAX,CAAyB,qBAAzB,CAAvB;AAEA2iI,kBAAc,CAAC7rL,QAAf,CAAwB8rL,YAAxB;AAGA,UAAMK,sBAAsB,GAAG57M,QAAQ,CAACmN,gBAAT,CAA0B,wBAA1B,CAA/B;;AACA,QAAIyuM,sBAAsB,CAACp4M,MAAvB,GAAgC,CAApC,EAAuC;AACtCo4M,4BAAsB,CAAC,CAAD,CAAtB,CAA0Bp7H,SAA1B,CAAoCzmE,GAApC,CAAwC,uBAAxC;AACA;;AAGD,QAAI0hM,cAAJ,EAAoB;AACnBE,oBAAc,CAAClsL,QAAf,CAAwB8rL,YAAxB;AACAjyK,sBAAC,CAACmyK,cAAD,CAAD,CAAkBniM,QAAlB,GAA6BmW,QAA7B,CAAsCksL,cAAtC;AACA;;AACD,QAAID,YAAJ,EAAkB;AACjBpyK,sBAAC,CAACoyK,YAAD,CAAD,CAAgBjsL,QAAhB,CAAyB8rL,YAAzB;AACA;;AACD,QAAIjyK,gBAAC,CAAC,wBAAD,CAAD,CAA4B9lC,MAAhC,EAAwC;AACvC8lC,sBAAC,CAAC,wBAAD,CAAD,CAA4B7Z,QAA5B,CAAqC8rL,YAArC;AACA;;AAGD,UAAMM,UAAU,GAAG;AAClBp8H,gBAAU,EAAE;AACXooB,aAAK,EAAE,YADI;AAEXl7F,UAAE,EAAE,MAFO;AAGXtH,cAAM,EAAE,wBAHG;AAIXwoM,cAAM,EAAEvkK,gBAAC,CAAC,wBAAD,CAAD,CAA4B9lC;AAJzB,OADM;AAOlBs4M,YAAM,EAAE;AACPj0G,aAAK,EAAE,oBADA;AAEPl7F,UAAE,EAAE,QAFG;AAGPtH,cAAM,EAAE,eAHD;AAIPwoM,cAAM,EAAE6N;AAJD,OAPU;AAalB12M,aAAO,EAAE;AACR6iG,aAAK,EAAE,QADC;AAERl7F,UAAE,EAAE,SAFI;AAGRtH,cAAM,EAAE,qBAHA;AAIRwoM,cAAM,EAAE8N,cAAc,CAACj4M,GAAf,CAAmB,CAAnB;AAJA;AAbS,KAAnB;;AAqBA,SAAK,MAAMq4M,SAAX,IAAwBx7M,MAAM,CAAC8jB,MAAP,CAAcw3L,UAAd,CAAxB,EAAmD;AAClD,UAAIE,SAAS,CAAClO,MAAd,EAAsB;AAErBvkK,wBAAC,CAACyyK,SAAS,CAAC12M,MAAX,CAAD,CACE22B,QADF,CACW,iBADX,EAEE/B,OAFF,CAEU,CAFV;AAKA,cAAM+hL,YAAY,GAAG1yK,gBAAC,CAAC,MAAD,CAAD,CACnBl4B,IADmB,CACd;AAAEk0K,eAAK,EAAG,kBAAiBy2B,SAAS,CAACpvM,EAAG;AAAxC,SADc,EAEnB8iB,QAFmB,CAEV6rL,cAFU,CAArB;AAIAhyK,wBAAC,CAAC,KAAD,CAAD,CACEl4B,IADF,CACO;AAAEgD,cAAI,EAAE;AAAR,SADP,EAEE9R,IAFF,CAEOy5M,SAAS,CAACl0G,KAFjB,EAGEp4E,QAHF,CAGWusL,YAHX,EAIE7xL,KAJF,CAIQpe,CAAC,IAAIkwM,eAAe,CAACF,SAAS,CAACpvM,EAAX,EAAeovM,SAAS,CAAC12M,MAAzB,EAAiC0G,CAAC,CAACmd,aAAnC,CAJ5B;AAKA;AACD;;AAGD,QAAIppB,mBAAM,CAACkF,OAAP,CAAe61M,gBAAf,CAAgC3zM,KAAhC,KAA0C,MAA1C,IAAoD20M,UAAU,CAAC/7M,mBAAM,CAACkF,OAAP,CAAe61M,gBAAf,CAAgC3zM,KAAjC,CAAV,CAAkD2mM,MAA1G,EAAkH;AACjHoO,qBAAe,CACdJ,UAAU,CAAC/7M,mBAAM,CAACkF,OAAP,CAAe61M,gBAAf,CAAgC3zM,KAAjC,CAAV,CAAkDyF,EADpC,EAEdkvM,UAAU,CAAC/7M,mBAAM,CAACkF,OAAP,CAAe61M,gBAAf,CAAgC3zM,KAAjC,CAAV,CAAkD7B,MAFpC,EAGd,IAHc,CAAf;AAKA;AACD;AACD,CAhJD;;AAkJAvF,mBAAM,CAACgsH,SAAP,GAAmB,MAAM;AACxB,MAAIhsH,mBAAM,CAACkF,OAAP,CAAe+1M,iBAAf,CAAiC7zM,KAAjC,KAA2C,SAA3C,IAAwD,CAAC+1E,UAAU,CAAC,QAAD,CAAvE,EAAmF;AAClF,UAAMi/H,cAAc,GAAGl8M,QAAQ,CAAC24E,aAAT,CAAuB,yBAAvB,CAAvB;;AACA,QAAIujI,cAAJ,EAA0E;AACzEA,sBAAc,CAAC5nM,OAAf,GAA0BxU,mBAAM,CAACkF,OAAP,CAAe+1M,iBAAf,CAAiC7zM,KAAjC,KAA2C,QAArE;AACA;AACD;AACD,CAPD;;AASA,SAAS+0M,eAAT,CAAyBzkH,KAAzB,EAAgCnyF,MAAhC,EAAwCod,MAAxC,EAAoE;AACnE,QAAM05L,aAAa,GAAIr8M,mBAAM,CAACkF,OAAP,CAAe81M,oBAAf,CAAoC5zM,KAArC,GAA8C,GAA9C,GAAoD,CAA1E;AAEA,QAAMk1M,YAAY,GAAG35L,MAAM,GAAG80D,QAAQ,CAAC90D,MAAM,CAAC9f,UAAR,EAAoBkiE,WAApB,CAAX,GAA8C,IAAzE;AACA,QAAMw3I,GAAgB,GAAGD,YAAY,IAAIp8M,QAAQ,CAAC24E,aAAT,CAAwB,oCAAmC6e,KAAM,EAAjE,CAAzC;AACA,QAAM8kH,WAAW,GAAG,uBAApB;AACA,QAAMC,SAAS,GAAG,sBAAlB;;AAGA,MAAIF,GAAG,CAAC77H,SAAJ,CAAcj4E,QAAd,CAAuB+zM,WAAvB,CAAJ,EAAyC;AACxChzK,oBAAC,CAACjkC,MAAD,CAAD,CAAUg3B,WAAV,CAAsBkgL,SAAtB,EAAiCtiL,OAAjC,CAAyCkiL,aAAzC;AACAE,OAAG,CAAC77H,SAAJ,CAAchlE,MAAd,CAAqB8gM,WAArB;AACA,GAHD,MAGO;AACNhzK,oBAAC,CAAC,kBAAD,CAAD,CAAsBtN,QAAtB,CAA+BugL,SAA/B,EAA0CtiL,OAA1C,CAAkDkiL,aAAlD;AACA7yK,oBAAC,CAAC,qBAAD,CAAD,CAAyBjN,WAAzB,CAAqCigL,WAArC;AACAhzK,oBAAC,CAAC,kBAAD,CAAD,CAAsBjN,WAAtB,CAAkCkgL,SAAlC;AACAF,OAAG,CAAC77H,SAAJ,CAAczmE,GAAd,CAAkBuiM,WAAlB;AACA,UAAMljL,KAAK,GAAGgjL,YAAY,GAAGD,aAAH,GAAmB,CAA7C;AACA7yK,oBAAC,CAACjkC,MAAD,CAAD,CAAU22B,QAAV,CAAmBugL,SAAnB,EAA8BviL,SAA9B,CAAwCZ,KAAxC;AACA;;AAED,SAAO,KAAP;AACA,C;;;ACzVD;AAEA;AACA;AAOO,MAAMt5B,oBAAiB,GAAG,IAAIirH,MAAJ,CAAW,eAAX,CAA1B;AAEPjrH,oBAAM,CAACkrH,UAAP,GAAoB,mBAApB;AACAlrH,oBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,oBAAM,CAACurH,OAAP,GAAiB,CAAC,UAAD,EAAa,UAAb,EAAyB,kBAAzB,EAA6C,UAA7C,EAAyD,SAAzD,EAAoE,OAApE,EAA6E,QAA7E,CAAjB;AACAvrH,oBAAM,CAAC4jG,WAAP,GAAqB,mBAArB;AAEA5jG,oBAAM,CAACkF,OAAP,GAAiB;AAChBw3M,oBAAkB,EAAE;AACnBppH,SAAK,EAAE,sCADY;AAEnB1xF,QAAI,EAAE,SAFa;AAGnBwF,SAAK,EAAE,KAHY;AAInBw8F,eAAW,EAAE;AAJM,GADJ;AAOhBiD,6BAA2B,EAAE;AAC5BvT,SAAK,EAAE,+CADqB;AAE5B1xF,QAAI,EAAE,SAFsB;AAG5BwF,SAAK,EAAE,KAHqB;AAI5B6yH,YAAQ,EAAE,IAJkB;AAK5Br2B,eAAW,EAAE;AALe,GAPb;AAchB+4G,SAAO,EAAE;AACRrpH,SAAK,EAAE,2BADC;AAER1xF,QAAI,EAAE,SAFE;AAGRwF,SAAK,EAAE,KAHC;AAIRw8F,eAAW,EAAE;AAJL,GAdO;AAoBhBg5G,WAAS,EAAE;AACVtpH,SAAK,EAAE,6BADG;AAEV1xF,QAAI,EAAE,SAFI;AAGVwF,SAAK,EAAE,IAHG;AAIVw8F,eAAW,EAAE;AAJH,GApBK;AA0BhBsxD,iBAAe,EAAE;AAChB5hE,SAAK,EAAE,mCADS;AAEhB1xF,QAAI,EAAE,OAFU;AAGhBwF,SAAK,EAAE,SAHS;AAIhBw8F,eAAW,EAAE,kCAJG;AAKhBq2B,YAAQ,EAAE,IALM;AAMhBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC03M,SAAR,CAAkBx1M;AANxB,GA1BD;AAkChBy1M,sBAAoB,EAAE;AACrBvpH,SAAK,EAAE,wCADc;AAErB1xF,QAAI,EAAE,OAFe;AAGrBwF,SAAK,EAAE,SAHc;AAIrBw8F,eAAW,EAAE,uCAJQ;AAKrBq2B,YAAQ,EAAE,IALW;AAMrBqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC03M,SAAR,CAAkBx1M;AANnB,GAlCN;AA0ChB01M,gBAAc,EAAE;AACfxpH,SAAK,EAAE,kCADQ;AAEf1xF,QAAI,EAAE,OAFS;AAGfwF,SAAK,EAAE,SAHQ;AAIfw8F,eAAW,EAAE,iCAJE;AAKfq2B,YAAQ,EAAE,IALK;AAMfqH,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC03M,SAAR,CAAkBx1M;AANzB,GA1CA;AAkDhB21M,cAAY,EAAE;AACbzpH,SAAK,EAAE,gCADM;AAEb1xF,QAAI,EAAE,MAFO;AAGbwF,SAAK,EAAE,EAHM;AAIbw8F,eAAW,EAAE,+BAJA;AAKbq2B,YAAQ,EAAE;AALG,GAlDE;AAyDhB+iF,mBAAiB,EAAE;AAClB1pH,SAAK,EAAE,qCADW;AAElB1xF,QAAI,EAAE,MAFY;AAGlBwF,SAAK,EAAE,EAHW;AAIlBw8F,eAAW,EAAE,oCAJK;AAKlBq2B,YAAQ,EAAE;AALQ;AAzDH,CAAjB;;AAkEAj6H,oBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI/rH,oBAAM,CAACkF,OAAP,CAAey3M,OAAf,CAAuBv1M,KAA3B,EAAkC61M,SAAS;AAC3C,MAAIj9M,oBAAM,CAACkF,OAAP,CAAe03M,SAAf,CAAyBx1M,KAA7B,EAAoC81M,UAAU;AAC9CC,cAAY;AAEZv+E,+BAAa,CAAC93B,8BAAd,CAA6C9mG,oBAAM,CAACkF,OAAP,CAAe2hG,2BAAf,CAA2Cz/F,KAAxF;AACA,CAND;;AAQApH,oBAAM,CAACijF,YAAP,GAAsB,MAAM;AAG3Bz5C,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,SAApB,EAA+BsoE,WAAK,CAACC,aAArC,EAAoD,mBAAY1jF,CAAD,IAAmB;AACjF,QAAIoe,KAAK,CAACsvD,mBAAN,CAA0B1tE,CAA1B,CAAJ,EAAkC;AAClC,UAAMkkF,KAAK,GAAGT,WAAK,CAACxd,IAAN,CAAWjmE,CAAC,CAACmd,aAAb,CAAd;AACA,QAAI+mE,KAAJ,EAAWyuC,6BAAa,CAAC19G,GAAd,CAAkBivE,KAAlB;AACX,GAJmD,EAIjD,EAJiD,EAI7C;AAAEtlD,WAAO,EAAE,IAAX;AAAiBE,YAAQ,EAAE;AAA3B,GAJ6C,CAApD;;AAMA,MAAI/qC,oBAAM,CAACkF,OAAP,CAAew3M,kBAAf,CAAkCt1M,KAAtC,EAA6C;AAC5C/G,UAAM,CAACkP,gBAAP,CAAwB,QAAxB,EAAkC,MAAM;AAAEqvH,mCAAa,CAACn5B,mBAAd;AAAsC,KAAhF;AACA;AACD,CAZD;;AAcAzlG,oBAAM,CAACgsH,SAAP,GAAmB,MAAM;AACxB,MAAI,CAAC4S,6BAAa,CAAC39F,OAAf,IAA0B,CAAC29F,6BAAa,CAAC39F,OAAd,CAAsB2vD,SAAtB,EAA/B,EAAkEguC,6BAAa,CAACn5B,mBAAd;AAClE,CAFD;;AAMA,SAASw3G,SAAT,GAAqB;AACpBzgI,QAAM,CAAE;;;EAAF,CAAN;AAIA;;AAED,SAAS0gI,UAAT,GAAsB;AAErBt+E,+BAAa,CAAC/6C,WAAd,CAA0B,CAAC5iD,OAAD,EAAU6vC,QAAV,KAAuB;AAChD,QAAIA,QAAJ,EAAc;AACbA,cAAQ,CAACzB,KAAT,CAAeqR,SAAf,CAAyBhlE,MAAzB,CAAgC,0BAAhC;AACAo1D,cAAQ,CAAC57B,OAAT,CAAiBwrC,SAAjB,CAA2BhlE,MAA3B,CAAkC,wBAAlC;AACA;;AACD,QAAIulB,OAAJ,EAAa;AACZA,aAAO,CAACouC,KAAR,CAAcqR,SAAd,CAAwBzmE,GAAxB,CAA4B,0BAA5B;AACAgnB,aAAO,CAACiU,OAAR,CAAgBwrC,SAAhB,CAA0BzmE,GAA1B,CAA8B,wBAA9B;AACA;AACD,GATD,EASG,WATH;AAWA,QAAMi7I,eAAe,GAAGl1J,oBAAM,CAACkF,OAAP,CAAegwJ,eAAf,CAA+B9tJ,KAA/B,GAAwC;;;uBAG1CpH,oBAAM,CAACkF,OAAP,CAAegwJ,eAAf,CAA+B9tJ,KAAM;IAHnC,GAIlB,EAJN;AAMA,QAAMy1M,oBAAoB,GAAG78M,oBAAM,CAACkF,OAAP,CAAe23M,oBAAf,CAAoCz1M,KAApC,GAA6C;;;uBAGpDpH,oBAAM,CAACkF,OAAP,CAAe23M,oBAAf,CAAoCz1M,KAAM;IAHnC,GAIvB,EAJN;AAMA,QAAM01M,cAAc,GAAG98M,oBAAM,CAACkF,OAAP,CAAe43M,cAAf,CAA8B11M,KAA9B,GAAuC;;;;YAInDpH,oBAAM,CAACkF,OAAP,CAAe43M,cAAf,CAA8B11M,KAAM;IAJxB,GAKjB,EALN;AAOAo1E,QAAM,CAAC04E,eAAe,GAAG2nD,oBAAlB,GAAyCC,cAA1C,CAAN;AACA;;AAED,SAASK,YAAT,GAAwB;AACvB,QAAMJ,YAAY,GAAG/8M,oBAAM,CAACkF,OAAP,CAAe63M,YAAf,CAA4B31M,KAA5B,GAAqC;;cAE7CpH,oBAAM,CAACkF,OAAP,CAAe63M,YAAf,CAA4B31M,KAAM;IAF1B,GAGf,EAHN;AAKA,QAAM41M,iBAAiB,GAAGh9M,oBAAM,CAACkF,OAAP,CAAe83M,iBAAf,CAAiC51M,KAAjC,GAA0C;;cAEvDpH,oBAAM,CAACkF,OAAP,CAAe83M,iBAAf,CAAiC51M,KAAM;;EAF1B,GAItB,EAJJ;AAMA,QAAM8b,KAAK,GAAG65L,YAAY,GAAGC,iBAA7B;;AACA,MAAI95L,KAAJ,EAAW;AACVs5D,UAAM,CAACt5D,KAAD,CAAN;AACA;AACD,C;;ACzKD;AACA;AAEO,MAAMljB,gBAAiB,GAAG,IAAIirH,MAAJ,CAAW,WAAX,CAA1B;AAEPjrH,gBAAM,CAACkrH,UAAP,GAAoB,eAApB;AACAlrH,gBAAM,CAACmrH,QAAP,GAAkB,mBAAlB;AACAnrH,gBAAM,CAAC4jG,WAAP,GAAqB,eAArB;AACA5jG,gBAAM,CAACkF,OAAP,GAAiB;AAChBk4M,kBAAgB,EAAE;AACjB9pH,SAAK,EAAE,gCADU;AAEjB1xF,QAAI,EAAE,SAFW;AAGjBwF,SAAK,EAAE,IAHU;AAIjBw8F,eAAW,EAAE;AAJI,GADF;AAOhBy5G,WAAS,EAAE;AACV/pH,SAAK,EAAE,yBADG;AAEV1xF,QAAI,EAAE,MAFI;AAGVwF,SAAK,EAAE,QAHG;AAIVw8F,eAAW,EAAE,wBAJH;AAKVq2B,YAAQ,EAAE;AALA,GAPK;AAchBqjF,WAAS,EAAE;AACVhqH,SAAK,EAAE,yBADG;AAEV1xF,QAAI,EAAE,SAFI;AAGVwF,SAAK,EAAE,IAHG;AAIVw8F,eAAW,EAAE;AAJH,GAdK;AAoBhBonE,UAAQ,EAAE;AACT13E,SAAK,EAAE,wBADE;AAET1xF,QAAI,EAAE,SAFG;AAGTwF,SAAK,EAAE,KAHE;AAITw8F,eAAW,EAAE;AAJJ;AApBM,CAAjB;;AA4BA5jG,gBAAM,CAACijF,YAAP,GAAsB,YAAY;AACjC,MAAI,CAACpB,YAAY,EAAjB,EAAqB;AAErB,QAAM;AAAE1gE;AAAF,MAAW,MAAM0hE,WAAW,EAAlC;AAEA06H,gBAAc,CAACp8L,IAAD,CAAd;;AAEA,MAAInhB,gBAAM,CAACkF,OAAP,CAAe8lK,QAAf,CAAwB5jK,KAAxB,IAAiC+Z,IAAI,CAAC2qJ,OAA1C,EAAmD;AAClD0xC,eAAW,CAACr8L,IAAI,CAACwqJ,eAAN,CAAX;AACA;AACD,CAVD;;AAYA,SAAS4xC,cAAT,CAAwBp8L,IAAxB,EAA8B;AAC7B,QAAMs8L,QAAQ,GAAGv9M,QAAQ,CAAC24E,aAAT,CAAuB,iCAAvB,CAAjB;AACA,MAAI,CAAC4kI,QAAL,EAAe;AAEfA,UAAQ,CAACnqH,KAAT,GAAiB,EAAjB;AACA33E,OAAK,CAAC8hM,QAAD,CAAL;AAEAA,UAAQ,CAACruL,MAAT,CAAgBzO,sBAAM,CAAC+N,IAAK,oDAAmD1uB,gBAAM,CAACkF,OAAP,CAAeo4M,SAAf,CAAyBl2M,KAAzB,GAAiCy1F,YAAY,CAAC17E,IAAI,CAACyqJ,UAAN,CAA7C,GAAiEzqJ,IAAI,CAACyqJ,UAAW,MAAhK;;AAEA,MAAI5rK,gBAAM,CAACkF,OAAP,CAAek4M,gBAAf,CAAgCh2M,KAApC,EAA2C;AAC1Cq2M,YAAQ,CAACruL,MAAT,CACCpvB,gBAAM,CAACkF,OAAP,CAAem4M,SAAf,CAAyBj2M,KAD1B,EAECuZ,sBAAM,CAAC+N,IAAK,sDAAqD1uB,gBAAM,CAACkF,OAAP,CAAeo4M,SAAf,CAAyBl2M,KAAzB,GAAiCy1F,YAAY,CAAC17E,IAAI,CAAC0qJ,aAAN,CAA7C,GAAoE1qJ,IAAI,CAAC0qJ,aAAc,MAFzJ;AAIA;AACD;;AAGD,SAAS2xC,WAAT,CAAqB95E,OAArB,EAAsC;AAErC,QAAMg6E,QAAQ,GAAGx9M,QAAQ,CAAC24E,aAAT,CAAuB,4BAAvB,CAAjB;AACA,MAAI,CAAC6kI,QAAL,EAAe;AAEf,QAAMC,KAAK,GAAG,IAAIj1M,IAAJ,EAAd;AACA,QAAMk1M,OAAO,GAAG,IAAIl1M,IAAJ,CAASg7H,OAAO,GAAG,IAAnB,CAAhB;AACA,QAAMpwC,KAAK,GAAGsqH,OAAO,GAAGD,KAAV,GAAmB,SAAQ7gH,UAAU,CAAC8gH,OAAD,CAAU,KAAI5gH,cAAc,CAAC2gH,KAAD,EAAQC,OAAR,CAAiB,GAAlF,GAAuF,EAArG;AAEAF,UAAQ,CAACruL,OAAT,CAAiB1O,sBAAM,CAAC+N,IAAK,gBAAe4kE,KAAM,+BAAlD;AACA,C;;;AC5ED;AAEA;AACA;AACA;AAEO,MAAMtzF,oBAAiB,GAAG,IAAIirH,MAAJ,CAAW,eAAX,CAA1B;AAEPjrH,oBAAM,CAACkrH,UAAP,GAAoB,mBAApB;AACAlrH,oBAAM,CAAC4jG,WAAP,GAAqB,mBAArB;AACA5jG,oBAAM,CAACmrH,QAAP,GAAkB,kBAAlB;;AAEAnrH,oBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB3rB,gBAAc,CAAC,CAAC,MAAD,EAAS,SAAT,EAAoB,SAApB,CAAD,EAAiCy9G,sBAAjC,CAAd;AACA,CAFD;;AAIA,MAAMC,YAAY,GAAG,CAAC7xM,CAAC,IAAI,MAAMywE,cAAc,CAACzwE,CAAC,GAAGya,SAAJ,CAAc,IAAd,CAAD,CAA1B,EAAiD,sBAAO,MAAM;AAClF8iB,kBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CACEgD,EADF,CACK,OADL,EACc,iBADd,EACiC,UAASnb,CAAT,EAAmB;AAClDA,KAAC,CAACsd,cAAF;AACAw0L,cAAU,CAAC,IAAD,CAAV;AACA,GAJF,EAKE32L,EALF,CAKK,OALL,EAKc,mCALd,EAKmD,YAAW;AAC5DoiB,oBAAC,CAAC,IAAD,CAAD,CAAQpvB,OAAR,CAAgB,2BAAhB,EAA6CoK,IAA7C;AACA,GAPF;AASA,SAAO7D,sBAAM,CAAC+N,IAAK;;;;EAAnB;AAKA,CAfqE,CAAjD,CAArB;;AAiBA,SAASmvL,sBAAT,CAAgC1tH,KAAhC,EAAuC;AAEtC,MAAIA,KAAK,CAACiC,UAAN,EAAJ,EAAwB;AAExB,QAAMjmE,OAAO,GAEZgkE,KAAK,CAAC9gB,KAAN,CAAYwJ,aAAZ,CAA0B,+BAA1B,KAEAsX,KAAK,CAAC9gB,KAAN,CAAYwJ,aAAZ,CAA0B,yBAA1B,CAJD;AAKA,MAAI1sD,OAAJ,EAAaA,OAAO,CAACqD,KAAR,CAAcsuL,YAAY,EAA1B;AACb;;AAED,MAAMC,UAAU,GAAG50H,UAAU,CAAC,MAAMv/D,MAAN,IAAgB;AAC7C,QAAM45G,OAAO,GAAGh6F,gBAAC,CAAC5f,MAAD,CAAjB;AACA,QAAMo0L,WAAW,GAAGx6E,OAAO,CAAC1pH,OAAR,CAAgB,IAAhB,CAApB;;AACA,MAAI0pH,OAAO,CAACriH,IAAR,CAAa,aAAb,CAAJ,EAAiC;AAChCqiH,WAAO,CACL1pH,OADF,CACU,QADV,EAEE/J,IAFF,CAEO,iCAFP,EAGE0U,MAHF;AAIA,GALD,MAKO;AACN,UAAMiwB,IAAI,GAAIspK,WAAW,CAACjuM,IAAZ,CAAiB,oBAAjB,EAAuCnM,GAAvC,CAA2C,CAA3C,CAAD,CAAqDy7E,QAAlE;AAEA,UAAMv+C,QAAQ,GAAG,MAAMuB,IAAI,CAAC;AAC3BZ,SAAG,EAAG,GAAEiT,IAAK,OADc;AAE3BwwC,WAAK,EAAE;AAAEiS,gBAAQ,EAAE;AAAZ,OAFoB;AAG3Bv1F,UAAI,EAAE;AAHqB,KAAD,CAA3B;AAMA,UAAMq8M,aAAa,GAAGz0K,gBAAC,CAAC,0OAAD,CAAvB;AACAy0K,iBAAa,CAACluM,IAAd,CAAmB,UAAnB,EAA+BuX,GAA/B,CAAmC,UAAnC,EAA+C,MAAM22L,aAAa,CAAC/iL,UAAd,CAAyB,UAAzB,CAArD;AAEA,QAAIgjL,UAAJ;;AAEA,QAAI5gI,OAAO,CAACa,gBAAR,CAAyBlxE,IAAzB,CAA8BynC,IAA9B,CAAJ,EAAyC;AACxCwpK,gBAAU,GAAGp9K,QAAQ,CAAC,CAAD,CAAR,CAAY3f,IAAZ,CAAiB3H,QAAjB,CAA0B,CAA1B,EAA6B2H,IAA7B,CAAkCiD,IAA/C;AACA,KAFD,MAEO,IAAIk5D,OAAO,CAACE,QAAR,CAAiBvwE,IAAjB,CAAsBynC,IAAtB,CAAJ,EAAiC;AACvCwpK,gBAAU,GAAGp9K,QAAQ,CAAC,CAAD,CAAR,CAAY3f,IAAZ,CAAiB3H,QAAjB,CAA0B,CAA1B,EAA6B2H,IAA7B,CAAkCy6J,QAA/C;AACA,KAFM,MAEA;AACN,YAAMnjC,MAAc,GAAK,aAAD,CAAgB9rI,IAAhB,CAAqB+nC,IAArB,CAAD,CAAkC,CAAlC,CAAvB;AACA,YAAMvzB,IAAI,GAAG2f,QAAQ,CAAC3f,IAAT,CAAc3H,QAAd,CAAuB,CAAvB,EAA0B2H,IAAvC;;AACA,UAAIA,IAAI,CAACtU,EAAL,KAAY4rI,MAAhB,EAAwB;AACvBylE,kBAAU,GAAG/8L,IAAI,CAACiD,IAAlB;AACA,OAFD,MAEO;AAGN85L,kBAAU,GAAG/8L,IAAI,CAACg9L,OAAL,CAAah9L,IAAb,CAAkB3H,QAAlB,CAA2BzJ,IAA3B,CAAgC,CAAC;AAAEoR,cAAI,EAAE;AAAEtU;AAAF;AAAR,SAAD,KAAsBA,EAAE,KAAK4rI,MAA7D,EAAqEt3H,IAArE,CAA0EiD,IAAvF;AACA;AACD;;AAED65L,iBAAa,CAACluM,IAAd,CAAmB,qBAAnB,EAA0CvN,IAA1C,CAA+C07M,UAA/C;AACAF,eAAW,CAACzuL,MAAZ,CAAmB0uL,aAAnB;AACAz0K,oBAAC,CAAC5f,MAAD,CAAD,CAAUzI,IAAV,CAAe,aAAf,EAA8B,IAA9B;AACA;AACD,CA1C4B,CAA7B,C;;AC7CA;AACA;AAKO,MAAMnhB,iBAAiB,GAAG,IAAIirH,MAAJ,CAAW,YAAX,CAA1B;AAEPjrH,iBAAM,CAACkrH,UAAP,GAAoB,gBAApB;AACAlrH,iBAAM,CAACmrH,QAAP,GAAkB,qBAAlB;AACAnrH,iBAAM,CAAC4rH,iBAAP,GAA2B,IAA3B;AACA5rH,iBAAM,CAAC4jG,WAAP,GAAqB,gBAArB;;AAEA5jG,iBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB3rB,gBAAc,CAAC,CAAC,MAAD,EAAS,SAAT,CAAD,EAAsBg+G,aAAtB,CAAd;AACA,CAFD;;AAIA,SAASA,aAAT,CAAuBjuH,KAAvB,EAA8B;AAC7B,QAAMkuH,aAAa,GAAGluH,KAAK,CAACyD,gBAAN,EAAtB;AACA,QAAM0qH,UAAU,GAAGnuH,KAAK,CAACwD,SAAN,EAAnB;AACA,MAAI,CAAC0qH,aAAD,IAAkB,CAACC,UAAnB,IAAiCz8H,YAAY,OAAOy8H,UAAxD,EAAoE;AAEpE,QAAMC,IAAI,GAAGr+M,QAAQ,CAACqC,aAAT,CAAuB,IAAvB,CAAb;AAGA,QAAM4pB,OAAO,GAAGgkE,KAAK,CAAC8C,UAAN,EAAhB;AACA,MAAI9mE,OAAO,CAACuhF,gBAAZ,EAA8BvhF,OAAO,CAACuhF,gBAAR,CAAyBn+E,MAAzB,CAAgCgvL,IAAhC,EAA9B,KACKpyL,OAAO,CAACiD,MAAR,CAAemvL,IAAf;AAEL,QAAMn1M,CAAC,GAAGlJ,QAAQ,CAACqC,aAAT,CAAuB,GAAvB,CAAV;AACA6G,GAAC,CAAC1G,YAAF,CAAe,OAAf,EAAwB,gBAAxB;AACA0G,GAAC,CAAC1G,YAAF,CAAe,OAAf,EAAwB,+BAAxB;AACA0G,GAAC,CAACkL,IAAF,GAAU,0DAAyD+pM,aAAa,CAAC/pM,IAAK,EAAtF;AACAlL,GAAC,CAAC7D,MAAF,GAAW,QAAX;AACA6D,GAAC,CAACq8L,GAAF,GAAQ,oBAAR;AACAr8L,GAAC,CAACwpF,OAAF,CAAUpwF,IAAV,GAAiB,KAAjB;AACA+7M,MAAI,CAAC37M,WAAL,CAAiBwG,CAAjB;AACA,C;;ACrCD;AAEO,MAAMpJ,kBAAiB,GAAG,IAAIirH,MAAJ,CAAW,aAAX,CAA1B;AAEPjrH,kBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,kBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,kBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AACA5jG,kBAAM,CAACurH,OAAP,GAAiB,CAChB,SADgB,CAAjB;AAGAvrH,kBAAM,CAACsrH,SAAP,GAAmB,IAAnB;AACAtrH,kBAAM,CAACkF,OAAP,GAAiB;AAChBs5M,YAAU,EAAE;AACXlrH,SAAK,EAAE,4BADI;AAEX1xF,QAAI,EAAE,SAFK;AAGXwF,SAAK,EAAE,IAHI;AAIXw8F,eAAW,EAAE,2BAJF;AAKX0nB,aAAS,EAAE;AALA;AADI,CAAjB,C;;ACXA;AACA;AAEO,MAAMtrH,kBAAiB,GAAG,IAAIirH,MAAJ,CAAW,aAAX,CAA1B;AAEPjrH,kBAAM,CAACkrH,UAAP,GAAoB,iBAApB;AACAlrH,kBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,kBAAM,CAAC4jG,WAAP,GAAqB,iBAArB;AACA5jG,kBAAM,CAACkF,OAAP,GAAiB;AAChBu5M,QAAM,EAAE;AACPnrH,SAAK,EAAE,wBADA;AAEP1xF,QAAI,EAAE,SAFC;AAGPwF,SAAK,EAAE,IAHA;AAIPw8F,eAAW,EAAE,uBAJN;AAKP0nB,aAAS,EAAE;AALJ,GADQ;AAQhBozF,mBAAiB,EAAE;AAClBprH,SAAK,EAAE,mCADW;AAElB1xF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,KAHW;AAIlBw8F,eAAW,EAAE,kCAJK;AAKlB0nB,aAAS,EAAE;AALO,GARH;AAehBqzF,cAAY,EAAE;AACbrrH,SAAK,EAAE,8BADM;AAEb1xF,QAAI,EAAE,SAFO;AAGbwF,SAAK,EAAE,KAHM;AAIbw8F,eAAW,EAAE,6BAJA;AAKb0nB,aAAS,EAAE;AALE,GAfE;AAsBhBszF,cAAY,EAAE;AACbtrH,SAAK,EAAE,8BADM;AAEb1xF,QAAI,EAAE,SAFO;AAGbwF,SAAK,EAAE,IAHM;AAIbw8F,eAAW,EAAE,6BAJA;AAKbq2B,YAAQ,EAAE,IALG;AAMb3O,aAAS,EAAE;AANE,GAtBE;AA8BhBuzF,eAAa,EAAE;AACdvrH,SAAK,EAAE,+BADO;AAEd1xF,QAAI,EAAE,SAFQ;AAGdwF,SAAK,EAAE,IAHO;AAIdw8F,eAAW,EAAE,8BAJC;AAKd0nB,aAAS,EAAE;AALG,GA9BC;AAqChBwzF,mBAAiB,EAAE;AAClBxrH,SAAK,EAAE,mCADW;AAElB1xF,QAAI,EAAE,MAFY;AAGlB2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,OADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,UADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,QADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,CAHU;AAalBA,SAAK,EAAE,OAbW;AAclBw8F,eAAW,EAAE,kCAdK;AAelB0nB,aAAS,EAAE;AAfO,GArCH;AAsDhByzF,qBAAmB,EAAE;AACpBzrH,SAAK,EAAE,qCADa;AAEpB1xF,QAAI,EAAE,SAFc;AAGpBwF,SAAK,EAAE,KAHa;AAIpBw8F,eAAW,EAAE,oCAJO;AAKpB0nB,aAAS,EAAE;AALS,GAtDL;AA6DhB0zF,oBAAkB,EAAE;AACnB1rH,SAAK,EAAE,oCADY;AAEnB1xF,QAAI,EAAE,SAFa;AAGnBwF,SAAK,EAAE,KAHY;AAInBw8F,eAAW,EAAE,mCAJM;AAKnBq2B,YAAQ,EAAE,IALS;AAMnB3O,aAAS,EAAE;AANQ,GA7DJ;AAqEhB2zF,yBAAuB,EAAE;AACxB3rH,SAAK,EAAE,yCADiB;AAExB1xF,QAAI,EAAE,SAFkB;AAGxBwF,SAAK,EAAE,IAHiB;AAIxBw8F,eAAW,EAAE,wCAJW;AAKxBq2B,YAAQ,EAAE,IALc;AAMxB3O,aAAS,EAAE;AANa,GArET;AA6EhB4zF,mBAAiB,EAAE;AAClB5rH,SAAK,EAAE,mCADW;AAElB1xF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,KAHW;AAIlBw8F,eAAW,EAAE;AAJK,GA7EH;AAmFhBu7G,wBAAsB,EAAE;AACvB7rH,SAAK,EAAE,wCADgB;AAEvB1xF,QAAI,EAAE,OAFiB;AAGvB0/H,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACg6M,iBAAR,CAA0B93M,KAHzB;AAIvBw8F,eAAW,EAAE,uCAJU;AAKvBx8F,SAAK,EAAE;AALgB,GAnFR;AA0FhBg4M,uBAAqB,EAAE;AACtB9rH,SAAK,EAAE,uCADe;AAEtB1xF,QAAI,EAAE,MAFgB;AAGtB0/H,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACg6M,iBAAR,CAA0B93M,KAH1B;AAItBw8F,eAAW,EAAE,sCAJS;AAKtBx8F,SAAK,EAAE;AALe,GA1FP;AAiGhBi4M,iBAAe,EAAE;AAChB/rH,SAAK,EAAE,iCADS;AAEhB1xF,QAAI,EAAE,SAFU;AAGhBwF,SAAK,EAAE,KAHS;AAIhBw8F,eAAW,EAAE,gCAJG;AAKhBq2B,YAAQ,EAAE,IALM;AAMhB3O,aAAS,EAAE;AANK,GAjGD;AAyGhBg0F,yBAAuB,EAAE;AACxBhsH,SAAK,EAAE,yCADiB;AAExBsQ,eAAW,EAAE,wCAFW;AAGxBhiG,QAAI,EAAE,MAHkB;AAIxBwF,SAAK,EAAE,MAJiB;AAKxBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,YADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,YADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,eADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,WADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,CALgB;AAkBxBkkH,aAAS,EAAE;AAlBa,GAzGT;AA6HhBi0F,gBAAc,EAAE;AACfjsH,SAAK,EAAE,2BADQ;AAEf1xF,QAAI,EAAE,SAFS;AAGfwF,SAAK,EAAE,KAHQ;AAIfw8F,eAAW,EAAE,+BAJE;AAKf0nB,aAAS,EAAE;AALI,GA7HA;AAoIhBk0F,kBAAgB,EAAE;AACjBlsH,SAAK,EAAE,6BADU;AAEjBsQ,eAAW,EAAE,iCAFI;AAGjBhiG,QAAI,EAAE,MAHW;AAIjBwF,SAAK,EAAE,OAJU;AAKjBmd,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,kCADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,uCADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,mCADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,CALS;AAejBkkH,aAAS,EAAE;AAfM;AApIF,CAAjB;;AAuJAtrH,kBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI/rH,kBAAM,CAACkF,OAAP,CAAeg6M,iBAAf,CAAiC93M,KAArC,EAA4C;AAC3C,UAAM+3M,sBAAsB,GAAGn/M,kBAAM,CAACkF,OAAP,CAAei6M,sBAAf,CAAsC/3M,KAAtC,IAA+CpH,kBAAM,CAACkF,OAAP,CAAei6M,sBAAf,CAAsCjuI,OAApH;AACA,UAAMkuI,qBAAqB,GAAGtjL,QAAQ,CAAC97B,kBAAM,CAACkF,OAAP,CAAek6M,qBAAf,CAAqCh4M,KAArC,IAA8CpH,kBAAM,CAACkF,OAAP,CAAek6M,qBAAf,CAAqCluI,OAApF,EAA6F,EAA7F,CAAtC;AACAsL,UAAM,CAAE;;cAEI4iI,qBAAsB;;kBAElBD,sBAAuB;;;kBAGvBC,qBAAsB,YAAWD,sBAAuB;;GAPlE,CAAN;AAUA;AACD,CAfD,C;;;;;AC/JA;AAGA;AACA;AASA;AAEO,MAAMn/M,iBAAiB,GAAG,IAAIirH,MAAJ,CAAW,YAAX,CAA1B;AAEPjrH,iBAAM,CAACkrH,UAAP,GAAoB,gBAApB;AACAlrH,iBAAM,CAAC4jG,WAAP,GAAqB,gBAArB;AACA5jG,iBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,iBAAM,CAACwrH,OAAP,GAAiB,CAChB,OADgB,EAEhB,SAFgB,EAGhB,YAHgB,EAIhB,gBAJgB,CAAjB;AAOAxrH,iBAAM,CAACkF,OAAP,GAAiB;AAChBu6M,cAAY,EAAE;AACbnsH,SAAK,EAAE,6BADM;AAEbsQ,eAAW,EAAE,4BAFA;AAGbhiG,QAAI,EAAE,QAHO;AAIbY,QAAI,EAAE,YAJO;;AAKb4B,YAAQ,GAAG;AACV/D,YAAM,CAAC8T,QAAP,CAAgBG,IAAhB,GAAuB,qEAAvB;AACA;;AAPY,GADE;AAUhBorM,iBAAe,EAAE;AAChBpsH,SAAK,EAAE,gCADS;AAEhB1xF,QAAI,EAAE,OAFU;AAGhBgiG,eAAW,EAAE,+BAHG;AAIhBx8F,SAAK,EAAG,EAJQ;AAOhB+2F,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,gBADG;AAERvI,UAAI,EAAE,kBAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,SADH;AAEFvI,UAAI,EAAE,SAFJ;AAGFvD,UAAI,EAAE,QAHJ;AAIF2iB,YAAM,EAAE,CAAC;AACRpf,YAAI,EAAE,YADE;AAERiC,aAAK,EAAE;AAFC,OAAD,EAGL;AACFjC,YAAI,EAAE,iBADJ;AAEFiC,aAAK,EAAE;AAFL,OAHK,EAML;AACFjC,YAAI,EAAE,UADJ;AAEFiC,aAAK,EAAE;AAFL,OANK,CAJN;AAcFA,WAAK,EAAE;AAdL,KAJK,EAmBL;AACFsG,SAAG,EAAE,mBADH;AAEFvI,UAAI,EAAE,mBAFJ;AAGFvD,UAAI,EAAE,MAHJ;AAIFy3J,cAAQ,EAAE;AAJR,KAnBK,EAwBL;AACF3rJ,SAAG,EAAE,cADH;AAEFvI,UAAI,EAAE,cAFJ;AAGFvD,UAAI,EAAE,QAHJ;;AAIF,UAAI2iB,MAAJ,GAAa;AAAE,eAAOosI,qBAAU,EAAjB;AAAsB,OAJnC;;AAKFvpJ,WAAK,EAAE;AALL,KAxBK;AAPQ,GAVD;AAiDhBu4M,UAAQ,EAAE;AACTrsH,SAAK,EAAE,yBADE;AAET1xF,QAAI,EAAE,OAFG;AAGTgiG,eAAW,EAAE,wBAHJ;AAITx8F,SAAK,EAAG,EAJC;AAKT+2F,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,SADG;AAERvI,UAAI,EAAE,SAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,SADH;AAEFvI,UAAI,EAAE,SAFJ;AAGFvD,UAAI,EAAE,QAHJ;AAIF2iB,YAAM,EAAE,CAAC;AACRpf,YAAI,EAAE,YADE;AAERiC,aAAK,EAAE;AAFC,OAAD,EAGL;AACFjC,YAAI,EAAE,iBADJ;AAEFiC,aAAK,EAAE;AAFL,OAHK,EAML;AACFjC,YAAI,EAAE,UADJ;AAEFiC,aAAK,EAAE;AAFL,OANK,CAJN;AAcFA,WAAK,EAAE;AAdL,KAJK,EAmBL;AACFsG,SAAG,EAAE,mBADH;AAEFvI,UAAI,EAAE,mBAFJ;AAGFvD,UAAI,EAAE,MAHJ;AAIFy3J,cAAQ,EAAE;AAJR,KAnBK,EAwBL;AACF3rJ,SAAG,EAAE,cADH;AAEFvI,UAAI,EAAE,cAFJ;AAGFvD,UAAI,EAAE,QAHJ;;AAIF,UAAI2iB,MAAJ,GAAa;AAAE,eAAOosI,qBAAU,EAAjB;AAAsB,OAJnC;;AAKFvpJ,WAAK,EAAE;AALL,KAxBK;AALC,GAjDM;AAsFhBw4M,aAAW,EAAE;AACZtsH,SAAK,EAAE,4BADK;AAEZ1xF,QAAI,EAAE,OAFM;AAGZgiG,eAAW,EAAE,2BAHD;AAIZx8F,SAAK,EAAG,EAJI;AAKZ+2F,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,SADG;AAERvI,UAAI,EAAE,SAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,SADH;AAEFvI,UAAI,EAAE,SAFJ;AAGFvD,UAAI,EAAE,QAHJ;AAIF2iB,YAAM,EAAE,CAAC;AACRpf,YAAI,EAAE,YADE;AAERiC,aAAK,EAAE;AAFC,OAAD,EAGL;AACFjC,YAAI,EAAE,iBADJ;AAEFiC,aAAK,EAAE;AAFL,OAHK,EAML;AACFjC,YAAI,EAAE,UADJ;AAEFiC,aAAK,EAAE;AAFL,OANK,CAJN;AAcFA,WAAK,EAAE;AAdL,KAJK,EAmBL;AACFsG,SAAG,EAAE,mBADH;AAEFvI,UAAI,EAAE,mBAFJ;AAGFvD,UAAI,EAAE,MAHJ;AAIFy3J,cAAQ,EAAE;AAJR,KAnBK,EAwBL;AACF3rJ,SAAG,EAAE,cADH;AAEFvI,UAAI,EAAE,cAFJ;AAGFvD,UAAI,EAAE,QAHJ;;AAIF,UAAI2iB,MAAJ,GAAa;AAAE,eAAOosI,qBAAU,EAAjB;AAAsB,OAJnC;;AAKFvpJ,WAAK,EAAE;AALL,KAxBK;AALI,GAtFG;AA2HhBy4M,gBAAc,EAAE;AACfvsH,SAAK,EAAE,+BADQ;AAEf1xF,QAAI,EAAE,SAFS;AAGfwF,SAAK,EAAE,IAHQ;AAIfw8F,eAAW,EAAE;AAJE,GA3HA;AAiIhBk8G,kBAAgB,EAAE;AACjBxsH,SAAK,EAAE,iCADU;AAEjB1xF,QAAI,EAAE,SAFW;AAGjBwF,SAAK,EAAE,IAHU;AAIjBw8F,eAAW,EAAE;AAJI,GAjIF;AAuIhBm8G,eAAa,EAAE;AACdzsH,SAAK,EAAE,8BADO;AAEd1xF,QAAI,EAAE,SAFQ;AAGdwF,SAAK,EAAE,IAHO;AAIdw8F,eAAW,EAAE;AAJC,GAvIC;AA6IhBo8G,mBAAiB,EAAE;AAClB1sH,SAAK,EAAE,kCADW;AAElB1xF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,KAHW;AAIlBw8F,eAAW,EAAE;AAJK;AA7IH,CAAjB;;AAqJA5jG,iBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI/rH,iBAAM,CAACkF,OAAP,CAAe26M,cAAf,CAA8Bz4M,KAAlC,EAAyC;AACxC64M,uBAAmB;AACnB;;AACD,MAAIjgN,iBAAM,CAACkF,OAAP,CAAe66M,aAAf,CAA6B34M,KAAjC,EAAwC;AACvC84M,sBAAkB;AAClB;;AACD,MAAIlgN,iBAAM,CAACkF,OAAP,CAAe46M,gBAAf,CAAgC14M,KAApC,EAA2C;AAC1C+4M,yBAAqB;AACrB;;AAED32K,kBAAC,CAAC2xH,oBAAD,CAAD,CAAwB/zI,EAAxB,CAA2B,QAA3B,EAAqCg5L,WAArC;AACAA,aAAW;;AAEX,WAASA,WAAT,GAAuB;AACtBC,oBAAgB;AAChBX,mBAAe;AACfY,oBAAgB;AAChB;AACD,CAnBD;;AAqBAtgN,iBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,iBAAM,CAACkF,OAAP,CAAe86M,iBAAf,CAAiC54M,KAArC,EAA4C;AAC3Cm5M,0BAAsB;AACtB;AACD,CAJD;;AAMA,SAASN,mBAAT,GAA+B;AAC9B,MAAI96M,IAAI,GAAGs6E,gBAAgB,EAA3B;;AACA,MAAIt6E,IAAJ,EAAU;AACTA,QAAI,GAAGA,IAAI,CAACsC,WAAL,EAAP;AACAowF,+BAAW,CAAC59E,GAAZ,CAAiB,SAAQ9U,IAAK,EAA9B;AACA;AACD;;AAED,SAASg7M,qBAAT,GAAiC;AAChC,MAAIh7M,IAAI,GAAG06E,kBAAkB,EAA7B;;AACA,MAAI16E,IAAJ,EAAU;AACTA,QAAI,GAAGA,IAAI,CAACsC,WAAL,GAAmBzB,OAAnB,CAA2B,KAA3B,EAAkC,GAAlC,CAAP;AACA6xF,+BAAW,CAAC59E,GAAZ,CAAiB,OAAM9U,IAAK,EAA5B;AACA;AACD;;AAED,SAAS+6M,kBAAT,GAA8B;AAC7B,MAAI/6M,IAAI,GAAG+6E,kBAAkB,EAA7B;;AACA,MAAI/6E,IAAJ,EAAU;AACTA,QAAI,GAAGA,IAAI,CAACsC,WAAL,EAAP;AACAowF,+BAAW,CAAC59E,GAAZ,CAAiB,YAAW9U,IAAK,EAAjC;AACA;AACD;;AAED,SAASo7M,sBAAT,GAAkC;AACjC,MAAIp7M,IAAI,GAAG08E,YAAY,EAAvB;;AACA,MAAI18E,IAAJ,EAAU;AACTA,QAAI,GAAGA,IAAI,CAACsC,WAAL,EAAP;AACAowF,+BAAW,CAAC59E,GAAZ,CAAiB,UAAS9U,IAAK,EAA/B;AACA;AACD;;AAED,SAASk7M,gBAAT,GAA4B;AAC3B,QAAMG,UAAU,GAAGxgN,iBAAM,CAACkF,OAAP,CAAe06M,WAAf,CAA2Bx4M,KAA3B,CACjByI,MADiB,CACVg4F,GAAG,IAAI44G,WAAW,CAAC54G,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,EAAiBA,GAAG,CAAC,CAAD,CAApB,CADR,EAEjBxjG,GAFiB,CAEbwjG,GAAG,IAAI,CAACA,GAAG,CAAC,CAAD,CAAH,IAAU,EAAX,EAAergG,KAAf,CAAqB,OAArB,CAFM,EAGjB60E,MAHiB,CAGV,CAACjzE,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACxI,MAAF,CAASyI,CAAT,CAHA,EAGa,EAHb,CAAnB;AAKA,QAAMq3M,aAAa,GAAG1gN,iBAAM,CAACkF,OAAP,CAAe06M,WAAf,CAA2Bx4M,KAA3B,CACpByI,MADoB,CACbg4F,GAAG,IAAI,CAAC44G,WAAW,CAAC54G,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,EAAiBA,GAAG,CAAC,CAAD,CAApB,CADN,EAEpBxjG,GAFoB,CAEhBwjG,GAAG,IAAI,CAACA,GAAG,CAAC,CAAD,CAAH,IAAU,EAAX,EAAergG,KAAf,CAAqB,OAArB,CAFS,EAGpB60E,MAHoB,CAGb,CAACjzE,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACxI,MAAF,CAASyI,CAAT,CAHG,EAGU,EAHV,CAAtB;AAKAwuF,6BAAW,CAAC59E,GAAZ,CAAgB,GAAGumM,UAAnB;AACA3oH,6BAAW,CAACn8E,MAAZ,CAAmB,GAAGglM,aAAtB;AACA;;AAED,MAAMC,mBAAmB,GAAG,0BAA5B;AACA,MAAMC,SAAS,GAAG,+BAAlB;AAEA,MAAMC,sBAAsB,GAAGzxH,SAAS,CAAC,CAAC,CAAC3tD,GAAD,CAAD,KAAW;AACnD,QAAMq/K,cAAc,GAAGH,mBAAmB,CAACh0M,IAApB,CAAyB80B,GAAzB,CAAvB;;AACA,MAAIq/K,cAAJ,EAAoB;AACnB,WAAO,CAAE,MAAKA,cAAc,CAAC,CAAD,CAAI,iBAAzB,CAAP;AACA,GAFD,MAEO,IAAIF,SAAS,CAAC3zM,IAAV,CAAew0B,GAAf,CAAJ,EAAyB;AAC/B,WAAO,CAACA,GAAD,CAAP;AACA;AACD,CAPuC,CAAxC;;AASA,SAASi+K,eAAT,GAA2B;AAC1B,QAAMqB,cAAc,GAAG,eACtB,iBAAOl5G,GAAG,IAAI44G,WAAW,CAAC54G,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,EAAiBA,GAAG,CAAC,CAAD,CAApB,CAAzB,CADsB,EAEtBg5G,sBAFsB,EAGrB7gN,iBAAM,CAACkF,OAAP,CAAew6M,eAAf,CAA+Bt4M,KAHV,CAAvB;;AAKA45M,mBAAiB,CAACC,IAAlB,CAAuBF,cAAvB;AACA;;AAED,MAAMC,iBAAiB,GAAGE,wBAAwB,CAACz/K,GAAG,IAAI9gB,sBAAM,CAAC+N,IAAK,gCAA+B+S,GAAI,IAAvD,CAAlD;;AAEA,SAAS6+K,gBAAT,GAA4B;AAC3B,QAAMX,QAAQ,GAAG3/M,iBAAM,CAACkF,OAAP,CAAey6M,QAAf,CAAwBv4M,KAAxB,CACfyI,MADe,CACRg4F,GAAG,IAAI44G,WAAW,CAAC54G,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,EAAiBA,GAAG,CAAC,CAAD,CAApB,CADV,EAEfxjG,GAFe,CAEX,CAAC,CAAC+e,GAAD,CAAD,KAAWA,GAFA,CAAjB;AAIA+9L,gBAAc,CAACF,IAAf,CAAoBtB,QAApB;AACA;;AAED,MAAMwB,cAAc,GAAGD,wBAAwB,CAAC99L,GAAG,IAAI;AACtD,QAAMF,KAAK,GAAGhjB,QAAQ,CAACqC,aAAT,CAAuB,OAAvB,CAAd;AACA2gB,OAAK,CAACpR,WAAN,GAAoBsR,GAApB;AACA,SAAOF,KAAP;AACA,CAJ8C,CAA/C;;AAMA,SAASg+L,wBAAT,CAAqCE,eAArC,EAAsG;AACrG,QAAMngL,OAAO,GAAG,IAAIuiD,GAAJ,EAAhB;AAoBA,SAAO;AAAEy9H,QAAI,EAlBb,UAAcI,UAAd,EAA0B;AACzB,YAAMC,WAAW,GAAG57M,KAAK,CAACwsE,IAAN,CAAWjxC,OAAO,CAACzzB,IAAR,EAAX,CAApB;;AAEA,2BAAa6zM,UAAb,EAAyBC,WAAzB,EACEv7I,OADF,CACUV,CAAC,IAAI;AACb,cAAMuS,GAAG,GAAGwpI,eAAe,CAAC/7I,CAAD,CAA3B;AACApkC,eAAO,CAAC/f,GAAR,CAAYmkD,CAAZ,EAAeuS,GAAf;AACA,SAAC13E,QAAQ,CAACyC,IAAT,IAAiBzC,QAAQ,CAACgP,eAA3B,EAA4CkgB,MAA5C,CAAmDwoD,GAAnD;AACA,OALF;;AAOA,2BAAa0pI,WAAb,EAA0BD,UAA1B,EACEt7I,OADF,CACUV,CAAC,IAAI;AACb,cAAMuS,GAAG,GAAG32C,OAAO,CAACr9B,GAAR,CAAYyhE,CAAZ,CAAZ;AACApkC,eAAO,CAACqoD,MAAR,CAAejkB,CAAf;AACA,YAAIuS,GAAJ,EAASA,GAAG,CAACl8D,MAAJ;AACT,OALF;AAMA;AAEM,GAAP;AACA;;AAED,SAAS+kM,WAAT,CAAqBh8L,MAArB,EAA6B24I,OAA7B,EAAsCC,SAAtC,EAAiD;AAChD,MAAI54I,MAAM,IAAI,CAAC02I,YAAA,CAA2B12I,MAA3B,CAAf,EAAmD,OAAO,KAAP;AAEnD,MAAI25D,SAAS,GAAGqB,gBAAgB,EAAhC;;AACA,MAAI,CAACrB,SAAL,EAAgB;AACf,WAAQg/E,OAAO,KAAK,SAApB;AACA;;AAEDh/E,WAAS,GAAGA,SAAS,CAAC32E,WAAV,EAAZ;AACA41J,WAAS,GAAG,OAAOA,SAAP,KAAqB,QAArB,GAAgCA,SAAS,CAAC51J,WAAV,GAAwBD,KAAxB,CAA8B,GAA9B,CAAhC,GAAqE,EAAjF;;AAEA,UAAQ41J,OAAR;AACC,SAAK,SAAL;AACC,aAAO,EAAEC,SAAS,CAACz7G,QAAV,CAAmBw8B,SAAnB,KAAiCi/E,SAAS,CAACz7G,QAAV,CAAmB,KAAnB,CAAnC,CAAP;;AACD,SAAK,SAAL;AACC,aAAOy7G,SAAS,CAACz7G,QAAV,CAAmBw8B,SAAnB,KAAiCi/E,SAAS,CAACz7G,QAAV,CAAmB,KAAnB,CAAxC;;AACD;AACC,aAAO,IAAP;AANF;AAQA;;AAED,SAAS+uG,qBAAT,GAAsB;AACrB,SAAO,CACN;AAAExrJ,QAAI,EAAE,kBAAR;AAA4BiC,SAAK,EAAE;AAAnC,GADM,EAEN,GAAG+zJ,wBAAA,GAA2B92J,GAA3B,CAA+B,CAAC;AAAEqJ,OAAF;AAAOlL;AAAP,GAAD,MAAoB;AAAE2C,QAAI,EAAE3C,IAAR;AAAc4E,SAAK,EAAEsG;AAArB,GAApB,CAA/B,CAFG,CAAP;AAIA,C;;;;ACjVD;AAEA;AACA;AACA;AASA;AACA;AAEO,MAAM1N,mBAAiB,GAAG,IAAIirH,MAAJ,CAAW,cAAX,CAA1B;AAEPjrH,mBAAM,CAACkrH,UAAP,GAAoB,kBAApB;AACAlrH,mBAAM,CAACmrH,QAAP,GAAkB,qBAAlB;AACAnrH,mBAAM,CAAC4jG,WAAP,GAAqB,kBAArB;AACA5jG,mBAAM,CAACkF,OAAP,GAAiB;AAChBq8M,sBAAoB,EAAE;AACrBjuH,SAAK,EAAE,uCADc;AAErB1xF,QAAI,EAAE,SAFe;AAGrBwF,SAAK,EAAE,IAHc;AAIrBw8F,eAAW,EAAE;AAJQ,GADN;AAOhB49G,2BAAyB,EAAE;AAC1BluH,SAAK,EAAE,4CADmB;AAE1B1xF,QAAI,EAAE,SAFoB;AAG1BwF,SAAK,EAAE,KAHmB;AAI1Bw8F,eAAW,EAAE;AAJa,GAPX;AAahB69G,iBAAe,EAAE;AAChBnuH,SAAK,EAAE,kCADS;AAEhB1xF,QAAI,EAAE,SAFU;AAGhBwF,SAAK,EAAE,IAHS;AAIhBw8F,eAAW,EAAE;AAJG;AAbD,CAAjB;;AAqBA,MAAM89G,cAAc,GAAG,sBAAO,MAAMl4K,gBAAC,CAAC7oB,sBAAM,CAAC+N,IAAK;;;oDAGE4rG,WAAA,CAA+Bt6H,mBAAM,CAAC2nH,QAAtC,EAAgD,sBAAhD,CAAwE;;;;CAHvF,CAAd,CAAvB;;AASA,IAAIg6F,QAAJ,EAAcC,OAAd;;AAEA5hN,mBAAM,CAACy4F,EAAP,GAAY,MAAM;AACjBopH,kBAAgB;;AAEhB,MAAI,CAAC1kI,UAAU,CAAC,QAAD,CAAf,EAA2B;AAC1BmzE,oCAAmB;AACnB;AACD,CAND;;AAQA,eAAeuxD,gBAAf,GAAkC;AACjC,MAAIzkI,SAAS,CAAC,KAAD,CAAb,EAAsB;AACrBzF,gBAAY,CAACz3E,QAAD,EAAW,mBAAX,CAAZ,CAA4Cwc,IAA5C,CAAiDmlM,gBAAjD;AACA;;AACD,MAAI,CAAC1kI,UAAU,CAAC,QAAD,CAAf,EAA2B;AAC1B;AACA;;AAED,MAAIn9E,mBAAM,CAACkF,OAAP,CAAeq8M,oBAAf,CAAoCn6M,KAAxC,EAA+C;AAC9C,UAAM06M,WAAW,GAAG5hN,QAAQ,CAAC24E,aAAT,CAAuB,YAAvB,CAApB;;AACA,QAAIipI,WAAJ,EAAiB;AAChBt4K,sBAAC,CAACs4K,WAAD,CAAD,CAAezuM,MAAf,GAAwBmc,KAAxB,CAA8BkyL,cAAc,EAA5C;AACAC,cAAQ,GAAKG,WAAW,CAACjpI,aAAZ,CAA0B,MAA1B,CAAb;AACA+oI,aAAO,GAAK1hN,QAAQ,CAAC24E,aAAT,CAAuB,kBAAvB,CAAZ;AACArvC,sBAAC,CAAC,CAACo4K,OAAD,EAAUD,QAAV,CAAD,CAAD,CAAuBv6L,EAAvB,CAA0B,eAA1B,EAA2C,mBAAW26L,mBAAX,EAAgC,GAAhC,CAA3C;AAEAv4K,sBAAC,CAAC,qCAAD,CAAD,CAAyCpiB,EAAzC,CAA4C,OAA5C,EAAqD26L,mBAArD;AAGA,YAAMC,UAAU,GAAG9hN,QAAQ,CAAC24E,aAAT,CAAuB,eAAvB,CAAnB;AACA,YAAMopI,UAAU,GAAG/hN,QAAQ,CAAC24E,aAAT,CAAuB,eAAvB,CAAnB;;AACA,UAAImpI,UAAU,IAAIC,UAAlB,EAA8B;AAC7BD,kBAAU,CAACzyM,gBAAX,CAA4B,OAA5B,EAAqC,MAAM;AAAEwyM,6BAAmB;AAAK,SAArE;AACAE,kBAAU,CAAC1yM,gBAAX,CAA4B,OAA5B,EAAqC,MAAM;AAAEmyM,wBAAc,GAAGl9L,IAAjB;AAA0B,SAAvE;AACA;AACD;AACD;;AAED,MAAIxkB,mBAAM,CAACkF,OAAP,CAAes8M,yBAAf,CAAyCp6M,KAA7C,EAAoD;AACnD,UAAMlE,QAAQ,GAAGk6E,SAAS,CAAC,KAAD,CAAT,GAAmB,kCAAnB,GAAwD,cAAzE;AACA,UAAM8kI,WAAyB,GAAG,MAAMtpI,iBAAiB,CAAC14E,QAAQ,CAACgP,eAAV,EAA2BhM,QAA3B,CAAzD;;AACA,QAAIg/M,WAAJ,EAAiB;AAChBA,iBAAW,CAAC73L,KAAZ;AACA;AACD;;AAED,MAAIrqB,mBAAM,CAACkF,OAAP,CAAeu8M,eAAf,CAA+Br6M,KAAnC,EAA0C;AACzC,QAAIg2E,SAAS,CAAC,KAAD,CAAb,EAAsB;AACrB5zC,sBAAC,CAAC,UAAD,CAAD,CAAc35B,MAAd,CAAqB,UAArB,EAAiCpL,KAAjC,GAAyCuoB,KAAzC;AACA,KAFD,MAEO;AACNwc,sBAAC,CAAC,kDAAD,CAAD,CAAsD35B,MAAtD,CAA6D,UAA7D,EAAyEpL,KAAzE,GAAiFuoB,KAAjF;AACA;AACD;AACD;;AAED,SAASsjI,gCAAT,GAA+B;AAC9B,QAAM6xD,WAAW,GAAG,sBAApB;AACA,QAAMC,SAAS,GAAG,qCAAlB;;AAEA,WAASC,qBAAT,CAA+BhgN,GAA/B,EAAoC;AACnC,UAAMigN,SAAS,GAAGH,WAAW,CAACx1M,IAAZ,CAAiBtK,GAAjB,CAAlB;AACA,UAAMsQ,MAAM,GAAGyvM,SAAS,CAACz1M,IAAV,CAAe21M,SAAS,GAAGjgN,GAAG,CAAC1B,KAAJ,CAAU,CAAV,EAAa0B,GAAG,CAACqB,MAAJ,GAAa4+M,SAAS,CAAC,CAAD,CAAT,CAAa5+M,MAAvC,CAAH,GAAoDrB,GAA5E,CAAf;AACA,WAAOsQ,MAAM,GAAGA,MAAM,CAAChS,KAAP,CAAa,CAAb,EAAgBC,MAAhB,CAAuB0hN,SAAS,GAAGA,SAAS,CAAC,CAAD,CAAZ,GAAkB18M,SAAlD,CAAH,GAAkE,EAA/E;AACA;;AAEDw0H,iBAAA,CAA4B,aAA5B,EACC,+DADD,EAEC,CAACzB,OAAD,EAAUt2H,GAAV,KAAkB;AACjB,UAAM,CAAC+7E,SAAD,EAAYkV,KAAZ,EAAmB7xD,GAAnB,IAA0B4gL,qBAAqB,CAAChgN,GAAD,CAArD;;AACA,QAAI,CAAC+7E,SAAL,EAAgB,CAEf,CAFD,MAEO,IAAI38C,GAAJ,EAAS;AACf,aAAQ,QAAOA,GAAI,UAAS28C,SAAU,KAAIkV,KAAK,IAAI,EAAG,EAAtD;AACA,KAFM,MAEA,IAAIA,KAAJ,EAAW;AACjB,aAAQ,cAAalV,SAAU,KAAIkV,KAAM,EAAzC;AACA,KAFM,MAEA,IAAIlV,SAAJ,EAAe;AACrB,aAAQ,cAAaA,SAAU,EAA/B;AACA;AACD,GAbF,EAcC,CAACu6C,OAAD,EAAUt2H,GAAV,KAAkB;AACjB,UAAM,CAAC+7E,SAAD,EAAYkV,KAAZ,EAAmB7xD,GAAnB,IAA0B4gL,qBAAqB,CAAChgN,GAAD,CAArD;AAEA,UAAMkgN,QAAQ,GAAGnkI,SAAS,GACzBz9D,sBAAM,CAACsgE,MAAO,MAAK7C,SAAU,iBAAgBkV,KAAK,IAAI,EAAG,QAAO7xD,GAAG,IAAI,EAAG,EADjD,GAEzB,SAFD;AAIAphC,UAAM,CAAC8T,QAAP,GAAkBouM,QAAlB;AACA,GAtBF;AAwBA;;AAED,SAASC,iBAAT,CAA2BrzE,EAA3B,EAA+B1tG,GAA/B,EAAoC6L,IAApC,EAA0C;AACzCo0K,gBAAc,GACZ3xM,IADF,CACO,gBADP,EACyBuB,IADzB,CAC8B,MAD9B,EACuC,MAAK69H,EAAG,EAD/C,EACkD3sI,IADlD,CACwD,MAAK2sI,EAAG,EADhE,EACmErqI,GADnE,GAEEiL,IAFF,CAEO,UAFP,EAEmBuB,IAFnB,CAEwB,MAFxB,EAEgCqP,sBAAM,CAACsgE,MAAO,MAAKkuD,EAAG,iDAAgD1tG,GAAI,EAF1G,EAE6G38B,GAF7G,GAGEiL,IAHF,CAGO,OAHP,EAGgBvN,IAHhB,CAGsB,IAAG2kF,IAAI,CAAC,qBAAD,EAAwB6V,cAAc,CAAC1vD,IAAD,CAAtC,CAA8C,GAH3E,EAG+ExoC,GAH/E,GAIEu1B,MAJF,CAIS,GAJT;AAKA;;AAED,SAASooL,iBAAT,GAA6B;AAC5Bf,gBAAc,GAAGpnL,OAAjB,CAAyB,GAAzB;AACA;;AAED,eAAeynL,mBAAf,GAAqC;AACpC,MAAI,CAACJ,QAAQ,CAACv6M,KAAd,EAAqB;AACrB,QAAMs7M,UAAU,GAAG,qEAAnB;AACA,QAAMtkI,SAAS,GAAGwjI,OAAO,CAACx6M,KAA1B;AACA,QAAMkF,KAAK,GAAGo2M,UAAU,CAAC/1M,IAAX,CAAgBg1M,QAAQ,CAACv6M,KAAzB,CAAd;;AAEA,MAAIg3E,SAAS,IAAI9xE,KAAjB,EAAwB;AACvB,UAAM,GAAGq2M,OAAH,IAAcr2M,KAApB;;AACA,QAAI;AACH,YAAM;AAAE6U;AAAF,UAAY,MAAMkhB,IAAI,CAAC;AAC5BZ,WAAG,EAAE9gB,sBAAM,CAACsgE,MAAO,MAAK7C,SAAU,cADN;AAE5B8G,aAAK,EAAE;AACN09H,qBAAW,EAAE,IADP;AAEN79M,cAAI,EAAE,WAFA;AAGNmyF,eAAK,EAAE,CAHD;AAIN5uC,WAAC,EAAG,OAAMq6J,OAAQ;AAJZ,SAFqB;AAQ5B/gN,YAAI,EAAE;AARsB,OAAD,CAA5B;;AAWA,UAAIuf,IAAI,IAAIA,IAAI,CAAC3H,QAAL,CAAc9V,MAAtB,IAAiCyd,IAAI,CAAC3H,QAAL,CAAc,CAAd,EAAiB2H,IAAjB,CAAsBsgB,GAAtB,CAA0Bn1B,KAA1B,CAAgCo2M,UAAhC,CAAD,CAAmD,CAAnD,MAA0DC,OAA9F,EAAuG;AACtGH,yBAAiB,CAACpkI,SAAD,EAAYukI,OAAZ,EAAqB,IAAIj6M,IAAJ,CAASyY,IAAI,CAAC3H,QAAL,CAAc,CAAd,EAAiB2H,IAAjB,CAAsBo8J,WAAtB,GAAoC,IAA7C,CAArB,CAAjB;AACA,OAFD,MAEO;AACNklC,yBAAiB;AACjB;AACD,KAjBD,CAiBE,OAAOx2M,CAAP,EAAU;AACXw2M,uBAAiB;AACjB,YAAMx2M,CAAN;AACA;AACD,GAvBD,MAuBO;AACNw2M,qBAAiB;AACjB;AACD,C;;AC1LD;AACA;AACA;AACA;AAYA;AACA;AACA;AACA;AACA;AAEO,MAAMziN,oBAAiB,GAAG,IAAIirH,MAAJ,CAAW,eAAX,CAA1B;AAEPjrH,oBAAM,CAACkrH,UAAP,GAAoB,mBAApB;AACAlrH,oBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,oBAAM,CAAC4jG,WAAP,GAAqB,mBAArB;AACA5jG,oBAAM,CAACkF,OAAP,GAAiB;AAChB29M,mBAAiB,EAAE;AAClBvvH,SAAK,EAAE,qCADW;AAElB1xF,QAAI,EAAE,SAFY;AAGlBwF,SAAK,EAAE,IAHW;AAIlBw8F,eAAW,EAAE;AAJK,GADH;AAOhBq5E,YAAU,EAAE;AACX3pF,SAAK,EAAE,8BADI;AAEX1xF,QAAI,EAAE,MAFK;AAGXwF,SAAK,EAAE,KAHI;AAIXw8F,eAAW,EAAE,6BAJF;AAKXq2B,YAAQ,EAAE;AALC,GAPI;AAchBtG,WAAS,EAAE;AACVrgC,SAAK,EAAE,6BADG;AAEV1xF,QAAI,EAAE,MAFI;AAGVwF,SAAK,EAAE,KAHG;AAIVw8F,eAAW,EAAE,4BAJH;AAKVq2B,YAAQ,EAAE;AALA,GAdK;AAqBhBrG,WAAS,EAAE;AACVtgC,SAAK,EAAE,6BADG;AAEV1xF,QAAI,EAAE,MAFI;AAGVwF,SAAK,EAAE,KAHG;AAIVw8F,eAAW,EAAE,4BAJH;AAKVq2B,YAAQ,EAAE;AALA;AArBK,CAAjB;;AA8BAj6H,oBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,QAAM6/H,YAAY,GAAG,CACpB,aADoB,EAEpB,yBAFoB,EAGpB,oBAHoB,EAIpB,gDAJoB,EAKpB,mDALoB,EAMpB,8BANoB,EAOpB,CAAC9iN,oBAAM,CAACkF,OAAP,CAAe29M,iBAAf,CAAiCz7M,KAAlC,IAA2C,8BAPvB,EAQnByI,MARmB,CAQZw1D,CAAC,IAAIA,CARO,EAQJl4D,IARI,CAQC,IARD,CAArB;AAUA4mH,UAAA,CAAe/zH,oBAAM,CAAC2nH,QAAtB,EACEziH,OADF,CACU;AACR+rB,SAAK,EAAE,GADC;AAERyiG,aAAS,EAAEniG,UAAU,CAACvxB,oBAAM,CAACkF,OAAP,CAAe+3K,UAAf,CAA0B71K,KAA3B,CAFb;AAGRusH,aAAS,EAAEpiG,UAAU,CAACvxB,oBAAM,CAACkF,OAAP,CAAeyuH,SAAf,CAAyBvsH,KAA1B,CAHb;AAIRwsH,aAAS,EAAEriG,UAAU,CAACvxB,oBAAM,CAACkF,OAAP,CAAe0uH,SAAf,CAAyBxsH,KAA1B;AAJb,GADV,EAOEyuH,YAPF,CAOektF,iBAPf,EAQE7sF,KARF,CAQQ4sF,YARR;AASA,CApBD;;AAsBA,eAAeC,iBAAf,CAAiCnwD,IAAjC,EAAuC;AACtC,QAAMtmJ,KAAK,GAAGgxE,OAAO,CAACc,SAAR,CAAkBzxE,IAAlB,CAAuBimJ,IAAI,CAACx9B,gBAAL,GAAwB/1C,QAA/C,CAAd;AACA,QAAM,GAAGjB,SAAH,IAAgB9xE,KAAK,IAAI,EAA/B;AAGA,MAAI,CAAC8xE,SAAD,IAAc8gB,eAAe,CAAC9gB,SAAD,CAAjC,EAA8C;AAE9C,QAAMq+C,MAAM,GAAG97G,sBAAM,CAAC+N,IAAK,oBAAmB0vD,SAAU,QAAOA,SAAU,YAAzE;AAEA,QAAM38C,GAAG,GAAI,MAAK28C,SAAS,CAAC32E,WAAV,EAAwB,aAA1C;AACA,MAAIu7M,QAAJ;;AAEA,MAAI;AACHA,YAAQ,GAAI,MAAM3gL,IAAI,CAAC;AAAEZ,SAAF;AAAO7/B,UAAI,EAAE,MAAb;AAAqBkhF,cAAQ,EAAE7L,IAAIA;AAAnC,KAAD,CAAtB;AACA,GAFD,CAEE,OAAOhrE,CAAP,EAAU;AACX,WAAO,CAAC,IAAD,EAAOk7E,IAAI,CAAC,wCAAD,CAAX,CAAP;AACA;;AAED,MAAI67H,QAAQ,CAACvzD,IAAT,KAAkB,IAAtB,EAA4B;AAC3B,WAAO,CAAC,IAAD,EAAOtoE,IAAI,CAAC,gCAAD,CAAX,CAAP;AACA;;AAED,MAAItF,YAAY,EAAhB,EAAoB;AACnB,UAAMj4D,MAAM,GAAGouE,6BAAa,CAAC+L,iBAAd,CACd5c,IAAI,CAAC,wBAAD,CADU,EAEd,EAFc,EAGd,MAAM,CAAC,CAAC67H,QAAQ,CAAC7hM,IAAT,CAAc8hM,kBAHR,EAIdnmM,KAAK,IAAI;AACRwpL,0BAAA,CAAsC0c,QAAQ,CAAC7hM,IAAT,CAAchc,IAApD,EAA0D2X,KAA1D;AACAulB,UAAI,CAAC4iD,UAAL,CAAgB;AAAExjD;AAAF,OAAhB;AACA,KAPa,CAAf;AASA7X,UAAM,CAAC1G,KAAP,CAAa2N,UAAb,GAA0B,MAA1B;AACA4rG,UAAM,CAAC75H,WAAP,CAAmBgnB,MAAnB;;AAEA,QAAIuoG,iBAAA,CAAkBm0E,gCAAlB,CAAJ,EAAyC;AACxCA,oBAAA,CAAgC0c,QAAQ,CAAC7hM,IAAT,CAAcwhL,YAA9C,EAA4DjmL,IAA5D,CAAiEV,CAAC,IAAIwtB,gBAAC,CAAC5f,MAAD,CAAD,CAAU4F,KAAV,CAAgBxT,CAAhB,CAAtE;AACA;AACD;;AAED,QAAM+xB,CAAC,GAAG,IAAIrlC,IAAJ,CAASs6M,QAAQ,CAAC7hM,IAAT,CAAco8J,WAAd,GAA4B,IAArC,CAAV;AAEA,QAAM11D,QAAQ,GAAGr+E,gBAAC,CAAC7oB,sBAAM,CAAC+N,IAAK;;iCAECy4D,IAAI,CAAC,+BAAD,CAAkC,uCAAsC2V,UAAU,CAAC/uD,CAAD,CAAI,KAAIivD,cAAc,CAACjvD,CAAD,CAAI;iCAChHo5C,IAAI,CAAC,0BAAD,CAA6B,uCAAsC0V,YAAY,CAACmmH,QAAQ,CAAC7hM,IAAT,CAAc+hM,WAAf,CAA4B;iCAC/G/7H,IAAI,CAAC,oBAAD,CAAuB,uCAAsC67H,QAAQ,CAAC7hM,IAAT,CAAcmyE,KAAM;iCACrFnM,IAAI,CAAC,qBAAD,CAAwB,uCAAsC67H,QAAQ,CAAC7hM,IAAT,CAAcgiM,MAAd,GAAuBh8H,IAAI,CAAC,KAAD,CAA3B,GAAqCA,IAAI,CAAC,IAAD,CAAO;;;;;;EALhI,CAAlB;;AAaA,MAAIgrC,SAAA,CAAkBm0E,gCAAlB,CAAJ,EAAyC;AACxCz+E,YAAQ,CAAC93G,IAAT,CAAc,oBAAd,EAAoCqf,MAApC,CAA2Ck3K,0BAAA,CAA4CloH,SAA5C,CAA3C;AACA;;AAED,MAAI+zC,iBAAA,CAAkBixF,iCAAlB,CAAJ,EAAkC;AACjCv7F,YAAQ,CAAC93G,IAAT,CAAc,oBAAd,EAAoCqf,MAApC,CAA2Cg0L,2BAAA,CAAsChlI,SAAtC,CAA3C;AACA;;AAED,MAAI+zC,iBAAA,CAAkBigC,2BAAlB,CAAJ,EAAoC;AACnC,UAAMxoI,MAAM,GAAGouE,6BAAa,CAAC+L,iBAAd,CACd5c,IAAI,CAAC,8BAAD,CADU,EAEdA,IAAI,CAAC,qCAAD,CAFU,EAGd,MAAMirE,WAAA,CAAwBzyE,UAAxB,CAAmC+8E,cAAnC,CAAkDt+E,SAAlD,CAHQ,EAIdthE,KAAK,IAAIs1I,WAAA,CAAwBzyE,UAAxB,CAAmCg9E,YAAnC,CAAgDv+E,SAAhD,EAA2DthE,KAA3D,CAJK,CAAf;AAMA+qG,YAAQ,CAAC93G,IAAT,CAAc,oBAAd,EAAoCqf,MAApC,CAA2CxF,MAA3C;AACA;;AAED,SAAO,CAAC6yG,MAAD,EAAS5U,QAAT,CAAP;AACA,C;;ACxJD;AACA;AACA;AAEO,MAAM7nH,sBAAiB,GAAG,IAAIirH,MAAJ,CAAW,iBAAX,CAA1B;AAEPjrH,sBAAM,CAACkrH,UAAP,GAAoB,qBAApB;AACAlrH,sBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,sBAAM,CAAC4jG,WAAP,GAAqB,qBAArB;AACA5jG,sBAAM,CAACkF,OAAP,GAAiB;AAChBm+M,YAAU,EAAE;AACX/vH,SAAK,EAAE,gCADI;AAEX1xF,QAAI,EAAE,OAFK;AAGXs6H,cAAU,EAAE,UAHD;AAIX/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,WADG;AAERvI,UAAI,EAAE,WAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,eADH;AAEFvI,UAAI,EAAE,eAFJ;AAGFvD,UAAI,EAAE;AAHJ,KAJK,EAQL;AACF8L,SAAG,EAAE,KADH;AAEFvI,UAAI,EAAE,KAFJ;AAGFvD,UAAI,EAAE;AAHJ,KARK,CAJG;AAiBXwF,SAAK,EAAG,EAjBG;AAkBXw8F,eAAW,EAAE;AAlBF;AADI,CAAjB;AAuBA,MAAM0/G,gBAAgB,GAAG,IAAI9/H,GAAJ,EAAzB;AACA,MAAM+/H,UAAU,GAAG,IAAI//H,GAAJ,EAAnB;;AAEAxjF,sBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI,CAAC/rH,sBAAM,CAACkF,OAAP,CAAem+M,UAAf,CAA0Bj8M,KAA1B,CAAgC1D,MAArC,EAA6C;;AAE7C,OAAK,MAAM,CAAC06E,SAAD,EAAYolI,aAAZ,EAA2BC,OAA3B,CAAX,IAAkDzjN,sBAAM,CAACkF,OAAP,CAAem+M,UAAf,CAA0Bj8M,KAA5E,EAAmF;AAClFk8M,oBAAgB,CAACpiM,GAAjB,CAAqBk9D,SAAS,CAAC32E,WAAV,EAArB,EAA8C+7M,aAA9C;AACAD,cAAU,CAACriM,GAAX,CAAek9D,SAAS,CAAC32E,WAAV,EAAf,EAAwCg8M,OAAxC;AACA;;AAEDrjH,gBAAc,CAAC,CAAC,MAAD,CAAD,EAAWsjH,SAAX,CAAd;AACA,CATD;;AAWA,SAASA,SAAT,CAAmBvzH,KAAnB,EAA0B;AACzB,QAAMwzH,QAAQ,GAAGpwK,MAAM,CAAC48C,KAAD,CAAvB;;AACA,MAAIwzH,QAAQ,KAAK/9M,SAAjB,EAA4B;AAC3B,UAAMg+M,OAAO,GAAGp6K,gBAAC,CAAC,QAAD,CAAD,CAAYpa,MAAZ,CAAmBwxD,UAAU,CAAC+iI,QAAD,CAA7B,EAAyCv0L,MAAzC,CAAgD,QAAhD,CAAhB;AACAoa,oBAAC,CAAC2mD,KAAK,CAACqC,eAAN,EAAD,CAAD,CAA2Bn/E,MAA3B,GAAoCgc,OAApC,CAA4Cu0L,OAA5C;AACA;AACD;;AAED,SAASrwK,MAAT,CAAgB48C,KAAhB,EAAuB;AACtB,MAAI0zH,MAAM,GAAG,KAAb;AAEA,QAAMC,aAAa,GAAG,CAAC3zH,KAAK,CAAC4D,YAAN,MAAwB,EAAzB,EAA6BtsF,WAA7B,EAAtB;;AACA,MAAIq8M,aAAa,IAAIP,UAAU,CAAC5pM,GAAX,CAAemqM,aAAf,CAArB,EAAoD;AACnD,QAAIC,UAAU,GAAGT,gBAAgB,CAAC1/M,GAAjB,CAAqBkgN,aAArB,CAAjB;;AACA,QAAIC,UAAU,KAAKn+M,SAAf,IAA4Bm+M,UAAU,KAAK,EAA/C,EAAmD;AAClDA,gBAAU,GAAI,IAAGD,aAAc,GAA/B;AACAR,sBAAgB,CAACpiM,GAAjB,CAAqB4iM,aAArB,EAAoCC,UAApC;AACA;;AACDF,UAAM,GAAG1zH,KAAK,CAACoC,QAAN,GAAiB3wC,QAAjB,CAA0BmiK,UAA1B,KACR5zH,KAAK,CAACuE,gBAAN,GAAyB9yC,QAAzB,CAAkCmiK,UAAlC,CADD;AAEA;;AAED,MAAI,CAACF,MAAL,EAAa;AACZ,WAAON,UAAU,CAAC3/M,GAAX,CAAekgN,aAAf,CAAP;AACA;AACD,C;;ACvED;AACA;AACA;AAEO,MAAM9jN,iBAAiB,GAAG,IAAIirH,MAAJ,CAAW,YAAX,CAA1B;AAEPjrH,iBAAM,CAACkrH,UAAP,GAAoB,gBAApB;AACAlrH,iBAAM,CAACmrH,QAAP,GAAkB,sBAAlB;AACAnrH,iBAAM,CAAC4jG,WAAP,GAAqB,gBAArB;AACA5jG,iBAAM,CAACkF,OAAP,GAAiB;AAChBH,MAAI,EAAE;AACLuuF,SAAK,EAAE,qBADF;AAEL1xF,QAAI,EAAE,SAFD;AAGLwF,SAAK,EAAE,IAHF;AAILw8F,eAAW,EAAE,oBAJR;AAKL0nB,aAAS,EAAE;AALN;AADU,CAAjB;;AAUAtrH,iBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B,MAAIjjF,iBAAM,CAACkF,OAAP,CAAeH,IAAf,CAAoBqC,KAAxB,EAA+B;AAC9BoiC,oBAAC,CAACtpC,QAAQ,CAACkkB,IAAV,CAAD,CAAiBgD,EAAjB,CAAoB,OAApB,EAA6B,+BAA7B,EAA8Du8G,qBAAK,CAAC37B,YAApE;AACA;AACD,CAJD,C;;ACnBA;AACA;AACA;AAEO,MAAMhoG,6BAAiB,GAAG,IAAIirH,MAAJ,CAAW,wBAAX,CAA1B;AACPjrH,6BAAM,CAACkrH,UAAP,GAAoB,4BAApB;AACAlrH,6BAAM,CAACmrH,QAAP,GAAkB,kBAAlB;AACAnrH,6BAAM,CAAC4jG,WAAP,GAAqB,4BAArB;AACA5jG,6BAAM,CAACkF,OAAP,GAAiB;AAChB6X,QAAM,EAAE;AACPnb,QAAI,EAAE,SADC;AAEPwF,SAAK,EAAE,KAFA;AAGPw8F,eAAW,EAAE,kCAHN;AAIPtQ,SAAK,EAAE;AAJA;AADQ,CAAjB;AAQAtzF,6BAAM,CAACurH,OAAP,GAAiB,CAChB,4BADgB,CAAjB;;AAIAvrH,6BAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3B+gI,WAAS;AACT,CAFD;;AAIA,SAASA,SAAT,GAAqB;AACpB,QAAMC,YAAY,GAAGjkN,6BAAM,CAACkF,OAAP,CAAe6X,MAAf,CAAsB3V,KAAtB,GAA8B88M,cAA9B,GAA+CC,qBAApE;;AACA,OAAK,MAAMrjB,MAAX,IAAyC5gM,QAAQ,CAACmN,gBAAT,CAA0B,kCAA1B,CAAzC,EAA8G;AAC7G,UAAM+2M,IAAI,GAAGtjB,MAAM,CAAChnL,OAAP,CAAe,MAAf,CAAb;AACA,QAAI,CAACsqM,IAAL,EAAW;AACX,UAAM;AAAEj/M,UAAF;AAAQiC;AAAR,QAAkBqwE,QAAQ,CAAC2sI,IAAI,CAACvrI,aAAL,CAAmB,OAAnB,CAAD,EAA8BsJ,gBAA9B,CAAhC;;AACA,QAAIh9E,IAAI,IAAIiC,KAAZ,EAAmB;AAClB68M,kBAAY,CAACnjB,MAAD,EAAS37L,IAAT,EAAeiC,KAAf,CAAZ;AACA;AACD;AACD;;AAED,SAAS88M,cAAT,CAAwBpjB,MAAxB,EAAgC37L,IAAhC,EAAsCiC,KAAtC,EAA6C;AAE5C05L,QAAM,CAAC5iH,MAAP,GAAiB,IAAG/4E,IAAK,IAAGiC,KAAM,EAAlC;AACA05L,QAAM,CAACvzL,eAAP,CAAuB,SAAvB;AACA;;AAED,SAAS42M,qBAAT,CAA+BrjB,MAA/B,EAAuC37L,IAAvC,EAA6CiC,KAA7C,EAAoD;AACnD,QAAMq6B,GAAG,GAAG,IAAIgmC,GAAJ,CAAQq5H,MAAM,CAACxsL,IAAf,CAAZ;AACAmtB,KAAG,CAAC4jD,YAAJ,CAAiBnkE,GAAjB,CAAqB/b,IAArB,EAA2BiC,KAA3B;AACA,QAAMk+D,IAAI,GAAG3kD,sBAAM,CAAC+N,IAAK;yCACe+S,GAAG,CAACntB,IAAK,KAAI6yE,IAAI,CAAC,mCAAD,CAAsC;EAD/F;AAGA7hB,MAAI,CAAC/1D,gBAAL,CAAsB,OAAtB,EAAgCtD,CAAD,IAAmBA,CAAC,CAACud,eAAF,EAAlD;AACAs3K,QAAM,CAACl+L,WAAP,CAAmB0iE,IAAnB;AACA,C;;AClDD;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMtlE,mBAAiB,GAAG,IAAIirH,MAAJ,CAAW,cAAX,CAA1B;AAEPjrH,mBAAM,CAACkrH,UAAP,GAAoB,kBAApB;AACAlrH,mBAAM,CAAC4jG,WAAP,GAAqB,kBAArB;AACA5jG,mBAAM,CAACmrH,QAAP,GAAkB,mBAAlB;AACAnrH,mBAAM,CAAC4rH,iBAAP,GAA2B,IAA3B;AAEA5rH,mBAAM,CAACkF,OAAP,GAAiB;AAChBm/M,cAAY,EAAE;AACb/wH,SAAK,EAAE,+BADM;AAEb1xF,QAAI,EAAE,MAFO;AAGb2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,SADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,QADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,CAHK;AAUbA,SAAK,EAAE,SAVM;AAWbw8F,eAAW,EAAE;AAXA,GADE;AAchB0gH,mBAAiB,EAAE;AAClBhxH,SAAK,EAAE,oCADW;AAElB1xF,QAAI,EAAE,MAFY;AAGlB2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,SADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,QADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,CAHU;AAUlBA,SAAK,EAAE,SAVW;AAWlBw8F,eAAW,EAAE,mCAXK;AAYlBq2B,YAAQ,EAAE;AAZQ;AAdH,CAAjB;AA8BA,IAAI0sE,oBAAJ,EAAa4d,cAAb;;AAEAvkN,mBAAM,CAACijF,YAAP,GAAsB,MAAM;AAC3BuhI,cAAY;AACZ,CAFD;;AAIA,SAASA,YAAT,GAAwB;AACvB7d,sBAAO,GAAGzmM,QAAQ,CAAC0M,cAAT,CAAwB,qBAAxB,CAAV;;AACA,MAAI+5L,oBAAJ,EAAa;AACZ,QAAI3mM,mBAAM,CAACkF,OAAP,CAAeo/M,iBAAf,CAAiCl9M,KAAjC,KAA2C,SAA3C,IAAwDpH,mBAAM,CAACkF,OAAP,CAAem/M,YAAf,CAA4Bj9M,KAA5B,KAAsC,QAAlG,EAA4G;AAC3Gq9M,qBAAe;AACf;;AACD,QAAIzkN,mBAAM,CAACkF,OAAP,CAAem/M,YAAf,CAA4Bj9M,KAA5B,KAAsC,QAA1C,EAAoD;AACnDs9M,mBAAa;AACblmF,oCAAA,CAA+B;AAC9B7W,gBAAQ,EAAE3nH,mBAAM,CAAC2nH,QADa;AAE9BsK,iBAAS,EAAE,cAFmB;AAG9BmL,gBAAQ,EAAE,KAAK,EAAL,GAAU,EAAV,GAAe,IAHK;AAI9BX,cAAM,EAAEt1C,IAAI,CAAC,2BAAD,CAJkB;AAK9B9nE,eAAO,EAAE8nE,IAAI,CAAC,uCAAD,EAA0C,GAA1C;AALiB,OAA/B;AAOA;AACD;AACD;;AAED,SAASw9H,aAAT,GAAyB;AACxB3kN,qBAAM,CAACkF,OAAP,CAAem/M,YAAf,CAA4Bj9M,KAA5B,GAAoCpH,mBAAM,CAACkF,OAAP,CAAem/M,YAAf,CAA4Bj9M,KAA5B,KAAsC,QAAtC,GAAiD,SAAjD,GAA6D,QAAjG;AACAwuH,cAAA,CAAa51H,mBAAM,CAACkF,OAAP,CAAem/M,YAA5B;AACAK,eAAa;AACb;;AAED,SAASA,aAAT,GAAyB;AACxB,QAAME,aAAa,GAAI5kN,mBAAM,CAACkF,OAAP,CAAem/M,YAAf,CAA4Bj9M,KAA5B,KAAsC,QAA7D;AAEAy9M,oBAAkB,CAACD,aAAD,CAAlB;AACAE,8BAA4B,CAACF,aAAD,CAA5B;AACA;;AAED,SAASH,eAAT,GAA2B;AAC1BF,gBAAc,GAAG/6K,gBAAC,CAAC,OAAD,EAAU;AAC3B38B,MAAE,EAAE,eADuB;AAE3BymF,SAAK,EAAEnM,IAAI,CAAC,2BAAD,CAFgB;AAG3B98D,SAAK,EAAE,MAAMs6L,aAAa;AAHC,GAAV,CAAD,CAId/0L,SAJc,CAIJ+2K,oBAJI,CAAjB;AAMAzmM,UAAQ,CAAC24E,aAAT,CAAuB,sBAAvB,EAA+C6H,SAA/C,CAAyDzmE,GAAzD,CAA6D,oBAA7D;AAEA4qM,oBAAkB,CAAC,KAAD,CAAlB;AACA;;AAED,SAASA,kBAAT,CAA4BD,aAA5B,EAA2C;AAC1CL,gBAAc,CACZ/nL,WADF,CACc,aADd,EAC6B,CAACooL,aAD9B,EAEEpoL,WAFF,CAEc,aAFd,EAE6BooL,aAF7B,EAGEl2L,IAHF,CAGOk2L,aAAa,GAAG,SAAH,GAAe,SAHnC;AAIA;;AAED,SAASE,4BAAT,CAAsCF,aAAtC,EAAqD;AACpD/sH,6BAAW,CAACpzE,MAAZ,CAAmBmgM,aAAnB,EAAkC,kBAAlC;AACA,C;;;;;;;ACvGD;AAEA;AACA;AACA;AACA;AAMO,MAAM5kN,cAAiB,GAAG,IAAIirH,MAAJ,CAAW,SAAX,CAA1B;AAEPjrH,cAAM,CAACkrH,UAAP,GAAoB,aAApB;AACAlrH,cAAM,CAACmrH,QAAP,GAAkB,eAAlB;AACAnrH,cAAM,CAAC4jG,WAAP,GAAqB,aAArB;AACA5jG,cAAM,CAAC6rH,aAAP,GAAuB,IAAvB;AACA7rH,cAAM,CAAC82B,MAAP,GAAgB,IAAhB;AAEA,MAAMiuL,qBAAqB,GAAG,mDAA9B;;AAEA/kN,cAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzBi5F,mBAAiB;AACjB,CAFD;;AAIAhlN,cAAM,CAACy4F,EAAP,GAAY,MAAM;AACjBwsH,eAAa;AACb,CAFD;;AAIAjlN,cAAM,CAACgsH,SAAP,GAAmB,MAAM;AACxBk5F,yBAAuB;AACvB,CAFD;;AAIA,SAASF,iBAAT,GAA6B;AAC5BntH,6BAAW,CAAC59E,GAAZ,CAAgB,KAAhB;AACA,QAAMkrM,iBAAiB,GAAGlpE,gBAAA,CAAiBz0I,KAAjB,CAAuB,GAAvB,CAA1B;;AACA,OAAK,MAAMpF,CAAX,IAAgBklF,KAAK,CAAC,CAAD,EAAI69H,iBAAiB,CAACzhN,MAAtB,CAArB,EAAoD;AACnDm0F,+BAAW,CAAC59E,GAAZ,CAAiB,QAAOkrM,iBAAiB,CAACxkN,KAAlB,CAAwB,CAAxB,EAA2ByB,CAAC,GAAG,CAA/B,EAAkC+K,IAAlC,CAAuC,GAAvC,CAA4C,EAApE;AACA;AACD;;AAED,SAAS83M,aAAT,GAAyB;AAExBz7K,kBAAC,CAAC,OAAD,EAAU;AACV38B,MAAE,EAAE,mBADM;AAEVqW,SAAK,EAAE,gBAFG;AAGV1gB,QAAI,EAAEy5I,gBAHI;AAIV,eAAWt2D,cAAc;AAJf,GAAV,CAAD,CAKGh2D,QALH,CAKYzvB,QAAQ,CAACkkB,IALrB;AAMA;;AAED,SAAS8gM,uBAAT,GAAmC;AAClC,QAAME,QAAQ,GAAG1/M,KAAK,CAACwsE,IAAN,CAAWhyE,QAAQ,CAACmN,gBAAT,CAA0B,oBAA1B,CAAX,CAAjB;;AAEA,QAAMg4M,kBAAkB,GAAG,iBAASD,QAAT,EAAmBn5M,CAAC,IAAIA,CAAC,CAACxJ,YAAF,CAAe,SAAf,KAA6BqD,IAAI,CAACC,MAAL,EAArD,EACzB1B,GADyB,CACrB4H,CAAC,IAAIA,CAAC,CAAC6F,WADc,CAA3B;;AAGA,MAAIuzM,kBAAkB,CAAC3hN,MAAnB,GAA4B,CAAhC,EAAmC;AAClCm0F,+BAAW,CAAC59E,GAAZ,CAAgB,yBAAhB;AACA/Z,YAAQ,CAACkkB,IAAT,CAAcxhB,WAAd,CAA0B+d,sBAAM,CAAC+N,IAAK;;;;OAIjC22L,kBAAkB,CAAChhN,GAAnB,CAAuB2X,CAAC,IAAI2E,sBAAM,CAACghE,KAAM;YACpC3lE,CAAE;MADP,CAEC;;8CAEsC+oM,qBAAsB;;GARlE;AAWA;AACD,C;;;;;;;;;ACtED;AACA;AASO,MAAM/kN,uBAAiB,GAAG,IAAIirH,MAAJ,CAAW,kBAAX,CAA1B;AAEPjrH,uBAAM,CAACkrH,UAAP,GAAoB,sBAApB;AACAlrH,uBAAM,CAACmrH,QAAP,GAAkB,oBAAlB;AACAnrH,uBAAM,CAAC4jG,WAAP,GAAqB,sBAArB;AACA5jG,uBAAM,CAACkF,OAAP,GAAiB;AAChBogN,iBAAe,EAAE;AAChBhyH,SAAK,EAAE,sCADS;AAEhB1xF,QAAI,EAAE,SAFU;AAGhBwF,SAAK,EAAE,IAHS;AAIhBw8F,eAAW,EAAE,qCAJG;AAKhB0nB,aAAS,EAAE;AALK,GADD;AAQhBi6F,gBAAc,EAAE;AACfjyH,SAAK,EAAE,qCADQ;AAEf1xF,QAAI,EAAE,MAFS;AAGf2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,eADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,sBADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,yBADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,CAHO;AAafA,SAAK,EAAE,MAbQ;AAcfw8F,eAAW,EAAE,oCAdE;AAef0nB,aAAS,EAAE;AAfI,GARA;AAyBhBk6F,2BAAyB,EAAE;AAC1BlyH,SAAK,EAAE,gDADmB;AAE1BguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACqgN,cAAR,CAAuBn+M,KAAvB,KAAiC,MAF7B;AAG1BxF,QAAI,EAAE,OAHoB;AAI1Bs6H,cAAU,EAAE,gBAJc;AAK1B/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,OADG;AAERvI,UAAI,EAAE,OAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,OADH;AAEFvI,UAAI,EAAE,OAFJ;AAGFvD,UAAI,EAAE;AAHJ,KAJK,CALkB;AAc1BwF,SAAK,EAAE,CACN,CAAC,CAAD,EAAI,SAAJ,CADM,EAEN,CAAC,EAAD,EAAK,SAAL,CAFM,EAGN,CAAC,EAAD,EAAK,SAAL,CAHM,EAIN,CAAC,GAAD,EAAM,SAAN,CAJM,CAdmB;AAoB1Bw8F,eAAW,EAAE,+CApBa;;AAqB1B7+F,QAAI,CAAC,CAACqE,CAAD,CAAD,EAAM,CAACC,CAAD,CAAN,EAAW;AACd,aAAO6B,MAAM,CAAC9B,CAAD,CAAN,CAAUs+F,aAAV,CAAwBr+F,CAAxB,EAA2BzD,SAA3B,EAAsC;AAAEswE,eAAO,EAAE;AAAX,OAAtC,CAAP;AACA;;AAvByB,GAzBX;AAkDhBuvI,mBAAiB,EAAE;AAClBnyH,SAAK,EAAE,wCADW;AAElB1xF,QAAI,EAAE,MAFY;AAGlB2iB,UAAM,EAAE,CAAC;AACRpf,UAAI,EAAE,eADE;AAERiC,WAAK,EAAE;AAFC,KAAD,EAGL;AACFjC,UAAI,EAAE,sBADJ;AAEFiC,WAAK,EAAE;AAFL,KAHK,EAML;AACFjC,UAAI,EAAE,gBADJ;AAEFiC,WAAK,EAAE;AAFL,KANK,EASL;AACFjC,UAAI,EAAE,yBADJ;AAEFiC,WAAK,EAAE;AAFL,KATK,CAHU;AAgBlBA,SAAK,EAAE,MAhBW;AAiBlBw8F,eAAW,EAAE;AAjBK,GAlDH;AAqEhB8hH,8BAA4B,EAAE;AAC7BpyH,SAAK,EAAE,mDADsB;AAE7BguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAACugN,iBAAR,CAA0Br+M,KAA1B,KAAoC,MAF7B;AAG7BxF,QAAI,EAAE,OAHuB;AAI7Bs6H,cAAU,EAAE,gBAJiB;AAK7B/9B,UAAM,EAAE,CAAC;AACRzwF,SAAG,EAAE,OADG;AAERvI,UAAI,EAAE,OAFE;AAGRvD,UAAI,EAAE;AAHE,KAAD,EAIL;AACF8L,SAAG,EAAE,OADH;AAEFvI,UAAI,EAAE,OAFJ;AAGFvD,UAAI,EAAE;AAHJ,KAJK,CALqB;AAc7BwF,SAAK,EAAE,CACN,CAAC,CAAD,EAAI,SAAJ,CADM,EAEN,CAAC,EAAD,EAAK,SAAL,CAFM,EAGN,CAAC,EAAD,EAAK,SAAL,CAHM,EAIN,CAAC,GAAD,EAAM,SAAN,CAJM,CAdsB;AAoB7Bw8F,eAAW,EAAE,kDApBgB;;AAqB7B7+F,QAAI,CAAC,CAACqE,CAAD,CAAD,EAAM,CAACC,CAAD,CAAN,EAAW;AACd,aAAO6B,MAAM,CAAC9B,CAAD,CAAN,CAAUs+F,aAAV,CAAwBr+F,CAAxB,EAA2BzD,SAA3B,EAAsC;AAAEswE,eAAO,EAAE;AAAX,OAAtC,CAAP;AACA;;AAvB4B,GArEd;AA8FhByvI,uBAAqB,EAAE;AACtBryH,SAAK,EAAE,4CADe;AAEtB1xF,QAAI,EAAE,SAFgB;AAGtBwF,SAAK,EAAE,IAHe;AAItBw8F,eAAW,EAAE,2CAJS;AAKtBq2B,YAAQ,EAAE;AALY,GA9FP;AAqGhB2rF,wBAAsB,EAAE;AACvBtyH,SAAK,EAAE,6CADgB;AAEvB1xF,QAAI,EAAE,SAFiB;AAGvBwF,SAAK,EAAE,IAHgB;AAIvBw8F,eAAW,EAAE;AAJU,GArGR;AA2GhBiiH,6BAA2B,EAAE;AAC5BvyH,SAAK,EAAE,kDADqB;AAE5BguC,aAAS,EAAEp8H,OAAO,IAAIA,OAAO,CAAC0gN,sBAAR,CAA+Bx+M,KAFzB;AAG5B6yH,YAAQ,EAAE,IAHkB;AAI5Br4H,QAAI,EAAE,OAJsB;AAK5BwF,SAAK,EAAE,SALqB;AAM5Bw8F,eAAW,EAAE;AANe;AA3Gb,CAAjB;AAoHA5jG,uBAAM,CAACurH,OAAP,GAAiB,CAAC,UAAD,EAAa,kBAAb,EAAiC,UAAjC,EAA6C,UAA7C,EAAyD,SAAzD,EAAoE,OAApE,CAAjB;;AAEAvrH,uBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB,MAAI/rH,uBAAM,CAACkF,OAAP,CAAeqgN,cAAf,CAA8Bn+M,KAA9B,KAAwC,MAA5C,EAAoD;AACnDg5F,kBAAc,CAAC,CAAC,MAAD,CAAD,EAAW0lH,mBAAX,CAAd;AACA;;AACD,MAAI9lN,uBAAM,CAACkF,OAAP,CAAeugN,iBAAf,CAAiCr+M,KAAjC,KAA2C,MAA/C,EAAuD;AACtDg5F,kBAAc,CAAC,CAAC,SAAD,CAAD,EAAc2lH,sBAAd,CAAd;AACA;;AAED,MAAI/lN,uBAAM,CAACkF,OAAP,CAAe0gN,sBAAf,CAAsCx+M,KAA1C,EAAiD;AAChDw+M,0BAAsB;AACtB;AACD,CAXD;;AAmBA,SAASD,qBAAT,CAA+Bh2D,KAA/B,EAAsC0V,MAAtC,EAA8C2gD,YAA9C,EAA4D;AAC3D,MAAI,CAAC3gD,MAAM,CAAC3hK,MAAZ,EAAoB,OAAOsiN,YAAP;AAEpB,QAAMC,SAAS,GAAG,CACjB,CAAC,CAAClwI,QAAF,EAAY,gBAAQsvF,MAAR,EAAgB,CAAhB,CAAZ,CADiB,EAEjB,GAAGA,MAFc,EAGjB,CAACtvF,QAAD,EAAW,eAAOsvF,MAAP,EAAe,CAAf,CAAX,CAHiB,CAAlB;;AAMA,OAAK,MAAM,CAAC,CAAC6gD,QAAD,EAAWC,QAAX,CAAD,EAAuB,CAACC,SAAD,EAAYC,SAAZ,CAAvB,CAAX,IAA6D1oJ,GAAG,CAACsoJ,SAAS,CAACtlN,KAAV,CAAgB,CAAhB,EAAmB,CAAC,CAApB,CAAD,EAAyBslN,SAAS,CAACtlN,KAAV,CAAgB,CAAhB,CAAzB,CAAhE,EAA8G;AAC7G,QAAIgvJ,KAAK,IAAIu2D,QAAT,IAAqBv2D,KAAK,GAAGy2D,SAAjC,EAA4C;AAC3C,UAAIpmN,uBAAM,CAACkF,OAAP,CAAeygN,qBAAf,CAAqCv+M,KAAzC,EAAgD;AAC/C,eAAOkwF,cAAc,CACpB,kBAAUF,YAAY,CAAC+uH,QAAD,CAAtB,EAAkC/uH,YAAY,CAACivH,SAAD,CAA9C,EACC,CAACC,MAAD,EAASC,OAAT,KAAqBzgN,IAAI,CAACwrB,KAAL,CAAWosE,WAAW,CAACwoH,QAAD,EAAWE,SAAX,EAAsBE,MAAtB,EAA8BC,OAA9B,EAAuC52D,KAAvC,CAAtB,CADtB,CADoB,CAArB;AAKA,OAND,MAMO;AAGN,eAAQA,KAAK,GAAG,CAAT,GAAc02D,SAAd,GAA0BF,QAAjC;AACA;AACD;AACD;;AAGD,SAAOH,YAAP;AACA;;AAED,SAASQ,iBAAT,CAA2B72D,KAA3B,EAAkC;AACjC,MAAI3vJ,uBAAM,CAACkF,OAAP,CAAeqgN,cAAf,CAA8Bn+M,KAA9B,KAAwC,WAA5C,EAAyD;AACxD,WAAQ,OAAM,MAAM,OAAO,IAAI,OAAO,MAAMuoJ,KAAb,CAAX,CAAgC,YAApD;AACA,GAFD,MAEO;AACN,WAAOg2D,qBAAqB,CAACh2D,KAAD,EAAQ3vJ,uBAAM,CAACkF,OAAP,CAAesgN,yBAAf,CAAyCp+M,KAAjD,EAAwD,SAAxD,CAA5B;AACA;AACD;;AAED,SAASq/M,oBAAT,CAA8B92D,KAA9B,EAAqC;AACpC,MAAI3vJ,uBAAM,CAACkF,OAAP,CAAeugN,iBAAf,CAAiCr+M,KAAjC,KAA2C,WAA/C,EAA4D;AAC3D,WAAQ,OAAM,MAAM,OAAO,IAAI,MAAM,MAAMuoJ,KAAZ,CAAX,CAA+B,YAAnD;AACA,GAFD,MAEO;AACN,QAAI0V,MAAJ;;AACA,QAAIrlK,uBAAM,CAACkF,OAAP,CAAeugN,iBAAf,CAAiCr+M,KAAjC,KAA2C,MAA/C,EAAuD;AACtDi+J,YAAM,GAAGrlK,uBAAM,CAACkF,OAAP,CAAewgN,4BAAf,CAA4Ct+M,KAArD;AACA,KAFD,MAEO,IAAIpH,uBAAM,CAACkF,OAAP,CAAeugN,iBAAf,CAAiCr+M,KAAjC,KAA2C,QAA/C,EAAyD;AAC/Di+J,YAAM,GAAG,CACR,CAAC,CAAD,EAAI,SAAJ,CADQ,EAER,CAAC,CAAD,EAAI,MAAJ,CAFQ,EAGR,CAAC,CAAD,EAAI,SAAJ,CAHQ,CAAT;AAKA,KANM,MAMA;AACN,aAAO,KAAP;AACA;;AAED,WAAOsgD,qBAAqB,CAACh2D,KAAD,EAAQ0V,MAAR,EAAgB,MAAhB,CAA5B;AACA;AACD;;AAED,SAASygD,mBAAT,CAA6B31H,KAA7B,EAAoC;AACnC,QAAMw/D,KAAK,GAAGx/D,KAAK,CAACoD,QAAN,EAAd;AACA,QAAMmzH,OAAO,GAAGv2H,KAAK,CAACwF,cAAN,EAAhB;AACA,QAAM5yC,KAAK,GAAG,OAAO4sG,KAAP,KAAiB,QAAjB,IAA6B62D,iBAAiB,CAAC72D,KAAD,CAA5D;;AAEA,MAAI+2D,OAAO,IAAI3jK,KAAf,EAAsB;AACrB2jK,WAAO,CAACxjM,KAAR,CAAcyjM,UAAd,GAA2B5jK,KAA3B;AACA;AACD;;AAED,SAASgjK,sBAAT,CAAgC51H,KAAhC,EAAuC;AACtC,OAAK,MAAM,CAACkD,QAAD,EAAWs8D,KAAX,CAAX,IAAgCx/D,KAAK,CAACsD,mBAAN,EAAhC,EAA6D;AAC5D,UAAM1wC,KAAK,GAAG0jK,oBAAoB,CAAC92D,KAAD,CAAlC;;AAEA,QAAI5sG,KAAJ,EAAW;AACVswC,cAAQ,CAACnwE,KAAT,CAAe6/B,KAAf,GAAuBA,KAAvB;AACA;AACD;AACD;;AAED,SAAS6iK,sBAAT,GAAkC;AACjC,QAAM7iK,KAAK,GAAG/iD,uBAAM,CAACkF,OAAP,CAAe2gN,2BAAf,CAA2Cz+M,KAA3C,IAAoDpH,uBAAM,CAACkF,OAAP,CAAe2gN,2BAAf,CAA2C30I,OAA7G;AACAsL,QAAM,CAAE;;YAEGz5B,KAAM;;EAFX,CAAN;AAKA,C;;AC9OD;AACA;AACA;AACA;AAEO,MAAM/iD,iBAAiB,GAAG,IAAIirH,MAAJ,CAAW,YAAX,CAA1B;AAEPjrH,iBAAM,CAACkrH,UAAP,GAAoB,gBAApB;AACAlrH,iBAAM,CAACmrH,QAAP,GAAkB,qBAAlB;AACAnrH,iBAAM,CAAC4jG,WAAP,GAAqB,gBAArB;AAEA5jG,iBAAM,CAACurH,OAAP,GAAiB,CAChB,UADgB,EAEhB,UAFgB,EAGhB,UAHgB,EAIhB,SAJgB,EAKhB,QALgB,CAAjB;AAQAvrH,iBAAM,CAACwrH,OAAP,GAAiB,CAChB,KADgB,CAAjB;;AAIAxrH,iBAAM,CAAC+rH,UAAP,GAAoB,MAAM;AACzB3rB,gBAAc,CAAC,CAAC,MAAD,CAAD,EAAWwmH,WAAX,CAAd;AACA,CAFD;;AAIA,MAAMC,OAAO,GAAG,+BAAhB;AACA,MAAMC,WAAW,GAAG,iDAApB;AACA,MAAMC,WAAW,GAAG,kBAApB;;AAEA,SAASC,cAAT,CAAwB1zH,KAAxB,EAA+B;AAC9B,QAAM,GAAG2zH,WAAH,IAAkBJ,OAAO,CAACl6M,IAAR,CAAa2mF,KAAb,KAAuB,EAA/C;AAEA,MAAI,CAAC2zH,WAAL,EAAkB,OAAO,KAAP;AAElB,QAAM,GAAGrnI,GAAH,IACLmnI,WAAW,CAACp6M,IAAZ,CAAiBs6M,WAAjB,KACAH,WAAW,CAACn6M,IAAZ,CAAiBs6M,WAAjB,CADA,IAEA,EAHD;AAMA,SAAOrnI,GAAP;AACA;;AAED,SAASsnI,eAAT,CAAyBtnI,GAAzB,EAA8BuQ,KAA9B,EAAqC;AACpC3mD,kBAAC,GACCvvB,GADF,CACMuvB,gBAAC,CAAC2mD,KAAK,CAAC6D,gBAAN,EAAD,CAAD,CAA4Bt6E,IAA5B,EADN,EAEEO,GAFF,CAEMk2E,KAAK,CAACqF,mBAAN,MAA+B,EAFrC,EAGE/wF,KAHF,GAIE+qB,KAJF,CAKE7O,sBAAM,CAACnP,MAAO,IAAG21E,IAAI,CAAC,uBAAD,CAA0B,GALjD,EAME39C,gBAAC,CAAC,KAAD,EAAQ;AACRg8I,SAAK,EAAE,iBADC;AAERlxK,QAAI,EAAG,MAAKsrE,GAAI,EAFR;AAGRp9E,QAAI,EAAG,MAAKo9E,GAAI;AAHR,GAAR,CANH;AAYA;;AAED,SAASgnI,WAAT,CAAqBz2H,KAArB,EAA4B;AAC3B,QAAMvQ,GAAG,GAAGonI,cAAc,CAAC72H,KAAK,CAACoC,QAAN,EAAD,CAA1B;AACA,MAAI3S,GAAJ,EAASsnI,eAAe,CAACtnI,GAAD,EAAMuQ,KAAN,CAAf;AACT,C;;ACjED;AAC+G;AACF;AACU;AACF;AACL;AACQ;AACL;AACA;AACC;AACQ;AACH;AACF;AACM;AACP;AACD;AACA;AACL;AACG;AACG;AACJ;AACE;AACF;AACE;AACM;AACZ;AACM;AACF;AACD;AACJ;AACO;AACF;AACQ;AACE;AACF;AACF;AACN;AACM;AACF;AACH;AACD;AACI;AACH;AACH;AACS;AACD;AACD;AACF;AACA;AACE;AACI;AACN;AACN;AACM;AACC;AACK;AACR;AACD;AACC;AACC;AACE;AACH;AACC;AACA;AACD;AACE;AACD;AACE;AACG;AACI;AACL;AACL;AACY;AACR;AACD;AACL;AACE;AACE;AACC;AACN;AACS;AACL;AACD;AACpG,2CAAC,eAAe,cAAE,cAAc,YAAE,wBAAwB,sBAAE,sBAAsB,oBAAE,iBAAiB,eAAE,yBAAyB,uBAAE,oBAAoB,kBAAE,oBAAoB,kBAAE,qBAAqB,mBAAE,6BAA6B,2BAAE,yBAAyB,uBAAG,uBAAuB,qBAAG,6BAA6B,2BAAG,sBAAsB,oBAAG,qBAAqB,mBAAG,qBAAqB,mBAAG,gBAAgB,cAAG,mBAAmB,iBAAG,sBAAsB,oBAAG,kBAAkB,gBAAG,oBAAoB,kBAAG,kBAAkB,gBAAG,oBAAoB,kBAAG,0BAA0B,wBAAG,cAAc,YAAG,oBAAoB,kBAAG,kBAAkB,gBAAG,iBAAiB,eAAG,aAAa,WAAG,oBAAoB,kBAAG,kBAAkB,gBAAG,0BAA0B,wBAAG,4BAA4B,0BAAG,0BAA0B,wBAAG,wBAAwB,sBAAG,kBAAkB,gBAAG,wBAAwB,sBAAG,sBAAsB,oBAAG,mBAAmB,iBAAG,kBAAkB,gBAAG,sBAAsB,oBAAG,mBAAmB,iBAAG,gBAAgB,cAAG,yBAAyB,uBAAG,wBAAwB,sBAAG,uBAAuB,qBAAG,qBAAqB,mBAAG,qBAAqB,mBAAG,uBAAuB,qBAAG,2BAA2B,yBAAG,qBAAqB,mBAAG,eAAe,aAAG,qBAAqB,mBAAG,sBAAsB,oBAAG,2BAA2B,yBAAG,mBAAmB,iBAAG,kBAAkB,gBAAG,mBAAmB,iBAAG,oBAAoB,kBAAG,sBAAsB,oBAAG,mBAAmB,iBAAG,oBAAoB,kBAAG,oBAAoB,kBAAG,mBAAmB,iBAAG,qBAAqB,mBAAG,oBAAoB,kBAAG,sBAAsB,oBAAG,yBAAyB,uBAAG,6BAA6B,2BAAG,wBAAwB,sBAAG,mBAAmB,iBAAG,+BAA+B,6BAAG,uBAAuB,qBAAG,sBAAsB,oBAAG,iBAAiB,eAAG,mBAAmB,iBAAG,qBAAqB,mBAAG,sBAAsB,oBAAG,gBAAgB,cAAG,yBAAyB,uBAAG,oBAAoB,kBAAG,mBAAmB,iBAAG,EAAE,E;;;;;AChFh8D;AACA;AAMA;AAGA;AAEA;AAEA,MAAMkT,eAAO,GAAG,IAAI7f,GAAJ,EAAhB;;AAEA,MAAM2jI,OAAO,GAAG,eACf,MAAM1mN,MAAM,CAAC8jB,MAAP,CAAc6iM,KAAd,CADS,EAEf,cAAI7+J,GAAG,IAAIkvB,QAAQ,CAAClvB,GAAD,EAAM0iE,MAAN,CAAnB,CAFe,EAGf,gBAAM1iE,GAAG,IAAIA,GAAG,CAACo/D,QAAjB,CAHe,GAAhB;;AAaO,MAAM0/F,cAA6B,GAAG,EAAtC;AAEA,eAAeC,gBAAf,GAAkC;AACxC,QAAMC,WAAW,GAAG,MAAM57H,eAAO,CAACjmE,MAAR,EAA1B;;AAEA,OAAK,MAAM,CAAC7Y,EAAD,EAAK7M,MAAL,CAAX,IAA2BS,MAAM,CAAC0uE,OAAP,CAAeg4I,OAAf,CAA3B,EAAoD;AACnD,QAAInnN,MAAM,CAAC6rH,aAAX,EAA0B;AACzBxoB,qBAAO,CAACniF,GAAR,CAAYrU,EAAZ,EAAgB,IAAhB;AACA,KAFD,MAEO,IAAI06M,WAAW,CAACrmN,cAAZ,CAA2B2L,EAA3B,CAAJ,EAAoC;AAC1Cw2F,qBAAO,CAACniF,GAAR,CAAYrU,EAAZ,EAAgB06M,WAAW,CAAC16M,EAAD,CAA3B;AACA,KAFM,MAEA;AACNw2F,qBAAO,CAACniF,GAAR,CAAYrU,EAAZ,EAAgB,CAAC7M,MAAM,CAAC4rH,iBAAxB;AACA;AACD;AACD;AAED,MAAM47F,WAAW,GAAGlgN,MAAM,CAAC,SAAD,CAA1B;AACO,eAAemgN,eAAf,CAA+BC,KAA/B,EAA0D;AAAEC,kBAAgB,GAAG;AAArB,IAAiE,EAA3H,EAA+H;AACrI,QAAM9vI,OAAO,CAACt3D,GAAR,CACLA,WAAG,GACD1Q,MADF,CACS7P,MAAM,IACbA,MAAM,CAAC0nN,KAAD,CAAN,IACA,CAAC1nN,MAAM,CAACwnN,WAAD,CADP,KAECG,gBAAgB,IAAIC,SAAS,CAAC5nN,MAAD,CAF9B,CAFF,EAMEqE,GANF,CAMM,MAAMrE,MAAN,IAAgB;AACpB,UAAMiQ,GAAG,GAAGsuF,SAAS,EAArB;;AACA,QAAI;AACH,YAAMn7F,EAAE,GAAGpD,MAAM,CAAC0nN,KAAD,CAAjB;AACA,YAAMtkN,EAAE,EAAR;AACA,KAHD,CAGE,OAAO6I,CAAP,EAAU;AACXjM,YAAM,CAACwnN,WAAD,CAAN,GAAsB,IAAtB;AACAroM,aAAO,CAACjZ,KAAR,CAAc,kBAAd,EAAkClG,MAAM,CAAC2nH,QAAzC,EAAmD,SAAnD,EAA8D+/F,KAA9D;AACAvoM,aAAO,CAACjZ,KAAR,CAAc+F,CAAd;AACA;;AACDwyF,WAAO,CAACxuF,GAAD,EAAO,GAAEjQ,MAAM,CAAC2nH,QAAS,KAAI+/F,KAAM,GAAnC,CAAP;AACA,GAjBF,CADK,CAAN;AAoBA;AAEM,SAASnnM,WAAT,GAAmC;AACzC,SAAO9f,MAAM,CAAC8jB,MAAP,CAAc4iM,OAAd,CAAP;AACA;AAEM,SAAS90F,iBAAT,CAAmBlG,QAAnB,EAAsD;AAC5D,SAAO,CAAC,CAAC9oB,eAAO,CAACz/F,GAAR,CAAYA,WAAG,CAACuoH,QAAD,CAAH,CAAcxE,QAA1B,CAAT;AACA;AAEM,SAASigG,SAAT,CAAmBz7F,QAAnB,EAAsD;AAC5D,QAAMnsH,MAAM,GAAG4D,WAAG,CAACuoH,QAAD,CAAlB;AACA,SACC,CAAC,CAACk7F,cAAc,CAAC3jN,MAAhB,IAA0B2jN,cAAc,CAACzlK,QAAf,CAAwB5hD,MAAM,CAAC2nH,QAA/B,CAA3B,KACA0K,iBAAS,CAACryH,MAAD,CADT,IAEA68E,mBAAmB,CAAC78E,MAAM,CAACurH,OAAR,EAAiBvrH,MAAM,CAACwrH,OAAxB,CAFnB,IAGAxrH,MAAM,CAACyrH,SAAP,EAJD;AAMA;AAEM,SAAS7nH,WAAT,CAAauoH,QAAb,EAAoD;AAC1D,SAAOrgC,mBAAI,CAACogC,WAAW,CAACC,QAAD,CAAZ,CAAX;AACA;;AAED,SAASrgC,mBAAT,CAAcj/E,EAAd,EAAkB;AACjB,QAAM07C,GAAG,GAAGs/J,YAAY,CAACh7M,EAAD,CAAxB;AACA,MAAI,CAAC07C,GAAL,EAAU,MAAM,IAAInoD,KAAJ,CAAW,WAAUyM,EAAG,cAAxB,CAAN;AACV,SAAO07C,GAAP;AACA;;AAEM,SAASs/J,YAAT,CAAsBh7M,EAAtB,EAAsD;AAC5D,SAAOs6M,OAAO,CAACt6M,EAAD,CAAd;AACA;AAEM,SAASi7M,aAAT,CAAuB38F,QAAvB,EAA6D;AACnE,SAAO5qG,WAAG,GACR1Q,MADK,CACE7P,MAAM,IAAI,CAACA,MAAM,CAAC82B,MADpB,EAELjnB,MAFK,CAEE7P,MAAM,IAAIA,MAAM,CAACmrH,QAAP,KAAoBA,QAFhC,EAGLpmH,IAHK,CAGA,CAACqE,CAAD,EAAIC,CAAJ,KAAU;AACf,UAAM0+M,cAAc,GAAG,CAAC3+M,CAAC,CAACrE,IAAF,IAAU,CAAX,KAAiBsE,CAAC,CAACtE,IAAF,IAAU,CAA3B,CAAvB;;AACA,QAAIgjN,cAAc,KAAK,CAAvB,EAA0B;AACzB,aAAOA,cAAP;AACA;;AAED,WAAQ5gI,IAAI,CAAC/9E,CAAC,CAAC8hH,UAAH,CAAJ,CAAmBzjH,WAAnB,KAAmC0/E,IAAI,CAAC99E,CAAC,CAAC6hH,UAAH,CAAJ,CAAmBzjH,WAAnB,EAApC,GAAwE,CAAxE,GAA4E,CAAC,CAApF;AACA,GAVK,CAAP;AAWA,C;;AClHD;;;;ACCA;AAEA;AACA;AAEO,SAASugN,kBAAT,GAA8B;AACpC,QAAMC,kBAAkB,GAAGppH,WAAW,CAAC,YAAD,CAAtC;AAEA,SAAOhnB,OAAO,CAACt3D,GAAR,CAAY4xG,WAAA,GAAc9tH,GAAd,CAAkB,MAAMrE,MAAN,IAAgB;AACpD,QAAI,CAACS,MAAM,CAAC8jB,MAAP,CAAcvkB,MAAM,CAACkF,OAArB,EAA8B45E,IAA9B,CAAmC9iE,CAAC,IAAIA,CAAC,CAAC9a,cAAF,CAAiB,OAAjB,CAAxC,CAAL,EAAyE;AAEzE,UAAMgnN,aAAa,GAAG,MAAMv8H,uBAAO,CAAC/nF,GAAR,CAAY5D,MAAM,CAAC2nH,QAAnB,CAA5B;;AAGA,SAAK,MAAMpuF,GAAX,IAAkB94B,MAAM,CAAC8jB,MAAP,CAAcvkB,MAAM,CAACkF,OAArB,CAAlB,EAAiD;AAChDq0B,SAAG,CAAC23C,OAAJ,GAAc33C,GAAG,CAACnyB,KAAlB;AACA;;AAED,QAAI,CAAC8gN,aAAL,EAAoB;AAEnB;AACA;;AAED,SAAK,MAAM,CAACx6M,GAAD,EAAMy6M,WAAN,CAAX,IAAiC1nN,MAAM,CAAC0uE,OAAP,CAAe+4I,aAAf,CAAjC,EAAgE;AAE/D,UAAI,CAACC,WAAL,EAAkB;;AAElB,UAAIA,WAAW,CAAC/gN,KAAZ,KAAsBxB,SAA1B,EAAqC;AACpCuZ,eAAO,CAACjZ,KAAR,CAAe,UAASlG,MAAM,CAAC2nH,QAAS,IAAGj6G,GAAI,sCAA/C;AACA;AACA;;AAGD,UAAI,CAAC1N,MAAM,CAACkF,OAAP,CAAewI,GAAf,CAAL,EAA0B;AAG1B1N,YAAM,CAACkF,OAAP,CAAewI,GAAf,EAAoBtG,KAApB,GAA4B+gN,WAAW,CAAC/gN,KAAxC;AACA;;AAED6gN,sBAAkB,CAACvrM,IAAnB,CAAwB0rM,MAAM,IAAI;AAAE,UAAIA,MAAJ,EAAYC,KAAK,CAACroN,MAAD,EAASkoN,aAAT,CAAL;AAA+B,KAA/E;AACA,GAhCkB,CAAZ,CAAP;AAiCA;;AAED,SAASG,KAAT,CAAeroN,MAAf,EAAuBkoN,aAAvB,EAAsC;AACrC,MAAI,CAACA,aAAD,IAAkB,CAACznN,MAAM,CAAC0uE,OAAP,CAAe+4I,aAAf,EAA8BxkN,MAArD,EAA6D;AAC5DioF,2BAAO,CAACrC,MAAR,CAAetpF,MAAM,CAAC2nH,QAAtB;AACA;AACA;;AAED,OAAK,MAAM,CAACj6G,GAAD,EAAM;AAAEtG;AAAF,GAAN,CAAX,IAA+B3G,MAAM,CAAC0uE,OAAP,CAAe+4I,aAAf,CAA/B,EAA8D;AAC7D,UAAMpjM,MAAM,GAAG9kB,MAAM,CAACkF,OAAP,CAAewI,GAAf,CAAf;;AACA,QAAI,CAAC1N,MAAM,CAACkF,OAAP,CAAewI,GAAf,CAAL,EAA0B;AACzByR,aAAO,CAACC,IAAR,CAAa,uBAAb,EAAsCpf,MAAM,CAAC2nH,QAA7C,EAAuDj6G,GAAvD;AACAi+E,6BAAO,CAACsB,UAAR,CAAmBjtF,MAAM,CAAC2nH,QAA1B,EAAoCj6G,GAApC;AACA;AACA;;AAED,QAAI,kBAAUoX,MAAM,CAACosD,OAAjB,EAA0B9pE,KAA1B,CAAJ,EAAsC;AACrC+X,aAAO,CAACC,IAAR,CAAa,eAAb,EAA8Bpf,MAAM,CAAC2nH,QAArC,EAA+Cj6G,GAA/C,EAAoD,kCAApD;AACAi+E,6BAAO,CAACsB,UAAR,CAAmBjtF,MAAM,CAAC2nH,QAA1B,EAAoCj6G,GAApC;AACA;AACA;AACD;AACD;;AAEM,SAASwwG,YAAT,CAAcp5F,MAAd,EAAuC;AAG7C,OAAK,MAAM9kB,MAAX,IAAqBmyH,WAAA,EAArB,EAAoC;AACnC,SAAK,MAAM,CAACzkH,GAAD,EAAM0lH,OAAN,CAAX,IAA6B3yH,MAAM,CAAC0uE,OAAP,CAAenvE,MAAM,CAACkF,OAAtB,CAA7B,EAA6D;AAC5D,UAAI4f,MAAM,KAAKsuG,OAAf,EAAwB;AACvB,YAAItuG,MAAM,CAAC1d,KAAP,KAAiBxB,SAArB,EAAgC;AAC/B,gBAAM,IAAIxF,KAAJ,CAAU,8BAAV,CAAN;AACA;;AAED,YAAI0kB,MAAM,CAACmzE,QAAX,EAAqB;AACpBnzE,gBAAM,CAACmzE,QAAP;AACA;;AAED,eAAO/2E,mBAAG,CAAClhB,MAAM,CAAC2nH,QAAR,EAAkBj6G,GAAlB,EAAuBoX,MAAM,CAAC1d,KAA9B,CAAV;AACA;AACD;AACD;;AAED,QAAM,IAAIhH,KAAJ,CAAU,4BAAV,CAAN;AACA,C;;ACtFD;AAEA;AAMO,SAASkoN,qBAAT,GAAiC;AACvC,OAAK,MAAMtoN,MAAX,IAAqBugB,WAAG,EAAxB,EAA4B;AAC3B,QAAI,CAACqnM,SAAS,CAAC5nN,MAAD,CAAd,EAAwB;AAExB,QAAIA,MAAM,CAACsrH,SAAX,EAAsBzzB,2BAAW,CAAC59E,GAAZ,CAAiB,OAAMja,MAAM,CAAC2nH,QAAS,EAAvC;;AAEtB,SAAK,MAAM,CAAC4gG,KAAD,EAAQhvL,GAAR,CAAX,IAA2B94B,MAAM,CAAC0uE,OAAP,CAAenvE,MAAM,CAACkF,OAAtB,CAA3B,EAA2D;AAC1D,UAAI,EAAEq0B,GAAG,CAAC+xF,SAAJ,IAAiB/xF,GAAG,CAACnyB,KAAvB,CAAJ,EAAmC;AAInC,UAAImyB,GAAG,CAAC+nG,SAAJ,IAAiB,CAAC/nG,GAAG,CAAC+nG,SAAJ,CAActhI,MAAM,CAACkF,OAArB,CAAtB,EAAqD;AAErD,UAAIk9F,GAAG,GAAG,OAAO7oE,GAAG,CAAC+xF,SAAX,KAAyB,QAAzB,GACT/xF,GAAG,CAAC+xF,SADK,GAER,OAAMtrH,MAAM,CAAC2nH,QAAS,IAAG4gG,KAAM,EAFjC;;AAIA,UAAIhvL,GAAG,CAAC33B,IAAJ,KAAa,MAAjB,EAAyB;AACxBwgG,WAAG,IAAK,IAAG7oE,GAAG,CAACnyB,KAAJ,CAAUpB,OAAV,CAAkB,KAAlB,EAAyB,GAAzB,CAA8B,EAAzC;AACA;;AAED6xF,iCAAW,CAAC59E,GAAZ,CAAgBmoF,GAAhB;AACA;AACD;AACD,C;;;AC/BD;AACA;AACA;AAQA;AACA;AACA;AAEA,IAAIhvF,UAAJ;AAEO,SAAS/P,IAAT,GAAgB;AACtB+P,YAAK;AACL;AAID,MAAMo1M,YAAY,GAAG,IAAI3wI,OAAJ,CAAYz7D,OAAO,IAAKhJ,UAAK,GAAGgJ,OAAhC,CAArB;AAIO,MAAMqsM,QAAuB,GAAGD,YAAY,CACjD9rM,IADqC,CAChC,MAAMkqE,SAAS,EADiB,CAAhC;AAGA,MAAMklC,MAAqB,GAAG28F,QAAQ,CAC3C/rM,IADmC,CAC9B,MAAM+qM,eAAe,CAAC,QAAD,EAAW;AAAEE,kBAAgB,EAAE;AAApB,CAAX,CADS,CAA9B;AAGA,MAAMe,WAAuB,GAAG58F,MAAM,CAC3CpvG,IADqC,CAChC,MAAMm7D,OAAO,CAACt3D,GAAR,CAAY,CACvBynM,kBAAkB,EADK,EAEvBV,gBAAgB,EAFO,CAAZ,CAD0B,CAAhC;AAMA,MAAMqB,oBAAmC,GAAGD,WAAW,CAC5DhsM,IADiD,CAC5C,MAAM4rM,qBAAqB,EADiB,CAA5C;AAGA,MAAMvrM,WAAqB,GAAG2rM,WAAW,CAC9ChsM,IADmC,CAC9B,MAAM+qM,eAAe,CAAC,QAAD,EAAW;AAAEE,kBAAgB,EAAE;AAApB,CAAX,CADS,CAA9B;AAGA,MAAM57F,UAAyB,GAAG28F,WAAW,CAClDhsM,IADuC,CAClC,MAAM+qM,eAAe,CAAC,YAAD,CADa,CAAlC;AAGA,MAAMxkI,iBAAwB,GAAGpL,OAAO,CAACt3D,GAAR,CAAY,CAACwrG,UAAD,EAAajzB,0BAAU,CAACX,gBAAxB,CAAZ,EACtCz7E,IADsC,CACjC,MAAMm7D,OAAO,CAACt3D,GAAR,CAAY,CACvBknM,eAAe,CAAC,cAAD,CADQ,EAEvBrqI,SAAS,CAAC,IAAD,CAAT,GAAkB2jB,uBAAuB,EAAzC,GAA8Cn7F,SAFvB,CAAZ,CAD2B,CAAjC;AAMA,MAAM6yF,EAAc,GAAG5gB,OAAO,CAACt3D,GAAR,CAAY,CAACwrG,UAAD,EAAajzB,0BAAU,CAACX,gBAAxB,CAAZ,EAC5Bz7E,IAD4B,CACvB,MAAM;AACX,QAAMiZ,GAAG,GAAG,eAAK,MAAMkiD,OAAO,CAACt3D,GAAR,CAAY,CAClC68D,SAAS,CAAC,KAAD,CAAT,GAAmB4kB,cAAc,EAAjC,GAAsCf,sBAAsB,EAD1B,EAElCwmH,eAAe,CAAC,IAAD,CAFmB,CAAZ,CAAX,CAAZ;;AAKApnN,QAAM,CAACkP,gBAAP,CAAwB,kBAAxB,EAA4ComB,GAA5C,EAAiD,IAAjD;AACA,SAAOmjE,0BAAU,CAACV,aAAX,CAAyB17E,IAAzB,CAA8BiZ,GAA9B,CAAP;AACA,CAT4B,CAAvB;AAWA,MAAMq2F,SAAwB,GAAGn0C,OAAO,CAACt3D,GAAR,CAAY,CAACk4E,EAAD,EAAKK,0BAAU,CAACT,YAAhB,CAAZ,EACtC37E,IADsC,CACjC,MAAM+qM,eAAe,CAAC,WAAD,CADY,CAAjC;AAIP5vI,OAAO,CAACt3D,GAAR,CAAY,CAACioM,YAAD,EAAe1vH,0BAAU,CAACZ,SAA1B,CAAZ,EAAkDx7E,IAAlD,CAAuDm7E,2BAAW,CAACqK,UAAnE;AAEArqB,OAAO,CAACt3D,GAAR,CAAY,CAACioM,YAAD,EAAe1vH,0BAAU,CAACZ,SAA1B,CAAZ,EAAkDx7E,IAAlD,CAAuD,MAAM;AAAEksM,WAAA,CAAkB3lI,iBAAlB;AAAkC,CAAjG;AAIA,MAAM9c,IAAI,GAAG,IAAI0iJ,QAAJ,CAAa,OAAb,EAAuB,OAAMjjI,MAAM,CAAC,0BAAD,CAA6B,GAAhE,EAAoE;AAAE1iE,OAAK,EAAE,QAAT;AAAmB4lM,QAAM,EAAE;AAA3B,CAApE,CAAb;AACA3iJ,IAAI,CAACh8C,IAAL;AAEAq+L,YAAY,CAAC9rM,IAAb,CAAkB,MAAMxc,QAAQ,CAAC6oN,KAAT,CAAe9uM,GAAf,CAAmBksD,IAAnB,CAAxB,E;;AChFA;AACkH;AACA;AACG;AACC;AACD;AACH;AACF;AACO;AACA;AACC;AACE;AACI;AACR;AACA;AACH;AACI;AACxG,+CAAC,YAAY,oBAAE,aAAa,oBAAE,gBAAgB,uBAAE,iBAAiB,wBAAE,gBAAgB,uBAAE,aAAa,oBAAE,WAAW,kBAAE,kBAAkB,oCAAE,kBAAkB,yBAAE,mBAAmB,0BAAE,oBAAoB,2BAAG,wBAAwB,+BAAG,gBAAgB,uBAAG,gBAAgB,uBAAG,aAAa,oBAAG,iBAAiB,wBAAG,EAAE,E;;ACb3T;AAEA;AACA;AACA;AAGA;AAEA,MAAM6iJ,QAAQ,GAAG,EAAjB;;AAEA,IAAI70M,QAAQ,CAACD,IAAT,KAAkB0iE,iBAAtB,EAAyC;AACxCoyI,UAAQ,CAACnoN,IAAT,CAAe,QAAO+1E,iBAAkB,gBAAxC;AACA,CAFD,MAEO;AACNv2E,QAAM,CAACkP,gBAAP,CAAwB,YAAxB,EAAsC,MAAM;AAAE,QAAI4E,QAAQ,CAACD,IAAT,KAAkB0iE,iBAAtB,EAAyCziE,QAAQ,CAAC0iJ,MAAT;AAAoB,GAA3G;AACA;;AAGD,IAAI1iJ,QAAQ,CAACD,IAAT,CAAcssE,UAAd,CAAyB1J,wCAAzB,CAAJ,EAAwE;AACvE3iE,UAAQ,CAACG,IAAT,GAAgBsxE,MAAM,CAAE,eAAczxE,QAAQ,CAACD,IAAT,CAAclO,OAAd,CAAsB8wE,wCAAtB,EAAgED,iBAAhE,CAAmF,EAAnG,CAAtB;AACAmyI,UAAQ,CAACnoN,IAAT,CAAc,kCAAd;AACA;;AAID,IAAIX,QAAQ,CAACgP,eAAT,IAA4BhP,QAAQ,CAACgP,eAAT,CAAyBwxE,SAAzB,CAAmCj4E,QAAnC,CAA4C,KAA5C,CAAhC,EAAoF;AACnFvI,UAAQ,CAACgP,eAAT,CAAyBxM,YAAzB,CAAsC,aAAtC,EAAqD,+EAArD;AACAsmN,UAAQ,CAACnoN,IAAT,CAAc,wCAAd;AACA;;AAED,IAAIR,MAAM,KAAKA,MAAM,CAACgT,MAAlB,IAA6B,IAAIo0D,GAAJ,CAAQtzD,QAAQ,CAACG,IAAjB,CAAD,CAAyB+wE,YAAzB,CAAsCzhF,GAAtC,CAA0C,UAA1C,MAA0D,MAA1F,EAAkG;AACjGolN,UAAQ,CAACnoN,IAAT,CAAc,yDAAd;AACA;;AAED,IAAImoN,QAAQ,CAACtlN,MAAb,EAAqB;AACpByb,SAAO,CAACC,IAAR,CAAa,kCAAb,EAAiD4pM,QAAjD;AACA,CAFD,MAEO;AACN3lN,MAAI;AACJ,C","file":"foreground.entry.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 242);\n","/*!\n * jQuery JavaScript Library v3.4.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2019-05-01T21:04Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar document = window.document;\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n      // Support: Chrome <=57, Firefox <=52\n      // In some browsers, typeof returns \"function\" for HTML <object> elements\n      // (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n      // We don't want to classify *any* DOM node as a function.\n      return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.4.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android <=4.0 only\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code, options ) {\n\t\tDOMEval( code, { nonce: options && options.nonce } );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android <=4.0 only\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.4\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2019-04-08\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trhtml = /HTML$/i,\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && elem.nodeName.toLowerCase() === \"fieldset\";\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\n\t\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\t\tsetDocument( context );\n\t\t}\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( (m = match[1]) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( (elem = context.getElementById( m )) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && (elem = newContext.getElementById( m )) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[2] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t(!rbuggyQSA || !rbuggyQSA.test( selector )) &&\n\n\t\t\t\t// Support: IE 8 only\n\t\t\t\t// Exclude object elements\n\t\t\t\t(nodeType !== 1 || context.nodeName.toLowerCase() !== \"object\") ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 && rdescend.test( selector ) ) {\n\n\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\tif ( (nid = context.getAttribute( \"id\" )) ) {\n\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.setAttribute( \"id\", (nid = expando) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[i] = \"#\" + nid + \" \" + toSelector( groups[i] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement(\"fieldset\");\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\tvar namespace = elem.namespaceURI,\n\t\tdocElem = (elem.ownerDocument || elem).documentElement;\n\n\t// Support: IE <=8\n\t// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes\n\t// https://bugs.jquery.com/ticket/4833\n\treturn !rhtml.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9-11, Edge\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\tif ( preferredDoc !== document &&\n\t\t(subWindow = document.defaultView) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert(function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( el ) {\n\t\tel.appendChild( document.createComment(\"\") );\n\t\treturn !el.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t});\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( (elem = elems[i++]) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( document.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( el ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll(\"[msallowcapture^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push(\"~=\");\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll(\":enabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll(\":disabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( el ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === document ? -1 :\n\t\t\t\tb === document ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn (sel + \"\").replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[0] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ?\n\t\t\t\targument + length :\n\t\t\t\targument > length ?\n\t\t\t\t\tlength :\n\t\t\t\t\targument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( (oldCache = uniqueCache[ key ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context === document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\tif ( !context && elem.ownerDocument !== document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( el ) {\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement(\"fieldset\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( el ) {\n\treturn el.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n};\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( typeof elem.contentDocument !== \"undefined\" ) {\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (#9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\nvar swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// Support: IE <=9 only\n\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\n// Support: IE <=9 only\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n} )();\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync( elem, type ) {\n\treturn ( elem === safeActiveElement() ) === ( type === \"focus\" );\n}\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tvar event = jQuery.event.fix( nativeEvent );\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\t\t\thandlers = ( dataPriv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", returnTrue );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, expectSync ) {\n\n\t// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !expectSync ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar notAsync, result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\t// Saved data should be false in such cases, but might be a leftover capture object\n\t\t\t\t// from an async native handler (gh-4350)\n\t\t\t\tif ( !saved.length ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t// focus() and blur() are asynchronous\n\t\t\t\t\tnotAsync = expectSync( this, type );\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tif ( saved !== result || notAsync ) {\n\t\t\t\t\t\tdataPriv.set( this, type, false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = {};\n\t\t\t\t\t}\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\treturn result.value;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering the\n\t\t\t\t// native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved.length ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, {\n\t\t\t\t\tvalue: jQuery.event.trigger(\n\n\t\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t\t// Extend with the prototype to reset the above stopImmediatePropagation()\n\t\t\t\t\t\tjQuery.extend( saved[ 0 ], jQuery.Event.prototype ),\n\t\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\t\tthis\n\t\t\t\t\t)\n\t\t\t\t} );\n\n\t\t\t\t// Abort handling of the native event\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\tif ( button & 1 ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ( button & 2 ) {\n\t\t\t\treturn 3;\n\t\t\t}\n\n\t\t\tif ( button & 4 ) {\n\t\t\t\treturn 2;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, expectSync );\n\n\t\t\t// Return false to allow normal processing in the caller\n\t\t\treturn false;\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t/* eslint-disable max-len */\n\n\t// See https://github.com/eslint/eslint/issues/3229\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,\n\n\t/* eslint-enable */\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.access( src );\n\t\tpdataCur = dataPriv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = concat.apply( [], args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html.replace( rxhtmlTag, \"<$1></$2>\" );\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, #12537)\n\t//   .css('--customProperty) (#3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trcustomProp = /^--/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t// This happens for inline elements with no explicit setting (gh-3571)\n\t// Support: Android <=4.1 - 4.3 only\n\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t// Support: IE 9-11 only\n\t// Also use offsetWidth/offsetHeight for when box sizing is unreliable\n\t// We use getClientRects() to check for hidden/disconnected.\n\t// In those cases, the computed value can be trusted to be border-box\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\t\tval === \"auto\" ||\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"gridArea\": true,\n\t\t\"gridColumn\": true,\n\t\t\"gridColumnEnd\": true,\n\t\t\"gridColumnStart\": true,\n\t\t\"gridRow\": true,\n\t\t\"gridRowEnd\": true,\n\t\t\"gridRowStart\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = classesToArray( value );\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || {} )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = Date.now();\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce++ ) + uncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\n\njQuery._evalUrl = function( url, options ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n} );\n\njQuery.fn.extend( {\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t}\n} );\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( !noGlobal ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n","var before = require('./before');\n\n/**\n * Creates a function that is restricted to invoking `func` once. Repeat calls\n * to the function return the value of the first invocation. The `func` is\n * invoked with the `this` binding and arguments of the created function.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * var initialize = _.once(createApplication);\n * initialize();\n * initialize();\n * // => `createApplication` is invoked once\n */\nfunction once(func) {\n  return before(2, func);\n}\n\nmodule.exports = once;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var baseRest = require('./_baseRest'),\n    pullAll = require('./pullAll');\n\n/**\n * Removes all given values from `array` using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n * to remove elements from an array by predicate.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {...*} [values] The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pull(array, 'a', 'c');\n * console.log(array);\n * // => ['b', 'b']\n */\nvar pull = baseRest(pullAll);\n\nmodule.exports = pull;\n","var convert = require('./convert'),\n    func = convert('flow', require('../flow'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):t.dayjs=n()}(this,function(){\"use strict\";var t=\"millisecond\",n=\"second\",e=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",o=\"quarter\",a=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return!r||r.length>=n?t:\"\"+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:a,w:s,d:i,h:r,m:e,s:n,ms:t,Q:o}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,n,e){var r;if(!t)return l;if(\"string\"==typeof t)m[t]&&(r=t),n&&(m[t]=n,r=t);else{var i=t.name;m[i]=t,r=i}return e||(l=r),r},g=function(t,n,e){if(y(t))return t.clone();var r=n?\"string\"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new v(r)},D=d;D.l=M,D.i=y,D.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u,$offset:n.$offset})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(D.u(n))return new Date;if(n instanceof Date)return new Date(n);if(\"string\"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return D.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,\"$y\",a)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",e)},d.second=function(t){return this.$g(t,\"$s\",n)},d.millisecond=function(n){return this.$g(n,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,n){var e=D.w(h.$u?Date.UTC(h.$y,n,t):new Date(h.$y,n,t),h);return f?e:e.endOf(i)},$=function(t,n){return D.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case e:return $(M+\"Seconds\",2);case n:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[a]=c+\"FullYear\",h[r]=c+\"Hours\",h[e]=c+\"Minutes\",h[n]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(n){var e=g(f);return D.w(e.date(e.date()+Math.round(n*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[e]=6e4,h[r]=36e5,h[n]=1e3,h)[c]||1,l=this.$d.getTime()+t*$;return D.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return\"Invalid Date\";var e=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,n,e){var r=t<12?\"AM\":\"PM\";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,\"0\"),MMM:c(i.monthsShort,o,h,3),MMMM:h[o]||h(this,e),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return e.replace(f,function(t,n){return n||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[e]=m/6e4,c[n]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=M(t,n,!0);return r&&(e.$L=r),e},d.clone=function(){return D.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,n){return t(n,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var convert = require('./convert'),\n    func = convert('map', require('../map'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","/**\n * The default argument placeholder value for methods.\n *\n * @type {Object}\n */\nmodule.exports = {};\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","var baseConvert = require('./_baseConvert'),\n    util = require('./_util');\n\n/**\n * Converts `func` of `name` to an immutable auto-curried iteratee-first data-last\n * version with conversion `options` applied. If `name` is an object its methods\n * will be converted.\n *\n * @param {string} name The name of the function to wrap.\n * @param {Function} [func] The function to wrap.\n * @param {Object} [options] The options object. See `baseConvert` for more details.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction convert(name, func, options) {\n  return baseConvert(util, name, func, options);\n}\n\nmodule.exports = convert;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    basePickBy = require('./_basePickBy'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  if (object == null) {\n    return {};\n  }\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\n    return [prop];\n  });\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, props, function(value, path) {\n    return predicate(value, path[0]);\n  });\n}\n\nmodule.exports = pickBy;\n","const freeze =\n  Object.freeze ||\n  function(x) {\n    return x;\n  };\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'section',\n  'select',\n  'shadow',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n]);\n\n// SVG\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'audio',\n  'canvas',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'video',\n  'view',\n  'vkern',\n]);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n]);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n]);\n\nexport const text = freeze(['#text']);\n","const freeze =\n  Object.freeze ||\n  function(x) {\n    return x;\n  };\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocomplete',\n  'background',\n  'bgcolor',\n  'border',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'default',\n  'dir',\n  'disabled',\n  'download',\n  'enctype',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'integrity',\n  'ismap',\n  'label',\n  'lang',\n  'list',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'name',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'pattern',\n  'placeholder',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'xmlns',\n]);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'tabindex',\n  'targetx',\n  'targety',\n  'transform',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n]);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n]);\n","const { hasOwnProperty, setPrototypeOf } = Object;\nlet { apply } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!apply) {\n  apply = function(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\n/* Add properties to a lookup table */\nexport function addToSet(set, array) {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = element.toLowerCase();\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!Object.isFrozen(array)) {\n          array[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/* Shallow clone an object */\nexport function clone(object) {\n  const newObject = {};\n\n  let property;\n  for (property in object) {\n    if (apply(hasOwnProperty, object, [property])) {\n      newObject[property] = object[property];\n    }\n  }\n\n  return newObject;\n}\n","const seal =\n  Object.seal ||\n  function(x) {\n    return x;\n  };\n\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\s\\S]*|[\\s\\S]*%>/gm);\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g // eslint-disable-line no-control-regex\n);\n","import * as TAGS from './tags';\nimport * as ATTRS from './attrs';\nimport { addToSet, clone } from './utils';\nimport * as EXPRESSIONS from './regexp';\n\nlet { apply } = typeof Reflect !== 'undefined' && Reflect;\nconst { slice: arraySlice } = Array.prototype;\nconst { freeze } = Object;\nconst getGlobal = () => (typeof window === 'undefined' ? null : window);\n\nif (!apply) {\n  apply = function(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {Document} document The document object (to determine policy name suffix)\n * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported).\n */\nconst _createTrustedTypesPolicy = function(trustedTypes, document) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (\n    document.currentScript &&\n    document.currentScript.hasAttribute(ATTR_NAME)\n  ) {\n    suffix = document.currentScript.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n    });\n  } catch (error) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nfunction createDOMPurify(window = getGlobal()) {\n  const DOMPurify = root => createDOMPurify(root);\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  DOMPurify.version = VERSION;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  DOMPurify.removed = [];\n\n  if (!window || !window.document || window.document.nodeType !== 9) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  const originalDocument = window.document;\n  let useDOMParser = false;\n  let removeTitle = false;\n\n  let { document } = window;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    Text,\n    Comment,\n    DOMParser,\n    TrustedTypes,\n  } = window;\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  const trustedTypesPolicy = _createTrustedTypesPolicy(\n    TrustedTypes,\n    originalDocument\n  );\n  const emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    getElementsByTagName,\n    createDocumentFragment,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let hooks = {};\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    implementation &&\n    typeof implementation.createHTMLDocument !== 'undefined' &&\n    document.documentMode !== 9;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Output should be safe for jQuery's $() factory? */\n  let SAFE_FOR_JQUERY = false;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n   * `Node` is imported into the current `Document`. If this flag is not enabled the\n   * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n   * DOMPurify. */\n  let RETURN_DOM_IMPORT = false;\n\n  /* Try to return a Trusted Type object instead of a string, retrun a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks? */\n  let SANITIZE_DOM = true;\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  const FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  const DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function(cfg) {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS =\n      'ALLOWED_TAGS' in cfg\n        ? addToSet({}, cfg.ALLOWED_TAGS)\n        : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR =\n      'ALLOWED_ATTR' in cfg\n        ? addToSet({}, cfg.ALLOWED_ATTR)\n        : DEFAULT_ALLOWED_ATTR;\n    URI_SAFE_ATTRIBUTES =\n      'ADD_URI_SAFE_ATTR' in cfg\n        ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR)\n        : DEFAULT_URI_SAFE_ATTRIBUTES;\n    FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n    FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n    USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    SAFE_FOR_JQUERY = cfg.SAFE_FOR_JQUERY || false; // Default false\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_DOM_IMPORT = cfg.RETURN_DOM_IMPORT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, [...TAGS.text]);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n  const _forceRemove = function(node) {\n    DOMPurify.removed.push({ element: node });\n    try {\n      node.parentNode.removeChild(node);\n    } catch (error) {\n      node.outerHTML = emptyHTML;\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n  const _removeAttribute = function(name, node) {\n    try {\n      DOMPurify.removed.push({\n        attribute: node.getAttributeNode(name),\n        from: node,\n      });\n    } catch (error) {\n      DOMPurify.removed.push({\n        attribute: null,\n        from: node,\n      });\n    }\n\n    node.removeAttribute(name);\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n  const _initDocument = function(dirty) {\n    /* Create a HTML document */\n    let doc;\n    let leadingWhitespace;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = dirty.match(/^[\\s]+/);\n      leadingWhitespace = matches && matches[0];\n      if (leadingWhitespace) {\n        dirty = dirty.slice(leadingWhitespace.length);\n      }\n    }\n\n    /* Use DOMParser to workaround Firefox bug (see comment below) */\n    if (useDOMParser) {\n      try {\n        doc = new DOMParser().parseFromString(dirty, 'text/html');\n      } catch (error) {}\n    }\n\n    /* Remove title to fix a mXSS bug in older MS Edge */\n    if (removeTitle) {\n      addToSet(FORBID_TAGS, ['title']);\n    }\n\n    /* Otherwise use createHTMLDocument, because DOMParser is unsafe in\n    Safari (see comment below) */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createHTMLDocument('');\n      const { body } = doc;\n      body.parentNode.removeChild(body.parentNode.firstElementChild);\n      body.outerHTML = trustedTypesPolicy\n        ? trustedTypesPolicy.createHTML(dirty)\n        : dirty;\n    }\n\n    if (dirty && leadingWhitespace) {\n      doc.body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        doc.body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n  };\n\n  // Firefox uses a different parser for innerHTML rather than\n  // DOMParser (see https://bugzilla.mozilla.org/show_bug.cgi?id=1205631)\n  // which means that you *must* use DOMParser, otherwise the output may\n  // not be safe if used in a document.write context later.\n  //\n  // So we feature detect the Firefox bug and use the DOMParser if necessary.\n  //\n  // Chrome 77 and other versions ship an mXSS bug that caused a bypass to\n  // happen. We now check for the mXSS trigger and react accordingly.\n  if (DOMPurify.isSupported) {\n    (function() {\n      try {\n        const doc = _initDocument(\n          '<svg><p><textarea><img src=\"</textarea><img src=x abc=1//\">'\n        );\n        if (doc.querySelector('svg img')) {\n          useDOMParser = true;\n        }\n      } catch (error) {}\n    })();\n\n    (function() {\n      try {\n        const doc = _initDocument('<x/><title>&lt;/title&gt;&lt;img&gt;');\n        if (/<\\/title/.test(doc.querySelector('title').innerHTML)) {\n          removeTitle = true;\n        }\n      } catch (error) {}\n    })();\n  }\n\n  /**\n   * _createIterator\n   *\n   * @param  {Document} root document/fragment to create iterator for\n   * @return {Iterator} iterator instance\n   */\n  const _createIterator = function(root) {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT,\n      () => {\n        return NodeFilter.FILTER_ACCEPT;\n      },\n      false\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n  const _isClobbered = function(elm) {\n    if (elm instanceof Text || elm instanceof Comment) {\n      return false;\n    }\n\n    if (\n      typeof elm.nodeName !== 'string' ||\n      typeof elm.textContent !== 'string' ||\n      typeof elm.removeChild !== 'function' ||\n      !(elm.attributes instanceof NamedNodeMap) ||\n      typeof elm.removeAttribute !== 'function' ||\n      typeof elm.setAttribute !== 'function' ||\n      typeof elm.namespaceURI !== 'string'\n    ) {\n      return true;\n    }\n\n    return false;\n  };\n\n  /**\n   * _isNode\n   *\n   * @param  {Node} obj object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n  const _isNode = function(obj) {\n    return typeof Node === 'object'\n      ? obj instanceof Node\n      : obj &&\n          typeof obj === 'object' &&\n          typeof obj.nodeType === 'number' &&\n          typeof obj.nodeName === 'string';\n  };\n\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n  const _executeHook = function(entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n\n    hooks[entryPoint].forEach(hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n  // eslint-disable-next-line complexity\n  const _sanitizeElements = function(currentNode) {\n    let content;\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeElements', currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = currentNode.nodeName.toLowerCase();\n\n    /* Execute a hook if present */\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Take care of an mXSS pattern using p, br inside svg, math */\n    if (\n      (tagName === 'svg' || tagName === 'math') &&\n      currentNode.querySelectorAll('p, br').length !== 0\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Keep content except for black-listed elements */\n      if (\n        KEEP_CONTENT &&\n        !FORBID_CONTENTS[tagName] &&\n        typeof currentNode.insertAdjacentHTML === 'function'\n      ) {\n        try {\n          const htmlToInsert = currentNode.innerHTML;\n          currentNode.insertAdjacentHTML(\n            'AfterEnd',\n            trustedTypesPolicy\n              ? trustedTypesPolicy.createHTML(htmlToInsert)\n              : htmlToInsert\n          );\n        } catch (error) {}\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove in case a noscript/noembed XSS is suspected */\n    if (tagName === 'noscript' && /<\\/noscript/i.test(currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    if (tagName === 'noembed' && /<\\/noembed/i.test(currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Convert markup to cover jQuery behavior */\n    if (\n      SAFE_FOR_JQUERY &&\n      !currentNode.firstElementChild &&\n      (!currentNode.content || !currentNode.content.firstElementChild) &&\n      /</g.test(currentNode.textContent)\n    ) {\n      DOMPurify.removed.push({ element: currentNode.cloneNode() });\n      if (currentNode.innerHTML) {\n        currentNode.innerHTML = currentNode.innerHTML.replace(/</g, '&lt;');\n      } else {\n        currentNode.innerHTML = currentNode.textContent.replace(/</g, '&lt;');\n      }\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      content = content.replace(MUSTACHE_EXPR, ' ');\n      content = content.replace(ERB_EXPR, ' ');\n      if (currentNode.textContent !== content) {\n        DOMPurify.removed.push({ element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeElements', currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document || value in formElement)\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && DATA_ATTR.test(lcName)) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && ARIA_ATTR.test(lcName)) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      return false;\n\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (IS_ALLOWED_URI.test(value.replace(ATTR_WHITESPACE, ''))) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      value.indexOf('data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !IS_SCRIPT_OR_DATA.test(value.replace(ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n      // eslint-disable-next-line no-negated-condition\n    } else if (!value) {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    } else {\n      return false;\n    }\n\n    return true;\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n  // eslint-disable-next-line complexity\n  const _sanitizeAttributes = function(currentNode) {\n    let attr;\n    let value;\n    let lcName;\n    let idAttr;\n    let l;\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n    let { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n    };\n    l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      attr = attributes[l];\n      const { name, namespaceURI } = attr;\n      value = attr.value.trim();\n      lcName = name.toLowerCase();\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n      value = hookEvent.attrValue;\n\n      /* Remove attribute */\n      // Safari (iOS + Mac), last tested v8.0.5, crashes if you try to\n      // remove a \"name\" attribute from an <img> tag that has an \"id\"\n      // attribute at the time.\n      if (\n        lcName === 'name' &&\n        currentNode.nodeName === 'IMG' &&\n        attributes.id\n      ) {\n        idAttr = attributes.id;\n        attributes = apply(arraySlice, attributes, []);\n        _removeAttribute('id', currentNode);\n        _removeAttribute(name, currentNode);\n        if (attributes.indexOf(idAttr) > l) {\n          currentNode.setAttribute('id', idAttr.value);\n        }\n      } else if (\n        // This works around a bug in Safari, where input[type=file]\n        // cannot be dynamically set after type has been removed\n        currentNode.nodeName === 'INPUT' &&\n        lcName === 'type' &&\n        value === 'file' &&\n        hookEvent.keepAttr &&\n        (ALLOWED_ATTR[lcName] || !FORBID_ATTR[lcName])\n      ) {\n        continue;\n      } else {\n        // This avoids a crash in Safari v9.0 with double-ids.\n        // The trick is to first set the id to be empty and then to\n        // remove the attribute\n        if (name === 'id') {\n          currentNode.setAttribute(name, '');\n        }\n\n        _removeAttribute(name, currentNode);\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n\n      /* Take care of an mXSS pattern using namespace switches */\n      if (\n        /svg|math/i.test(currentNode.namespaceURI) &&\n        new RegExp(\n          '</(' + Object.keys(FORBID_CONTENTS).join('|') + ')',\n          'i'\n        ).test(value)\n      ) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        value = value.replace(MUSTACHE_EXPR, ' ');\n        value = value.replace(ERB_EXPR, ' ');\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = currentNode.nodeName.toLowerCase();\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n\n        DOMPurify.removed.pop();\n      } catch (error) {}\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function(fragment) {\n    let shadowNode;\n    const shadowIterator = _createIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(shadowNode);\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} configuration object\n   */\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function(dirty, cfg) {\n    let body;\n    let importedNode;\n    let currentNode;\n    let oldNode;\n    let returnNode;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    if (!dirty) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      // eslint-disable-next-line no-negated-condition\n      if (typeof dirty.toString !== 'function') {\n        throw new TypeError('toString is not a function');\n      } else {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw new TypeError('dirty is not a string, aborting');\n        }\n      }\n    }\n\n    /* Check we can run. Otherwise fall back or ignore */\n    if (!DOMPurify.isSupported) {\n      if (\n        typeof window.toStaticHTML === 'object' ||\n        typeof window.toStaticHTML === 'function'\n      ) {\n        if (typeof dirty === 'string') {\n          return window.toStaticHTML(dirty);\n        }\n\n        if (_isNode(dirty)) {\n          return window.toStaticHTML(dirty.outerHTML);\n        }\n      }\n\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    if (IN_PLACE) {\n      /* No special handling necessary for in-place sanitization */\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!-->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        RETURN_TRUSTED_TYPE &&\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : emptyHTML;\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Fix IE's strange behavior with manipulated textNodes #89 */\n      if (currentNode.nodeType === 3 && currentNode === oldNode) {\n        continue;\n      }\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(currentNode);\n\n      oldNode = currentNode;\n    }\n\n    oldNode = null;\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (RETURN_DOM_IMPORT) {\n        /* AdoptNode() is not used because internal state is not reset\n               (e.g. the past names map of a HTMLFormElement), this is safe\n               in theory but we would rather not risk another attack vector.\n               The state that is cloned by importNode() is explicitly defined\n               by the specs. */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      serializedHTML = serializedHTML.replace(MUSTACHE_EXPR, ' ');\n      serializedHTML = serializedHTML.replace(ERB_EXPR, ' ');\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n  DOMPurify.setConfig = function(cfg) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n  DOMPurify.clearConfig = function() {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {string} tag Tag name of containing element.\n   * @param  {string} attr Attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n  DOMPurify.isValidAttribute = function(tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = tag.toLowerCase();\n    const lcName = attr.toLowerCase();\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n  DOMPurify.addHook = function(entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    hooks[entryPoint].push(hookFunction);\n  };\n\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   */\n  DOMPurify.removeHook = function(entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint].pop();\n    }\n  };\n\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n  DOMPurify.removeHooks = function(entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   *\n   */\n  DOMPurify.removeAllHooks = function() {\n    hooks = {};\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var baseRest = require('./_baseRest'),\n    unzipWith = require('./unzipWith');\n\n/**\n * This method is like `_.zip` except that it accepts `iteratee` to specify\n * how grouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  grouped values.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n *   return a + b + c;\n * });\n * // => [111, 222]\n */\nvar zipWith = baseRest(function(arrays) {\n  var length = arrays.length,\n      iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n  iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n  return unzipWith(arrays, iteratee);\n});\n\nmodule.exports = zipWith;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var convert = require('./convert'),\n    func = convert('keyBy', require('../keyBy'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","var arrayEach = require('./_arrayEach'),\n    baseCreate = require('./_baseCreate'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee'),\n    getPrototype = require('./_getPrototype'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray');\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nmodule.exports = transform;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var toString = require('./toString');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n    reHasRegExpChar = RegExp(reRegExpChar.source);\n\n/**\n * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escapeRegExp('[lodash](https://lodash.com/)');\n * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n */\nfunction escapeRegExp(string) {\n  string = toString(string);\n  return (string && reHasRegExpChar.test(string))\n    ? string.replace(reRegExpChar, '\\\\$&')\n    : string;\n}\n\nmodule.exports = escapeRegExp;\n","var baseSetData = require('./_baseSetData'),\n    createBind = require('./_createBind'),\n    createCurry = require('./_createCurry'),\n    createHybrid = require('./_createHybrid'),\n    createPartial = require('./_createPartial'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString'),\n    toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nmodule.exports = createWrap;\n","var baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtor;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var isArray = require('./isArray');\n\n/**\n * Casts `value` as an array if it's not one.\n *\n * @static\n * @memberOf _\n * @since 4.4.0\n * @category Lang\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast array.\n * @example\n *\n * _.castArray(1);\n * // => [1]\n *\n * _.castArray({ 'a': 1 });\n * // => [{ 'a': 1 }]\n *\n * _.castArray('abc');\n * // => ['abc']\n *\n * _.castArray(null);\n * // => [null]\n *\n * _.castArray(undefined);\n * // => [undefined]\n *\n * _.castArray();\n * // => []\n *\n * var array = [1, 2, 3];\n * console.log(_.castArray(array) === array);\n * // => true\n */\nfunction castArray() {\n  if (!arguments.length) {\n    return [];\n  }\n  var value = arguments[0];\n  return isArray(value) ? value : [value];\n}\n\nmodule.exports = castArray;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_RIGHT_FLAG = 16;\n\n/**\n * This method is like `_.curry` except that arguments are applied to `func`\n * in the manner of `_.partialRight` instead of `_.partial`.\n *\n * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n * builds, may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curryRight(abc);\n *\n * curried(3)(2)(1);\n * // => [1, 2, 3]\n *\n * curried(2, 3)(1);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(3)(1, _)(2);\n * // => [1, 2, 3]\n */\nfunction curryRight(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curryRight.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurryRight.placeholder = {};\n\nmodule.exports = curryRight;\n","var baseIteratee = require('./_baseIteratee'),\n    basePullAt = require('./_basePullAt');\n\n/**\n * Removes all elements from `array` that `predicate` returns truthy for\n * and returns an array of the removed elements. The predicate is invoked\n * with three arguments: (value, index, array).\n *\n * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n * to pull elements from an array by value.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new array of removed elements.\n * @example\n *\n * var array = [1, 2, 3, 4];\n * var evens = _.remove(array, function(n) {\n *   return n % 2 == 0;\n * });\n *\n * console.log(array);\n * // => [1, 3]\n *\n * console.log(evens);\n * // => [2, 4]\n */\nfunction remove(array, predicate) {\n  var result = [];\n  if (!(array && array.length)) {\n    return result;\n  }\n  var index = -1,\n      indexes = [],\n      length = array.length;\n\n  predicate = baseIteratee(predicate, 3);\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result.push(value);\n      indexes.push(index);\n    }\n  }\n  basePullAt(array, indexes);\n  return result;\n}\n\nmodule.exports = remove;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n","var convert = require('./convert'),\n    func = convert('filter', require('../filter'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","var createAggregator = require('./_createAggregator');\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nmodule.exports = partition;\n","// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtor = require('./_createCtor'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybrid;\n","var isLaziable = require('./_isLaziable'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nmodule.exports = createRecurry;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var arrayFilter = require('./_arrayFilter'),\n    arrayMap = require('./_arrayMap'),\n    baseProperty = require('./_baseProperty'),\n    baseTimes = require('./_baseTimes'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.zip` except that it accepts an array of grouped\n * elements and creates an array regrouping the elements to their pre-zip\n * configuration.\n *\n * @static\n * @memberOf _\n * @since 1.2.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n *\n * _.unzip(zipped);\n * // => [['a', 'b'], [1, 2], [true, false]]\n */\nfunction unzip(array) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var length = 0;\n  array = arrayFilter(array, function(group) {\n    if (isArrayLikeObject(group)) {\n      length = nativeMax(group.length, length);\n      return true;\n    }\n  });\n  return baseTimes(length, function(index) {\n    return arrayMap(array, baseProperty(index));\n  });\n}\n\nmodule.exports = unzip;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false\n      }\n    }\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n","var convert = require('./convert'),\n    func = convert('once', require('../once'), require('./_falseOptions'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    keysIn = require('./keysIn');\n\n/**\n * This method is like `_.assign` except that it iterates over own and\n * inherited source properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assign\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n */\nvar assignIn = createAssigner(function(object, source) {\n  copyObject(source, keysIn(source), object);\n});\n\nmodule.exports = assignIn;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","(function() {\n  'use strict';\n  \n  var collator;\n  try {\n    collator = (typeof Intl !== \"undefined\" && typeof Intl.Collator !== \"undefined\") ? Intl.Collator(\"generic\", { sensitivity: \"base\" }) : null;\n  } catch (err){\n    console.log(\"Collator could not be initialized and wouldn't be used\");\n  }\n  // arrays to re-use\n  var prevRow = [],\n    str2Char = [];\n  \n  /**\n   * Based on the algorithm at http://en.wikipedia.org/wiki/Levenshtein_distance.\n   */\n  var Levenshtein = {\n    /**\n     * Calculate levenshtein distance of the two strings.\n     *\n     * @param str1 String the first string.\n     * @param str2 String the second string.\n     * @param [options] Additional options.\n     * @param [options.useCollator] Use `Intl.Collator` for locale-sensitive string comparison.\n     * @return Integer the levenshtein distance (0 and above).\n     */\n    get: function(str1, str2, options) {\n      var useCollator = (options && collator && options.useCollator);\n      \n      var str1Len = str1.length,\n        str2Len = str2.length;\n      \n      // base cases\n      if (str1Len === 0) return str2Len;\n      if (str2Len === 0) return str1Len;\n\n      // two rows\n      var curCol, nextCol, i, j, tmp;\n\n      // initialise previous row\n      for (i=0; i<str2Len; ++i) {\n        prevRow[i] = i;\n        str2Char[i] = str2.charCodeAt(i);\n      }\n      prevRow[str2Len] = str2Len;\n\n      var strCmp;\n      if (useCollator) {\n        // calculate current row distance from previous row using collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = 0 === collator.compare(str1.charAt(i), String.fromCharCode(str2Char[j]));\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n      }\n      else {\n        // calculate current row distance from previous row without collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = str1.charCodeAt(i) === str2Char[j];\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n      }\n      return nextCol;\n    }\n\n  };\n\n  // amd\n  if (typeof define !== \"undefined\" && define !== null && define.amd) {\n    define(function() {\n      return Levenshtein;\n    });\n  }\n  // commonjs\n  else if (typeof module !== \"undefined\" && module !== null && typeof exports !== \"undefined\" && module.exports === exports) {\n    module.exports = Levenshtein;\n  }\n  // web worker\n  else if (typeof self !== \"undefined\" && typeof self.postMessage === 'function' && typeof self.importScripts === 'function') {\n    self.Levenshtein = Levenshtein;\n  }\n  // browser main thread\n  else if (typeof window !== \"undefined\" && window !== null) {\n    window.Levenshtein = Levenshtein;\n  }\n}());\n\n","/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nmodule.exports = fromPairs;\n","var baseRandom = require('./_baseRandom'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseFloat = parseFloat;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min,\n    nativeRandom = Math.random;\n\n/**\n * Produces a random number between the inclusive `lower` and `upper` bounds.\n * If only one argument is provided a number between `0` and the given number\n * is returned. If `floating` is `true`, or either `lower` or `upper` are\n * floats, a floating-point number is returned instead of an integer.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @memberOf _\n * @since 0.7.0\n * @category Number\n * @param {number} [lower=0] The lower bound.\n * @param {number} [upper=1] The upper bound.\n * @param {boolean} [floating] Specify returning a floating-point number.\n * @returns {number} Returns the random number.\n * @example\n *\n * _.random(0, 5);\n * // => an integer between 0 and 5\n *\n * _.random(5);\n * // => also an integer between 0 and 5\n *\n * _.random(5, true);\n * // => a floating-point number between 0 and 5\n *\n * _.random(1.2, 5.2);\n * // => a floating-point number between 1.2 and 5.2\n */\nfunction random(lower, upper, floating) {\n  if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n    upper = floating = undefined;\n  }\n  if (floating === undefined) {\n    if (typeof upper == 'boolean') {\n      floating = upper;\n      upper = undefined;\n    }\n    else if (typeof lower == 'boolean') {\n      floating = lower;\n      lower = undefined;\n    }\n  }\n  if (lower === undefined && upper === undefined) {\n    lower = 0;\n    upper = 1;\n  }\n  else {\n    lower = toFinite(lower);\n    if (upper === undefined) {\n      upper = lower;\n      lower = 0;\n    } else {\n      upper = toFinite(upper);\n    }\n  }\n  if (lower > upper) {\n    var temp = lower;\n    lower = upper;\n    upper = temp;\n  }\n  if (floating || lower % 1 || upper % 1) {\n    var rand = nativeRandom();\n    return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n  }\n  return baseRandom(lower, upper);\n}\n\nmodule.exports = random;\n","var baseIteratee = require('./_baseIteratee'),\n    negate = require('./negate'),\n    pickBy = require('./pickBy');\n\n/**\n * The opposite of `_.pickBy`; this method creates an object composed of\n * the own and inherited enumerable string keyed properties of `object` that\n * `predicate` doesn't return truthy for. The predicate is invoked with two\n * arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omitBy(object, _.isNumber);\n * // => { 'b': '2' }\n */\nfunction omitBy(object, predicate) {\n  return pickBy(object, negate(baseIteratee(predicate)));\n}\n\nmodule.exports = omitBy;\n","module.exports = \"data:image/png;base64,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\"","var baseIteratee = require('./_baseIteratee'),\n    baseWhile = require('./_baseWhile');\n\n/**\n * Creates a slice of `array` excluding elements dropped from the beginning.\n * Elements are dropped until `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index, array).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.dropWhile(users, function(o) { return !o.active; });\n * // => objects for ['pebbles']\n *\n * // The `_.matches` iteratee shorthand.\n * _.dropWhile(users, { 'user': 'barney', 'active': false });\n * // => objects for ['fred', 'pebbles']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.dropWhile(users, ['active', false]);\n * // => objects for ['pebbles']\n *\n * // The `_.property` iteratee shorthand.\n * _.dropWhile(users, 'active');\n * // => objects for ['barney', 'fred', 'pebbles']\n */\nfunction dropWhile(array, predicate) {\n  return (array && array.length)\n    ? baseWhile(array, baseIteratee(predicate, 3), true)\n    : [];\n}\n\nmodule.exports = dropWhile;\n","var convert = require('./convert'),\n    func = convert('slice', require('../slice'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var convert = require('./convert'),\n    func = convert('mapValues', require('../mapValues'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseRest = require('./_baseRest'),\n    unzip = require('./unzip');\n\n/**\n * Creates an array of grouped elements, the first of which contains the\n * first elements of the given arrays, the second of which contains the\n * second elements of the given arrays, and so on.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n */\nvar zip = baseRest(unzip);\n\nmodule.exports = zip;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n","/*\n (c) 2011-2015, Vladimir Agafonkin\n SunCalc is a JavaScript library for calculating sun/moon position and light phases.\n https://github.com/mourner/suncalc\n*/\n\n(function () { 'use strict';\n\n// shortcuts for easier to read formulas\n\nvar PI   = Math.PI,\n    sin  = Math.sin,\n    cos  = Math.cos,\n    tan  = Math.tan,\n    asin = Math.asin,\n    atan = Math.atan2,\n    acos = Math.acos,\n    rad  = PI / 180;\n\n// sun calculations are based on http://aa.quae.nl/en/reken/zonpositie.html formulas\n\n\n// date/time constants and conversions\n\nvar dayMs = 1000 * 60 * 60 * 24,\n    J1970 = 2440588,\n    J2000 = 2451545;\n\nfunction toJulian(date) { return date.valueOf() / dayMs - 0.5 + J1970; }\nfunction fromJulian(j)  { return new Date((j + 0.5 - J1970) * dayMs); }\nfunction toDays(date)   { return toJulian(date) - J2000; }\n\n\n// general calculations for position\n\nvar e = rad * 23.4397; // obliquity of the Earth\n\nfunction rightAscension(l, b) { return atan(sin(l) * cos(e) - tan(b) * sin(e), cos(l)); }\nfunction declination(l, b)    { return asin(sin(b) * cos(e) + cos(b) * sin(e) * sin(l)); }\n\nfunction azimuth(H, phi, dec)  { return atan(sin(H), cos(H) * sin(phi) - tan(dec) * cos(phi)); }\nfunction altitude(H, phi, dec) { return asin(sin(phi) * sin(dec) + cos(phi) * cos(dec) * cos(H)); }\n\nfunction siderealTime(d, lw) { return rad * (280.16 + 360.9856235 * d) - lw; }\n\nfunction astroRefraction(h) {\n    if (h < 0) // the following formula works for positive altitudes only.\n        h = 0; // if h = -0.08901179 a div/0 would occur.\n\n    // formula 16.4 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n    // 1.02 / tan(h + 10.26 / (h + 5.10)) h in degrees, result in arc minutes -> converted to rad:\n    return 0.0002967 / Math.tan(h + 0.00312536 / (h + 0.08901179));\n}\n\n// general sun calculations\n\nfunction solarMeanAnomaly(d) { return rad * (357.5291 + 0.98560028 * d); }\n\nfunction eclipticLongitude(M) {\n\n    var C = rad * (1.9148 * sin(M) + 0.02 * sin(2 * M) + 0.0003 * sin(3 * M)), // equation of center\n        P = rad * 102.9372; // perihelion of the Earth\n\n    return M + C + P + PI;\n}\n\nfunction sunCoords(d) {\n\n    var M = solarMeanAnomaly(d),\n        L = eclipticLongitude(M);\n\n    return {\n        dec: declination(L, 0),\n        ra: rightAscension(L, 0)\n    };\n}\n\n\nvar SunCalc = {};\n\n\n// calculates sun position for a given date and latitude/longitude\n\nSunCalc.getPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c  = sunCoords(d),\n        H  = siderealTime(d, lw) - c.ra;\n\n    return {\n        azimuth: azimuth(H, phi, c.dec),\n        altitude: altitude(H, phi, c.dec)\n    };\n};\n\n\n// sun times configuration (angle, morning name, evening name)\n\nvar times = SunCalc.times = [\n    [-0.833, 'sunrise',       'sunset'      ],\n    [  -0.3, 'sunriseEnd',    'sunsetStart' ],\n    [    -6, 'dawn',          'dusk'        ],\n    [   -12, 'nauticalDawn',  'nauticalDusk'],\n    [   -18, 'nightEnd',      'night'       ],\n    [     6, 'goldenHourEnd', 'goldenHour'  ]\n];\n\n// adds a custom time to the times config\n\nSunCalc.addTime = function (angle, riseName, setName) {\n    times.push([angle, riseName, setName]);\n};\n\n\n// calculations for sun times\n\nvar J0 = 0.0009;\n\nfunction julianCycle(d, lw) { return Math.round(d - J0 - lw / (2 * PI)); }\n\nfunction approxTransit(Ht, lw, n) { return J0 + (Ht + lw) / (2 * PI) + n; }\nfunction solarTransitJ(ds, M, L)  { return J2000 + ds + 0.0053 * sin(M) - 0.0069 * sin(2 * L); }\n\nfunction hourAngle(h, phi, d) { return acos((sin(h) - sin(phi) * sin(d)) / (cos(phi) * cos(d))); }\n\n// returns set time for the given sun altitude\nfunction getSetJ(h, lw, phi, dec, n, M, L) {\n\n    var w = hourAngle(h, phi, dec),\n        a = approxTransit(w, lw, n);\n    return solarTransitJ(a, M, L);\n}\n\n\n// calculates sun times for a given date and latitude/longitude\n\nSunCalc.getTimes = function (date, lat, lng) {\n\n    var lw = rad * -lng,\n        phi = rad * lat,\n\n        d = toDays(date),\n        n = julianCycle(d, lw),\n        ds = approxTransit(0, lw, n),\n\n        M = solarMeanAnomaly(ds),\n        L = eclipticLongitude(M),\n        dec = declination(L, 0),\n\n        Jnoon = solarTransitJ(ds, M, L),\n\n        i, len, time, Jset, Jrise;\n\n\n    var result = {\n        solarNoon: fromJulian(Jnoon),\n        nadir: fromJulian(Jnoon - 0.5)\n    };\n\n    for (i = 0, len = times.length; i < len; i += 1) {\n        time = times[i];\n\n        Jset = getSetJ(time[0] * rad, lw, phi, dec, n, M, L);\n        Jrise = Jnoon - (Jset - Jnoon);\n\n        result[time[1]] = fromJulian(Jrise);\n        result[time[2]] = fromJulian(Jset);\n    }\n\n    return result;\n};\n\n\n// moon calculations, based on http://aa.quae.nl/en/reken/hemelpositie.html formulas\n\nfunction moonCoords(d) { // geocentric ecliptic coordinates of the moon\n\n    var L = rad * (218.316 + 13.176396 * d), // ecliptic longitude\n        M = rad * (134.963 + 13.064993 * d), // mean anomaly\n        F = rad * (93.272 + 13.229350 * d),  // mean distance\n\n        l  = L + rad * 6.289 * sin(M), // longitude\n        b  = rad * 5.128 * sin(F),     // latitude\n        dt = 385001 - 20905 * cos(M);  // distance to the moon in km\n\n    return {\n        ra: rightAscension(l, b),\n        dec: declination(l, b),\n        dist: dt\n    };\n}\n\nSunCalc.getMoonPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c = moonCoords(d),\n        H = siderealTime(d, lw) - c.ra,\n        h = altitude(H, phi, c.dec),\n        // formula 14.1 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n        pa = atan(sin(H), tan(phi) * cos(c.dec) - sin(c.dec) * cos(H));\n\n    h = h + astroRefraction(h); // altitude correction for refraction\n\n    return {\n        azimuth: azimuth(H, phi, c.dec),\n        altitude: h,\n        distance: c.dist,\n        parallacticAngle: pa\n    };\n};\n\n\n// calculations for illumination parameters of the moon,\n// based on http://idlastro.gsfc.nasa.gov/ftp/pro/astro/mphase.pro formulas and\n// Chapter 48 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n\nSunCalc.getMoonIllumination = function (date) {\n\n    var d = toDays(date || new Date()),\n        s = sunCoords(d),\n        m = moonCoords(d),\n\n        sdist = 149598000, // distance from Earth to Sun in km\n\n        phi = acos(sin(s.dec) * sin(m.dec) + cos(s.dec) * cos(m.dec) * cos(s.ra - m.ra)),\n        inc = atan(sdist * sin(phi), m.dist - sdist * cos(phi)),\n        angle = atan(cos(s.dec) * sin(s.ra - m.ra), sin(s.dec) * cos(m.dec) -\n                cos(s.dec) * sin(m.dec) * cos(s.ra - m.ra));\n\n    return {\n        fraction: (1 + cos(inc)) / 2,\n        phase: 0.5 + 0.5 * inc * (angle < 0 ? -1 : 1) / Math.PI,\n        angle: angle\n    };\n};\n\n\nfunction hoursLater(date, h) {\n    return new Date(date.valueOf() + h * dayMs / 24);\n}\n\n// calculations for moon rise/set times are based on http://www.stargazing.net/kepler/moonrise.html article\n\nSunCalc.getMoonTimes = function (date, lat, lng, inUTC) {\n    var t = new Date(date);\n    if (inUTC) t.setUTCHours(0, 0, 0, 0);\n    else t.setHours(0, 0, 0, 0);\n\n    var hc = 0.133 * rad,\n        h0 = SunCalc.getMoonPosition(t, lat, lng).altitude - hc,\n        h1, h2, rise, set, a, b, xe, ye, d, roots, x1, x2, dx;\n\n    // go in 2-hour chunks, each time seeing if a 3-point quadratic curve crosses zero (which means rise or set)\n    for (var i = 1; i <= 24; i += 2) {\n        h1 = SunCalc.getMoonPosition(hoursLater(t, i), lat, lng).altitude - hc;\n        h2 = SunCalc.getMoonPosition(hoursLater(t, i + 1), lat, lng).altitude - hc;\n\n        a = (h0 + h2) / 2 - h1;\n        b = (h2 - h0) / 2;\n        xe = -b / (2 * a);\n        ye = (a * xe + b) * xe + h1;\n        d = b * b - 4 * a * h1;\n        roots = 0;\n\n        if (d >= 0) {\n            dx = Math.sqrt(d) / (Math.abs(a) * 2);\n            x1 = xe - dx;\n            x2 = xe + dx;\n            if (Math.abs(x1) <= 1) roots++;\n            if (Math.abs(x2) <= 1) roots++;\n            if (x1 < -1) x1 = x2;\n        }\n\n        if (roots === 1) {\n            if (h0 < 0) rise = i + x1;\n            else set = i + x1;\n\n        } else if (roots === 2) {\n            rise = i + (ye < 0 ? x2 : x1);\n            set = i + (ye < 0 ? x1 : x2);\n        }\n\n        if (rise && set) break;\n\n        h0 = h2;\n    }\n\n    var result = {};\n\n    if (rise) result.rise = hoursLater(t, rise);\n    if (set) result.set = hoursLater(t, set);\n\n    if (!rise && !set) result[ye > 0 ? 'alwaysUp' : 'alwaysDown'] = true;\n\n    return result;\n};\n\n\n// export as Node module / AMD module / browser variable\nif (typeof exports === 'object' && typeof module !== 'undefined') module.exports = SunCalc;\nelse if (typeof define === 'function' && define.amd) define(SunCalc);\nelse window.SunCalc = SunCalc;\n\n}());\n","/**\n * @license MIT\n * @fileOverview Favico animations\n * @author Miroslav Magda, http://blog.ejci.net\n * @version 0.3.10\n */\n\n/**\n * Create new favico instance\n * @param {Object} Options\n * @return {Object} Favico object\n * @example\n * var favico = new Favico({\n *    bgColor : '#d00',\n *    textColor : '#fff',\n *    fontFamily : 'sans-serif',\n *    fontStyle : 'bold',\n *    position : 'down',\n *    type : 'circle',\n *    animation : 'slide',\n *    dataUrl: function(url){},\n *    win: top\n * });\n */\n(function () {\n\n\tvar Favico = (function (opt) {\n\t\t'use strict';\n\t\topt = (opt) ? opt : {};\n\t\tvar _def = {\n\t\t\tbgColor: '#d00',\n\t\t\ttextColor: '#fff',\n\t\t\tfontFamily: 'sans-serif', //Arial,Verdana,Times New Roman,serif,sans-serif,...\n\t\t\tfontStyle: 'bold', //normal,italic,oblique,bold,bolder,lighter,100,200,300,400,500,600,700,800,900\n\t\t\ttype: 'circle',\n\t\t\tposition: 'down', // down, up, left, leftup (upleft)\n\t\t\tanimation: 'slide',\n\t\t\telementId: false,\n\t\t\tdataUrl: false,\n\t\t\twin: window\n\t\t};\n\t\tvar _opt, _orig, _h, _w, _canvas, _context, _img, _ready, _lastBadge, _running, _readyCb, _stop, _browser, _animTimeout, _drawTimeout, _doc;\n\n\t\t_browser = {};\n\t\t_browser.ff = typeof InstallTrigger != 'undefined';\n\t\t_browser.chrome = !!window.chrome;\n\t\t_browser.opera = !!window.opera || navigator.userAgent.indexOf('Opera') >= 0;\n\t\t_browser.ie = /*@cc_on!@*/false;\n\t\t_browser.safari = Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n\t\t_browser.supported = (_browser.chrome || _browser.ff || _browser.opera);\n\n\t\tvar _queue = [];\n\t\t_readyCb = function () {\n\t\t};\n\t\t_ready = _stop = false;\n\t\t/**\n\t\t * Initialize favico\n\t\t */\n\t\tvar init = function () {\n\t\t\t//merge initial options\n\t\t\t_opt = merge(_def, opt);\n\t\t\t_opt.bgColor = hexToRgb(_opt.bgColor);\n\t\t\t_opt.textColor = hexToRgb(_opt.textColor);\n\t\t\t_opt.position = _opt.position.toLowerCase();\n\t\t\t_opt.animation = (animation.types['' + _opt.animation]) ? _opt.animation : _def.animation;\n\n\t\t\t_doc = _opt.win.document;\n\n\t\t\tvar isUp = _opt.position.indexOf('up') > -1;\n\t\t\tvar isLeft = _opt.position.indexOf('left') > -1;\n\n\t\t\t//transform animation\n\t\t\tif (isUp || isLeft) {\n\t\t\t\tfor (var i = 0; i < animation.types['' + _opt.animation].length; i++) {\n\t\t\t\t\tvar step = animation.types['' + _opt.animation][i];\n\n\t\t\t\t\tif (isUp) {\n\t\t\t\t\t\tif (step.y < 0.6) {\n\t\t\t\t\t\t\tstep.y = step.y - 0.4;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstep.y = step.y - 2 * step.y + (1 - step.w);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isLeft) {\n\t\t\t\t\t\tif (step.x < 0.6) {\n\t\t\t\t\t\t\tstep.x = step.x - 0.4;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstep.x = step.x - 2 * step.x + (1 - step.h);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tanimation.types['' + _opt.animation][i] = step;\n\t\t\t\t}\n\t\t\t}\n\t\t\t_opt.type = (type['' + _opt.type]) ? _opt.type : _def.type;\n\n\t\t\t_orig = link.getIcon();\n\t\t\t//create temp canvas\n\t\t\t_canvas = document.createElement('canvas');\n\t\t\t//create temp image\n\t\t\t_img = document.createElement('img');\n\t\t\tif (_orig.hasAttribute('href')) {\n\t\t\t\t_img.setAttribute('crossOrigin', 'anonymous');\n\t\t\t\t//get width/height\n\t\t\t\t_img.onload = function () {\n\t\t\t\t\t_h = (_img.height > 0) ? _img.height : 32;\n\t\t\t\t\t_w = (_img.width > 0) ? _img.width : 32;\n\t\t\t\t\t_canvas.height = _h;\n\t\t\t\t\t_canvas.width = _w;\n\t\t\t\t\t_context = _canvas.getContext('2d');\n\t\t\t\t\ticon.ready();\n\t\t\t\t};\n\t\t\t\t_img.setAttribute('src', _orig.getAttribute('href'));\n\t\t\t} else {\n\t\t\t\t_img.onload = function () {\n\t\t\t\t\t_h = 32;\n\t\t\t\t\t_w = 32;\n\t\t\t\t\t_img.height = _h;\n\t\t\t\t\t_img.width = _w;\n\t\t\t\t\t_canvas.height = _h;\n\t\t\t\t\t_canvas.width = _w;\n\t\t\t\t\t_context = _canvas.getContext('2d');\n\t\t\t\t\ticon.ready();\n\t\t\t\t};\n\t\t\t\t_img.setAttribute('src', '');\n\t\t\t}\n\n\t\t};\n\t\t/**\n\t\t * Icon namespace\n\t\t */\n\t\tvar icon = {};\n\t\t/**\n\t\t * Icon is ready (reset icon) and start animation (if ther is any)\n\t\t */\n\t\ticon.ready = function () {\n\t\t\t_ready = true;\n\t\t\ticon.reset();\n\t\t\t_readyCb();\n\t\t};\n\t\t/**\n\t\t * Reset icon to default state\n\t\t */\n\t\ticon.reset = function () {\n\t\t\t//reset\n\t\t\tif (!_ready) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_queue = [];\n\t\t\t_lastBadge = false;\n\t\t\t_running = false;\n\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t_context.drawImage(_img, 0, 0, _w, _h);\n\t\t\t//_stop=true;\n\t\t\tlink.setIcon(_canvas);\n\t\t\t//webcam('stop');\n\t\t\t//video('stop');\n\t\t\twindow.clearTimeout(_animTimeout);\n\t\t\twindow.clearTimeout(_drawTimeout);\n\t\t};\n\t\t/**\n\t\t * Start animation\n\t\t */\n\t\ticon.start = function () {\n\t\t\tif (!_ready || _running) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar finished = function () {\n\t\t\t\t_lastBadge = _queue[0];\n\t\t\t\t_running = false;\n\t\t\t\tif (_queue.length > 0) {\n\t\t\t\t\t_queue.shift();\n\t\t\t\t\ticon.start();\n\t\t\t\t} else {\n\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (_queue.length > 0) {\n\t\t\t\t_running = true;\n\t\t\t\tvar run = function () {\n\t\t\t\t\t// apply options for this animation\n\t\t\t\t\t['type', 'animation', 'bgColor', 'textColor', 'fontFamily', 'fontStyle'].forEach(function (a) {\n\t\t\t\t\t\tif (a in _queue[0].options) {\n\t\t\t\t\t\t\t_opt[a] = _queue[0].options[a];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tanimation.run(_queue[0].options, function () {\n\t\t\t\t\t\tfinished();\n\t\t\t\t\t}, false);\n\t\t\t\t};\n\t\t\t\tif (_lastBadge) {\n\t\t\t\t\tanimation.run(_lastBadge.options, function () {\n\t\t\t\t\t\trun();\n\t\t\t\t\t}, true);\n\t\t\t\t} else {\n\t\t\t\t\trun();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Badge types\n\t\t */\n\t\tvar type = {};\n\t\tvar options = function (opt) {\n\t\t\topt.n = ((typeof opt.n) === 'number') ? Math.abs(opt.n | 0) : opt.n;\n\t\t\topt.x = _w * opt.x;\n\t\t\topt.y = _h * opt.y;\n\t\t\topt.w = _w * opt.w;\n\t\t\topt.h = _h * opt.h;\n\t\t\topt.len = (\"\" + opt.n).length;\n\t\t\treturn opt;\n\t\t};\n\t\t/**\n\t\t * Generate circle\n\t\t * @param {Object} opt Badge options\n\t\t */\n\t\ttype.circle = function (opt) {\n\t\t\topt = options(opt);\n\t\t\tvar more = false;\n\t\t\tif (opt.len === 2) {\n\t\t\t\topt.x = opt.x - opt.w * 0.4;\n\t\t\t\topt.w = opt.w * 1.4;\n\t\t\t\tmore = true;\n\t\t\t} else if (opt.len >= 3) {\n\t\t\t\topt.x = opt.x - opt.w * 0.65;\n\t\t\t\topt.w = opt.w * 1.65;\n\t\t\t\tmore = true;\n\t\t\t}\n\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t_context.drawImage(_img, 0, 0, _w, _h);\n\t\t\t_context.beginPath();\n\t\t\t_context.font = _opt.fontStyle + \" \" + Math.floor(opt.h * (opt.n > 99 ? 0.85 : 1)) + \"px \" + _opt.fontFamily;\n\t\t\t_context.textAlign = 'center';\n\t\t\tif (more) {\n\t\t\t\t_context.moveTo(opt.x + opt.w / 2, opt.y);\n\t\t\t\t_context.lineTo(opt.x + opt.w - opt.h / 2, opt.y);\n\t\t\t\t_context.quadraticCurveTo(opt.x + opt.w, opt.y, opt.x + opt.w, opt.y + opt.h / 2);\n\t\t\t\t_context.lineTo(opt.x + opt.w, opt.y + opt.h - opt.h / 2);\n\t\t\t\t_context.quadraticCurveTo(opt.x + opt.w, opt.y + opt.h, opt.x + opt.w - opt.h / 2, opt.y + opt.h);\n\t\t\t\t_context.lineTo(opt.x + opt.h / 2, opt.y + opt.h);\n\t\t\t\t_context.quadraticCurveTo(opt.x, opt.y + opt.h, opt.x, opt.y + opt.h - opt.h / 2);\n\t\t\t\t_context.lineTo(opt.x, opt.y + opt.h / 2);\n\t\t\t\t_context.quadraticCurveTo(opt.x, opt.y, opt.x + opt.h / 2, opt.y);\n\t\t\t} else {\n\t\t\t\t_context.arc(opt.x + opt.w / 2, opt.y + opt.h / 2, opt.h / 2, 0, 2 * Math.PI);\n\t\t\t}\n\t\t\t_context.fillStyle = 'rgba(' + _opt.bgColor.r + ',' + _opt.bgColor.g + ',' + _opt.bgColor.b + ',' + opt.o + ')';\n\t\t\t_context.fill();\n\t\t\t_context.closePath();\n\t\t\t_context.beginPath();\n\t\t\t_context.stroke();\n\t\t\t_context.fillStyle = 'rgba(' + _opt.textColor.r + ',' + _opt.textColor.g + ',' + _opt.textColor.b + ',' + opt.o + ')';\n\t\t\t//_context.fillText((more) ? '9+' : opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\t\t\tif ((typeof opt.n) === 'number' && opt.n > 999) {\n\t\t\t\t_context.fillText(((opt.n > 9999) ? 9 : Math.floor(opt.n / 1000)) + 'k+', Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.2));\n\t\t\t} else {\n\t\t\t\t_context.fillText(opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\t\t\t}\n\t\t\t_context.closePath();\n\t\t};\n\t\t/**\n\t\t * Generate rectangle\n\t\t * @param {Object} opt Badge options\n\t\t */\n\t\ttype.rectangle = function (opt) {\n\t\t\topt = options(opt);\n\t\t\tvar more = false;\n\t\t\tif (opt.len === 2) {\n\t\t\t\topt.x = opt.x - opt.w * 0.4;\n\t\t\t\topt.w = opt.w * 1.4;\n\t\t\t\tmore = true;\n\t\t\t} else if (opt.len >= 3) {\n\t\t\t\topt.x = opt.x - opt.w * 0.65;\n\t\t\t\topt.w = opt.w * 1.65;\n\t\t\t\tmore = true;\n\t\t\t}\n\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t_context.drawImage(_img, 0, 0, _w, _h);\n\t\t\t_context.beginPath();\n\t\t\t_context.font = _opt.fontStyle + \" \" + Math.floor(opt.h * (opt.n > 99 ? 0.9 : 1)) + \"px \" + _opt.fontFamily;\n\t\t\t_context.textAlign = 'center';\n\t\t\t_context.fillStyle = 'rgba(' + _opt.bgColor.r + ',' + _opt.bgColor.g + ',' + _opt.bgColor.b + ',' + opt.o + ')';\n\t\t\t_context.fillRect(opt.x, opt.y, opt.w, opt.h);\n\t\t\t_context.fillStyle = 'rgba(' + _opt.textColor.r + ',' + _opt.textColor.g + ',' + _opt.textColor.b + ',' + opt.o + ')';\n\t\t\t//_context.fillText((more) ? '9+' : opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\t\t\tif ((typeof opt.n) === 'number' && opt.n > 999) {\n\t\t\t\t_context.fillText(((opt.n > 9999) ? 9 : Math.floor(opt.n / 1000)) + 'k+', Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.2));\n\t\t\t} else {\n\t\t\t\t_context.fillText(opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\t\t\t}\n\t\t\t_context.closePath();\n\t\t};\n\n\t\t/**\n\t\t * Set badge\n\t\t */\n\t\tvar badge = function (number, opts) {\n\t\t\topts = ((typeof opts) === 'string' ? {\n\t\t\t\tanimation: opts\n\t\t\t} : opts) || {};\n\t\t\t_readyCb = function () {\n\t\t\t\ttry {\n\t\t\t\t\tif (typeof (number) === 'number' ? (number > 0) : (number !== '')) {\n\t\t\t\t\t\tvar q = {\n\t\t\t\t\t\t\ttype: 'badge',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tn: number\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif ('animation' in opts && animation.types['' + opts.animation]) {\n\t\t\t\t\t\t\tq.options.animation = '' + opts.animation;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ('type' in opts && type['' + opts.type]) {\n\t\t\t\t\t\t\tq.options.type = '' + opts.type;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t['bgColor', 'textColor'].forEach(function (o) {\n\t\t\t\t\t\t\tif (o in opts) {\n\t\t\t\t\t\t\t\tq.options[o] = hexToRgb(opts[o]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t['fontStyle', 'fontFamily'].forEach(function (o) {\n\t\t\t\t\t\t\tif (o in opts) {\n\t\t\t\t\t\t\t\tq.options[o] = opts[o];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_queue.push(q);\n\t\t\t\t\t\tif (_queue.length > 100) {\n\t\t\t\t\t\t\tthrow new Error('Too many badges requests in queue.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\ticon.start();\n\t\t\t\t\t} else {\n\t\t\t\t\t\ticon.reset();\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new Error('Error setting badge. Message: ' + e.message);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (_ready) {\n\t\t\t\t_readyCb();\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Set image as icon\n\t\t */\n\t\tvar image = function (imageElement) {\n\t\t\t_readyCb = function () {\n\t\t\t\ttry {\n\t\t\t\t\tvar w = imageElement.width;\n\t\t\t\t\tvar h = imageElement.height;\n\t\t\t\t\tvar newImg = document.createElement('img');\n\t\t\t\t\tvar ratio = (w / _w < h / _h) ? (w / _w) : (h / _h);\n\t\t\t\t\tnewImg.setAttribute('crossOrigin', 'anonymous');\n\t\t\t\t\tnewImg.onload=function(){\n\t\t\t\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t\t\t\t_context.drawImage(newImg, 0, 0, _w, _h);\n\t\t\t\t\t\tlink.setIcon(_canvas);\n\t\t\t\t\t};\n\t\t\t\t\tnewImg.setAttribute('src', imageElement.getAttribute('src'));\n\t\t\t\t\tnewImg.height = (h / ratio);\n\t\t\t\t\tnewImg.width = (w / ratio);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new Error('Error setting image. Message: ' + e.message);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (_ready) {\n\t\t\t\t_readyCb();\n\t\t\t}\n\t\t};\n\t\t/**\n\t\t * Set video as icon\n\t\t */\n\t\tvar video = function (videoElement) {\n\t\t\t_readyCb = function () {\n\t\t\t\ttry {\n\t\t\t\t\tif (videoElement === 'stop') {\n\t\t\t\t\t\t_stop = true;\n\t\t\t\t\t\ticon.reset();\n\t\t\t\t\t\t_stop = false;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t//var w = videoElement.width;\n\t\t\t\t\t//var h = videoElement.height;\n\t\t\t\t\t//var ratio = (w / _w < h / _h) ? (w / _w) : (h / _h);\n\t\t\t\t\tvideoElement.addEventListener('play', function () {\n\t\t\t\t\t\tdrawVideo(this);\n\t\t\t\t\t}, false);\n\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new Error('Error setting video. Message: ' + e.message);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (_ready) {\n\t\t\t\t_readyCb();\n\t\t\t}\n\t\t};\n\t\t/**\n\t\t * Set video as icon\n\t\t */\n\t\tvar webcam = function (action) {\n\t\t\t//UR\n\t\t\tif (!window.URL || !window.URL.createObjectURL) {\n\t\t\t\twindow.URL = window.URL || {};\n\t\t\t\twindow.URL.createObjectURL = function (obj) {\n\t\t\t\t\treturn obj;\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (_browser.supported) {\n\t\t\t\tvar newVideo = false;\n\t\t\t\tnavigator.getUserMedia = navigator.getUserMedia || navigator.oGetUserMedia || navigator.msGetUserMedia || navigator.mozGetUserMedia || navigator.webkitGetUserMedia;\n\t\t\t\t_readyCb = function () {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (action === 'stop') {\n\t\t\t\t\t\t\t_stop = true;\n\t\t\t\t\t\t\ticon.reset();\n\t\t\t\t\t\t\t_stop = false;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewVideo = document.createElement('video');\n\t\t\t\t\t\tnewVideo.width = _w;\n\t\t\t\t\t\tnewVideo.height = _h;\n\t\t\t\t\t\tnavigator.getUserMedia({\n\t\t\t\t\t\t\tvideo: true,\n\t\t\t\t\t\t\taudio: false\n\t\t\t\t\t\t}, function (stream) {\n\t\t\t\t\t\t\tnewVideo.src = URL.createObjectURL(stream);\n\t\t\t\t\t\t\tnewVideo.play();\n\t\t\t\t\t\t\tdrawVideo(newVideo);\n\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tthrow new Error('Error setting webcam. Message: ' + e.message);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (_ready) {\n\t\t\t\t\t_readyCb();\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\t/**\n\t\t * Draw video to context and repeat :)\n\t\t */\n\t\tfunction drawVideo(video) {\n\t\t\tif (video.paused || video.ended || _stop) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//nasty hack for FF webcam (Thanks to Julian wirko, kontakt@redsunmedia.pl)\n\t\t\ttry {\n\t\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t\t_context.drawImage(video, 0, 0, _w, _h);\n\t\t\t} catch (e) {\n\n\t\t\t}\n\t\t\t_drawTimeout = setTimeout(function () {\n\t\t\t\tdrawVideo(video);\n\t\t\t}, animation.duration);\n\t\t\tlink.setIcon(_canvas);\n\t\t}\n\n\t\tvar link = {};\n\t\t/**\n\t\t * Get icon from HEAD tag or create a new <link> element\n\t\t */\n\t\tlink.getIcon = function () {\n\t\t\tvar elm = false;\n\t\t\t//get link element\n\t\t\tvar getLink = function () {\n\t\t\t\tvar link = _doc.getElementsByTagName('head')[0].getElementsByTagName('link');\n\t\t\t\tfor (var l = link.length, i = (l - 1); i >= 0; i--) {\n\t\t\t\t\tif ((/(^|\\s)icon(\\s|$)/i).test(link[i].getAttribute('rel'))) {\n\t\t\t\t\t\treturn link[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tif (_opt.element) {\n\t\t\t\telm = _opt.element;\n\t\t\t} else if (_opt.elementId) {\n\t\t\t\t//if img element identified by elementId\n\t\t\t\telm = _doc.getElementById(_opt.elementId);\n\t\t\t\telm.setAttribute('href', elm.getAttribute('src'));\n\t\t\t} else {\n\t\t\t\t//if link element\n\t\t\t\telm = getLink();\n\t\t\t\tif (elm === false) {\n\t\t\t\t\telm = _doc.createElement('link');\n\t\t\t\t\telm.setAttribute('rel', 'icon');\n\t\t\t\t\t_doc.getElementsByTagName('head')[0].appendChild(elm);\n\t\t\t\t}\n\t\t\t}\n\t\t\telm.setAttribute('type', 'image/png');\n\t\t\treturn elm;\n\t\t};\n\t\tlink.setIcon = function (canvas) {\n\t\t\tvar url = canvas.toDataURL('image/png');\n\t\t\tif (_opt.dataUrl) {\n\t\t\t\t//if using custom exporter\n\t\t\t\t_opt.dataUrl(url);\n\t\t\t}\n\t\t\tif (_opt.element) {\n\t\t\t\t_opt.element.setAttribute('href', url);\n\t\t\t\t_opt.element.setAttribute('src', url);\n\t\t\t} else if (_opt.elementId) {\n\t\t\t\t//if is attached to element (image)\n\t\t\t\tvar elm = _doc.getElementById(_opt.elementId);\n\t\t\t\telm.setAttribute('href', url);\n\t\t\t\telm.setAttribute('src', url);\n\t\t\t} else {\n\t\t\t\t//if is attached to fav icon\n\t\t\t\tif (_browser.ff || _browser.opera) {\n\t\t\t\t\t//for FF we need to \"recreate\" element, atach to dom and remove old <link>\n\t\t\t\t\t//var originalType = _orig.getAttribute('rel');\n\t\t\t\t\tvar old = _orig;\n\t\t\t\t\t_orig = _doc.createElement('link');\n\t\t\t\t\t//_orig.setAttribute('rel', originalType);\n\t\t\t\t\tif (_browser.opera) {\n\t\t\t\t\t\t_orig.setAttribute('rel', 'icon');\n\t\t\t\t\t}\n\t\t\t\t\t_orig.setAttribute('rel', 'icon');\n\t\t\t\t\t_orig.setAttribute('type', 'image/png');\n\t\t\t\t\t_doc.getElementsByTagName('head')[0].appendChild(_orig);\n\t\t\t\t\t_orig.setAttribute('href', url);\n\t\t\t\t\tif (old.parentNode) {\n\t\t\t\t\t\told.parentNode.removeChild(old);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t_orig.setAttribute('href', url);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t//http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb#answer-5624139\n\t\t//HEX to RGB convertor\n\t\tfunction hexToRgb(hex) {\n\t\t\tvar shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n\t\t\thex = hex.replace(shorthandRegex, function (m, r, g, b) {\n\t\t\t\treturn r + r + g + g + b + b;\n\t\t\t});\n\t\t\tvar result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\t\t\treturn result ? {\n\t\t\t\tr: parseInt(result[1], 16),\n\t\t\t\tg: parseInt(result[2], 16),\n\t\t\t\tb: parseInt(result[3], 16)\n\t\t\t} : false;\n\t\t}\n\n\t\t/**\n\t\t * Merge options\n\t\t */\n\t\tfunction merge(def, opt) {\n\t\t\tvar mergedOpt = {};\n\t\t\tvar attrname;\n\t\t\tfor (attrname in def) {\n\t\t\t\tmergedOpt[attrname] = def[attrname];\n\t\t\t}\n\t\t\tfor (attrname in opt) {\n\t\t\t\tmergedOpt[attrname] = opt[attrname];\n\t\t\t}\n\t\t\treturn mergedOpt;\n\t\t}\n\n\t\t/**\n\t\t * Cross-browser page visibility shim\n\t\t * http://stackoverflow.com/questions/12536562/detect-whether-a-window-is-visible\n\t\t */\n\t\tfunction isPageHidden() {\n\t\t\treturn _doc.hidden || _doc.msHidden || _doc.webkitHidden || _doc.mozHidden;\n\t\t}\n\n\t\t/**\n\t\t * @namespace animation\n\t\t */\n\t\tvar animation = {};\n\t\t/**\n\t\t * Animation \"frame\" duration\n\t\t */\n\t\tanimation.duration = 40;\n\t\t/**\n\t\t * Animation types (none,fade,pop,slide)\n\t\t */\n\t\tanimation.types = {};\n\t\tanimation.types.fade = [{\n\t\t\tx: 0.4,\n\t\t\ty: 0.4,\n\t\t\tw: 0.6,\n\t\t\th: 0.6,\n\t\t\to: 0.0\n\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.2\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.3\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.4\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.5\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.6\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.7\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.8\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.9\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1.0\n\t\t\t}];\n\t\tanimation.types.none = [{\n\t\t\tx: 0.4,\n\t\t\ty: 0.4,\n\t\t\tw: 0.6,\n\t\t\th: 0.6,\n\t\t\to: 1\n\t\t}];\n\t\tanimation.types.pop = [{\n\t\t\tx: 1,\n\t\t\ty: 1,\n\t\t\tw: 0,\n\t\t\th: 0,\n\t\t\to: 1\n\t\t}, {\n\t\t\t\tx: 0.9,\n\t\t\t\ty: 0.9,\n\t\t\t\tw: 0.1,\n\t\t\t\th: 0.1,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.8,\n\t\t\t\ty: 0.8,\n\t\t\t\tw: 0.2,\n\t\t\t\th: 0.2,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.7,\n\t\t\t\ty: 0.7,\n\t\t\t\tw: 0.3,\n\t\t\t\th: 0.3,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.6,\n\t\t\t\ty: 0.6,\n\t\t\t\tw: 0.4,\n\t\t\t\th: 0.4,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.5,\n\t\t\t\ty: 0.5,\n\t\t\t\tw: 0.5,\n\t\t\t\th: 0.5,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}];\n\t\tanimation.types.popFade = [{\n\t\t\tx: 0.75,\n\t\t\ty: 0.75,\n\t\t\tw: 0,\n\t\t\th: 0,\n\t\t\to: 0\n\t\t}, {\n\t\t\t\tx: 0.65,\n\t\t\t\ty: 0.65,\n\t\t\t\tw: 0.1,\n\t\t\t\th: 0.1,\n\t\t\t\to: 0.2\n\t\t\t}, {\n\t\t\t\tx: 0.6,\n\t\t\t\ty: 0.6,\n\t\t\t\tw: 0.2,\n\t\t\t\th: 0.2,\n\t\t\t\to: 0.4\n\t\t\t}, {\n\t\t\t\tx: 0.55,\n\t\t\t\ty: 0.55,\n\t\t\t\tw: 0.3,\n\t\t\t\th: 0.3,\n\t\t\t\to: 0.6\n\t\t\t}, {\n\t\t\t\tx: 0.50,\n\t\t\t\ty: 0.50,\n\t\t\t\tw: 0.4,\n\t\t\t\th: 0.4,\n\t\t\t\to: 0.8\n\t\t\t}, {\n\t\t\t\tx: 0.45,\n\t\t\t\ty: 0.45,\n\t\t\t\tw: 0.5,\n\t\t\t\th: 0.5,\n\t\t\t\to: 0.9\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}];\n\t\tanimation.types.slide = [{\n\t\t\tx: 0.4,\n\t\t\ty: 1,\n\t\t\tw: 0.6,\n\t\t\th: 0.6,\n\t\t\to: 1\n\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.9,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.9,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.8,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.7,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.6,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.5,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}];\n\t\t/**\n\t\t * Run animation\n\t\t * @param {Object} opt Animation options\n\t\t * @param {Object} cb Callabak after all steps are done\n\t\t * @param {Object} revert Reverse order? true|false\n\t\t * @param {Object} step Optional step number (frame bumber)\n\t\t */\n\t\tanimation.run = function (opt, cb, revert, step) {\n\t\t\tvar animationType = animation.types[isPageHidden() ? 'none' : _opt.animation];\n\t\t\tif (revert === true) {\n\t\t\t\tstep = (typeof step !== 'undefined') ? step : animationType.length - 1;\n\t\t\t} else {\n\t\t\t\tstep = (typeof step !== 'undefined') ? step : 0;\n\t\t\t}\n\t\t\tcb = (cb) ? cb : function () {\n\t\t\t};\n\t\t\tif ((step < animationType.length) && (step >= 0)) {\n\t\t\t\ttype[_opt.type](merge(opt, animationType[step]));\n\t\t\t\t_animTimeout = setTimeout(function () {\n\t\t\t\t\tif (revert) {\n\t\t\t\t\t\tstep = step - 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstep = step + 1;\n\t\t\t\t\t}\n\t\t\t\t\tanimation.run(opt, cb, revert, step);\n\t\t\t\t}, animation.duration);\n\n\t\t\t\tlink.setIcon(_canvas);\n\t\t\t} else {\n\t\t\t\tcb();\n\t\t\t\treturn;\n\t\t\t}\n\t\t};\n\t\t//auto init\n\t\tinit();\n\t\treturn {\n\t\t\tbadge: badge,\n\t\t\tvideo: video,\n\t\t\timage: image,\n\t\t\twebcam: webcam,\n\t\t\treset: icon.reset,\n\t\t\tbrowser: {\n\t\t\t\tsupported: _browser.supported\n\t\t\t}\n\t\t};\n\t});\n\n\t// AMD / RequireJS\n\tif (typeof define !== 'undefined' && define.amd) {\n\t\tdefine([], function () {\n\t\t\treturn Favico;\n\t\t});\n\t}\n\t// CommonJS\n\telse if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = Favico;\n\t}\n\t// included directly via <script> tag\n\telse {\n\t\tthis.Favico = Favico;\n\t}\n\n})();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAHQElEQVRYR8WXe1BU9xXHP5dld+WxLoKKSEAeGgxqFIVRjAn4BBIVUkzBOoUqDJmojYIZtT7qI2k6VVGZBGOtWlNMpz5wTBFfqIAtAg6klVGCCvHFQ1ieA8qyC3s7966A6JpabZLz1+7vnnvO957f95zf9yfwE5sg5a8RRbGp5cdHMkALMoDSZlFsbmh/cQSCFQprBV2dXSCa+sRRqtTY2gkIVgKGDpGHbfqe5w5ONmYA1xpNYktT74P/FYmVQoG+/SEOjlpUaoHOTpGOdhGlSkB3v5b0r/bSWK9j5uxIJr71Jm0t5lzaAf1eHoC9th/nT2SwOSmOQUNewW/iZPwmvcVY/0mIJpFFEcGorTpxdnbmctE3rN+6h/cWxssg/i8ApDIujoqgtvoewaEh5F3I5m5FGQaDASuFEt+RI8i7lI9CoSB521Z+s24D567UYGNnj7294uU4oFAqMXboCRnnwqpPU4n7MIbGRmiqb6b63g2S4n7B7FnB/HHPXrnkN2/c4FUfH47nlePm6Y2N7SMSvigHbO37UXAxh8VRM8kovMXgIa4YDR1IwAY5K9i9bRc7fvtrzmfn4OHhSUL8Ir6tqCT94hU6jaDpr3w5DgwY2I/NScsoupTLkZx/92G4REylUsHmjxLIOPSl/NtpsCufHczAy8eX9gcvyAEpsEJhLTNcYnzIuOHMjVpI0qa16O4bMHV19TSRVAm1WsH1q9dobW1m5Khx2GnseNCmx0p4rAv+2xzo7mUpcltbF80NOpoadXx3/VvWLI5m484/Exg0HTv7AWgd7bESRPR6gY5282xR29igUIh0dQkYDb0g+8wBKbDEym4zGkEUQaWCu7cqyT17gpyzGdwsLaGtpRHELqwEAZVKjbGzE4OxExs7DV4+owgMmsm0sAhGjhmFSZpNIggCNDe2YG1tzQAnO/lDerqgQi+KNffaOHRgFwW5WTg4DuS92PcZNNiZ1C0byTl9HEetPUFBwQQFB+PrO4phHh5oNBoEQeBBWxu6+nquXb3KxdwccnKyuXWnkjH+gSxb+ykarQPJG1dSUpyPtbWSaW+/y4oNWxnqrjWTsKSuXYwMmkhT7V3CIyKoq60lI/OUXIzAiQGsWr2G0LAwVFI5ntMK8vPZsT2Zo8eOI4omZs2YRmLSCmru32fD+nVoBrnxdV6BGUDc8g3imcO7uVp6Ha1WS3R0NFlZWaSmfk509PznTGnZLf/SJRISElBYW5ObmyvH1+l0uLo4k/zlaTOA4b5+4pK4BSxLTCIyMpIL589TVFyMt7d3b9QbpXDkEEzwh9A5lrPdqYBj6eDnB8Eze3zaHz4kJDSUiooKysrK5K2bGDCeCdMjzQD8Jk0VZ08PZPKUNwkLC6OkpITRo0f3JqmrgdfHINQ1ymviuVMwLaQviEYdjB+HcLfG7HPhTB8QRqMRNzc3wsPD2bF9O06ODvxh3wkzgJS0THHlorkyi+Pj49myZUvf4MUFCAGTe9bE32+CVev7+vzrMsKESb0+H6+HtZv6+Jw5c4Y5c+bg5TEMoZ+WjPwiM4AqURRXxC/nb/tS5DJ5eXn1DW7Qwy/nw+Hj4DsCTp0Gdws+P4+Er0+CpxuczYLhPk9tlcuQwTgM8WTP4ZO4DnMyA7hnMomZ6TmsiouguroaG1tby3ss8cBtGNjYPZuYV4rBwxO0jhZ9Aib4yXu/8uN1dLQ/Ooxud5rEk+kXSIx5m8rKKpycnF6K+d/38shXRxAcEcuyNetkN7kCNx+YxNsVOmaNdeHokUO8+7PIHwTA3Tt38PD05E/H/kHAG2+gVD6mCaWMy3+1gNtXC7l+s9wigJ07dzJlyhT8/f0tPm9paSE1NZUlS5bI/f6kLZgfRU5+MScKrmPo6KK/g6r3ONa3m2TdFjLenQ/ej+ezz1OfChAbG0taWhpRUVHMmDEDby8vlCoVdXV1FBYWcuDAATlxUVGR3OuP28GDacTExLInPZtJQUGWJZmk0fKyc0mInEp83CJ2fbFbPjwet8zMTPbv3y/PitbWVkwmkzyi3d3dmTdvHkuXLn1qZKekpJCYmEjShmTiE5PoVuAWNaG0ePmfeXwYE4Gzo4ZtyTuYGx5useR6vV4+/6WukQ6lJ624uJhVKz/iQnYuG3fsI2rRQpoaDD3SvQfAk3pA42BDQ10DKZ+s5vhf9zPC25OY2BjeeWcOr/n6olarLQKSqlFRXs658+f4Ku0v5OUXEjBlBqt/t5PXxo7q+fLul7/3XiCJEDuNFTdLb3A0bS9Zfz9MfW0Vjg79cXUdiovLUJwGDpQ1gUS+qqpKKquq0dU3YqtxYPLUUKIXfsD4wEC6OpEl2JP2XLJcUjOSen3QauJWeSllJd/wXXkZ1ffu0NLUIMe0te/PK+4euHkMx2f0WEaMfF3W/JKoefwm9EIAul+SRaZKhUoNikfCSbp4dJt09ZL+GwzQoTf20YbPGirP5MAPMoUsBO3hwE95O/4PY9MuHly+U4UAAAAASUVORK5CYII=\"","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","module.exports = require('./head');\n","var mapping = require('./_mapping'),\n    fallbackHolder = require('./placeholder');\n\n/** Built-in value reference. */\nvar push = Array.prototype.push;\n\n/**\n * Creates a function, with an arity of `n`, that invokes `func` with the\n * arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} n The arity of the new function.\n * @returns {Function} Returns the new function.\n */\nfunction baseArity(func, n) {\n  return n == 2\n    ? function(a, b) { return func.apply(undefined, arguments); }\n    : function(a) { return func.apply(undefined, arguments); };\n}\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments, ignoring\n * any additional arguments.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @param {number} n The arity cap.\n * @returns {Function} Returns the new function.\n */\nfunction baseAry(func, n) {\n  return n == 2\n    ? function(a, b) { return func(a, b); }\n    : function(a) { return func(a); };\n}\n\n/**\n * Creates a clone of `array`.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the cloned array.\n */\nfunction cloneArray(array) {\n  var length = array ? array.length : 0,\n      result = Array(length);\n\n  while (length--) {\n    result[length] = array[length];\n  }\n  return result;\n}\n\n/**\n * Creates a function that clones a given object using the assignment `func`.\n *\n * @private\n * @param {Function} func The assignment function.\n * @returns {Function} Returns the new cloner function.\n */\nfunction createCloner(func) {\n  return function(object) {\n    return func({}, object);\n  };\n}\n\n/**\n * A specialized version of `_.spread` which flattens the spread array into\n * the arguments of the invoked `func`.\n *\n * @private\n * @param {Function} func The function to spread arguments over.\n * @param {number} start The start position of the spread.\n * @returns {Function} Returns the new function.\n */\nfunction flatSpread(func, start) {\n  return function() {\n    var length = arguments.length,\n        lastIndex = length - 1,\n        args = Array(length);\n\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var array = args[start],\n        otherArgs = args.slice(0, start);\n\n    if (array) {\n      push.apply(otherArgs, array);\n    }\n    if (start != lastIndex) {\n      push.apply(otherArgs, args.slice(start + 1));\n    }\n    return func.apply(this, otherArgs);\n  };\n}\n\n/**\n * Creates a function that wraps `func` and uses `cloner` to clone the first\n * argument it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} cloner The function to clone arguments.\n * @returns {Function} Returns the new immutable function.\n */\nfunction wrapImmutable(func, cloner) {\n  return function() {\n    var length = arguments.length;\n    if (!length) {\n      return;\n    }\n    var args = Array(length);\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var result = args[0] = cloner.apply(undefined, args);\n    func.apply(undefined, args);\n    return result;\n  };\n}\n\n/**\n * The base implementation of `convert` which accepts a `util` object of methods\n * required to perform conversions.\n *\n * @param {Object} util The util object.\n * @param {string} name The name of the function to convert.\n * @param {Function} func The function to convert.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.cap=true] Specify capping iteratee arguments.\n * @param {boolean} [options.curry=true] Specify currying.\n * @param {boolean} [options.fixed=true] Specify fixed arity.\n * @param {boolean} [options.immutable=true] Specify immutable operations.\n * @param {boolean} [options.rearg=true] Specify rearranging arguments.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction baseConvert(util, name, func, options) {\n  var isLib = typeof name == 'function',\n      isObj = name === Object(name);\n\n  if (isObj) {\n    options = func;\n    func = name;\n    name = undefined;\n  }\n  if (func == null) {\n    throw new TypeError;\n  }\n  options || (options = {});\n\n  var config = {\n    'cap': 'cap' in options ? options.cap : true,\n    'curry': 'curry' in options ? options.curry : true,\n    'fixed': 'fixed' in options ? options.fixed : true,\n    'immutable': 'immutable' in options ? options.immutable : true,\n    'rearg': 'rearg' in options ? options.rearg : true\n  };\n\n  var defaultHolder = isLib ? func : fallbackHolder,\n      forceCurry = ('curry' in options) && options.curry,\n      forceFixed = ('fixed' in options) && options.fixed,\n      forceRearg = ('rearg' in options) && options.rearg,\n      pristine = isLib ? func.runInContext() : undefined;\n\n  var helpers = isLib ? func : {\n    'ary': util.ary,\n    'assign': util.assign,\n    'clone': util.clone,\n    'curry': util.curry,\n    'forEach': util.forEach,\n    'isArray': util.isArray,\n    'isError': util.isError,\n    'isFunction': util.isFunction,\n    'isWeakMap': util.isWeakMap,\n    'iteratee': util.iteratee,\n    'keys': util.keys,\n    'rearg': util.rearg,\n    'toInteger': util.toInteger,\n    'toPath': util.toPath\n  };\n\n  var ary = helpers.ary,\n      assign = helpers.assign,\n      clone = helpers.clone,\n      curry = helpers.curry,\n      each = helpers.forEach,\n      isArray = helpers.isArray,\n      isError = helpers.isError,\n      isFunction = helpers.isFunction,\n      isWeakMap = helpers.isWeakMap,\n      keys = helpers.keys,\n      rearg = helpers.rearg,\n      toInteger = helpers.toInteger,\n      toPath = helpers.toPath;\n\n  var aryMethodKeys = keys(mapping.aryMethod);\n\n  var wrappers = {\n    'castArray': function(castArray) {\n      return function() {\n        var value = arguments[0];\n        return isArray(value)\n          ? castArray(cloneArray(value))\n          : castArray.apply(undefined, arguments);\n      };\n    },\n    'iteratee': function(iteratee) {\n      return function() {\n        var func = arguments[0],\n            arity = arguments[1],\n            result = iteratee(func, arity),\n            length = result.length;\n\n        if (config.cap && typeof arity == 'number') {\n          arity = arity > 2 ? (arity - 2) : 1;\n          return (length && length <= arity) ? result : baseAry(result, arity);\n        }\n        return result;\n      };\n    },\n    'mixin': function(mixin) {\n      return function(source) {\n        var func = this;\n        if (!isFunction(func)) {\n          return mixin(func, Object(source));\n        }\n        var pairs = [];\n        each(keys(source), function(key) {\n          if (isFunction(source[key])) {\n            pairs.push([key, func.prototype[key]]);\n          }\n        });\n\n        mixin(func, Object(source));\n\n        each(pairs, function(pair) {\n          var value = pair[1];\n          if (isFunction(value)) {\n            func.prototype[pair[0]] = value;\n          } else {\n            delete func.prototype[pair[0]];\n          }\n        });\n        return func;\n      };\n    },\n    'nthArg': function(nthArg) {\n      return function(n) {\n        var arity = n < 0 ? 1 : (toInteger(n) + 1);\n        return curry(nthArg(n), arity);\n      };\n    },\n    'rearg': function(rearg) {\n      return function(func, indexes) {\n        var arity = indexes ? indexes.length : 0;\n        return curry(rearg(func, indexes), arity);\n      };\n    },\n    'runInContext': function(runInContext) {\n      return function(context) {\n        return baseConvert(util, runInContext(context), options);\n      };\n    }\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Casts `func` to a function with an arity capped iteratee if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCap(name, func) {\n    if (config.cap) {\n      var indexes = mapping.iterateeRearg[name];\n      if (indexes) {\n        return iterateeRearg(func, indexes);\n      }\n      var n = !isLib && mapping.iterateeAry[name];\n      if (n) {\n        return iterateeAry(func, n);\n      }\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to a curried function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCurry(name, func, n) {\n    return (forceCurry || (config.curry && n > 1))\n      ? curry(func, n)\n      : func;\n  }\n\n  /**\n   * Casts `func` to a fixed arity function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the cast function.\n   */\n  function castFixed(name, func, n) {\n    if (config.fixed && (forceFixed || !mapping.skipFixed[name])) {\n      var data = mapping.methodSpread[name],\n          start = data && data.start;\n\n      return start  === undefined ? ary(func, n) : flatSpread(func, start);\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to an rearged function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castRearg(name, func, n) {\n    return (config.rearg && n > 1 && (forceRearg || !mapping.skipRearg[name]))\n      ? rearg(func, mapping.methodRearg[name] || mapping.aryRearg[n])\n      : func;\n  }\n\n  /**\n   * Creates a clone of `object` by `path`.\n   *\n   * @private\n   * @param {Object} object The object to clone.\n   * @param {Array|string} path The path to clone by.\n   * @returns {Object} Returns the cloned object.\n   */\n  function cloneByPath(object, path) {\n    path = toPath(path);\n\n    var index = -1,\n        length = path.length,\n        lastIndex = length - 1,\n        result = clone(Object(object)),\n        nested = result;\n\n    while (nested != null && ++index < length) {\n      var key = path[index],\n          value = nested[key];\n\n      if (value != null &&\n          !(isFunction(value) || isError(value) || isWeakMap(value))) {\n        nested[key] = clone(index == lastIndex ? value : Object(value));\n      }\n      nested = nested[key];\n    }\n    return result;\n  }\n\n  /**\n   * Converts `lodash` to an immutable auto-curried iteratee-first data-last\n   * version with conversion `options` applied.\n   *\n   * @param {Object} [options] The options object. See `baseConvert` for more details.\n   * @returns {Function} Returns the converted `lodash`.\n   */\n  function convertLib(options) {\n    return _.runInContext.convert(options)(undefined);\n  }\n\n  /**\n   * Create a converter function for `func` of `name`.\n   *\n   * @param {string} name The name of the function to convert.\n   * @param {Function} func The function to convert.\n   * @returns {Function} Returns the new converter function.\n   */\n  function createConverter(name, func) {\n    var realName = mapping.aliasToReal[name] || name,\n        methodName = mapping.remap[realName] || realName,\n        oldOptions = options;\n\n    return function(options) {\n      var newUtil = isLib ? pristine : helpers,\n          newFunc = isLib ? pristine[methodName] : func,\n          newOptions = assign(assign({}, oldOptions), options);\n\n      return baseConvert(newUtil, realName, newFunc, newOptions);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee, with up to `n`\n   * arguments, ignoring any additional arguments.\n   *\n   * @private\n   * @param {Function} func The function to cap iteratee arguments for.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeAry(func, n) {\n    return overArg(func, function(func) {\n      return typeof func == 'function' ? baseAry(func, n) : func;\n    });\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee with arguments\n   * arranged according to the specified `indexes` where the argument value at\n   * the first index is provided as the first argument, the argument value at\n   * the second index is provided as the second argument, and so on.\n   *\n   * @private\n   * @param {Function} func The function to rearrange iteratee arguments for.\n   * @param {number[]} indexes The arranged argument indexes.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeRearg(func, indexes) {\n    return overArg(func, function(func) {\n      var n = indexes.length;\n      return baseArity(rearg(baseAry(func, n), indexes), n);\n    });\n  }\n\n  /**\n   * Creates a function that invokes `func` with its first argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function() {\n      var length = arguments.length;\n      if (!length) {\n        return func();\n      }\n      var args = Array(length);\n      while (length--) {\n        args[length] = arguments[length];\n      }\n      var index = config.rearg ? 0 : (length - 1);\n      args[index] = transform(args[index]);\n      return func.apply(undefined, args);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` and applys the conversions\n   * rules by `name`.\n   *\n   * @private\n   * @param {string} name The name of the function to wrap.\n   * @param {Function} func The function to wrap.\n   * @returns {Function} Returns the converted function.\n   */\n  function wrap(name, func, placeholder) {\n    var result,\n        realName = mapping.aliasToReal[name] || name,\n        wrapped = func,\n        wrapper = wrappers[realName];\n\n    if (wrapper) {\n      wrapped = wrapper(func);\n    }\n    else if (config.immutable) {\n      if (mapping.mutate.array[realName]) {\n        wrapped = wrapImmutable(func, cloneArray);\n      }\n      else if (mapping.mutate.object[realName]) {\n        wrapped = wrapImmutable(func, createCloner(func));\n      }\n      else if (mapping.mutate.set[realName]) {\n        wrapped = wrapImmutable(func, cloneByPath);\n      }\n    }\n    each(aryMethodKeys, function(aryKey) {\n      each(mapping.aryMethod[aryKey], function(otherName) {\n        if (realName == otherName) {\n          var data = mapping.methodSpread[realName],\n              afterRearg = data && data.afterRearg;\n\n          result = afterRearg\n            ? castFixed(realName, castRearg(realName, wrapped, aryKey), aryKey)\n            : castRearg(realName, castFixed(realName, wrapped, aryKey), aryKey);\n\n          result = castCap(realName, result);\n          result = castCurry(realName, result, aryKey);\n          return false;\n        }\n      });\n      return !result;\n    });\n\n    result || (result = wrapped);\n    if (result == func) {\n      result = forceCurry ? curry(result, 1) : function() {\n        return func.apply(this, arguments);\n      };\n    }\n    result.convert = createConverter(realName, func);\n    result.placeholder = func.placeholder = placeholder;\n\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  if (!isObj) {\n    return wrap(name, func, defaultHolder);\n  }\n  var _ = func;\n\n  // Convert methods by ary cap.\n  var pairs = [];\n  each(aryMethodKeys, function(aryKey) {\n    each(mapping.aryMethod[aryKey], function(key) {\n      var func = _[mapping.remap[key] || key];\n      if (func) {\n        pairs.push([key, wrap(key, func, _)]);\n      }\n    });\n  });\n\n  // Convert remaining methods.\n  each(keys(_), function(key) {\n    var func = _[key];\n    if (typeof func == 'function') {\n      var length = pairs.length;\n      while (length--) {\n        if (pairs[length][0] == key) {\n          return;\n        }\n      }\n      func.convert = createConverter(key, func);\n      pairs.push([key, func]);\n    }\n  });\n\n  // Assign to `_` leaving `_.prototype` unchanged to allow chaining.\n  each(pairs, function(pair) {\n    _[pair[0]] = pair[1];\n  });\n\n  _.convert = convertLib;\n  _.placeholder = _;\n\n  // Assign aliases.\n  each(keys(_), function(key) {\n    each(mapping.realToAlias[key] || [], function(alias) {\n      _[alias] = _[key];\n    });\n  });\n\n  return _;\n}\n\nmodule.exports = baseConvert;\n","/** Used to map aliases to their real names. */\nexports.aliasToReal = {\n\n  // Lodash aliases.\n  'each': 'forEach',\n  'eachRight': 'forEachRight',\n  'entries': 'toPairs',\n  'entriesIn': 'toPairsIn',\n  'extend': 'assignIn',\n  'extendAll': 'assignInAll',\n  'extendAllWith': 'assignInAllWith',\n  'extendWith': 'assignInWith',\n  'first': 'head',\n\n  // Methods that are curried variants of others.\n  'conforms': 'conformsTo',\n  'matches': 'isMatch',\n  'property': 'get',\n\n  // Ramda aliases.\n  '__': 'placeholder',\n  'F': 'stubFalse',\n  'T': 'stubTrue',\n  'all': 'every',\n  'allPass': 'overEvery',\n  'always': 'constant',\n  'any': 'some',\n  'anyPass': 'overSome',\n  'apply': 'spread',\n  'assoc': 'set',\n  'assocPath': 'set',\n  'complement': 'negate',\n  'compose': 'flowRight',\n  'contains': 'includes',\n  'dissoc': 'unset',\n  'dissocPath': 'unset',\n  'dropLast': 'dropRight',\n  'dropLastWhile': 'dropRightWhile',\n  'equals': 'isEqual',\n  'identical': 'eq',\n  'indexBy': 'keyBy',\n  'init': 'initial',\n  'invertObj': 'invert',\n  'juxt': 'over',\n  'omitAll': 'omit',\n  'nAry': 'ary',\n  'path': 'get',\n  'pathEq': 'matchesProperty',\n  'pathOr': 'getOr',\n  'paths': 'at',\n  'pickAll': 'pick',\n  'pipe': 'flow',\n  'pluck': 'map',\n  'prop': 'get',\n  'propEq': 'matchesProperty',\n  'propOr': 'getOr',\n  'props': 'at',\n  'symmetricDifference': 'xor',\n  'symmetricDifferenceBy': 'xorBy',\n  'symmetricDifferenceWith': 'xorWith',\n  'takeLast': 'takeRight',\n  'takeLastWhile': 'takeRightWhile',\n  'unapply': 'rest',\n  'unnest': 'flatten',\n  'useWith': 'overArgs',\n  'where': 'conformsTo',\n  'whereEq': 'isMatch',\n  'zipObj': 'zipObject'\n};\n\n/** Used to map ary to method names. */\nexports.aryMethod = {\n  '1': [\n    'assignAll', 'assignInAll', 'attempt', 'castArray', 'ceil', 'create',\n    'curry', 'curryRight', 'defaultsAll', 'defaultsDeepAll', 'floor', 'flow',\n    'flowRight', 'fromPairs', 'invert', 'iteratee', 'memoize', 'method', 'mergeAll',\n    'methodOf', 'mixin', 'nthArg', 'over', 'overEvery', 'overSome','rest', 'reverse',\n    'round', 'runInContext', 'spread', 'template', 'trim', 'trimEnd', 'trimStart',\n    'uniqueId', 'words', 'zipAll'\n  ],\n  '2': [\n    'add', 'after', 'ary', 'assign', 'assignAllWith', 'assignIn', 'assignInAllWith',\n    'at', 'before', 'bind', 'bindAll', 'bindKey', 'chunk', 'cloneDeepWith',\n    'cloneWith', 'concat', 'conformsTo', 'countBy', 'curryN', 'curryRightN',\n    'debounce', 'defaults', 'defaultsDeep', 'defaultTo', 'delay', 'difference',\n    'divide', 'drop', 'dropRight', 'dropRightWhile', 'dropWhile', 'endsWith', 'eq',\n    'every', 'filter', 'find', 'findIndex', 'findKey', 'findLast', 'findLastIndex',\n    'findLastKey', 'flatMap', 'flatMapDeep', 'flattenDepth', 'forEach',\n    'forEachRight', 'forIn', 'forInRight', 'forOwn', 'forOwnRight', 'get',\n    'groupBy', 'gt', 'gte', 'has', 'hasIn', 'includes', 'indexOf', 'intersection',\n    'invertBy', 'invoke', 'invokeMap', 'isEqual', 'isMatch', 'join', 'keyBy',\n    'lastIndexOf', 'lt', 'lte', 'map', 'mapKeys', 'mapValues', 'matchesProperty',\n    'maxBy', 'meanBy', 'merge', 'mergeAllWith', 'minBy', 'multiply', 'nth', 'omit',\n    'omitBy', 'overArgs', 'pad', 'padEnd', 'padStart', 'parseInt', 'partial',\n    'partialRight', 'partition', 'pick', 'pickBy', 'propertyOf', 'pull', 'pullAll',\n    'pullAt', 'random', 'range', 'rangeRight', 'rearg', 'reject', 'remove',\n    'repeat', 'restFrom', 'result', 'sampleSize', 'some', 'sortBy', 'sortedIndex',\n    'sortedIndexOf', 'sortedLastIndex', 'sortedLastIndexOf', 'sortedUniqBy',\n    'split', 'spreadFrom', 'startsWith', 'subtract', 'sumBy', 'take', 'takeRight',\n    'takeRightWhile', 'takeWhile', 'tap', 'throttle', 'thru', 'times', 'trimChars',\n    'trimCharsEnd', 'trimCharsStart', 'truncate', 'union', 'uniqBy', 'uniqWith',\n    'unset', 'unzipWith', 'without', 'wrap', 'xor', 'zip', 'zipObject',\n    'zipObjectDeep'\n  ],\n  '3': [\n    'assignInWith', 'assignWith', 'clamp', 'differenceBy', 'differenceWith',\n    'findFrom', 'findIndexFrom', 'findLastFrom', 'findLastIndexFrom', 'getOr',\n    'includesFrom', 'indexOfFrom', 'inRange', 'intersectionBy', 'intersectionWith',\n    'invokeArgs', 'invokeArgsMap', 'isEqualWith', 'isMatchWith', 'flatMapDepth',\n    'lastIndexOfFrom', 'mergeWith', 'orderBy', 'padChars', 'padCharsEnd',\n    'padCharsStart', 'pullAllBy', 'pullAllWith', 'rangeStep', 'rangeStepRight',\n    'reduce', 'reduceRight', 'replace', 'set', 'slice', 'sortedIndexBy',\n    'sortedLastIndexBy', 'transform', 'unionBy', 'unionWith', 'update', 'xorBy',\n    'xorWith', 'zipWith'\n  ],\n  '4': [\n    'fill', 'setWith', 'updateWith'\n  ]\n};\n\n/** Used to map ary to rearg configs. */\nexports.aryRearg = {\n  '2': [1, 0],\n  '3': [2, 0, 1],\n  '4': [3, 2, 0, 1]\n};\n\n/** Used to map method names to their iteratee ary. */\nexports.iterateeAry = {\n  'dropRightWhile': 1,\n  'dropWhile': 1,\n  'every': 1,\n  'filter': 1,\n  'find': 1,\n  'findFrom': 1,\n  'findIndex': 1,\n  'findIndexFrom': 1,\n  'findKey': 1,\n  'findLast': 1,\n  'findLastFrom': 1,\n  'findLastIndex': 1,\n  'findLastIndexFrom': 1,\n  'findLastKey': 1,\n  'flatMap': 1,\n  'flatMapDeep': 1,\n  'flatMapDepth': 1,\n  'forEach': 1,\n  'forEachRight': 1,\n  'forIn': 1,\n  'forInRight': 1,\n  'forOwn': 1,\n  'forOwnRight': 1,\n  'map': 1,\n  'mapKeys': 1,\n  'mapValues': 1,\n  'partition': 1,\n  'reduce': 2,\n  'reduceRight': 2,\n  'reject': 1,\n  'remove': 1,\n  'some': 1,\n  'takeRightWhile': 1,\n  'takeWhile': 1,\n  'times': 1,\n  'transform': 2\n};\n\n/** Used to map method names to iteratee rearg configs. */\nexports.iterateeRearg = {\n  'mapKeys': [1],\n  'reduceRight': [1, 0]\n};\n\n/** Used to map method names to rearg configs. */\nexports.methodRearg = {\n  'assignInAllWith': [1, 0],\n  'assignInWith': [1, 2, 0],\n  'assignAllWith': [1, 0],\n  'assignWith': [1, 2, 0],\n  'differenceBy': [1, 2, 0],\n  'differenceWith': [1, 2, 0],\n  'getOr': [2, 1, 0],\n  'intersectionBy': [1, 2, 0],\n  'intersectionWith': [1, 2, 0],\n  'isEqualWith': [1, 2, 0],\n  'isMatchWith': [2, 1, 0],\n  'mergeAllWith': [1, 0],\n  'mergeWith': [1, 2, 0],\n  'padChars': [2, 1, 0],\n  'padCharsEnd': [2, 1, 0],\n  'padCharsStart': [2, 1, 0],\n  'pullAllBy': [2, 1, 0],\n  'pullAllWith': [2, 1, 0],\n  'rangeStep': [1, 2, 0],\n  'rangeStepRight': [1, 2, 0],\n  'setWith': [3, 1, 2, 0],\n  'sortedIndexBy': [2, 1, 0],\n  'sortedLastIndexBy': [2, 1, 0],\n  'unionBy': [1, 2, 0],\n  'unionWith': [1, 2, 0],\n  'updateWith': [3, 1, 2, 0],\n  'xorBy': [1, 2, 0],\n  'xorWith': [1, 2, 0],\n  'zipWith': [1, 2, 0]\n};\n\n/** Used to map method names to spread configs. */\nexports.methodSpread = {\n  'assignAll': { 'start': 0 },\n  'assignAllWith': { 'start': 0 },\n  'assignInAll': { 'start': 0 },\n  'assignInAllWith': { 'start': 0 },\n  'defaultsAll': { 'start': 0 },\n  'defaultsDeepAll': { 'start': 0 },\n  'invokeArgs': { 'start': 2 },\n  'invokeArgsMap': { 'start': 2 },\n  'mergeAll': { 'start': 0 },\n  'mergeAllWith': { 'start': 0 },\n  'partial': { 'start': 1 },\n  'partialRight': { 'start': 1 },\n  'without': { 'start': 1 },\n  'zipAll': { 'start': 0 }\n};\n\n/** Used to identify methods which mutate arrays or objects. */\nexports.mutate = {\n  'array': {\n    'fill': true,\n    'pull': true,\n    'pullAll': true,\n    'pullAllBy': true,\n    'pullAllWith': true,\n    'pullAt': true,\n    'remove': true,\n    'reverse': true\n  },\n  'object': {\n    'assign': true,\n    'assignAll': true,\n    'assignAllWith': true,\n    'assignIn': true,\n    'assignInAll': true,\n    'assignInAllWith': true,\n    'assignInWith': true,\n    'assignWith': true,\n    'defaults': true,\n    'defaultsAll': true,\n    'defaultsDeep': true,\n    'defaultsDeepAll': true,\n    'merge': true,\n    'mergeAll': true,\n    'mergeAllWith': true,\n    'mergeWith': true,\n  },\n  'set': {\n    'set': true,\n    'setWith': true,\n    'unset': true,\n    'update': true,\n    'updateWith': true\n  }\n};\n\n/** Used to map real names to their aliases. */\nexports.realToAlias = (function() {\n  var hasOwnProperty = Object.prototype.hasOwnProperty,\n      object = exports.aliasToReal,\n      result = {};\n\n  for (var key in object) {\n    var value = object[key];\n    if (hasOwnProperty.call(result, value)) {\n      result[value].push(key);\n    } else {\n      result[value] = [key];\n    }\n  }\n  return result;\n}());\n\n/** Used to map method names to other names. */\nexports.remap = {\n  'assignAll': 'assign',\n  'assignAllWith': 'assignWith',\n  'assignInAll': 'assignIn',\n  'assignInAllWith': 'assignInWith',\n  'curryN': 'curry',\n  'curryRightN': 'curryRight',\n  'defaultsAll': 'defaults',\n  'defaultsDeepAll': 'defaultsDeep',\n  'findFrom': 'find',\n  'findIndexFrom': 'findIndex',\n  'findLastFrom': 'findLast',\n  'findLastIndexFrom': 'findLastIndex',\n  'getOr': 'get',\n  'includesFrom': 'includes',\n  'indexOfFrom': 'indexOf',\n  'invokeArgs': 'invoke',\n  'invokeArgsMap': 'invokeMap',\n  'lastIndexOfFrom': 'lastIndexOf',\n  'mergeAll': 'merge',\n  'mergeAllWith': 'mergeWith',\n  'padChars': 'pad',\n  'padCharsEnd': 'padEnd',\n  'padCharsStart': 'padStart',\n  'propertyOf': 'get',\n  'rangeStep': 'range',\n  'rangeStepRight': 'rangeRight',\n  'restFrom': 'rest',\n  'spreadFrom': 'spread',\n  'trimChars': 'trim',\n  'trimCharsEnd': 'trimEnd',\n  'trimCharsStart': 'trimStart',\n  'zipAll': 'zip'\n};\n\n/** Used to track methods that skip fixing their arity. */\nexports.skipFixed = {\n  'castArray': true,\n  'flow': true,\n  'flowRight': true,\n  'iteratee': true,\n  'mixin': true,\n  'rearg': true,\n  'runInContext': true\n};\n\n/** Used to track methods that skip rearranging arguments. */\nexports.skipRearg = {\n  'add': true,\n  'assign': true,\n  'assignIn': true,\n  'bind': true,\n  'bindKey': true,\n  'concat': true,\n  'difference': true,\n  'divide': true,\n  'eq': true,\n  'gt': true,\n  'gte': true,\n  'isEqual': true,\n  'lt': true,\n  'lte': true,\n  'matchesProperty': true,\n  'merge': true,\n  'multiply': true,\n  'overArgs': true,\n  'partial': true,\n  'partialRight': true,\n  'propertyOf': true,\n  'random': true,\n  'range': true,\n  'rangeRight': true,\n  'subtract': true,\n  'zip': true,\n  'zipObject': true,\n  'zipObjectDeep': true\n};\n","module.exports = {\n  'ary': require('../ary'),\n  'assign': require('../_baseAssign'),\n  'clone': require('../clone'),\n  'curry': require('../curry'),\n  'forEach': require('../_arrayEach'),\n  'isArray': require('../isArray'),\n  'isError': require('../isError'),\n  'isFunction': require('../isFunction'),\n  'isWeakMap': require('../isWeakMap'),\n  'iteratee': require('../iteratee'),\n  'keys': require('../_baseKeys'),\n  'rearg': require('../rearg'),\n  'toInteger': require('../toInteger'),\n  'toPath': require('../toPath')\n};\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_ARY_FLAG = 128;\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments,\n * ignoring any additional arguments.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to cap arguments for.\n * @param {number} [n=func.length] The arity cap.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new capped function.\n * @example\n *\n * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n * // => [6, 8, 10]\n */\nfunction ary(func, n, guard) {\n  n = guard ? undefined : n;\n  n = (func && n == null) ? func.length : n;\n  return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n}\n\nmodule.exports = ary;\n","var createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBind;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    createHybrid = require('./_createHybrid'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurry;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n","var copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartial;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8;\n\n/**\n * Creates a function that accepts arguments of `func` and either invokes\n * `func` returning its result, if at least `arity` number of arguments have\n * been provided, or returns a function that accepts the remaining `func`\n * arguments, and so on. The arity of `func` may be specified if `func.length`\n * is not sufficient.\n *\n * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curry(abc);\n *\n * curried(1)(2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(1)(_, 3)(2);\n * // => [1, 2, 3]\n */\nfunction curry(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curry.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurry.placeholder = {};\n\nmodule.exports = curry;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike'),\n    isPlainObject = require('./isPlainObject');\n\n/** `Object#toString` result references. */\nvar domExcTag = '[object DOMException]',\n    errorTag = '[object Error]';\n\n/**\n * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n * `SyntaxError`, `TypeError`, or `URIError` object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n * @example\n *\n * _.isError(new Error);\n * // => true\n *\n * _.isError(Error);\n * // => false\n */\nfunction isError(value) {\n  if (!isObjectLike(value)) {\n    return false;\n  }\n  var tag = baseGetTag(value);\n  return tag == errorTag || tag == domExcTag ||\n    (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n}\n\nmodule.exports = isError;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar weakMapTag = '[object WeakMap]';\n\n/**\n * Checks if `value` is classified as a `WeakMap` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n * @example\n *\n * _.isWeakMap(new WeakMap);\n * // => true\n *\n * _.isWeakMap(new Map);\n * // => false\n */\nfunction isWeakMap(value) {\n  return isObjectLike(value) && getTag(value) == weakMapTag;\n}\n\nmodule.exports = isWeakMap;\n","var baseClone = require('./_baseClone'),\n    baseIteratee = require('./_baseIteratee');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1;\n\n/**\n * Creates a function that invokes `func` with the arguments of the created\n * function. If `func` is a property name, the created function returns the\n * property value for a given element. If `func` is an array or object, the\n * created function returns `true` for elements that contain the equivalent\n * source properties, otherwise it returns `false`.\n *\n * @static\n * @since 4.0.0\n * @memberOf _\n * @category Util\n * @param {*} [func=_.identity] The value to convert to a callback.\n * @returns {Function} Returns the callback.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, _.iteratee(['user', 'fred']));\n * // => [{ 'user': 'fred', 'age': 40 }]\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, _.iteratee('user'));\n * // => ['barney', 'fred']\n *\n * // Create custom iteratee shorthands.\n * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n *     return func.test(string);\n *   };\n * });\n *\n * _.filter(['abc', 'def'], /ef/);\n * // => ['def']\n */\nfunction iteratee(func) {\n  return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n}\n\nmodule.exports = iteratee;\n","var createWrap = require('./_createWrap'),\n    flatRest = require('./_flatRest');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a function that invokes `func` with arguments arranged according\n * to the specified `indexes` where the argument value at the first index is\n * provided as the first argument, the argument value at the second index is\n * provided as the second argument, and so on.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to rearrange arguments for.\n * @param {...(number|number[])} indexes The arranged argument indexes.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var rearged = _.rearg(function(a, b, c) {\n *   return [a, b, c];\n * }, [2, 0, 1]);\n *\n * rearged('b', 'c', 'a')\n * // => ['a', 'b', 'c']\n */\nvar rearg = flatRest(function(func, indexes) {\n  return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n});\n\nmodule.exports = rearg;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var arrayMap = require('./_arrayMap'),\n    copyArray = require('./_copyArray'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol'),\n    stringToPath = require('./_stringToPath'),\n    toKey = require('./_toKey'),\n    toString = require('./toString');\n\n/**\n * Converts `value` to a property path array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {*} value The value to convert.\n * @returns {Array} Returns the new property path array.\n * @example\n *\n * _.toPath('a.b.c');\n * // => ['a', 'b', 'c']\n *\n * _.toPath('a[0].b.c');\n * // => ['a', '0', 'b', 'c']\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return arrayMap(value, toKey);\n  }\n  return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n}\n\nmodule.exports = toPath;\n","var toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that invokes `func`, with the `this` binding and arguments\n * of the created function, while it's called less than `n` times. Subsequent\n * calls to the created function return the result of the last `func` invocation.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {number} n The number of calls at which `func` is no longer invoked.\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * jQuery(element).on('click', _.before(5, addContactToList));\n * // => Allows adding up to 4 contacts to the list.\n */\nfunction before(n, func) {\n  var result;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  n = toInteger(n);\n  return function() {\n    if (--n > 0) {\n      result = func.apply(this, arguments);\n    }\n    if (n <= 1) {\n      func = undefined;\n    }\n    return result;\n  };\n}\n\nmodule.exports = before;\n","module.exports = {\n  'cap': false,\n  'curry': false,\n  'fixed': false,\n  'immutable': false,\n  'rearg': false\n};\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var createFlow = require('./_createFlow');\n\n/**\n * Creates a function that returns the result of invoking the given functions\n * with the `this` binding of the created function, where each successive\n * invocation is supplied the return value of the previous.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {...(Function|Function[])} [funcs] The functions to invoke.\n * @returns {Function} Returns the new composite function.\n * @see _.flowRight\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var addSquare = _.flow([_.add, square]);\n * addSquare(1, 2);\n * // => 9\n */\nvar flow = createFlow();\n\nmodule.exports = flow;\n","var LodashWrapper = require('./_LodashWrapper'),\n    flatRest = require('./_flatRest'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    isArray = require('./isArray'),\n    isLaziable = require('./_isLaziable');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a `_.flow` or `_.flowRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new flow function.\n */\nfunction createFlow(fromRight) {\n  return flatRest(function(funcs) {\n    var length = funcs.length,\n        index = length,\n        prereq = LodashWrapper.prototype.thru;\n\n    if (fromRight) {\n      funcs.reverse();\n    }\n    while (index--) {\n      var func = funcs[index];\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n        var wrapper = new LodashWrapper([], true);\n      }\n    }\n    index = wrapper ? index : length;\n    while (++index < length) {\n      func = funcs[index];\n\n      var funcName = getFuncName(func),\n          data = funcName == 'wrapper' ? getData(func) : undefined;\n\n      if (data && isLaziable(data[0]) &&\n            data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n            !data[4].length && data[9] == 1\n          ) {\n        wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n      } else {\n        wrapper = (func.length == 1 && isLaziable(func))\n          ? wrapper[funcName]()\n          : wrapper.thru(func);\n      }\n    }\n    return function() {\n      var args = arguments,\n          value = args[0];\n\n      if (wrapper && args.length == 1 && isArray(value)) {\n        return wrapper.plant(value).value();\n      }\n      var index = 0,\n          result = length ? funcs[index].apply(this, args) : value;\n\n      while (++index < length) {\n        result = funcs[index].call(this, result);\n      }\n      return result;\n    };\n  });\n}\n\nmodule.exports = createFlow;\n","/**\n * This method returns an empty string.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {string} Returns the empty string.\n * @example\n *\n * _.times(2, _.stubString);\n * // => ['', '']\n */\nfunction stubString() {\n  return '';\n}\n\nmodule.exports = stubString;\n","var apply = require('./_apply'),\n    arrayMap = require('./_arrayMap'),\n    unzip = require('./unzip');\n\n/**\n * This method is like `_.unzip` except that it accepts `iteratee` to specify\n * how regrouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  regrouped values.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n * // => [[1, 10, 100], [2, 20, 200]]\n *\n * _.unzipWith(zipped, _.add);\n * // => [3, 30, 300]\n */\nfunction unzipWith(array, iteratee) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var result = unzip(array);\n  if (iteratee == null) {\n    return result;\n  }\n  return arrayMap(result, function(group) {\n    return apply(iteratee, undefined, group);\n  });\n}\n\nmodule.exports = unzipWith;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","var basePullAll = require('./_basePullAll');\n\n/**\n * This method is like `_.pull` except that it accepts an array of values to remove.\n *\n * **Note:** Unlike `_.difference`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pullAll(array, ['a', 'c']);\n * console.log(array);\n * // => ['b', 'b']\n */\nfunction pullAll(array, values) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values)\n    : array;\n}\n\nmodule.exports = pullAll;\n","var arrayMap = require('./_arrayMap'),\n    baseIndexOf = require('./_baseIndexOf'),\n    baseIndexOfWith = require('./_baseIndexOfWith'),\n    baseUnary = require('./_baseUnary'),\n    copyArray = require('./_copyArray');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAllBy` without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAll(array, values, iteratee, comparator) {\n  var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n      index = -1,\n      length = values.length,\n      seen = array;\n\n  if (array === values) {\n    values = copyArray(values);\n  }\n  if (iteratee) {\n    seen = arrayMap(array, baseUnary(iteratee));\n  }\n  while (++index < length) {\n    var fromIndex = 0,\n        value = values[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n      if (seen !== array) {\n        splice.call(seen, fromIndex, 1);\n      }\n      splice.call(array, fromIndex, 1);\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAll;\n","/**\n * This function is like `baseIndexOf` except that it accepts a comparator.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOfWith(array, value, fromIndex, comparator) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (comparator(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseIndexOfWith;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var baseUnset = require('./_baseUnset'),\n    isIndex = require('./_isIndex');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAt` without support for individual\n * indexes or capturing the removed elements.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {number[]} indexes The indexes of elements to remove.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAt(array, indexes) {\n  var length = array ? indexes.length : 0,\n      lastIndex = length - 1;\n\n  while (length--) {\n    var index = indexes[length];\n    if (length == lastIndex || index !== previous) {\n      var previous = index;\n      if (isIndex(index)) {\n        splice.call(array, index, 1);\n      } else {\n        baseUnset(array, index);\n      }\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAt;\n","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],n):e.dayjs_locale_de=n(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var n={name:\"de\",weekdays:\"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag\".split(\"_\"),weekdaysShort:\"So._Mo._Di._Mi._Do._Fr._Sa.\".split(\"_\"),weekdaysMin:\"So_Mo_Di_Mi_Do_Fr_Sa\".split(\"_\"),months:\"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember\".split(\"_\"),monthsShort:\"Jan_Feb_Mrz_Apr_Mai_Juni_Juli_Aug_Sept_Okt_Nov_Dez\".split(\"_\"),ordinal:function(e){return e+\".\"},weekStart:1,formats:{LTS:\"HH:mm:ss\",LT:\"HH:mm\",L:\"DD.MM.YYYY\",LL:\"D. MMMM YYYY\",LLL:\"D. MMMM YYYY HH:mm\",LLLL:\"dddd, D. MMMM YYYY HH:mm\"},relativeTime:{future:\"in %s\",past:\"vor %s\",s:\"wenigen Sekunden\",m:\"einer Minute\",mm:\"%d Minuten\",h:\"einer Stunde\",hh:\"%d Stunden\",d:\"einem Tag\",dd:\"%d Tagen\",M:\"einem Monat\",MM:\"%d Monaten\",y:\"einem Jahr\",yy:\"%d Jahren\"}};return e.locale(n,null,!0),n});\n","!function(_,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],e):_.dayjs_locale_el=e(_.dayjs)}(this,function(_){\"use strict\";_=_&&_.hasOwnProperty(\"default\")?_.default:_;var e={name:\"el\",weekdays:\"______\".split(\"_\"),weekdaysShort:\"______\".split(\"_\"),weekdaysMin:\"______\".split(\"_\"),months:\"___________\".split(\"_\"),monthsShort:\"___________\".split(\"_\"),ordinal:function(_){return _},weekStart:1,relativeTime:{future:\" %s\",past:\" %s\",s:\" \",m:\" \",mm:\"%d \",h:\" \",hh:\"%d \",d:\" \",dd:\"%d \",M:\" \",MM:\"%d \",y:\" \",yy:\"%d \"},formats:{LT:\"h:mm A\",LTS:\"h:mm:ss A\",L:\"DD/MM/YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY h:mm A\",LLLL:\"dddd, D MMMM YYYY h:mm A\"}};return _.locale(e,null,!0),e});\n","!function(e,s){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=s(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],s):e.dayjs_locale_es=s(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var s={name:\"es\",monthsShort:\"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic\".split(\"_\"),weekdays:\"domingo_lunes_martes_mircoles_jueves_viernes_sbado\".split(\"_\"),weekdaysShort:\"dom._lun._mar._mi._jue._vie._sb.\".split(\"_\"),weekdaysMin:\"do_lu_ma_mi_ju_vi_s\".split(\"_\"),months:\"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre\".split(\"_\"),weekStart:1,formats:{LT:\"H:mm\",LTS:\"H:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D [de] MMMM [de] YYYY\",LLL:\"D [de] MMMM [de] YYYY H:mm\",LLLL:\"dddd, D [de] MMMM [de] YYYY H:mm\"},relativeTime:{future:\"en %s\",past:\"hace %s\",s:\"unos segundos\",m:\"un minuto\",mm:\"%d minutos\",h:\"una hora\",hh:\"%d horas\",d:\"un da\",dd:\"%d das\",M:\"un mes\",MM:\"%d meses\",y:\"un ao\",yy:\"%d aos\"},ordinal:function(e){return e+\"\"}};return e.locale(s,null,!0),s});\n","!function(Y,M){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=M(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],M):Y.dayjs_locale_he=M(Y.dayjs)}(this,function(Y){\"use strict\";Y=Y&&Y.hasOwnProperty(\"default\")?Y.default:Y;var M={name:\"he\",weekdays:\"______\".split(\"_\"),weekdaysShort:\"______\".split(\"_\"),weekdaysMin:\"______\".split(\"_\"),months:\"___________\".split(\"_\"),monthsShort:\"___________\".split(\"_\"),relativeTime:{future:\" %s\",past:\" %s\",s:\" \",m:\"\",mm:\"%d \",h:\"\",hh:\"%d \",d:\"\",dd:\"%d \",M:\"\",MM:\"%d \",y:\"\",yy:\"%d \"},ordinal:function(Y){return Y},format:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D []MMMM YYYY\",LLL:\"D []MMMM YYYY HH:mm\",LLLL:\"dddd, D []MMMM YYYY HH:mm\",l:\"D/M/YYYY\",ll:\"D MMM YYYY\",lll:\"D MMM YYYY HH:mm\",llll:\"ddd, D MMM YYYY HH:mm\"},formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D []MMMM YYYY\",LLL:\"D []MMMM YYYY HH:mm\",LLLL:\"dddd, D []MMMM YYYY HH:mm\",l:\"D/M/YYYY\",ll:\"D MMM YYYY\",lll:\"D MMM YYYY HH:mm\",llll:\"ddd, D MMM YYYY HH:mm\"}};return Y.locale(M,null,!0),M});\n","!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=o(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],o):e.dayjs_locale_it=o(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var o={name:\"it\",weekdays:\"domenica_luned_marted_mercoled_gioved_venerd_sabato\".split(\"_\"),weekdaysShort:\"dom_lun_mar_mer_gio_ven_sab\".split(\"_\"),weekdaysMin:\"do_lu_ma_me_gi_ve_sa\".split(\"_\"),months:\"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre\".split(\"_\"),weekStart:1,monthsShort:\"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic\".split(\"_\"),formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY HH:mm\",LLLL:\"dddd D MMMM YYYY HH:mm\"},relativeTime:{future:\"tra %s\",past:\"%s fa\",s:\"qualche secondo\",m:\"un minuto\",mm:\"%d minuti\",h:\"un' ora\",hh:\"%d ore\",d:\"un giorno\",dd:\"%d giorni\",M:\"un mese\",MM:\"%d mesi\",y:\"un anno\",yy:\"%d anni\"},ordinal:function(e){return e+\"\"}};return e.locale(o,null,!0),o});\n","!function(e,a){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=a(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],a):e.dayjs_locale_nl=a(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var a={name:\"nl\",weekdays:\"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag\".split(\"_\"),weekdaysShort:\"zo._ma._di._wo._do._vr._za.\".split(\"_\"),weekdaysMin:\"zo_ma_di_wo_do_vr_za\".split(\"_\"),months:\"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december\".split(\"_\"),monthsShort:\"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec\".split(\"_\"),ordinal:function(e){return e+\".\"},weekStart:1,formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD-MM-YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY HH:mm\",LLLL:\"dddd D MMMM YYYY HH:mm\"},relativeTime:{future:\"over %s\",past:\"%s geleden\",s:\"een paar seconden\",m:\"een minuut\",mm:\"%d minuten\",h:\"een uur\",hh:\"%d uur\",d:\"een dag\",dd:\"%d dagen\",M:\"een maand\",MM:\"%d maanden\",y:\"een jaar\",yy:\"%d jaar\"}};return e.locale(a,null,!0),a});\n","!function(e,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],i):e.dayjs_locale_pl=i(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var i={name:\"pl\",weekdays:\"Niedziela_Poniedziaek_Wtorek_roda_Czwartek_Pitek_Sobota\".split(\"_\"),weekdaysShort:\"Ndz_Pon_Wt_r_Czw_Pt_Sob\".split(\"_\"),weekdaysMin:\"Nd_Pn_Wt_r_Cz_Pt_So\".split(\"_\"),months:\"Stycze_Luty_Marzec_Kwiecie_Maj_Czerwiec_Lipiec_Sierpie_Wrzesie_Padziernik_Listopad_Grudzie\".split(\"_\"),monthsShort:\"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru\".split(\"_\"),ordinal:function(e){return e+\".\"},weekStart:1,relativeTime:{future:\"za %s\",past:\"po %s\",s:\"kilka sekund\",m:\"minuta\",mm:\"%d minut\",h:\"godzina\",hh:\"%d godzin\",d:\"dzie\",dd:\"%d dni\",M:\"miesic\",MM:\"%d miesicy\",y:\"rok\",yy:\"%d lat\"},formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD.MM.YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY HH:mm\",LLLL:\"dddd, D MMMM YYYY HH:mm\"}};return e.locale(i,null,!0),i});\n","!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=o(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],o):e.dayjs_locale_pt_br=o(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var o={name:\"pt-br\",weekdays:\"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado\".split(\"_\"),weekdaysShort:\"Dom_Seg_Ter_Qua_Qui_Sex_Sb\".split(\"_\"),weekdaysMin:\"Do_2_3_4_5_6_S\".split(\"_\"),weekStart:1,months:\"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro\".split(\"_\"),monthsShort:\"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez\".split(\"_\"),ordinal:function(e){return e+\"\"},formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D [de] MMMM [de] YYYY\",LLL:\"D [de] MMMM [de] YYYY [s] HH:mm\",LLLL:\"dddd, D [de] MMMM [de] YYYY [s] HH:mm\"},relativeTime:{future:\"em %s\",past:\"h %s\",s:\"poucos segundos\",m:\"um minuto\",mm:\"%d minutos\",h:\"uma hora\",hh:\"%d horas\",d:\"um dia\",dd:\"%d dias\",M:\"um ms\",MM:\"%d meses\",y:\"um ano\",yy:\"%d anos\"}};return e.locale(o,null,!0),o});\n","!function(e,a){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=a(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],a):e.dayjs_locale_pt=a(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var a={name:\"pt\",weekdays:\"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado\".split(\"_\"),weekdaysShort:\"Dom_Seg_Ter_Qua_Qui_Sex_Sab\".split(\"_\"),weekdaysMin:\"Do_2_3_4_5_6_Sa\".split(\"_\"),months:\"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro\".split(\"_\"),monthsShort:\"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez\".split(\"_\"),ordinal:function(e){return e+\"\"},weekStart:1,formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D [de] MMMM [de] YYYY\",LLL:\"D [de] MMMM [de] YYYY [s] HH:mm\",LLLL:\"dddd, D [de] MMMM [de] YYYY [s] HH:mm\"},relativeTime:{future:\"em %s\",past:\"h %s\",s:\"alguns segundos\",m:\"um minuto\",mm:\"%d minutos\",h:\"uma hora\",hh:\"%d horas\",d:\"um dia\",dd:\"%d dias\",M:\"um ms\",MM:\"%d meses\",y:\"um ano\",yy:\"%d anos\"}};return e.locale(a,null,!0),a});\n","!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.dayjs_plugin_relativeTime=t()}(this,function(){\"use strict\";return function(r,t,e){var n=t.prototype;e.en.relativeTime={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};var o=function(r,t,n,o){for(var d,i,u,a=n.$locale().relativeTime,f=[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],s=f.length,l=0;l<s;l+=1){var h=f[l];h.d&&(d=o?e(r).diff(n,h.d,!0):n.diff(r,h.d,!0));var m=Math.round(Math.abs(d));if(u=d>0,m<=h.r||!h.r){1===m&&l>0&&(h=f[l-1]);var c=a[h.l];i=\"string\"==typeof c?c.replace(\"%d\",m):c(m,t,h.l,u);break}}return t?i:(u?a.future:a.past).replace(\"%s\",i)};n.to=function(r,t){return o(r,t,this,!0)},n.from=function(r,t){return o(r,t,this)};var d=function(r){return r.$u?e.utc():e()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}});\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.dayjs_plugin_localizedFormat=t()}(this,function(){\"use strict\";return function(e,t,o){var n=t.prototype,r=n.format,M={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};o.en.formats=M;n.format=function(e){void 0===e&&(e=\"YYYY-MM-DDTHH:mm:ssZ\");var t=this.$locale().formats,o=void 0===t?{}:t,n=e.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,t,n){var r=n&&n.toUpperCase();return t||o[n]||M[n]||o[r].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,o){return t||o.slice(1)})});return r.call(this,n)}}});\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor,\n    nativeRandom = Math.random;\n\n/**\n * The base implementation of `_.random` without support for returning\n * floating-point numbers.\n *\n * @private\n * @param {number} lower The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the random number.\n */\nfunction baseRandom(lower, upper) {\n  return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n}\n\nmodule.exports = baseRandom;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that negates the result of the predicate `func`. The\n * `func` predicate is invoked with the `this` binding and arguments of the\n * created function.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} predicate The predicate to negate.\n * @returns {Function} Returns the new negated function.\n * @example\n *\n * function isEven(n) {\n *   return n % 2 == 0;\n * }\n *\n * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n * // => [1, 3, 5]\n */\nfunction negate(predicate) {\n  if (typeof predicate != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return function() {\n    var args = arguments;\n    switch (args.length) {\n      case 0: return !predicate.call(this);\n      case 1: return !predicate.call(this, args[0]);\n      case 2: return !predicate.call(this, args[0], args[1]);\n      case 3: return !predicate.call(this, args[0], args[1], args[2]);\n    }\n    return !predicate.apply(this, args);\n  };\n}\n\nmodule.exports = negate;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n * without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {Function} predicate The function invoked per iteration.\n * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseWhile(array, predicate, isDrop, fromRight) {\n  var length = array.length,\n      index = fromRight ? length : -1;\n\n  while ((fromRight ? index-- : ++index < length) &&\n    predicate(array[index], index, array)) {}\n\n  return isDrop\n    ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n    : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n}\n\nmodule.exports = baseWhile;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` from `start` up to, but not including, `end`.\n *\n * **Note:** This method is used instead of\n * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n * returned.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction slice(array, start, end) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return [];\n  }\n  if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n    start = 0;\n    end = length;\n  }\n  else {\n    start = start == null ? 0 : toInteger(start);\n    end = end === undefined ? length : toInteger(end);\n  }\n  return baseSlice(array, start, end);\n}\n\nmodule.exports = slice;\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n","const parse = require('./parse')\nconst eq = require('./eq')\n\nconst diff = (version1, version2) => {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    const v1 = parse(version1)\n    const v2 = parse(version2)\n    let prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (const key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\nmodule.exports = diff\n","const {MAX_LENGTH} = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parse = (version, options) => {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","export default __webpack_public_path__ + \"LICENSE\";","/* @flow */\n\nexport const RES_DISABLED_HASH = '#res:disabled';\nexport const RES_SETTINGS_HASH = '#res:settings';\nexport const RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH = '#res:settings-redirect-standalone-options-page';\nexport const RES_NER_PAGE_HASH = '#res:ner-page';\n","/* @flow */\n\nexport const MINUTE = 1000 * 60;\nexport const HOUR = 60 * MINUTE;\nexport const DAY = 24 * HOUR;\nexport const WEEK = 7 * DAY;\n\nexport function fromSecondsToTime(timeInSeconds: number) {\n\tconst seconds = timeInSeconds % 60;\n\tconst minutes = Math.floor(timeInSeconds / 60) % 60;\n\tconst hours = Math.floor(timeInSeconds / 3600);\n\n\tconst time = [minutes, seconds];\n\tif (hours > 0) {\n\t\ttime.unshift(hours);\n\t}\n\n\treturn time.map(part => String(part).padStart(2, '0')).join(':');\n}\n","/* @flow */\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function downcast<From, To: From>(val: From, ty: Class<To>): To;\ndeclare function downcast(val: mixed, ty: 'boolean'): boolean;\ndeclare function downcast(val: mixed, ty: 'number'): number;\ndeclare function downcast(val: mixed, ty: 'string'): string;\n/* eslint-enable no-unused-vars */\n\nexport function downcast(val, ty) {\n\tif (\n\t\t// only perform the check in dev mode, but hide this from Flow\n\t\t/*:: ` */ process.env.NODE_ENV !== 'development' || /*:: ` && */\n\t\t(typeof ty === 'string' ? typeof val === ty : val instanceof ty) // eslint-disable-line valid-typeof\n\t) {\n\t\treturn val;\n\t}\n\n\tthrow new TypeError(`Expected ${val} to be instance of ${ty}.`);\n}\n/* eslint-enable no-redeclare */\n","/* @flow */\n\nimport _ from 'lodash';\nimport { downcast } from './flow';\n\nexport function waitForEvent(ele: EventTarget, ...events: string[]): Promise<Event> {\n\treturn Promise.race(events.map(event =>\n\t\tnew Promise(resolve => ele.addEventListener(event, function fire(e) {\n\t\t\tele.removeEventListener(event, fire);\n\t\t\tresolve(e);\n\t\t})),\n\t));\n}\n\nexport function waitForChild(ele: Element, selector: string): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst child = Array.from(ele.children).find(child => child.matches(selector));\n\t\tif (child) {\n\t\t\tresolve(child);\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE && (node: any).matches(selector)) {\n\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\tresolve(downcast(node, HTMLElement));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true });\n\t});\n}\n\nexport function watchForChildren(ele: Element, selector: string, callback: (ele: HTMLElement) => any): void {\n\tfor (const child of Array.from(ele.children).filter(child => child.matches(selector))) {\n\t\tcallback(child);\n\t}\n\n\twatchForFutureChildren(ele, selector, callback);\n}\n\nexport function watchForFutureChildren(ele: Element, selector: string, callback: (ele: HTMLElement) => any): void {\n\tnew MutationObserver(mutations => {\n\t\tfor (const mutation of mutations) {\n\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE && (node: any).matches(selector)) {\n\t\t\t\t\tcallback(downcast(node, HTMLElement));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}).observe(ele, { childList: true });\n}\n\nexport function waitForDescendant(ele: Element, selector: string): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst child = ele.querySelector(selector);\n\t\tif (child) {\n\t\t\tresolve(child);\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\t// the desired node may a descendant of an added node,\n\t\t\t\t\t\t// so scanning through addedNodes is not sufficient\n\t\t\t\t\t\tconst child = ele.querySelector(selector);\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t\tresolve(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// stop iteration now, since we've already run querySelector over all children\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true, subtree: true });\n\t});\n}\n\nexport function waitForFutureDescendant(ele: Element, selector: string, { added = false, removed = false }: {| added?: boolean, removed?: boolean |} = { added: true, removed: false }): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of [...(added ? mutation.addedNodes : []), ...(removed ? mutation.removedNodes : [])]) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\t// the desired node may a descendant of an added node,\n\t\t\t\t\t\t// so scanning through addedNodes is not sufficient\n\t\t\t\t\t\tconst child = ele.querySelector(selector);\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t\tresolve(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// stop iteration now, since we've already run querySelector over all children\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true, subtree: true });\n\t});\n}\n\nexport function waitForAttach(parent: HTMLElement, el: HTMLElement, cancel?: Promise<*>): Promise<void> {\n\tif (parent.contains(el)) return Promise.resolve();\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (parent.contains(el)) resolve();\n\t\t});\n\n\t\tobserver.observe(parent, { subtree: true, childList: true });\n\t\tif (cancel) cancel.then(() => { observer.disconnect(); reject(new Error('Canceled')); });\n\t});\n}\n\nexport function waitForDetach(el: HTMLElement, cancel?: Promise<*>): Promise<void> {\n\t// Use `document.documentElement` as parent since using other closer element may not detect removal\n\tconst parent = document.documentElement;\n\n\tif (!parent.contains(el)) return Promise.resolve();\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (!parent.contains(el)) resolve();\n\t\t});\n\n\t\tobserver.observe(parent, { subtree: true, childList: true });\n\t\tif (cancel) cancel.then(() => { observer.disconnect(); reject(new Error('Canceled')); });\n\t});\n}\n\nexport function watchForDescendants(ele: Element, selector: string, callback: (ele: HTMLElement) => any, ignoreChildrenIfAddedNodeMatches: boolean = false): void {\n\tfor (const child of ele.querySelectorAll(selector)) {\n\t\tcallback(child);\n\t}\n\n\twatchForFutureDescendants(ele, selector, callback, ignoreChildrenIfAddedNodeMatches);\n}\n\nexport function watchForFutureDescendants(ele: Element, selector: string, callback: (ele: HTMLElement) => any, ignoreChildrenIfAddedNodeMatches: boolean = false): void {\n\tnew MutationObserver(mutations => {\n\t\t// avoid calling the callback twice if streamed-in children match the same selectors as their parents\n\t\t// i.e. nested comments that are rendered at pageload\n\t\tconst children = new Set();\n\t\tfor (const mutation of mutations) {\n\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t// the node itself may match...\n\t\t\t\t\tif ((node: any).matches(selector)) {\n\t\t\t\t\t\tchildren.add(node);\n\t\t\t\t\t\tif (ignoreChildrenIfAddedNodeMatches) continue;\n\t\t\t\t\t}\n\t\t\t\t\t// ...or some of its children may match\n\t\t\t\t\tfor (const child of (node: any).querySelectorAll(selector)) {\n\t\t\t\t\t\tchildren.add(child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const child of children) {\n\t\t\tcallback(downcast(child, HTMLElement));\n\t\t}\n\t}).observe(ele, { childList: true, subtree: true });\n}\n\nexport function empty<T: Element>(parent: T): T {\n\twhile (parent.lastChild) parent.removeChild(parent.lastChild);\n\treturn parent;\n}\n\nexport function click(obj: EventTarget, button: number = 0): void {\n\tobj.dispatchEvent(new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tdetail: 0,\n\t\tscreenX: 1,\n\t\tscreenY: 1,\n\t\tclientX: 1,\n\t\tclientY: 1,\n\t\tbutton,\n\t}));\n}\n\nclick.isProgrammaticEvent = (e: MouseEvent): boolean => e.clientX === 1 && e.clientY === 1;\n\nexport const getViewportSize = _.memoize((): { width: number, height: number } => {\n\twaitForEvent(window, 'resize').then(() => { getViewportSize.cache.clear(); });\n\n\tlet visualViewport;\n\n\tif (window.visualViewport) {\n\t\tvisualViewport = window.visualViewport;\n\t} else {\n\t\tconst viewportSizedElement = document.createElement('div');\n\t\tviewportSizedElement.style.width = viewportSizedElement.style.height = '100%';\n\t\tviewportSizedElement.style.position = 'fixed';\n\t\tdocument.body.appendChild(viewportSizedElement);\n\t\tvisualViewport = viewportSizedElement.getBoundingClientRect();\n\n\t\t// Try less accurate method in case this didn't work (workaround for potensial Firefox issue)\n\t\tif (!visualViewport.height || !visualViewport.width) {\n\t\t\tvisualViewport = document.documentElement.getBoundingClientRect();\n\t\t}\n\n\t\tviewportSizedElement.remove();\n\t}\n\n\treturn _.pick(visualViewport, ['height', 'width']);\n});\n\nexport function elementInViewport(ele: HTMLElement): boolean {\n\tif (!ele || !ele.offsetParent) return false;\n\n\tconst { top, left, bottom, right } = ele.getBoundingClientRect();\n\n\treturn (\n\t\ttop >= 0 &&\n\t\tleft >= 0 &&\n\t\tbottom <= getViewportSize().height &&\n\t\tright <= getViewportSize().width\n\t);\n}\n\nfunction getViewportDimensions() {\n\tconst headerOffset = getHeaderOffset();\n\tconst left = window.pageXOffset;\n\tconst top = window.pageYOffset + headerOffset;\n\tconst width = getViewportSize().width;\n\tconst height = getViewportSize().height - headerOffset;\n\n\treturn {\n\t\tyOffset: headerOffset,\n\t\tleft,\n\t\ttop,\n\t\tbottom: top + height,\n\t\tright: left + width,\n\t\twidth,\n\t\theight,\n\t};\n}\n\n// Returns percentage of the element that is within the viewport along the y-axis\n// Note that it doesn't matter where the element is on the x-axis, it can be totally invisible to the user\n// and this function might still return 1!\nexport function getPercentageVisibleYAxis(obj: Element): number {\n\tconst rect = obj.getBoundingClientRect();\n\tconst top = Math.max(0, rect.bottom - rect.height);\n\tconst bottom = Math.min(getViewportSize().height, rect.bottom);\n\tif (rect.height === 0) {\n\t\treturn 0;\n\t}\n\treturn Math.max(0, (bottom - top) / rect.height);\n}\n\nconst padBottom = _.once(() => {\n\tconst element = document.createElement('div');\n\telement.style.clear = 'both';\n\tconst extraPadding = 50; // In case the body's height reduces\n\treturn (scrollTop, viewportHeight) => {\n\t\tconst currentPadding = element.clientHeight;\n\t\tconst paddingRequired = extraPadding +\n\t\t\t-(document.documentElement.scrollHeight - scrollTop - viewportHeight - currentPadding);\n\t\tif (paddingRequired > 0) document.body.append(element);\n\t\telse element.remove();\n\t\telement.style.height = `${paddingRequired}px`;\n\t};\n});\n\nlet recentScroll = false;\nlet scrollInvokationToken;\n\nexport type ScrollStyle = 'none' | 'top' | 'adopt' | 'middle' | 'page' | 'legacy' | 'directional';\ntype Direction = 'up' | 'down';\ntype Anchor = {| to: number, from?: number |};\n\nexport function scrollToElement(to: HTMLElement, from: ?HTMLElement, {\n\tscrollStyle,\n\trestrictDirectionTo,\n\tdirection: selectedDirection,\n\tanchor,\n\twaitTillVisible,\n}: {|\n\tscrollStyle: ScrollStyle,\n\trestrictDirectionTo?: Direction,\n\tdirection?: Direction,\n\tanchor?: Anchor,\n\twaitTillVisible?: boolean,\n|}): void | Promise<void> {\n\tconst _scrollInvokationToken = scrollInvokationToken = {}; // Unique object in order to check whether invokation with `waitTillVisible` has been superseded\n\n\tif (waitTillVisible && !to.offsetParent) {\n\t\t// Try again next frame\n\t\treturn new Promise(res => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tif (scrollInvokationToken !== _scrollInvokationToken) return;\n\t\t\t\t(scrollToElement(...arguments) || Promise.resolve()).then(res); // eslint-disable-line prefer-rest-params\n\t\t\t});\n\t\t});\n\t}\n\n\tif (scrollStyle === 'none' && !anchor) {\n\t\treturn;\n\t}\n\n\tif (!to.offsetParent) {\n\t\tconsole.error('Element is not visible.');\n\t\treturn;\n\t}\n\n\tif (scrollStyle === 'none' && anchor) {\n\t\tconst diff = to.getBoundingClientRect().top - anchor.to;\n\t\tif (diff) window.scrollBy(0, diff);\n\t}\n\n\tconst viewport = getViewportDimensions();\n\n\tconst target = _.assignIn({}, to.getBoundingClientRect()); // top, right, bottom, left are relative to viewport\n\ttarget.top -= viewport.yOffset;\n\ttarget.bottom -= viewport.yOffset;\n\n\tconst top = viewport.top + target.top - 5; /* offset */\n\n\tif (scrollStyle === 'middle' && target.height >= viewport.height) {\n\t\tscrollStyle = 'top';\n\t}\n\n\tlet compensateHeader = true;\n\tlet scrollY;\n\n\tif (scrollStyle === 'top') {\n\t\t// Always scroll element to top of page; pad bottom if necessary\n\t\tpadBottom()(top, viewport.height);\n\t\tscrollY = top;\n\t} else if (from && scrollStyle === 'adopt') {\n\t\t// Replace the viewport position of `from` with `element`\n\t\tconst fromTop = anchor && typeof anchor.from === 'number' ?\n\t\t\tanchor.from :\n\t\t\tfrom.getBoundingClientRect().top;\n\t\tlet diff = to.getBoundingClientRect().top - fromTop;\n\n\t\tif (fromTop < 0) {\n\t\t\t// Compensate to show top when it is above viewport\n\t\t\tdiff += fromTop;\n\t\t} else if (fromTop > viewport.height - 60) {\n\t\t\t// Always show at minimum the top 60px of the element\n\t\t\tdiff += fromTop - viewport.height + 60;\n\t\t}\n\n\t\tscrollY = window.scrollY + diff;\n\t\tcompensateHeader = false;\n\t} else if (scrollStyle === 'middle') {\n\t\tconst buffer = (viewport.height - target.height) / 2;\n\t\tconst newScrollY = top - buffer;\n\n\t\tif (elementInViewport(to)) {\n\t\t\tconst viewportDirection = newScrollY >= window.scrollY ? 'down' : 'up';\n\t\t\t// Having these go in opposite directions is jarring\n\t\t\tif (viewportDirection !== selectedDirection) return;\n\t\t}\n\n\t\tscrollY = newScrollY;\n\t} else if (target.top >= 0 && target.bottom <= viewport.height) {\n\t\t// Element is already completely inside viewport\n\t\t// (remember, top and bottom are relative to viewport)\n\t\t// do nothing\n\t} else if (scrollStyle === 'legacy') {\n\t\t// Element not completely in viewport, so scroll to top\n\t\tscrollY = top;\n\t} else if (target.top < viewport.yOffset) {\n\t\t// Element starts above viewport\n\t\t// So, align top of element to top of viewport\n\t\tscrollY = top;\n\t} else if (viewport.height < target.bottom &&\n\t\ttarget.height < viewport.height) {\n\t\t// Visible part of element starts or extends below viewport\n\t\tif (scrollStyle === 'page') {\n\t\t\tscrollY = top;\n\t\t} else {\n\t\t\t// So, align bottom of target to bottom of viewport\n\t\t\tscrollY = viewport.top + target.bottom - viewport.height;\n\t\t}\n\t} else {\n\t\t// Visible part of element below the viewport but it'll fill the viewport, or fallback\n\t\t// So, align top of element to top of viewport\n\t\tscrollY = top;\n\t}\n\n\tif (scrollY !== undefined) {\n\t\tif (compensateHeader) scrollY -= getHeaderOffset();\n\t\tconst scollDirection = scrollY > viewport.top ? 'down' : 'up';\n\t\tif (viewport.top === scrollY || (restrictDirectionTo && restrictDirectionTo !== scollDirection)) return;\n\t\twindow.scrollTo(0, scrollY);\n\t\trecentScroll = true;\n\t\twaitForEvent(window, 'scroll').then(() => { recentScroll = false; });\n\t}\n}\n\nscrollToElement.isProgrammaticEvent = (): boolean => recentScroll;\n\nconst headerIds = { fullWidth: [], partialWidth: [] };\n\nexport function _addHeaderId(elementId: string, partialWidth: boolean = false) {\n\theaderIds[partialWidth ? 'partialWidth' : 'fullWidth'].push(elementId);\n}\n\nexport const getHeaderOffset = _.memoize((includePartialWidthHeaders?: boolean = false): number => {\n\tconst headers = [\n\t\t...headerIds.fullWidth,\n\t\t...(includePartialWidthHeaders ? headerIds.partialWidth : []),\n\t];\n\n\treturn headers\n\t\t.map(id => document.getElementById(id))\n\t\t.reduce((a, b) => a + b.getBoundingClientRect().height, 0);\n});\n\nexport const getD2xBodyOffset = _.memoize(() => {\n\ttry {\n\t\treturn document.getElementById('2x-container').offsetTop;\n\t} catch (e) {\n\t\treturn 65;\n\t}\n});\n\nexport function addCSS(css: string) {\n\tlet style = addStyle(css);\n\treturn {\n\t\tremove() {\n\t\t\tif (!style) return;\n\t\t\tstyle.remove();\n\t\t\tstyle.textContent = '';\n\t\t\tstyle = undefined;\n\t\t},\n\t};\n}\n\nfunction addStyle(css) {\n\tconst style = document.createElement('style');\n\tstyle.textContent = css;\n\n\t(document.head || document.documentElement).appendChild(style);\n\n\treturn style;\n}\n\n// r2 Reddit clone certain elements, e.g. when replying or editing a post\n// This will remove elements that have a specific attribute, but have not been registered\nexport const preventCloning = (() => {\n\t// Prevent breaking ava test\n\tif (typeof window === 'undefined') return (e: *) => e;\n\n\tconst attribute = `res-prevent-cloning-${Date.now()}`; // Prevent the attribute being used in a selector\n\tconst elements = new WeakSet();\n\n\t// Delay adding the observer a little, to not slow down init\n\twaitForEvent(window, 'DOMContentLoaded', 'load').then(() => {\n\t\twatchForFutureDescendants(document.body, `[${attribute}]`, e => {\n\t\t\tif (!elements.has(e)) e.remove();\n\t\t});\n\t});\n\n\treturn (element: HTMLElement) => {\n\t\telement.setAttribute(attribute, '');\n\t\telements.add(element);\n\t\treturn element;\n\t};\n})();\n","/* @flow */\n\nimport _ from 'lodash';\nimport { waitForEvent } from './dom';\n\nexport function matchesPageLocation(includes: Array<PageType | AppType | RegExp>, excludes: Array<PageType | AppType | RegExp> = []): boolean {\n\tconst [includeStrings, includeRegExps]: any = _.partition(includes, (x: string | RegExp): boolean => typeof x === 'string');\n\tconst [excludeStrings, excludeRegExps]: any = _.partition(excludes, (x: string | RegExp): boolean => typeof x === 'string');\n\n\treturn (\n\t\t!excludes.length ||\n\t\t!(isPageType(...excludeStrings) || isAppType(...excludeStrings) || matchesPageRegex(...excludeRegExps))\n\t) && (\n\t\t!includes.length ||\n\t\t(isPageType(...includeStrings) || isAppType(...includeStrings) || matchesPageRegex(...includeRegExps))\n\t);\n}\n\n/* eslint-disable key-spacing */\nexport const regexes: { [string]: RegExp } = {\n\tfrontpage:        /^\\/(?:hot|new|rising|controversial|top)?(?:\\/|$)/i,\n\tcomments:         /^\\/(?:r\\/([\\w\\.]+)\\/|(u(?:ser)?\\/[\\w-]+)\\/)?comments\\/([a-z0-9]+)(?:\\/|$)/i,\n\tcommentsLinklist: /^\\/(r\\/[\\w\\.\\+]+\\/|u(?:ser)?\\/[\\w-]+\\/)?comments\\/?$/i,\n\tinbox:            /^\\/(?:r\\/([\\w\\.]+)\\/)?message(?:\\/|$)/i,\n\tprofile:          /^\\/user\\/([\\w\\-]+)(?:\\/(?:(?!m\\/)(\\w+)))?\\/?$/i,\n\tprofile2x:        /^\\/user\\/([\\w\\-]+)(?:\\/(?:(?!m\\/)(\\w+)))?\\/?$/i,\n\tprofileCommentsPage: /^\\/user\\/([\\w\\-]+)\\/comments\\/([a-z0-9]+)(?:\\/|$)/i,\n\tsubmit:           /^\\/(?:r\\/([\\w\\.\\+]+)\\/)?submit(?:\\/|$)/i,\n\tprefs:            /^\\/prefs(?:\\/|$)/i,\n\taccount:          /^\\/account-activity(?:\\/|$)/i,\n\twiki:             /^\\/(?:r\\/([\\w\\.]+)\\/)?wiki(?:\\/|$)/i,\n\tstylesheet:       /^\\/(?:r\\/([\\w\\.]+)\\/)about\\/stylesheet(?:\\/|$)/i,\n\tsearch:           /^\\/(?:r\\/[\\w\\.\\+]+\\/|(?:me|user\\/[\\w\\-]+)\\/[mf]\\/[\\w\\.\\+]+\\/|domain\\/[^\\/]+\\/)?search(?:\\/|$)/i,\n\tcommentPermalink: /^\\/(?:r\\/([\\w\\.]+)\\/)?comments\\/([a-z0-9]+)\\/[^\\/]*\\/([a-z0-9]+)(?:\\/|$)/i,\n\tduplicates:       /^\\/r\\/[\\w\\.\\+]+\\/duplicates\\/([a-z0-9]+)/i,\n\tsubreddit:        /^\\/r\\/([\\w\\.\\+]+)(?:\\/|$)/i,\n\tsubredditAbout:   /^\\/r\\/([\\w\\.]+)\\/about(?:\\/(?!modqueue|reports|spam|unmoderated|edited)|$)/i,\n\tmodqueue:         /^\\/(?:r|me\\/f)\\/([\\w\\.\\+]+)\\/about\\/(?:modqueue|reports|spam|unmoderated|edited)(?:\\/|$)/i,\n\tmultireddit:      /^\\/((?:me|user\\/[\\w\\-]+)\\/[mf]\\/[\\w\\.\\+]+)(?:\\/|$)/i,\n\tdomain:           /^\\/domain\\/([\\w\\.]+)(?:\\/|$)/i,\n\tcomposeMessage:   /^\\/(?:r\\/([\\w\\.\\+]+)\\/)?message\\/compose(?:\\/|$)/i,\n\tliveThread:       /^\\/live\\/(?!create(?:\\/|$))([a-z0-9]+)(?:\\/|$)/i,\n};\n/* eslint-enable key-spacing */\n\nexport const execRegexes: { [string]: (path: string) => ?string[] } = {\n\tcomments: path => {\n\t\tconst match = regexes.comments.exec(path);\n\t\tif (!match) return match;\n\t\tmatch.splice(1, 2, match[1] || match[2] && match[2].replace(/^u.*\\//, 'u_'));\n\t\treturn match;\n\t},\n};\n\nexport type PageType = 'wiki' | 'search' | 'profile' | 'profile2x' | 'profileCommentsPage' | 'stylesheet' | 'modqueue' | 'subredditAbout' | 'comments' | 'commentsLinklist' | 'liveThread' | 'inbox' | 'submit' | 'account' | 'prefs' | 'linklist';\nexport type AppType = 'r2' | 'd2x' | 'options';\n\nexport const appType = _.once((): AppType => {\n\tif (document.documentElement.hasAttribute('res-options')) {\n\t\treturn 'options';\n\t}\n\tif (document.documentElement.getAttribute('xmlns')) {\n\t\treturn 'r2';\n\t}\n\treturn 'd2x';\n});\n\nexport function isAppType(...types: AppType[]): boolean {\n\tconst thisApp = appType();\n\treturn types.some(type => type === thisApp);\n}\n\nconst appPageTypes: { [AppType]: {| default?: PageType, pageTypes: PageType[] |} } = {\n\tr2: {\n\t\tdefault: 'linklist',\n\t\tpageTypes: ['wiki', 'search', 'stylesheet', 'modqueue', 'subredditAbout', 'comments', 'commentsLinklist', 'profile', 'liveThread', 'inbox', 'submit', 'account', 'prefs'],\n\t},\n\td2x: {\n\t\tpageTypes: ['profile2x', 'profileCommentsPage', 'submit'],\n\t},\n\toptions: {\n\t\tpageTypes: [],\n\t},\n};\n\nexport const pageType = _.memoize((): ?PageType => {\n\twaitForEvent(document, 'reddit.urlChanged').then(() => {\n\t\tpageType.cache.clear();\n\t});\n\tconst spec = appPageTypes[appType()];\n\treturn spec.pageTypes.find(pageType => regexes[pageType].test(location.pathname)) || spec.default;\n});\n\nexport function isPageType(...types: PageType[]): boolean {\n\tconst thisPage = pageType();\n\treturn types.some(type => type === thisPage);\n}\n\nexport function matchesPageRegex(...regexps: RegExp[]): boolean {\n\treturn regexps.some(regex => regex.test(location.pathname));\n}\n\nexport const currentSubreddit = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.subreddit);\n\tif (match) return match[1];\n});\n\nexport function isCurrentSubreddit(...subreddits: string[]): boolean {\n\tconst sub = (currentSubreddit() || '').toLowerCase();\n\tif (!sub) return false;\n\treturn subreddits.some(v => v.toLowerCase() === sub);\n}\n\nexport const currentMultireddit = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.multireddit);\n\tif (match) return match[1];\n});\n\nexport function isCurrentMultireddit(...multireddits: string[]): boolean {\n\tconst multi = (currentMultireddit() || '').toLowerCase();\n\tif (!multi) return false;\n\treturn multireddits.some(v => v.toLowerCase() === multi);\n}\n\nexport const currentDomain = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.domain);\n\tif (match) return match[1];\n});\n\nexport const currentUserProfile = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.profile);\n\tif (match) return match[1];\n});\n\nexport const fullLocation = (pathname: string = location.pathname) => {\n\tconst regex = Object.keys(regexes).find(key => pathname.match(regexes[key]));\n\tif (!regex) return pathname.toLowerCase();\n\n\t// examples: domain-youtube.com, user-gueor, subreddit-enhancement+resissues\n\treturn [\n\t\tregex,\n\t\t...(pathname.match(regexes[regex]) || []).slice(1), // ignore matched string\n\t]\n\t\t.filter(v => v)\n\t\t.join('-')\n\t\t.toLowerCase();\n};\n\n// A link is a comment code if all these conditions are true:\n// * It has no content (i.e. content.length === 0)\n// * Its href is of the form \"/code\" or \"#code\"\n//\n// In case it's not clear, here is a list of some common comment\n// codes on a specific subreddit:\n// https://www.reddit.com/r/metarage/comments/p3eqe/full_updated_list_of_comment_faces_wcodes/\n// also for CSS hacks to do special formatting, like /r/CSSlibrary\n\nconst COMMENT_CODE_REGEX = /^[\\/#].+$/;\n\nexport function isCommentCode(link: HTMLAnchorElement): boolean {\n\t// don't add annotations for hidden links - these are used as CSS\n\t// hacks on subreddits to do special formatting, etc.\n\n\t// Note that link.href will return the full href (which includes the\n\t// reddit.com domain). We don't want that.\n\tconst href = link.getAttribute('href');\n\n\tconst emptyText = link.textContent.length === 0;\n\tconst isCommentCode = COMMENT_CODE_REGEX.test(href);\n\n\treturn emptyText && isCommentCode;\n}\n\nexport function isEmptyLink(link: HTMLAnchorElement): boolean {\n\t// Note that link.href will return the full href (which includes the\n\t// reddit.com domain). We don't want that.\n\tconst href = link.getAttribute('href');\n\treturn typeof href !== 'string' || href.startsWith('javascript:') || href === '#'; // eslint-disable-line no-script-url\n}\n\nexport const inQuarantinedSubreddit = _.once(() => document.body.classList.contains('quarantine'));\n","/* @flow */\n\nconst escapeLookups = {\n\t'&': '&amp;',\n\t'\"': '&quot;',\n\t\"'\": '&apos;', // eslint-disable-line quotes\n\t'<': '&lt;',\n\t'>': '&gt;',\n\t'/': '&#47;',\n};\n\nexport function escapeHTML(str: ?string): string {\n\treturn str ?\n\t\tstr.toString().replace(/[&\"'<>\\/]/g, m => escapeLookups[m]) :\n\t\t'';\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { flow } from 'lodash/fp';\nimport levenshtein from 'fast-levenshtein';\nimport { downcast } from './flow';\nimport { escapeHTML } from './html';\nimport type { Iteratee } from './array';\n\ntype StringTagFunction<V, Out> = (s: string[], ...values: V[]) => Out;\n\nfunction stringTagFunction<T>(valueTransform: Iteratee<T, string | void>): StringTagFunction<T, string> {\n\treturn (strings, ...values) =>\n\t\t_.zipWith(\n\t\t\tstrings,\n\t\t\tvalues.map(valueTransform),\n\t\t\t(s, v) => `${s}${v === undefined ? '' : v}`,\n\t\t).join('');\n}\n\nexport const encode: StringTagFunction<string, string> = stringTagFunction(encodeURIComponent);\n\nexport const escape: StringTagFunction<string, string> = stringTagFunction(escapeHTML);\n\ntype OpaqueSafeString = {| __safe__: string |};\n\nexport function safe(str: string): OpaqueSafeString {\n\treturn { __safe__: str };\n}\n\nconst MAX_DISTANCE_RATIO = 0.05;\n\nexport function areSimilar(a: string, b: string): boolean {\n\treturn levenshtein.get(a, b) <= MAX_DISTANCE_RATIO * Math.max(a.length, b.length);\n}\n\nexport const regexRegex = /^\\/(.*)\\/([gimu]+)?$/;\n\nconst htmlTagFunction: StringTagFunction<?false | string | number | OpaqueSafeString | OpaqueSafeString[], string> = stringTagFunction(x => {\n\t// avoid treating 0 as falsy and rendering nothing\n\tif (typeof x === 'number') return String(x);\n\t// falsy values not rendered\n\tif (!x) return '';\n\t// bare strings/numbers are escaped\n\tif (typeof x === 'string') return escapeHTML(x);\n\t// arrays of safe strings\n\tif (Array.isArray(x)) return x.filter(s => s && typeof s.__safe__ === 'string').map(s => s.__safe__).join('');\n\t// safe strings\n\tif (x.hasOwnProperty('__safe__')) return x.__safe__;\n\tthrow new TypeError(`Invalid html template interpolation: ${String(x)}`);\n});\n\n/**\n * Intended for mustache-like HTML templates:\n * - falsy values are not rendered\n * - arrays are joined with the empty string\n * - strings are html-escaped, single element string tuples are not\n */\nexport const html = flow(\n\thtmlTagFunction,\n\tmarkup => {\n\t\t// <template> elements allow out-of-place elements e.g. <tr> without a <table>\n\t\t// but they cause weird issues in Firefox (#4222), and it's unlikely that you'll need\n\t\t// to use <tr>, except embedded in another template with string._html`<tr>...</tr>`,\n\t\t// which doesn't have this limitation.\n\t\tconst template = document.createElement('div');\n\t\ttemplate.innerHTML = markup;\n\t\tif (template.childElementCount !== 1) {\n\t\t\tthrow new Error(`Html template should have exactly one root node, but had ${template.childElementCount}`);\n\t\t}\n\t\tconst child = downcast(template.firstElementChild, HTMLElement);\n\t\tchild.remove();\n\t\treturn child;\n\t},\n);\n\n/**\n * Intended for nested arrays or optional values in HTML templates.\n */\nexport const _html = flow(\n\thtmlTagFunction,\n\tsafe,\n);\n","/* @flow */\n\nimport _ from 'lodash';\nimport { ajax } from '../environment';\nimport type { CurrentRedditUser, RedditAccount } from '../types/reddit';\nimport { MINUTE } from './time';\nimport { isAppType, regexes } from './location';\nimport * as string from './string';\n\nexport const isLoggedIn = _.once(() => {\n\tif (loggedInUser()) {\n\t\treturn true;\n\t} else if (document.querySelector('header a[href^=\"/message/inbox\"]')) {\n\t\treturn true;\n\t}\n});\n\nexport const loggedInUser = _.once((): string | void => documentLoggedInUser(document));\n\nexport const documentLoggedInUser = (document: Document | Element): string | void => {\n\tif (isAppType('d2x')) {\n\t\t// The first text node in the user button contains the username\n\t\tconst findFirstTextNode = e => [...e.childNodes].filter(v => v.nodeType === 3).concat(...[...e.children].map(findFirstTextNode));\n\t\tconst button = document.querySelector('#USER_DROPDOWN_ID > *');\n\t\tconst username = button && findFirstTextNode(button)[0];\n\t\treturn username && username.textContent;\n\t}\n\n\tconst link: ?HTMLAnchorElement = (document.querySelector('#header-bottom-right > span.user > a'): any);\n\tif (!link || link.classList.contains('login-required')) return;\n\tconst profile = regexes.profile.exec(link.pathname);\n\tif (profile) {\n\t\treturn profile[1];\n\t}\n};\n\nexport const isModeratorAnywhere = _.once((): boolean => !!document.getElementById('modmail'));\n\nexport const loggedInUserHash = _.once(async (): Promise<?string> => {\n\tconst hashEle = document.querySelector('[name=uh]');\n\tif (hashEle instanceof HTMLInputElement) {\n\t\treturn hashEle.value;\n\t}\n\n\tconst userInfo = await loggedInUserInfo();\n\treturn userInfo && userInfo.data && userInfo.data.modhash;\n});\n\nexport const loggedInUserInfo = _.once((): Promise<CurrentRedditUser | void> =>\n\t!isLoggedIn() ? Promise.resolve() : ajax({ url: '/api/me.json', type: 'json' })\n\t\t.then(data => data.data && data.data.modhash ? data : undefined));\n\nconst usernameRE = /(?:u|user)\\/([\\w\\-]{3,20}(?![\\w\\-]))/;\n\nexport const usernameSelector = [\n\t'.contents .author',\n\t'p.tagline a.author',\n\t'#friend-table span.user a',\n\t'.sidecontentbox .author',\n\t'div.md a[href^=\"/u/\"]:not([href*=\"/m/\"])',\n\t'div.md a[href*=\"reddit.com/u/\"]:not([href*=\"/m/\"])',\n\t'.usertable a.author',\n\t'.parent > a.author',\n\t'.usertable span.user a',\n\t'div.wiki-page-content .author',\n\t'.Post__authorLink', // Newish profile page\n].join(', ');\n\nexport function getUsernameFromLink(element: HTMLElement): ?string {\n\tif (!(element instanceof HTMLAnchorElement)) return;\n\n\tconst { href, origin } = element;\n\n\t// The link should refer to this site\n\tif (!location.origin.endsWith(origin.split('.').slice(-2).join('.'))) return;\n\n\tconst [, username] = href.match(usernameRE) || [];\n\tif (username) return username;\n}\n\nexport function getUserInfo(username: ?string = loggedInUser()): Promise<RedditAccount> {\n\tif (!username) {\n\t\treturn Promise.reject(new Error('getUserInfo: null/undefined username'));\n\t}\n\n\treturn ajax({\n\t\turl: string.encode`/user/${username}/about.json`,\n\t\ttype: 'json',\n\t\tcacheFor: 10 * MINUTE,\n\t});\n}\n","/* @flow */\n\nimport {\n\tloggedInUser,\n\tloggedInUserHash,\n} from '../../utils/user';\nimport { waitForEvent } from '../../utils/dom';\n\nexport const data: {|\n\tuserHash: ?string,\n\tusername: ?string,\n\torigin: string,\n\tpathname: string,\n|} = {\n\tuserHash: null,\n\tusername: null,\n\torigin: 'https://www.reddit.com',\n\tpathname: location.pathname,\n};\n\nexport function establish(contentStart: *) {\n\tif (!location.protocol.startsWith('http')) return;\n\n\tdata.origin = location.origin;\n\n\tcontentStart.then(() => {\n\t\tdata.username = loggedInUser();\n\t\tloggedInUserHash().then(hash => { data.userHash = hash; });\n\t});\n}\n\nexport function retrieveFromParent() {\n\tif (window === window.parent) return Promise.resolve();\n\n\treturn waitForEvent(window, 'message').then(({ data: { context } }: any) => {\n\t\tObject.assign(data, context);\n\t});\n}\n","/* @flow */\n\ntype MessagePayload = {|\n\ttype: string,\n\tdata?: mixed,\n|};\n\ntype ResponsePayload = {|\n\tdata?: mixed,\n\terror?: {| message: string, stack: string |},\n|};\n\ntype InternalMessageSender<MsgCtx> = (msg: MessagePayload, context: MsgCtx) => Promise<ResponsePayload>;\n\ntype InternalMessageHandler<ListenerCtx> = (msg: MessagePayload, sendResponse: (response: ResponsePayload) => void, context: ListenerCtx) => boolean;\n\nexport type MessageSender<MsgCtx> = (type: string, data: mixed, context: MsgCtx) => Promise<any>;\n\nexport type AddListener<Ctx> = (type: string, callback: ListenerCallback<Ctx>) => void;\n\ntype ListenerCallback<Ctx> = (data: any, context: Ctx) => Promise<mixed> | mixed;\n\nclass MessageHandlerError extends Error {\n\tconstructor(message, stack) {\n\t\tsuper();\n\t\tthis.message = message;\n\t\tthis.stack = stack;\n\t}\n}\n\nexport function createMessageHandler<MsgCtx, ListenerCtx>(_sendMessage: InternalMessageSender<MsgCtx>, errorOnUnrecognizedTypes: boolean = false): {|\n\t_handleMessage: InternalMessageHandler<ListenerCtx>,\n\tsendMessage: MessageSender<MsgCtx>,\n\taddListener: AddListener<ListenerCtx>,\n|} {\n\tconst listeners = new Map();\n\n\tfunction addListener(type, callback) {\n\t\tif (listeners.has(type)) {\n\t\t\tthrow new Error(`Listener for \"${type}\" already exists.`);\n\t\t}\n\t\tlisteners.set(type, callback);\n\t}\n\n\tasync function sendMessage(type, data, context) {\n\t\tconst { data: newData, error } = await _sendMessage({ type, data }, context);\n\t\tif (error) {\n\t\t\tthrow new MessageHandlerError(error.message, `${error.stack}\\n    at target's \"${type}\" handler`);\n\t\t} else {\n\t\t\treturn newData;\n\t\t}\n\t}\n\n\tfunction _handleMessage({ type, data }, sendResponse, context) {\n\t\tconst listener = listeners.get(type);\n\t\tif (!listener) {\n\t\t\tif (errorOnUnrecognizedTypes) {\n\t\t\t\tsendResponse({ error: { message: `Unrecognised message type: ${type}`, stack: '' } });\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tlet response;\n\n\t\ttry {\n\t\t\tresponse = listener(data, context);\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (response instanceof Promise) {\n\t\t\tresponse\n\t\t\t\t.then(\n\t\t\t\t\tdata => sendResponse({ data }),\n\t\t\t\t\te => {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t// true = response will be handled asynchronously (needed for Chrome)\n\t\t\treturn true;\n\t\t} else {\n\t\t\tsendResponse({ data: response });\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn {\n\t\t_handleMessage,\n\t\tsendMessage,\n\t\taddListener,\n\t};\n}\n","/* @flow */\n\nexport function apiToPromise(func: (...args: mixed[]) => void): (...args: mixed[]) => Promise<any> {\n\treturn (...args) =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\tfunc(...args, (...results) => {\n\t\t\t\tif (chrome.runtime.lastError) {\n\t\t\t\t\treject(new Error(chrome.runtime.lastError.message));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(results.length > 1 ? results : results[0]);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n}\n","/* @flow */\n\nimport { createMessageHandler } from '../utils/messaging';\nimport { apiToPromise } from '../utils/api';\n\nconst _sendMessage = apiToPromise(chrome.runtime.sendMessage);\n\nconst {\n\t_handleMessage,\n\tsendMessage,\n\taddListener,\n} = createMessageHandler(obj => _sendMessage(obj));\n\nchrome.runtime.onMessage.addListener((obj, sender, sendResponse) => _handleMessage(obj, sendResponse));\n\nexport {\n\tsendMessage,\n\taddListener,\n};\n","/* @flow */\n\nexport function isPrivateBrowsing(): boolean {\n\treturn chrome.extension.inIncognitoContext;\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\nimport { isPrivateBrowsing } from './privateBrowsing';\n\nexport async function addURLToHistory(url: string): Promise<void> {\n\tif (isPrivateBrowsing()) return;\n\n\tawait sendMessage('addURLToHistory', url);\n}\n\nexport function isURLVisited(url: string): Promise<boolean> {\n\treturn sendMessage('isURLVisited', url);\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function set(key: string, value: mixed) {\n\treturn sendMessage('XHRCache', ['set', key, value]);\n}\n\nexport function check(key: string, maxAge?: number /* milliseconds */): Promise<any | void> {\n\treturn sendMessage('XHRCache', ['check', key, maxAge]);\n}\n\nfunction delete_(key: string) {\n\treturn sendMessage('XHRCache', ['delete', key]);\n}\nexport { delete_ as delete };\n\nexport function clear() {\n\treturn sendMessage('XHRCache', ['clear']);\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { context } from '../../environment';\nimport { sendMessage } from './messaging';\nimport * as XhrCache from './xhrCache';\n\ntype ResponseType = 'text' | 'json' | 'raw';\ntype MethodType = 'GET' | 'HEAD' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\ntype AjaxOptions<Ty: ResponseType | void> = {|\n\tmethod?: MethodType,\n\turl: string,\n\tquery?: { [string]: string | number | boolean },\n\theaders?: { [string]: string },\n\tdata?: string | { [string]: string },\n\ttype?: Ty,\n\tcacheFor?: number,\n\tcredentials?: 'include' | 'omit',\n|};\n\nclass FetchError extends Error {\n\tstatus: number;\n\n\tconstructor(url, status) {\n\t\tsuper(`${url} failed with status ${status}`);\n\t\tthis.status = status;\n\t}\n}\n\n/* eslint-disable no-redeclare */\ndeclare function ajax(opt: AjaxOptions<void>): Promise<string>;\ndeclare function ajax(opt: AjaxOptions<'text'>): Promise<string>;\ndeclare function ajax(opt: AjaxOptions<'json'>): Promise<{ [string | number]: any }>;\ndeclare function ajax(opt: AjaxOptions<'raw'>): Promise<{\n\tok: boolean,\n\tstatus: number,\n\theaders: { [string]: string },\n\ttext: string,\n}>;\n\n/**\n * Send a fetch request.\n *\n * `method`, `url`, and `headers` behave in the obvious way.\n * `query` adds query params to `url`.\n * `data` objects will be sent as application/x-www-form-urlencoded.\n * `data` strings will be sent as-is.\n * `type` affects the return type, either 'text' or 'json'.\n * `cacheFor` is a TTL, in milliseconds.\n */\nexport async function ajax(options: AjaxOptions<*>) {\n\tconst { method, url, headers, data, type, cacheFor, sameOrigin, credentials } = buildRequestParams(options);\n\n\tif (cacheFor) {\n\t\tconst cached = await XhrCache.check(url, cacheFor);\n\t\tif (cached) {\n\t\t\treturn processResponse(cached, type);\n\t\t}\n\t}\n\n\tconst response = await (sameOrigin ?\n\t\tfetch(url, {\n\t\t\tmethod,\n\t\t\theaders,\n\t\t\tcredentials,\n\t\t\tbody: data,\n\t\t}).then(async r => ({\n\t\t\tok: r.ok,\n\t\t\tstatus: r.status,\n\t\t\theaders: _.fromPairs(Array.from(r.headers.entries())),\n\t\t\ttext: await r.text(),\n\t\t})) :\n\t\tsendMessage('ajax', { method, url, headers, data, credentials })\n\t);\n\n\tif (!response.ok) {\n\t\tthrow new FetchError(url, response.status);\n\t}\n\n\tif (cacheFor) {\n\t\tXhrCache.set(url, response);\n\t}\n\n\treturn processResponse(response, type);\n}\n/* eslint-enable no-redeclare */\n\najax.invalidate = (options: AjaxOptions<*>) =>\n\tXhrCache.delete(buildRequestParams(options).url);\n\nfunction buildRequestParams({ method = 'GET', url, query = {}, headers = {}, data, type = 'text', credentials, cacheFor = 0 }): {|\n\tmethod: MethodType,\n\turl: string,\n\theaders: { [string]: string },\n\tdata: string | void,\n\ttype: ResponseType,\n\tcacheFor: number,\n\tsameOrigin: boolean,\n\tcredentials: 'omit' | 'include',\n|} {\n\tconst siteOrigin = new URL(context.origin);\n\n\t// Expand relative URLs\n\tconst requestURL = new URL(url, siteOrigin);\n\n\t// Append query string to URL\n\tfor (const [key, val] of Object.entries(query)) {\n\t\trequestURL.searchParams.set(key, String(val));\n\t}\n\n\tconst sameSite = requestURL.hostname.split('.').slice(-2).join('.') === siteOrigin.hostname.split('.').slice(-2).join('.');\n\tif (sameSite) {\n\t\t// Add `app=res` to same-origin request URLs\n\t\trequestURL.searchParams.set('app', 'res');\n\n\t\t// include cookies for same-origin requests (to load correct posts, etc.)\n\t\tif (!credentials) credentials = 'include';\n\n\t\tif (method !== 'GET' && method !== 'HEAD') {\n\t\t\t// Send modhash for same-origin non-GET requests\n\t\t\tif (context.userHash) headers['X-Modhash'] = context.userHash;\n\t\t}\n\n\t\t// new.reddit.com specifically selects the reddit desktop web frontend service.\n\t\t// AJAX requests should be sent to www.reddit.com, which will select the correct\n\t\t// service based on the path.\n\t\trequestURL.hostname = requestURL.hostname.replace(/new\\./, 'www.');\n\t}\n\n\tconst sameOrigin = siteOrigin.origin === requestURL.origin;\n\n\t// Convert plain data objects to application/x-www-form-urlencoded\n\tif (typeof data === 'object') {\n\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t// this needs to be a string because Edge doesn't support sending URlSearchParams\n\t\t// (the fetch polyfill passes it through to XHR, which is correct behaviour)\n\t\tdata = new URLSearchParams(data).toString();\n\t}\n\n\treturn {\n\t\tmethod,\n\t\turl: requestURL.href,\n\t\theaders,\n\t\tdata,\n\t\ttype,\n\t\tcacheFor,\n\t\tcredentials: credentials || 'omit',\n\t\tsameOrigin,\n\t};\n}\n\nfunction processResponse(response, type: ResponseType) {\n\tswitch (type) {\n\t\tcase 'text':\n\t\t\treturn response.text;\n\t\tcase 'json':\n\t\t\treturn JSON.parse(response.text);\n\t\tcase 'raw':\n\t\t\treturn response;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid type: ${type}`);\n\t}\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function download(url: string, filename?: string) {\n\t// Firefox and Chrome <a download> is same-origin only\n\tsendMessage('download', {\n\t\t// resolve relative URLs\n\t\turl: new URL(url, location.href).href,\n\t\tfilename,\n\t});\n}\n","/* @flow */\n\nexport function getExtensionId(): string {\n\treturn chrome.runtime.id;\n}\n\nexport const getURL = chrome.runtime.getURL;\n\nexport const getOptionsURL = (hash: string = '') => new URL(hash, getURL('options.html'));\nexport const isOptionsPage = () => location.origin === getOptionsURL().origin;\n","/* @flow */\n\nexport const CACHED_LANG_KEY = 'RES.i18nCachedLang';\nexport const CACHED_MESSAGES_KEY = 'RES.i18nCachedMessages';\nexport const CACHED_MESSAGES_TOKEN_KEY = 'RES.i18nCachedMessagesToken';\n","export default \"5.18.10\";","/* @flow */\n\nimport { CACHED_LANG_KEY, CACHED_MESSAGES_KEY, CACHED_MESSAGES_TOKEN_KEY } from '../../constants/localStorage';\nimport { sendMessage } from './messaging';\nimport buildToken from 'exec-loader!../../../build/buildToken'; // eslint-disable-line import/no-extraneous-dependencies\n\nconst REDDIT_LANGUAGES = new Set(['en', 'af', 'ar', 'be', 'bg', 'bn-IN', 'bn-bd', 'bs', 'ca', 'cs', 'cy', 'da', 'de', 'el', 'en-au', 'en-ca', 'en-gb', 'en-us', 'eo', 'es', 'es-ar', 'es-mx', 'et', 'eu', 'fa', 'fi', 'fil', 'fr', 'fr-ca', 'fy-NL', 'ga-ie', 'gd', 'gl', 'he', 'hi', 'hr', 'hu', 'hy', 'id', 'is', 'it', 'ja', 'kn_IN', 'ko', 'la', 'leet', 'lol', 'lt', 'lv', 'ms', 'mt-MT', 'nl', 'nn', 'no', 'pir', 'pl', 'pt', 'pt-pt', 'pt_BR', 'ro', 'ru', 'sk', 'sl', 'sr', 'sr-la', 'sv', 'ta', 'th', 'tr', 'uk', 'vi', 'zh', 'zh-cn']);\n// reddit languages which are not valid browser languages\nconst SPECIAL_LANGUAGES = new Set(['leet', 'lol', 'pir']);\n\nexport let locale = navigator.language || 'en'; // May be changed depending on Reddit language\n\nfunction isValidLocale(localeString) {\n\t// there doesn't appear to be a proper way to check if a language tag is valid, so we have to do this\n\ttry {\n\t\treturn typeof (0).toLocaleString(localeString) === 'string';\n\t} catch (e) {\n\t\treturn false;\n\t}\n}\n\nfunction getRedditLocale() {\n\tconst redditLocale = typeof document !== 'undefined' && document.documentElement.getAttribute('lang');\n\tif (redditLocale && (REDDIT_LANGUAGES.has(redditLocale))) {\n\t\t// `pt_BR` -> `pt-br`\n\t\tconst locale = redditLocale.toLowerCase().replace('_', '-');\n\t\tif (isValidLocale(locale)) {\n\t\t\trequestIdleCallback(() => { sendMessage('setLastRedditLocale', locale); });\n\t\t\treturn locale;\n\t\t}\n\t}\n\n\treturn sendMessage('getLastRedditLocale');\n}\n\nlet messages;\n\nexport async function _loadI18n(): Promise<void> {\n\tconst redditLocale = await getRedditLocale();\n\tif (redditLocale && !SPECIAL_LANGUAGES.has(redditLocale)) locale = redditLocale;\n\n\t// fast path: i18n dictionary is cached\n\t// should be hit almost every time\n\tif (\n\t\tlocalStorage.getItem(CACHED_LANG_KEY) === redditLocale &&\n\t\tlocalStorage.getItem(CACHED_MESSAGES_TOKEN_KEY) === buildToken\n\t) {\n\t\ttry {\n\t\t\t// eslint-disable-next-line require-atomic-updates\n\t\t\tmessages = JSON.parse(localStorage.getItem(CACHED_MESSAGES_KEY) || '');\n\t\t\treturn;\n\t\t} catch (e) {\n\t\t\tconsole.error('Failed to parse cached i18n', e);\n\t\t}\n\t}\n\n\t// slow path: wait for background page to send new locales\n\t// will be hit the first (ever) pageload on a new domain\n\t// or after clearing localStorage\n\tmessages = await sendMessage('i18n', redditLocale);\n\n\ttry { // Fails if remaining localStorage space is insufficient\n\t\tlocalStorage.setItem(CACHED_MESSAGES_KEY, JSON.stringify(messages));\n\t\tlocalStorage.setItem(CACHED_LANG_KEY, redditLocale);\n\t\tlocalStorage.setItem(CACHED_MESSAGES_TOKEN_KEY, buildToken);\n\t} catch (e) {\n\t\tconsole.error('Could not cache i18n - RES will load VERY slowly', e);\n\t\t// XXX: reddit has a habit of filling up these localstorage keys, so speculatively delete them\n\t\tlocalStorage.removeItem('ads.adserverDownvotePixel');\n\t\tlocalStorage.removeItem('ads.adserverUpvotePixel');\n\t}\n}\n\n// Behaves like https://developer.chrome.com/extensions/i18n#method-getMessage\nexport function i18n(messageName: string, ...substitutions: Array<string | number>): string {\n\tif (!messageName) return '';\n\n\tif (!messages) {\n\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\tthrow new Error(`i18n called too early! key: ${messageName}`);\n\t\t} else {\n\t\t\tconsole.error('i18n called too early! key:', messageName);\n\t\t\treturn messageName;\n\t\t}\n\t}\n\n\tconst message = messages[messageName];\n\n\tif (!message) return messageName;\n\n\t// Fast path: avoid running regex when there are no substitutions\n\tif (substitutions.length === 0) return message;\n\n\t// Replace direct references to substitutions, e.g. `First substitution: $1`\n\t// Maximum of 9 substitutions allowed, i.e. only one number after the `$`\n\treturn message.replace(/\\$(\\d)\\b(?!\\$)/g, (match, number) => substitutions[number - 1]);\n\n\t// Chrome also supports named placeholders, e.g. `Error: $error_message$`\n\t// but Transifex does not create the `placeholders` field in exported JSON\n\t// https://developer.chrome.com/extensions/i18n#examples-getMessage\n}\n","/* @flow */\n\nexport function* range(start: number, end: number): Iterable<number> {\n\tfor (let i = start; i < end; ++i) { // eslint-disable-line no-restricted-syntax\n\t\tyield i;\n\t}\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function zip<A>(a: Iterable<A>): Iterable<[A]>;\ndeclare function zip<A, B>(a: Iterable<A>, b: Iterable<B>): Iterable<[A, B]>;\ndeclare function zip<A, B, C>(a: Iterable<A>, b: Iterable<B>, c: Iterable<C>): Iterable<[A, B, C]>;\n/* eslint-enable no-unused-vars */\n\nexport function* zip(...iterables) {\n\tconst generators = iterables.map(it => it[Symbol.iterator]());\n\tlet results;\n\n\twhile ((results = generators.map(gen => gen.next())).some(r => !r.done)) {\n\t\tyield results.map(r => r.value);\n\t}\n}\n/* eslint-enable no-redeclare */\n","/* @flow */\n\nimport _ from 'lodash';\nimport { zip } from './generator';\n\nexport function waitFor<T>(callback: () => ?T, interval?: number = 1): Promise<T> {\n\treturn new Promise(resolve => {\n\t\t(function repeat() {\n\t\t\tconst val = callback();\n\t\t\tif (!val) {\n\t\t\t\tsetTimeout(repeat, interval);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresolve(val);\n\t\t})();\n\t});\n}\n\n/*\n Iterate through an array in chunks, executing a callback on each element.\n Each chunk is handled asynchronously from the others with a delay betwen each batch.\n This will change the timeout dynamically based on current screen performance in an effort\n to work as fast as possibly without blocking the screen.\n */\n\nexport const forEachChunked = (() => {\n\tconst framerate = 30;\n\tconst frameTime = 1000 / framerate;\n\n\tconst queues = [];\n\n\tconst run = frameThrottle(() => {\n\t\tconst start = performance.now();\n\t\tdo {\n\t\t\t_.remove(queues, ({ generator, callback, resolve, reject }): boolean | void => {\n\t\t\t\tconst { value, done } = generator.next();\n\n\t\t\t\tif (done) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tcallback(value);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (generator.return) generator.return();\n\t\t\t\t\treject(e);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// stop if there are no queues left\n\t\t\tif (!queues.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} while (performance.now() - start < frameTime);\n\t\trun();\n\t});\n\n\treturn _.curryRight(<T>(collection: Iterable<T>, callback: (x: T) => void) =>\n\t\tnew Promise((resolve, reject) => {\n\t\t\tconst iterable = (Symbol.iterator in collection) ? collection : Array.from(collection); // eslint-disable-line no-restricted-syntax\n\t\t\t// $FlowIssue https://github.com/facebook/flow/issues/1163, https://github.com/facebook/flow/issues/1015\n\t\t\tqueues.push({ generator: iterable[Symbol.iterator](), callback, resolve, reject });\n\t\t\trun();\n\t\t}),\n\t);\n})();\n\n/*\n * Will accumulate values until `size` elements are accumulated or `delay` milliseconds pass.\n * `callback` accepts an array of batched values and should return an array of results **in the same order**.\n * If it throws, all promises will be rejected with the same error.\n * If one of the results is an instance of `Error`, the corresponding promise will be rejected with that error.\n */\nexport function batch<T, V>(callback: (xs: T[]) => Promise<Iterable<Error | Promise<V> | V> | void> | void, { size = 100, delay = 50, flushBeforeUnload = false }: {| size?: number, delay?: number, flushBeforeUnload?: boolean |} = {}): (x: T) => Promise<V> {\n\tlet invoke;\n\n\tfunction* batchAccumulator() {\n\t\tconst entries = [];\n\t\tconst promises = [];\n\n\t\tfunction addPromise(): Promise<V> {\n\t\t\tif (entries.length) {\n\t\t\t\treturn new Promise((resolve, reject) => { promises.push({ resolve, reject }); });\n\t\t\t} else {\n\t\t\t\treturn (undefined: any); // dummy - never observed\n\t\t\t}\n\t\t}\n\n\t\tinvoke = _.once(async () => {\n\t\t\tstartNewBatch();\n\t\t\tif (!entries.length) return;\n\t\t\ttry {\n\t\t\t\tconst results = await callback(entries) || [];\n\t\t\t\tfor (const [{ resolve, reject }, result] of zip(promises, results)) {\n\t\t\t\t\tif (result instanceof Error) reject(result);\n\t\t\t\t\telse resolve(result);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tfor (const { reject } of promises) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst timeout = delay ? _.debounce(invoke, delay) : throttle(invoke);\n\n\t\twhile (entries.length < size) {\n\t\t\tconst entry = yield addPromise();\n\t\t\tif (entry === undefined) throw new Error('undefined passed into batch generator');\n\t\t\tentries.push(entry);\n\t\t\ttimeout();\n\t\t}\n\n\t\tconst lastPromise = addPromise();\n\t\tinvoke();\n\t\tyield lastPromise;\n\t}\n\n\tlet currentBatch;\n\n\tfunction startNewBatch() {\n\t\tcurrentBatch = batchAccumulator();\n\t\tcurrentBatch.next(); // prime the generator, so the first `.next(value)` isn't lost\n\t}\n\n\tstartNewBatch();\n\n\tif (flushBeforeUnload) window.addEventListener('beforeunload', () => { invoke(); }, true);\n\n\treturn entry => {\n\t\tconst { value } = currentBatch.next(entry);\n\t\tif (value === undefined) throw new Error('Batch generator was not replaced after completion');\n\t\treturn value;\n\t};\n}\n\nfunction always<T>(promise: Promise<T>, callback: (x: T) => Promise<void> | void): Promise<void> {\n\treturn promise.then(callback, callback);\n}\n\n// Like _asyncToGenerator, but calls back into the generator synchronously if the value is not a promise\n// unless you're certain that you need to avoid asynchronicity at all costs, just use an async function\nexport function fastAsync<A, B, C, D, E, F, G, R>(\n\tcallback: (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => Generator<any, R, any>,\n): (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => R | Promise<R> {\n\treturn function(...args) {\n\t\treturn (function next(generator, arg, throwing) {\n\t\t\tconst { value, done } = !throwing ? generator.next(arg) : generator.throw(arg);\n\n\t\t\tif (done) {\n\t\t\t\treturn value;\n\t\t\t} else if (!(value instanceof Promise)) {\n\t\t\t\treturn next(generator, value, false);\n\t\t\t} else {\n\t\t\t\treturn value.then(\n\t\t\t\t\tval => next(generator, val, false),\n\t\t\t\t\terr => next(generator, err, true),\n\t\t\t\t);\n\t\t\t}\n\t\t})(Reflect.apply(callback, this, args), undefined, false);\n\t};\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function asyncFlow<A1, A2, A3, A4, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | RB>\n\t(f1: F1): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<RA> | RB>\n\t(f1: F1, f2: F2): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, F, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<F> | F, F6: (f: F) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5, f6: F6): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\n\nexport function asyncFlow(firstFn, ...fns) {\n\treturn fastAsync(function*(...args) {\n\t\tlet accum = firstFn(...args);\n\t\tfor (const fn of fns) {\n\t\t\taccum = fn(yield accum);\n\t\t}\n\t\treturn accum;\n\t});\n}\n\n// once the promise has resolved, its value is available synchronously\n// intended for use with fastAsync\nexport function reifyPromise<T>(promise: Promise<T>): { get(): T | Promise<T> } {\n\tlet val = promise;\n\tpromise.then(x => { val = x; });\n\treturn { get: () => val };\n}\n\nexport function keyedMutex<V, T:(...args: any) => Promise<V> | V>(\n\tcallback: T,\n\tkeyResolver?: (...args: any) => mixed = x => x,\n): T {\n\tconst queues = new Map();\n\n\treturn (function(...args) {\n\t\tconst key = keyResolver(...args);\n\n\t\t// https://github.com/facebook/flow/issues/34\n\t\tconst tail = queues.has(key) ?\n\t\t\talways(queues.get(key) /*:: || Promise.resolve() */, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueues.set(key, tail);\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queues.get(key) === tail) queues.delete(key);\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\nexport function mutex<V, T:(...args: any) => Promise<V> | V>(callback: T): T {\n\tlet queue;\n\n\treturn (function(...args) {\n\t\tconst tail = queue ?\n\t\t\talways(queue, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueue = tail;\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queue === tail) queue = undefined;\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\n// `callback` is invoked when the micro task queue is emptied\n// returns a promise that resolves when callback resolves\nexport function throttle(callback: () => void | Promise<void>): () => Promise<void> {\n\tlet promise: ?Promise<*>;\n\n\treturn () => {\n\t\tpromise = promise || Promise.resolve().then(() => {\n\t\t\tpromise = null;\n\t\t\tcallback();\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n// Invokes callback after the returned function has not been invoked for `debounce` number of frames\nexport function frameDebounce(callback: () => any, debounce: number = 1): () => void {\n\tlet remaining: number;\n\n\tconst update = frameThrottle(() => {\n\t\tif (remaining) requestAnimationFrame(() => { update(); });\n\t\telse callback();\n\t\tremaining -= 1;\n\t});\n\n\treturn () => {\n\t\tremaining = debounce;\n\t\trequestAnimationFrame(() => { update(); });\n\t};\n}\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will invoke `callback` at most once per frame.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n */\nexport function frameThrottle<V>(callback: (...args: any) => V): (...args: any) => Promise<V> {\n\tlet args = [];\n\tlet promise;\n\n\treturn (...a) => {\n\t\targs = a;\n\t\tpromise = promise || new Promise((res, rej) => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tpromise = null;\n\t\t\t\ttry {\n\t\t\t\t\tres(callback(...args));\n\t\t\t\t} catch (e) {\n\t\t\t\t\trej(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n/*\n * Similar to throttle, but callbacks are ordered:\n * When the returned wrapper function is invoked, `callback` will be placed last in the execution queue\n */\nexport const throttleQueuePositionReset = (() => {\n\tlet queues = [];\n\n\tconst run = throttle(() => {\n\t\tfor (const fn of queues) {\n\t\t\ttry {\n\t\t\t\tfn();\n\t\t\t} catch (e) { /* empty */ }\n\t\t}\n\t\tqueues = [];\n\t});\n\n\treturn function(callback: () => void) {\n\t\tlet args = [];\n\t\tlet queued = false;\n\n\t\tfunction runCallback() {\n\t\t\tqueued = false;\n\t\t\tcallback();\n\t\t}\n\n\t\treturn (...a: Array<*>) => {\n\t\t\targs = a;\n\n\t\t\tif (queued) {\n\t\t\t\t_.pull(queues, callback);\n\t\t\t} else {\n\t\t\t\tqueued = true;\n\t\t\t}\n\n\t\t\tqueues.push(callback);\n\t\t\trun();\n\t\t};\n\t};\n})();\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will only invoke the latest `callback` in the next upcoming idle period.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n */\nexport function idleThrottle<V>(callback: (...args: any) => V): (...args: any) => Promise<V> {\n\tlet args = [];\n\tlet promise;\n\n\treturn (...a) => {\n\t\targs = a;\n\t\tpromise = promise || new Promise((res, rej) => {\n\t\t\trequestIdleCallback(() => {\n\t\t\t\tpromise = null;\n\t\t\t\ttry {\n\t\t\t\t\tres(callback(...args));\n\t\t\t\t} catch (e) {\n\t\t\t\t\trej(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t};\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { mutex } from '../../utils/async';\nimport { sendMessage } from './messaging';\n\ntype Perms = Array<string>;\n\nfunction filterPerms(perms) {\n\tconst permissions = perms.filter(p => !p.includes('://') && p !== '<all_urls>');\n\tconst origins = perms.filter(p => p.includes('://') || p === '<all_urls>');\n\treturn { permissions, origins };\n}\n\n/**\n * @param {Array<string>} perms Permissions to check if granted\n * @returns {Promise<boolean>}\n */\nexport const has = _.memoize(\n\t(perms: Perms) => sendMessage('permissions', { operation: 'contains', ...filterPerms(perms) }),\n\tperms => perms.join(','),\n);\n\n/**\n * @param {Array<string>} perms Optional Chrome permissions to request.\n * @param {string} perms Name of site to request permission for\n * @returns {Promise<void, *>} Resolves if the permissions are granted, rejects otherwise.\n */\nexport const request = mutex(async (perms: Perms) => {\n\tif (await has(perms)) return;\n\n\tconst { permissions, origins } = filterPerms(perms);\n\n\tconst granted = await sendMessage('permissions', { operation: 'request', permissions, origins });\n\tif (granted) {\n\t\thas.cache.set(perms.join(','), true);\n\t} else {\n\t\tthrow new Error(`Permission not granted for: ${perms.join(', ')}`);\n\t}\n});\n","/* @flow */\n\nimport { sendMessage } from './messaging';\nimport * as Permissions from './permissions';\n\nexport async function launchAuthFlow({\n\tdomain,\n\tclientId,\n\tscope = '',\n\tpermissions,\n}: {|\n\tdomain: string,\n\tclientId: string,\n\tscope?: string,\n\tpermissions: Array<string>,\n|}, warnUserInteraction: (message: string) => Promise<void>): Promise<string> {\n\tif (permissions.length && !await Permissions.has(permissions)) {\n\t\tconst resAuth = 'https://redditenhancementsuite.com/oauth';\n\t\t// Firefox can use `launchWebAuthFlow` and doesn't need to redirect to our domain\n\t\tif (process.env.BUILD_TARGET !== 'firefox' && !await Permissions.has([resAuth])) {\n\t\t\tpermissions.push(resAuth);\n\t\t}\n\n\t\tawait warnUserInteraction(permissions.includes(resAuth) ? 'You may be redirected to redditenhancementsuite.com to complete the login process.' : '');\n\n\t\tawait Permissions.request(permissions);\n\t}\n\n\tlet responseUrl;\n\ttry {\n\t\tresponseUrl = await sendMessage('authFlow', { domain, clientId, scope, interactive: false });\n\t} catch (e) {\n\t\tconsole.error('Noninteractive auth failed:', e);\n\n\t\tresponseUrl = await sendMessage('authFlow', { domain, clientId, scope, interactive: true });\n\t}\n\n\tconst hash = new URL(responseUrl).hash.slice(1);\n\tconst token = new URLSearchParams(hash).get('access_token');\n\n\tif (!token) throw new Error('No token found in response.');\n\n\treturn token;\n}\n","/* @flow */\n\nimport { addListener, sendMessage } from './messaging';\n\nconst callbacks = new Map();\n\naddListener('multicast', ({ name, args }) => {\n\tconst callback = callbacks.get(name);\n\t// Not every foreground pages subscribes to every multicast\n\tif (callback) return callback(...args);\n});\n\n/*\n * Creates a wrapper function that will invoke `callback` in all other tabs.\n */\nexport function multicast<T:(...args: any) => any>(callback: T, { name, local = true, crossContext = true }: {| name: string, local?: boolean, crossContext?: boolean |}): T {\n\tif (callbacks.has(name)) {\n\t\tthrow new Error(`Multicast handler with name \"${name}\" exists.`);\n\t}\n\n\tcallbacks.set(name, callback);\n\n\tfunction localOnly(...args) {\n\t\tcallback(...args);\n\t}\n\n\tconst invoke: any = (...args) => {\n\t\tsendMessage('multicast', { name, args, crossContext });\n\n\t\tif (local) {\n\t\t\tlocalOnly(...args);\n\t\t}\n\t};\n\n\tinvoke.local = localOnly;\n\n\treturn invoke;\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function openNewTab(url: string, focus?: boolean = true) {\n\treturn openNewTabs(focus, url);\n}\n\ntype Focus = 'first' | 'last' | 'none' | boolean;\n\nexport function openNewTabs(focus: Focus, ...urls: string[]) {\n\tlet focusIndex;\n\n\tif (typeof focus !== 'string') focus = !!focus;\n\n\tswitch (focus) {\n\t\tcase 'first':\n\t\t\tfocusIndex = 0;\n\t\t\tbreak;\n\t\tcase true:\n\t\tcase 'last':\n\t\t\tfocusIndex = urls.length - 1;\n\t\t\tbreak;\n\t\tcase false:\n\t\tcase 'none':\n\t\t\tfocusIndex = -1;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid focus specified: ${focus}`);\n\t}\n\n\t// Expand relative URLs\n\turls = urls.map(url => new URL(url, location.href).href);\n\n\treturn sendMessage('openNewTabs', { urls, focusIndex });\n}\n","/* @flow */\n\nimport { frameThrottle } from '../../utils/async';\nimport { addListener, sendMessage } from './messaging';\n\nconst clickListeners = [];\n\nexport function onClick(callback: () => void) {\n\tclickListeners.push(callback);\n}\n\naddListener('pageActionClick', () => { for (const fn of clickListeners) fn(); });\n\n// Don't update before page is visible, as Firefox (buggily?) ignores pageAction updates to hidden pages\nconst update = frameThrottle(value => sendMessage('pageAction', value));\n\nexport function show(state?: boolean = false) {\n\treturn update({ operation: 'show', state });\n}\n\nexport function hide() {\n\treturn update({ operation: 'hide' });\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function get(key: string): Promise<any | void> {\n\treturn sendMessage('session', ['get', key]);\n}\n\nexport function set(key: string, value: mixed) {\n\treturn sendMessage('session', ['set', key, value]);\n}\n\nexport function delete_(key: string) {\n\treturn sendMessage('session', ['delete', key]);\n}\nexport { delete_ as delete };\n\nexport function has(key: string): Promise<boolean> {\n\treturn sendMessage('session', ['has', key]);\n}\n\nexport function clear() {\n\treturn sendMessage('session', ['clear']);\n}\n","/* @flow */\n\n/*\n * Roughly equivalent to `$.extend(true, target, source)`\n * Unfortunately lodash does not seem to offer any function that does this:\n * _.assign/_.extend/Object.assign are not recursive\n * _.merge and _.defaultsDeep ignore undefined values\n */\nexport function extendDeep(target: { [string]: mixed }, source: { [string]: mixed }): { [string]: mixed } {\n\tfor (const key of Object.keys(source)) {\n\t\tif (\n\t\t\ttarget[key] && source[key] &&\n\t\t\ttypeof target[key] === 'object' && typeof source[key] === 'object' &&\n\t\t\t!Array.isArray(source[key]) && !Array.isArray(target[key])\n\t\t) {\n\t\t\textendDeep(target[key], source[key]);\n\t\t} else {\n\t\t\ttarget[key] = source[key];\n\t\t}\n\t}\n\treturn target;\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { extendDeep } from '../../utils/object';\nimport { batch, keyedMutex } from '../../utils/async';\nimport { apiToPromise } from '../utils/api';\nimport { sendMessage } from './messaging';\n\nconst __set = apiToPromise((items, callback) => chrome.storage.local.set(items, callback));\nconst _set = (key, value) => __set({ [key]: value });\nconst __get = apiToPromise((keys, callback) => chrome.storage.local.get(keys, callback));\nconst _get = async (key, defaultValue = null) => (await __get({ [key]: defaultValue }))[key];\nconst _delete = apiToPromise((keys, callback) => chrome.storage.local.remove(keys, callback));\nconst _clear = apiToPromise(callback => chrome.storage.local.clear(callback));\n\nconst withLockOn = keyedMutex(<T>(key: string, fn: () => T): T => fn());\n\nexport function get(key: string): Promise<any | null> {\n\treturn withLockOn(key, () => _get(key, null));\n}\n\nexport function getAll(): Promise<{ [string]: mixed }> {\n\treturn __get(null);\n}\n\nexport function getMultiple<T: string>(keys: T[]): Promise<{ [T]: any | null }> {\n\tconst defaults = {};\n\tfor (const k of keys) {\n\t\tdefaults[k] = null;\n\t}\n\treturn __get(defaults);\n}\n\nexport function set(key: string, value: mixed): Promise<void> {\n\treturn withLockOn(key, () => _set(key, value));\n}\n\nexport function setMultiple(valueMap: { +[string]: mixed }): Promise<void> {\n\treturn __set(valueMap);\n}\n\nfunction compareAndSet(key: string, defaultValue: mixed, oldValue: mixed, newValue: mixed): Promise<boolean> {\n\t// Redirect to the background instance as it allows for a common mutex,\n\t// preventing race conditions when several tabs invokes this function around the same time\n\treturn sendMessage('storage-cas', [key, defaultValue, oldValue, newValue]);\n}\n\n/*\n * Deeply patches an object in storage, like extendDeep().\n */\nfunction patch(key: string, value: { [string]: mixed }): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst extended = extendDeep(await _get(key) || {}, value);\n\t\treturn _set(key, extended);\n\t});\n}\n\n/*\n * Shallowly patches an object in storage, like Object.assign().\n */\nfunction patchShallow(key: string, value: { [string]: mixed }): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst extended = Object.assign(await _get(key) || {}, value);\n\t\treturn _set(key, extended);\n\t});\n}\n\n/*\n * Deletes a property on a value in storage.\n * i.e. `deletePath('userTaggerStorageKey', 'username', 'tag')`\n * will `delete userTaggerStoredValue.username.tag`\n */\nfunction deletePaths(key: string, paths: string[][]): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst stored = await _get(key);\n\t\tif (!stored) return;\n\t\tfor (const path of paths) {\n\t\t\tpath.reduce((obj, key, i, { length }) => {\n\t\t\t\tif (!obj) return;\n\t\t\t\tif (i < length - 1) return obj[key];\n\t\t\t\tdelete obj[key];\n\t\t\t}, stored);\n\t\t}\n\t\treturn _set(key, stored);\n\t});\n}\n\nfunction delete_(key: string): Promise<void> {\n\treturn withLockOn(key, () => _delete(key));\n}\nexport { delete_ as delete };\n\nexport function deleteMultiple(keys: string[]): Promise<void> {\n\treturn _delete(keys);\n}\n\nexport function has(key: string): Promise<boolean> {\n\treturn withLockOn(key, async () => {\n\t\tconst sentinel = Math.random();\n\t\treturn (await _get(key, sentinel)) !== sentinel;\n\t});\n}\n\nexport async function keys(): Promise<string[]> {\n\treturn Object.keys(await __get(null));\n}\n\nexport function clear(): Promise<void> {\n\treturn _clear();\n}\n\nclass Wrapper<T> {\n\t_key: () => string;\n\t_default: T;\n\n\tconstructor(key: $PropertyType<this, '_key'>, def: T) {\n\t\tthis._key = key;\n\t\tthis._default = def;\n\t}\n\n\tget(): Promise<T> {\n\t\treturn get(this._key()).then(val => (val === null ? this._default : val));\n\t}\n\n\tset(value: T): Promise<void> {\n\t\treturn set(this._key(), value);\n\t}\n\n\tpatch(value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._key(), (value: any));\n\t}\n\n\tcompareAndSet(oldValue: T, newValue: T): Promise<boolean> {\n\t\treturn compareAndSet(this._key(), this._default, oldValue, newValue);\n\t}\n\n\tdeletePath(...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._key(), [path]);\n\t}\n\n\tdelete(): Promise<void> {\n\t\treturn delete_(this._key());\n\t}\n\n\thas(): Promise<boolean> {\n\t\treturn has(this._key());\n\t}\n}\n\nexport function wrap<T>(key: string | () => string /* pure */, defaultValue: T): Wrapper<T> {\n\tconst keyGenerator = typeof key === 'string' ? () => key : _.once(key);\n\t// $FlowIssue\n\treturn new Wrapper(keyGenerator, defaultValue);\n}\n\nclass PrefixWrapper<T> {\n\t_prefix: string;\n\t_keyMapper: (key: string) => string;\n\t_default: () => T;\n\t_get: *;\n\n\tconstructor(prefix: string, def: () => T, keyMapper: (key: string) => string, batching: boolean) {\n\t\tthis._prefix = prefix;\n\t\tthis._default = def;\n\t\tthis._keyMapper = keyMapper;\n\n\t\tif (batching) {\n\t\t\tthis._get = batch(async keys => {\n\t\t\t\tconst v = await this.getMultipleNullable(keys);\n\t\t\t\treturn keys.map(key => v[this._keyMapper(key)]);\n\t\t\t}, { size: Infinity, delay: 0 });\n\t\t} else {\n\t\t\tthis._get = key => get(this._keyGen(key));\n\t\t}\n\t}\n\n\t_keyGen(key: string): string {\n\t\treturn this._prefix + this._keyMapper(key);\n\t}\n\n\tget(key: string): Promise<T> {\n\t\treturn this._get(key).then(val => (val === null ? this._default() : val));\n\t}\n\n\tgetNullable(key: string): Promise<T | null> {\n\t\treturn this._get(key);\n\t}\n\n\tasync getAll(): Promise<{ [string]: T }> {\n\t\tconst everything = await getAll();\n\t\treturn _.transform(everything, (acc, v, k) => {\n\t\t\tif (k.startsWith(this._prefix)) {\n\t\t\t\tacc[k.slice(this._prefix.length)] = v;\n\t\t\t}\n\t\t}, {});\n\t}\n\n\tasync getMultiple(keys: string[]): Promise<{ [string]: T }> {\n\t\tconst rawValues = await getMultiple(keys.map(k => this._keyGen(k)));\n\t\treturn _.transform(rawValues, (acc, v, k) => {\n\t\t\tacc[k.slice(this._prefix.length)] = (v === null ? this._default() : v);\n\t\t}, {});\n\t}\n\n\tasync getMultipleNullable(keys: string[]): Promise<{ [string]: T | null }> {\n\t\tconst rawValues = await getMultiple(keys.map(k => this._keyGen(k)));\n\t\treturn _.transform(rawValues, (acc, v, k) => {\n\t\t\tacc[k.slice(this._prefix.length)] = v;\n\t\t}, {});\n\t}\n\n\tset(key: string, value: T): Promise<void> {\n\t\treturn set(this._keyGen(key), value);\n\t}\n\n\tpatch(key: string, value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._keyGen(key), (value: any));\n\t}\n\n\tdeletePath(key: string, ...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._keyGen(key), [path]);\n\t}\n\n\tdelete(key: string): Promise<void> {\n\t\treturn delete_(this._keyGen(key));\n\t}\n\n\tdeleteMultiple(keys: string[]): Promise<void> {\n\t\treturn deleteMultiple(keys.map(k => this._keyGen(k)));\n\t}\n\n\thas(key: string): Promise<boolean> {\n\t\treturn has(this._keyGen(key));\n\t}\n}\n\nexport function wrapPrefix<T>(prefix: string, defaultValue: () => T, destructiveKeyMapper: (key: string) => string = x => x, batching: boolean = false): PrefixWrapper<T> {\n\treturn new PrefixWrapper(prefix, defaultValue, destructiveKeyMapper, batching);\n}\n\nclass BlobWrapper<T> {\n\t_rootKey: string;\n\t_default: () => T;\n\n\tconstructor(rootKey: string, def: () => T) {\n\t\tthis._rootKey = rootKey;\n\t\tthis._default = def;\n\t}\n\n\tget(key: string): Promise<T> {\n\t\treturn get(this._rootKey).then(val => (\n\t\t\t(val === null || val[key] === undefined) ? this._default() : val[key]\n\t\t));\n\t}\n\n\tgetNullable(key: string): Promise<T | null> {\n\t\treturn get(this._rootKey).then(val => (\n\t\t\t(val === null || val[key] === undefined) ? null : val[key]\n\t\t));\n\t}\n\n\tgetAll(): Promise<{ [string]: T }> {\n\t\treturn get(this._rootKey).then(val => (val === null ? {} : val));\n\t}\n\n\tasync getMultiple(keys: string[]): Promise<{ [string]: T }> {\n\t\tconst rawValues = (await get(this._rootKey)) || {};\n\t\treturn _.transform(keys, (acc, key) => {\n\t\t\tacc[key] = rawValues[key] === undefined ? this._default() : rawValues[key];\n\t\t}, {});\n\t}\n\n\tasync getMultipleNullable(keys: string[]): Promise<{ [string]: T | null }> {\n\t\tconst rawValues = (await get(this._rootKey)) || {};\n\t\treturn _.transform(keys, (acc, key) => {\n\t\t\tacc[key] = rawValues[key] === undefined ? null : rawValues[key];\n\t\t}, {});\n\t}\n\n\tset(key: string, value: T): Promise<void> {\n\t\treturn patchShallow(this._rootKey, { [key]: value });\n\t}\n\n\tpatch(key: string, value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._rootKey, { [key]: value });\n\t}\n\n\tdeletePath(key: string, ...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._rootKey, [[key, ...path]]);\n\t}\n\n\tdelete(key: string): Promise<void> {\n\t\treturn deletePaths(this._rootKey, [[key]]);\n\t}\n\n\tdeleteMultiple(keys: string[]): Promise<void> {\n\t\treturn deletePaths(this._rootKey, keys.map(k => [k]));\n\t}\n\n\thas(key: string): Promise<boolean> {\n\t\treturn get(this._rootKey).then(val => (val !== null && val[key] !== undefined));\n\t}\n\n\tclear(): Promise<void> {\n\t\treturn delete_(this._rootKey);\n\t}\n}\n\nexport function wrapBlob<T>(rootKey: string, defaultValue: () => T): BlobWrapper<T> {\n\treturn new BlobWrapper(rootKey, defaultValue);\n}\n","/* @flow */\n\nexport { data as context } from './foreground/context';\nexport { addURLToHistory, isURLVisited } from './foreground/history';\nexport { ajax } from './foreground/ajax';\nexport { download } from './foreground/download';\nexport { getExtensionId, getURL, isOptionsPage, getOptionsURL } from './foreground/id';\nexport { locale, i18n, _loadI18n } from './foreground/i18n';\nexport { isPrivateBrowsing } from './foreground/privateBrowsing';\nexport { launchAuthFlow } from './foreground/auth';\nexport { multicast } from './foreground/multicast';\nexport { openNewTab, openNewTabs } from './foreground/tabs';\nexport * as PageAction from './foreground/pageAction';\nexport * as Permissions from './foreground/permissions';\nexport * as Session from './foreground/session';\nexport * as Storage from './foreground/storage';\nexport * as XhrCache from './foreground/xhrCache';\n","/* @flow */\n\nexport class LRUCache<K, V> {\n\tmap: Map<K, {\n\t\tvalue: V,\n\t\tcreateTime: number,\n\t\thitTime: number,\n\t}>;\n\n\tcapacity: number;\n\n\tconstructor(capacity: number) {\n\t\tthis.map = new Map();\n\t\tthis.capacity = capacity;\n\t}\n\n\tget(key: K, maxAge: number = Infinity): V | void {\n\t\tconst now = Date.now();\n\t\tconst entry = this.map.get(key);\n\t\tif (entry && (now - entry.createTime < maxAge)) {\n\t\t\tentry.hitTime = now;\n\t\t\treturn entry.value;\n\t\t}\n\t}\n\n\tset(key: K, value: V): this {\n\t\tconst now = Date.now();\n\t\tthis.map.set(key, { value, createTime: now, hitTime: now });\n\n\t\tif (this.map.size > this.capacity) {\n\t\t\t// Evict least-recently used (hit)\n\t\t\tArray.from(this.map.entries())\n\t\t\t\t.sort(([, a], [, b]) => b.hitTime - a.hitTime)\n\t\t\t\t.slice((this.capacity / 2) | 0)\n\t\t\t\t.forEach(([key]) => this.map.delete(key));\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tdelete(key: K): boolean {\n\t\treturn this.map.delete(key);\n\t}\n\n\tclear(): void {\n\t\tthis.map.clear();\n\t}\n}\n","/* @flow */\nimport _ from 'lodash';\nimport { fastAsync } from './async';\n\nexport type Iteratee<T, R> = (e: T, i: number, a: T[]) => R;\n\n/*\n * If `callback` returns a promise, waits for the promise to resolve before advancing to the next item.\n */\nexport async function forEachSeq<T>(iterable: Iterable<T>, callback: (x: T) => ?Promise<void>): Promise<void> {\n\tfor (const val of iterable) {\n\t\tawait callback(val); // eslint-disable-line no-await-in-loop\n\t}\n}\n\nexport async function asyncFilter<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<T[]> {\n\tconst shouldKeep = await Promise.all(array.map(predicate));\n\treturn array.filter((e, i) => shouldKeep[i]);\n}\n\nexport async function asyncReduce<T, V>(iterable: Iterable<T>, callback: (acc: V, e: T) => Promise<V>, initialValue: V): Promise<V> {\n\tlet accumulator = initialValue;\n\n\tfor (const val of iterable) {\n\t\taccumulator = await callback(accumulator, val); // eslint-disable-line no-await-in-loop\n\t}\n\n\treturn accumulator;\n}\n\nexport const asyncFind = fastAsync(function* asyncFind<T>(iterable: Iterable<T>, predicate: (x: T) => Promise<mixed> | mixed) {\n\tfor (const val of iterable) {\n\t\tif (yield predicate(val)) return val;\n\t}\n});\n\n/**\n * @template T, V\n * @param {Promise<T>[]} array\n * @param {function(V, T): V} reduce\n * @param {V} initialValue\n * @param {V} baseCase\n * @returns {Promise<T>}\n */\nfunction concurrentFold<T, V>(array: Promise<T>[], reduce: (a: V, b: T) => V, initialValue: V, baseCase: V): Promise<V> {\n\tif (!array.length) return Promise.resolve(initialValue);\n\n\treturn new Promise((resolve, reject) => {\n\t\tlet remaining = array.length;\n\t\tlet accum = initialValue;\n\n\t\tfunction onResolve(x) {\n\t\t\tif (remaining === 0) return;\n\n\t\t\taccum = reduce(accum, x);\n\n\t\t\tif (accum === baseCase || --remaining === 0) {\n\t\t\t\tremaining = 0;\n\t\t\t\tresolve(accum);\n\t\t\t}\n\t\t}\n\n\t\tfunction onReject(err) {\n\t\t\tif (remaining === 0) return;\n\n\t\t\tremaining = 0;\n\t\t\treject(err);\n\t\t}\n\n\t\tarray.forEach(promise => promise.then(onResolve, onReject));\n\t});\n}\n\n/*\n * Guaranteed to execute concurrently, unlike `Array.prototype.some`.\n * Rejects on a best-effort basis if any of the promises reject.\n * May resolve to `true` even if some of the promises reject.\n */\nexport function asyncSome<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<boolean> {\n\treturn concurrentFold(array.map(predicate), (a, b) => a || !!b, false, true);\n}\n\n/*\n * Guaranteed to execute concurrently, unlike `Array.prototype.every`.\n * Rejects on a best-effort basis if any of the promises reject.\n * May resolve to `false` even if some of the promises reject.\n */\nexport function asyncEvery<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<boolean> {\n\treturn concurrentFold(array.map(predicate), (a, b) => a && !!b, true, false);\n}\n\n// Flow doesn't understand `Array.prototype.filter` refining types (yet https://github.com/facebook/flow/issues/34)\n// so this is necessary if you want to do `arr.filter(...).map(...)`\nexport const filterMap = _.curryRight(<T, V>(iterable: Iterable<T>, callback: (x: T) => ?[V]): V[] => {\n\tconst mapped = [];\n\tfor (const x of iterable) {\n\t\tconst result = callback(x);\n\t\tif (result) mapped.push(result[0]);\n\t}\n\treturn mapped;\n});\n","/* @flow */\n\nimport _ from 'lodash';\nimport { filterMap } from './array';\nimport { throttleQueuePositionReset } from './async';\nimport { click, getPercentageVisibleYAxis, scrollToElement, waitForFutureDescendant } from './dom';\nimport { downcast } from './flow';\nimport { currentSubreddit, regexes } from './location';\n\nconst elementMap = new WeakMap();\nconst things = new Set();\nconst SECRET_TOKEN = new class {}();\n// This query may be expensive and performed fairly often\nconst thingElementsCached = _.memoize(doc => {\n\twaitForFutureDescendant(doc, Thing.thingSelector, { added: true, removed: true }).then(() => thingElementsCached.cache.delete(doc));\n\treturn Array.from(doc.querySelectorAll(Thing.thingSelector));\n});\n\n/**\n * Wrapper class around reddit's concept of a \"Thing\".\n * Use Thing.from or Thing.checkedFrom (fallible/infallible respectively) to construct a Thing.\n * Uniqueness is guaranteed, i.e. `Thing.from(element) === Thing.from(element)`.\n */\nexport class Thing {\n\tstatic thingSelector = '.listing .thing, .linklisting .thing, .nestedlisting .thing, .search-result-link';\n\tstatic entrySelector = '.entry';\n\n\tstatic thingElements(doc: * = document.body): HTMLElement[] {\n\t\tconst eles = thingElementsCached(doc);\n\n\t\t// Check if the last element (tree?) is incomplete\n\t\t// in which case, delete it and clear the cache\n\t\tlet last = eles.slice(-1)[0];\n\t\tif (last) {\n\t\t\tdo {\n\t\t\t\tif (last.nextElementSibling) break;\n\t\t\t} while ((last = last.parentElement));\n\n\t\t\t// If there's no element in the DOM after the last thing, its DOM is likely to not be completed\n\t\t\tif (!last) eles.pop();\n\t\t}\n\n\t\treturn eles;\n\t}\n\n\tstatic things(doc: *): Thing[] {\n\t\treturn Thing.thingElements(doc).map(e => Thing.checkedFrom(e));\n\t}\n\n\tstatic visibleThingElements(doc: *): HTMLElement[] {\n\t\treturn Thing.thingElements(doc).filter(v => v.offsetParent);\n\t}\n\n\tstatic visibleThings(doc: *): Thing[] {\n\t\treturn filterMap(Thing.visibleThingElements(doc), ele => {\n\t\t\tconst thing = Thing.from(ele);\n\t\t\tif (thing) return [thing];\n\t\t});\n\t}\n\n\tstatic registeredThings = (doc: * = document.body) => Array.from(things).filter(thing => doc.contains(thing.element));\n\n\tstatic runTasksRange(a: ?Thing, b: ?Thing, marginTop: number, marginBottom: number, stopAfterCls?: string) {\n\t\tlet top, bottom;\n\t\tif (a && b) {\n\t\t\t[top, bottom] = a.getDirectionOf(b) === 'down' ? [a, b] : [b, a];\n\t\t} else if (a || b) {\n\t\t\ttop = bottom = downcast(a || b, Thing);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tconst thingElements = Thing.thingElements();\n\t\tlet tidx = thingElements.indexOf(top.element);\n\t\tlet bidx = thingElements.indexOf(bottom.element);\n\n\t\tlet thing;\n\n\t\tfor (const e of thingElements.slice(tidx, bidx + 1)) {\n\t\t\tthing = Thing.checkedFrom(e);\n\t\t\tif (thing.tasks.completed) continue;\n\t\t\tif (thing.isVisible()) thing.runTasks();\n\t\t}\n\n\t\t// Prcoss `marginTop` upwards and `marginBottom` downwards\n\t\t// If a thing is contained by a parent, the whole tree is processed\n\n\t\twhile (\n\t\t\t(thing = Thing.from(thingElements[--tidx])) &&\n\t\t\t(marginTop > 0 || thing.parent)\n\t\t) {\n\t\t\tif (thing.tasks.completed || thing.isVisible()) {\n\t\t\t\tmarginTop--;\n\t\t\t\tthing.runTasks();\n\t\t\t}\n\t\t}\n\n\t\twhile (\n\t\t\t(thing = Thing.from(thingElements[++bidx])) &&\n\t\t\t!(stopAfterCls && thing.element.classList.contains(stopAfterCls)) && // eslint-disable-line no-unmodified-loop-condition\n\t\t\t(marginBottom > 0 || thing.parent)\n\t\t) {\n\t\t\tif (thing.tasks.completed || thing.isVisible()) {\n\t\t\t\tmarginBottom--;\n\t\t\t\tthing.runTasks();\n\t\t\t}\n\t\t}\n\t}\n\n\telement: HTMLElement;\n\tentry: HTMLElement;\n\n\tparent: ?Thing;\n\tchildren = new Set();\n\n\t// Tasks are added and generally executed by watchers\n\ttasks: {| completed: boolean, visible: Array<() => any>, immediate: Array<() => any>, byId: Map<mixed, () => any> |} =\n\t\t{ completed: false, visible: [], immediate: [], byId: new Map() };\n\n\tstatic checkedFrom(element: HTMLElement | Thing): Thing {\n\t\tconst thing = Thing.from(element);\n\t\tif (!thing) {\n\t\t\tthrow new Error(`Could not construct Thing from ${String(element)}`);\n\t\t}\n\t\treturn thing;\n\t}\n\n\tstatic from(element: ?HTMLElement | Thing): ?Thing {\n\t\tif (!element) return null;\n\n\t\tif (element instanceof Thing) return element;\n\n\t\tconst thingElement = element.closest(Thing.thingSelector);\n\t\tif (!thingElement) return null;\n\n\t\tif (elementMap.has(thingElement)) return elementMap.get(thingElement);\n\n\t\tconst entry = thingElement.querySelector(Thing.entrySelector) || thingElement;\n\t\tconst thing = new Thing(SECRET_TOKEN, downcast(thingElement, HTMLElement), entry);\n\n\t\telementMap.set(thingElement, thing);\n\t\tthings.add(thing);\n\n\t\treturn thing;\n\t}\n\n\tconstructor(token: typeof SECRET_TOKEN, thing: HTMLElement, entry: HTMLElement) {\n\t\tif (token !== SECRET_TOKEN) {\n\t\t\tthrow new Error('Use Thing.from() or Thing.checkedFrom() instead of new Thing()');\n\t\t}\n\n\t\tthis.element = thing;\n\t\tthis.entry = entry;\n\n\t\tconst _p = this.element.parentElement;\n\t\tthis.parent = _p && Thing.from((_p: any).closest('.thing'));\n\t\tif (this.parent) this.parent.children.add(this);\n\t}\n\n\trunTasks() {\n\t\tif (this.tasks.completed) return;\n\t\tthis.tasks.immediate.map(fn => fn());\n\t\tthis.tasks.visible.map(fn => fn());\n\t}\n\n\tanchor() {\n\t\t// Keep the viewport anchored relative to this thing if it is in the viewport\n\t\tconst anchor = getPercentageVisibleYAxis(this.entry) && { to: this.entry.getBoundingClientRect().top };\n\t\tif (!anchor) return;\n\t\trequestAnimationFrame(() => {\n\t\t\tif (!this.entry.offsetParent) return;\n\t\t\tscrollToElement(this.entry, undefined, { scrollStyle: 'none', anchor });\n\t\t});\n\t}\n\n\tsetHideFilter(match: *) {\n\t\tthis.element.classList.toggle('res-thing-filter-hide', !!match);\n\n\t\tif (this.isComment()) {\n\t\t\tthis.refreshPartialVisibility();\n\t\t\tfor (const p of this.getParents()) p.refreshPartialVisibility();\n\t\t}\n\t}\n\n\tsetFilterReasons(elements: Array<HTMLElement>) {\n\t\tfor (const old of this.element.querySelectorAll('.res-thing-filter-remove-matching-entry')) old.remove();\n\t\tthis.element.prepend(...elements);\n\t}\n\n\t// `throttleQueuePositionReset` ensures that children will be evaluated first\n\t// Class is applied when a thing is hidden by a filter, but may have descendants that are not\n\trefreshPartialVisibility = throttleQueuePositionReset(() => {\n\t\tthis.element.classList.toggle('res-thing-partial', this.isHiddenByFilter(true) && (\n\t\t\t// Comment has unloaded comments whose state is still not known\n\t\t\t// TODO If clicking this causes the comment to disappear, notify!\n\t\t\tthis.element.matches('.morerecursion, .morechildren') ||\n\t\t\t// Comment has unfilter children\n\t\t\tArray.from(this.children).some(v => !v.isHiddenByFilter())\n\t\t));\n\t});\n\n\tgetDirectionOf(other: Thing): ?('down' | 'up') {\n\t\tif (!this.isVisible() || !other.isVisible()) return;\n\t\treturn (other.entry.compareDocumentPosition(this.entry) & Node.DOCUMENT_POSITION_FOLLOWING) ? 'up' : 'down';\n\t}\n\n\tgetThreadTop(): Thing {\n\t\tlet thing = this; // eslint-disable-line consistent-this\n\n\t\tlet current = this.element;\n\t\twhile ((current = current.parentElement)) {\n\t\t\tif (current.matches(Thing.thingSelector)) thing = downcast(current, HTMLElement);\n\t\t}\n\n\t\treturn Thing.checkedFrom(thing);\n\t}\n\n\tgetParents(): Thing[] {\n\t\tconst parents = [];\n\t\tlet level = this; // eslint-disable-line consistent-this\n\t\twhile ((level = level.parent)) parents.push(level);\n\t\treturn parents;\n\t}\n\n\tgetNext({ direction = 'down', excludeMoreChildren = false }: {| direction?: 'up' | 'down', excludeMoreChildren?: boolean |} = {}, things: HTMLElement[] = Thing.thingElements()): ?Thing {\n\t\tlet index = things.indexOf(this.element);\n\t\tlet target;\n\n\t\tdo {\n\t\t\tindex += direction === 'down' ? 1 : -1;\n\t\t\tconst _target = things[index];\n\t\t\ttarget = _target;\n\t\t\tif (!target) return null;\n\t\t\tif (excludeMoreChildren && target.matches('.morechildren')) continue;\n\t\t} while (!target.offsetParent);\n\n\t\treturn Thing.from(target);\n\t}\n\n\tgetNextSibling(options: *): ?Thing {\n\t\tif (!this.element.parentElement) return null;\n\n\t\tconst things = Array.from(this.element.parentElement.children)\n\t\t\t.filter(e => e.matches(Thing.thingSelector));\n\n\t\treturn this.getNext(options, things);\n\t}\n\n\tgetClosest(func: (...args: any) => ?Thing, ...args: mixed[]): ?Thing {\n\t\tconst target = Reflect.apply(func, this, args);\n\t\tif (target) {\n\t\t\treturn target;\n\t\t} else {\n\t\t\tif (this.parent) return this.parent.getClosest(func, ...args);\n\t\t}\n\t}\n\n\tgetClosestVisible(options: * = { excludeMoreChildren: true }): ?Thing {\n\t\tif (this.element.offsetParent) return this;\n\t\treturn this.getNext({ direction: 'down', ...options }) || this.getNext({ direction: 'up', ...options });\n\t}\n\n\tisMessage(): boolean {\n\t\treturn this.element.classList.contains('message');\n\t}\n\n\tisSubreddit(): boolean {\n\t\treturn this.element.classList.contains('subreddit');\n\t}\n\n\tisPost(): boolean {\n\t\treturn this.element.classList.contains('link') || this.element.classList.contains('search-result-link');\n\t}\n\n\tisLinkPost(): boolean {\n\t\tif (!this.isPost()) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.element.classList.contains('search-result-link')) {\n\t\t\treturn !this.element.querySelector('a').classList.contains('self');\n\t\t} else {\n\t\t\treturn !this.element.classList.contains('self');\n\t\t}\n\t}\n\n\tisSelfPost(): boolean {\n\t\tif (!this.isPost()) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.element.classList.contains('search-result-link')) {\n\t\t\treturn this.element.querySelector('a').classList.contains('self');\n\t\t} else {\n\t\t\treturn this.element.classList.contains('self');\n\t\t}\n\t}\n\n\tisComment(): boolean {\n\t\treturn this.element.classList.contains('comment') || this.element.classList.contains('was-comment');\n\t}\n\n\tisTopLevelComment(): boolean {\n\t\treturn this.isComment() && !!this.element.parentElement && this.element.parentElement.classList.contains('nestedlisting');\n\t}\n\n\tgetTitle(): string {\n\t\tconst element = this.getTitleElement();\n\t\treturn element && element.textContent || '';\n\t}\n\n\tgetTitleElement(): ?HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('a.title, a.search-title') ||\n\t\t\tthis.entry.querySelector('.title'): any);\n\t}\n\n\tgetTitleUrl(): string {\n\t\tconst element = this.getTitleElement();\n\t\tif (element) {\n\t\t\treturn element.href;\n\t\t}\n\t\treturn '';\n\t}\n\n\tgetPostLink(): HTMLAnchorElement {\n\t\treturn downcast(this.entry.querySelector('a.title, a.search-link'), HTMLAnchorElement);\n\t}\n\n\tgetPostUrl(): string {\n\t\treturn this.element.dataset.url || this.getPostLink().href;\n\t}\n\n\tgetTextBody(): HTMLElement {\n\t\treturn this.entry.querySelector('.md');\n\t}\n\n\tgetCommentsLink(): HTMLAnchorElement {\n\t\treturn downcast(this.entry.querySelector('a.comments, a.search-comments'), HTMLAnchorElement);\n\t}\n\n\tgetCommentPermalink(): ?HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('a.bylink'): any);\n\t}\n\n\tgetHideElement(): ?HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('.hide-button a, .unhide-button a'): any);\n\t}\n\n\tgetButtons(): HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('.flat-list.buttons'): any);\n\t}\n\n\tgetNumberOfChildren(): number {\n\t\t// Parse the text, since all children elements may not be loaded\n\t\tconst numChildrenElem = this.element.querySelector('.numchildren');\n\t\tconst match = numChildrenElem && (/(\\d+)/).exec(numChildrenElem.textContent);\n\t\treturn match && parseInt(match[1], 10) || 0;\n\t}\n\n\tstatic _parseScore(scoreEle: HTMLElement): number {\n\t\treturn parseInt(scoreEle.title || scoreEle.textContent, 10) || 0;\n\t}\n\n\tgetScore(): ?number {\n\t\tconst element = this._getActiveScoreElement();\n\t\t// parseInt() strips off the ' points' from comments\n\t\treturn element && Thing._parseScore(element);\n\t}\n\n\t_getActiveScoreElement(): ?HTMLElement {\n\t\tif (this.isPost()) {\n\t\t\treturn this.element.querySelector([\n\t\t\t\t'.midcol.unvoted > .score.unvoted',\n\t\t\t\t'.midcol.likes > .score.likes',\n\t\t\t\t'.midcol.dislikes > .score.dislikes',\n\t\t\t\t'.search-score',\n\t\t\t].join(', '));\n\t\t} else { // if (this.isComment()) {\n\t\t\treturn this.entry.querySelector('.tagline > .score');\n\t\t}\n\t}\n\n\tgetAllScoreElements(): Array<[HTMLElement, number]> {\n\t\tconst toScoreTuple = ele => [ele, Thing._parseScore(ele)];\n\t\tif (this.isPost()) {\n\t\t\treturn Array.from(this.element.querySelectorAll('.midcol > .score, .search-score')).map(toScoreTuple);\n\t\t} else { // if (this.isComment()) {\n\t\t\treturn Array.from(this.entry.querySelectorAll('.tagline > .score')).map(toScoreTuple);\n\t\t}\n\t}\n\n\tgetAuthor(): ?string {\n\t\tconst data = this.element.getAttribute('data-author');\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\t\tconst element = this.getAuthorElement();\n\t\tif (element) {\n\t\t\tconst match = regexes.profile.exec(element.pathname);\n\t\t\tif (match) {\n\t\t\t\treturn match[1];\n\t\t\t}\n\t\t}\n\t}\n\n\tgetAuthorUrl(): string {\n\t\tconst author = this.getAuthor();\n\t\tif (author) {\n\t\t\treturn `/user/${author}/`;\n\t\t}\n\t\treturn '';\n\t}\n\n\tgetAuthorElement(): ?HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('.tagline a.author, .search-author .author'): any);\n\t}\n\n\tgetSubreddit(): ?string {\n\t\tconst data = this.element.getAttribute('data-subreddit');\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\t\tconst element = this.getSubredditLink();\n\t\tif (element) {\n\t\t\tconst match = regexes.subreddit.exec(element.pathname);\n\t\t\tif (match) {\n\t\t\t\treturn match[1];\n\t\t\t}\n\t\t} else {\n\t\t\treturn currentSubreddit();\n\t\t}\n\t}\n\n\tgetSubredditLink(): ?HTMLAnchorElement {\n\t\tif (this.isPost()) {\n\t\t\treturn (this.entry.querySelector('.tagline a.subreddit, a.search-subreddit-link'): any);\n\t\t} else if (this.isComment()) {\n\t\t\t// TODO: does .parent a.subreddit work?\n\t\t\treturn (this.entry.querySelector('.parent a.subreddit, .tagline .subreddit a'): any);\n\t\t}\n\t}\n\n\tgetPostDomain(): string {\n\t\tconst data = this.element.getAttribute('data-domain');\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\n\t\tconst element = this.getPostDomainLink();\n\t\tif (element) {\n\t\t\treturn element.textContent;\n\t\t}\n\n\t\tconst text = this.getPostDomainText();\n\t\tif (text) {\n\t\t\treturn text;\n\t\t}\n\n\t\tconst subreddit = this.getSubreddit();\n\t\tif (subreddit) {\n\t\t\treturn `self.${subreddit}`;\n\t\t}\n\n\t\treturn 'reddit.com';\n\t}\n\n\tgetPostDomainUrl(): string {\n\t\tconst link = this.getPostDomainLink();\n\t\tif (link) {\n\t\t\treturn link.href;\n\t\t}\n\t\treturn `/domain/${this.getPostDomain()}/`;\n\t}\n\n\tgetPostDomainLink(): ?HTMLAnchorElement {\n\t\treturn (this.element.querySelector('.domain a'): any);\n\t}\n\n\tgetPostDomainText(): string {\n\t\tconst data = this.element.getAttribute('data-domain');\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\n\t\tconst element = this.element.querySelector('.domain');\n\t\tif (!element) return '';\n\t\tconst text = element.textContent || '';\n\t\treturn text.replace(/[\\(\\)\\s]/g, '');\n\t}\n\n\tgetCommentCount(): ?number {\n\t\tconst element = this.getCommentCountElement();\n\t\tif (!element) return;\n\t\treturn parseInt((/\\d+/).exec(\n\t\t\telement.textContent ||\n\t\t\telement.getAttribute('data-text'), // In case noCtrlF is applied\n\t\t), 10) || 0;\n\t}\n\n\tgetCommentCountElement(): ?HTMLElement {\n\t\tif (this.isPost()) {\n\t\t\treturn this.element.querySelector('.buttons .comments');\n\t\t} else if (this.isComment()) {\n\t\t\treturn this.element.querySelector('.buttons a.full-comments');\n\t\t}\n\t}\n\n\tgetPostThumbnailUrl(): string {\n\t\tconst thumbnail = this.getPostThumbnailElement();\n\t\tif (!thumbnail) return '';\n\t\treturn thumbnail.src || '';\n\t}\n\n\tgetPostThumbnailElement(): ?HTMLImageElement {\n\t\treturn (this.element.querySelector('.thumbnail img'): any);\n\t}\n\n\tgetPostFlairText(): string {\n\t\tconst element = this.getPostFlairElement();\n\t\treturn element && element.textContent || '';\n\t}\n\n\tgetPostFlairElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.title > .linkflairlabel');\n\t}\n\n\tgetUserFlairText(): string {\n\t\tconst element = this.getUserFlairElement();\n\t\treturn element && element.textContent || '';\n\t}\n\n\tgetUserFlairElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.tagline > .flair');\n\t}\n\n\tgetCrosspostBadgeElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.crosspost-badge');\n\t}\n\n\tgetUpvoteButton(): ?HTMLElement {\n\t\treturn this._getVoteButton('div.up, div.upmod');\n\t}\n\n\tgetDownvoteButton(): ?HTMLElement {\n\t\treturn this._getVoteButton('div.down, div.downmod');\n\t}\n\n\t_getVoteButton(selector: string): ?HTMLElement {\n\t\tconst previousSibling: HTMLElement = (this.entry.previousSibling: any);\n\t\tif (previousSibling.tagName === 'A') {\n\t\t\treturn (previousSibling.previousSibling: any).querySelector(selector);\n\t\t} else {\n\t\t\treturn previousSibling.querySelector(selector);\n\t\t}\n\t}\n\n\tgetTimestamp(): ?Date {\n\t\tconst element = this.getTimestampElement();\n\t\treturn element && new Date(element.getAttribute('datetime'));\n\t}\n\n\tgetTimestampElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('time');\n\t}\n\n\tgetPostEditTimestamp(): number {\n\t\tconst element = this.getPostEditTimestampElement();\n\t\treturn element && (Date.parse(element.getAttribute('datetime')) / 1000) || 0;\n\t}\n\n\tgetPostEditTimestampElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('time.edited-timestamp');\n\t}\n\n\tgetFullname(): string {\n\t\treturn this.element.getAttribute('data-fullname') || '';\n\t}\n\n\tgetUserattrsElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.userattrs');\n\t}\n\n\tgetRank(): ?number {\n\t\tconst rank = parseInt(this.element.getAttribute('data-rank'), 10);\n\t\tif (!isNaN(rank)) return rank;\n\t}\n\n\tgetRankElement(): ?HTMLElement {\n\t\tif (!this.isPost()) return;\n\t\treturn this.element.querySelector('.rank');\n\t}\n\n\tgetTaglineElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.tagline');\n\t}\n\n\tgetCommentCollapseToggleElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.expand');\n\t}\n\n\tsetCommentCollapse(state: boolean, reason: string, openOnlyWhenSameReason: boolean = false): ?HTMLElement {\n\t\tconst toggle = this.getCommentCollapseToggleElement();\n\t\tif (!toggle) return;\n\t\tif (state) toggle.setAttribute('collapse-reason', reason);\n\t\tif (this.isCollapsed() === state) return;\n\t\tif (!state && openOnlyWhenSameReason && toggle.getAttribute('collapse-reason') !== reason) return;\n\t\tif (!state) toggle.removeAttribute('collapse-reason');\n\t\tclick(toggle); // Simulate a click, so that the event bubbles\n\t}\n\n\tgetPostTime(): string {\n\t\tconst element = this.getPostTimeElement();\n\t\tif (element) {\n\t\t\treturn element.textContent;\n\t\t}\n\t\treturn '';\n\t}\n\n\tgetPostTimeElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.tagline time');\n\t}\n\n\tisNSFW(): boolean {\n\t\treturn this.element.classList.contains('over18') || !!this.entry.querySelector('.nsfw-stamp');\n\t}\n\n\tisSpoiler(): boolean {\n\t\tif (this.element.classList.contains('search-result')) {\n\t\t\treturn !!this.entry.querySelector('.spoiler-stamp');\n\t\t}\n\t\treturn this.element.classList.contains('spoiler');\n\t}\n\n\tisCrosspost(): boolean {\n\t\treturn !!this.getCrosspostBadgeElement();\n\t}\n\n\tisLocked(): boolean {\n\t\tif (this.element.classList.contains('search-result')) {\n\t\t\treturn this.element.classList.contains('linkflair-locked');\n\t\t}\n\t\treturn this.element.classList.contains('locked');\n\t}\n\n\tisDeleted(): boolean {\n\t\treturn this.element.classList.contains('deleted');\n\t}\n\n\tisHiddenByFilter(partialAsFiltered: boolean = false): boolean {\n\t\t// Keep in sync with the CSS rules\n\t\tif (this.element.matches('body.hideOver18 .over18:not(.allowOver18)')) return true;\n\t\tif (!this.element.classList.contains('res-thing-filter-hide')) return false;\n\t\tif (this.element.classList.contains('res-filterline-highlight-match')) return false;\n\t\tif (partialAsFiltered) {\n\t\t\tif (this.element.classList.contains('res-thing-partial') && this.element.classList.contains('res-selected')) return false;\n\t\t\treturn true;\n\t\t} else {\n\t\t\tif (this.element.classList.contains('res-thing-hide-children')) return true;\n\t\t\treturn !this.element.classList.contains('res-thing-partial');\n\t\t}\n\t}\n\n\tisCollapsed(): boolean {\n\t\treturn this.element.classList.contains('collapsed');\n\t}\n\n\t// Should be equivalent to `this.element.offsetParent !== null`\n\tisVisible(): boolean {\n\t\t// Promoted (ads) are often hidden by adblockers, so just assume that they're not visible\n\t\tif (this.element.classList.contains('promoted')) return false;\n\n\t\tif (!document.body.classList.contains('res-filters-disabled') && this.isHiddenByFilter()) return false;\n\t\tconst { parent } = this;\n\t\tif (parent) {\n\t\t\tif (parent.isCollapsed()) return false;\n\t\t\tif (parent.element.classList.contains('res-children-hidden')) return false; // `hideChildComments` module\n\t\t\tif (!parent.isVisible()) return false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tisContentVisible(): boolean {\n\t\treturn !(\n\t\t\tthis.element.classList.contains('res-thing-has-placeholder') ||\n\t\t\t(!document.body.classList.contains('res-filters-disabled') && this.isHiddenByFilter(true)) ||\n\t\t\tthis.isCollapsed() ||\n\t\t\t!this.isVisible()\n\t\t);\n\t}\n\n\tisSelected() {\n\t\treturn this.element.classList.contains('res-selected');\n\t}\n\n\tisUpvoted() {\n\t\treturn this.entry.classList.contains('likes');\n\t}\n\n\tisDownvoted() {\n\t\treturn this.entry.classList.contains('dislikes');\n\t}\n\n\tisUnvoted() {\n\t\treturn this.entry.classList.contains('unvoted');\n\t}\n}\n\nif (process.env.NODE_ENV === 'development') {\n\t// for debugging only! do not use `getThingIsVisibleInconsistencies` in any committed code\n\twindow.getThingIsVisibleInconsistencies = () => Array.from(things).filter(v => v.isVisible() === !v.element.offsetParent);\n}\n","/* @flow */\n\nimport { ajax } from '../environment';\nimport type { RedditLink, RedditListing } from '../types/reddit'; // eslint-disable-line no-unused-vars\nimport { batch } from './async';\n\nexport const getPostMetadata = batch(async (requests: { id: string }[]): Promise<$PropertyType<RedditLink, 'data'>[]> => {\n\tconst byId = requests\n\t\t.map(r => r.id)\n\t\t.map(id => `t3_${id}`)\n\t\t.join(',');\n\n\tconst { data: { children } } = (await ajax({\n\t\turl: `/by_id/${byId}.json`,\n\t\tquery: { limit: 100, raw_json: 1 },\n\t\ttype: 'json',\n\t}): RedditListing<RedditLink>);\n\n\treturn children.map(c => c.data);\n}, { size: 100 });\n","/* @flow */\n\nimport tinycolor from 'tinycolor2';\n\nexport function colorToArray(colorString: string): [number, number, number] {\n\tconst { r, g, b } = tinycolor(colorString).toRgb();\n\treturn [r, g, b];\n}\n\nexport function colorFromArray([r, g, b]: number[]): string {\n\treturn tinycolor({ r, g, b }).toHexString();\n}\n","/* @flow */\n\nimport {\n\tCreateElement,\n\tBodyClasses,\n\tisCurrentSubreddit,\n\tstring,\n} from './';\n\nconst initialTabID = location.hash.replace('#', '') || 'dashboardContents';\nlet selectedTabMenuItem;\n\nexport function addDashboardTab(tabID: string, tabName: string, moduleId?: string, callback: HTMLElement => any) {\n\tif (!isCurrentSubreddit('dashboard')) return;\n\n\tBodyClasses.add('res-dashboard');\n\n\tlet tabPage;\n\n\tconst tabMenuItem = CreateElement.tabMenuItem({\n\t\ttext: tabName,\n\t\tclassName: 'res-dashboard-tab',\n\t\torder: -1,\n\t\tonChange: active => {\n\t\t\tconst container = document.querySelector('#siteTable.linklisting');\n\t\t\tif (!container) return;\n\n\t\t\tif (active) {\n\t\t\t\tif (selectedTabMenuItem) selectedTabMenuItem.click();\n\t\t\t\tselectedTabMenuItem = tabMenuItem;\n\t\t\t\ttabPage = string.html`<div class=\"dashboardPane\"></div>`;\n\t\t\t\tcontainer.append(tabPage);\n\t\t\t\tcallback(tabPage);\n\t\t\t\tlocation.hash = tabID;\n\t\t\t} else {\n\t\t\t\ttabPage.remove();\n\t\t\t}\n\t\t},\n\t});\n\n\tif (moduleId) {\n\t\t// Add a link to the relevant settings\n\t\ttabMenuItem.after(string.html`<a class=\"gearIcon\" href=\"#res:settings/${moduleId}\"></a>`);\n\t}\n\n\tif (tabID === initialTabID) tabMenuItem.click();\n}\n","/* @flow */\n\nimport { waitFor } from './async';\nimport { waitForChild, waitForEvent, waitForDescendant } from './dom';\nimport { isPageType } from './location';\n\nexport const bodyStart: Promise<*> = waitForChild(document.documentElement, 'body')\n\t// `document.body === null` at this point has been reported for users of Firefox and Chrome,\n\t// so wait till the reference has been updated before progressing\n\t.then(() => waitFor(() => document.body, 10));\n\nexport const sitetableStarted: Promise<*> = bodyStart\n\t.then(() => Promise.race([\n\t\twaitForDescendant(document.body, isPageType('comments') ? '.sitetable.nestedlisting' : '#siteTable'),\n\t\tcontentLoaded,\n\t]));\n\nexport const contentLoaded: Promise<*> = bodyStart\n\t.then(() => Promise.race([\n\t\twaitForEvent(window, 'DOMContentLoaded', 'load'),\n\t\twaitFor(() => document.readyState === 'interactive' || document.readyState === 'complete', 500),\n\t]));\n\nexport const loadComplete: Promise<*> = bodyStart\n\t.then(() => Promise.race([\n\t\twaitForEvent(window, 'load'),\n\t\twaitFor(() => document.readyState === 'complete', 500),\n\t]));\n\n","/* @flow */\n\nimport _ from 'lodash';\nimport { getD2xBodyOffset, getHeaderOffset } from './dom';\nimport * as PagePhases from './pagePhases';\nimport { frameThrottle } from './async';\nimport { isAppType } from './location';\nimport { html } from './string';\n\nclass Container {\n\tstatic isAvailable() { return true; }\n\tstatic fallback: ?$Keys<typeof containers>;\n\tstatic phase: Promise<any> = PagePhases.loadComplete;\n\tstatic useList: boolean = true;\n\n\telement: HTMLElement = document.createElement('div');\n\tlist: HTMLElement = html`<ul class=\"res-floater-list\"></ul>`;\n\n\tconstructor() {\n\t\tif (this.constructor.useList) this.element.append(this.list);\n\t\tthis.constructor.phase.then(() => this.go());\n\t}\n\n\tgo() {}\n\n\tadd(element: HTMLElement, { separate, order }: {| separate: boolean, order: number |}) {\n\t\tif (separate || !this.constructor.useList) {\n\t\t\telement.style.order = String(order);\n\t\t\tthis.element.append(element);\n\t\t} else {\n\t\t\tif (element instanceof HTMLLIElement) {\n\t\t\t\tthis.list.append(element);\n\t\t\t} else {\n\t\t\t\tconst li = html`<li style=\"order: ${order}\"></li>`;\n\t\t\t\tli.append(element);\n\t\t\t\tthis.list.append(li);\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst containers = {\n\tinNavbar: class extends Container {\n\t\tstatic isAvailable() { return isAppType('d2x') && !!document.querySelector('.header-user-dropdown'); }\n\t\tstatic fallback = 'userMenu';\n\t\tstatic phase = PagePhases.sitetableStarted;\n\n\t\tgo() {\n\t\t\tthis.element.classList.add('res-floater-inNavbar');\n\t\t\tdocument.body.append(this.element);\n\t\t\tthis.updateHeaderWidth();\n\t\t}\n\n\t\tadd(element: *, opts: *) {\n\t\t\tsuper.add(element, opts);\n\t\t\tthis.updateHeaderWidth();\n\t\t}\n\n\t\tupdateHeaderWidth = frameThrottle(() => {\n\t\t\tconst { width } = this.element.getBoundingClientRect();\n\t\t\tconst headerButton = document.querySelector('.header-user-dropdown');\n\t\t\theaderButton.style.marginRight = `${width}px`;\n\t\t});\n\t},\n\n\tuserMenu: class extends Container {\n\t\tstatic isAvailable() { return isAppType('r2'); }\n\t\tstatic phase = PagePhases.sitetableStarted;\n\t\tstatic useList = false;\n\n\t\tgo() {\n\t\t\tconst element = document.body.querySelector('#header-bottom-right ul');\n\t\t\t// Items may have been added already\n\t\t\telement.append(...this.element.children);\n\t\t\tthis.element = element;\n\t\t}\n\n\t\tadd(element) {\n\t\t\tthis.element.append(html`<span class=\"separator\">|</span>`, element);\n\t\t}\n\t},\n\n\tbelowFixedNavbar: class extends Container {\n\t\tstatic isAvailable() { return isAppType('d2x'); }\n\n\t\tgo() {\n\t\t\tthis.element.classList.add('res-floater-belowNavbar');\n\t\t\tthis.element.style.top = `${5 + getD2xBodyOffset()}px`;\n\t\t\tdocument.body.append(this.element);\n\t\t}\n\t},\n\n\tvisibleAfterScroll: class extends Container {\n\t\tstatic isAvailable() { return !isAppType('d2x'); }\n\t\tstatic fallback = 'belowFixedNavbar';\n\n\t\tgo() {\n\t\t\tthis.element.classList.add('res-floater-visibleAfterScroll');\n\t\t\tdocument.body.append(this.element);\n\t\t\tthis.element.style.top = `${8 + getHeaderOffset(true)}px`;\n\n\t\t\tif (!document.querySelector('#RESPinnedHeaderSpacer')) { // No need to hide the floater if whole header is pinned\n\t\t\t\tthis.element.hidden = true;\n\t\t\t\t// $FlowIssue https://github.com/facebook/flow/pull/4664\n\t\t\t\tnew IntersectionObserver(entries => {\n\t\t\t\t\tthis.element.hidden = entries[0].isIntersecting;\n\t\t\t\t}).observe(document.querySelector('#header'));\n\t\t\t}\n\t\t}\n\t},\n\n\ttabMenu: class extends Container {\n\t\tstatic isAvailable() { return isAppType('r2'); }\n\t\tstatic fallback = 'belowFixedNavbar';\n\t\tstatic phase = PagePhases.sitetableStarted;\n\t\tstatic useList = false;\n\n\t\tgo() {\n\t\t\tlet menu = document.querySelector('#header-bottom-left ul.tabmenu');\n\t\t\tif (menu) {\n\t\t\t\t/* no-op */\n\t\t\t} else if (document.querySelector('#header-bottom-left')) {\n\t\t\t\tmenu = html`<ul class=\"tabmenu\" />`;\n\t\t\t\tdocument.querySelector('#header-bottom-left').append(menu);\n\t\t\t} else {\n\t\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\t\tconsole.warn('Could not find tab menu');\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Items may have been added already\n\t\t\tmenu.append(...this.element.children);\n\t\t\tthis.element = menu;\n\t\t}\n\t},\n\n\tinert: Container,\n};\n\nconst getContainer: * => Container = _.memoize((name: $Keys<typeof containers>) => {\n\tlet container;\n\tif (containers[name].isAvailable()) {\n\t\tcontainer = new containers[name]();\n\t} else if (containers[name].fallback) {\n\t\tcontainer = getContainer(containers[name].fallback);\n\t\t// If a stack trace overflow gets thrown from here, check\n\t\t// container[name].fallback for circular dependencies.\n\t}\n\n\tif (container) {\n\t\treturn container;\n\t} else {\n\t\tconst InertContainer = containers.inert;\n\t\treturn new InertContainer();\n\t}\n});\n\nexport function addFloater(\n\telement: HTMLElement,\n\t{\n\t\tcontainer: containerName = ['inNavbar', 'belowFixedNavbar', 'visibleAfterScroll'].find(name => containers[name].isAvailable()) || 'inert',\n\t\tseparate = false,\n\t\torder = 0,\n\t}: {|\n\t\tcontainer?: $Keys<typeof containers>,\n\t\tseparate?: boolean,\n\t\torder?: number,\n\t|} = {},\n) {\n\tgetContainer(containerName).add(element, { separate, order });\n}\n","/* @flow */\n\nimport { range } from './generator';\n\nconst chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\nexport function randomHash(len: number = 5): string {\n\tconst arr = new Array(len);\n\tfor (const i of range(0, len)) {\n\t\tarr[i] = chars.charAt(Math.random() * chars.length | 0);\n\t}\n\treturn arr.join('');\n}\n\nexport function hashCode(str: string): number {\n\tlet hash = 0;\n\tfor (const char of str) {\n\t\thash = (((hash << 5) - hash) + char.charCodeAt(0)) | 0;\n\t}\n\treturn hash;\n}\n","/* @flow */\n\nimport { ajax } from '../environment';\nimport type { Thing } from './Thing';\nimport { batch } from './async';\nimport { filterMap } from './array';\nimport { isLoggedIn } from './user';\n\nconst hideEndpoint = '/api/hide';\nconst unhideEndpoint = '/api/unhide';\nexport const [HIDE, UNHIDE] = ['hide', 'unhide'];\n\nexport const send = async (state: 'hide' | 'unhide', things: Thing[]) => {\n\tif (!isLoggedIn()) throw new Error('Not logged in');\n\n\tconst values = filterMap(things, thing => {\n\t\tconst id = thing.getFullname();\n\t\tconst element = thing.getHideElement();\n\t\treturn id && element && element.dataset.eventAction === state ? [{ id, element }] : undefined;\n\t});\n\n\tif (!values.length) return;\n\n\tconst updateElements = (action, text) => {\n\t\tfor (const { element } of values) {\n\t\t\tif (action) element.dataset.eventAction = action;\n\t\t\tif (element.classList.contains('noCtrlF')) element.dataset.text = text;\n\t\t\telse element.textContent = text;\n\t\t}\n\t};\n\n\tupdateElements(state === HIDE ? UNHIDE : HIDE, state === HIDE ? 'hiding...' : 'unhiding...');\n\n\ttry {\n\t\tawait ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: state === HIDE ? hideEndpoint : unhideEndpoint,\n\t\t\tdata: { id: values.map(({ id }) => id).join(',') },\n\t\t\ttype: 'json',\n\t\t});\n\t\tupdateElements(undefined, state === HIDE ? UNHIDE : HIDE);\n\t} catch (e) {\n\t\tupdateElements(state, state);\n\t\tthrow e;\n\t}\n};\n\nexport const hide = batch(things => send(HIDE, things), { size: 50 });\nexport const unhide = batch(things => send(UNHIDE, things), { size: 50 });\n","/* @flow */\n\nimport _ from 'lodash';\nimport { range } from './generator';\n\nexport const NAMED_KEYS = {\n\tBackspace: 'Backspace',\n\tTab: 'Tab',\n\tEnter: 'Enter',\n\tEscape: 'Escape',\n\tSpace: ' ',\n\tPageUp: 'PageUp',\n\tPageDown: 'PageDown',\n\tEnd: 'End',\n\tHome: 'Home',\n\tLeft: 'ArrowLeft',\n\tUp: 'ArrowUp',\n\tRight: 'ArrowRight',\n\tDown: 'ArrowDown',\n\tShift: 'Shift',\n\tControl: 'Control',\n\tAlt: 'Alt',\n};\n\nexport type KeyArray = [number, boolean, boolean, boolean, boolean];\n\n/* eslint-disable quote-props */\n// https://github.com/facebook/flow/issues/380\nconst keyCodes = {\n\t'-1': 'none',\n\t'8': 'backspace',\n\t'9': 'tab',\n\t'13': 'enter',\n\t'16': 'shift',\n\t'17': 'ctrl',\n\t'18': 'alt',\n\t'19': 'pause/break',\n\t'20': 'caps lock',\n\t'27': 'escape',\n\t'33': 'page up',\n\t'34': 'page down',\n\t'35': 'end',\n\t'36': 'home',\n\t'37': 'left arrow',\n\t'38': 'up arrow',\n\t'39': 'right arrow',\n\t'40': 'down arrow',\n\t'45': 'insert',\n\t'46': 'delete',\n\t'91': 'left window',\n\t'92': 'right window',\n\t'93': 'select key',\n\t'96': 'numpad 0',\n\t'97': 'numpad 1',\n\t'98': 'numpad 2',\n\t'99': 'numpad 3',\n\t'100': 'numpad 4',\n\t'101': 'numpad 5',\n\t'102': 'numpad 6',\n\t'103': 'numpad 7',\n\t'104': 'numpad 8',\n\t'105': 'numpad 9',\n\t'106': 'multiply',\n\t'107': 'add',\n\t'109': 'subtract',\n\t'110': 'decimal point',\n\t'111': 'divide',\n\t'112': 'F1',\n\t'113': 'F2',\n\t'114': 'F3',\n\t'115': 'F4',\n\t'116': 'F5',\n\t'117': 'F6',\n\t'118': 'F7',\n\t'119': 'F8',\n\t'120': 'F9',\n\t'121': 'F10',\n\t'122': 'F11',\n\t'123': 'F12',\n\t'144': 'num lock',\n\t'145': 'scroll lock',\n\t'186': ';',\n\t'187': '=',\n\t'188': ',',\n\t'189': '-',\n\t'190': '.',\n\t'191': '/',\n\t'192': '`',\n\t'219': '[',\n\t'220': '\\\\',\n\t'221': ']',\n\t'222': '\\'',\n};\n/* eslint-enable quote-props */\n\nexport function niceKeyCode(keyArray: number | string | KeyArray): string {\n\tif (!keyArray && isNaN(keyArray)) {\n\t\treturn '';\n\t}\n\n\tif (typeof keyArray === 'number') {\n\t\tkeyArray = [keyArray, false, false, false, false];\n\t} else if (typeof keyArray === 'string') {\n\t\tconst split = keyArray.split(',');\n\t\tconst code = parseInt(split[0], 10);\n\t\t// AMO API bug: validation crashes when `modifiers` is inlined\n\t\tconst modifiers = [...split.slice(1).map(s => s === 'true'), false, false, false, false];\n\t\tconst [alt, ctrl, shift, meta] = modifiers;\n\t\tkeyArray = [code, alt, ctrl, shift, meta];\n\t}\n\n\tconst [keyCode, ...modifiers] = keyArray;\n\n\tconst keyCombo = _.zipWith(modifiers, ['alt-', 'ctrl-', 'shift-', 'command-'], (predicate, name) => predicate && name)\n\t\t.filter(x => x)\n\t\t.join('');\n\n\tconst keyName = keyCodes[keyCode] || String.fromCharCode(keyCode);\n\n\treturn `${keyCombo}${keyName}`;\n}\n\nexport function checkKeysForEvent(event: KeyboardEvent, keyArray: number | KeyArray): boolean {\n\t// [keycode, alt, ctrl, shift, meta]\n\t// if we've passed in a number, fix that and make it an array with alt, shift and ctrl set to false.\n\tif (typeof keyArray === 'number') {\n\t\tkeyArray = [keyArray, false, false, false, false];\n\t} else if (keyArray.length === 4) {\n\t\t// old option values may have length 4\n\t\t(keyArray: any).push(false);\n\t}\n\n\tconst eventHash = hashKeyEvent(event);\n\tconst arrayHash = hashKeyArray(keyArray);\n\treturn eventHash === arrayHash;\n}\n\nexport function hashKeyEvent(event: KeyboardEvent): number {\n\tconst keyArray = [event.keyCode, event.altKey, event.ctrlKey, event.shiftKey, event.metaKey];\n\n\t// this hack is because Firefox differs from other browsers with keycodes for - and =\n\tif (process.env.BUILD_TARGET === 'firefox') {\n\t\tif (keyArray[0] === 173) {\n\t\t\tkeyArray[0] = 189;\n\t\t}\n\t\tif (keyArray[0] === 61) {\n\t\t\tkeyArray[0] = 187;\n\t\t}\n\t}\n\n\treturn hashKeyArray(keyArray);\n}\n\nexport function hashKeyArray(keyArray: KeyArray): number {\n\tconst length = 5;\n\tlet hash = keyArray[0] * 2 ** length;\n\tfor (const i of range(1, length)) {\n\t\tif (keyArray[i]) {\n\t\t\thash += 2 ** i;\n\t\t}\n\t}\n\treturn hash;\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { locale } from '../environment';\n\n// Avoid initializing dayjs before it's necessary\nconst Dayjs = _.once(() => {\n\tconst dayjs = require('dayjs'); // eslint-disable-line global-require\n\tconst localeCode = locale.toLowerCase();\n\tif (localeCode.startsWith('de')) dayjs.locale(require('dayjs/locale/de')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('el')) dayjs.locale(require('dayjs/locale/el')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('es')) dayjs.locale(require('dayjs/locale/es')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('he')) dayjs.locale(require('dayjs/locale/he')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('it')) dayjs.locale(require('dayjs/locale/it')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('nl')) dayjs.locale(require('dayjs/locale/nl')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('pl')) dayjs.locale(require('dayjs/locale/pl')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('pt-br')) dayjs.locale(require('dayjs/locale/pt-br')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('pt')) dayjs.locale(require('dayjs/locale/pt')); // eslint-disable-line global-require\n\tdayjs.extend(require('dayjs/plugin/relativeTime')); // eslint-disable-line global-require\n\tdayjs.extend(require('dayjs/plugin/localizedFormat')); // eslint-disable-line global-require\n\treturn dayjs;\n});\n\nexport const dayjs = (...args: any) => new Dayjs()(...args);\n\nexport function formatNumber(number: number): string {\n\treturn number.toLocaleString(locale);\n}\n\nexport function formatDate(date?: Date /* = now */): string {\n\treturn dayjs(date).format('L');\n}\n\nexport function formatDateTime(date?: Date /* = now */): string {\n\treturn dayjs(date).format('L LTS');\n}\n\nexport function formatDateDiff(from: Date, to?: Date /* = now */): string {\n\treturn dayjs(to).from(from, true);\n}\n\nexport function formatRelativeTime(from: Date): string {\n\treturn dayjs(from).fromNow();\n}\n","/* @flow */\n\nexport function numericalCompare(op: *, a: number, b: number) {\n\tswitch (op) {\n\t\tcase '==':\treturn a == b; // eslint-disable-line eqeqeq\n\t\tcase '!=':\treturn a != b; // eslint-disable-line eqeqeq\n\t\tcase '>':\treturn a > b;\n\t\tcase '<':\treturn a < b;\n\t\tcase '>=':\treturn a >= b;\n\t\tcase '<=':\treturn a <= b;\n\t\tdefault: throw new Error(`Unhandled operator ${op}`);\n\t}\n}\n\nexport function inverseOperator(op: *) {\n\tswitch (op) {\n\t\tcase '==':\treturn '!=';\n\t\tcase '!=':\treturn '==';\n\t\tcase '>':\treturn '<=';\n\t\tcase '<':\treturn '>=';\n\t\tcase '>=':\treturn '<';\n\t\tcase '<=':\treturn '>';\n\t\tdefault: throw new Error(`Unhandled operator ${op}`);\n\t}\n}\n\nexport function prettyOperator(op: *) {\n\tswitch (op) {\n\t\tcase '==':\treturn '=';\n\t\tcase '!=':\treturn '';\n\t\tcase '>':\treturn '>';\n\t\tcase '<':\treturn '<';\n\t\tcase '>=':\treturn '';\n\t\tcase '<=':\treturn '';\n\t\tdefault: throw new Error(`Unhandled operator ${op}`);\n\t}\n}\n/**\n * Linearly interpolates a value within the interval [low, high].\n * @param {number} low  A number in (-Infinity, high)\n * @param {number} high A number in (low, Infinity)\n * @param {number} frac A number in [0, 1]\n * @returns {number} `value`\n */\nexport function interpolate(low: number, high: number, frac: number): number {\n\treturn (1 - frac) * low + frac * high;\n}\n\n/**\n * Given `low`, `high`, and `value`, returns `frac` such that `interpolate(low, high, frac) === value`.\n * @param {number} low   A number in [-Infinity, high)\n * @param {number} high  A number in (low, Infinity]\n * @param {number} value A number in [low, high]\n * @returns {number} `frac`\n */\nexport function deinterpolate(low: number, high: number, value: number): number {\n\tif (low === -Infinity && high === Infinity) {\n\t\treturn 0.5;\n\t} else if (low === -Infinity) {\n\t\treturn 1;\n\t} else if (high === Infinity) {\n\t\treturn 0;\n\t}\n\treturn (value - low) / (high - low);\n}\n\n/**\n * Projects `value` from the interval [fromLow, fromHigh] into the interval [toLow, toHigh]\n * such that `deinterpolate(fromLow, fromHigh, value) === deinterpolate(toLow, toHigh, <return value>)`.\n * That is, `<return value>` and `value` are in the same position in their respective intervals.\n * `fromLow`, `fromHigh`, `toLow`, and `toHigh` must satisfy the bounds on `deinterpolate` and `interpolate`, respectively.\n * @param {number} fromLow\n * @param {number} fromHigh\n * @param {number} toLow\n * @param {number} toHigh\n * @param {number} value A number in [fromLow, fromHigh]\n * @returns {number}\n */\nexport function projectInto(fromLow: number, fromHigh: number, toLow: number, toHigh: number, value: number): number {\n\treturn interpolate(toLow, toHigh, deinterpolate(fromLow, fromHigh, value));\n}\n\n/*\n * @param {number} a   Dividend\n * @param {number} n   Divisor\n * @returns {number}   Positive reminder\n */\nexport function positiveModulo(a: number, n: number): number {\n\treturn ((a % n) + n) % n;\n}\n","/* @flow */\n\nimport _ from 'lodash';\n// importing core types is okay\nimport type { TableOption } from '../core/module'; // eslint-disable-line\n\nexport function indexOptionTable<T: $ReadOnlyArray<any>, Ctx>(option: TableOption<Ctx, T>, keyIndex: number, keyTransformer: string => string = v => v): { [string]: T[] } {\n\tconst source = option.fields[keyIndex].type === 'list' ?\n\t\tArray.from(expandKeys(option.value)) :\n\t\toption.value;\n\n\treturn _.groupBy(source, arr => keyTransformer(arr[keyIndex]));\n\n\t// allows indexing by multiple keys, e.g. transforms\n\t// [['foo,bar', 'baz']] to\n\t// [['foo', 'baz'], ['bar', 'baz']]\n\tfunction* expandKeys(nestedArray) {\n\t\tfor (const arr of nestedArray) {\n\t\t\tfor (const subKey of arr[keyIndex].split(',')) {\n\t\t\t\tyield [...arr.slice(0, keyIndex), subKey, ...arr.slice(keyIndex + 1)];\n\t\t\t}\n\t\t}\n\t}\n}\n","/* @flow */\n\nlet counter = 0;\nexport function markStart(): string {\n\tconst tag = (++counter).toString();\n\tperformance.mark(tag);\n\treturn tag;\n}\n\nexport function markEnd(tag: string, name: string) {\n\tperformance.measure(name, tag);\n}\n","/* @flow */\n\nimport { Storage } from '../environment';\nimport { DAY, WEEK } from './time';\n\nexport async function maybePruneOldEntries(id: string, entryStorage: *, keepTrackDays: number = 30) {\n\tif (!await shouldPrune(id)) return;\n\n\tconst keepTrackPeriod = DAY * keepTrackDays;\n\tconst now = Date.now();\n\tfor (const [id, data] of Object.entries(await entryStorage.getAll())) {\n\t\tconst { updateTime } = data || {}; // data may not be `undefined` due to some older bug\n\t\tif (!updateTime || (now - updateTime) > keepTrackPeriod) {\n\t\t\tentryStorage.delete(id);\n\t\t}\n\t}\n}\n\nexport async function shouldPrune(id: string, interval: number = WEEK) {\n\tawait new Promise(res => setTimeout(() => requestIdleCallback(res), 10000));\n\tconst lastStorage = Storage.wrap(`last_prune.${id}`, 0);\n\tconst now = Date.now();\n\tif ((now - await lastStorage.get()) < interval) return false;\n\tlastStorage.set(now);\n\treturn true;\n}\n","/* @flow */\n\nexport const fakeSubreddits = [\n\t'mod',\n\t'friends',\n\t'random',\n\t'myrandom',\n\t'all',\n\t'contrib',\n\t'popular',\n];\n\nexport function isFakeSubreddit(subreddit: string): boolean {\n\treturn fakeSubreddits.some(fakeSubreddit => fakeSubreddit === subreddit.toLowerCase());\n}\n","/* @flow */\n\nexport function firstValid(...vals: mixed[]): mixed {\n\treturn vals.find(val =>\n\t\tval !== undefined && val !== null && (typeof val !== 'number' || !isNaN(val)),\n\t);\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Thing } from './Thing';\nimport { filterMap } from './array';\nimport { isPageType } from './location';\nimport { watchForChildren, watchForFutureChildren, watchForFutureDescendants, waitForAttach } from './dom';\n\ntype WatcherOptions = {| immediate?: boolean, id?: mixed |};\n\ntype ElementWatcherType = 'page' | 'selfText';\ntype ElementWatcherCallback = (e: HTMLElement) => any;\n\nconst elementWatchers: {\n\t[ElementWatcherType]: Array<{\n\t\tselector: ?string,\n\t\tcallback: ElementWatcherCallback,\n\t\toptions?: WatcherOptions,\n\t\tregistered: WeakSet<*>,\n\t}>,\n} = {\n\tpage: [],\n\tselfText: [],\n};\n\ntype ThingWatcherType = 'comment' | 'message' | 'post' | 'subreddit';\ntype ThingWatcherCallback = (thing: Thing) => any;\n\nconst thingWatchers: {\n\t[ThingWatcherType]: Array<{\n\t\tcallback: ThingWatcherCallback,\n\t\toptions?: WatcherOptions,\n\t\tregistered: WeakSet<*>,\n\t}>,\n} = {\n\tcomment: [],\n\tmessage: [],\n\tpost: [],\n\tsubreddit: [],\n};\n\n// eslint-disable-next-line no-unused-vars\nconst runCallback = fn => { try { return fn(); } catch (e) { console.error(e); } };\n\nconst addCallback = (callback, actingOnElement, { immediate, id } = {}) => {\n\tconst thing = Thing.from(actingOnElement);\n\tif (thing) {\n\t\t// XXX The callback ought not be wrapped so many times\n\t\tconst task = _.once(() => runCallback(callback));\n\t\tif (id) thing.tasks.byId.set(id, task);\n\t\t(immediate ? thing.tasks.immediate : thing.tasks.visible).push(task);\n\t\tif (immediate || thing.tasks.completed) task();\n\t} else {\n\t\trunCallback(callback);\n\t}\n};\n\nfunction registerElement(type, element) {\n\tfor (const { selector, callback, options, registered } of elementWatchers[type]) {\n\t\tconst elements = selector && !element.matches(selector) ?\n\t\t\tArray.from(element.querySelectorAll(selector)) :\n\t\t\t[element];\n\t\tfor (const e of elements) {\n\t\t\tif (registered.has(e)) continue;\n\t\t\tregistered.add(e);\n\t\t\taddCallback(() => callback(e), e, options);\n\t\t}\n\t}\n}\n\nfunction registerThing(element: HTMLElement) {\n\tconst thing = Thing.checkedFrom(element);\n\n\tconst thingWatcherCallbacks =\n\t\tthing.isPost() && thingWatchers.post ||\n\t\tthing.isComment() && thingWatchers.comment ||\n\t\tthing.isMessage() && thingWatchers.message ||\n\t\tthing.isSubreddit() && thingWatchers.subreddit ||\n\t\t[];\n\n\tfor (const { callback, options, registered } of thingWatcherCallbacks) {\n\t\tif (registered.has(thing)) continue;\n\t\tregistered.add(thing);\n\t\taddCallback(() => callback(thing), thing.element, options);\n\t}\n\n\treturn thing;\n}\n\nexport function watchForThings(types: ?Array<ThingWatcherType>, callback: ThingWatcherCallback, options?: WatcherOptions) {\n\tif (!types) types = Object.keys(thingWatchers);\n\tconst entry = { callback, options, registered: new WeakSet() };\n\tfor (const type of types) thingWatchers[type].push(entry);\n}\n\nexport function watchForElements(types: Array<ElementWatcherType>, selector: ?string, callback: ElementWatcherCallback, options?: WatcherOptions) {\n\tconst entry = { selector, callback, options, registered: new WeakSet() };\n\tfor (const type of types) elementWatchers[type].push(entry);\n}\n\n// Run tasks on a few things manually, since the IntersectionObserver requires at least one paint before invoking callback\n// By running tasks on what is likely to be displayed on first paint, we avoid an extra reflow\nconst _runLikelyVisibleTasks = () => {\n\tlet max: number = Math.ceil(screen.availHeight / 55 /* approx min height of a thing */);\n\tconst queue = [];\n\tlet i = 0;\n\treturn async thing => {\n\t\tconst n = i++;\n\t\t// Whether a thing will be visible, is usually ascertained when the filter task has been completed\n\t\tconst filterTask = thing.tasks.byId.get('filter');\n\t\tawait (filterTask && filterTask());\n\t\tconst check = queue[n] = () => {\n\t\t\tdelete queue[n];\n\t\t\tif (thing.tasks.completed || thing.isVisible()) {\n\t\t\t\tthing.runTasks();\n\t\t\t} else if (n < max) {\n\t\t\t\tmax++;\n\t\t\t\tconst nextCheck = queue.find(Boolean);\n\t\t\t\tif (nextCheck) nextCheck();\n\t\t\t}\n\t\t};\n\t\tif (n < max) check();\n\t};\n};\n\nexport function registerPage(page: HTMLElement, runLikelyVisibleTasks: function = _runLikelyVisibleTasks()) {\n\tconst things = filterMap([\n\t\tpage.matches(Thing.thingSelector) && page,\n\t\t...page.querySelectorAll(Thing.thingSelector),\n\t], e => e instanceof HTMLElement ? [registerThing(e)] : undefined);\n\n\tregisterElement('page', page);\n\n\tthings.forEach(runLikelyVisibleTasks);\n}\n\nconst HIDE_FOLLOWING_CLASS = 'res-hide-following';\n\nexport function r2WatcherSitetableStart() {\n\t// Add selftext observer\n\twatchForThings(['post'], thing => {\n\t\tconst container = thing.entry.querySelector('div.expando');\n\t\tif (!container) return;\n\t\twatchForChildren(container, 'form', () => {\n\t\t\tconst body = thing.getTextBody();\n\t\t\tif (body) registerElement('selfText', body);\n\t\t});\n\t});\n\n\tconst thingElements = Thing.thingElements(document.body);\n\n\tconst runLikelyVisibleVisibleTasks = _runLikelyVisibleTasks();\n\tfor (const e of thingElements) registerPage(e, runLikelyVisibleVisibleTasks);\n\n\tlet last = thingElements.slice(-1)[0];\n\t// Hide the following elements until 'contentLoaded', to prevent them being painted without the 'immediate' watchers having been invoked on them\n\tif (last) {\n\t\tdo { last.classList.add(HIDE_FOLLOWING_CLASS); } while ((last = last.parentElement) && last !== document.body);\n\t}\n}\n\nexport function r2WatcherContentLoaded() {\n\tfor (const ele of document.querySelectorAll(`.${HIDE_FOLLOWING_CLASS}`)) ele.classList.remove(HIDE_FOLLOWING_CLASS);\n\n\t// Execute non-immediate callbacks on things when they become visible\n\tconst io = new IntersectionObserver(entries => {\n\t\tconst intersecting = filterMap(entries, ({ target, isIntersecting }) => isIntersecting && [Thing.from(target)]);\n\t\tif (!intersecting.length) return;\n\n\t\tconst thingElements = Thing.thingElements();\n\t\tconst things = _.sortBy(intersecting, thing => thingElements.indexOf(thing.element));\n\n\t\t// Always run tasks on the intersecting things, in case `Thing#isVisible` or `runTaskRange` breaks\n\t\tfor (const thing of things) thing.runTasks();\n\n\t\t// Also complete a few of the surrounding things in order to reduce the number of mutation instances\n\t\tThing.runTasksRange(things.slice(-1)[0], things[0], 10, 10, HIDE_FOLLOWING_CLASS);\n\t}, { rootMargin: '50%' });\n\n\twatchForThings(null, async thing => {\n\t\t// Starting observing before the Thing is attached (e.g. when invoked via neverEndingReddit), may cause the IO to \"lose\" the element\n\t\tawait waitForAttach(document.body, thing.element);\n\t\tio.observe(thing.element);\n\t\taddCallback(() => {\n\t\t\tio.unobserve(thing.element);\n\t\t\tthing.tasks.completed = true;\n\t\t}, thing.element);\n\t}, { immediate: true });\n\n\t// Things may be edited/loaded using the Reddit interface\n\tif (isPageType('comments')) {\n\t\tconst commentarea = document.body.querySelector('.commentarea');\n\t\tif (commentarea) watchForFutureDescendants(commentarea, '.thing', registerPage, true);\n\t} else {\n\t\tconst watchList = _.memoize(ele => { if (ele) watchForFutureChildren(ele, '.thing', registerPage); });\n\t\twatchForThings(null, thing => { watchList(thing.element.parentElement); });\n\t}\n\n\tregisterPage(document.body);\n}\n","/* @flow */\n\nexport const JSAPI_CONSUMER_NAME = 'reddit-enhancement-suite';\n","// @flow\nimport { JSAPI_CONSUMER_NAME } from '../constants/jsapi';\nimport type {\n\tCommentEventData, // eslint-disable-line no-unused-vars\n\tCommentAuthorEventData, // eslint-disable-line no-unused-vars\n\tPostAuthorEventData, // eslint-disable-line no-unused-vars\n\tPostEventData, // eslint-disable-line no-unused-vars\n\tSubredditEventData, // eslint-disable-line no-unused-vars\n\tUserHovercardEventData, // eslint-disable-line no-unused-vars\n\tPostModToolsEventData, // eslint-disable-line no-unused-vars\n} from '../types/events';\n\nconst callbacks = {\n\tsubreddit: [],\n\tpostAuthor: [],\n\tpost: [],\n};\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function watchForRedditEvents(type: 'comment', callback: (HTMLElement, CommentEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'subreddit', callback: (HTMLElement, SubredditEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'postAuthor', callback: (HTMLElement, PostAuthorEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'post', callback: (HTMLElement, PostEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'userHovercard', callback: (HTMLElement, UserHovercardEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'commentAuthor', callback: (HTMLElement, CommentAuthorEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'postModTools', callback: (HTMLElement, PostModToolsEventData) => void | Promise<void>): void;\n\nexport function watchForRedditEvents(type: $Keys<typeof callbacks>, callback) {\n\tif (!callbacks[type]) {\n\t\tcallbacks[type] = [];\n\t}\n\tcallbacks[type].push(callback);\n}\n/* eslint-enable no-redeclare */\n\nfunction handleRedditEvent(event) {\n\tconst { target, detail: { type, data } } = event;\n\tconst fns = callbacks[type];\n\tif (!fns) {\n\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\tconsole.warn('Unhandled reddit event type:', type);\n\t\t}\n\t\treturn;\n\t}\n\n\tlet expandoId = `${type}|`;\n\tswitch (type) {\n\t\tcase 'postAuthor':\n\t\t\texpandoId += data.post.id;\n\t\t\tbreak;\n\t\tcase 'commentAuthor':\n\t\t\texpandoId += data.comment.id;\n\t\t\tbreak;\n\t\tcase 'userHovercard':\n\t\t\texpandoId += `${data.contextId}|${data.user.id}`;\n\t\t\tbreak;\n\t\tcase 'subreddit':\n\t\tcase 'post':\n\t\tcase 'postModTools':\n\t\tdefault:\n\t\t\texpandoId += data.id;\n\t\t\tbreak;\n\t}\n\n\tconst update = target.expando && target.expando._.id === expandoId ?\n\t\t(target.expando._.update || 0) + 1 :\n\t\t0;\n\n\tconst expando = {\n\t\t...data,\n\t\t_: {\n\t\t\tid: expandoId,\n\t\t\ttype,\n\t\t\tupdate,\n\t\t},\n\t};\n\n\ttarget.expando = expando;\n\n\tconst ownedTarget = target.querySelector(`[data-name=\"${JSAPI_CONSUMER_NAME}\"]`);\n\tfor (const fn of fns) {\n\t\ttry {\n\t\t\tfn(ownedTarget, expando);\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t}\n}\n\nexport function initD2xWatcher() {\n\tdocument.addEventListener('reddit', (handleRedditEvent: any), true);\n\tconst meta = document.createElement('meta');\n\tmeta.name = 'jsapi.consumer';\n\tmeta.content = JSAPI_CONSUMER_NAME;\n\tdocument.head.appendChild(meta);\n\tmeta.dispatchEvent(new CustomEvent('reddit.ready'));\n}\n","/* @flow */\n\nimport _ from 'lodash';\n\nconst classes = new Set();\n\nexport const addMissing = () => {\n\tdocument.body.classList.add(..._.difference(Array.from(classes), Array.from(document.body.classList)));\n};\n\nexport function add(...change: string[]) {\n\tfor (const cls of change) classes.add(cls);\n\tif (document.documentElement) document.documentElement.classList.add(...change);\n\tif (document.body) document.body.classList.add(...change);\n}\n\nexport function remove(...change: string[]) {\n\tfor (const cls of change) classes.delete(cls);\n\tif (document.documentElement) document.documentElement.classList.remove(...change);\n\tif (document.body) document.body.classList.remove(...change);\n}\n\nexport function toggle(state: boolean, ...change: string[]) {\n\tif (state) add(...change);\n\telse remove(...change);\n}\n","/* @flow */\n\ntype PropBrowserData = {\n\tidentity: string,\n\tversionSearch?: string,\n\tprop: string,\n\tstring?: void,\n};\n\ntype StringBrowserData = {\n\tidentity: string,\n\tversionSearch?: string,\n\tprop?: void,\n\tstring: string,\n\tsubString: string,\n};\n\ntype BrowserData = StringBrowserData | PropBrowserData;\n\nlet versionSearchString;\nconst searchString = (datas: BrowserData[]): string | void => {\n\tconst data = datas.find(data => {\n\t\tversionSearchString = data.versionSearch || data.identity;\n\t\treturn data.string ? data.string.includes(data.subString) : data.prop;\n\t});\n\n\treturn data ? data.identity : undefined;\n};\n\nconst searchVersion = dataString => {\n\tconst index = dataString.indexOf(versionSearchString);\n\tif (index === -1) {\n\t\treturn;\n\t}\n\treturn parseFloat(dataString.substring(index + versionSearchString.length + 1));\n};\n\nconst hasNavigator = typeof navigator !== 'undefined';\n\nexport const browser = hasNavigator ?\n\tsearchString(dataBrowser()) || 'An unknown browser' :\n\t'An unknown browser without `navigator`';\n\nexport const version = hasNavigator ?\n\tsearchVersion(navigator.userAgent) || searchVersion(navigator.appVersion) || 'an unknown version' :\n\t'an unknown version without `navigator`';\n\nexport const OS = hasNavigator ?\n\tsearchString(dataOS()) || 'an unknown OS' :\n\t'an unknown OS without `navigator`';\n\nfunction dataBrowser() {\n\treturn [\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'OPR/',\n\t\t\tidentity: 'Opera',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Edge',\n\t\t\tidentity: 'Edge Spartan',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Edg',\n\t\t\tidentity: 'Edge',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Chrome',\n\t\t\tidentity: 'Chrome',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'OmniWeb',\n\t\t\tversionSearch: 'OmniWeb/',\n\t\t\tidentity: 'OmniWeb',\n\t\t}, {\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: 'Apple',\n\t\t\tidentity: 'Safari',\n\t\t\tversionSearch: 'Version',\n\t\t}, {\n\t\t\tprop: window.opera,\n\t\t\tidentity: 'Opera',\n\t\t\tversionSearch: 'Version',\n\t\t}, {\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: 'iCab',\n\t\t\tidentity: 'iCab',\n\t\t}, {\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: 'KDE',\n\t\t\tidentity: 'Konqueror',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Firefox',\n\t\t\tidentity: 'Firefox',\n\t\t}, {\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: 'Camino',\n\t\t\tidentity: 'Camino',\n\t\t}, { // for newer Netscapes (6+)\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Netscape',\n\t\t\tidentity: 'Netscape',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'MSIE',\n\t\t\tidentity: 'Explorer',\n\t\t\tversionSearch: 'MSIE',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Gecko',\n\t\t\tidentity: 'Mozilla',\n\t\t\tversionSearch: 'rv',\n\t\t}, {\n\t\t\t// for older Netscapes (4-)\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Mozilla',\n\t\t\tidentity: 'Netscape',\n\t\t\tversionSearch: 'Mozilla',\n\t\t},\n\t];\n}\n\nfunction dataOS() {\n\treturn [\n\t\t{\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: 'Win',\n\t\t\tidentity: 'Windows',\n\t\t}, {\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: 'Mac',\n\t\t\tidentity: 'Mac',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'iPhone',\n\t\t\tidentity: 'iPhone/iPod',\n\t\t}, {\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: 'Linux',\n\t\t\tidentity: 'Linux',\n\t\t},\n\t];\n}\n","/* @flow */\n\nimport { i18n } from '../environment';\nimport type { Iteratee } from './array';\nimport { downcast } from './flow';\nimport { addFloater } from './floater';\nimport * as string from './string';\n\nexport function toggleButton(\n\tonClick?: (enabling: boolean) => void = () => {},\n\tfieldID?: ?string,\n\tenabled?: boolean = false,\n\tonText?: string = i18n('toggleOn'),\n\toffText?: string = i18n('toggleOff'),\n\tisTable?: boolean = false,\n\tusesBatch?: boolean = false,\n) {\n\tconst toggle = string.html`\n\t\t<div ${fieldID && string._html`id=\"${fieldID}Container\"`} class=\"toggleButton ${enabled && 'enabled'}\">\n\t\t\t<span class=\"toggleThumb\"></span>\n\t\t\t<div class=\"toggleLabel ${usesBatch && 'res-icon'}\"\n\t\t\t\t${onText && string._html`data-enabled-text=\"${onText}\"`}\n\t\t\t\t${offText && string._html`data-disabled-text=\"${offText}\"`}\n\t\t\t></div>\n\t\t\t<input id=\"${fieldID}\" name=\"${fieldID}\" type=\"checkbox\" ${enabled && 'checked'}\n\t\t\t\t${isTable && string._html`tableOption=\"true\"`}\n\t\t\t/>\n\t\t</div>\n\t`;\n\n\ttoggle.addEventListener('click', () => {\n\t\tconst checkbox = downcast(toggle.querySelector('input[type=checkbox]'), HTMLInputElement);\n\t\tconst enabling = !checkbox.checked;\n\t\tcheckbox.checked = enabling;\n\t\ttoggle.classList.toggle('enabled', enabling);\n\t\tonClick(enabling);\n\t});\n\n\treturn toggle;\n}\n\nexport function icon(charCode: number, tagName?: string = 'span', className?: string = '', title?: string = '') {\n\tconst icon = document.createElement(tagName);\n\ticon.className = className;\n\ticon.classList.add('res-icon');\n\ticon.textContent = String.fromCharCode(charCode);\n\ticon.setAttribute('title', title);\n\treturn icon;\n}\n\nexport function table<T>(items: T | T[], callback: Iteratee<T, string | string[] | false>): string {\n\t// Sanitize single item into items array\n\titems = [].concat(items);\n\n\tconst description = [];\n\tdescription.push('<table>');\n\n\tfor (const item of items.map(callback)) {\n\t\tif (typeof item === 'string') {\n\t\t\tdescription.push(item);\n\t\t} else if (item) {\n\t\t\tdescription.push(...item);\n\t\t}\n\t}\n\n\tdescription.push('</table>');\n\n\treturn description.join('\\n');\n}\n\nexport function tabMenuItem({ text, aftercontent, className, title, checked, onChange, order }: {|\n\ttext: string,\n\taftercontent?: string,\n\tclassName?: string,\n\ttitle?: string,\n\tchecked?: boolean,\n\tonChange: boolean => any,\n\torder?: number,\n|}): HTMLElement {\n\tconst element = string.html`\n\t\t<li class=\"res-tabmenu-button ${checked && 'selected'} ${className}\">\n\t\t\t<a\n\t\t\t\t${title && string._html`title=\"${title}\"`}\n\t\t\t\t${aftercontent && string._html`aftercontent=\"${aftercontent}\"`}\n\t\t\t>${text}</a>\n\t\t</li>\n\t`;\n\n\taddFloater(element, { container: 'tabMenu', order });\n\n\tconst a = element.querySelector('a');\n\ta.addEventListener('click', () => {\n\t\tchecked = !checked;\n\t\telement.classList.toggle('selected', checked);\n\t\tonChange(checked);\n\t});\n\n\treturn a;\n}\n\nexport function fancyToggleButton(text: string, title: string, getState: () => boolean, callback: boolean => any) {\n\tconst element = document.createElement('span');\n\telement.className = 'res-fancy-toggle-button';\n\telement.title = title;\n\n\tlet state;\n\n\tconst refresh = _state => {\n\t\tif (state === _state) return;\n\t\tstate = _state;\n\t\tif (state) {\n\t\t\telement.textContent = `-${text}`;\n\t\t\telement.classList.add('remove');\n\t\t} else {\n\t\t\telement.textContent = `+${text}`;\n\t\t\telement.classList.remove('remove');\n\t\t}\n\t};\n\n\telement.addEventListener('click', () => {\n\t\tcallback(!state);\n\t\trefresh(!state);\n\t});\n\n\telement.addEventListener('refresh', () => { refresh(getState()); });\n\n\trefresh(getState());\n\n\treturn element;\n}\n","/* @flow */\n\nimport { mutex } from './async';\nimport { NAMED_KEYS } from './keycode';\nimport * as string from './string';\n\nexport const open = mutex((content: HTMLElement | string, { cancelable = false }: {| cancelable?: boolean |} = {}): Promise<void> => new Promise((resolve, reject) => {\n\tconst overlay = string.html`<div id=\"alert_message_background\"></div>`;\n\tconst container = string.html`<div id=\"alert_message\"></div>`;\n\tcontainer.append(content instanceof HTMLElement ? content : string.html`<div>${string.safe(content)}</div>`);\n\tdocument.body.append(overlay, container);\n\n\tfunction confirm() {\n\t\tresolve();\n\t\tclose();\n\t}\n\n\tfunction cancel() {\n\t\treject(new Error('User cancelled alert.'));\n\t\tclose();\n\t}\n\n\tfunction close() {\n\t\tdocument.body.removeEventListener('keyup', listenForEscape);\n\t\tcontainer.remove();\n\t\toverlay.remove();\n\t}\n\n\tfunction listenForEscape(e: KeyboardEvent) {\n\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\tif (cancelable) cancel();\n\t\t\telse confirm();\n\t\t}\n\t}\n\n\tdocument.body.addEventListener('keyup', listenForEscape);\n\n\tif (cancelable) {\n\t\tcontainer.append(\n\t\t\tmakeButton('confirm', 'button-right', confirm),\n\t\t\tmakeButton('cancel', 'button-right', cancel, true),\n\t\t);\n\t} else {\n\t\tcontainer.append(makeButton('ok', undefined, confirm, true));\n\t}\n}));\n\nexport function makeButton(text: string, cls?: string, onClick?: () => void, focus?: boolean) {\n\tconst btn = document.createElement('input');\n\tbtn.setAttribute('type', 'button');\n\tbtn.setAttribute('value', text);\n\tif (onClick) btn.addEventListener('click', onClick);\n\tif (cls) btn.classList.add(cls);\n\tif (focus) requestAnimationFrame(() => { btn.focus(); });\n\treturn btn;\n}\n","/* @flow */\n\nexport const LAST_SELECTED_ENTRY_KEY = 'RES.lastSelectedEntry';\n","/* @flow */\n\nimport _ from 'lodash';\nimport { LAST_SELECTED_ENTRY_KEY } from '../constants/sessionStorage';\nimport type { ScrollStyle } from './dom';\nimport {\n\tThing,\n\tgetPercentageVisibleYAxis,\n\tscrollToElement,\n\twatchForThings,\n\tframeThrottle,\n\tframeDebounce,\n\tidleThrottle,\n} from './';\n\nexport let current: ?Thing;\nlet currentContainer: ?Element;\nlet previous;\n\ntype SelectOptions = {\n\tallowMediaBrowse?: boolean,\n\tscrollStyle: ScrollStyle,\n};\n\ntype SelectOptionsWithDirection = SelectOptions & { direction?: 'down' | 'up' };\n\nconst listeners = { instantly: [], beforePaint: [], idle: [] };\n\nexport function addListener(\n\tcallback: (new_: Thing, old: ?Thing, opt: SelectOptionsWithDirection) => mixed,\n\twhen: $Keys<typeof listeners> = 'idle',\n\tpriority: number = 0,\n): void {\n\tcallback.priority = priority;\n\tlisteners[when].push(callback);\n\tlisteners[when].sort((a, b) => a.priority - b.priority);\n}\n\nconst runCallbacks = (() => {\n\tfunction runListeners(listeners, new_, old, opt) {\n\t\tfor (const listener of listeners) try { listener(new_, old, opt); } catch (e) { console.error(e); }\n\t}\n\n\tfunction throttle(throttler, listeners) {\n\t\tlet oldest: ?Thing; // So that `oldest` will equal `new_` from the previous listener invokation\n\n\t\tconst throttled = throttler((new_: Thing, old: ?Thing, opt: SelectOptionsWithDirection) => {\n\t\t\trunListeners(listeners, new_, oldest, opt);\n\t\t\toldest = null;\n\t\t});\n\n\t\treturn (new_, old, opt) => {\n\t\t\tif (!oldest) oldest = old;\n\t\t\tthrottled(new_, old, opt);\n\t\t};\n\t}\n\n\tconst runBeforePaint = throttle(frameThrottle, listeners.beforePaint);\n\tconst runIdle = throttle(idleThrottle, listeners.idle);\n\n\treturn (new_, old, opt) => {\n\t\tif (listeners.instantly.length) runListeners(listeners.instantly, new_, old, opt);\n\t\tif (listeners.beforePaint.length) runBeforePaint(new_, old, opt);\n\t\tif (listeners.idle.length) runIdle(new_, old, opt);\n\t};\n})();\n\nexport function set(_new: Thing, options: SelectOptions = { scrollStyle: 'none' }, force: boolean = false) {\n\tif (!force && _new === current) return;\n\n\tprevious = current;\n\tcurrent = _new;\n\tcurrentContainer = current.element.closest('.sitetable');\n\n\tconst direction = previous && previous.getDirectionOf(current);\n\trunCallbacks(current, previous, { ...options, ...(direction ? { direction } : undefined) });\n}\n\nexport const selectClosestInView = frameDebounce(() => {\n\tif (current && getPercentageVisibleYAxis(current.entry)) return;\n\n\tconst closestToCurrent = current && current.getClosestVisible();\n\tif (closestToCurrent && getPercentageVisibleYAxis(closestToCurrent.entry)) {\n\t\tset(closestToCurrent);\n\t\treturn;\n\t}\n\n\tconst things = Thing.visibleThings();\n\tconst currentIndex = things.indexOf(current);\n\tconst closestThings = _.sortBy(things.filter(thing => thing.isVisible()), thing => Math.abs(things.indexOf(thing) - currentIndex));\n\tconst closestVisible = _.maxBy(closestThings, ({ entry }) => getPercentageVisibleYAxis(entry));\n\tif (closestVisible) set(closestVisible);\n});\n\nexport function refresh() {\n\tif (!current || current.isVisible()) return;\n\tselectClosestInView();\n}\n\nconst movers = {\n\tclosestVisible: (thing: Thing) => thing.getClosestVisible(),\n\tup: (thing: Thing) => thing.getNext({ direction: 'up' }),\n\tdown: (thing: Thing) => thing.getNext({ direction: 'down' }),\n\ttop: (/*:: thing: Thing */) => Thing.visibleThings()[0],\n\tbottom: (/*:: thing: Thing */) => Thing.visibleThings().slice(-1)[0],\n\tupSibling: (thing: Thing) => thing.getNextSibling({ direction: 'up' }) || thing.parent,\n\tdownSibling: (thing: Thing) => thing.getClosest(thing.getNextSibling, { direction: 'down' }),\n\tdownParentSibling: (thing: Thing) => (thing.parent || thing).getClosest(thing.getNextSibling, { direction: 'down' }),\n\tupThread: (thing: Thing) => thing.getThreadTop().getNextSibling({ direction: 'up' }) || thing.getThreadTop(),\n\tdownThread: (thing: Thing) => thing.getThreadTop().getNextSibling({ direction: 'down' }),\n\ttoTopComment: (thing: Thing) => thing.getThreadTop(),\n\ttoParent: (thing: Thing) => thing.parent,\n\tprevious: (/*:: thing: Thing */) => previous,\n};\n\nexport function move(direction: $Keys<typeof movers>, options?: SelectOptionsWithDirection, fallback?: () => ?*) {\n\tif (!current || !current.element.offsetParent) {\n\t\tselectClosestInView();\n\t\treturn;\n\t}\n\n\tconst targetFn = movers[direction];\n\n\tif (!current && targetFn.length) {\n\t\tif (!fallback || !fallback()) throw new Error('Function only works when an entry is current');\n\t}\n\n\tconst target = targetFn((current: any));\n\n\tif (!target) {\n\t\tif (fallback && fallback()) return;\n\n\t\tif (current) return set(current, { scrollStyle: 'middle' });\n\t\tthrow new Error('Could not find a target');\n\t} else if (current === target) {\n\t\tif (current) return set(current, { scrollStyle: 'middle' });\n\t\tthrow new Error('Target already current');\n\t}\n\n\tset(target, options);\n}\n\nlet anchor;\n// Partially visible comments may change height change depending on whether they are current,\n// so it is necessary to anchor them to avoid having viewport move relative to the current thing\n// XXX Can the native browser scroll anchoring achieve this?\naddListener((current, previous, { scrollStyle }) => {\n\tif (\n\t\tprevious && current !== previous &&\n    (['none', 'adopt']: Array<ScrollStyle>).includes(scrollStyle) &&\n    (current.element.classList.contains('res-thing-partial') || previous.element.classList.contains('res-thing-partial'))\n\t) {\n\t\tanchor = {\n\t\t\tto: current.entry.getBoundingClientRect().top,\n\t\t\tfrom: previous.entry.getBoundingClientRect().top,\n\t\t};\n\t} else {\n\t\tanchor = undefined;\n\t}\n}, 'instantly', -Infinity);\n\naddListener((current, previous, { direction, scrollStyle }) => {\n\tscrollToElement(current.entry, previous && previous.entry, { scrollStyle, direction, anchor, waitTillVisible: true });\n}, 'beforePaint', 9);\n\n// Complete tasks on Things when e.g. using keyboardNav or commentNav, so that RES watcher tasks are run before painting\naddListener((current, previous, { scrollStyle, direction }) => {\n\tif (scrollStyle === 'none') return;\n\t// If direction is down, also run tasks between the `previous` and `current` to avoid scroll anchoring issues\n\tThing.runTasksRange(current, direction === 'down' ? previous : undefined, 10, 10);\n}, 'instantly');\n\n// When loading additonal comments, select the first newly loaded comment\nwatchForThings(['comment'], _.throttle(thing => {\n\tif (!current) return;\n\tif (current && document.contains(current.element)) return;\n\tif (currentContainer && currentContainer !== thing.element.closest('.sitetable')) return;\n\tset(thing);\n}, 100, { leading: true, trailing: false }), { immediate: true });\n\nconst lastSelectedKey = `${LAST_SELECTED_ENTRY_KEY}-${location.pathname}`;\nconst getLastSelectedId = () => sessionStorage[lastSelectedKey];\nlet scrollToSelectedThingOnLoad: boolean = false;\nexport const setScrollToSelectedThingOnLoad = (v: boolean) => { scrollToSelectedThingOnLoad = v; };\n\n// Auto select the previous selected thing this session, or the first thing\nconst lastSelectedId = getLastSelectedId();\nwatchForThings(null, thing => {\n\tif (current) return;\n\tif (!lastSelectedId) return set(thing);\n\tif (thing.getFullname() !== lastSelectedId) return;\n\tif (scrollToSelectedThingOnLoad) history.scrollRestoration = 'manual';\n\tset(thing, { scrollStyle: history.scrollRestoration === 'manual' ? 'legacy' : 'none' });\n}, { immediate: true });\n\naddListener(current => {\n\tconst id = current.getFullname();\n\tif (!id) return;\n\tsessionStorage[lastSelectedKey] = id;\n}, 'beforePaint');\n\naddListener((current, previous) => {\n\tif (previous) {\n\t\tprevious.entry.classList.remove('res-selected');\n\t\tprevious.element.classList.remove('res-selected');\n\t}\n\tif (current) {\n\t\tcurrent.entry.classList.add('res-selected');\n\t\tcurrent.element.classList.add('res-selected');\n\t}\n}, 'instantly');\n","/* @flow */\n\nimport _ from 'lodash';\nimport { downcast, empty, frameThrottle, positiveModulo, string } from '../utils';\n\nconst RESTables = new Map();\n\nexport class RESTable {\n\t_data: Array<{ [id: string]: HTMLElement | mixed }>;\n\tgetRow: mixed => {};\n\tpage: number = 0;\n\tpageSize: number = 100;\n\ttbody: HTMLTableSectionElement;\n\telement: HTMLTableElement;\n\tcolumns = []; // columns in shown order\n\tfilters = [];\n\tonRowsChanges = [];\n\tsortBy: string;\n\tsortDirection: 'asc' | 'desc' = 'asc';\n\n\tdata = _.memoize(() => {\n\t\tconst data = this._data.filter(v => this.filters.every(filter => filter(v)));\n\n\t\tif (this.sortBy) {\n\t\t\tconst getValue = r => { const v = this.getRow(r)[this.sortBy]; return v instanceof HTMLElement ? v.textContent : String(v); };\n\t\t\tconst values = new Map(data.map(r => [r, getValue(r)]));\n\t\t\tdata.sort((a, b) => (values: any).get(a).localeCompare((values: any).get(b), undefined, { numeric: true }));\n\t\t}\n\n\t\tif (this.sortDirection === 'desc') {\n\t\t\tdata.reverse();\n\t\t}\n\n\t\treturn data;\n\t});\n\n\tconstructor(headers: { [id: string]: string }, data: *, getRow: *, opts: *) {\n\t\tthis._data = data;\n\t\tthis.getRow = getRow;\n\t\tObject.assign(this, opts);\n\n\t\tconst table = this.element = document.createElement('table');\n\t\ttable.style.width = '100%';\n\n\t\tconst thead = document.createElement('thead');\n\t\tconst tbody = this.tbody = downcast(document.createElement('tbody'), HTMLTableSectionElement);\n\t\ttable.append(thead, tbody);\n\n\t\tconst tr = document.createElement('tr');\n\t\tthead.append(tr);\n\n\t\tfor (const [id, label] of Object.entries(headers)) {\n\t\t\tconst th = document.createElement('th');\n\t\t\tth.addEventListener('click', sortByColumn);\n\t\t\tth.textContent = label;\n\t\t\tthis.columns.push(id);\n\t\t\ttr.append(th);\n\n\t\t\tif (this.sortBy === id) th.classList.add(`sort-${this.sortDirection}`);\n\t\t}\n\n\t\tRESTables.set(table, this);\n\n\t\tthis.start();\n\t}\n\n\tstart() {\n\t\tthis.page = 0;\n\t\tthis.data.cache.clear();\n\t\tthis.updatePage();\n\t}\n\n\tupdatePage = frameThrottle(() => {\n\t\tthis.page = positiveModulo(this.page, Math.ceil(this.data().length / this.pageSize)) || 0;\n\t\tconst start = this.page * this.pageSize || 0;\n\t\tempty(this.tbody);\n\t\tfor (const rawRow of this.data().slice(start, start + this.pageSize)) {\n\t\t\tconst tr = document.createElement('tr');\n\t\t\tthis.tbody.append(tr);\n\t\t\tconst row = this.getRow(rawRow);\n\n\t\t\tfor (const id of this.columns) {\n\t\t\t\tconst td = document.createElement('td');\n\t\t\t\tconst content = (row[id]: any);\n\t\t\t\tif (content instanceof HTMLElement) td.append(content);\n\t\t\t\telse td.textContent = content;\n\t\t\t\ttr.append(td);\n\t\t\t}\n\t\t}\n\n\t\tfor (const observer of this.onRowsChanges) observer();\n\t});\n\n\tcreateSearchElement(valueGetter: * => string, placeholder: string, focus: boolean) {\n\t\tconst search = document.createElement('input');\n\n\t\tsearch.setAttribute('placeholder', placeholder);\n\n\t\t// focus on open (delay to allow render)\n\t\tif (focus) requestAnimationFrame(() => { search.focus(); });\n\n\t\tlet lastFilter;\n\t\t// Filter subreddit list\n\t\tsearch.addEventListener('input', () => {\n\t\t\tlet regex;\n\t\t\tif (string.regexRegex.test(search.value)) {\n\t\t\t\tconst [, str, flags = ''] = (string.regexRegex.exec(search.value): any); // guaranteed to match due to `.test()` above\n\t\t\t\tregex = new RegExp(str, flags);\n\t\t\t} else {\n\t\t\t\tregex = new RegExp(_.escapeRegExp(search.value), 'i');\n\t\t\t}\n\n\t\t\tif (lastFilter) _.pull(this.filters, lastFilter);\n\t\t\tif (search.value) this.filters.push(lastFilter = (data: *) => regex.test(valueGetter(data)));\n\t\t\tthis.start();\n\t\t});\n\n\t\treturn search;\n\t}\n\n\tcreateSelectFilters(filters: *) {\n\t\tconst ele = string.html`<div>\n\t\t\tShow only:\n\t\t\t<select>${filters.map(({ name, initialSelected }) => string._html`<option ${initialSelected ? 'selected' : ''}>${name}</option>`)}</select>\n\t\t</div>`;\n\t\tconst filterSelect = downcast(ele.querySelector('select'), HTMLSelectElement);\n\n\t\tlet lastFilter;\n\t\tthis.filters.push(lastFilter = filters[filterSelect.selectedIndex].filter);\n\n\t\tfilterSelect.addEventListener('change', () => {\n\t\t\t_.pull(this.filters, lastFilter);\n\t\t\tconst filter = filters[filterSelect.selectedIndex].filter;\n\t\t\tthis.filters.push(lastFilter = filter);\n\t\t\tthis.start();\n\t\t});\n\n\t\treturn ele;\n\t}\n\n\tcreatePaginationElement() {\n\t\tconst ele = string.html`<div class=\"res-step-container\">\n\t\t\t<div class=\"res-step res-step-previous\"></div>\n\t\t\t<div class=\"res-step-progress\">\n\t\t\t\t<span class=\"res-step-position\"></span> of <span class=\"res-step-total\"></span>\n\t\t\t</div>\n\t\t\t<div class=\"res-step res-step-next\"></div>\n\t\t</div>`;\n\n\t\tele.querySelector('.res-step-previous').addEventListener('click', () => { this.page--; this.updatePage(); });\n\t\tele.querySelector('.res-step-next').addEventListener('click', () => { this.page++; this.updatePage(); });\n\n\t\tconst position = ele.querySelector('.res-step-position');\n\t\tconst total = ele.querySelector('.res-step-total');\n\n\t\tconst refresh = () => {\n\t\t\tconst pages = Math.ceil(this.data().length / this.pageSize);\n\t\t\tele.setAttribute('first-piece', String(this.page === 0));\n\t\t\tele.setAttribute('last-piece', String(this.page === pages - 1));\n\n\t\t\tposition.textContent = String(this.page + 1);\n\t\t\ttotal.textContent = String(pages || 1);\n\t\t};\n\n\t\tthis.onRowsChanges.push(refresh);\n\n\t\treturn ele;\n\t}\n\n\tsort(by: string | number, reverseCurrent: boolean) {\n\t\tthis.sortBy = typeof by === 'number' ? this.columns[by] : by;\n\t\tthis.sortDirection = reverseCurrent ? (this.sortDirection === 'asc' ? 'desc' : 'asc') : 'asc';\n\t\tthis.start();\n\t}\n}\n\nexport function sortByColumn({ target: sortColumn }: MouseEvent) {\n\tconst table = downcast(sortColumn.closest('table'), HTMLTableElement);\n\n\tconst reverseCurrent = sortColumn.classList.contains('sort-asc') || sortColumn.classList.contains('sort-asc');\n\n\tconst tableRES = RESTables.get(table);\n\tif (tableRES) {\n\t\tconst index = [...downcast(sortColumn.parentElement, HTMLElement).children].indexOf(sortColumn);\n\t\ttableRES.sort(index, reverseCurrent);\n\t} else {\n\t\tconst tbody = table.querySelector('tbody');\n\t\tconst columns = Array.from(table.querySelectorAll('thead th'));\n\t\tconst rows = Array.from(tbody.querySelectorAll('tr'));\n\n\t\tif (reverseCurrent) {\n\t\t\trows.reverse();\n\t\t} else {\n\t\t\tconst index = columns.indexOf(sortColumn);\n\t\t\tconst getCellValue = _.memoize(row => { const cell = row.querySelectorAll('td')[index]; return cell.textContent; });\n\t\t\trows.sort((rowA, rowB) => getCellValue(rowA).localeCompare(getCellValue(rowB), undefined, { numeric: true }));\n\t\t}\n\n\t\ttbody.append(...rows);\n\t}\n\n\tif (reverseCurrent) {\n\t\tsortColumn.classList.toggle('sort-asc');\n\t\tsortColumn.classList.toggle('sort-desc');\n\t} else {\n\t\tconst previous = table.querySelector('.sort-asc, .sort-desc');\n\t\tif (previous) previous.classList.remove('sort-asc');\n\t\tif (previous) previous.classList.remove('sort-desc');\n\t\tsortColumn.classList.add('sort-asc');\n\t}\n}\n","/**!\n * Sortable 1.10.2\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar version = \"1.10.2\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !!\n    /*@__PURE__*/\n    navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\r\n * Returns the \"bounding client rect\" of given element\r\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\r\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\r\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\r\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\r\n * @param  {[HTMLElement]} container              The parent the element will be placed in\r\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\r\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\r\n * Checks if a side of an element is scrolled past a side of its parents\r\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\r\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\r\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\r\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\r\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\r\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\r\n * and non-draggable elements\r\n * @param  {HTMLElement} el       The parent element\r\n * @param  {Number} childNum      The index of the child\r\n * @param  {Object} options       Parent Sortable's options\r\n * @return {HTMLElement}          The child at index childNum, or null if not found\r\n */\n\n\nfunction getChild(el, childNum, options) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\r\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\r\n * @param  {HTMLElement} el       Parent element\r\n * @param  {selector} selector    Any other elements that should be ignored\r\n * @return {HTMLElement}          The last child, ignoring ghostEl\r\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\r\n * Returns the index of an element within its parent for a selected set of\r\n * elements\r\n * @param  {HTMLElement} el\r\n * @param  {selector} selector\r\n * @return {number}\r\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\r\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\r\n * The value is returned in real pixels.\r\n * @param  {HTMLElement} el\r\n * @return {Array}             Offsets in the format of [left, top]\r\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\r\n * Returns the index of the object within the given array\r\n * @param  {Array} arr   Array that may or may not hold the object\r\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\r\n * @return {Number}      The index of the object in the array, or -1\r\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    if (lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        threshold = sortable[expando].options.emptyInsertThreshold,\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (threshold && insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // assign target only if condition is true\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (rootEl.contains(dragEl) && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar OnSpill = [Remove, Revert];\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nexport default Sortable;\nexport { AutoScrollPlugin as AutoScroll, MultiDragPlugin as MultiDrag, OnSpill, Sortable, SwapPlugin as Swap };\n","/* @flow */\n\n// Import only the functionality of sortablejs which is needed\nimport Sortable, { AutoScroll } from 'sortablejs/modular/sortable.core.esm';\n\nSortable.mount(new AutoScroll());\nexport { Sortable };\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Sortable } from '../vendor';\nimport { i18n } from '../environment';\nimport { downcast, string } from './';\n\nexport function drawOptionBuilder(options: *, mod: *, optionName: *) {\n\tconst option = options[optionName];\n\tconst $addRowButton = $('<button class=\"addRowButton\">');\n\tconst $itemContainer = $('<div class=\"optionBuilder\">');\n\n\t$itemContainer.attr({\n\t\t'data-module-id': mod.moduleID,\n\t\t'data-option-name': optionName,\n\t});\n\t$addRowButton\n\t\t.text(i18n(option.addItemText) || '+add item')\n\t\t.on('click', function() {\n\t\t\tconst $newBody = drawBuilderItem(option.defaultTemplate(), option.customOptionsFields, option.cases);\n\t\t\t$(this).siblings('.optionBuilder:first').trigger('change').append($newBody);\n\t\t\tconst firstText = $newBody.find('input[type=text], textarea')[0];\n\t\t\tif (firstText) {\n\t\t\t\tsetTimeout(() => firstText.focus(), 200);\n\t\t\t}\n\t\t});\n\toption.value.forEach(item => drawBuilderItem(item, option.customOptionsFields, option.cases).appendTo($itemContainer));\n\n\tSortable.create($itemContainer.get(0), { handle: '.handle' });\n\n\treturn $('<div>').append($itemContainer, $addRowButton)[0];\n}\n\nfunction drawBuilderItem(data: *, customOptionsFields: * = [], cases: *) {\n\tconst $editButton = $('<div>')\n\t\t.addClass('res-icon-button res-icon builderControls builderTrailingControls')\n\t\t.html('&#xF061;')\n\t\t.attr('title', 'copy and share, or update your settings with a new version')\n\t\t.on('click', function() {\n\t\t\tconst $item = $(this).closest('.builderItem');\n\t\t\tconst data = readBuilderItem($item, customOptionsFields, cases);\n\t\t\tconst json = prompt(\n\t\t\t\t'Copy this and share it, or paste a new version and update your settings',\n\t\t\t\tJSON.stringify(data),\n\t\t\t);\n\t\t\tif (json !== null) {\n\t\t\t\tconst newData = JSON.parse(json);\n\t\t\t\t$item.trigger('change').replaceWith(drawBuilderItem(newData, customOptionsFields, cases));\n\t\t\t}\n\t\t});\n\n\tconst $deleteButton = drawDeleteButton()\n\t\t.addClass('builderTrailingControls')\n\t\t.on('click', function() {\n\t\t\tif (confirm('Are you sure you want remove this filter?')) {\n\t\t\t\t$(this).trigger('change');\n\t\t\t\t$(this).closest('.builderItem').trigger('change').remove();\n\t\t\t}\n\t\t});\n\n\tconst customOptions = string.html`<ul class=\"builderCustomOptions\"></ul>`;\n\tfor (const fields of customOptionsFields) {\n\t\tconst li = document.createElement('li');\n\t\t$(li).append(drawFields(fields, data.opts || {}));\n\t\tcustomOptions.append(li);\n\t}\n\n\tconst $header = $('<div class=\"builderItemControls\">')\n\t\t.append(\n\t\t\tdrawHandle(),\n\t\t\t$('<textarea name=\"builderNote\" rows=\"2\" cols=\"40\" placeholder=\"Write a description/note for this\">').val(data.note),\n\t\t\t$('<input type=\"hidden\" name=\"version\">').val(data.ver),\n\t\t\t$('<input type=\"hidden\" name=\"id\">').val(data.id),\n\t\t\tcustomOptions,\n\t\t\t$editButton,\n\t\t\t$deleteButton,\n\t\t);\n\n\tconst $body = drawBuilderBlock(data.body, cases, false);\n\n\treturn $('<div class=\"builderItem\">').append($header, $body);\n}\n\nfunction drawHandle() {\n\treturn $('<div>')\n\t\t.addClass('res-icon-button res-icon handle builderControls')\n\t\t.html('&#xF0AA;')\n\t\t.attr('title', 'drag and drop to move this condition');\n}\n\nfunction drawDeleteButton() {\n\treturn $('<div>')\n\t\t.addClass('res-icon-button res-icon builderControls')\n\t\t.html('&#xF056;')\n\t\t.attr('title', 'remove this condition');\n}\n\nexport function drawBuilderBlock(data: *, cases: *, addBaseControls: boolean = true) {\n\tif (!cases.hasOwnProperty(data.type)) {\n\t\tconsole.error(`Case type ${data.type} is not available. Ignoring block.`, data);\n\t\t// This also prevents the data from being read, i.e. it will be trashed\n\t\treturn $();\n\t}\n\n\tconst $block = $('<div class=\"builderBlock\">')\n\t\t.attr('data-type', data.type)\n\t\t.append(drawFields(cases[data.type].fields, data, cases));\n\n\tif (!addBaseControls) return $block;\n\n\tconst $deleteButton = drawDeleteButton()\n\t\t.addClass('builderTrailingControls')\n\t\t.on('click', function() {\n\t\t\tif (confirm('Are you sure you want to delete this condition?')) {\n\t\t\t\t$(this).trigger('change');\n\t\t\t\t$(this).closest('.builderWrap').parent('li').remove();\n\t\t\t}\n\t\t});\n\n\treturn $('<div class=\"builderWrap\">')\n\t\t.append(\n\t\t\tdrawHandle(),\n\t\t\t$block,\n\t\t\t$deleteButton,\n\t\t);\n}\n\nexport function readBuilderItem(item: *, customOptionsFields: * = [], cases: *) {\n\tconst $firstBlock = $(item).find('> .builderBlock');\n\tconst $header = $(item).find('.builderItemControls');\n\n\treturn {\n\t\tnote: $header.find('textarea[name=builderNote]').val(),\n\t\tver: parseInt($header.find('input[name=version]').val(), 10),\n\t\tid: $header.find('input[name=id]').val(),\n\t\tbody: readBuilderBlock($firstBlock, cases),\n\t\topts: readFields($header.find('.builderCustomOptions li'), _.flatten(customOptionsFields), cases),\n\t};\n}\n\nexport function readBuilderBlock($element: *, cases: *) {\n\tconst type = $element.attr('data-type');\n\tconst BlockClass = cases[type];\n\n\tconst data = { type, ...readFields($element, BlockClass.fields, cases) };\n\n\tconst multiType = BlockClass.fields.find(({ type }) => type === 'multi');\n\tif (!multiType) { // `multi`-types cannot have errors, so avoid duplicating error messages by not validating them\n\t\ttry {\n\t\t\tBlockClass.validate(data);\n\t\t\t$element.removeClass('builderBlock-error');\n\t\t} catch (e) {\n\t\t\t$element\n\t\t\t\t.attr('error', e.message)\n\t\t\t\t.addClass('builderBlock-error');\n\t\t\tthrow e;\n\t\t}\n\t}\n\n\treturn data;\n}\n\nfunction readFields($element, fields, cases) {\n\treturn fields.reduce((acc, field) => {\n\t\tif (typeof field === 'string') return acc;\n\t\tconst $fieldElem = $element.find(`> [name=${field.id}]`);\n\t\tconst fieldModule = builderFields[field.type];\n\t\tif (fieldModule && typeof fieldModule.read === 'function') {\n\t\t\tacc[field.id] = fieldModule.read($fieldElem, field, cases);\n\t\t} else {\n\t\t\tacc[field.id] = $fieldElem.val();\n\t\t}\n\t\treturn acc;\n\t}, {});\n}\n\nfunction drawFields(fields, data, cases) {\n\treturn fields.map(field => {\n\t\tif (typeof field === 'string') return field;\n\n\t\tconst fieldModule = builderFields[field.type];\n\t\tif (fieldModule) {\n\t\t\treturn fieldModule.draw(data, field, cases);\n\t\t} else {\n\t\t\treturn $(`<input type=\"${field.type}\">`)\n\t\t\t\t.attr('name', field.id)\n\t\t\t\t.val(data[field.id]);\n\t\t}\n\t});\n}\n\nconst builderFields = {\n\tmulti: {\n\t\tdraw(data, field, cases = {}) {\n\t\t\tconst $rowWrapper = $('<ul class=\"builderMulti\">').attr('name', field.id);\n\t\t\tconst addItem = itemData => drawBuilderBlock(itemData, cases).appendTo($rowWrapper).wrap('<li>');\n\n\t\t\tconst items = data[field.id];\n\t\t\titems.forEach(addItem);\n\n\t\t\tconst addCaseSelect = downcast(string.html`\n\t\t\t\t<select class=\"addBuilderBlock\">\n\t\t\t\t\t<option>+ add a condition</option>\n\t\t\t\t\t${Object.entries(cases).map(([key, { text }]) => string._html`\n\t\t\t\t\t\t<option value=\"${key}\">${text}</option>\n\t\t\t\t\t`)}\n\t\t\t\t</select>\n\t\t\t`, HTMLSelectElement);\n\t\t\taddCaseSelect.addEventListener('change', () => {\n\t\t\t\tconst type = addCaseSelect.value;\n\t\t\t\tif (type !== '' && cases.hasOwnProperty(type)) {\n\t\t\t\t\taddItem({ type, ...cases[type].defaultConditions })\n\t\t\t\t\t\t.find('input[type=text], input[type=number], textarea').focus();\n\t\t\t\t}\n\n\t\t\t\taddCaseSelect.selectedIndex = 0;\n\t\t\t});\n\n\t\t\tSortable.create($rowWrapper.get(0), { group: 'block', handle: '.handle' });\n\n\t\t\treturn $rowWrapper.add(addCaseSelect);\n\t\t},\n\t\tread($elem, fields, cases) {\n\t\t\treturn $elem.find('> li > .builderWrap > .builderBlock').map(function() {\n\t\t\t\treturn readBuilderBlock($(this), cases);\n\t\t\t}).get();\n\t\t},\n\t},\n\thidden: {\n\t\tdraw(data, field) {\n\t\t\tconst id = field.id;\n\t\t\treturn $('<input type=\"hidden\">').attr('name', id).val(data[id]);\n\t\t},\n\t},\n\tnumber: {\n\t\tdraw(data, field) {\n\t\t\tconst id = field.id;\n\t\t\treturn $('<input type=\"number\">').attr('name', id).val(data[id]);\n\t\t},\n\t\tread($elem) {\n\t\t\treturn parseInt($elem.val(), 10);\n\t\t},\n\t},\n\tcheck: {\n\t\tdraw(data, field) {\n\t\t\tconst id = field.id;\n\t\t\tconst $input = $('<input type=\"checkbox\">').prop('checked', data[id]);\n\t\t\treturn $('<label>').attr('name', id).text(field.label).prepend($input);\n\t\t},\n\t\tread($elem) {\n\t\t\treturn $elem.find('input').get(0).checked;\n\t\t},\n\t},\n\tcheckset: {\n\t\tuid: 0,\n\t\tdraw(data, field) {\n\t\t\tconst id = field.id;\n\t\t\tconst prefixId = this.uid++;\n\t\t\tconst $wrap = $('<span class=\"checkset\">').attr('name', field.id);\n\t\t\tfield.items.forEach((e, idx) => {\n\t\t\t\tconst itemId = `checkset-${prefixId}-${idx}X`;\n\t\t\t\tconst $box = $('<input type=\"checkbox\" />')\n\t\t\t\t\t.attr('id', itemId)\n\t\t\t\t\t.attr('name', e);\n\t\t\t\tif (data.hasOwnProperty(id) && data[id].includes(e)) {\n\t\t\t\t\t$box.prop('checked', true);\n\t\t\t\t}\n\t\t\t\tconst $label = $('<label>')\n\t\t\t\t\t.attr('for', itemId)\n\t\t\t\t\t.text(e);\n\t\t\t\t$wrap.append($box, $label);\n\t\t\t});\n\t\t\treturn $wrap;\n\t\t},\n\t\tread($elem, fields) {\n\t\t\treturn fields.items.filter(e => $elem.children(`[name=\"${e}\"]`).prop('checked'));\n\t\t},\n\t},\n\tduration: {\n\t\tdraw(data, field) {\n\t\t\t// Store as milliseconds like JavaScript Date\n\t\t\tlet durr = data[field.id];\n\t\t\tdurr /= 60 * 1000;\n\t\t\tconst minutes = durr % 60;\n\t\t\tdurr = (durr - minutes) / 60;\n\t\t\tconst hours = durr % 24;\n\t\t\tdurr = (durr - hours) / 24;\n\t\t\tconst days = durr;\n\n\t\t\treturn $('<span class=\"durationField\">')\n\t\t\t\t.attr('name', field.id)\n\t\t\t\t.append([\n\t\t\t\t\t$('<input type=\"number\" name=\"days\" />').val(days), ' days ',\n\t\t\t\t\t$('<input type=\"number\" name=\"hours\" />').val(hours), ' hours ',\n\t\t\t\t\t$('<input type=\"number\" name=\"minutes\" />').val(minutes), ' minutes ',\n\t\t\t\t]);\n\t\t},\n\t\tread($elem) {\n\t\t\tconst days = parseFloat($elem.children('[name=days]').val()) || 0;\n\t\t\tconst hours = parseFloat($elem.children('[name=hours]').val()) || 0;\n\t\t\tconst minutes = parseFloat($elem.children('[name=minutes]').val()) || 0;\n\n\t\t\t// Store as milliseconds like JavaScript Date\n\t\t\tlet duration = 0;\n\t\t\tduration += days * 24 * 60 * 60;\n\t\t\tduration += hours * 60 * 60;\n\t\t\tduration += minutes * 60;\n\t\t\tduration *= 1000;\n\n\t\t\treturn duration;\n\t\t},\n\t},\n\tselect: {\n\t\tdraw(data, field) {\n\t\t\tconst value = data[field.id];\n\t\t\tlet entries = field.options;\n\n\t\t\tif (typeof entries === 'string') {\n\t\t\t\tentries = this.getPredefinedChoices(entries);\n\t\t\t}\n\n\t\t\tconst $dropdown = $('<select>').attr('name', field.id);\n\t\t\tentries.forEach(row => {\n\t\t\t\tlet label, value;\n\t\t\t\tif (typeof row === 'string') {\n\t\t\t\t\tlabel = value = row;\n\t\t\t\t} else {\n\t\t\t\t\tlabel = row[0];\n\t\t\t\t\tvalue = row[1];\n\t\t\t\t}\n\t\t\t\t$('<option>').text(label).val(value).appendTo($dropdown);\n\t\t\t});\n\t\t\t$dropdown.val(value);\n\t\t\treturn $dropdown;\n\t\t},\n\t\tgetPredefinedChoices(name) {\n\t\t\tif (name === 'COMPARISON') {\n\t\t\t\treturn [\n\t\t\t\t\t['exactly', '=='],\n\t\t\t\t\t['not', '!='],\n\t\t\t\t\t['more than', '>'],\n\t\t\t\t\t['less than', '<'],\n\t\t\t\t\t['at least', '>='],\n\t\t\t\t\t['at most', '<='],\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tthrow new Error(`Option set \"${name}\" is not defined`);\n\t\t\t}\n\t\t},\n\t},\n};\n","/* @flow */\n\nexport {\n\tLRUCache,\n} from './Cache';\n\nexport {\n\tThing,\n} from './Thing';\n\nexport {\n\tgetPostMetadata,\n} from './thingMetadata';\n\nexport {\n\tasyncEvery,\n\tasyncFilter,\n\tasyncFind,\n\tasyncReduce,\n\tasyncSome,\n\tfilterMap,\n\tforEachSeq,\n} from './array';\n\nexport {\n\tasyncFlow,\n\tfastAsync,\n\tbatch,\n\tforEachChunked,\n\tframeDebounce,\n\tframeThrottle,\n\tthrottleQueuePositionReset,\n\tidleThrottle,\n\tthrottle,\n\tkeyedMutex,\n\tmutex,\n\treifyPromise,\n\twaitFor,\n} from './async';\n\nexport {\n\tcolorFromArray,\n\tcolorToArray,\n} from './color';\n\nexport {\n\taddDashboardTab,\n} from './dashboard';\n\nexport {\n\taddCSS,\n\tclick,\n\telementInViewport,\n\tempty,\n\tgetViewportSize,\n\tgetHeaderOffset,\n\tgetD2xBodyOffset,\n\tgetPercentageVisibleYAxis,\n\tpreventCloning,\n\tscrollToElement,\n\twaitForChild,\n\twaitForDescendant,\n\twaitForFutureDescendant,\n\twatchForChildren,\n\twatchForFutureChildren,\n\twatchForDescendants,\n\twatchForFutureDescendants,\n\twaitForEvent,\n\twaitForAttach,\n\twaitForDetach,\n} from './dom';\n\nexport {\n\taddFloater,\n} from './floater';\n\nexport {\n\tdowncast,\n} from './flow';\n\nexport {\n\trange,\n\tzip,\n} from './generator';\n\nexport {\n\thashCode,\n\trandomHash,\n} from './hash';\n\nexport {\n\thide,\n\tunhide,\n} from './thingHide';\n\nexport {\n\tescapeHTML,\n} from './html';\n\nexport {\n\tNAMED_KEYS,\n\tcheckKeysForEvent,\n\thashKeyArray,\n\thashKeyEvent,\n\tniceKeyCode,\n} from './keycode';\n\nexport {\n\tformatDate,\n\tformatDateDiff,\n\tformatDateTime,\n\tformatNumber,\n\tformatRelativeTime,\n} from './localization';\n\nexport {\n\tappType,\n\tcurrentDomain,\n\tcurrentMultireddit,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\texecRegexes,\n\tisAppType,\n\tisCommentCode,\n\tisCurrentMultireddit,\n\tisCurrentSubreddit,\n\tisEmptyLink,\n\tisPageType,\n\tmatchesPageLocation,\n\tmatchesPageRegex,\n\tfullLocation,\n\tpageType,\n\tregexes,\n} from './location';\n\nexport {\n\tnumericalCompare,\n\tinverseOperator,\n\tprettyOperator,\n\tdeinterpolate,\n\tinterpolate,\n\tprojectInto,\n\tpositiveModulo,\n} from './math';\n\nexport {\n\textendDeep,\n} from './object';\n\nexport {\n\tindexOptionTable,\n} from './options';\n\nexport {\n\tmarkStart,\n\tmarkEnd,\n} from './profiling';\n\nexport {\n\tmaybePruneOldEntries,\n\tshouldPrune,\n} from './storage';\n\nexport {\n\tfakeSubreddits,\n\tisFakeSubreddit,\n} from './subreddits';\n\nexport {\n\tDAY,\n\tHOUR,\n\tMINUTE,\n\tWEEK,\n\tfromSecondsToTime,\n} from './time';\n\nexport {\n\tisLoggedIn,\n\tgetUserInfo,\n\tisModeratorAnywhere,\n\tloggedInUser,\n\tdocumentLoggedInUser,\n\tloggedInUserHash,\n\tusernameSelector,\n\tgetUsernameFromLink,\n} from './user';\n\nexport {\n\tfirstValid,\n} from './value';\n\nexport {\n\tregisterPage,\n\tr2WatcherContentLoaded,\n\tr2WatcherSitetableStart,\n\twatchForElements,\n\twatchForThings,\n} from './watchers';\n\nexport {\n\tinitD2xWatcher,\n\twatchForRedditEvents,\n} from './watchers_d2x';\n\nexport * as BodyClasses from './bodyClasses';\n\nexport * as BrowserDetect from './browserDetect';\n\nexport * as CreateElement from './createElement';\n\nexport * as Alert from './alert';\n\nexport * as PagePhases from './pagePhases';\n\nexport * as SelectedThing from './selectedThing';\n\nexport * as Table from './table';\n\nexport * as caseBuilder from './caseBuilder';\n\nexport * as string from './string';\n","/* @flow */\n\nimport type { PageType, AppType } from '../utils/location';\nimport type { KeyArray } from '../utils/keycode';\n\n// separate because indexer syntax is not supported in normal (no `declare`) classes\ndeclare class Indexable { // eslint-disable-line no-unused-vars\n\t[Symbol | $Keys<this>]: any;\n}\n\nexport class Module<RawOpt: { [string]: any }, Opt: { [string]: ModuleOption<RawOpt> } = RawOpt> /*:: extends Indexable */ {\n\tmoduleID: string;\n\n\tmoduleName: string;\n\tcategory: string = '';\n\tdescription: string = '';\n\tdescriptionRaw: boolean = false; // Whether the message is HTML and should not be run through i18n / markdown\n\tkeywords: Array<string> = [];\n\tbodyClass: boolean = false;\n\toptions: Opt = ({}: any);\n\tinclude: Array<PageType | AppType | RegExp> = [];\n\texclude: Array<PageType | AppType | RegExp> = [];\n\tshouldRun: () => boolean = () => true;\n\tonToggle: (enabling: boolean) => void = () => {};\n\tonSaveSettings: (changedSettings: any) => void = () => {};\n\n\thidden: boolean = false;\n\tdisabledByDefault: boolean = false;\n\talwaysEnabled: boolean = false;\n\tsort: number = 0;\n\n\t// no default value for cleaner profiling (modules without a stage defined won't be timed)\n\tonInit: (() => Promise<void> | void) | void = undefined;\n\tbeforeLoad: (() => Promise<void> | void) | void = undefined;\n\tcontentStart: (() => Promise<void> | void) | void = undefined;\n\tgo: (() => Promise<void> | void) | void = undefined;\n\tafterLoad: (() => Promise<void> | void) | void = undefined;\n\talways: (() => Promise<void> | void) | void = undefined;\n\n\tpermissions: {|\n\t\trequiredPermissions: Array<string>,\n\t\tmessage?: string,\n\t|} = {\n\t\trequiredPermissions: [],\n\t};\n\n\tconstructor(moduleID: string) {\n\t\t/*:: super(); */\n\t\tthis.moduleID = moduleID;\n\t\tthis.moduleName = moduleID;\n\t}\n}\n\nexport type OpaqueModuleId = string | { moduleID: string, module?: void } | { module: { moduleID: string } };\n\nexport function getModuleId(opaqueId: OpaqueModuleId): string {\n\tif (!opaqueId) {\n\t\tthrow new TypeError(`Expected module, moduleID, or namespace; found: ${opaqueId}`);\n\t}\n\n\tif (typeof opaqueId === 'string') {\n\t\t// raw moduleID\n\t\treturn opaqueId;\n\t} else if (opaqueId.module) {\n\t\t// namespace\n\t\treturn opaqueId.module.moduleID;\n\t} else {\n\t\t// assume module-like object\n\t\treturn opaqueId.moduleID;\n\t}\n}\n\nexport type ModuleOption<Ctx> =\n\t| BooleanOption<Ctx>\n\t| TextOption<Ctx>\n\t| EnumOption<Ctx>\n\t| KeycodeOption<Ctx>\n\t| ListOption<Ctx>\n\t| SelectOption<Ctx>\n\t| TableOption<Ctx, any>\n\t| ButtonOption<Ctx>\n\t| ColorOption<Ctx>\n\t| BuilderOption<Ctx>;\n\ntype CommonOptionProps<Ctx> = {|\n\ttitle: string,\n\tdescription: string,\n\tkeywords?: Array<string>,\n\tdependsOn?: (opt: Ctx) => boolean,\n\tadvanced?: boolean,\n\tnoconfig?: boolean,\n\t// Intentionally do not pass in the new value\n\t// so that it must be read out of `module.options[key].value`\n\t// for easier grepping (and to enforce stricter types where possible).\n\tonChange?: () => void,\n|};\n\nexport type BooleanOption<Ctx> = {|\n\ttype: 'boolean',\n\tvalue: boolean,\n\tbodyClass?: boolean | string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type TextOption<Ctx> = {|\n\ttype: 'text',\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type EnumOption<Ctx> = {|\n\ttype: 'enum',\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t}>,\n\tbodyClass?: boolean | string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type KeycodeOption<Ctx> = {|\n\ttype: 'keycode',\n\tvalue: KeyArray,\n\t// special for keyboardNav\n\tgoMode?: boolean,\n\tcallback?: () => void,\n\tinclude?: Array<PageType | AppType | RegExp>,\n\trequiresModules?: Array<OpaqueModuleId>,\n\tmustBeLoggedIn?: boolean,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type ListOption<Ctx> = {|\n\ttype: 'list',\n\tlistType: ListType,\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\ntype ListType = 'subreddits';\n\nexport type SelectOption<Ctx> = {|\n\ttype: 'select',\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t\tstyle: string,\n\t}>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type TableOption<Ctx, V: $ReadOnlyArray<any>> = {|\n\ttype: 'table',\n\taddRowText?: string,\n\tfields: TableField[],\n\tvalue: V[],\n\tsort?: (a: V, b: V) => number,\n\t...CommonOptionProps<Ctx>,\n|};\n\ntype TableField = TextField | BooleanField | ListField | PasswordField | KeycodeField | TextareaField | EnumField | ColorField | SelectField;\n\ntype TextField = {|\n\ttype: 'text',\n\tkey: string,\n\tname: string,\n\tvalue?: string,\n|};\n\ntype BooleanField = {|\n\ttype: 'boolean',\n\tkey: string,\n\tname: string,\n\tvalue: boolean,\n|};\n\ntype ListField = {|\n\ttype: 'list',\n\tkey: string,\n\tname: string,\n\tlistType: ListType,\n|};\n\ntype PasswordField = {|\n\ttype: 'password',\n\tkey: string,\n\tname: string,\n|};\n\ntype KeycodeField = {|\n\ttype: 'keycode',\n\tkey: string,\n\tname: string,\n|};\n\ntype TextareaField = {|\n\ttype: 'textarea',\n\tkey: string,\n\tname: string,\n|};\n\ntype EnumField = {|\n\ttype: 'enum',\n\tkey: string,\n\tname: string,\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t}>,\n|};\n\ntype ColorField = {|\n\ttype: 'color',\n\tkey: string,\n\tname: string,\n|};\n\ntype SelectField = {|\n\ttype: 'select',\n\tkey: string,\n\tname: string,\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t\tstyle?: string,\n\t}>,\n|};\n\nexport type ButtonOption<Ctx> = {|\n\ttype: 'button',\n\ttext?: string | HTMLElement,\n\tcallback?: (() => Promise<void> | void) | string | { moduleID: string },\n\tvalues?: Array<{ text: $PropertyType<ButtonOption<Ctx>, 'text'>, callback: $PropertyType<ButtonOption<Ctx>, 'callback'> }>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type ColorOption<Ctx> = {|\n\ttype: 'color',\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type BuilderOption<Ctx> = {|\n\ttype: 'builder',\n\taddItemText: string,\n\tdefaultTemplate: () => BuilderRootValue,\n\tcases: { [string]: BuilderCase<*> },\n\tvalue: BuilderRootValue[],\n\tcustomOptionsFields: Array<Array<BuilderField | string>>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type BuilderRootValue = {|\n\tnote: string,\n\tver: number,\n\tid: string,\n\tbody: BuilderValue,\n\topts?: {\n\t\t[string]: mixed,\n\t\t// Some typed (reserved) values in order to simplify type checking\n\t\tname?: string,\n\t},\n|};\n\nexport type BuilderValue = {\n\ttype: string,\n\t[string]: any,\n};\n\ntype BuilderCase = {\n\ttext: string,\n\tfields: Array<BuilderField | string>,\n};\n\ntype BuilderField = BuilderSelectField | BuilderMultiField | BuilderDurationField | BuilderChecksetField | BuilderNumberField | BuilderCheckboxField | BuilderGenericInputField;\n\ntype PredefinedSelectChoice = 'COMPARISON';\n\ntype BuilderSelectField = {|\n\ttype: 'select',\n\toptions: Array<string | [string, string]> | PredefinedSelectChoice,\n\tid: string,\n|};\n\ntype BuilderMultiField = {|\n\ttype: 'multi',\n\tinclude: 'all',\n\tid: string,\n|};\n\ntype BuilderDurationField = {|\n\ttype: 'duration',\n\tid: string,\n|};\n\ntype BuilderChecksetField = {|\n\ttype: 'checkset',\n\titems: string[],\n\tid: string,\n|};\n\ntype BuilderNumberField = {|\n\ttype: 'number',\n\tid: string,\n|};\n\ntype BuilderCheckboxField = {|\n\ttype: 'check',\n\tid: string,\n\tlabel: string,\n|};\n\ntype BuilderGenericInputField = {|\n\ttype: string,\n\tid: string,\n|};\n","/* @flow */\n\nimport { Storage } from '../../environment';\n\nexport const storage = Storage.wrapBlob('RES.modulePrefs',\n\t(): boolean => { throw new Error('Default module enabled state should never be accessed'); });\n\nexport function setEnabled(moduleId: string, enable: boolean) {\n\treturn storage.set(moduleId, enable);\n}\n","import $ from 'jquery';\n\n/**\n * guiders.js\n *\n * version 2.0.0\n *\n * Released under the Apache License 2.0.\n * www.apache.org/licenses/LICENSE-2.0.html\n *\n * Questions about Guiders?\n * Email me (Jeff Pickhardt) at pickhardt@gmail.com\n *\n * Questions about Optimizely? Email one of the following:\n * sales@optimizely.com or support@optimizely.com\n *\n * Enjoy!\n */\n\nexport const guiders = {};\n\n(() => {\n  guiders.version = \"2.0.0\";\n\n  guiders._defaultSettings = {\n    attachTo: null, // Selector of the element to attach to.\n    autoFocus: false, // Determines whether or not the browser scrolls to the element.\n    buttons: [{name: \"Close\"}],\n    buttonCustomHTML: \"\",\n    classString: null,\n    closeOnEscape: false,\n    description: \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n    highlight: null,\n    isHashable: true,\n    maxWidth: null,\n    offset: {\n      top: null,\n      left: null\n    },\n    onClose: null,\n    onHide: null,\n    onShow: null,\n    overlay: false,\n    position: 0, // 1-12 follows an analog clock, 0 means centered.\n    shouldSkip: function() {}, // Optional handler allows you to skip a guider if returns true.\n    title: \"Sample title goes here\",\n    width: 400,\n    xButton: false // This places a closer \"x\" button in the top right of the guider.\n  };\n\n  guiders._htmlSkeleton = [\n    \"<div class='guider'>\",\n    \"  <div class='guiders_content'>\",\n    \"    <h1 class='guiders_title'></h1>\",\n    \"    <div class='guiders_close'></div>\",\n    \"    <p class='guiders_description'></p>\",\n    \"    <div class='guiders_buttons_container'>\",\n    \"    </div>\",\n    \"  </div>\",\n    \"  <div class='guiders_arrow'>\",\n    \"  </div>\",\n    \"</div>\"\n  ].join(\"\");\n\n  guiders._arrowSize = 42; // This is the arrow's width and height.\n  guiders._backButtonTitle = \"Back\";\n  guiders._buttonAttributes = {\"href\": \"javascript:void(0);\"};\n  guiders._buttonClassName = \"guiders_button\"; // Override this if you use a different class name for your buttons.\n  guiders._buttonClickEvent = \"click touch\"; // Using click touch allows this to trigger with iPad/iPhone taps, as well as browser clicks\n  guiders._buttonElement = \"<a></a>\"; // Override this if you want to use a different element for your buttons, like spans.\n  guiders._closeButtonTitle = \"Close\";\n  guiders._currentGuiderID = null;\n  guiders._fixedOrAbsolute = \"fixed\";\n  guiders._guiders = {};\n  guiders._lastCreatedGuiderID = null;\n  guiders._nextButtonTitle = \"Next\";\n  guiders._offsetNameMapping = {\n    \"topLeft\": 11,\n    \"top\": 12,\n    \"topRight\": 1,\n    \"rightTop\": 2,\n    \"right\": 3,\n    \"rightBottom\": 4,\n    \"bottomRight\": 5,\n    \"bottom\": 6,\n    \"bottomLeft\": 7,\n    \"leftBottom\": 8,\n    \"left\": 9,\n    \"leftTop\": 10\n  };\n  guiders._windowHeight = 0;\n\n  // Basic IE browser detection\n  var ieBrowserMatch = navigator.userAgent.match(/MSIE\\s([\\d.]+)/);\n  guiders._isIE = ieBrowserMatch && ieBrowserMatch.length > 1;\n  guiders._ieVersion = ieBrowserMatch && ieBrowserMatch.length > 1 ? Number(ieBrowserMatch[1]) : -1;\n\n  guiders._addButtons = function(myGuider) {\n    var guiderButtonsContainer = myGuider.elem.find(\".guiders_buttons_container\");\n\n    if (myGuider.buttons === null || myGuider.buttons.length === 0) {\n      guiderButtonsContainer.remove();\n      return;\n    }\n\n    for (var i = myGuider.buttons.length - 1; i >= 0; i--) {\n      var thisButton = myGuider.buttons[i];\n      var thisButtonElem = $(guiders._buttonElement,\n        $.extend({\"class\" : guiders._buttonClassName, \"html\" : thisButton.name }, guiders._buttonAttributes, thisButton.html || {})\n      );\n\n      if (typeof thisButton.classString !== \"undefined\" && thisButton.classString !== null) {\n        thisButtonElem.addClass(thisButton.classString);\n      }\n\n      guiderButtonsContainer.append(thisButtonElem);\n\n      var thisButtonName = thisButton.name.toLowerCase();\n      if (thisButton.onclick) {\n        thisButtonElem.bind(guiders._buttonClickEvent, thisButton.onclick);\n      } else {\n        switch (thisButtonName) {\n          case guiders._closeButtonTitle.toLowerCase():\n            thisButtonElem.bind(guiders._buttonClickEvent, function () {\n              guiders.hideAll();\n              if (myGuider.onClose) {\n                myGuider.onClose(myGuider, false /* close by button */);\n              }\n              $(\"body\").trigger(\"guidersClose\");\n            });\n            break;\n          case guiders._nextButtonTitle.toLowerCase():\n            thisButtonElem.bind(guiders._buttonClickEvent, function () {\n              !myGuider.elem.data(\"locked\") && guiders.next();\n            });\n            break;\n          case guiders._backButtonTitle.toLowerCase():\n            thisButtonElem.bind(guiders._buttonClickEvent, function () {\n              !myGuider.elem.data(\"locked\") && guiders.prev();\n            });\n            break;\n        }\n      }\n    }\n\n    if (myGuider.buttonCustomHTML !== \"\") {\n      var myCustomHTML = $(myGuider.buttonCustomHTML);\n      myGuider.elem.find(\".guiders_buttons_container\").append(myCustomHTML);\n    }\n\n    if (myGuider.buttons.length === 0) {\n      guiderButtonsContainer.remove();\n    }\n  };\n\n  guiders._addXButton = function(myGuider) {\n    var xButtonContainer = myGuider.elem.find(\".guiders_close\");\n    var xButton = $(\"<div></div>\", {\n      \"class\" : \"guiders_x_button\",\n      \"role\" : \"button\"\n    });\n    xButtonContainer.append(xButton);\n    xButton.click(function() {\n      guiders.hideAll();\n      if (myGuider.onClose) {\n        myGuider.onClose(myGuider, true);\n       }\n       $(\"body\").trigger(\"guidersClose\");\n    });\n  };\n\n  guiders._attach = function(myGuider) {\n    if (typeof myGuider !== 'object') {\n      return;\n    }\n\n    var attachTo = $(myGuider.attachTo);\n\n    var myHeight = myGuider.elem.innerHeight();\n    var myWidth = myGuider.elem.innerWidth();\n\n    if (myGuider.position === 0 || attachTo.length === 0) {\n      var fixedOrAbsolute = \"fixed\";\n      if (guiders._isIE && guiders._ieVersion < 9) {\n        fixedOrAbsolute = \"absolute\";\n      }\n      myGuider.elem.css(\"position\", fixedOrAbsolute);\n      myGuider.elem.css(\"top\", ($(window).height() - myHeight) / 3 + \"px\");\n      myGuider.elem.css(\"left\", ($(window).width() - myWidth) / 2 + \"px\");\n      return;\n    }\n\n    // Otherwise, the guider is positioned relative to the attachTo element.\n    var base = attachTo.offset();\n    var top = base.top;\n    var left = base.left;\n\n    // topMarginOfBody corrects positioning if body has a top margin set on it.\n    var topMarginOfBody = $(\"body\").outerHeight(true) - $(\"body\").outerHeight(false);\n    top -= topMarginOfBody;\n\n    // Now, take into account how the guider should be positioned relative to the attachTo element.\n    // e.g. top left, bottom center, etc.\n    if (guiders._offsetNameMapping[myGuider.position]) {\n      // As an alternative to the clock model, you can also use keywords to position the guider.\n      myGuider.position = guiders._offsetNameMapping[myGuider.position];\n    }\n\n    var attachToHeight = attachTo.innerHeight();\n    var attachToWidth = attachTo.innerWidth();\n    var bufferOffset = 0.9 * guiders._arrowSize;\n\n    // offsetMap follows the form: [height, width]\n    var offsetMap = {\n      1: [-bufferOffset - myHeight, attachToWidth - myWidth],\n      2: [0, bufferOffset + attachToWidth],\n      3: [attachToHeight/2 - myHeight/2, bufferOffset + attachToWidth],\n      4: [attachToHeight - myHeight, bufferOffset + attachToWidth],\n      5: [bufferOffset + attachToHeight, attachToWidth - myWidth],\n      6: [bufferOffset + attachToHeight, attachToWidth/2 - myWidth/2],\n      7: [bufferOffset + attachToHeight, 0],\n      8: [attachToHeight - myHeight, -myWidth - bufferOffset],\n      9: [attachToHeight/2 - myHeight/2, -myWidth - bufferOffset],\n      10: [0, -myWidth - bufferOffset],\n      11: [-bufferOffset - myHeight, 0],\n      12: [-bufferOffset - myHeight, attachToWidth/2 - myWidth/2]\n    };\n\n    var offset = offsetMap[myGuider.position];\n    top += offset[0];\n    left += offset[1];\n\n    var positionType = \"absolute\";\n    // If the element you are attaching to is position: fixed, then we will make the guider\n    // position: fixed as well.\n    if (attachTo.css(\"position\") === \"fixed\" && guiders._fixedOrAbsolute === \"fixed\") {\n      positionType = \"fixed\";\n      top -= $(window).scrollTop();\n      left -= $(window).scrollLeft();\n    }\n\n    // If you specify an additional offset parameter when you create the guider, it gets added here.\n    if (myGuider.offset.top !== null) {\n      top += myGuider.offset.top;\n    }\n    if (myGuider.offset.left !== null) {\n      left += myGuider.offset.left;\n    }\n\n    guiders._styleArrow(myGuider);\n\n    // Finally, set the style of the guider and return it!\n    myGuider.elem.css({\n      \"position\": positionType,\n      \"top\": top,\n      \"left\": left\n    });\n\n    return myGuider;\n  };\n\n  guiders._dehighlightElement = function(selector) {\n    $(selector).removeClass('guiders_highlight');\n  };\n\n  guiders._hideOverlay = function() {\n    $(\"#guiders_overlay\").fadeOut(\"fast\");\n  };\n\n  guiders._highlightElement = function(selector) {\n    $(selector).addClass('guiders_highlight');\n  };\n\n  guiders._initializeOverlay = function() {\n    if ($(\"#guiders_overlay\").length === 0) {\n      $(\"<div id='guiders_overlay'></div>\").hide().appendTo(\"body\");\n    }\n  };\n\n  guiders._showOverlay = function(myGuider) {\n    // This callback is needed to fix an IE opacity bug.\n    // See also:\n    // http://www.kevinleary.net/jquery-fadein-fadeout-problems-in-internet-explorer/\n    $(\"#guiders_overlay\").fadeIn(\"fast\", function(){\n      if (this.style.removeAttribute) {\n        this.style.removeAttribute(\"filter\");\n      }\n    });\n    if (guiders._isIE) {\n      $(\"#guiders_overlay\").css(\"position\", \"absolute\");\n    }\n  };\n\n  guiders._styleArrow = function(myGuider) {\n    var position = myGuider.position || 0;\n    if (!position) {\n      return;\n    }\n    var myGuiderArrow = $(myGuider.elem.find(\".guiders_arrow\"));\n    var newClass = {\n      1: \"guiders_arrow_down\",\n      2: \"guiders_arrow_left\",\n      3: \"guiders_arrow_left\",\n      4: \"guiders_arrow_left\",\n      5: \"guiders_arrow_up\",\n      6: \"guiders_arrow_up\",\n      7: \"guiders_arrow_up\",\n      8: \"guiders_arrow_right\",\n      9: \"guiders_arrow_right\",\n      10: \"guiders_arrow_right\",\n      11: \"guiders_arrow_down\",\n      12: \"guiders_arrow_down\"\n    };\n    myGuiderArrow.addClass(newClass[position]);\n\n    var myHeight = myGuider.elem.innerHeight();\n    var myWidth = myGuider.elem.innerWidth();\n    var arrowOffset = guiders._arrowSize / 2;\n    var positionMap = {\n      1: [\"right\", arrowOffset],\n      2: [\"top\", arrowOffset],\n      3: [\"top\", myHeight/2 - arrowOffset],\n      4: [\"bottom\", arrowOffset],\n      5: [\"right\", arrowOffset],\n      6: [\"left\", myWidth/2 - arrowOffset],\n      7: [\"left\", arrowOffset],\n      8: [\"bottom\", arrowOffset],\n      9: [\"top\", myHeight/2 - arrowOffset],\n      10: [\"top\", arrowOffset],\n      11: [\"left\", arrowOffset],\n      12: [\"left\", myWidth/2 - arrowOffset]\n    };\n    var position = positionMap[myGuider.position];\n    myGuiderArrow.css(position[0], position[1] + \"px\");\n  };\n\n  /**\n   * One way to show a guider to new users is to direct new users to a URL such as\n   * http://www.mysite.com/myapp#guider=welcome\n   *\n   * This can also be used to run guiders on multiple pages, by redirecting from\n   * one page to another, with the guider id in the hash tag.\n   *\n   * Alternatively, if you use a session variable or flash messages after sign up,\n   * you can add selectively add JavaScript to the page: \"guiders.show('first');\"\n   */\n  guiders._showIfHashed = function(myGuider) {\n    var GUIDER_HASH_TAG = \"guider=\";\n    var hashIndex = window.location.hash.indexOf(GUIDER_HASH_TAG);\n    if (hashIndex !== -1) {\n      var hashGuiderId = window.location.hash.substr(hashIndex + GUIDER_HASH_TAG.length);\n      if (myGuider.id.toLowerCase() === hashGuiderId.toLowerCase()) {\n        guiders.show(myGuider.id);\n      }\n    }\n  };\n\n  guiders._updatePositionOnResize = function() {\n    // Change the bubble position after browser gets resized\n    var _resizing = undefined;\n    $(window).resize(function() {\n      if (typeof(_resizing) !== \"undefined\") {\n        clearTimeout(_resizing); // Prevents seizures\n      }\n      _resizing = setTimeout(function() {\n        _resizing = undefined;\n        if (typeof (guiders) !== \"undefined\") {\n          guiders.reposition();\n        }\n      }, 20);\n    });\n  };\n  guiders._updatePositionOnResize();\n\n  guiders._unwireEscape = function (myGuider) {\n    $(document).unbind(\"keydown\");\n  };\n\n  guiders._wireEscape = function (myGuider) {\n    $(document).keydown(function(event) {\n      if (event.keyCode == 27 || event.which == 27) {\n        guiders.hideAll();\n        if (myGuider.onClose) {\n          myGuider.onClose(myGuider, true /*close by X/Escape*/);\n        }\n        $(\"body\").trigger(\"guidersClose\");\n        return false;\n      }\n    });\n  };\n\n  guiders.createGuider = function(passedSettings) {\n    if (passedSettings === null || passedSettings === undefined) {\n      passedSettings = {};\n    }\n\n    // Extend those settings with passedSettings\n    var myGuider = $.extend({}, guiders._defaultSettings, passedSettings);\n    myGuider.id = myGuider.id || \"guider_random_\" + String(Math.floor(Math.random() * 1000));\n\n    var guiderElement = $(\"#\" + myGuider.id);\n    if (!guiderElement.length) {\n      // If the guider already exists in the DOM, use that, as an alternate guider instantiation method.\n      // See the docs and $.fn.guider for more details.\n      // Otherwise, use the html skeleton.\n      guiderElement = $(guiders._htmlSkeleton);\n    }\n\n    myGuider.elem = guiderElement;\n    if (typeof myGuider.classString !== \"undefined\" && myGuider.classString !== null) {\n      myGuider.elem.addClass(myGuider.classString);\n    }\n\n    // You may pass a parameter to width/maxwidth as either a string or a number.\n    // If it's a number then it is assumed to be in px.\n    if (Number(myGuider.width) === myGuider.width) {\n      myGuider.width = String(myGuider.width) + \"px\";\n    }\n    if (Number(myGuider.maxWidth) === myGuider.maxWidth) {\n      myGuider.maxWidth = String(myGuider.maxWidth) + \"px\";\n    }\n    myGuider.elem.css(\"width\", myGuider.width);\n    myGuider.elem.css(\"maxWidth\", myGuider.maxWidth);\n\n    var guiderTitleContainer = guiderElement.find(\".guiders_title\");\n    guiderTitleContainer.html(myGuider.title);\n\n    guiderElement.find(\".guiders_description\").html(myGuider.description);\n\n    guiders._addButtons(myGuider);\n\n    if (myGuider.xButton) {\n        guiders._addXButton(myGuider);\n    }\n\n    guiderElement.hide();\n    guiderElement.appendTo(\"body\");\n    guiderElement.attr(\"id\", myGuider.id);\n\n    // Ensure myGuider.attachTo is a jQuery element.\n    if (typeof myGuider.attachTo !== \"undefined\" && myGuider !== null) {\n      guiders._attach(myGuider);\n    }\n\n    guiders._initializeOverlay();\n\n    guiders._guiders[myGuider.id] = myGuider;\n    if (guiders._lastCreatedGuiderID != null) {\n      myGuider.prev = guiders._lastCreatedGuiderID;\n    }\n    guiders._lastCreatedGuiderID = myGuider.id;\n\n    /**\n     * If the URL of the current window is of the form\n     * http://www.myurl.com/mypage.html#guider=id\n     * then show this guider.\n     */\n    if (myGuider.isHashable) {\n      guiders._showIfHashed(myGuider);\n    }\n\n    return guiders;\n  };\n\n  guiders.get = function(id) {\n    if (typeof guiders._guiders[id] === \"undefined\") {\n      return null;\n    }\n    return guiders._guiders[id] || null;\n  };\n\n  guiders.getCurrentGuider = function() {\n    return guiders._guiders[guiders._currentGuiderID] || null;\n  };\n\n  guiders.hideAll = function(omitHidingOverlay, next) {\n    next = next || false;\n\n    $(\".guider:visible\").each(function(index, elem){\n      var myGuider = guiders.get($(elem).attr('id'));\n      if (myGuider.onHide) {\n        myGuider.onHide(myGuider, next);\n      }\n    });\n    $(\".guider\").fadeOut(\"fast\");\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    if (currentGuider && currentGuider.highlight) {\n       guiders._dehighlightElement(currentGuider.highlight);\n    }\n    if (typeof omitHidingOverlay !== \"undefined\" && omitHidingOverlay === true) {\n      // do nothing for now\n    } else {\n      guiders._hideOverlay();\n    }\n    return guiders;\n  };\n\n  guiders.next = function() {\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    if (typeof currentGuider === \"undefined\") {\n      return null;\n    }\n    currentGuider.elem.data(\"locked\", true);\n\n    var nextGuiderId = currentGuider.next || null;\n    if (nextGuiderId !== null && nextGuiderId !== \"\") {\n      var nextGuider = guiders.get(nextGuiderId);\n      var omitHidingOverlay = nextGuider.overlay ? true : false;\n      guiders.hideAll(omitHidingOverlay, true);\n      if (currentGuider && currentGuider.highlight) {\n        guiders._dehighlightElement(currentGuider.highlight);\n      }\n\n      if (nextGuider.shouldSkip && nextGuider.shouldSkip()) {\n        guiders._currentGuiderID = nextGuider.id;\n        guiders.next();\n        return guiders.getCurrentGuider();\n      }\n      else {\n        guiders.show(nextGuiderId);\n        return guiders.getCurrentGuider();\n      }\n    }\n  };\n\n  guiders.prev = function () {\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    if (typeof currentGuider === \"undefined\") {\n      // not what we think it is\n      return null;\n    }\n    if (currentGuider.prev === null) {\n      // no previous to look at\n      return null;\n    }\n\n    var prevGuider = guiders._guiders[currentGuider.prev];\n    prevGuider.elem.data(\"locked\", true);\n\n    // Note we use prevGuider.id as \"prevGuider\" is _already_ looking at the previous guider\n    var prevGuiderId = prevGuider.id || null;\n    if (prevGuiderId !== null && prevGuiderId !== \"\") {\n      var myGuider = guiders.get(prevGuiderId);\n      var omitHidingOverlay = myGuider.overlay ? true : false;\n      guiders.hideAll(omitHidingOverlay, true);\n      if (prevGuider && prevGuider.highlight) {\n        guiders._dehighlightElement(prevGuider.highlight);\n      }\n      guiders.show(prevGuiderId);\n      return myGuider;\n    }\n  };\n\n  guiders.reposition = function() {\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    guiders._attach(currentGuider);\n  };\n\n  guiders.scrollToCurrent = function() {\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    if (typeof currentGuider === \"undefined\") {\n      return;\n    }\n\n    var windowHeight = guiders._windowHeight;\n    var scrollHeight = $(window).scrollTop();\n    var guiderOffset = currentGuider.elem.offset();\n    var guiderElemHeight = currentGuider.elem.height();\n\n    // Scroll to the guider's position.\n    var scrollToHeight = Math.round(Math.max(guiderOffset.top + (guiderElemHeight / 2) - (windowHeight / 2), 0));\n    window.scrollTo(0, scrollToHeight);\n  };\n\n  guiders.show = function(id) {\n    if (!id && guiders._lastCreatedGuiderID) {\n      id = guiders._lastCreatedGuiderID;\n    }\n\n    var myGuider = guiders.get(id);\n    if (myGuider.overlay) {\n      guiders._showOverlay(myGuider);\n      // if guider is attached to an element, make sure it's visible\n      if (myGuider.highlight && myGuider.attachTo) {\n        guiders._highlightElement(myGuider.attachTo);\n      }\n    }\n\n    if (myGuider.closeOnEscape) {\n      guiders._wireEscape(myGuider);\n    } else {\n      guiders._unwireEscape(myGuider);\n    }\n\n    // You can use an onShow function to take some action before the guider is shown.\n    if (myGuider.onShow) {\n      myGuider.onShow(myGuider);\n    }\n    guiders._attach(myGuider);\n    myGuider.elem.fadeIn(\"fast\").data(\"locked\", false);\n\n    guiders._currentGuiderID = id;\n\n    var windowHeight = guiders._windowHeight = $(window).height();\n    var scrollHeight = $(window).scrollTop();\n    var guiderOffset = myGuider.elem.offset();\n    var guiderElemHeight = myGuider.elem.height();\n\n    var isGuiderBelow = (scrollHeight + windowHeight < guiderOffset.top + guiderElemHeight); /* we will need to scroll down */\n    var isGuiderAbove = (guiderOffset.top < scrollHeight); /* we will need to scroll up */\n\n    if (myGuider.autoFocus && (isGuiderBelow || isGuiderAbove)) {\n      // Sometimes the browser won't scroll if the person just clicked,\n      // so let's do this in a setTimeout.\n      setTimeout(guiders.scrollToCurrent, 10);\n    }\n\n    $(myGuider.elem).trigger(\"guiders.show\");\n\n    return guiders;\n  };\n})();\n","/* @flow */\n\nimport { Storage } from '../../environment';\nimport { getModuleId } from '../module';\nimport type { OpaqueModuleId } from '../module';\n\n// Don't batch in Firefox, as that may make the storage very slow on init\nexport const storage = Storage.wrapPrefix('RESoptions.', (): { [string]: any } => ({}), undefined, process.env.BUILD_TARGET !== 'firefox');\n\nexport const loadRaw = (moduleId: string) => storage.get(moduleId);\n\nexport async function get(opaqueId: OpaqueModuleId, optionKey: string) {\n\tconst options = await storage.get(getModuleId(opaqueId));\n\treturn options && options[optionKey];\n}\n\nexport async function getValue(opaqueId: OpaqueModuleId, optionKey: string) {\n\tconst option = await get(getModuleId(opaqueId), optionKey);\n\treturn option && option.value;\n}\n\nexport function set(opaqueId: OpaqueModuleId, optionKey: string, value: mixed) {\n\tif ((/_[\\d]+$/).test(optionKey)) {\n\t\toptionKey = optionKey.replace(/_[\\d]+$/, '');\n\t}\n\n\treturn storage.patch(getModuleId(opaqueId), { [optionKey]: { value } });\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport * as Modules from '../modules';\nimport { filterMap } from '../../utils';\n\nfunction getModified() {\n\treturn filterMap(Modules.all(), module => {\n\t\tconst { moduleID, options } = module;\n\n\t\tconst enabledByDefault = !module.disabledByDefault;\n\t\tconst isEnabled = Modules.isEnabled(module);\n\t\tconst moduleStatusChanged = enabledByDefault !== isEnabled;\n\n\t\tconst modifiedOptions = isEnabled ? _.omitBy(options, v => _.isEqual(v.value, v.default)) : {};\n\n\t\tif (!_.isEmpty(modifiedOptions) || moduleStatusChanged) {\n\t\t\treturn [{\n\t\t\t\tmoduleID,\n\t\t\t\tmodifiedOptions,\n\t\t\t\tmoduleStatus: moduleStatusChanged ? `${enabledByDefault ? 'on' : 'off'}  ${isEnabled ? 'on' : 'off'}` : '',\n\t\t\t}];\n\t\t}\n\t});\n}\n\nexport function getModifiedText(types: Array<*> = ['text', 'boolean', 'enum']) {\n\tconst lines = [];\n\tlet optionMaxLength = 0;\n\tlet moduleMaxLength = 0;\n\n\tfor (const { moduleID, modifiedOptions, moduleStatus } of getModified()) {\n\t\tmoduleMaxLength = Math.max(moduleMaxLength, moduleID.length);\n\t\toptionMaxLength = Math.max(optionMaxLength, ...Object.keys(modifiedOptions).map(v => v.length));\n\n\t\tlines.push(() =>\n\t\t\t[\n\t\t\t\t`    ${moduleID.padEnd(moduleMaxLength)} ${moduleStatus}`,\n\t\t\t\t...Object.entries(modifiedOptions)\n\t\t\t\t\t.filter(([, { type }]) => types.includes(type))\n\t\t\t\t\t.map(([key, value]) => (\n\t\t\t\t\t\t`      ${key.padEnd(optionMaxLength)}\\t${JSON.stringify(value.default)}  ${JSON.stringify(value.value)}`\n\t\t\t\t\t)),\n\t\t\t],\n\t\t);\n\t}\n\n\treturn _.flatten(lines.map(v => v())).join('\\n');\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport * as Modules from '../modules';\nimport { save } from './options';\n\nlet stagedOptions;\n\nclearStagedOptions();\n\nexport { stageOption as add };\nfunction stageOption(moduleID: string, optionName: string, optionValue: mixed) {\n\tconst mod = Modules.get(moduleID);\n\n\tstagedOptions[moduleID] = stagedOptions[moduleID] || {};\n\n\tif (!_.isEqual(mod.options[optionName].value, optionValue)) {\n\t\t// new option value, add to stage\n\t\tstagedOptions[moduleID][optionName] = {\n\t\t\tvalue: optionValue,\n\t\t};\n\t} else {\n\t\t// staged value is the same as stored, remove option from stage\n\t\tdelete stagedOptions[moduleID][optionName];\n\t}\n\n\tif (_.isEmpty(stagedOptions[moduleID])) {\n\t\t// no staged options for module, remove module from stage\n\t\tdelete stagedOptions[moduleID];\n\t}\n}\n\nexport { commitStagedOptions as commit };\nfunction commitStagedOptions() {\n\tfor (const [modId, options] of Object.entries(stagedOptions)) {\n\t\tconst module = Modules.get(modId);\n\n\t\tfor (const [optionName, option] of Object.entries(options)) {\n\t\t\tconst _option = module.options[optionName];\n\t\t\t_option.value = option.value;\n\t\t\tsave(_option);\n\t\t}\n\n\t\tmodule.onSaveSettings(options);\n\t}\n\n\tclearStagedOptions();\n}\n\nexport { clearStagedOptions as reset };\nfunction clearStagedOptions() {\n\tstagedOptions = {};\n}\n\nexport { hasStagedOptions as isDirty };\nfunction hasStagedOptions() {\n\treturn !_.isEmpty(stagedOptions);\n}\n\nexport { getStagedOptions as get };\nfunction getStagedOptions(moduleID: string) {\n\treturn stagedOptions[moduleID];\n}\n","/* @flow */\n\nimport * as Modules from '../modules';\nimport { firstValid } from '../../utils';\nimport type { OpaqueModuleId } from '../module';\nimport { set } from './storage';\n\nexport function getMatchingValueOrAdd(\n\topaqueId: OpaqueModuleId,\n\toptionKey: string,\n\tvalueIdentifier: *,\n\t_default?: *,\n) {\n\tconst module = Modules.get(opaqueId);\n\n\tconst option = module.options[optionKey];\n\tif (option.type !== 'table') {\n\t\tthrow new Error(`Tried to save table value to non-table option: modules.${module.moduleID}.options.${optionKey}`);\n\t}\n\n\tlet row = option.value.find(value =>\n\t\toption.fields.every((field, i) => !valueIdentifier.hasOwnProperty(field.key) || value[i] === valueIdentifier[field.key]),\n\t);\n\n\tif (!row) {\n\t\tconst value = { ...valueIdentifier, ..._default };\n\t\trow = option.fields.map(field => firstValid(value[field.key], field.value));\n\t\toption.value.push(row);\n\t\tset(module, optionKey, option.value);\n\t}\n\n\treturn option.fields.reduce((acc, field, i) => {\n\t\tObject.defineProperty(acc, field.key, {\n\t\t\tenumerable: true,\n\t\t\tget: () => row[i],\n\t\t\tset: v => {\n\t\t\t\trow[i] = v;\n\t\t\t\tset(module, optionKey, option.value);\n\t\t\t},\n\t\t});\n\t\treturn acc;\n\t}, {});\n}\n","/* @flow */\n\nexport {\n\tsave,\n} from './options';\n\nexport {\n\tloadRaw,\n\tget,\n\tgetValue,\n\tset,\n\tstorage,\n} from './storage';\n\nexport {\n\tgetModifiedText,\n} from './modified';\n\nexport * as stage from './stage';\n\nexport * as table from './table';\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport { NAMED_KEYS, getViewportSize, frameThrottle, waitForEvent, waitForDetach } from '../utils';\n\nexport const module: Module<*> = new Module('hover');\n\nmodule.moduleName = 'hoverName';\nmodule.category = 'coreCategory';\nmodule.description = 'hoverDesc';\nmodule.alwaysEnabled = true;\n\nmodule.options = {\n\tinstances: {\n\t\tdescription: 'hoverInstancesDesc',\n\t\ttitle: 'hoverInstancesTitle',\n\t\ttype: 'table',\n\t\tvalue: ([]: Array<[string, boolean]>),\n\t\tfields: [{\n\t\t\tkey: 'id',\n\t\t\tname: 'hoverInstancesName',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'enabled',\n\t\t\tname: 'hoverInstancesEnabled',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: true,\n\t\t}],\n\t},\n\topenDelay: {\n\t\ttype: 'text',\n\t\tvalue: '500',\n\t\tdescription: 'hoverOpenDelayDesc',\n\t\ttitle: 'hoverOpenDelayTitle',\n\t},\n\tfadeDelay: {\n\t\ttype: 'text',\n\t\tvalue: '500',\n\t\tdescription: 'hoverFadeDelayDesc',\n\t\ttitle: 'hoverFadeDelayTitle',\n\t},\n\tfadeSpeed: {\n\t\tnoconfig: true, // broken\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'hoverFadeSpeedDesc',\n\t\ttitle: 'hoverFadeSpeedTitle',\n\t},\n\twidth: {\n\t\ttype: 'text',\n\t\tvalue: '512',\n\t\tdescription: 'hoverWidthDesc',\n\t\ttitle: 'hoverWidthTitle',\n\t},\n\tcloseOnMouseOut: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'hoverCloseOnMouseOutDesc',\n\t\ttitle: 'hoverCloseOnMouseOutTitle',\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tHover._defaultOptions = {\n\t\topenDelay: parseFloat(module.options.openDelay.value),\n\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\twidth: parseFloat(module.options.width.value),\n\t\tcloseOnMouseOut: module.options.closeOnMouseOut.value,\n\t\tenabled: true,\n\t};\n};\n\nconst instances: { [string]: Hover } = {};\nconst getInstance = (TypeClass, id) => instances[id] || (instances[id] = new TypeClass(id));\n\nexport const infocard = (name: string) => getInstance(HoverInfoCard, name);\nexport const dropdownList = (name: string) => getInstance(HoverDropdownList, name);\n\nfunction getFixedParent(e: Element): ?Element {\n\tconst p = e.parentElement;\n\treturn p && (window.getComputedStyle(p).position === 'fixed' && e || getFixedParent(p));\n}\n\nexport const pin = {\n\tbottom: 'bottom',\n\tright: 'right',\n};\n\ntype HoverContents = JQuery | HTMLElement | DocumentFragment | string | null;\ntype HoverCallback = (self: Hover) => Promise<HoverContents[]> | HoverContents[];\n\nclass Hover {\n\tstatic _defaultOptions = {};\n\n\ttemplate: string = `\n\t\t<div class=\"RESHover\">\n\t\t\t<div data-hover-element=\"0\" />\n\t\t\t<div data-hover-element=\"1\" />\n\t\t\t<div data-hover-element=\"2\" />\n\t\t\t<div data-hover-element=\"3\" />\n\t\t</div>\n\t`;\n\n\t_options: { [string]: any } = Hover._defaultOptions;\n\tinstanceID: string;\n\n\tvisible: boolean = false;\n\t_hideTimer: TimeoutID | null = null;\n\t_showTimer: TimeoutID | null = null;\n\t_closeFadeTimer: TimeoutID | null = null;\n\t_target: HTMLElement | void;\n\t_callback: HoverCallback | void;\n\t_container: HTMLElement | void;\n\n\t_fixedPosition: boolean = false;\n\n\t_closePromise: Promise<*>;\n\t_closePromiseResolve: () => void;\n\n\tconstructor(id: string) {\n\t\tthis.instanceID = id;\n\t}\n\n\toptions(options: { [string]: mixed }, persistent: boolean = true) {\n\t\tconst persistentOptions = persistent ?\n\t\t\tOptions.table.getMatchingValueOrAdd(module, 'instances', { id: this.instanceID }, { enabled: true }) : undefined;\n\n\t\tthis._options = {\n\t\t\t...this._options,\n\t\t\t...options,\n\t\t\t...persistentOptions,\n\t\t};\n\n\t\treturn this;\n\t}\n\n\ttarget(element: HTMLElement) {\n\t\tif (this._target && this._target !== element) {\n\t\t\tthis.close();\n\t\t}\n\n\t\tthis._target = element;\n\n\t\treturn this;\n\t}\n\n\tgetCheckedTarget(): HTMLElement {\n\t\tif (!this._target || !this._target.offsetParent) {\n\t\t\tthis.close();\n\t\t\tthrow new Error('Cannot show hover without target; closing hover.');\n\t\t}\n\t\treturn this._target;\n\t}\n\n\tpopulateWith(callback: HoverCallback) {\n\t\tthis._callback = callback;\n\n\t\treturn this;\n\t}\n\n\tgetContainer() {\n\t\tconst container = this._container = this._container || this._render();\n\n\t\tif (!document.body.contains(container)) {\n\t\t\tdocument.body.append(container);\n\t\t}\n\n\t\treturn container;\n\t}\n\n\t_render() {\n\t\tconst ele = $(this.template).get(0);\n\t\tthis._addContainerHandlers(ele);\n\t\tif (this._options.className) ele.classList.add(this._options.className);\n\t\treturn ele;\n\t}\n\n\t_checkMouseLeave = frameThrottle(({ target }: MouseEvent) => {\n\t\tif (\n\t\t\tthis.visible &&\n\t\t\tthis._options.closeOnMouseOut &&\n\t\t\t!this.getCheckedTarget().contains(target) &&\n\t\t\t// Also check that the mouse is not in a \"child\" hover (e.g. by opening the user tagger via userInfo)\n\t\t\t!Object.values(instances).some(instance => instance._container && instance._container.contains(target))\n\t\t) this._startHideTimer();\n\t});\n\n\t_addContainerHandlers(ele: HTMLElement) {\n\t\t$(ele)\n\t\t\t.on('mouseenter', () => {\n\t\t\t\tthis._cancelHideTimer();\n\t\t\t\tthis._clearCloseFade();\n\t\t\t})\n\t\t\t.on('mouseleave', this._checkMouseLeave)\n\t\t\t.on('click', '.RESCloseButton', () => this.close())\n\t\t\t.on('keyup', (e: KeyboardEvent) => {\n\t\t\t\tif (e.key === NAMED_KEYS.Escape) this.close();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\t}\n\n\tbegin() {\n\t\tif (!this._options.enabled) return false;\n\n\t\tif (this._options.openDelay) {\n\t\t\tthis._startShowTimer();\n\t\t} else {\n\t\t\tthis.open();\n\t\t}\n\t}\n\n\twatch(selector: string) {\n\t\t$(document.body).on('mouseenter', selector, ({ currentTarget }: MouseEvent) => {\n\t\t\tthis.target(currentTarget).begin();\n\t\t});\n\t}\n\n\topen() {\n\t\tif (!this._options.enabled) return false;\n\n\t\tthis._cancelShowTimer();\n\t\tthis._cancelHideTimer();\n\t\tthis._clearCloseFade();\n\n\t\tconst callback = this._callback;\n\t\tif (!callback) throw new Error();\n\n\t\tif (this._closePromiseResolve) this._closePromiseResolve();\n\t\tthis._closePromise = new Promise(res => { this._closePromiseResolve = res; });\n\n\t\tthis._displayLoadIndicator();\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tthis.populate(await callback(this));\n\t\t\t} catch (e) {\n\t\t\t\tthis.close();\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t})();\n\n\t\t// The element may be removed without the hover being closed first\n\t\twaitForDetach(this.getCheckedTarget(), this._closePromise).then(() => { this.close(); })\n\t\t\t.catch(() => { /* avoid \"uncaught promise rejection\" */ });\n\n\t\tif (this._options.closeOnMouseOut) {\n\t\t\t// `mouseleave` may not be triggered, so add additonal checks\n\t\t\tdocument.body.addEventListener('mousemove', this._checkMouseLeave);\n\t\t\tdocument.body.addEventListener('mouseover', this._checkMouseLeave);\n\t\t}\n\n\t\tthis.visible = true;\n\t}\n\n\t_displayLoadIndicator() {}\n\n\tasync refresh() {\n\t\tconst callback = this._callback;\n\t\tif (callback) this.populate(await callback(this));\n\t}\n\n\tpopulate(items: HoverContents[]) {\n\t\tif (!this._options.enabled) return false;\n\n\t\tconst container = this.getContainer();\n\n\t\titems.forEach((item, i) => {\n\t\t\tif (!item) return;\n\t\t\tconst $element = $(container).find(`[data-hover-element=\"${i}\"]`);\n\t\t\t$element.children().detach(); // allow re-use of elements with jQuery event handlers\n\t\t\t$element.empty().append((item: any)); // The JQuery Flow declaration doesn't allow for `DocumentFragment`\n\t\t});\n\n\t\tconst fixedParent = getFixedParent(this.getCheckedTarget());\n\t\tif (fixedParent) {\n\t\t\tthis._fixedPosition = true;\n\n\t\t\t// If the fixed parent scrolls (e.g. if it has a scrollbar, like in lightboxes), then the container loses\n\t\t\t// position sync with the target.\n\t\t\t// I am not able to figure out a way to keep them together without requiring CSS recalc on each `scroll`\n\t\t\tconst onScroll = () => {\n\t\t\t\tthis.close(false);\n\t\t\t\tfixedParent.removeEventListener('scroll', onScroll, true);\n\t\t\t};\n\t\t\tfixedParent.addEventListener('scroll', onScroll, true);\n\t\t}\n\n\t\tthis._updatePosition();\n\t}\n\n\t_positionContainer({ top = 'auto', right = 'auto', bottom = 'auto', left = 'auto' }: { top?: *, right?: *, bottom?: *, left?: * }) {\n\t\t$(this.getContainer()).css({\n\t\t\tposition: this._fixedPosition ? 'fixed' : 'absolute',\n\t\t\ttop: top !== 'auto' ? top + (this._fixedPosition ? 0 : window.scrollY) : 'auto',\n\t\t\tright: right !== 'auto' ? right + (this._fixedPosition ? 0 : window.scrollX) : 'auto',\n\t\t\tbottom: bottom !== 'auto' ? bottom + (this._fixedPosition ? 0 : window.scrollY) : 'auto',\n\t\t\tleft: left !== 'auto' ? left + (this._fixedPosition ? 0 : window.scrollX) : 'auto',\n\t\t});\n\t}\n\n\t_updatePosition() {\n\t\tconst target = this.getCheckedTarget();\n\t\tconst { top, left } = target.getBoundingClientRect();\n\t\tthis._positionContainer({ top, left });\n\t}\n\n\t// Ensure a stable `this` for timer starters / cancellers, so that they can be referenced when adding / remove event listeners\n\n\t_startShowTimer = () => {\n\t\tif (this._showTimer) return;\n\t\tthis._cancelHideTimer();\n\t\twaitForEvent(this.getCheckedTarget(), 'mouseleave').then(this._cancelShowTimer);\n\t\tthis._showTimer = setTimeout(() => this.open(), this._options.openDelay);\n\t};\n\n\t_cancelShowTimer = () => {\n\t\tif (!this._showTimer) return;\n\t\tclearTimeout(this._showTimer);\n\t\tthis._showTimer = null;\n\t};\n\n\tresetShowTimer() {\n\t\tif (this._showTimer) {\n\t\t\tthis._cancelShowTimer();\n\t\t\tthis._startShowTimer();\n\t\t}\n\t}\n\n\t_startHideTimer = () => {\n\t\tif (this._hideTimer || this._closeFadeTimer) return;\n\t\tthis._cancelShowTimer();\n\t\tthis._hideTimer = setTimeout(() => this.close(true), this._options.fadeDelay);\n\t};\n\n\t_cancelHideTimer = () => {\n\t\tif (!this._hideTimer) return;\n\t\tclearTimeout(this._hideTimer);\n\t\tthis._hideTimer = null;\n\t};\n\n\t_startCloseFade() {\n\t\tif (this._closeFadeTimer) return;\n\t\tthis._closeFadeTimer = setTimeout(() => { this.remove(); }, this._options.fadeSpeed * 1000);\n\t\tthis.getContainer().style.transitionDuration = `${this._options.fadeSpeed}s`;\n\t\tthis.getContainer().classList.add('transitionToTransparent');\n\t}\n\n\t_clearCloseFade() {\n\t\tif (!this._closeFadeTimer) return;\n\t\tclearTimeout(this._closeFadeTimer);\n\t\tthis.getContainer().style.transitionDuration = '';\n\t\tthis.getContainer().classList.remove('transitionToTransparent');\n\t\tthis._closeFadeTimer = null;\n\t}\n\n\tclose(fade: boolean = false) {\n\t\tif (!this._options.enabled) return false;\n\n\t\tthis._cancelShowTimer();\n\t\tthis._cancelHideTimer();\n\n\t\tif (fade) this._startCloseFade();\n\t\telse this.remove();\n\t}\n\n\tremove() {\n\t\tthis._clearCloseFade();\n\t\tthis.getContainer().remove();\n\t\tif (this._closePromiseResolve) this._closePromiseResolve();\n\t\tthis.visible = false;\n\n\t\tif (this._options.closeOnMouseOut) {\n\t\t\tdocument.body.removeEventListener('mousemove', this._checkMouseLeave);\n\t\t\tdocument.body.removeEventListener('mouseover', this._checkMouseLeave);\n\t\t}\n\t}\n}\n\nclass HoverInfoCard extends Hover {\n\ttemplate = `\n\t\t<div class=\"RESHover RESHoverInfoCard RESDialogSmall\">\n\t\t\t<h3 class=\"RESHoverTitle\" data-hover-element=\"0\"></h3>\n\t\t\t<div class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t\t<div class=\"RESHoverBody RESDialogContents\" data-hover-element=\"1\"></div>\n\t\t</div>\n\t`;\n\n\t_loadIndicator = '<div class=\"RESCenteredLoadIndicator\"><span class=\"RESLoadingSpinner\"></span></div>';\n\n\t_displayLoadIndicator() {\n\t\tthis.populate(['', this._loadIndicator]);\n\t}\n\n\t_updatePosition() {\n\t\tconst target = this.getCheckedTarget();\n\t\tconst { top, left, bottom, right } = target.getBoundingClientRect();\n\t\tconst $container = $(this.getContainer()).removeClass('right below');\n\n\t\tconst tooltipWidth = this._options.width;\n\t\tlet tooltipLeft, tooltipTop;\n\n\t\tif (!this._options.pin && right + tooltipWidth + 25 < getViewportSize().width) {\n\t\t\ttooltipTop = top - 14;\n\t\t\ttooltipLeft = right + 25;\n\t\t} else if (this._options.pin === pin.bottom || left - tooltipWidth - 30 < 0) {\n\t\t\t$container.addClass('below');\n\t\t\ttooltipTop = bottom + 10;\n\t\t\ttooltipLeft = Math.min(Math.max(getViewportSize().width - tooltipWidth, 0), left);\n\t\t} else {\n\t\t\t$container.addClass('right');\n\t\t\ttooltipTop = top - 14;\n\t\t\ttooltipLeft = left - tooltipWidth - 30;\n\t\t}\n\n\t\t$container.get(0).style.width = `${tooltipWidth}px`;\n\t\tthis._positionContainer({ left: tooltipLeft, top: tooltipTop });\n\t}\n}\n\nclass HoverDropdownList extends Hover {\n\ttemplate = `\n\t\t<div class=\"RESHover RESHoverDropdownList RESDropdownList\">\n\t\t\t<ul class=\"RESDropdownOptions\" data-hover-element=\"0\"></ul>\n\t\t</div>\n\t`;\n\n\t_options = {\n\t\t...Hover._defaultOptions,\n\t\tpin: pin.bottom,\n\t\toffsetWidth: 0,\n\t\toffsetHeight: 2,\n\t\tbottomPadding: 10,\n\t};\n\n\t_updatePosition() {\n\t\tconst target = this.getCheckedTarget();\n\t\tconst { top, left, height, width } = target.getBoundingClientRect();\n\t\tconst $container = $(this.getContainer());\n\n\t\tswitch (this._options.pin) {\n\t\t\tcase pin.right:\n\t\t\t\tconst bottomAlign = top + $container.height() + this._options.bottomPadding > getViewportSize().height;\n\t\t\t\tif (bottomAlign) {\n\t\t\t\t\tthis._positionContainer({ left: left + width, bottom: this._options.bottomPadding });\n\t\t\t\t} else {\n\t\t\t\t\tthis._positionContainer({ left: left + width, top: top + this._options.offsetHeight });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase pin.bottom:\n\t\t\t\t// falls through\n\t\t\tdefault:\n\t\t\t\tconst leftAlign = left + $container.outerWidth() < getViewportSize().width;\n\t\t\t\tif (leftAlign) {\n\t\t\t\t\tthis._positionContainer({ left, top: top + height + this._options.offsetHeight });\n\t\t\t\t} else {\n\t\t\t\t\tthis._positionContainer({ right: getViewportSize().width - left - width + this._options.offsetWidth, top: top + height + this._options.offsetHeight });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { sanitize } from 'dompurify';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tAlert,\n\tNAMED_KEYS,\n\tcurrentMultireddit,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tdowncast,\n\tempty,\n\tloggedInUser,\n\tstring,\n} from '../utils';\nimport { Storage, XhrCache, ajax, openNewTab } from '../environment';\nimport * as Menu from './menu';\n\nexport const module: Module<*> = new Module('commandLine');\n\nmodule.moduleName = 'commandLineName';\nmodule.description = 'commandLineDesc';\nmodule.category = 'coreCategory';\nmodule.options = {\n\tlaunch: {\n\t\ttitle: 'commandLineLaunchTitle',\n\t\ttype: 'button',\n\t\ttext: 'Launch',\n\t\tdescription: 'commandLineLaunchDesc',\n\t\tcallback() { open(); },\n\t},\n\tmenuItem: {\n\t\ttitle: 'commandLineMenuItemTitle',\n\t\ttype: 'boolean',\n\t\tdescription: 'commandLineMenuItemDesc',\n\t\tvalue: false,\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.menuItem.value) {\n\t\taddMenuItem();\n\t}\n};\n\nfunction addMenuItem() {\n\tMenu.addMenuItem(\n\t\t() => string.html`<div>command line <span class=\"RESMenuItemButton res-icon\">\\uF060</span></div>`,\n\t\t() => open(),\n\t);\n}\n\nconst commandLine = _.once(() => {\n\tconst widget = string.html`\n\t\t<div id=\"keyCommandLineWidget\" hidden>\n\t\t\t<div id=\"keyCommandForm\">\n\t\t\t\t<input id=\"keyCommandInput\" type=\"text\" autocomplete=\"off\">\n\t\t\t\ttype a command, ? for help, esc to close\n\t\t\t\t<div id=\"keyCommandInputTip\"></div>\n\t\t\t\t<div id=\"keyCommandInputError\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`;\n\n\tdocument.body.append(widget);\n\n\tconst input = downcast(widget.querySelector('#keyCommandInput'), HTMLInputElement);\n\n\tconst tip = widget.querySelector('#keyCommandInputTip');\n\tconst error = widget.querySelector('#keyCommandInputError');\n\n\tconst setTip = str => { tip.innerHTML = sanitize(str); };\n\tconst clearTip = () => empty(tip);\n\tconst setError = str => { error.innerHTML = sanitize(str); };\n\tconst clearError = () => empty(error);\n\n\tinput.addEventListener('blur', () => {\n\t\tif (!input.value.length) {\n\t\t\tclose();\n\t\t} else {\n\t\t\tsetError('click into the text input and press escape to close the command line');\n\t\t}\n\t});\n\n\tdocument.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (!widget.hidden && e.key === NAMED_KEYS.Escape) {\n\t\t\tclose();\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\t});\n\n\tinput.addEventListener('input', async () => {\n\t\tclearTip();\n\t\tclearError();\n\t\tconst tip = await getTip(parse(input.value));\n\t\tif (tip) setTip(tip);\n\t});\n\n\tconst commandLineForm = widget.querySelector('#keyCommandForm');\n\tcommandLineForm.addEventListener('keydown', async (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Enter) {\n\t\t\tconst error = await executeCommand(parse(input.value), e);\n\t\t\tif (error) {\n\t\t\t\tsetError(error);\n\t\t\t} else if (error !== false) {\n\t\t\t\tclose();\n\t\t\t}\n\t\t}\n\t});\n\n\treturn { widget, input };\n});\n\nexport function open(initialCmd: string = '') {\n\tcommandLine().widget.hidden = false;\n\tcommandLine().input.focus();\n\tcommandLine().input.value = initialCmd;\n\tcommandLine().input.dispatchEvent(new Event('input'));\n}\n\nfunction close() {\n\tcommandLine().input.blur();\n\tcommandLine().widget.hidden = true;\n}\n\nexport function toggle() {\n\tif (commandLine().widget.hidden) open();\n\telse close();\n}\n\nfunction navigateTo(url, e) {\n\tif (e.shiftKey) {\n\t\t// background tab if e.altKey\n\t\topenNewTab(url, !e.altKey);\n\t} else {\n\t\tlocation.href = url;\n\t}\n}\n\nconst commands = [];\n\nexport function registerCommand<T>(\n\tcommandPredicate: RegExp | string | (cmd: string, val: string) => false | void | null | T,\n\tdescription: string | string[] | false,\n\tgetTip: (cmd: string, val: string, predResult: T) => string | false | void | null | Promise<string>,\n\texecuteCommand: (cmd: string, val: string, predResult: T, e: KeyboardEvent) => string | false | void | null | Promise<string | void>,\n) {\n\tcommands.push({\n\t\tcommandPredicate,\n\t\tdescription,\n\t\tgetTip,\n\t\texecuteCommand,\n\t});\n}\n\nfunction getCommandSpec(command, val) {\n\tlet result;\n\tcommands.some(commandSpec => {\n\t\tlet predicateResult;\n\t\tif (typeof commandSpec.commandPredicate.exec === 'function') {\n\t\t\tpredicateResult = commandSpec.commandPredicate.exec(command);\n\t\t} else if (typeof commandSpec.commandPredicate === 'string') {\n\t\t\tpredicateResult = commandSpec.commandPredicate === command;\n\t\t} else if (typeof commandSpec.commandPredicate === 'function') {\n\t\t\tpredicateResult = commandSpec.commandPredicate(command, val);\n\t\t}\n\t\tif (predicateResult) {\n\t\t\tresult = {\n\t\t\t\t...commandSpec,\n\t\t\t\tpredicateResult,\n\t\t\t};\n\t\t\treturn true;\n\t\t}\n\t});\n\treturn result;\n}\n\nfunction parse(input) {\n\tconst splitWords = input.split(' ');\n\tconst command = splitWords[0];\n\tconst value = splitWords.slice(1).join(' ');\n\treturn { command, value };\n}\n\nfunction getTip({ command, value }) {\n\tconst matchingCommandSpec = getCommandSpec(command, value);\n\tif (matchingCommandSpec) {\n\t\treturn matchingCommandSpec.getTip(command, value, matchingCommandSpec.predicateResult) ||\n\t\t\tmatchingCommandSpec.description;\n\t}\n}\n\nfunction executeCommand({ command, value }, event) {\n\t// see what kind of input it is:\n\tconst matchingCommandSpec = getCommandSpec(command, value);\n\tif (matchingCommandSpec) {\n\t\treturn matchingCommandSpec.executeCommand(command, value, matchingCommandSpec.predicateResult, event);\n\t} else {\n\t\treturn 'unknown command - type ? for help';\n\t}\n}\n\nregisterCommand(/^\\/?r\\/(.*)/, 'r/[subreddit] - navigates to subreddit',\n\t(command, val, match) => `navigate to subreddit: ${match[1]}`,\n\t(command, val, match, e) => {\n\t\tnavigateTo(`/r/${match[1]}`, e);\n\t},\n);\n\nregisterCommand(/^\\/?m\\/(.*)/, 'm/[multi] - view your multi-reddit [multi]',\n\t(command, val, match) => `navigate to multi-reddit: /me/m/${match[1]}`,\n\t(command, val, match, e) => {\n\t\tnavigateTo(`/me/m/${match[1]}`, e);\n\t},\n);\n\nregisterCommand('m', 'm - go to inbox',\n\t() => 'View messages',\n\t(command, value, match, e) => {\n\t\tnavigateTo('/message/inbox/', e);\n\t},\n);\n\nregisterCommand('mm', 'mm - go to moderator mail',\n\t() => 'View moderator mail',\n\t(command, value, match, e) => {\n\t\tnavigateTo('/message/moderator/', e);\n\t},\n);\n\nregisterCommand('front', 'front - go to frontpage',\n\t() => 'Go to frontpage',\n\t(command, value, match, e) => {\n\t\tnavigateTo('/', e);\n\t},\n);\n\nregisterCommand(/^XHR/, 'XHRCache clear - manipulate the XHR cache',\n\t() => 'clear - clear the cache (use if inline images aren\\'t loading properly)',\n\t(command, value) => {\n\t\tif ((/^\\s*$/).test(value)) {\n\t\t\treturn 'Operation required [clear]';\n\t\t}\n\n\t\tswitch (value) {\n\t\t\tcase 'clear':\n\t\t\t\tXhrCache.clear();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn 'The only accepted operation is <tt>clear</tt>';\n\t\t}\n\t},\n);\n\n\nregisterCommand(/^user$|^u$|^\\/?u(?:ser)?\\/(\\w*((?!\\/m\\/).)*)$/, 'user [username] or u/[username] - view profile for [username]',\n\t(command, val, match) => {\n\t\tval = val || match[1];\n\t\tif (!val && loggedInUser()) {\n\t\t\treturn 'go to profile';\n\t\t} else if (!val) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn `go to profile for: ${val}`;\n\t\t}\n\t},\n\t(command, val, match, e) => {\n\t\tval = val || match[1] || loggedInUser();\n\t\tif (!val) {\n\t\t\treturn 'not logged in';\n\t\t}\n\t\tnavigateTo(`/u/${val}`, e);\n\t},\n);\n\nregisterCommand(/^\\/?u(?:ser)?\\/(\\w+)\\/m(?:\\/(.+))?/, 'u/[username]/m/[multi] - view the multireddit [multi] curated by [username]',\n\t(command, val, match) => `navigate to multi-reddit: /u/${match[1]}/m/${match[2] || ''}`,\n\t(command, val, match, e) => {\n\t\tif (!match[1]) {\n\t\t\treturn 'no multi-reddit specified';\n\t\t}\n\t\tnavigateTo(`/u/${match[1]}/m/${match[2]}`, e);\n\t},\n);\n\nregisterCommand(/^\\/?me(?:\\/?(.*))$/,\n\t[\n\t\t'me - view profile for current user',\n\t\t'me/saved or me/s - view current user\\'s saved links',\n\t\t'me/saved#comments or me/sc - view current user\\'s saved comments',\n\t\t'me/submitted or me/sub - view current user\\'s submitted content',\n\t\t'me/comments or me/c - view current user\\'s comments',\n\t\t'me/gilded or me/g - view current user\\'s gilded content',\n\t\t'me/liked or me/l - view current user\\'s liked content ',\n\t\t'me/disliked or me/d - view current user\\'s disliked content',\n\t\t'me/hidden or me/h - view current user\\'s hidden content',\n\t],\n\t(command, val, match) => {\n\t\tconst loggedIn = loggedInUser();\n\t\tif (!loggedIn) {\n\t\t\treturn 'not logged in';\n\t\t}\n\t\tlet str;\n\t\tswitch (match[1]) {\n\t\t\tcase '':\n\t\t\t\t// go to current user's page\n\t\t\t\tstr = `navigate to user profile: ${loggedIn}`;\n\t\t\t\tbreak;\n\t\t\tcase 'saved':\n\t\t\tcase 's':\n\t\t\t\t// go to current user's saved content\n\t\t\t\tstr = 'navigate to current user\\'s saved content';\n\t\t\t\tbreak;\n\t\t\tcase 'saved#comments':\n\t\t\tcase 'sc':\n\t\t\t\t// go to current RES's saved comments\n\t\t\t\tstr = 'navigate to current RES\\'s saved comments';\n\t\t\t\tbreak;\n\t\t\tcase 'submitted':\n\t\t\tcase 'sub':\n\t\t\t\t// go to current user's submitted content\n\t\t\t\tstr = 'navigate to current user\\'s submitted content';\n\t\t\t\tbreak;\n\t\t\tcase 'comments':\n\t\t\tcase 'c':\n\t\t\t\t// go to current user's comments page\n\t\t\t\tstr = 'navigate to current user\\'s comments';\n\t\t\t\tbreak;\n\t\t\tcase 'gilded':\n\t\t\tcase 'g':\n\t\t\t\t// go to current user's gilded content\n\t\t\t\tstr = 'navigate to current user\\'s gilded content';\n\t\t\t\tbreak;\n\t\t\tcase 'liked':\n\t\t\tcase 'l':\n\t\t\t\t// go to current user's liked content\n\t\t\t\tstr = 'navigate to current user\\'s liked content';\n\t\t\t\tbreak;\n\t\t\tcase 'disliked':\n\t\t\tcase 'd':\n\t\t\t\t// go to current user's disliked content\n\t\t\t\tstr = 'navigate to current user\\'s disliked content';\n\t\t\t\tbreak;\n\t\t\tcase 'hidden':\n\t\t\tcase 'h':\n\t\t\t\t// go to current user's hidden content\n\t\t\t\tstr = 'navigate to current user\\'s hidden content';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tstr = 'navigate to [s]aved, [s]aved[c]omments, [sub]mitted, [c]omments, [g]ilded, [l]iked, [d]isliked, [h]idden';\n\t\t\t\tbreak;\n\t\t}\n\t\treturn str;\n\t},\n\t(command, val, match, e) => {\n\t\tconst currentUser = loggedInUser();\n\t\tif (!currentUser) {\n\t\t\treturn 'not logged in';\n\t\t}\n\t\tswitch (match[1]) {\n\t\t\tcase '':\n\t\t\t\t// go to current user's page\n\t\t\t\tnavigateTo(`/user/${currentUser}`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'saved':\n\t\t\tcase 's':\n\t\t\t\t// go to current user's saved content\n\t\t\t\tnavigateTo(`/user/${currentUser}/saved`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'saved#comments':\n\t\t\tcase 'sc':\n\t\t\t\t// go to current user's saved comments\n\t\t\t\tnavigateTo(`/user/${currentUser}/saved#comments`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'submitted':\n\t\t\tcase 'sub':\n\t\t\t\t// go to current user's submitted content\n\t\t\t\tnavigateTo(`/user/${currentUser}/submitted`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'comments':\n\t\t\tcase 'c':\n\t\t\t\t// go to current user's comments page\n\t\t\t\tnavigateTo(`/user/${currentUser}/comments`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'gilded':\n\t\t\tcase 'g':\n\t\t\t\t// go to current user's gilded content\n\t\t\t\tnavigateTo(`/user/${currentUser}/gilded`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'liked':\n\t\t\tcase 'l':\n\t\t\t\t// go to current user's liked content\n\t\t\t\tnavigateTo(`/user/${currentUser}/liked`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'disliked':\n\t\t\tcase 'd':\n\t\t\t\t// go to current user's disliked content\n\t\t\t\tnavigateTo(`/user/${currentUser}/disliked`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'hidden':\n\t\t\tcase 'h':\n\t\t\t\t// go to current user's hidden content\n\t\t\t\tnavigateTo(`/user/${currentUser}/hidden`, e);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn 'unknown command - type ? for help';\n\t\t}\n\t},\n);\n\nregisterCommand('userinfo', false,\n\t() => {},\n\t(command, val) => {\n\t\t// view JSON data for username (username is required)\n\t\tif (val.length <= 1) {\n\t\t\treturn 'No username specified.';\n\t\t} else {\n\t\t\tajax({ url: string.encode`/user/${val}/about.json` }).then(Alert.open);\n\t\t}\n\t},\n);\n\nregisterCommand('userbadge', false,\n\t() => {},\n\t(command, val) => {\n\t\t// get CSS code for a badge for username (username is required)\n\t\tif (val.length <= 1) {\n\t\t\treturn 'No username specified.';\n\t\t} else {\n\t\t\tajax({\n\t\t\t\turl: string.encode`/user/${val}/about.json`,\n\t\t\t\ttype: 'json',\n\t\t\t}).then(({ data }) => Alert.open(`, .id-t2_${data.id}::before`));\n\t\t}\n\t},\n);\n\n{\n\tconst optionsRegex = /(?:RES)?opt(?:ion)?s?[\\.\\s]+(.*)/i;\n\tconst moduleDataRegex = /(?:RES)?mod(?:ule)?s?[\\.\\s]+(.*)/i;\n\n\tfunction sanitizeStorageKey(key) {\n\t\tlet match;\n\t\tif ((match = optionsRegex.exec(key))) {\n\t\t\tkey = `RESoptions.${match[1]}`;\n\t\t} else if ((match = moduleDataRegex.exec(key))) {\n\t\t\tkey = `RESmodules.${match[1]}`;\n\t\t}\n\n\t\treturn key;\n\t}\n\n\tfunction executeCommand(command, key, value) {\n\t\tif (command === 'get') {\n\t\t\tStorage.get(key).then(value =>\n\t\t\t\tAlert.open(string.escape`Value of RESStorage[${key}]: <br><br><textarea rows=\"5\" cols=\"50\">${JSON.stringify(value)}</textarea>`),\n\t\t\t);\n\t\t} else if (command === 'update') {\n\t\t\tStorage.get(key).then(value => {\n\t\t\t\tconst element = string.html`<div>Value of RESStorage[${key}]: <br><br><textarea rows=\"5\" cols=\"50\">${JSON.stringify(value)}</textarea></div>`;\n\t\t\t\tAlert.open(element, { cancelable: true })\n\t\t\t\t\t.then(() => Storage.set(key, JSON.parse(downcast(element.querySelector('textarea'), HTMLTextAreaElement).value)));\n\t\t\t});\n\t\t} else if (command === 'remove') {\n\t\t\tStorage.delete(key);\n\t\t\tAlert.open(string.escape`RESStorage[${key}] deleted`);\n\t\t} else if (command === 'set') {\n\t\t\tStorage.set(key, JSON.parse(value));\n\t\t\tAlert.open(string.escape`RESStorage[${key}] set to:<br><br><textarea rows=\"5\" cols=\"50\">${value}</textarea>`);\n\t\t} else {\n\t\t\treturn 'You must specify either \"get [key]\" or \"set [key] [value]\"';\n\t\t}\n\t}\n\n\tregisterCommand(/(?:RES)?stor(?:e|age)?/i, 'RESStorage [get|set|update|remove] [key] [value] - For debug use only, you shouldn\\'t mess with this unless you know what you\\'re doing.',\n\t\t() => {\n\t\t},\n\t\t(command, val) => {\n\t\t\t// get or set RESStorage data\n\t\t\tconst splitWords = val.split(' ');\n\t\t\tif (splitWords.length < 2) {\n\t\t\t\treturn 'You must specify \"get [key]\", \"update [key]\" or \"set [key] [value]\"';\n\t\t\t} else {\n\t\t\t\tconst key = sanitizeStorageKey(splitWords[1]);\n\t\t\t\tconst value = splitWords.slice(2).join(' ');\n\n\t\t\t\treturn executeCommand(splitWords[0], key, value);\n\t\t\t}\n\t\t},\n\t);\n}\n\nconst sortTypes = {\n\tn: 'new',\n\tt: 'top',\n\th: 'hot',\n\tr: 'rising',\n\tc: 'controversial',\n\tg: 'gilded',\n\tp: 'ads',\n};\nconst sortTypeRecognizesPeriod = sortType => sortTypes.t === sortType || sortTypes.c === sortType;\nconst periods = ['hour', 'day', 'week', 'month', 'year', 'all'];\nconst getPeriod = val => val && periods.find(period => period.startsWith(val));\n\nregisterCommand(/^\\/([nthrcgp])?/, '/n, /t, /h, /r, /c, /g, or /p - goes to new, top, hot, rising, controversial, gilded, or promoted sort of current subreddit, multireddit or user page',\n\t(command, val, match) => {\n\t\tconst sortType = sortTypes[match[1]];\n\t\tif (sortType) {\n\t\t\treturn sortTypeRecognizesPeriod(sortType) ?\n\t\t\t\t`sort by ${sortType} [(${periods.map(period => getPeriod(val) === period ? `<b>${period}</b>` : period).join('|')})]` :\n\t\t\t\t`sort by ${sortType}`;\n\t\t} else {\n\t\t\treturn 'sort by ([n]ew, [t]op, [h]ot, [r]ising, [c]ontroversial, [g]ilded, [p]romoted)';\n\t\t}\n\t},\n\t(command, val, match, e) => {\n\t\tconst sortType = sortTypes[match[1]];\n\t\tif (!sortType) {\n\t\t\treturn 'invalid sort command - must be one of [n]ew, [t]op, [h]ot, [r]ising, [c]ontroversial, [g]ilded, [p]romoted';\n\t\t}\n\n\t\tfunction _navigateTo(v) {\n\t\t\tconst url = new URL(v, location.href);\n\n\t\t\tconst period = getPeriod(val);\n\t\t\tif (sortTypeRecognizesPeriod(sortType) && period) {\n\t\t\t\turl.searchParams.append('t', period);\n\t\t\t}\n\n\t\t\tnavigateTo(url.href, e);\n\t\t}\n\n\t\tconst currentUser = currentUserProfile();\n\t\tif (currentUser) {\n\t\t\t// Special-case for user pages since they behave a little differently\n\t\t\t// than subreddits/multireddits.\n\t\t\tif (sortType === 'gilded') {\n\t\t\t\t_navigateTo(`/user/${currentUser}/${sortType}`);\n\t\t\t} else if (sortType === 'ads' || sortType === 'rising') {\n\t\t\t\treturn `invalid sort command - \"${sortType}\" is not supported on profile pages`;\n\t\t\t} else {\n\t\t\t\t_navigateTo(`/user/${currentUser}?sort=${sortType}`);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tconst subreddit = currentSubreddit();\n\t\tif (subreddit) {\n\t\t\t_navigateTo(`/r/${subreddit}/${sortType}`);\n\t\t\treturn;\n\t\t}\n\n\t\tconst multi = currentMultireddit();\n\t\tif (multi) {\n\t\t\t_navigateTo(`/${multi}/${sortType}`);\n\t\t} else {\n\t\t\t_navigateTo(`/${sortType}`);\n\t\t}\n\t},\n);\n\nregisterCommand(cmd => ['s', 'search'].includes(cmd), 's[earch] [query] - searches the current subreddit (if any) or all of Reddit',\n\t(command, val) => {\n\t\tconst subreddit = currentSubreddit();\n\t\tif (!subreddit) {\n\t\t\treturn `Search all of Reddit: ${val}`;\n\t\t}\n\t\treturn `Search /r/${subreddit}: ${val}`;\n\t},\n\t(command, val, match, e) => {\n\t\tconst subreddit = currentSubreddit();\n\t\tif (!subreddit) {\n\t\t\tnavigateTo(string.encode`/search?q=${val}`, e);\n\t\t\treturn;\n\t\t}\n\t\tnavigateTo(string.encode`/r/${subreddit}/search?q=${val}&restrict_sr=on`, e);\n\t},\n);\n\nregisterCommand('sr', 'sr [query] - searches all of Reddit',\n\t(command, val) => `Search all of Reddit: ${val}`,\n\t(command, val, match, e) => {\n\t\tnavigateTo(string.encode`/search?q=${val}`, e);\n\t},\n);\n\nregisterCommand('?', false,\n\t() => {\n\t\tconst descriptions = commands\n\t\t\t.map(command => command.description)\n\t\t\t.reduce((a, b) => b ? a.concat(b) : a, []);\n\n\t\tif (descriptions.length) {\n\t\t\treturn `<ul><li>${descriptions.join('</li><li>')}</li></ul>`;\n\t\t}\n\t},\n\t() => false,\n);\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport { i18n } from '../environment';\nimport { addFloater, string } from '../utils';\nimport * as Hover from './hover';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as CommandLine from './commandLine';\n\nexport const module: Module<*> = new Module('RESMenu');\n\nmodule.moduleName = 'menuName';\nmodule.category = 'coreCategory';\nmodule.description = 'The <span class=\"gearIcon\"></span> dropdown menu to manage RES settings and quick options';\nmodule.descriptionRaw = true;\nmodule.alwaysEnabled = true;\nmodule.options = {\n\tgearIconClickAction: {\n\t\ttitle: 'menuGearIconClickActionTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'menuGearIconClickActionOpenSettings',\n\t\t\tvalue: 'openSettings',\n\t\t}, {\n\t\t\tname: 'menuGearIconClickActionOpenCommandLine',\n\t\t\tvalue: 'openCommandLine',\n\t\t}, {\n\t\t\tname: 'menuGearIconClickActionToggleMenu',\n\t\t\tvalue: 'toggleMenu',\n\t\t}, {\n\t\t\tname: 'menuGearIconClickActionToggleMenuNoHover',\n\t\t\tvalue: 'toggleMenuNoHover',\n\t\t}],\n\t\tvalue: 'toggleMenuNoHover',\n\t\tdescription: 'menuGearIconClickActionDesc',\n\t\tbodyClass: true,\n\t\tadvanced: true,\n\t},\n};\n\nconst items = [];\nlet gear;\n\nmodule.contentStart = () => {\n\tgear = string.html`<span id=\"RESSettingsButton\" style=\"cursor: pointer\" title=\"${i18n('RESSettings')}\" class=\"gearIcon\"></span>`;\n\n\tif (module.options.gearIconClickAction.value !== 'toggleMenuNoHover') {\n\t\tgear.addEventListener('mouseenter', () => { showDropdown(200); });\n\t}\n\n\tgear.addEventListener('click', () => {\n\t\tif (module.options.gearIconClickAction.value === 'openCommandLine' && Modules.isRunning(CommandLine)) {\n\t\t\tCommandLine.toggle();\n\t\t\thideDropdown();\n\t\t} else if (module.options.gearIconClickAction.value === 'openSettings') {\n\t\t\tSettingsNavigation.open();\n\t\t\thideDropdown();\n\t\t} else {\n\t\t\tshowDropdown(0);\n\t\t}\n\t});\n\n\taddFloater(gear, { order: 5, container: 'inNavbar' });\n};\n\nmodule.afterLoad = () => {\n\trequestAnimationFrame(addLegacyStyling);\n};\n\nfunction showDropdown(openDelay: number) {\n\tHover.dropdownList(module.moduleID)\n\t\t.options({\n\t\t\topenDelay,\n\t\t\tfadeDelay: 200,\n\t\t\tfadeSpeed: 0.2,\n\t\t}, false)\n\t\t.populateWith(() => {\n\t\t\tconst f = document.createDocumentFragment();\n\t\t\tf.append(...items.sort(({ order: a }, { order: b }) => a - b).map(buildItem));\n\t\t\treturn [f];\n\t\t})\n\t\t.target(gear) // workaround subreddit stylings where the container ends up super tall\n\t\t.begin();\n}\n\nfunction hideDropdown() {\n\tHover.dropdownList(module.moduleID).close(true);\n}\n\nexport function addMenuItem(getElement: () => HTMLElement, onClick: (e: Event) => void = () => {}, order: number = 0) {\n\titems.push({ getElement, onClick, order });\n}\n\nfunction buildItem({ getElement, onClick }) {\n\tconst li = document.createElement('li');\n\tli.addEventListener('click', onClick, true);\n\t// Dropdown will be closed on click unless event propagation is stopped\n\tli.addEventListener('click', hideDropdown);\n\tli.append(getElement());\n\treturn li;\n}\n\nfunction addLegacyStyling() {\n\tconst { backgroundImage } = window.getComputedStyle(gear);\n\tif (backgroundImage && backgroundImage !== 'none') {\n\t\tgear.classList.add('res-gearIcon-legacy');\n\t}\n}\n","/* @flow */\n\nimport { RES_SETTINGS_HASH } from '../constants/urlHashes';\nimport { context, isOptionsPage, getOptionsURL, i18n, openNewTab } from '../environment';\nimport { string } from '../utils';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Menu from '../modules/menu';\nimport * as CommandLine from '../modules/commandLine';\n\nexport const module: Module<*> = new Module('settingsNavigation');\n\nmodule.moduleName = 'settingsNavName';\nmodule.category = 'coreCategory';\nmodule.description = 'settingsNavDesc';\nmodule.hidden = true;\nmodule.alwaysEnabled = true;\nmodule.options = {\n\tshowAllOptions: {\n\t\ttitle: 'settingsNavigationShowAllOptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'settingsNavigationShowAllOptionsDesc',\n\t\tnoconfig: true,\n\t},\n\tshowAllOptionsAlert: {\n\t\ttitle: 'settingsNavigationShowAllOptionsAlertTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'settingsNavigationShowAllOptionsAlertDesc',\n\t\tnoconfig: true,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tMenu.addMenuItem(\n\t\t() => string.html`<div id=\"SettingsConsole\">\n\t\t\t${i18n('RESSettingsConsole')}\n\t\t\t<span module=\"search\" class=\"RESMenuItemButton res-icon\" title=\"search settings\">\\uF094</span>\n\t\t</div>`,\n\t\te => open(e.target.getAttribute('module')),\n\t\t-10,\n\t);\n\n\tCommandLine.registerCommand(/^set(?:t?ings?)?$/, 'settings [words to search for]- search RES settings console',\n\t\t(command, val) => `Search RES settings ${val && val.length ? ` for: ${val}` : ''}`,\n\t\t(command, val) => open('search', val),\n\t);\n};\n\nmodule.contentStart = () => {\n\tfunction findModules(val) {\n\t\treturn Modules.all()\n\t\t\t.filter(v => !v.hidden)\n\t\t\t.map(v => v.moduleID)\n\t\t\t.filter(id => id.toLowerCase().match(val.toLowerCase()))\n\t\t\t.sort();\n\t}\n\n\tCommandLine.registerCommand(/^mod(?:ule?)?$/, 'module [name of module] - open module settings',\n\t\t(command, val) => {\n\t\t\tconst matches = findModules(val);\n\t\t\treturn matches.length ? `Open module ${matches[0]}` : 'Could not find any matching module.';\n\t\t},\n\t\t(command, val) => open(findModules(val)[0]),\n\t);\n\n\twindow.addEventListener('popstate', () => { update(); });\n\tupdate();\n\n\t// Open settings links (regardless of hostname)\n\tdocument.body.addEventListener('click', (e: MouseEvent) => {\n\t\tif (e.ctrlKey) return; // Except when intentionally opened in a new tab\n\t\tconst url = e.target instanceof HTMLAnchorElement && new URL(e.target.href, location.origin);\n\t\tif (url && isSettingsUrl(url.href)) {\n\t\t\tupdate(url);\n\t\t\te.stopImmediatePropagation();\n\t\t\te.preventDefault();\n\t\t}\n\t}, true);\n};\n\nexport function makeUrlHashLink(moduleID: string, optionKey?: string, displayText?: string, cssClass?: string): string {\n\tconst mod = Modules.getUnchecked(moduleID);\n\tif (!displayText) {\n\t\tif (mod && optionKey) {\n\t\t\tdisplayText = i18n(mod.options[optionKey].title);\n\t\t} else if (mod) {\n\t\t\tdisplayText = i18n(mod.moduleName);\n\t\t} else {\n\t\t\tdisplayText = 'Settings';\n\t\t}\n\t}\n\n\tlet title = ['RES Settings'];\n\tif (mod) {\n\t\ttitle.push(i18n(mod.moduleName));\n\t}\n\tif (optionKey) {\n\t\ttitle.push(optionKey);\n\t}\n\ttitle = title.join(' &gt; ');\n\n\tconst hash = makeUrlHash(moduleID, optionKey);\n\treturn `<a class=\"${cssClass || ''}\" href=\"${hash}\" title=\"${title}\">${displayText}</a>`;\n}\n\nexport function parseHash(hash: string) {\n\tconst params = hash.match(/\\/(?:\\w|\\s|%20)+/g);\n\treturn {\n\t\tmoduleID: params && params[0] && params[0].substring(1).replace('%20', ' ') || undefined,\n\t\toptionKey: params && params[1] && params[1].substring(1).replace('%20', ' ') || undefined,\n\t};\n}\n\nexport function makeUrlHash(moduleID?: string, optionKey?: string): string {\n\tconst hashComponents = [RES_SETTINGS_HASH];\n\n\tif (moduleID) {\n\t\thashComponents.push(moduleID);\n\t}\n\n\tif (moduleID && optionKey) {\n\t\thashComponents.push(optionKey);\n\t}\n\n\treturn hashComponents.join('/');\n}\n\nexport function isSettingsUrl(href: string): boolean {\n\tconst { origin, hash } = new URL(href, location.origin);\n\n\tconst sameSite = origin === getOptionsURL().origin ||\n\t\torigin.split('.').slice(-2).join('.') === context.origin.split('.').slice(-2).join('.');\n\tif (!sameSite) return false;\n\n\treturn hash.startsWith(RES_SETTINGS_HASH) ||\n\t\thash.startsWith('#!settings'); /* legacy */\n}\n\nexport function setHash(hash: string) {\n\tif (window.top === window) {\n\t\tif (parseHash(location.hash).moduleID === parseHash(hash).moduleID) {\n\t\t\thistory.replaceState(null, '', hash);\n\t\t} else {\n\t\t\thistory.pushState(null, '', hash);\n\t\t}\n\t} else {\n\t\twindow.parent.postMessage({ hash }, '*');\n\t}\n}\n\nlet iframe;\n\nexport function update(url: { href: string, hash: string } = location) {\n\tif (isSettingsUrl(url.href)) {\n\t\tconst { moduleID, optionKey } = parseHash(url.hash);\n\t\topen(moduleID, optionKey);\n\t} else if (iframe) {\n\t\tiframe.contentWindow.postMessage({ close: true }, '*');\n\t}\n}\n\nfunction listener({ origin, data }: MessageEvent) {\n\tif (origin !== getOptionsURL().origin) return;\n\tconst { failedToLoad, hash, closing } = (data: any);\n\tif (failedToLoad) handleEmbedFailure();\n\tif (hash) setHash(hash);\n\tif (closing) close();\n}\n\nfunction handleEmbedFailure() {\n\tconsole.warn('Embed failed. Opening RES settings console in new tab');\n\tif (iframe) openNewTab(iframe.src, true);\n\tclose();\n}\n\nexport function open(moduleID?: string, optionKey?: string) {\n\tif (iframe || isOptionsPage()) {\n\t\t(iframe && iframe.contentWindow || window).postMessage({ load: { moduleID, optionKey } }, '*');\n\t} else {\n\t\tiframe = document.createElement('iframe');\n\t\tiframe.id = 'console-container';\n\t\tiframe.src = getOptionsURL(makeUrlHash(moduleID, optionKey)).href;\n\n\t\twindow.addEventListener('message', listener);\n\t\tiframe.addEventListener('load', () => {\n\t\t\tif (iframe) iframe.contentWindow.postMessage({ context }, '*');\n\n\t\t\t// If the console doesn't progress fast enough (like due to an embedding issue), use fallback\n\t\t\tlet success;\n\t\t\twindow.addEventListener('message', ({ origin, data }: MessageEvent) => {\n\t\t\t\tif (origin === getOptionsURL().origin && (data: any).loadSuccess) success = true;\n\t\t\t});\n\t\t\tsetTimeout(() => { if (!success) handleEmbedFailure(); }, 3000);\n\t\t});\n\n\t\tdocument.body.append(iframe);\n\t\tdocument.body.classList.add('res-console-open');\n\t}\n}\n\nexport function close() {\n\tif (isOptionsPage()) {\n\t\twindow.parent.postMessage({ closing: true }, '*');\n\t\twindow.close();\n\t} else {\n\t\twindow.removeEventListener('message', listener);\n\t\tif (!iframe) return;\n\t\tiframe.remove();\n\t\tiframe = null;\n\t\tdocument.body.classList.remove('res-console-open');\n\t\tif (isSettingsUrl(location.href)) history.pushState(null, '', location.pathname + location.search);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport { Storage, i18n } from '../environment';\nimport { firstValid, hashCode, string, waitForEvent } from '../utils';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('notifications');\n\nmodule.moduleName = 'notificationsName';\nmodule.category = 'coreCategory';\nmodule.description = 'notificationsDesc';\nmodule.options = {\n\tsticky: {\n\t\tdescription: 'notificationStickyDesc',\n\t\ttitle: 'notificationStickyTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'notificationType',\n\t\tvalues: [{\n\t\t\tname: 'notificationsPerNotificationType',\n\t\t\tvalue: 'notificationType',\n\t\t}, {\n\t\t\tname: 'notificationsAlwaysSticky',\n\t\t\tvalue: 'all',\n\t\t}, {\n\t\t\tname: 'notificationsNeverSticky',\n\t\t\tvalue: 'none',\n\t\t}],\n\t},\n\tcloseDelay: {\n\t\ttype: 'text',\n\t\tvalue: '3000',\n\t\tdescription: 'notificationCloseDelayDesc',\n\t\ttitle: 'notificationCloseDelayTitle',\n\t},\n\tfadeOutLength: {\n\t\ttype: 'text',\n\t\tvalue: '3000',\n\t\tdescription: 'notificationFadeOutLengthDesc',\n\t\ttitle: 'notificationFadeOutLengthTitle',\n\t\tadvanced: true,\n\t},\n\tnotificationTypes: {\n\t\tdescription: 'notificationNotificationTypesDesc',\n\t\ttitle: 'notificationNotificationTypesTitle',\n\t\ttype: 'table',\n\t\tadvanced: true,\n\t\taddRowText: 'notificationsAddNotificationType',\n\t\tfields: [{\n\t\t\tkey: 'id',\n\t\t\tname: 'notificationsNotificationID',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'enabled',\n\t\t\tname: 'notificationsEnabled',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: true,\n\t\t}, {\n\t\t\tkey: 'sticky',\n\t\t\tname: 'notificationsSticky',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: false,\n\t\t}],\n\t\tvalue: ([]: Array<[string, boolean, boolean]>),\n\t},\n};\n\nconst notificationsContainer = string.html`<div id=\"RESNotifications\"></div>`;\nconst lastShownStorage = Storage.wrapBlob('notifications.lastShown', (): number => 0);\n\nmodule.go = () => {\n\tdocument.body.append(notificationsContainer);\n};\n\nconst activeNotifications = new Set();\n\ntype NotificationOptions = {|\n\tmessage: string | HTMLElement,\n\tcooldown?: number,\n\theader?: string,\n\tcloseDelay?: number,\n\tnotificationID?: string,\n\tmoduleID?: string,\n\toptionKey?: string,\n\tnoDisable?: boolean,\n|};\n\nexport function showNotification(opts: string | NotificationOptions, _delay?: number): { element: HTMLElement, close(): void } {\n\tconst data: NotificationOptions = typeof opts === 'string' ? { message: opts } : opts;\n\tconst id = `${String(firstValid(data.moduleID, '--'))}-${String(firstValid(data.notificationID, data.optionKey, data.header, hashCode(data.message instanceof HTMLElement ? data.message.outerHTML : data.message)))}`;\n\tconst mod = data.moduleID && Modules.getUnchecked(data.moduleID);\n\n\tconst element = string.html`\n\t\t<div class=\"RESNotification\" data-id=\"${id}\">\n\t\t\t<div class=\"RESNotificationHeader\">\n\t\t\t\t<h3>${data.header || (mod ? i18n(mod.moduleName) : '') || ''}</h3>\n\t\t\t\t${mod && !mod.hidden ?\tstring.safe(SettingsNavigation.makeUrlHashLink(mod.moduleID, data.optionKey, ' ', 'gearIcon')) : ''}\n\t\t\t\t<div class=\"RESCloseButton\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"RESNotificationContent\"></div>\n\t\t\t<div class=\"RESNotificationFooter\" ${data.noDisable ? 'hidden' : ''}>\n\t\t\t\t<label class=\"RESNotificationToggle\" title=\"Show notifications from ${id}\">\n\t\t\t\t\t<input type=\"checkbox\" checked> Always show this type of notification\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\t`;\n\n\t$(element.querySelector('.RESNotificationContent')).append(data.message);\n\n\tconst inner = element.innerHTML;\n\tconst existing = [...activeNotifications.values()].find(({ element }) => element.innerHTML === inner);\n\tif (existing) {\n\t\texisting.element.dispatchEvent(new CustomEvent('notification-reset'));\n\t\treturn existing;\n\t}\n\n\tconst close = _.once(() => {\n\t\tactiveNotifications.delete(notification);\n\t\telement.remove();\n\t});\n\n\tconst notification = { element, close };\n\tactiveNotifications.add(notification);\n\n\tconst storage = Options.table.getMatchingValueOrAdd(module, 'notificationTypes', { id }, data);\n\n\telement.querySelector('.RESNotificationToggle input').addEventListener('change', (e: any) => {\n\t\tstorage.enabled = e.currentTarget.checked;\n\t});\n\n\telement.querySelector('.RESCloseButton').addEventListener('click', () => { close(); });\n\n\tconst isSticky = module.options.sticky.value === 'all' ||\n\t\t(module.options.sticky.value === 'notificationType' && storage.sticky);\n\tconst delay = +firstValid(_delay, data.closeDelay, parseInt(module.options.closeDelay.value, 10), (module.options.closeDelay: any).default);\n\tconst fadeDuration = +firstValid(parseInt(module.options.fadeOutLength.value, 10), (module.options.fadeOutLength: any).default);\n\n\tasync function resetCloseTimer() {\n\t\tawait new Promise(requestAnimationFrame); // Only start timer when frame becomes visible\n\t\tif (element.matches(':hover')) await waitForEvent(element, 'mouseleave');\n\n\t\tlet fadeTimer;\n\t\tconst hideTimer = setTimeout(() => {\n\t\t\telement.classList.add('transitionToTransparent');\n\t\t\telement.style.transitionDuration = `${fadeDuration / 1000}s`;\n\t\t\tfadeTimer = setTimeout(() => close(), fadeDuration);\n\t\t}, delay);\n\n\t\tawait waitForEvent(element, 'mouseenter', 'notification-reset');\n\n\t\telement.classList.remove('transitionToTransparent');\n\n\t\tif (fadeTimer) clearTimeout(fadeTimer);\n\t\tif (hideTimer) clearTimeout(hideTimer);\n\n\t\tresetCloseTimer();\n\t}\n\n\t(async () => {\n\t\tif (!storage.enabled || !Modules.isRunning(module)) return;\n\n\t\tif (data.cooldown) {\n\t\t\tif (data.cooldown > Date.now() - await lastShownStorage.get(id)) return;\n\t\t\tlastShownStorage.set(id, Date.now());\n\t\t}\n\n\t\trequestAnimationFrame(() => {\n\t\t\tif (window.getComputedStyle(element).maxHeight === 'initial') return;\n\t\t\telement.style.maxHeight = '100vh';\n\t\t});\n\n\t\tnotificationsContainer.prepend(element);\n\n\t\tif (!isSticky && delay !== Infinity) resetCloseTimer();\n\t})();\n\n\treturn notification;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport * as Options from '../core/options';\nimport * as Modules from '../core/modules';\nimport { Module } from '../core/module';\nimport { i18n } from '../environment';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('penaltyBox');\nexport const MIN_PENALTY = 1;\nexport const MAX_PENALTY = 100;\n\nmodule.moduleName = 'penaltyBoxName';\nmodule.category = 'coreCategory';\nmodule.description = 'penaltyBoxDesc';\nmodule.options = {\n\tdelayFeatures: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'penaltyBoxDelayFeaturesDesc',\n\t\ttitle: 'penaltyBoxDelayFeaturesTitle',\n\t},\n\tsuspendFeatures: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'penaltyBoxSuspendFeaturesDesc',\n\t\ttitle: 'penaltyBoxSuspendFeaturesTitle',\n\t},\n\tfeatures: {\n\t\tdescription: 'penaltyBoxFeaturesDesc',\n\t\ttitle: 'penaltyBoxFeaturesTitle',\n\t\ttype: 'table',\n\t\tadvanced: true,\n\t\taddRowText: 'penaltyBoxFeaturesAddRowText',\n\t\tfields: [\n\t\t\t{\n\t\t\t\tkey: 'moduleID',\n\t\t\t\tname: 'moduleID',\n\t\t\t\ttype: 'text',\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'optionKey',\n\t\t\t\tname: 'optionKey',\n\t\t\t\ttype: 'text',\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'monitoring',\n\t\t\t\tname: 'penaltyBoxFeaturesMonitoring',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tvalue: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'penalty',\n\t\t\t\tname: 'penaltyBoxFeaturesPenalty',\n\t\t\t\ttype: 'text',\n\t\t\t\tvalue: '0',\n\t\t\t},\n\t\t],\n\t\tvalue: ([]: Array<[string, string, boolean, string]>),\n\t},\n};\n\nexport function alterFeaturePenalty(moduleID: string, optionKey: string, valueDelta: number): number {\n\tif (isNaN(parseInt(valueDelta, 10))) {\n\t\tconsole.warn('Could not alter penalty for', moduleID, optionKey, ' - bad value:', valueDelta);\n\t\treturn MIN_PENALTY;\n\t}\n\tif (!Modules.isEnabled(module)) {\n\t\treturn MIN_PENALTY;\n\t}\n\n\tconst value = getOrAddFeatures(moduleID, optionKey);\n\tif (!value.monitoring) return MIN_PENALTY;\n\n\tvalue.penalty = _.clamp(value.penalty + valueDelta, MIN_PENALTY, MAX_PENALTY);\n\tOptions.save(module.options.features);\n\n\tif (value.penalty >= MAX_PENALTY) {\n\t\tsuspendFeature(moduleID, optionKey);\n\t}\n\n\treturn value.penalty;\n}\n\nfunction stopMonitoringFeature(moduleID, optionKey) {\n\tconst value = getOrAddFeatures(moduleID, optionKey);\n\tvalue.monitoring = false;\n\tvalue.penalty = MIN_PENALTY;\n\tOptions.save(module.options.features);\n}\n\nexport function getFeaturePenalty(moduleID: string, optionKey: string): number {\n\tif (!Modules.isEnabled(module)) {\n\t\treturn MIN_PENALTY;\n\t}\n\tif (!module.options.delayFeatures.value) {\n\t\treturn MIN_PENALTY;\n\t}\n\n\tconst value = getOrAddFeatures(moduleID, optionKey);\n\tif (!value.monitoring) {\n\t\treturn MIN_PENALTY;\n\t}\n\n\tif (!value.penalty || MIN_PENALTY >= value.penalty) {\n\t\treturn MIN_PENALTY;\n\t}\n\n\treturn value.penalty;\n}\n\ntype DelayOption = {\n\tvalue: number | string,\n\tdefault?: number | string,\n\tpenalizedValue?: number,\n};\n\nexport function penalizedDelay(moduleID: string, optionKey: string, delayOption: DelayOption): number {\n\tconst penalty = getFeaturePenalty(moduleID, optionKey);\n\tif (!penalty || penalty === MIN_PENALTY) {\n\t\treturn parseInt(delayOption.value, 10);\n\t}\n\n\tconst max = parseInt(delayOption.penalizedValue || delayOption.value, 10) * 6;\n\tconst initial = parseInt(delayOption.default, 10);\n\tconst position = penalty / 100;\n\n\treturn Math.min(max, (max - initial) * position + initial);\n}\n\nconst getOrAddFeatures = (moduleID, optionKey): {|\n\tmoduleID: string,\n\toptionKey: string,\n\tmonitoring: boolean,\n\tpenalty: number,\n|} => Options.table.getMatchingValueOrAdd(module, 'features', { moduleID, optionKey }, { penalty: 0 });\n\nfunction suspendFeature(moduleID, optionKey) {\n\tconst featureModule = Modules.get(moduleID);\n\tconst option = featureModule.options[optionKey];\n\tif (!option) {\n\t\tconsole.warn('Could not find option', moduleID, optionKey);\n\t\treturn;\n\t}\n\n\tif (option.type !== 'boolean') {\n\t\tconsole.warn(`${module.moduleID} could not disable option`, moduleID, optionKey);\n\t\treturn;\n\t}\n\tconst oldValue = option.value;\n\tconst newValue = !option.value;\n\n\tOptions.set(moduleID, optionKey, newValue);\n\tstopMonitoringFeature(moduleID, optionKey);\n\n\tconst featureOptionLink = SettingsNavigation.makeUrlHashLink(moduleID, optionKey);\n\tconst notification = Notifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'suspendFeatures',\n\t\theader: i18n('penaltyBoxSuspendFeaturesNotificationHeader'),\n\t\tmessage: `\n\t\t\t${i18n('penaltyBoxSuspendFeaturesNotificationMessage', featureOptionLink)}\n\t\t\t<p><a class=\"RESNotificationButtonBlue\" id=\"penaltyBoxEnableFeature\" href=\"#\">\n\t\t\t\t${i18n('penaltyBoxSuspendFeaturesUndoButton')}\n\t\t\t</a></p>\n\t\t`.trim(),\n\t});\n\n\t$(notification.element).on('click', '#penaltyBoxEnableFeature', (e: MouseEvent) => {\n\t\te.preventDefault();\n\t\tnotification.close();\n\t\tpardonSuspendedFeature(moduleID, optionKey, oldValue);\n\t});\n}\n\nfunction pardonSuspendedFeature(moduleID, optionKey, oldValue) {\n\tOptions.set(moduleID, optionKey, oldValue);\n\tstopMonitoringFeature(moduleID, optionKey);\n\n\tconst featureOptionLink = SettingsNavigation.makeUrlHashLink(moduleID, optionKey);\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'suspendFeatures',\n\t\theader: i18n('penaltyBoxSuspendFeaturesRevertNotificationHeader'),\n\t\tmessage: i18n('penaltyBoxSuspendFeaturesRevertNotificationMessage', featureOptionLink),\n\t});\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Thing, SelectedThing, string } from '../../utils';\nimport type { BuilderValue, BuilderRootValue } from '../../core/module';\nimport * as Cases from './cases';\n\nexport class Case {\n\tstatic type: string;\n\tstatic text: string;\n\n\tstatic +thingToCriterion: ?(thing: Thing) => string | Promise<string>;\n\tstatic +parseCriterion: ?(input: string) => *;\n\n\tstatic async getSelectedEntryValue() {\n\t\tconst selected = SelectedThing.current;\n\t\tif (!selected) throw new Error('No entry is currently selected.');\n\n\t\tlet conditions;\n\t\tif (this.defaultConditions) {\n\t\t\tif (!this.thingToCriterion) throw Error('Case does not have method `thingToCriterion`');\n\t\t\tconditions = this.criterionToConditions(await this.thingToCriterion(selected));\n\t\t}\n\n\t\tconst cased = this.fromConditions(conditions);\n\n\t\tconst state = await cased.evaluate(selected);\n\n\t\tif (typeof state !== 'boolean') throw new Error('Could not evaluate case against selected thing');\n\n\t\treturn { conditions, state };\n\t}\n\n\tstatic criterionToConditions(criterion: string): $Shape<BuilderValue> {\n\t\tconst parse = this.parseCriterion && this.parseCriterion.bind(this);\n\t\tif (!parse) {\n\t\t\tthrow new Error('Does not accept criterion');\n\t\t}\n\n\t\tif (!criterion && this.pattern && !this.pattern.startsWith('[')) {\n\t\t\tthrow new Error('Requires criterion');\n\t\t}\n\n\t\tconst parts = criterion.split(' & ');\n\n\t\tif (this.criterionOperators && criterion && parts.length > 1) {\n\t\t\treturn Cases.getGroup('all', parts.map(v => Cases.getConditions(this.type, parse(v))));\n\t\t} else {\n\t\t\treturn parse(criterion);\n\t\t}\n\t}\n\n\tstatic fromConditions(from: ?$Shape<BuilderValue>, propagateError: boolean = false): Case {\n\t\tlet cased;\n\n\t\tconst conditions = Cases.getConditions(from && from.type || this.type, from);\n\t\tconst type = conditions.type;\n\n\t\ttry {\n\t\t\tconst CaseClass = Cases.get(type);\n\t\t\tif (CaseClass.disabled) throw new Error(`${CaseClass.type} is disabled`);\n\t\t\tcased = new CaseClass(conditions);\n\t\t} catch (e) {\n\t\t\tif (propagateError) throw e;\n\t\t\tconsole.error(`Could not build case: ${e.message}. Ignoring.`, e);\n\t\t\tcased = new Cases.Inert(conditions);\n\t\t}\n\n\t\treturn cased;\n\t}\n\n\tstatic buildRegex(val: string, { fullMatch = true }: {| fullMatch?: boolean |} = {}) {\n\t\tif (!val) throw new Error('Pattern cannot be empty');\n\t\tif (string.regexRegex.test(val)) {\n\t\t\tconst [, str, flags] = (string.regexRegex.exec(val): any); // guaranteed to match due to `.test()` above\n\t\t\treturn new RegExp(str, flags);\n\t\t} else {\n\t\t\tconst patt = _.escapeRegExp(val);\n\t\t\treturn new RegExp(fullMatch ? `^${patt}$` : patt, 'i');\n\t\t}\n\t}\n\n\tstatic +defaultConditions: ?$Shape<BuilderValue>;\n\tstatic fields: *;\n\tstatic slow: number = 0; // Estimated slowness of case; higher value  slower\n\tstatic +reconcile: ?Array<*> => *;\n\tstatic get disabled(): boolean {\n\t\treturn false;\n\t}\n\n\t// Determines where cases are available; usually set by Cases.populate\n\tstatic contexts: Array<'browse' | 'post' | 'comment'>;\n\n\tstatic validate(conditions: BuilderValue) {\n\t\tconst cased = Case.fromConditions(conditions, true);\n\t\tif (!cased.isValid()) throw new Error('Invalid conditions');\n\t\treturn true;\n\t}\n\n\t// For Filterline\n\tstatic unique: boolean = false;\n\tstatic variant: 'basic' | 'ondemand' | 'external' = 'basic';\n\tstatic pattern: string = '';\n\tstatic criterionOperators = false; // Create groups on encountering operators: ' & '  'and'\n\n\tstatic _customFilter: ?BuilderRootValue;\n\tstatic getCustomFilter() { if (this._customFilter) return this._customFilter; throw new Error('Source not found'); }\n\n\t+trueText: ?string;\n\t+falseText: ?string;\n\n\tconstructor(conditions: *) {\n\t\tthis.conditions = this.value = conditions;\n\t}\n\n\tisValid(): boolean { return true; }\n\tisEvaluatable() { return !(this instanceof Cases.Inert || this.constructor.disabled); }\n\n\thasType(type: string): boolean { return this.constructor.type === type; }\n\tconditions: BuilderValue;\n\tvalue: *;\n\tevaluate(thing: ?Thing, values: ?*[]): null | boolean | Promise<null | boolean> { // eslint-disable-line no-unused-vars\n\t\tthrow new Error('evaluate() must be implemented for all Case subclasses');\n\t}\n\n\tobservers: Set<{ refresh: (thing?: Thing) => void }> = new Set();\n\tonObserve(): ?boolean {} // `true`  `refresh` callback registered\n\tobserve(observer: *): ?boolean { // `true`  observer added\n\t\tif (!this.observers.has(observer) && this.onObserve()) {\n\t\t\tthis.observers.add(observer);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\trefresh(thing?: Thing) {\n\t\tfor (const o of this.observers) o.refresh(thing);\n\t}\n}\n\nexport class PatternCase extends Case {\n\tstatic parseCriterion(input: *) { return { patt: input }; }\n\tstatic defaultConditions = { patt: '' };\n\tstatic pattern = 'RegEx';\n\n\tstatic reconcile(values: *) {\n\t\t// Variants may have differening conditions other than just `patt`\n\t\t// Group only values with equal (non-`patt`) conditions together\n\t\tconst variants = [];\n\n\t\tfor (const v of values) {\n\t\t\tlet variant;\n\t\t\tvariantLoop: // eslint-disable-line no-labels\n\t\t\tfor (const possibleVariant of variants) {\n\t\t\t\tfor (const key of Object.keys(v)) {\n\t\t\t\t\tif (key === 'patt') continue;\n\t\t\t\t\tif (possibleVariant[key] !== v[key]) continue variantLoop; // eslint-disable-line no-labels\n\t\t\t\t}\n\t\t\t\tvariant = possibleVariant;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (!variant) {\n\t\t\t\tvariant = { ...v, patt: [] };\n\t\t\t\tvariants.push(variant);\n\t\t\t}\n\n\t\t\tvariant.patt.push(v.patt);\n\t\t}\n\n\t\treturn variants;\n\t}\n\n\tbuild(fullMatchDefault: boolean, pattIfEmpty?: string): Array<RegExp> {\n\t\tconst { patt, fullMatch = fullMatchDefault } = this.conditions;\n\t\tconst raw = Array.isArray(patt) ? patt : [patt];\n\t\tconst plain = new Set();\n\t\tconst variants = {};\n\n\t\tfor (let _patt of raw) {\n\t\t\tif (!_patt) {\n\t\t\t\tif (typeof pattIfEmpty === 'string') _patt = pattIfEmpty;\n\t\t\t\telse if (raw.length === 1) throw new Error('Pattern cannot be empty');\n\t\t\t\telse continue;\n\t\t\t}\n\n\t\t\tif (string.regexRegex.test(_patt)) {\n\t\t\t\tconst [, str, flags = ''] = (string.regexRegex.exec(_patt): any); // guaranteed to match due to `.test()` above\n\t\t\t\tif (!variants[flags]) variants[flags] = [];\n\t\t\t\tvariants[flags].push(str);\n\t\t\t} else {\n\t\t\t\tplain.add(_.escapeRegExp(_patt));\n\t\t\t}\n\t\t}\n\n\t\tif (plain.size) {\n\t\t\tconst str = Array.from(plain).join('|');\n\t\t\tif (!variants.i) variants.i = [];\n\t\t\tvariants.i.push(fullMatch ? `^(${str})$` : str);\n\t\t}\n\n\t\treturn Object.entries(variants).map<*>(([flags, sources]) => new RegExp(sources.join('|'), flags));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nexport class CommentCount extends Case {\n\tstatic text = 'Comment count';\n\n\tstatic parseCriterion(input: *) { return { op: '>=', val: parseInt(input, 10) }; }\n\tstatic thingToCriterion(thing: *) { return String(thing.getCommentCount() || 0); }\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['post has ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' comments'];\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `comment count ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `comment count ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return Number.isInteger(this.value.val); }\n\n\tevaluate(thing: *) {\n\t\tconst commentCount = thing.getCommentCount();\n\t\tif (isNaN(commentCount)) return null;\n\t\treturn numericalCompare(this.value.op, commentCount, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tDAY,\n\tMINUTE,\n\tTable,\n\tThing,\n\taddDashboardTab,\n\tescapeHTML,\n\tempty,\n\texecRegexes,\n\tformatRelativeTime,\n\tformatDateTime,\n\tgetPostMetadata,\n\tisPageType,\n\tmaybePruneOldEntries,\n\tloggedInUser,\n\tregexes,\n\tstring,\n\twatchForThings,\n\tmutex,\n\twaitForEvent,\n} from '../utils';\nimport { Storage, isPrivateBrowsing } from '../environment';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('newCommentCount');\n\nmodule.moduleName = 'newCommentCountName';\nmodule.category = 'submissionsCategory';\nmodule.description = 'newCommentCountDesc';\nmodule.options = {\n\thideWhenUnchanged: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'newCommentCountHideWhenUnchangedDesc',\n\t\ttitle: 'newCommentCountHideWhenUnchangedTitle',\n\t},\n\tcleanComments: {\n\t\ttype: 'text',\n\t\tvalue: '30',\n\t\tdescription: 'newCommentCountCleanCommentsDesc',\n\t\ttitle: 'newCommentCountCleanCommentsTitle',\n\t\tadvanced: true,\n\t},\n\tsubscriptionLength: {\n\t\ttype: 'text',\n\t\tvalue: '2',\n\t\tdescription: 'newCommentCountSubscriptionLengthDesc',\n\t\ttitle: 'newCommentCountSubscriptionLengthTitle',\n\t},\n\tshowSubscribeButton: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'newCommentCountShowSubscribeButtonDesc',\n\t\ttitle: 'newCommentCountShowSubscribeButtonTitle',\n\t},\n\tnotifyEditedPosts: {\n\t\tdependsOn: options => options.showSubscribeButton.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'newCommentCountNotifyEditedPostsDesc',\n\t\ttitle: 'newCommentCountNotifyEditedPostsTitle',\n\t\tadvanced: true,\n\t},\n\tmonitorPostsVisited: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'newCommentCountMonitorPostsVisitedDesc',\n\t\ttitle: 'newCommentCountMonitorPostsVisitedTitle',\n\t\tadvanced: true,\n\t},\n\tmonitorPostsVisitedIncognito: {\n\t\tdependsOn: options => options.monitorPostsVisited.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'newCommentCountMonitorPostsVisitedIncognitoDesc',\n\t\ttitle: 'newCommentCountMonitorPostsVisitedIncognitoTitle',\n\t\tadvanced: true,\n\t},\n};\n\nconst entryStorage = Storage.wrapPrefix('newCommentCount.', (): {|\n\tcount: number,\n\tupdateTime: number,\n|} => {\n\tthrow new Error('Default value should never be retrieved');\n}, undefined, true);\n\nconst subscriptionStorage = Storage.wrapBlob('RESmodules.newCommentCount.subscriptions', (): {|\n\tcount: number,\n\tsubscriptionDate: number,\n\teditedTime: number,\n\tupdateTime: number,\n\turl: string,\n\ttitle: string,\n|} => { throw new Error('Subscription not found'); });\n\nlet subscriptionButton: ?HTMLElement;\n\nmodule.beforeLoad = () => {\n\tif (isPageType('comments') && module.options.showSubscribeButton.value) {\n\t\tsubscriptionButton = string.html`<span id=\"REScommentSubToggle\" class=\"RESSubscriptionButton\"></span>`;\n\t\trefreshSubscriptionButton();\n\t}\n\n\t// Immediately load data in order to have data ready on mutation\n\twatchForThings(['post'], getNewCount, { immediate: true });\n\n\twatchForThings(['post'], displayNewCommentCount);\n};\n\nmodule.contentStart = () => {\n\tif (subscriptionButton) {\n\t\t$('.commentarea .panestack-title').append(subscriptionButton);\n\t}\n\n\taddDashboardTab('newCommentsContents', 'My Subscriptions', module.moduleID, addDashboardFunctionality);\n\n\tmaybePruneOldEntries('newCommentCount', entryStorage, parseInt(module.options.cleanComments.value, 10));\n};\n\nlet listingThing: ?Thing;\nlet currentCommentCount: ?number;\n\nmodule.afterLoad = () => {\n\t// Avoid missing notifications by only running the check when document is visible\n\tif (!document.hidden) {\n\t\tcheckSubscriptions();\n\t}\n\n\tif (isPageType('comments')) {\n\t\tlistingThing = Thing.from(document.querySelector('#siteTable a.comments'));\n\t\tif (listingThing) {\n\t\t\tcurrentCommentCount = listingThing.getCommentCount();\n\t\t\tif (typeof currentCommentCount === 'number') {\n\t\t\t\t// Save current comment count\n\t\t\t\tsetEntry(getId(listingThing), currentCommentCount);\n\n\t\t\t\t// Increment comment count when posting comment\n\t\t\t\twatchForThings(['comment'], updateCurrentCommentCountFromMyComment);\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst getId = thing => thing.getFullname().split('_').slice(-1)[0];\n\nexport const hasEntry = (thing: Thing) => entryStorage.has(getId(thing));\n\nfunction setEntry(id: string, newCommentCount: number) {\n\tif (!module.options.monitorPostsVisited.value) return false;\n\tif (!module.options.monitorPostsVisitedIncognito.value && isPrivateBrowsing()) return false;\n\n\tentryStorage.set(id, {\n\t\tcount: newCommentCount,\n\t\tupdateTime: Date.now(),\n\t});\n}\n\nexport const getNewCount = _.memoize(async (thing: Thing): Promise<?number> => {\n\tconst currentCount = thing.getCommentCount();\n\tif (typeof currentCount !== 'number') return;\n\n\tconst { count: lastOpenedCount } = await entryStorage.getNullable(getId(thing)) || {};\n\tif (typeof lastOpenedCount !== 'number') return;\n\n\treturn Math.max(currentCount - lastOpenedCount, 0);\n});\n\nasync function displayNewCommentCount(thing) {\n\tconst newCount = await getNewCount(thing);\n\tif (typeof newCount !== 'number') return;\n\tif (!newCount && module.options.hideWhenUnchanged.value) return;\n\n\tif (newCount) thing.element.classList.add('res-hasNewComments');\n\n\t$(thing.getCommentCountElement())\n\t\t.append(`<span class=\"newComments\">&nbsp;(${newCount} new)</span>`);\n}\n\nfunction updateCurrentCommentCountFromMyComment(thing) {\n\tconst timestamp = thing.getTimestamp();\n\tconst isRecent = timestamp && (Date.now() - timestamp.getTime()) < 10000;\n\tconst isMine = loggedInUser() === thing.getAuthor();\n\tif (isRecent && isMine && listingThing && typeof currentCommentCount === 'number') {\n\t\tsetEntry(getId(listingThing), ++currentCommentCount);\n\t}\n}\n\nconst refreshSubscriptionButton = mutex(async () => {\n\tconst id = (execRegexes.comments(location.pathname) || [])[2];\n\tconst button = subscriptionButton;\n\tif (!id || !button) return;\n\n\tconst subscriptions = await subscriptionStorage.getAll();\n\n\tif (subscriptions.hasOwnProperty(id)) {\n\t\t// Unsubscribe.\n\t\t$(button)\n\t\t\t.html('<span class=\"res-icon\">&#xF038;</span> unsubscribe')\n\t\t\t.attr('title', 'stop receiving notifications')\n\t\t\t.addClass('unsubscribe');\n\t\twaitForEvent(button, 'click').then(async () => {\n\t\t\tawait unsubscribe(id);\n\t\t\tNotifications.showNotification({\n\t\t\t\tnotificationID: 'newCommentCountUnsubscribe',\n\t\t\t\tmoduleID: 'newCommentCount',\n\t\t\t\tmessage: 'You are now unsubscribed from this thread.',\n\t\t\t}, 3000);\n\t\t}).then(refreshSubscriptionButton);\n\t} else {\n\t\t// Subscribe.\n\t\t$(button)\n\t\t\t.html('<span class=\"res-icon\">&#xF03B;</span> subscribe')\n\t\t\t.attr('title', 'notify me of new comments')\n\t\t\t.removeClass('unsubscribe');\n\t\twaitForEvent(button, 'click').then(async () => {\n\t\t\tawait subscribe(id, currentCommentCount || 0, listingThing && listingThing.getPostEditTimestamp() || 0);\n\t\t\tNotifications.showNotification({\n\t\t\t\tnotificationID: 'newCommentCountSubscribe',\n\t\t\t\tmoduleID: 'newCommentCount',\n\t\t\t\toptionKey: 'subscriptionLength',\n\t\t\t\tmessage: `\n\t\t\t\t\t<p>\n\t\t\t\t\t\tYou are now subscribed to this thread for ${module.options.subscriptionLength.value} days.\n\t\t\t\t\t\tWhen new comments are posted you'll receive a notification.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><a href=\"/r/Dashboard#newCommentsContents\">Manage subscriptions</a></p>\n\t\t\t\t`,\n\t\t\t}, 5000);\n\t\t}).then(refreshSubscriptionButton);\n\t}\n});\n\nfunction subscribe(id, newCommentCount, newEditedTime) {\n\tconst now = Date.now();\n\treturn subscriptionStorage.set(id, {\n\t\tcount: newCommentCount,\n\t\tsubscriptionDate: now,\n\t\tupdateTime: now,\n\t\teditedTime: newEditedTime,\n\t\turl: location.href.replace(location.hash, ''),\n\t\ttitle: document.title,\n\t});\n}\n\nfunction unsubscribe(id) {\n\treturn subscriptionStorage.delete(id);\n}\n\nasync function checkSubscriptions() {\n\tconst now = Date.now();\n\n\tfor (const [id, subscription] of Object.entries(await subscriptionStorage.getAll())) {\n\t\tconst { subscriptionDate, updateTime } = subscription;\n\t\t// If it's been subscriptionLength days since we've subscribed, we're going to delete this subscription...\n\t\tif ((now - subscriptionDate) > (DAY * parseInt(module.options.subscriptionLength.value, 10))) {\n\t\t\tunsubscribe(id);\n\t\t} else if ((now - updateTime) > (5 * MINUTE)) {\n\t\t\tsubscriptionStorage.patch(id, { updateTime: now });\n\t\t\tcheckThread(id, subscription);\n\t\t}\n\t}\n}\n\nasync function checkThread(id, subscription) {\n\tconst { num_comments: newCount, edited: newEditedTime } = await getPostMetadata({ id });\n\tconst { count, editedTime, url, title } = subscription;\n\n\tif (newCount > count) {\n\t\tsubscriptionStorage.patch(id, { count: newCount });\n\n\t\tconst notification = Notifications.showNotification({\n\t\t\theader: 'New comments',\n\t\t\tnotificationID: 'newCommentCount',\n\t\t\tmoduleID: 'newCommentCount',\n\t\t\tnoDisable: true,\n\t\t\tmessage: `<p><a href=\"${url}\">${escapeHTML(title)}</a></p>`,\n\t\t}, 10000);\n\n\t\t// add button to unsubscribe from within notification.\n\t\t$(notification.element).find('.RESNotificationContent')\n\t\t\t.append(createButton(id, 'unsubscribe', notification.close));\n\t}\n\tif (module.options.notifyEditedPosts.value && newEditedTime > editedTime) {\n\t\tsubscriptionStorage.patch(id, { editedTime: newEditedTime });\n\n\t\tconst notification = Notifications.showNotification({\n\t\t\theader: 'Post edited',\n\t\t\tnotificationID: 'newCommentCount',\n\t\t\tmoduleID: 'newCommentCount',\n\t\t\toptionKey: 'notifyEditedPosts',\n\t\t\tnoDisable: true,\n\t\t\tmessage: `<p><a href=\"${url}\">${escapeHTML(title)}</a></p>`,\n\t\t}, 10000);\n\n\t\t// add button to unsubscribe from within notification.\n\t\t$(notification.element).find('.RESNotificationContent')\n\t\t\t.append(createButton(id, 'unsubscribe', notification.close));\n\t}\n}\n\nfunction createButton(id, type, onClick) {\n\tconst $button = $('<span class=\"RESSubscriptionButton\">');\n\tlet action;\n\n\tswitch (type) {\n\t\tcase 'unsubscribe':\n\t\t\t$button\n\t\t\t\t.html('<span class=\"res-icon\">&#xF038;</span> unsubscribe')\n\t\t\t\t.attr('title', 'stop receiving notifications')\n\t\t\t\t.addClass('unsubscribe');\n\t\t\taction = () => unsubscribe(id);\n\t\t\tbreak;\n\t\tcase 'renew':\n\t\t\t$button\n\t\t\t\t.html('<span class=\"res-icon\">&#xF03B;</span> renew')\n\t\t\t\t.attr('title', `renew for ${module.options.subscriptionLength.value} days`);\n\t\t\taction = async () => {\n\t\t\t\tawait subscriptionStorage.patch(id, { subscriptionDate: Date.now() });\n\n\t\t\t\tNotifications.showNotification({\n\t\t\t\t\tnotificationID: 'newCommentCountRenew',\n\t\t\t\t\tmoduleID: 'newCommentCount',\n\t\t\t\t\toptionKey: 'subscriptionLength',\n\t\t\t\t\tmessage: `Subscription renewed for ${module.options.subscriptionLength.value} days.`,\n\t\t\t\t});\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tconst button = $button.get(0);\n\twaitForEvent(button, 'click').then(action).then(onClick);\n\treturn button;\n}\n\nasync function addDashboardFunctionality(tabPage) {\n\tconst subscriptions = Object.entries(await subscriptionStorage.getAll());\n\n\tconst rows = subscriptions.map(([id, { subscriptionDate, updateTime, url, title }]) => {\n\t\tconst [, subreddit] = url && new URL(url).pathname.match(regexes.subreddit) || [];\n\t\tif (!subreddit) return;\n\n\t\tconst updated = new Date(updateTime);\n\t\tconst expires = new Date(subscriptionDate + (DAY * parseInt(module.options.subscriptionLength.value, 10)));\n\n\t\treturn string._html`\n\t\t\t\t<tr subscription-id=\"${id}\">\n\t\t\t\t\t<td><a href=\"${url}\">${escapeHTML(title)}</a></td>\n\t\t\t\t\t<td><a href=\"/r/${subreddit}\">/r/${subreddit}</a></td>\n\t\t\t\t\t<td><abbr title=\"${formatDateTime(updated)}\">${formatRelativeTime(updated)}</abbr></td>\n\t\t\t\t\t<td><abbr title=\"${formatDateTime(expires)}\">${formatRelativeTime(expires)}</abbr></td>\n\t\t\t\t\t<td></td>\n\t\t\t\t</tr>\n\t\t\t`;\n\t});\n\n\tconst ele = string.html`<div>\n\t\t\t<a href=\"/by_id/${subscriptions.map(([id]) => `t3_${id}`).join(',')}\">as reddit link listing</a>\n\t\t\t<table id=\"newCommentsTable\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Submission</th>\n\t\t\t\t\t\t<th>Subreddit</th>\n\t\t\t\t\t\t<th>Last viewed</th>\n\t\t\t\t\t\t<th>Expires in</th>\n\t\t\t\t\t\t<th>Actions</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t${rows.length ?\n\t\trows :\n\t\tstring._html`<td colspan=\"5\">You are currently not subscribed to any threads. To subscribe to a thread, click the \"subscribe\" button found near the top of the comments page.</td>`\n}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>`;\n\n\t$(ele).on('click', 'th', Table.sortByColumn);\n\n\tfor (const row of ele.querySelectorAll('[subscription-id]')) {\n\t\tconst id = row.getAttribute('subscription-id');\n\t\trow.querySelector('td:last-of-type').append(\n\t\t\tcreateButton(id, 'unsubscribe', () => addDashboardFunctionality(tabPage)),\n\t\t\tcreateButton(id, 'renew', () => addDashboardFunctionality(tabPage)),\n\t\t);\n\t}\n\n\tempty(tabPage);\n\ttabPage.append(ele);\n}\n","/* @flow */\n\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\nimport * as Modules from '../../../core/modules';\nimport * as N from '../../newCommentCount';\nimport { Case } from '../Case';\n\nexport class NewCommentCount extends Case {\n\tstatic text = 'New comment count';\n\n\tstatic parseCriterion(input: *) { return { op: '>=', val: parseInt(input, 10) }; }\n\tstatic async thingToCriterion(thing: *) { return String((await N.hasEntry(thing) ? await N.getNewCount(thing) : thing.getCommentCount()) || 0); }\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['has ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' new comments'];\n\n\tstatic slow = 1;\n\tstatic get disabled(): boolean {\n\t\treturn !Modules.isEnabled(N);\n\t}\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `new comments ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `new comments ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return parseInt(this.value.val, 10) >= 0; }\n\n\tasync evaluate(thing: *) {\n\t\tconst newCount = await N.getNewCount(thing);\n\t\tconst count = typeof newCount === 'number' ? newCount : thing.getCommentCount();\n\t\treturn numericalCompare(this.value.op, count, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport { isURLVisited } from '../../../environment';\nimport * as NewCommentCount from '../../newCommentCount';\nimport { Case } from '../Case';\n\nexport class CommentsOpened extends Case {\n\tstatic text = 'Comments opened';\n\n\tstatic fields = ['comments page has been visited'];\n\tstatic slow = 2;\n\n\tstatic unique = true;\n\n\ttrueText = 'comments opened';\n\n\tasync evaluate(thing: *) {\n\t\tif (await NewCommentCount.hasEntry(thing)) return true;\n\n\t\tconst link = thing.getCommentsLink();\n\t\tif (!link) return null;\n\t\treturn isURLVisited(link.href);\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class Domain extends PatternCase {\n\tstatic text = 'Link domain name';\n\n\tstatic thingToCriterion(thing: *) { return thing.getPostDomain(); }\n\n\tstatic fields = ['post links to the domain ', { type: 'text', id: 'patt' }];\n\n\ttrueText = `domain ${this.conditions.patt}`;\n\n\tvalue = this.build(true);\n\n\tevaluate(thing: *) {\n\t\tconst domain = thing.getPostDomain();\n\t\tif (!domain) return null;\n\t\treturn this.value.some(v => v.test(domain));\n\t}\n}\n","/* @flow */\n\nimport type { Thing } from '../utils';\nimport type { ModuleOption } from './module'; // eslint-disable-line no-unused-vars\n\nexport class Host<Detect, Opt: { [string]: ModuleOption<any> }> {\n\tmoduleID: string;\n\n\tname: string;\n\tdomains: string[];\n\tpermissions: string[] | void;\n\n\tlogo: string | void;\n\tlandingPage: string | void;\n\tattribution: boolean;\n\n\toptions: Opt | void;\n\n\tdetect: (a: URL, context: ?Thing) => void | null | false | Detect;\n\thandleLink: (href: string, detectResult: Detect) => ExpandoMedia | Promise<ExpandoMedia>;\n\tgetVideoData: void | (id: string) => Promise<?VideoData>;\n\n\tconstructor(moduleID: string, {\n\t\tname,\n\t\tdomains,\n\t\tpermissions,\n\t\tlogo,\n\t\tlandingPage,\n\t\tattribution = true,\n\t\toptions,\n\t\tdetect,\n\t\thandleLink,\n\t\tgetVideoData,\n\t}: {|\n\t\tname: string,\n\t\tdomains: string[],\n\t\tpermissions?: string[],\n\t\tlogo?: string,\n\t\tlandingPage?: string,\n\t\tattribution?: boolean,\n\t\toptions?: Opt,\n\t\tdetect: (a: URL, context: ?Thing) => void | null | false | Detect,\n\t\thandleLink: (href: string, detectResult: Detect) => ExpandoMedia | Promise<ExpandoMedia>,\n\t\tgetVideoData?: (id: string) => Promise<?VideoData>,\n\t|}) {\n\t\tthis.moduleID = moduleID;\n\t\tthis.name = name;\n\t\tthis.domains = domains;\n\t\tthis.permissions = permissions;\n\t\tthis.logo = logo;\n\t\tthis.landingPage = landingPage;\n\t\tthis.attribution = attribution;\n\t\tthis.options = options;\n\t\tthis.detect = detect;\n\t\tthis.handleLink = handleLink;\n\t\tthis.getVideoData = getVideoData;\n\t}\n}\n\ntype VideoData = {|\n  title: string,\n  duration: string,\n  publishedAt: string,\n  viewCount: string,\n|};\n\nexport type ExpandoMedia = GalleryMedia | ImageMedia | VideoMedia | AudioMedia | TextMedia | IframeMedia | GenericMedia;\n\nexport type GalleryMedia = {|\n\ttype: 'GALLERY',\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\tsrc: Array<ImageMedia | VideoMedia | AudioMedia | TextMedia | IframeMedia | GenericMedia>,\n|};\n\nexport type ImageMedia = {|\n\ttype: 'IMAGE',\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\tsrc: string,\n\thref?: string,\n|};\n\nexport type VideoMedia = {|\n\ttype: 'VIDEO',\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\tsources: Array<{|\n\t\tsource: string,\n\t\treverse?: string,\n\t\ttype: string,\n\t|}>,\n\tfallback?: string,\n\thref?: string,\n\tsource?: string,\n\tposter?: string,\n\tmuted?: boolean,\n\tframeRate?: number,\n\tloop?: boolean,\n\tplaybackRate?: number,\n\treversable?: boolean,\n\treversed?: boolean,\n\ttime?: number,\n|};\n\nexport type AudioMedia = {|\n\ttype: 'AUDIO',\n\tautoplay?: boolean,\n\tloop?: boolean,\n\tsources: Array<{|\n\t\tfile: string,\n\t\ttype: string,\n\t|}>,\n|};\n\nexport type TextMedia = {|\n\ttype: 'TEXT',\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\tsrc: string,\n|};\n\nexport type IframeMedia = {|\n\ttype: 'IFRAME',\n\tmuted?: boolean,\n\texpandoClass?: string,\n\tembed: string,\n\tembedAutoplay?: string,\n\twidth?: string,\n\theight?: string,\n\tfixedRatio?: boolean,\n\tpause?: string,\n\tplay?: string,\n|};\n\nexport type GenericMedia = {|\n\ttype: 'GENERIC_EXPANDO',\n\tmuted?: boolean,\n\texpandoClass?: string,\n\tgenerate: () => HTMLElement,\n\tonAttach?: () => void,\n|};\n","/* @flow */\n\nimport { i18n } from '../../environment';\nimport { string } from '../../utils';\n\nexport const audioTemplate = ({ loop, sources }: {| loop?: boolean, sources: Array<{| file: string, type: string |}> |}) => string.html`\n\t<div>\n\t\t<audio controls ${loop && 'loop'}>\n\t\t\t${sources.map(({ file, type }) => string._html`\n\t\t\t\t<source src=\"${file}\" type=\"${type}\">\n\t\t\t`)}\n\t\t</audio>\n\t</div>\n`;\n\nexport const galleryTemplate = <T>({ title, caption, credits, src }: {| title?: string, caption?: string, credits?: string, src: T[] |}) => string.html`\n\t<div class=\"res-gallery\">\n\t\t${title && string._html`\n\t\t<h3 class=\"res-title res-gallery-title\">${title}</h3>\n\t\t`}\n\t\t${caption && string._html`\n\t\t<div class=\"res-caption res-gallery-caption\">${string.safe(caption)}</div>\n\t\t`}\n\t\t${credits && string._html`\n\t\t<div class=\"res-credits\">${string.safe(credits)}</div>\n\t\t`}\n\t\t<div class=\"res-step-container\">\n\t\t\t<div class=\"res-step res-step-previous\"></div>\n\t\t\t<div class=\"res-step-progress\">\n\t\t\t\t<span class=\"res-step-position\">1</span> of ${src.length}\n\t\t\t</div>\n\t\t\t<div class=\"res-step res-step-next\"></div>\n\t\t\t<div class=\"res-gallery-to-filmstrip\" title=\"View as filmstrip\"></div>\n\t\t</div>\n\t\t<div class=\"res-gallery-pieces\"></div>\n\t\t<div class=\"res-gallery-below\">\n\t\t\t<div>\n\t\t\t\t<div class=\"res-expando-siteAttribution\"></div>\n\t\t\t\t<div class=\"res-gallery-increase-concurrent\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n\nexport const imageTemplate = ({ title, caption, credits, src, href, openInNewWindow }: {| title?: string, caption?: string, credits?: string, src: string, href: string, openInNewWindow: boolean |}) => string.html`\n\t<div class=\"res-image\">\n\t\t${title && string._html`\n\t\t<h4 class=\"res-title\">${title}</h4>\n\t\t`}\n\t\t${caption && string._html`\n\t\t<div class=\"res-caption\">${string.safe(caption)}</div>\n\t\t`}\n\t\t${credits && string._html`\n\t\t<div class=\"res-credits\">${string.safe(credits)}</div>\n\t\t`}\n\t\t<a class=\"res-expando-link noKeyNav\" href=\"${href}\" ${openInNewWindow && string._html`target=\"_blank\" rel=\"noopener noreferrer\"`}>\n\t\t\t<img class=\"res-image-media\" src=\"${src}\">\n\t\t</a>\n\t</div>\n`;\n\nexport const iframeTemplate = ({ url, width, height }: {| url: string, width: string, height: string |}) => string.html`\n\t<div class=\"res-iframe-expando\">\n\t\t<div>\n\t\t\t<iframe src=\"${url}\" style=\"width: ${width}; height: ${height}\" allowFullscreen=\"true\"></iframe>\n\t\t\t<div class=\"res-iframe-expando-drag-handle\">\n\t\t\t\t<div class=\"res-icon\"></div>\n\t\t\t\t<div class=\"res-expando-siteAttribution\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n\nexport const textTemplate = ({ title, credits, src }: {| title?: string, credits?: string, src: string |}) => string.html`\n\t<div class=\"res-text usertext-body\">\n\t\t${title && string._html`\n\t\t<h3 class=\"res-title\">${title}</h3>\n\t\t`}\n\t\t<div class=\"res-text-media md\">${string.safe(src)}</div>\n\t\t${credits && string._html`\n\t\t<div class=\"res-credits\">${string.safe(credits)}</div>\n\t\t`}\n\t</div>\n`;\n\nexport const videoTemplate = ({\n\ttitle,\n\tcaption,\n\tcredits,\n\thref,\n\tsource,\n\tposter,\n\thasAudio,\n\tloop,\n\treversable,\n\tformattedPlaybackRate,\n\topenInNewWindow,\n}: {|\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\thref: string,\n\tsource?: string,\n\tposter?: string,\n\thasAudio: boolean,\n\tloop: boolean,\n\treversable: boolean,\n\tformattedPlaybackRate: string,\n\topenInNewWindow: boolean,\n|}) => string.html`\n\t<div class=\"res-video\">\n\t\t${title && string._html`\n\t\t<h4 class=\"res-title\">${title}</h4>\n\t\t`}\n\t\t${caption && string._html`\n\t\t<div class=\"res-caption\">${string.safe(caption)}</div>\n\t\t`}\n\t\t${credits && string._html`\n\t\t<div class=\"res-credits\">${string.safe(credits)}</div>\n\t\t`}\n\t\t<div class=\"res-video-container\">\n\t\t\t<a class=\"noKeyNav\" href=\"${href}\" ${openInNewWindow && string._html`target=\"_blank\" rel=\"noopener noreferrer\"`}>\n\t\t\t\t<video ${!hasAudio && 'muted'} ${loop && 'loop'} poster=\"${poster}\"></video>\n\t\t\t</a>\n\t\t\t<div class=\"res-video-interface\">\n\t\t\t\t<div class=\"res-video-progress\">\n\t\t\t\t\t<div class=\"res-video-position\"></div>\n\t\t\t\t\t<div class=\"res-video-position-thumb\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"res-video-main\">\n\t\t\t\t\t<div class=\"res-video-controls\">\n\t\t\t\t\t\t<div title=\"Toggle pause\" class=\"res-icon res-video-button res-video-toggle-pause\"></div>\n\t\t\t\t\t\t${reversable && string._html`\n\t\t\t\t\t\t<div title=\"Reverse video\" class=\"res-icon res-video-button res-video-reverse\"></div>\n\t\t\t\t\t\t`}\n\t\t\t\t\t\t${hasAudio && string._html`\n\t\t\t\t\t\t\t<div title=\"Adjust volume\" class=\"res-icon res-video-button res-video-volume\">\n\t\t\t\t\t\t\t\t<div class=\"res-video-volume-level\">\n\t\t\t\t\t\t\t\t\t<div class=\"res-video-volume-percentage\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`}\n\t\t\t\t\t\t<div class=\"res-video-controls-group res-video-current-time\">\n\t\t\t\t\t\t\t<div title=\"Select previous frame\" class=\"res-icon res-video-button res-video-time-decrease\"></div>\n\t\t\t\t\t\t\t<div class=\"res-video-time\">0.00s</div>\n\t\t\t\t\t\t\t<div title=\"Select next frame\" class=\"res-icon res-video-button res-video-time-increase\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"res-video-controls-group res-video-playback-rate\">\n\t\t\t\t\t\t\t<div title=\"Decrease speed by 10%\" class=\"res-icon res-video-button res-video-speed-decrease\"></div>\n\t\t\t\t\t\t\t<div class=\"res-video-speed\">${string.safe(formattedPlaybackRate)}</div>\n\t\t\t\t\t\t\t<div title=\"Increase speed by 10%\" class=\"res-icon res-video-button res-video-speed-increase\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div hidden class=\"res-video-error\">\n\t\t\t\t\t\t<div class=\"res-icon\">&#xf15b</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"res-video-info\">\n\t\t\t\t\t\t${source && string._html`\n\t\t\t\t\t\t<a class=\"res-video-link res-video-source\" href=\"${source}\">source</a>\n\t\t\t\t\t\t`}\n\t\t\t\t\t\t<div class=\"res-expando-siteAttribution\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n\nexport const mediaControlsTemplate = ({ x, y, downloadUrl, lookupUrl, clippy }: {| x: string, y: string, downloadUrl?: string, lookupUrl?: string, clippy: boolean |}) => string.html`\n\t<div class=\"res-media-with-controls-wrapper\">\n\t\t<div class=\"res-media-controls res-media-controls-${x} res-media-controls-${y}\">\n\t\t\t<button class=\"res-icon gearIcon\" title=\"Settings\" data-action=\"showImageSettings\"></button>\n\t\t\t<button class=\"res-media-controls-rotate res-media-controls-rotate-left res-icon\" title=\"Rotate image counter-clockwise\" data-action=\"rotateLeft\"></button>\n\t\t\t<button class=\"res-media-controls-rotate res-media-controls-rotate-right res-icon\" title=\"Rotate image clockwise\" data-action=\"rotateRight\"></button>\n\t\t\t${downloadUrl && string._html`\n\t\t\t<button class=\"res-media-controls-download res-icon title=\"Download image\" data-action=\"download\"></button>\n\t\t\t`}\n\t\t\t${lookupUrl && string._html`\n\t\t\t<button class=\"res-media-controls-lookup res-icon\" title=\"Reverse image search\" data-action=\"imageLookup\"></button>\n\t\t\t`}\n\t\t\t${clippy && string._html`\n\t\t\t<button class=\"res-media-controls-clippy\" title=\"Show educational info\" data-action=\"clippy\"></button>\n\t\t\t`}\n\t\t</div>\n\t</div>\n`;\n\nexport const siteAttributionTemplate = ({ url, name, logoUrl, settingsLink }: {| url: string, name: string, logoUrl?: string, settingsLink: string |}) => string.html`\n\t<cite class=\"res-expando-siteAttribution\">\n\t\t<a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferer\">\n\t\t\t${logoUrl && string._html`<img src=\"${logoUrl}\" alt=\"Hosted on ${name}\" title=\"Hosted on ${name}\" />`}\n\t\t\t<span>hosted on ${name}</span>\n\t\t\t<a href=\"${settingsLink}\" class=\"gearIcon\" title=\"Disable or change settings for ${name}\"></a>\n\t\t</a>\n\t</cite>\n`;\n\nexport const crosspostMetadataTemplate = (data: {\n\turl: string,\n\tcrosspostRootSubreddit: string,\n\tcrosspostRootAuthor: string,\n\tcrosspostRootScore: string,\n\tcrosspostRootNumComments: string,\n\tcrosspostRootTime: string,\n\tcrosspostRootTitle: string,\n\ttargetParentFullname: string,\n}) => string.html`\n\t<div class=\"crosspost-preview res-crosspost-preview\">\n\t\t<div class=\"crosspost-preview-header\">\n\t\t\t<a href=\"${data.url}\" class=\"content-link may-blank\" data-event-action=\"title\" tabindex=\"1\"></a>\n\t\t\t<div class=\"text-content\">\n\t\t\t\t<p class=\"title\">${data.crosspostRootTitle}</p>\n\t\t\t\t<div class=\"crosspost-preview-tagline tagline\">\n\t\t\t\t\t<span>${i18n('numPoints', parseInt(data.crosspostRootScore, 10))}</span>\n\t\t\t\t\t<span class=\"dot\"></span>\n\t\t\t\t\t<a href=\"/r/${data.crosspostRootSubreddit}/comments/${(data.targetParentFullname || '').slice(3)}\" class=\"comments may-blank\">${i18n('numComments', parseInt(data.crosspostRootNumComments, 10))}</a>\n\t\t\t\t\t<span class=\"dot\"></span>\n\t\t\t\t\t${i18n('submittedAtTime')} <time>${data.crosspostRootTime}</time>\n\t\t\t\t\t${i18n('submittedByAuthor')} <a href=\"/user/${data.crosspostRootAuthor}/\" class=\"author may-blank\">${data.crosspostRootAuthor}</a>\n\t\t\t\t\t${i18n('submittedToSubreddit')} <a href=\"/r/${data.crosspostRootSubreddit}/\" class=\"subreddit hover may-blank\">r/${data.crosspostRootSubreddit}</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n","/* @flow */\n\nimport _ from 'lodash';\nimport {\n\tclick,\n\tfilterMap,\n} from '../../utils';\nimport type { Thing } from '../../utils';\nimport type { Media } from '../showImages';\n\nexport const expandos: Map<Element, Expando> = new Map();\nexport const activeExpandos: Set<Expando> = new Set();\nconst opened = new Set();\n\ntype OnExpandCallback = () => void;\n\nexport class Expando {\n\tstatic expandoSelector = '.expando-button, .search-expando-button';\n\n\tstatic getEntryExpandoFrom(thing: ?Thing): ?Expando {\n\t\tif (!thing) return null;\n\n\t\tconst button = thing.entry.querySelector('.expando-button');\n\t\tif (!button) return null;\n\n\t\tlet expando = expandos.get(button);\n\n\t\tif (!expando) {\n\t\t\tconst box = thing.entry.querySelector('.expando');\n\t\t\tif (!box) return null;\n\n\t\t\tconst buttonPlaceholder = document.createElement('span');\n\t\t\tconst boxPlaceholder = document.createElement('span');\n\n\t\t\t// Otherwise it is a native expando: Create a pseudo-class for those\n\t\t\texpando = ({\n\t\t\t\tbutton,\n\t\t\t\tget open() { return button.classList.contains('expanded'); },\n\t\t\t\tcollapse() { if (this.open) this.toggle(); },\n\t\t\t\texpand() { if (!this.open) this.toggle(); },\n\t\t\t\ttoggle() { click(button); },\n\t\t\t\tdetach() {\n\t\t\t\t\tbutton.replaceWith(buttonPlaceholder);\n\t\t\t\t\tbox.replaceWith(boxPlaceholder);\n\t\t\t\t},\n\t\t\t\treattach() {\n\t\t\t\t\tbuttonPlaceholder.replaceWith(button);\n\t\t\t\t\tboxPlaceholder.replaceWith(box);\n\t\t\t\t},\n\t\t\t\ttypes: _.flatten([\n\t\t\t\t\t'native',\n\t\t\t\t\tbutton.classList.contains('selftext') ? 'selftext' : // This may be muted, depending on its content (not possible to know before expanding)\n\t\t\t\t\t(box.dataset.cachedhtml || '').match(/\\bvideo-player\\b/) ? ['video', 'non-muted'] :\n\t\t\t\t\t(box.dataset.cachedhtml || '').match(/\\<iframe\\b/) ? ['iframe', 'non-muted'] :\n\t\t\t\t\t['image', 'muted'],\n\t\t\t\t]).filter(Boolean),\n\t\t\t\tready: true,\n\t\t\t}: any /* TODO: this is kinda dangerous, there should be a subclass instead */);\n\n\t\t\texpandos.set(button, expando);\n\t\t}\n\n\t\treturn expando;\n\t}\n\n\tstatic getTextExpandosFrom(thing: ?Thing): Expando[] {\n\t\tif (!thing) return [];\n\t\tconst md = thing.entry.querySelector('.md');\n\t\tif (!md) return [];\n\t\treturn filterMap(Array.from(md.querySelectorAll(Expando.expandoSelector)), v => {\n\t\t\tconst exp = expandos.get(v);\n\t\t\tif (exp) return [exp];\n\t\t});\n\t}\n\n\tstatic getAllExpandosFrom(thing: ?Thing): Expando[] {\n\t\treturn _.compact([...Expando.getTextExpandosFrom(thing), Expando.getEntryExpandoFrom(thing)]);\n\t}\n\n\thref: string;\n\tinText: boolean;\n\tready: boolean = false;\n\n\tlock: ?{ open: () => {}, promise: Promise<*> } = null;\n\n\tbox: HTMLElement;\n\tbutton: HTMLElement;\n\n\topen: boolean = false;\n\texpandWanted: boolean = false;\n\n\texpandCallbacks: OnExpandCallback[] = [];\n\n\tmedia: ?Media;\n\tgenerateMedia: ?() => Media;\n\n\ttypes: string[] = [];\n\n\tbuttonInfo: {|\n\t\ttitle: string,\n\t\tmediaClass: string,\n\t|} = {\n\t\ttitle: 'Expando is not yet ready',\n\t\tmediaClass: '',\n\t};\n\n\tconstructor(href: *) {\n\t\tthis.href = href;\n\n\t\tthis.box = document.createElement('div');\n\t\tthis.box.classList.add('res-expando-box');\n\t\tthis.box.hidden = true;\n\n\t\tthis.button = document.createElement('a');\n\t\tthis.button.addEventListener('click', () => this.toggle());\n\t\tthis.updateButton();\n\n\t\t// Reddit may try to override the button classes\n\t\tnew MutationObserver(() => { this.updateButton(); }).observe(this.button, { attributes: true });\n\n\t\texpandos.set(this.button, this);\n\t}\n\n\tonExpand(callback: OnExpandCallback) {\n\t\tthis.expandCallbacks.push(callback);\n\t}\n\n\tupdateButton() {\n\t\tlet { mediaClass, title } = this.buttonInfo;\n\n\t\tif (this.lock) {\n\t\t\tmediaClass = 'expando-button-requires-permission';\n\t\t\ttitle = 'Click to request required permissions';\n\t\t}\n\n\t\tconst classList = [\n\t\t\t'expando-button',\n\t\t\t...(mediaClass.split(' ') || ['expando-button-loading']),\n\t\t\tthis.open || this.expandWanted ? 'expanded' : 'collapsed',\n\t\t].filter(Boolean);\n\n\t\tif (!this.expandWanted && !this.open && opened.has(this.href)) {\n\t\t\tclassList.push('expando-button-duplicate');\n\t\t\ttitle += ' (link has already been opened)';\n\t\t}\n\n\t\t// Only invoke if there's actual changes, to prevent triggering the mutationobserver unnecessarily\n\t\tconst btn = this.button;\n\t\tfor (const v of btn.classList) if (!classList.includes(v)) btn.classList.remove(v);\n\t\tfor (const v of classList) if (!btn.classList.contains(v)) btn.classList.add(v);\n\t\tif (btn.title !== title) btn.title = title;\n\t}\n\n\tinitialize(options: {| generateMedia: *, buttonInfo: *, types: * |}) {\n\t\tthis.generateMedia = options.generateMedia;\n\t\tthis.buttonInfo = options.buttonInfo;\n\t\tthis.types = options.types;\n\t\tthis.ready = true;\n\n\t\tif (this.expandWanted) this.expand();\n\t\telse this.updateButton();\n\t}\n\n\tgetDuplicates() {\n\t\treturn Array.from(expandos.values()).filter(v => v !== this && v.href === this.href);\n\t}\n\n\tasync setLock(lock: *) {\n\t\tthis.lock = lock;\n\t\tthis.updateButton();\n\n\t\tawait lock.promise;\n\n\t\tthis.lock = null;\n\t\tthis.updateButton();\n\t}\n\n\ttoggle() {\n\t\tif (this.open) this.collapse();\n\t\telse this.expand();\n\t}\n\n\texpand() {\n\t\tif (this.lock || !this.ready) {\n\t\t\tthis.expandWanted = true;\n\t\t\tif (this.lock) this.lock.open();\n\t\t\tthis.updateButton();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.box.hidden = false;\n\n\t\tthis.attachMedia();\n\t\tif (this.media) this.media.expand();\n\n\t\tthis.open = true;\n\t\tthis.expandWanted = false;\n\t\tthis.updateButton();\n\n\t\tfor (const callback of this.expandCallbacks) callback();\n\n\t\topened.add(this.href);\n\t\tfor (const duplicate of this.getDuplicates()) duplicate.updateButton();\n\t}\n\n\tcollapse() {\n\t\tthis.box.hidden = true;\n\n\t\tthis.open = false;\n\t\tthis.expandWanted = false;\n\t\tthis.updateButton();\n\n\t\tif (this.media) {\n\t\t\tthis.media.collapse();\n\t\t}\n\t}\n\n\tattachMedia() {\n\t\tconst wrapper = this.box.firstElementChild || document.createElement('div');\n\t\tif (!this.generateMedia) throw new Error('Cannot attach media without `generateMedia`');\n\t\tthis.media = this.media || this.generateMedia();\n\t\twrapper.append(this.media.element);\n\t\twrapper.classList.add('res-expando-box-inner');\n\t\tthis.box.append(wrapper);\n\t\tif (/*:: this.media && */ this.media.onAttach) this.media.onAttach();\n\t\tactiveExpandos.add(this);\n\t}\n\n\tisAttached() {\n\t\treturn document.body.contains(this.button) && document.body.contains(this.box);\n\t}\n\n\tdestroy() {\n\t\tif (this.box) {\n\t\t\tthis.box.remove();\n\t\t\tdelete this.box;\n\t\t}\n\t\tif (this.button) {\n\t\t\texpandos.delete(this.button);\n\t\t\tthis.button.remove();\n\t\t\tdelete this.button;\n\t\t}\n\t\tthis.empty();\n\t}\n\n\tempty() {\n\t\tif (this.media) {\n\t\t\tthis.media.element.remove();\n\t\t\tdelete this.media;\n\t\t}\n\t\tif (this.button) {\n\t\t\tif (this.open) this.collapse();\n\t\t\telse this.updateButton();\n\t\t}\n\t\tactiveExpandos.delete(this);\n\t}\n}\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { string } from '../../utils';\n\nexport default new Host('aarli', {\n\tname: 'AAR Library',\n\tdomains: ['aar.li'],\n\tlogo: 'https://aar.li/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/a\\/(\\w+)/i).exec(pathname),\n\tasync handleLink(href, [, aarId]) {\n\t\tconst info = await ajax({\n\t\t\turl: 'https://aar.li/api.php',\n\t\t\tquery: { aarId },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tif (info.errors) {\n\t\t\tthrow new Error(info.errors);\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'GALLERY',\n\t\t\ttitle: info.title,\n\t\t\tcaption: info.description + (info.previousurl ? string.escape`<br/><a href=\"${info.previousurl}\">Previous part.</a>` : ''),\n\t\t\tcredits: string.escape`AAR by <a href=\"${info.authorurl}\">${info.author}</a>`,\n\t\t\tsrc: info.slides.map(({ desc, imglink }) => ({\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tcaption: desc,\n\t\t\t\tsrc: imglink,\n\t\t\t})),\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('adultswim', {\n\tname: 'Adult Swim',\n\tdomains: ['adultswim.com'],\n\tlogo: 'https://www.adultswim.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/videos\\/([^\\/]+\\/[^\\/]+)(?:\\/|$)/i).exec(pathname),\n\thandleLink(href, [, path]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://www.adultswim.com/utilities/embed/${path}`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('archilogic', {\n\tname: 'archilogic',\n\tdomains: ['spaces.archilogic.com'],\n\tlogo: 'https://about.archilogic.com/wp-content/uploads/2017/01/favicon-96x96.png',\n\tdetect: ({ pathname }) => (/^\\/(3d|model)/).exec(pathname),\n\thandleLink(href) {\n\t\tconst formattedUrl = href\n\t\t\t.replace('/model/', '/3d/') // force /3d/\n\t\t\t.replace('http:', 'https:'); // force https\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: formattedUrl,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('archive.is', {\n\tname: 'archive.is',\n\tdomains: ['archive.is'],\n\tlogo: 'https://archive.is/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(\\w+)(?:\\/|$)/i).exec(pathname),\n\thandleLink(href, [, code]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://archive.fo/${code}/scr.png`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('bime', {\n\tname: 'Bime Analytics Dashboards',\n\tdomains: ['bime.io'],\n\tlogo: 'https://a.bime.io/assets/favicons/favicon.ico',\n\tdetect: ({ href }) => (/https?:\\/\\/([^.]+)\\.bime\\.io(?:\\/([a-z0-9_-]+))+/i).exec(href),\n\thandleLink: (href, [, user, dashboardId]) => ({\n\t\ttype: 'IFRAME',\n\t\tembed: `https://${user}.bime.io/dashboard/${dashboardId}`,\n\t\texpandoClass: 'selftext',\n\t\twidth: '960px',\n\t\theight: '540px',\n\t}),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('clyp', {\n\tname: 'clyp',\n\tdomains: ['clyp.it'],\n\tlogo: 'https://d2cjvbryygm0lr.cloudfront.net/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(playlist\\/)?([A-Za-z0-9]+)/i).exec(pathname),\n\thandleLink(href, [, playlist, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://clyp.it/${playlist ? 'playlist/' : ''}${id}/widget`,\n\t\t\theight: '160px',\n\t\t\twidth: '600px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('codepen', {\n\tname: 'CodePen',\n\tdomains: ['codepen.io'],\n\tattribution: false, // shown in embed\n\tdetect: ({ pathname }) => (/^\\/(?!anon)([a-z0-9_-]+)\\/(?:pen|full|details|debug)\\/([a-z]+)\\b/i).exec(pathname),\n\thandleLink(href, [, user, hash]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tmuted: true,\n\t\t\theight: '500px',\n\t\t\twidth: '700px',\n\t\t\texpandoClass: 'selftext',\n\t\t\tembed: `https://codepen.io/${user}/embed/${hash}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('coub', {\n\tname: 'Coub',\n\tdomains: ['coub.com'],\n\tdetect: ({ pathname }) => (/^\\/(?:view|embed)\\/(\\w+)(\\.gifv)?/i).exec(pathname),\n\thandleLink(href, [, hash, isGifv]) {\n\t\tconst src = isGifv ?\n\t\t\t`https://coub.com/view/${hash}.gifv?res=true` :\n\t\t\t`https://coub.com/embed/${hash}?autoplay=true&res=true`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tmuted: !!isGifv,\n\t\t\tembed: src,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('dailymotion', {\n\tname: 'dailymotion',\n\tdomains: ['dailymotion.com'],\n\tlogo: 'https://static1.dmcdn.net/images/favicons/favicon-32x32.png.vb5b47df6329123929',\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:(?:www|touch)\\.)?dailymotion.com[\\w\\-\\/:#]+video[\\/=]([a-z0-9]+)/i).exec(href),\n\thandleLink(href, [, hash]) {\n\t\tconst embed = `https://www.dailymotion.com/embed/video/${hash}?api=postMessage`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tembedAutoplay: `${embed}&autoplay=1`,\n\t\t\tpause: 'pause',\n\t\t\tplay: 'play',\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('default', {\n\tname: 'default',\n\tdomains: [],\n\tdetect: ({ pathname }) => (/\\.(gif|jpe?g|png|svg)$/i).test(pathname),\n\thandleLink(href) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('defaultAudio', {\n\tname: 'defaultAudio',\n\tdomains: [],\n\tdetect: ({ pathname }) => (/\\.(opus|weba|ogg|wav|mp3|flac)$/i).exec(pathname),\n\thandleLink(href, [, extension]) {\n\t\t// Change weba and opus to their correct containers.\n\t\tif (extension === 'weba') extension = 'webm';\n\t\tif (extension === 'opus') extension = 'ogg';\n\n\t\tconst format = `audio/${extension}`;\n\n\t\treturn {\n\t\t\ttype: 'AUDIO',\n\t\t\tautoplay: true,\n\t\t\tloop: false,\n\t\t\tsources: [{\n\t\t\t\tfile: href,\n\t\t\t\ttype: format,\n\t\t\t}],\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('defaultVideo', {\n\tname: 'defaultVideo',\n\tdomains: [],\n\tdetect: ({ pathname }) => (/\\.(webm|mp4|ogv|3gp|mkv)$/i).exec(pathname),\n\thandleLink(href, [, extension]) {\n\t\t// Change ogv to ogg format.\n\t\tif (extension === 'ogv') extension = 'ogg';\n\n\t\tconst format = `video/${extension}`;\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tsources: [{\n\t\t\t\tsource: href,\n\t\t\t\ttype: format,\n\t\t\t}],\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { batch, string } from '../../utils';\n\nexport default new Host('derpibooru', {\n\tname: 'Derpibooru',\n\tlogo: 'https://derpibooru.org/favicon.ico',\n\tdomains: [\n\t\t'derpibooru.org',\n\t\t'trixiebooru.org',\n\t\t'derpiboo.ru', // Deprecated. Used for old links only.\n\t\t'derpicdn.net', // direct links\n\t],\n\n\tdetect: ({ hostname, pathname }) => (hostname === 'derpicdn.net' ?\n\t\t(/^\\/img\\/view\\/\\d+\\/\\d+\\/\\d+\\/(\\d+)[._]/i).exec(pathname) :\n\t\t(/^\\/(?:images\\/)?(\\d+)$/i).exec(pathname)\n\t),\n\n\thandleLink: (() => {\n\t\tconst fetchInfo = batch(async requests => {\n\t\t\tconst maxDepth = 10;\n\n\t\t\tconst { images } = await ajax({\n\t\t\t\turl: 'https://derpibooru.org/api/v2/images/show.json',\n\t\t\t\tquery: { ids: requests.map(r => r.id).join(',') },\n\t\t\t\ttype: 'json',\n\t\t\t});\n\n\t\t\tconst responseById = _.keyBy(images, img => img.id);\n\n\t\t\treturn requests.map(({ id, depth = 0 }: { id: string, depth?: number }) => {\n\t\t\t\tconst result = responseById[id];\n\n\t\t\t\tif (!result) {\n\t\t\t\t\t// API doesn't return a result for this image for some unknown reason\n\t\t\t\t\t// Example: https://derpibooru.org/api/v2/images/show.json?ids=17\n\t\t\t\t\treturn new Error('No result');\n\t\t\t\t} else if (result.duplicate_of) {\n\t\t\t\t\t// Duplicate image.\n\t\t\t\t\t// Example: https://derpibooru.org/api/v2/images/show.json?ids=975313\n\t\t\t\t\tif (depth > maxDepth) {\n\t\t\t\t\t\treturn new Error(`Exceeded max duplicate depth: ${maxDepth}`);\n\t\t\t\t\t}\n\t\t\t\t\treturn fetchInfo({ id: result.duplicate_of, depth: depth + 1 });\n\t\t\t\t} else if (result.image) {\n\t\t\t\t\t// Normal image.\n\t\t\t\t\t// Example: https://derpibooru.org/api/v2/images/show.json?ids=0\n\t\t\t\t\treturn result;\n\t\t\t\t} else {\n\t\t\t\t\t// Deleted image, or some other error.\n\t\t\t\t\t// Example: https://derpibooru.org/api/v2/images/show.json?ids=898402\n\t\t\t\t\treturn new Error('Image deleted or other error');\n\t\t\t\t}\n\t\t\t});\n\t\t}, { size: 50 });\n\n\t\treturn async (href, [, id]) => {\n\t\t\tconst { image, description, source_url: source } = await fetchInfo({ id });\n\n\t\t\treturn {\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tsrc: image,\n\t\t\t\tcaption: description,\n\t\t\t\tcredits: source ? string.escape`Source: <a href=\"${source}\">${source}</a>` : undefined,\n\t\t\t};\n\t\t};\n\t})(),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('deviantart', {\n\tname: 'deviantART',\n\tlogo: 'https://i.deviantart.net/icons/da_favicon.ico',\n\tdomains: ['deviantart.com', 'fav.me', 'sta.sh'],\n\tpermissions: ['https://backend.deviantart.com/oembed'],\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:fav\\.me\\/.*|sta\\.sh.*|(?:.+\\.)?deviantart\\.com\\/(?:(?:[\\w-]+\\/)?art\\/.*|[^#]*#\\/d.*))$/i).test(href),\n\tasync handleLink(href) {\n\t\tconst info = await ajax({\n\t\t\turl: 'https://backend.deviantart.com/oembed',\n\t\t\tquery: { url: href },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tswitch (info.type) {\n\t\t\tcase 'photo':\n\t\t\tcase 'link':\n\t\t\t\tlet src;\n\t\t\t\tif (info.fullsize_url) {\n\t\t\t\t\tsrc = info.fullsize_url;\n\t\t\t\t} else if ((/\\.(jpg|jpeg|gif|png)/i).test(info.url)) {\n\t\t\t\t\tsrc = info.url;\n\t\t\t\t} else {\n\t\t\t\t\tsrc = info.thumbnail_url;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\ttitle: info.title,\n\t\t\t\t\tcredits: `Art by: <a href=\"${info.author_url}\">${info.author_name}</a> @ deviantART`,\n\t\t\t\t\tsrc,\n\t\t\t\t};\n\t\t\tcase 'rich':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\ttitle: info.title,\n\t\t\t\t\tsrc: info.html + ((/[^\\s\\.]\\s*$/).test(info.html) ? '...' : ''),\n\t\t\t\t\tcredits: `<a href=\"${href}\">Click here to read the full text</a> - Written By: <a href=\"${info.author_url}\">${info.author_name}</a> @ deviantART`,\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unsupported deviantART post type: ${info.type}`);\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { genericHosts } from '../showImages';\n\nexport default new Host('dropbox', {\n\tname: 'dropbox',\n\tdomains: ['dropbox.com'],\n\tlogo: 'https://cfl.dropboxstatic.com/static/images/favicon-vflk5FiAC.ico',\n\tdetect(url) {\n\t\tfor (const host of genericHosts) {\n\t\t\tconst result = host.detect(url);\n\t\t\tif (result) return [host.handleLink, result];\n\t\t}\n\t},\n\thandleLink(href, [handler, result]) {\n\t\tconst originalURL = new URL(href);\n\t\treturn handler(`${originalURL.origin}${originalURL.pathname}?raw=1`, result);\n\t},\n});\n","/**\n *\n * It's worth commenting here that this is essentially \"reverse\" support. There is\n * no support for inline expansion of 500px.com links in RES. This module \"gives back\n * credit\" to 500px.com authors when someone posts their image directly, by figuring\n * out the original 500px.com link and adding a caption / link to 500px.com\n *\n */\n\n/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('fiveHundredPx', {\n\tname: 'fiveHundredPx',\n\tdomains: ['500px.org', '500px.net', '500px.com'],\n\tlogo: 'https://assetcdn.500px.org/assets/favicon-1e8257b93fb787f8ceb66b5522ee853c.ico',\n\tdetect: ({ href }) => (/^https?:\\/\\/\\w*cdn\\.500px\\.(?:net|com|org)\\/(?:photo\\/)?([0-9]+)\\//).exec(href),\n\thandleLink(href, [, photoId]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href.replace(/\\/[0-9]+\\.jpg$/, '/5.jpg'),\n\t\t\tcredits: `View original and details at: <a href=\"https://500px.com/photo/${photoId}\">500px.com</a>`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nfunction base58Encode(num) {\n\tconst alpha = '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ';\n\tlet enc = '';\n\tlet acc = num;\n\n\tdo {\n\t\tconst div = Math.floor(acc / 58);\n\t\tconst mod = acc - (58 * div);\n\t\tenc = `${alpha[mod]}${enc}`;\n\t\tacc = div;\n\t} while (acc);\n\n\treturn enc;\n}\n\nexport default new Host('flickr', {\n\tname: 'flickr',\n\tdomains: ['flickr.com', 'flic.kr', 'staticflickr.com'],\n\tpermissions: ['https://www.flickr.com/services/oembed'],\n\tlogo: 'https://s.yimg.com/pw/favicon.ico',\n\tdetect({ origin, href, pathname }) {\n\t\tif (origin.endsWith('staticflickr.com')) {\n\t\t\t// these urls requires some additional processing\n\t\t\tconst [, id] = (/(?:.+\\/)?\\d{4}\\/(\\d{10,})_/i).exec(pathname) || [];\n\t\t\t// encode the id and use a Flickr short-url\n\t\t\tif (id) return `https://flic.kr/p/${base58Encode(parseInt(id, 10))}`;\n\t\t} else {\n\t\t\treturn href;\n\t\t}\n\t},\n\tasync handleLink(href, oembedTarget) {\n\t\tconst info = await ajax({\n\t\t\turl: 'https://www.flickr.com/services/oembed',\n\t\t\tquery: { format: 'json', url: oembedTarget },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst validSuffix = /\\.(jpg|jpeg|gif|png)/i;\n\t\tconst src = validSuffix.test(oembedTarget) ? oembedTarget : // The oembed provides usually proides a ~~low resolution image, while the original link often is to the highest one\n\t\t\tvalidSuffix.test(info.url) ? info.url :\n\t\t\tvalidSuffix.test(info.thumbnail_url) ? info.thumbnail_url :\n\t\t\tundefined;\n\n\t\tif (!src) {\n\t\t\tthrow new Error('No image found.');\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\ttitle: info.title,\n\t\t\tcredits: `Picture by: <a href=\"${info.author_url}\">${info.author_name}</a> @ Flickr`,\n\t\t\tsrc,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('getyarn', {\n\tname: 'getyarn.io',\n\tlogo: 'https://getyarn.io/favicon.ico',\n\tdomains: ['getyarn.io'],\n\tdetect: ({ pathname }) => (/\\/yarn-clip\\/(?:embed\\/)?([\\w\\-]+)/i).exec(pathname),\n\thandleLink(href, [, code]) {\n\t\tconst embed = `https://getyarn.io/yarn-clip/embed/${code}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `${embed}?autoplay=false`,\n\t\t\tembedAutoplay: `${embed}?autoplay=true`,\n\t\t\theight: '600px', // size as per docs in https://getyarn.io/yarn-clip/embed-test/\n\t\t\twidth: '768px',\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY, string } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('gfycat', {\n\tname: 'gfycat',\n\tdomains: ['gfycat.com'],\n\tlogo: 'https://gfycat.com/favicon.ico',\n\toptions: {\n\t\tuseMobileGfycat: {\n\t\t\ttitle: 'gfycatUseMobileGfycatTitle',\n\t\t\tdescription: 'gfycatUseMobileGfycatDesc',\n\t\t\tvalue: false,\n\t\t\ttype: 'boolean',\n\t\t},\n\t},\n\tdetect: ({ pathname }) => (/^\\/(?:(?:ifr|gifs\\/detail)\\/)?(\\w+)(?:\\.gif)?/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst isMobileResolution = this.options.useMobileGfycat.value;\n\n\t\tconst info = (await ajax({\n\t\t\turl: string.encode`https://api.gfycat.com/v1/gfycats/${id}`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t})).gfyItem;\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tframeRate: info.frameRate,\n\t\t\tloop: true,\n\t\t\tmuted: !info.hasAudio,\n\t\t\tplaybackRate: +(href.match(/[?|&]speed=([\\d\\.]+)/i) || [undefined, 1])[1],\n\t\t\tposter: isMobileResolution ? info.mobilePosterUrl : info.posterUrl,\n\t\t\tsources: [isMobileResolution && {\n\t\t\t\tsource: info.mobileUrl,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}, {\n\t\t\t\tsource: info.webmUrl,\n\t\t\t\ttype: 'video/webm',\n\t\t\t}, {\n\t\t\t\tsource: info.mp4Url,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}].filter(x => x),\n\t\t\ttime: +(href.match(/[?|&]frameNum=([\\d]+)/i) || [undefined, 0])[1] / info.frameRate,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('gifs', {\n\tname: 'gifs.com',\n\tdomains: ['gifs.com', 'gifyoutube.com', 'gifyt.com'],\n\tlogo: 'https://cdn.gifs.com/resources/favicon.png',\n\tdetect: ({ href }) => (\n\t\t(/^https?:\\/\\/(?:beta\\.|www\\.)?(?:gifyoutube|gifyt)\\.com\\/gif\\/(\\w+)\\.?/i).exec(href) ||\n\t\t(/^https?:\\/\\/share\\.gifyoutube\\.com\\/(\\w+)\\.gif/i).exec(href)\n\t),\n\tasync handleLink(href, [, id]) {\n\t\tconst { sauce } = await ajax({\n\t\t\turl: `https://gifs.com/api/${id}`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tloop: true,\n\t\t\tfallback: `https://share.gifyoutube.com/${id}.gif`,\n\t\t\tmuted: true,\n\t\t\tsource: sauce,\n\t\t\tsources: [{\n\t\t\t\tsource: `https://share.gifyoutube.com/${id}.webm`,\n\t\t\t\ttype: 'video/webm',\n\t\t\t}, {\n\t\t\t\tsource: `https://share.gifyoutube.com/${id}.mp4`,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport logo from '../../images/hosts/giphy-logo.png';\n\nexport default new Host('giphy', {\n\tname: 'giphy',\n\tdomains: ['giphy.com'],\n\tlogo,\n\tdetect: ({ pathname }) => (/^(?:\\/gifs|\\/media|)\\/(?:\\w+-)*([^/.]+)(?:\\/|\\.gif|$)/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst { data } = await ajax({\n\t\t\turl: `https://api.giphy.com/v1/gifs/${id}`,\n\t\t\tquery: { api_key: 'dc6zaTOxFJmzC' },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tfallback: data.images.original.url,\n\t\t\tloop: true,\n\t\t\tmuted: true,\n\t\t\tsources: [{\n\t\t\t\tsource: data.images.original.mp4,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t};\n\t},\n});\n","var r;function e(r){for(;0<r.length;){var e=r.shift();if(\"function\"==typeof e)e();else{var i=e.m;\"number\"==typeof i?void 0===e.l?n.dynCall_v(i):n.dynCall_vi(i,e.l):i(void 0===e.l?null:e.l)}}}function i(r){return r.replace(/\\b__Z[\\w\\d_]+/g,function(r){return r==r?r:r+\" [\"+r+\"]\"})}function a(){var e=Error();if(!e.stack){try{throw Error(0)}catch(r){e=r}if(!e.stack)return\"(no stack trace available)\"}return\"\"+e.stack}function l(r){var e=1+(r.length<<2),i=x(e),a=b,f=i;if(0<e){e=f+e-1;for(var n=0;n<r.length;++n){var t=r.charCodeAt(n);if(55296<=t&&t<=57343&&(t=65536+((1023&t)<<10)|1023&r.charCodeAt(++n)),t<=127){if(e<=f)break;a[f++]=t}else{if(t<=2047){if(e<=f+1)break;a[f++]=192|t>>6}else{if(t<=65535){if(e<=f+2)break;a[f++]=224|t>>12}else{if(e<=f+3)break;a[f++]=240|t>>18,a[f++]=128|t>>12&63}a[f++]=128|t>>6&63}a[f++]=128|63&t}}a[f]=0}return i}function f(r,e,i){var a=I();\"string\"!=typeof e&&(e=\"\");for(var f=l(e),n=0,t=0;t<e.length;++t){var o=e.charCodeAt(t);55296<=o&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++t)),o<=127?++n:n=o<=2047?n+2:o<=65535?n+3:n+4}if(\"object\"==typeof i&&null!==i||(i={}),r=r(f,e=n,n=i.nofollow?1:0,t=\"string\"==typeof i.target?l(i.target):0,o=\"string\"==typeof i.tocIdPrefix?l(i.tocIdPrefix):0,i.enableToc?1:0)){for(f=(i=r)+NaN,e=\"\";!(f<=i)&&(n=b[i++]);)128&n?(t=63&b[i++],192==(224&n)?e+=String.fromCharCode((31&n)<<6|t):(o=63&b[i++],(n=224==(240&n)?(15&n)<<12|t<<6|o:(7&n)<<18|t<<12|o<<6|63&b[i++])<65536?e+=String.fromCharCode(n):e+=String.fromCharCode(55296|(n-=65536)>>10,56320|1023&n))):e+=String.fromCharCode(n);i=e}else i=\"\";return A(r),E(a),i}r||(r={});var n={},t={};for(y in n)n.hasOwnProperty(y)&&(t[y]=n[y]);var o=console.log.bind(console),c=console.warn.bind(console);for(y in t)t.hasOwnProperty(y)&&(n[y]=t[y]);t=null;var s,u,b,k,v,d=0,h=!1;s=v=s=n.buffer?n.buffer:new ArrayBuffer(16777216),n.HEAP8=u=new Int8Array(v),n.HEAP16=new Int16Array(v),n.HEAP32=k=new Int32Array(v),n.HEAPU8=b=new Uint8Array(v),n.HEAPU16=new Uint16Array(v),n.HEAPU32=new Uint32Array(v),n.HEAPF32=new Float32Array(v),n.HEAPF64=new Float64Array(v),k[2296]=5252256;var w=[],m=[],_=[],p=[];n.preloadedImages={},n.preloadedAudios={},t=null,t='\\0\\0\\0\\0\\0\\0\\0\\0\u0002\u0015\\0\\0\u0005\u0015\\0\\0\\b\u0015\\0\\0\u0015\\0\\0\\v\u0015\\0\\0\u0011\u0015\\0\\0\u0017\u0015\\0\\0\u001d\u0015\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0%\u0015\\0\\0-\u0015\\0\\x005\u0015\\0\\0A\u0015\\0\\0M\u0015\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0O\u0016\\0\\0S\u0015\\0\\0\\\\\u0015\\0\\0c\u0015\\0\\0m\u0015\\0\\0o\u0015\\0\\0v\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0#\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0#\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0003\u0016\\0\\0\\n\u0016\\0\\0\\r\u0016\\0\\0#\\0\\0\u0016\u0016\\0\\0#\\0\\0\u0019\u0016\\0\\0\u001c\u0016\\0\\0#\\0\\0#\\0\\0 \u0016\\0\\0\\'\u0016\\0\\0*\u0016\\0\\0#\\0\\0~\u0017\\0\\x003\u0016\\0\\0:\u0016\\0\\0=\u0016\\0\\0#\\0\\0#\\0\\0#\\0\\0A\u0016\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0D\u0016\\0\\0G\u0016\\0\\0\\0\\0\\0\\0&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\\b\u001e\u0019\u0014\u000f\\n&&&&&&&&&&\\0&\\0&\u0005\u0005\u0005\u000f\\0&&\\0\u000f\\n\\0&&\u000f\\0\u0005&&&&&&&&&&&&\\0&\\0&\u0005\u0005\u0005\u000f\\0&&\\0\u000f\\n\\0&&\u000f\\0\u0005&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0003\\0\\0\\0\u0004\\0\\0\\0\u0005\\0\\0\\0\u0006\\0\\0\\0\u0007\\0\\0\\0\\b\\0\\0\\0\\t\\0\\0\\0\\n\\0\\0\\0\\v\\0\\0\\0\\f\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\\0\\0\u0002\u0002\\0\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\\0\u0001\\0\u0001\u0001\u0001\\0\\0\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\\0\u0001\\0\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\\0\\0\\0\\0\u0001\\0\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\x000123456789ABCDEF\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\\0\\0\u0007\u0007\\0\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\\0\\0\u0001\\0\\0\\0\u0002\u0003\\0\\0\\0\\0\\0\\0\\0\u0004\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0005\\0\u0006\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0#\\0\\0\u001c\\0\\0\u0019\\0\\0v\u0016\\0\\0|\u0016\\0\\0\u0019\\0\\0R\u001d\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\u0019\\0\\0$\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0*\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\x000\u0019\\0\\x006\u0019\\0\\0=\u0019\\0\\0#\\0\\0#\\0\\0E\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0K\u0019\\0\\0Q\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0X\u0019\\0\\0^\u0019\\0\\0e\u0019\\0\\0m\u0019\\0\\0#\\0\\0v\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0|\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0\u0002\u001a\\0\\0\\b\u001a\\0\\0\u000f\u001a\\0\\0\u0017\u001a\\0\\0#\\0\\0#\\0\\0 \u001a\\0\\0#\\0\\0%\u001a\\0\\0.\u001a\\0\\x008\u001a\\0\\0>\u001a\\0\\0C\u001a\\0\\0#\\0\\0K\u001a\\0\\0#\\0\\0P\u001a\\0\\0U\u001a\\0\\0#\\0\\0#\\0\\0]\u001a\\0\\0c\u001a\\0\\0j\u001a\\0\\0#\\0\\0#\\0\\0r\u001a\\0\\0#\\0\\0}\u001a\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0\u0001\u001b\\0\\0\\b\u001b\\0\\0\u000f\u001b\\0\\0#\\0\\0#\\0\\0\u0017\u001b\\0\\0\u001e\u001b\\0\\0%\u001b\\0\\0-\u001b\\0\\0#\\0\\x004\u001b\\0\\0#\\0\\0:\u001b\\0\\0#\\0\\0#\\0\\0B\u001b\\0\\0I\u001b\\0\\0#\\0\\0#\\0\\0#\\0\\0P\u001b\\0\\0V\u001b\\0\\0[\u001b\\0\\0c\u001b\\0\\0#\\0\\0#\\0\\0l\u001b\\0\\0#\\0\\0s\u001b\\0\\0#\\0\\0|\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0#\\0\\0\u001b\\0\\0#\\0\\0\u001b\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001b\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001b\\0\\0\u001b\\0\\0#\\0\\0#\\0\\0\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0#\\0\\0\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0#\\0\\0\u001b\\0\\0\u001b\\0\\0\u0003\u001c\\0\\0\\v\u001c\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0014\u001c\\0\\0\u001c\u001c\\0\\0%\u001c\\0\\0#\\0\\0#\\0\\0-\u001c\\0\\x005\u001c\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0>\u001c\\0\\0#\\0\\0#\\0\\0#\\0\\0E\u001c\\0\\0N\u001c\\0\\0S\u001c\\0\\0Y\u001c\\0\\0`\u001c\\0\\0f\u001c\\0\\0#\\0\\0#\\0\\0o\u001c\\0\\0v\u001c\\0\\0~\u001c\\0\\0#\\0\\0#\\0\\0\u001c\\0\\0\u001c\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0#\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0#\\0\\0#\\0\\0\u001c\\0\\0\u001c\\0\\0\\0\u001d\\0\\0\\t\u001d\\0\\0\u000e\u001d\\0\\0\u0016\u001d\\0\\0\u001d\u001d\\0\\0#\\0\\0#\\0\\0%\u001d\\0\\0-\u001d\\0\\0#\\0\\x004\u001d\\0\\0=\u001d\\0\\0E\u001d\\0\\0K\u001d\\0\\0#\\0\\0#\\0\\0R\u001d\\0\\0W\u001d\\0\\0]\u001d\\0\\0d\u001d\\0\\0#\\0\\0n\u001d\\0\\0v\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0#\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0#\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0#\\0\\0\u001d\\0\\0#\\0\\0\u001d\\0\\0#\\0\\0#\\0\\0\u001d\\0\\0\u001d\\0\\0#\\0\\0#\\0\\0\u0004\u001e\\0\\0\\f\u001e\\0\\0#\\0\\0\u0015\u001e\\0\\0#\\0\\0\u001e\u001e\\0\\0&\u001e\\0\\0-\u001e\\0\\x005\u001e\\0\\0>\u001e\\0\\0E\u001e\\0\\0M\u001e\\0\\0T\u001e\\0\\0\\\\\u001e\\0\\0#\\0\\0b\u001e\\0\\0j\u001e\\0\\0q\u001e\\0\\0y\u001e\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0\u0002\u001f\\0\\0\\n\u001f\\0\\0\u0011\u001f\\0\\0\u001b\u001f\\0\\0#\\0\\0#\\0\\0$\u001f\\0\\0+\u001f\\0\\x003\u001f\\0\\0#\\0\\0<\u001f\\0\\0#\\0\\0C\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0K\u001f\\0\\0S\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0\\\\\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0d\u001f\\0\\0n\u001f\\0\\0#\\0\\0#\\0\\0w\u001f\\0\\0#\\0\\0~\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\\b \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u000f \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0015 \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001b \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0# \\0\\0+ \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\x003 \\0\\0< \\0\\0#\\0\\0#\\0\\0#\\0\\0D \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0M \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0V \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0_ \\0\\0#\\0\\0#\\0\\0#\\0\\0g \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0p \\0\\0y \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0 \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0 \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0 \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0 \\0\\0\\0\\0\\0\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\\0\\0_\\0Z\\0\\0\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\\0\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003s\\0^\\x007\\0\\0\\0\\0\u0019\\0\\0\\0\u001e\\0\\0\u0003\u0003\u001e\\0\u001e\\0\u0005\\0#\\0-\\0-\\0\u0003\u0003\\n\\0\\0\\x002\\0}\\0\u0003\u0003\u0003\u0003\u0005\\0U\\0K\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003(\\0A\\0\u0014\\0\u0019\\0<\\0\\0\\0\\0\\n\\0f\\0\u0014\\0#\\0\\0\\0\\0\u0005\\0\\n\\0\\0\u0014\\0\u0005\\0\\0\\x002\\0K\\0\\n\\0K\\0\\0U\\0\u000f\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\u0002\u0003\u0004\u0005\u0006\u0007\\b\\t\\n\\v\\f\\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#\\n\\v\\f\\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0@\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0003\\0\\0\\0\u0004\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\\0\\0\\0\\0\u0005\\0\\0\\0\u0006\\0\\0\\0\u0007\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0003\\0\\0\\0\u0003\\0\\0\\0\u0002\\0\\0\\0\u0004\\0\\0\\0\u0005\\0\\0\\0\u0004\\0\\0\\0\u0006\\0\\0\\0\u0005\\0\\0\\0\u0001\\0\\0\\0\u0001\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0003\\0\\0\\0\u0004\\0\\0\\0\u0002\\0\\0\\0\u0001\\0\\0\\0\u0003\\0\\0\\0\\b\\0\\0\\0\u0005\\0\\0\\0\u0006\\0\\0\\0\u0007\\0\\0\\0\\0\\0\\0\\0\u0006\\0\\0\\0\\0\\0\\0\\0\u0003\\0\\0\\0 rel=\"nofollow\"\\0 target=\"\\0tr\\0th\\0td\\0tbody\\0thead\\0tfoot\\0caption\\0colspan\\0rowspan\\0cellspacing\\0cellpadding\\0scope\\0https://\\0ftp://\\0mailto://\\0/\\0git://\\0steam://\\0irc://\\0news://\\0mumble://\\0ssh://\\0ircs://\\0ts3server://\\0#\\0www.\\0?!.,\\0.+-_\\0all-\\0reddit.com\\0t:\\0p\\0dl\\0div\\0math\\0table\\0ul\\0del\\0form\\0blockquote\\0figure\\0ol\\0fieldset\\0h1\\0h6\\0pre\\0script\\0h5\\0noscript\\0iframe\\0h4\\0ins\\0h3\\0h2\\0span\\0http://\\0\\\\`*_{}[]()#+-.!:|&<>/^~\\0&#x27;\\0&#39;\\0&#47;\\0</li>\\n</ul>\\n\\0</div>\\n\\0<sup>\\0</sup>\\0<del>\\0</del>\\0<strong><em>\\0</em></strong>\\0<em>\\0</em>\\0<strong>\\0</strong>\\0<span class=\"md-spoiler-text\">\\0</span>\\0<code>\\0</code>\\0<div class=\"toc\">\\n\\0<ul>\\n<li>\\n\\0</li>\\n\\0</ul>\\n</li>\\n\\0<li>\\n\\0</li>\\n<li>\\n\\0<a href=\"#\\0toc_\\0\">\\0</a>\\n\\0style\\0a\\0img\\0=\"\\0<a href=\"\\0\" title=\"\\0</a>\\0<br>\\n\\0<br/>\\n\\0<img src=\"\\0\" alt=\"\\0\"/>\\0mailto:\\0<th\\0<td\\0 colspan=\"\\0\" \\0 align=\"center\">\\0 align=\"left\">\\0 align=\"right\">\\0>\\0</th>\\n\\0</td>\\n\\0<tr>\\n\\0</tr>\\n\\0<table><thead>\\n\\0</thead><tbody>\\n\\0</tbody></table>\\n\\0<p>\\0</p>\\n\\0<li>\\0<ol>\\n\\0<ul>\\n\\0</ol>\\n\\0</ul>\\n\\0<hr>\\n\\0<hr/>\\n\\0<h\\0 id=\"\\0</h\\0>\\n\\0<blockquote class=\"md-spoiler-text\">\\n\\0</blockquote>\\n\\0<blockquote>\\n\\0<pre><code class=\"\\0<pre><code>\\0</code></pre>\\n\\0&or;\\0&not;\\0&int;\\0&psi;\\0&isin;\\0&notin;\\0&Rho;\\0&phi;\\0&prop;\\0&rho;\\0&nbsp;\\0&thorn;\\0&thinsp;\\0&chi;\\0&prod;\\0&amp;\\0&Psi;\\0&iota;\\0&omicron;\\0&Phi;\\0&and;\\0&sdot;\\0&nu;\\0&Chi;\\0&emsp;\\0&Mu;\\0&ensp;\\0&ocirc;\\0&lt;\\0&uml;\\0&icirc;\\0&sup;\\0&sup1;\\0&Scaron;\\0&cap;\\0&part;\\0&pound;\\0&scaron;\\0&ni;\\0&lowast;\\0&Omicron;\\0&cup;\\0&Xi;\\0&crarr;\\0&Nu;\\0&pi;\\0&theta;\\0&tau;\\0&nsub;\\0&acirc;\\0&thetasym;\\0&Ocirc;\\0&rarr;\\0&ucirc;\\0&loz;\\0&darr;\\0&trade;\\0&para;\\0&ecirc;\\0&larr;\\0&radic;\\0&sub;\\0&Pi;\\0&kappa;\\0&iquest;\\0&eta;\\0&supe;\\0&rceil;\\0&there4;\\0&rArr;\\0&uarr;\\0&Kappa;\\0&dArr;\\0&euro;\\0&Theta;\\0&circ;\\0&Tau;\\0&lceil;\\0&lArr;\\0&ordm;\\0&lrm;\\0&xi;\\0&acute;\\0&ccedil;\\0&sup3;\\0&ntilde;\\0&uArr;\\0&sup2;\\0&piv;\\0&otilde;\\0&shy;\\0&Acirc;\\0&curren;\\0&Ucirc;\\0&oacute;\\0&sube;\\0&nabla;\\0&iacute;\\0&mu;\\0&bull;\\0&oline;\\0&Ccedil;\\0&sum;\\0&copy;\\0&equiv;\\0&Ntilde;\\0&prime;\\0&atilde;\\0&tilde;\\0&Ecirc;\\0&Otilde;\\0&apos;\\0&aacute;\\0&ne;\\0&Eta;\\0&macr;\\0&sim;\\0&Oacute;\\0&Iota;\\0&empty;\\0&uacute;\\0&ouml;\\0&exist;\\0&iuml;\\0&Prime;\\0&eacute;\\0&rsquo;\\0&cent;\\0&zwj;\\0&zwnj;\\0&quot;\\0&sbquo;\\0&sect;\\0&infin;\\0&otimes;\\0&cong;\\0&Icirc;\\0&brvbar;\\0&le;\\0&lsquo;\\0&ordf;\\0&clubs;\\0&oplus;\\0&perp;\\0&Yacute;\\0&micro;\\0&ang;\\0&auml;\\0&gt;\\0&rlm;\\0&Ouml;\\0&upsilon;\\0&minus;\\0&middot;\\0&uuml;\\0&aring;\\0&Atilde;\\0&divide;\\0&rsaquo;\\0&epsilon;\\0&times;\\0&ETH;\\0&euml;\\0&szlig;\\0&frac14;\\0&diams;\\0&oslash;\\0&Aacute;\\0&lsaquo;\\0&Delta;\\0&rdquo;\\0&spades;\\0&Uacute;\\0&raquo;\\0&rang;\\0&frasl;\\0&rfloor;\\0&harr;\\0&ndash;\\0&Yuml;\\0&cedil;\\0&eth;\\0&ldquo;\\0&real;\\0&THORN;\\0&plusmn;\\0&laquo;\\0&lang;\\0&delta;\\0&lfloor;\\0&beta;\\0&omega;\\0&Eacute;\\0&Oslash;\\0&image;\\0&weierp;\\0&Zeta;\\0&OElig;\\0&hArr;\\0&Auml;\\0&asymp;\\0&Lambda;\\0&bdquo;\\0&zeta;\\0&Upsilon;\\0&lambda;\\0&Uuml;\\0&Aring;\\0&yacute;\\0&Beta;\\0&Gamma;\\0&iexcl;\\0&forall;\\0&Omega;\\0&Epsilon;\\0&Iacute;\\0&Euml;\\0&frac34;\\0&frac12;\\0&yen;\\0&yuml;\\0&ograve;\\0&AElig;\\0&igrave;\\0&Iuml;\\0&alpha;\\0&permil;\\0&agrave;\\0&mdash;\\0&Ograve;\\0&ugrave;\\0&upsih;\\0&ge;\\0&egrave;\\0&fnof;\\0&reg;\\0&deg;\\0&Sigma;\\0&sigma;\\0&Alpha;\\0&hearts;\\0&oelig;\\0&Agrave;\\0&Ugrave;\\0&hellip;\\0&aelig;\\0&Egrave;\\0&Igrave;\\0&gamma;\\0&Dagger;\\0&dagger;\\0&alefsym;\\0&sigmaf;\\0\\0\u0001\u0002\u0004\u0007\u0003\u0006\u0005';var y=(function(r,e,i){function t(r,e,i){e|=0;var a=112+(r|=0)|0;if(0|i){i=0|r;var f=0|a;for(ze[f>>2]=0,ze[f+4>>2]=0,ze[f+8>>2]=0,ze[f+12>>2]=0,ze[f+16>>2]=0,ze[f+20>>2]=0,ze[f+24>>2]=0,ze[f+28>>2]=0,ze[f+16>>2]=65,f=5128,e=i+112|0;ze[i>>2]=ze[f>>2],f=f+4|0,(0|(i=i+4|0))<(0|e););}else{i=0|r,e|=0,ze[(f=0|a)>>2]=0,ze[f+4>>2]=0,ze[f+8>>2]=0,ze[f+12>>2]=0,ze[f+16>>2]=0,ze[f+20>>2]=0,ze[f+24>>2]=0,ze[f+28>>2]=0,ze[f+16>>2]=e;for(var n=5240,t=(f=i)+112|0;ze[f>>2]=ze[n>>2],n=n+4|0,(0|(f=f+4|0))<(0|t););4&e|0&&(ze[i+68>>2]=0),8&e|0&&(ze[i+76>>2]=0,ze[i+48>>2]=0),513&e|0&&(ze[i+12>>2]=0)}if(ze[r+140>>2]=7,ze[r+132>>2]=16,ze[r+136>>2]=64,r|=0,a|=0,i=0|L(444)){for(f=(e=i)+112|0;ze[e>>2]=ze[r>>2],r=r+4|0,(0|(e=e+4|0))<(0|f););u(i+404|0,4),u(i+416|0,8),nr(i+148|0,0,256),(0!=(0|ze[i+64>>2])||0!=(0|ze[i+60>>2])||0|ze[i+84>>2])&&(je[i+190>>0]=1,je[i+243>>0]=1,je[i+210>>0]=1,je[i+274>>0]=1),0|ze[i+52>>2]&&(je[i+244>>0]=2),0|ze[i+72>>2]&&(je[i+158>>0]=3),(0!=(0|ze[i+68>>2])||0|ze[i+76>>2])&&(je[i+239>>0]=4),je[i+208>>0]=5,je[i+240>>0]=6,je[i+186>>0]=7,je[i+212>>0]=9,je[i+206>>0]=8,je[i+267>>0]=10,je[i+195>>0]=11,je[i+242>>0]=12,ze[i+428>>2]=155,ze[i+112>>2]=a,ze[i+432>>2]=16,ze[i+436>>2]=64,ze[i+440>>2]=0}else i=0;return 0|i}function o(r,e,i,a,f,n,t){r|=0,e|=0,f|=0,t|=0;var o=0|ze[8368+((n|=0)<<4)>>2],l=0|ze[8372+(n<<4)>>2],c=0|ze[8376+(n<<4)>>2],s=0|ze[8380+(n<<4)>>2];ze[c+144>>2]=0|i,ze[c+148>>2]=0|a;var u=0|C(128);return i=0|ze[(n=c+128|0)>>2],0|t&&(ze[(t=s+124|0)>>2]=f,b(u,r,e,l),ze[t>>2]=0,ze[n>>2]|=64),ze[(a=c+124|0)>>2]=f,b(u,r,e,o),ze[a>>2]=0,ze[n>>2]=i,i=0|L(1+(n=0|ze[u+4>>2])|0),(je[i+n>>0]=0)|(a=0|ze[u>>2])&&fr(0|i,0|a,0|n),S(u),0|i}function k(r,e){r|=0,e|=0;var i=0;r:for(;;){if(14<=i>>>0){var a=0;break}var f=0|D(a=0|ze[96+(i<<2)>>2]);if(f>>>0<e>>>0&&0==(0|F(r,a,f))){if(0|Ke(255&(a=0|je[r+f>>0]))){a=1;break}switch(a<<24>>24){case 35:case 47:case 63:a=1;break r}}i=i+1|0}return 0|a}function v(r,e){var i;if(!(0|Ke(0|Be[(r|=0)>>0])))return 0;var a=(0|e)-1|0;for(e=0,i=1;!(a>>>0<=i>>>0);){var f=0|je[r+i>>0];if(46!=f<<24>>24){if(!(45==f<<24>>24|0!=(0|Ke(255&f))))break}else e=e+1|0;i=i+1|0}return 0|(0==(0|e)?0:i)}function h(r,e){r|=0,e|=0;var i,a,f=0,n=0,t=0,o=0;for(i=0;;){if(e>>>0<=i>>>0){i=e;break}if(60==(0|je[r+i>>0]))break;i=i+1|0}r:for(;;){if(!i){i=0;break}if(!((e=0|je[r+(o=i+-1|0)>>0])<<24>>24))break;do{if(!(0|z(5563,255&e,5))){switch(e<<24>>24){case 34:f=20;break r;case 39:f=21;break r;case 41:n=40,t=41,f=22;break r;case 93:f=18;break r;case 125:f=19;break r;case 59:break;default:break r}for(i=e=i+-2|0;;){if(!i){i=0;break}if(!(((32|Be[r+i>>0])-97|0)>>>0<26|0))break;i=i+-1|0}if(i>>>0<e>>>0&&38==(0|je[r+i>>0]))break}i=o}while(0)}if(18==(0|f)?(n=91,t=93,f=22):19==(0|f)?(n=123,t=125,f=22):20==(0|f)?(t=n=34,f=22):21==(0|f)&&(t=n=39,f=22),22==(0|f)){for(a=f=e=0;(0|e)!=(0|i);){var l=0|je[r+e>>0],c=(0|n)==(255&l|0);e=e+1|0,f=f+(1&c)|0,a=a+(l<<24>>24==t<<24>>24&(1^c)&1)|0}i=(0|a)==(0|f)?i:o}return 0|i}function g(r,e,i,a,f){r|=0,e|=0,i|=0,a|=0,f|=0;do{if(0==(0|e)|a>>>0<2||(0|Be[r+-1>>0])!=(f<<24>>24|0))r=0;else{if(1<e>>>0){if(47==(r=(f=0|je[r+-2>>0])<<24>>24)){r=2;break}if(0|B(r)){r=1;break}return 0!=(0|R(r))|0}r=2<i>>>0&&47==(0|je[r+-2>>0])&&92==(0|je[r+-3>>0])?0:1}}while(0);return 0|r}function A(r,e){if(r|=0,(e|=0)>>>0<=16777216){var i=r+8|0,a=0|ze[i>>2];if(a>>>0<e>>>0){for(var f=0|ze[r+12>>2],n=a;(n=n+f|0)>>>0<e>>>0;);a=(a=0|V(0|ze[r>>2],n))?(ze[r>>2]=a,ze[i>>2]=n,0):-1}else a=0}else a=-1;return 0|a}function C(r){r|=0;var e=0|L(16);return 0|e&&(ze[e>>2]=0,ze[e+8>>2]=0,ze[e+4>>2]=0,ze[e+12>>2]=r),0|e}function de(r,e,i){e|=0;var a=0,f=4+(r|=0)|0,n=0|ze[f>>2],t=n+(i|=0)|0;(0|ze[r+8>>2])>>>0<t>>>0?0<=(0|A(r,t))&&(n=0|ze[f>>2],a=4):a=4,4==(0|a)&&(fr((0|ze[r>>2])+n|0,0|e,0|i),ze[f>>2]=(0|ze[f>>2])+i)}function y(r,e){de(0|r,e|=0,0|D(e))}function he(r,e){e|=0;var i=0,a=4+(r|=0)|0,f=0|ze[a>>2],n=f+1|0;(0|ze[r+8>>2])>>>0<n>>>0?0<=(0|A(r,n))&&(f=0|ze[a>>2],i=4):i=4,4==(0|i)&&(je[(0|ze[r>>2])+f>>0]=e,ze[a>>2]=1+(0|ze[a>>2]))}function l(r,e){r|=0,e|=0;var i=De;De=De+16|0;for(var a=i,f=a+14|0;(0|(a=a+1|(je[a>>0]=0)))<(0|f););var n=(0|e)<0,t=0;for(f=n?0|-e:e;a=t+1|0,je[i+t>>0]=(e=f)+(0|lr(f=(0|f)/10|0,-10))+48,!((0|e)<=9);)t=a;for(n&&(je[i+a>>0]=45,a=t+2|0),f=0;!((0|(a=a+-1|0))<=(0|f));)e=0|je[(t=i+f|0)>>0],je[t>>0]=0|je[(n=i+a|0)>>0],je[n>>0]=e,f=f+1|0;y(r,i),De=i}function S(r){0|(r|=0)&&(Me(0|ze[r>>2]),Me(r))}function x(r){0|(r|=0)&&(Me(0|ze[r>>2]),ze[r>>2]=0,ze[r+8>>2]=0,ze[r+4>>2]=0)}function E(r,e){(e|=0)>>>0<=(0|ze[(r=4+(0|r)|0)>>2])>>>0&&(ze[r>>2]=e)}function b(r,e,i,a){r|=0,e|=0,i|=0,a|=0;var f=0,n=De;De=De+16|0;var t=0|C(64);if(0|t){A(t,i);var o=a+116|0;ze[o>>2]=0,ze[o+4>>2]=0,ze[o+8>>2]=0,ze[o+12>>2]=0,ze[o+16>>2]=0,ze[o+20>>2]=0,ze[o+24>>2]=0;for(var l=2<i>>>(ze[o+28>>2]=0)&&(l=0==(0|j(e,5708,3)))?3:0;!(i>>>0<=l>>>0);)r:do{var c=e,s=l,u=i,b=n,k=o;c|=0,u|=0,b|=0,k|=0;var v,d,h=0,w=3+(s|=0)|0;e:do{if(w>>>0<u>>>0){if(32==(0|je[c+s>>0]))if(32==(0|je[c+(s+1)>>0]))if(32==(0|je[c+(s+2)>>0])){if(32==(0|je[c+w>>0])){w=0;break}w=3}else w=2;else w=1;else w=0;if(91==(0|je[c+(w=w+s|0)>>0])){var m=d=w+1|0;i:for(;;){if(u>>>0<=m>>>0){w=0;break e}switch(0|je[c+m>>0]){case 13:case 10:w=0;break e;case 93:break i}m=m+1|0}var _=m+1|0;if(_>>>0<u>>>0&&58==(0|je[c+_>>0])){w=m+2|0;i:for(;!(u>>>0<=w>>>0);){switch((s=0|je[c+w>>0])<<24>>24){case 13:case 10:h=17;break i;case 32:break;default:break i}w=w+1|0}if(17==(0|h)){var p=w+1|0;w=p>>>0<u>>>0&&10==s<<24>>24&&13==(0|je[c+p>>0])?w+2|0:p}for(;;){if(u>>>0<=w>>>0){w=0;break e}if(32!=(s=0|je[c+w>>0])<<24>>24)break;w=w+1|0}w=_=w+(60==s<<24>>24&1)|0;i:for(;!(u>>>0<=w>>>0);){switch(0|je[c+w>>0]){case 13:case 10:case 32:break i}w=w+1|0}var y=w+-1|0;y=62==(0|je[c+y>>0])?y:w;i:for(;;){if(u>>>0<=w>>>0){h=31;break}switch(0|je[c+w>>0]){case 10:case 13:h=31;break i;case 40:case 39:case 34:s=0;break i;case 32:break;default:w=0;break e}w=w+1|0}if(31==(0|h)&&(s=w),v=(p=w+1|0)>>>0<u>>>0&&10==(0|je[c+w>>0])&&13==(0|je[c+p>>0])?p:s){for(s=v;!(u>>>0<=(w=s+1|0)>>>0)&&32==(0|je[c+w>>0]);)s=w;p=s+2|0}i:do{if(p>>>0<u>>>0){switch(0|je[c+w>>0]){case 40:case 34:case 39:break;default:p=u=0,w=v;break i}s=p;a:for(;;){if(u>>>0<=s>>>0){h=44;break}switch(w=s+1|0,0|je[c+s>>0]){case 10:case 13:break a;default:s=w}}44==(0|h)&&(w=s+1|0),w>>>0<u>>>0&&10==(0|je[c+s>>0])&&13==(0|je[c+w>>0])||(w=s);a:for(;;){if((s=s+-1|0)>>>0<=p>>>0){u=p,p=w,w=v;break i}switch(0|je[c+s>>0]){case 32:break;case 41:case 34:case 39:break a;default:u=p,p=w,w=v;break i}}u=p,p=s}else p=u=0,w=v}while(0);w=(0|y)==(0|_)|0==(0|w)?0:(0|b&&(ze[b>>2]=w),k?(s=k,w=c+d|0,d=m-d|0,s|=0,w|=0,d|=0,(m=0|Re(1,16))?(d=0|U(w,d),ze[m>>2]=d,ze[m+12>>2]=ze[(d=s+((7&d)<<2)|0)>>2],ze[d>>2]=m):m=0,(s=0|m)?(k=0|C(w=y-_|0),de(ze[s+4>>2]=k,c+_|0,w),w=p-u|0,u>>>0<p>>>0&&(k=0|C(w),de(ze[s+8>>2]=k,c+u|0,w)),1):0):1)}else w=0}else w=0}else w=0}while(0);if(0|w)l=0|ze[n>>2];else{b=l;e:for(;!(i>>>0<=b>>>0);){switch(0|je[e+b>>0]){case 10:case 13:break e}b=b+1|0}if(l>>>0<(ze[n>>2]=b)>>>0){for(c=t,u=e+l|0,l=b-l|0,c|=0,u|=0,l|=0,b=p=0;!(l>>>0<=p>>>0);){for(y=p;;){if(l>>>0<=y>>>0){k=0;break}if(9==(0|je[u+y>>0])){k=1;break}y=y+1|0,b=b+1|0}if(p>>>0<y>>>0&&de(c,u+p|0,y-p|0),!k)break;for(;he(c,32),0!=(3&(b=b+1|0)|0););p=y+1|0}l=0|ze[n>>2]}else l=b;for(;;){if(i>>>0<=l>>>0)break r;switch(0|je[e+l>>0]){case 10:f=20;break;case 13:(l=l+1|0)>>>0<i>>>0&&10!=(0|je[e+l>>0])&&(f=20);break;default:break r}20==(0|f)&&(f=0,he(t,10),l=1+(0|ze[n>>2])|0),ze[n>>2]=l}}}while(0);if(A(r,((l=0|ze[(e=t+4|0)>>2])>>>1)+l|0),(b=0|ze[a+104>>2])&&(Fe[3&b](r,0|ze[a+112>>2]),l=0|ze[e>>2]),0|l){switch(0|je[(b=0|ze[t>>2])+(l+-1)>>0]){case 13:case 10:break;default:he(t,10),b=0|ze[t>>2],l=0|ze[e>>2]}we(r,a,b,l)}for(0|(l=0|ze[a+108>>2])&&Fe[3&l](r,0|ze[a+112>>2]),S(t),r=0|o,e=0;8!=(0|e);){for(i=0|ze[r+(e<<2)>>2];i;)a=0|ze[i+12>>2],S(0|ze[i+4>>2]),S(0|ze[i+8>>2]),Me(i),i=a;e=e+1|0}}De=n}function we(r,e,i,a){r|=0,e|=0,i|=0,a|=0;var f=0,n=0,t=0,o=0,l=0,c=0,s=0,u=0,b=0,k=0;r:do{if(((0|ze[e+408>>2])+(0|ze[e+420>>2])|0)>>>0<=(0|ze[e+432>>2])>>>0)for(l=e+12|0,c=e+428|0,s=e+20|0,u=e+112|0,f=0;;){if(a>>>0<=f>>>0)break r;t=i+f|0,o=a-f|0;e:do{if(0|me(e,t,o)){var v=r,d=e,h=t,w=o;v|=0,d|=0,h|=0,w|=0;var m=0,_=0,p=0,y=0,g=0;for(y=0;y>>>0<w>>>0&y>>>0<6&&35==(0|je[h+y>>0]);)y=y+1|0;for(p=y;!(w>>>0<=p>>>0)&&32==(0|je[h+p>>0]);)p=p+1|0;for(g=p;!(w>>>0<=g>>>0)&&10!=(0|je[h+g>>0]);)g=g+1|0;for(w=g;;){if(!w){w=0;break}if(35!=(0|je[h+(m=w+-1|0)>>0]))break;w=m}for(;w;){if(32!=(0|je[h+(m=w+-1|0)>>0])){_=19;break}w=m}19==(0|_)&&p>>>0<w>>>0&&(Pe(m=0|qe(d,1),d,h+p|0,w-p|0),0|(w=0|ze[d+16>>2])&&Ye[7&w](v,m,y,0|ze[d+112>>2]),Oe(d,1)),f=(0|g)+f|0}else if(60==(0|je[t>>0])&&0|ze[l>>2]&&0|(b=0|_e(r,e,t,o,1)))f=b+f|0;else if(0|(n=0|pe(t,o)))f=n+f|0;else if(0|ye(t,o)){for(0|(n=0|ze[s>>2])&&Fe[3&n](r,0|ze[u>>2]);!(a>>>0<=f>>>0);){if(n=f+1|0,10==(0|je[i+f>>0])){f=n;break e}f=n}f=f+1|0}else{if(4&(n=0|ze[c>>2])){var A=r,C=e,S=t,x=o;A|=0,C|=0,S|=0,x|=0;var E,I,U,q=0,P=0,O=0,H=0,T=0,K=0,M=0;if(De=(U=De)+32|0,ze[(I=(E=U)+16|0)>>2]=0,ze[I+4>>2]=0,ze[I+8>>2]=0,q=(ze[I+12>>2]=0)|Ue(S,x,I)){for(M=0|qe(C,0),T=E+4|0;!(x>>>0<=q>>>0);){if(ze[E>>2]=0,ze[E+4>>2]=0,ze[E+8>>2]=0,(ze[E+12>>2]=0)!=(0|(P=0|Ue(H=S+q|0,x-q|0,E)))&0==(0|ze[T>>2])){K=12;break}for(P=q;!(x>>>0<=(O=P+1|0)>>>0)&&10!=(0|je[S+P>>0]);)P=O;q>>>0<=P>>>0&&(0|pe(H,q=O-q|0)?he(M,10):de(M,H,q)),q=O}12==(0|K)&&(q=P+q|0),0|(K=0|ze[M+4>>2])&&10!=(0|je[(0|ze[M>>2])+(K+-1)>>0])&&he(M,10),0|(P=0|ze[C>>2])&&Ye[7&P](A,M,0==(0|ze[I+4>>2])?0:I,0|ze[C+112>>2]),Oe(C,0)}else q=0;if(De=U,n=0|q){f=n+f|0;break e}n=0|ze[c>>2]}var R;if(R=2&n|0){var N=r,j=e,z=t,B=o;N|=0,j|=0,z|=0,B|=0;var D,F,L,Y=0,Z=0,G=0,V=0,W=0,X=0;De=(L=De)+16|0,Y=L+4|0,D=(ze[(G=L)>>2]=0)|qe(j,1),F=0|qe(j,0);var $=void 0,Q=void 0,J=void 0,rr=void 0,er=void 0,ir=void 0,ar=D,fr=j,nr=z,tr=B,or=Y,lr=G;ar|=0,fr|=0,nr|=0,tr|=0,or|=0,lr|=0;var cr=0,sr=0,ur=0;for(rr=J=0;!(tr>>>0<=J>>>0)&&10!=(ir=0|je[nr+J>>0])<<24>>24;)J=J+1|0,rr=rr+(124==ir<<24>>24&1)|0;i:do{if(0==(0|rr)|(0|J)==(0|tr))ir=0;else{for(er=J;;){if(!er){sr=0,er=rr,ir=nr;break}if(!(0|He(0|Be[(ir=nr+(cr=er+-1|0)|0)>>0]))){ur=9;break}er=cr}if(9==(0|ur)&&(sr=er,er=rr+((124==(0|je[nr>>0]))<<31>>31)|0),($=er+((124==(0|je[ir>>0]))<<31>>31)+1|0)>>>0<=(0|ze[fr+436>>2])>>>0){for(Q=0|Re(ze[or>>2]=$,4),ze[lr>>2]=Q,(ir=J+1|0)>>>0<tr>>>0&&(ir=124==(0|je[nr+ir>>0])?J+2|0:ir),or=ir;!(tr>>>0<=or>>>0)&&10!=(0|je[nr+or>>0]);)or=or+1|0;for(rr=0;ir>>>0<or>>>0&(er=rr>>>0<$>>>0);){for(;ir>>>0<or>>>0&32==(er=0|je[nr+ir>>0])<<24>>24;)ir=ir+1|0;58==er<<24>>24?(ze[(er=Q+(rr<<2)|0)>>2]|=1,ir=ir+(er=1)|0):er=0;a:for(;!(or>>>0<=ir>>>0);){switch(0|je[nr+ir>>0]){case 58:ur=28;break a;case 45:break;default:break a}er=er+1|0,ir=ir+1|0}for(28==(0|ur)&&(ze[(ur=Q+(rr<<2)|0)>>2]|=2,er=er+1|0,ir=ir+1|0);;){if(or>>>0<=ir>>>0){ur=34;break}if(32!=(cr=0|je[nr+ir>>0])<<24>>24){ur=33;break}ir=ir+1|0}if(33==(0|ur)){if((ur=0)==(0|er)|124!=cr<<24>>24){ir=0;break i}}else if(34==(0|ur)&&(ur=0)==(0|er)){ir=0;break i}rr=rr+1|0,ir=ir+1|0}ir=er?0:(Te(ar,fr,nr,sr,$,Q,4),or+1|0)}else ir=0}}while(0);if(Z=0|ir){for(X=0|ze[Y>>2],Y=0|ze[G>>2];!(B>>>0<=Z>>>0);){for(G=0,V=Z;!(B>>>0<=V>>>0)&&10!=(W=0|je[z+V>>0])<<24>>24;)G=G+(124==W<<24>>24&1)|0,V=V+1|0;if((0|V)==(0|B)|0==(0|G))break;Te(F,j,z+Z|0,V-Z|0,X,Y,0),Z=V+1|0}(G=0|ze[j+36>>2])&&Ye[7&G](N,D,F,0|ze[j+112>>2])}else Y=(Z=0)|ze[G>>2];Me(Y),Oe(j,1),Oe(j,0),De=L,R=0|(k=0|Z)}if(R)var br=k+f|0;else{if(0|ge(t,o)){var kr=r,vr=e,dr=t,hr=o;kr|=0,dr|=0,hr|=0;var wr,mr=0,_r=0,pr=0,yr=0,gr=0,Ar=0,Cr=0,Sr=0,xr=0;wr=0|qe(vr|=0,0),_r=xr=mr=0;i:for(;;){for(;;){if(hr>>>0<=_r>>>0)break i;for(Cr=_r;;){if(hr>>>0<=(Sr=Cr+1|0)>>>0){pr=0;break}if(10==(0|je[dr+Cr>>0])){pr=1;break}Cr=Sr}if(Ar=0|ge(yr=dr+_r|0,gr=Sr-_r|0))_r=Ar+_r|0;else if(0|pe(yr,gr)){if(!pr){_r=Sr;break i}if(0==(0|ge(pr=dr+Sr|0,yr=hr-Sr|0))&&0==(0|pe(pr,yr))){_r=Sr;break i}}if(!(Cr>>>0<_r>>>0))break;_r=Sr}pr=dr+_r|0,mr?(0|pr)!=(0|(yr=mr+xr|0))&&Ne(0|yr,0|pr,Sr-_r|0):mr=pr,xr=Sr+xr-_r|0,_r=Sr}we(wr,vr,mr,xr),0|(mr=0|ze[vr+4>>2])&&Le[7&mr](kr,wr,0|ze[vr+112>>2]),Oe(vr,0);var Er=(0|_r)+f|0}else{if(0|Ae(t,o)){var Ir=r,Ur=e,qr=t,Pr=o;Ir|=0,qr|=0,Pr|=0;var Or,Hr=0,Tr=0,Kr=0,Mr=0,Rr=0,Nr=0,jr=0,zr=0,Br=0;Or=0|qe(Ur|=0,0),Tr=Br=Hr=0;i:for(;;){for(;;){if(Pr>>>0<=Tr>>>0)break i;for(jr=Tr;;){if(Pr>>>0<=(zr=jr+1|0)>>>0){Kr=0;break}if(10==(0|je[qr+jr>>0])){Kr=1;break}jr=zr}if(Nr=0|Ae(Mr=qr+Tr|0,Rr=zr-Tr|0))Tr=Nr+Tr|0;else if(0|pe(Mr,Rr)){if(!Kr){Tr=zr;break i}if(0==(0|Ae(Kr=qr+zr|0,Mr=Pr-zr|0))&&0==(0|pe(Kr,Mr))){Tr=zr;break i}}if(!(jr>>>0<Tr>>>0))break;Tr=zr}Kr=qr+Tr|0,Hr?(0|Kr)!=(0|(Mr=Hr+Br|0))&&Ne(0|Mr,0|Kr,zr-Tr|0):Hr=Kr,Br=zr+Br-Tr|0,Tr=zr}we(Or,Ur,Hr,Br),0|(Hr=0|ze[Ur+8>>2])&&Le[7&Hr](Ir,Or,0|ze[Ur+112>>2]),Oe(Ur,0);var Dr=(0|Tr)+f|0}else{if(0|Ce(t,o)){var Fr=r,Lr=e,Yr=t,Zr=o;Fr|=0,Yr|=0,Zr|=0;var Gr,Vr=0,Wr=0,Xr=0,$r=0,Qr=0,Jr=0;for(Gr=0|qe(Lr|=0,0),Jr=0;!(Zr>>>0<=Jr>>>0);){for($r=Jr;!(Zr>>>0<=(Qr=$r+1|0)>>>0)&&10!=(0|je[Yr+$r>>0]);)$r=Qr;if(Xr=0|Ce(Vr=Yr+Jr|0,Wr=Qr-Jr|0))Vr=Xr+Jr|0;else{if(!(0|pe(Vr,Wr)))break;Vr=Jr}Vr>>>0<=$r>>>0&&(0|pe(Wr=Yr+Vr|0,Vr=Qr-Vr|0)?he(Gr,10):de(Gr,Wr,Vr)),Jr=Qr}for(Vr=0|ze[(Wr=Gr+4|0)>>2];Vr&&10==(0|je[(0|ze[Gr>>2])+(Vr=Vr+-1|0)>>0]);)ze[Wr>>2]=Vr;he(Gr,10),0|(Vr=0|ze[Lr>>2])&&Ye[7&Vr](Fr,Gr,0,0|ze[Lr+112>>2]),Oe(Lr,0);var re=(0|Jr)+f|0}else{if(0|Se(t,o))var ee=(0|xe(r,e,t,o,0))+f|0;else{if(0|Ee(t,o))var ie=(0|xe(r,e,t,o,1))+f|0;else{var ae=r,fe=e,ne=t,te=o;ae|=0,ne|=0,te|=0;var oe,le,ce=0,se=0,ue=0,be=0,ke=0,ve=0;for(oe=428+(fe|=0)|0,le=fe+12|0,ce=0;;){if(te>>>0<=ce>>>0){ke=0,ve=ce;break}ve=ce;do{if(te>>>0<=(ve=(se=ve)+1|0)>>>0)break}while(10!=(0|je[ne+se>>0]));if(0|ge(ue=ne+ce|0,ve-ce|0)){ke=0,ve=ce;break}if(0|pe(ue,be=te-ce|0)){ke=0;break}if(0|(se=0|Ie(ue,be))){ke=se;break}if(0|me(fe,ue,be)){ke=0,ve=ce;break}if(0|ye(ue,be)){ke=0,ve=ce;break}if(0|ge(ue,be)){ke=0,ve=ce;break}if(256&(se=0|ze[oe>>2])|0&&0==(0|Ke(255&(ke=0|je[ue>>0])))){if(0|Ee(ue,be)){ke=0,ve=ce;break}if(0|Se(ue,be)){ke=0,ve=ce;break}if(60==ke<<24>>24&&0!=(0|ze[le>>2])){if(0|_e(ae,fe,ue,be,0)){ke=0,ve=ce;break}se=0|ze[oe>>2]}if(4&se|0&&0|Ue(ue,be,0)){ke=0,ve=ce;break}}ce=ve}for(;;){if(!ce){ce=se=0;break}if(10!=(0|je[ne+(se=ce+-1|0)>>0])){se=1;break}ce=se}if(ke){i:do{if(se){for(be=ce;;){if(!(se=be+-1|0)){se=0;break}if(10==(0|je[ne+se>>0]))break;be=se}for(;;){if(!se)break i;if(10!=(0|je[ne+(ue=se+-1|0)>>0]))break;se=ue}Pe(ue=0|qe(fe,0),fe,ne,se),0|(se=0|ze[fe+32>>2])&&Le[7&se](ae,ue,0|ze[fe+112>>2]),Oe(fe,0),ne=ne+be|0,ce=ce-be|0}else ce=0}while(0);Pe(se=0|qe(fe,1),fe,ne,ce),0|(ce=0|ze[fe+16>>2])&&Ye[7&ce](ae,se,ke,0|ze[fe+112>>2]),Oe(fe,1)}else Pe(se=0|qe(fe,0),fe,ne,ce),0|(ce=0|ze[fe+32>>2])&&Le[7&ce](ae,se,0|ze[fe+112>>2]),Oe(fe,0);ie=(0|ve)+f|0}ee=ie}re=ee}Dr=re}Er=Dr}br=Er}f=br}}while(0)}}while(0)}function me(r,e,i){r|=0,e|=0,i|=0;var a,f=0;do{if(35==(0|je[e>>0])){if(64&ze[r+428>>2]){for(a=0;;){var n=a>>>0<i>>>0;if(!(n&a>>>0<6)){r=7;break}if(35!=(r=0|je[e+a>>0])<<24>>24){f=r,r=9;break}a=a+1|0}if(7==(0|r)&&n&&(f=0|je[e+a>>0],r=9),9==(0|r)&&32!=f<<24>>24){r=0;break}}r=1}else r=0}while(0);return 0|r}function _e(r,e,i,a,f){r|=0,e|=0,a|=0,f|=0;var n=0,t=0,o=0,l=0,c=0,s=De;De=De+16|0,ze[s>>2]=i|=0;var u=s+4|0;ze[u>>2]=0,ze[s+8>>2]=0,ze[s+12>>2]=0;r:do{if(2<=a>>>0&&60==(0|je[i>>0])){var b,k=1;e:for(;!(a>>>0<=k>>>0);){switch(0|je[i+k>>0]){case 32:case 62:l=7;break e}k=k+1|0}if(b=7==(0|l)){b=i+1|0;var v=k+-1|0;b|=0,v|=0;var d=0;do{if((v+-1|0)>>>0<10){var h=b,w=v;if(h|=0,(h=(w=1==(0|(w|=0))?1:(0|Be[1+(0|Be[h+1>>0])+320>>0])+w|0)+(0|Be[320+(0|Be[h>>0])>>0])|0)>>>0<38&&0==(-33&(je[(d=0|ze[160+(h<<2)>>2])>>0]^je[b>>0]))<<24>>24&&0==(0|F(b,d,v))&&0==(0|je[d+v>>0]))break}d=0}while(0);b=0|(n=0|d)}if(b){if(!(k=0|P(n,i,a,1))){if(!(0|N(n,5693))){k=0;break}if(!(0|N(n,5615))){k=0;break}if(!(k=0|P(n,i,a,0))){k=0;break}}ze[u>>2]=k,f&&(n=0|ze[e+12>>2])&&Le[7&n](r,s,0|ze[e+112>>2])}else{if(5<a>>>0){if(33==(k=0|je[i+1>>0])<<24>>24){if(45!=(0|je[i+2>>0])){k=0;break}if(45!=(0|je[i+3>>0])){k=0;break}for(k=5;;){if(a>>>0<=k>>>0){l=19;break}if(45==(0|je[i+(k+-2)>>0])&&45==(0|je[i+(k+-1)>>0])){if(n=k+1|0,62==(0|je[i+k>>0])){k=n;break}k=n}else k=k+1|0}if(19==(0|l)&&(k=k+1|0),k>>>0<a>>>0&&0!=(0|(t=0|pe(i+k|0,a-k|0)))){if(ze[u>>2]=k=t+k|0,!f)break;if(!(n=0|ze[e+12>>2]))break;Le[7&n](r,s,0|ze[e+112>>2]),k=0|ze[u>>2];break}l=25}}else l=25;if(25==(0|l)){if(a>>>0<=4){k=0;break}k=0|je[i+1>>0]}switch(k<<24>>24){case 72:case 104:break;default:k=0;break r}switch(0|je[i+2>>0]){case 82:case 114:break;default:k=0;break r}for(n=3;;){if(a>>>0<=n>>>0){l=31;break}if(k=n+1|0,62==(0|je[i+n>>0]))break;n=k}31==(0|l)&&(k=n+1|0),k>>>0<a>>>0&&0!=(0|(o=0|pe(i+k|0,a-k|0)))?(ze[u>>2]=k=o+k|0,0!=(0|f)&&0!=(0|(c=0|ze[e+12>>2]))&&(Le[7&c](r,s,0|ze[e+112>>2]),k=0|ze[u>>2])):k=0}}else k=0}while(0);return De=s,0|k}function pe(r,e){r|=0,e|=0;var i=0,a=0;r:for(;;){if(e>>>0<=a>>>0){i=5;break}switch(0|je[r+a>>0]){case 10:i=5;break r;case 32:break;default:a=0;break r}a=a+1|0}return 5==(0|i)&&(a=a+1|0),0|a}function ye(r,e){var i;r|=0,e|=0;r:do{if(3<=e>>>0){var a=32==(0|je[r>>0])?32==(0|je[r+1>>0])?32==(0|je[r+2>>0])?3:2:1:0;if((a+2|0)>>>0<e>>>0){var f=0|je[r+a>>0];switch(f<<24>>24){case 95:case 45:case 42:break;default:a=0;break r}for(i=0;!(e>>>0<=a>>>0);){var n=0|je[r+a>>0];if(10==n<<24>>24)break;if(n<<24>>24!=f<<24>>24){if(32!=n<<24>>24){a=0;break r}}else i=i+1|0;a=a+1|0}a=2<i>>>0&1}else a=0}else a=0}while(0);return 0|a}function ge(r,e){r|=0;var i=0,a=0,f=(e|=0)?32==(0|je[r>>0])&1:0;f>>>0<e>>>0&&(f=f+(32==(0|je[r+f>>0])&1)|0),f>>>0<e>>>0&&(f=f+(32==(0|je[r+f>>0])&1)|0);r:do{if(f>>>0<e>>>0&&62==(0|je[r+f>>0])&&(i=f+1|0)>>>0<e>>>0){switch(0|je[r+i>>0]){case 33:a=12;break r;case 32:break;default:break r}i=f+2|0}else a=12}while(0);return 12==(0|a)&&(i=0),0|i}function Ae(r,e){r|=0;var i=0,a=(e|=0)?32==(0|je[r>>0])&1:0;a>>>0<e>>>0&&(a=a+(32==(0|je[r+a>>0])&1)|0);var f=a>>>0<e>>>0?a+(32==(0|je[r+a>>0])&1)|0:a;if((a=f+1|0)>>>0<e>>>0&&62==(0|je[(i=r+f|0)>>0])&&33==(0|je[r+a>>0])){if(0!=(0|(a=0|q(i+1|0,e+-1-f|0,60)))&(i=a+f|0)>>>0<e>>>0&&33==(0|je[r+i>>0]))a=0;else if((a=f+2|0)>>>0<e>>>0)return 0|(32==(0|je[r+a>>0])?f+3|0:a)}else a=0;return 0|a}function Ce(r,e){return r|=0,0|(3<(0|e)>>>0&&32==(0|je[r>>0])&&32==(0|je[r+1>>0])&&32==(0|je[r+2>>0])&&32==(0|je[r+3>>0])?4:0)}function Se(r,e){r|=0;var i=(e|=0)?32==(0|je[r>>0])&1:0;i>>>0<e>>>0&&(i=i+(32==(0|je[r+i>>0])&1)|0),i>>>0<e>>>0&&(i=i+(32==(0|je[r+i>>0])&1)|0);var a=i+1|0;r:do{if(a>>>0<e>>>0){var f=r+i|0;switch(0|je[f>>0]){case 45:case 43:case 42:break;default:break r}if(32==(0|je[r+a>>0]))return 0|((e=0==(0|c(f,e-i|0)))?i+2|0:0)}}while(0);return 0}function xe(r,e,i,a,f){r|=0,e|=0,i|=0,a|=0;var n=De;De=De+16|0,ze[n>>2]=0|f;var t=0|qe(e,0);f=0;do{if(a>>>0<=f>>>0)break;var o=t,l=e,c=i+f|0,s=a-f|0,u=n;o|=0,l|=0,c|=0,s|=0,u|=0;var b,k,v,d,h,w,m,_=0,p=0;for(m=0;m>>>0<3&m>>>0<s>>>0&&32==(0|je[c+m>>0]);)m=m+1|0;if((b=0|Se(c,s))?(_=b,p=7):(b=0|Ee(c,s))?(_=b,p=7):b=0,7==(0|p)){for(b=_;!(s>>>0<=b>>>0)&&10!=(0|je[c+(b+-1)>>0]);)b=b+1|0;var y=0|qe(l,1),g=0|qe(l,1);de(y,c+_|0,b-_|0);var A=l+428|0,C=y+4|0,S=k=d=0;r:for(;;){for(h=0;;){if(s>>>0<=b>>>0)break r;for(v=b;;){var x=v+1|0;if(s>>>0<=x>>>0)break;if(10==(0|je[c+v>>0]))break;v=x}var E=c+b|0,I=x-b|0;if(!(0|pe(E,I)))break;h=1,b=x}for(w=0;!(4<=w>>>0||v>>>0<(_=w+b|0)>>>0||32!=(0|je[c+_>>0]));)w=w+1|0;var U=E+w|0,q=I-w|0,P=4&ze[A>>2]?(P=0==(0|Ue(U,q,0)))?d:0==(0|d)&1:d;if(P?E=v=0:(E=0|Se(U,q),v=0|Ee(U,q)),I=0!=(0|h)){if(0!=(0|E)&0!=(0|(_=1&(d=0|ze[u>>2])))){p=30;break}if(0!=(0|v)&0==(0|_)){p=30;break}}if(34==(0|(p=E?0!=(0|v)|0==(0|ye(U,q))?34:37:v?34:37))){if(k=I?1:k,((p=0)|w)==(0|m))break;b=S||0|ze[C>>2]}else if(37==(0|p)){if(I&(p=0)==(0|w)){p=38;break}I?(he(y,10),b=S,k=1):b=S}de(y,U,q),d=P,S=b,b=x}30==(0|p)?ze[u>>2]=8|d:38==(0|p)&&(ze[u>>2]|=8),_=0|ze[u>>2],k&&(ze[u>>2]=_|=2),E=0!=(0|S)&S>>>0<(k=0|ze[C>>2])>>>0,v=0|ze[y>>2],2&_?E?(we(g,l,v,S),we(g,l,(0|ze[y>>2])+S|0,(0|ze[C>>2])-S|0)):we(g,l,v,k):E?(Pe(g,l,v,S),we(g,l,(0|ze[y>>2])+S|0,(0|ze[C>>2])-S|0)):Pe(g,l,v,k),0|(_=0|ze[l+28>>2])&&Ye[7&_](o,g,0|ze[u>>2],0|ze[l+112>>2]),Oe(l,1),Oe(l,1)}if(f=(o=0|b)+f|0,!o)break}while(0==(8&ze[n>>2]|0));return 0|(i=0|ze[e+24>>2])&&Ye[7&i](r,t,0|ze[n>>2],0|ze[e+112>>2]),Oe(e,0),De=n,0|f}function Ee(r,e){r|=0;var i=0,a=0,f=0,n=(e|=0)?32==(0|je[r>>0])&1:0;if(n>>>0<e>>>0&&(n=n+(32==(0|je[r+n>>0])&1)|0),n>>>0<e>>>0&&(n=n+(32==(0|je[r+n>>0])&1)|0),n>>>0<e>>>0&&((0|je[r+n>>0])-48&255)<=9){for(;;){if(e>>>0<=n>>>0){f=11;break}if(i=n+1|0,!(((0|je[r+n>>0])-48&255)<10))break;n=i}if(11==(0|f)&&(i=n+1|0),i>>>0<e>>>0&&46==(0|je[(a=r+n|0)>>0])&&32==(0|je[r+i>>0]))return 0|((f=0==(0|c(a,e-n|0)))?n+2|0:0)}return 0}function Ie(r,e){var i;r|=0,e|=0;r:do{switch(0|je[r>>0]){case 61:for(i=1;!(e>>>0<=i>>>0)&&61==(0|je[r+i>>0]);)i=i+1|0;for(;;){if(e>>>0<=i>>>0){i=1;break r}var a=0|je[r+i>>0];if(32!=a<<24>>24)break;i=i+1|0}i=10==a<<24>>24&1;break;case 45:for(i=1;!(e>>>0<=i>>>0)&&45==(0|je[r+i>>0]);)i=i+1|0;for(;;){if(e>>>0<=i>>>0){i=2;break r}if(32!=(a=0|je[r+i>>0])<<24>>24)break;i=i+1|0}i=10==a<<24>>24?2:0;break;default:i=0}}while(0);return 0|i}function Ue(r,e,i){i|=0;var a,f=0,n=0|(r|=0),t=0|(e|=0);r:do{if(3<=t>>>0){var o=32==(0|je[n>>0])?32==(0|je[n+1>>0])?32==(0|je[n+2>>0])?3:2:1:0;if((o+2|0)>>>0<t>>>0){var l=0|je[n+o>>0];switch(l<<24>>24){case 96:case 126:break;default:o=0;break r}for(a=0;!(t>>>0<=o>>>0)&&(0|je[n+o>>0])==l<<24>>24;)a=a+1|0,o=o+1|0;o=a>>>0<3?0:o}else o=0}else o=0}while(0);n=0|o;r:do{if(n){e:for(;;){if(o=r+n|0,e>>>0<=n>>>0){t=6;break}switch(0|je[o>>0]){case 123:t=5;break e;case 32:break;default:t=6;break e}n=n+1|0}e:do{if(5==(0|t)){t=0;i:for(;!(e>>>0<=(f=n+1|0)>>>0);){switch(0|je[r+f>>0]){case 10:case 125:break i}t=t+1|0,n=f}if((0|f)==(0|e)){n=0;break r}if(125!=(0|je[r+f>>0])){n=0;break r}for(f=t,t=o;;){if(o=t+1|0,!f){f=0;break}if(!(0|He(0|Be[o>>0])))break;f=f+-1|0,t=o}for(;;){if(!f){f=0;break}if(!(0|He(0|Be[t+f>>0])))break;f=f+-1|0}n=n+2|0}else if(6==(0|t))for(f=0;;){if(e>>>0<=n>>>0)break e;if(0|He(0|Be[r+n>>0]))break e;n=n+1|0,f=f+1|0}}while(0);for(0|i&&(ze[i>>2]=o,ze[i+4>>2]=f);!(e>>>0<=n>>>0)&&10!=(f=0|je[r+n>>0])<<24>>24;){if(!(0|He(255&f))){n=0;break r}n=n+1|0}n=n+1|0}else n=0}while(0);return 0|n}function qe(r,e){var i=0,a=404+(r|=0)+(12*(e|=0)|0)|0,f=r+404+(12*e|0)+4|0,n=0|ze[f>>2];return n>>>0<(0|ze[r+404+(12*e|0)+8>>2])>>>0&&0!=(0|(i=0|ze[(0|ze[a>>2])+(n<<2)>>2]))?(ze[f>>2]=n+1,ze[i+4>>2]=0):(e=0|(i=0|C(0|ze[5120+(e<<2)>>2])),0<=(0|s(r=0|a,ze[(a=r+4|0)>>2]<<1))&&(f=0|ze[r>>2],ze[a>>2]=1+(r=0|ze[a>>2]),ze[f+(r<<2)>>2]=e)),0|i}function Pe(r,e,i,a){var f,n,t,o;r|=0,e|=0,i|=0,a|=0;var l=De;De=De+16|0,ze[l>>2]=0,ze[l+4>>2]=0,ze[l+8>>2]=0,ze[l+12>>2]=0;r:do{if(((0|ze[e+408>>2])+(0|ze[e+420>>2])|0)>>>0<=(0|ze[e+432>>2])>>>0){var c=e+100|0,s=l+4|0,u=e+112|0;for(o=n=t=f=0;;){if(a>>>0<=o>>>0)break r;for(;;){if(a>>>0<=n>>>0){var b=0;break}if((f=0|je[(0|Be[i+n>>0])+(e+148)>>0])<<24>>24){b=1;break}n=n+1|(f=0)}var k=0|ze[c>>2],v=i+o|0;if(k?(ze[l>>2]=v,ze[s>>2]=n-o,Le[7&k](r,l,0|ze[u>>2])):de(r,v,n-o|0),!b)break r;v=0==(0|(o=0|pr[15&ze[592+((255&f)<<2)>>2]](r,e,i+n|0,n-t|0,n,a-n|0))),o=o+n|0,t=v?t:o,n=v?n+1|0:o}}}while(0);De=l}function Oe(r,e){ze[(e=404+(0|r)+(12*(0|e)|0)+4|0)>>2]=(0|ze[e>>2])-1}function He(r){return 1&(32==(0|(r|=0))|10==(0|r))|0}function p(r,e){var i,a;r|=0;var f=4+(e|=0)|0;for(i=0;;){var n=0|ze[f>>2];if(n>>>0<=i>>>0)break;for(a=i;!(n>>>0<=a>>>0)&&92!=(0|je[(0|ze[e>>2])+a>>0]);)a=a+1|0;if(i>>>0<a>>>0&&(de(r,(0|ze[e>>2])+i|0,a-i|0),n=0|ze[f>>2]),n>>>0<=(i=a+1|0)>>>0)break;he(r,0|Be[(0|ze[e>>2])+i>>0]),i=a+2|0}}function I(r,e,i){for(e=(0|r)+((7&(i=0|U(0|e,0|i)))<<2)|0;;){if(!(e=0|ze[e>>2])){e=0;break}if((0|ze[e>>2])==(0|i))break;e=e+12|0}return 0|e}function U(r,e){var i,a;for(r|=0,e|=0,a=i=0;(0|a)!=(0|e);)i=(65599*i|0)+(0|T(0|Be[r+a>>0]))|0,a=a+1|0;return 0|i}function m(r,e,i,a,f){var n;r|=0,i|=0,a|=0,f|=0;var t=64+(e|=0)|0;r:do{if(0|ze[t>>2]){var o=1<a>>>0&&(0|je[i>>0])==f<<24>>24?(0|je[i+1>>0])==f<<24>>24&1:0,l=e+428|0;for(n=95!=f<<24>>24;;){if(a>>>0<=o>>>0){o=0;break r}var c=0|q(i+o|0,a-o|0,f);if(!c){o=0;break r}if(a>>>0<=(o=c+o|0)>>>0){o=0;break r}if((0|je[i+o>>0])==f<<24>>24&&0==(0|He(0|Be[i+(o+-1)>>0]))){if(0==(1&ze[l>>2]|0)|n|(0|(c=o+1|0))==(0|a))break;var s=0|Be[i+c>>0];if(0|He(s))break;if(0|B(s))break}}Pe(f=0|qe(e,1),e,i,o),o=0|wr[15&ze[t>>2]](r,f,0|ze[e+112>>2]),Oe(e,1),o=0==(0|o)?0:c}else o=0}while(0);return 0|o}function _(r,e,i,a,f){r|=0,e|=0,i|=0,a|=0;var n=0|ze[(126==(f|=0)<<24>>24?e+88|0:e+60|0)>>2];r:do{if(n){var t=0;do{if(a>>>0<=t>>>0){t=0;break r}var o=0|q(i+t|0,a-t|0,f);if(!o){t=0;break r}t=1+(o=o+t|0)|0}while(!(t>>>0<a>>>0&&(0|je[i+o>>0])==f<<24>>24&&0|o&&(0|je[i+t>>0])==f<<24>>24&&0==(0|He(0|Be[i+(o+-1)>>0]))));Pe(t=0|qe(e,1),e,i,o),t=0|wr[15&n](r,t,0|ze[e+112>>2]),Oe(e,1),t=0==(0|t)?0:o+2|0}else t=0}while(0);return 0|t}function q(r,e,i){r|=0,e|=0;var a,f=0,n=60==(i|=0)<<24>>24,t=1,o=0;r:for(;;){var l=t;e:for(;;){for(;;){if(e>>>0<=l>>>0){l=0;break r}i:for(;;){if(e>>>0<=l>>>0){t=0;break}if((t=0|je[r+l>>0])<<24>>24==i<<24>>24){t=1;break}switch(t<<24>>24){case 91:case 96:t=1;break i}l=l+1|0}if((0|l)==(0|e)){l=0;break r}var c=0|je[r+l>>0];if(n&t&60==c<<24>>24){if(33==(0|je[r+(l+-1)>>0]))break r;c=60}if(c<<24>>24==i<<24>>24)break r;if(!l){t=0;break}if(92!=(0|je[r+(l+-1)>>0])){t=l;break}l=l+1|0}switch(c<<24>>24){case 91:break e;case 96:for(f=0;;){if(e>>>0<=t>>>0){l=0;break r}if(96!=(0|je[r+t>>0]))break;f=f+1|0,t=t+1|0}for(a=l=0;(c=t>>>0<e>>>0)&a>>>0<f>>>0;)c=0|je[r+t>>0],l=0==(0|l)?c<<24>>24==i<<24>>24?t:0:l,a=96==c<<24>>24?a+1|0:0,t=t+1|0;if(!c)break r;l=t;break;default:l=t}}for(l=0;!(e>>>0<=(c=t+1|0)>>>0)&&93!=(a=0|je[r+c>>0])<<24>>24;)l=0==(0|l)&&a<<24>>24==i<<24>>24?c:l,t=c;t=t+2|0;e:for(;;){if(e>>>0<=t>>>0)break r;switch(0|je[r+t>>0]){case 91:f=93,c=36;break e;case 40:c=35;break e;case 10:case 32:break;default:c=41;break e}t=t+1|0}if(35==(0|c))f=41,c=36;else if(41==(0|c)&&(l=(f=(c=0)==(0|l))?o:l,!f))break;if(36==(0|c)){for(;;){if(e>>>0<=(c=t+1|0)>>>0)break r;if((0|f)==(255&(a=0|je[r+c>>0])|0))break;l=0==(0|l)&&a<<24>>24==i<<24>>24?c:l,t=c}l=o,t=t+2|0}o=l}return 0|l}function c(r,e){r|=0,e|=0;var i,a=0,f=0;for(i=0;;){if(e>>>0<=i>>>0){f=3;break}if(a=i+1|0,10==(0|je[r+i>>0]))break;i=a}return 3==(0|f)&&(a=i+1|0),0|(a>>>0<e>>>0?0|Ie(r+a|0,e-a|0):0)}function Te(r,e,i,a,f,n,t){r|=0,i|=0,a|=0,f|=0,n|=0,t|=0;var o,l,c,s,u=0,b=De;De=De+16|0;var k=44+(e|=0)|0;if(0|ze[k>>2]&&0|ze[(u=e+40|0)>>2]){var v=0|qe(e,1),d=a?124==(0|je[i>>0])&1:0,h=e+112|0;for(s=0;s>>>0<f>>>0&d>>>0<a>>>0;){for(c=0|qe(e,1);!(a>>>0<=d>>>0)&&0|He(0|Be[i+d>>0]);)d=d+1|0;for(l=d;!(a>>>0<=l>>>0)&&124!=(0|je[i+l>>0]);)l=l+1|0;for(o=l;;){var w=o+-1|0;if(w>>>0<=d>>>0)break;if(!(0|He(0|Be[i+w>>0])))break;o=w}Pe(c,e,i+d|0,o-d|0),yr[1&ze[k>>2]](v,c,ze[n+(s<<2)>>2]|t,0|ze[h>>2],0),Oe(e,1),s=s+1|0,d=l+1|0}0|(d=f-s|0)&&(ze[b>>2]=0,ze[b+4>>2]=0,ze[b+8>>2]=0,ze[b+12>>2]=0,yr[1&ze[k>>2]](v,b,ze[n+(s<<2)>>2]|t,0|ze[h>>2],d)),Le[7&ze[u>>2]](r,v,0|ze[h>>2]),Oe(e,1)}De=b}function P(r,e,i,a){e|=0,i|=0;var f,n=0,t=0,o=0,l=0|D(r|=0),c=0!=(0|a),s=l+3|0,u=i+1|0;for(a=0,f=1;;){if(i>>>0<=f>>>0){a=0;break}for(t=f;!(i>>>0<=(f=t+1|0)>>>0||47==(n=0|je[e+f>>0])<<24>>24&&60==(0|je[e+t>>0]));)a=a+(10==n<<24>>24&1)|0,t=f;if(!(c&0<(0|a)&&10!=(0|je[e+(t+-1)>>0]))){if(i>>>0<=(s+t|0)>>>0){a=0;break}n=r;var b=l,k=e+t|0,v=u+~t|0;k|=0;var d=0,h=3+(b|=0)|0;if(n=h>>>0<(v|=0)>>>0&&0==(0|F(k+2|0,0|n,b))&&62==(0|je[k+(b+2)>>0])&&0!=(0|(d=0|pe(k+h|0,v-h|0)))?(n=(b=d+h|0)>>>0<v>>>0?0|pe(k+b|0,v-b|0):0)+b|0:0,0|(n|=0)){o=12;break}}}return 12==(0|o)&&(a=n+t|0),0|a}function s(r,e){var i,a=8+(r|=0)|0;if((0|ze[a>>2])>>>0<(e|=0)>>>0)if(i=0|V(0|ze[r>>2],e<<2)){var f=0|ze[a>>2];nr(i+(f<<2)|0,0,e-f<<2|0),ze[r>>2]=i,(ze[a>>2]=e)>>>0<(0|ze[(r=r+4|0)>>2])>>>0&&(ze[r>>2]=e),r=0}else r=-1;else r=0;return 0|r}function u(r,e){ze[(r|=0)>>2]=0,ze[r+4>>2]=0,s(r,(ze[r+8>>2]=0)|e)}function d(r,e,i){var a,f;e|=0;var n=De;De=De+16|0,A(r|=0,((12*(i|=0)|0)>>>0)/10|0),je[n>>0]=37;var t=n+1|0,o=n+2|0;for(a=0;!(i>>>0<=a>>>0);){for(f=a;;){if(i>>>0<=f>>>0){var l=0;break}if(1!=(0|je[656+(0|Be[e+f>>0])>>0])){l=1;break}f=f+1|0}if(a>>>0<f>>>0&&de(r,e+a|0,f-a|0),!l)break;l=255&(a=0|je[e+f>>0]);r:do{if(2!=(0|je[656+l>>0]))switch(a<<24>>24){case 38:de(r,6531,5);break r;case 39:de(r,5743,6);break r;default:je[t>>0]=0|je[912+(l>>>4)>>0],je[o>>0]=0|je[912+(15&a)>>0],de(r,n,3);break r}}while(0);a=f+1|0}De=n}function O(r,e,i){var a,f;r|=0,e|=0,i|=0;r:do{if(3<=e>>>0&&60==(0|je[r>>0])){for(a=f=47==(0|je[r+1>>0])?2:1;!(e>>>0<=a>>>0);){var n=0|je[i>>0];if(!(n<<24>>24))break;if((0|Be[r+a>>0])!=(n<<24>>24|0))break r;i=i+1|0,a=a+1|0}if((0|a)!=(0|e))return 0|((e=62==(e=0|je[r+a>>0])<<24>>24|0!=(0|R(255&e)))?f:0)}}while(0);return 0}function n(r,e){ze[(e|=0)>>2]=0,ze[e+4>>2]=0,ze[e+8>>2]=0}function H(r,e,i){e|=0;var a,f,n,t=0,o=0;for(A(r|=0,((12*(i|=0)|0)>>>0)/10|0),f=a=0;!(i>>>0<=f>>>0);){for(n=f;;){if(i>>>0<=n>>>0){t=0;break}if((a=0|je[944+(0|Be[e+n>>0])>>0])<<24>>24){o=7;break}n=n+1|(a=0)}if(7==(0|o)&&(o=0,a=a<<24>>24,t=1),f>>>0<n>>>0&&de(r,e+f|0,n-f|0),!t)break;47!=(t=0|je[e+n>>0])<<24>>24?7!=(0|je[944+(255&t)>>0])&&y(r,0|ze[1200+(a<<2)>>2]):he(r,47),f=n+1|0}}function w(r,e){return y(0|r,0==(256&ze[16+(0|e)>>2]|0)?6054:6060),1}function T(r){return 0|(0==(((0|(r|=0))-65|0)>>>0<26|0)?r:32|r)}function K(r){var e=112+(r|=0)|0;ze[e>>2]=0;var i=(e=(ze[e+4>>2]=0)|ze[r+8>>2])-(0|ze[r+4>>2])|0,a=r+120|0;ze[a>>2]=i,ze[a+4>>2]=((0|i)<0)<<31>>31,ze[r+104>>2]=e}function M(r){var e,i=0,a=0,f=0,n=e=112+(r|=0)|0,t=0|ze[n>>2];if(0==(0|t)&0==(0|(n=0|ze[n+4>>2]))||(0|(i=0|ze[4+(a=r+120|0)>>2]))<(0|n)|((0|i)==(0|n)?(0|ze[a>>2])>>>0<t>>>0:0)){De=(n=De)+16|0;var o=t=0|r;if(je[(i=74+(o|=0)|0)>>0]=255+(a=0|je[i>>0])|a,(0|ze[(a=o+28|0)>>2])>>>0<(0|ze[(i=o+20|0)>>2])>>>0&&wr[15&ze[o+36>>2]](o,0,0),ze[o+16>>2]=0,ze[a>>2]=0,t=(ze[i>>2]=0)==(0|(i=4&(i=0|ze[o>>2])?(ze[o>>2]=32|i,-1):(ze[o+8>>2]=a=(0|ze[o+44>>2])+(0|ze[o+48>>2])|0,ze[o+4>>2]=a,i<<27>>31)))&&1==(0|wr[15&ze[t+32>>2]](t,n,1))?0|Be[n>>0]:-1,De=n,0<=(0|(t|=0))){if(a=0|ze[r+8>>2],0==(0|(n=0|ze[(o=e)>>2]))&0==(0|(o=0|ze[o+4>>2])))e=r+4|0,n=a,f=9;else{var l=a-(i=0|ze[(e=r+4|0)>>2])|0,c=((0|l)<0)<<31>>31,s=r+120|0;o=0|Q(0|n,0|o,0|ze[s>>2],0|ze[s+4>>2]),n=a,(0|c)<(0|(s=0|br()))|(0|s)==(0|c)&l>>>0<o>>>0?f=9:ze[r+104>>2]=i+(o+-1)}9==(0|f)&&(ze[r+104>>2]=a),n=n?(l=n+1-(s=0|ze[e>>2])|0,c=n=r+120|0,l=0|$(0|ze[c>>2],0|ze[c+4>>2],0|l,((0|l)<0)<<31>>31|0),c=0|br(),ze[n>>2]=l,ze[n+4>>2]=c,s):0|ze[e>>2],(0|t)!=(0|Be[(n=n+-1|0)>>0])&&(je[n>>0]=t)}else f=4}else f=4;return 4==(0|f)&&(ze[r+104>>2]=0,t=-1),0|t}function R(r){return 1&(32==(0|(r|=0))|(r+-9|0)>>>0<5)|0}function N(r,e){var i=0|je[(r|=0)>>0],a=0|je[(e|=0)>>0];if(0!=i<<24>>24&&i<<24>>24==a<<24>>24)for(;i=0|je[(r=r+1|0)>>0],a=0|je[(e=e+1|0)>>0],0!=i<<24>>24&&i<<24>>24==a<<24>>24;);return(255&i)-(255&a)|0}function j(r,e,i){r|=0,e|=0,i|=0;for(var a,f,n=0;;){if((a=0|je[r>>0])<<24>>24!=(f=0|je[e>>0])<<24>>24){n=4;break}if(!(i=i+-1|0)){r=0;break}r=r+1|0,e=e+1|0}return 4==(0|n)&&(r=(255&a)-(255&f)|0),0|r}function z(r,e,i){r|=0,i|=0;var a=255&(e|=0),f=255&e;r:do{if(3&r){do{if((0|je[r>>0])==f<<24>>24){var n=6;break r}r=r+1|0,e=0!=(0|(i=i+-1|0))}while(e&0!=(3&r|0));n=e?6:16}else n=6}while(0);r:do{if(6==(0|n))if((0|je[r>>0])==f<<24>>24)i||(n=16);else{e=0|lr(a,16843009);e:do{if(3<i>>>0)for(;;){if((-2139062144&(a=ze[r>>2]^e)^-2139062144)&a+-16843009|0)break e;if(r=r+4|0,(i=i+-4|0)>>>0<=3){n=11;break}}else n=11}while(0);if(11!=(0|n)||i)for(;;){if((0|je[r>>0])==f<<24>>24)break r;if(!(i=i+-1|0)){n=16;break}r=r+1|0}else n=16}}while(0);return 16==(0|n)&&(r=0),0|r}function Ke(r){return 0|(((32|(r|=0))-97|0)>>>0<26|0?1:0!=(((0|r)-48|0)>>>0<10|0)&1)}function B(r){return 0|(((0|(r|=0))-33|0)>>>0<94|0?0==(0|Ke(r))&1:0)}function D(r){var e,i=0,a=r|=0;r:do{if(3&a)for(e=a;;){if(!(0|je[r>>0])){r=e;break r}if(!(3&(e=r=r+1|0))){i=5;break}}else i=5}while(0);if(5==(0|i)){for(;!((-2139062144&(e=0|ze[r>>2])^-2139062144)&e+-16843009);)r=r+4|0;if((255&e)<<24>>24)for(;0!=(0|je[(r=r+1|0)>>0]););}return r-a|0}function F(r,e,i){if(r|=0,e|=0,i|=0){var a=0|je[r>>0];r:do{if(a<<24>>24){var f=r;for(r=a,a&=255;;){var n=0|je[e>>0];if(!(0!=(0|(i=i+-1|0))&0!=n<<24>>24))break r;if(r<<24>>24!=n<<24>>24&&(0|(a=0|T(a)))!=(0|T(255&n)))break r;if(e=e+1|0,!((a=0|je[(f=f+1|0)>>0])<<24>>24)){r=0;break}r=a,a&=255}}else r=0}while(0);r=(r=0|T(255&r))-(0|T(0|Be[e>>0]))|0}else r=0;return 0|r}function L(r){var e,i=0,a=0,f=0,n=0==(0|(r|=0))?1:r;r=(r=31-(0|cr(0|(8<n>>>0?n:8)))|0)+(1!=(0|ar(0|n))&1)|0;r:do{if(3<r>>>0&n>>>0<1<<r>>>0&&0!=(0|(i=0|ze[8400+(r+-1<<2)>>2]))){for(e=0;!(n>>>0<=(((0|ze[i+-8>>2])>>>1)-8|0)>>>0);)if(!((e=e+1|0)>>>0<32&0!=(0|(i=0|ze[i+4>>2])))){a=7;break r}r=0|Y(i,n)}else a=7}while(0);r:do{if(7==(0|a)){e:do{if(r>>>0<32){for(;i=0|ze[8400+(r<<2)>>2],r=r+1|0,!(0|i);)if(32<=r>>>0)break e;r=0|Y(i,n);break r}}while(0);if(0|(r=0|ze[2287])&&0==(1&(f=0|ze[r>>2])|0)){if(ze[r>>2]=1|f,i=31-(0|cr(0|(e=8<(e=(f>>>1)-8|0)>>>0?e:8)))|0,i=8400+((0==(0|e)?1:i)<<2)|0,e=r+12|0,(0|ze[i>>2])==(0|(a=r+8|0))&&(ze[i>>2]=ze[e>>2]),0|(r=0|ze[a>>2])&&(ze[r+4>>2]=ze[e>>2]),0|(r=0|ze[e>>2])&&(ze[r>>2]=ze[a>>2]),n=0==(0|Z(n)),r=0|ze[2287],n)return ze[r>>2]&=-2,(n=0)|n;if(r)break;return(r=0)|r}if(-1==(0|(i=0|W(a=n+15&-8))))return(n=0)|n;if((0|(e=i))!=(0|(f=r=e+7&-8))&&-1==(0|W(r-e|0)))return(n=0)|n;(i=0|ze[2287])?ze[r+4>>2]=i:ze[2286]=f,ze[2287]=f,ze[r>>2]=a<<1|1}}while(0);return r+8|0}function Y(r,e){e|=0;var i=(r|=0)-8|0,a=((0|ze[i>>2])>>>1)-8|0,f=31-(0|cr(0|(a=8<a>>>0?a:8)))|0;if(f=8400+((0==(0|a)?1:f)<<2)|0,a=r+4|0,(0|ze[f>>2])==(0|r)&&(ze[f>>2]=ze[a>>2]),0|(f=0|ze[r>>2])&&(ze[f+4>>2]=ze[a>>2]),0|(f=0|ze[a>>2])&&(ze[f>>2]=ze[r>>2]),ze[i>>2]=1|(a=0|ze[i>>2]),(0|ze[2287])==(0|i)&8==(-8&(f=(a>>>=1)+(-8-e)|0)|0)){if(!(0|Z(a)))return 0|i;f=f+8|0}return f>>>0<=15||(e=a=r=r+e+7&-8,ze[i>>2]=1&(f=0|ze[i>>2])|r-i<<1,ze[e>>2]=(r=i+(f>>>1)-r|0)<<1|1&ze[e>>2],ze[e+4>>2]=i,ze[((0|ze[2287])==(0|i)?9148:a+(2147483647&r)+4|0)>>2]=a,G(e)),0|i}function Z(r){var e=(15+(0|r)&-8)-((0|ze[ze[2287]>>2])>>>1)|0;if(-1==(0|W(e)))return 0;var i=0|ze[2287];if(!(1&(r=0|ze[i>>2]))){var a=(r>>>1)-8|0;r=31-(0|cr(0|(a=8<a>>>0?a:8)))|0;var f=i+8|0;r=8400+((0==(0|a)?1:r)<<2)|0,a=i+12|0,(0|ze[r>>2])==(0|f)&&(ze[r>>2]=ze[a>>2]),0|(r=0|ze[f>>2])&&(ze[r+4>>2]=ze[a>>2]),0|(r=0|ze[a>>2])&&(ze[r>>2]=ze[f>>2])}return 1&(ze[i>>2]=r=(0|ze[i>>2])+(e<<1)|0)|0||(e=31-(0|cr(0|(a=8<(a=(r>>>1)-8|0)>>>0?a:8)))|0,a=0|ze[(e=8400+((0==(0|a)?1:e)<<2)|0)>>2],ze[e>>2]=r=i+8|0,ze[r>>2]=0,(ze[i+12>>2]=a)&&(ze[a>>2]=r)),1}function G(r){var e=0,i=0,a=0,f=0|ze[(r|=0)>>2];ze[r>>2]=-2&f;var n=0|ze[r+4>>2],t=0|ze[2287],o=(0|t)==(0|r),l=r+(f>>>=1)|0,c=o?0:l;if(l=o?0:l,0|n&&0==(1&(e=0|ze[n>>2])|0)){e=31-(0|cr(0|(o=8<(o=(e>>>1)-8|0)>>>0?o:8)))|0;var s=n+8|0;e=8400+((0==(0|o)?1:e)<<2)|0,o=n+12|0,(0|ze[e>>2])==(0|s)&&(ze[e>>2]=ze[o>>2]),0|(e=0|ze[s>>2])&&(ze[e+4>>2]=ze[o>>2]),0|(e=0|ze[o>>2])&&(ze[e>>2]=ze[s>>2]),ze[n>>2]=(0|ze[n>>2])+(-2&ze[r>>2]),l?(ze[l+4>>2]=n,1&(e=0|ze[l>>2])||(e=31-(0|cr(0|(f=8<(f=(e>>>1)-8|0)>>>0?f:8)))|0,e=8400+((0==(0|f)?1:e)<<2)|0,f=l+12|0,(0|ze[e>>2])==(0|(i=l+8|0))&&(ze[e>>2]=ze[f>>2]),0|(e=0|ze[i>>2])&&(ze[e+4>>2]=ze[f>>2]),(e=0|ze[f>>2])&&(ze[e>>2]=ze[i>>2],t=0|ze[2287]),ze[n>>2]=(0|ze[n>>2])+(-2&ze[l>>2]),e=(0|l)==(0|t)?9148:c+((0|ze[l>>2])>>>1)+4|0,a=19)):(e=9148,a=19),19==(0|a)&&(ze[e>>2]=n),l=31-(0|cr(0|(e=8<(e=((0|ze[n>>2])>>>1)-8|0)>>>0?e:8)))|0,e=0|ze[(l=8400+((0==(0|e)?1:l)<<2)|0)>>2],ze[l>>2]=s,ze[s>>2]=0,(ze[o>>2]=e)&&(ze[e>>2]=s)}else t=0|l&&0==(1&(i=0|ze[l>>2])|0)?(e=31-(0|cr(0|(f=8<(f=(i>>>1)-8|0)>>>0?f:8)))|0,e=8400+((0==(0|f)?1:e)<<2)|0,f=l+12|0,(0|ze[e>>2])==(0|(i=l+8|0))&&(ze[e>>2]=ze[f>>2]),0|(e=0|ze[i>>2])&&(ze[e+4>>2]=ze[f>>2]),(e=0|ze[f>>2])&&(ze[e>>2]=ze[i>>2],t=0|ze[2287]),ze[r>>2]=e=(0|ze[r>>2])+(-2&ze[l>>2])|0,(0|l)==(0|t)?ze[2287]=r:(ze[c+((0|ze[l>>2])>>>1)+4>>2]=r,e=0|ze[r>>2]),(e>>>1)-8|0):f+-8|0,l=31-(0|cr(0|(t=8<t>>>0?t:8)))|0,t=0|ze[(l=8400+((0==(0|t)?1:l)<<2)|0)>>2],ze[l>>2]=e=r+8|0,ze[e>>2]=0,(ze[r+12>>2]=t)&&(ze[t>>2]=e)}function Me(r){(r|=0)&&G(r+-8|0)}function Re(r,e){var i=0,a=0,f=0,n=0|lr(0|e,0|r),t=0==(0|n)?1:n;r=(r=31-(0|cr(0|(8<t>>>0?t:8)))|0)+(1!=(0|ar(0|t))&1)|0;r:do{if(3<r>>>0&t>>>0<1<<r>>>0&&0!=(0|(i=0|ze[8400+(r+-1<<2)>>2]))){var o=0;for(e=i;!(t>>>0<=(((0|ze[e+-8>>2])>>>1)-8|0)>>>0);)if(!((o=o+1|0)>>>0<32&0!=(0|(e=0|ze[e+4>>2])))){a=7;break r}r=0|Y(e,t)}else a=7}while(0);r:do{if(7==(0|a)){e:do{if(r>>>0<32){for(;e=0|ze[8400+(r<<2)>>2],r=r+1|0,!(0|e);)if(32<=r>>>0)break e;r=0|Y(e,t);break r}}while(0);if(0|(r=0|ze[2287])&&0==(1&(f=0|ze[r>>2])|0)){if(ze[r>>2]=1|f,e=31-(0|cr(0|(o=8<(o=(f>>>1)-8|0)>>>0?o:8)))|0,e=8400+((0==(0|o)?1:e)<<2)|0,o=r+12|0,(0|ze[e>>2])==(0|(i=r+8|0))&&(ze[e>>2]=ze[o>>2]),0|(r=0|ze[i>>2])&&(ze[r+4>>2]=ze[o>>2]),0|(r=0|ze[o>>2])&&(ze[r>>2]=ze[i>>2]),t=0==(0|Z(t)),r=0|ze[2287],t)return ze[r>>2]&=-2,(n=0)|n;if(r)break;return(r=0)|r}if(-1==(0|(e=0|W(i=t+15&-8))))return(n=0)|n;if((0|(o=e))!=(0|(a=r=o+7&-8))&&-1==(0|W(r-o|0)))return(n=0)|n;(e=0|ze[2287])?ze[r+4>>2]=e:ze[2286]=a,ze[2287]=a,ze[r>>2]=i<<1|1}}while(0);return nr(0|(t=r+8|0),0,0|n),0|t}function V(r,e){var i,a=0,f=0,n=0,t=0,o=0,l=0==(0|(e|=0));if(!(r|=0)){var c=l?1:e;l=(l=31-(0|cr(0|(8<c>>>0?c:8)))|0)+(1!=(0|ar(0|c))&1)|0;r:do{if(3<l>>>0&c>>>0<1<<l>>>0&&0!=(0|(a=0|ze[8400+(l+-1<<2)>>2]))){for(i=0;!(c>>>0<=(((0|ze[a+-8>>2])>>>1)-8|0)>>>0);)if(!((i=i+1|0)>>>0<32&0!=(0|(a=0|ze[a+4>>2])))){o=8;break r}l=0|Y(a,c)}else o=8}while(0);r:do{if(8==(0|o)){e:do{if(l>>>0<32){for(;a=0|ze[8400+(l<<2)>>2],l=l+1|0,!(0|a);)if(32<=l>>>0)break e;l=0|Y(a,c);break r}}while(0);if(0|(l=0|ze[2287])&&0==(1&(f=0|ze[l>>2])|0)){if(ze[l>>2]=1|f,a=31-(0|cr(0|(i=8<(i=(f>>>1)-8|0)>>>0?i:8)))|0,a=8400+((0==(0|i)?1:a)<<2)|0,i=l+12|0,(0|ze[a>>2])==(0|(f=l+8|0))&&(ze[a>>2]=ze[i>>2]),0|(l=0|ze[f>>2])&&(ze[l+4>>2]=ze[i>>2]),0|(l=0|ze[i>>2])&&(ze[l>>2]=ze[f>>2]),e=0==(0|Z(c)),l=0|ze[2287],e)return ze[l>>2]&=-2,(e=0)|e;if(l)break;return(l=0)|l}if(-1==(0|(a=0|W(f=c+15&-8))))return(e=0)|e;if((0|(i=a))!=(0|(c=l=i+7&-8))&&-1==(0|W(l-i|0)))return(e=0)|e;(a=0|ze[2287])?ze[l+4>>2]=a:ze[2286]=c,ze[2287]=c,ze[l>>2]=f<<1|1}}while(0);return l+8|0}var s=r+-8|0;if(l)return G(s),0;if(e>>>0<=((a=(l=0|ze[s>>2])>>>1)-8|0)>>>0){if(ze[s>>2]=1|l,8==(-8&(l=a+(-8-e)|0)|0)&(0|ze[2287])==(0|s)){if(!(0|Z(a)))return 0|r;l=l+8|0}return l>>>0<=15||(e=t=o=r+e+7&-8,ze[s>>2]=1&(n=0|ze[s>>2])|o-s<<1,ze[e>>2]=(o=s+(n>>>1)-o|0)<<1|1&ze[e>>2],ze[e+4>>2]=s,ze[((0|ze[2287])==(0|s)?9148:t+(2147483647&o)+4|0)>>2]=t,G(e)),0|r}if(f=(0|(c=0|ze[2287]))!=(0|s)?1&(a=0|ze[(f=s+a|0)>>2])?c:(l=31-(0|cr(0|(a=8<(a=(a>>>1)-8|0)>>>0?a:8)))|0,l=8400+((0==(0|a)?1:l)<<2)|0,a=f+12|0,(0|ze[l>>2])==(0|(i=f+8|0))&&(ze[l>>2]=ze[a>>2]),0|(l=0|ze[i>>2])&&(ze[l+4>>2]=ze[a>>2]),0|(l=0|ze[a>>2])&&(ze[l>>2]=ze[i>>2]),ze[s>>2]=l=(0|ze[s>>2])+(-2&ze[f>>2])|0,(0|c)==(0|f)?ze[2287]=s:(ze[f+((0|ze[f>>2])>>>1)+4>>2]=s,c)):s,e>>>0<=((a=l>>>1)-8|0)>>>0){if(ze[s>>2]=1|l,(0|f)==(0|s)&8==(-8&(l=a+(-8-e)|0)|0)){if(!(0|Z(a)))return 0|r;l=l+8|0}return l>>>0<=15||(e=t=o=r+e+7&-8,ze[s>>2]=1&(n=0|ze[s>>2])|o-s<<1,ze[e>>2]=(o=s+(n>>>1)-o|0)<<1|1&ze[e>>2],ze[e+4>>2]=s,ze[((0|ze[2287])==(0|s)?9148:t+(2147483647&o)+4|0)>>2]=t,G(e)),0|r}l=31-(0|cr(0|(c=8<e>>>0?e:8)))|0,l=(0==(0|c)?1:l)+(1!=(0|ar(0|e))&1)|0;r:do{if(3<l>>>0&e>>>0<1<<l>>>0&&0!=(0|(n=0|ze[8400+(l+-1<<2)>>2]))){for(i=0,a=n;!(e>>>0<=(((0|ze[a+-8>>2])>>>1)-8|0)>>>0);)if(!((i=i+1|0)>>>0<32&0!=(0|(a=0|ze[a+4>>2])))){o=63;break r}l=0|Y(a,e)}else o=63}while(0);r:do{if(63==(0|o)){e:do{if(l>>>0<32){for(;a=0|ze[8400+(l<<2)>>2],l=l+1|0,!(0|a);)if(32<=l>>>0)break e;l=0|Y(a,e);break r}}while(0);if((0|f)==(0|s)){if(0|Z(e))return 0|r;l=0|ze[2287]}else l=f;if(0|l&&0==(1&(t=0|ze[l>>2])|0)){if(ze[l>>2]=1|t,a=31-(0|cr(0|(i=8<(i=(t>>>1)-8|0)>>>0?i:8)))|0,a=8400+((0==(0|i)?1:a)<<2)|0,i=l+12|0,(0|ze[a>>2])==(0|(f=l+8|0))&&(ze[a>>2]=ze[i>>2]),0|(l=0|ze[f>>2])&&(ze[l+4>>2]=ze[i>>2]),0|(l=0|ze[i>>2])&&(ze[l>>2]=ze[f>>2]),o=0==(0|Z(e)),l=0|ze[2287],o)return ze[l>>2]&=-2,(e=0)|e;if(l)break;return(l=0)|l}if(-1==(0|(a=0|W(f=e+15&-8))))return(e=0)|e;if((0|(i=a))!=(0|(c=l=i+7&-8))&&-1==(0|W(l-i|0)))return(e=0)|e;(a=0|ze[2287])?ze[l+4>>2]=a:ze[2286]=c,ze[2287]=c,ze[l>>2]=f<<1|1}}while(0);return fr(0|(o=l+8|0),0|r,0|(e>>>0<(t=((0|ze[s>>2])>>>1)-8|0)>>>0?e:t)),G(s),0|o}function W(r){var e=0|ze[2296];return(r=e+(0|r)|0)>>>0>(0|kr())>>>0&&0==(0|dr(0|r))?-1:(ze[2296]=r,0|e)}function X(r,e,i,a){e|=0,a|=0;var f=0|r,n=0|i,t=65535&(r=0|f),o=65535&(i=0|n),l=0|lr(o,t),c=r>>>16;return r=(l>>>16)+(0|lr(o,c))|0,i=0|lr(o=i>>>16,t),i=0|(ur((r>>>16)+(0|lr(o,c))+(((65535&r)+i|0)>>>16)|0),r+i<<16|65535&l|0),r=0|br(),0|(ur((0|lr(e,n))+(0|lr(a,f))+r|0&r|0),0|i)}function $(r,e,i,a){return 0|(ur((0|e)+(0|a)+((i=(r|=0)+(0|i)>>>0)>>>0<r>>>0|0)>>>0|0),0|i)}function Q(r,e,i,a){return 0|(ur((0|e)-(0|a)-((r|=0)>>>0<(i|=0)>>>0|0)>>>0|0),r-i>>>0|0)}function J(r){return 0|((r|=0)?31-(0|cr(r^r-1))|0:32)}function rr(r,e,i,a){return 0|(function(r,e,i,a,f){var n,t;f|=0;var o=r|=0,l=n=e|=0,c=i|=0,s=t=a|=0;if(!l){var u=0!=(0|f);if(s){if(!u)return(f=0)|(ur(0),f);ze[f>>2]=0|r,ze[f+4>>2]=0&e,f=t=0}else u&&(ze[f>>2]=(o>>>0)%(c>>>0),ze[f+4>>2]=0),f=(o>>>(t=0))/(c>>>0)>>>0;return 0|(ur(0|t),f)}u=0==(0|s);do{if(c){if(!u){if((u=(0|cr(0|s))-(0|cr(0|l))|0)>>>0<=31){var b=u+1|0;r=o>>>((c=b)>>>0)&(e=u-31>>31)|l<<(s=31-u|0),e&=l>>>(b>>>0),u=0,s=o<<s;break}return f&&(ze[f>>2]=0|r,ze[f+4>>2]=n|0&e),f=t=0,0|(ur(0|t),f)}if((u=c-1|0)&c|0){var k=64-(s=33+(0|cr(0|c))-(0|cr(0|l))|0)|0,v=s-32|0;r=(b=32-s|0)-1>>31&l>>>(v>>>0)|(l<<b|o>>>((c=s)>>>0))&(e=v>>31),e&=l>>>(s>>>0),u=o<<k&(n=b>>31),s=(l<<k|o>>>(v>>>0))&n|o<<b&s-33>>31;break}0|f&&(ze[f>>2]=u&o,ze[f+4>>2]=0),k=1==(0|c)?(v=n|0&e,0|r):(v=l>>>((k=0|J(0|c))>>>0)|0,l<<32-k|o>>>(k>>>0)|0)}else{if(u)return 0|f&&(ze[f>>2]=(l>>>0)%(c>>>0),ze[f+4>>2]=0),k=(l>>>(v=0))/(c>>>0)>>>0,0|(ur(0|v),k);if(!o)return 0|f&&(ze[f>>2]=0,ze[f+4>>2]=(l>>>0)%(s>>>0)),k=(l>>>(v=0))/(s>>>0)>>>0,0|(ur(0|v),k);if(!((u=s-1|0)&s))return 0|f&&(ze[f>>2]=0|r,ze[f+4>>2]=u&l|0&e),k=l>>>(((v=0)|J(0|s))>>>0),0|(ur(0|v),k);if((u=(0|cr(0|s))-(0|cr(0|l))|0)>>>0<=30){r=l<<(s=31-u|0)|o>>>((c=e=u+1|0)>>>0),e=l>>>(e>>>0),u=0,s=o<<s;break}if(!f)return k=v=0,0|(ur(0|v),k);ze[f>>2]=0|r,ze[f+4>>2]=n|0&e,k=v=0}return 0|(ur(0|v),k)}while(0);if(c){for(l=0|$(0|(b=0|i),0|(o=t|0&a),-1,-1),i=0|br(),n=s,s=0;n=u>>>31|(a=n)<<1,u=s|u<<1,Q(0|l,0|i,0|(a=r<<1|a>>>31|0),0|(t=r>>>31|e<<1|0)),s=1&(v=(k=0|br())>>31|((0|k)<0?-1:0)<<1),r=0|Q(0|a,0|t,v&b|0,(((0|k)<0?-1:0)>>31|((0|k)<0?-1:0)<<1)&o|0),e=0|br(),0!=(0|(c=c-1|0)););l=n,n=0}else l=s,s=n=0;return(c=0)|f&&(ze[f>>2]=r,ze[f+4>>2]=e),k=-2&(u<<1|0)|s,0|(ur((0|u)>>>31|(l|c)<<1|0&(c<<1|u>>>31)|n|0),k)})(0|r,0|e,0|i,0|a,0)}function er(r,e,i){return r|=0,e|=0,(0|(i|=0))<32?(ur(e>>>i|0),r>>>i|(e&(1<<i)-1)<<32-i):(ur(0),e>>>i-32|0)}function ir(r,e,i){return r|=0,(0|(i|=0))<32?(ur((e|=0)<<i|(r&(1<<i)-1<<32-i)>>>32-i|0),r<<i):(ur(r<<i-32|0),0)}function ar(r){return lr((r=(858993459&(r=(r|=0)-(r>>>1&1431655765)|0))+(r>>>2&858993459)|0)+(r>>>4)&252645135,16843009)>>>24|0}function fr(r,e,i){if(r|=0,e|=0,8192<=(0|(i|=0)))return vr(0|r,0|e,0|i),0|r;var a=0|r,f=r+i|0;if((3&r)==(3&e)){for(;3&r;){if(!i)return 0|a;je[r>>0]=0|je[e>>0],r=r+1|0,e=e+1|0,i=i-1|0}for(i=-4&f|0;(0|r)<(0|i);)ze[r>>2]=ze[e>>2],r=r+4|0,e=e+4|0}else for(i=f-4|0;(0|r)<(0|i);)je[r>>0]=0|je[e>>0],je[r+1>>0]=0|je[e+1>>0],je[r+2>>0]=0|je[e+2>>0],je[r+3>>0]=0|je[e+3>>0],r=r+4|0,e=e+4|0;for(;(0|r)<(0|f);)je[r>>0]=0|je[e>>0],r=r+1|0,e=e+1|0;return 0|a}function Ne(r,e,i){if((0|(e|=0))<(0|(r|=0))&(0|r)<(e+(i|=0)|0)){var a=r;for(e=e+i|0,r=r+i|0;0<(0|i);)i=i-1|0,je[(r=r-1|0)>>0]=0|je[(e=e-1|0)>>0];r=a}else fr(r,e,i);return 0|r}function nr(r,e,i){var a,f=(r|=0)+(i|=0)|0;if(e=255&(0|e),67<=(0|i)){for(;3&r;)je[r>>0]=e,r=r+1|0;var n=-4&f|0;for(a=e|e<<8|e<<16|e<<24;(0|r)<(0|n);)ze[r>>2]=a,r=r+4|0}for(;(0|r)<(0|f);)je[r>>0]=e,r=r+1|0;return f-i|0}function a(){return sr(1),0}function f(){return sr(4),0}function tr(){sr(7)}var je=new r.Int8Array(i);new r.Int16Array(i);var ze=new r.Int32Array(i),Be=new r.Uint8Array(i),or=new r.Uint16Array(i),lr=r.Math.imul,cr=r.Math.clz32,sr=e.a,ur=e.b,br=e.c,kr=e.d,vr=e.e,dr=e.f,De=9376,hr=[function(){return sr(0),0},w],wr=[a,function(r,e){return e|=0,de(r|=0,5906,6),0|e&&H(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,5913,7),1},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5867,30),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5898,7),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5848,8),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5857,9),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5837,4),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5842,5),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5809,12),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5822,14),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5796,5),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5802,6),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5783,5),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5789,6),1):0)},function(r,e,i){r|=0,e|=0;var a,f,n=0,t=0|ze[20+(i|=0)>>2],o=0|ze[i+16>>2];r:do{if(0!=(0|t)&0!=(1024&o|0)){var l=e+4|0;for(a=0;;){var c=0|ze[t+(a<<2)>>2];if(!c){n=6;break r}if(f=0|O(0|ze[e>>2],0|ze[l>>2],c))break;a=a+1|0}a=r,l=e;var s=0|ze[i+24>>2];l|=0,c|=0,s|=0,f|=0;var u,b,k=0;if(he(a|=0,60),2==(0|f))he(a,47),y(a,c);else{y(a,c),c=0|D(c);var v=0|C(16),d=0|C(16),h=l+4|0,w=v+4|0,m=d+4|0;for(f=1,u=b=0;;){var _=c+1|0;if(!(f&_>>>0<(0|ze[h>>2])>>>0))break;var p=0|je[(0|ze[l>>2])+_>>0];e:do{switch(0|p){case 62:f=0;break;case 34:case 39:if(b)if(u){if((0|u)!=(0|p)){he(d,p),f=1;break e}for(f=0;;){if(!(u=0|ze[s+(f<<2)>>2])){k=27;break e}if((0|(p=0|D(u)))==(0|ze[w>>2])){for(c=0;!(p>>>0<=c>>>0)&&(0|(k=0|T(0|je[u+c>>0])))==(0|T(0|Be[(0|ze[v>>2])+c>>0]));)c=c+1|0;if((0|c)==(0|p))break}f=f+1|0}0==(0|p)|0==(0|ze[m>>2])||(he(a,32),H(a,0|ze[v>>2],0|ze[w>>2]),y(a,6026),H(a,0|ze[d>>2],0|ze[m>>2]),he(a,34)),k=27}else f=1,u=p;else k=27;break;case 32:u?(he(d,32),f=1):k=27;break;case 61:b?k=27:b=f=1;break;default:0==(0|u)&(c=0!=(0|b))?(f=1,u=0):(he(c?d:v,p),f=1)}}while(0);27==(0|k)&&(k=0,x(v),x(d),f=1,u=b=0),c=_}S(v),S(d)}he(a,62)}else n=6}while(0);return 6==(0|n)&&(512&o|0?H(r,0|ze[e>>2],0|ze[e+4>>2]):1&o||2&o|0&&0|O(0|ze[e>>2],0|ze[e+4>>2],6014)||(l=0|ze[e>>2],a=0|ze[e+4>>2],8&o|0&&0|O(l,a,6020)||4&o|0&&0|O(l,a,6022)||de(r,l,a))),1},a,a,a,a,a,a,a],mr=[function(){return sr(2),0},function(r,e,i,a){r|=0,i|=0,a|=0;var f=0,n=0;if(0!=(0|(e|=0))&&0!=(0|(f=0|ze[(n=e+4|0)>>2])))if(32&ze[a+16>>2]|0&&2!=(0|i)&0==(0|k(0|ze[e>>2],f)))i=0;else{de(r,6029,9),2==(0|i)&&de(r,6090,7),d(0|r,0|ze[e>>2],0|ze[n>>2]),0|ze[(i=a+28|0)>>2]?(he(r,34),Le[7&ze[i>>2]](r,e,a),he(r,62)):de(r,6005,2);var t=f=0,o=0,l=0|ze[4+(i=0|e)>>2];for(a=0;;){if(l>>>0<=a>>>0){a=0;break}if(t=0|je[6090+a>>0],7==(0|a)){a=0;break}if((0|(f=0|Be[(0|ze[i>>2])+a>>0]))!=(0|t)){o=5;break}a=a+1|0}5==(0|o)&&(a=f-t|0),i=0|ze[e>>2],0==(0|a)?H(r,i+7|0,(0|ze[n>>2])-7|0):H(r,i,0|ze[n>>2]),de(r,6049,4),i=1}else i=0;return 0|i}],_r=[function(){return sr(3),0},function(r,e,i,a){return(e=0)|(a|=0)&&0|(e=0|ze[a+4>>2])&&de(0|r,0|ze[a>>2],e),1},function(r,e,i,a,f){r|=0,i|=0,a|=0,f|=0;var n=0,t=0,o=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(o=e+4|0)>>2])?(de(r,6067,10),d(0|r,0|ze[e>>2],0|ze[o>>2]),de(r,6078,7),0|a&&0|(n=0|ze[a+4>>2])&&H(r,0|ze[a>>2],n),0|i&&0|ze[(t=i+4|0)>>2]&&(de(r,6039,9),H(r,0|ze[i>>2],0|ze[t>>2])),y(r,0==(256&ze[f+16>>2]|0)?6005:6086),1):0)},function(r,e,i,a,f){r|=0,e|=0,i|=0,a|=0,f|=0;var n=0,t=0,o=0,l=0;do{if(e){if(32&ze[f+16>>2]){if(!(0|k(0|ze[e>>2],0|ze[(n=e+4|0)>>2]))){n=0;break}}else n=e+4|0;de(r,6029,9),(n=0|ze[n>>2])&&d(0|r,0|ze[e>>2],0|n)}else de(r,6029,9);t=8}while(0);return 8==(0|t)&&(0|i&&0|ze[(o=i+4|0)>>2]&&(de(r,6039,9),H(r,0|ze[i>>2],0|ze[o>>2])),0|ze[(n=f+28|0)>>2]?(he(r,34),Le[7&ze[n>>2]](r,e,f),he(r,62)):de(r,6005,2),0|a&&0|(l=0|ze[a+4>>2])&&de(r,0|ze[a>>2],l),de(r,6049,4),n=1),0|n}],pr=[f,function(r,e,i,a,f,n){r|=0,e|=0,a|=0,f|=0;var t=0,o=0,l=0,c=0|je[(i|=0)>>0],s=3<(n|=0)>>>0;if(s&62==c<<24>>24)if(33==(f=0|je[(a=i+1|0)>>0])<<24>>24){if(!(0|He(0|Be[(a=i+2|0)>>0]))){r:{r|=0,i=0|a,n=n+-2|0,o=(t=0)|ze[56+(e|=0)>>2];e:do{if(0|o){for(s=0;;){if(n>>>0<=s>>>0)break e;if(!(c=0|q(i+s|0,n-s|0,60)))break e;if((s=c+s|0)>>>0<n>>>0&&60==(0|je[i+s>>0])&&33==(0|je[i+(t=s+-1|0)>>0]))break;s=s+1|0}Pe(n=0|qe(e,1),e,i,t),o=0|wr[15&o](r,n,0|ze[e+112>>2]),Oe(e,1),n=0|(0==(0|o)?0:s+1|0);break r}}while(0);n=0}return 0|(0==(0|(n|=0))?0:n+2|0)}a=0}else l=7;else l=2<n>>>0?(a=f=i+1|0,f=0|je[f>>0],7):11;r:do{if(7==(0|l)){var u=255&f;if(f<<24>>24!=c<<24>>24){switch(c<<24>>24){case 62:case 126:a=0;break r}a=0|He(u)?0:0==(0|(a=0|m(r,e,a,n+-1|0,c)))?0:a+1|0}else l=11}}while(0);r:do{if(11==(0|l))if(s&&(0|je[i+1>>0])==c<<24>>24)if((f=0|je[(a=i+2|0)>>0])<<24>>24!=c<<24>>24)a=0|He(255&f)?0:0==(0|(a=0|_(r,e,a,n+-2|0,c)))?0:a+2|0;else if(5<=n>>>0&&(o=255&(l=0|je[(t=i+3|0)>>0]),l<<24>>24!=c<<24>>24)){switch(c<<24>>24){case 62:case 126:a=0;break r}if(0|He(o))a=0;else{e:{a=r,f=e,u=t;var b=n+-3|0,k=c;a|=0,f|=0,u|=0,b|=0,k|=0;var v,d=0,h=0,w=0;for(v=0;;){if(b>>>0<=v>>>0){v=0;break}if(!(d=0|q(u+v|0,b-v|0,k))){v=0;break}if((0|je[u+(d=d+v|0)>>0])==k<<24>>24&&0==(0|He(0|Be[u+(d+-1)>>0]))){w=7;break}v=d}if(7==(0|w))if(v=d+1|0,(w=d+2|0)>>>0<b>>>0&&(0|je[u+v>>0])==k<<24>>24&&(0|je[u+w>>0])==k<<24>>24&&0|ze[(h=f+84|0)>>2])Pe(v=0|qe(f,1),f,u,d),v=0|wr[15&ze[h>>2]](a,v,0|ze[f+112>>2]),Oe(f,1),v=0==(0|v)?0:d+3|0;else{if(v>>>0<b>>>0&&(0|je[u+v>>0])==k<<24>>24){a=0|(0==(0|(w=0|m(a,f,u+-2|0,b+2|0,k)))?0:w+-2|0);break e}v=0==(0|(v=0|_(a,f,u+-1|0,b+1|0,k)))?0:v+-1|0}a=0|v}a=0==(0|(a|=0))?0:a+3|0}}else a=0;else a=0}while(0);return 0|a},function(r,e,i,a,f,n){var t,o;r|=0,e|=0,i|=0,n|=0;var l=De;for(De=De+16|0,t=0;!(n>>>0<=t>>>0)&&96==(0|je[i+t>>0]);)t=t+1|0;for(a=0,o=t;(f=o>>>0<n>>>0)&a>>>0<t>>>0;)a=96==(0|je[i+o>>0])?a+1|0:0,o=o+1|0;if(f|t>>>0<=a>>>0){for(f=t;!(o>>>0<=f>>>0)&&32==(0|je[i+f>>0]);)f=f+1|0;for(a=o-t|0;!(a>>>0<=t>>>0)&&32==(0|je[i+(n=a+-1|0)>>0]);)a=n;if(!(f>>>0<a>>>0))return i=0==(0|wr[15&ze[e+52>>2]](r,0,0|ze[e+112>>2])),De=l,0|(i?0:o);ze[l>>2]=i+f,ze[l+4>>2]=a-f,ze[l+8>>2]=0,a=(a=(ze[l+12>>2]=0)==(0|wr[15&ze[e+52>>2]](r,l,0|ze[e+112>>2])))?0:o}else a=0;return De=l,0|a},function(r,e,i,a){if(r|=0,e|=0,i|=0,2<=(0|a)>>>0&&32==(0|je[i+-1>>0])&&32==(0|je[i+-2>>0])){for(i=0|ze[(a=r+4|0)>>2];i&&32==(0|je[(0|ze[r>>2])+(i=i+-1|0)>>0]);)ze[a>>2]=i;i=0!=(0|hr[1&ze[e+72>>2]](r,0|ze[e+112>>2]))&1}else i=0;return 0|i},function(r,e,i,a,f,n){r|=0,e|=0,i|=0,n|=0;var t=0,o=0,l=0,c=0,s=0,u=0,b=0;if(0|a)if(f=0|ze[(a=e+420|0)>>2],33==(0|je[i+-1>>0]))if(0|ze[e+68>>2]){u=f,s=a,c=1;var k=6}else k=89;else k=5;else f=0|ze[(a=e+420|0)>>2],k=5;5==(0|k)&&(k=0|ze[e+76>>2]?(u=f,s=a,c=0,6):89);r:do{if(6==(0|k)){var v=a=1;f=0;e:for(;;){if(n>>>0<=v>>>0){f=u,a=s,k=89;break r}var d=0|je[i+v>>0];i:do{if(10!=d<<24>>24){var h=v+-1|0;if(92!=(0|je[i+h>>0]))switch(d<<24>>24){case 91:a=a+1|0;break i;case 93:if((0|a)<2)break e;a=a+-1|0;break i;default:break i}}else f=1}while(0);v=v+1|0}for(d=a=v+1|0;;){if(n>>>0<=d>>>0){k=66;break}if(!(0|He(255&(t=0|je[i+d>>0])))){k=18;break}d=d+1|0}e:do{if(18==(0|k)){switch(t<<24>>24){case 40:break;case 91:for(t=a=d+1|0;;){if(n>>>0<=t>>>0){f=u,a=s,k=89;break r}if(93==(0|je[i+t>>0]))break;t=t+1|0}if((0|t)==(0|a))if(f){for(d=0|qe(e,1),a=1;!(v>>>0<=a>>>0);)10==(f=0|je[i+a>>0])<<24>>24?32!=(0|je[i+(a+-1)>>0])&&he(d,32):he(d,255&f),a=a+1|0;f=0|ze[d>>2],a=0|ze[d+4>>2]}else f=i+1|0,a=h;else f=i+a|0,a=t-a|0;if(!(f=0|I(e+116|0,f,a))){f=u,a=s,k=89;break r}a=t+1|0,o=0|ze[f+8>>2],d=0|ze[f+4>>2];break e;default:k=66;break e}for(;;){var w=d+1|0;if(n>>>0<=w>>>0)break;if(!(0|He(0|Be[i+w>>0])))break;d=w}var m=w;i:for(;;){if(n>>>0<=m>>>0){f=u,a=s,k=89;break r}switch((t=0|je[i+m>>0])<<24>>24){case 41:n=l=0,o=a=m;break i;case 92:a=2;break;default:if(0!=(0|m)&&0!=(0|He(0|Be[i+(m+-1)>>0])))switch(t<<24>>24){case 34:case 39:k=29;break i;default:a=1}else a=1}m=m+a|0}i:do{if(29==(0|k)){var _=m+1|0;for(a=1,o=_;;){if(n>>>0<=o>>>0){f=u,a=s,k=89;break r}if(92!=(f=0|je[i+o>>0])<<24>>24)if(f<<24>>24!=t<<24>>24){if(!(0!=(0|a)|41!=f<<24>>24))break;f=1}else a=0,f=1;else f=2;o=o+f|0}f=o;do{if(a=0|je[i+(f=f+-1|0)>>0],f>>>0<=_>>>0)break}while(0!=(0|He(255&a)));switch(a<<24>>24){case 34:case 39:a=m,l=_,n=f;break i}a=o,n=l=0}}while(0);for(;_=0|je[i+(t=a+-1|0)>>0],!(a>>>0<=w>>>0)&&0|He(255&_);)a=t;(f=60==(0|je[i+w>>0])?d+2|0:w)>>>0<(a=62==_<<24>>24?t:a)>>>0?de(d=0|qe(e,1),i+f|0,a-f|0):d=0,l>>>0<n>>>0?de(f=0|qe(e,1),i+l|0,n-l|0):f=0,a=o+1|0,o=f}}while(0);if(66==(0|k)){if(f){for(t=0|qe(e,1),f=1;!(v>>>0<=f>>>0);)10==(d=0|je[i+f>>0])<<24>>24?32!=(0|je[i+(f+-1)>>0])&&he(t,32):he(t,255&d),f=f+1|0;d=0|ze[t>>2],f=0|ze[t+4>>2]}else d=i+1|0,f=h;if(!(f=0|I(e+116|0,d,f))){f=u,a=s,k=89;break}o=0|ze[f+8>>2],d=0|ze[f+4>>2]}t=1<v>>>0?(f=0|qe(e,1),c?de(f,i+1|0,h):(Pe(f,e,i+(ze[(t=e+440|0)>>2]=1)|0,h),ze[t>>2]=0),f):0,d?(p(_=0|qe(e,1),d),f=c?(0|(d=0|ze[(f=r+4|0)>>2])&&33==(0|je[(0|ze[r>>2])+(b=d+-1|0)>>0])&&(ze[f>>2]=b),0|_r[3&ze[e+68>>2]](r,_,o,t,0|ze[e+112>>2])):0|_r[3&ze[e+76>>2]](r,_,o,t,0|ze[e+112>>2]),ze[s>>2]=u,f||(k=91)):(f=u,a=s,k=89)}}while(0);return 89==(0|k)&&(ze[a>>2]=f,k=91),91==(0|k)&&(a=0),0|a},function(r,e,i,a,f,n){r|=0,e|=0,i|=0;var t=0,o=De;De=De+32|0,a=(ze[(f=o+16|0)>>2]=0)|i,n|=0;var l=0|f,c=0,s=0,u=0;r:do{if(3<=n>>>0&&60==(0|je[a>>0])&&0!=(0|Ke(0|Be[a+(c=47==(0|je[a+1>>0])?2:1)>>0]))){ze[l>>2]=0;e:for(;!(n>>>0<=c>>>0);){var b=0|je[a+c>>0];if(!(0|Ke(255&b)))switch(b<<24>>24){case 45:case 43:case 46:break;default:break e}c=c+1|0}if(1<c>>>0){var k,v=0|je[(b=a+c|0)>>0];if(k=64==v<<24>>24){var d,h=b,w=n-c|0;h|=0,w|=0;var m=0;b=d=0;e:for(;;){if(w>>>0<=b>>>0){d=0;break}k=0|je[h+b>>0];i:do{if(!(0|Ke(255&k))){switch(k<<24>>24){case 62:m=6;break e;case 95:case 46:case 45:break i;case 64:break;default:d=0;break e}d=d+1|0}}while(0);b=b+1|0}6==(0|m)&&(d=1==(0|d)?b+1|0:0),k=0|(s=0|d)}if(k){ze[l>>2]=2,b=s+c|0;break}b=2<c>>>0?58==v<<24>>24?(c=c+(ze[l>>2]=1)|0,1):0:(c=2,0)}else b=0;if(c>>>0<n>>>0){if(b){v=c;e:for(;;){if(n>>>0<=v>>>0){b=0;break r}switch((b=0|je[a+v>>0])<<24>>24){case 10:case 32:case 34:case 39:case 62:break e;case 92:b=2;break;default:b=1}v=v+b|0}if(c>>>0<v>>>0&62==b<<24>>24){b=v+1|0;break}c=v,u=25}}else u=25;for(25==(0|u)&&(ze[l>>2]=0);;){if(n>>>0<=c>>>0){b=0;break r}if(b=c+1|0,62==(0|je[a+c>>0]))break;c=b}}else b=0}while(0);a=0|b,ze[o>>2]=i,ze[(l=o+4|0)>>2]=a,ze[o+8>>2]=0,ze[o+12>>2]=0;do{if(2<a>>>0){if(0!=(0|ze[(n=e+48|0)>>2])&0!=(0|(f=0|ze[f>>2])))c=0|qe(e,1),ze[o>>2]=i+1,ze[l>>2]=a+-2,p(c,o),f=0|mr[1&ze[n>>2]](r,c,f,0|ze[e+112>>2]),Oe(e,1);else{if(!(f=0|ze[e+80>>2])){t=7;break}f=0|wr[15&f](r,o,0|ze[e+112>>2])}f||(t=7)}else t=7}while(0);return 7==(0|t)&&(a=0),De=o,0|a},function(r,e,i,a,f,n){r|=0,e|=0,i|=0,n|=0;var t=De;return De=De+16|0,ze[t>>2]=0,ze[t+4>>2]=0,ze[t+8>>2]=0,a=1<n>>>(ze[t+12>>2]=0)?0|z(5719,a=0|Be[(i=i+1|0)>>0],24)?((f=0|ze[e+100>>2])?(ze[t>>2]=i,ze[t+4>>2]=1,Le[7&f](r,t,0|ze[e+112>>2])):he(r,a),2):0:(1==(0|n)&&he(r,0|Be[i>>0]),2),De=t,0|a},function(r,e,i,a,f,n){r|=0,e|=0,i|=0,n|=0;var t=0,o=De;if(De=De+16|0,ze[o>>2]=0,ze[o+4>>2]=0,ze[o+8>>2]=0,1<n>>>(ze[o+12>>2]=0))if(f=(a=35==(0|je[i+1>>0]))?2:1,a&f>>>0<n>>>0){var l=120==(0|T(0|Be[i+f>>0])),c=1^l,s=1;l=f+(1&l)|0}else c=1,s=a,l=f;else s=0,l=c=1;var u=l;r:for(;;){if(n>>>0<=u>>>0){a=0;break}if(f=(a=0|je[i+u>>0])<<24>>24,c){if(s){if(!((f+-48|0)>>>0<10)){t=12;break r}}else if(!(0|Ke(f))){t=12;break r}}else if(!(1&(((32|(f|=0))-97|0)>>>0<6|0!=(((0|f)-48|0)>>>0<10|0))|0)){t=12;break r}u=u+1|0}do{if(12==(0|t))if(l>>>0<u>>>0&59==a<<24>>24){if(a=u+1|0,s){if(7<(u-l|0)>>>0){a=0;break}f=i+l|0;var b=0|(n=c?10:16);f|=0,b|=0,De=(n=De)+144|0;var k,v=n;ze[v>>2]=0,ze[v+4>>2]=f,ze[v+44>>2]=f,ze[v+8>>2]=(0|f)<0?-1:f+2147483647|0,ze[v+76>>2]=-1,K(v),f=v;var d=b;f|=0,d|=0;var h=0;r:do{if(36<d>>>0)var w=k=0;else{for(v=f+4|0,b=f+104|0;0!=(0|R(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f))););e:do{switch(0|k){case 43:case 45:if(k=(45==(0|k))<<31>>31,(w=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0){ze[v>>2]=w+1;var m=k;k=0|Be[w>>0]}else m=k,k=0|M(f);break e;default:m=0}}while(0);if(w=0==(0|d),16==(16|d)&48==(0|k))if(120!=(32|(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f))))if(w){w=8;var _=42}else w=d,_=27;else{if(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),15<(0|Be[4849+k>>0])){if(!(0|ze[b>>2])){w=k=0;break r}ze[v>>2]=(0|ze[v>>2])-2,w=k=0;break r}w=16,_=42}else{if(!((0|Be[4849+k>>0])>>>0<(w=w?10:d)>>>0)){0|ze[b>>2]&&(ze[v>>2]=(0|ze[v>>2])-1),K(f),w=k=0;break r}_=27}e:do{if(27==(0|_))if(10==(0|w))if((k=k+-48|0)>>>0<10){d=0;for(var p=k;d=(10*d|0)+p|0,(w=(p=(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f))-48|0)>>>0<10)&d>>>0<429496729;);if(w){var y=d;d=0;do{w=0|X(0|y,0|d,10,0);var g=((0|p)<0)<<31>>31,A=~g;if(A>>>0<(h=0|br())>>>0|(0|h)==(0|A)&~p>>>0<w>>>0){w=10,h=y,_=71;break e}y=0|$(0|w,0|h,0|p,0|g),d=0|br(),p=(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f))-48|0}while(p>>>0<10&(d>>>0<429496729|429496729==(0|d)&y>>>0<2576980378));9<p>>>0?(w=d,k=y):(w=10,h=y,_=71)}else w=0,k=d}else k=w=0;else _=42}while(0);e:do{if(42==(0|_)){if(!(w+-1&w)){if(A=0|je[8358+((23*w|0)>>>5&7)>>0],(d=255&(p=0|je[4849+k>>0]))>>>0<w>>>0){for(h=0;h=d|h<<A,k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),h>>>0<134217728&(d=255&(p=0|je[4849+k>>0]))>>>0<w>>>0;);g=d,d=0}else g=d,h=d=0;if(y=0|er(-1,-1,0|A),w>>>0<=g>>>0|(_=0|br())>>>0<d>>>0|(0|_)==(0|d)&y>>>0<h>>>0){_=71;break}for(;;)if(h=0|ir(0|h,0|d,0|A),d=0|br(),h|=255&p,k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),w>>>0<=(255&(p=0|je[4849+k>>0]))>>>0|_>>>0<d>>>0|(0|d)==(0|_)&y>>>0<h>>>0){_=71;break e}}if((p=255&(d=0|je[4849+k>>0]))>>>0<w>>>0){for(h=0;h=p+(0|lr(h,w))|0,k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),h>>>0<119304647&(p=255&(d=0|je[4849+k>>0]))>>>0<w>>>0;);g=d}else g=d,h=0;if(p>>>(d=0)<w>>>0)for(_=0|rr(-1,-1,0|w,0),A=0|br(),p=g;;){if(A>>>0<d>>>0|(0|d)==(0|A)&_>>>0<h>>>0){_=71;break e}if(g=0|X(0|h,0|d,0|w,0),4294967295<(y=0|br())>>>0|-1==(0|y)&~(p&=255)>>>0<g>>>0){_=71;break e}if(h=0|$(0|g,0|y,0|p,0),d=0|br(),k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),w>>>0<=(255&(p=0|je[4849+k>>0]))>>>0){_=71;break}}else _=71}}while(0);if(71==(0|_))if((0|Be[4849+k>>0])>>>0<w>>>0){for(;k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),(0|Be[4849+k>>0])>>>0<w>>>0;);w=0,k=-2147483648}else w=d,k=h;if(0|ze[b>>2]&&(ze[v>>2]=(0|ze[v>>2])-1),!(w>>>0<0|0==(0|w)&k>>>0<2147483648)){if(!m){k=0,w=2147483647;break}if(0<w>>>0|0==(0|w)&2147483648<k>>>0){k=0,w=-2147483648;break}}w=0|Q(k^m|0,w^(b=((0|m)<0)<<31>>31)|0,0|m,0|b),k=0|br()}}while(0);if(ur(0|k),b=0|w,ur(0|br()),De=n,n=0|b,br(),n|=0,!(0|(17<((n|=0)-14|0)>>>0&8<n>>>0&1<(n+-11|0)>>>0?n>>>0<1114112&65535!=(1|n)&55296!=(-2048&n|0)&1|0:0))){a=0;break}}else{n=i,f=a,n|=0,f|=0,b=0;do{if((f+-4|0)>>>0<7){switch(v=n,m=f,v|=0,(A=0)|(m|=0)){case 6:m=6,A=3;break;case 5:m=5,A=4;break;case 4:m=4,A=5;break;case 3:m=3,A=6;break;case 2:m=2;break;default:m=(0|or[4320+((0|Be[v+6>>0])<<1)>>1])+m|0,A=3}if(3==(0|A)&&(m=m+(0|or[4320+((0|Be[v+5>>0])<<1)>>1])|0,A=4),4==(0|A)&&(m=m+(0|or[4320+((0|Be[v+4>>0])<<1)>>1])|0,A=5),5==(0|A)&&(m=m+(0|or[4320+((0|Be[v+3>>0])<<1)>>1])|0,A=6),6==(0|A)&&(m=m+(0|or[4320+(1+(0|Be[v+2>>0])<<1)>>1])|0),v=(v=m+(0|or[4320+((0|Be[v+1>>0])<<1)>>1])|0)>>>0<771&&(0|je[n>>0])==(0|je[(b=0|ze[1232+(v<<2)>>2])>>0])){if(A=n+1|0,_=b+1|0,y=f+-1|0,A|=0,_|=0,y|=0){m=0|je[A>>0];r:do{if(m<<24>>24)for(;;){if(!(m<<24>>24==(v=0|je[_>>0])<<24>>24&0!=(0|(y=y+-1|0))&0!=v<<24>>24))break r;if(_=_+1|0,!((m=0|je[(A=A+1|0)>>0])<<24>>24)){m=0;break}}else m=0}while(0);m=(255&m)-(0|Be[_>>0])|0}else m=0;v=0==(0|m)}if(v&&0==(0|je[b+f>>0]))break}b=0}while(0);if(!(0|b)){a=0;break}}0|(f=0|ze[e+96>>2])?(ze[o>>2]=i,ze[o+4>>2]=a,Le[7&f](r,o,0|ze[e+112>>2])):(he(r,38),s&&he(r,35),c||he(r,120),de(r,i+l|0,a-l|0))}else a=0}while(0);return De=o,0|a},function(r,e,i,a,f,n){r|=0,i|=0,a|=0,n|=0;var t=De;De=De+16|0;var o=48+(e|=0)|0;if(0!=(0|ze[o>>2])&&0==(0|ze[e+440>>2])){var l=0|qe(e,1);f=0|t;var c=0|l;i|=0,a|=0;var s,u=0;if(4<=(n|=0)>>>0&&47==(0|je[i+1>>0])&&47==(0|je[i+2>>0])){for(s=0;!(a>>>0<=s>>>0)&&((32|Be[i+~s>>0])-97|0)>>>0<26|0;)s=s+1|0;var b=i+-s|0;if(0!=(0|k(b,s+n|0))&&0!=(0|(u=0|v(i+3|0,n+-3|0)))){for(a=u+3|0;!(n>>>0<=a>>>0||0|R(0|Be[i+a>>0]));)a=a+1|0;(a=0|h(i,a))?(de(c,b,a+s|0),ze[f>>2]=s):a=0}else a=0}else a=0;0|(f=0|a)&&(E(r,(0|ze[r+4>>2])-(0|ze[t>>2])|0),mr[1&ze[o>>2]](r,l,1,0|ze[e+112>>2])),Oe(e,1)}else f=0;return De=t,0|f},function(r,e,i,a,f,n){r|=0,i|=0,a|=0,n|=0;var t=De;De=De+16|0;var o=48+(e|=0)|0;if(0!=(0|ze[o>>2])&&0==(0|ze[e+440>>2])){var l=0|qe(e,1);f=0|t;var c=0|l;i|=0,a|=0,n|=0;var s,u,b=0;for(u=0;!(a>>>0<=u>>>0);){var k=0|je[i+~u>>0],v=255&k;if(!(k<<24>>24))break;if(0==(0|Ke(v))&&0==(0|z(5568,v,5)))break;u=u+1|0}if(u){k=n+-1|0,v=a=s=0;r:for(;!(n>>>0<=s>>>0);){var d=0|je[i+s>>0];e:do{if(!(0|Ke(255&d))){switch(d<<24>>24){case 95:case 45:break e;case 64:v=v+1|0;break e;case 46:break;default:break r}if(k>>>0<=s>>>0)break r;a=a+1|0}}while(0);s=s+1|0}0==(0|a)|1!=(0|v)|s>>>0<2||0==(0|(b=0|h(i,s)))?b=0:(de(c,i+-u|0,b+u|0),ze[f>>2]=u)}else b=0;0|(f=0|b)&&(E(r,(0|ze[r+4>>2])-(0|ze[t>>2])|0),mr[1&ze[o>>2]](r,l,2,0|ze[e+112>>2])),Oe(e,1)}else f=0;return De=t,0|f},function(r,e,i,a,f,n){r|=0,i|=0,a|=0,n|=0;var t=De;De=De+16|0;var o=t,l=76+(e|=0)|0;if(0!=(0|ze[l>>2])&&0==(0|ze[e+440>>2])){var c=0|qe(e,1);f=0|o;var s=0|c;i|=0,n|=0;var u=0,b=0,k=0;if(0!=(0|a)&&0==(0|B(b=0|Be[i+-1>>0]))?n>>>0<4|0==(0|R(b))?u=0:k=5:n>>>0<4?u=0:k=5,5==(0|k))if(0==(0|j(i,5558,4))&&0!=(0|(u=0|v(i,n)))){for(;!(n>>>0<=u>>>0||0|R(0|Be[i+u>>0]));)u=u+1|0;(u=0|h(i,u))?(de(s,i,u),ze[f>>2]=0):u=0}else u=0;0|(f=0|u)&&(de(a=0|qe(e,1),5711,7),de(a,0|ze[c>>2],0|ze[c+4>>2]),E(r,(0|ze[r+4>>2])-(0|ze[o>>2])|0),0|ze[(i=e+100|0)>>2]?(n=0|qe(e,1),Le[7&ze[i>>2]](n,c,0|ze[(o=e+112|0)>>2]),_r[3&ze[l>>2]](r,a,0,n,0|ze[o>>2]),Oe(e,1)):_r[3&ze[l>>2]](r,a,0,c,0|ze[e+112>>2]),Oe(e,1)),Oe(e,1)}else f=0;return De=t,0|f},function(r,e,i,a,f,n){r|=0,i|=0,a|=0,f|=0,n|=0;var t=0,o=De;De=De+16|0;var l=o+4|0,c=o;if(0!=(0|ze[48+(e|=0)>>2])&&0==(0|ze[e+440>>2])){var s,u=0|qe(e,1),b=0|l,k=0|u,v=0|i,d=0|n,h=0|c,w=0,m=0|g(v,0|a,0|f,d,114);r:do{if(m){for(w=4<d>>>0?0==(0|F(v+1|0,5573,4)):0,s=1;;){var _=s+10|0;if(_>>>0<=d>>>0&&0==(0|F(v+s|0,5578,10)))var p=10;else{if(_=(_=s+2|0)>>>0<d>>>0&&(p=0==(0|F(v+s|0,5589,2)))?_:s,!(0|Ke(0|Be[v+_>>0]))){_=0;break r}p=24,_=_+1|0}for(;;){if(d>>>0<=_>>>0){var y=0;break}if(!(95==(y=0|je[v+_>>0])<<24>>24|0!=(0|Ke(255&y)))){y=1;break}_=_+1|0}if(!((s=_-s|0)>>>0<=p>>>0&1<s>>>0)){_=0;break r}if(!y)break;if(!(43==(s=0|je[v+_>>0])<<24>>24|w&45==s<<24>>24))break;if(!_){_=1;break}s=_+1|0}e:do{if(_>>>0<d>>>0&&47==(0|je[v+_>>0]))for(;;){if(d>>>0<=_>>>0)break e;if(!(0|Ke(255&(y=0|je[v+_>>0]))))switch(y<<24>>24){case 45:case 47:case 95:break;default:break e}_=_+1|0}}while(0);de(k,v+-m|0,_+m|0),ze[h>>2]=1==(0|m)&1,ze[b>>2]=m}else _=0}while(0);if(b=0|_)t=5;else{b=0|l,k=0|u,i|=0,a|=0,f|=0,n|=0,v=0|c,_=0;r:do{if(3<=n>>>0&&0!=(0|(_=0|g(i,a,f,n,117)))){if(!(0|Ke(255&(a=0|je[i+1>>0]))))switch(a<<24>>24){case 45:case 95:break;default:a=0;break r}a=2;e:for(;!(n>>>0<=a>>>0);){if(!(0|Ke(255&(f=0|je[i+a>>0]))))switch(f<<24>>24){case 45:case 47:case 95:break;default:break e}a=a+1|0}de(k,i+-_|0,a+_|0),ze[v>>2]=1==(0|_)&1,ze[b>>2]=_}else a=0}while(0);(b=0|a)?t=5:b=0}5==(0|t)&&(a=0|qe(e,1),0|ze[c>>2]&&he(a,47),de(a,0|ze[u>>2],0|ze[u+4>>2]),E(r,(0|ze[r+4>>2])-(0|ze[l>>2])|0),0|ze[(i=e+100|0)>>2]?(c=0|qe(e,1),Le[7&ze[i>>2]](c,u,0|ze[(t=e+112|0)>>2]),_r[3&ze[e+76>>2]](r,a,0,c,0|ze[t>>2]),Oe(e,1)):_r[3&ze[e+76>>2]](r,a,0,u,0|ze[e+112>>2]),Oe(e,1)),Oe(e,1)}else b=0;return De=o,0|b},function(r,e,i,a,f,n){r|=0,i|=0,n|=0;var t=92+(e|=0)|0;r:do{if(n>>>0<2|0==(0|ze[t>>2]))a=0;else{e:do{if(40==(0|je[i+1>>0])){for(a=2;!(n>>>0<=a>>>0)&&41!=(0|je[i+a>>0])&&92!=(0|je[i+(a+-1)>>0]);)a=a+1|0;if((0|a)==(0|n)){a=0;break r}n=2}else for(a=1;;){if(n>>>0<=a>>>0){n=1;break e}if(0|He(0|Be[i+a>>0])){n=1;break e}a=a+1|0}}while(0);if(f=a-n|0){var o=0|qe(e,1);Pe(o,e,i+n|0,f),wr[15&ze[t>>2]](r,o,0|ze[e+112>>2]),Oe(e,1),a=a+(2==(0|n)&1)|0}else a=2==(0|n)?3:0}}while(0);return 0|a},f,f,f],Fe=[function(){sr(5)},function(r,e){var i;r|=0;var a=4+(e|=0)|0,f=0;for(i=0|ze[a>>2];!((0|i)<=0);)de(r,5762,12),ze[a>>2]=i=(0|ze[a>>2])-1|0,f=1;f&&de(r,5775,7),n(0,e)},function(r,e){e|=0,0|ze[4+(r|=0)>>2]&&he(r,10),y(r,0==(256&ze[e+16>>2]|0)?6289:6295)},n],Le=[function(){sr(6)},function(r,e){e|=0,0|ze[4+(r|=0)>>2]&&he(r,10),de(r,6371,13),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6356,14)},function(r,e){e|=0,0|ze[4+(r|=0)>>2]&&he(r,10),de(r,6318,37),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6356,14)},function(r,e,i){var a;r|=0,e|=0;r:do{if(0|e){for(i=0|ze[e+4>>2];;){if(!i){i=0;break}var f=i+-1|0;if(10!=(0|je[(0|ze[e>>2])+f>>0]))break;i=f}for(a=0;;){if(i>>>0<=a>>>0)break r;if(10!=(0|je[(f=(0|ze[e>>2])+a|0)>>0]))break;a=a+1|0}0|ze[r+4>>2]&&(he(r,10),f=(0|ze[e>>2])+a|0),de(r,f,i-a|0),he(r,10)}}while(0)},function(r,e,i){e|=0,i|=0;var a,f,n=0,t=0;if(0|ze[4+(r|=0)>>2]&&he(r,10),0|e&&0|(n=0|ze[(t=e+4|0)>>2])){for(a=0;!(n>>>0<=a>>>0)&&0|R(0|Be[(0|ze[e>>2])+a>>0]);)a=a+1|0;if((0|a)!=(0|n)){de(r,6248,3);r:do{if(128&ze[i+16>>2])for(;;){if((n=0|ze[t>>2])>>>0<=a>>>0)break r;for(f=a;!(n>>>0<=f>>>0)&&10!=(0|je[(0|ze[e>>2])+f>>0]);)f=f+1|0;if(((a=a>>>0<f>>>0?(de(r,(0|ze[e>>2])+a|0,f-a|0),0|ze[t>>2]):n)+-1|0)>>>0<=f>>>0)break r;w(r,i),a=f+1|0}else de(r,(0|ze[e>>2])+a|0,(0|ze[t>>2])-a|0)}while(0);de(r,6252,5)}}},function(r,e){e|=0,de(r|=0,6184,5),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6190,6)},function(r,e){0|(e|=0)&&H(0|r,0|ze[e>>2],0|ze[e+4>>2])},function(r,e,i){r|=0,0|ze[32+(i|=0)>>2]&&de(r,5352,15),0|ze[(e=i+36|0)>>2]&&(de(r,5368,9),y(r,0|ze[e>>2]),he(r,34))}],Ye=[tr,function(r,e,i,a){r|=0,e|=0,i|=0;var f=4+(a|=0)|0,n=0|ze[f>>2],t=a+8|0;n?t=0|ze[t>>2]:(n=i+-1|0,de(r,5921,18),t=ze[t>>2]=n,n=0|ze[f>>2]),t=i-t|0;r:do{if((0|n)<(0|t))for(;;){if((0|t)<=(0|n))break r;de(r,5940,10),ze[f>>2]=n=1+(0|ze[f>>2])|0}else if((0|n)<=(0|t))de(r,5977,11);else{for(de(r,5951,6),n=0|ze[f>>2];!((0|n)<=(0|t));)de(r,5958,12),ze[f>>2]=n=(0|ze[f>>2])-1|0;de(r,5971,5)}}while(0);de(r,5989,10),0|(n=0|ze[a+12>>2])&&y(r,n),de(r,6e3,4),ze[a>>2]=1+(f=0|ze[a>>2]),l(r,f),de(r,6005,2),0|e&&H(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6008,5)},function(r,e,i,a){e|=0,i|=0;var f,n,t=0,o=0,l=0,c=0;if(0|ze[4+(r|=0)>>2]&&he(r,10),0!=(0|i)&&0!=(0|ze[(l=i+4|0)>>2])){for(de(r,6385,18),a=n=0;;){var s=0|ze[l>>2];if(s>>>0<=a>>>0)break;for(;!(s>>>0<=a>>>0);){if(!(0|R(255&(t=0|je[(o=0|ze[i>>2])+a>>0])))){c=10;break}a=a+1|0}if(10==(0|c)){for(c=0,f=a;!(s>>>0<=f>>>0||0|R(0|Be[o+f>>0]));)f=f+1|0;t=a+(46==t<<24>>24&1)|0,H(r,(a=n?(he(r,32),0|ze[i>>2]):o)+t|0,f-t|0),a=f}n=n+1|0,a=a+1|0}de(r,6005,2)}else de(r,6404,11);0|e&&H(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6416,14)},function(r,e,i,a){e|=0,i|=0,a|=0,0|ze[4+(r|=0)>>2]&&he(r,10);var f=0==(64&ze[a+16>>2]|0);de(r,6302,2),l(r,i),f?de(r,6168,1):(de(r,6305,5),0|(f=0|ze[a+12>>2])&&y(r,f),de(r,6e3,4),ze[a>>2]=1+(f=0|ze[a>>2]),l(r,f),de(r,6005,2)),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6311,3),l(r,i),de(r,6315,2)},function(r,e,i){e|=0,i|=0,0|ze[4+(r|=0)>>2]&&he(r,10),de(r,(i=0!=(1&i|0))?6263:6269,5),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,i?6275:6282,6)},function(r,e,i,a){if(e|=0,de(r|=0,6258,4),0|e){var f=0|ze[e>>2];for(i=0|ze[e+4>>2];;){if(!i){i=0;break}if(10!=(0|je[f+(a=i+-1|0)>>0]))break;i=a}de(r,f,i)}de(r,5951,6)},function(r,e,i){e|=0,i|=0,0|ze[4+(r|=0)>>2]&&he(r,10),de(r,6197,15),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6213,16),0|i&&de(r,0|ze[i>>2],0|ze[i+4>>2]),de(r,6230,17)},tr],yr=[function(){sr(8)},function(r,e,i,a,f){switch(r|=0,e|=0,f|=0,(a=0!=(4&(i|=0)|0))?de(r,6098,3):de(r,6102,3),1<(0|f)&&(de(r,6106,10),l(r,f),de(r,6117,2)),3&i){case 3:de(r,6120,16);break;case 1:de(r,6137,14);break;case 2:de(r,6152,15);break;default:de(r,6168,1)}0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,a?6170:6177,6)}];return{___muldi3:X,___udivdi3:rr,_bitshift64Lshr:er,_bitshift64Shl:ir,_default_renderer:function(r,e,i,a,f,n){return r|=0,e|=0,i|=0,a|=0,f|=0,n|=0,0|ze[2284]||(ze[2284]=1,ze[2092]=0|t(8528,805,0),ze[2093]=0|t(8680,805,1),ze[2094]=8528,ze[2095]=8680),0|o(r,e,i,a,f,0,n)},_emscripten_get_sbrk_ptr:function(){return 9184},_free:Me,_i64Add:$,_i64Subtract:Q,_llvm_ctpop_i32:ar,_malloc:L,_memcpy:fr,_memmove:Ne,_memset:nr,_wiki_renderer:function(r,e,i,a,f,n){return r|=0,e|=0,i|=0,a|=0,f|=0,n|=0,0|ze[2285]||(ze[2285]=1,ze[2096]=0|t(8832,1825,0),ze[2097]=0|t(8984,1825,1),ze[2098]=8832,ze[2099]=8984),0|o(r,e,i,a,f,1,n)},dynCall_iii:function(r,e,i){return 0|hr[1&(0|r)](0|e,0|i)},dynCall_iiii:function(r,e,i,a){return 0|wr[15&(0|r)](0|e,0|i,0|a)},dynCall_iiiii:function(r,e,i,a,f){return 0|mr[1&(0|r)](0|e,0|i,0|a,0|f)},dynCall_iiiiii:function(r,e,i,a,f,n){return 0|_r[3&(0|r)](0|e,0|i,0|a,0|f,0|n)},dynCall_iiiiiii:function(r,e,i,a,f,n,t){return 0|pr[15&(0|r)](0|e,0|i,0|a,0|f,0|n,0|t)},dynCall_vii:function(r,e,i){Fe[3&(0|r)](0|e,0|i)},dynCall_viii:function(r,e,i,a){Le[7&(0|r)](0|e,0|i,0|a)},dynCall_viiii:function(r,e,i,a,f){Ye[7&(0|r)](0|e,0|i,0|a,0|f)},dynCall_viiiii:function(r,e,i,a,f,n){yr[1&(0|r)](0|e,0|i,0|a,0|f,0|n)},establishStackSpace:function(r){De=0|r},stackAlloc:function(r){var e=De;return De=15+(De=De+(0|r)|0)&-16,0|e},stackRestore:function(r){De=0|r},stackSave:function(){return 0|De}}})({Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},{a:function(r){throw o(r),c(r),h=!0,\"abort(\"+r+\"). Build with -s ASSERTIONS=1 for more info.\"},b:function(r){d=r},c:function(){return d},d:function(){return u.length},e:function(r,e,i){b.set(b.subarray(e,e+i),r)},f:function(){return!1},g:function(r){return r},h:i,i:a,j:function(){var r=a();return n.extraStackTrace&&(r+=\"\\n\"+n.extraStackTrace()),i(r)},k:9360},s);n.___muldi3=y.___muldi3,n.___udivdi3=y.___udivdi3,n._bitshift64Lshr=y._bitshift64Lshr,n._bitshift64Shl=y._bitshift64Shl;var g=n._default_renderer=y._default_renderer;n._emscripten_get_sbrk_ptr=y._emscripten_get_sbrk_ptr;var A=n._free=y._free;n._i64Add=y._i64Add,n._i64Subtract=y._i64Subtract,n._llvm_ctpop_i32=y._llvm_ctpop_i32,n._malloc=y._malloc,n._memcpy=y._memcpy,n._memmove=y._memmove,n._memset=y._memset;var C=n._wiki_renderer=y._wiki_renderer;n.establishStackSpace=y.establishStackSpace;var S,x=n.stackAlloc=y.stackAlloc,E=n.stackRestore=y.stackRestore,I=n.stackSave=y.stackSave;n.dynCall_iii=y.dynCall_iii,n.dynCall_iiii=y.dynCall_iiii,n.dynCall_iiiii=y.dynCall_iiiii,n.dynCall_iiiiii=y.dynCall_iiiiii,n.dynCall_iiiiiii=y.dynCall_iiiiiii,n.dynCall_vii=y.dynCall_vii,n.dynCall_viii=y.dynCall_viii,n.dynCall_viiii=y.dynCall_viiii,n.dynCall_viiiii=y.dynCall_viiiii,n.asm=y,t&&(function(r){var e,i=r.length;for(e=0;e<i;++e)b[8+e]=r.charCodeAt(e)})(t),(n.run=function(){e(w),S||(S=!0,h||(e(m),e(_),e(p)))})();export function markdown(r,e){return f(g,r,e)};export function markdownWiki(r,e){return f(C,r,e)};","/* @flow */\n\nimport { markdown } from 'snudown-js';\nimport { Host } from '../../core/host';\nimport { DAY, string } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('github', {\n\tdomains: ['gist.github.com'],\n\tlogo: 'https://assets-cdn.github.com/favicon.ico',\n\tname: 'github gists',\n\tdetect: ({ pathname }) => (/^\\/(?:[\\w-]+\\/)?([a-z0-9]{20,}|\\d+)/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst { files, description } = await ajax({\n\t\t\turl: `https://api.github.com/gists/${id}`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\tlet src = '';\n\n\t\tfor (const [filename, { content, language, truncated }] of Object.entries(files)) {\n\t\t\tsrc += string.escape`<h5>${filename}:</h5>`;\n\n\t\t\tif (language === 'Markdown') {\n\t\t\t\tsrc += markdown(content);\n\t\t\t} else {\n\t\t\t\tsrc += string.escape`<pre><code>${content}</code></pre>`;\n\t\t\t}\n\n\t\t\tif (truncated) {\n\t\t\t\tsrc += '<p>&lt;file truncated&gt;</p>';\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'TEXT',\n\t\t\ttitle: description,\n\t\t\tsrc,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('googlemaps', {\n\tdomains: ['maps.google.ca', 'maps.google.com', 'google.co.uk', 'google.com', 'google.ca'],\n\tlogo: 'https://maps.google.com/favicon.ico',\n\tname: 'Google Maps',\n\tdetect: ({ host, searchParams, pathname }) => {\n\t\t// Only valid if we can find some coords to display\n\t\tif (host.startsWith('maps.') || pathname.startsWith('/maps')) {\n\t\t\tconst coords = searchParams.get('ll') || searchParams.get('q');\n\t\t\tif (coords) {\n\t\t\t\t// Handle old style maps.google urls\n\t\t\t\treturn [\n\t\t\t\t\tcoords,\n\t\t\t\t\tsearchParams.get('z'),\n\t\t\t\t\tsearchParams.has('maptype') ? searchParams.get('maptype') : 'roadmap',\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\t// Parse new style google map urls\n\t\t\t\tconst location = pathname.split('/').find(part => part.startsWith('@'));\n\t\t\t\tif (location) {\n\t\t\t\t\tconst [long, lat, zoom] = location.substring(1).split(',');\n\n\t\t\t\t\treturn [\n\t\t\t\t\t\t`${long},${lat}`,\n\t\t\t\t\t\tzoom.endsWith('z') ? zoom : 16, // passing a meter zoom level to maps does not make it happy\n\t\t\t\t\t\tzoom.endsWith('z') ? 'roadmap' : 'satellite',\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\thandleLink(href, [coords, zoom, mapType]) {\n\t\tlet embed = `https://www.google.com/maps/embed/v1/view?center=${coords}&key=AIzaSyCtnLZP1XwkgIK53Asx_5qtZa2k9eZcdDc`;\n\t\tif (zoom) embed += `&zoom=${zoom}`;\n\t\tif (mapType) embed += `&maptype=${mapType}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tmuted: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('gyazo', {\n\tname: 'gyazo',\n\tdomains: ['gyazo.com'],\n\tpermissions: ['https://api.gyazo.com/api/oembed'],\n\tlogo: 'https://gyazo.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(\\w{32})\\b/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst info = await ajax({\n\t\t\turl: 'https://api.gyazo.com/api/oembed',\n\t\t\tquery: { url: href },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tswitch (info.type) {\n\t\t\tcase 'photo':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\tsrc: info.url,\n\t\t\t\t};\n\t\t\tcase 'video':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'VIDEO',\n\t\t\t\t\tmuted: true,\n\t\t\t\t\tloop: true,\n\t\t\t\t\tfallback: `https://i.gyazo.com/${id}.gif`,\n\t\t\t\t\tsources: [{\n\t\t\t\t\t\tsource: `https://i.gyazo.com/${id}.mp4`,\n\t\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t\t}],\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Invalid media type: ${info.type}`);\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('hastebin', {\n\tname: 'hastebin',\n\tdomains: ['hastebin.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/(?:raw\\/)?([^\\/]+)/i).exec(pathname),\n\thandleLink(href, [, filename]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://hastebin.com/${filename}`,\n\t\t\theight: '500px',\n\t\t\twidth: '800px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('iloopit', {\n\tname: 'iLoopit - gif maker',\n\tdomains: ['iloopit.net'],\n\tlogo: 'https://iloopit.net/favicon.ico',\n\tdetect: ({ href }) => (\n\t\t(/^https?:\\/\\/(\\w+\\.)?iloopit\\.net\\/.+?\\/\\?type=looplayer&loopid=(\\d+)/i).exec(href) ||\n\t\t(/^https?:\\/\\/(\\w+\\.)?iloopit\\.net(\\/tube)?\\/(\\d+)\\/.+?\\/(\\?type=(looplayer)|(embed))?/i).exec(href)\n\t),\n\thandleLink(href) {\n\t\tlet link = '';\n\t\tconst testWithTitle = /iloopit\\.net(?:\\/tube)?\\/(\\d+)\\/(.+)?\\//;\n\t\tconst titleResult = testWithTitle.exec(href);\n\n\t\tif (titleResult) {\n\t\t\tlink = `https://iloopit.net/${titleResult[1]}/${titleResult[2]}/?type=embed`;\n\t\t} else {\n\t\t\tlink = href.replace('type=looplayer', 'type=embed');\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tmuted: true,\n\t\t\tembed: link,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('imgflip', {\n\tname: 'imgflip',\n\tdomains: ['imgflip.com'],\n\tlogo: 'https://imgflip.com/favicon02.png',\n\tdetect: ({ pathname }) => (/^\\/(i|gif)\\/([a-z0-9]+)/).exec(pathname),\n\thandleLink(href, [, type, id]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://i.imgflip.com/${id}.${type === 'gif' ? 'gif' : 'jpg'}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { string } from '../../utils';\n\nexport default new Host('imgur', {\n\tname: 'imgur',\n\tdomains: ['imgur.com'],\n\tlogo: 'https://i.imgur.com/favicon.ico',\n\toptions: {\n\t\tpreferResAlbums: {\n\t\t\ttitle: 'imgurPreferResAlbumsTitle',\n\t\t\tdescription: 'imgurPreferResAlbumsDesc',\n\t\t\tvalue: true,\n\t\t\ttype: 'boolean',\n\t\t},\n\t\tuseGifOverGifv: {\n\t\t\ttitle: 'imgurUseGifOverGifVTitle',\n\t\t\tdescription: 'imgurUseGifOverGifVDesc',\n\t\t\tvalue: false,\n\t\t\ttype: 'boolean',\n\t\t},\n\t\tpreferredImgurLink: {\n\t\t\ttitle: 'imgurPreferredImgurLinkTitle',\n\t\t\tdescription: 'imgurPreferredImgurLinkDesc',\n\t\t\ttype: 'enum',\n\t\t\tvalue: 'share',\n\t\t\tvalues: [{\n\t\t\t\tname: 'full page (imgur.com)',\n\t\t\t\tvalue: 'share',\n\t\t\t}, {\n\t\t\t\tname: 'direct image (i.imgur.com)',\n\t\t\t\tvalue: 'direct',\n\t\t\t}],\n\t\t},\n\t\timgurImageResolution: {\n\t\t\ttitle: 'imgurImageResolutionTitle',\n\t\t\tdescription: 'imgurImageResolutionDesc',\n\t\t\ttype: 'enum',\n\t\t\tvalue: '', // image id suffix\n\t\t\tvalues: [{\n\t\t\t\tname: 'Full Resolution',\n\t\t\t\tvalue: '',\n\t\t\t}, {\n\t\t\t\tname: 'Retina (1360px)',\n\t\t\t\tvalue: 'r',\n\t\t\t}, {\n\t\t\t\tname: 'Huge (1024px)',\n\t\t\t\tvalue: 'h',\n\t\t\t}, {\n\t\t\t\tname: 'Giant (680px)',\n\t\t\t\tvalue: 'g',\n\t\t\t}, {\n\t\t\t\tname: 'Large (640px)',\n\t\t\t\tvalue: 'l',\n\t\t\t}],\n\t\t},\n\t},\n\tdetect({ pathname, href }) {\n\t\tconst cdnUrl = 'https://i.imgur.com/';\n\t\tconst apiPrefix = 'https://api.imgur.com/3/';\n\t\tconst apiId = '1d8d9b36339e0e2';\n\t\tconst hashRe = /^https?:\\/\\/(?:i\\.|m\\.|edge\\.|www\\.)*imgur\\.com\\/(r\\/\\w+\\/)*(?!gallery)(?!removalrequest)(?!random)(?!memegen)((?:\\w{5}|\\w{7})(?:[&,](?:\\w{5}|\\w{7}))*)(?:#\\d+)?[a-z]?(\\.(?:jpe?g|gifv?|png))?(\\?.*)?$/i;\n\t\tconst hostedHashRe = /^https?:(\\/\\/i\\.\\w+\\.*imgur\\.com\\/)((?:\\w{5}|\\w{7})(?:[&,](?:\\w{5}|\\w{7}))*)(?:#\\d+)?[a-z]?(\\.(?:jpe?g|gif|png))?(\\?.*)?$/i;\n\t\tconst galleryHashRe = /^https?:\\/\\/(?:m\\.|www\\.)?imgur\\.com\\/gallery\\/(\\w+)(?:[/#]|$)/i;\n\t\tconst albumHashRe = /^https?:\\/\\/(?:m\\.|www\\.)?imgur\\.com\\/a\\/(\\w+)(?:[/#]|$)/i;\n\n\t\tif (pathname === '/rules' || pathname === '/inbox') return null;\n\n\t\thref = href.split('?')[0];\n\n\t\tlet groups;\n\n\t\tif ((groups = galleryHashRe.exec(href))) {\n\t\t\tconst hash = groups[1];\n\t\t\treturn () => _api(string.encode`gallery/${hash}`)\n\t\t\t\t// may have been removed from the gallery, try looking up the album\n\t\t\t\t.catch(() => _api(string.encode`album/${hash}`));\n\t\t} else if ((groups = albumHashRe.exec(href))) {\n\t\t\tif (this.options.preferResAlbums.value) {\n\t\t\t\tconst hash = groups[1];\n\t\t\t\treturn () => _api(string.encode`album/${hash}`);\n\t\t\t}\n\t\t} else if ((groups = hostedHashRe.exec(href))) {\n\t\t\tconst hash = groups[2];\n\t\t\treturn () => _handleImage(hash, href);\n\t\t} else if ((groups = hashRe.exec(href))) {\n\t\t\tconst [, subreddit, hash] = groups;\n\t\t\tif (subreddit) return () => _api(string.encode`gallery/${subreddit}${hash}`);\n\t\t\tif (hash.search(/[&,]/) > -1) {\n\t\t\t\t// handle separated list of IDs\n\t\t\t\treturn () => _handleImageCollection(hash.split(/[&,]/), href);\n\t\t\t} else {\n\t\t\t\treturn () => _handleImage(hash, href);\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\n\t\tasync function _api(endpoint) {\n\t\t\tconst { data } = await ajax({\n\t\t\t\turl: apiPrefix + endpoint,\n\t\t\t\ttype: 'json',\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Client-ID ${apiId}`,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (data.error) {\n\t\t\t\tthrow new Error(`Imgur API error: ${data.error}`);\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tfunction _mockImageAPI(hash, url) {\n\t\t\tlet thisCdnUrl = cdnUrl;\n\t\t\tlet matches, extension;\n\n\t\t\tif ((matches = hostedHashRe.exec(url))) {\n\t\t\t\tthisCdnUrl = matches[1];\n\t\t\t\textension = matches[3];\n\t\t\t} else if ((matches = hashRe.exec(url))) {\n\t\t\t\textension = matches[3];\n\t\t\t}\n\n\t\t\tif (!extension) {\n\t\t\t\t// Imgur doesn't really care about the extension except video and the browsers don't seem to either.\n\t\t\t\textension = '.jpg';\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tid: hash,\n\t\t\t\tanimated: false,\n\t\t\t\tlooping: false,\n\t\t\t\thas_sound: false,\n\t\t\t\tlink: `${thisCdnUrl}${hash}${extension}`,\n\t\t\t\tgifv: undefined,\n\t\t\t\ttitle: '',\n\t\t\t\tdescription: '',\n\t\t\t};\n\t\t}\n\n\t\tfunction _handleImage(hash, url) {\n\t\t\tconst [,,, extension] = hashRe.exec(url) || [];\n\n\t\t\tif (['.png', '.jpg', '.jpeg'].includes(extension)) {\n\t\t\t\t// Extension is given and hopefully correct, so we can intuit the mimetype\n\t\t\t\t// removed caption API calls as they don't seem to exist/matter for single images, only albums...\n\t\t\t\t// If we don't show captions and know the mimetype, then we can skip the API call.\n\t\t\t\t// We must hit the API for gif(v) even when the extension is given, to determine if it should loop\n\t\t\t\treturn _mockImageAPI(hash, url);\n\t\t\t} else if (hostedHashRe.test(url)) {\n\t\t\t\t// Hosted images do not support gifv or albums, so we never need to hit the API\n\t\t\t\treturn _mockImageAPI(hash, url);\n\t\t\t} else {\n\t\t\t\t// Check if image is gifv\n\t\t\t\treturn _api(`image/${hash}`);\n\t\t\t}\n\t\t}\n\n\t\tfunction _handleImageCollection(hashes, url) {\n\t\t\treturn {\n\t\t\t\tis_album: true,\n\t\t\t\timages: hashes.map(hash => _mockImageAPI(hash, url)),\n\t\t\t\ttitle: '',\n\t\t\t\tdescription: '',\n\t\t\t};\n\t\t}\n\t},\n\tasync handleLink(href, getInfo) {\n\t\tconst baseUrl = 'https://imgur.com/';\n\t\tconst shareLinkPreferred = this.options.preferredImgurLink.value === 'share';\n\t\tconst resolutionSuffix = this.options.imgurImageResolution.value;\n\t\tconst useGif = this.options.useGifOverGifv.value;\n\n\t\tconst info = await getInfo();\n\n\t\tif (info.images && info.images.length) {\n\t\t\treturn _handleAlbum(href, info);\n\t\t} else if (info.gifv && !useGif) {\n\t\t\treturn _handleGifv(info);\n\t\t} else if (info.link) {\n\t\t\treturn _handleSingleImage(info);\n\t\t}\n\n\t\tthrow new Error('could not handle info');\n\n\t\tfunction _handleAlbum(href, info) {\n\t\t\treturn {\n\t\t\t\ttype: 'GALLERY',\n\t\t\t\ttitle: info.title,\n\t\t\t\tcaption: info.description,\n\t\t\t\tsrc: info.images.map(info => {\n\t\t\t\t\tconst media = info.gifv && !useGif ?\n\t\t\t\t\t\t_handleGifv(info) :\n\t\t\t\t\t\t_handleSingleImage(info);\n\t\t\t\t\tmedia.href = shareLinkPreferred ? `${href.split('#')[0]}#${info.id}` : `${info.link}`;\n\t\t\t\t\treturn media;\n\t\t\t\t}),\n\t\t\t};\n\t\t}\n\n\t\tfunction _handleSingleImage(info) {\n\t\t\tconst src = info.link\n\t\t\t\t.replace('http:', 'https:')\n\t\t\t\t.replace(`/${info.id}.`, `/${info.id}${resolutionSuffix}.`);\n\n\t\t\treturn {\n\t\t\t\tsrc,\n\t\t\t\thref: shareLinkPreferred ? `${baseUrl}${info.id}` : `${info.link}`,\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tcaption: info.description,\n\t\t\t\ttitle: info.title,\n\t\t\t};\n\t\t}\n\n\t\tfunction _handleGifv(info) {\n\t\t\treturn {\n\t\t\t\ttype: 'VIDEO',\n\t\t\t\thref: shareLinkPreferred ? `${baseUrl}${info.id}` : `${info.link}`,\n\t\t\t\tfallback: info.link.replace('http:', 'https:'),\n\t\t\t\tcaption: info.description,\n\t\t\t\ttitle: info.title,\n\t\t\t\tloop: info.looping !== false, // may be missing from API responses (randomly), so explicitly check for false\n\t\t\t\tmuted: !info.has_sound,\n\t\t\t\tsources: [{\n\t\t\t\t\tsource: info.mp4.replace('http:', 'https:'),\n\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t}],\n\t\t\t};\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('instagram', {\n\tname: 'Instagram',\n\tdomains: ['instagram.com', 'instagr.am'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/p\\/([a-z0-9_\\-]{10,})(?:\\/|$)/i).exec(pathname),\n\thandleLink: (href, [, id]) => ({\n\t\ttype: 'IFRAME',\n\t\texpandoClass: 'image',\n\t\tembed: `https://instagram.com/p/${id}/embed/captioned/`,\n\t\twidth: '600px',\n\t\theight: '700px',\n\t}),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { getPostMetadata } from '../../utils';\n\nexport default new Host('ireddit', {\n\tname: 'i.redd.it',\n\tdomains: ['i.redd.it'],\n\tattribution: false,\n\tdetect({ pathname }, thing) { return pathname.endsWith('.gif') && thing && thing.isLinkPost() && thing.getFullname(); },\n\tasync handleLink(href, fullname) {\n\t\tconst postMetadata = await getPostMetadata({ id: fullname.replace('t3_', '') });\n\t\tif (!postMetadata.preview) throw new Error('Post has no preview.');\n\t\tconst preview = postMetadata.preview.images[0];\n\t\tif (preview.variants.mp4) {\n\t\t\treturn {\n\t\t\t\ttype: 'VIDEO',\n\t\t\t\tloop: true,\n\t\t\t\tmuted: true,\n\t\t\t\tfallback: preview.variants.gif && preview.variants.gif.source.url,\n\t\t\t\tsources: [{\n\t\t\t\t\tsource: preview.variants.mp4.source.url,\n\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t}],\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tsrc: preview.source.url,\n\t\t\t};\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('jsfiddle', {\n\tname: 'jsfiddle',\n\tdomains: ['jsfiddle.net'],\n\tlogo: 'https://jsfiddle.net/favicon.png',\n\tdetect: ({ pathname }) => (/^(\\/(?:\\w+\\/(?!embedded\\/))?[a-z0-9]{5,}(?:\\/\\d+)?(?=\\/|$))(\\/embedded\\/[\\w,]+\\/)?/i).exec(pathname),\n\thandleLink(href, [, path, categories]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://jsfiddle.net${path}${categories || '/embedded/result,js,resources,html,css/'}`,\n\t\t\twidth: '800px',\n\t\t\theight: '500px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('liveleak', {\n\tname: 'LiveLeak',\n\tdomains: ['liveleak.com'],\n\tlogo: 'https://www.liveleak.com/favicon.ico',\n\tdetect: ({ pathname, search }) => (pathname === '/view' && search),\n\thandleLink: (href, query) => ({\n\t\ttype: 'IFRAME',\n\t\tembed: `https://www.liveleak.com/ll_embed${query}`,\n\t\tembedAutoplay: `https://www.liveleak.com/ll_embed${query}&autostart=true`,\n\t\tfixedRatio: true,\n\t}),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('livememe', {\n\tname: 'livememe',\n\tdomains: ['livememe.com'],\n\tlogo: 'https://livememe.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(?!edit)(\\w{7})(?:\\/|$)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://e.lvme.me/${id}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('makeameme', {\n\tname: 'makeameme',\n\tdomains: ['makeameme.org'],\n\tlogo: 'https://makeameme.org/images/favicons/favicon-32x32.png',\n\tdetect: ({ pathname }) => (/^\\/meme\\/([\\w\\-]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://makeameme.org/media/created/${id}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('memecrunch', {\n\tname: 'memecrunch',\n\tdomains: ['memecrunch.com'],\n\tlogo: 'https://memecrunch.com/static/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/meme\\/([0-9A-Z]+)\\/([\\w\\-]+)(\\/image\\.(png|jpg))?/i).exec(pathname),\n\thandleLink(href, [, id, format]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://memecrunch.com/meme/${id}/${format || 'null'}/image.png`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('memedad', {\n\tname: 'memedad',\n\tdomains: ['memedad.com'],\n\tlogo: 'https://memedad.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/meme\\/([0-9]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://memedad.com/memes/${id}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('mixer', {\n\tname: 'Mixer',\n\tdomains: ['beam.pro', 'mixer.com'],\n\tlogo: 'https://mixer.com/_latest/assets/favicons/favicon-32x32.png',\n\tdetect: ({ pathname }) => (/^\\/(\\w+)$/).exec(pathname),\n\thandleLink(href, [, clipId]) {\n\t\tconst embed = `https://mixer.com/embed/player/${clipId}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tmuted: true,\n\t\t\tembed,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('onedrive', {\n\tdomains: ['onedrive.live.com', '1drv.ms'],\n\tname: 'Microsoft OneDrive',\n\tdetect: () => true,\n\tasync handleLink(href) {\n\t\t// Encode the URL in base64 then convert it to unpadded base64url format\n\t\t// https://dev.onedrive.com/shares/shares.htm\n\t\tconst encodedUrl = `u!${btoa(href)}`\n\t\t\t.replace(/=+$/g, '')\n\t\t\t.replace(/\\//g, '_')\n\t\t\t.replace(/\\+/g, '-');\n\n\t\tconst json = await ajax({\n\t\t\turl: `https://api.onedrive.com/v1.0/shares/${encodedUrl}/root?expand=children`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\tif (json.children.length) {\n\t\t\treturn {\n\t\t\t\ttype: 'GALLERY',\n\t\t\t\tsrc: json.children.map(processFile),\n\t\t\t};\n\t\t} else {\n\t\t\treturn processFile(json);\n\t\t}\n\n\t\tfunction processFile({\n\t\t\tname,\n\t\t\tdescription,\n\t\t\twebUrl,\n\t\t\t'@content.downloadUrl': src,\n\t\t\tfile: { mimeType },\n\t\t}) {\n\t\t\tconst type = mimeType.slice(0, mimeType.indexOf('/'));\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'image':\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\t\ttitle: name,\n\t\t\t\t\t\tcaption: description,\n\t\t\t\t\t\tsrc,\n\t\t\t\t\t\thref: webUrl,\n\t\t\t\t\t};\n\t\t\t\tcase 'video':\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'VIDEO',\n\t\t\t\t\t\ttitle: name,\n\t\t\t\t\t\tcaption: description,\n\t\t\t\t\t\tloop: false,\n\t\t\t\t\t\tsources: [{\n\t\t\t\t\t\t\tsource: src,\n\t\t\t\t\t\t\ttype: mimeType,\n\t\t\t\t\t\t}],\n\t\t\t\t\t};\n\t\t\t\tcase 'audio':\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'AUDIO',\n\t\t\t\t\t\tloop: false,\n\t\t\t\t\t\tsources: [{\n\t\t\t\t\t\t\tfile: src,\n\t\t\t\t\t\t\ttype: mimeType,\n\t\t\t\t\t\t}],\n\t\t\t\t\t};\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Invalid type: ${type}`);\n\t\t\t}\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('pastebin', {\n\tname: 'pastebin',\n\tdomains: ['pastebin.com'],\n\tattribution: false,\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:www\\.)?pastebin\\.com\\/(?:raw\\.php\\?i=|index\\/)?([a-z0-9]{8})/i).exec(href),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://pastebin.com/embed_iframe.php?i=${id}`,\n\t\t\theight: '500px',\n\t\t\twidth: '700px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('peertube', {\n\tname: 'peertube',\n\tdomains: [\n\t\t'peervideo.net',\n\t\t'peertube.social',\n\t\t'peertube.mastodon.host',\n\t\t'evertron.tv',\n\t\t'mplayer.demouliere.eu',\n\t\t'cloud.allplayer.tk',\n\t\t'video.tedomum.net',\n\t\t'peertube.fr',\n\t\t'hostyour.tv',\n\t\t'videobit.cc',\n\t\t'videoshare.cc',\n\t\t'peertube.openstreetmap.fr',\n\t\t'video.ploud.fr',\n\t\t'tube.kdy.ch',\n\t\t'lostpod.space',\n\t\t'pe.ertu.be',\n\t\t'peertube.live',\n\t\t'peer.tube',\n\t\t'watching.cypherpunk.observer',\n\t\t'queertube.org',\n\t\t'exode.me',\n\t\t'framatube.org',\n\t\t'peervideo.net',\n\t],\n\tattribution: false,\n\tdetect: ({ hostname, pathname }) => {\n\t\tconst [, route, , id] = pathname.split('/');\n\t\tif (route === 'videos') {\n\t\t\treturn [hostname, id];\n\t\t}\n\t},\n\thandleLink(href, [hostname, id]) {\n\t\tconst embed = `https://${hostname}/videos/embed/${id}`;\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tembedAutoplay: `${embed}?autoplay=true`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('photobucket', {\n\tname: 'photobucket',\n\tdomains: ['photobucket.com'],\n\tlogo: 'https://pic2.pbsrc.com/common/favicon.ico',\n\tdetect: ({ href }) => (/([is]?)[0-9]+|media|smg|img(?=.photobucket.com)/i).exec(href),\n\tasync handleLink(href, [, prefix]) {\n\t\tlet src = href.replace('.html', '');\n\n\t\t// user linked direct image so no need to hit API\n\t\tif (prefix !== 'i') {\n\t\t\tconst { imageUrl } = await ajax({\n\t\t\t\turl: 'https://api.photobucket.com/v2/media/fromurl',\n\t\t\t\tquery: { url: src },\n\t\t\t\ttype: 'json',\n\t\t\t});\n\t\t\tsrc = imageUrl.replace('http:', 'https:');\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('pixiv', {\n\tname: 'pixiv',\n\tdomains: ['pixiv.net'],\n\tlogo: 'https://www.pixiv.net/favicon.ico',\n\tdetect: ({ pathname, search }) => (pathname === '/member_illust.php' && (/illust_id=(\\d+)/).exec(search)) ||\n\t\t\t\t\t\t\t\t\t\t(/(?:\\/en|^)\\/artworks\\/(\\d+)\\/?$/).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'image',\n\t\t\tmuted: true,\n\t\t\tembed: `https://embed.pixiv.net/embed_mk2.php?id=${id}&size=large`,\n\t\t\twidth: '700px',\n\t\t\theight: '700px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('poly', {\n\tname: 'Poly',\n\tdomains: ['poly.google.com'],\n\t// Embed already contains attribution\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/view\\/([a-zA-Z0-9-]+)\\/?$/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://poly.google.com/view/${id}/embed`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('pornhub', {\n\tname: 'Pornhub',\n\tdomains: [\n\t\t'www.pornhub.com',\n\t\t'www.pornhubpremium.com',\n\t],\n\tattribution: false,\n\tdetect: ({ searchParams }) => searchParams.get('viewkey'),\n\thandleLink(href, path) {\n\t\tconst url = `https://www.pornhub.com/embed/${path}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: url,\n\t\t\tembedAutoplay: `${url}?autoplay=1`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('ppy.sh', {\n\tname: 'ppy.sh',\n\tdomains: ['osu.ppy.sh'],\n\tlogo: 'https://s.ppy.sh/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/ss\\/(\\d+(?:\\/[0-9a-f]+)?)/i).exec(pathname),\n\thandleLink(href, [, code]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://osu.ppy.sh/ss/${code}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('redditbooru', {\n\tname: 'redditbooru',\n\tdomains: ['redditbooru.com'],\n\tlogo: 'https://redditbooru.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/gallery\\/([\\w]+)(\\/[\\w\\-]+)?/i).exec(pathname),\n\tasync handleLink(href, [, id, base36]) {\n\t\t// this will only be set for base36 IDs\n\t\tif (base36) {\n\t\t\tid = parseInt(id, 36);\n\t\t}\n\n\t\tconst info = await ajax({\n\t\t\turl: 'https://redditbooru.com/images/',\n\t\t\tquery: { postId: id },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tif (!info.length) {\n\t\t\tthrow new Error('Gallery was empty.');\n\t\t}\n\n\t\tconst src = info.map(({ caption, cdnUrl, sourceUrl }) => ({\n\t\t\ttype: 'IMAGE',\n\t\t\ttitle: caption,\n\t\t\tsrc: cdnUrl,\n\t\t\tcaption: sourceUrl ? `Source: <a href=\"${sourceUrl}\">${sourceUrl}</a>` : '',\n\t\t}));\n\n\t\treturn {\n\t\t\ttype: 'GALLERY',\n\t\t\ttitle: info[0].title,\n\t\t\tsrc,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('redditmedia', {\n\tname: 'redditmedia',\n\tdomains: ['redditmedia.com'],\n\tattribution: false,\n\tdetect: ({ hostname, searchParams }) => hostname !== 'pixel.redditmedia.com' && searchParams,\n\thandleLink(href, searchParams) {\n\t\tif (searchParams.get('fm') === 'mp4') {\n\t\t\treturn {\n\t\t\t\ttype: 'VIDEO',\n\t\t\t\tloop: true,\n\t\t\t\tmuted: true,\n\t\t\t\tsources: [{\n\t\t\t\t\tsource: href,\n\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t}],\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('reddituploads', {\n\tname: 'reddituploads',\n\tdomains: ['reddituploads.com'],\n\tattribution: false,\n\tdetect: () => true,\n\thandleLink(href) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY, string } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('redgifs', {\n\tname: 'redgifs',\n\tdomains: ['redgifs.com'],\n\tlogo: 'https://redgifs.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(?:(?:ifr|watch)\\/)(\\w+)/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst info = (await ajax({\n\t\t\turl: string.encode`https://api.redgifs.com/v1/gfycats/${id}`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t})).gfyItem;\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tframeRate: info.frameRate,\n\t\t\tloop: true,\n\t\t\tmuted: !info.hasAudio,\n\t\t\tplaybackRate: +(href.match(/[?|&]speed=([\\d\\.]+)/i) || [undefined, 1])[1],\n\t\t\tposter: info.posterUrl,\n\t\t\tsources: [{\n\t\t\t\tsource: info.webmUrl,\n\t\t\t\ttype: 'video/webm',\n\t\t\t}, {\n\t\t\t\tsource: info.mp4Url,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t\ttime: +(href.match(/[?|&]frameNum=([\\d]+)/i) || [undefined, 0])[1] / info.frameRate,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('ridewithgps', {\n\tname: 'ridewithgps',\n\tdomains: ['ridewithgps.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/(trips|routes)\\/(\\d+)/i).exec(pathname),\n\thandleLink(href, [, type, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://ridewithgps.com/${type}/${id}/embed`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('simplecove', {\n\tname: 'SimpleCove',\n\tdomains: ['simplecove.com'],\n\tlogo: 'https://simplecove.com/static/images/reslogo.jpg',\n\tdetect: ({ pathname }) => (/^\\/(\\d+)/i).exec(pathname),\n\tasync handleLink(elem, [, id]) {\n\t\tconst data = await ajax({\n\t\t\turl: `https://www.simplecove.com/resapi/${id}`,\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst images = data.map(x => ({\n\t\t\tsrc: x.photo_src.replace('http:', 'https:'),\n\t\t\tcaption: x.photo_caption,\n\t\t\ttype: 'IMAGE',\n\t\t}));\n\n\t\treturn {\n\t\t\ttype: 'GALLERY',\n\t\t\tsrc: images,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('snag', {\n\tname: 'snag.gy',\n\tlogo: 'https://snaggys3static-snaggy.netdna-ssl.com/favicon.png',\n\tdomains: ['snag.gy'],\n\tdetect: ({ pathname }) => (/^\\/(\\w+)(?:\\.(\\w+))?$/i).exec(pathname),\n\thandleLink(href, [, id, extension]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://i.snag.gy/${id}.${extension || 'jpg'}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { string } from '../../utils';\n\nexport default new Host('soundcloud', {\n\tname: 'soundcloud',\n\tdomains: ['soundcloud.com'],\n\tlogo: 'https://a-v2.sndcdn.com/assets/images/sc-icons/favicon-2cadd14b.ico',\n\tdetect: () => true,\n\thandleLink(href) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: string.encode`https://w.soundcloud.com/player/?url=${href}`,\n\t\t\theight: '166px',\n\t\t\twidth: '700px',\n\t\t\tpause: '{\"method\":\"pause\"}',\n\t\t\tplay: '{\"method\":\"play\"}',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('spotify', {\n\tname: 'spotify',\n\tdomains: ['spotify.com'],\n\tlogo: 'https://spotify.com/favicon.ico',\n\t/*\n\t* Match the following:\n\t* https://open.spotify.com/track/id\n\t* https://play.spotify.com/artist/id\n\t* https://play.spotify.com/album/id\n\t* https://open.spotify.com/user/someUser/playlist/id\n\t* TODO: Check username restrictions, match with something better than \\w+\n\t*/\n\tdetect: ({ href }) => (/^https:\\/\\/(?:open|play)\\.spotify\\.com\\/((?:track|artist|album|user\\/\\w+\\/playlist)\\/[a-zA-z0-9]+)$/i).exec(href),\n\thandleLink(href, [, uri]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://embed.spotify.com/?uri=spotify:${uri.replace(/\\//g, ':')}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('steamcommunity', {\n\tname: 'Steam Community',\n\tlogo: 'https://store.steampowered.com/favicon.ico',\n\tdomains: ['steamcommunity.com'],\n\tdetect: ({ pathname, searchParams }) => pathname.startsWith('/sharedfiles/filedetails') && searchParams.get('id'),\n\tpermissions: ['https://api.steampowered.com/ISteamRemoteStorage/GetPublishedFileDetails/*'],\n\tasync handleLink(href, id) {\n\t\tconst {\n\t\t\tresponse: {\n\t\t\t\tpublishedfiledetails: [{\n\t\t\t\t\ttitle,\n\t\t\t\t\tdescription: caption,\n\t\t\t\t\tpreview_url: previewUrl,\n\t\t\t\t\tfile_url: fileUrl,\n\t\t\t\t\tfilename,\n\t\t\t\t}],\n\t\t\t},\n\t\t} = await ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: 'https://api.steampowered.com/ISteamRemoteStorage/GetPublishedFileDetails/v0001/?format=json',\n\t\t\tdata: { itemcount: '1', 'publishedfileids[0]': id },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tif (!filename) throw new Error('Response missing filename. (Private Steam Community profile?)');\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\ttitle,\n\t\t\tcaption,\n\t\t\tsrc: ['.png', '.jpg', '.gif'].some(ext => filename.endsWith(ext)) ? fileUrl : previewUrl,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('steampowered', {\n\tname: 'Steam',\n\tlogo: 'https://store.steampowered.com/favicon.ico',\n\tdomains: ['steampowered.com', 'steamusercontent.com'],\n\tdetect: ({ pathname }) => (/^\\/ugc\\/(\\d{15,20}\\/\\w{40})(?:$|\\/)/i).exec(pathname),\n\thandleLink(href, [pathname]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `http://images.akamai.steamusercontent.com${pathname}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('strawpoll.com', {\n\tname: 'strawpoll.com',\n\tdomains: ['strawpoll.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/(?:embed\\/)?([a-z0-9]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://www.strawpoll.com/embed/${id}`,\n\t\t\theight: '450px',\n\t\t\twidth: '700px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('strawpoll', {\n\tname: 'strawpoll.me',\n\tdomains: ['strawpoll.me'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/(?:embed_\\d\\/)?(\\d+)/i).exec(pathname),\n\thandleLink(href, [, uid]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://www.strawpoll.me/embed_1/${uid}`,\n\t\t\theight: '500px',\n\t\t\twidth: '700px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('streamable', {\n\tname: 'streamable',\n\tdomains: ['streamable.com'],\n\tlogo: 'https://cdn-e2.streamable.com/static/14a98f7cb1ddc5213329c039dc39cac543ba410f/img/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(?:[es]\\/)?(\\w+)(?:\\/\\w+)?$/i).exec(pathname),\n\tasync handleLink(href, [, hash]) {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tfiles: { mp4: { url } },\n\t\t\tthumbnail_url: thumbnail,\n\t\t\tsource,\n\t\t} = await ajax({\n\t\t\turl: `https://api.streamable.com/videos/${hash}`,\n\t\t\ttype: 'json',\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\ttitle,\n\t\t\tloop: true,\n\t\t\tsources: [{\n\t\t\t\tsource: url,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t\tposter: thumbnail,\n\t\t\tsource,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('streamja', {\n\tname: 'streamja',\n\tdomains: ['streamja.com'],\n\tlogo: 'https://streamja.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/([^\\/]+)$/i).exec(pathname),\n\thandleLink(href, [, code]) {\n\t\tconst short = code.substring(0, 2).toLowerCase();\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tloop: true,\n\t\t\tsources: [{\n\t\t\t\tsource: `https://upload.streamja.com/mp4/${short}/${code}.mp4`,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t\tposter: `https://upload.streamja.com/i/${short}/${code}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('streamvi', {\n\tname: 'streamvi',\n\tdomains: ['streamvi.com'],\n\tlogo: 'https://streamvi.com/assets/logo.png',\n\tdetect: ({ searchParams }) => {\n\t\tconst code = searchParams.get('video');\n\t\tif (code) return [code.toString()];\n\t},\n\thandleLink(href, [code]) {\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tloop: true,\n\t\t\tsources: [{\n\t\t\t\tsource: `https://cdn.streamvi.com/uploads/${code}.mp4`,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t\tposter: `https://cdn.streamvi.com/uploads/${code}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('supgif', {\n\tname: 'Supgif',\n\tdomains: ['supgif.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/c\\/([\\w\\-]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://www.supgif.com/embed/${id}`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('supload', {\n\tname: 'supload',\n\tdomains: ['supload.com'],\n\tlogo: 'https://supload.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/([A-Za-z0-9_-]+)/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst data = await ajax({\n\t\t\turl: 'https://www.supload.com/oembed',\n\t\t\tquery: { url: `https://supload.com/${id}`, format: 'json' },\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\tif (data.type === 'photo') {\n\t\t\treturn {\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tsrc: data.url,\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttype: 'VIDEO',\n\t\t\t\tloop: true,\n\t\t\t\tmuted: true,\n\t\t\t\tsources: [{\n\t\t\t\t\tsource: data.webmUrl,\n\t\t\t\t\ttype: 'video/webm',\n\t\t\t\t}, {\n\t\t\t\t\tsource: data.mp4Url,\n\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t}],\n\t\t\t};\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('tenor', {\n\tname: 'tenor',\n\tdomains: ['tenor.co'],\n\tlogo: 'https://www.tenor.co/favicon.ico',\n\tdetect: (() => {\n\t\tconst alphabet = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n\t\tconst alphabetMap = alphabet\n\t\t\t.split('')\n\t\t\t.reduce((obj, c, i) => {\n\t\t\t\tobj[c] = i;\n\t\t\t\treturn obj;\n\t\t\t}, {});\n\n\t\tfunction parseViewShortId(s) {\n\t\t\treturn s\n\t\t\t\t.split('')\n\t\t\t\t.reduce((n, c) => (n * alphabet.length) + alphabetMap[c], 0);\n\t\t}\n\n\t\treturn ({ hostname, pathname }) => {\n\t\t\tif (hostname === 'tenor.co') {\n\t\t\t\t// short URL\n\t\t\t\tconst pathMatch = (/^\\/([a-zA-Z0-9]+)\\.gif$/i).exec(pathname);\n\t\t\t\treturn pathMatch && { id: parseViewShortId(pathMatch[1]) };\n\t\t\t} else if (hostname === 'media.tenor.co') {\n\t\t\t\treturn { id: null };\n\t\t\t} else {\n\t\t\t\tconst pathMatch = (/^\\/view\\/.+\\-(\\d+)(\\.gif)?$/i).exec(pathname);\n\t\t\t\treturn pathMatch && { id: pathMatch[1] };\n\t\t\t}\n\t\t};\n\t})(),\n\tasync handleLink(href, { id }) {\n\t\tif (id === null) {\n\t\t\t// Some files on our CDN are named \"raw\", with no file extension,\n\t\t\t// so they won't load without this.\n\t\t\treturn {\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tsrc: href,\n\t\t\t};\n\t\t}\n\n\t\tconst { results: [gif] } = await ajax({\n\t\t\turl: 'https://api.tenor.co/v1/gifs',\n\t\t\tquery: { key: 'JJHDC7UK73EH', ids: id },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: gif.media[0].gif.url,\n\t\t\ttitle: gif.h1_title,\n\t\t\tcaption: gif.generatedcaption,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { markdown } from 'snudown-js';\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('tumblr', {\n\tname: 'tumblr',\n\tdomains: ['tumblr.com'],\n\tpermissions: ['https://api.tumblr.com/v2/blog/*/posts'],\n\tlogo: 'https://secure.assets.tumblr.com/images/favicons/favicon.ico',\n\tdetect({ hostname, pathname }) {\n\t\tconst pathMatch = (/^\\/(?:post|image)\\/(\\d+)(?:\\/|$)/i).exec(pathname);\n\t\treturn pathMatch && [hostname, pathMatch[1]];\n\t},\n\tasync handleLink(href, [blog, id]) {\n\t\tconst { response } = await ajax({\n\t\t\turl: `https://api.tumblr.com/v2/blog/${blog}/posts`,\n\t\t\tquery: {\n\t\t\t\tapi_key: 'WeJQquHCAasi5EzaN9jMtIZkYzGfESUtEvcYDeSMLICveo3XDq',\n\t\t\t\tid,\n\t\t\t\tfilter: 'raw',\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst post = response.posts[0];\n\n\t\tfunction render(string) {\n\t\t\treturn post.format === 'markdown' ?\n\t\t\t\tmarkdown(string) :\n\t\t\t\tstring;\n\t\t}\n\n\t\tconst defaults = {\n\t\t\ttitle: post.title,\n\t\t\tcaption: post.caption,\n\t\t\tcredits: `Posted by: <a href=\"${response.blog.url}\">${response.blog.name}</a> @ Tumblr`,\n\t\t};\n\n\t\tswitch (post.type) {\n\t\t\tcase 'photo':\n\t\t\t\tif (!post.photos.length) throw new Error('No images in gallery.');\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'GALLERY',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tsrc: post.photos.map(photo => ({\n\t\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\t\tsrc: photo.original_size.url,\n\t\t\t\t\t\tcaption: photo.caption,\n\t\t\t\t\t})),\n\t\t\t\t};\n\t\t\tcase 'text':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tsrc: render(post.body),\n\t\t\t\t};\n\t\t\tcase 'quote':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tcredits: post.source,\n\t\t\t\t\tsrc: `<blockquote><p>${render(post.text)}</p></blockquote>`,\n\t\t\t\t};\n\t\t\tcase 'link':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\ttitle: `<a href=\"${post.url}\">${post.title}</a>`,\n\t\t\t\t\tsrc: render(post.description),\n\t\t\t\t};\n\t\t\tcase 'chat':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tsrc: post.dialogue.reduce((prev, { label, phrase }) => `${prev}<blockquote><p><b>${label}</b> ${phrase}</p></blockquote>`, ''),\n\t\t\t\t};\n\t\t\tcase 'answer':\n\t\t\t\tconst asking = post.asking_url ?\n\t\t\t\t\t`<a href=\"${post.asking_url}\">${post.asking_name}</a>` :\n\t\t\t\t\tpost.asking_name;\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tsrc: `<blockquote><p>${asking} sent: ${post.question}</p></blockquote>${render(post.answer)}`,\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unsupported post type: ${post.type}`);\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('twimg', {\n\tname: 'twimg',\n\tdomains: ['pbs.twimg.com'],\n\tlogo: 'https://twitter.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/media\\/[\\w\\-]+\\.\\w+/i).test(pathname),\n\thandleLink(href) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('twitch', {\n\tname: 'twitch.tv',\n\tdomains: ['twitch.tv'],\n\tlogo: 'https://www.twitch.tv/favicon.ico',\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:www\\.)?twitch\\.tv\\/(\\w+)(?:\\/([cbv])\\/([0-9]+))?\\/?(?:\\?t=(?:([0-9]+)h)?(?:([0-9]+)m)?(?:([0-9]+)s)?)?$/i).exec(href),\n\thandleLink(href, [, channel, typeId, videoId, h, m, s]) {\n\t\tconst channelOrVideo = videoId ?\n\t\t\t`video=${typeId.replace('b', 'a')}${videoId}` :\n\t\t\t`channel=${channel}`;\n\n\t\tconst embed = `https://player.twitch.tv/?${channelOrVideo}&time=${+h || 0}h${+m || 0}m${+s || 0}s`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `${embed}&autoplay=false`,\n\t\t\tembedAutoplay: `${embed}&autoplay=true`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('twitchclips', {\n\tname: 'twitch.tv clips',\n\tdomains: ['twitch.tv'],\n\tlogo: 'https://www.twitch.tv/favicon.ico',\n\t// clips.twitch.tv domain:\n\t// \t require capital first character for old-style URLs to avoid ambiguity\n\t//   old: /username/NameOfClip\n\t//   new: /NameOfClip\n\t//        /NameOfClip/edit (bad link to private edit page, but Twitch redirects so we should handle it)\n\t// (www.)twitch.tv domain:\n\t//   support clip name as a subcomponent of a channel URL\n\t//   ex: www.twitch.tv/<CHANNEL_NAME>/clip/<CLIP_NAME>\n\tdetect: ({ hostname, pathname }) => hostname === 'clips.twitch.tv' ? (/^\\/(\\w+(?:\\/[A-Z]\\w+)?)(?:\\/|$)/).exec(pathname) : (/^\\/\\w+\\/clip\\/(\\w+(?:\\/[A-Z]\\w+)?)(?:\\/|$)/).exec(pathname),\n\thandleLink(href, [, clipId]) {\n\t\tconst embed = `https://clips.twitch.tv/embed?clip=${clipId}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `${embed}&autoplay=false`,\n\t\t\tembedAutoplay: `${embed}&autoplay=true`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('twitter', {\n\tname: 'twitter',\n\tdomains: ['twitter.com'],\n\tpermissions: ['https://api.twitter.com/1/statuses/oembed.json'],\n\tattribution: false,\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:mobile\\.)?twitter\\.com\\/(?:#!\\/)?[\\w]+\\/status(?:es)?\\/([\\d]+)/i).exec(href),\n\tasync handleLink(href, [, id]) {\n\t\t// we have to omit the script tag and all of the nice formatting it brings us in Firefox\n\t\t// because AMO does not permit externally hosted script tags being pulled in from\n\t\t// oEmbed like this...\n\t\tconst { html } = await ajax({\n\t\t\turl: 'https://api.twitter.com/1/statuses/oembed.json',\n\t\t\tquery: { id, omit_script: process.env.BUILD_TARGET === 'firefox' },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\t// Script requires element to be attached to document when starting\n\t\tconst $dummy = $('<div>');\n\n\t\treturn {\n\t\t\ttype: 'GENERIC_EXPANDO',\n\t\t\tmuted: true,\n\t\t\texpandoClass: 'selftext',\n\t\t\tgenerate: () => $dummy[0],\n\t\t\tonAttach: _.once(() => { $dummy.replaceWith(html); }),\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { string } from '../../utils';\n\nexport default new Host('vidble', {\n\tname: 'vidble',\n\tdomains: ['vidble.com'],\n\tlogo: 'https://vidble.com/assets/ico/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(show|album)\\/([a-z0-9]+)/i).exec(pathname),\n\tasync handleLink(href, [, type, hash]) {\n\t\tswitch (type) {\n\t\t\tcase 'show':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\tsrc: `https://vidble.com/${hash}_med.jpg`,\n\t\t\t\t};\n\t\t\tcase 'album':\n\t\t\t\tconst urlObj = new URL(href);\n\t\t\t\tconst { pics } = await ajax({\n\t\t\t\t\turl: string.encode`https://vidble.com/album/album/${hash}?json=1`,\n\t\t\t\t\ttype: 'json',\n\t\t\t\t});\n\n\t\t\t\tif (!pics.length) throw new Error('No images in gallery.');\n\n\t\t\t\tconst src = pics.map((src, i) => {\n\t\t\t\t\turlObj.hash = `#pic_${i}`;\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\t\tsrc,\n\t\t\t\t\t\thref: urlObj.href,\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'GALLERY',\n\t\t\t\t\tsrc,\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`This should never happen. Invalid type: ${type}`);\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('vimeo', {\n\tname: 'vimeo',\n\tdomains: ['vimeo.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/([0-9]+)(?:\\/|$)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\tconst embed = `https://player.vimeo.com/video/${id}`;\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tembedAutoplay: `${embed}?autoplay=true`,\n\t\t\tpause: '{\"method\":\"pause\"}',\n\t\t\tplay: '{\"method\":\"play\"}',\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('vlipsy', {\n\tname: 'Vlipsy',\n\tdomains: ['vlipsy.com'],\n\tlogo: 'https://vlipsy.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/vlip\\/(?:\\w+-)*(\\w+)$/).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://vlipsy.com/embed/${id}`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('vlive', {\n\tname: 'VLive',\n\tdomains: ['vlive.tv'],\n\tlogo: 'https://www.vlive.tv/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(?:video)\\/([0-9]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\tconst embed = `https://vlive.tv/embed/${id}`;\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tembedAutoplay: `${embed}?autoPlay=true`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('vreddit', {\n\tname: 'v.redd.it',\n\tdomains: ['v.redd.it'],\n\tpermissions: ['https://v.redd.it/*/DASHPlaylist.mpd'],\n\tattribution: false,\n\toptions: {\n\t\treplaceNativeExpando: {\n\t\t\ttitle: 'showImagesReplaceNativeExpandoTitle',\n\t\t\tdescription: 'showImagesReplaceNativeExpandoDesc',\n\t\t\tvalue: false,\n\t\t\ttype: 'boolean',\n\t\t},\n\t},\n\tdetect: ({ pathname }) => pathname.slice(1),\n\tasync handleLink(href, id) {\n\t\tconst mpd = await ajax({ url: `https://v.redd.it/${id}/DASHPlaylist.mpd` });\n\t\tconst manifest = new DOMParser().parseFromString(mpd, 'text/xml');\n\t\t// Audio is in a seperate stream, and requires a heavy dash dependency to add to the video\n\t\tif (manifest.querySelector('AudioChannelConfiguration')) throw new Error('Audio is not supported');\n\t\tconst reps = Array.from(manifest.querySelectorAll('Representation'));\n\t\tconst sources = _.sortBy(reps, rep => parseInt(rep.getAttribute('bandwidth'), 10))\n\t\t\t.reverse()\n\t\t\t.map(rep => rep.querySelector('BaseURL'))\n\t\t\t.map(baseUrl => ({\n\t\t\t\tsource: `https://v.redd.it/${id}/${baseUrl.textContent}`,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}));\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tloop: true,\n\t\t\tmuted: true,\n\t\t\tsources,\n\t\t};\n\t},\n});\n","export default {\"announcementsSubreddit\":\"RESAnnouncements\",\"name\":\"Reddit Enhancement Suite\",\"version\":\"5.18.10\",\"isBeta\":false,\"isPatch\":true,\"isMinor\":false,\"isMajor\":false,\"updatedURL\":\"https://redditenhancementsuite.com/releases/#v5.18.10\",\"homepageURL\":\"https://redditenhancementsuite.com\"};","/* @flow */\n\nimport packageInfo from 'exec-loader?cache!./packageInfo';\n\nexport const {\n\tannouncementsSubreddit,\n\tname,\n\tversion,\n\tisBeta,\n\tisPatch,\n\tisMinor,\n\tisMajor,\n\tupdatedURL,\n\thomepageURL,\n} = packageInfo;\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Host } from '../../core/host';\nimport * as Metadata from '../../core/metadata';\nimport { ajax } from '../../environment';\n\nconst req = url => ajax({\n\turl,\n\ttype: 'json',\n\theaders: {\n\t\t// See https://www.mediawiki.org/wiki/API:Main_page#Identifying_your_client\n\t\t'Api-User-Agent': `Reddit-Enhancement-Suite/${Metadata.version} ( ${Metadata.homepageURL} )`,\n\t},\n});\n\nexport default new Host('wikipedia', {\n\tname: 'wikipedia',\n\tdomains: ['wikipedia.org', 'wikipedia.com'],\n\tlogo: 'https://en.wikipedia.org/static/favicon/wikipedia.ico',\n\tdetect: url => (url.pathname.startsWith('/wiki/') && {\n\t\tarticle: url.pathname.substr(6), // remove \"/wiki/\"\n\t\tlanguage: url.host.split('.')[0],\n\t\thash: decodeURIComponent(url.hash.substr(1)),\n\t}),\n\tasync handleLink(href, { language, article, hash }) {\n\t\t// Fix links with a www, or no lang code. These default to en\n\t\tif (language === 'www' || language === 'wikipedia') language = 'en';\n\n\t\t// If there's a hash, look up its section number\n\t\tconst { index: sectionId = 0 } = hash && (await req(`https://${language}.wikipedia.org/w/api.php?action=parse&format=json&prop=sections&page=${article}&origin=*`)).parse.sections.find(({ anchor }) => anchor === hash) || {};\n\n\t\tconst { parse: html } = await req(`https://${language}.wikipedia.org/w/api.php?action=parse&format=json&prop=text|displaytitle&section=${sectionId}&page=${article}&origin=*`);\n\n\t\t// Clean up returned html\n\t\t// DOMParser won't preload linked resources\n\t\tconst cleanDoc = new DOMParser().parseFromString(html.text['*'], 'text/html');\n\n\t\t// Remove unwanted sections\n\t\tfor (const e of cleanDoc.querySelectorAll('.metadata, .hatnote, .mw-editsection, .mwe-math-mathml-inline, .reference, .references')) e.remove();\n\n\t\t// Update all links to use the article's URL as baseURL\n\t\tfor (const e of cleanDoc.querySelectorAll('a')) {\n\t\t\te.href = new URL(e.getAttribute('href'), `https://${language}.wikipedia.org/wiki/${article}`).href;\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'TEXT',\n\t\t\ttitle: $('<div>', { html: html.displaytitle || html.title }).text(), // get title without html (jquery got quite unhappy when brackets appeared)\n\t\t\tsrc: cleanDoc.body.innerHTML,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('xboxdvr', {\n\tname: 'XboxDVR',\n\tdomains: ['xboxdvr.com'],\n\tlogo: 'https://xboxdvr.com/assets/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(gamer\\/[^\\/]+\\/\\w+\\/\\d+)(?:\\/|$)/).exec(pathname),\n\thandleLink(href, [, path]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://xboxdvr.com/${path}/embed`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('xkcd', {\n\tname: 'xkcd',\n\tdomains: ['xkcd.com'],\n\tpermissions: ['https://xkcd.com/*/info.0.json'],\n\tlogo: 'https://xkcd.com/favicon.ico',\n\tdetect: ({ hostname, pathname }) => (\n\t\t// primarily to exclude what-if.xkcd.com\n\t\t['xkcd.com', 'www.xkcd.com'].includes(hostname) &&\n\t\t(/^\\/([0-9]+)(?:\\/|$)/i).exec(pathname)\n\t),\n\tasync handleLink(href, [, id]) {\n\t\tconst { title, alt, img } = await ajax({\n\t\t\turl: `https://xkcd.com/${id}/info.0.json`,\n\t\t\ttype: 'json',\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\ttitle,\n\t\t\tcaption: alt,\n\t\t\tsrc: img,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { DAY, batch } from '../../utils';\n\nexport default new Host('youtube', {\n\tname: 'youtube',\n\tattribution: false,\n\tdomains: ['youtube.com', 'youtu.be'],\n\tdetect: ({ pathname, hostname, searchParams }) => {\n\t\t// split path excluding first /\n\t\tconst split = pathname.substring(1).split('/');\n\t\t// livestream channel url\n\t\tif (split[0] === 'channel' && split[2] === 'live') return [`live_stream?channel=${split[1]}`, searchParams];\n\t\t// short url\n\t\tif (hostname.endsWith('youtu.be')) return [split[0], searchParams];\n\t\t// long url\n\t\t//   ?v=\n\t\tconst vParam = searchParams.get('v');\n\t\tif (vParam) return [vParam, searchParams];\n\t\t//   watch/embed/v\n\t\tif ((/watch|embed|v/i).exec(split[0])) return [split[1], searchParams];\n\t\t//   attribution_link\n\t\tconst uParam = searchParams.get('u');\n\t\tif (split[0] === 'attribution_link' && uParam !== null) {\n\t\t\tconst vParam = new URLSearchParams(uParam.split('?')[1]).get('v');\n\t\t\tif (vParam) return [vParam, searchParams];\n\t\t}\n\t},\n\thandleLink(href, [id, searchParams]) {\n\t\tconst url = new URL(`https://www.youtube.com/embed/${id}`);\n\t\turl.searchParams.set('version', '3');\n\t\turl.searchParams.set('rel', '0');\n\n\t\tconst tParam = searchParams.get('t');\n\t\tif (tParam) {\n\t\t\tlet start = 0;\n\t\t\tconst timeBlocks = { h: 3600, m: 60, s: 1 };\n\t\t\tconst timeRe = /[0-9]+[hms]/ig;\n\t\t\t// Get each segment e.g. 8m and calculate its value in seconds\n\t\t\tconst timeMatch = tParam.match(timeRe);\n\n\t\t\tif (timeMatch) {\n\t\t\t\tfor (const ts of timeMatch) {\n\t\t\t\t\tconst unit = timeBlocks[ts.slice(-1)];\n\t\t\t\t\tconst amount = parseInt(ts.slice(0, -1), 10);\n\t\t\t\t\t// Add each unit to start\n\t\t\t\t\tstart += unit * amount;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// support direct timestamp e.g. t=200\n\t\t\t\tstart = parseInt(tParam, 10);\n\t\t\t\tif (isNaN(start)) start = 0;\n\t\t\t}\n\t\t\turl.searchParams.set('start', String(start));\n\t\t}\n\n\t\tfor (const k of ['end', 'start', 'list']) {\n\t\t\tconst param = searchParams.get(k);\n\t\t\tif (param) url.searchParams.set(k, param);\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: url.href,\n\t\t\tembedAutoplay: `${url.href}&autoplay=1`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n\tgetVideoData: batch(async ids => {\n\t\tconst { items } = await ajax({\n\t\t\turl: 'https://www.googleapis.com/youtube/v3/videos',\n\t\t\tquery: {\n\t\t\t\tid: [...ids].sort().join(','), // sorted to improve cache hit likelyhood\n\t\t\t\tpart: ['id', 'contentDetails', 'snippet', 'statistics'].join(','),\n\t\t\t\tfields: `items(${['id', 'contentDetails(duration)', 'snippet(title,publishedAt)', 'statistics(viewCount)'].join(',')})`,\n\t\t\t\tkey: 'AIzaSyB8ufxFN0GapU1hSzIbuOLfnFC0XzJousw',\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\treturn ids\n\t\t\t.map(id => {\n\t\t\t\tconst data = items.find(({ id: _id }) => _id === id);\n\t\t\t\ttry {\n\t\t\t\t\tconst { contentDetails: { duration: rawDuration }, snippet: { title, publishedAt }, statistics: { viewCount } } = data;\n\n\t\t\t\t\tconst duration = ['0']\n\t\t\t\t\t\t.concat(rawDuration.match(/^PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?$/i).slice(1)) // PT1H11M46S\n\t\t\t\t\t\t.map(time => `0${time || 0}`.slice(-2))\n\t\t\t\t\t\t.filter((time, i, { length }) => +time !== 0 || i >= length - 2)\n\t\t\t\t\t\t.join(':');\n\n\t\t\t\t\treturn { title, duration, publishedAt, viewCount };\n\t\t\t\t} catch (e) { /* empty */ }\n\t\t\t});\n\t}, { size: 50, delay: 0 }),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('znipe', {\n\tname: 'ZnipeTV',\n\tdomains: ['beta.znipe.tv', 'www.znipe.tv'],\n\tlogo: 'https://assets.znipe.tv/icons/favicon.jpg',\n\tdetect: ({ searchParams }) => {\n\t\tconst mParam = searchParams.get('m');\n\t\tif (mParam) return ['m', mParam];\n\n\t\tconst vParam = searchParams.get('v');\n\t\tif (vParam) return ['v', vParam];\n\t},\n\thandleLink(href, [clipType, clipId]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://beta.znipe.tv/watch?${clipType}=${clipId}`,\n\t\t};\n\t},\n});\n","/* generated by sibling-loader */\nimport { default as _0 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/aarli.js\";\nimport { default as _1 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/adultswim.js\";\nimport { default as _2 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/archilogic.js\";\nimport { default as _3 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/archiveis.js\";\nimport { default as _4 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/bime.js\";\nimport { default as _5 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/clyp.js\";\nimport { default as _6 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/codepen.js\";\nimport { default as _7 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/coub.js\";\nimport { default as _8 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/dailymotion.js\";\nimport { default as _9 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/default.js\";\nimport { default as _10 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/defaultAudio.js\";\nimport { default as _11 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/defaultVideo.js\";\nimport { default as _12 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/derpibooru.js\";\nimport { default as _13 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/deviantart.js\";\nimport { default as _14 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/dropbox.js\";\nimport { default as _15 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/fiveHundredPx.js\";\nimport { default as _16 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/flickr.js\";\nimport { default as _17 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/getyarn.js\";\nimport { default as _18 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/gfycat.js\";\nimport { default as _19 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/gifyoutube.js\";\nimport { default as _20 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/giphy.js\";\nimport { default as _21 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/github.js\";\nimport { default as _22 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/googlemaps.js\";\nimport { default as _23 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/gyazo.js\";\nimport { default as _24 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/hastebin.js\";\nimport { default as _25 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/iloopit.js\";\nimport { default as _26 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/imgflip.js\";\nimport { default as _27 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/imgur.js\";\nimport { default as _28 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/instagram.js\";\nimport { default as _29 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/ireddit.js\";\nimport { default as _30 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/jsfiddle.js\";\nimport { default as _31 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/liveleak.js\";\nimport { default as _32 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/livememe.js\";\nimport { default as _33 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/makeameme.js\";\nimport { default as _34 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/memecrunch.js\";\nimport { default as _35 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/memedad.js\";\nimport { default as _36 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/mixer.js\";\nimport { default as _37 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/onedrive.js\";\nimport { default as _38 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/pastebin.js\";\nimport { default as _39 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/peertube.js\";\nimport { default as _40 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/photobucket.js\";\nimport { default as _41 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/pixiv.js\";\nimport { default as _42 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/poly.js\";\nimport { default as _43 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/pornhub.js\";\nimport { default as _44 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/ppy.js\";\nimport { default as _45 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/redditbooru.js\";\nimport { default as _46 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/redditmedia.js\";\nimport { default as _47 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/reddituploads.js\";\nimport { default as _48 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/redgifs.js\";\nimport { default as _49 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/ridewithgps.js\";\nimport { default as _50 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/simplecove.js\";\nimport { default as _51 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/snag.js\";\nimport { default as _52 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/soundcloud.js\";\nimport { default as _53 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/spotify.js\";\nimport { default as _54 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/steamcommunity.js\";\nimport { default as _55 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/steampowered.js\";\nimport { default as _56 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/strawpollcom.js\";\nimport { default as _57 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/strawpollme.js\";\nimport { default as _58 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/streamable.js\";\nimport { default as _59 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/streamja.js\";\nimport { default as _60 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/streamvi.js\";\nimport { default as _61 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/supgif.js\";\nimport { default as _62 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/supload.js\";\nimport { default as _63 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/tenor.js\";\nimport { default as _64 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/tumblr.js\";\nimport { default as _65 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/twimg.js\";\nimport { default as _66 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/twitch.js\";\nimport { default as _67 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/twitchclips.js\";\nimport { default as _68 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/twitter.js\";\nimport { default as _69 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vidble.js\";\nimport { default as _70 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vimeo.js\";\nimport { default as _71 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vlipsy.js\";\nimport { default as _72 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vlive.js\";\nimport { default as _73 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vreddit.js\";\nimport { default as _74 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/wikipedia.js\";\nimport { default as _75 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/xboxdvr.js\";\nimport { default as _76 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/xkcd.js\";\nimport { default as _77 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/youtube.js\";\nimport { default as _78 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/znipe.js\";\nexport default { \"aarli.js\": _0, \"adultswim.js\": _1, \"archilogic.js\": _2, \"archiveis.js\": _3, \"bime.js\": _4, \"clyp.js\": _5, \"codepen.js\": _6, \"coub.js\": _7, \"dailymotion.js\": _8, \"default.js\": _9, \"defaultAudio.js\": _10, \"defaultVideo.js\": _11, \"derpibooru.js\": _12, \"deviantart.js\": _13, \"dropbox.js\": _14, \"fiveHundredPx.js\": _15, \"flickr.js\": _16, \"getyarn.js\": _17, \"gfycat.js\": _18, \"gifyoutube.js\": _19, \"giphy.js\": _20, \"github.js\": _21, \"googlemaps.js\": _22, \"gyazo.js\": _23, \"hastebin.js\": _24, \"iloopit.js\": _25, \"imgflip.js\": _26, \"imgur.js\": _27, \"instagram.js\": _28, \"ireddit.js\": _29, \"jsfiddle.js\": _30, \"liveleak.js\": _31, \"livememe.js\": _32, \"makeameme.js\": _33, \"memecrunch.js\": _34, \"memedad.js\": _35, \"mixer.js\": _36, \"onedrive.js\": _37, \"pastebin.js\": _38, \"peertube.js\": _39, \"photobucket.js\": _40, \"pixiv.js\": _41, \"poly.js\": _42, \"pornhub.js\": _43, \"ppy.js\": _44, \"redditbooru.js\": _45, \"redditmedia.js\": _46, \"reddituploads.js\": _47, \"redgifs.js\": _48, \"ridewithgps.js\": _49, \"simplecove.js\": _50, \"snag.js\": _51, \"soundcloud.js\": _52, \"spotify.js\": _53, \"steamcommunity.js\": _54, \"steampowered.js\": _55, \"strawpollcom.js\": _56, \"strawpollme.js\": _57, \"streamable.js\": _58, \"streamja.js\": _59, \"streamvi.js\": _60, \"supgif.js\": _61, \"supload.js\": _62, \"tenor.js\": _63, \"tumblr.js\": _64, \"twimg.js\": _65, \"twitch.js\": _66, \"twitchclips.js\": _67, \"twitter.js\": _68, \"vidble.js\": _69, \"vimeo.js\": _70, \"vlipsy.js\": _71, \"vlive.js\": _72, \"vreddit.js\": _73, \"wikipedia.js\": _74, \"xboxdvr.js\": _75, \"xkcd.js\": _76, \"youtube.js\": _77, \"znipe.js\": _78 };","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { sanitize } from 'dompurify';\nimport { flow, keyBy, map } from 'lodash/fp';\nimport type {\n\tExpandoMedia,\n\tGalleryMedia,\n\tImageMedia,\n\tVideoMedia,\n\tAudioMedia,\n\tTextMedia,\n\tIframeMedia,\n\tGenericMedia,\n} from '../core/host';\nimport { Host } from '../core/host';\nimport { Module } from '../core/module';\nimport {\n\tpositiveModulo,\n\tdowncast,\n\tThing,\n\tSelectedThing,\n\taddCSS,\n\tbatch,\n\tCreateElement,\n\telementInViewport,\n\tscrollToElement,\n\tforEachSeq,\n\tidleThrottle,\n\tframeThrottle,\n\tisPageType,\n\tisAppType,\n\tstring,\n\twaitForEvent,\n\twatchForElements,\n\twatchForThings,\n\twatchForRedditEvents,\n\tgetPercentageVisibleYAxis,\n\tgetViewportSize,\n} from '../utils';\nimport {\n\taddURLToHistory,\n\tajax,\n\tdownload,\n\tisPrivateBrowsing,\n\topenNewTab,\n\tPermissions,\n\tStorage,\n} from '../environment';\nimport * as Options from '../core/options';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\nimport {\n\taudioTemplate,\n\tcrosspostMetadataTemplate,\n\tgalleryTemplate,\n\timageTemplate,\n\tiframeTemplate,\n\tmediaControlsTemplate,\n\tsiteAttributionTemplate,\n\ttextTemplate,\n\tvideoTemplate,\n} from './showImages/templates';\nimport {\n\tExpando,\n\texpandos,\n\tactiveExpandos,\n} from './showImages/expando';\nimport __hosts from 'sibling-loader?import=default!./hosts/default';\n\nconst siteModules: { [string]: Host<any, any> } = flow(\n\t() => Object.values(__hosts),\n\tmap(host => downcast(host, Host)), // ensure that all hosts are instances of `Host`\n\tkeyBy(host => host.moduleID),\n)();\n\nexport const genericHosts: Host<any, any>[] = [siteModules.default, siteModules.defaultVideo, siteModules.defaultAudio];\n\nexport const module: Module<*> = new Module('showImages');\n\nmodule.moduleName = 'showImagesName';\nmodule.category = 'productivityCategory';\nmodule.description = 'showImagesDesc';\nmodule.bodyClass = true;\nmodule.options = {\n\tmediaBrowse: {\n\t\ttitle: 'showImagesMediaBrowseTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesMediaBrowseDesc',\n\t},\n\tbrowsePreloadCount: {\n\t\ttitle: 'showImagesBrowsePreloadCountTitle',\n\t\ttype: 'text',\n\t\tvalue: '1',\n\t\tdescription: 'showImagesBrowsePreloadCountDesc',\n\t\tdependsOn: options => options.mediaBrowse.value,\n\t},\n\tgalleryPreloadCount: {\n\t\ttitle: 'showImagesGalleryPreloadCountTitle',\n\t\ttype: 'text',\n\t\tvalue: '2',\n\t\tdescription: 'showImagesGalleryPreloadCountDesc',\n\t},\n\tconserveMemory: {\n\t\ttitle: 'showImagesConserveMemoryTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesConserveMemoryDesc',\n\t},\n\tmaxWidth: {\n\t\ttitle: 'showImagesMaxWidthTitle',\n\t\ttype: 'text',\n\t\tvalue: '100%',\n\t\tdescription: 'showImagesMaxWidthDesc',\n\t\tadvanced: true,\n\t},\n\tmaxHeight: {\n\t\ttitle: 'showImagesMaxHeightTitle',\n\t\ttype: 'text',\n\t\tvalue: '80%',\n\t\tdescription: 'showImagesMaxHeightDesc',\n\t\tadvanced: true,\n\t},\n\tdisplayOriginalResolution: {\n\t\ttitle: 'showImagesDisplayOriginalResolutionTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesDisplayOriginalResolutionDesc',\n\t},\n\tselfTextMaxHeight: {\n\t\ttitle: 'showImagesSelfTextMaxHeightTitle',\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'showImagesSelfTextMaxHeightDesc',\n\t\tadvanced: true,\n\t},\n\tcommentMaxHeight: {\n\t\ttitle: 'showImagesCommentMaxHeightTitle',\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'showImagesCommentMaxHeightDesc',\n\t\tadvanced: true,\n\t},\n\tautoMaxHeight: {\n\t\ttitle: 'showImagesAutoMaxHeightTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesAutoMaxHeightDesc',\n\t\tdependsOn: options => !!parseInt(options.selfTextMaxHeight.value, 10) || !!parseInt(options.commentMaxHeight.value, 10),\n\t\tadvanced: true,\n\t},\n\topenInNewWindow: {\n\t\ttitle: 'showImagesOpenInNewWindowTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesOpenInNewWindowDesc',\n\t},\n\thideNSFW: {\n\t\ttitle: 'showImagesHideNSFWTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesHideNSFWDesc',\n\t},\n\thighlightNSFWButton: {\n\t\ttitle: 'showImagesHighlightNSFWButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesHighlightNSFWButtonDesc',\n\t\tbodyClass: true,\n\t},\n\thighlightSpoilerButton: {\n\t\ttitle: 'showImagesHighlightSpoilerButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesHighlightSpoilerButtonDesc',\n\t\tbodyClass: true,\n\t},\n\timageZoom: {\n\t\ttitle: 'showImagesImageZoomTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesImageZoomDesc',\n\t},\n\timageMove: {\n\t\ttitle: 'showImagesImageMoveTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesImageMoveDesc',\n\t},\n\tmediaControls: {\n\t\ttitle: 'showImagesMediaControlsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesMediaControlsDesc',\n\t},\n\tmediaControlsPosition: {\n\t\ttitle: 'showImagesMediaControlsPositionTitle',\n\t\tdependsOn: options => options.mediaControls.value,\n\t\ttype: 'enum',\n\t\tvalue: 'top-left',\n\t\tvalues: [{\n\t\t\tname: 'Top left',\n\t\t\tvalue: 'top-left',\n\t\t}, {\n\t\t\tname: 'Top right',\n\t\t\tvalue: 'top-right',\n\t\t}, {\n\t\t\tname: 'Bottom left.',\n\t\t\tvalue: 'bottom-left',\n\t\t}, {\n\t\t\tname: 'Bottom right.',\n\t\t\tvalue: 'bottom-right',\n\t\t}],\n\t\tdescription: 'showImagesMediaControlsPositionDesc',\n\t},\n\tclippy: {\n\t\ttitle: 'showImagesClippyTitle',\n\t\tdependsOn: options => options.mediaControls.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesClippyDesc',\n\t},\n\tcrossposts: {\n\t\ttitle: 'showImagesCrosspostsTitle',\n\t\tdescription: 'showImagesCrosspostsDescription',\n\t\ttype: 'enum',\n\t\tvalue: 'withMetadata',\n\t\tvalues: [{\n\t\t\tname: 'Do not replace Reddit crosspost expando',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Show with original post\\'s metadata',\n\t\t\tvalue: 'withMetadata',\n\t\t}, {\n\t\t\tname: 'Show without metadata',\n\t\t\tvalue: 'plain',\n\t\t}],\n\t},\n\tdisplayImageCaptions: {\n\t\ttitle: 'showImagesDisplayImageCaptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesDisplayImageCaptionsDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tcaptionsPosition: {\n\t\ttitle: 'showImagesCaptionsPositionTitle',\n\t\tdependsOn: options => options.displayImageCaptions.value,\n\t\ttype: 'enum',\n\t\tvalue: 'titleAbove',\n\t\tvalues: [{\n\t\t\tname: 'Display all captions above image.',\n\t\t\tvalue: 'allAbove',\n\t\t}, {\n\t\t\tname: 'Display title and caption above image, credits below.',\n\t\t\tvalue: 'creditsBelow',\n\t\t}, {\n\t\t\tname: 'Display title above image, caption and credits below.',\n\t\t\tvalue: 'titleAbove',\n\t\t}, {\n\t\t\tname: 'Display all captions below image.',\n\t\t\tvalue: 'allBelow',\n\t\t}],\n\t\tdescription: 'showImagesCaptionsPositionDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tmarkVisited: {\n\t\ttitle: 'showImagesMarkVisitedTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesMarkVisitedDesc',\n\t\tadvanced: true,\n\t},\n\tmarkSelftextVisited: {\n\t\ttitle: 'showImagesMarkSelftextVisitedTitle',\n\t\tdependsOn: options => options.markVisited.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesMarkSelftextVisitedDesc',\n\t\tadvanced: true,\n\t},\n\tsfwHistory: {\n\t\ttitle: 'showImagesSfwHistoryTitle',\n\t\tdependsOn: options => options.markVisited.value,\n\t\ttype: 'enum',\n\t\tvalue: 'add',\n\t\tvalues: [{\n\t\t\tname: 'Add links to history',\n\t\t\tvalue: 'add',\n\t\t}, {\n\t\t\tname: 'Do not add or color links.',\n\t\t\tvalue: 'none',\n\t\t}],\n\t\tdescription: 'showImagesSfwHistoryDesc',\n\t},\n\tgalleryRememberWidth: {\n\t\ttitle: 'showImagesGalleryRememberWidthTitle',\n\t\tdependsOn: options => options.imageZoom.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesGalleryRememberWidthDesc',\n\t},\n\tgalleryAsFilmstrip: {\n\t\ttitle: 'showImagesGalleryAsFilmstripTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesGalleryAsFilmstripDesc',\n\t},\n\tfilmstripLoadIncrement: {\n\t\ttitle: 'showImagesFilmstripLoadIncrementTitle',\n\t\tdependsOn: options => options.galleryAsFilmstrip.value,\n\t\ttype: 'text',\n\t\tvalue: '30',\n\t\tdescription: 'showImagesFilmstripLoadIncrementDesc',\n\t},\n\tuseSlideshowWhenLargerThan: {\n\t\ttitle: 'showImagesUseSlideshowWhenLargerThanTitle',\n\t\tdependsOn: options => options.galleryAsFilmstrip.value,\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'showImagesUseSlideshowWhenLargerThanDesc',\n\t},\n\tshowViewImagesTab: {\n\t\ttitle: 'showImagesShowViewImagesTabTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesShowViewImagesTabDesc',\n\t},\n\tautoExpandTypes: {\n\t\ttitle: 'showImagesAutoExpandTypesTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'any',\n\t\tvalues: [{\n\t\t\tname: 'Images (but occasionally also .gif)',\n\t\t\tvalue: 'image',\n\t\t}, {\n\t\t\tname: 'Images, text',\n\t\t\tvalue: 'image text',\n\t\t}, {\n\t\t\tname: 'Images, text, galleries, and muted videos',\n\t\t\tvalue: 'image text gallery video',\n\t\t}, {\n\t\t\tname: 'All muted expandos (includes iframes)',\n\t\t\tvalue: 'any',\n\t\t}],\n\t\tdescription: 'showImagesAutoExpandTypesDesc',\n\t},\n\tautoExpandSelfText: {\n\t\ttitle: 'showImagesAutoExpandSelfTextTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesAutoExpandSelfTextDesc',\n\t},\n\tautoExpandSelfTextFirstVisibleNonMuted: {\n\t\ttitle: 'showImagesAutoExpandSelfTextFirstVisibleNonMutedTitle',\n\t\tdependsOn: options => options.autoExpandSelfText.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesAutoExpandSelfTextFirstVisibleNonMutedDesc',\n\t},\n\tautoExpandSelfTextNSFW: {\n\t\ttitle: 'showImagesAutoExpandSelfTextNSFWTitle',\n\t\tdependsOn: options => options.autoExpandSelfText.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesAutoExpandSelfTextNSFWDesc',\n\t},\n\tshowSiteAttribution: {\n\t\ttitle: 'showImagesShowSiteAttributionTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesShowSiteAttributionDesc',\n\t},\n\texpandoCommentRedirects: {\n\t\ttitle: 'showImagesExpandoCommentRedirectsTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'expando',\n\t\tvalues: [{\n\t\t\tname: 'Do nothing',\n\t\t\tvalue: 'nothing',\n\t\t}, {\n\t\t\tname: 'Create expandos',\n\t\t\tvalue: 'expando',\n\t\t}, {\n\t\t\tname: 'Create expandos, redirect the link back to the image',\n\t\t\tvalue: 'rewrite',\n\t\t}],\n\t\tdescription: 'showImagesExpandoCommentRedirectsDesc',\n\t},\n\tstartVideosMuted: {\n\t\ttitle: 'showImagesStartVideosMutedTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesStartVideosMutedDesc',\n\t},\n\tonlyPlayMutedWhenVisible: {\n\t\ttitle: 'showImagesOnlyPlayMutedWhenVisibleTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesOnlyPlayMutedWhenVisibleDesc',\n\t},\n\tmaxSimultaneousPlaying: {\n\t\ttitle: 'showImagesMaxSimultaneousPlayingTitle',\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'showImagesMaxSimultaneousPlayingDesc',\n\t},\n\tautoplayVideo: {\n\t\ttitle: 'showImagesAutoplayVideoTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesAutoplayVideoDesc',\n\t},\n\thidePinnedRedditVideos: {\n\t\ttitle: 'showImagesHidePinnedRedditVideosTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesHidePinnedRedditVideosDesc',\n\t\tbodyClass: true,\n\t},\n\t...Object.values(siteModules).reduce((options, siteModule) => {\n\t\t// Ignore default\n\t\tif (genericHosts.includes(siteModule)) return options;\n\n\t\t// Create on/off options\n\t\toptions[siteModuleOptionKey(siteModule)] = {\n\t\t\ttitle: siteModule.name,\n\t\t\tdescription: 'showImagesHostToggleDesc',\n\t\t\tvalue: true,\n\t\t\ttype: 'boolean',\n\t\t};\n\n\t\t// Find out if module has any additional options - if it does add them\n\t\tObject.assign(options, siteModule.options);\n\n\t\treturn options;\n\t}, {}),\n};\nmodule.exclude = [\n\t/^\\/ads\\/[\\-\\w\\._\\?=]*/i,\n\t'submit',\n\t/^\\/subreddits/i,\n];\n\nmodule.beforeLoad = () => {\n\tconst selfTextMaxHeight = parseInt(module.options.selfTextMaxHeight.value, 10);\n\tif (selfTextMaxHeight) {\n\t\t// Strange selector necessary to select tumblr expandos, etc.\n\t\taddCSS(`\n\t\t\t.selftext.expanded ~ * .md {\n\t\t\t\tmax-height: ${selfTextMaxHeight}px;\n\t\t\t\toverflow-y: auto !important;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t`);\n\t}\n\n\tconst commentMaxHeight = parseInt(module.options.commentMaxHeight.value, 10);\n\tif (commentMaxHeight) {\n\t\taddCSS(`\n\t\t\t.comment .md {\n\t\t\t\tmax-height: ${commentMaxHeight}px;\n\t\t\t\toverflow-y: auto !important;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t`);\n\t}\n\n\twatchForElements(['selfText'], null, scanBody);\n\twatchForThings(['comment', 'message'], thing => scanBody(thing.getTextBody()), { id: module });\n\twatchForThings(['post'], thing => checkElementForMedia(thing.getPostLink()), { id: module });\n\n\twatchForRedditEvents('comment', (placeholder, { _: { update } }) => {\n\t\tif (update) return;\n\t\tconst comment = placeholder.closest('.Comment');\n\t\t// TODO `comment` should be refined to the text body, but it doesn't yet have a class\n\t\tscanBody(comment);\n\t});\n\n\t// selftexts in comment pages evidently does not emit an event\n\t// TODO this prevent expando from being added when there's already media there\n\twatchForRedditEvents('postAuthor', (placeholder, { _: { update } }) => {\n\t\tif (update) return;\n\t\tconst body = placeholder.closest('[data-test-id=\"post-content\"]');\n\t\t// Ignore posts that has native media\n\t\tif (body && body.querySelector('.media-element')) return;\n\t\tscanBody(body);\n\t});\n};\n\nmodule.contentStart = () => {\n\tif (module.options.showViewImagesTab.value && isAppType('r2')) {\n\t\tviewImagesButton();\n\t}\n\n\tif (module.options.mediaBrowse.value) {\n\t\tSelectedThing.addListener(mediaBrowse, 'instantly');\n\t}\n\n\tif (module.options.autoMaxHeight.value) {\n\t\t$(document.body).on('mediaResize', '.thing > .entry', updateParentHeight);\n\t}\n};\n\nmodule.go = () => {\n\tif (isPageType('wiki')) scanBody(document.querySelector('.wiki-page-content'));\n\n\t// Handle spotlight next/prev hiding open expando's\n\tconst spotlight = document.querySelector('#siteTable_organic');\n\tif (spotlight) {\n\t\tconst nextprev = spotlight.querySelector('.nextprev');\n\t\tif (nextprev) {\n\t\t\tnextprev.addEventListener('click', () => {\n\t\t\t\tconst open = spotlight.querySelector('.expando-button.expanded');\n\t\t\t\tif (open) open.click();\n\t\t\t});\n\t\t}\n\t}\n};\n\nmodule.afterLoad = () => {\n\tif (module.options.conserveMemory.value) {\n\t\tenableConserveMemory();\n\t}\n};\n\nfunction siteModuleOptionKey(siteModule) {\n\tconst id = siteModule.moduleID;\n\treturn `display_${id}`;\n}\n\nfunction isSiteModuleEnabled(siteModule) {\n\tconst key = siteModuleOptionKey(siteModule);\n\treturn !module.options[key] || module.options[key].value;\n}\n\nconst sitesMap = _.once(() =>\n\tObject.values(siteModules)\n\t\t.filter(isSiteModuleEnabled)\n\t\t.reduce((map, siteModule) => {\n\t\t\tfor (const domain of siteModule.domains) {\n\t\t\t\tmap.set(domain, (map.get(domain) || []).concat(siteModule));\n\t\t\t}\n\t\t\treturn map;\n\t\t}, new Map()),\n);\n\n// A missing subdomain matches all subdomains, for example:\n// A module with `domains: ['example.com']` will match `www.example.com` and `example.com`\n// A module with `domains: ['www.example.com']` will match only `www.example.com`\nfunction* modulesForHostname(hostname) {\n\tdo {\n\t\tfor (const m of sitesMap().get(hostname) || []) yield m;\n\t} while ((hostname = hostname.replace(/^.+?(\\.|$)/, '')));\n\n\tfor (const m of genericHosts) yield m;\n}\n\n/**\n * enableConserveMemory\n * attempt to unload collapsed expando's & images that are off screen in order\n * to save memory\n */\nfunction enableConserveMemory() {\n\t// Making elements fullscreen makes the intersectionobserver report that nothing is intersecting\n\t// $FlowIssue `mozFullScreenElement` is not recognized\n\tconst fullscreenActive = () => !!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement: any);\n\n\t// x-axis is set to 100000% in order to not unload images when scrolling too far horizontally\n\tconst rootMargin = '50% 100000%';\n\n\tconst boxMap = new WeakMap();\n\tconst ioBox = new IntersectionObserver(entries => {\n\t\tfor (const { isIntersecting, target } of entries) {\n\t\t\tif (!isIntersecting && fullscreenActive()) return;\n\t\t\tconst { media } = downcast(boxMap.get(target), Expando);\n\t\t\tif (media) media.setLoaded(isIntersecting);\n\t\t\telse ioBox.unobserve(target);\n\t\t}\n\t}, { rootMargin });\n\n\tconst buttonMap = new WeakMap();\n\tconst ioButton = new IntersectionObserver(entries => {\n\t\tif (fullscreenActive()) return;\n\t\tfor (const { isIntersecting, target } of entries) {\n\t\t\tconst expando = downcast(buttonMap.get(target), Expando);\n\t\t\tconst { open } = expando;\n\t\t\tif (!isIntersecting && !open) {\n\t\t\t\tioButton.unobserve(target);\n\t\t\t\texpando.empty();\n\t\t\t}\n\t\t}\n\t}, { rootMargin });\n\n\twindow.addEventListener('scroll', idleThrottle(() => {\n\t\tfor (const expando of activeExpandos.values()) {\n\t\t\tif (expando.isAttached()) {\n\t\t\t\tconst { box, media, button } = expando;\n\t\t\t\tif (!media) continue;\n\t\t\t\tif (media.supportsUnload()) {\n\t\t\t\t\tioBox.observe(box);\n\t\t\t\t\tboxMap.set(box, expando);\n\t\t\t\t} else {\n\t\t\t\t\tioButton.observe(button);\n\t\t\t\t\tbuttonMap.set(button, expando);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\texpando.destroy();\n\t\t\t}\n\t\t}\n\t}));\n}\n\nlet autoExpandActive = false;\nlet mediaBrowseModeActive = false;\n\nexport const viewImagesButton = _.once(() => CreateElement.tabMenuItem({\n\ttext: 'show images',\n\tclassName: 'res-show-images',\n\tonChange: active => {\n\t\tautoExpandActive = active;\n\t\t// When activated, open the new ones in addition to the ones already open\n\t\t// When deactivated, close all which are open\n\t\tfor (const expando of Array.from(expandos.values()).filter(expando => expando instanceof Expando && expando.button.offsetParent)) {\n\t\t\tconst open = isExpandWanted(expando);\n\t\t\tif (open) expando.expand();\n\t\t\telse if (!autoExpandActive) expando.collapse();\n\t\t}\n\t},\n}));\n\nexport function toggleThingExpandos(thing: Thing, { scrollOnToggle }: {| scrollOnToggle?: boolean |} = {}): void {\n\tconst expandos = Expando.getAllExpandosFrom(thing);\n\tif (!expandos.length) return;\n\n\tconst openExpandos = expandos.filter(v => v.open);\n\n\t// If any open expandos exists within thing, collapse all\n\t// Else, expand all\n\tif (openExpandos.length) {\n\t\tfor (const expando of openExpandos) expando.collapse();\n\n\t\tif (scrollOnToggle) {\n\t\t\t// Only scroll downwards to the top of the entry, to make more space for the expandos\n\t\t\tscrollToElement(thing.entry, null, { scrollStyle: 'directional', restrictDirectionTo: 'up' });\n\t\t}\n\t} else {\n\t\tfor (const expando of expandos) {\n\t\t\tif (\n\t\t\t\t!(expando instanceof Expando) ||\n\t\t\t\tisExpandWanted(expando, { thing, autoExpandFirstVisibleNonMutedInThing: true, autoExpand: true, autoExpandTypes: [], ignoreDuplicatesScope: thing.entry })\n\t\t\t) {\n\t\t\t\texpando.expand();\n\t\t\t}\n\t\t}\n\n\t\tif (scrollOnToggle) {\n\t\t\t// Only scroll downwards to the top of the entry, to make more space for the expandos\n\t\t\tscrollToElement(thing.entry, null, { scrollStyle: 'top', restrictDirectionTo: 'down' });\n\t\t}\n\t}\n}\n\n// idleThrottle since this is low-priority\nconst preloadExpandos = idleThrottle((fromThing, direction, preloadCount = parseInt(module.options.browsePreloadCount.value, 10)) => {\n\tconst pieces = [];\n\tlet target = fromThing;\n\n\tdo {\n\t\tconst expando = Expando.getEntryExpandoFrom(target);\n\t\tif (expando && expando instanceof Expando) pieces.push(expando);\n\t} while ((target = target.getNext({ direction })) && pieces.length <= preloadCount);\n\n\tpreloadMedia(pieces);\n});\n\nfunction mediaBrowse(selected, unselected, options) {\n\tif (!selected || !options.allowMediaBrowse || autoExpandActive) return;\n\n\tconst oldExpando = Expando.getEntryExpandoFrom(unselected);\n\tconst newExpando = Expando.getEntryExpandoFrom(selected);\n\n\tif (oldExpando) {\n\t\tmediaBrowseModeActive = oldExpando.expandWanted || oldExpando.open;\n\t\toldExpando.collapse();\n\t}\n\n\tif (mediaBrowseModeActive && newExpando) {\n\t\tnewExpando.expand();\n\t\toptions.scrollStyle = 'top';\n\n\t\tpreloadExpandos(selected, options.direction);\n\t}\n}\n\nfunction hasEntryAnyExpandedNonMuted(thing) {\n\treturn Expando.getTextExpandosFrom(thing).some(expando =>\n\t\texpando.types.includes('non-muted') && (expando.open || expando.expandWanted),\n\t);\n}\n\nexport const types = ['selftext', 'video', 'image', 'iframe', 'gallery', 'native', 'muted', 'non-muted'];\n\nexport function matchesTypes(wantedTypes: string[], expandoTypes: string[] = types): boolean {\n\treturn !!expandoTypes.length && (!wantedTypes.length || !!_.intersection(expandoTypes, wantedTypes).length);\n}\n\nfunction isExpandWanted(expando: Expando, {\n\tthing,\n\tautoExpand = autoExpandActive,\n\tautoExpandTypes = module.options.autoExpandTypes.value.replace('any', '').split(' ').filter(Boolean),\n\tignoreDuplicates = true,\n\tignoreDuplicatesScope,\n\tonlyExpandMuted = true,\n\tautoExpandFirstVisibleNonMutedInThing = false,\n}: {|\n\tthing?: ?Thing,\n\tautoExpand?: boolean,\n\tautoExpandTypes?: string[],\n\tignoreDuplicates?: boolean,\n\tignoreDuplicatesScope?: HTMLElement,\n\tonlyExpandMuted?: boolean,\n\tautoExpandFirstVisibleNonMutedInThing?: boolean,\n|} = {}) {\n\tif (ignoreDuplicates) {\n\t\tconst duplicates = expando.getDuplicates().filter(v => activeExpandos.has(v));\n\t\tif (duplicates.length) {\n\t\t\tif (!ignoreDuplicatesScope) return false;\n\t\t\tif (duplicates.some(v => ignoreDuplicatesScope.contains(v.button))) return false;\n\t\t}\n\t}\n\n\tconst expandoIsNonMuted = expando.types.includes('non-muted');\n\n\tconst typeCriteriaOK = matchesTypes(autoExpandTypes, expando.types);\n\tconst muteCriteriaOK = !(onlyExpandMuted && expandoIsNonMuted) ||\n\t\t(autoExpandFirstVisibleNonMutedInThing && elementInViewport(expando.button) && !hasEntryAnyExpandedNonMuted(thing));\n\n\treturn autoExpand && muteCriteriaOK && typeCriteriaOK;\n}\n\nfunction resolveMediaUrl(element, thing) {\n\tif (\n\t\tmodule.options.expandoCommentRedirects.value !== 'nothing' &&\n\t\tthing &&\n\t\telement.classList.contains('title')\n\t) {\n\t\tconst dataUrl = thing.element.getAttribute('data-url');\n\t\tconst fullDataUrl = dataUrl && new URL(dataUrl, location.href);\n\t\tif (fullDataUrl && fullDataUrl.href !== thing.getCommentsLink().href) {\n\t\t\treturn fullDataUrl;\n\t\t}\n\t}\n\n\treturn new URL(element.href, location.href);\n}\n\nfunction promptSiteModulePermissions(siteModule) {\n\tconst { name, permissions = [] } = siteModule;\n\tconst urlStripRe = /((?:\\w+\\.)+\\w+)(?=\\/|$)/i;\n\n\tconst message = string.html`<div>\n\t\t<p>In order to inline expand content from ${name}, RES needs permission to access these sites:</p>\n\t\t<p><code>${permissions.map(url => `${(urlStripRe.exec(url): any)[0]}`).join(', \\n')}</code></p>\n\t\t<p>Be assured RES does not access/modify any of your information on these domains - it only accesses the public API.</p>\n\t\t<hr>\n\t\t<p>If you prefer not to use RES' expando for these sites, you may:</p>\n\t\t<button>Disable this host</button>\n\t</div>`;\n\n\tconst notification = Notifications.showNotification({\n\t\theader: 'Permission required',\n\t\tmoduleID: 'permissions',\n\t\tcloseDelay: Infinity,\n\t\tmessage,\n\t});\n\n\tconst disableHostButton = message.querySelector('button');\n\n\treturn Promise.race([\n\t\tPermissions.request(permissions).catch(() => new Promise(() => { /* don't resolve if permissions aren't granted */ })),\n\t\twaitForEvent(disableHostButton, 'click').then(() => {\n\t\t\tconst opt = module.options[siteModuleOptionKey(siteModule)];\n\t\t\topt.value = false;\n\t\t\tOptions.save(opt);\n\t\t\treturn Promise.reject(new Error('Host disabled'));\n\t\t}),\n\t]).finally(() => { notification.close(); });\n}\n\nconst generateSiteModuleLock = _.memoize(async siteModule => {\n\tif (!siteModule.permissions || await Permissions.has(siteModule.permissions)) return;\n\n\tlet resolve, reject;\n\treturn {\n\t\tpromise: new Promise((_resolve, _reject) => { resolve = _resolve; reject = _reject; }),\n\t\topen: () => promptSiteModulePermissions(siteModule).then(resolve, reject),\n\t};\n});\n\nfunction scanBody(element: ?Element) {\n\tif (!element) return;\n\tfor (const link of element.querySelectorAll('a')) {\n\t\tcheckElementForMedia(downcast(link, HTMLAnchorElement));\n\t}\n}\n\nconst linksMap: WeakMap<HTMLAnchorElement, Expando> = new WeakMap();\nexport function getLinkExpando(link: HTMLAnchorElement): ?Expando {\n\treturn linksMap.get(link);\n}\n\nconst inText = element => !!element.closest('.md, .search-result-footer');\n\nasync function checkElementForMedia(element: HTMLAnchorElement) {\n\tconst thing = Thing.from(element);\n\tconst entryExpando = !inText(element) && Expando.getEntryExpandoFrom(thing);\n\tconst nativeExpando = entryExpando instanceof Expando ? null : entryExpando;\n\n\tif (module.options.hideNSFW.value && thing && thing.isNSFW()) {\n\t\tif (nativeExpando) nativeExpando.detach();\n\t\treturn;\n\t}\n\n\tif (nativeExpando) {\n\t\ttrackNativeExpando(nativeExpando, element, thing);\n\n\t\tif (nativeExpando.open) {\n\t\t\tconsole.log('Native expando has already been opened; skipping.', element.href);\n\t\t\treturn;\n\t\t}\n\t}\n\n\tif (thing && thing.isCrosspost() && module.options.crossposts.value === 'none') {\n\t\treturn;\n\t}\n\n\tconst mediaUrl = resolveMediaUrl(element, thing);\n\n\tif (mediaUrl && module.options.expandoCommentRedirects.value === 'rewrite') {\n\t\telement.href = mediaUrl.href;\n\t\telement.removeAttribute('data-inbound-url');\n\t}\n\n\tfor (const siteModule of modulesForHostname(mediaUrl.hostname)) {\n\t\tif (nativeExpando) {\n\t\t\tconst { options: { replaceNativeExpando } = {} } = siteModule;\n\t\t\tif (replaceNativeExpando && !replaceNativeExpando.value) continue;\n\t\t}\n\n\t\tconst detectResult = siteModule.detect(mediaUrl, thing);\n\t\tif (!detectResult) continue;\n\n\t\tconst expando = new Expando(mediaUrl.href);\n\n\t\tif (nativeExpando) nativeExpando.detach();\n\t\tplaceExpando(expando, element, thing);\n\t\texpando.onExpand(() => { trackMediaLoad(element, thing); });\n\t\tlinksMap.set(element, expando);\n\n\t\tconst lock = await generateSiteModuleLock(siteModule); // eslint-disable-line no-await-in-loop\n\t\tif (lock) expando.setLock(lock);\n\n\t\ttry {\n\t\t\tif (lock) await lock.promise; // eslint-disable-line no-await-in-loop\n\t\t\tawait completeExpando(expando, thing, siteModule, detectResult); // eslint-disable-line no-await-in-loop\n\t\t\tbreak;\n\t\t} catch (e) {\n\t\t\tconsole.error(`showImages: could not create expando for ${mediaUrl.href}`, e);\n\t\t\tif (nativeExpando) nativeExpando.reattach();\n\t\t\texpando.destroy();\n\t\t\tlinksMap.delete(element);\n\t\t}\n\t}\n}\n\nfunction placeExpando(expando, element, thing) {\n\tif (!inText(element) && thing && thing.getTitleElement()) {\n\t\tif (element.parentElement) element.parentElement.after(expando.button);\n\t\t// Position our expando button after the original button if possible, to not break Reddit's expando\n\t\tconst sibling = expando.button.nextElementSibling;\n\t\tif (sibling && sibling.classList.contains('expando-button')) sibling.after(expando.button);\n\t\tthing.entry.appendChild(expando.box);\n\t} else {\n\t\t$(element).add($(element).next('.keyNavAnnotation')).last()\n\t\t\t.after(expando.box)\n\t\t\t.after($('<span class=\"res-freetext-expando\">').append(expando.button));\n\t}\n}\n\nasync function completeExpando(expando, thing, siteModule, detectResult) {\n\tconst mediaOptions = await siteModule.handleLink(expando.href, detectResult);\n\n\tif (mediaOptions.title && thing && string.areSimilar(mediaOptions.title, thing.getTitle())) {\n\t\tmediaOptions.title = '';\n\t}\n\n\tconst attribution = module.options.showSiteAttribution.value &&\n\t\tthing && thing.isPost() && !thing.isSelfPost() &&\n\t\tsiteModule.domains.length && siteModule.attribution !== false;\n\n\tconst isMuted = media => media.muted || ['IMAGE', 'TEXT'].includes(media.type);\n\tconst muted = mediaOptions.type === 'GALLERY' ? mediaOptions.src.every(isMuted) : isMuted(mediaOptions);\n\n\texpando.initialize({\n\t\ttypes: [\n\t\t\tmediaOptions.type,\n\t\t\tmuted ? 'muted' : 'non-muted',\n\t\t\t...((mediaOptions.expandoClass || '').split(' ')),\n\t\t].filter(v => v).map(s => s.toLowerCase()),\n\t\tbuttonInfo: getMediaButtonInfo(mediaOptions),\n\t\tgenerateMedia() {\n\t\t\tconst media = generateMedia(mediaOptions, { href: expando.href });\n\t\t\tif (module.options.crossposts.value === 'withMetadata' && thing && thing.isCrosspost()) {\n\t\t\t\tmedia.element.prepend(crosspostMetadataTemplate(thing.element.dataset));\n\t\t\t}\n\t\t\tif (attribution) addSiteAttribution(siteModule, media);\n\t\t\treturn media;\n\t\t},\n\t});\n\n\texpando.button.setAttribute('data-host', siteModule.moduleID);\n\texpando.box.setAttribute('data-host', siteModule.moduleID);\n\n\tconst hideButton = thing && thing.getHideElement();\n\tif (hideButton) hideButton.addEventListener('click', () => { expando.destroy(); });\n\n\tif (thing && thing.isComment()) {\n\t\texpando.onExpand(_.once(() => {\n\t\t\tlet wasOpen;\n\n\t\t\t// Collapse / restore expandos when toggling comment visibility\n\t\t\t$([thing, ...thing.getParents()].map(e => e.entry))\n\t\t\t\t.find('.tagline > .expand, > .buttons .toggleChildren')\n\t\t\t\t.click(() => {\n\t\t\t\t\tif (thing.isContentVisible()) {\n\t\t\t\t\t\tif (wasOpen && expando.media) expando.expand();\n\t\t\t\t\t} else {\n\t\t\t\t\t\twasOpen = expando.open;\n\t\t\t\t\t\tif (expando.open) expando.collapse();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}));\n\t}\n\n\t// The d2x lightbox hides overflowing media\n\texpando.onExpand(() => {\n\t\tconst lightbox = expando.media.element.closest('#overlayScrollContainer');\n\t\tif (lightbox) lightbox.firstChild.style.overflowY = 'initial';\n\t});\n\n\t// Start loading media early to make it snappier\n\texpando.button.addEventListener('mousedown', () => { preloadMedia([expando]); });\n\n\tif (!expando.open) {\n\t\tlet autoExpand;\n\t\tlet autoExpandFirstVisibleNonMutedInThing;\n\n\t\tif (module.options.autoExpandSelfText.value && inText(expando.button) && thing && thing.isSelfPost() && !isPageType('comments')) {\n\t\t\tconst dontAutoExpandNSFW = !module.options.autoExpandSelfTextNSFW.value && thing.isNSFW();\n\t\t\tautoExpand = !dontAutoExpandNSFW;\n\t\t\tautoExpandFirstVisibleNonMutedInThing = module.options.autoExpandSelfTextFirstVisibleNonMuted.value;\n\t\t}\n\n\t\tif (isExpandWanted(expando, { thing, autoExpand, autoExpandFirstVisibleNonMutedInThing })) {\n\t\t\texpando.expand();\n\t\t}\n\t}\n}\n\nfunction updateParentHeight(e) {\n\tconst thing = Thing.checkedFrom(e.currentTarget);\n\n\tconst basisHeight = (\n\t\tthing.isSelfPost() && parseInt(module.options.selfTextMaxHeight.value, 10) ||\n\t\tthing.isComment() && parseInt(module.options.commentMaxHeight.value, 10) ||\n\t\t0\n\t);\n\n\tif (basisHeight > 0) {\n\t\t// .expando-button causes a line break\n\t\tconst expandoHeight = Array\n\t\t\t.from(thing.entry.querySelectorAll('.res-expando-box, .expando-button.expanded'))\n\t\t\t.reduce((a, b) => a + b.getBoundingClientRect().height, 0);\n\n\t\tthing.element.querySelector('.md').style.maxHeight = `${basisHeight + expandoHeight}px`;\n\t}\n}\n\nfunction trackNativeExpando(expando, element, thing) {\n\tif (!module.options.markSelftextVisited.value && expando.button.classList.contains('selftext')) return;\n\n\tconst trackLoad = _.once(() => trackMediaLoad(element, thing));\n\n\tif (expando.open) trackLoad();\n\telse expando.button.addEventListener('click', trackLoad);\n}\n\nfunction getMediaButtonInfo(options) {\n\tlet title = '';\n\n\tlet type = options.type;\n\n\tif (options.type === 'GALLERY') {\n\t\tif (options.src.length === 1) {\n\t\t\ttype = options.src[0].type;\n\t\t} else {\n\t\t\ttitle += `${options.src.length} items in gallery`;\n\t\t}\n\t}\n\n\tconst defaultClass = {\n\t\tIMAGE: 'image',\n\t\tGALLERY: 'image gallery',\n\t\tTEXT: 'selftext',\n\t\tVIDEO: options.muted ? 'video-muted' : 'video',\n\t\tIFRAME: options.muted ? 'video-muted' : 'video',\n\t\tAUDIO: 'video', // yes, still class \"video\", that's what reddit uses.\n\t\tGENERIC_EXPANDO: 'selftext',\n\t}[type];\n\n\treturn {\n\t\ttitle,\n\t\tmediaClass: options.expandoClass || defaultClass,\n\t};\n}\n\nlet lastPreloadIndex = 0;\nfunction preloadMedia(pieces) {\n\t// Avoid potentially unwanted side-effects by only allowing one concurrent preload sequence\n\tconst index = ++lastPreloadIndex;\n\n\treturn forEachSeq(pieces, piece => {\n\t\tif (!piece.generateMedia) return;\n\t\tif (lastPreloadIndex !== index) return;\n\n\t\tpiece.media = piece.media || piece.generateMedia();\n\t\treturn piece.media.ready;\n\t});\n}\n\nfunction generateMedia(options: ExpandoMedia, context: {| href: string |}): Media {\n\tif (options.credits) options.credits = sanitize(options.credits);\n\tif (options.caption) options.caption = sanitize(options.caption);\n\n\tswitch (options.type) {\n\t\tcase 'GALLERY': return new Gallery(options, context);\n\t\tcase 'IMAGE': return new Image(options, context);\n\t\tcase 'TEXT': return new Text(options);\n\t\tcase 'IFRAME': return new Iframe(options);\n\t\tcase 'VIDEO': return new Video(options, context);\n\t\tcase 'AUDIO': return new Audio(options);\n\t\tcase 'GENERIC_EXPANDO': return new Generic(options);\n\t\tdefault: throw new Error(`Unreachable: invalid media type ${options.type}`);\n\t}\n}\n\nconst observed = new WeakMap();\nconst resizeObserver = new ResizeObserver(entries => {\n\tfor (const { target, contentRect } of entries) {\n\t\tconst callback = observed.get(target);\n\t\tif (callback) callback(contentRect);\n\t}\n});\n\nexport class Media {\n\telement: HTMLElement;\n\n\tready: ?Promise<any>;\n\n\tonAttach: ?() => void;\n\tisAttached(): boolean { return document.body.contains(this.element); }\n\n\texpand(): void | Promise<void> { this.setLoaded(true); }\n\tcollapse(): void { this.setLoaded(false); }\n\n\tonResize: Array<* => mixed> = [];\n\tresizing: ?(contentRect: *) => void;\n\trotationState: number = 0;\n\n\tsupportsUnload(): boolean { return false; }\n\t_state: 'loaded' | 'unloaded' = 'loaded';\n\t_unload(): void {}\n\t_restore(): void {}\n\n\tsetLoaded(state: boolean) {\n\t\tif (state) {\n\t\t\tthis._state = 'loaded';\n\t\t\tthis._restore();\n\t\t} else {\n\t\t\tthis._state = 'unloaded';\n\t\t\tthis._unload();\n\t\t}\n\t}\n\n\tmakeIndependent(element: HTMLElement) {\n\t\tconst wrapper = document.createElement('div');\n\t\tconst independent = document.createElement('div');\n\t\telement.replaceWith(wrapper);\n\t\twrapper.appendChild(independent);\n\t\tindependent.appendChild(element);\n\n\t\tindependent.classList.add('res-media-independent');\n\t\twrapper.style.willChange = 'height';\n\n\t\tthis.resizing = (contentRect: * = element.getBoundingClientRect()) => {\n\t\t\tfor (const callback of this.onResize) callback(contentRect);\n\t\t\twrapper.style.height = `${contentRect.height}px`;\n\t\t};\n\n\t\tthis.onResize.push(contentRect => {\n\t\t\tthis.element.dispatchEvent(new CustomEvent('mediaResize', { detail: contentRect, bubbles: true }));\n\t\t});\n\n\t\tobserved.set(element, contentRect => {\n\t\t\tif (this._state === 'unloaded') return;\n\t\t\tif (this.resizing) this.resizing(contentRect);\n\t\t});\n\t\tresizeObserver.observe(element);\n\n\t\twaitForEvent(element, 'mediaManuallyMovedVertically').then(() => { resizeObserver.unobserve(element); });\n\t}\n\n\tkeepVisible(element: HTMLElement) {\n\t\telement.classList.add('res-element-keep-visible');\n\n\t\tconst basisLeft = _.once(() => downcast(element.parentElement, HTMLElement).getBoundingClientRect().left);\n\t\tlet isAligned = false;\n\n\t\tthis.onResize.push(({ width: elementWidth }: *) => {\n\t\t\tconst { width: viewportWidth } = getViewportSize();\n\n\t\t\tif (!isAligned && basisLeft() + elementWidth < viewportWidth) return;\n\n\t\t\tconst { left: elementLeft, right: elementRight } = element.getBoundingClientRect();\n\n\t\t\tconst deltaLeft = elementLeft - basisLeft();\n\n\t\t\tif (elementWidth > viewportWidth) { // Left align\n\t\t\t\tisAligned = true;\n\t\t\t\tmove(element, -elementLeft, 0);\n\t\t\t} else if (elementRight - deltaLeft > viewportWidth) { // Right align\n\t\t\t\tisAligned = true;\n\t\t\t\tmove(element, viewportWidth - elementRight, 0);\n\t\t\t} else if (deltaLeft) { // Reset\n\t\t\t\tisAligned = false;\n\t\t\t\tmove(element, -deltaLeft, 0);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetMaxSize(element: HTMLElement) {\n\t\tlet value = module.options.maxWidth.value;\n\t\tlet isPercentage = value.endsWith('%');\n\t\tconst maxWidth = (isPercentage ? getViewportSize().width / 100 : 1) * parseInt(value, 10);\n\t\tif (maxWidth) element.style.maxWidth = `${maxWidth}px`;\n\n\t\tvalue = module.options.maxHeight.value;\n\t\tisPercentage = value.endsWith('%');\n\t\tconst maxHeight = (isPercentage ? getViewportSize().height / 100 : 1) * parseInt(value, 10);\n\t\tif (maxHeight) element.style.maxHeight = `${maxHeight}px`;\n\t}\n\n\tmakeZoomable(element: HTMLElement, dragInitiater: HTMLElement = element, absoluteSizing: boolean = false) {\n\t\tif (!module.options.imageZoom.value) return;\n\n\t\telement.classList.add('res-media-zoomable');\n\n\t\tlet initialWidth, initialHeight, initialDiagonal, left, top;\n\n\t\tfunction getDiagonal(x, y) {\n\t\t\tconst w = Math.max(1, x - left);\n\t\t\tconst h = Math.max(1, y - top);\n\t\t\treturn Math.round(Math.hypot(w, h));\n\t\t}\n\n\t\taddDragListener({\n\t\t\tmedia: this.element,\n\t\t\telement: dragInitiater,\n\t\t\tatShiftKey: false,\n\t\t\tonStart: (x, y) => {\n\t\t\t\t({ left, top, width: initialWidth, height: initialHeight } = element.getBoundingClientRect());\n\t\t\t\tinitialDiagonal = getDiagonal(x, y);\n\t\t\t},\n\t\t\tonMove: (x, y, deltaX, deltaY) => {\n\t\t\t\tconst conversionFactor = this.rotationState % 2 ? initialHeight / initialWidth : 1;\n\t\t\t\tif (absoluteSizing) {\n\t\t\t\t\tconst { width, height } = element.getBoundingClientRect();\n\t\t\t\t\tresize(element, (width + deltaX) * conversionFactor, (height + deltaY) / conversionFactor);\n\t\t\t\t} else {\n\t\t\t\t\tconst newWidth = getDiagonal(x, y) / initialDiagonal * initialWidth;\n\t\t\t\t\tresize(element, newWidth * conversionFactor);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tmakeMovable(element: HTMLElement, dragInitiater: HTMLElement = element) {\n\t\tif (!module.options.imageMove.value) return;\n\n\t\telement.classList.add('res-media-movable');\n\n\t\taddDragListener({\n\t\t\tmedia: this.element,\n\t\t\telement: dragInitiater,\n\t\t\tatShiftKey: true,\n\t\t\tonMove(x, y, deltaX, deltaY) { move(element, deltaX, deltaY); },\n\t\t});\n\t}\n\n\taddControls(element: HTMLElement, lookupUrl: *, downloadUrl: *) {\n\t\tif (!module.options.mediaControls.value) return element;\n\n\t\tconst [y, x] = module.options.mediaControlsPosition.value.split('-');\n\n\t\tconst wrapper = mediaControlsTemplate({ clippy: module.options.clippy.value, lookupUrl, downloadUrl, x, y });\n\t\telement.replaceWith(wrapper);\n\t\twrapper.appendChild(element);\n\n\t\telement.classList.add('res-media-rotatable');\n\n\t\tconst compensateTransformedSize = () => {\n\t\t\tconst { width, height } = element.getBoundingClientRect();\n\t\t\tObject.assign(wrapper.style, { width: `${width}px`, height: `${height}px` });\n\t\t};\n\n\t\tconst compensateTransformedSizeObserver = new ResizeObserver(compensateTransformedSize);\n\n\t\tconst updateRotation = () => {\n\t\t\tcompensateTransformedSizeObserver.observe(element);\n\t\t\telement.setAttribute('rotation', String(positiveModulo(this.rotationState, 4)));\n\t\t\tcompensateTransformedSize();\n\t\t};\n\n\t\twrapper.querySelector('.res-media-controls').addEventListener('click', (e: Event) => {\n\t\t\tswitch (e.target.dataset.action) {\n\t\t\t\tcase 'rotateLeft':\n\t\t\t\t\t--this.rotationState;\n\t\t\t\t\tupdateRotation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotateRight':\n\t\t\t\t\t++this.rotationState;\n\t\t\t\t\tupdateRotation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'download':\n\t\t\t\t\tPermissions.request(['downloads']).then(() => {\n\t\t\t\t\t\tconst re = /(?:\\.([^.]+))?$/;\n\t\t\t\t\t\tconst ext = re.exec(downloadUrl);\n\t\t\t\t\t\tconst thing = Thing.from(wrapper);\n\t\t\t\t\t\tlet title = thing && thing.getTitle();\n\t\t\t\t\t\tif (title && ext) {\n\t\t\t\t\t\t\tlet extension = ext[1];\n\t\t\t\t\t\t\tif (extension.includes('?')) extension = extension.split('?')[0];\n\t\t\t\t\t\t\ttitle = title.replace(/[*|?:\"<>\\\\\\/]/gi, '');\n\t\t\t\t\t\t\tconst filename = `${title}.${extension}`;\n\t\t\t\t\t\t\tdownload(downloadUrl, filename);\n\t\t\t\t\t\t} else download(downloadUrl);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'imageLookup':\n\t\t\t\t\t// Google doesn't like image url's without a protacol\n\t\t\t\t\tlookupUrl = new URL(downcast(lookupUrl, 'string'), location.href).href;\n\n\t\t\t\t\t// Escape query string parameters\n\t\t\t\t\topenNewTab(string.encode`https://images.google.com/searchbyimage?image_url=${lookupUrl}`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'showImageSettings':\n\t\t\t\t\tSettingsNavigation.open(module.moduleID, 'mediaControls');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'clippy':\n\t\t\t\t\te.target.textContent = [\n\t\t\t\t\t\tmodule.options.imageZoom.value && 'drag to resize',\n\t\t\t\t\t\tmodule.options.imageMove.value && 'shift-drag to move',\n\t\t\t\t\t].filter(Boolean).join(' or ');\n\t\t\t\t\tmodule.options.clippy.value = false;\n\t\t\t\t\tOptions.save(module.options.clippy);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// do nothing if action is unknown\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t});\n\n\t\treturn wrapper;\n\t}\n}\n\nclass Gallery extends Media {\n\tfilmstripLoadIncrement = parseInt(module.options.filmstripLoadIncrement.value, 10) || Infinity;\n\tpreloadCount = parseInt(module.options.galleryPreloadCount.value, 10) || 0;\n\n\tindividualCtrl;\n\tmsgPosition;\n\tctrlToFilmstrip;\n\tctrlConcurrentIncrease;\n\n\tpieces: Array<{\n\t\tgenerateMedia: () => Media,\n\t\tmedia: ?Media,\n\t\twrapper: HTMLElement,\n\t}>;\n\n\tlastRevealedPiece = null;\n\tfilmstripActive: boolean;\n\trememberResizeWidth: boolean;\n\tlastResizedWidth: number;\n\n\tconstructor(options: GalleryMedia, context) {\n\t\tsuper();\n\n\t\tthis.element = galleryTemplate({\n\t\t\ttitle: options.title,\n\t\t\tcaption: options.caption,\n\t\t\tcredits: options.credits,\n\t\t\tsrc: options.src,\n\t\t});\n\n\t\tconst piecesContainer = this.element.querySelector('.res-gallery-pieces');\n\t\tthis.individualCtrl = this.element.querySelector('.res-step-container');\n\t\tconst ctrlPrev = this.individualCtrl.querySelector('.res-step-previous');\n\t\tconst ctrlNext = this.individualCtrl.querySelector('.res-step-next');\n\t\tthis.msgPosition = this.individualCtrl.querySelector('.res-step-position');\n\t\tthis.ctrlToFilmstrip = this.individualCtrl.querySelector('.res-gallery-to-filmstrip');\n\t\tthis.ctrlConcurrentIncrease = this.element.querySelector('.res-gallery-increase-concurrent');\n\n\t\tthis.pieces = options.src.map(src => ({\n\t\t\tgenerateMedia: () => generateMedia(src, context),\n\t\t\tmedia: null,\n\t\t\twrapper: document.createElement('div'),\n\t\t}));\n\t\tpiecesContainer.append(...this.pieces.map(({ wrapper }) => wrapper));\n\n\t\tconst slideshowWhenLargerThan = parseInt(module.options.useSlideshowWhenLargerThan.value, 10) || Infinity;\n\t\tthis.filmstripActive = module.options.galleryAsFilmstrip.value && this.pieces.length < slideshowWhenLargerThan;\n\n\t\tif (this.filmstripActive || this.pieces.length === 1) {\n\t\t\tthis.ready = this.expandFilmstrip();\n\t\t\tthis.ctrlConcurrentIncrease.addEventListener('click', () => this.expandFilmstrip());\n\t\t} else {\n\t\t\tthis.ready = this.changeSlideshowPiece(0);\n\t\t\tctrlPrev.addEventListener('click', () => { this.changeSlideshowPiece(-1); });\n\t\t\tctrlNext.addEventListener('click', () => { this.changeSlideshowPiece(1); });\n\n\t\t\twaitForEvent(this.ctrlToFilmstrip, 'click').then(() => {\n\t\t\t\tthis.expandFilmstrip();\n\t\t\t\tthis.ctrlConcurrentIncrease.addEventListener('click', () => this.expandFilmstrip());\n\t\t\t});\n\t\t}\n\t}\n\n\tshouldRememberResizeWidth() {\n\t\treturn module.options.galleryRememberWidth.value && !this.filmstripActive;\n\t}\n\n\trememberWidth(piece) {\n\t\tconst resizedElement = piece.media && piece.media.element.querySelector('.res-media-zoomable');\n\t\t// Only resized elements have style.width\n\t\tconst resizedWidth = resizedElement && parseInt(resizedElement.style.width, 10);\n\t\tif (resizedWidth) this.lastResizedWidth = resizedWidth;\n\t}\n\n\trestoreWidth(piece) {\n\t\tif (!this.lastResizedWidth) return;\n\t\tconst resizeElement = piece.media && piece.media.element.querySelector('.res-media-zoomable');\n\t\tif (resizeElement) resize(resizeElement, this.lastResizedWidth);\n\t}\n\n\trevealPiece(piece) {\n\t\tif (this.shouldRememberResizeWidth() && this.lastRevealedPiece) this.rememberWidth(this.lastRevealedPiece);\n\t\tthis.lastRevealedPiece = piece;\n\n\t\tpiece.media = piece.media || piece.generateMedia();\n\t\tconst { media, wrapper } = piece;\n\t\tif (!media.isAttached()) wrapper.appendChild(media.element);\n\t\twrapper.hidden = false;\n\t\tif (this.shouldRememberResizeWidth()) this.restoreWidth(piece);\n\t\t// When preloading the gallery object, don't run the `expand` method on the piece as that may cause audio to play\n\t\tif (this.isAttached()) media.expand();\n\t}\n\n\tpreloadAhead() {\n\t\tconst preloadFrom = this.pieces.indexOf(this.lastRevealedPiece);\n\t\tconst preloadTo = Math.min(preloadFrom + this.preloadCount + 1, this.pieces.length);\n\n\t\treturn preloadMedia(this.pieces.slice(preloadFrom, preloadTo));\n\t}\n\n\tasync expandFilmstrip() {\n\t\tthis.individualCtrl.remove();\n\n\t\tconst revealFrom = this.lastRevealedPiece ? this.pieces.indexOf(this.lastRevealedPiece) : 0;\n\t\tconst revealTo = Math.min(revealFrom + this.filmstripLoadIncrement, this.pieces.length);\n\n\t\tthis.ctrlConcurrentIncrease.hidden = true;\n\n\t\t// reveal new pieces\n\t\tawait forEachSeq(this.pieces.slice(revealFrom, revealTo), piece => {\n\t\t\tthis.revealPiece(piece);\n\t\t\treturn piece.media && piece.media.ready;\n\t\t});\n\n\t\tif (revealTo < this.pieces.length) {\n\t\t\tthis.ctrlConcurrentIncrease.innerText = `Show next ${Math.min(this.filmstripLoadIncrement, this.pieces.length - revealTo)} pieces`;\n\t\t\tthis.ctrlConcurrentIncrease.hidden = false;\n\t\t}\n\n\t\treturn this.preloadAhead();\n\t}\n\n\tchangeSlideshowPiece(step) {\n\t\tconst previous = this.lastRevealedPiece;\n\t\tconst previousIndex = previous ? this.pieces.indexOf(previous) : 0;\n\n\t\tlet newIndex = previousIndex + step;\n\t\t// Allow wrap-around\n\t\tnewIndex = positiveModulo(newIndex, this.pieces.length);\n\n\t\tthis.individualCtrl.setAttribute('first-piece', String(newIndex === 0));\n\t\tthis.individualCtrl.setAttribute('last-piece', String(newIndex === this.pieces.length - 1));\n\t\tthis.msgPosition.innerText = String(newIndex + 1);\n\n\t\tthis.revealPiece(this.pieces[newIndex]);\n\n\t\tif (previous) {\n\t\t\tconst { media, wrapper } = previous;\n\t\t\tif (!media) throw new Error();\n\t\t\tmedia.collapse();\n\t\t\twrapper.hidden = true;\n\t\t}\n\n\t\treturn this.preloadAhead();\n\t}\n\n\tsupportsUnload() {\n\t\treturn this.pieces.every(({ media }) => !media || media.supportsUnload()) || false;\n\t}\n\n\tsetLoaded(state) {\n\t\tfor (const { media } of this.pieces) {\n\t\t\tif (media) media.setLoaded(state);\n\t\t}\n\t}\n}\n\nclass Image extends Media {\n\timage: HTMLImageElement;\n\tsrc: string;\n\n\tconstructor({\n\t\ttitle,\n\t\tcaption,\n\t\tcredits,\n\t\tsrc,\n\t\thref,\n\t}: ImageMedia, context) {\n\t\tsuper();\n\n\t\tthis.src = src;\n\n\t\tthis.element = imageTemplate({\n\t\t\ttitle,\n\t\t\tcaption,\n\t\t\tcredits,\n\t\t\tsrc,\n\t\t\thref: href || context.href,\n\t\t\topenInNewWindow: module.options.openInNewWindow.value,\n\t\t});\n\t\tthis.image = downcast(this.element.querySelector('img.res-image-media'), HTMLImageElement);\n\t\tconst anchor = this.element.querySelector('a.res-expando-link');\n\n\t\tthis.ready = waitForEvent(this.image, 'load', 'error');\n\n\t\tthis.image.addEventListener('error', () => {\n\t\t\tthis.element.classList.add('res-media-load-error');\n\t\t});\n\n\t\tif (module.options.displayOriginalResolution.value) {\n\t\t\tthis.image.addEventListener('load', () => {\n\t\t\t\tthis.image.title = `${this.image.naturalWidth}  ${this.image.naturalHeight} px`;\n\t\t\t});\n\t\t}\n\n\t\tthis.setMaxSize(this.image);\n\t\tconst wrapper = this.addControls(anchor, src, src);\n\t\tthis.makeZoomable(this.image);\n\t\tthis.makeMovable(wrapper);\n\t\tthis.keepVisible(wrapper);\n\t\tthis.makeIndependent(wrapper);\n\t}\n\n\tsupportsUnload() {\n\t\treturn true;\n\t}\n\n\t_unload() {\n\t\tthis.image.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\t}\n\n\t_restore() {\n\t\tthis.image.src = this.src;\n\t}\n}\n\nclass Iframe extends Media {\n\tloaded: boolean = false;\n\tiframe: HTMLIFrameElement;\n\tpauseCommand: ?string;\n\tplayCommand: ?string;\n\n\tconstructor({\n\t\tembed,\n\t\tembedAutoplay,\n\t\twidth = '640px',\n\t\theight = '360px',\n\t\tfixedRatio = false,\n\t\tpause: pauseCommand,\n\t\tplay: playCommand,\n\t}: IframeMedia) {\n\t\tsuper();\n\n\t\tthis.pauseCommand = pauseCommand;\n\t\tthis.playCommand = playCommand;\n\n\t\tthis.element = iframeTemplate({\n\t\t\turl: (module.options.autoplayVideo.value && embedAutoplay) ? embedAutoplay : embed,\n\t\t\twidth,\n\t\t\theight,\n\t\t});\n\t\tthis.iframe = downcast(this.element.querySelector('iframe'), HTMLIFrameElement);\n\t\tconst iframeWrapper = downcast(this.element.firstElementChild, HTMLElement);\n\t\tconst dragHandle = this.element.querySelector('.res-iframe-expando-drag-handle');\n\n\t\tthis.makeZoomable(this.iframe, dragHandle, !fixedRatio);\n\t\tthis.makeMovable(iframeWrapper, dragHandle);\n\t\tthis.keepVisible(iframeWrapper);\n\t\tthis.makeIndependent(iframeWrapper);\n\t}\n\n\tasync expand() {\n\t\tif (module.options.autoplayVideo.value && this.playCommand) {\n\t\t\tif (!this.loaded) await waitForEvent(this.iframe, 'load');\n\t\t\tthis.loaded = true;\n\n\t\t\ttry {\n\t\t\t\tthis.iframe.contentWindow.postMessage(this.playCommand, '*');\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Could not post \"play\" command to iframe', this, e);\n\t\t\t}\n\t\t}\n\t}\n\n\tcollapse() {\n\t\tif (this.pauseCommand) {\n\t\t\ttry {\n\t\t\t\tthis.iframe.contentWindow.postMessage(this.pauseCommand, '*');\n\t\t\t\treturn;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Could not post \"pause\" command to iframe', this, e);\n\t\t\t}\n\t\t}\n\n\t\t// If we couldn't pause the iframe, remove it\n\t\tthis.element.remove();\n\t}\n}\n\nclass Text extends Media {\n\tconstructor({\n\t\ttitle,\n\t\tcredits,\n\t\tsrc,\n\t}: TextMedia) {\n\t\tsuper();\n\n\t\tthis.element = textTemplate({\n\t\t\ttitle,\n\t\t\tcredits,\n\t\t\tsrc: sanitize(src),\n\t\t});\n\t}\n}\n\nclass Audio extends Media {\n\tautoplay: boolean;\n\taudio: HTMLAudioElement;\n\n\tconstructor({\n\t\tautoplay = false,\n\t\tloop,\n\t\tsources,\n\t}: AudioMedia) {\n\t\tsuper();\n\n\t\tthis.autoplay = autoplay;\n\n\t\tthis.element = audioTemplate({\n\t\t\tloop,\n\t\t\tsources,\n\t\t});\n\t\tthis.audio = downcast(this.element.querySelector('audio'), HTMLAudioElement);\n\t}\n\n\tcollapse() {\n\t\t// Audio is auto-paused when detached from DOM\n\t\tif (!this.isAttached()) return;\n\n\t\tthis.autoplay = !this.audio.paused;\n\t\tif (!this.audio.paused) this.audio.pause();\n\t}\n\n\texpand() {\n\t\tif (this.autoplay) this.audio.play();\n\t}\n}\n\nclass Generic extends Media {\n\tconstructor(options: GenericMedia) {\n\t\tsuper();\n\n\t\tthis.onAttach = options.onAttach;\n\n\t\tthis.element = document.createElement('div');\n\t\tthis.element.appendChild(options.generate());\n\t}\n\n\t// Always remove content, in case it contains audio or other unwanted things\n\tcollapse() {\n\t\tthis.element.remove();\n\t}\n}\n\nconst trackVisitNative = batch(async things => {\n\t// this API only works for gold users\n\tif (!document.body.classList.contains('gold')) return;\n\n\tif (isPrivateBrowsing()) return;\n\n\tawait ajax({\n\t\tmethod: 'POST',\n\t\turl: '/api/store_visits',\n\t\tdata: { links: things.map(t => t.getFullname()).join(',') },\n\t});\n}, { delay: 10000, size: 50 });\n\nfunction trackMediaLoad(link, thing) {\n\tif (!module.options.markVisited.value) return;\n\n\tif (thing) trackVisitNative(thing);\n\n\tif (!(thing && thing.isNSFW() && module.options.sfwHistory.value !== 'add')) {\n\t\taddURLToHistory(link.href);\n\t}\n}\n\nfunction addSiteAttribution(siteModule, media) {\n\tconst $element = $(siteAttributionTemplate({\n\t\tname: siteModule.name,\n\t\turl: siteModule.landingPage || `https://${siteModule.domains[0]}`,\n\t\tlogoUrl: siteModule.logo,\n\t\tsettingsLink: SettingsNavigation.makeUrlHash(module.moduleID, siteModuleOptionKey(siteModule)),\n\t}));\n\tconst $replace = $('.res-expando-siteAttribution', media.element);\n\tif ($replace.length) {\n\t\t$element.replaceAll($replace);\n\t} else {\n\t\t$element.addClass('res-expando-siteAttribution-generic').appendTo(media.element);\n\t}\n}\n\nfunction addDragListener({ media, element, atShiftKey, onStart, onMove }: {|\n\tmedia: HTMLElement,\n\telement: HTMLElement,\n\tatShiftKey: boolean,\n\tonStart?: (x: number, y: number) => void,\n\tonMove: (x: number, y: number, moveX: number, moveY: number) => void,\n|}) {\n\t// Invoke handleMove immediately to avoid pauses, but only once per frame\n\tlet hasFrameExecution = false;\n\tconst setFrameExecution = (() => {\n\t\tconst throttle = frameThrottle(() => { hasFrameExecution = false; });\n\t\treturn () => {\n\t\t\tthrottle();\n\t\t\thasFrameExecution = true;\n\t\t};\n\t})();\n\n\tlet isActive, hasMoved, lastX, lastY;\n\n\tconst handleMove = (e: MouseEvent) => {\n\t\tconst movementX = e.clientX - lastX;\n\t\tconst movementY = e.clientY - lastY;\n\n\t\tif (!movementX && !movementY) {\n\t\t\t// Mousemove may be triggered even without movement\n\t\t\treturn;\n\t\t} else if (1 & ~e.buttons) {\n\t\t\t// Mouseup may not trigger in some circumstances\n\t\t\tstop();\n\t\t\treturn;\n\t\t} else if (atShiftKey !== e.shiftKey) {\n\t\t\tisActive = false;\n\t\t\t({ clientX: lastX, clientY: lastY } = e);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!isActive) {\n\t\t\tif (onStart) onStart(lastX, lastY);\n\t\t\tisActive = true;\n\t\t\thasMoved = true;\n\t\t\trequestAnimationFrame(() => { media.classList.add('res-media-dragging'); });\n\t\t}\n\n\t\tif (hasFrameExecution) return;\n\t\tsetFrameExecution();\n\n\t\tonMove(e.clientX, e.clientY, movementX, movementY);\n\t\t({ clientX: lastX, clientY: lastY } = e);\n\t};\n\n\tfunction handleClick(e: Event) {\n\t\tif (hasMoved) e.preventDefault();\n\t}\n\n\tfunction stop() {\n\t\trequestAnimationFrame(() => { media.classList.remove('res-media-dragging'); });\n\n\t\tdocument.removeEventListener('mousemove', handleMove);\n\t\tdocument.removeEventListener('mouseup', stop);\n\n\t\t// `handleClick` is only invoked if the mouse target is `element`\n\t\t// `setTimeout` is necessary since `mouseup` is emitted before `click`\n\t\tsetTimeout(() => document.removeEventListener('click', handleClick));\n\t}\n\n\tfunction initiate(e: MouseEvent) {\n\t\tif (e.button !== 0) return;\n\n\t\t({ clientX: lastX, clientY: lastY } = e);\n\n\t\thasMoved = false;\n\t\tisActive = false;\n\n\t\tdocument.addEventListener('mousemove', handleMove);\n\t\tdocument.addEventListener('mouseup', stop);\n\t\tdocument.addEventListener('click', handleClick);\n\n\t\te.preventDefault();\n\t}\n\n\telement.addEventListener('mousedown', initiate);\n}\n\n// When videos is added, this will pause or play them individually depending on their visibility\nconst mutedVideoManager = _.once(() => {\n\tconst maxSimultaneousPlaying = parseInt(module.options.maxSimultaneousPlaying.value, 10) || Infinity;\n\tconst videos: HTMLVideoElement[] = [];\n\n\tconst updatePlay = frameThrottle(() => {\n\t\tconst all = videos.map(video => {\n\t\t\tconst thing = Thing.from(video);\n\t\t\treturn {\n\t\t\t\tvideo,\n\t\t\t\tvisibility: getPercentageVisibleYAxis(video),\n\t\t\t\ttop: video.getBoundingClientRect().top,\n\t\t\t\tselected: Number(thing && thing.isSelected()),\n\t\t\t};\n\t\t});\n\n\t\tconst notVisible = all.filter(({ visibility }) => visibility === 0);\n\t\tfor (const { video } of notVisible) if (!video.paused) video.pause();\n\n\t\t_.without(all, ...notVisible)\n\t\t\t.sort((a, b) => b.selected - a.selected || b.visibility - a.visibility || a.top - b.top)\n\t\t\t.forEach(({ video }, index) => {\n\t\t\t\tconst play = index < maxSimultaneousPlaying;\n\t\t\t\tif (play === video.paused) {\n\t\t\t\t\tif (play) video.play();\n\t\t\t\t\telse video.pause();\n\t\t\t\t}\n\t\t\t});\n\t});\n\n\tlet intervalId = null;\n\n\treturn {\n\t\tobserve(video) {\n\t\t\tvideos.push(video);\n\t\t\tupdatePlay();\n\t\t\tif (intervalId === null) intervalId = setInterval(updatePlay, 100);\n\t\t},\n\t\tunobserve(video) {\n\t\t\t_.pull(videos, video);\n\t\t\tif (!videos.length && intervalId) {\n\t\t\t\tclearInterval(intervalId);\n\t\t\t\tintervalId = null;\n\t\t\t}\n\t\t},\n\t};\n});\n\nclass Video extends Media {\n\tstatic volumeStorage = Storage.wrap('showImages.video.volume', (1: number));\n\n\tvideo: HTMLVideoElement;\n\tautoplay: boolean;\n\ttime: number;\n\tframeRate: number;\n\tuseVideoManager: boolean;\n\n\tconstructor({\n\t\ttitle,\n\t\tcaption,\n\t\tcredits,\n\t\tfallback,\n\t\tframeRate = 24,\n\t\thref,\n\t\tloop = false,\n\t\tmuted = false,\n\t\tplaybackRate = 1,\n\t\tposter,\n\t\treversable = false,\n\t\treversed = false,\n\t\tsource,\n\t\tsources,\n\t\ttime = 0,\n\t}: VideoMedia, context) {\n\t\tsuper();\n\n\t\tthis.useVideoManager = module.options.onlyPlayMutedWhenVisible.value && muted;\n\n\t\tthis.autoplay = muted || module.options.autoplayVideo.value;\n\t\tthis.time = time;\n\t\tthis.frameRate = frameRate;\n\n\t\tthis.element = videoTemplate({\n\t\t\ttitle,\n\t\t\tcaption,\n\t\t\tcredits,\n\t\t\thref: href || context.href,\n\t\t\tsource,\n\t\t\t// Prevent poster from flashing before the video is ready when autoplaying\n\t\t\tposter: !this.autoplay && poster || '',\n\t\t\thasAudio: !muted,\n\t\t\tloop,\n\t\t\treversable,\n\t\t\topenInNewWindow: module.options.openInNewWindow.value,\n\t\t\tformattedPlaybackRate: this.formatMultilineNumber(playbackRate, 'x'),\n\t\t});\n\t\tthis.video = downcast(this.element.querySelector('video'), HTMLVideoElement);\n\t\tconst container = this.element.querySelector('.res-video-container');\n\n\t\tconst msgError = this.element.querySelector('.res-video-error');\n\t\tconst displayError = (error: Error | ProgressEvent) => {\n\t\t\tif (msgError.hidden) {\n\t\t\t\tmsgError.hidden = false;\n\t\t\t\t$('<span>').text(`Could not play video: ${error.message ? String(error.message) : 'Unknown error'}`).appendTo(msgError);\n\t\t\t}\n\t\t};\n\n\t\tconst sourceElements = $(_.compact(sources.map(v => {\n\t\t\tif (!this.video.canPlayType(v.type)) return null;\n\t\t\tconst source = document.createElement('source');\n\t\t\tsource.src = v.source;\n\t\t\tsource.type = v.type;\n\t\t\tif (v.reverse) source.dataset.reverse = v.reverse;\n\t\t\treturn source;\n\t\t}))).appendTo(this.video).get();\n\n\t\tif (!sourceElements.length) {\n\t\t\tif (fallback) {\n\t\t\t\treturn new Image({ // eslint-disable-line no-constructor-return\n\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\ttitle,\n\t\t\t\t\tcaption,\n\t\t\t\t\tcredits,\n\t\t\t\t\tsrc: fallback,\n\t\t\t\t}, context);\n\t\t\t} else {\n\t\t\t\tdisplayError(new Error('No playable sources were found'));\n\t\t\t}\n\t\t}\n\n\t\tconst lastSource = sourceElements[sourceElements.length - 1];\n\t\tlastSource.addEventListener('error', displayError);\n\n\t\tif (reversed) this.reverse();\n\n\t\tthis.ready = Promise.race([waitForEvent(this.video, 'suspend'), waitForEvent(lastSource, 'error')]);\n\n\t\tconst setPlayIcon = () => {\n\t\t\tif (!this.video.paused) this.element.setAttribute('playing', '');\n\t\t\telse this.element.removeAttribute('playing');\n\t\t};\n\n\t\tthis.video.addEventListener('pause', () => {\n\t\t\tsetPlayIcon();\n\t\t\t// If browser controls are shown, stop auto mananging since that could cause conflicts (e.g. force play when paused by user)\n\t\t\tif (this.video.controls && this.useVideoManager) mutedVideoManager().unobserve(this.video);\n\t\t});\n\t\tthis.video.addEventListener('play', setPlayIcon);\n\n\t\tthis.video.addEventListener('loadedmetadata', () => { if (this.time !== this.video.currentTime) this.video.currentTime = this.time; });\n\t\tthis.video.playbackRate = playbackRate;\n\n\t\t// Ignore events which might be meant for controls\n\t\tthis.video.addEventListener('mousedown', (e: MouseEvent) => {\n\t\t\tif (this.video.hasAttribute('controls')) {\n\t\t\t\tconst { height, top } = this.video.getBoundingClientRect();\n\t\t\t\tlet controlsBottomHeight = 0;\n\t\t\t\tif (process.env.BUILD_TARGET === 'firefox') controlsBottomHeight = 40;\n\t\t\t\tif ((height - controlsBottomHeight) < (e.clientY - top)) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tPromise.all([waitForEvent(this.element, 'mouseenter'), waitForEvent(this.video, 'loadedmetadata')])\n\t\t\t.then(() => this.addVideoControls());\n\n\t\tnew MutationObserver(() =>\n\t\t\tthis.element.classList.toggle('res-video-has-native-controls', this.video.hasAttribute('controls')),\n\t\t).observe(this.video, { attributes: true });\n\n\t\tif (!loop && this.autoplay) {\n\t\t\twaitForEvent(this.video, 'ended').then(() => this.stopAutoplay());\n\t\t}\n\n\t\tif (!muted) {\n\t\t\tif (module.options.startVideosMuted.value) this.video.muted = true;\n\t\t\tPromise.all([waitForEvent(this.video, 'canplay'), Video.volumeStorage.get()]).then(([, volume]) => {\n\t\t\t\tthis.video.volume = volume;\n\t\t\t});\n\t\t}\n\n\t\tthis.setMaxSize(this.video);\n\t\tthis.makeZoomable(this.video);\n\t\tthis.addControls(this.video, undefined, sources[0].source);\n\t\tthis.makeMovable(container);\n\t\tthis.keepVisible(container);\n\t\tthis.makeIndependent(container);\n\t}\n\n\treverse() {\n\t\tthis.time = this.video.duration - this.video.currentTime;\n\t\tif (isNaN(this.time)) this.time = 0;\n\n\t\tfor (const v of this.video.querySelectorAll('source')) {\n\t\t\t// $FlowIssue\n\t\t\t[v.src, v.dataset.reverse] = [v.dataset.reverse, v.src];\n\t\t}\n\n\t\tthis.video.load();\n\t\tthis.video.play();\n\n\t\t// $FlowIssue\n\t\tthis.element.toggleAttribute('reversed');\n\t}\n\n\tformatMultilineNumber(value: number, suffix: string) {\n\t\treturn `${value.toFixed(2).replace('.', '.\\u200B'/* zwsp */)}${suffix}`;\n\t}\n\n\taddVideoControls() {\n\t\tconst ctrlContainer = this.element.querySelector('.res-video-controls');\n\t\tconst ctrlReverse = ctrlContainer.querySelector('.res-video-reverse');\n\t\tconst ctrlTogglePause = ctrlContainer.querySelector('.res-video-toggle-pause');\n\t\tconst ctrlSpeedDecrease = ctrlContainer.querySelector('.res-video-speed-decrease');\n\t\tconst ctrlSpeedIncrease = ctrlContainer.querySelector('.res-video-speed-increase');\n\t\tconst ctrlTimeDecrease = ctrlContainer.querySelector('.res-video-time-decrease');\n\t\tconst ctrlTimeIncrease = ctrlContainer.querySelector('.res-video-time-increase');\n\n\t\tconst progress = this.element.querySelector('.res-video-progress');\n\t\tconst indicatorPosition = progress.querySelector('.res-video-position');\n\t\tconst ctrlPosition = progress.querySelector('.res-video-position-thumb');\n\n\t\tconst msgSpeed = ctrlContainer.querySelector('.res-video-speed');\n\t\tconst msgTime = ctrlContainer.querySelector('.res-video-time');\n\n\t\tctrlTogglePause.addEventListener('click', () => {\n\t\t\tif (this.video.paused) this.video.play(); else this.video.pause();\n\t\t\tif (this.video.paused) this.stopAutoplay();\n\t\t});\n\t\tif (ctrlReverse) ctrlReverse.addEventListener('click', () => this.reverse());\n\n\t\tctrlSpeedDecrease.addEventListener('click', () => { this.video.playbackRate /= 1.1; });\n\t\tctrlSpeedIncrease.addEventListener('click', () => { this.video.playbackRate *= 1.1; });\n\t\tctrlTimeDecrease.addEventListener('click', () => { this.video.currentTime -= 1 / this.frameRate; });\n\t\tctrlTimeIncrease.addEventListener('click', () => { this.video.currentTime += 1 / this.frameRate; });\n\n\t\tthis.video.addEventListener('ratechange', () => {\n\t\t\tmsgSpeed.textContent = this.formatMultilineNumber(this.video.playbackRate, 'x');\n\t\t});\n\t\tthis.video.addEventListener('timeupdate', () => {\n\t\t\tindicatorPosition.style.left = `${(this.video.currentTime / this.video.duration) * 100}%`;\n\t\t\tmsgTime.textContent = this.formatMultilineNumber(this.video.currentTime, 's');\n\t\t});\n\n\t\tprogress.addEventListener('mousemove', (e: MouseEvent) => {\n\t\t\tlet left = e.offsetX;\n\t\t\tif (e.target === ctrlPosition) { left += e.target.offsetLeft; }\n\t\t\tctrlPosition.style.left = `${left}px`;\n\n\t\t\tif (e.buttons === 1 /* left mouse button */) ctrlPosition.click();\n\t\t});\n\t\tctrlPosition.addEventListener('click', (e: MouseEvent) => {\n\t\t\tconst percentage = (e.target.offsetLeft + e.target.clientWidth / 2) / progress.clientWidth;\n\t\t\tthis.video.currentTime = this.video.duration * percentage;\n\t\t});\n\n\t\tconst ctrlVolume = ctrlContainer.querySelector('.res-video-volume');\n\t\tif (ctrlVolume) {\n\t\t\tconst ctrlVolumeLevel = ctrlVolume.querySelector('.res-video-volume-level');\n\t\t\tconst volumePercentage = ctrlVolume.querySelector('.res-video-volume-percentage');\n\n\t\t\tconst updateVolume = e => {\n\t\t\t\tconst base = ctrlVolumeLevel.clientHeight;\n\t\t\t\tconst click = base - e.offsetY;\n\t\t\t\tconst level = Math.min(click / base, 1);\n\t\t\t\tif (level > 0.05) {\n\t\t\t\t\tthis.video.volume = level;\n\t\t\t\t\tthis.video.muted = false;\n\t\t\t\t\tVideo.volumeStorage.set(level);\n\t\t\t\t} else {\n\t\t\t\t\tthis.video.muted = true;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tctrlVolume.addEventListener('click', () => {\n\t\t\t\tthis.video.muted = !this.video.muted;\n\t\t\t});\n\t\t\tctrlVolumeLevel.addEventListener('mousemove', (e: MouseEvent) => {\n\t\t\t\tif (e.buttons === 1 /* left mouse button */) updateVolume(e);\n\t\t\t});\n\t\t\tctrlVolumeLevel.addEventListener('click', (e: MouseEvent) => {\n\t\t\t\tupdateVolume(e);\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n\t\t\tconst refresh = () => {\n\t\t\t\tctrlVolume.setAttribute('level', (this.video.muted || !this.video.volume) ? '0' : String(Math.ceil(this.video.volume * 3)));\n\t\t\t\tvolumePercentage.style.height = `${this.video.volume * 100}%`;\n\t\t\t};\n\n\t\t\tthis.video.addEventListener('volumechange', refresh);\n\t\t\trefresh();\n\t\t}\n\t}\n\n\tstopAutoplay() {\n\t\tthis.autoplay = false;\n\t\tif (this.useVideoManager) mutedVideoManager().unobserve(this.video);\n\t}\n\n\tsupportsUnload() {\n\t\t// Due to issues brougth about by with `pause` and `play` being asynchronous and conserveMemory and mutedVideoManager\n\t\t// could end up in a race condition, only unload paused videoes\n\t\treturn this.video.paused;\n\t}\n\n\t_unload() {\n\t\t// Video is auto-paused when detached from DOM\n\t\tif (!this.isAttached()) return;\n\n\t\tif (!this.video.paused) this.video.pause();\n\n\t\tthis.time = this.video.currentTime;\n\t\tthis.video.setAttribute('src', ''); // this.video.src has precedence over any child source element\n\t\tthis.video.load();\n\n\t\tif (this.useVideoManager) mutedVideoManager().unobserve(this.video);\n\t}\n\n\t_restore() {\n\t\tif (this.video.hasAttribute('src')) {\n\t\t\tthis.video.removeAttribute('src');\n\t\t\tthis.video.load();\n\t\t}\n\n\t\tthis.video.currentTime = this.time;\n\n\t\tif (this.autoplay) {\n\t\t\tif (this.useVideoManager) mutedVideoManager().observe(this.video);\n\t\t\telse this.video.play();\n\t\t}\n\t}\n}\n\nexport function move(ele: HTMLElement, deltaX: number, deltaY: number): void {\n\tele.style.marginLeft = `${((parseFloat(ele.style.marginLeft) || 0) + deltaX).toFixed(2)}px`;\n\tele.style.marginTop = `${((parseFloat(ele.style.marginTop) || 0) + deltaY).toFixed(2)}px`;\n\n\tif (deltaY) ele.dispatchEvent(new CustomEvent('mediaManuallyMovedVertically', { bubbles: true }));\n}\n\nexport function resize(ele: HTMLElement, newWidth: number, newHeight?: number): void {\n\t// ele should always be grippable, so ignore resizes that are too tiny\n\tif (newWidth < 20) return;\n\n\tif (typeof newHeight === 'number') {\n\t\tele.style.height = `${newHeight}px`;\n\t} else if (ele.style.height) { // If height is previously set, keep the ratio\n\t\tconst { width, height } = ele.getBoundingClientRect();\n\t\tele.style.height = `${((height / width) * newWidth).toFixed(2)}px`;\n\t}\n\n\tele.style.width = `${newWidth}px`;\n\tele.style.maxWidth = ele.style.maxHeight = 'none';\n}\n","/* @flow */\n\nimport * as ShowImages from '../../showImages';\nimport { Expando as E /* avoids name conflict */ } from '../../showImages/expando';\nimport { Case } from '../Case';\n\nexport class Expando extends Case {\n\tstatic text = 'Expando';\n\n\tstatic parseCriterion(input: string) { return { types: input.split(/[\\s|]/).filter(Boolean) }; }\n\tstatic thingToCriterion(thing: *) {\n\t\tconst expando = thing.isPost() ? E.getEntryExpandoFrom(thing) : E.getTextExpandosFrom(thing)[0];\n\t\treturn expando && expando.types.join(' & ') || '';\n\t}\n\n\tstatic defaultConditions = { types: [] };\n\tstatic fields = ['post has expando, and (if specified) expando types intersects with ', { type: 'checkset', items: ShowImages.types, id: 'types' }];\n\tstatic slow = 9; // In order to evaluate whether an expando matches, the expando must be built first (which is slow due to API requests)\n\n\tstatic pattern = `[(${ShowImages.types.join('|')})]`;\n\tstatic criterionOperators = true;\n\n\ttrueText = this.conditions.types.length ? `expando ${this.conditions.types.join('|')}` : 'expando';\n\n\tisValid() { return ShowImages.matchesTypes(this.value.types); }\n\n\t_matches(e: ?E) {\n\t\tif (!e) return false;\n\t\tif (!e.ready) return null;\n\t\treturn ShowImages.matchesTypes(this.value.types, e.types);\n\t}\n\n\t_waitTillReady(thing: *) {\n\t\tconst completeTask = thing.tasks.byId.get(ShowImages.module);\n\t\tif (completeTask) {\n\t\t\tconst promise = completeTask();\n\t\t\tif (!(promise instanceof Promise)) return;\n\t\t\t// Wait at most 1.5 s for the task; if it takes longer, refresh this filter when it's done\n\t\t\treturn Promise.race([\n\t\t\t\tpromise.catch(() => { /* resolve also when it rejects */ }),\n\t\t\t\tnew Promise((res, rej) => setTimeout(rej, 1500)),\n\t\t\t]).catch(() => {\n\t\t\t\tpromise.finally(() => { this.refresh(); });\n\t\t\t});\n\t\t}\n\t}\n\n\tasync evaluate(thing: *) {\n\t\tawait this._waitTillReady(thing);\n\n\t\tif (thing.isPost()) {\n\t\t\tconst expando = E.getEntryExpandoFrom(thing);\n\t\t\treturn this._matches(expando);\n\t\t} else {\n\t\t\tconst expandos = E.getTextExpandosFrom(thing);\n\t\t\tconst res = expandos.map(this._matches.bind(this));\n\t\t\tif (res.some(Boolean)) return true;\n\t\t\tif (res.some(v => v === null)) return null;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tonObserve() {\n\t\treturn true;\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class IsLocked extends Case {\n\tstatic text = 'Locked';\n\n\tstatic fields = ['post is locked'];\n\tstatic unique = true;\n\n\ttrueText = 'locked';\n\n\tevaluate(thing: *) {\n\t\treturn thing.isLocked();\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class IsNSFW extends Case {\n\tstatic text = 'NSFW';\n\n\tstatic fields = ['post is marked NSFW'];\n\n\tstatic unique = true;\n\n\ttrueText = 'nsfw';\n\n\tevaluate(thing: *) {\n\t\treturn thing.isNSFW();\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class IsSpoiler extends Case {\n\tstatic text = 'Spoiler';\n\n\tstatic fields = ['post is marked spoiler'];\n\n\tstatic unique = true;\n\n\ttrueText = 'spoiler';\n\n\tevaluate(thing: *) {\n\t\treturn thing.isSpoiler();\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { isURLVisited } from '../../../environment';\n\nexport class IsVisited extends Case {\n\t/* Not available for Edge, it lacks isURLVisited */\n\tstatic text = 'Visited';\n\n\tstatic fields = ['link has been visited'];\n\tstatic slow = 2;\n\n\tstatic unique = true;\n\n\ttrueText = 'visited';\n\n\tevaluate(thing: *) {\n\t\tif (thing.element.classList.contains('visited')) return true;\n\n\t\tconst link = thing.getPostLink();\n\t\tif (!link) return null;\n\t\treturn isURLVisited(link.href);\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class LinkFlair extends PatternCase {\n\tstatic text = 'Link flair';\n\n\tstatic thingToCriterion(thing: *) { return thing.getPostFlairText(); }\n\n\tstatic fields = ['post has link flair matching ', { type: 'text', id: 'patt' }];\n\n\tstatic pattern = '[RegEx]';\n\n\ttrueText = `link flair ${this.conditions.patt}`.trim();\n\n\tvalue = this.build(false, '/./');\n\n\tevaluate(thing: *) {\n\t\tconst text = thing.getPostFlairText();\n\t\treturn this.value.some(v => v.test(text));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class PostAfter extends Case {\n\tstatic text = 'Post after';\n\n\tstatic parseCriterion(input: *) { return { patt: input }; }\n\tstatic thingToCriterion(thing: *) { return thing.getTimestamp().toISOString(); }\n\n\tstatic defaultConditions = { patt: (new Date()).toISOString() };\n\tstatic fields = ['posted after date ', { type: 'text', id: 'patt' }];\n\n\tstatic pattern = 'Date  string representing a RFC2822 or ISO 8601 date';\n\n\ttrueText = `after ${this.conditions.patt}`;\n\n\tvalue = new Date(this.conditions.patt);\n\n\tisValid() { return !isNaN(this.value); }\n\n\tevaluate(thing: *) {\n\t\tconst postTime = thing.getTimestamp();\n\t\tif (!postTime) return null;\n\t\treturn postTime >= this.value;\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nconst qualifiers = [['Y', 12], ['M', 30.44], ['d', 24], ['h', 60], ['m', 60], ['s', 1000]];\nconst now = new Date();\n\nfunction prettifyAge(remainder) {\n\tlet remainderQualifier = '';\n\tfor (const [qualifier, multiplier] of qualifiers.slice().reverse()) {\n\t\tif (remainder < multiplier) break;\n\t\tremainder /= multiplier;\n\t\tremainderQualifier = qualifier;\n\t}\n\n\treturn remainder.toFixed(2) + remainderQualifier;\n}\n\nexport class PostAge extends Case {\n\tstatic text = 'Post age';\n\n\tstatic parseCriterion(input: *) {\n\t\tlet age = parseInt(input, 10);\n\t\tif (isNaN(age)) throw new Error('Invalid age');\n\n\t\tconst ageQualifier = _.head(input.match(/Y|M|d|h|m|s/)) || 's';\n\t\tage = _.dropWhile(qualifiers, ([qualifier]) => qualifier !== ageQualifier)\n\t\t\t.reduce((a, [, multiplier]) => a * multiplier, age);\n\n\t\treturn { op: '<=', age };\n\t}\n\n\tstatic thingToCriterion(thing: *) {\n\t\tconst remainder = (now - new Date(thing.getTimestamp()));\n\t\tif (isNaN(remainder)) throw new Error('Could not determine Thing date');\n\t\treturn prettifyAge(remainder);\n\t}\n\n\tstatic defaultConditions = { op: '<=', age: 4 * 60 * 60 * 1000 };\n\tstatic fields = ['post is ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'duration', id: 'age' }, ' old'];\n\n\tstatic pattern = 'x[(Y|M|d|h|m)]  where x is the number of seconds or Y year, M month, h hour, m minute (case sensitive)';\n\n\ttrueText = `age ${prettyOperator(this.conditions.op)} ${prettifyAge(this.conditions.age)}`;\n\tfalseText = `age ${prettyOperator(inverseOperator(this.conditions.op))} ${prettifyAge(this.conditions.age)}`;\n\n\tevaluate(thing: *) {\n\t\tconst postTime = thing.getTimestamp();\n\t\tif (!postTime) return null;\n\t\treturn numericalCompare(this.value.op, now - postTime, this.value.age);\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class PostTitle extends PatternCase {\n\tstatic text = 'Post title';\n\n\tstatic fields = ['post\\'s title contains ', { type: 'text', id: 'patt' }];\n\n\ttrueText = `title contains ${this.conditions.patt}`;\n\n\tvalue = this.build(false);\n\n\tevaluate(thing: *) {\n\t\tconst title = thing.getTitle();\n\t\treturn this.value.some(v => v.test(title));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nconst options = [\n\t['link post', 'link'],\n\t['self post', 'self'],\n];\n\nexport class PostType extends Case {\n\tstatic text = 'Post type';\n\n\tstatic parseCriterion(input: *) { return { kind: input }; }\n\n\tstatic defaultConditions = { kind: 'link' };\n\tstatic fields = ['post is a ', { type: 'select', id: 'kind', options }];\n\n\tstatic pattern = `(${options.map(([, cls]) => cls).join('|')})`;\n\n\ttrueText = `type ${this.conditions.kind}`;\n\n\tisValid() { return options.map(([, cls]) => cls).includes(this.value.kind); }\n\n\tevaluate(thing: *) {\n\t\tswitch (this.value.kind) {\n\t\t\tcase 'link': return thing.isLinkPost();\n\t\t\tcase 'self': return thing.isSelfPost();\n\t\t\tdefault: return null;\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nexport class Score extends Case {\n\tstatic text = 'Score';\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['post has ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' points'];\n\n\tstatic parseCriterion(input: *) { return { op: '>=', val: parseInt(input, 10) }; }\n\tstatic thingToCriterion(thing: *) { return String(thing.getScore()); }\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `score ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `score ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return Number.isInteger(this.value.val); }\n\n\tevaluate(thing: *) {\n\t\tconst score = thing.getScore();\n\t\tif (isNaN(score)) return null;\n\t\treturn numericalCompare(this.value.op, score, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Case } from '../Case';\n\nexport class Selector extends Case {\n\tstatic text = 'Selector';\n\n\tstatic parseCriterion(input: *) { return { patt: input }; }\n\n\tstatic defaultConditions = { patt: '' };\n\tstatic fields = ['thing matches jQuery selector ', { type: 'text', id: 'patt' }];\n\tstatic slow = 10; // Can cause reflow, e.g. by using `:contains()`\n\n\tstatic pattern = 'string';\n\n\ttrueText = `$('${this.conditions.patt.replace(/\\'/g, '\\\\\\'')}')`;\n\tfalseText = `$(':not(${this.conditions.patt.replace(/\\'/g, '\\\\\\'')}'))`;\n\n\tisValid() { return this.value.patt && !!$(this.value.patt); }\n\n\tevaluate(thing: *) {\n\t\treturn $(thing.element).is(this.value.patt) ||\n\t\t\t$(thing.entry).is(this.value.patt) ||\n\t\t\t!!$(thing.entry).has(this.value.patt).length;\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class Subreddit extends PatternCase {\n\tstatic text = 'Subreddit';\n\n\tstatic thingToCriterion(thing: *) { return thing.getSubreddit(); }\n\n\tstatic fields = ['posted in /r/', { type: 'text', id: 'patt' }];\n\n\ttrueText = `in ${this.conditions.patt}`;\n\n\tvalue = this.build(true);\n\n\tevaluate(thing: *) {\n\t\tconst subreddit = thing.getSubreddit();\n\t\tif (!subreddit) return null;\n\t\treturn this.value.some(v => v.test(subreddit));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { loggedInUser } from '../../../utils';\n\nconst options = [\n\t['a friend', 'friend'],\n\t['a moderator', 'moderator'],\n\t['an admin', 'admin'],\n\t['me', 'me'],\n\t['op', 'submitter'],\n];\n\nexport class UserAttr extends Case {\n\tstatic text = 'User attribute';\n\n\tstatic parseCriterion(input: *) { return { attr: input }; }\n\n\tstatic fields = ['user is ', { type: 'select', id: 'attr', options }];\n\tstatic defaultConditions = { attr: 'friend' };\n\n\tstatic pattern = `(${options.map(([, cls]) => cls).join('|')})`;\n\n\ttrueText = `by ${this.conditions.attr}`;\n\n\tisValid() { return options.map(([, cls]) => cls).includes(this.value.attr); }\n\n\tevaluate(thing: *) {\n\t\tif (this.value.attr === 'me') {\n\t\t\t// No standard marker for my own posts so compare against the logged in user\n\t\t\tconst myName = loggedInUser();\n\t\t\tconst author = thing.getAuthor();\n\t\t\tif (!myName || !author) return null;\n\t\t\treturn author.trim().toLowerCase() === myName.trim().toLowerCase();\n\t\t} else {\n\t\t\t// The other cases have hardcoded class names\n\t\t\tconst element = thing.getAuthorElement();\n\t\t\tif (!element) return null;\n\t\t\treturn element.classList.contains(this.value.attr);\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class UserFlair extends PatternCase {\n\tstatic text = 'User flair';\n\n\tstatic thingToCriterion(thing: *) { return thing.getUserFlairText(); }\n\n\tstatic fields = ['author of this post has flair matching ', { type: 'text', id: 'patt' }];\n\n\tstatic pattern = '[RegEx]';\n\n\ttrueText = `user flair ${this.conditions.patt}`.trim();\n\n\tvalue = this.build(false, '/./');\n\n\tevaluate(thing: *) {\n\t\tconst text = thing.getUserFlairText();\n\t\treturn this.value.some(v => v.test(text));\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport { CreateElement, frameThrottle, string } from '../utils';\nimport { multicast } from '../environment';\nimport * as CommandLine from './commandLine';\nimport * as Menu from './menu';\n\nexport const module: Module<*> = new Module('customToggles');\n\nmodule.moduleName = 'customTogglesName';\nmodule.category = 'coreCategory';\nmodule.description = 'customTogglesDesc';\n\nmodule.options = {\n\ttoggle: {\n\t\tdescription: 'customTogglesToggleDesc',\n\t\ttitle: 'customTogglesToggleTitle',\n\t\ttype: 'table',\n\t\tfields: [{\n\t\t\tkey: 'key',\n\t\t\tname: 'key',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'enabled',\n\t\t\tname: 'enabled',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: true,\n\t\t}, {\n\t\t\tkey: 'text',\n\t\t\tname: 'text',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: ([]: Array<[string, boolean, string]>),\n\t},\n};\n\nconst toggles: Map<string, Toggle> = new Map();\nconst customToggles: Array<Toggle> = [];\n\nmodule.beforeLoad = () => {\n\tfor (const instance of module.options.toggle.value) {\n\t\tconst [key, initialEnabled, text] = instance;\n\n\t\tif (toggles.has(key)) {\n\t\t\tconsole.error(`A toggle with key ${key} already exists`, instance);\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst toggle = new Toggle(key, text, initialEnabled);\n\t\tcustomToggles.push(toggle);\n\n\t\ttoggle.onStateChange(() => {\n\t\t\t// Keep the settings data current to avoid overwriting modifications from other tabs\n\t\t\tinstance[1] = toggle.enabled;\n\n\t\t\t// For modules which update dynamically\n\t\t\t$(module).trigger($.Event('toggle')); // eslint-disable-line new-cap\n\t\t});\n\n\t\ttoggle.onToggle(() => {\n\t\t\tOptions.save(module.options.toggle);\n\t\t});\n\n\t\ttoggle.addMenuItem();\n\t}\n};\n\nmodule.contentStart = () => {\n\tregisterCommandLine();\n};\n\nexport class Toggle {\n\ttext: string;\n\tenabled: boolean;\n\n\tstateChangeCallbacks: Array<() => void> = []; // Invoked on all tabs\n\ttoggleCallbacks: Array<(type: 'multicast' | 'auto' | 'manual') => void> = []; // Invoked on the tab which caused the change\n\n\tmulticast: boolean => any;\n\n\tconstructor(key: string, text: *, enabled: *) {\n\t\tthis.text = text;\n\t\tthis.enabled = enabled;\n\n\t\tthis.multicast = multicast(frameThrottle((enabled: boolean) => {\n\t\t\tthis.toggle('multicast', enabled);\n\t\t}), { local: false, name: `toggle.${key}` });\n\n\t\ttoggles.set(key, this);\n\t}\n\n\ttoggle(type: * = 'manual', state: boolean = !this.enabled) {\n\t\tif (this.enabled === state) return;\n\t\tthis.enabled = state;\n\n\t\tfor (const callback of this.stateChangeCallbacks) callback();\n\t\tif (type !== 'multicast') {\n\t\t\tfor (const callback of this.toggleCallbacks) callback(type);\n\t\t\tthis.multicast(state);\n\t\t}\n\t}\n\n\tonStateChange(callback: *) {\n\t\tthis.stateChangeCallbacks.push(callback);\n\t}\n\n\tonToggle(callback: *) {\n\t\tthis.toggleCallbacks.push(callback);\n\t}\n\n\taddMenuItem(title: string = `Toggle ${this.text}`, order: number = 9, on?: string, off?: string) {\n\t\tMenu.addMenuItem(\n\t\t\t_.once(() => {\n\t\t\t\tconst item = string.html`<div title=\"${title}\">${this.text || '\\u00A0'}</div>`;\n\t\t\t\tconst toggle = CreateElement.toggleButton(undefined, this.text, this.enabled, on, off);\n\t\t\t\titem.append(toggle);\n\t\t\t\tthis.onStateChange(() => { toggle.classList.toggle('enabled', this.enabled); });\n\t\t\t\treturn item;\n\t\t\t}),\n\t\t\te => {\n\t\t\t\tthis.toggle();\n\t\t\t\te.stopPropagation();\n\t\t\t},\n\t\t\torder,\n\t\t);\n\t}\n\n\taddCLI(commandPredicate: string) {\n\t\tCommandLine.registerCommand(commandPredicate, `${commandPredicate} - toggle ${this.text}`,\n\t\t\t() => ` ${this.enabled ? 'Disable' : 'Enable'} ${this.text}`,\n\t\t\t() => { this.toggle(); },\n\t\t);\n\t}\n\n\tbuildCheckbox(): HTMLInputElement {\n\t\tconst checkbox = document.createElement('input');\n\t\tcheckbox.setAttribute('type', 'checkbox');\n\t\tcheckbox.checked = this.enabled;\n\t\tcheckbox.addEventListener('change', () => { this.toggle('manual', checkbox.checked); });\n\t\tthis.onStateChange(() => { checkbox.checked = this.enabled; });\n\t\treturn checkbox;\n\t}\n}\n\nfunction registerCommandLine() {\n\tconst getToggles = val => Array.from(toggles.values())\n\t\t.filter(({ text }) => text.startsWith(val))\n\t\t.sort(({ text: a }, { text: b }) => a.localeCompare(b));\n\n\tCommandLine.registerCommand('toggle', 'toggle - toggle any custom toggle',\n\t\t(command, val) => getToggles(val).length ?\n\t\t\t`Toggle ${getToggles(val).map((toggle, i) => i === 0 ? `<b>${toggle.text}</b>` : toggle.text).join('|')}` :\n\t\t\t`No toggles matching <i>${val}</i>`,\n\t\t(command, val) => {\n\t\t\tconst match = getToggles(val)[0];\n\t\t\tif (match) match.toggle();\n\t\t\telse return `${val} does not match a valid toggle`;\n\t\t},\n\t);\n}\n\nexport function toggleActive(key: string): boolean {\n\tconst toggle = toggles.get(key);\n\treturn !!toggle && toggle.enabled;\n}\n\n// Stage may have the most recent toggles, in case this is invoked while in settingsConsole\nexport const getToggles = () => (Options.stage.get(module.moduleID) || module.options)\n\t.toggle.value.map(([key, , text]) => ({ key, text }));\n","/* @flow */\n\nimport _ from 'lodash';\nimport type { Thing } from '../../utils';\nimport {\n\tfastAsync,\n\tstring,\n} from '../../utils';\nimport type { FilterStorageValues } from '../filteReddit';\nimport { Case } from './Case';\nimport type { Filterline } from './Filterline';\n\nexport class Filter {\n\tid: string;\n\tname: string;\n\tparent: ?Filterline;\n\n\tupdatePromise: ?Promise<*>;\n\n\tBaseCase: Class<Case>;\n\tcase: Case;\n\tstate: boolean;\n\n\tactive: boolean = false;\n\n\telement: HTMLElement;\n\n\teffects: { [key: string]: boolean } = {};\n\n\tconstructor(id: *, BaseCase: *, name: *, conditions: * = null, state: * = true, effects: * = {}) {\n\t\tthis.id = id;\n\t\tthis.BaseCase = BaseCase;\n\t\tthis.name = name;\n\t\tthis.state = state;\n\t\t// Add only active effects in order to minimize the number of effects to keep track of\n\t\tObject.assign(this.effects, _.pickBy(effects, Boolean));\n\t\tthis.setCase(BaseCase.fromConditions(conditions));\n\t}\n\n\tisActive() {\n\t\treturn !!this.getEffects().length && this.case.isEvaluatable();\n\t}\n\n\tcreateElement() {}\n\n\tsetParent(parent: *) {\n\t\tthis.parent = parent;\n\t}\n\n\tgetStateText(state: boolean = this.state, cased: Case = this.case): string {\n\t\treturn state !== false ?\n\t\t\tthis.name || cased.trueText || (this.BaseCase.text || this.BaseCase.type).toLowerCase() :\n\t\t\tthis.name && ` ${this.name}` || cased.falseText || ` ${this.getStateText(true, cased)}`;\n\t}\n\n\tgetSaveValues() {\n\t\tconst values: FilterStorageValues = { type: this.BaseCase.type, state: this.state, effects: this.effects };\n\n\t\tif (this.BaseCase.variant === 'basic') {\n\t\t\tvalues.conditions = this.case.conditions;\n\n\t\t\tif (this.name && this.name !== this.case.trueText) {\n\t\t\t\tvalues.name = this.name;\n\t\t\t}\n\t\t}\n\n\t\treturn values;\n\t}\n\n\tremove() {\n\t\tfor (const effect of Object.keys(this.effects)) this.effects[effect] = false;\n\t\tif (this.parent) this.parent.removeFilter(this);\n\t}\n\n\tgetEffects(): Array<string> {\n\t\treturn Object.entries(this.effects).filter(([, enabled]) => enabled).map(([name]) => name);\n\t}\n\n\tsetCase(newCase: Case) {\n\t\tthis.case = newCase;\n\t\tthis.active = this.isActive(); // XXX Make sure to update this anytime effects or case changes\n\t\tif (this.active) this.case.observe(this);\n\t}\n\n\tupdate(state: boolean = this.state, conditions?: *, effects: * = {}, describeOnly: boolean = false) {\n\t\tconst cased = conditions === undefined ? this.case : this.BaseCase.fromConditions(conditions, true);\n\t\tif (!cased.isValid()) throw new Error('Invalid conditions');\n\n\t\tif (describeOnly) {\n\t\t\treturn `Show only posts which matches \"${this.getStateText(state, cased)}\"`;\n\t\t}\n\n\t\tthis.state = state;\n\t\tObject.assign(this.effects, effects);\n\t\tthis.setCase(cased);\n\n\t\tthis.refresh();\n\t\tif (this.parent) this.parent.save();\n\t}\n\n\trefresh = (thing?: Thing) => {\n\t\tif (!this.parent) return;\n\t\tthis.updatePromise = this.parent.refresh(this, thing ? [thing] : undefined);\n\t};\n\n\tasync updateByInputConstruction({\n\t\tcriterion,\n\t\tdisableFilter,\n\t\treverseActive,\n\t\tfromSelected,\n\t}: {\n\t\tcriterion?: string,\n\t\tdisableFilter?: boolean,\n\t\treverseActive?: boolean,\n\t\tfromSelected?: boolean,\n\t}, describeOnly?: boolean = false): Promise<?string> {\n\t\tif (disableFilter) {\n\t\t\tif (describeOnly) return 'Disable filter';\n\t\t\treturn this.update(undefined, undefined, { hide: false });\n\t\t}\n\n\t\tlet state, conditions;\n\n\t\tif (fromSelected) {\n\t\t\t({ state, conditions } = await this.BaseCase.getSelectedEntryValue());\n\t\t} else {\n\t\t\tif (criterion) conditions = this.BaseCase.criterionToConditions(criterion);\n\t\t\tstate = this.state;\n\t\t}\n\n\t\tif (reverseActive) state = !state;\n\n\t\treturn this.update(state, conditions, { hide: true }, describeOnly);\n\t}\n\n\tmatches = fastAsync(function*(thing: Thing) {\n\t\ttry {\n\t\t\tconst result = yield this.case.evaluate(thing);\n\t\t\treturn result === null ? false : this.state === !result;\n\t\t} catch (e) {\n\t\t\t// evaluate may fail due to `downcast` etc\n\t\t\treturn false;\n\t\t}\n\t});\n\n\tgetMatchingEntry(thing: Thing) { // eslint-disable-line no-unused-vars\n\t\treturn this.case.conditions;\n\t}\n\n\tremoveEntry(entry: *, effect: string) { // eslint-disable-line no-unused-vars\n\t\tthis.update(undefined, undefined, { [effect]: false });\n\t}\n\n\tasync buildReasonElement(thing: Thing, effect: string) {\n\t\tconst entry = await this.getMatchingEntry(thing);\n\t\tconst element = string.html`\n\t\t\t<div class=\"res-thing-filter-remove-matching-entry\" title=\"${JSON.stringify(entry, null, '  ')}\">\n\t\t\t\t${effect}: ${this.getStateText(!this.state)}  click to remove matching filter entry\n\t\t\t</div>\n\t\t`;\n\t\telement.addEventListener('click', () => { this.removeEntry(entry, effect); });\n\t\treturn element;\n\t}\n}\n","/* @flow */\n\nimport { string, CreateElement } from '../../utils';\nimport * as FilteReddit from '../filteReddit';\nimport * as SettingsNavigation from '../settingsNavigation';\nimport * as Cases from './cases';\nimport { Filter } from './Filter';\n\nexport class ExternalFilter extends Filter {\n\ttoggleEffects: $ReadOnlyArray<string> = ['hide'];\n\n\tisActive() {\n\t\t// If the case will always evaluate false, prevent this filter from making Filterline believe it's being useful\n\t\treturn this.case.constructor.type !== 'false' && super.isActive();\n\t}\n\n\tcreateElement() {\n\t\tthis.element = string.html`\n\t\t\t<div class=\"res-filterline-external-filter\" type=\"${this.BaseCase.type}\">\n\t\t\t\t<div>${this.name || this.BaseCase.type}</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tif (FilteReddit.module.options.hasOwnProperty(this.BaseCase.type)) {\n\t\t\tthis.element.prepend(string.html`${string.safe(\n\t\t\t\tSettingsNavigation.makeUrlHashLink(FilteReddit.module.moduleID, this.BaseCase.type, ' ', 'gearIcon'),\n\t\t\t)}`);\n\t\t}\n\n\t\tconst setActive = active => {\n\t\t\tconst effects = this.toggleEffects\n\t\t\t\t.reduce((acc, val) => { acc[val] = active; return acc; }, {});\n\t\t\tthis.update(undefined, undefined, effects);\n\t\t};\n\n\t\tif (Cases.isUseful(this.case.constructor.type)) {\n\t\t\tconst t = CreateElement.toggleButton(setActive, null, this.isActive(), '', '');\n\t\t\tthis.element.appendChild(t);\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Sortable } from '../../vendor';\nimport {\n\tasyncFilter,\n\tcaseBuilder,\n\tstring,\n\twaitForEvent,\n\tdowncast,\n\tframeThrottle,\n} from '../../utils';\nimport * as CommentNavigator from '../commentNavigator';\nimport * as Hover from '../hover';\nimport * as FilteReddit from '../filteReddit';\nimport * as Cases from './cases';\nimport * as Modules from './../../core/modules';\nimport { Filter } from './Filter';\n\nexport class LineFilter extends Filter {\n\tinitialConditions: *;\n\n\tconstructor(id: *, BaseCase: *, name: *, conditions: * = null, state: * = true, effects: * = {}) {\n\t\tif (BaseCase.variant === 'ondemand') {\n\t\t\tconst externOpts = BaseCase._customFilter && BaseCase._customFilter.opts;\n\t\t\tif (externOpts) {\n\t\t\t\tif (!name) ({ name } = externOpts);\n\n\t\t\t\tif (!effects.hasOwnProperty('propagate')) {\n\t\t\t\t\tconst { propagate } = externOpts;\n\t\t\t\t\tObject.assign(effects, { propagate });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsuper(id, BaseCase, name, conditions, state, effects);\n\t}\n\n\tupdate(state: * = this.state, conditions?: *, effects: *, describeOnly: *) {\n\t\tif (this.BaseCase.variant === 'ondemand' && conditions && !describeOnly) {\n\t\t\tFilteReddit.updateCustomFilter(this.BaseCase.getCustomFilter(), { body: conditions });\n\t\t\tconditions = null; // Force create new case\n\t\t}\n\n\t\tconst message = super.update(state, conditions, effects, describeOnly);\n\t\tif (this.element) this.refreshElement();\n\t\treturn message;\n\t}\n\n\tsetParent(parent: *) {\n\t\tsuper.setParent(parent);\n\t\tthis.getBuilder.cache.clear();\n\t}\n\n\tcreateElement() {\n\t\tthis.element = string.html`<div class=\"res-filterline-filter\" type=\"${this.BaseCase.type}\"></div>`;\n\t\tthis.refreshElement();\n\n\t\tthis.element.addEventListener('click', () => {\n\t\t\tif (!this.effects.hide) this.update(undefined, undefined, { hide: true });\n\t\t\telse if (this.state) this.update(false, undefined, { hide: true });\n\t\t\telse this.update(true, undefined, { hide: false });\n\t\t});\n\n\t\tthis.element.addEventListener('contextmenu', (e: Event) => { // Right click\n\t\t\tif (this.effects.hide) this.update(undefined, undefined, { hide: false });\n\t\t\telse this.remove();\n\t\t\te.preventDefault(); // Do not show context menu\n\t\t});\n\n\t\tthis.element.addEventListener('mouseenter', async () => {\n\t\t\t// To prevent this from triggering and clearing other cards when moving the curser quickly through,\n\t\t\t// wait a little in order to be sure about the user's intent\n\t\t\tawait new Promise(res => setTimeout(res, 150));\n\t\t\tif (this.element.matches(':hover')) this.showInfocard();\n\t\t});\n\t\t// When just clicking the button, avoid showing the infocard as it can be a nuisance\n\t\tthis.element.addEventListener('click', () => Hover.infocard('filterline-filter').resetShowTimer());\n\t\tthis.element.addEventListener('contextmenu', () => Hover.infocard('filterline-filter').resetShowTimer());\n\t}\n\n\tshowInfocard(immediately: boolean = false) {\n\t\tconst card = Hover.infocard('filterline-filter');\n\t\tif (card.visible) immediately = true;\n\t\tcard\n\t\t\t.target(this.element)\n\t\t\t.options({ width: 570, openDelay: immediately ? 0 : 550, pin: Hover.pin.bottom })\n\t\t\t.populateWith(this.populateHover.bind(this))\n\t\t\t.begin();\n\t}\n\n\trefreshElement() {\n\t\tthis.element.setAttribute('text', this.getStateText());\n\t\t// Don't display external filters that are not active\n\t\tthis.element.classList.toggle('res-filterline-filter-disabled', this.BaseCase.variant !== 'basic' && !this.case.isEvaluatable());\n\t\tthis.element.classList.toggle('res-filterline-filter-hiding', this.case.isEvaluatable() && !!this.effects.hide);\n\t}\n\n\t// Memoize in order to preserve the builder when infocard closes\n\tgetBuilder = _.memoize((filterline, card) => {\n\t\tconst builderCases = Cases.getByContext(filterline.thingType);\n\n\t\tlet lastConditions = this.case.conditions;\n\n\t\tif (this.BaseCase.variant === 'ondemand') {\n\t\t\tObject.assign(builderCases, Cases.getByContext('browse'));\n\n\t\t\t// Use customFilter conditions\n\t\t\tlastConditions = this.BaseCase.getCustomFilter().body;\n\t\t}\n\n\t\tif (!this.initialConditions) this.initialConditions = lastConditions;\n\n\t\tconst $builderBlock = caseBuilder.drawBuilderBlock(lastConditions, builderCases, false);\n\t\t$builderBlock.on('change input', frameThrottle(() => {\n\t\t\tconst conditions = caseBuilder.readBuilderBlock($builderBlock, builderCases);\n\t\t\tif (!_.isEqual(lastConditions, conditions)) {\n\t\t\t\tlastConditions = conditions;\n\t\t\t\tthis.update(undefined, conditions);\n\t\t\t\t// Keep track of what is focused when redrawing\n\t\t\t\tconst lastFocus = $builderBlock.get(0).contains(document.activeElement) && document.activeElement;\n\t\t\t\tif (lastFocus) card.refresh().then(() => lastFocus.focus());\n\t\t\t}\n\t\t}));\n\n\t\tSortable.create($builderBlock.get(0), { handle: '.handle' });\n\n\t\treturn {\n\t\t\tget builder() { return $builderBlock.get(0); },\n\t\t\tisCaseChanged: () => !_.isEqual(this.initialConditions, lastConditions),\n\t\t};\n\t});\n\n\tpopulateHover(card: *) {\n\t\tconst { parent: filterline } = this;\n\t\tif (!filterline) throw new Error('Filter not attached');\n\n\t\tconst redraw = () => {\n\t\t\tthis.getBuilder.cache.clear();\n\t\t\tcard.refresh();\n\t\t};\n\n\t\tconst head = string.html`\n\t\t\t<div class=\"res-filterline-filter-hover-preamble\">\n\t\t\t\t<span>Filter ${this.BaseCase.text}</span>\n\t\t\t\t<div class=\"res-filterline-filter-hover-group\" group=\"case-actions\">\n\t\t\t\t\t<div class=\"res-filterline-filter-hover-buttons\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tconst body = string.html`\n\t\t\t<div class=\"res-filterline-filter-hover\">\n\t\t\t\t<span class=\"res-filterline-filter-hover-options\"></span>\n\t\t\t\t<span>For posts (<span class=\"res-filterline-filter-hover-number-matches\"></span>) ${this.state ? 'not ' : ''}matching:</span>\n\t\t\t\t<div class=\"builderItem\"></div>\n\t\t\t\t<div class=\"res-filterline-filter-hover-notice\">${ // Keep element empty when no text due to :empty selector\n\tthis.BaseCase.variant === 'ondemand' && 'By adding browse context conditions such as \"Date\", \"Logged in user\", and \"Custom toggle\", you control where and when this filter is available.'}</div>\n\t\t\t\t<div class=\"res-filterline-filter-hover-group\" group=\"match-effects\">\n\t\t\t\t\t<div class=\"res-filterline-filter-hover-buttons\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"res-filterline-filter-hover-group\" group=\"match-actions\" hidden>\n\t\t\t\t\t<div class=\"res-filterline-filter-hover-buttons\"></div>\n\t\t\t\t</div>\n\t\t`;\n\n\t\tconst { builder, isCaseChanged } = this.getBuilder(filterline, card);\n\t\tbody.querySelector('.builderItem').appendChild(builder);\n\n\t\t// Focus first input in builder, since it's likely the user want to modify that condition\n\t\tsetTimeout(() => {\n\t\t\tif (!builder.contains(document.activeElement)) {\n\t\t\t\t// If an `input` element is not found, look for `select`\n\t\t\t\tconst e = [...builder.querySelectorAll('input'), ...builder.querySelectorAll('select')]\n\t\t\t\t\t.find(e => e.offsetParent);\n\t\t\t\tif (e) e.focus();\n\t\t\t}\n\t\t});\n\n\t\tif (filterline.thingType === 'comment') {\n\t\t\tconst options = body.querySelector('.res-filterline-filter-hover-options');\n\t\t\tconst propagate = string.html`<label style=\"display: flex; align-items: center;\"><input style=\"margin-right: 3px;\" type=\"checkbox\" ${this.effects.propagate && 'checked'}>Also hide children</label>`;\n\t\t\toptions.append(propagate);\n\t\t\twaitForEvent(propagate, 'change').then(() => {\n\t\t\t\tthis.effects.propagate = downcast(propagate.querySelector('input'), HTMLInputElement).checked;\n\t\t\t\tthis.refresh();\n\t\t\t}).then(redraw);\n\t\t}\n\n\t\tfunction addButton(container, text, groupName, action) {\n\t\t\tconst button = string.html`<button class=\"res-filterline-filter-hover-button\" action=\"${action}\">${text}</button>`;\n\t\t\tconst group = downcast(container.querySelector(`[group=${groupName}]`), HTMLElement);\n\t\t\tgroup.hidden = false;\n\t\t\tconst buttons = downcast(group.querySelector('.res-filterline-filter-hover-buttons'), HTMLElement);\n\t\t\tbuttons.appendChild(button);\n\t\t\treturn waitForEvent(button, 'click');\n\t\t}\n\n\t\tif (this.BaseCase.variant === 'basic' && this.BaseCase === Cases.Group) {\n\t\t\taddButton(head, 'To on-demand', 'case-actions', 'to-ondemand').then(() => {\n\t\t\t\tconst conditions = Cases.getGroup('all', [\n\t\t\t\t\tCases.getConditions('currentLocation'),\n\t\t\t\t\tCases.getGroup(this.state ? 'all' : 'none', [this.case.conditions]),\n\t\t\t\t]);\n\n\t\t\t\tif (!this.name) this.name = window.prompt('Filter name:');\n\n\t\t\t\tthis.BaseCase = FilteReddit.addOndemandCase(\n\t\t\t\t\tFilteReddit.addCustomFilter({\n\t\t\t\t\t\tbody: Cases.resolveGroup(conditions, false, true),\n\t\t\t\t\t\topts: {\n\t\t\t\t\t\t\tondemand: true,\n\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t);\n\n\t\t\t\tthis.update(true, null);\n\t\t\t}).then(redraw);\n\t\t}\n\n\t\tif (isCaseChanged()) {\n\t\t\taddButton(head, 'Reset change', 'case-actions', 'reset').then(() => {\n\t\t\t\tthis.update(undefined, this.initialConditions);\n\t\t\t}).then(redraw);\n\t\t}\n\n\t\tif (this.BaseCase.variant === 'ondemand' || this.BaseCase === Cases.Group) {\n\t\t\taddButton(head, 'Rename', 'case-actions', 'rename').then(() => {\n\t\t\t\tconst name = window.prompt('New filter name:', this.case.trueText);\n\t\t\t\tif (!name) return;\n\n\t\t\t\tif (this.BaseCase.variant === 'ondemand') {\n\t\t\t\t\tconst customFilter = this.BaseCase.getCustomFilter();\n\t\t\t\t\tFilteReddit.updateCustomFilter(customFilter, { opts: { name } });\n\t\t\t\t}\n\n\t\t\t\tthis.name = name;\n\t\t\t\tthis.update();\n\t\t\t}).then(redraw);\n\t\t}\n\n\t\taddButton(head, 'Invert', 'case-actions', 'invert')\n\t\t\t.then(() => { this.update(!this.state); })\n\t\t\t.then(redraw);\n\n\t\taddButton(head, 'Remove', 'case-actions', 'remove')\n\t\t\t.then(() => { this.remove(); })\n\t\t\t.then(card.close.bind(card));\n\n\t\taddButton(body, this.effects.hide ? 'Don\\'t hide' : 'Hide', 'match-effects', `hide-${this.effects.hide ? 'false' : 'true'}`)\n\t\t\t.then(() => { this.update(undefined, undefined, { hide: !this.effects.hide }); })\n\t\t\t.then(redraw);\n\n\t\taddButton(body, this.effects.highlight ? 'Don\\'t highlighting' : 'Highlight', 'match-effects', 'highlight').then(() => {\n\t\t\tthis.update(undefined, undefined, { highlight: !this.effects.highlight });\n\t\t}).then(redraw);\n\n\t\tif (Modules.isRunning(CommentNavigator) && !this.effects.hide) {\n\t\t\taddButton(body, 'Navigate by', 'match-actions', 'navigate-by').then(() => {\n\t\t\t\tCommentNavigator.updateCustomConditions(Cases.getGroup(this.state ? 'none' : 'all', [this.case.conditions]));\n\t\t\t\tCommentNavigator.setCategory('custom');\n\t\t\t\tcard.close();\n\t\t\t});\n\t\t}\n\n\t\tasyncFilter(Array.from(filterline.things), async thing => await this.matches(thing)) // eslint-disable-line no-return-await\n\t\t\t.then(matches => {\n\t\t\t\tconst numberSpan = body.querySelector('.res-filterline-filter-hover-number-matches');\n\t\t\t\tnumberSpan.textContent = String(matches.length);\n\n\t\t\t\tif (filterline.thingType === 'post' && matches.length) {\n\t\t\t\t\taddButton(body, 'Permanently hide', 'match-actions', 'native-hide')\n\t\t\t\t\t\t.then(() => { filterline.hidePermanently(matches); });\n\t\t\t\t}\n\t\t\t});\n\n\t\treturn [head, body];\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport type { Thing } from '../../utils';\nimport {\n\tBodyClasses,\n\tSelectedThing,\n\tfastAsync,\n\twaitForEvent,\n\tdowncast,\n\thide as redditHide,\n\tunhide as redditUnhide,\n\tframeThrottle,\n\tforEachChunked,\n\tidleThrottle,\n\tloggedInUser,\n\tkeyedMutex,\n\tfilterMap,\n\tstring,\n} from '../../utils';\nimport { i18n } from '../../environment';\nimport * as Hover from '../hover';\nimport * as Notifications from '../notifications';\nimport * as FilteReddit from '../filteReddit';\nimport * as RESTips from '../RESTips';\nimport * as Cases from './cases';\nimport { ExternalFilter } from './ExternalFilter';\nimport { LineFilter } from './LineFilter';\nimport type { Filter } from './Filter';\nimport type { Case } from './Case';\n\ntype NewFilterOpts = {|\n\tFilter?: Class<Filter>,\n\tid?: string,\n\tadd?: boolean,\n\tsave?: boolean,\n\t...FilteReddit.FilterStorageValues,\n|};\n\nexport class Filterline {\n\tthings: Set<Thing> = new Set();\n\tthingType: string;\n\n\tstorage: *;\n\tfilters: Filter[] = [];\n\tsortedFilters: Filter[] = []; // Filters sorted by slowness\n\n\tcurrentMatches: Map<Thing, { [string]: Filter | null }> = new Map();\n\n\tpermanentlyHiddenThings: Set<Thing> = new Set();\n\tdisplayReasons: boolean = false;\n\n\telement: HTMLElement;\n\tdropdown: HTMLElement;\n\tpreamble: HTMLElement;\n\tfilterContainer: HTMLElement;\n\tpoweredElement: HTMLInputElement;\n\tpermanentlyHideCheckbox: HTMLInputElement;\n\n\tinitialized: boolean = false;\n\n\tconstructor(storage: *, thingType: *) {\n\t\tthis.storage = storage;\n\t\tthis.thingType = thingType;\n\t}\n\n\t// Initialize once things are being processed\n\tisInitialized(): boolean {\n\t\tif (this.initialized) return true;\n\n\t\tif (!this.things.size || !this.getActiveFilters().length) return false;\n\n\t\tthis.initialized = true;\n\t\t// It is possible to optimize the order of filters until things are filtered\n\t\t// if order is changed thereafter, `getFiltersToTest` may return invalid results\n\t\tthis.sortedFilters = _.sortBy(this.filters, ({ case: { constructor: { slow } } }) => slow);\n\n\t\tif (this.thingType === 'post') {\n\t\t\t// Improve performance by not evaluating these effects on post filters\n\t\t\t// TODO Move this closer to the effect list\n\t\t\tdelete this.availableEffects.collapse;\n\t\t\tdelete this.availableEffects.propagate;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tisPowered() { return !document.documentElement.classList.contains('res-filters-disabled'); }\n\n\ttogglePowered = (powered: boolean = !this.isPowered()) => {\n\t\tBodyClasses.toggle(!powered, 'res-filters-disabled');\n\t\tthis.poweredElement.checked = powered;\n\t}\n\n\tcreateElement() {\n\t\tconst element = this.element = string.html`\n\t\t\t<div class=\"res-filterline\">\n\t\t\t\t<div class=\"res-filterline-preamble\"></div>\n\t\t\t\t<div class=\"res-filterline-filters\">\n\t\t\t\t\t<input type=\"checkbox\" ${this.isPowered() && 'checked'} class=\"res-filterline-toggle-powered\" title=\"Stop filtering temporarily\"></input>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t\tthis.preamble = element.querySelector('.res-filterline-preamble');\n\t\tthis.filterContainer = element.querySelector('.res-filterline-filters');\n\n\t\tthis.addFilterElements(this.filters);\n\n\t\twaitForEvent(this.preamble, 'mouseenter', 'click').then(() => this.createDropdown());\n\n\t\tthis.poweredElement = downcast(element.querySelector('.res-filterline-toggle-powered'), HTMLInputElement);\n\t\tthis.poweredElement.addEventListener('change', () => { this.togglePowered(); });\n\t}\n\n\taddFilterElements(filters: Filter[]) {\n\t\tfor (const filter of filters) {\n\t\t\tif (filter instanceof ExternalFilter) continue; // ExternalFilter elements are created when dropdown is bulit\n\t\t\tfilter.createElement();\n\t\t\tthis.filterContainer.appendChild(filter.element);\n\t\t}\n\t}\n\n\tgetFiltersOfCase(CaseClass: *) {\n\t\treturn this.filters.filter(v => v.BaseCase === CaseClass);\n\t}\n\n\tgetPickable(): Class<Case>[] {\n\t\treturn Object.values(Cases.getByContext(this.thingType, false))\n\t\t\t.filter(v => !v.disabled && v.variant !== 'external');\n\t}\n\n\tcreateDropdown() {\n\t\tconst element = string.html`\n\t\t\t<div class=\"res-filterline-dropdown\">\n\t\t\t\t<div class=\"res-filterline-dropdown-other\"></div>\n\t\t\t\t<div class=\"res-filterline-dropdown-toggles\">\n\t\t\t\t\t<div class=\"res-filterline-display-match-reason\">\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"checkbox\" ${this.displayReasons && 'checked'}\">\n\t\t\t\t\t\t\t<span>Show matching filters</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"res-filterline-show-help\">\n\t\t\t\t\tUsage information\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.preamble.append(element);\n\n\t\t// Hover cards may be in front of the dropdown\n\t\tthis.preamble.addEventListener('mouseenter', () => {\n\t\t\tHover.infocard('filterline-filter').close();\n\t\t});\n\n\t\tfunction addDetails(summary, className: string, ...elements) {\n\t\t\tconst e = string.html`<details class=\"${className}\"><summary>${summary}</summary></details>`;\n\t\t\te.append(...elements);\n\t\t\telement.querySelector('.res-filterline-dropdown-other').append(e);\n\t\t}\n\n\t\taddDetails('Modify external filters', 'res-filterline-external',\n\t\t\t...this.filters\n\t\t\t\t.filter(filter => filter instanceof ExternalFilter)\n\t\t\t\t.map(filter => { filter.createElement(); return filter.element; }),\n\t\t);\n\n\t\t// `Cases.Group` is separated\n\t\tconst dp = _.groupBy(_.without(this.getPickable(), Cases.Group), v => v.variant);\n\t\tfor (const [name, CaseClasses] of Object.entries(dp)) {\n\t\t\taddDetails(`New ${name} filter`, `res-filterline-new-${name}`,\n\t\t\t\t...CaseClasses\n\t\t\t\t\t.sort((a, b) => a.type.localeCompare(b.type))\n\t\t\t\t\t.map(CaseClass => this.createNewFilterElement(CaseClass)),\n\t\t\t);\n\t\t}\n\n\t\tconst _getAsConditions = this.getAsConditions.bind(this);\n\t\taddDetails('New complex filter', 'res-filterline-new-group',\n\t\t\tthis.createNewFilterElement(Cases.Group, 'Copy active filters', { get conditions() { return _getAsConditions(); } }),\n\t\t\t...Cases.Group.fields[0].options\n\t\t\t\t.map(op => this.createNewFilterElement(Cases.Group, `Matches ${op}`, { conditions: { op, of: [] } })),\n\t\t);\n\n\t\taddDetails('Use as default', 'res-filterline-set-default',\n\t\t\t...FilteReddit.defaultFilters.map(({ type, text }) => {\n\t\t\t\tconst e = string.html`<div class=\"res-filterline-dropdown-action\">${text}</div>`;\n\t\t\t\te.addEventListener('click', () => FilteReddit.saveFilterlineStateAsDefault(type));\n\t\t\t\treturn e;\n\t\t\t}),\n\t\t\t(() => {\n\t\t\t\tconst e = string.html`<div class=\"res-filterline-dropdown-action\">Reset this Filterline</div>`;\n\t\t\t\te.addEventListener('click', () => {\n\t\t\t\t\tthis.storage.delete();\n\t\t\t\t\tif (confirm('Reload page to restore default')) location.reload();\n\t\t\t\t});\n\t\t\t\treturn e;\n\t\t\t})(),\n\t\t);\n\n\t\tconst displayReasonsCheckbox = downcast(element.querySelector('.res-filterline-display-match-reason input'), HTMLInputElement);\n\t\tdisplayReasonsCheckbox.addEventListener('change', () => {\n\t\t\tthis.toggleDisplayReasons(displayReasonsCheckbox.checked);\n\t\t});\n\n\t\tif (this.thingType === 'post' && loggedInUser()) {\n\t\t\tconst permanentlyHide = string.html`\n\t\t\t\t<div class=\"res-filterline-permanently-hide\">\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input type=\"checkbox\">\n\t\t\t\t\t\t<span>Permanently hide</span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t\tconst checkbox = this.permanentlyHideCheckbox = downcast(permanentlyHide.querySelector('input'), HTMLInputElement);\n\t\t\tthis.updatePermanentlyHideCheckbox();\n\t\t\tpermanentlyHide.addEventListener('click', async () => {\n\t\t\t\tcheckbox.disabled = true;\n\t\t\t\tawait (this.permanentlyHiddenThings.size ? this.unhidePermanently() : this.hidePermanently());\n\t\t\t\tcheckbox.disabled = false;\n\t\t\t});\n\t\t\telement.querySelector('.res-filterline-dropdown-toggles').append(permanentlyHide);\n\t\t}\n\n\t\tdowncast(element.querySelector('.res-filterline-show-help'), HTMLElement).addEventListener('click', () => {\n\t\t\tRESTips.showFeatureTip('filterlineVisible');\n\t\t});\n\t}\n\n\tupdatePermanentlyHideCheckbox() {\n\t\tif (!this.permanentlyHideCheckbox) return;\n\t\tthis.permanentlyHideCheckbox.checked = this.permanentlyHideCheckbox.indeterminate = false;\n\t\tif (!this.permanentlyHiddenThings.size) return;\n\t\tif (this.getThings('hide').length === this.permanentlyHiddenThings.size) this.permanentlyHideCheckbox.checked = true;\n\t\telse this.permanentlyHideCheckbox.indeterminate = true;\n\t}\n\n\tcreateNewFilterElement(CaseClass: Class<Case>, text: string = CaseClass.text, newOpts?: $Shape<NewFilterOpts>) {\n\t\tlet fromSelected = false;\n\n\t\tconst element = string.html`<div class=\"res-filterline-dropdown-action res-filterline-filter-new\" type=\"${CaseClass.type}\">${text}</div>`;\n\t\telement.addEventListener('click', () => {\n\t\t\tconst existing = CaseClass.unique && this.getFiltersOfCase(CaseClass)[0];\n\t\t\tlet filter;\n\t\t\tif (existing) {\n\t\t\t\tif (!(existing instanceof LineFilter)) throw new Error();\n\t\t\t\tfilter = existing;\n\t\t\t} else {\n\t\t\t\tfilter = downcast(this.createFilter({ type: CaseClass.type, add: true, ...newOpts }), LineFilter);\n\t\t\t}\n\n\t\t\tif (fromSelected) filter.updateByInputConstruction({ fromSelected });\n\t\t\telse filter.showInfocard(true);\n\t\t});\n\n\t\tif (CaseClass.thingToCriterion || !CaseClass.defaultConditions) {\n\t\t\tconst c = string.html`<div class=\"res-filterline-filter-new-from-selected\" title=\"From selected entry\"></div>`;\n\t\t\tc.addEventListener('click', () => {\n\t\t\t\tfromSelected = true;\n\t\t\t\tsetTimeout(() => { fromSelected = false; });\n\t\t\t});\n\t\t\telement.append(c);\n\t\t}\n\n\t\treturn element;\n\t}\n\n\tasync hidePermanently(things: Array<Thing> = this.getThings('hide')) {\n\t\tawait Promise.all(_.difference(things, Array.from(this.permanentlyHiddenThings)).map(thing => redditHide(thing)));\n\t\tfor (const v of things) this.permanentlyHiddenThings.add(v);\n\t\tthis.updatePermanentlyHideCheckbox();\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: FilteReddit.module.moduleID,\n\t\t\tnotificationID: 'hideThings',\n\t\t\tmessage: string.html`<div><p>Reddit has now hidden ${things.length} things. Undo by unchecking the checkbox in the menu.</p><p><a href=\"/user/me/hidden/\">See all hidden posts</a></p>`,\n\t\t});\n\t}\n\n\tasync unhidePermanently(things: Array<Thing> = [...this.permanentlyHiddenThings]) {\n\t\tawait Promise.all(_.intersection(things, Array.from(this.permanentlyHiddenThings)).map(thing => redditUnhide(thing)));\n\t\tfor (const v of things) this.permanentlyHiddenThings.delete(v);\n\t\tthis.updatePermanentlyHideCheckbox();\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: FilteReddit.module.moduleID,\n\t\t\tnotificationID: 'unhideThings',\n\t\t\tmessage: `${things.length} things are no longer hidden.`,\n\t\t});\n\t}\n\n\tgetAsConditions(hasEffect: string = 'hide'): * {\n\t\tconst extracted = filterMap(this.filters, v => v.effects[hasEffect] && v instanceof LineFilter && [v] || undefined);\n\t\treturn Cases.resolveGroup(\n\t\t\tCases.getGroup(\n\t\t\t\t'all',\n\t\t\t\textracted.map(v => v.state ? v.case.conditions : Cases.getGroup('none', [v.case.conditions])),\n\t\t\t),\n\t\t\tfalse,\n\t\t\ttrue,\n\t\t);\n\t}\n\n\tdeferredFilters: { [id: string]: * } = {};\n\n\tresumeDeferredTypes(types: Array<string>) {\n\t\tObject.entries(this.deferredFilters)\n\t\t\t.filter(([, { type }]) => types.includes(type))\n\t\t\t.forEach(([id]) => this.createFilterFromStateValues(id));\n\t}\n\n\trestoreState(filters: *) {\n\t\tfor (const [id, opts] of Object.entries(filters)) {\n\t\t\ttry {\n\t\t\t\tif (opts.type === 'inert') throw new Error('Requested inert filter. This state is likely due to a bug. Ignoring.');\n\n\t\t\t\tconst filter = this.getFilter(id);\n\t\t\t\tif (filter) throw new Error(`Filter with id ${id} already exists`);\n\n\t\t\t\tif (\n\t\t\t\t\tCases.has(opts.type) &&\n\t\t\t\t\t// External filter needs a specific variant of `Filter`\n\t\t\t\t\t!(Cases.get(opts.type).variant === 'external')\n\t\t\t\t) {\n\t\t\t\t\tthis.createFilterFromStateValues(id, opts);\n\t\t\t\t} else {\n\t\t\t\t\tthis.deferredFilters[id] = opts;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Could not create filter', id, opts);\n\t\t\t\tthis.storage.deletePath('filters', id);\n\t\t\t}\n\t\t}\n\t}\n\n\tcreateFilterFromStateValues(id: *, opts: *) {\n\t\tconst deferredOpts = this.deferredFilters[id];\n\t\tdelete this.deferredFilters[id];\n\t\treturn this.createFilter({ id, ...opts, ...deferredOpts, add: true, save: false });\n\t}\n\n\tsave = idleThrottle(async () => {\n\t\tconst filters = this.filters.reduce((acc, v) => {\n\t\t\tacc[v.id] = v.getSaveValues();\n\t\t\treturn acc;\n\t\t}, { ...this.deferredFilters });\n\t\tawait this.storage.deletePath('filters');\n\t\tawait this.storage.patch({ filters, lastUsed: Date.now() });\n\t});\n\n\tgetCLI(): * {\n\t\tconst deconstruct = val => {\n\t\t\t// Example: \"!expando image\"  { reverseActive: true, key: \"expando\", criterion: \"image\" }\n\t\t\tconst [, modifiers, key, criterion]: string[] = (val.match(/^([^\\w]*)(\\w*)(.*)/): any); // guaranteed match\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\tcriterion: criterion.trim(),\n\t\t\t\tdisableFilter: !!modifiers.match('/'),\n\t\t\t\treverseActive: !!modifiers.match('!'),\n\t\t\t\tasNewFilter: !!modifiers.match('\\\\+'),\n\t\t\t\tfromSelected: !!modifiers.match('='),\n\t\t\t};\n\t\t};\n\n\t\tconst findMatchingCases = val =>\n\t\t\tthis.getPickable()\n\t\t\t\t.sort((a, b) => a.variant.localeCompare(b.variant) || a.type.localeCompare(b.type))\n\t\t\t\t.map(CaseClass => ({\n\t\t\t\t\t// on-demand cases' type name are hard to discern\n\t\t\t\t\tname: CaseClass.variant === 'ondemand' ? CaseClass.text : CaseClass.type,\n\t\t\t\t\tcls: CaseClass,\n\t\t\t\t}))\n\t\t\t\t.filter(({ name }) => name.toLowerCase().match(val.toLowerCase()));\n\n\t\tlet filter;\n\n\t\tasync function getTip(val) {\n\t\t\tconst deconstructed = deconstruct(val);\n\t\t\tconst { key, asNewFilter } = deconstructed;\n\t\t\tconst bestMatch = key && _.sortBy(findMatchingCases(key), ({ name }) => name.toLowerCase().indexOf(key.toLowerCase()))[0];\n\t\t\tconst { cls: MatchedCase } = bestMatch || {};\n\n\t\t\tlet message;\n\n\t\t\tif (bestMatch) {\n\t\t\t\ttry {\n\t\t\t\t\tconst lastFilter = _.last(this.getFiltersOfCase(MatchedCase));\n\t\t\t\t\tfilter = lastFilter && !asNewFilter ?\n\t\t\t\t\t\tlastFilter :\n\t\t\t\t\t\tthis.createFilter({ type: MatchedCase.type });\n\n\t\t\t\t\tconst actionDescription = await filter.updateByInputConstruction(deconstructed, true);\n\t\t\t\t\t/*:: if (!actionDescription ) throw new Error(); */\n\t\t\t\t\tmessage = `${filter.parent ? `Modify \"${filter.getStateText(filter.state)}\"` : 'New filter'}: ${actionDescription}`;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmessage = `Error: ${e.message}`;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfilter = null;\n\t\t\t\tmessage = 'No filter selected.';\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\t'<pre>',\n\t\t\t\t'Syntax: [modifiers] filterName [criterion]',\n\t\t\t\t'',\n\t\t\t\tmessage,\n\t\t\t\t'',\n\t\t\t\t'Filters:',\n\t\t\t\t...findMatchingCases('').map(v =>\n\t\t\t\t\t` ${(MatchedCase === v.cls) ? `<b>${v.name}</b>` : v.name} ${v.cls.pattern}`,\n\t\t\t\t),\n\t\t\t\t'',\n\t\t\t\t'Modifiers:',\n\t\t\t\t' /  disable the filter',\n\t\t\t\t' !  reverse the active state',\n\t\t\t\t' +  create as new filter',\n\t\t\t\t' =  use the currently selected post\\'s data as criterion',\n\t\t\t\t'',\n\t\t\t\t'Examples:',\n\t\t\t\t' =postAfter    filter posts older than selected',\n\t\t\t\t' +=!postAfter  new filter, filter posts younger than selected',\n\t\t\t\t'</pre>',\n\t\t\t].join('\\n');\n\t\t}\n\n\t\tfunction executeCommand(val) {\n\t\t\tif (!filter) return;\n\t\t\tif (!filter.parent) this.addFilter(filter);\n\t\t\tfilter.updateByInputConstruction(deconstruct(val));\n\t\t\tfilter = null;\n\t\t}\n\n\t\treturn { getTip: getTip.bind(this), executeCommand: executeCommand.bind(this) };\n\t}\n\n\tcreateFilter(opts: $Shape<NewFilterOpts>) {\n\t\tconst {\n\t\t\tFilter = LineFilter,\n\t\t\tid = `~${performance.timing.navigationStart + performance.now()}`, // timestamp, so that filters will restored in the same order as they initially were created\n\t\t\tadd = false,\n\t\t\tsave = true,\n\t\t\ttype,\n\t\t\tcriterion,\n\t\t\teffects,\n\t\t\tname,\n\t\t\tstate,\n\t\t} = opts;\n\t\tlet { conditions } = opts;\n\n\t\tif (this.deferredFilters.hasOwnProperty(id)) return this.createFilterFromStateValues(id, opts);\n\n\t\tconst CaseClass = Cases.get(type);\n\t\tif (CaseClass.unique) {\n\t\t\tconst [existing] = this.getFiltersOfCase(CaseClass);\n\t\t\tif (existing) return existing;\n\t\t}\n\n\t\tif (!conditions && criterion) {\n\t\t\t// Legacy; `criterion` is no longer saved to storage\n\t\t\tconditions = CaseClass.criterionToConditions(criterion);\n\t\t}\n\n\t\tconst filter = new Filter(id, CaseClass, name, conditions, state, effects);\n\n\t\tif (add) {\n\t\t\tthis.addFilter(filter);\n\t\t\tif (save) this.save();\n\t\t}\n\n\t\treturn filter;\n\t}\n\n\taddFilter(filter: Filter) {\n\t\tfilter.setParent(this);\n\n\t\tthis.filters.push(filter);\n\n\t\tif (this.isInitialized()) {\n\t\t\tthis.sortedFilters.push(filter);\n\t\t\tthis.refresh(filter);\n\t\t}\n\n\t\tif (this.filterContainer) this.addFilterElements([filter]);\n\t}\n\n\tasync removeFilter(filter: Filter) {\n\t\tif (filter.element) filter.element.remove();\n\t\tif (this.isInitialized()) await this.refresh(filter);\n\t\t_.pull(this.filters, filter);\n\t\t_.pull(this.sortedFilters, filter);\n\t\tthis.save();\n\t}\n\n\tgetFilter(id: string): ?Filter {\n\t\treturn this.filters.find(filter => filter.id === id);\n\t}\n\n\tgetActiveFilters() {\n\t\treturn this.filters.filter(v => v.active);\n\t}\n\n\tavailableEffects: {\n\t\t[key: string]: (Thing, Filter) => void,\n\t} = {\n\t\tpropagate: (thing, match) => {\n\t\t\tthing.element.classList.toggle('res-thing-hide-children', !!match);\n\t\t\tthis._refreshAfterChange();\n\t\t},\n\t\thighlight: (thing, match) => {\n\t\t\tthing.entry.style.backgroundColor = match ? 'rgba(255, 155, 155, .16)' : '';\n\t\t},\n\t\thide: (thing, match) => {\n\t\t\tthing.setHideFilter(match);\n\t\t\tthis._refreshAfterChange();\n\t\t},\n\t\tplaceholder: (thing, match) => {\n\t\t\tfunction removePlaceholders() {\n\t\t\t\tthing.element.classList.remove('res-thing-has-placeholder');\n\t\t\t\tfor (const ele of thing.entry.querySelectorAll('.res-thing-placeholder-message')) ele.remove();\n\t\t\t}\n\n\t\t\tfunction replaceWithPlaceholder(ele) {\n\t\t\t\tif (!ele) return;\n\t\t\t\tconst placeholder = string.html`<span class=\"res-thing-placeholder-message\">\n\t\t\t\t\t<span class=\"res-icon\">&#xF093;</span> Content ignored. Click to show anyway.\n\t\t\t\t</span>`;\n\t\t\t\tele.after(placeholder);\n\t\t\t\tthing.element.classList.add('res-thing-has-placeholder');\n\t\t\t\twaitForEvent(placeholder, 'click').then(removePlaceholders);\n\t\t\t}\n\n\t\t\tif (match) {\n\t\t\t\treplaceWithPlaceholder(thing.getTitleElement());\n\t\t\t\treplaceWithPlaceholder(thing.getTextBody());\n\t\t\t} else {\n\t\t\t\tremovePlaceholders();\n\t\t\t}\n\n\t\t\tthis._refreshAfterChange();\n\t\t},\n\t\tcollapse: (thing, match) => {\n\t\t\tthing.setCommentCollapse(!!match, 'filterline', true);\n\t\t\tthis._refreshAfterChange();\n\t\t},\n\t};\n\n\t_refreshAfterChange = frameThrottle(() => {\n\t\tSelectedThing.refresh();\n\t\tthis.checkEmptyState();\n\t});\n\n\tgetFiltersToTest(currentFilter?: Filter, invokedByFilter?: Filter): Filter[] {\n\t\tif (!invokedByFilter) return this.sortedFilters;\n\n\t\tconst invokedByFilterIndex = this.sortedFilters.indexOf(invokedByFilter);\n\t\tconst currentFilterIndex = this.sortedFilters.indexOf(currentFilter);\n\n\t\tif (!currentFilter) {\n\t\t\t// No other filters did match last time; only retest this\n\t\t\treturn [invokedByFilter];\n\t\t} else if (currentFilter === invokedByFilter) {\n\t\t\t// The invokedBy filter matched last time; start testing from that one\n\t\t\treturn this.sortedFilters.slice(invokedByFilterIndex);\n\t\t} else if (currentFilterIndex > invokedByFilterIndex) {\n\t\t\t// Always store a reference to the first matched filter\n\t\t\treturn [invokedByFilter, currentFilter];\n\t\t} else {\n\t\t\t// Some earlier filter matched last time; ignore\n\t\t\treturn [];\n\t\t}\n\t}\n\n\trefreshThing = keyedMutex(fastAsync(function*(thing: Thing, invokedByFilter?: Filter) {\n\t\tif (!this.currentMatches.has(thing)) this.currentMatches.set(thing, {});\n\t\tconst currentMatches = this.currentMatches.get(thing);\n\n\t\tconst effectsToRefresh = Object.keys(this.availableEffects);\n\n\t\tconst filtersToTest = _.union(...effectsToRefresh.map(effect => this.getFiltersToTest(currentMatches[effect], invokedByFilter)))\n\t\t\t// Keep order\n\t\t\t.sort((a, b) => this.sortedFilters.indexOf(a) - this.sortedFilters.indexOf(b));\n\n\t\t_.remove(effectsToRefresh, effect =>\n\t\t\t// Only update effects that the current filter has touched\n\t\t\tinvokedByFilter && !invokedByFilter.effects.hasOwnProperty(effect) ||\n\t\t\t// Don't update effects whose current matched filter will not be tested\n\t\t\tcurrentMatches[effect] && !filtersToTest.includes(currentMatches[effect]),\n\t\t);\n\n\t\tconst updateEffect = (effect, filter) => {\n\t\t\tconst old = currentMatches[effect];\n\t\t\tif (filter == old) return; // eslint-disable-line eqeqeq\n\t\t\tcurrentMatches[effect] = filter;\n\t\t\tthis.availableEffects[effect](thing, filter);\n\n\t\t\tif (this.displayReasons) this.refreshDisplayReasonsChunked([thing]);\n\t\t};\n\n\t\tfor (const filter of filtersToTest.filter(v => this.getActiveFilters().includes(v))) {\n\t\t\tconst effects = filter.getEffects().filter(v => effectsToRefresh.includes(v));\n\t\t\tif (effects.length && (yield filter.matches(thing))) {\n\t\t\t\tfor (const effect of effects) updateEffect(effect, filter);\n\t\t\t\t_.pull(effectsToRefresh, ...effects);\n\t\t\t}\n\t\t}\n\n\t\tfor (const effect of effectsToRefresh) {\n\t\t\tupdateEffect(effect, null);\n\t\t}\n\t}));\n\n\trefresh(invokedByFilter?: Filter, things: Array<Thing> = Array.from(this.things)) {\n\t\treturn Promise.all(things.map(thing => this.refreshThing(thing, invokedByFilter)));\n\t}\n\n\taddThing(thing: Thing) {\n\t\tthis.things.add(thing);\n\t\tif (this.isInitialized()) return this.refreshThing(thing);\n\t}\n\n\tgetThings(withEffect: string) {\n\t\treturn Array.from(this.currentMatches.entries())\n\t\t\t.filter(([, effects]) => effects[withEffect])\n\t\t\t.map(([thing]) => thing);\n\t}\n\n\tcheckEmptyState = (() => {\n\t\tlet notification;\n\t\tconst showNotification = _.debounce(() => {\n\t\t\tconst info = $('<p>').text(i18n('filteRedditEmptyNotificationInfo'));\n\t\t\tconst toggle = $('<button>').text(i18n('filteRedditEmptyNotificationToggleShowReason'))\n\t\t\t\t.click(() => { this.toggleDisplayReasons(); });\n\n\t\t\tnotification = Notifications.showNotification({\n\t\t\t\tmoduleID: FilteReddit.module.moduleID,\n\t\t\t\tnotificationID: 'everyThingHidden',\n\t\t\t\theader: i18n('filteRedditEmptyNotificationHeader'),\n\t\t\t\tmessage: $('<div>').append(info).append(toggle).get(0),\n\t\t\t\tcloseDelay: Infinity,\n\t\t\t});\n\t\t}, 3000);\n\n\t\treturn () => {\n\t\t\tif (Array.from(this.things).some(v => v.isVisible())) {\n\t\t\t\tshowNotification.cancel();\n\t\t\t\tif (notification) notification.close();\n\t\t\t} else if (!this.displayReasons && Array.from(this.currentMatches.values()).some(v => v.hide) /* check that the reason things are not visible, actually is a filter */) {\n\t\t\t\tshowNotification();\n\t\t\t}\n\t\t};\n\t})();\n\n\ttoggleDisplayReasons(newState?: boolean = !this.displayReasons) {\n\t\tthis.displayReasons = newState;\n\t\tthis.refreshDisplayReasonsChunked(this.things);\n\t\tBodyClasses.toggle(this.displayReasons, 'res-display-match-reason');\n\t}\n\n\trefreshDisplayReasonsChunked = forEachChunked(this.refreshDisplayReasons.bind(this));\n\n\tasync refreshDisplayReasons(thing: Thing) {\n\t\tconst reasons = this.displayReasons ? await Promise.all(\n\t\t\tObject.entries(this.currentMatches.get(thing) || {})\n\t\t\t\t.map(([effect, filter]) => filter && filter.buildReasonElement(thing, effect))\n\t\t\t\t.filter(Boolean),\n\t\t) : [];\n\n\t\tthing.setFilterReasons(reasons);\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { markdown } from 'snudown-js';\nimport { flow, filter, map, mapValues, keyBy, slice } from 'lodash/fp';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport {\n\tBodyClasses,\n\tSelectedThing,\n\tasyncFlow,\n\tbatch,\n\tcurrentDomain,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tfullLocation,\n\tCreateElement,\n\textendDeep,\n\tindexOptionTable,\n\tisCurrentMultireddit,\n\tisCurrentSubreddit,\n\tisAppType,\n\tisPageType,\n\tmutex,\n\twatchForThings,\n\tscrollToElement,\n\tstring,\n} from '../utils';\nimport { Storage, context, ajax, i18n } from '../environment';\nimport type { BuilderRootValue } from '../core/module';\nimport type { RedditListing, RedditLink } from '../types/reddit';\nimport * as CommandLine from './commandLine';\nimport * as CustomToggles from './customToggles';\nimport * as Notifications from './notifications';\nimport * as RESTips from './RESTips';\nimport * as Cases from './filteReddit/cases';\nimport { Case } from './filteReddit/Case';\nimport { Filterline } from './filteReddit/Filterline';\nimport { ExternalFilter } from './filteReddit/ExternalFilter';\n\nexport const module: Module<*> = new Module('filteReddit');\n\nmodule.moduleName = 'filteRedditName';\nmodule.category = 'subredditsCategory';\nmodule.description = 'filteRedditDesc';\nmodule.keywords = ['filterreddit'];\nmodule.options = {\n\thideUntilProcessed: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'filteRedditHideUntilProcessedDesc',\n\t\ttitle: 'filteRedditHideUntilProcessedTitle',\n\t\tadvanced: true,\n\t},\n\tNSFWfilter: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'filteRedditNSFWfilterDesc',\n\t\ttitle: 'filteRedditNSFWfilterTitle',\n\t},\n\tallowNSFW: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddSubreddits',\n\t\tdescription: 'filteRedditAllowNSFWDesc',\n\t\ttitle: 'filteRedditAllowNSFWTitle',\n\t\tfields: [{\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'filteRedditSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'where',\n\t\t\tname: 'filteRedditAllowNSFWWhere',\n\t\t\ttype: 'enum',\n\t\t\tvalues: [{\n\t\t\t\tname: 'filteRedditEverywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditAllowNSFWWhenBrowsingSubreddit',\n\t\t\t\tvalue: 'visit',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}],\n\t\tvalue: ([]: Array<[string, 'everywhere' | 'visit']>),\n\t},\n\tNSFWQuickToggle: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'filteRedditNSFWQuickToggleDesc',\n\t\ttitle: 'filteRedditNSFWQuickToggleTitle',\n\t\tadvanced: true,\n\t},\n\tshowFilterline: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'filteRedditShowFilterlineDesc',\n\t\ttitle: 'filteRedditShowFilterlineTitle',\n\t},\n\texcludeOwnPosts: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'filteRedditExcludeOwnPostsDesc',\n\t\ttitle: 'filteRedditExcludeOwnPostsTitle',\n\t},\n\texcludeModqueue: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'filteRedditExcludeModqueueDesc',\n\t\ttitle: 'filteRedditExcludeModqueueTitle',\n\t},\n\texcludeUserPages: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'filteRedditExcludeUserPagesDesc',\n\t\ttitle: 'filteRedditExcludeUserPagesTitle',\n\t},\n\tkeywords: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'keyword',\n\t\t\tname: 'filteRedditKeyword',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'filteRedditApplyTo',\n\t\t\ttype: 'enum',\n\t\t\tvalues: [{\n\t\t\t\tname: 'filteRedditEverywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditEverywhereBut',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditOnlyOn',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'subreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'unlessKeyword',\n\t\t\tname: 'unlessKeyword',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditKeywordsDesc',\n\t\ttitle: 'filteRedditKeywordsTitle',\n\t},\n\tsubreddits: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'subreddit',\n\t\t\tname: 'filteRedditSubredditsSubreddits',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditSubredditsDesc',\n\t\ttitle: 'filteRedditSubredditsTitle',\n\t\tonChange() {\n\t\t\tif (module.options.useRedditFilters.value) {\n\t\t\t\treconcileNativeFilters();\n\t\t\t}\n\t\t},\n\t},\n\tfilterSubredditsFrom: {\n\t\ttype: 'enum',\n\t\tvalue: 'everywhere-except-subreddit',\n\t\tvalues: [{\n\t\t\tname: 'filteRedditFilterSubredditsEverywhereButSubreddit',\n\t\t\tvalue: 'everywhere-except-subreddit',\n\t\t}, {\n\t\t\tname: 'filteRedditEverywhere',\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tname: 'filteRedditFilterSubredditsAllPopularAndDomain',\n\t\t\tvalue: 'legacy',\n\t\t}],\n\t\tdescription: 'filteRedditFilterSubredditsFromDesc',\n\t\ttitle: 'filteRedditFilterSubredditsFromTitle',\n\t},\n\tuseRedditFilters: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'filteRedditUseRedditFiltersDesc',\n\t\ttitle: 'filteRedditUseRedditFiltersTitle',\n\t\tonChange() {\n\t\t\tif (module.options.useRedditFilters.value) {\n\t\t\t\treconcileNativeFilters();\n\t\t\t}\n\t\t},\n\t},\n\tforceSyncFilters: {\n\t\ttype: 'button',\n\t\ttext: 'filteRedditForceSyncFiltersLabel',\n\t\tdescription: 'filteRedditForceSyncFiltersDesc',\n\t\ttitle: 'filteRedditForceSyncFiltersTitle',\n\t\tcallback() {\n\t\t\treturn reconcileNativeFilters({ warnNotLoggedIn: true });\n\t\t},\n\t},\n\tusers: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'username',\n\t\t\tname: 'filteRedditUsername',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditUsersDesc',\n\t\ttitle: 'filteRedditUsersTitle',\n\t},\n\tusersMatchAction: {\n\t\ttype: 'enum',\n\t\tvalue: 'hide',\n\t\tvalues: [{\n\t\t\tname: 'Hidden',\n\t\t\tvalue: 'hide',\n\t\t}, {\n\t\t\tname: 'Replaced with placeholder',\n\t\t\tvalue: 'placeholder',\n\t\t}],\n\t\tdescription: 'filteRedditUsersMatchActionDesc',\n\t\ttitle: 'filteRedditUsersMatchActionTitle',\n\t},\n\tusersMatchRepliesAction: {\n\t\ttype: 'enum',\n\t\tvalue: 'collapse',\n\t\tvalues: [{\n\t\t\tname: 'Kept visible',\n\t\t\tvalue: '',\n\t\t}, {\n\t\t\tname: 'Collapsed',\n\t\t\tvalue: 'collapse',\n\t\t}, {\n\t\t\tname: 'Hidden',\n\t\t\tvalue: 'propagate',\n\t\t}],\n\t\tdescription: 'filteRedditUsersMatchRepliesActionDesc',\n\t\ttitle: 'filteRedditUsersMatchRepliesActionTitle',\n\t},\n\tdomains: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'keyword',\n\t\t\tname: 'filteRedditKeyword',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'filteRedditApplyTo',\n\t\t\ttype: 'enum',\n\t\t\tvalues: [{\n\t\t\t\tname: 'filteRedditEverywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditEverywhereBut',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditOnlyOn',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'filteRedditSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditDomainsDesc',\n\t\ttitle: 'filteRedditDomainsTitle',\n\t},\n\tflair: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'keyword',\n\t\t\tname: 'filteRedditKeyword',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'filteRedditApplyTo',\n\t\t\ttype: 'enum',\n\t\t\tvalues: [{\n\t\t\t\tname: 'filteRedditEverywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditEverywhereBut',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditOnlyOn',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'filteRedditSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditFlairDesc',\n\t\ttitle: 'filteRedditFlairTitle',\n\t},\n\tcustomFiltersP: {\n\t\ttype: 'builder',\n\t\tadvanced: true, // VERY\n\t\tdescription: 'filteRedditCustomFiltersDesc',\n\t\ttitle: 'filteRedditCustomFiltersPTitle',\n\t\tvalue: [],\n\t\taddItemText: 'filteRedditAddCustomFilter',\n\t\tdefaultTemplate() {\n\t\t\treturn {\n\t\t\t\tnote: '',\n\t\t\t\tver: 3,\n\t\t\t\tbody: Cases.getConditions('group'),\n\t\t\t\tid: `customFilter-${Date.now()}`,\n\t\t\t\topts: {\n\t\t\t\t\tondemand: false,\n\t\t\t\t\tname: '',\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tcustomOptionsFields: [\n\t\t\t[{ type: 'check', id: 'ondemand', label: 'Only filter when added to Filterline (on-demand)' }],\n\t\t\t['Filterline name: ', { type: 'text', id: 'name' }],\n\t\t],\n\t\tget cases() { Cases.populatePrimitives(); return { ...Cases.getByContext('post'), ...Cases.getByContext('browse') }; },\n\t},\n\tcustomFiltersC: {\n\t\ttype: 'builder',\n\t\tadvanced: true, // VERY\n\t\tdescription: 'filteRedditCustomFiltersDesc',\n\t\ttitle: 'filteRedditCustomFiltersCTitle',\n\t\tvalue: [],\n\t\taddItemText: 'filteRedditAddCustomFilter',\n\t\tdefaultTemplate() {\n\t\t\treturn {\n\t\t\t\tnote: '',\n\t\t\t\tver: 3,\n\t\t\t\tbody: Cases.getConditions('group'),\n\t\t\t\tid: `customFilter-${Date.now()}`,\n\t\t\t\topts: {\n\t\t\t\t\tondemand: false,\n\t\t\t\t\tname: '',\n\t\t\t\t\tpropagate: false,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tcustomOptionsFields: [\n\t\t\t[{ type: 'check', id: 'ondemand', label: 'Only filter when added to Filterline (on-demand)' }],\n\t\t\t['Filterline name: ', { type: 'text', id: 'name' }],\n\t\t\t[{ type: 'check', id: 'propagate', label: 'Hide child commments' }],\n\t\t],\n\t\tget cases() { Cases.populatePrimitives(); return { ...Cases.getByContext('comment'), ...Cases.getByContext('browse') }; },\n\t},\n};\n\nmodule.include = [\n\t'linklist',\n\t'modqueue',\n\t'profile',\n\t'comments',\n\t'commentsLinklist',\n\t'search',\n];\n\nconst featureTips = {\n\tfilterline: {\n\t\tmessage: `\nRES allows you to easily apply complex filters to post listings and comments. To toggle Filterline, click on the tab.\n\t`,\n\t\ttitle: 'Filterline',\n\t\tposition: 6,\n\t\tquiet: true,\n\t},\n\tfilterlineVisible: {\n\t\t// Wrap as to avoid loading markdown unnecessarily\n\t\tmessage: () => markdown(`\n* Click once on a filter to enable it (e.g. clicking \\`expando\\` will only show posts with embedded media).\n* Click again to only show posts which do not not match.\n* A third click makes the filter inactive.\n* To clear a filter, right-click on it.\n* **Hover** on it to modify conditions, highlight or permanently hide all matches.\n\nTo find more filters and options, hover on icon to the left.\n\nYou can use the currently selected post as a basis for a new filter. To do this, click on **=** to the right of the filter name.\n\n**Complex filter** creates filters which matches when \\`none\\`, \\`one\\`, \\`any\\`, or \\`all\\` of the subfilters matches. Click \\`To on-demand\\` to make these filters available on other pages.\n\n**Use as default** lets you store the current filters to be used on other pages.\n\nTo see why a post is hidden, open dropdown and check **Show filter-reason**. This also gives you the opportunity to remove an external filter so that you don't have to look for it in the settings console.\n\nYou can use the command line to manipulate Filterline. Enter it by pressing the key \\`f\\`.\n\t\t`),\n\t\ttitle: 'Filterline  how to use it',\n\t\tposition: 7,\n\t\toptions: [{\n\t\t\tmoduleID: 'filteReddit',\n\t\t\tkey: 'showFilterline',\n\t\t}],\n\t},\n};\n\nexport type FilterStorageValues = {|\n\ttype: string,\n\tstate: boolean,\n\tcriterion?: string,\n\tname?: string,\n\tconditions?: {},\n\teffects?: {},\n|};\n\ntype LineState = {\n\tvisible?: boolean,\n\tfilters?: { [id: string]: FilterStorageValues },\n\tlastUsed?: number, // TODO Implement auto-pruning of unused storages (often from comment pages)\n};\n\nconst pageID = fullLocation();\nconst filterlineStorage = Storage.wrap(`filterline.${pageID}`, ({}: LineState));\nconst thingType = isPageType('comments', 'commentsLinklist') ? 'comment' : 'post';\nconst customFilterVariant = thingType === 'post' ? 'customFiltersP' : 'customFiltersC';\n\nconst createStateFromTypes = types => (\n\ttypes.reduce((acc, v, i) => {\n\t\tif (v) acc[`!${i}`] = { type: v };\n\t\treturn acc;\n\t}, {})\n);\n\n// If filterlineStorage is empty, look for default filters\nexport const defaultFilters: Array<{| type: string, text: string, storage: * |}> = []; // Decreasing precedense\nif (thingType === 'comment') {\n\tif (currentSubreddit()) {\n\t\tdefaultFilters.push({\n\t\t\ttype: 'subreddit',\n\t\t\ttext: 'This subreddit',\n\t\t\tstorage: Storage.wrap(`RESmodules.filteReddit.commentDefault-${String(currentSubreddit())}`, (null: null | *)),\n\t\t});\n\t}\n\tdefaultFilters.push({\n\t\ttype: 'everywhere',\n\t\ttext: 'Everywhere',\n\t\tstorage: Storage.wrap('RESmodules.filteReddit.commentDefault', createStateFromTypes([\n\t\t\t'hasExpando',\n\t\t\t'score',\n\t\t\t'isRead',\n\t\t])),\n\t});\n} else if (thingType === 'post') {\n\tdefaultFilters.push({\n\t\ttype: 'everywhere',\n\t\ttext: 'Everywhere',\n\t\tstorage: Storage.wrap('RESmodules.filteReddit.postDefault', createStateFromTypes([\n\t\t\t'isNSFW',\n\t\t\t'isSpoiler',\n\t\t\t'isVisited',\n\t\t\t'commentsOpened',\n\t\t\t'hasExpando',\n\t\t\t'score',\n\t\t])),\n\t});\n}\n\nlet nsfwToggle;\nlet filterline: Filterline;\nlet visible: boolean;\n\nlet _filterlineResolve;\nexport const filterlinePromise: Promise<Filterline> = new Promise(res => { _filterlineResolve = res; });\nexport let ensureFilterlineVisible;\n\nconst initial = (async () => {\n\tconst state = filterlineStorage.get();\n\tconst _default = Promise.all(defaultFilters.map(({ storage }) => storage.get()))\n\t\t.then(v => v.find(Boolean));\n\tlet { filters, visible, lastUsed } = await state; // eslint-disable-line prefer-const\n\tif (!filters || !Object.values(filters).length) filters = await _default;\n\treturn { filters, visible, lastUsed };\n})();\n\nmodule.beforeLoad = async () => {\n\tupdateNsfwBodyClass(module.options.NSFWfilter.value);\n\tnsfwToggle = new CustomToggles.Toggle('nsfwMode', i18n('nsfwSwitchToggleText'), module.options.NSFWfilter.value);\n\tnsfwToggle.onToggle(() => {\n\t\tmodule.options.NSFWfilter.value = nsfwToggle.enabled;\n\t\tOptions.save(module.options.NSFWfilter);\n\t});\n\tnsfwToggle.onStateChange(() => { updateNsfwBodyClass(nsfwToggle.enabled); });\n\tnsfwToggle.addCLI('nsfw');\n\twatchForThings(['post'], updateNsfwThingClass, { immediate: true });\n\n\tCases.populatePrimitives(['browse', thingType]);\n\tfilterline = new Filterline(filterlineStorage, thingType);\n\n\tconst { filters, visible: _visible, lastUsed } = await initial;\n\n\tfilterline.restoreState(filters);\n\tpopulateFromOptions();\n\n\t_filterlineResolve(filterline);\n\n\tconst hideUntilProcessed = module.options.hideUntilProcessed.value && filterline.getActiveFilters().length;\n\n\twatchForThings([thingType], async thing => {\n\t\tif (!shouldFilter(thing)) return;\n\n\t\tif (hideUntilProcessed) thing.element.classList.add('res-thing-filter-unprocessed');\n\t\t// Encapsulate this in try ... catch since failing could cause posts to be erroneously hidden\n\t\ttry { await filterline.addThing(thing); } catch (e) { console.error(e); }\n\t\tif (hideUntilProcessed) thing.element.classList.remove('res-thing-filter-unprocessed');\n\t}, { immediate: true, id: 'filter' });\n\n\tif (\n\t\tmodule.options.excludeModqueue.value && isPageType('modqueue') ||\n\t\tmodule.options.excludeUserPages.value && isPageType('profile')\n\t) filterline.togglePowered(false);\n\n\tvisible = typeof _visible === 'boolean' ?\n\t\t_visible :\n\t\tmodule.options.showFilterline.value || filterline.getActiveFilters().some(v => !(v instanceof ExternalFilter));\n\n\tif (lastUsed) requestIdleCallback(() => { filterlineStorage.patch({ lastUsed: Date.now() }); });\n};\n\nmodule.contentStart = () => {\n\tmakeFilterlineInteractable();\n\n\tif (module.options.NSFWQuickToggle.value) {\n\t\tnsfwToggle.addMenuItem(i18n('nsfwSwitchToggleTitle'), 8);\n\t}\n\n\tregisterSubredditFilterCommand();\n};\n\nconst shouldFilter = thing => (\n\t!(\n\t\tmodule.options.excludeOwnPosts.value && context.username &&\n\t\tcurrentUserProfile() !== context.username &&\n\t\tcontext.username === thing.getAuthor()\n\t)\n);\n\nfunction makeFilterlineInteractable() {\n\tconst insertFilterline = _.once(() => {\n\t\tfilterline.createElement();\n\n\t\tif (isAppType('r2')) {\n\t\t\tif (isPageType('comments')) {\n\t\t\t\tdocument.querySelector('.comments-page .nestedlisting').before(filterline.element);\n\t\t\t} else {\n\t\t\t\tdocument.querySelector('#siteTable, .search-result-listing').before(filterline.element);\n\t\t\t}\n\t\t} else {\n\t\t\tfilterlineTab.append(filterline.element);\n\t\t}\n\n\t\tRESTips.addFeatureTip('filterlineVisible', { ...featureTips.filterlineVisible, attachTo: filterline.element });\n\t});\n\n\tconst filterlineTab = CreateElement.tabMenuItem({\n\t\ttext: '',\n\t\ttitle: 'Toggle Filterline visibility',\n\t\tclassName: 'res-toggle-filterline-visibility',\n\t\tchecked: visible,\n\t\tonChange: active => {\n\t\t\tvisible = active;\n\n\t\t\tif (visible) {\n\t\t\t\tinsertFilterline();\n\t\t\t\tscrollToElement(filterline.element, null, { scrollStyle: 'legacy' });\n\t\t\t}\n\n\t\t\tif (filterline.element) filterline.element.hidden = !visible;\n\t\t\tfilterlineStorage.patch({ visible });\n\t\t},\n\t});\n\n\tensureFilterlineVisible = () => { if (!visible) filterlineTab.click(); };\n\n\tconst { getTip, executeCommand } = filterline.getCLI();\n\tCommandLine.registerCommand(\n\t\t/(fl|filterline)/,\n\t\t'fl - modify Filterline',\n\t\t(cmd, val) => getTip(val),\n\t\t(cmd, val) => { ensureFilterlineVisible(); executeCommand(val); },\n\t);\n\n\tCommandLine.registerCommand(\n\t\t/fp/,\n\t\t'fp - toggle filtering',\n\t\t() => 'Toggle filtering',\n\t\t() => { ensureFilterlineVisible(); filterline.poweredElement.click(); },\n\t);\n\n\tRESTips.addFeatureTip('filterline', {\n\t\t...featureTips.filterline,\n\t\tattachTo: filterlineTab,\n\t\tcontinuation: () => {\n\t\t\tensureFilterlineVisible();\n\t\t\treturn 'filterlineVisible';\n\t\t},\n\t});\n\n\tif (visible) insertFilterline();\n}\n\nclass ListFilter {\n\texternalKey: string;\n\tget list() { return module.options[this.externalKey].value; }\n\tfilter: *;\n\n\tconstructor(externalKey: $Keys<typeof module.options>) {\n\t\tthis.externalKey = externalKey;\n\t}\n\n\tinitialize(caseType: string, additionalCriteria: *, useEffects: * = ['hide']) {\n\t\tconst _listFilter = this; // eslint-disable-line consistent-this\n\t\tconst sources = new Map();\n\n\t\tconst getConditions = () => {\n\t\t\tsources.clear();\n\t\t\treturn Cases.resolveGroup(Cases.getGroup('any', this.list.map(v => {\n\t\t\t\tconst c = getStringMatchConditions(v, caseType, additionalCriteria);\n\t\t\t\tsources.set(c, v);\n\t\t\t\treturn c;\n\t\t\t})));\n\t\t};\n\n\t\tthis.filter = addExternalFilter(this.externalKey, i18n(module.options[this.externalKey].title), getConditions, class extends ExternalFilter {\n\t\t\tconstructor(id: *, BaseCase: *, name: *, conditions: *, state: *, effects: * = {}) {\n\t\t\t\tconst _effects = useEffects.reduce((acc, val) => {\n\t\t\t\t\tacc[val] = typeof effects[val] === 'boolean' ? effects[val] : true;\n\t\t\t\t\treturn acc;\n\t\t\t\t}, {});\n\t\t\t\tsuper(id, BaseCase, name, conditions, state, _effects);\n\t\t\t\tthis.toggleEffects = useEffects;\n\t\t\t}\n\n\t\t\tasync getMatchingEntry(thing) {\n\t\t\t\tconst matching = Array.from(sources.keys()).map(v => Case.fromConditions(v).evaluate(thing) && sources.get(v));\n\t\t\t\treturn (await Promise.all(matching)).filter(Boolean);\n\t\t\t}\n\n\t\t\tremoveEntry(entries) { _listFilter.toggleEntry(false, ...entries); }\n\t\t});\n\t}\n\n\t// Note this is only a basic search for the string; `getMatchingEntry` also tests regexes\n\tfindEntry(matchString: string): * {\n\t\treturn this.list.find(([str]) => str.toLowerCase() === matchString.toLowerCase());\n\t}\n\n\ttoggleEntry(newState: boolean, ...entries: Array<*>) {\n\t\tif (newState) {\n\t\t\tthis.list.push(...entries);\n\t\t} else {\n\t\t\t_.pull(this.list, ...entries);\n\t\t}\n\n\t\tOptions.save(module.options[this.externalKey]);\n\t\tif (this.filter) return this.filter.update(undefined, null);\n\t}\n\n\tincludesString(matchString: string): boolean {\n\t\treturn !!this.findEntry(matchString);\n\t}\n\n\tasync toggleString(matchString: string, newState?: boolean = !this.includesString(matchString)) {\n\t\tif (SelectedThing.current) SelectedThing.current.anchor(); // Toggling the filter may move the viewport. Try to keep the selected post in place.\n\t\tawait this.toggleEntry(newState, this.findEntry(matchString) || [matchString]);\n\t}\n}\n\nexport const listFilters = {\n\tusers: new ListFilter('users'),\n\tsubreddits: new ListFilter('subreddits'),\n\tkeywords: new ListFilter('keywords'),\n\tdomains: new ListFilter('domains'),\n\tflair: new ListFilter('flair'),\n};\n\nexport function addExternalFilter(id: string, name: string, getConditions: () => *, Filter: Class<ExternalFilter> = ExternalFilter) {\n\tconst cased = Cases.createAdHoc(id, getConditions, 'external', thingType);\n\treturn filterline.createFilter({ Filter, id, name, type: cased.type, state: false, add: true, save: false });\n}\n\nfunction populateFromOptions() {\n\tconst customFilters = _.groupBy(\n\t\tmodule.options[customFilterVariant].value,\n\t\t({ opts: { ondemand } = {} }) => ondemand ? 'ondemand' : 'always',\n\t);\n\n\tif (customFilters.ondemand) {\n\t\tconst cases = customFilters.ondemand.map(v => addOndemandCase(v, true));\n\t\tfilterline.resumeDeferredTypes(cases.map(({ type }) => type));\n\t}\n\n\t// Make customFilter(C|P) so that the settings link is available\n\taddExternalFilter(customFilterVariant, i18n(module.options[customFilterVariant].title), () => ({ type: 'false' }));\n\n\tfor (const customFilter of (customFilters.always || [])) {\n\t\tconst conditions = Cases.resolveGroup(customFilter.body);\n\t\tif (!Cases.isUseful(conditions.type)) continue;\n\t\taddExternalFilter(customFilter.id, (customFilter.opts || {}).name, () => conditions, class extends ExternalFilter {\n\t\t\tconstructor(id: *, BaseCase: *, name: *, conditions: *, state: *, effects: *) {\n\t\t\t\tconst propagate = !!(customFilter.opts && customFilter.opts.propagate);\n\t\t\t\tsuper(id, BaseCase, name, conditions, state, { hide: true, propagate, ...effects });\n\t\t\t}\n\t\t});\n\t}\n\n\tif (!isPageType('profile')) { // Don't ignore users on profile pages\n\t\tconst effects = [\n\t\t\tmodule.options.usersMatchAction.value,\n\t\t\tmodule.options.usersMatchRepliesAction.value,\n\t\t].filter(Boolean);\n\t\tlistFilters.users.initialize('username', undefined, effects);\n\t}\n\n\tif (thingType === 'post') {\n\t\tlistFilters.keywords.initialize('postTitle');\n\t\tlistFilters.domains.initialize('domain', { fullMatch: false });\n\t\tif (\n\t\t\tmodule.options.filterSubredditsFrom.value === 'everywhere' ||\n\t\t\tmodule.options.filterSubredditsFrom.value === 'everywhere-except-subreddit' && !currentSubreddit() ||\n\t\t\tisCurrentSubreddit('all') || isCurrentSubreddit('popular') ||\n\t\t\tcurrentDomain() ||\n\t\t\tisCurrentMultireddit('me/f/all')\n\t\t) {\n\t\t\tlistFilters.subreddits.initialize('subreddit');\n\t\t}\n\t\tlistFilters.flair.initialize('linkFlair');\n\t}\n}\n\nexport function addOndemandCase(customFilter: BuilderRootValue, onlyUseful: boolean = false) {\n\tconst getConditions = () => Cases.resolveGroup(customFilter.body);\n\n\tif (!onlyUseful || Cases.isUseful(getConditions().type)) {\n\t\treturn Cases.createAdHoc(customFilter.id, getConditions, 'ondemand', thingType, customFilter);\n\t} else {\n\t\treturn Cases.Inert;\n\t}\n}\n\nexport function addCustomFilter({ body, opts }: {| body: *, opts?: * |}): BuilderRootValue {\n\tconst customFilter = {\n\t\tnote: `From ${fullLocation()}`,\n\t\tver: 3,\n\t\tid: `customFilter-${Date.now()}`,\n\t\tbody,\n\t\topts,\n\t};\n\n\tmodule.options[customFilterVariant].value.unshift(customFilter);\n\tOptions.save(module.options[customFilterVariant]);\n\n\treturn customFilter;\n}\n\nexport function updateCustomFilter(customFilter: BuilderRootValue, val: $Shape<BuilderRootValue>) {\n\t// XXX May leave trash in the object\n\textendDeep((customFilter: any), (val: any)); // This mutates the option array\n\tOptions.save(module.options[customFilterVariant]);\n}\n\nexport async function saveFilterlineStateAsDefault(type: string) {\n\tconst { storage } = defaultFilters.find(v => v.type === type) || {};\n\tif (!storage) throw new Error(`Could not find storage for type ${type}`);\n\n\tconst v: LineState = (await filterlineStorage.get(): any);\n\tlet { filters } = _.cloneDeep(v) || {};\n\tif (_.isEmpty(filters)) filters = null;\n\tawait storage.set(filters);\n\tNotifications.showNotification('Saved.', 1000);\n}\n\nfunction getStringMatchConditions(source, caseType, additionalCriteria) {\n\tconst [matchString = '', applyTo = 'everywhere', applyList = '', except = ''] = source;\n\n\tconst mainFilter = {\n\t\ttype: caseType,\n\t\tpatt: matchString,\n\t\t...additionalCriteria,\n\t};\n\n\tif (source.length === 1) return mainFilter;\n\n\tlet applyToConditions;\n\tif (applyTo !== 'everywhere') {\n\t\tconst subreddits = applyList.split(',');\n\n\t\tif (subreddits.findIndex(v => !v) !== -1) {\n\t\t\tconsole.error('Filter must have subreddits specified', source);\n\t\t\treturn { type: 'false' };\n\t\t}\n\n\t\tapplyToConditions = Cases.getGroup(applyTo === 'exclude' ? 'none' : 'any', [\n\t\t\t// /r/all special case\n\t\t\t// (nothing is posted to /r/all, but we could be browsing it)\n\t\t\tsubreddits.includes('all') ? {\n\t\t\t\ttype: 'currentSub',\n\t\t\t\tpatt: 'all',\n\t\t\t} : null,\n\t\t\t// and the same for /r/popular\n\t\t\tsubreddits.includes('popular') ? {\n\t\t\t\ttype: 'currentSub',\n\t\t\t\tpatt: 'popular',\n\t\t\t} : null,\n\t\t\t// normal subreddit include/exclude\n\t\t\t...subreddits.map(sr => ({\n\t\t\t\ttype: 'subreddit',\n\t\t\t\tpatt: sr,\n\t\t\t})),\n\t\t].filter(Boolean));\n\t}\n\n\treturn Cases.getGroup('all', [\n\t\t// applyTo filtering\n\t\tapplyToConditions || null,\n\t\t// main filter\n\t\tmainFilter,\n\t\t// filter exclusions\n\t\t(except && except.length) && Cases.getGroup('none', [{\n\t\t\ttype: caseType,\n\t\t\tpatt: except,\n\t\t\t...additionalCriteria,\n\t\t}]) || null,\n\t].filter(Boolean));\n}\n\nconst reconcileNativeFilters = (() => {\n\t// Ideally, we would just get the subscriber count for each subreddit.\n\t// However, there's no batch endpoint for subreddit info.\n\t// So we use a different proxy for subreddit popularity: the top post score from the last day.\n\t// By doing so, we can leverage ad-hoc multireddits to get multiple results from a single request.\n\t// In testing, this method achieves ~15 requests/500 subreddits or ~33 subreddits/request.\n\tconst MAX_RETRIES = 5;\n\tconst getTopScore = batch(async requests => {\n\t\tconst resp = (await ajax({\n\t\t\turl: `/r/${requests.map(r => r.sub).join('+')}/top.json`,\n\t\t\tquery: { t: 'day', limit: 100 },\n\t\t\ttype: 'json',\n\t\t}): RedditListing<RedditLink>);\n\n\t\tif (!resp.data.children.length) {\n\t\t\t// guarantee that we always make progress:\n\t\t\t// if there are no posts, return `0` for all requests\n\t\t\treturn requests.map(() => 0);\n\t\t}\n\n\t\tconst topScoreBySub = flow(\n\t\t\t() => resp.data.children.reverse(),\n\t\t\tkeyBy(post => post.data.subreddit.toLowerCase()),\n\t\t\tmapValues(post => post.data.score),\n\t\t)();\n\n\t\treturn requests.map(({ sub, depth = 0 }: {| sub: string, depth?: number |}) => {\n\t\t\tconst score = topScoreBySub[sub.toLowerCase()];\n\n\t\t\tif (score !== undefined) {\n\t\t\t\t// post found\n\t\t\t\treturn score;\n\t\t\t} else if (depth > MAX_RETRIES) {\n\t\t\t\t// out of retries\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\t// try again until we get a score\n\t\t\t\treturn getTopScore({ sub, depth: depth + 1 });\n\t\t\t}\n\t\t});\n\t}, { size: 100, delay: 2000 });\n\n\tasync function sortByPopularity(subreddits: string[]): Promise<string[]> {\n\t\tconst scores = await Promise.all(subreddits.map(sub => getTopScore({ sub })));\n\n\t\treturn _.sortBy(_.zip(subreddits, scores), ([, score]) => score)\n\t\t\t.map(([sub]) => sub)\n\t\t\t.filter(Boolean)\n\t\t\t.reverse();\n\t}\n\n\treturn mutex(async ({ warnNotLoggedIn = false }: {| warnNotLoggedIn?: boolean |} = {}) => {\n\t\tconst user = context.username;\n\n\t\tif (!user) {\n\t\t\tif (warnNotLoggedIn) {\n\t\t\t\tNotifications.showNotification({\n\t\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\t\tnotificationID: 'filterSyncNotLoggedIn',\n\t\t\t\t\theader: 'Filters not synced',\n\t\t\t\t\tmessage: 'You must log in to sync filters.',\n\t\t\t\t});\n\t\t\t}\n\t\t\tconsole.warn('Not syncing filters, not logged in...');\n\t\t\treturn;\n\t\t}\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: module.moduleID,\n\t\t\tnotificationID: 'filterSyncStarted',\n\t\t\tmessage: 'Filter sync started...',\n\t\t});\n\n\t\tconst { data: { subreddits } } = await ajax({\n\t\t\turl: `/api/filter/user/${user}/f/all`,\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst existing = subreddits.map(({ name }) => name.toLowerCase());\n\n\t\tconst desired = await asyncFlow(\n\t\t\tmap(([sr]) => sr),\n\t\t\tfilter(sr => !string.regexRegex.test(sr)),\n\t\t\tmap(name => name.toLowerCase()),\n\t\t\tsortByPopularity,\n\t\t\tslice(0, 100),\n\t\t)(module.options.subreddits.value);\n\n\t\tconst toRemove = _.difference(existing, desired).length;\n\t\tconst toAdd = _.difference(desired, existing).length;\n\n\t\tif (!toRemove && !toAdd) {\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\toptionKey: 'useRedditFilters',\n\t\t\t\tnotificationID: 'filterSyncNoneAddedOrRemoved',\n\t\t\t\tcloseDelay: 5000,\n\t\t\t\theader: 'No filters synced',\n\t\t\t\tmessage: `\n\t\t\t\t\tEither no subreddit filters were changed, or you have more than 100 subreddits filtered.\n\t\t\t\t\tReddit's native /r/all filtering is limited to 100 subreddits.\n\t\t\t\t`,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\t// when `model` is provided, this replaces all subreddits\n\t\t\tawait ajax({\n\t\t\t\tmethod: 'PUT',\n\t\t\t\turl: `/api/filter/user/${user}/f/all`,\n\t\t\t\tdata: {\n\t\t\t\t\tmodel: JSON.stringify({\n\t\t\t\t\t\tsubreddits: desired.map(name => ({ name })),\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\toptionKey: 'useRedditFilters',\n\t\t\t\tnotificationID: 'filterSyncError',\n\t\t\t\theader: 'Error syncing filters',\n\t\t\t\tmessage: `Filters could not be synced: ${e}`,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: module.moduleID,\n\t\t\toptionKey: 'useRedditFilters',\n\t\t\tnotificationID: 'filterSyncSuccess',\n\t\t\theader: 'Successfully synced filters',\n\t\t\tmessage: `Removed ${toRemove} and added ${toAdd} filters.`,\n\t\t});\n\t});\n})();\n\nconst subredditAllowNsfwOption = _.once(() => indexOptionTable(module.options.allowNSFW, 0, key => key.toLowerCase()));\n\nconst allowAllNsfw = _.memoize(subreddit => {\n\tconst currOptionValue = subredditAllowNsfwOption()[subreddit.toLowerCase()];\n\treturn currOptionValue && currOptionValue[0][1] === 'visit';\n});\n\nfunction allowNSFW(postSubreddit, currSubreddit = currentSubreddit()) {\n\tif (!module.options.allowNSFW.value || !module.options.allowNSFW.value.length) return false;\n\n\tif (currSubreddit && allowAllNsfw(currSubreddit)) {\n\t\treturn true;\n\t}\n\n\tif (!postSubreddit) postSubreddit = currSubreddit;\n\tif (!postSubreddit) return false;\n\tconst postOptionValue = subredditAllowNsfwOption()[postSubreddit.toLowerCase()];\n\tif (postOptionValue) {\n\t\tif (postOptionValue[0][1] === 'everywhere') {\n\t\t\treturn true;\n\t\t} else { // optionValue[1] == visit (subreddit or multisubreddit)\n\t\t\treturn (currSubreddit || '').split('+').includes(postSubreddit);\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction updateNsfwThingClass(thing) {\n\tif (thing.isNSFW()) {\n\t\tif (allowNSFW(thing.getSubreddit(), currentSubreddit())) {\n\t\t\tthing.element.classList.add('allowOver18');\n\t\t}\n\n\t\t// backfill for new post layout\n\t\tthing.element.classList.add('over18');\n\t}\n}\n\nfunction updateNsfwBodyClass(filterOn) {\n\tBodyClasses.toggle(filterOn, 'hideOver18');\n}\n\nfunction registerSubredditFilterCommand() {\n\tconst getSubreddit = val => (\n\t\tval ||\n\t\tSelectedThing.current && SelectedThing.current.getSubreddit() ||\n\t\tcurrentSubreddit() ||\n\t\t''\n\t);\n\n\tCommandLine.registerCommand(/^f(?:ilter)?/, 'f[ilter] [subreddit] - toggle subreddit filter',\n\t\t(cmd, val) => {\n\t\t\tconst subreddit = getSubreddit(val);\n\t\t\treturn `toggle subreddit filter for: ${subreddit}`;\n\t\t},\n\t\t(cmd, val) => {\n\t\t\tconst subreddit = getSubreddit(val);\n\t\t\tif (!subreddit) return 'no subreddit specified or post selected';\n\t\t\tlistFilters.subreddits.toggleString(subreddit);\n\t\t},\n\t);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { PageAction, Storage, i18n } from '../environment';\nimport {\n\tBodyClasses,\n\tPagePhases,\n\tasyncSome,\n\tcurrentSubreddit,\n\tmutex,\n\tstring,\n\twaitForChild,\n} from '../utils';\nimport * as CustomToggles from './customToggles';\nimport * as NightMode from './nightMode';\n\nexport const module: Module<*> = new Module('subredditStyleToggle');\n\nmodule.moduleName = 'subredditStyleToggleName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'subredditStyleToggleDesc';\nmodule.alwaysEnabled = true; // Not implemented to be disabled\nmodule.options = {\n\tbrowserToolbarButton: {\n\t\ttitle: 'subredditStyleToggleBrowserToolbarButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditStyleToggleBrowserToolbarButtonDesc',\n\t\tkeywords: ['css'],\n\t\t// can't be disabled in Chrome since Chrome 49\n\t\tnoconfig: process.env.BUILD_TARGET === 'chrome',\n\t},\n\tcheckbox: {\n\t\ttitle: 'subredditStyleToggleCheckboxTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditStyleToggleCheckboxDesc',\n\t\tkeywords: ['css'],\n\t},\n};\n\nconst ignoredStorage = Storage.wrap('RESmodules.subredditStyleToggle.ignored', ([]: string[]));\nlet toggle: CustomToggles.Toggle;\nexport let refresh: ?() => *;\n\nmodule.onInit = () => {\n\t// Hide the toolbar button while it is not active\n\tPageAction.hide();\n\n\tconst ready = Promise.all([\n\t\tshouldDisable(),\n\t\thasToggleableElements(),\n\t]).then(([disable, has]) => {\n\t\tif (has) {\n\t\t\tBodyClasses.add('res-srstyle-enabled');\n\t\t\tcreateToggle(!disable);\n\t\t}\n\t});\n\n\trefresh = (nightmodeCompatible?: boolean) => ready.then(async () => {\n\t\tif (toggle) toggle.toggle('auto', !await shouldDisable(nightmodeCompatible));\n\t});\n};\n\nfunction createToggle(initialState) {\n\tconst subreddit = (currentSubreddit() || '').toLowerCase();\n\tif (toggle || !subreddit) return;\n\n\ttoggle = new CustomToggles.Toggle(`${module.moduleID}.${subreddit}`, 'Custom subreddit style', true);\n\n\ttoggle.onToggle(async type => {\n\t\tif (type !== 'manual') return;\n\n\t\t// wait for nightmode to react to subreddit style toggle so `isNightmodeCompatible` check below is accurate\n\t\tawait NightMode.toggledSubredditStyle(toggle.enabled);\n\n\t\tconst ignoredSubreddits = new Set(await ignoredStorage.get());\n\t\tif (toggle.enabled) {\n\t\t\tignoredSubreddits.delete(subreddit);\n\t\t} else if (await NightMode.isNightmodeCompatible()) {\n\t\t\t// disabled and compatible with nightmode, or in a different subreddit, so add it to our ignore list\n\t\t\t// DO NOT add to our ignore list otherwise (current subreddit and incompatible with nightmode),\n\t\t\t// because in that case it will be disabled due to nightmode incompatibility\n\t\t\tignoredSubreddits.add(subreddit);\n\t\t}\n\n\t\tignoredStorage.set(Array.from(ignoredSubreddits));\n\t});\n\n\ttoggle.onStateChange(() => {\n\t\ttoggleElements(toggle.enabled);\n\t\tBodyClasses.toggle(toggle.enabled, 'res-srstyle-enabled');\n\t\tBodyClasses.toggle(!toggle.enabled, 'res-srstyle-disabled');\n\t});\n\n\ttoggle.toggle('auto', initialState);\n\n\tmakeInteractable();\n}\n\nfunction makeInteractable() {\n\tif (module.options.checkbox.value) {\n\t\tPagePhases.sitetableStarted.then(() => {\n\t\t\tconst place = document.body.querySelector('.titlebox h1.redditname');\n\t\t\tif (place) insertCheckbox(place);\n\t\t});\n\t}\n\n\tif (module.options.browserToolbarButton.value) {\n\t\tPageAction.show(toggle.enabled);\n\t\ttoggle.onStateChange(() => { PageAction.show(toggle.enabled); });\n\t\tPageAction.onClick(() => { toggle.toggle('manual'); });\n\t}\n\n\ttoggle.addCLI('srstyle');\n\n\tif ($('#show_stylesheets').length) {\n\t\t$('label[for=show_stylesheets]').after(string.escape` <span class=\"little gray\">(${i18n('subredditStyleToggleRedditPrefsMessage')} <a href=\"/r/Enhancement/wiki/srstyle\">${i18n('subredditStyleToggleClickToLearnMore')}</a>)</span>`);\n\t}\n}\n\nfunction insertCheckbox(place) {\n\tconst container = string.html`\n\t\t<form class=\"toggle res-sr-style-toggle\">\n\t\t\t<label for=\"res-style-checkbox\">${i18n('subredditStyleToggleUse')}</label>\n\t\t</form>\n\t`;\n\n\tconst checkbox = toggle.buildCheckbox();\n\tcheckbox.setAttribute('id', 'res-style-checkbox');\n\tcheckbox.setAttribute('name', 'res-style-checkbox');\n\tcontainer.prepend(checkbox);\n\tplace.after(container);\n}\n\nconst shouldDisable = (nightmodeCompatible: boolean | Promise<boolean> = NightMode.isNightmodeCompatible(true)) => asyncSome([\n\t// subreddit style ignored by this module\n\tasync () => (await ignoredStorage.get()).includes((currentSubreddit() || '').toLowerCase()),\n\t// subreddit style incompatible with nightmode\n\tasync () => !(await nightmodeCompatible),\n], f => f());\n\nconst hasToggleableElements = () => asyncSome([\n\tgetStylesheet,\n\tasync () => !!(await getHeaderImg()).headerImg,\n], f => f());\n\nconst getStylesheet = _.once(async () => {\n\tconst query = () => (document.head || document.documentElement).querySelector('link[title=applied_subreddit_stylesheet]');\n\n\treturn (\n\t\t// parsing has started\n\t\t// the stylesheet element may or may not be in the DOM\n\t\tquery() ||\n\t\t// <body> parsing has started (i.e. the entire <head> is parsed)\n\t\t// if there is a stylesheet, the element will be in the DOM\n\t\tawait PagePhases.bodyStart.then(query) ||\n\t\t// subreddit styles disabled natively; no stylesheet element\n\t\tnull\n\t);\n});\n\nconst getHeaderImg = _.once(async () => {\n\t// subreddits with a custom header image will have:\n\t// `<a id=\"header-img-a\"><img id=\"header-img\"/></a>`\n\t// subreddits with the default will just have:\n\t// `<a id=\"header-img\" class=\"default-header\"></a>`\n\tconst query = () => document.getElementById('header-img-a');\n\tconst imgQuery = () => document.getElementById('header-img');\n\n\tconst imgWrapper = (\n\t\tawait PagePhases.bodyStart.then(query) ||\n\t\tawait waitForChild(document.body, '#header').then(query) ||\n\t\tawait PagePhases.contentLoaded.then(query)\n\t);\n\n\treturn { imgWrapper, headerImg: imgWrapper && imgQuery() };\n});\n\nconst toggleElements = (() => {\n\tconst toggleStylesheet = mutex(async shouldRestore => {\n\t\tconst subredditStylesheet = await getStylesheet();\n\n\t\tif (!subredditStylesheet) return;\n\n\t\tif (shouldRestore) {\n\t\t\t// only add element if not mounted\n\t\t\tif (!subredditStylesheet.parentNode) {\n\t\t\t\tdocument.head.appendChild(subredditStylesheet);\n\t\t\t}\n\t\t} else {\n\t\t\tif (subredditStylesheet.parentNode) {\n\t\t\t\tsubredditStylesheet.remove();\n\t\t\t}\n\t\t}\n\t});\n\n\tconst toggleHeaderImg = mutex(async shouldRestore => {\n\t\tconst { imgWrapper, headerImg } = await getHeaderImg();\n\n\t\tif (!imgWrapper || !headerImg) return;\n\n\t\tif (shouldRestore) {\n\t\t\tif (!headerImg.parentNode) {\n\t\t\t\timgWrapper.id = 'header-img-a';\n\t\t\t\timgWrapper.classList.remove('default-header');\n\t\t\t\timgWrapper.appendChild(headerImg);\n\t\t\t}\n\t\t} else {\n\t\t\tif (headerImg.parentNode) {\n\t\t\t\theaderImg.remove();\n\t\t\t\timgWrapper.id = 'header-img';\n\t\t\t\timgWrapper.classList.add('default-header');\n\t\t\t}\n\t\t}\n\t});\n\n\treturn shouldRestore => Promise.all([\n\t\ttoggleStylesheet(shouldRestore),\n\t\ttoggleHeaderImg(shouldRestore),\n\t]);\n})();\n","/* @flow */\n\nimport _ from 'lodash';\nimport { getTimes as getSunriseSunset } from 'suncalc';\nimport { Module } from '../core/module';\nimport * as Init from '../core/init';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport {\n\tappType,\n\tAlert,\n\tBodyClasses,\n\tPagePhases,\n\tcurrentSubreddit,\n\twaitForChild,\n\tHOUR,\n\tMINUTE,\n} from '../utils';\nimport { Session, Storage, i18n } from '../environment';\nimport * as CustomToggles from './customToggles';\nimport * as SubredditStyleToggle from './subredditStyleToggle';\n\nexport const module: Module<*> = new Module('nightMode');\n\nmodule.moduleName = 'nightModeName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'nightModeDesc';\nmodule.options = {\n\tnightModeOn: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'nightModeNightModeOnDesc',\n\t\ttitle: 'nightModeNightModeOnTitle',\n\t},\n\tnightSwitch: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'nightModeNightSwitchDesc',\n\t\ttitle: 'nightModeNightSwitchTitle',\n\t\tadvanced: true,\n\t},\n\tautomaticNightMode: {\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'nightModeAutomaticNightModeNone',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'nightModeAutomaticNightModeAutomatic',\n\t\t\tvalue: 'automatic',\n\t\t}, {\n\t\t\tname: 'nightModeAutomaticNightModeUser',\n\t\t\tvalue: 'user',\n\t\t}],\n\t\tdescription: 'nightModeAutomaticNightModeDesc',\n\t\ttitle: 'nightModeAutomaticNightModeTitle',\n\t},\n\tnightModeStart: {\n\t\ttype: 'text',\n\t\tvalue: '20:00',\n\t\tdescription: 'nightModeNightModeStartDesc',\n\t\ttitle: 'nightModeNightModeStartTitle',\n\t\tdependsOn: options => options.automaticNightMode.value === 'user',\n\t},\n\tnightModeEnd: {\n\t\ttype: 'text',\n\t\tvalue: '6:00',\n\t\tdescription: 'nightModeNightModeEndDesc',\n\t\ttitle: 'nightModeNightModeEndTitle',\n\t\tdependsOn: options => options.automaticNightMode.value === 'user',\n\t},\n\tnightModeOverrideHours: {\n\t\ttype: 'text',\n\t\tvalue: '8',\n\t\tdescription: 'nightModeNightModeOverrideHoursDesc',\n\t\ttitle: 'nightModeNightModeOverrideHoursTitle',\n\t\tdependsOn: options => options.automaticNightMode.value !== 'none',\n\t},\n\tuseSubredditStyles: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'nightModeUseSubredditStylesDesc',\n\t\ttitle: 'nightModeUseSubredditStylesTitle',\n\t\tadvanced: true,\n\t},\n\tsubredditStylesWhitelist: {\n\t\ttype: 'list',\n\t\tvalue: '',\n\t\tlistType: 'subreddits',\n\t\tdescription: 'nightModeSubredditStylesWhitelistDesc',\n\t\ttitle: 'nightModeSubredditStylesWhitelistTitle',\n\t},\n\tcoloredLinks: {\n\t\ttype: 'boolean',\n\t\tbodyClass: true,\n\t\tvalue: false,\n\t\tdescription: 'nightModeColoredLinksDesc',\n\t\ttitle: 'nightModeColoredLinksTitle',\n\t},\n};\n\nconst localStorageKey = 'RES_nightMode';\nconst nightModeActive = () => typeof localStorage === 'object' && !!localStorage.getItem(localStorageKey);\nconst nightmodeOverrideStorage = Storage.wrap('RESmodules.nightMode.nightModeOverrideStart', (null: null | number));\nlet toggle;\n\nmodule.onToggle = enabled => {\n\t// If the module is turned off, disable night mode completely\n\tif (toggle && toggle.enabled && !enabled) toggle.toggle();\n};\n\nmodule.onInit = () => {\n\t// To avoid the flash of unstyled content, the very first thing we should do is get a hold\n\t// of the document object and add necessary classes...\n\tif (nightModeActive()) addNightMode();\n};\n\nmodule.beforeLoad = () => {\n\tif (isNightModeOn()) {\n\t\taddNightMode();\n\t} else {\n\t\tremoveNightMode();\n\t}\n\n\ttoggle = new CustomToggles.Toggle('nightMode', i18n('nightModeToggleText'), module.options.nightModeOn.value);\n\ttoggle.onToggle(type => {\n\t\tif (type === 'manual') overrideNightMode();\n\t\tmodule.options.nightModeOn.value = toggle.enabled;\n\t\tOptions.save(module.options.nightModeOn);\n\t});\n\ttoggle.onStateChange(() => {\n\t\tif (toggle.enabled) addNightMode();\n\t\telse removeNightMode();\n\t\t// Update cache\n\t\tisNightmodeCompatible();\n\t});\n\ttoggle.addCLI('ns');\n\tif (module.options.nightSwitch.value) toggle.addMenuItem(i18n('nightModeToggleTitle'), 7, '', '');\n\n\thandleAutomaticNightMode();\n};\n\nmodule.always = () => {\n\tif (!Modules.isRunning(module)) {\n\t\t// Nightmode might have been erronously applied in `onInit`\n\t\tremoveNightMode();\n\t}\n};\n\nexport function isNightModeOn(): boolean {\n\tif (!Modules.isRunning(module)) return false;\n\t// `toggle` contains the current nightMode state\n\treturn toggle ? toggle.enabled : module.options.nightModeOn.value;\n}\n\nexport async function isNightmodeCompatible(useCache: boolean = false): Promise<boolean> {\n\tconst subreddit = currentSubreddit();\n\n\tif (!subreddit) {\n\t\t// not in a subreddit, vanilla reddit is compatible\n\t\treturn true;\n\t}\n\n\tif (['all', 'popular', 'friends', 'mod'].includes(subreddit)) {\n\t\t// special-case subreddits are always compatible\n\t\treturn true;\n\t}\n\n\tconst isAllowedByOptions = async () => {\n\t\tawait Init.loadOptions;\n\n\t\tif (!isNightModeOn()) {\n\t\t\t// nightmode is off\n\t\t\treturn true;\n\t\t}\n\n\t\tif (module.options.useSubredditStyles.value) {\n\t\t\t// user has chosen to always use subreddit styles regardless of compatibility\n\t\t\treturn true;\n\t\t}\n\n\t\tconst isWhitelisted = module.options.subredditStylesWhitelist.value.split(',').includes(subreddit.toLowerCase());\n\t\tif (isWhitelisted) {\n\t\t\t// This subreddit is whitelisted.\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst isSubredditCompatible = async () => {\n\t\t// Check the sidebar for a link [](#/RES_SR_Config/NightModeCompatible) that indicates the sub is night mode compatible.\n\t\tconst query = () => !!document.querySelector('.side a[href$=\"#/RES_SR_Config/NightModeCompatible\"]');\n\t\treturn (\n\t\t\tquery() ||\n\t\t\tawait PagePhases.bodyStart.then(query) ||\n\t\t\tawait waitForChild(document.body, '.side').then(query) ||\n\t\t\tPagePhases.sitetableStarted.then(query)\n\t\t);\n\t};\n\n\tconst id = `isNightmodeCompatible.${subreddit.toLowerCase()}`;\n\tconst updatePromise = update();\n\tconst stored = await Session.get(id);\n\tconst cached = typeof stored === 'boolean' ? stored : !nightModeActive();\n\treturn useCache ? cached : updatePromise;\n\n\tasync function update() {\n\t\tconst compatible = await isAllowedByOptions() || await isSubredditCompatible();\n\t\tawait Session.set(id, compatible);\n\t\tif (cached !== compatible && SubredditStyleToggle.refresh) SubredditStyleToggle.refresh(compatible);\n\t\treturn compatible;\n\t}\n}\n\nexport async function toggledSubredditStyle(toggledOn: boolean): Promise<void> {\n\tconst currSub = currentSubreddit();\n\tif (!isNightModeOn() || !currSub) {\n\t\t// nightmode is off or not in a subreddit, subreddit style toggling is irrelevant\n\t\treturn;\n\t}\n\n\tconst subreddit = currSub.toLowerCase();\n\tconst whitelist = module.options.subredditStylesWhitelist.value.split(',');\n\n\tif (toggledOn && !(await isNightmodeCompatible())) {\n\t\t// toggled on and incompatible, add to whitelist\n\t\tif (!whitelist.includes(subreddit)) {\n\t\t\twhitelist.push(subreddit);\n\t\t}\n\t} else if (!toggledOn) {\n\t\t// toggled off, remove from whitelist\n\t\t_.pull(whitelist, subreddit);\n\t}\n\n\tmodule.options.subredditStylesWhitelist.value = whitelist.join(',');\n\treturn Options.save(module.options.subredditStylesWhitelist);\n}\n\nconst handleAutomaticNightMode = _.once(async function check() {\n\tif (module.options.automaticNightMode.value === 'none') {\n\t\treturn;\n\t}\n\n\t// Handle automatic night mode override\n\t// Grab the override start time, if it exists\n\tconst nightModeOverrideStart = await nightmodeOverrideStorage.get();\n\tconst nightModeOverrideLength = HOUR * parseFloat(module.options.nightModeOverrideHours.value);\n\n\tconst nightModeOverrideEnd = (parseInt(nightModeOverrideStart, 10) || 0) + nightModeOverrideLength;\n\n\tconst isOverrideActive = (Date.now() <= nightModeOverrideEnd);\n\n\t// Toggle is needed if night mode time is reached but night mode is\n\t// disabled, or vice versa, *unless* override is active\n\tconst needsNightModeToggle = !isOverrideActive &&\n\t\t(isNightModeOn() !== await isTimeForNightMode());\n\n\tif (needsNightModeToggle) {\n\t\ttoggle.toggle('auto');\n\t}\n\n\t// wait 5 minutes, then wait for the next frame (i.e. wait for the tab to be focused)\n\tsetTimeout(() => requestAnimationFrame(check), 5 * MINUTE);\n});\n\nfunction overrideNightMode() {\n\tif (module.options.automaticNightMode.value === 'none') {\n\t\treturn;\n\t}\n\n\t// Temporarily disable automatic night mode by setting the start time\n\t// of override\n\tnightmodeOverrideStorage.set(Date.now());\n}\n\n/**\n * Gets user's latitude and longitude using Geolocation API.\n */\nfunction getGeolocation() {\n\treturn new Promise((resolve, reject) => {\n\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\tposition => resolve(position.coords),\n\t\t\treject,\n\t\t);\n\t});\n}\n\n/**\n * Determines night mode startind time and ending time based on user's peferences.\n * If automatic mode is enabled, it will try to determine user's geolocation and use it\n * to calculate sunrise and sunset times.\n * If the user chose user-defined hours or the function will fail to determine user's location,\n * nightModeStart and nightModeEnd values will be used.\n */\nasync function getNightModeTimes() {\n\tswitch (module.options.automaticNightMode.value) {\n\t\tcase 'automatic':\n\t\t\ttry {\n\t\t\t\tconst { latitude, longitude } = await getGeolocation();\n\t\t\t\tconst { sunrise, sunset } = getSunriseSunset(new Date(), latitude, longitude);\n\t\t\t\treturn { startingTime: sunset, endingTime: sunrise };\n\t\t\t} catch (err) {\n\t\t\t\tconsole.warn('Failed to init automatic night mode:', err);\n\n\t\t\t\tswitch (err.code) {\n\t\t\t\t\tcase err.PERMISSION_DENIED:\n\t\t\t\t\t\treturn Alert.open(i18n('nightModeAutomaticNightModeDenied', 'confirm'), { cancelable: true })\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t// they clicked confirm, turn it off\n\t\t\t\t\t\t\t\tmodule.options.automaticNightMode.value = 'none';\n\t\t\t\t\t\t\t\tOptions.save(module.options.automaticNightMode);\n\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tstartingTime: new Date(0),\n\t\t\t\t\t\t\t\t\tendingTime: new Date(0),\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t});\n\t\t\t\t\tcase err.POSITION_UNAVAILABLE:\n\t\t\t\t\tcase err.TIMEOUT:\n\t\t\t\t\tcase err.UNKNOWN_ERROR:\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow err;\n\t\t\t\t}\n\t\t\t}\n\t\tcase 'user':\n\t\t\treturn {\n\t\t\t\tstartingTime: timeStringToDate(module.options.nightModeStart.value),\n\t\t\t\tendingTime: timeStringToDate(module.options.nightModeEnd.value),\n\t\t\t};\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid automaticNightMode value: ${module.options.automaticNightMode.value}`);\n\t}\n}\n\nasync function isTimeForNightMode() {\n\tconst currentTime = new Date();\n\tconst { startingTime, endingTime } = await getNightModeTimes();\n\n\tif (startingTime <= endingTime) {\n\t\t// e.g. enabled between 6am (600) and 8pm (2000)\n\t\treturn (startingTime <= currentTime) && (currentTime < endingTime);\n\t} else {\n\t\t// e.g. enabled between 8pm (2000) and 6am (600)\n\t\treturn (startingTime <= currentTime) || (currentTime < endingTime);\n\t}\n}\n\n/**\n * Converts a string of form \"12:30\" to the current date at that time.\n */\nfunction timeStringToDate(timeString) {\n\tconst [hour, minute] = timeString.split(':').map(s => parseInt(s, 10));\n\tconst date = new Date();\n\tdate.setHours(hour, minute, 0 /* s */, 0 /* ms */);\n\treturn date;\n}\n\nconst className = () => {\n\tswitch (appType()) {\n\t\tcase 'r2':\n\t\tcase 'options':\n\t\t\treturn 'res-nightmode';\n\t\tcase 'd2x':\n\t\t\treturn 'res-d2x-nightmode';\n\t\tdefault:\n\t\t\tthrow new Error(`Impossible appType: ${appType()}`);\n\t}\n};\n\nconst addNightMode = () => {\n\tBodyClasses.add(className());\n\t// Set a localStorage token so that in the future we can add nightmode to the page prior to page load.\n\tlocalStorage.setItem(localStorageKey, 'true');\n};\n\nconst removeNightMode = () => {\n\tBodyClasses.remove(className());\n\tlocalStorage.removeItem(localStorageKey);\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport {\n\tAlert,\n\tCreateElement,\n\tSelectedThing,\n\tTable,\n\tThing,\n\taddDashboardTab,\n\tdowncast,\n\tisPageType,\n\tusernameSelector,\n\tgetUsernameFromLink,\n\tloggedInUser,\n\tpreventCloning,\n\tstring,\n\twatchForElements,\n\twatchForThings,\n\tempty,\n\twatchForRedditEvents,\n\tisAppType,\n} from '../utils';\nimport { Storage, openNewTabs, i18n } from '../environment';\nimport * as CommandLine from './commandLine';\nimport * as FilteReddit from './filteReddit';\nimport * as Hover from './hover';\nimport * as NightMode from './nightMode';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('userTagger');\n\nconst bgToTextColorMap = {\n\tnone: 'inherit',\n\taqua: 'black',\n\tblack: 'white',\n\tblue: 'white',\n\tcornflowerblue: 'white',\n\tfuchsia: 'white',\n\tgray: 'white',\n\tgreen: 'white',\n\tlime: 'black',\n\tmaroon: 'white',\n\tnavy: 'white',\n\tolive: 'white',\n\torange: 'white',\n\torangered: 'white',\n\tpink: 'black',\n\tpurple: 'white',\n\tred: 'white',\n\tsilver: 'black',\n\tteal: 'white',\n\twhite: 'black',\n\tyellow: 'black',\n};\n\nmodule.moduleName = 'userTaggerName';\nmodule.category = 'usersCategory';\nmodule.description = 'userTaggerDesc';\nmodule.options = {\n\tshowTaggingIcon: {\n\t\ttitle: 'userTaggerShowTaggingIconTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerShowTaggingIconDesc',\n\t},\n\tstoreSourceLink: {\n\t\ttitle: 'userTaggerStoreSourceLinkTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerStoreSourceLinkDesc',\n\t\tadvanced: true,\n\t},\n\tuseCommentsLinkAsSource: {\n\t\ttitle: 'userTaggerUseCommentsLinkAsSourceTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerUseCommentsLinkAsSourceDesc',\n\t\tadvanced: true,\n\t},\n\ttrackVoteWeight: {\n\t\ttitle: 'userTaggerTrackVoteWeightTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerTrackVoteWeightDesc',\n\t\tadvanced: true,\n\t},\n\tvwNumber: {\n\t\ttitle: 'userTaggerVwNumberTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerVWNumberDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.trackVoteWeight.value,\n\t},\n\ttruncateTag: {\n\t\ttitle: 'userTaggerTruncateTagTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerTruncateTagDesc',\n\t\tadvanced: true,\n\t},\n\tpresetTags: {\n\t\ttitle: 'userTaggerPresetTagsTitle',\n\t\ttype: 'table',\n\t\taddRowText: '+add preset',\n\t\tfields: [{\n\t\t\tkey: 'text',\n\t\t\tname: 'text',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'color',\n\t\t\tname: 'color',\n\t\t\ttype: 'select',\n\t\t\tvalue: 'none',\n\t\t\tvalues: Object.entries(bgToTextColorMap).map(([k, v]) => ({\n\t\t\t\tname: k,\n\t\t\t\tvalue: k,\n\t\t\t\tstyle: `color: ${v}; background-color: ${k};`,\n\t\t\t})),\n\t\t}],\n\t\tvalue: ([]: Array<[string, string]>),\n\t\tdescription: 'userTaggerPresetTagsDesc',\n\t\tadvanced: true,\n\t},\n};\n\nconst tagStorage = Storage.wrapPrefix('tag.', () => (null: ?{|\n\ttext?: string,\n\tlink?: string,\n\tcolor?: string,\n\tvotesDown?: number,\n\tvotesUp?: number,\n|}), user => user.toLowerCase(), true);\n\nmodule.beforeLoad = () => {\n\t// Immediately load data in order to have it ready on mutation\n\twatchForThings(null, thing => {\n\t\tconst user = thing.getAuthor();\n\t\tif (user) Tag.get(user);\n\t}, { immediate: true });\n\n\twatchForElements(['page', 'selfText'], usernameSelector, applyFromElement);\n\n\twatchForRedditEvents('postAuthor', (element, { author, _: { update } }) => {\n\t\tif (update) return;\n\n\t\t// Remove previously added tags, as Reddit may not empty the container when navigating posts\n\t\tfor (const tag of element.getElementsByClassName('RESUserTag')) tag.remove();\n\n\t\tapplyToUser(element, { username: author });\n\t});\n\twatchForRedditEvents('commentAuthor', (element, { author, _: { update } }) => {\n\t\tif (update) return;\n\t\tapplyToUser(element, { username: author });\n\t});\n\twatchForRedditEvents('userHovercard', (element, { user: { username }, _: { update } }) => {\n\t\tif (update) return;\n\t\tapplyToUser(element, { username, renderTaggingIcon: false });\n\t});\n};\n\nmodule.contentStart = () => {\n\tif (module.options.trackVoteWeight.value && loggedInUser()) {\n\t\tattachVoteHandler();\n\t}\n\n\tregisterCommandLine();\n\n\taddDashboardTab('userTaggerContents', i18n('userTaggerMyUserTags'), module.moduleID, addDashboardFunctionality);\n};\n\nfunction applyFromElement(element) {\n\tconst username = getUsernameFromLink(element);\n\tif (username) return applyToUser(element, { username });\n}\n\nexport function applyToUser(element: HTMLElement, {\n\tusername,\n\trenderTaggingIcon = module.options.showTaggingIcon.value && username !== loggedInUser(),\n\trenderVoteWeight = module.options.trackVoteWeight.value && username !== loggedInUser(),\n}: {|\n\tusername: string,\n\trenderTaggingIcon?: boolean,\n\trenderVoteWeight?: boolean,\n|} = {}) {\n\t// Display tag immediately so that it can be rendered at once without having to wait for storage\n\t// since in most cases there's no applied tag\n\tconst tag = Tag.getUnfilled(username);\n\ttag.add(element, { renderVoteWeight, renderTaggingIcon });\n\ttag.fill();\n}\n\nexport const tags: Map<string, Tag> = new Map();\n\ntype RenderInstance = {|\n\telement: HTMLElement,\n\ttagger?: HTMLElement,\n\tvw?: HTMLElement,\n\trenderTaggingIcon?: boolean,\n\trenderVoteWeight?: boolean,\n\tappend?: boolean,\n|};\n\nexport class Tag {\n\tstatic defaultTagElement = (e => () => e().cloneNode(true))(_.once(() => Tag.buildTagElement()));\n\tstatic buildTagElement({ text, color }: { text: ?string, color: ?string } = {}) {\n\t\treturn string.html`\n\t\t\t<span class=\"RESUserTag\">\n\t\t\t\t<a\n\t\t\t\t\tclass=\"userTagLink ${(text || color) ? 'hasTag' : 'RESUserTagImage'} ${module.options.truncateTag.value ? 'truncateTag' : ''}\"\n\t\t\t\t\t${(text || color) && string._html`style=\"background-color: ${color || 'none'}; color: ${bgToTextColorMap[color || 'none']} !important;\"`}\n\t\t\t\t\ttitle=\"${text || 'set a tag'}\"\n\t\t\t\t\thref=\"javascript:void 0\"\n\t\t\t\t>${text || '\\u00A0'/* nbsp */}</a>\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tstatic async getStored(): Promise<Array<Tag>> {\n\t\treturn Object.entries(await tagStorage.getAll())\n\t\t\t.map(([k, v]) => {\n\t\t\t\tconst tag = Tag.getUnfilled(k);\n\t\t\t\ttag.load(v);\n\t\t\t\treturn tag;\n\t\t\t});\n\t}\n\n\tstatic getUnfilled(id: string): Tag {\n\t\tlet tag = tags.get(id);\n\t\tif (!tag) {\n\t\t\ttag = new Tag(id);\n\t\t\ttags.set(id, tag);\n\t\t}\n\n\t\treturn tag;\n\t}\n\n\tstatic async get(id: string): Promise<Tag> {\n\t\tconst tag = Tag.getUnfilled(id);\n\t\tawait tag.fill();\n\t\treturn tag;\n\t}\n\n\tid: string;\n\ttext: ?string = null;\n\tlink: ?string = null;\n\tcolor: ?string = null;\n\tvotesUp: number = 0;\n\tvotesDown: number = 0;\n\n\tget ignored(): boolean { return FilteReddit.listFilters.users.includesString(this.id); }\n\n\tinstances: Array<RenderInstance> = [];\n\n\tconstructor(id: $PropertyType<this, 'id'> = '~dummy') {\n\t\tthis.id = id;\n\t}\n\n\tfill = _.once(async () => {\n\t\tconst data = await tagStorage.get(this.id);\n\t\tif (data) {\n\t\t\tif (Object.keys(this.getBaseDifference(data)).length) {\n\t\t\t\tthis.load(data);\n\t\t\t} else {\n\t\t\t\tthis.delete();\n\t\t\t}\n\t\t}\n\t});\n\n\tload(data: *) {\n\t\tif (data.color !== undefined) this.color = data.color;\n\t\telse if (data.color === 'none' /* legacy value */) this.color = null;\n\t\tif (data.link !== undefined) this.link = data.link;\n\t\tif (data.text !== undefined) this.text = data.text;\n\t\tif (data.votesDown !== undefined) this.votesDown = data.votesDown;\n\t\tif (data.votesUp !== undefined) this.votesUp = data.votesUp;\n\n\t\tfor (const instance of this.instances) this.render(instance);\n\t}\n\n\textract() {\n\t\treturn {\n\t\t\tcolor: this.color,\n\t\t\tlink: this.link,\n\t\t\ttext: this.text,\n\t\t\tvotesDown: this.votesDown,\n\t\t\tvotesUp: this.votesUp,\n\t\t};\n\t}\n\n\tsave() {\n\t\ttagStorage.set(this.id, this.getBaseDifference());\n\t}\n\n\tgetBaseDifference(data: * = this.extract()) {\n\t\tconst base = (new Tag()).extract();\n\t\treturn _.pickBy(data, (v, k) => base[k] !== v);\n\t}\n\n\tdelete() {\n\t\ttagStorage.delete(this.id);\n\t}\n\n\tadd(element: HTMLAnchorElement | HTMLElement, { renderTaggingIcon, renderVoteWeight, append = isAppType('d2x') }: {| renderTaggingIcon?: boolean, renderVoteWeight?: boolean, append?: boolean |} = {}) {\n\t\tconst instance: RenderInstance = this.instances.find(v => v.element === element) || { element };\n\t\tinstance.append = append;\n\t\tif (!this.instances.includes(instance)) this.instances.push(instance);\n\t\tif (renderTaggingIcon) instance.renderTaggingIcon = true;\n\t\tif (renderVoteWeight) instance.renderVoteWeight = true;\n\t\tthis.render(instance);\n\t}\n\n\tget votes(): number {\n\t\treturn this.votesUp - this.votesDown;\n\t}\n\n\tignore({ showNotice = true }: { showNotice: boolean } = {}) {\n\t\tif (showNotice) {\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\tnotificationID: 'addedToIgnoreList',\n\t\t\t\tmessage: `\n\t\t\t\t\t<p>Now ignoring content posted by ${this.id}.</p>\n\t\t\t\t\t${isPageType('inbox') ? `\n\t\t\t\t\t\t<p>If you wish to block ${this.id} from sending you messages, go to <a href=\"/message/messages/\">your messages</a> and click 'block user' underneath their last message.</p>\n\t\t\t\t\t\t<p><a href=\"https://www.reddit.com/r/changelog/comments/ijfps/reddit_change_users_may_block_other_users_that/\">About blocking users</a>.</p>\n\t\t\t\t\t` : ''}\n\t\t\t\t`,\n\t\t\t\tcloseDelay: 5000,\n\t\t\t});\n\t\t}\n\n\t\tFilteReddit.listFilters.users.toggleString(this.id, true);\n\t\tif (!this.text) this.load({ text: 'ignored' });\n\t\tthis.save();\n\t}\n\n\tunignore() {\n\t\tFilteReddit.listFilters.users.toggleString(this.id, false);\n\t\tif (this.text === 'ignored') this.load({ text: null });\n\t\tthis.save();\n\t}\n\n\topenPrompt(instance: *) {\n\t\tif (this.link === null && module.options.storeSourceLink.value) {\n\t\t\t// since we haven't yet set a tag or a link for this user, auto populate a link for the\n\t\t\t// user based on where we are tagging from.\n\t\t\tthis.link = getLinkBasedOnTagLocation(instance.element);\n\t\t}\n\n\t\tHover.infocard('userTagger')\n\t\t\t.target(instance.tagger || instance.element)\n\t\t\t.options({ openDelay: 0, width: 350, closeOnMouseOut: false })\n\t\t\t.populateWith(card => populateDialog(this, card))\n\t\t\t.begin();\n\t}\n\n\trender(instance: *) {\n\t\tif (instance.vw) instance.vw.remove();\n\t\tif (instance.renderVoteWeight && (this.votesUp || this.votesDown)) {\n\t\t\tinstance.vw = preventCloning(string.html`\n\t\t\t\t<a\n\t\t\t\t\tclass=\"voteWeight\"\n\t\t\t\t\thref=\"javascript:void 0\"\n\t\t\t\t\ttitle=\"${i18n('userTaggerYourVotesFor', this.id, `+${this.votesUp} -${this.votesDown}`)}\"\n\t\t\t\t\tstyle=\"${getVoteWeightStyle(this)}\"\n\t\t\t\t>${module.options.vwNumber.value ? `[${this.votes > 0 ? '+' : ''}${this.votes}]` : '[vw]'}</a>\n\t\t\t`);\n\t\t\tinstance.vw.addEventListener('click', () => this.openPrompt(instance));\n\t\t\tif (instance.append) {\n\t\t\t\t(instance.tagger || instance.element).appendChild(instance.vw);\n\t\t\t} else {\n\t\t\t\t(instance.tagger || instance.element).after(instance.vw);\n\t\t\t}\n\t\t}\n\n\t\tif (instance.tagger) instance.tagger.remove();\n\t\tif (this.text || this.color || instance.renderTaggingIcon) {\n\t\t\t// `defaultTagElement` is a lot fast than `buildTagElement`\n\t\t\tinstance.tagger = preventCloning((this.text || this.color) ? Tag.buildTagElement(this) : Tag.defaultTagElement());\n\t\t\tinstance.tagger.addEventListener('click', () => this.openPrompt(instance));\n\t\t\tif (instance.append) {\n\t\t\t\tinstance.element.appendChild(instance.tagger);\n\t\t\t} else {\n\t\t\t\tinstance.element.after(instance.tagger);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction populateDialog(tag: Tag, card) {\n\tconst head = string.html`<div class=\"userTagger-dialog-head\">\n\t\t<span class=\"res-icon\">&#xF0AC;</span>\n\t\t<span>${tag.id}</span>\n\t\t<span class=\"res-usertag-ignore\"></span>\n\t\t</div>\n\t</div>`;\n\n\tconst colors = Object.entries(bgToTextColorMap)\n\t\t.map(([color, textColor]) => ({\n\t\t\ttextColor,\n\t\t\tcolor,\n\t\t}));\n\n\tconst presetTags = module.options.presetTags.value;\n\n\tconst body = string.html`\n\t\t<form id=\"userTaggerToolTip\">\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerText\">Text</label>\n\t\t\t\t<input class=\"fieldPair-text\" type=\"text\" id=\"userTaggerText\" value=\"${tag.text}\">\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerColor\">Color</label>\n\t\t\t\t<select id=\"userTaggerColor\">\n\t\t\t\t\t${colors.map(({ textColor, color }) => string._html`\n\t\t\t\t\t\t<option style=\"color: ${textColor}; background-color: ${color}\" value=\"${color}\" ${tag.color === color && string._html`selected`}>${color}</option>\n\t\t\t\t\t`)}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\" style=\"flex-wrap: wrap\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerPreview\">Preview</label>\n\t\t\t\t<span id=\"userTaggerPreview\"></span>\n\t\t\t\t<a id=\"userTaggerPresetSaveAs\" title=\"save as preset\" href=\"javascript:void 0\">save as preset</a>\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerLink\">\n\t\t\t\t\t<span class=\"userTaggerOpenLink\">\n\t\t\t\t\t\t<a title=\"open link\" href=\"javascript:void 0\">Source URL</a>\n\t\t\t\t\t</span>\n\t\t\t\t</label>\n\t\t\t\t<input class=\"fieldPair-text\" type=\"text\" id=\"userTaggerLink\" value=\"${tag.link}\">\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerVotesUp\" title=\"Upvotes you have given this redditor\">Upvotes</label>\n\t\t\t\t<input type=\"number\" style=\"width: 50px;\" id=\"userTaggerVotesUp\" value=\"${tag.votesUp}\">\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerVotesDown\" title=\"Downvotes you have given this redditor\">Downvotes</label>\n\t\t\t\t<input type=\"number\" style=\"width: 50px;\" id=\"userTaggerVotesDown\" value=\"${tag.votesDown}\">\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\" ${!presetTags.length && 'hidden'}>\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerPresetTags\">Presets</label>\n\t\t\t\t<span id=\"userTaggerPresetTags\"></span>\n\t\t\t</div>\n\t\t\t<div class=\"res-usertagger-footer\">\n\t\t\t\t<a href=\"/r/dashboard#userTaggerContents\" target=\"_blank\" rel=\"noopener noreferer\">View tagged users</a>\n\t\t\t\t<input type=\"submit\" id=\"userTaggerSave\" value=\" save tag\">\n\t\t\t</div>\n\t\t</form>\n\t`;\n\n\tconst elements = {\n\t\tcolor: downcast(body.querySelector('#userTaggerColor'), HTMLSelectElement),\n\t\tpresetSaveAs: downcast(body.querySelector('#userTaggerPresetSaveAs'), HTMLAnchorElement),\n\t\tpresetTag: downcast(body.querySelector('#userTaggerPresetTags'), HTMLElement),\n\t\tpresetFieldPair: downcast(body.querySelector('#userTaggerPresetTags').parentElement, HTMLElement),\n\t\tlink: downcast(body.querySelector('#userTaggerLink'), HTMLInputElement),\n\t\topenLink: downcast(body.querySelector('.userTaggerOpenLink a'), HTMLAnchorElement),\n\t\tpreview: downcast(body.querySelector('#userTaggerPreview'), HTMLElement),\n\t\tsave: downcast(body.querySelector('#userTaggerSave'), HTMLElement),\n\t\ttext: downcast(body.querySelector('#userTaggerText'), HTMLInputElement),\n\t\tvotesDown: downcast(body.querySelector('#userTaggerVotesDown'), HTMLInputElement),\n\t\tvotesUp: downcast(body.querySelector('#userTaggerVotesUp'), HTMLInputElement),\n\t};\n\n\thead.querySelector('.res-usertag-ignore').append(\n\t\tCreateElement.toggleButton(\n\t\t\tignore => {\n\t\t\t\tconst textShouldBeUpdated = extract().text === tag.text; // Override text only if not manually changed\n\t\t\t\tif (ignore) tag.ignore(); else tag.unignore();\n\t\t\t\tif (textShouldBeUpdated) elements.text.value = tag.text || '';\n\t\t\t\tupdateTagPreview();\n\t\t\t},\n\t\t\t'userTaggerIgnore',\n\t\t\ttag.ignored,\n\t\t\t'\\uF038' /* ignored */,\n\t\t\t'\\uF03B' /* normal */,\n\t\t\tfalse,\n\t\t\ttrue,\n\t\t),\n\t);\n\n\tfunction extract() {\n\t\treturn {\n\t\t\tcolor: elements.color.value !== 'none' ? elements.color.value : null,\n\t\t\tlink: elements.link.value || null,\n\t\t\ttext: elements.text.value || null,\n\t\t\tvotesDown: parseInt(elements.votesDown.value, 10) || 0,\n\t\t\tvotesUp: parseInt(elements.votesUp.value, 10) || 0,\n\t\t};\n\t}\n\n\tfunction updateTagPreview() {\n\t\tempty(elements.preview);\n\t\telements.preview.appendChild(Tag.buildTagElement(extract()));\n\t}\n\n\tfunction buildPresetTagElement(text: ?string, color: ?string) {\n\t\tconst element = Tag.buildTagElement({ text, color });\n\t\telement.addEventListener('click', () => {\n\t\t\ttag.load({ text, color });\n\t\t\ttag.save();\n\t\t\tcard.close();\n\t\t});\n\t\treturn element;\n\t}\n\n\tfunction saveAsPreset() {\n\t\tconst { text, color } = extract();\n\t\tif (text || color) {\n\t\t\telements.presetFieldPair.hidden = false;\n\t\t\telements.presetTag.append(buildPresetTagElement(text, color));\n\t\t\tmodule.options.presetTags.value.push([String(text), String(color)]);\n\t\t\tOptions.save(module.options.presetTags);\n\t\t} else {\n\t\t\twindow.alert('Tag text must be specified in order to save as preset.');\n\t\t}\n\t}\n\n\telements.openLink.addEventListener('click', () => openNewTabs('none', ...elements.link.value.split(/\\s/)));\n\telements.presetTag.append(...presetTags.map(([text, color]) => buildPresetTagElement(text, color)));\n\telements.presetSaveAs.addEventListener('click', () => saveAsPreset());\n\n\t$(body).on('change input click', updateTagPreview);\n\tbody.addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\ttag.load(extract());\n\t\ttag.save();\n\t\tcard.close();\n\t});\n\n\tupdateTagPreview();\n\tsetTimeout(() => {\n\t\telements.text.setSelectionRange(elements.text.value.length, elements.text.value.length);\n\t\telements.text.focus();\n\t});\n\n\treturn [head, body];\n}\n\nfunction registerCommandLine() {\n\tlet tag;\n\n\tCommandLine.registerCommand('tag', `tag [text] - ${i18n('userTaggerCommandLineDescription')}`,\n\t\tasync (command, val) => {\n\t\t\tconst username = SelectedThing.current && SelectedThing.current.getAuthor();\n\t\t\ttag = username && await Tag.get(username);\n\t\t\treturn tag ?\n\t\t\t\ti18n(val ? 'userTaggerTagUserAs' : 'userTaggerTagUser', tag.id, val) :\n\t\t\t\ti18n('userTaggerTagCanNotSetTag');\n\t\t},\n\t\t(command, val) => {\n\t\t\tif (tag) {\n\t\t\t\ttag.load({ text: val });\n\t\t\t\ttag.save();\n\t\t\t} else {\n\t\t\t\treturn i18n('userTaggerTagCanNotSetTag');\n\t\t\t}\n\t\t},\n\t);\n}\n\nfunction attachVoteHandler() {\n\t// hand-rolled delegated listener because jQuery doesn't support useCapture\n\t// which is necessary so we run before reddit's handler\n\tdocument.body.addEventListener('click', (e: MouseEvent) => {\n\t\tif (e.button !== 0) return;\n\t\tif (e.target.classList.contains('arrow')) {\n\t\t\thandleVoteClick(e.target);\n\t\t}\n\t}, true);\n}\n\nasync function handleVoteClick(arrow) {\n\tconst $this = $(arrow);\n\tconst $otherArrow = $this.siblings('.arrow');\n\n\t// Stop if the post is archived (unvotable)\n\tif ($this.hasClass('archived')) {\n\t\treturn;\n\t}\n\n\t// there are 6 possibilities here:\n\t// 1) no vote yet, click upmod\n\t// 2) no vote yet, click downmod\n\t// 3) already upmodded, undoing\n\t// 4) already downmodded, undoing\n\t// 5) upmodded before, switching to downmod\n\t// 6) downmodded before, switching to upmod\n\n\t// classes are changed AFTER this event is triggered\n\tlet up = 0;\n\tlet down = 0;\n\tif ($this.hasClass('up')) {\n\t\t// adding an upvote\n\t\tup = 1;\n\t\tif ($otherArrow.hasClass('downmod')) {\n\t\t\t// also removing a downvote\n\t\t\tdown = -1;\n\t\t}\n\t} else if ($this.hasClass('upmod')) {\n\t\t// removing an upvote directly\n\t\tup = -1;\n\t} else if ($this.hasClass('down')) {\n\t\t// adding a downvote\n\t\tdown = 1;\n\t\tif ($otherArrow.hasClass('upmod')) {\n\t\t\t// also removing an upvote\n\t\t\tup = -1;\n\t\t}\n\t} else if ($this.hasClass('downmod')) {\n\t\t// removing a downvote directly\n\t\tdown = -1;\n\t}\n\n\t// must load tag object _after_ checking the DOM, so that classes will not be changed\n\tconst thing = Thing.checkedFrom(arrow);\n\tconst username = thing.getAuthor();\n\n\t// ignore votes for self\n\tif (username === loggedInUser()) return;\n\n\tconst tag = username && await Tag.get(username);\n\tif (!tag) throw new Error('No tag');\n\ttag.load({\n\t\tvotesUp: tag.votesUp + up,\n\t\tvotesDown: tag.votesDown + down,\n\t});\n\ttag.save();\n}\n\nfunction getLinkBasedOnTagLocation(obj) {\n\tconst thing = Thing.from(obj);\n\tif (!thing) return '';\n\tconst link = !module.options.useCommentsLinkAsSource.value && thing.getTitleElement() ||\n\t\tthing.getCommentPermalink();\n\treturn link ? link.href : '';\n}\n\nfunction getVoteWeightStyle({ votes, votesUp, votesDown }) {\n\tlet red = 255;\n\tlet green = 255;\n\tlet blue = 255;\n\tlet alpha = 1;\n\tif (votesUp > votesDown) {\n\t\tred = Math.max(0, 255 - 8 * votes);\n\t\tgreen = 255;\n\t\tblue = Math.max(0, 255 - 8 * votes);\n\t\talpha = Math.abs(votes) / (votesUp + votesDown);\n\t} else if (votesUp < votesDown) {\n\t\tred = 255;\n\t\tgreen = Math.max(0, (255 - Math.abs(8 * votes)));\n\t\tblue = Math.max(0, (255 - Math.abs(8 * votes)));\n\t\talpha = Math.abs(votes) / (votesUp + votesDown);\n\t}\n\n\tconst color = `rgba(${red}, ${green}, ${blue}, ${0.2 + alpha * 0.8})`;\n\treturn NightMode.isNightModeOn() ?\n\t\t`color: ${color};` :\n\t\t`background-color: ${color};`;\n}\n\nasync function addDashboardFunctionality(tabPage) {\n\tconst headers = {\n\t\tusername: i18n('userTaggerUsername'),\n\t\ttag: i18n('userTaggerTag'),\n\t\tcolor: i18n('userTaggerColor'),\n\t\tvotesDown: i18n('userTaggerVotesDown'),\n\t\tvotesUp: i18n('userTaggerVotesUp'),\n\t\tdelete: '',\n\t};\n\n\tconst data = await Tag.getStored();\n\n\tconst getRow = tag => {\n\t\tconst tagSpan = document.createElement('span');\n\t\ttag.add(tagSpan, { renderTaggingIcon: true, append: true });\n\n\t\tconst deleteSpan = string.html`<span class=\"res-icon res-right deleteIcon\" data-icon=\"&#xf056;\"></span>`;\n\t\tdeleteSpan.addEventListener('click', (e: MouseEvent) => {\n\t\t\tAlert.open(i18n('userTaggerAreYouSureYouWantToDeleteTag', tag.id), { cancelable: true }).then(() => {\n\t\t\t\ttag.delete();\n\t\t\t\t(e.currentTarget.closest('tr'): any).remove();\n\t\t\t\t_.pull(data, tag);\n\t\t\t});\n\t\t});\n\n\t\treturn {\n\t\t\tusername: string.html`<a href=\"/user/${tag.id}\">${tag.id}</a>`,\n\t\t\ttag: tagSpan,\n\t\t\tcolor: string.html`<span style=\"color: ${tag.color || 'initial'}\">${tag.color ? tag.color : ''}</span>`,\n\t\t\tvotesDown: tag.votesDown,\n\t\t\tvotesUp: tag.votesUp,\n\t\t\tdelete: deleteSpan,\n\t\t};\n\t};\n\n\tconst table = new Table.RESTable(headers, data, getRow, { sortBy: 'username' });\n\n\tconst element = document.createElement('div');\n\telement.append(\n\t\ttable.createSearchElement(tag => tag.id, 'Username', true),\n\t\ttable.createSelectFilters([\n\t\t\t{ name: i18n('userTaggerAllUsers'), filter: () => true, initialSelected: false },\n\t\t\t{ name: i18n('userTaggerTaggedUsers'), filter: tag => tag.text, initialSelected: true },\n\t\t]),\n\t\ttable.createPaginationElement(),\n\t\ttable.element,\n\t);\n\n\ttabPage.append(element);\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\nimport { Tag } from '../../userTagger';\n\nexport class UserTag extends PatternCase {\n\tstatic text = 'User tag';\n\n\tstatic async thingToCriterion(thing: *) {\n\t\tconst author = thing.getAuthor();\n\t\treturn author && (await Tag.get(author)).text || '';\n\t}\n\n\tstatic fields = ['author of this post has tag matching ', { type: 'text', id: 'patt' }];\n\n\tstatic pattern = '[RegEx]';\n\n\ttrueText = `user tag ${this.conditions.patt}`.trim();\n\n\tvalue = this.build(true, '/./');\n\n\tasync evaluate(thing: *) {\n\t\tconst author = thing.getAuthor();\n\t\tif (!author) return null;\n\t\tconst tag = (await Tag.get(author)).text;\n\t\treturn tag ? this.value.some(v => v.test(tag)) : false;\n\t}\n}\n","/* @flow */\n\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\nimport * as Modules from '../../../core/modules';\nimport * as UserTagger from '../../userTagger';\nimport { Case } from '../Case';\n\nexport class UserVoteWeight extends Case {\n\tstatic text = 'User vote weight';\n\n\tstatic parseCriterion(input: *) { return { op: '>=', val: parseInt(input, 10) }; }\n\tstatic async thingToCriterion(thing: *) {\n\t\tconst username = thing.getAuthor();\n\t\tif (!username) throw new Error('No username');\n\t\treturn String((await UserTagger.Tag.get(username)).votes || 0);\n\t}\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['user\\'s vote weight is ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' votes'];\n\n\tstatic slow = 1;\n\tstatic get disabled(): boolean {\n\t\treturn !Modules.isEnabled(UserTagger) || !UserTagger.module.options.trackVoteWeight.value;\n\t}\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `vote weight ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `vote weight ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return Number.isInteger(this.value.val); }\n\n\tasync evaluate(thing: *) {\n\t\tconst username = thing.getAuthor();\n\t\tif (!username) return null;\n\t\treturn numericalCompare(this.value.op, (await UserTagger.Tag.get(username)).votes, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class Username extends PatternCase {\n\tstatic text = 'Username';\n\n\tstatic thingToCriterion(thing: *) { return thing.getAuthor(); }\n\n\tstatic fields = ['posted by /u/', { type: 'text', id: 'patt' }];\n\n\ttrueText = `by ${this.conditions.patt}`;\n\n\tvalue = this.build(true);\n\n\tevaluate(thing: *) {\n\t\tconst user = thing.getAuthor();\n\t\tif (!user) return null;\n\t\treturn this.value.some(v => v.test(user));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nconst options = [\n\t['upvoted', 'upvote'],\n\t['downvoted', 'downvote'],\n\t['not voted', 'unvoted'],\n];\n\nexport class VoteType extends Case {\n\tstatic text = 'Vote type';\n\n\tstatic parseCriterion(input: *) { return { kind: input }; }\n\n\tstatic defaultConditions = { kind: 'unvoted' };\n\tstatic fields = ['post is ', { type: 'select', id: 'kind', options }, ' by me'];\n\n\tstatic pattern = `(${options.map(([, cls]) => cls).join('|')})`;\n\n\ttrueText = (options.find(([, cls]) => cls === this.conditions.kind) || [])[0];\n\n\tisValid() { return options.map(([, cls]) => cls).includes(this.value.kind); }\n\n\tevaluate(thing: *) {\n\t\tswitch (this.value.kind) {\n\t\t\tcase 'upvote': return thing.isUpvoted();\n\t\t\tcase 'downvote': return thing.isDownvoted();\n\t\t\tcase 'unvoted': return thing.isUnvoted();\n\t\t\tdefault: throw new Error('Invalid option');\n\t\t}\n\t}\n}\n","/* @flow */\n\nexport { CommentCount as commentCount } from './CommentCount';\nexport { NewCommentCount as newCommentCount } from './NewCommentCount';\nexport { CommentsOpened as commentsOpened } from './CommentsOpened';\nexport { Domain as domain } from './Domain';\nexport { Expando as hasExpando } from './Expando';\nexport { IsLocked as isLocked } from './IsLocked';\nexport { IsNSFW as isNSFW } from './IsNSFW';\nexport { IsSpoiler as isSpoiler } from './IsSpoiler';\nexport { IsVisited as isVisited } from './IsVisited';\nexport { LinkFlair as linkFlair } from './LinkFlair';\nexport { PostAfter as postAfter } from './PostAfter';\nexport { PostAge as postAge } from './PostAge';\nexport { PostTitle as postTitle } from './PostTitle';\nexport { PostType as postType } from './PostType';\nexport { Score as score } from './Score';\nexport { Selector as selector } from './Selector';\nexport { Subreddit as subreddit } from './Subreddit';\nexport { UserAttr as userAttr } from './UserAttr';\nexport { UserFlair as userFlair } from './UserFlair';\nexport { UserTag as userTag } from './UserTag';\nexport { UserVoteWeight as userVoteWeight } from './UserVoteWeight';\nexport { Username as username } from './Username';\nexport { VoteType as voteType } from './VoteType';\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class CommentContent extends PatternCase {\n\tstatic text = 'Comment content';\n\n\tstatic parseCriterion(input: *) { return { patt: input }; }\n\n\tstatic fields = ['comment contains ', { type: 'text', id: 'patt' }];\n\n\ttrueText = `comment contains ${this.conditions.patt}`;\n\n\tvalue = this.build(false);\n\n\tevaluate(thing: *) {\n\t\tconst body = thing.getTextBody();\n\t\tif (!body) return null;\n\t\treturn this.value.some(v => v.test(body.textContent));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nconst options = ['characters', 'words'];\n\nexport class CommentLength extends Case {\n\tstatic text = 'Comment length';\n\n\tstatic parseCriterion(input: *) { return { op: '>=', kind: 'words', val: parseInt(input, 10) }; }\n\n\tstatic fields = ['comment length is ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' ', { type: 'select', id: 'kind', options }];\n\tstatic defaultConditions = { op: '>', kind: 'words', val: 0 };\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `length ${prettyOperator(this.conditions.op)} ${this.conditions.val} ${this.conditions.kind}`;\n\tfalseText = `length ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val} ${this.conditions.kind}`;\n\n\tisValid() { return Number.isInteger(this.value.val); }\n\n\tevaluate(thing: *) {\n\t\tconst md = thing.entry.querySelector('.md');\n\t\tif (!md) return null;\n\t\tswitch (this.value.kind) {\n\t\t\tcase 'characters': return numericalCompare(this.value.op, md.textContent.length, this.value.val);\n\t\t\tcase 'words': return numericalCompare(this.value.op, md.textContent.split(' ').length, this.value.val);\n\t\t\tdefault: throw new Error('Invalid option');\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nexport class Depth extends Case {\n\tstatic text = 'Comment depth';\n\n\tstatic parseCriterion(input: *) { return { op: '==', val: parseInt(input, 10) }; }\n\tstatic thingToCriterion(thing: *) { return String(thing.getParents().length); }\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['comment\\'s depth ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }];\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `depth ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `depth ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return this.value.val >= 0; }\n\n\tevaluate(thing: *) {\n\t\tconst depth = thing.getParents().length;\n\t\treturn numericalCompare(this.value.op, depth, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class IsDeleted extends Case {\n\tstatic text = 'Deleted';\n\n\tstatic fields = ['comment is deleted'];\n\n\tstatic unique = true;\n\n\ttrueText = 'deleted';\n\n\tevaluate(thing: *) {\n\t\treturn thing.isDeleted();\n\t}\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { Storage, isPrivateBrowsing } from '../environment';\nimport {\n\tThing,\n\tSelectedThing,\n\tbatch,\n\texecRegexes,\n\tmaybePruneOldEntries,\n\twatchForThings,\n} from '../utils';\nimport * as FilteReddit from './filteReddit';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('readComments');\n\nmodule.moduleName = 'readCommentsName';\nmodule.category = 'commentsCategory';\nmodule.description = 'readCommentsDesc';\nmodule.options = {\n\tcleanComments: {\n\t\ttype: 'text',\n\t\tvalue: '30',\n\t\tdescription: 'readCommentsCleanCommentsDesc',\n\t\ttitle: 'readCommentsCleanCommentsTitle',\n\t\tadvanced: true,\n\t},\n\tmonitorSelected: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'readCommentsMonitorSelectedDesc',\n\t\ttitle: 'readCommentsMonitorSelectedTitle',\n\t},\n\tmonitorWhenIncognito: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdependsOn: () => module.options.monitorSelected.value,\n\t\tdescription: 'readCommentsMonitorWhenIncognitoDesc',\n\t\ttitle: 'readCommentsMonitorWhenIncognitoTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.include = ['comments', 'commentsLinklist'];\n\nconst currentId = (execRegexes.comments(location.pathname) || [])[2] || location.pathname;\nconst entryStorage = Storage.wrapPrefix('readComments.', (): {|\n\tupdateTime: number,\n\tids: { [string]: true },\n|} => ({\n\tupdateTime: Date.now(),\n\tids: {},\n}));\n\nconst initial = entryStorage.get(currentId);\nlet ids;\n\nmodule.beforeLoad = async () => {\n\tids = await (initial.then(({ ids }) => new Set(Object.keys(ids))));\n\n\tmaybeHidePrevious();\n\n\tif (module.options.monitorSelected.value) {\n\t\tif (!module.options.monitorWhenIncognito.value && isPrivateBrowsing()) return;\n\n\t\tSelectedThing.addListener(current => {\n\t\t\tif (current.isComment() && current.isContentVisible()) add(current);\n\t\t}, 'beforePaint');\n\t}\n\n\tmaybePruneOldEntries('readComments', entryStorage, parseInt(module.options.cleanComments.value, 10));\n};\n\nasync function maybeHidePrevious() {\n\tif (!ids.size) return;\n\n\tconst filterline = await FilteReddit.filterlinePromise;\n\tconst filter = filterline.createFilter({ type: 'isRead', id: 'isRead' });\n\t// Don't display notification if the filter is already active\n\tif (filter.state === false && filter.effects.hide) return;\n\n\t// Display notification only when an already read comment is loaded\n\tawait new Promise(res => watchForThings(['comment'], thing => { if (isRead(thing)) res(); }));\n\n\tconst hideButton = document.createElement('button');\n\thideButton.textContent = 'Hide read comments';\n\thideButton.addEventListener('click', () => {\n\t\tfilter.update(false, undefined, { hide: true /* `, propagate: true` may be desirable */ });\n\t\tif (!filter.parent) filterline.addFilter(filter);\n\t\tif (FilteReddit.ensureFilterlineVisible) FilteReddit.ensureFilterlineVisible();\n\t\tnotification.close();\n\t});\n\n\tconst notification = Notifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\tnotificationID: 'hideRead',\n\t\theader: 'Previously read comments',\n\t\tmessage: hideButton,\n\t\tcloseDelay: 8000,\n\t});\n}\n\nconst _add = batch(ids => (\n\tentryStorage.patch(\n\t\tcurrentId,\n\t\t{ ids: ids.reduce((acc, id) => { acc[id] = true; return acc; }, {}), updateTime: Date.now() },\n\t)\n), { size: Infinity, delay: 5000, flushBeforeUnload: true });\n\nexport const add = (thing: Thing) => {\n\tif (!ids) return;\n\tconst id = thing.getFullname();\n\t_add(id);\n};\n\nexport const isRead = (thing: *) => {\n\tif (!ids) throw new Error();\n\treturn ids.has(thing.getFullname());\n};\n","/* @flow */\n\nimport { Case } from '../Case';\nimport * as ReadComments from '../../readComments';\nimport * as Modules from '../../../core/modules';\n\nexport class IsRead extends Case {\n\tstatic text = 'Read';\n\n\tstatic fields = ['comment is read'];\n\tstatic get disabled(): boolean {\n\t\treturn !Modules.isEnabled(ReadComments);\n\t}\n\n\tstatic unique = true;\n\n\ttrueText = 'read';\n\n\tevaluate(thing: *) {\n\t\treturn ReadComments.isRead(thing);\n\t}\n}\n","/* @flow */\n\nexport { CommentContent as commentContent } from './CommentContent';\nexport { CommentLength as commentLength } from './CommentLength';\nexport { Depth as depth } from './Depth';\nexport { Expando as hasExpando } from '../postCases/Expando';\nexport { IsDeleted as isDeleted } from './IsDeleted';\nexport { IsRead as isRead } from './IsRead';\nexport { PostAfter as postAfter } from '../postCases/PostAfter';\nexport { PostAge as postAge } from '../postCases/PostAge';\nexport { Score as score } from '../postCases/Score';\nexport { Selector as selector } from '../postCases/Selector';\nexport { UserAttr as userAttr } from '../postCases/UserAttr';\nexport { UserFlair as userFlair } from '../postCases/UserFlair';\nexport { UserVoteWeight as userVoteWeight } from '../postCases/UserVoteWeight';\nexport { Username as username } from '../postCases/Username';\nexport { UserTag as userTag } from '../postCases/UserTag';\nexport { VoteType as voteType } from '../postCases/VoteType';\n","/* @flow */\n\nimport {\n\tcurrentMultireddit,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tisPageType,\n} from '../../../utils';\nimport { Case } from '../Case';\n\nexport class BrowsingFrontPage extends Case {\n\tstatic text = 'Browsing the front page';\n\tstatic fields = ['when browsing the front page'];\n\n\tevaluate() {\n\t\treturn isPageType('linklist') &&\n\t\t\t!currentSubreddit() &&\n\t\t\t!currentMultireddit() &&\n\t\t\t!currentUserProfile();\n\t}\n}\n","/* @flow */\n\nimport { fullLocation } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class CurrentLocation extends Case {\n\tstatic text = 'When browsing in location';\n\n\tstatic defaultConditions = { patt: fullLocation() };\n\tstatic fields = ['when browsing ', { type: 'text', id: 'patt' }];\n\n\tevaluate() {\n\t\treturn fullLocation() === this.value.patt;\n\t}\n}\n","/* @flow */\n\nimport { currentMultireddit } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class CurrentMulti extends Case {\n\tstatic text = 'When browsing a multireddit';\n\n\tstatic defaultConditions = { user: '', name: '' };\n\tstatic fields = ['when browsing /u/', { type: 'text', id: 'user' }, '/m/', { type: 'text', id: 'name' }];\n\n\tvalue = {\n\t\tname: Case.buildRegex(this.conditions.name),\n\t\tuser: Case.buildRegex(this.conditions.user),\n\t};\n\n\tevaluate() {\n\t\tconst rawMulti = currentMultireddit();\n\t\tif (!rawMulti) return false;\n\t\tconst parts = (/^(?:user\\/)?([a-z0-9_-]+)\\/m\\/([a-z0-9_-]+)$/i).exec(rawMulti);\n\t\tif (!parts) return false;\n\t\tconst [, user, multi] = parts;\n\t\tif (user === 'me' && this.conditions.name === 'me') {\n\t\t\treturn this.value.name.test(multi);\n\t\t} else {\n\t\t\treturn this.value.user.test(user) && this.value.name.test(multi);\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { currentUserProfile } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class CurrentUserProfile extends Case {\n\tstatic text = 'When browsing a user profile';\n\n\tstatic defaultConditions = { patt: '' };\n\tstatic fields = ['when browsing /u/', { type: 'text', id: 'patt' }, '\\'s posts'];\n\n\tvalue = Case.buildRegex(this.conditions.patt);\n\n\tevaluate() {\n\t\tconst user = currentUserProfile();\n\t\treturn !!user && this.value.test(user);\n\t}\n}\n","/* @flow */\n\nimport { currentSubreddit } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class CurrentSub extends Case {\n\tstatic text = 'When browsing a subreddit';\n\n\tstatic defaultConditions = { patt: '' };\n\tstatic fields = ['when browsing /r/', { type: 'text', id: 'patt' }];\n\n\tvalue = Case.buildRegex(this.conditions.patt);\n\n\tevaluate() {\n\t\tconst sub = currentSubreddit();\n\t\treturn !!sub && this.value.test(sub);\n\t}\n}\n","/* @flow */\n\nimport { dayjs } from '../../../utils/localization';\nimport { Case } from '../Case';\n\nconst options = [\n\t['before', '<'],\n\t['on or after', '>='],\n];\n\nexport class Date extends Case {\n\tstatic text = 'Date';\n\n\tstatic defaultConditions = { op: '<', date: '2020-12-30' };\n\tstatic fields = ['today is ', { type: 'select', options, id: 'op' }, ' ', { type: 'text', id: 'date' }];\n\n\tvalue = { op: this.conditions.op, date: dayjs(this.conditions.date) };\n\n\tisValid() { return this.value.date.isValid(); }\n\n\tevaluate() {\n\t\treturn (this.value.op === '<') === dayjs().isBefore(this.value.date);\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nconst days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nexport class Dow extends Case {\n\tstatic text = 'Day of week';\n\n\tstatic defaultConditions = { days: [] };\n\tstatic fields = ['current day of the week is ', { type: 'checkset', items: days, id: 'days' }];\n\n\tevaluate() {\n\t\tconst currentDOW = days[new Date().getDay()];\n\t\treturn this.value.days.includes(currentDOW);\n\t}\n}\n","/* @flow */\n\nimport { PagePhases, loggedInUser } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class LoggedInAs extends Case {\n\tstatic text = 'Logged in user';\n\n\tstatic defaultConditions = { loggedInAs: '' }; // Don't try to fetch current username as the default value, as that may trigger `loggedInUser` prematurely\n\tstatic fields = ['logged in as /u/', { type: 'text', id: 'loggedInAs' }];\n\n\tvalue = Case.buildRegex(this.conditions.loggedInAs);\n\n\tasync evaluate() {\n\t\tawait PagePhases.sitetableStarted; // loggedInUser requires the header to be loaded\n\t\tconst myName = loggedInUser();\n\t\treturn !!myName && this.value.test(myName);\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport * as CustomToggles from '../../customToggles';\n\nconst getOptions = () => CustomToggles.getToggles().map(({ key, text }) => [text, key]);\n\nexport class Toggle extends Case {\n\tstatic text = 'Custom toggle';\n\n\tstatic defaultConditions = { toggleName: getOptions()[0] || '' }; // TODO Migrate `toggleName` to `key`\n\tstatic fields = [\n\t\t'custom toggle ',\n\t\t{ type: 'select', id: 'toggleName', get options() { return getOptions(); } },\n\t\t' is enabled',\n\t];\n\n\tevaluate() {\n\t\tconst key = this.value.toggleName;\n\t\treturn CustomToggles.toggleActive(key);\n\t}\n}\n","/* @flow */\n\nexport { BrowsingFrontPage as browsingFrontPage } from './BrowsingFrontPage';\nexport { CurrentLocation as currentLocation } from './CurrentLocation';\nexport { CurrentMulti as currentMulti } from './CurrentMulti';\nexport { CurrentUserProfile as currentUserProfile } from './CurrentUserProfile';\nexport { CurrentSub as currentSub } from './CurrentSub';\nexport { Date as date } from './Date';\nexport { Dow as dow } from './Dow';\nexport { LoggedInAs as loggedInAs } from './LoggedInAs';\nexport { Toggle as toggle } from './Toggle';\n","/* @flow */\n\nimport _ from 'lodash';\nimport { asyncFilter, fastAsync, randomHash } from '../../utils';\nimport type { BuilderValue } from '../../core/module';\nimport { Case } from './Case';\nimport * as postCases from './postCases';\nimport * as commentCases from './commentCases';\nimport * as browseCases from './browseCases';\n\nexport class Inert extends Case {\n\tisValid(): boolean { return false; }\n\n\tevaluate() { console.error('Evaluating inert case'); return false; }\n}\n\nclass True extends Case {\n\tstatic text = 'True';\n\n\tstatic fields = ['always true'];\n\n\tevaluate() { return true; }\n}\n\nclass False extends Case {\n\tstatic text = 'False';\n\n\tstatic fields = ['always false'];\n\n\tevaluate() { return false; }\n}\n\nexport class Group extends Case {\n\tstatic text = 'Group of conditions';\n\n\tstatic fields = [\n\t\t{ type: 'select', options: ['none', 'any', 'one', 'all'], id: 'op' },\n\t\t' of these are true:',\n\t\t{ type: 'multi', include: 'all', id: 'of' },\n\t];\n\n\tstatic +defaultConditions = { op: 'all', of: [] };\n\tstatic slow = 1; // May be considerably slower depending on children\n\n\t_cases = this.conditions.of.map(v => Case.fromConditions(v));\n\n\t// TODO This is unnecessary for some external filters\n\ttrueText = this._cases.length && this.toCriterion(this.conditions.op, this._cases) || 'empty group';\n\n\ttoCriterion(op: *, cases: *) {\n\t\tconst symbol = (op === 'any' || op === 'none') && '' || op === 'one' && '' || '';\n\t\tlet str = cases.map(v => v.trueText).join(` ${symbol} `);\n\t\tif (cases.length > 1) str = `(${str})`;\n\t\treturn op === 'none' ? ` ${str}` : str;\n\t}\n\n\tisValid() { return this._cases.every(v => v.isValid()); }\n\n\tvalue = (() => {\n\t\tconst op = this.conditions.op;\n\t\tconst [NONE, ANY, ONE, ALL] = [op === 'none', op === 'any', op === 'one', op === 'all'];\n\n\t\tconst evaluators = this._cases\n\t\t\t.sort((a, b) => a.constructor.slow - b.constructor.slow)\n\t\t\t.map(cased => cased.evaluate.bind(cased));\n\n\t\treturn fastAsync(function*(thing) {\n\t\t\tlet seenTrue = false;\n\n\t\t\tfor (const evaluator of evaluators) {\n\t\t\t\tif (yield evaluator(thing)) {\n\t\t\t\t\tif (NONE) return false;\n\t\t\t\t\telse if (ANY) return true;\n\t\t\t\t\telse if (ONE && seenTrue) return false;\n\t\t\t\t\tseenTrue = true;\n\t\t\t\t} else {\n\t\t\t\t\tif (ALL) return false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (NONE) return true;\n\t\t\telse if (ANY) return false;\n\t\t\telse if (ONE) return seenTrue;\n\t\t\telse /* if (ALL) */ return true;\n\t\t});\n\t})();\n\n\thasType(type: *) { return super.hasType(type) || this._cases.some(v => v.hasType(type)); }\n\n\tevaluate(thing: *) { return this.value(thing); }\n\n\tonObserve() {\n\t\treturn this._cases.map(v => v.observe(this)).some(v => v);\n\t}\n}\n\nconst falseConditions = { type: 'false' };\nconst trueConditions = { type: 'true' };\nconst inertConditions = { type: 'inert' };\n\ntype GroupConditions = { type: string, op: 'none' | 'any' | 'one' | 'all', of: Array<BuilderValue> };\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function resolveGroup(GroupConditions, boolean, true): GroupConditions;\ndeclare function resolveGroup(GroupConditions, ?boolean, ?boolean): BuilderValue;\n\nexport function resolveGroup(initial: GroupConditions, precompute: boolean = true, keepGroup: boolean = false) {\n\tlet seenTrue = false;\n\n\tlet of = [];\n\tlet op = initial.op;\n\n\tfor (let v of initial.of) {\n\t\tif (!has(v.type)) {\n\t\t\tconsole.error(`Type ${v.type} is not available`);\n\t\t\treturn inertConditions;\n\t\t}\n\n\t\tif (v.type === 'group') v = resolveGroup(v, precompute);\n\n\t\tif (\n\t\t\t!keepGroup &&\n\t\t\tprecompute &&\n\t\t\t!available[v.type].prototype.evaluate.length\n\t\t) {\n\t\t\t// browseCases only needs to be evaluated once in order to determine their impact\n\t\t\tconst match = Case.fromConditions(v).evaluate();\n\t\t\tif (typeof match === 'boolean') {\n\t\t\t\tif (match) {\n\t\t\t\t\tif (op === 'none') return falseConditions;\n\t\t\t\t\tif (op === 'any') return trueConditions;\n\t\t\t\t\tif (op === 'one' && seenTrue) return falseConditions;\n\t\t\t\t\tseenTrue = true;\n\t\t\t\t} else {\n\t\t\t\t\tif (op === 'all') return falseConditions;\n\t\t\t\t}\n\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\tof.push(v);\n\t}\n\n\tif (op === 'one' && seenTrue) {\n\t\t// Set `op` to `none` since a case has matched already\n\t\top = 'none';\n\t}\n\n\tif (!keepGroup) {\n\t\t// Single cases can be released\n\t\tif (of.length === 1) {\n\t\t\tconst p = of[0];\n\n\t\t\tif (op !== 'none') {\n\t\t\t\treturn p;\n\t\t\t} else if (p.type === 'group') {\n\t\t\t\tif (p.op === 'none') {\n\t\t\t\t\tp.op = 'any';\n\t\t\t\t\treturn p;\n\t\t\t\t} else if (p.op === 'any' || p.op === 'all') {\n\t\t\t\t\tp.op = 'none';\n\t\t\t\t\treturn p;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Empty groups can be resolved\n\t\tif (!of.length) {\n\t\t\tif (op === 'none') return trueConditions;\n\t\t\tif (op === 'any') return falseConditions;\n\t\t\tif (op === 'one') return falseConditions;\n\t\t\tif (op === 'all') return trueConditions;\n\t\t}\n\t}\n\n\tif (precompute && (op === 'any' || op === 'none')) {\n\t\tconst l = of.length;\n\t\tconst typeSorted = of.sort((a, b) => a.type === b.type ? 0 : a.type > b.type ? 1 : -1);\n\t\tof = [];\n\t\tfor (let i = 0; i < l; i++) { // eslint-disable-line no-restricted-syntax\n\t\t\tconst a = typeSorted[i];\n\t\t\tconst cls = available[a.type];\n\t\t\tconst reconcile = cls.reconcile;\n\t\t\tif (reconcile) {\n\t\t\t\tconst values = [a];\n\t\t\t\tlet b;\n\t\t\t\t// Look for more cases of same type\n\t\t\t\twhile ((b = typeSorted[i + 1]) && a.type === b.type) {\n\t\t\t\t\ti++;\n\t\t\t\t\tvalues.push(b);\n\t\t\t\t}\n\n\t\t\t\tof.push(...reconcile(values));\n\t\t\t} else {\n\t\t\t\tof.push(a);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { type: 'group', op, of };\n}\n/* eslint-enable no-redeclare, no-unused-vars */\n\nexport function getConditions(type: string, conditions?: ?{}): BuilderValue {\n\treturn { type, ...(available[type] && available[type].defaultConditions), ...conditions };\n}\n\nexport function getGroup(op: *, of: *): GroupConditions {\n\treturn getConditions('group', { op, of });\n}\n\nexport function createAdHoc(type: string, getConditions: *, variant: *, context: *, customFilter: *) {\n\tconst { opts: { name = type } = {} } = customFilter || {};\n\n\tclass AdHoc extends Case {\n\t\tstatic text = name;\n\n\t\t// Generate new conditions each time in order to avoid caching, as\n\t\t// `getConditions` can return updated values, e.g. if a external filter has been removed\n\t\tstatic get defaultConditions(): * { return getConditions(); }\n\n\t\tstatic unique = true;\n\n\t\tstatic variant = variant;\n\n\t\tstatic _customFilter = customFilter;\n\t}\n\n\tadd(type, AdHoc, context);\n\n\treturn AdHoc;\n}\n\nconst available: { [type: string]: Class<Case> } = {};\n\nfunction getUniqueTypeName(name: any): string {\n\tif (typeof name !== 'string') name = '';\n\twhile (!name || has(name)) {\n\t\t// Make sure filter has an unique name\n\t\tname += randomHash();\n\t}\n\n\treturn name;\n}\n\nexport function add(type: ?string, c: Class<Case>, ...contexts: Array<'post' | 'comment' | 'browse'>) {\n\tif (!type || (available.hasOwnProperty(type) && c !== available[type])) {\n\t\ttype = getUniqueTypeName(type);\n\t}\n\n\tc.type = type;\n\tif (!c.contexts) c.contexts = [];\n\tc.contexts.push(...contexts);\n\tavailable[type] = c;\n}\n\nconst primitives = new Set();\n\nexport function populatePrimitives(types: Array<*> = ['post', 'comment', 'browse']) {\n\tfunction fill(cases, ...contexts) {\n\t\tfor (const [k, v] of Object.entries(cases)) {\n\t\t\tadd(k, v, ...contexts);\n\t\t\tprimitives.add(v);\n\t\t}\n\t}\n\n\tfill({\n\t\tinert: Inert,\n\t\tfalse: False,\n\t\ttrue: True,\n\t});\n\n\tfill({ group: Group }, 'post', 'comment', 'browse');\n\n\tif (types.includes('post')) fill(postCases, 'post');\n\tif (types.includes('comment')) fill(commentCases, 'comment');\n\tif (types.includes('browse')) fill(browseCases, 'browse');\n}\n\nexport function filterThings(things: *, conditions: *) {\n\tif (!conditions) return things;\n\tconst cased = Case.fromConditions(conditions);\n\treturn asyncFilter(things, /*:: async */ thing => cased.evaluate(thing));\n}\n\nexport const remove = (type: string) => { delete available[type]; };\nexport const has = (type: string) => available.hasOwnProperty(type);\nexport const get = (type: string) => has(type) ? available[type] : Inert;\nexport const getByContext = (context: *, primitivesOnly: boolean = true) =>\n\t_.pickBy(available, v => v.contexts.includes(context) && (!primitivesOnly || primitives.has(v)));\nexport const isUseful = (type: ?string) => typeof type === 'string' && has(type) && ![Inert.type, False.type, True.type].includes(type);\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tAlert,\n\tBodyClasses,\n\taddFloater,\n\tformatDate,\n\tformatDateDiff,\n\tgetUserInfo,\n\tisLoggedIn,\n\tloggedInUser,\n\tmutex,\n\tstring,\n} from '../utils';\nimport { ajax, multicast, i18n } from '../environment';\nimport * as CommandLine from './commandLine';\nimport * as Hover from './hover';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('accountSwitcher');\n\nmodule.moduleName = 'accountSwitcherName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'accountSwitcherDesc';\nmodule.options = {\n\tkeepLoggedIn: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'accountSwitcherKeepLoggedInDesc',\n\t\ttitle: 'accountSwitcherKeepLoggedInTitle',\n\t\tkeywords: ['remember'],\n\t},\n\taccounts: {\n\t\ttype: 'table',\n\t\taddRowText: 'accountSwitcherAddAccount',\n\t\tfields: [{\n\t\t\tkey: 'username',\n\t\t\tname: 'accountSwitcherUsername',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'password',\n\t\t\tname: 'accountSwitcherPassword',\n\t\t\ttype: 'password',\n\t\t}, {\n\t\t\tkey: '2fa',\n\t\t\tname: 'accountSwitcherRequiresOtp',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: false,\n\t\t}],\n\t\tvalue: ([]: Array<[string, string, boolean]>),\n\t\tdescription: 'accountSwitcherAccountsDesc',\n\t\ttitle: 'accountSwitcherAccountsTitle',\n\t},\n\tupdateOtherTabs: {\n\t\ttype: 'boolean',\n\t\tdescription: 'accountSwitcherUpdateOtherTabsDesc',\n\t\ttitle: 'accountSwitcherUpdateOtherTabsTitle',\n\t\tvalue: true,\n\t\tadvanced: true,\n\t},\n\treloadOtherTabs: {\n\t\ttype: 'boolean',\n\t\tdescription: 'accountSwitcherReloadOtherTabsDesc',\n\t\ttitle: 'accountSwitcherReloadOtherTabsTitle',\n\t\tvalue: false,\n\t\tadvanced: true,\n\t},\n\tshowCurrentUserName: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'accountSwitcherShowCurrentUserNameDesc',\n\t\ttitle: 'accountSwitcherShowCurrentUserNameTitle',\n\t\tadvanced: true,\n\t},\n\tdropDownStyle: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'accountSwitcherSnoo',\n\t\t\tvalue: 'alien',\n\t\t}, {\n\t\t\tname: 'accountSwitcherSimpleArrow',\n\t\t\tvalue: 'arrow',\n\t\t}],\n\t\tvalue: 'alien',\n\t\tdescription: 'accountSwitcherDropDownStyleDesc',\n\t\ttitle: 'accountSwitcherDropDownStyleTitle',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tshowUserDetails: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'accountSwitcherShowUserDetailsDesc',\n\t\ttitle: 'accountSwitcherShowUserDetailsTitle',\n\t\tadvanced: true,\n\t},\n\tshowKarma: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'accountSwitcherShowKarmaDesc',\n\t\ttitle: 'accountSwitcherShowKarmaTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.showUserDetails.value,\n\t},\n\tshowGold: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'accountSwitcherShowGoldDesc',\n\t\ttitle: 'accountSwitcherShowGoldTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.showUserDetails.value,\n\t},\n};\n\nlet hover;\n\nconst accounts = _.once(() =>\n\tmodule.options.accounts.value.reduce((acc, v) => {\n\t\tacc[v[0].toLowerCase()] = {\n\t\t\ttext: v[0],\n\t\t\tstoredPassword: v[1],\n\t\t\trequiresOtp: v[2],\n\t\t};\n\t\treturn acc;\n\t}, {}),\n);\n\nmodule.contentStart = () => {\n\tconst downArrow = module.options.dropDownStyle.value === 'alien' ?\n\t\tstring.html`<span id=\"RESAccountSwitcherIcon\"></span>` :\n\t\tstring.html`<span id=\"RESAccountSwitcherIcon\"><span class=\"downArrow\"></span></span>`;\n\tdownArrow.addEventListener('click', () => hover.begin());\n\tdownArrow.addEventListener('dblclick', manageAccounts);\n\n\tconst userLink = document.querySelector('#header-bottom-right > span.user > a');\n\tif (userLink) {\n\t\tuserLink.style.marginRight = '2px';\n\t\tuserLink.after(downArrow);\n\t} else {\n\t\taddFloater(downArrow, { order: 3 });\n\t}\n\n\thover = Hover.dropdownList(module.moduleID)\n\t\t.options({\n\t\t\tclassName: 'RESAccountSwitcherDropdown',\n\t\t\topenDelay: 0,\n\t\t\toffsetHeight: 5,\n\t\t})\n\t\t.populateWith(createAccountMenu)\n\t\t.target(downArrow);\n\n\tlet username;\n\tCommandLine.registerCommand(/^sw$/, `sw [username] - ${i18n('accountSwitcherCliHelp')}`,\n\t\t(command, val) => {\n\t\t\tconst usernames = Object.keys(accounts()).filter(username => username.startsWith(val.toLowerCase()));\n\t\t\tusername = usernames.includes(val) ? val : usernames[0];\n\t\t\treturn `${i18n('accountSwitcherCliSwitchToUsernamePrompt')} ${val}${_.without(usernames, val).length ? `[${usernames.map(v => v.replace(val, '')).filter(Boolean).join('|')}]` : ''}`;\n\t\t},\n\t\t() => {\n\t\t\tif (username) switchTo(username);\n\t\t\telse manageAccounts();\n\t\t},\n\t);\n};\n\nasync function createAccountMenu() {\n\tconst accountMenu = document.createDocumentFragment();\n\n\tconst users = await Promise.all(\n\t\tObject.entries(accounts())\n\t\t\t.map(async ([username, { text }]) => ({\n\t\t\t\ttext,\n\t\t\t\tusername,\n\t\t\t\tactive: username.localeCompare(loggedInUser() || '', { sensitivity: 'base' }) === 0,\n\t\t\t\tdata: module.options.showUserDetails.value && (await getUserInfo(username).catch(e => {\n\t\t\t\t\tconsole.error('Error loading userinfo for', username, e);\n\t\t\t\t\treturn {};\n\t\t\t\t})).data || {},\n\t\t\t})),\n\t);\n\n\tfor (const { text, username, active, data } of users) {\n\t\tif (!module.options.showCurrentUserName.value && active) continue;\n\n\t\tconst goldExpDate = data.gold_expiration && new Date(data.gold_expiration * 1000);\n\t\tconst element = string.html`\n\t\t\t<li class=\"accountName ${active && 'active'}\">\n\t\t\t\t<span style=\"margin-right: auto;\">${text}</span>\n\t\t\t\t${module.options.showKarma.value && data.link_karma && string._html`\n\t\t\t\t\t<span style=\"margin-left: 4px\">(${data.link_karma} &middot; ${data.comment_karma})</span>\n\t\t\t\t`}\n\t\t\t\t${module.options.showGold.value && data.is_gold && string._html`\n\t\t\t\t\t<span style=\"all: initial; margin-left: 4px; line-height: 0;\" class=\"gilded-icon\" title=\"${goldExpDate && i18n('accountSwitcherGoldUntil', formatDate(goldExpDate), formatDateDiff(new Date(), goldExpDate))}\"></span>\n\t\t\t\t`}\n\t\t\t\t<a style=\"margin-left: 4px\" onclick=\"event.stopPropagation()\" href=\"/user/${username}\" class=\"res-icon linkIcon\"></a>\n\t\t\t</li>\n\t\t`;\n\t\telement.addEventListener('click', async () => {\n\t\t\tBodyClasses.add('res-accountSwitcher-in-progress');\n\t\t\ttry {\n\t\t\t\tawait switchTo(username);\n\t\t\t} catch (e) {\n\t\t\t\tBodyClasses.remove('res-accountSwitcher-in-progress');\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t});\n\t\taccountMenu.append(element);\n\t}\n\n\t{\n\t\tconst element = string.html`<li class=\"addAccount\">+ add account</li>`;\n\t\telement.addEventListener('click', manageAccounts);\n\t\taccountMenu.append(element);\n\t}\n\n\treturn [accountMenu];\n}\n\nconst switchTo = mutex(async (username: string) => {\n\tconst { storedPassword, requiresOtp } = accounts()[username];\n\n\t// Don't await promise yet so that the password and OTP can be entered while logging out\n\tconst logoutPromise = isLoggedIn() && ajax({ method: 'POST', url: '/logout' });\n\n\tconst password = storedPassword ? storedPassword : window.prompt(i18n('accountSwitcherPasswordPrompt', username));\n\n\tlet otp;\n\tif (requiresOtp) {\n\t\totp = {\n\t\t\totp: window.prompt(i18n('accountSwitcherOptPrompt', username)),\n\t\t};\n\t}\n\n\tawait logoutPromise;\n\n\tconst { success, jquery } = await ajax({\n\t\tmethod: 'POST',\n\t\turl: '/api/login',\n\t\tdata: {\n\t\t\tuser: username,\n\t\t\tpasswd: password,\n\t\t\t...otp,\n\t\t\trem: module.options.keepLoggedIn.value ? 'on' : 'off',\n\t\t},\n\t\ttype: 'json',\n\t}).catch(e => {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'accountSwitcher',\n\t\t\tmessage: i18n('accountSwitcherAccountSwitchError'),\n\t\t});\n\n\t\tthrow e;\n\t});\n\n\tif (module.options.updateOtherTabs.value) {\n\t\tswitchedAccountElsewhere(success ? username : null);\n\t}\n\n\tif (success) {\n\t\treloadPage();\n\t} else {\n\t\t// (hackily) try to figure out why login failed\n\t\tconst jqueryRpc = JSON.stringify(jquery);\n\t\tconst message =\n\t\t\t(jqueryRpc.includes('PASSWORD') && i18n('accountSwitcherLoginError', username)) ||\n\t\t\t(jqueryRpc.includes('RATELIMIT') && i18n('accountSwitcherRateLimitError')) ||\n\t\t\ti18n('accountSwitcherUnknownError', username, jqueryRpc);\n\t\tAlert.open(message, { cancelable: true })\n\t\t\t.then(manageAccounts);\n\t}\n});\n\nconst switchedAccountElsewhere = multicast(username => {\n\tconst hasDraft = Array.from(document.getElementsByTagName('textarea'))\n\t\t.some(textarea => textarea.value);\n\n\tif (!hasDraft && module.options.reloadOtherTabs.value) {\n\t\treloadPage();\n\t\treturn;\n\t}\n\n\tlet message = username ?\n\t\ti18n('accountSwitcherUserSwitched', username) :\n\t\ti18n('accountSwitcherLoggedOut');\n\n\tif (hasDraft) {\n\t\tmessage += ` ${i18n('accountSwitcherDraft', loggedInUser() || '')}`;\n\t}\n\n\tmessage += ` <p><a class=\"RESNotificationButtonBlue\" href=\"${location.pathname}\">${i18n('accountSwitcherReload')}</a></p>`;\n\n\tNotifications.showNotification({\n\t\tmoduleID: 'accountSwitcher',\n\t\toptionKey: 'updateOtherTabs',\n\t\tmessage,\n\t});\n}, { name: 'switchedAccountElsewhere', local: false, crossContext: false });\n\nfunction manageAccounts() {\n\thover.close();\n\tSettingsNavigation.open(module.moduleID, 'accounts');\n}\n\nfunction reloadPage() {\n\t// Create a new history entry, in case the current one contains state data specific to the old user\n\thistory.pushState({}, '');\n\tlocation.reload();\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport * as Metadata from '../core/metadata';\nimport { guiders } from '../vendor/guiders';\nimport { Module } from '../core/module';\nimport { BrowserDetect, regexes, string } from '../utils';\nimport { ajax } from '../environment';\nimport type { RedditWikiPage } from '../types/reddit';\nimport * as NightMode from './nightMode';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('submitIssue');\n\nmodule.moduleName = 'submitIssueName';\nmodule.category = 'aboutCategory';\nmodule.alwaysEnabled = true;\nmodule.sort = -7;\nmodule.description = 'submitIssueDesc';\nmodule.include = ['submit'];\n\nconst subreddits = ['enhancement', 'resissues'];\nconst subredditsForDiagnostics = ['beta', 'help', 'resbetatesting'];\n\nmodule.go = () => {\n\tcheckIfSubmitting();\n};\n\nconst submitWizardTemplate = ({ foolin, settings, bugs, requests }) => string.html`\n\t<div>\n\t\t${foolin && string._html`\n\t\t\t<h2>Enjoy April Fool's</h2>\n\t\t\t<p>RES can't turn off any of Reddit's shenanigans. However, <a href=\"/r/Enhancement/wiki/faq/srstyle\" target=\"_blank\" rel=\"noopener noreferer\">you can turn off subreddit styles</a>.</p>\n\t\t`}\n\n\t\t<h2>Something is broken in RES. How do I fix it?</h2>\n\n\t\t<p>Take a minute to read through other posts. Someone might have already posted a solution.</p>\n\n\t\t<ol id=\"RESKnownBugs\">\n\t\t\t${bugs.map(({ url, title }) => string._html`\n\t\t\t\t<li>\n\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferer\" href=\"${url}\">${title}</a>\n\t\t\t\t</li>\n\t\t\t`)}\n\t\t</ol>\n\n\t\t<p><a href=\"/r/RESissues/submit/\" class=\"blueButton\">Ask how to fix RES</a></p>\n\n\t\t<p>Please write some text about:</p>\n\t\t<dl>\n\n\t\t\t<dt>What makes this happen?</dt>\n\t\t\t<dd>\n\t\t\t\tclicking a button, opening an image preview, ...\n\t\t\t</dd>\n\n\n\t\t\t<dt>Where does this happen?</dt>\n\t\t\t<dd>\n\t\t\t\tin a particular subreddit, on comments pages, on frontpage (reddit.com), on /r/all, ...\n\t\t\t</dd>\n\n\t\t\t<dt>Screenshot/video of problem</dt>\n\t\t\t<dd>\n\t\t\t\t<a href=\"https://www.take-a-screenshot.org/\" target=\"_blank\" rel=\"noreferer noopener\">Take a screenshot</a>, <a href=\"https://imgur.com/upload\">upload it</a>, and copy-paste the link here.\n\t\t\t</dd>\n\t\t</dl>\n\n\n\t\t<h2>How do I customize or use RES features?</h2>\n\t\t<p>If you want to disable certain features of RES, try searching in <a href=\"${settings}\">RES settings</a>, your account's <a href=\"/prefs\">reddit preferences</a>, or <a href=\"/r/Enhancement/search?q=restrict_sr=on\">posts in r/Enhancement</a>.</p>\n\n\t\t<p><a href=\"/r/Enhancement/submit/\" class=\"blueButton\">Get guidance on using RES</a></p>\n\n\n\t\t<h2>I have a suggestion.</h2>\n\n\t\t<p>Look for similar ideas before posting:</p>\n\t\t<ol id=\"RESKnownFeatureRequests\">\n\t\t\t${requests.map(({ url, title }) => string._html`\n\t\t\t\t<li>\n\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferer\" href=\"${url}\">${title}</a>\n\t\t\t\t</li>\n\t\t\t`)}\n\t\t</ol>\n\t\t<p><a href=\"/r/Enhancement/submit/\" class=\"blueButton\">Post a request</a></p>\n\n\n\t\t<h2>I found a security issue.</h2>\n\t\t<p>Please report security issues privately using modmail.</p>\n\t\t<p><a href=\"/message/compose/?to=/r/Enhancement\" class=\"blueButton\">Report a security issue</a></p>\n\t</div>\n`;\n\nconst submitIssueDefaultBody = `\n*What's up?*\n???\n\n\n*Where does it happen?*\n???\n\n\n*Screenshots or mock-ups*\n???\n\n\n*What browser extensions are installed?*\n???\n`.trim();\n\nexport const diagnostics = _.once(() => `\n\n- Night mode: ${String(NightMode.isNightModeOn())}\n- RES Version: ${Metadata.version}\n- Browser: ${BrowserDetect.browser}\n- Browser Version: ${BrowserDetect.version}\n- Cookies Enabled: ${String(navigator.cookieEnabled)}\n- Reddit beta: ${String($('.beta-hint').length > 0)}\n\n`);\n\nfunction checkIfSubmitting() {\n\tconst subredditInput: ?HTMLInputElement = (document.getElementById('sr-autocomplete'): any);\n\tconst selfText: ?HTMLTextAreaElement = (document.querySelector('.usertext-edit textarea'): any);\n\n\tif (subredditInput) {\n\t\tfunction check() {\n\t\t\tconst subreddit = subredditInput.value;\n\n\t\t\tif (subreddits.includes(subreddit.toLowerCase())) {\n\t\t\t\tshowWizard();\n\t\t\t\tinjectTemplate(selfText);\n\t\t\t} else {\n\t\t\t\thideWizard();\n\t\t\t\t// User can be smart about clearing the template on their own\n\t\t\t}\n\t\t}\n\n\t\tcheck();\n\n\t\tsubredditInput.addEventListener('change', e => {\n\t\t\tif ((e: any).res) return;\n\t\t\tcheck();\n\t\t});\n\n\t\t// don't delegate, reddit cancels bubbling\n\t\t// wait a moment, reddit loads some metadata\n\t\t// really this should be a MutationObserver on subredditInput\n\t\t$('#suggested-reddits .sr-suggestion').on('click', () => setTimeout(check, 500));\n\t}\n\n\tif (selfText && subredditInput) {\n\t\t$(selfText).add(subredditInput).on('blur', () => {\n\t\t\tconst subreddit = subredditInput.value;\n\t\t\tif ([...subreddits, ...subredditsForDiagnostics].includes(subreddit.toLowerCase())) {\n\t\t\t\tconst diagnosticsStripped = diagnostics().replace(/\\s/g, '');\n\t\t\t\tconst selfTextStripped = selfText.value.replace(/\\s/g, '');\n\t\t\t\tif (!selfTextStripped.includes(diagnosticsStripped)) {\n\t\t\t\t\tselfText.value += diagnostics();\n\t\t\t\t\t$(selfText).trigger('input');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tselfText.value = selfText.value.replace(diagnostics(), '');\n\t\t\t\t$(selfText).trigger('input');\n\t\t\t}\n\t\t});\n\t}\n}\n\n\nfunction updateSubreddit(subreddit) {\n\tconst input: HTMLInputElement = (document.querySelector('#sr-autocomplete'): any);\n\tinput.value = subreddit;\n\tconst e = new Event('change');\n\t(e: any).res = true;\n\tinput.dispatchEvent(e);\n}\n\nfunction injectTemplate(selfText) {\n\tif (selfText && !selfText.value) {\n\t\tselfText.value = submitIssueDefaultBody;\n\t}\n}\n\nasync function wizard() {\n\tconst [bugs, requests] = await Promise.all([\n\t\tfetchLinks('/r/Enhancement/wiki/knownbugs.json'),\n\t\tfetchLinks('/r/Enhancement/wiki/knownrequests.json'),\n\t]);\n\n\treturn submitWizardTemplate({\n\t\tfoolin: foolin(),\n\t\tbugs,\n\t\trequests,\n\t\tsettings: SettingsNavigation.makeUrlHash(),\n\t});\n}\n\nconst guiderId = 'RESSubmitWizard';\nasync function showWizard() {\n\tconst guider = guiders.get(guiderId);\n\tif (guider) {\n\t\tguiders.show(guider.id);\n\t\treturn;\n\t}\n\n\tconst description = await wizard();\n\n\tconst buttonCustomHTML = `\n\t\t<footer>\n\t\t\t<small>\n\t\t\t\t<a href=\"/r/RESissues/wiki/knownissues\">known issues</a>\n\t\t\t\t|  <a href=\"/r/RESissues/wiki/postanissue\">troubleshooting</a>\n\t\t\t</small>\n\t\t</footer>\n\t`;\n\n\tguiders.createGuider({\n\t\tattachTo: '.submit .usertext',\n\t\tdescription,\n\t\tbuttonCustomHTML,\n\t\tid: guiderId,\n\t\t// offset: { left: -200, top: 120 },\n\t\tposition: 3,\n\t\ttitle: 'What are you posting about?',\n\t}).show();\n\n\t$(document.body).on('click', '#RESSubmitWizard a[href$=\"/submit/\"]', (e: Event) => {\n\t\tconst match = (e.currentTarget: any).pathname.match(regexes.submit);\n\t\tif (!match) return;\n\t\tupdateSubreddit(match[1]);\n\t\te.preventDefault();\n\t});\n}\n\nfunction hideWizard() {\n\tif (guiders.get(guiderId)) {\n\t\t// Why is there no `guiders.hide(id)`\n\t\tguiders.hideAll();\n\t}\n}\n\nasync function fetchLinks(url) {\n\ttry {\n\t\tconst { data } = (await ajax({ url, type: 'json' }): RedditWikiPage);\n\t\treturn parseObjectList(data && data.content_md);\n\t} catch (e) {\n\t\treturn [];\n\t}\n}\n\nfunction parseObjectList(text) {\n\tif (!text) {\n\t\treturn [];\n\t}\n\n\tconst items = text.split(/\\s*-{3,}\\s*/).filter(x => x.match(/[^\\s\\n]/));\n\n\treturn items.map(dictText => {\n\t\tconst item = {};\n\t\tconst dictMapping = dictText.replace(/\\r/g, '').split('\\n');\n\n\t\tfor (const rawLine of dictMapping) {\n\t\t\tconst line = $.trim(rawLine).split(':');\n\t\t\tif (line.length > 0) {\n\t\t\t\tconst key = line.shift();\n\t\t\t\tif (key) {\n\t\t\t\t\titem[key] = line.join(':');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn item;\n\t});\n}\n\nfunction foolin() {\n\tconst now = new Date();\n\treturn (\n\t\t(now.getMonth() === 2 && now.getDate() > 30) ||\n\t\t(now.getMonth() === 3 && now.getDate() <= 2)\n\t);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport {\n\tAlert,\n\tDAY,\n\tNAMED_KEYS,\n\tThing,\n\tcheckKeysForEvent,\n\tclick,\n\tcurrentSubreddit,\n\tisCurrentSubreddit,\n\tescapeHTML,\n\tempty,\n\tisPageType,\n\tloggedInUser,\n\tniceKeyCode,\n\trange,\n\tregexes,\n\tstring,\n} from '../utils';\nimport type { KeyArray } from '../utils/keycode';\nimport { ajax, i18n } from '../environment';\nimport type { RedditSearchSubredditNames, RedditSearchWikiNames } from '../types/reddit';\nimport * as AccountSwitcher from './accountSwitcher';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as UserTagger from './userTagger';\nimport * as SubmitIssue from './submitIssue';\n\nexport const module: Module<*> = new Module('commentTools');\n\nmodule.moduleName = 'commentToolsName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentToolsDesc';\nmodule.options = {\n\tuserAutocomplete: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsUserAutoCompleteDesc',\n\t\ttitle: 'commentToolsUserAutoCompleteTitle',\n\t\tkeywords: ['autosuggest'],\n\t\tadvanced: true,\n\t},\n\tsubredditAutocomplete: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsSubredditAutocompleteDesc',\n\t\ttitle: 'commentToolsSubredditAutocompleteTitle',\n\t\tkeywords: ['autosuggest'],\n\t\tadvanced: true,\n\t},\n\twikiAutocomplete: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsWikiAutocompleteDesc',\n\t\ttitle: 'commentToolsWikiAutocompleteTitle',\n\t\tadvanced: true,\n\t},\n\tformattingToolButtons: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsFormattingToolButtonsDesc',\n\t\ttitle: 'commentToolsFormattingToolButtonsTitle',\n\t},\n\tkeyboardShortcuts: {\n\t\tdependsOn: options => options.formattingToolButtons.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsKeyboardShortcutsDesc',\n\t\ttitle: 'commentToolsKeyboardShortcutsTitle',\n\t},\n\tboldKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [66, false, true, false, false], // ctrl-b\n\t\tdescription: 'commentToolsBoldKeyDesc',\n\t\ttitle: 'commentToolsBoldKeyTitle',\n\t},\n\titalicKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [73, false, true, false, false], // ctrl-i\n\t\tdescription: 'commentToolsItalicKeyDesc',\n\t\ttitle: 'commentToolsItalicKeyTitle',\n\t},\n\tstrikeKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [83, false, true, false, false], // ctrl-s\n\t\tdescription: 'commentToolsStrikeKeyDesc',\n\t\ttitle: 'commentToolsStrikeKeyTitle',\n\t},\n\tsuperKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [187, false, true, true, false], // ctrl-+ (ctrl-shift-=)\n\t\tdescription: 'commentToolsSuperKeyDesc',\n\t\ttitle: 'commentToolsSuperKeyTitle',\n\t},\n\tlinkKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [75, false, true, false, false], // ctrl-k\n\t\tdescription: 'commentToolsLinkKeyDesc',\n\t\ttitle: 'commentToolsLinkKeyTitle',\n\t},\n\tquoteKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [190, false, true, true, false], // ctrl-> (strl-shift-.)\n\t\tdescription: 'commentToolsQuoteKeyDesc',\n\t\ttitle: 'commentToolsQuoteKeyTitle',\n\t},\n\tctrlEnterSubmitsComments: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsCtrlEnterSubmitsCommentsDesc',\n\t\ttitle: 'commentToolsCtrlEnterSubmitsCommentsTitle',\n\t},\n\tctrlEnterSavesLiveThreads: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsCtrlEnterSavesLiveThreadsDesc',\n\t\ttitle: 'commentToolsCtrlEnterSavesLiveThreadsTitle',\n\t},\n\tctrlEnterSubmitsPosts: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsCtrolEnterSubmitsPostsDesc',\n\t\ttitle: 'commentToolsCtrolEnterSubmitsPostsTitle',\n\t},\n\tcommentingAs: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsCommentingAsDesc',\n\t\ttitle: 'commentToolsCommentingAsTitle',\n\t},\n\thighlightIfAltAccount: {\n\t\tdependsOn: options => options.commentingAs.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsHighlightIfAltAccountDesc',\n\t\ttitle: 'commentToolsHighlightIfAltAccountTitle',\n\t},\n\tshowInputLength: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsShowInputLengthDesc',\n\t\ttitle: 'commentToolsShowInputLengthTitle',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tmacroButtons: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsMacroButtonsDesc',\n\t\ttitle: 'commentToolsMacroButtonsTitle',\n\t\tbodyClass: true,\n\t},\n\tmacros: {\n\t\tdependsOn: options => options.macroButtons.value,\n\t\ttype: 'table',\n\t\taddRowText: 'commentToolsAddShortcut',\n\t\tfields: [{\n\t\t\tkey: 'label',\n\t\t\tname: 'commentToolsLabel',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'text',\n\t\t\tname: 'commentToolsText',\n\t\t\ttype: 'textarea',\n\t\t}, {\n\t\t\tkey: 'category',\n\t\t\tname: 'commentToolsCategory',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'key',\n\t\t\tname: 'commentToolsKey',\n\t\t\ttype: 'keycode',\n\t\t}],\n\t\tvalue: ([\n\t\t\t['reddiquette', '[reddiquette](/wiki/reddiquette) ', undefined, undefined],\n\t\t\t['Promote RES', '[Reddit Enhancement Suite](https://redditenhancementsuite.com \"also /r/Enhancement\") ', undefined, undefined],\n\t\t\t['Current timestamp', '{{now}} ', undefined, undefined],\n\t\t]: Array<[string, string, string | void, KeyArray | void]>),\n\t\tdescription: 'commentToolsMacrosDesc',\n\t\ttitle: 'commentToolsMacrosTitle',\n\t},\n\tkeepMacroListOpen: {\n\t\tdependsOn: options => options.macroButtons.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentToolsKeepMacroListOpenDesc',\n\t\ttitle: 'commentToolsKeepMacroListOpenTitle',\n\t\tadvanced: true,\n\t},\n\tmacroPlaceholders: {\n\t\tdependsOn: options => options.macroButtons.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsMacroPlaceholdersDesc',\n\t\ttitle: 'commentToolsMacroPlaceholdersTitle',\n\t},\n\tenabledOnBanMessages: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsEnableOnBanMessagesDesc',\n\t\ttitle: 'commentToolsEnableOnBanMessagesTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.include = [\n\t'comments',\n\t'inbox',\n\t'submit',\n\t'profile',\n\t'modqueue',\n\t'subredditAbout',\n\t'liveThread',\n\t/^\\/r\\/[\\-\\w\\.]+\\/wiki\\/(?:create|edit)(\\/\\w+)?/i,\n];\n\nconst SUBMIT_LIMITS = {\n\tSTYLESHEET: 128 * 1024,\n\tSIDEBAR: 10240,\n\tDESCRIPTION: 500,\n\tWIKI: 512 * 1024,\n\tCOMMENT: 10000,\n\tLIVE_COMMENT: 4096,\n\tPOST: 40000,\n\tPOST_TITLE: 300,\n\tBAN_MESSAGE: 1000,\n};\nconst macroCallbackTable: Array<(box: HTMLTextAreaElement) => void> = [];\nconst macroKeyTable: Array<[KeyArray, number]> = [];\n\nmodule.contentStart = () => {\n\t$(document.body).on('focus', commentTextareaSelector, attachEditorToUsertext);\n\n\tinitializeCtrlEnterToSubmit();\n\tinitializeLengthCounters();\n\tinitializeAutocomplete();\n};\n\nfunction initializeCtrlEnterToSubmit() {\n\tif (module.options.ctrlEnterSubmitsComments.value) {\n\t\tonCtrlEnter(\n\t\t\t'.usertext-edit textarea, #BigEditor textarea, #wiki_page_content',\n\t\t\te => {\n\t\t\t\tconst currentForm = $(e.currentTarget).closest('form');\n\t\t\t\tconst saveButton = currentForm.find('.save')[0] || currentForm.find('#wiki_save_button')[0] || $('.BEFoot button')[0];\n\t\t\t\tif (saveButton) click(saveButton);\n\t\t\t},\n\t\t);\n\t}\n\n\tif (module.options.ctrlEnterSavesLiveThreads.value) {\n\t\tonCtrlEnter(\n\t\t\t'.usertext-edit textarea',\n\t\t\t() => {\n\t\t\t\tconst saveButton = $('#new-update-form .save-button button')[0];\n\t\t\t\tif (saveButton) click(saveButton);\n\t\t\t},\n\t\t);\n\t}\n\n\tif (module.options.ctrlEnterSubmitsPosts.value) {\n\t\tonCtrlEnter(\n\t\t\t'#title-field textarea, #text-field textarea, #url, #sr-autocomplete, input.captcha',\n\t\t\t() => {\n\t\t\t\tconst $captcha = $('input.captcha:not(.cap-text)');\n\t\t\t\tif ($captcha.length && $captcha.val() === '') {\n\t\t\t\t\t$captcha.focus();\n\t\t\t\t} else {\n\t\t\t\t\tclick($('.spacer .btn')[0]);\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\t}\n}\n\nfunction initializeLengthCounters() {\n\tif (module.options.showInputLength.value) {\n\t\t$(document.body).on('input', '.usertext-edit textarea, #title-field textarea, #BigEditor textarea, #wiki_page_content, #ban_message', function() {\n\t\t\tupdateCounter(this);\n\t\t});\n\n\t\t// add title counter\n\t\t$('.submit-page #title-field span.title').prepend('<span class=\"RESCharCounter\" title=\"character limit: 0/300\">0/300</span>');\n\t}\n}\n\nconst initializeEditorTools = _.once(() => {\n\t$(document.body).on('click', 'div.markdownEditor-wrapper a:not(.userTagLink)', function(e: Event) {\n\t\te.preventDefault();\n\n\t\tconst index = parseInt($(this).attr('data-macro-index'), 10);\n\t\tconst box = findTextareaForElement(this);\n\t\tif (!box) {\n\t\t\tconsole.error('Failed to locate textarea.');\n\t\t\treturn;\n\t\t}\n\t\tconst handler = macroCallbackTable[index];\n\t\tif (!handler) {\n\t\t\tthrow new Error(`No macro callback at index: ${index}.`);\n\t\t}\n\t\thandler(box);\n\n\t\tbox.focus();\n\t\t// Fire an input event to refresh the preview\n\t\tbox.dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n\t}).on('click', '.RESMacroDropdownTitle', function(e: Event) {\n\t\tconst thisCat = e.currentTarget;\n\t\tif (thisCat.classList.contains('openMacro')) {\n\t\t\tthisCat.classList.remove('openMacro');\n\t\t} else {\n\t\t\t$('.RESMacroWrappingSpan span').removeClass('openMacro');\n\t\t\tthisCat.classList.add('openMacro');\n\t\t}\n\t\t// position the drop down so it's flush with the right of the category button.\n\t\t$(this).next().css({\n\t\t\ttop: `${thisCat.offsetTop + thisCat.offsetHeight}px`,\n\t\t\tleft: `${thisCat.offsetLeft + thisCat.offsetWidth - (thisCat.nextSibling: any).offsetWidth}px`,\n\t\t});\n\t});\n\n\tif (module.options.keyboardShortcuts.value) {\n\t\t$(document.body).on('keydown', '.usertext-edit textarea, #BigEditor textarea, #wiki_page_content, #ban_message', function(e: KeyboardEvent) {\n\t\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\t\tthis.blur();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (const [testedKeyArray, macroIndex] of macroKeyTable) {\n\t\t\t\tif (checkKeysForEvent(e, testedKeyArray)) {\n\t\t\t\t\tconst handler = macroCallbackTable[macroIndex];\n\t\t\t\t\thandler(this);\n\n\t\t\t\t\t// Fire an input event to refresh the preview\n\t\t\t\t\tthis.dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nexport const commentTextareaSelector = [\n\t'textarea[name=text]',\n\t'textarea[name=description]',\n\t'textarea[name=public_description]',\n\t'textarea[name=body]',\n\t'textarea[name=ban_message]',\n\t'textarea[name=content]',\n\t'textarea[name=title]',\n].join(':not([readonly]),');\n\nfunction getFieldLimit(elem) {\n\tswitch (elem.name) {\n\t\tcase 'title':\n\t\t\treturn SUBMIT_LIMITS.POST_TITLE;\n\t\tcase 'text': // https://github.com/honestbleeps/Reddit-Enhancement-Suite/issues/829\n\t\t\tif (isPageType('submit') || $(elem).closest('.thing').hasClass('self')) {\n\t\t\t\treturn SUBMIT_LIMITS.POST;\n\t\t\t}\n\t\t\treturn SUBMIT_LIMITS.COMMENT;\n\t\tcase 'description':\n\t\t\treturn SUBMIT_LIMITS.SIDEBAR;\n\t\tcase 'body':\n\t\t\treturn SUBMIT_LIMITS.LIVE_COMMENT;\n\t\tcase 'public_description':\n\t\t\treturn SUBMIT_LIMITS.DESCRIPTION;\n\t\tcase 'content':\n\t\t\treturn SUBMIT_LIMITS.WIKI;\n\t\tcase 'ban_message':\n\t\t\treturn SUBMIT_LIMITS.BAN_MESSAGE;\n\t\t// case 'description_conflict_old':\n\t\t// case 'public_description_conflict_old':\n\t\tdefault:\n\t\t\treturn 1337; // should be easier to debug than 0\n\t}\n}\n\nfunction attachEditorToUsertext() {\n\tif (this.hasAttribute('commentTools-initialized')) return;\n\tthis.setAttribute('commentTools-initialized', true);\n\n\tif (this.hasAttribute('data-max-length')) {\n\t\treturn;\n\t}\n\tconst limit = getFieldLimit(this);\n\n\tthis.setAttribute('data-limit', limit);\n\n\tif (this.name === 'title') {\n\t\treturn;\n\t}\n\n\tif (this.id === 'ban_message' && !module.options.enabledOnBanMessages.value) {\n\t\treturn;\n\t}\n\n\tif (this.id === 'ban_message') {\n\t\tthis.style.width = '500px';\n\t\tthis.style.height = '100px';\n\t}\n\n\tconst bar = makeEditBar();\n\tif (this.id === 'wiki_page_content' || this.id === 'ban_message') {\n\t\t$(this).parent().prepend(bar);\n\t} else {\n\t\t$(this).parent().before(bar);\n\t}\n\tupdateCounter(this);\n}\n\nexport function updateCounter(textarea: HTMLElement) {\n\tconst length = $(textarea).val().length;\n\tconst limit = textarea.getAttribute('data-limit');\n\tconst counter = $(textarea).parent().parent().find('.RESCharCounter');\n\tcounter.attr('title', `character limit: ${length}/${limit}`);\n\tcounter.text(`${length}/${limit}`);\n\tif (length > limit) {\n\t\tcounter.addClass('tooLong');\n\t} else {\n\t\tcounter.removeClass('tooLong');\n\t}\n}\n\nlet cachedEditBar;\n\nexport function makeEditBar() {\n\tinitializeEditorTools();\n\n\tif (cachedEditBar) {\n\t\treturn $(cachedEditBar).clone();\n\t}\n\n\tconst $editBar = $('<div class=\"markdownEditor\">');\n\t// Wrap the edit bar in a <div> of its own\n\tconst wrappedEditBar = $('<div class=\"markdownEditor-wrapper\">').append($editBar);\n\n\tif (module.options.commentingAs.value) {\n\t\t// show who we're commenting as...\n\t\tconst commentingAsMessage = location.href.match(/^https?:\\/\\/(?:[\\-\\w\\.]+\\.)?reddit\\.com\\/r\\/[\\-\\w\\.]+\\/about\\/banned\\/?/i) ? 'Moderating as' : 'Speaking as';\n\n\t\tconst commentingAs = $('<div class=\"commentingAs\">')\n\t\t\t.html(`${commentingAsMessage}: `)\n\t\t\t.append($('#header-bottom-right .user a:first')\n\t\t\t\t.clone()\n\t\t\t\t.wrap('<span class=\"commentingAsUser\"></span>')\n\t\t\t\t.parent(),\n\t\t\t);\n\t\tconst loggedIn = loggedInUser();\n\t\tif (loggedIn && Modules.isRunning(UserTagger)) {\n\t\t\tUserTagger.applyToUser((commentingAs.find('a')[0]: any), { username: loggedIn, renderVoteWeight: false });\n\t\t}\n\t\tif (\n\t\t\tmodule.options.highlightIfAltAccount.value &&\n\t\t\tAccountSwitcher.module.options.accounts.value.length &&\n\t\t\tloggedIn &&\n\t\t\tloggedIn.toLowerCase() !== AccountSwitcher.module.options.accounts.value[0][0].toLowerCase()\n\t\t) {\n\t\t\tcommentingAs.addClass('highlightedAltAccount');\n\t\t}\n\t\twrappedEditBar.append(commentingAs);\n\t}\n\n\tif (module.options.formattingToolButtons.value) {\n\t\tconst shortcuts = module.options.keyboardShortcuts.value;\n\t\t$editBar.append(makeEditButton('<b>Bold</b>', `bold${shortcuts ? ` (${niceKeyCode(module.options.boldKey.value)})` : ''}`, module.options.boldKey.value, 'btn-bold', box => {\n\t\t\twrapSelection(box, '**', '**');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<i>Italic</i>', `italic${shortcuts ? ` (${niceKeyCode(module.options.italicKey.value)})` : ''}`, module.options.italicKey.value, 'btn-italic', box => {\n\t\t\twrapSelection(box, '*', '*');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<del>strike</del>', `strike${shortcuts ? ` (${niceKeyCode(module.options.strikeKey.value)})` : ''}`, module.options.strikeKey.value, 'btn-strike', box => {\n\t\t\twrapSelection(box, '~~', '~~');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<sup>sup</sup>', `super${shortcuts ? ` (${niceKeyCode(module.options.superKey.value)})` : ''}`, module.options.superKey.value, 'btn-superscript', box => {\n\t\t\twrapSelectedWords(box, '^');\n\t\t}));\n\t\t$editBar.append(makeEditButton('Link', `link${shortcuts ? ` (${niceKeyCode(module.options.linkKey.value)})` : ''}`, module.options.linkKey.value, 'btn-link', box => {\n\t\t\tlinkSelection(box);\n\t\t}));\n\t\t$editBar.append(makeEditButton('>Quote', `quote${shortcuts ? ` (${niceKeyCode(module.options.quoteKey.value)})` : ''}`, module.options.quoteKey.value, 'btn-quote', box => {\n\t\t\twrapSelectedLines(box, '> ', '');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<span style=\"font-family: monospace\">Code</span>', 'code', null, 'btn-code', box => {\n\t\t\twrapSelectedLines(box, '    ', '');\n\t\t}));\n\t\t$editBar.append(makeEditButton('&bull;Bullets', 'bullet list', null, 'btn-list-unordered', box => {\n\t\t\twrapSelectedLines(box, '* ', '');\n\t\t}));\n\t\t$editBar.append(makeEditButton('1.Numbers', 'number list', null, 'btn-list-ordered', box => {\n\t\t\twrapSelectedLines(box, '1. ', '');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<span style=\"border: 1px black solid;\">Table</span>', 'table', null, 'btn-table', box => {\n\t\t\t// First check if the selected text is a table, this also clean the selection\n\t\t\tconst selectedText = box.value.substring(box.selectionStart, box.selectionEnd).replace(/^[\\s]+/, '').replace(/[\\s]+$/, '').split('\\n'); // In fact, if the header start by '   |' this is not a table. But it's better to accept it then after editing the table it will work\n\t\t\tlet isTable;\n\t\t\tif (selectedText.length >= 2) {\n\t\t\t\tif (selectedText[0].includes('|')) {\t// Check if there is at least one '|' to check if it's a table\n\t\t\t\t\tselectedText[0] = selectedText[0].replace(/^\\|/, '').replace(/\\|\\s+$/, ''); // Avoid '| foo | bar |' instead of 'foo | bar'\n\t\t\t\t\tconst numSeparator = selectedText[0].split('|').length;\n\t\t\t\t\t/*\n\t\t\t\t\t\tnumSeparator can be 0 for example with :\n\t\t\t\t\t\t\tfoo |\n\t\t\t\t\t\t\t----|\n\t\t\t\t\t\t\tbar |\n\t\t\t\t\t\tbut it's important to check for each line before removing starting/ending '|' if there is at least one '|' to check if it's really a table\n\t\t\t\t\t*/\n\t\t\t\t\tisTable = true;\n\n\t\t\t\t\t// Check the HEADER/BODY separator\n\t\t\t\t\tselectedText[1] = selectedText[1].replace(/\\|[^|\\-]+$/, ''); // '-|-|-|ILOVECOOKIE' is correct, so clean it. But '-|-|-ILOVECOOKIE' is not correct if there is 3 column (okay if there is less though, but will not be detected). Also '-      |     -    |   -' is correct and will not be detected.\n\t\t\t\t\tselectedText[1] = selectedText[1].replace(/-/g, '--'); // Required to allow -|-|- to work (else the split would give ['', '|-'])\n\t\t\t\t\tif (!selectedText[1].includes('-|') && !selectedText[1].includes('|-')) {\n\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedText[1] = selectedText[1].replace(/^\\]+/, '').replace(/[\\s|]+$/, '');\n\t\t\t\t\tif (selectedText[1].split('-|-').length < numSeparator) { // Check if there is enough '-|-'\n\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t}\n\t\t\t\t\tif ((/[^|\\-]/).test(selectedText[1])) { // If the separator contain an other character than | or -\n\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Now check the BODY\n\t\t\t\t\tif (isTable) {\n\t\t\t\t\t\tfor (const i of range(2, selectedText.length)) {\n\t\t\t\t\t\t\tif (!selectedText[i].includes('|')) {\n\t\t\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tselectedText[i] = selectedText[i].replace(/^\\|/, '').replace(/[\\s|]+$/, '');\n\t\t\t\t\t\t\tif (selectedText[i].split('|').length !== numSeparator)\t{ // Check if there is the same '|' number\n\t\t\t\t\t\t\t\t// In fact this should be >= but that would means make disappear some content, so I will consider this is not a table\n\t\t\t\t\t\t\t\t// in fact this is useless, because if we omit last cell they will be void. But this would complicate the generation part by managing void cell and the code is enough complicate.\n\t\t\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet startTable;\n\t\t\tif (isTable) {\n\t\t\t\t// The selected text is a table, now transform it to HTML!\n\t\t\t\tstartTable = selectedText.reduce((prevTable, currText, i) => {\n\t\t\t\t\tif (i === 1) {\n\t\t\t\t\t\treturn prevTable;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn `${prevTable}<tr><td>${escapeHTML(currText).replace(/\\|/g, '</td><td>')}</td></tr>`;\n\t\t\t\t}, '');\n\t\t\t} else {\n\t\t\t\tstartTable = '<tr><td>Foo</td><td>Bar</td></tr><tr><td>Foo</td><td>Bar</td></tr>';\n\t\t\t}\n\t\t\tconst element = string.html`<div><div class=\"buttonContainer\"></div><table class=\"commentPreview\" contenteditable=\"true\">${string.safe(startTable)}</table></div>`;\n\t\t\tAlert.open(element, { cancelable: true })\n\t\t\t\t.then(() => {\n\t\t\t\t\tlet generatedTable = '\\n\\n';\n\t\t\t\t\tlet generatedTableSeparation = '';\n\t\t\t\t\t$('tr:first td', element).each(function() {\n\t\t\t\t\t\tconst text = $(this).text().replace(/[\\n|]/g, '');\n\t\t\t\t\t\tgeneratedTable += `${text} | `;\n\t\t\t\t\t\tgeneratedTableSeparation += '-'.repeat(text.length);\n\t\t\t\t\t\tgeneratedTableSeparation += '|';\n\t\t\t\t\t});\n\t\t\t\t\tgeneratedTableSeparation = generatedTableSeparation.substr(0, generatedTableSeparation.length - 1);\n\t\t\t\t\tgeneratedTable = `${generatedTable.substr(0, generatedTable.length - 3)}\\n${generatedTableSeparation}\\n`;\n\t\t\t\t\t$('tr:gt(0)', element).each(function() {\n\t\t\t\t\t\t$(this).find('td').each(function() {\n\t\t\t\t\t\t\tgeneratedTable += `${$(this).text().replace(/[\\n|]/g, '')} | `;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tgeneratedTable = `${generatedTable.substr(0, generatedTable.length - 3)}\\n`;\n\t\t\t\t\t});\n\t\t\t\t\tif (isTable) {\n\t\t\t\t\t\treplaceSelection(box, generatedTable);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twrapSelection(box, generatedTable, '');\n\t\t\t\t\t}\n\t\t\t\t\t$(box).trigger('input'); // update preview\n\t\t\t\t});\n\n\t\t\tconst addRow = Alert.makeButton('+ Row');\n\t\t\tconst remRow = Alert.makeButton('- Row');\n\t\t\tconst addCol = Alert.makeButton('+ Col');\n\t\t\tconst remCol = Alert.makeButton('- Col');\n\t\t\taddRow.addEventListener('click', () => {\n\t\t\t\tconst nbCol = $('tr:first td', element).length;\n\t\t\t\tconst newRow = '<td>text</td>'.repeat(nbCol);\n\t\t\t\t$('table', element).append(`<tr>${newRow}</tr>`);\n\t\t\t});\n\t\t\tremRow.addEventListener('click', () => {\n\t\t\t\tif ($('tr', element).length > 1) {\n\t\t\t\t\t$('table tr:last', element).remove();\n\t\t\t\t}\n\t\t\t});\n\t\t\taddCol.addEventListener('click', () => {\n\t\t\t\t$('table tr', element).append('<td>text</td>');\n\t\t\t});\n\t\t\tremCol.addEventListener('click', () => {\n\t\t\t\tif ($('tr:first td', element).length > 1) {\n\t\t\t\t\t$('table tr td:last-of-type', element).remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst $buttonContainer = $('.buttonContainer', element);\n\t\t\t$buttonContainer.append(addRow);\n\t\t\t$buttonContainer.append(remRow);\n\t\t\t$buttonContainer.append(addCol);\n\t\t\t$buttonContainer.append(remCol);\n\t\t}));\n\t}\n\n\tif (module.options.showInputLength.value) {\n\t\tconst $counter = $('<span class=\"RESCharCounter\" title=\"character limit: 0/?????\">0/?????</span>');\n\t\t$editBar.prepend($counter); // prepend for more reliable css floating.\n\t}\n\n\tif (module.options.macroButtons.value) {\n\t\tbuildMacroDropdowns(wrappedEditBar);\n\n\t\tconst addMacroButton = makeEditButton(i18n(module.options.macros.addRowText), null, null, 'btn-macro btn-macro-add', () => {\n\t\t\tSettingsNavigation.open(module.moduleID, 'macros');\n\t\t\t$('.RESMacroWrappingSpan span').removeClass('openMacro');\n\t\t});\n\t\taddButtonToMacroGroup('', addMacroButton);\n\t}\n\n\tcachedEditBar = wrappedEditBar;\n\treturn cachedEditBar;\n}\n\nconst macroDropDownTable = new Map();\n\nfunction getMacroGroup(groupName) {\n\t// Normalize and supply a default group name{}\n\tgroupName = (groupName || '').toString().trim() || 'macros';\n\tlet macroGroup = macroDropDownTable.get(groupName);\n\tif (macroGroup === undefined) {\n\t\tmacroGroup = {};\n\t\tmacroGroup.titleButton = $(`<span class=\"RESMacroDropdownTitle\">${groupName}</span>`);\n\t\tmacroGroup.container = $('<span class=\"RESMacroDropdown\"></span>');\n\t\tmacroGroup.dropdown = $('<ul class=\"RESMacroDropdownList\"></ul>');\n\t\tmacroGroup.container.append(macroGroup.dropdown);\n\t\tmacroDropDownTable.set(groupName, macroGroup);\n\t}\n\treturn macroGroup;\n}\n\nfunction addButtonToMacroGroup(groupName, button) {\n\tconst group = getMacroGroup(groupName);\n\tgroup.dropdown.append($('<li>').append(button));\n}\n\nfunction getDebugMacros() {\n\tif (!isCurrentSubreddit('Enhancement', 'RESissues')) return [];\n\treturn [\n\t\t['RES modified settings', '\\n\\n{{resmodifiedsettings}}\\n', null, null],\n\t\t['RES diagnostics', '{{resdiagnostics}}', null, null],\n\t];\n}\n\nfunction buildMacroDropdowns(editBar) {\n\tconst macros = [...module.options.macros.value, ...getDebugMacros()];\n\n\tfor (const [title, text, category, key] of macros) {\n\t\tconst button = makeEditButton(title, null, key, 'btn-macro', box => {\n\t\t\tmacroSelection(box, text);\n\t\t});\n\t\taddButtonToMacroGroup(category, button);\n\t}\n\n\tconst $macroWrapper = $('<span class=\"RESMacroWrappingSpan\">');\n\n\tconst defaultGroup = getMacroGroup('');\n\t$macroWrapper.append(defaultGroup.titleButton);\n\t$macroWrapper.append(defaultGroup.container);\n\n\tfor (const [category, macroGroup] of macroDropDownTable) {\n\t\tif (category === 'macros') {\n\t\t\tcontinue;\n\t\t}\n\t\t$macroWrapper.append(macroGroup.titleButton);\n\t\t$macroWrapper.append(macroGroup.container);\n\t}\n\teditBar.append($macroWrapper);\n}\n\nfunction makeEditButton(label, title, key, cls, handler) {\n\tif (label === null) {\n\t\tlabel = 'unlabeled';\n\t}\n\tif (title === null) {\n\t\ttitle = '';\n\t}\n\tconst macroButtonIndex = macroCallbackTable.length;\n\tconst button = string.html`<a class=\"edit-btn ${cls}\" title=\"${title}\" href=\"#\" tabindex=\"1\" data-macro-index=\"${macroButtonIndex}\">${label}</a>`;\n\n\tif (key && key[0] !== null) {\n\t\tmacroKeyTable.push([key, macroButtonIndex]);\n\t}\n\tmacroCallbackTable[macroButtonIndex] = handler;\n\treturn button;\n}\n\nfunction linkSelection(box) {\n\tlet url = prompt('Enter the URL:', '');\n\tif (url) {\n\t\t// escape parens in url\n\t\turl = url.replace(/[\\(\\)]/g, '\\\\$&');\n\t\t// escape brackets and parens in text\n\t\twrapSelection(box, '[', `](${url})`, text => text.replace(/[\\[\\]\\(\\)]/g, '\\\\$&'));\n\t}\n}\n\nfunction macroSelection(box, macroText) {\n\tif (!module.options.keepMacroListOpen.value) {\n\t\t$('.RESMacroWrappingSpan span').removeClass('openMacro');\n\t}\n\tif (module.options.macroPlaceholders.value) {\n\t\tconst formatText = selectedText => fillPlaceholders(box, macroText, selectedText);\n\t\twrapSelection(box, '', '', formatText);\n\t} else {\n\t\twrapSelection(box, macroText, '');\n\t}\n}\n\nfunction fillPlaceholders(box, macroText, selectedText) {\n\tconst placeholders = macroText.match(/\\{\\{\\w+\\}\\}/g);\n\tif (placeholders) {\n\t\tconst completedPlaceholders = new Set();\n\t\tfor (const placeholder of placeholders) {\n\t\t\tif (completedPlaceholders.has(placeholder)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcompletedPlaceholders.add(placeholder);\n\n\t\t\tconst placeholderInnerText = placeholder.substring(2, placeholder.length - 2).toLowerCase();\n\t\t\tlet value;\n\t\t\ttry {\n\t\t\t\tvalue = getMagicPlaceholderValue(placeholderInnerText, macroText, selectedText, box);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Error getting magic placeholder value', placeholderInnerText);\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t\tif (value === undefined) {\n\t\t\t\tvalue = promptForPlaceholderValue(placeholder, macroText);\n\t\t\t}\n\n\t\t\tif (value === null) {\n\t\t\t\t// user cancelled\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Replace placeholder with value\n\t\t\tmacroText = macroText.replace(new RegExp(placeholder, 'g'), value);\n\t\t}\n\t}\n\n\treturn macroText;\n}\n\nfunction getMagicPlaceholderValue(placeholder, macroText, selectedText, box) {\n\tconst handler = magicPlaceholders.find(current => current.matches.includes(placeholder));\n\n\tif (handler) {\n\t\treturn handler.handle(macroText, selectedText, box);\n\t}\n}\n\nconst magicPlaceholders: Array<{|\n\tmatches: string[],\n\thandle: (macroText: string, selectedText: string, box: HTMLTextAreaElement) => void | string,\n|}> = [\n\t{\n\t\tmatches: ['subreddit'],\n\t\thandle(macroText, selectedText, box) {\n\t\t\tconst thing = Thing.from(box);\n\t\t\tconst subreddit = thing && thing.getSubreddit();\n\n\t\t\tif (subreddit) {\n\t\t\t\treturn `/r/${subreddit}`;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['me', 'my_username'],\n\t\thandle() {\n\t\t\tconst username = loggedInUser();\n\t\t\tif (username) {\n\t\t\t\treturn `/u/${username}`;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['op', 'op_username'],\n\t\thandle(macroText, selectedText, box) {\n\t\t\tlet profile: ?HTMLAnchorElement;\n\t\t\tif (isPageType('comments')) {\n\t\t\t\tprofile = (document.querySelector('.sitetable .author'): any);\n\t\t\t} else {\n\t\t\t\tlet $next = $(box);\n\t\t\t\tlet furthest = $next;\n\t\t\t\tdo {\n\t\t\t\t\tif ($next && $next.length) furthest = $next;\n\t\t\t\t\t$next = $next.parent().closest('.sitetable');\n\t\t\t\t} while ($next.length);\n\n\t\t\t\tprofile = (furthest.find('.author')[0]: any);\n\t\t\t}\n\n\t\t\tif (profile) {\n\t\t\t\tconst match = profile.pathname.match(regexes.profile);\n\t\t\t\tif (!match) throw new Error(`Invalid profile link: ${profile.href}`);\n\t\t\t\treturn `/u/${match[1]}`;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['url'],\n\t\thandle() {\n\t\t\treturn location.href;\n\t\t},\n\t}, {\n\t\tmatches: ['reply_to', 'reply_to_username'],\n\t\thandle(macroText, selectedText, box) {\n\t\t\tlet $base = $(box);\n\t\t\tconst isEditing = $base.closest('.thing, .entry').hasClass('entry');\n\n\t\t\tif (isEditing) {\n\t\t\t\t$base = $base.closest('.thing').parent();\n\t\t\t}\n\n\t\t\tconst profile: ?HTMLAnchorElement = ($base.closest('.thing').find('.entry .author')[0]: any);\n\n\t\t\tif (!profile) {\n\t\t\t\treturn getMagicPlaceholderValue('op', macroText, selectedText, box);\n\t\t\t} else {\n\t\t\t\tconst match = profile.pathname.match(regexes.profile);\n\t\t\t\tif (!match) throw new Error(`Invalid profile link: ${String(profile)}`);\n\t\t\t\treturn `/u/${match[1]}`;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['selected', 'selection'],\n\t\thandle(macroText, selectedText) {\n\t\t\treturn selectedText;\n\t\t},\n\t}, {\n\t\tmatches: ['now'],\n\t\thandle() {\n\t\t\tconst date = new Date();\n\t\t\treturn date.toTimeString();\n\t\t},\n\t}, {\n\t\tmatches: ['today'],\n\t\thandle() {\n\t\t\tconst date = new Date();\n\t\t\treturn date.toDateString();\n\t\t},\n\t}, {\n\t\tmatches: ['linkflair'],\n\t\thandle() {\n\t\t\tif (isPageType('comments')) {\n\t\t\t\treturn document.querySelector('.linkflairlabel').textContent;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['escaped'],\n\t\thandle(macroText, selectedText) {\n\t\t\treturn selectedText\n\t\t\t\t.replace(/[\\[\\]()\\\\\\*\\^~\\-_.]/g, '\\\\$&')\n\t\t\t\t// more than 3 spaces before a >quote starts a code block\n\t\t\t\t.replace(/^([ ]{0,3})>/gm, '$1\\\\>');\n\t\t},\n\t}, {\n\t\tmatches: ['resmodifiedsettings'],\n\t\thandle() { return Options.getModifiedText(); },\n\t}, {\n\t\tmatches: ['resdiagnostics'],\n\t\thandle() { return SubmitIssue.diagnostics(); },\n\t},\n];\n\nfunction promptForPlaceholderValue(placeholder, macroText) {\n\t// Get value for placeholder\n\tconst display = `${macroText}\\n\\n\\nEnter replacement for ${placeholder}:`;\n\tconst value = placeholder;\n\n\treturn prompt(display, value);\n}\n\nfunction wrapSelection(box, prefix, suffix, escapeFunction) {\n\tif (!box) {\n\t\treturn;\n\t}\n\t// record scroll top to restore it later.\n\tconst scrollTop = box.scrollTop;\n\n\t// We will restore the selection later, so record the current selection.\n\tconst selectionStart = box.selectionStart;\n\tconst selectionEnd = box.selectionEnd;\n\n\tconst text = box.value;\n\tconst beforeSelection = text.substring(0, selectionStart);\n\tlet selectedText = text.substring(selectionStart, selectionEnd);\n\tconst afterSelection = text.substring(selectionEnd);\n\n\t// Markdown doesn't like it when you tag a word like **this **. The space messes it up. So we'll account for that because Firefox selects the word, and the followign space when you double click a word.\n\tlet trailingSpace = '';\n\tlet cursor = selectedText.length - 1;\n\twhile (cursor > 0 && selectedText[cursor] === ' ') {\n\t\ttrailingSpace += ' ';\n\t\tcursor--;\n\t}\n\tselectedText = selectedText.substring(0, cursor + 1);\n\n\tif (typeof escapeFunction === 'function') {\n\t\tselectedText = escapeFunction(selectedText);\n\t}\n\n\tbox.value = beforeSelection + prefix + selectedText + suffix + trailingSpace + afterSelection;\n\n\tbox.selectionEnd = beforeSelection.length + prefix.length + selectedText.length;\n\tif (selectionStart === selectionEnd) {\n\t\tbox.selectionStart = box.selectionEnd;\n\t} else {\n\t\tbox.selectionStart = beforeSelection.length + prefix.length;\n\t}\n\n\tbox.scrollTop = scrollTop;\n}\n\nfunction replaceSelection(box, replacement) {\n\tif (!box) {\n\t\treturn;\n\t}\n\t// record scroll top to restore it later.\n\tconst scrollTop = box.scrollTop;\n\n\t// We will restore the selection later, so record the current selection.\n\tconst selectionStart = box.selectionStart;\n\tconst selectionEnd = box.selectionEnd;\n\n\tconst text = box.value;\n\tconst beforeSelection = text.substring(0, selectionStart);\n\tconst afterSelection = text.substring(selectionEnd);\n\n\n\tbox.value = beforeSelection + replacement + afterSelection;\n\n\tbox.selectionEnd = beforeSelection.length + replacement.length;\n\n\tbox.scrollTop = scrollTop;\n}\n\nfunction wrapSelectedLines(box, prefix, suffix) {\n\tconst scrollTop = box.scrollTop;\n\tlet selectionStart = box.selectionStart;\n\tlet selectionEnd = box.selectionEnd;\n\n\tconst text = box.value;\n\tlet startPosition = 0;\n\tconst lines = text.split('\\n');\n\tfor (const i of range(0, lines.length)) {\n\t\tlet lineStart = startPosition;\n\t\tlet lineEnd = lineStart + lines[i].length;\n\t\t// Check if either end of the line is within the selection\n\t\tif (selectionStart <= lineStart && lineStart <= selectionEnd || selectionStart <= lineEnd && lineEnd <= selectionEnd ||\n\t\t\t\t// Check if either end of the selection is within the line\n\t\t\t\tlineStart <= selectionStart && selectionStart <= lineEnd || lineStart <= selectionEnd && selectionEnd <= lineEnd) {\n\t\t\tlines[i] = prefix + lines[i] + suffix;\n\t\t\t// Move the offsets separately so we don't throw off detection for the other end\n\t\t\tlet startMovement = 0;\n\t\t\tlet endMovement = 0;\n\t\t\tif (lineStart < selectionStart) {\n\t\t\t\tstartMovement += prefix.length;\n\t\t\t}\n\t\t\tif (lineEnd < selectionStart) {\n\t\t\t\tstartMovement += suffix.length;\n\t\t\t}\n\t\t\tif (lineStart < selectionEnd) {\n\t\t\t\tendMovement += prefix.length;\n\t\t\t}\n\t\t\tif (lineEnd < selectionEnd) {\n\t\t\t\tendMovement += suffix.length;\n\t\t\t}\n\n\t\t\tselectionStart += startMovement;\n\t\t\tselectionEnd += endMovement;\n\t\t\tlineStart += prefix.length;\n\t\t\tlineEnd += prefix.length + suffix.length;\n\t\t}\n\t\t// Remember the newline\n\t\tstartPosition = lineEnd + 1;\n\t}\n\n\tbox.value = lines.join('\\n');\n\tbox.selectionStart = selectionStart;\n\tbox.selectionEnd = selectionEnd;\n\tbox.scrollTop = scrollTop;\n}\n\nfunction wrapSelectedWords(box, prefix) {\n\tconst scrollTop = box.scrollTop;\n\tlet selectionStart = box.selectionStart;\n\tconst selectionEnd = box.selectionEnd;\n\n\tconst text = box.value;\n\tconst beforeSelection = text.substring(0, selectionStart);\n\tconst selectedWords = text.substring(selectionStart, selectionEnd).split(' ');\n\tconst afterSelection = text.substring(selectionEnd);\n\n\tlet selectionModify = 0;\n\n\tfor (const i of range(0, selectedWords.length)) {\n\t\tif (selectedWords[i] !== '') {\n\t\t\tif (selectedWords[i].includes('\\n')) {\n\t\t\t\tconst newLinePosition = selectedWords[i].lastIndexOf('\\n') + 1;\n\t\t\t\tselectedWords[i] = selectedWords[i].substring(0, newLinePosition) + prefix + selectedWords[i].substring(newLinePosition);\n\t\t\t\tselectionModify += prefix.length;\n\t\t\t}\n\t\t\tif (selectedWords[i].charAt(0) !== '\\n') {\n\t\t\t\tselectedWords[i] = prefix + selectedWords[i];\n\t\t\t}\n\t\t\tselectionModify += prefix.length;\n\t\t} else if (selectedWords[i] === '' && selectedWords.length === 1) {\n\t\t\t// If nothing is selected, stick the prefix in there and move the cursor to the right side.\n\t\t\tselectedWords[i] = prefix + selectedWords[i];\n\t\t\tselectionModify += prefix.length;\n\t\t\tselectionStart += prefix.length;\n\t\t}\n\t}\n\n\tbox.value = beforeSelection + selectedWords.join(' ') + afterSelection;\n\tbox.selectionStart = selectionStart;\n\tbox.selectionEnd = selectionEnd + selectionModify;\n\tbox.scrollTop = scrollTop;\n}\n\n/**\n * Matches the following:\n * [0]: Full match\n * [1]: preceding character\n * [2]: subreddit name (no '/r/') (optional)\n * [3]: 'r', 'u', 'w', 'wiki'\n * [4]: query\n */\nconst autoCompleteMatchRegExp = /(^|\\W)\\/?(?:r\\/([\\w]+)\\/)?(wiki|w|r|u)\\/([-\\w]+)$/;\n\nfunction initializeAutocomplete() {\n\tif (\n\t\t!module.options.subredditAutocomplete.value &&\n\t\t!module.options.userAutocomplete.value &&\n\t\t!module.options.wikiAutocomplete.value\n\t) return;\n\n\t$(document.body).on('input', '.usertext .usertext-edit textarea, #BigText, #wiki_page_content', _.debounce(async e => {\n\t\tconst textarea: HTMLTextAreaElement = (e.currentTarget: any);\n\t\tconst prefixText = textarea.value.slice(0, textarea.selectionStart);\n\t\tconst [,, subreddit, [type] = [], query] = autoCompleteMatchRegExp.exec(prefixText) || [];\n\t\tconst completions = query && (\n\t\t\ttype === 'u' && module.options.userAutocomplete.value && await getUserCompletions(query) ||\n\t\t\t\ttype === 'r' && module.options.subredditAutocomplete.value && await getSubredditCompletions(query) ||\n\t\t\t\ttype === 'w' && module.options.wikiAutocomplete.value && await getWikiCompletions(query, subreddit || currentSubreddit() || '')\n\t\t) || [];\n\t\tautoComplete(textarea)(completions);\n\t}, 100));\n}\n\nconst autoComplete = _.memoize(textarea => {\n\tconst element = string.html`<div id=\"autocomplete_dropdown\" class=\"drop-choices srdrop\"></div>`;\n\tlet entries = [];\n\tlet index = 0;\n\n\telement.addEventListener('click', (e: MouseEvent) => {\n\t\tconst text = (e.target.closest('.choice') || e.target).textContent;\n\t\tconst caretPos = textarea.selectionStart;\n\t\tlet left = textarea.value.substr(0, caretPos);\n\t\tconst right = textarea.value.substr(caretPos);\n\t\tleft = left.replace(autoCompleteMatchRegExp, `$1${text} `);\n\t\ttextarea.value = left + right;\n\t\ttextarea.selectionStart = textarea.selectionEnd = left.length;\n\t\ttextarea.focus();\n\t\t// Fire an input event to refresh the preview\n\t\ttextarea.dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n\t});\n\n\tconst updateSelection = () => {\n\t\tfor (const entry of entries) entry.classList.remove('selectedItem');\n\t\tentries[index % entries.length].classList.add('selectedItem');\n\t};\n\n\tconst remove = () => {\n\t\telement.remove();\n\t\ttextarea.removeEventListener('keydown', navigate);\n\t\ttextarea.removeEventListener('blur', remove);\n\t};\n\n\tconst navigate = (e: KeyboardEvent) => {\n\t\t// Don't mess with shortcuts for fancier cursor movement\n\t\tif (e.metaKey || e.shiftKey || e.ctrlKey || e.altKey) return;\n\t\tif (!document.contains(element)) return;\n\t\tswitch (e.key) {\n\t\t\tcase NAMED_KEYS.Down:\n\t\t\tcase NAMED_KEYS.Right:\n\t\t\t\te.preventDefault();\n\t\t\t\tindex++;\n\t\t\t\tupdateSelection();\n\t\t\t\treturn;\n\t\t\tcase NAMED_KEYS.Up:\n\t\t\tcase NAMED_KEYS.Left:\n\t\t\t\te.preventDefault();\n\t\t\t\tindex--;\n\t\t\t\tupdateSelection();\n\t\t\t\treturn;\n\t\t\tcase NAMED_KEYS.Tab:\n\t\t\tcase NAMED_KEYS.Enter:\n\t\t\t\te.preventDefault();\n\t\t\t\tentries[index % entries.length].click();\n\t\t\t\treturn;\n\t\t\tcase NAMED_KEYS.Escape:\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tremove();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t// Function to update the auto-complete\n\treturn matches => {\n\t\tif (!matches.length || document.activeElement !== textarea) {\n\t\t\tremove();\n\t\t\treturn;\n\t\t}\n\n\t\tempty(element);\n\t\tentries = matches.slice(0, 20).map(text => string.html`<a class=\"choice\">${text}</a>`);\n\t\telement.append(...entries);\n\n\t\tindex = 0;\n\t\tupdateSelection();\n\n\t\tif (!document.contains(element)) {\n\t\t\tconst textareaOffset = $(textarea).offset();\n\t\t\ttextareaOffset.left += $(textarea).width();\n\t\t\t$(element).css(textareaOffset);\n\t\t\tdocument.body.append(element);\n\n\t\t\ttextarea.addEventListener('keydown', navigate);\n\t\t\ttextarea.addEventListener('blur', () => {\n\t\t\t\t// The `click` event when clicking on something else may come fairly long after `blur`\n\t\t\t\t// Try not to remove the autocomplete element prematurely, so that it is still there on `click`\n\t\t\t\tsetTimeout(() => { if (document.activeElement !== textarea) remove(); }, 200);\n\t\t\t});\n\t\t}\n\t};\n});\n\nasync function getSubredditCompletions(query) {\n\tconst { names } = (await ajax({\n\t\tmethod: 'POST',\n\t\turl: '/api/search_reddit_names.json',\n\t\tquery: { query }, // for the cache\n\t\tdata: { query },\n\t\ttype: 'json',\n\t\tcacheFor: DAY,\n\t}): RedditSearchSubredditNames);\n\n\treturn names.map(name => `/r/${name}`);\n}\n\nconst loadAllTags = _.once(() => UserTagger.Tag.getStored());\nasync function getUserCompletions(query) {\n\tawait loadAllTags();\n\t// Auto-complete users on this page in addition to previously tagged or upvoted users\n\treturn Array.from(UserTagger.tags.values())\n\t\t.filter(({ id }) => id.toLowerCase().startsWith(query.toLowerCase()))\n\t\t.filter(({ text, votesUp, instances }) => text || votesUp || instances.length)\n\t\t// Display users on this page first, but keep alphabetized\n\t\t.sort((a, b) => Number(b.instances.length > a.instances.length) || a.id.localeCompare(b.id))\n\t\t.map(({ id }) => `/u/${id}`);\n}\n\nasync function getWikiCompletions(query, subreddit: string) {\n\tconst { data: wikiPages } = (await ajax({\n\t\tmethod: 'GET',\n\t\turl: `/r/${subreddit}/wiki/pages.json`,\n\t\ttype: 'json',\n\t\tcacheFor: DAY,\n\t}): RedditSearchWikiNames);\n\n\treturn wikiPages\n\t\t.filter(wikiPage => wikiPage.toLowerCase().startsWith(query.toLowerCase()))\n\t\t.map(wikiPage => `/r/${subreddit}/wiki/${wikiPage}`);\n}\n\nfunction findTextareaForElement(elem): HTMLTextAreaElement | void {\n\tconst textarea = $(elem)\n\t\t.closest('.usertext-edit, #BigEditor, .wiki-page-content, #banned')\n\t\t.find('textarea')\n\t\t.filter('#BigText, [name=text], [name=description], [name=public_description], [name=body], #wiki_page_content, #ban_message')\n\t\t.get(0);\n\t// guaranteed to be an HTMLTextAreaElement due to `.find('textarea')`\n\treturn (textarea: any);\n}\n\nexport function onCtrlEnter(selector: string, callback: (e: KeyboardEvent) => Promise<void> | void) {\n\t$(document.body).on('keydown', selector, (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Enter && (e.ctrlKey || e.metaKey)) {\n\t\t\te.preventDefault();\n\t\t\tcallback(e);\n\t\t}\n\t});\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { addCSS, loggedInUser, regexes } from '../utils';\nimport * as AccountSwitcher from './accountSwitcher';\n\nexport const module: Module<*> = new Module('usernameHider');\n\nmodule.moduleName = 'usernameHiderName';\nmodule.category = 'myAccountCategory';\nmodule.disabledByDefault = true;\nmodule.description = 'usernameHiderDesc';\n\nmodule.options = {\n\tdisplayText: {\n\t\ttitle: 'usernameHiderDisplayTextTitle',\n\t\ttype: 'text',\n\t\tvalue: '~anonymous~',\n\t\tdescription: 'usernameHiderDisplayTextDesc',\n\t},\n\tperAccountDisplayText: {\n\t\ttitle: 'usernameHiderPerAccountDisplayTextTitle',\n\t\ttype: 'table',\n\t\taddRowText: '+add account',\n\t\tfields: [{\n\t\t\tkey: 'username',\n\t\t\tname: 'username',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'displayText',\n\t\t\tname: 'displayText',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: ([]: Array<[string, string]>),\n\t\tdescription: 'usernameHiderPerAccountDisplayTextDesc',\n\t},\n\thideAllUsernames: {\n\t\ttitle: 'usernameHiderHideAllUsernamesTitle',\n\t\tadvanced: true,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'usernameHiderHideAllUsernamesDesc',\n\t},\n\thideAccountSwitcherUsernames: {\n\t\ttitle: 'usernameHiderHideAccountSwitcherUsernamesTitle',\n\t\tadvanced: true,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'usernameHiderHideAccountSwitcherUsernamesDesc',\n\t},\n\tshowUsernameOnHover: {\n\t\ttitle: 'usernameHiderShowUsernameOnHoverTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'usernameHiderShowUsernameOnHoverDesc',\n\t},\n};\n\nconst substitutes = _.once(() => new Map([\n\t[(loggedInUser() || '').toLowerCase(), module.options.displayText.value],\n\t...module.options.perAccountDisplayText.value.map(([username, substitute]) => [username.toLowerCase(), substitute]),\n]));\n\nexport const getDisplayText = (username: string, alt: string = username): string => substitutes().get(username.toLowerCase()) || alt;\n\nmodule.contentStart = () => {\n\tfor (const username of new Set([\n\t\tloggedInUser(),\n\t\t...(module.options.hideAllUsernames.value ? module.options.perAccountDisplayText.value.map(([username]) => username) : []),\n\t\t...(module.options.hideAccountSwitcherUsernames.value ? AccountSwitcher.module.options.accounts.value.map(([username]) => username) : []),\n\t].filter(Boolean)).values()) {\n\t\thideUsername(username, getDisplayText(username, module.options.displayText.value));\n\t}\n};\n\nfunction hideUsername(user, displayText) {\n\tif (!displayText || user === displayText) return;\n\n\tconst userHref = `[href*=\"/user/${user}\"]`;\n\n\t// Hide username\n\taddCSS(`\n\t\tp.tagline > a${userHref},\n\t\t#header .user > a${userHref},\n\t\t.titlebox .tagline a.author${userHref},\n\t\t.commentingAsUser a${userHref},\n\t\ta.author${userHref},\n\t\t.bottom a${userHref} {\n\t\t\tline-height: 0;\n\t\t\tfont-size: 0;\n\t\t}\n\n\t\tp.tagline > a${userHref}::after,\n\t\t#header .user > a${userHref}::after,\n\t\t.titlebox .tagline a.author${userHref}::after,\n\t\t.commentingAsUser a${userHref}::after,\n\t\ta.author${userHref}::after,\n\t\t.bottom a${userHref}::after {\n\t\t\tcontent: \"${displayText}\";\n\t\t\tletter-spacing: normal;\n\t\t\tfont-size: 10px;\n\t\t\tbackground-color: inherit;\n\t\t\tborder-radius: inherit;\n\t\t\tpadding: inherit;\n\t\t}\n\n\t\ta.author${userHref}::after {\n\t\t\tmargin-right: 0.5em;\n\t\t}\n\n\t\t.commentingAsUser a${userHref}::after {\n\t\t\tfont-size: small;\n\t\t}\n\t`);\n\n\t// Show username on hover\n\tif (module.options.showUsernameOnHover.value) {\n\t\taddCSS(`\n\t\t\tp.tagline > a${userHref}:hover,\n\t\t\t#header .user > a${userHref}:hover,\n\t\t\t.titlebox .tagline a.author${userHref}:hover,\n\t\t\t.commentingAsUser a${userHref}:hover,\n\t\t\ta.author${userHref}:hover,\n\t\t\t.bottom a${userHref}:hover {\n\t\t\t\tline-height: inherit;\n\t\t\t\tfont-size: inherit;\n\t\t\t}\n\n\t\t\tp.tagline > a${userHref}:hover::after,\n\t\t\t#header .user > a${userHref}:hover::after,\n\t\t\t.titlebox .tagline a.author${userHref}:hover::after,\n\t\t\t.commentingAsUser a${userHref}:hover::after,\n\t\t\ta.author${userHref}:hover::after,\n\t\t\t.bottom a${userHref}:hover::after {\n\t\t\t\tcontent: none;\n\t\t\t}\n\t\t`);\n\t}\n\n\tconst curatedBy: ?HTMLAnchorElement = (document.querySelector('.multi-details > h2 a'): any);\n\tif (curatedBy) {\n\t\tconst curatedByUsername = curatedBy.pathname.match(regexes.profile);\n\t\tif (curatedByUsername && curatedByUsername[1].toLowerCase() === user.toLowerCase()) {\n\t\t\tcuratedBy.textContent = curatedBy.textContent.replace(user, displayText);\n\n\t\t\t// Show username on hover\n\t\t\tif (module.options.showUsernameOnHover.value) {\n\t\t\t\t$(curatedBy)\n\t\t\t\t\t.on('mouseenter', function() {\n\t\t\t\t\t\tthis.textContent = this.textContent.replace(displayText, user);\n\t\t\t\t\t})\n\t\t\t\t\t.on('mouseleave', function() {\n\t\t\t\t\t\tthis.textContent = this.textContent.replace(user, displayText);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tHOUR,\n\tNAMED_KEYS,\n\tcheckKeysForEvent,\n\tcurrentSubreddit,\n\tisModeratorAnywhere,\n\tloggedInUser,\n\tregexes,\n\tdowncast,\n\tstring,\n} from '../utils';\nimport * as Modules from '../core/modules';\nimport { Storage, ajax } from '../environment';\nimport type { RedditListing, RedditSubreddit } from '../types/reddit';\nimport * as CommandLine from './commandLine';\nimport * as CommentTools from './commentTools';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as UsernameHider from './usernameHider';\n\nexport const module: Module<*> = new Module('quickMessage');\n\nmodule.moduleName = 'quickMessageName';\nmodule.category = 'usersCategory';\nmodule.description = 'quickMessageDesc';\nmodule.options = {\n\topenQuickMessage: {\n\t\ttitle: 'quickMessageOpenQuickMessageTitle',\n\t\ttype: 'keycode',\n\t\tvalue: [77, false, true, false, false], // control-m\n\t\tdescription: 'quickMessageOpenQuickMessageDesc',\n\t},\n\tdefaultSubject: {\n\t\ttitle: 'quickMessageDefaultSubjectTitle',\n\t\ttype: 'text',\n\t\tvalue: '',\n\t\tdescription: 'quickMessageDefaultSubjectDesc',\n\t},\n\tsendAs: {\n\t\ttitle: 'quickMessageSendAsTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Current user',\n\t\t\tvalue: 'user',\n\t\t}, {\n\t\t\tname: 'Current subreddit',\n\t\t\tvalue: 'sub',\n\t\t}, {\n\t\t\tname: 'Last selected',\n\t\t\tvalue: 'last',\n\t\t}, {\n\t\t\tname: 'Last selected (this page load)',\n\t\t\tvalue: 'temporary',\n\t\t}],\n\t\tvalue: 'user',\n\t\tdescription: 'quickMessageSendAsDesc',\n\t},\n\thandleContentLinks: {\n\t\ttitle: 'quickMessageHandleContentLinksTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'quickMessageHandleContentLinksDesc',\n\t},\n\thandleSideLinks: {\n\t\ttitle: 'quickMessageHandleSideLinksTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'quickMessageHandleSideLinksDesc',\n\t},\n\tlinkToCurrentPage: {\n\t\ttitle: 'quickMessageLinkToCurrentPageTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'quickMessageLinkToCurrentPageDesc',\n\t},\n};\n\nconst lastSentAsStorage = Storage.wrapPrefix('RESmodules.quickMessage.lastSentAs.', () => (null: null | string));\n\nmodule.contentStart = () => {\n\tCommandLine.registerCommand(\n\t\t(cmd, val) => cmd === 'qm' && (/^(?:([^\\s]+)(?:\\s(.*))?)?$/).exec(val),\n\t\t'qm [recipient [message]] - open quick message dialog',\n\t\t(command, val, [, to, body]) => {\n\t\t\tif (body) {\n\t\t\t\treturn `quick message to ${to}: ${body}`;\n\t\t\t} else if (to) {\n\t\t\t\treturn `quick message to ${to}`;\n\t\t\t}\n\t\t\treturn 'quick message';\n\t\t},\n\t\t(command, val, [, to, body]) => {\n\t\t\topenQuickMessageDialog({ to, body });\n\t\t},\n\t);\n\n\t// global keyboard shortcut\n\twindow.addEventListener('keydown', e => {\n\t\tif (checkKeysForEvent(e, module.options.openQuickMessage.value)) {\n\t\t\te.preventDefault();\n\t\t\topenQuickMessageDialog();\n\t\t}\n\t}, true);\n\n\tif (module.options.handleContentLinks.value) {\n\t\t$('div.content[role=\"main\"]').on('click', 'a[href*=\"/message/compose\"]', messageLinkEventHandler);\n\t}\n\tif (module.options.handleSideLinks.value) {\n\t\t$('div.side').on('click', 'a[href*=\"/message/compose\"]', messageLinkEventHandler);\n\t}\n};\n\nconst quickMessageDialog = _.once(() => {\n\tconst $dialog = $(string.html`\n\t\t<div id=\"quickMessage\">\n\t\t\t<div id=\"quickMessageDialog\" class=\"RESDialogSmall\">\n\t\t\t\t<h3>Send Message<a class=\"gearIcon\" href=\"${SettingsNavigation.makeUrlHash(module.moduleID)}\"></a></h3>\n\t\t\t\t<div id=\"quickMessageDialogClose\" class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t\t\t<div id=\"quickMessageDialogContents\" class=\"RESDialogContents clear\">\n\t\t\t\t\t<form name=\"quickMessageDialogForm\" action=\"\">\n\t\t\t\t\t\t<label for=\"quickMessageDialogFrom\">From</label>\n\t\t\t\t\t\t<select id=\"quickMessageDialogFrom\"></select>\n\t\t\t\t\t\t<label for=\"quickMessageDialogTo\">To</label>\n\t\t\t\t\t\t<input type=\"text\" id=\"quickMessageDialogTo\" value=\"\"/>\n\t\t\t\t\t\t<label for=\"quickMessageDialogSubject\">Subject</label>\n\t\t\t\t\t\t<input type=\"text\" id=\"quickMessageDialogSubject\" value=\"\"/>\n\t\t\t\t\t\t<label for=\"quickMessageDialogBody\">Body</label>\n\t\t\t\t\t\t<textarea id=\"quickMessageDialogBody\"></textarea>\n\t\t\t\t\t\t<div class=\"clear\"></div>\n\t\t\t\t\t\t<input type=\"button\" id=\"quickMessageDialogSend\" value=\" send message\"/>\n\t\t\t\t\t\t<a href=\"/message/compose\" class=\"fullMessageForm blueButton\">open full message form</a>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`);\n\tconst from = downcast($dialog.find('#quickMessageDialogFrom').get(0), HTMLSelectElement);\n\tconst to = downcast($dialog.find('#quickMessageDialogTo').get(0), HTMLInputElement);\n\tconst subject = downcast($dialog.find('#quickMessageDialogSubject').get(0), HTMLInputElement);\n\tconst body = downcast($dialog.find('#quickMessageDialogBody').get(0), HTMLTextAreaElement);\n\n\t// close dialog with \"x\" button\n\t$dialog\n\t\t.find('#quickMessageDialogClose')\n\t\t.on('click', (e: Event) => {\n\t\t\te.preventDefault();\n\t\t\tcloseQuickMessageDialog();\n\t\t});\n\n\t// close dialog with escape key\n\t$dialog\n\t\t.get(0)\n\t\t.addEventListener('keydown', (e: KeyboardEvent) => {\n\t\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\t\te.preventDefault();\n\t\t\t\tcloseQuickMessageDialog();\n\t\t\t}\n\t\t}, true);\n\n\t// send with \"send message\" button\n\t$dialog\n\t\t.find('#quickMessageDialogSend')\n\t\t.get(0)\n\t\t.addEventListener('click', (e: Event) => {\n\t\t\te.preventDefault();\n\t\t\tsendMessage();\n\t\t}, true);\n\n\t// send with control-enter\n\tCommentTools.onCtrlEnter('#quickMessageDialog', sendMessage);\n\n\t// open full message form\n\t$dialog\n\t\t.find('a.fullMessageForm')\n\t\t// mousedown isn't fired if you tab over to the button\n\t\t.on('mousedown focus', e => { $(e.currentTarget).attr('href', getFullMessageFormUrl()); })\n\t\t.on('click', closeQuickMessageDialog);\n\n\t$dialog.find('a').on('keypress', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Enter) {\n\t\t\te.currentTarget.click();\n\t\t}\n\t});\n\n\t// show moderator shield when sending from subreddit and store the user's selection\n\tfrom.addEventListener('change', () => {\n\t\tconst val = from.value;\n\t\tupdateModeratorIcon(val.startsWith('/r/'));\n\t\tconst loggedIn = loggedInUser();\n\t\tif (loggedIn) lastSentAsStorage.set(loggedIn, val);\n\t});\n\n\t$dialog.appendTo(document.body);\n\n\treturn { $dialog, from, to, subject, body };\n});\n\nfunction updateModeratorIcon(state) {\n\tquickMessageDialog().$dialog\n\t\t.find('label[for=quickMessageDialogFrom]')\n\t\t.toggleClass('moderator', state);\n}\n\nexport function messageLinkEventHandler(e: MouseEvent) {\n\tconst { searchParams, pathname } = new URL(downcast(e.target, HTMLAnchorElement).href, location.href);\n\tconst hasModifier = e.ctrlKey || e.altKey || e.metaKey || e.shiftKey;\n\tif (e.button === 0 && !hasModifier && regexes.composeMessage.test(pathname)) {\n\t\te.preventDefault();\n\n\t\tconst srMatch = regexes.subreddit.exec(pathname);\n\n\t\topenQuickMessageDialog({\n\t\t\tfrom: srMatch ? `/r/${srMatch[1]}` : undefined,\n\t\t\tto: searchParams.get('to') || '',\n\t\t\tsubject: searchParams.get('subject') || '',\n\t\t\tbody: searchParams.get('message') || '',\n\t\t});\n\t\treturn true;\n\t}\n}\n\nasync function getValidSendFrom() {\n\tconst username = loggedInUser();\n\n\tif (!username) {\n\t\treturn [];\n\t}\n\n\tconst users = [{\n\t\tname: `/u/${username}`,\n\t\tdisplayText: `/u/${Modules.isRunning(UsernameHider) ? UsernameHider.getDisplayText(username) : username}`,\n\t}];\n\n\tif (isModeratorAnywhere()) {\n\t\tconst { data } = (await ajax({\n\t\t\turl: '/subreddits/mine/moderator.json',\n\t\t\tquery: {\n\t\t\t\tlimit: 1000,\n\t\t\t\tshow: 'all',\n\t\t\t\tuser: loggedInUser() || '', // for the cache\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t\tcacheFor: HOUR,\n\t\t}): RedditListing<RedditSubreddit>);\n\t\tconst modSubs = data.children.map(({ data }) => {\n\t\t\tconst name = data.url.slice(0, -1);\n\t\t\treturn { name, displayText: name };\n\t\t});\n\t\tusers.push(...modSubs);\n\t}\n\n\treturn users;\n}\n\nconst setUpSendFromDropdown = _.once(async () => {\n\tconst senders = await getValidSendFrom();\n\tfor (const { name, displayText } of senders) {\n\t\tconst currentOption = document.createElement('option');\n\t\tcurrentOption.value = name;\n\t\tcurrentOption.text = displayText;\n\t\tquickMessageDialog().from.add(currentOption);\n\t}\n\tquickMessageDialog().from.disabled = (senders.length < 2);\n});\n\nfunction focusFirstEmpty() {\n\t// $FlowIssue\n\tArray.from(quickMessageDialog().$dialog.find('input, textarea'))\n\t\t.find((ele, i, { length }) =>\n\t\t\t/*::\n\t\t\t\t(ele instanceof HTMLInputElement ||\n\t\t\t\tele instanceof HTMLTextAreaElement) &&\n\t\t\t*/\n\t\t\t!ele.value || i === length - 1)\n\t\t.focus();\n}\n\nasync function updateSelectedSender(desiredUser, loggedIn) {\n\tconst sendAsOptions = Array.from(quickMessageDialog().from.options).map(ele => $(ele).text().toLowerCase());\n\tlet indexToSelect = sendAsOptions.indexOf(desiredUser.toLowerCase());\n\n\tif (indexToSelect === -1) {\n\t\tswitch (module.options.sendAs.value) {\n\t\t\tcase 'sub':\n\t\t\t\tconst sub = currentSubreddit();\n\t\t\t\tif (sub) indexToSelect = sendAsOptions.indexOf(`/r/${sub.toLowerCase()}`);\n\t\t\t\tbreak;\n\t\t\tcase 'last':\n\t\t\t\tconst lastSelected = await lastSentAsStorage.get(loggedIn);\n\t\t\t\tif (lastSelected) {\n\t\t\t\t\tindexToSelect = sendAsOptions.indexOf(lastSelected.toLowerCase());\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'temporary':\n\t\t\t\tindexToSelect = quickMessageDialog().from.selectedIndex;\n\t\t\t\tbreak;\n\t\t\t// case 'user':\n\t\t\tdefault:\n\t\t\t\tindexToSelect = 0;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tquickMessageDialog().from.selectedIndex = (indexToSelect !== -1 ? indexToSelect : 0);\n\tupdateModeratorIcon(quickMessageDialog().from.value.startsWith('/r/'));\n}\n\ntype QuickMessageDialogOptions = {\n\tfrom?: string,\n\tto?: string,\n\tsubject?: string,\n\tbody?: string,\n};\n\nexport async function openQuickMessageDialog({ from = '', to = '', subject = module.options.defaultSubject.value, body = module.options.linkToCurrentPage.value ? location.href : '' }: QuickMessageDialogOptions = {}): Promise<void> {\n\tconst loggedIn = loggedInUser();\n\n\tif (!loggedIn) {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'quickMessage',\n\t\t\tnotificationID: 'quickMessageNoUser',\n\t\t\theader: 'Not Logged In.',\n\t\t\tcloseDelay: 3000,\n\t\t\tmessage: 'You must log in to use the quick message dialog.',\n\t\t});\n\t\treturn;\n\t}\n\n\tawait setUpSendFromDropdown();\n\n\tawait updateSelectedSender(from, loggedIn);\n\tquickMessageDialog().to.value = to;\n\tquickMessageDialog().subject.value = subject;\n\tquickMessageDialog().body.value = body;\n\n\tquickMessageDialog().$dialog.fadeIn(300);\n\n\tfocusFirstEmpty();\n}\n\nfunction closeQuickMessageDialog() {\n\tquickMessageDialog().$dialog.fadeOut(300);\n\n\t// remove focus from any input fields\n\tfor (const ele of quickMessageDialog().$dialog.find('input, textarea, button')) {\n\t\tele.blur();\n\t}\n}\n\nfunction getFullMessageFormUrl() {\n\tconst subreddit = quickMessageDialog().from.value.startsWith('/r/') ? quickMessageDialog().from.value : '';\n\treturn subreddit +\n\t\tstring.encode`/message/compose?to=${quickMessageDialog().to.value}&subject=${quickMessageDialog().subject.value}&message=${quickMessageDialog().body.value}`;\n}\n\nconst presetSendErrors = {\n\tNO_USER: 'No recipient specified.',\n\tNO_SUBJECT: 'No subject specified.',\n\tNO_TEXT: 'Message body is empty.',\n\tBAD_CAPTCHA: '<p>Sorry, reddit requires you to enter a captcha to send messages. This is usually because your account is brand new or has low karma.</p><b>Click on \"open full message form\" and try again (your message will be preserved).</b>',\n\tTOO_LONG: 'Either your subject (max 100 characters) or body (max 10,000 characters) is too long.',\n};\n\nasync function sendMessage() {\n\tconst from = quickMessageDialog().from.value;\n\n\ttry {\n\t\tconst { json: { errors } } = await ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: '/api/compose',\n\t\t\tdata: {\n\t\t\t\tapi_type: 'json',\n\t\t\t\tfrom_sr: from.includes('/r/') ? from.slice(3) : '',\n\t\t\t\tsubject: quickMessageDialog().subject.value,\n\t\t\t\ttext: quickMessageDialog().body.value,\n\t\t\t\tto: quickMessageDialog().to.value,\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tif (errors[0]) {\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: 'quickMessage',\n\t\t\t\tnotificationID: 'quickMessageSendError',\n\t\t\t\theader: 'Message not sent.',\n\t\t\t\tcloseDelay: 15000,\n\t\t\t\tmessage: presetSendErrors[errors[0][0]] || `${errors[0][0]} : ${errors[0][1]}`, // errors[0][0] is the error name, [1] is reddit's description of the error\n\t\t\t});\n\t\t} else {\n\t\t\tcloseQuickMessageDialog();\n\t\t}\n\t} catch (e) {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'quickMessage',\n\t\t\tnotificationID: 'failedToSendQuickMessage',\n\t\t\theader: 'Sending Failed!',\n\t\t\tcloseDelay: 15000,\n\t\t\tmessage: 'Reddit is likely under heavy load. Either wait a minute or click on \"open full message form\" and try again (your message will be preserved).',\n\t\t});\n\t\tthrow e;\n\t}\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport {\n\tAlert,\n\tThing,\n\taddCSS,\n\tthrottle,\n\thashCode,\n\tisPageType,\n\tloggedInUser,\n\tgetUsernameFromLink,\n\twatchForElements,\n\twatchForThings,\n} from '../utils';\nimport { i18n } from '../environment';\nimport * as UserInfo from './userInfo';\n\nexport const module: Module<*> = new Module('userHighlight');\n\nmodule.moduleName = 'userHighlightName';\nmodule.category = 'usersCategory';\nmodule.description = 'userHighlightDesc';\nmodule.bodyClass = true;\nmodule.options = {\n\thighlightSelf: {\n\t\ttitle: 'userHighlightHighlightSelfTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'userHighlightHighlightSelfDesc',\n\t},\n\tselfColor: {\n\t\ttitle: 'userHighlightSelfColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#B8860B',\n\t\tdescription: 'userHighlightSelfColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightSelf.value,\n\t},\n\tselfColorHover: {\n\t\ttitle: 'userHighlightSelfColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#8A6508',\n\t\tdescription: 'userHighlightSelfColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightSelf.value,\n\t},\n\thighlightOP: {\n\t\ttitle: 'userHighlightHighlightOPTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightOPDesc',\n\t},\n\tOPColor: {\n\t\ttitle: 'userHighlightOPColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#0055DF',\n\t\tdescription: 'userHighlightOPColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightOP.value,\n\t},\n\tOPColorHover: {\n\t\ttitle: 'userHighlightOPColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#4E7EAB',\n\t\tdescription: 'userHighlightOPColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightOP.value,\n\t},\n\thighlightAdmin: {\n\t\ttitle: 'userHighlightHighlightAdminTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightAdminDesc',\n\t},\n\tadminColor: {\n\t\ttitle: 'userHighlightAdminColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#FF0011',\n\t\tdescription: 'userHighlightAdminColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightAdmin.value,\n\t},\n\tadminColorHover: {\n\t\ttitle: 'userHighlightAdminColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#B3000C',\n\t\tdescription: 'userHighlightAdminColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightAdmin.value,\n\t},\n\thighlightAlum: {\n\t\ttitle: 'userHighlightHighlightAlumTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightAlumDesc',\n\t},\n\talumColor: {\n\t\ttitle: 'userHighlightAlumColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#BE1337',\n\t\tdescription: 'userHighlightAlumColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightAlum.value,\n\t},\n\talumColorHover: {\n\t\ttitle: 'userHighlightAlumColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#8F0E29',\n\t\tdescription: 'userHighlightAlumColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightAlum.value,\n\t},\n\thighlightFriend: {\n\t\ttitle: 'userHighlightHighlightFriendTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightFriendDesc',\n\t},\n\tfriendColor: {\n\t\ttitle: 'userHighlightFriendColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#FF4500',\n\t\tdescription: 'userHighlightFriendColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFriend.value,\n\t},\n\tfriendColorHover: {\n\t\ttitle: 'userHighlightFriendColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#B33000',\n\t\tdescription: 'userHighlightFriendColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFriend.value,\n\t},\n\thighlightMod: {\n\t\ttitle: 'userHighlightHighlightModTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightModDesc',\n\t},\n\tmodColor: {\n\t\ttitle: 'userHighlightModColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#228822',\n\t\tdescription: 'userHighlightModColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightMod.value,\n\t},\n\tmodColorHover: {\n\t\ttitle: 'userHighlightModColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#134913',\n\t\tdescription: 'userHighlightModColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightMod.value,\n\t},\n\thighlightOpMentions: {\n\t\ttitle: 'userHighlightOpMentionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightOpMentionsDesc',\n\t},\n\topMentionsColor: {\n\t\ttitle: 'userHighlightOpMentionsColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#6D4731',\n\t\tdescription: 'userHighlightOpMentionsColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightOpMentions.value,\n\t},\n\topMentionsHover: {\n\t\ttitle: 'userHighlightOpMentionsHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#C4946E',\n\t\tdescription: 'userHighlightOpMentionsHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightOpMentions.value,\n\t},\n\thighlightFirstCommenter: {\n\t\ttitle: 'userHighlightHighlightFirstCommenterTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'userHighlightHighlightFirstCommenterDesc',\n\t},\n\tdontHighlightFirstComment: {\n\t\ttitle: 'userHighlightDontHighlightFirstCommentTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightDontHighlightFirstCommentDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFirstCommenter.value,\n\t},\n\tfirstCommentColor: {\n\t\ttitle: 'userHighlightFirstCommentColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#46B6CC',\n\t\tdescription: 'userHighlightFirstCommentColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFirstCommenter.value,\n\t},\n\tfirstCommentColorHover: {\n\t\ttitle: 'userHighlightFirstCommentColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#72D2E5',\n\t\tdescription: 'userHighlightFirstCommentColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFirstCommenter.value,\n\t},\n\tfontColor: {\n\t\ttitle: 'userHighlightFontColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#FFFFFF',\n\t\tdescription: 'userHighlightFontColorDesc',\n\t\tadvanced: true,\n\t},\n\tautoColorUsernames: {\n\t\ttitle: 'userHighlightAutoColorUsernamesTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'userHighlightAutoColorUsernamesDesc',\n\t},\n\tautoColorUsing: {\n\t\ttitle: 'userHighlightAutoColorUsingTitle',\n\t\tdescription: 'userHighlightAutoColorUsingDesc',\n\t\ttype: 'enum',\n\t\tvalue: 'hash-userid-notbright',\n\t\tvalues: [{\n\t\t\tname: 'Random color, not too bright, consistent for each user; night mode-friendly',\n\t\t\tvalue: 'hash-userid-notbright',\n\t\t}, {\n\t\t\tname: 'Simple random color, consistent for each user. (original)',\n\t\t\tvalue: 'hash-userid',\n\t\t}, {\n\t\t\tname: 'All black or, in night mode, all light gray.',\n\t\t\tvalue: 'monochrome',\n\t\t}],\n\t\tadvanced: true,\n\t\tdependsOn: options => options.autoColorUsernames.value,\n\t},\n\tgenerateHoverColors: {\n\t\ttitle: 'userHighlightGenerateHoverColorsTitle',\n\t\ttype: 'button',\n\t\ttext: 'Generate',\n\t\tcallback: generateHoverColors,\n\t\tdescription: 'userHighlightGenerateHoverColorsDesc',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\t// Run these immediately since they add styles.\n\t// Adding styles would cause style recalculation at the end of every chunk, which is very expensive\n\n\tif (module.options.autoColorUsernames.value) {\n\t\twatchForThings(['post', 'comment', 'message'], updateNewUsernames, { immediate: true });\n\t}\n\n\tif (module.options.highlightFirstCommenter.value) {\n\t\twatchForThings(['comment'], updateFirstComments, { immediate: true });\n\t}\n\n\tif (module.options.highlightFriend.value) {\n\t\thighlight('friend', module.options.friendColor.value, module.options.friendColorHover.value);\n\t}\n\tif (module.options.highlightOP.value) {\n\t\thighlight('submitter', module.options.OPColor.value, module.options.OPColorHover.value);\n\t}\n\tif (module.options.highlightMod.value) {\n\t\thighlight('moderator', module.options.modColor.value, module.options.modColorHover.value);\n\t}\n\tif (module.options.highlightAdmin.value) {\n\t\thighlight('admin', module.options.adminColor.value, module.options.adminColorHover.value);\n\t}\n\tif (module.options.highlightAlum.value) {\n\t\thighlight('alum', module.options.alumColor.value, module.options.alumColorHover.value);\n\t}\n\n\tif (module.options.highlightOpMentions.value && isPageType('comments')) {\n\t\twatchForElements(['selfText'], null, selftext => {\n\t\t\tconst thing = Thing.from(selftext);\n\t\t\tconst author = thing && thing.getAuthor();\n\t\t\thighlightMentionedUsers(selftext, module.options.opMentionsColor.value, module.options.opMentionsHover.value, author);\n\t\t}, { immediate: true });\n\t}\n};\n\nmodule.contentStart = () => {\n\tconst username = loggedInUser();\n\tif (module.options.highlightSelf.value && username) {\n\t\thighlight(`author[href$=\"/${username}\"]`, module.options.selfColor.value, module.options.selfColorHover.value);\n\t}\n};\n\nfunction highlightMentionedUsers(element, color, hoverColor, ...exclude) {\n\tArray.from(element.querySelectorAll('a'))\n\t\t.map(getUsernameFromLink)\n\t\t.filter(Boolean)\n\t\t.filter(user => !exclude.includes(user))\n\t\t.forEach(user => highlight(`author[href$=\"/${user}\" i]`, color, hoverColor));\n}\n\nfunction updateFirstComments(thing) {\n\tif (!thing.isTopLevelComment()) return;\n\n\tconst idClass = Array.from(thing.element.classList).find(cls => cls.startsWith('id-t1_'));\n\tif (!idClass) return;\n\n\tconst author = thing.getAuthorElement();\n\tif (!author) return;\n\n\tconst authorClass = Array.from(author.classList).find(cls => cls.startsWith('id-t2_'));\n\n\tif (authorClass) {\n\t\tconst container = `.${idClass}${module.options.dontHighlightFirstComment.value ? ' .child' : ''}`;\n\t\thighlight(\n\t\t\tauthorClass,\n\t\t\tmodule.options.firstCommentColor.value,\n\t\t\tmodule.options.firstCommentColorHover.value,\n\t\t\tcontainer,\n\t\t);\n\t}\n}\n\nfunction updateNewUsernames(thing) {\n\tconst element = thing.getAuthorElement();\n\tif (!element) return;\n\n\tconst idClass = Array.from(element.classList).find(cls => cls.startsWith('id-t2_'));\n\tif (!idClass) return;\n\n\tconst colorGetter = autoColorUsing[module.options.autoColorUsing.value];\n\tconst color = colorGetter(idClass);\n\n\tdoTextColor(idClass, color);\n}\n\nconst autoColorUsing = {\n\t'hash-userid-notbright'(idClass) {\n\t\tconst hash = hashCode(idClass);\n\n\t\t// With help from /u/Rangi42\n\n\t\tconst r = (hash & 0xFF0000) >> 16;\n\t\tconst g = (hash & 0x00FF00) >> 8;\n\t\tconst b = hash & 0x0000FF;\n\t\t// Luminance formula: http://stackoverflow.com/a/596243/70175\n\t\tconst lum = Math.round(r * 0.299 + g * 0.587 + b * 0.114);\n\t\tconst minLum = 0x66; // Night mode background is #191919 or #222222\n\t\tconst maxLum = 0xAA; // Regular background is #FFFFFF or #F7F7F8\n\n\t\tlet color = [r, g, b];\n\t\tlet nightmodeColor = [r, g, b];\n\t\tif (lum < minLum) {\n\t\t\tconst scale = minLum / lum;\n\t\t\tnightmodeColor = [\n\t\t\t\tMath.round(r * scale),\n\t\t\t\tMath.round(g * scale),\n\t\t\t\tMath.round(b * scale),\n\t\t\t];\n\t\t} else if (lum > maxLum) {\n\t\t\tconst scale = maxLum / lum;\n\t\t\tcolor = [\n\t\t\t\tMath.round(r * scale),\n\t\t\t\tMath.round(g * scale),\n\t\t\t\tMath.round(b * scale),\n\t\t\t];\n\t\t}\n\t\tcolor = `rgb(${color.join(',')})`;\n\t\tnightmodeColor = `rgb(${nightmodeColor.join(',')})`;\n\n\t\treturn {\n\t\t\tcolor,\n\t\t\tnightmodeColor,\n\t\t};\n\t},\n\t'hash-userid'(idClass) {\n\t\t// Choose color\n\t\tlet hash = 5381;\n\t\tfor (const char of idClass) {\n\t\t\thash = ((hash << 5) + hash) + char.charCodeAt(0);\n\t\t\t/* hash * 33 + c */\n\t\t}\n\n\t\tconst r = (hash & 0xFF0000) >> 16;\n\t\tconst g = (hash & 0x00FF00) >> 8;\n\t\tconst b = hash & 0x0000FF;\n\t\tconst color = `rgb(${[r, g, b].join(',')})`;\n\n\t\treturn {\n\t\t\tcolor,\n\t\t};\n\t},\n\tmonochrome() {\n\t\treturn {\n\t\t\tcolor: 'black',\n\t\t\tnightmodeColor: '#ccc',\n\t\t};\n\t},\n};\n\nexport function highlightUser(userid: string) {\n\treturn highlight(\n\t\t`author.id-t2_${userid}`,\n\t\tUserInfo.module.options.highlightColor.value,\n\t\tUserInfo.module.options.highlightColorHover.value,\n\t);\n}\n\nconst css = [];\nconst throttled = throttle(() => { addCSS(css.splice(0, css.length).join('\\n')); });\nconst batch = v => { css.push(v); throttled(); };\n\nfunction highlight(selector, color, hoverColor, container = '') {\n\tbatch(`\n${container} .tagline .author.${selector},\n${container} .crosspost-preview-tagline .author.${selector} {\n\tcolor: ${module.options.fontColor.value} !important;\n\tfont-weight: bold;\n\tpadding: 0 2px 0 2px;\n\tborder-radius: 3px;\n\tbackground-color: ${color} !important;\n}\n${container} .collapsed .tagline .author.${selector},\n${container} .collapsed .crosspost-preview-tagline .author.${selector} {\n\tcolor: white !important;\n\tbackground-color: #AAA !important;\n}\n${container} .tagline .author.${selector}:hover,\n${container} .crosspost-preview-tagline .author.${selector}:hover {\n\tbackground-color: ${hoverColor} !important;\n\ttext-decoration: none !important;\n}\n\t`);\n}\n\nfunction doTextColor(selector, colorData) {\n\tconst color = colorData.color;\n\tconst nightmodeColor = colorData.nightmodeColor || colorData.color;\n\tbatch(`\n.tagline .author.${selector} {\n\tcolor: ${color} !important;\n}\n.res-nightmode .tagline .author.${selector} {\n\tcolor: ${nightmodeColor} !important;\n}\n\t`);\n}\n\nfunction generateHoverColor(color) { // generate a darker color\n\tif (!(/^#[0-9A-F]{6}$/i).test(color)) throw new Error('Input color must be a six digit hex value');\n\tlet R = parseInt(color.substr(1, 2), 16);\n\tlet G = parseInt(color.substr(3, 2), 16);\n\tlet B = parseInt(color.substr(5, 2), 16);\n\t// R = R + 0.25 *(255-R); // 25% lighter\n\tR = Math.round(0.75 * R) + 256; // we add 256 to add a 1 before the color in the hex format\n\tG = Math.round(0.75 * G) + 256; // then we remove the 1, this have for effect to\n\tB = Math.round(0.75 * B) + 256; // add a 0 before one char color in hex format (i.e. 0xA -> 0x10A -> 0x0A)\n\treturn `#${R.toString(16).substr(1)}${G.toString(16).substr(1)}${B.toString(16).substr(1)}`;\n}\n\nfunction generateHoverColors() { // apply generateHoverColor on all option\n\ttry {\n\t\tfor (const option of ['selfColor', 'OPColor', 'adminColor', 'friendColor', 'modColor', 'firstCommentColor', 'alumColor']) {\n\t\t\tconst current = (Options.stage.get(module.moduleID) || module.options)[option].value;\n\t\t\tOptions.set(module.moduleID, option, generateHoverColor(current));\n\t\t}\n\t\tAlert.open('Saved, but not yet updated in settings console. Reload page without saving to see new values.');\n\t} catch (e) {\n\t\tAlert.open(i18n('userHighlightColorCouldNotBeGenerated'));\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { ajax, i18n } from '../environment';\nimport * as Modules from '../core/modules';\nimport {\n\tclick,\n\tCreateElement,\n\tdowncast,\n\tformatDate,\n\tformatDateDiff,\n\tformatNumber,\n\tgetUserInfo,\n\tusernameSelector,\n\tgetUsernameFromLink,\n\tloggedInUser,\n\tstring,\n\tThing,\n} from '../utils';\nimport * as CommentNavigator from './commentNavigator';\nimport * as Hover from './hover';\nimport * as QuickMessage from './quickMessage';\nimport * as UserHighlight from './userHighlight';\nimport * as UserTagger from './userTagger';\n\nexport const module: Module<*> = new Module('userInfo');\n\nmodule.moduleName = 'userInfoName';\nmodule.category = 'usersCategory';\nmodule.description = 'userInfoDesc';\nmodule.options = {\n\thoverInfo: {\n\t\ttitle: 'userInfoHoverInfoTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userInfoHoverInfoDesc',\n\t},\n\tuseQuickMessage: {\n\t\ttitle: 'userInfoUseQuickMessageTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userInfoUseQuickMessageDesc',\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\thoverDelay: {\n\t\ttitle: 'userInfoHoverDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '800',\n\t\tdescription: 'userInfoHoverDelayDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\tfadeDelay: {\n\t\ttitle: 'userInfoFadeDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'userInfoFadeDelayDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\tfadeSpeed: {\n\t\ttitle: 'userInfoFadeSpeedTitle',\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'userInfoFadeSpeedDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\tgildComments: {\n\t\ttitle: 'userInfoGildCommentsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userInfoGildCommentsDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\thighlightButton: {\n\t\ttitle: 'userInfoHighlightButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userInfoHighlightButtonDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\thighlightColor: {\n\t\ttitle: 'userInfoHighlightColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#5544CC',\n\t\tdescription: 'userInfoHighlightColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightButton.value,\n\t},\n\thighlightColorHover: {\n\t\ttitle: 'userInfoHighlightColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#6677AA',\n\t\tdescription: 'userInfoHighlightColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightButton.value,\n\t},\n};\n\nexport const highlightedUsers = {};\n\nmodule.contentStart = () => {\n\tif (module.options.hoverInfo.value) {\n\t\tHover.infocard(module.moduleID)\n\t\t\t.options({\n\t\t\t\twidth: 475,\n\t\t\t\topenDelay: parseFloat(module.options.hoverDelay.value),\n\t\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t\t})\n\t\t\t.populateWith(showUserInfo)\n\t\t\t.watch(usernameSelector);\n\t}\n};\n\nasync function showUserInfo(card) {\n\tconst username = getUsernameFromLink(card.getCheckedTarget());\n\n\tif (!username) {\n\t\tconsole.error(i18n('userInfoInvalidUsernameLink'));\n\t\treturn;\n\t}\n\n\tconst thing = Thing.from(card.getCheckedTarget());\n\tlet data;\n\n\ttry {\n\t\t({ data } = await getUserInfo(username));\n\t} catch (e) {\n\t\treturn [null, i18n('userInfoUserNotFound')];\n\t}\n\n\tif (data.is_suspended) {\n\t\treturn [null, i18n('userInfoUserSuspended')];\n\t}\n\n\tconst d = new Date(data.created_utc * 1000);\n\n\tconst header = string.html`\n\t\t<div>\n\t\t\t<a href=\"/user/${data.name}\">/u/${data.name}</a>\n\t\t \t(<a href=\"/user/${data.name}/submitted/\">${i18n('userInfoLinks')}</a>)\n\t\t \t(<a href=\"/user/${data.name}/comments/\">${i18n('userInfoComments')}</a>)\n\t\t</div>\n\t`;\n\n\tif (loggedInUser()) {\n\t\tconst button = CreateElement.fancyToggleButton(\n\t\t\ti18n('userInfoAddRemoveFriends'),\n\t\t\t'',\n\t\t\t() => data.is_friend,\n\t\t\tasync state => {\n\t\t\t\tajax({\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\turl: `/api/${state ? 'friend' : 'unfriend'}`,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\ttype: 'friend',\n\t\t\t\t\t\tname: data.name,\n\t\t\t\t\t\tcontainer: `t2_${(await getUserInfo()).data.id}`,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tajax.invalidate({ url: `/user/${data.name}/about.json` });\n\t\t\t},\n\t\t);\n\t\tbutton.style.marginLeft = '12px';\n\t\theader.appendChild(button);\n\t}\n\n\tcard.populate([header]);\n\n\tconst $body = $('<div id=\"authorInfoToolTip\" />');\n\n\tlet userHTML = string.escape`\n\t\t<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoRedditorSince')}</div> <div class=\"fieldPair-text\">${formatDate(d)} (${formatDateDiff(d)})</div></div>\n\t\t<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoPostKarma')}</div> <div class=\"fieldPair-text\">${formatNumber(data.link_karma)}</div></div>\n\t\t<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoCommentKarma')}</div> <div class=\"fieldPair-text\">${formatNumber(data.comment_karma)}</div></div>\n\t`;\n\n\tconst userTaggerEnabled = Modules.isRunning(UserTagger);\n\tconst userTag = userTaggerEnabled && await UserTagger.Tag.get(data.name);\n\n\tif (userTaggerEnabled) {\n\t\tuserHTML += `<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoUserTag')}</div> <div class=\"fieldPair-text\" style=\"display:flex\"><a class=\"author\" style=\"display: none;\" href=\"/u/${data.name}\"/></div></div>`;\n\t}\n\n\tif (userTag && userTag.link) {\n\t\tconst links = userTag.link.split(/\\s/).reduce((acc, url) => acc + string.escape`<a target=\"_blank\" rel=\"noopener noreferer\" href=\"${url}\">${url.replace(/^https?:\\/\\/(www\\.)?/, '')}</a>`, '');\n\t\tuserHTML += `<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoLink')}</div> <div class=\"fieldPair-text\">${links}</div></div>`;\n\t}\n\n\tuserHTML += string.escape`\n\t\t<div class=\"clear\"></div>\n\t\t<div class=\"bottomButtons\">\n\t\t\t<a target=\"_blank\" rel=\"noopener noreferer\" class=\"blueButton composeButton\" href=\"/message/compose/?to=${data.name}\"><img src=\"https://redditstatic.s3.amazonaws.com/mailgray.png\"> ${i18n('userInfoSendMessage')}</a>\n\t`;\n\n\tif (data.is_gold) {\n\t\tuserHTML += string.escape`<a target=\"_blank\" rel=\"noopener noreferer\" class=\"blueButton\" href=\"/gold/about\">${i18n('userInfoUserHasRedditGold')}</a>`;\n\t} else {\n\t\tuserHTML += string.escape`<a target=\"_blank\" rel=\"noopener noreferer\" id=\"gildUser\" class=\"blueButton\" href=\"/gold?goldtype=gift&recipient=${data.name}\">${i18n('userInfoGiftRedditGold')}</a>`;\n\t}\n\n\tif (module.options.highlightButton.value) {\n\t\tconst isHighlight = !highlightedUsers[data.id];\n\t\tuserHTML += string.escape`<div class=\"${isHighlight ? 'blueButton' : 'redButton'}\" id=\"highlightUser\" data-userid=\"${data.id}\">${isHighlight ? i18n('userInfoHighlight') : i18n('userInfoUnhighlight')}</div>`;\n\t}\n\n\tif (userTag) {\n\t\tconst getButton = () => string.html`<div class=\"${userTag.ignored ? 'redButton' : 'blueButton'}\" id=\"ignoreUser\">&empty; ${userTag.ignored ? i18n('userInfoUnignore') : i18n('userInfoIgnore')}</div>`;\n\n\t\t$body.on('click', '#ignoreUser', (e: Event) => {\n\t\t\tif (e.currentTarget.classList.contains('blueButton')) userTag.ignore();\n\t\t\telse userTag.unignore();\n\t\t\te.currentTarget.replaceWith(getButton());\n\t\t});\n\n\t\tuserHTML += getButton().outerHTML;\n\t}\n\n\tuserHTML += '<div class=\"clear\"></div></div>'; // closes bottomButtons div\n\n\t$body.append(userHTML);\n\n\tif (userTag) {\n\t\tuserTag.add(downcast($body.find('.author').get(0), HTMLAnchorElement), { renderTaggingIcon: true });\n\t}\n\n\tif (module.options.highlightButton.value) {\n\t\t$body.find('#highlightUser').on('click', ({ currentTarget }: Event) => {\n\t\t\tconst userid = currentTarget.getAttribute('data-userid');\n\t\t\ttoggleUserHighlight(currentTarget, userid, thing);\n\t\t});\n\t}\n\tif (module.options.gildComments.value && thing && thing.isComment()) {\n\t\t$body.find('#gildUser').on('click', (e: MouseEvent) => {\n\t\t\tif (!thing || e.ctrlKey || e.metaKey || e.shiftKey) return;\n\n\t\t\tcard.close();\n\t\t\tconst giveGold = thing.entry.querySelector('.give-gold');\n\t\t\tclick(giveGold);\n\t\t\te.preventDefault();\n\t\t});\n\t}\n\n\tif (module.options.useQuickMessage.value && Modules.isRunning(QuickMessage)) {\n\t\t$body.find('a.composeButton').on('click', (e: JQueryMouseEventObject) => {\n\t\t\tif (e.which === 1) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tlet entryUrl;\n\t\t\t\tif (QuickMessage.module.options.linkToCurrentPage.value && thing) {\n\t\t\t\t\tconst permalink = thing.getCommentPermalink();\n\t\t\t\t\tif (permalink) {\n\t\t\t\t\t\tentryUrl = permalink.href;\n\t\t\t\t\t\tif (!entryUrl.includes('?context=')) entryUrl += '?context=10';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tQuickMessage.openQuickMessageDialog({\n\t\t\t\t\tto: data.name,\n\t\t\t\t\tbody: entryUrl,\n\t\t\t\t});\n\t\t\t\tcard.close();\n\t\t\t}\n\t\t});\n\t}\n\n\treturn [null, $body];\n}\n\nfunction toggleUserHighlight(authorInfoToolTipHighlight, userid, thing) {\n\tif (highlightedUsers[userid]) {\n\t\thighlightedUsers[userid].remove();\n\t\tdelete highlightedUsers[userid];\n\t\ttoggleUserHighlightButton(authorInfoToolTipHighlight, true);\n\t} else {\n\t\thighlightedUsers[userid] = UserHighlight.highlightUser(userid);\n\t\ttoggleUserHighlightButton(authorInfoToolTipHighlight, false);\n\t}\n\n\tif (Modules.isRunning(CommentNavigator) && CommentNavigator.module.options.openOnHighlightUser.value) {\n\t\tCommentNavigator.setCategory('highlighted', true);\n\t\tif (thing) CommentNavigator.updateFromSelected(thing);\n\t\tCommentNavigator.toggle(false, true);\n\t}\n}\n\nfunction toggleUserHighlightButton(authorInfoToolTipHighlight, canHighlight) {\n\t$(authorInfoToolTipHighlight)\n\t\t.toggleClass('blueButton', canHighlight)\n\t\t.toggleClass('redButton', !canHighlight)\n\t\t.text(canHighlight ? i18n('userInfoHighlight') : i18n('userInfoUnhighlight'));\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { SelectedThing, addFloater, isPageType, string } from '../utils';\nimport * as SettingsNavigation from './settingsNavigation';\nimport { Expando } from './showImages/expando';\n\nexport const module: Module<*> = new Module('wheelBrowse');\n\nmodule.moduleName = 'wheelBrowseName';\nmodule.category = 'browsingCategory';\nmodule.description = 'wheelBrowseDesc';\n\nlet behavior: ?(HTMLElement => (('down' | 'up', Event) => void));\n\nmodule.contentStart = () => {\n\tif (!behavior && isPageType('linklist')) useLinklistBehavior();\n\tif (!behavior) return;\n\n\tconst wheelBrowseWidget = string.html`<div hidden class=\"res-wheel-browse\"></div>`;\n\n\tconst onWheel = behavior(wheelBrowseWidget);\n\n\tSelectedThing.addListener(current => {\n\t\twheelBrowseWidget.hidden = !current;\n\t}, 'instantly');\n\n\twheelBrowseWidget.addEventListener('wheel', (e: WheelEvent) => {\n\t\te.stopImmediatePropagation();\n\t\te.preventDefault();\n\t\tonWheel(e.deltaY > 0 ? 'down' : 'up', e);\n\t});\n\n\taddFloater(wheelBrowseWidget, { order: -1 });\n};\n\nexport function setCallback(v: typeof behavior) {\n\tbehavior = v;\n}\n\nfunction useLinklistBehavior() {\n\tconst galleryPart = string.html`<div hidden class=\"res-wheel-browse-gallery\"></div>`;\n\tlet media;\n\n\tfunction updateGalleryPart(direction?: 'up' | 'down') {\n\t\tconst expando = Expando.getEntryExpandoFrom(SelectedThing.current);\n\t\tmedia = expando && expando.media;\n\n\t\tgalleryPart.hidden = !(\n\t\t\tmedia &&\n\t\t\tmedia.element.classList.contains('res-gallery-slideshow') &&\n\t\t\t( // Do not show the gallery scroll widget when at the end of the gallery\n\t\t\t\t!(direction === 'down' && media.element.querySelector('[last-piece=true]')) &&\n\t\t\t\t!(direction === 'up' && media.element.querySelector('[first-piece=true]'))\n\t\t\t)\n\t\t);\n\t}\n\n\tsetCallback(wheelBrowseWidget => {\n\t\twheelBrowseWidget.addEventListener('click', () => SettingsNavigation.open(module.moduleID));\n\t\twheelBrowseWidget.addEventListener('mouseenter', () => { updateGalleryPart(); });\n\t\twheelBrowseWidget.append(galleryPart);\n\n\t\treturn (direction, { target }) => {\n\t\t\tif (target === wheelBrowseWidget) {\n\t\t\t\tSelectedThing.move(direction, { allowMediaBrowse: true, scrollStyle: 'top' });\n\t\t\t} else if (target === galleryPart) {\n\t\t\t\tconst clicker = media && media.element.querySelector(direction === 'down' ? '.res-gallery-next' : '.res-gallery-previous');\n\t\t\t\tif (clicker) clicker.click();\n\t\t\t\tupdateGalleryPart(direction);\n\t\t\t}\n\t\t};\n\t});\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { flow, map } from 'lodash/fp';\nimport { Module } from '../core/module';\nimport {\n\tSelectedThing,\n\tThing,\n\taddFloater,\n\tcaseBuilder,\n\tdowncast,\n\tfilterMap,\n\tframeThrottle,\n\tstring,\n\tisCurrentSubreddit,\n\tempty,\n\twatchForThings,\n} from '../utils';\nimport * as Options from '../core/options';\nimport * as Cases from './filteReddit/cases';\nimport * as CommandLine from './commandLine';\nimport * as UserInfo from './userInfo';\nimport * as WheelBrowse from './wheelBrowse';\n\nexport const module: Module<*> = new Module('commentNavigator');\n\nmodule.moduleName = 'commentNavName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentNavDesc';\nmodule.options = {\n\tshowByDefault: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentNavigatorShowByDefaultDesc',\n\t\ttitle: 'commentNavigatorShowByDefaultTitle',\n\t},\n\topenOnHighlightUser: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentNavigatorOpenOnHighlightUserDesc',\n\t\ttitle: 'commentNavigatorOpenOnHighlightUserTitle',\n\t\tadvanced: true,\n\t},\n\tpopularConditions: {\n\t\ttype: 'text',\n\t\tvalue: JSON.stringify({ type: 'commentLength', op: '>', kind: 'words', val: 0 }),\n\t\tdescription: 'commentNavigatorPopularConditionsDesc',\n\t\ttitle: 'commentNavigatorPopularConditionsTitle',\n\t\tadvanced: true,\n\t},\n};\nmodule.include = [\n\t'comments',\n];\n\nmodule.contentStart = () => {\n\tinstallEntryElement();\n\n\tif (module.options.showByDefault.value) {\n\t\tcommentNav();\n\t}\n\n\tWheelBrowse.setCallback(wheelBrowseWidget => {\n\t\twheelBrowseWidget.addEventListener('click', () => { toggle(); });\n\n\t\treturn direction => {\n\t\t\tif (direction === 'up') move('up');\n\t\t\telse move('down');\n\t\t};\n\t});\n\n\tconst getMatchingCategory = async val => val && (await getCategories()).find(({ category }) => category.startsWith(val));\n\tCommandLine.registerCommand('nav', 'nav [sortType] - open the comment navigator',\n\t\tasync (command, val) => {\n\t\t\tconst { category: matchingCategory = '' } = await getMatchingCategory(val) || {};\n\t\t\treturn `navigate comments by [(${(await getCategories()).map(({ category }) => matchingCategory === category ? `<b>${category}</b>` : category).join('|')})]`;\n\t\t},\n\t\tasync (command, val) => {\n\t\t\tconst { category: matchingCategory = '' } = await getMatchingCategory(val) || {};\n\t\t\tif (matchingCategory) setCategory(matchingCategory);\n\t\t\ttoggle(false, true);\n\t\t},\n\t);\n};\n\nconst initialize = _.once(() => {\n\t// `getPosts` is memoized. Keep up to date by reseting it when new comments loads\n\twatchForThings(['comment'], () => { _memoized.cache.clear(); });\n\n\tSelectedThing.addListener(updateFromSelected, 'instantly');\n\tif (SelectedThing.current) updateFromSelected(SelectedThing.current);\n});\n\nconst sortTypes: {\n\t[string]: {|\n\t\ttitle: string,\n\t\tgetElements?: () => Array<HTMLElement> | NodeList<*>,\n\t\tgetThings?: () => Promise<Array<Thing>>,\n\t\tconditions?: *, // Used in conjunction with filteReddit\n\t\tnonlinear?: boolean,\n\t\tdisabled?: () => boolean,\n\t|},\n} = {\n\tcustom: {\n\t\ttitle: 'Navigate custom category',\n\t\tconditions: { type: 'false' }, // Must be updated by `updateCustomCategory`\n\t},\n\tcomment: {\n\t\ttitle: 'Navigate comments',\n\t\tconditions: { type: 'true' },\n\t},\n\tsubmitter: {\n\t\ttitle: 'Navigate comments made by the post submitter',\n\t\tconditions: { type: 'userAttr', attr: 'submitter' },\n\t},\n\tmoderator: {\n\t\ttitle: 'Navigate comments made by moderators',\n\t\tconditions: { type: 'userAttr', attr: 'moderator' },\n\t},\n\tfriend: {\n\t\ttitle: 'Navigate comments made by users on your friends list',\n\t\tconditions: { type: 'userAttr', attr: 'friend' },\n\t},\n\tme: {\n\t\ttitle: 'Navigate comments made by you',\n\t\tconditions: { type: 'userAttr', attr: 'me' },\n\t},\n\tadmin: {\n\t\ttitle: 'Navigate comments made by reddit admins',\n\t\tconditions: { type: 'userAttr', attr: 'admin' },\n\t},\n\thighlighted: {\n\t\ttitle: 'Navigate comments made by highlighted user',\n\t\tgetElements() {\n\t\t\tconst highlightedUserSelector = Object.keys(UserInfo.highlightedUsers)\n\t\t\t\t.map(key => `.author.id-t2_${key}`)\n\t\t\t\t.join(', ');\n\t\t\treturn highlightedUserSelector ? document.querySelectorAll(highlightedUserSelector) : [];\n\t\t},\n\t},\n\ttagged: {\n\t\ttitle: 'Navigate comments made by tagged users',\n\t\tgetElements: () => document.querySelectorAll('.tagline .userTagLink.hasTag'),\n\t},\n\tgilded: {\n\t\ttitle: 'Navigate through gilded comments',\n\t\tgetElements: () => document.querySelectorAll('.gilded-icon'),\n\t},\n\tIAmA: {\n\t\ttitle: 'Navigate through questions that have been answered by the submitter (most useful in /r/IAmA)',\n\t\tgetThings: async () => filterMap(await getPosts('submitter'), thing => thing.parent ? [thing.parent] : undefined),\n\t},\n\timages: {\n\t\ttitle: 'Navigate through comments with images',\n\t\tconditions: { type: 'hasExpando', types: ['image'] },\n\t},\n\tvideos: {\n\t\ttitle: 'Navigate through comments with videos',\n\t\tconditions: { type: 'hasExpando', types: ['video'] },\n\t},\n\tpopular: {\n\t\ttitle: 'Navigate through comments in order of highest vote total',\n\t\tasync getThings() {\n\t\t\treturn flow(\n\t\t\t\tfilterMap(thing => {\n\t\t\t\t\tconst score = thing.getScore();\n\t\t\t\t\tif (typeof score === 'number') {\n\t\t\t\t\t\treturn [[score, thing]];\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tarr => arr.sort((a, b) => b[0] - a[0]),\n\t\t\t\tmap(([, thing]) => thing),\n\t\t\t)(await getPosts('comment'));\n\t\t},\n\t\tget conditions() { return JSON.parse(module.options.popularConditions.value); },\n\t\tnonlinear: true,\n\t},\n\tnew: {\n\t\ttitle: 'Navigate through new comments (Reddit Gold users only)',\n\t\tgetElements: () => document.querySelectorAll('.new-comment'),\n\t\tdisabled: () => !document.body.querySelector('.gold-accent.comment-visits-box'),\n\t},\n\tupvoted: {\n\t\ttitle: 'Navigate through comments you upvoted',\n\t\tconditions: { type: 'voteType', kind: 'upvote' },\n\t},\n};\n\nexport function updateCustomConditions(conditions: *) {\n\tsortTypes.custom.conditions = conditions;\n}\n\nfunction getCategories() {\n\treturn Promise.all(\n\t\tObject.entries(sortTypes)\n\t\t\t.filter(([, { disabled }]) => !disabled || !disabled())\n\t\t\t.map(async ([category, { title }]) => ({\n\t\t\t\tcategory,\n\t\t\t\tselected: category === currentCategory,\n\t\t\t\tsize: (await getVisiblePosts(category)).length,\n\t\t\t\ttitle,\n\t\t\t})),\n\t).then(v =>\n\t\tv.filter(({ size, selected }) => selected || size),\n\t);\n}\n\nconst _memoized = _.memoize(async (category: Category): Promise<Thing[]> => {\n\tconst { getElements, getThings, conditions } = sortTypes[category];\n\n\tlet things;\n\n\tif (getThings) {\n\t\tthings = _.uniq(await getThings());\n\t} else if (getElements) {\n\t\tthings = _.uniq(Array.from(getElements()).map(e => Thing.from(e)).filter(Boolean));\n\t} else {\n\t\tthings = Thing.things().filter(thing => thing.isComment());\n\t}\n\n\treturn Cases.filterThings(things, conditions);\n});\nconst getPosts = (category: Category = currentCategory) => _memoized(category);\nconst getVisiblePosts = category => getPosts(category).then(v => v.filter(thing => thing.isContentVisible()));\nlet lastNavigatedTo: ?Thing = null;\n\ntype Category = $Keys<typeof sortTypes>;\nlet currentCategory: Category = isCurrentSubreddit('IAmA', 'casualiama') ? 'IAmA' : 'popular';\nlet isOpen = false;\n\nconst commentNav = _.once(() => {\n\tconst box = string.html`\n\t\t<div id=\"REScommentNavBox\">\n\t\t\t<select id=\"commentNavBy\">\n\t\t\t\t<option selected value=\"${currentCategory}\">${currentCategory}</option>\n\t\t\t</select>\n\t\t\t<details id=\"commentNavByConditions\" hidden>\n\t\t\t\t<summary>Conditions</summary>\n\t\t<div class=\"builderItem\"></div>\n\t\t\t</details>\n\t\t\t<hr style=\"margin-bottom: 0\">\n\t\t\t<div id=\"commentNavButtons\">\n\t\t\t\t<button id=\"commentNavUp\">&#x25B2;</button>\n\t\t\t\t<div id=\"commentNavPostCount\"></div>\n\t\t\t\t<button id=\"commentNavDown\">&#x25BC;</button>\n\t\t\t</div>\n\t\t</div>\n\t`;\n\n\tconst select = downcast(box.querySelector('#commentNavBy'), HTMLSelectElement);\n\n\tselect.addEventListener('focus', async () => {\n\t\tempty(select);\n\t\tconst categories = await getCategories();\n\t\tselect.append(\n\t\t\t...categories.map(({ category, selected, size }) => string.html`\n\t\t\t\t<option ${selected && 'selected'} value=\"${category}\">${category}<span> (${size})</span></option>\n\t\t\t`),\n\t\t);\n\t}, true);\n\tselect.addEventListener('keyup', ({ which }: KeyboardEvent) => { if (which === 27 /* esc */) select.blur(); });\n\tselect.addEventListener('change', () => {\n\t\tconst selectedItem = select.options.item(select.selectedIndex);\n\t\tif (selectedItem !== null) {\n\t\t\tsetCategory(selectedItem.value);\n\t\t}\n\t\tupdateBuilder();\n\t});\n\n\tconst postCount = box.querySelector('#commentNavPostCount');\n\tpostCount.addEventListener('click', () => moveTo(lastNavigatedTo));\n\tconst up = downcast(box.querySelector('#commentNavUp'), HTMLButtonElement);\n\tup.addEventListener('click', () => move('up'));\n\tconst down = downcast(box.querySelector('#commentNavDown'), HTMLButtonElement);\n\tdown.addEventListener('click', () => move('down'));\n\n\taddFloater(box, { separate: true });\n\n\tconst ele = box.querySelector('#commentNavByConditions');\n\tele.addEventListener('click', _.once(() => {\n\t\tconst builderCases = Cases.getByContext('comment');\n\t\tconst group = Cases.resolveGroup(Cases.getGroup('any', [sortTypes[currentCategory].conditions]), true, true);\n\t\tconst $builderBlock = caseBuilder.drawBuilderBlock(group, builderCases, false);\n\t\t$builderBlock.on('change input', frameThrottle(() => {\n\t\t\tmodule.options.popularConditions.value = JSON.stringify(caseBuilder.readBuilderBlock($builderBlock, builderCases));\n\t\t\tOptions.save(module.options.popularConditions);\n\t\t\tsetCategory(currentCategory, true);\n\t\t}));\n\t\tconst wrapper = ele.querySelector('.builderItem');\n\t\twrapper.append($builderBlock.get(0));\n\t}));\n\n\tconst updateBuilder = () => {\n\t\tele.hidden = currentCategory !== 'popular';\n\t};\n\n\tfunction refresh(index, length, lastNavigatedToIndex) {\n\t\tup.disabled = lastNavigatedToIndex <= 0;\n\t\tdown.disabled = lastNavigatedToIndex >= length - 1;\n\t\tpostCount.textContent = length ? `${lastNavigatedToIndex === index ? '' : '~'}${lastNavigatedToIndex + 1}/${length}` : 'none';\n\t}\n\n\tfunction open() { isOpen = true; box.hidden = false; }\n\tfunction close() { isOpen = false; box.hidden = true; }\n\n\tinitialize();\n\tupdateBuilder();\n\tisOpen = true;\n\n\treturn {\n\t\tselect,\n\t\trefresh,\n\t\topen,\n\t\tclose,\n\t};\n});\n\nfunction installEntryElement() {\n\tconst location = document.body.querySelector('.commentarea .panestack-title');\n\tif (!location) return;\n\n\tconst commentNavToggle = string.html`<div class=\"res-commentNavToggle\">navigate by</div>`;\n\tconst choices = string.html`<div class=\"res-commentNavToggle-choices\"><div>`;\n\tcommentNavToggle.append(choices);\n\tlocation.append(commentNavToggle);\n\n\tcommentNavToggle.addEventListener('mouseenter', async () => {\n\t\tempty(choices);\n\t\tconst categories = await getCategories();\n\t\tchoices.append(...categories.map(({ category, title, size }) => {\n\t\t\tconst element = string.html`\n\t\t\t\t<div class=\"res-commentNavToggle-type\" title=\"${title}\" category=\"${category}\">${category} (${size})</div>\n\t\t\t`;\n\t\t\telement.addEventListener('click', () => { setCategory(category); });\n\t\t\treturn element;\n\t\t}));\n\t});\n}\n\nexport async function updateFromSelected(selected: Thing) {\n\tconst posts = await getVisiblePosts();\n\n\tif (\n\t\tposts.includes(selected) &&\n\t\t(\n\t\t\t// Non-linear comment categories are not sorted by distance from top,\n\t\t\t// so do not disturb the selection by automatically updating\n\t\t\t!sortTypes[currentCategory].nonlinear ||\n\t\t\t// But allow change if `selected` is adjecent to `lastNavigatedTo`\n\t\t\tMath.abs(posts.indexOf(lastNavigatedTo) - posts.indexOf(selected)) <= 1\n\t\t)\n\t) {\n\t\tlastNavigatedTo = selected;\n\t}\n\n\tcommentNav().refresh(posts.indexOf(selected), posts.length, posts.indexOf(lastNavigatedTo));\n}\n\nexport function setCategory(category: Category, keepSelected: boolean = false) {\n\tcurrentCategory = category;\n\tlastNavigatedTo = null;\n\n\tcommentNav().select.value = category;\n\n\t_memoized.cache.delete(currentCategory);\n\n\tif (keepSelected) {\n\t\tmove('refresh');\n\t} else {\n\t\tmove('top');\n\t}\n}\n\nexport function toggle(focus: boolean = false, open: boolean = !isOpen) {\n\tif (!open) {\n\t\tcommentNav().close();\n\t} else {\n\t\tcommentNav().open();\n\t\tif (focus) commentNav().select.focus();\n\t}\n}\n\nexport async function move(change: 'up' | 'down' | 'top' | 'refresh') {\n\tinitialize();\n\n\tif (!sortTypes[currentCategory].nonlinear) {\n\t\t// Return to the last navigated post if currently moved beyond it in the opposite direction\n\t\tconst all = Thing.things();\n\t\tconst lastNavigatedToIndex = all.indexOf(lastNavigatedTo);\n\t\tconst selectedIndex = all.indexOf(SelectedThing.current);\n\n\t\tif (\n\t\t\tchange === 'down' && selectedIndex < lastNavigatedToIndex ||\n\t\t\tchange === 'up' && selectedIndex > lastNavigatedToIndex\n\t\t) {\n\t\t\tmoveTo(lastNavigatedTo);\n\t\t\treturn;\n\t\t}\n\t}\n\n\tconst visible = await getVisiblePosts();\n\n\tif (change === 'top') {\n\t\tmoveTo(visible[0]);\n\t} else {\n\t\t// Look through all posts in case the current post is not visible anymore\n\t\tconst all = [...(await getPosts())]; // Prevent `reverse` from mutatating source\n\t\tif (change === 'up') all.reverse();\n\t\tconst comment = all.slice(all.indexOf(lastNavigatedTo) + (change === 'refresh' ? 0 : 1)).find(v => visible.includes(v));\n\t\tmoveTo(comment);\n\t}\n}\n\nfunction moveTo(thing: ?Thing) {\n\tif (!thing) return;\n\n\tlastNavigatedTo = thing;\n\t// Force selection to run callbacks in case `thing` is already selected\n\tSelectedThing.set(thing, { scrollStyle: 'top' }, true);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('easterEgg');\n\nmodule.moduleName = 'easterEggName';\nmodule.category = 'coreCategory';\nmodule.description = 'easterEggDesc';\nmodule.hidden = true;\n\nlet konami;\n\nmodule.contentStart = () => {\n\tkonami = createKonami(() => {\n\t\tconst $baconBit = $('<div>', { id: 'baconBit' }).appendTo(document.body);\n\t\tNotifications.showNotification({\n\t\t\theader: 'RES Easter Eggies!',\n\t\t\tmessage: 'Mmm, bacon!',\n\t\t\tmoduleID: module.moduleID,\n\t\t\tnotificationID: 'konami',\n\t\t});\n\t\tsetTimeout(() => $baconBit.addClass('makeitrain'), 500);\n\t});\n};\n\nexport function konamiActive(): boolean {\n\treturn !!konami && konami.almostThere;\n}\n\n/*\n * Konami-JS ~\n * :: Now with support for touch events and multiple instances for\n * :: those situations that call for multiple easter eggs!\n * Code: https://github.com/snaptortoise/konami-js\n * Examples: http://www.snaptortoise.com/konami-js\n * Copyright (c) 2009 George Mandis (georgemandis.com, snaptortoise.com)\n * Version: 1.4.6 (3/2/2016)\n * Licensed under the MIT License (http://opensource.org/licenses/MIT)\n * Tested in: Safari 4+, Google Chrome 4+, Firefox 3+, IE7+, Mobile Safari 2.2.1 and Dolphin Browser\n */\nfunction createKonami(callback) {\n\tconst konami = {\n\t\tinput: '',\n\t\tpattern: '38384040373937396665',\n\t\talmostThere: false,\n\t\tprepattern: '383840403739373966',\n\t\tload: () => {\n\t\t\tdocument.addEventListener('keydown', (event: KeyboardEvent) => {\n\t\t\t\tkonami.input += event.keyCode;\n\n\t\t\t\tif (konami.input.length > konami.pattern.length) {\n\t\t\t\t\tkonami.input = konami.input.substr((konami.input.length - konami.pattern.length));\n\t\t\t\t}\n\n\t\t\t\tif (konami.input === konami.pattern) {\n\t\t\t\t\tkonami.code();\n\t\t\t\t\tkonami.input = '';\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t} else if ((konami.input === konami.prepattern) || (konami.input.substr(2, konami.input.length) === konami.prepattern)) {\n\t\t\t\t\tkonami.almostThere = true;\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tkonami.almostThere = false;\n\t\t\t\t\t\tkonami.input = '';\n\t\t\t\t\t}, 2000);\n\t\t\t\t}\n\t\t\t}, false);\n\t\t},\n\t\tcode: () => {},\n\t};\n\n\tif (typeof callback === 'function') {\n\t\tkonami.code = callback;\n\t\tkonami.load();\n\t}\n\n\treturn konami;\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { i18n } from '../environment';\nimport { watchForThings, forEachChunked } from '../utils';\n\nexport const module: Module<*> = new Module('hideChildComments');\n\nmodule.moduleName = 'hideChildCommentsName';\nmodule.category = 'commentsCategory';\nmodule.description = 'hideChildCommentsDesc';\nmodule.options = {\n\tautomatic: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'hideChildCommentsAutomaticDesc',\n\t\ttitle: 'hideChildCommentsAutomaticTitle',\n\t},\n\tnested: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'hideChildCommentsNestedDesc',\n\t\ttitle: 'hideChildCommentsNestedTitle',\n\t},\n\thideNested: {\n\t\tdependsOn: options => options.nested.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'hideChildCommentsHideNestedDesc',\n\t\ttitle: 'hideChildCommentsHideNestedTitle',\n\t},\n};\nmodule.include = [\n\t'comments',\n];\n\nlet initialHide, toggleAllButton;\n\nmodule.beforeLoad = () => {\n\tinitialHide = module.options.automatic.value &&\n\t\t// ensure we're not in a permalinked post..\n\t\t!((/\\/comments\\/(?:\\w+)\\/(?:\\w+)\\/(\\w+)/).test(location.pathname));\n\n\twatchForThings(['comment'], addToggleChildrenButton);\n\twatchForThings(['post'], addToggleAllButton);\n};\n\nconst addToggleAllButton = _.once(thing => {\n\tconst menu = thing.element.querySelector('ul.buttons');\n\tif (!menu) return;\n\n\tfunction toggle(action) {\n\t\tconst includeChildren = module.options.nested.value && module.options.hideNested.value;\n\t\tconst selector = includeChildren ? '.thing.comment' : '.nestedlisting > .thing.comment';\n\t\tforEachChunked(document.querySelectorAll(`${selector} > .entry .toggleChildren[action=${action}]`), toggle => {\n\t\t\ttoggle.click();\n\t\t});\n\n\t\tif (action === 'hide') {\n\t\t\tinitialHide = true;\n\t\t\ta.setAttribute('action', 'show');\n\t\t\ta.setAttribute('title', 'Show all comments.');\n\t\t\ta.dataset.text = i18n('hideChildCommentsShowAllLinkLabel');\n\t\t} else {\n\t\t\tinitialHide = false;\n\t\t\ta.setAttribute('action', 'hide');\n\t\t\ta.setAttribute('title', 'Show only replies to original poster.');\n\t\t\ta.dataset.text = i18n('hideChildCommentsHideAllLinkLabel');\n\t\t}\n\t}\n\n\tconst li = document.createElement('li');\n\tconst a = document.createElement('a');\n\ta.setAttribute('href', '#');\n\ta.setAttribute('class', 'noCtrlF res-toggleAllChildren');\n\ta.addEventListener('click', (e: Event) => {\n\t\te.preventDefault();\n\t\ttoggle(a.getAttribute('action'));\n\t});\n\ttoggleAllButton = a;\n\n\ttoggle(initialHide ? 'hide' : 'show');\n\n\tli.appendChild(a);\n\tmenu.appendChild(li);\n});\n\nfunction addToggleChildrenButton(comment) {\n\tif (!module.options.nested.value && !comment.isTopLevelComment()) return;\n\tif (!comment.getNumberOfChildren()) return;\n\n\tconst children = comment.element.querySelector('div.child > .sitetable');\n\tconst menu = comment.element.querySelector('ul.buttons');\n\tif (!children || !menu) return;\n\n\tfunction toggle(action) {\n\t\tif (action === 'hide') {\n\t\t\tchildren.style.display = 'none';\n\t\t\ta.dataset.text = i18n('hideChildCommentsShowLinkLabel', comment.getNumberOfChildren());\n\t\t\ta.setAttribute('action', 'show');\n\t\t} else {\n\t\t\tchildren.style.display = '';\n\t\t\ta.dataset.text = i18n('hideChildCommentsHideLinkLabel');\n\t\t\ta.setAttribute('action', 'hide');\n\t\t}\n\n\t\tcomment.element.classList.toggle('res-children-hidden', action === 'hide');\n\t}\n\n\tconst li = document.createElement('li');\n\tconst a = document.createElement('a');\n\ta.setAttribute('href', '#');\n\ta.setAttribute('class', 'toggleChildren noCtrlF');\n\ta.addEventListener('click', (e: Event) => {\n\t\te.preventDefault();\n\t\ttoggle(a.getAttribute('action'));\n\t});\n\n\tconst hide = initialHide &&\n\t\t(module.options.hideNested.value || comment.isTopLevelComment());\n\ttoggle(hide ? 'hide' : 'show');\n\n\tli.appendChild(a);\n\tmenu.appendChild(li);\n}\n\nexport function toggleAll() {\n\tconst button = toggleAllButton;\n\tif (!button) throw new Error('Toggle all button not found');\n\tbutton.click();\n}\n\nexport function toggle(thing: *) {\n\tconst button = thing.entry.querySelector('a.toggleChildren');\n\tif (!button) throw new Error('Toggle button not found');\n\tbutton.click();\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { RES_NER_PAGE_HASH } from '../constants/urlHashes';\nimport { Module } from '../core/module';\nimport { Storage, ajax, context } from '../environment';\nimport {\n\taddFloater,\n\tHOUR,\n\tThing,\n\tSelectedThing,\n\taddCSS,\n\tscrollToElement,\n\tempty,\n\tregisterPage,\n\twatchForThings,\n\tdocumentLoggedInUser,\n\tisCurrentSubreddit,\n\tstring,\n} from '../utils';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('neverEndingReddit');\n\nmodule.moduleName = 'nerName';\nmodule.category = 'browsingCategory';\nmodule.description = 'nerDesc';\nmodule.options = {\n\treturnToPrevPage: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'nerReturnToPrevPageDesc',\n\t\ttitle: 'nerReturnToPrevPageTitle',\n\t},\n\tautoLoad: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'nerAutoLoadDesc',\n\t\ttitle: 'nerAutoLoadTitle',\n\t},\n\tpauseAfterEvery: {\n\t\tdependsOn: options => options.autoLoad.value,\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'nerPauseAfterEveryDesc',\n\t\ttitle: 'nerPauseAfterEveryTitle',\n\t},\n\tshowPauseButton: {\n\t\tdependsOn: options => options.autoLoad.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'nerShowPauseButtonDesc',\n\t\ttitle: 'nerShowPauseButtonTitle',\n\t},\n\treversePauseIcon: {\n\t\tdependsOn: options => options.autoLoad.value && options.showPauseButton.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'nerReversePauseIconDesc',\n\t\ttitle: 'nerReversePauseIconTitle',\n\t\tadvanced: true,\n\t},\n\tshowServerInfo: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'nerShowServerInfoDesc',\n\t\ttitle: 'nerShowServerInfoTitle',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n};\nmodule.exclude = [\n\t'wiki',\n\t'comments',\n\t'd2x',\n];\nmodule.shouldRun = () => !isCurrentSubreddit('dashboard');\n\nconst dupeSet = new Set();\nconst pauseReasonStorage = Storage.wrap('RESmodules.neverEndingReddit.pauseReason', (undefined: void | 'manual' | 'pauseAfterEvery'));\nlet pauseReason;\n\nmodule.beforeLoad = () => {\n\t// Loaded pages may repeat posts; remove those\n\twatchForThings(['post'], thing => {\n\t\t// `#siteTable` to avoid processing posts found in spotlight box\n\t\tif (document.contains(thing.element) && !thing.element.closest('#siteTable')) return;\n\t\tconst id = thing.getFullname();\n\t\tif (dupeSet.has(id)) thing.element.remove();\n\t\tdupeSet.add(id);\n\t}, { immediate: true });\n};\n\nmodule.go = async () => {\n\tpages[0] = { url: location.pathname, container: container(), nextPageUrl: retrieveNextPageUrl(container()) };\n\n\tconst loadReturnToPrevPage = initiateReturnToPrevPage();\n\tif (loadReturnToPrevPage) await loadReturnToPrevPage();\n\n\tif (module.options.autoLoad.value) {\n\t\tsetPause(await pauseReasonStorage.get());\n\n\t\tSelectedThing.addListener(current => {\n\t\t\tif (pauseReason) return;\n\t\t\tconst things = Thing.visibleThingElements();\n\t\t\tconst distanceFromBottom = things.length - (things.indexOf(current.element) + 1);\n\t\t\tif (distanceFromBottom === 1) prefetchNextPage();\n\t\t\telse if (distanceFromBottom < 1) loadNextPage();\n\t\t});\n\t}\n\n\tprepareNextPageLoad(false);\n};\n\nconst container = _.once(() => getLastSiteTable() || document.createElement('div'));\nconst pages: Array<{|\n\turl: string,\n\tcontainer: HTMLElement,\n\tnextPageUrl?: ?string,\n|}> = [];\n\nfunction retrieveNextPageUrl(container) {\n\tconst { buttons, next } = getNextPrevLinks(container);\n\tif (buttons) buttons.hidden = true;\n\treturn next;\n}\n\nconst getNextPageUrl = (page = pages.slice(-1)[0]): ?string => page.nextPageUrl;\nexport let loadNextPage: (opts?: { scrollToLoadWidget: boolean }) => void = () => {};\nlet refreshAutoLoad;\n\nfunction prepareNextPageLoad(displayEndBanner = true) {\n\tconst nextPageUrl = getNextPageUrl();\n\tif (!nextPageUrl) {\n\t\tif (displayEndBanner) endNER('No more pages');\n\t\treturn;\n\t}\n\n\tconst pauseAfterPages = parseInt(module.options.pauseAfterEvery.value, 10);\n\tif (module.options.autoLoad.value && pauseAfterPages) {\n\t\tif (pages.length % pauseAfterPages === 0) setPause('pauseAfterEvery');\n\t\telse if (pauseReason === 'pauseAfterEvery') setPause(null);\n\t}\n\n\tconst startPromise = new Promise(res => { loadNextPage = res; });\n\tconst donePromise = startPromise\n\t\t.then(() => loadPage(nextPageUrl, pages.length))\n\t\t.then(prepareNextPageLoad)\n\t\t.catch(e => {\n\t\t\tendNER(`Could not load the next page: ${e.message}`);\n\t\t\tconsole.error(e);\n\t\t});\n\n\tcreateLoaderWidget(startPromise, donePromise);\n\tif (refreshAutoLoad) refreshAutoLoad(false);\n}\n\nconst pauseButton = _.once(() => {\n\tconst element = $('<span>', {\n\t\tid: 'NREPause',\n\t\ttitle: 'Pause / Restart Never Ending Reddit',\n\t\tclick: () => setPause(pauseReason ? null : 'manual'),\n\t}).get(0);\n\taddFloater(element, { container: 'visibleAfterScroll' });\n\treturn element;\n});\n\nfunction setPause(source) {\n\tif (module.options.showPauseButton.value) {\n\t\tpauseButton().classList.toggle('paused', module.options.reversePauseIcon.value === !source);\n\t}\n\n\tpauseReason = source;\n\tif (pauseReason) pauseReasonStorage.set(source);\n\telse pauseReasonStorage.delete();\n\n\tif (refreshAutoLoad) refreshAutoLoad();\n}\n\nconst isNerUrl = () => location.hash.startsWith(RES_NER_PAGE_HASH);\n\nfunction setReturnToPage(selected: Thing) {\n\tlet number = 0;\n\n\tconst $earlierMarkers = $(selected.element).parent().prevAll('.NERPageMarker');\n\tconst marker = $earlierMarkers.get(0);\n\tif (marker) number = parseInt(marker.dataset.number, 10);\n\n\t// replaceState is expensive, so avoid it when possible\n\tconst { ner: saved } = history.state || {};\n\tif (saved && saved.number === number) return;\n\n\t// When restoring this page, the brower's auto scroll may not work properly; let selectedEntry scroll back to the thing\n\tif ($earlierMarkers.length > 1) history.scrollRestoration = 'manual';\n\n\tconst page = pages[number];\n\thistory.replaceState(\n\t\t{ ...history.state, ner: { number, url: page.url, nextPageUrl: page.nextPageUrl } },\n\t\t`${document.title}${number ? `- page ${number + 1}` : ''}`,\n\t\tnumber ? `${RES_NER_PAGE_HASH}=${number + 1}` : `${location.pathname}${location.search}${isNerUrl() ? '' : location.hash}`,\n\t);\n}\n\nconst initiateReturnToPrevPage = _.once(() => {\n\tif (!module.options.returnToPrevPage.value) return;\n\n\tconst { ner: { number, url } = {} } = history.state || {};\n\tlet append;\n\tif (number && url && isNerUrl()) {\n\t\tconst loadPromise = loadPage(url, number, new Promise(res => { append = () => { res(); return loadPromise; }; }));\n\t}\n\n\treturn async () => {\n\t\tif (append) await append();\n\t\tSelectedThing.addListener(setReturnToPage, 'instantly');\n\t};\n});\n\nfunction getLastSiteTable(body: HTMLElement = document.body): ?HTMLElement {\n\tconst selector = '.sitetable, .search-result-group';\n\tconst elements = Array.from(body.querySelectorAll(selector)).reverse();\n\t// Don't select a nested sitetable\n\tfor (const element of elements) {\n\t\tif (!element.parentElement || !element.parentElement.closest(selector)) return element;\n\t}\n}\n\nexport function getNextPrevLinks(ele: HTMLElement = document.body): { buttons?: HTMLElement, next?: ?string, prev?: ?string } {\n\tconst buttons = ele.matches('.modactionlisting') ? // /about/log differs from other pages\n\t\t(ele.nextElementSibling: any) : ele.querySelector('.nav-buttons');\n\treturn buttons ? {\n\t\tbuttons,\n\t\tnext: (buttons.querySelector('a[rel~=next]') || {}: any).href,\n\t\tprev: (buttons.querySelector('a[rel~=prev]') || {}: any).href,\n\t} : {};\n}\n\nfunction setLoaderWidgetActionText(widget) {\n\tempty(widget);\n\twidget.append(...string.html`<span>\n\t\t<h2>\n\t\t\tNever Ending Reddit\n\t\t\t${string.safe(SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, ' ', 'gearIcon'))}\n\t\t</h2>\n\t\t<p>\n\t\t\tClick here load to just load the next page;\n\t\t\t${pauseReason ? string.safe(`or click ${pauseButton().outerHTML} in the top right corner;`) : null}\n\t\t</p>\n\t\t<p>\n\t\t\t<a id=\"NERStaticLink\" href=\"${getNextPageUrl() || ''}\">or open next page</a> (and clear Never-Ending stream)\n\t\t</p>\n\t</span>`.children);\n}\n\nfunction createLoaderWidget(startPromise, donePromise) {\n\tconst widget = document.createElement('div');\n\twidget.id = 'progressIndicator';\n\twidget.className = 'neverEndingReddit';\n\n\twidget.addEventListener('click', (e: Event) => {\n\t\tif (e.target.tagName === 'A') return;\n\t\tloadNextPage();\n\t});\n\n\tstartPromise.then(({ scrollToLoadWidget = false } = {}) => {\n\t\tempty(widget);\n\t\twidget.append(string.html`<span class=\"RESLoadingSpinner\"></span>`);\n\t\tif (scrollToLoadWidget) scrollToElement(widget, null, { scrollStyle: 'middle', direction: 'down' });\n\t});\n\n\tconst removeWidget = () => widget.remove();\n\tdonePromise.finally(removeWidget);\n\n\tconst prefetchIo = new IntersectionObserver(([{ isIntersecting }]) => {\n\t\tif (!isIntersecting) return;\n\t\tprefetchNextPage();\n\t}, { rootMargin: '100%' });\n\tprefetchIo.observe(widget);\n\n\tconst displayPauseReason = _.once(pauseReason =>\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: module.moduleID,\n\t\t\tnotificationID: pauseReason,\n\t\t\tmessage: pauseReason === 'pauseAfterEvery' ? `\n\t\t\t\t<p>Time for a break!</p>\n\t\t\t\t<p>Never-Ending Reddit has been paused because you've passed ${module.options.pauseAfterEvery.value} pages.</p>\n\t\t\t` :\n\t\t\t`<p>Never-Ending Reddit is paused. Click ${pauseButton().outerHTML} button in the top right corner to unpause it.</p>`,\n\t\t}),\n\t);\n\n\tconst pauseReasonIo = new IntersectionObserver(([{ isIntersecting }]) => {\n\t\tif (isIntersecting && pauseReason) displayPauseReason(pauseReason);\n\t}, { threshold: [1] });\n\n\tconst loadNextPageIo = new IntersectionObserver(([{ isIntersecting }]) => {\n\t\tif (!isIntersecting) return;\n\t\tloadNextPage();\n\t}, { threshold: [1] });\n\n\trefreshAutoLoad = (updateWidget = true) => {\n\t\tconst enabled = module.options.autoLoad.value && !pauseReason;\n\t\tif (enabled) loadNextPageIo.observe(widget);\n\t\telse loadNextPageIo.disconnect();\n\t\tif (updateWidget) setLoaderWidgetActionText(widget);\n\t\tpauseReasonIo.observe(widget);\n\t};\n\n\tsetLoaderWidgetActionText(widget);\n\n\tstartPromise.then(() => {\n\t\tprefetchIo.disconnect();\n\t\tloadNextPageIo.disconnect();\n\t\tpauseReasonIo.disconnect();\n\t\trefreshAutoLoad = null;\n\t});\n\n\tpages.slice(-1)[0].container.append(widget);\n}\n\nconst fetchPage = _.memoize(url => ajax({ url, cacheFor: HOUR }));\nconst prefetchNextPage = () => { const url = getNextPageUrl(); if (url) fetchPage(url); };\n\nasync function loadPage(url: string, number: number, attachPromise: ?Promise<*>) {\n\tconst html = (await fetchPage(url))\n\t\t// remove some unnecessary elements which could cause longer parse times\n\t\t.replace(/<style(.|\\s)*?>|<link(.|\\s)*?>|<script(.|\\s)*?\\/script>/g, '');\n\n\tconst document = new DOMParser().parseFromString(html, 'text/html');\n\n\tif (context.username && context.username !== documentLoggedInUser(document.body)) {\n\t\tthrow new Error('Page loaded was not for current user');\n\t}\n\n\t// grab the siteTable out of there...\n\tconst newSiteTable = getLastSiteTable(document.body);\n\tif (!newSiteTable) throw Error('Could not find any siteTable');\n\n\tconst noresults = newSiteTable.querySelector('#noresults');\n\tif (noresults) throw new Error(noresults.textContent);\n\n\t// Avoid attributes (class, id etc) which have impact on styling\n\tfor (const { name } of newSiteTable.attributes) newSiteTable.removeAttribute(name);\n\n\tpages[number] = { url, container: newSiteTable, nextPageUrl: retrieveNextPageUrl(newSiteTable) };\n\n\t// Invoke watcher callbacks etc on page\n\tregisterPage(newSiteTable);\n\n\tconst pageMarker = string.html`<div class=\"NERPageMarker\" data-number=\"${number}\">\n\t\t<a href=\"${pages[number].url}\">Page ${number + 1}</a>\n\t\t${string.safe(SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, ' ', 'gearIcon'))}\n\t</div>`;\n\n\tawait attachPromise;\n\n\tconst firstLen = $(container()).find('.link:last .rank').text().length;\n\tconst lastLen = $(newSiteTable).find('.link:last .rank').text().length;\n\tif (lastLen > firstLen) {\n\t\taddCSS(`body.res > .content .link .rank { width: ${(lastLen * 1.1).toFixed(1)}ex; }`);\n\t}\n\n\tcontainer().append(pageMarker, newSiteTable);\n\n\twindow.dispatchEvent(new Event('neverEndingLoad', { bubbles: true, cancelable: true }));\n}\n\nfunction endNER(text) {\n\t$('<div>', {\n\t\tclass: 'NERPageMarker NERPageMarkerLast',\n\t\ttext,\n\t})\n\t\t.append(SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, ' ', 'gearIcon'))\n\t\t.append(`\n\t\t\t<p class=\"nextprev\">\n\t\t\t\t<a href=\"${location.href.split('#')[0]}\">start over</a>\n\t\t\t\t<a href=\"${getNextPageUrl() || ''}\">try again</a>\n\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferer\" href=\"/r/Enhancement/wiki/faq/never_ending_reddit\">learn more</a>\n\t\t\t\t<a href=\"/r/random\">random subreddit</a>\n\t\t\t</p>\n\t\t`)\n\t\t.appendTo(container());\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tBodyClasses,\n\tclick,\n\tdowncast,\n\tisPageType,\n\tloggedInUser,\n} from '../utils';\nimport * as CommentTools from './commentTools';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('noParticipation');\n\n\nconst urls = {\n\tmoreinfo: 'https://www.reddit.com/r/NoParticipation/wiki/intro',\n};\n\nmodule.moduleName = 'noPartName';\nmodule.description = 'noPartDesc';\nmodule.category = 'subredditsCategory';\nmodule.options = {\n\tdisableVoteButtons: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'noPartDisableVoteButtonsDesc',\n\t\ttitle: 'noPartDisableVoteButtonsTitle',\n\t\tbodyClass: true,\n\t},\n\tdisableCommentTextarea: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'noPartDisableCommentTextareaDesc',\n\t\ttitle: 'noPartDisableCommentTextareaTitle',\n\t\tbodyClass: true,\n\t},\n\tevenIfSubscriber: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'noPartEvenIfSubscriberDesc',\n\t\ttitle: 'noPartEvenIfSubscriberTitle',\n\t},\n\tescapeNP: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'noPartEscapeNPDesc',\n\t\ttitle: 'noPartEscapeNPTitle',\n\t},\n};\n\nmodule.shouldRun = () => isNpHostname(location.hostname);\n\nconst boilerplateNotificationText = `\n\t<p>\n\t\t<div class=\"RES-spoiler\">\n\t\t\t<label class=\"RES-spoiler-title\">Hover here for more details</label>\n\t\t\t<div class=\"RES-spoiler-contents\">\n\t\t\t\tYou came to this page by following a <a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">NP</a> link, so you may be interfering with normal conversation.\n\t\t\t\tPlease respect reddit's <a href=\"https://reddit.com/rules\" target=\"_blank\" rel=\"noopener noreferer\">rules</a> by not commenting or voting. Violating these rules may get you banned.\n\t\t\t\t<a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">Find out more</a>\n\t\t\t</div>\n\t\t</div>\n\t</p>\n`;\n\nlet noParticipationActive;\n\nmodule.contentStart = () => {\n\tif (module.options.escapeNP.value) {\n\t\t$(document.body).on('mousedown', 'a', removeNpFromLink);\n\t}\n\n\tif (isNPIrrelevant()) {\n\t\tnotifyNpIrrelevant();\n\t} else if (loggedInUser()) {\n\t\tif (isPageType('comments', 'linklist') && !(document.body.classList.contains('front-page') || document.body.classList.contains('profile-page'))) {\n\t\t\tapplyNoParticipationMode();\n\t\t} else {\n\t\t\tnotifyNpIrrelevant();\n\t\t}\n\t}\n};\n\nfunction isNpHostname(hostname) {\n\t// np.reddit.com, np-nm.reddit.com, nm-np.reddit.com\n\treturn (/^(?:\\w+-)?np(?:-\\w+)?\\./i).test(hostname);\n}\n\nfunction removeNpFromLink(e: Event) {\n\tconst target: HTMLAnchorElement = (e.currentTarget: any);\n\t// in self text, rewrite relative links only (where the domain is inherited)\n\tif (!target.getAttribute('href').startsWith('/') && target.matches('.md a')) return;\n\n\tif (target.hostname.endsWith('np.reddit.com')) {\n\t\ttarget.hostname = 'www.reddit.com';\n\t}\n}\n\nfunction isNPIrrelevant() {\n\treturn !isPageType('comments') || isSubscriber() && !module.options.evenIfSubscriber.value;\n}\n\nexport function isVotingBlocked() {\n\treturn noParticipationActive && module.options.disableVoteButtons.value;\n}\n\nfunction isSubscriber() {\n\treturn document.body.classList.contains('subscriber');\n}\n\nexport function nonNpLocation(href: string = location.href) {\n\tconst nonNpUrl = new URL(href, location.href);\n\tif (isNpHostname(nonNpUrl.hostname)) nonNpUrl.hostname = 'www.reddit.com';\n\treturn nonNpUrl.href;\n}\n\nfunction notifyNpIrrelevant() {\n\tconst message = isSubscriber() ?\n\t\t`You're browsing in <a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">No Participation</a> mode, but you're a subscriber here.` :\n\t\t`You're still browsing in <a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">No Participation</a> mode, but it's no longer necessary.`;\n\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\tnotificationID: 'ok-participation',\n\t\tcloseDelay: 3000,\n\t\theader: 'Okay to Participate',\n\t\tmessage: `${message} <p><a href=\"${nonNpLocation()}\">Click here to return to normal reddit</a></p>`,\n\t});\n}\n\nfunction notifyNpActive() {\n\tconst message = isSubscriber() ? `\n\t\t\t<span class=\"res-icon\">&#xF15A;</span>\n\t\t\tPlease think before you comment or vote, and remember the subreddit's rules.\n\t\t\tAlthough you subscribe to this subreddit, you can still derail a particular thread.\n\t\t\t<p><a href=\"${nonNpLocation()}\">Click here to return to normal reddit.</a></p>\n\t\t` : `\n\t\t\t<strong>\n\t\t\t\t<span class=\"res-icon\">&#xF15A;</span>\n\t\t\t\tDo not vote or comment.\n\t\t\t</strong>\n\t\t`;\n\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\tnotificationID: 'no-participation',\n\t\tcloseDelay: 10000,\n\t\theader: 'No Participation',\n\t\tmessage: `${message}${boilerplateNotificationText}`,\n\t});\n}\n\nconst votedOnButtons = [];\n\nexport async function notifyNoVote(voteButton?: HTMLElement) {\n\t// classes are added after this listener runs\n\tconst canUndoVote = voteButton && !voteButton.matches('.upmod, .downmod');\n\n\tif (voteButton) votedOnButtons.push(voteButton);\n\n\tconst notification = await Notifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'disableVoteButtons',\n\t\tcooldown: 5000,\n\t\theader: 'No Participation',\n\t\tmessage: `\n\t\t\t<strong><span class=\"res-icon\">&#xF15A;</span> Do not vote.</strong>\n\t\t\t${boilerplateNotificationText}\n\t\t\t${canUndoVote ? '<p><button type=\"button\" class=\"redButton\" data-action=\"revertvote\">Undo vote</button></p>' : ''}\n\t\t`,\n\t});\n\n\tif (notification) {\n\t\t$(notification.element).find('[data-action=revertvote]').on('click', () => {\n\t\t\trevertVote(votedOnButtons);\n\t\t\tnotification.close();\n\t\t});\n\t}\n}\n\nconst notifyNoComment = _.once(() => {\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'disableCommentTextarea',\n\t\theader: 'No Participation',\n\t\tmessage: `<strong><span class=\"res-icon\">&#xF15A;</span> Do not comment.</strong>${boilerplateNotificationText}`,\n\t});\n});\n\nfunction applyNoParticipationMode() {\n\tnoParticipationActive = true;\n\n\tnotifyNpActive();\n\n\tBodyClasses.add('res-noParticipation');\n\n\twatchForVote();\n\n\t$(document.body).on('keydown', CommentTools.commentTextareaSelector, (e: Event) => {\n\t\tnotifyNoComment();\n\n\t\tif (module.options.disableCommentTextarea.value) {\n\t\t\tdowncast(e.currentTarget, HTMLTextAreaElement).disabled = true;\n\t\t}\n\t});\n}\n\nfunction watchForVote() {\n\t$(document.body).on('click', '.arrow', (e: Event) => {\n\t\tif (e.currentTarget.classList.contains('up') || e.currentTarget.classList.contains('down')) {\n\t\t\tnotifyNoVote(e.currentTarget);\n\t\t}\n\t});\n}\n\nfunction revertVote(voteButtons) {\n\tvoteButtons.forEach((voteButton, index) => {\n\t\tsetTimeout(() => {\n\t\t\tif (voteButton.classList.contains('upmod') || voteButton.classList.contains('downmod')) {\n\t\t\t\tclick(voteButton);\n\t\t\t}\n\t\t}, index * 2000 /* respect API limits */);\n\t});\n\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'disableVoteButtons',\n\t\theader: 'No Participation',\n\t\tmessage: `\n\t\t\t${voteButtons.length > 1 ? 'Your votes are being reverted.' : 'Your vote has been reverted.'}\n\t\t\tPlease remember not to vote!\n\t\t\t<p><a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">Find out more</a></p>\n\t\t`,\n\t});\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { markdown } from 'snudown-js';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport {\n\tCreateElement,\n\tWEEK,\n\taddDashboardTab,\n\tformatDate,\n\tformatDateDiff,\n\tformatDateTime,\n\tisPageType,\n\tniceKeyCode,\n\tpreventCloning,\n\tstring,\n\twatchForThings,\n\tThing,\n} from '../utils';\nimport { Storage, i18n } from '../environment';\nimport * as KeyboardNav from './keyboardNav';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('saveComments');\n\nmodule.moduleName = 'saveCommentsName';\nmodule.description = 'saveCommentsDesc';\nmodule.category = 'commentsCategory';\nmodule.exclude = [\n\t'submit',\n];\n\nconst savedCommentStorage = Storage.wrapBlob('RESmodules.saveComments.savedComments', (): {|\n\thref: string,\n\tusername: string,\n\tcomment: string,\n\ttimeSaved: string,\n|} => { throw new Error('Saved comment not found'); });\n\nmodule.beforeLoad = () => {\n\twatchForThings(['comment'], thing => {\n\t\tconst sibling = thing.element.querySelector('ul.buttons .comment-save-button');\n\t\tif (!sibling) return;\n\t\tsibling.after(saveElement());\n\t});\n};\n\nmodule.contentStart = () => {\n\tif (isPageType('profile')) {\n\t\tCreateElement.tabMenuItem({\n\t\t\ttext: 'saved - RES',\n\t\t\tonChange: () => { location.href = '/r/dashboard/#savedComments'; },\n\t\t});\n\t}\n\n\taddDashboardTab('savedComments', 'Saved Comments', module.moduleID, async tabPage => $(tabPage).append(await drawSavedComments()));\n};\n\nconst saveElement = (e => () => preventCloning(e().cloneNode(true)))(_.once(() => {\n\t$(document.body).on('click', 'li.saveComments', ({ currentTarget }: Event) => {\n\t\tif (currentTarget.classList.contains('saved-RES')) return;\n\n\t\tconst thing = Thing.checkedFrom(currentTarget);\n\t\tsaveComment(thing);\n\n\t\tconst a = (currentTarget.firstElementChild: any);\n\t\trequestAnimationFrame(() => {\n\t\t\ta.dataset.text = 'saved-RES';\n\t\t\ta.href = '/r/dashboard#savedComments';\n\t\t});\n\t});\n\n\treturn string.html`\n\t\t<li class=\"saveComments\">\n\t\t\t<a class=\"RES-save noCtrlF\" href=\"javascript:void 0\" title=\"Save using RES - which is local only, but preserves the full text in case someone edits/deletes it\" data-text=\"save-RES\"></a>\n\t\t</li>\n\t`;\n}));\n\nfunction getCommentContent(thing) {\n\tconst content = $(thing.entry.querySelector('div.usertext-body > div.md')).clone();\n\tcontent.find('.keyNavAnnotation, .expando-button, .res-expando-box, script, .userTagLink').remove();\n\treturn content.html();\n}\n\nasync function saveComment(thing: Thing) {\n\tconst permaLink = thing.getCommentPermalink();\n\tif (!permaLink) throw new Error('Comment lacks permalink');\n\n\tconst id = thing.getFullname().split('_').slice(-1)[0];\n\tif ((await savedCommentStorage.getAll()).hasOwnProperty(id)) return;\n\n\tsavedCommentStorage.set(id, {\n\t\thref: permaLink.href,\n\t\tusername: thing.getAuthor() || '[deleted]',\n\t\tcomment: getCommentContent(thing),\n\t\ttimeSaved: new Date().toString(),\n\t});\n}\n\nconst savedCommentsTemplate = ({ comments, keyNavTip, moduleDescription }) => string.html`\n\t<div id=\"res-saveComments\" class=\"sitetable linklisting\">\n\t\t${!comments.length && string._html`\n\t\t\t<div class=\"res-module-description md\">\n\t\t\t\t<h1>Saving comments with RES</h1>\n\t\t\t\t${string.safe(markdown(moduleDescription))}\n\t\t\t</div>\n\t\t`}\n\t\t${keyNavTip && keyNavTip.map(({ keyNavHash, savePostKey, saveCommentKey, saveRESKey }) => string._html`\n\t\t\t<div class=\"res-module-tip infobar\">\n\t\t\t\t<p><i>Keyboard Shortcuts</i> <a class=\"gearIcon\" href=\"${keyNavHash}\" title=\"RES settings\"></a></p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li><b>${savePostKey}</b>: save a submission.</li>\n\t\t\t\t\t<li><b>${saveCommentKey}</b>: save a comment (to your reddit account).</li>\n\t\t\t\t\t<li><b>${saveRESKey}</b>: save a comment with RES.</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t`)}\n\t\t<div class=\"res-saveComments-list\">\n\t\t\t${comments.map(({ id, link, username, dateTime, date, timeAgo, body }) => string._html`\n\t\t\t\t<div class=\"entry res-savedComment\">\n\t\t\t\t\t<div class=\"savedCommentHeader\">\n\t\t\t\t\t\t<a href=\"${link}\">\n\t\t\t\t\t\t\t<b>${username}</b>\n\t\t\t\t\t\t\t- saved <date title=\"${dateTime}\" datetime=\"${date}\">${timeAgo}</date> ago\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"savedCommentBody md\">${string.safe(body)}</div>\n\t\t\t\t\t<div class=\"savedCommentFooter\">\n\t\t\t\t\t\t<ul class=\"flat-list buttons\">\n\t\t\t\t\t\t\t<li><a href=\"${link}\">permalink</a></li>\n\t\t\t\t\t\t\t<li><a class=\"unsaveComment\" href=\"#\" data-unsaveID=\"${id}\">unsave-RES</a></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`)}\n\t\t</div>\n\t</div>\n`;\n\nconst drawSavedComments = _.once(async () => {\n\tconst savedComments = await savedCommentStorage.getAll();\n\n\tconst comments = Object.entries(savedComments).map(([id, { comment, href, username, timeSaved }]) => {\n\t\tconst date = new Date(timeSaved);\n\t\treturn {\n\t\t\tid,\n\t\t\tlink: href,\n\t\t\tusername,\n\t\t\tdate: formatDate(date),\n\t\t\tdateTime: formatDateTime(date),\n\t\t\ttimeAgo: formatDateDiff(date),\n\t\t\tbody: comment.replace(/<(script|iframe|video)(.|\\s)*?\\/(script|iframe|video)>/g, ''),\n\t\t};\n\t});\n\n\treturn $(savedCommentsTemplate({\n\t\tmoduleDescription: i18n(module.description),\n\t\tkeyNavTip: Modules.isEnabled(KeyboardNav) && [{\n\t\t\tkeyNavHash: SettingsNavigation.makeUrlHash(KeyboardNav.module.moduleID, 'savePost'),\n\t\t\tsavePostKey: niceKeyCode(KeyboardNav.module.options.savePost.value),\n\t\t\tsaveCommentKey: niceKeyCode(KeyboardNav.module.options.saveComment.value),\n\t\t\tsaveRESKey: niceKeyCode(KeyboardNav.module.options.saveRES.value),\n\t\t}],\n\t\tcomments,\n\t}))\n\t\t.on('click', '.unsaveComment', (e: Event) => {\n\t\t\te.preventDefault();\n\t\t\tsavedCommentStorage.delete(e.currentTarget.dataset.unsaveid);\n\t\t\te.currentTarget.textContent = 'removed';\n\t\t});\n});\n\nexport function showEducationalNotification() {\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'savePost',\n\t\tnotificationID: 'saveRES-educational',\n\t\tcloseDelay: 10000,\n\t\tcooldown: 3 * WEEK,\n\t\theader: 'Saving Posts and Comments',\n\t\tmessage: `\n\t\t\t<p>\n\t\t\t\tThe keyboard shortcuts <b>\"${niceKeyCode(KeyboardNav.module.options.savePost.value)}\"</b> (posts) and <b>\"${niceKeyCode(KeyboardNav.module.options.saveComment.value)}\"</b> (comments) will save a post/comment to your reddit account (same as the \"save\" button).\n\t\t\t\tIt will be accessible from anywhere that you're logged in, but the original text will not be preserved if it is edited or deleted.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tThe keyboard shortcut <b>\"${niceKeyCode(KeyboardNav.module.options.saveRES.value)}\"</b> will save a comment to RES (same as the \"save-RES\" button).\n\t\t\t\tIt will only be available locally, but the original text will be preserved if the comment is edited or deleted.\n\t\t\t</p>\n\t\t\t<p>These shortcuts can be changed in the ${SettingsNavigation.makeUrlHashLink(KeyboardNav.module.moduleID, 'savePost', 'settings console')}.<p>\n\t\t`,\n\t});\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Thing } from '../utils';\nimport { Module } from '../core/module';\nimport * as Hover from './hover';\n\nexport const module: Module<*> = new Module('showParent');\n\nmodule.moduleName = 'showParentName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'showParentDesc';\nmodule.options = {\n\thoverDelay: {\n\t\ttitle: 'showParentHoverDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '500',\n\t\tdescription: 'showParentHoverDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\ttitle: 'showParentFadeDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'showParentFadeDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\ttitle: 'showParentFadeSpeedTitle',\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'showParentFadeSpeedDesc',\n\t\tadvanced: true,\n\t},\n\tdirection: {\n\t\ttitle: 'showParentDirectionTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'down',\n\t\tvalues: [{\n\t\t\tname: 'Above',\n\t\t\tvalue: 'up',\n\t\t}, {\n\t\t\tname: 'Below',\n\t\t\tvalue: 'down',\n\t\t}],\n\t\tdescription: 'showParentDirectionDesc',\n\t\tbodyClass: true,\n\t},\n};\nmodule.include = [\n\t'comments',\n];\n\nlet hover;\n\nmodule.contentStart = () => {\n\thover = Hover.infocard(module.moduleID)\n\t\t.options({\n\t\t\topenDelay: parseFloat(module.options.hoverDelay.value),\n\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t})\n\t\t.populateWith(card => showCommentHover(Thing.checkedFrom(card.getCheckedTarget())))\n\t\t.watch('.comment .buttons :not(:first-child) .bylink');\n};\n\nexport function startHover(button: HTMLElement) {\n\tif (hover) hover.target(button).begin();\n}\n\nfunction handleVoteClick() {\n\tconst $this = $(this);\n\tconst voteClasses = {\n\t\tup: 'likes',\n\t\tnone: 'unvoted',\n\t\tdown: 'dislikes',\n\t};\n\tconst id = $this.parent().parent().attr('data-fullname');\n\tlet direction = (/(up|down)(?:mod)?/).exec(this.className);\n\n\tif (!direction) return;\n\n\tdirection = direction[1];\n\n\tconst $targetButton = $(`.content .thing.id-${id}`)\n\t\t.children('.midcol')\n\t\t.find(`.arrow.${direction}, .arrow.${direction}mod`);\n\n\tif ($targetButton.length !== 1) {\n\t\tconsole.error('When attempting to find %s arrow for comment %s %d elements were returned',\n\t\t\tdirection, id, $targetButton.length);\n\t\treturn;\n\t}\n\n\t// Prevent other click handlers from running\n\t// Note that $targetButton's other click handlers run before this one,\n\t// by a \"first come, first serve\" basis\n\tfunction removeClickHandlers(event: Event) {\n\t\tevent.stopPropagation();\n\t}\n\n\t$targetButton.on('click', removeClickHandlers);\n\t$targetButton.click();\n\t$targetButton.off('click', removeClickHandlers);\n\n\tconst $midcol = $this.parent();\n\n\tlet startDir = 'none';\n\tfor (const [key, value] of Object.entries(voteClasses)) {\n\t\tif ($midcol.hasClass(value)) {\n\t\t\tstartDir = key;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tconst newDir = direction === startDir ? 'none' : direction;\n\n\t$midcol.parent().children(`.${voteClasses[startDir]}`)\n\t\t.removeClass(voteClasses[startDir])\n\t\t.addClass(voteClasses[newDir]);\n\t$midcol.find('.up, .upmod')\n\t\t.toggleClass('upmod', newDir === 'up')\n\t\t.toggleClass('up', newDir !== 'up');\n\t$midcol.find('.down, .downmod')\n\t\t.toggleClass('downmod', newDir === 'down')\n\t\t.toggleClass('down', newDir !== 'down');\n}\n\nfunction showCommentHover(thing: Thing) {\n\tconst direction = module.options.direction.value;\n\n\tlet $parents = $(thing.element).parents('.thing').clone();\n\tlet topParentURL = '';\n\n\tif ($parents.length === 0) {\n\t\t// Get parent URL from visible top comment\n\t\ttopParentURL = $(thing.element).find('[data-event-action=\"parent\"]').first().attr('data-href-url');\n\t} else {\n\t\t// Find visible top comment before getting parent URL\n\t\tconst topParentId = $parents.last().attr('data-fullname');\n\t\t// topParentURL will be undefined at top-most parent as it does not have a parent link\n\t\ttopParentURL = $(`[data-fullname=\"${topParentId}\"] > .entry [data-event-action=\"parent\"]`).first().attr('data-href-url');\n\t}\n\tif (direction === 'up') {\n\t\t$parents = $($parents.get().reverse());\n\t}\n\n\t$parents.addClass('comment parentComment').removeClass('thing even odd');\n\t$parents.children('.child').remove(); // replies and reply edit form\n\t$parents.each(function() {\n\t\tconst $this = $(this);\n\n\t\t// Remove the keyboardNav functionality\n\t\t$this.off('click');\n\n\t\t// A link to go to the actual comment\n\t\tlet id = $this.attr('data-fullname');\n\t\tif (id) {\n\t\t\tid = id.slice(3);\n\t\t\t$this.find('> .entry .tagline').append(`<a class=\"bylink parentlink\" href=\"#${id}\">goto comment</a>`);\n\t\t}\n\t});\n\t$parents.find('.parent').remove();\n\t$parents.find('.usertext-body').show(); // contents\n\t$parents.find('.flat-list.buttons').remove(); // buttons\n\t$parents.find('.usertext-edit').remove(); // edit form\n\t$parents.find('.RESUserTag').remove(); // tags\n\t$parents.find('.voteWeight').remove(); // tags\n\t$parents.find('.collapsed').remove(); // unused collapse view\n\t$parents.find('.expand').remove(); // expand button\n\t$parents.find('form').attr('id', ''); // IDs should be unique\n\t$parents.find('.arrow').on('click', handleVoteClick); // bind handlers to vote buttons\n\t/*\n\tI am stripping out the image viewer stuff for now.\n\tMaking the image viewer work here requires some changes that are for another time.\n\t*/\n\t$parents.find('.res-expando-box, .expando-button').remove(); // image viewer\n\t$parents.find('.keyNavAnnotation').remove();\n\n\tconst $container = $('<div class=\"parentCommentWrapper\">');\n\t$container.append($parents);\n\t// Does not show view parent comment when top-most parent is shown\n\tif (topParentURL) {\n\t\t$container.append(`<a class=\"bylink\" href=\"${topParentURL}\">View parent comment</a>`);\n\t}\n\t$parents.slice(0, -1).after('<div class=\"parentArrow\">reply to</div>');\n\treturn ['Parents', $container];\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { watchForThings, string } from '../utils';\nimport { openNewTabs } from '../environment';\n\nexport const module: Module<*> = new Module('singleClick');\n\nmodule.moduleName = 'singleClickName';\nmodule.category = 'browsingCategory';\nmodule.description = 'singleClickDesc';\nmodule.options = {\n\topenOrder: {\n\t\ttitle: 'singleClickOpenOrderTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'open comments then link',\n\t\t\tvalue: 'commentsfirst',\n\t\t}, {\n\t\t\tname: 'open link then comments',\n\t\t\tvalue: 'linkfirst',\n\t\t}],\n\t\tvalue: 'commentsfirst',\n\t\tdescription: 'singleClickOpenOrderDesc',\n\t},\n\thideLEC: {\n\t\ttitle: 'singleClickHideLECTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'singleClickHideLECDesc',\n\t\tadvanced: true,\n\t},\n\topenFrontpage: {\n\t\ttitle: 'singleClickOpenFrontpageTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'singleClickOpenFrontpageDesc',\n\t\tdependsOn: options => !options.hideLEC.value,\n\t},\n\topenBackground: {\n\t\ttitle: 'singleClickOpenBackgroundTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'singleClickOpenBackgroundDesc',\n\t},\n};\nmodule.exclude = [\n\t'comments',\n];\n\nexport const invokeOnPostMap: WeakMap<*, *> = new WeakMap();\n\nmodule.beforeLoad = () => {\n\twatchForThings(['post'], thing => {\n\t\tconst urls = new Set([thing.getPostUrl()]);\n\n\t\tif (thing.isLinkPost()) {\n\t\t\turls.add(thing.getCommentsLink().href);\n\t\t} else if (module.options.openFrontpage.value) {\n\t\t\tconst frontpageLink = thing.getSubredditLink();\n\t\t\tif (frontpageLink) urls.add(frontpageLink.href);\n\t\t}\n\n\t\tconst ordered = (module.options.openOrder.value === 'commentsfirst' ? [...urls].reverse() : [...urls]).filter(Boolean);\n\n\t\tconst open = (focused: boolean) => { openNewTabs(focused, ...ordered); };\n\n\t\t// This might be invoked via keyboardNav, regardless of `hideLEC`'s value\n\t\tinvokeOnPostMap.set(thing, open);\n\n\t\tif (!ordered.length || (module.options.hideLEC.value && ordered.length === 1)) return;\n\n\t\tconst text = ordered.length === 1 ? '[l=c]' : '[l+c]';\n\t\tconst ele = string.html`<li><a href=\"javascript:void(0)\" class=\"noCtrlF\" data-text=\"${text}\"></a></li>`;\n\n\t\t// Prevent empty tab opening on middle click\n\t\t(ele.firstElementChild: any).addEventListener('auxclick', e => { e.preventDefault(); });\n\n\t\t(ele.firstElementChild: any).addEventListener('mouseup', (e: MouseEvent) => {\n\t\t\tif (e.button !== 0 && e.button !== 1) return; // Only left and middle click registers\n\t\t\tconst focused = !e.button && !e.ctrlKey && !module.options.openBackground.value;\n\t\t\topen(focused);\n\t\t});\n\n\t\tthing.getButtons().append(ele);\n\t});\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport {\n\tNAMED_KEYS,\n\tThing,\n\tSelectedThing,\n\tclick,\n\tdowncast,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tfilterMap,\n\tgetPercentageVisibleYAxis,\n\thashKeyArray,\n\thashKeyEvent,\n\tisCommentCode,\n\tisEmptyLink,\n\tisPageType,\n\tloggedInUser,\n\tmatchesPageLocation,\n\tniceKeyCode,\n\tscrollToElement,\n\tstring,\n\twatchForElements,\n\twaitForEvent,\n} from '../utils';\nimport { i18n, openNewTab } from '../environment';\nimport * as Options from '../core/options';\nimport * as CommandLine from './commandLine';\nimport * as CommentNavigator from './commentNavigator';\nimport * as EasterEgg from './easterEgg';\nimport * as FilteReddit from './filteReddit';\nimport * as HideChildComments from './hideChildComments';\nimport * as NeverEndingReddit from './neverEndingReddit';\nimport * as Notifications from './notifications';\nimport * as NoParticipation from './noParticipation';\nimport * as SaveComments from './saveComments';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as ShowImages from './showImages';\nimport * as ShowParent from './showParent';\nimport * as SingleClick from './singleClick';\n\nexport const module: Module<*> = new Module('keyboardNav');\n\nmodule.moduleName = 'keyboardNavName';\nmodule.category = 'browsingCategory';\nmodule.description = 'keyboardNavDesc';\nmodule.options = {\n\tlinearScrollStyle: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'directional',\n\t\t\tvalue: 'directional',\n\t\t}, {\n\t\t\tname: 'page up/down',\n\t\t\tvalue: 'page',\n\t\t}, {\n\t\t\tname: 'lock to top',\n\t\t\tvalue: 'top',\n\t\t}, {\n\t\t\tname: 'in middle',\n\t\t\tvalue: 'middle',\n\t\t}, {\n\t\t\tname: 'adopt top',\n\t\t\tvalue: 'adopt',\n\t\t}, {\n\t\t\tname: 'legacy',\n\t\t\tvalue: 'legacy',\n\t\t}],\n\t\tvalue: 'directional',\n\t\tdescription: 'keyboardNavLinearScrollStyleDesc',\n\t\ttitle: 'keyboardNavLinearScrollStyleTitle',\n\t\tadvanced: true,\n\t},\n\tnonLinearScrollStyle: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'directional',\n\t\t\tvalue: 'directional',\n\t\t}, {\n\t\t\tname: 'page up/down',\n\t\t\tvalue: 'page',\n\t\t}, {\n\t\t\tname: 'lock to top',\n\t\t\tvalue: 'top',\n\t\t}, {\n\t\t\tname: 'in middle',\n\t\t\tvalue: 'middle',\n\t\t}, {\n\t\t\tname: 'adopt top',\n\t\t\tvalue: 'adopt',\n\t\t}, {\n\t\t\tname: 'legacy',\n\t\t\tvalue: 'legacy',\n\t\t}],\n\t\tvalue: 'legacy',\n\t\tdescription: 'keyboardNavNonLinearScrollStyleDesc',\n\t\ttitle: 'keyboardNavNonLinearScrollStyleTitle',\n\t\tadvanced: true,\n\t},\n\tlinkNumbers: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavLinkNumbersDesc',\n\t\ttitle: 'keyboardNavLinkNumbersTitle',\n\t},\n\tlinkNumberPosition: {\n\t\tdependsOn: options => options.linkNumbers.value,\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Place on right',\n\t\t\tvalue: 'right',\n\t\t}, {\n\t\t\tname: 'Place on left',\n\t\t\tvalue: 'left',\n\t\t}],\n\t\tvalue: 'right',\n\t\tdescription: 'keyboardNavLinkNumberPositionDesc',\n\t\ttitle: 'keyboardNavLinkNumberPositionTitle',\n\t\tadvanced: true,\n\t},\n\tlinkToggleExpando: {\n\t\tdependsOn: options => options.linkNumbers.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavLinkToggleExpandoDesc',\n\t\ttitle: 'keyboardNavLinkToggleExpandoTitle',\n\t},\n\tlinkNumberAltModeModifier: {\n\t\tdependsOn: options => options.linkNumbers.value,\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'none',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Shift',\n\t\t\tvalue: 'shift',\n\t\t}, {\n\t\t\tname: 'Alt',\n\t\t\tvalue: 'alt',\n\t\t}],\n\t\tvalue: 'alt',\n\t\tdescription: 'keyboardNavLinkNumberAltModeModifierDesc',\n\t\ttitle: 'keyboardNavLinkNumberAltModeModifierTitle',\n\t\tadvanced: true,\n\t},\n\tlinkNewTab: {\n\t\tdependsOn: options => options.linkNumbers.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavLinkNewTabDesc',\n\t\ttitle: 'keyboardNavLinkNewTabTitle',\n\t\tadvanced: true,\n\t},\n\tonHideMoveDown: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavOnHideMoveDownDesc',\n\t\ttitle: 'keyboardNavOnHideMoveDownTitle',\n\t\tadvanced: true,\n\t},\n\tonVoteMoveDown: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'keyboardNavOnVoteMoveDownDesc',\n\t\ttitle: 'keyboardNavOnVoteMoveDownTitle',\n\t\tadvanced: true,\n\t},\n\tonVoteCommentMoveDown: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'keyboardNavOnVoteCommentMoveDownDesc',\n\t\ttitle: 'keyboardNavOnVoteCommentMoveDownTitle',\n\t\tadvanced: true,\n\t},\n\tfollowLinkNewTabFocus: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavFollowLinkNewTabFocusDesc',\n\t\ttitle: 'keyboardNavFollowLinkNewTabFocusTitle',\n\t},\n\ttoggleHelp: {\n\t\ttype: 'keycode',\n\t\tvalue: [191, false, false, true, false], // ? (note the true in the shift slot)\n\t\tdescription: 'keyboardNavToggleHelpDesc',\n\t\ttitle: 'keyboardNavToggleHelpTitle',\n\t\tcallback() { toggleKeyNavHelp(); },\n\t},\n\ttoggleCmdLine: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommandLine],\n\t\tvalue: [190, false, false, false, false], // .\n\t\tdescription: 'keyboardNavToggleCmdLineDesc',\n\t\ttitle: 'keyboardNavToggleCmdLineTitle',\n\t\tcallback() { CommandLine.toggle(); },\n\t},\n\tenterFilterCommandLine: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommandLine, FilteReddit],\n\t\tvalue: [70, false, false, false, false], // f\n\t\tdescription: 'keyboardNavEnterFilterCommandLineDesc',\n\t\ttitle: 'keyboardNavEnterFilterCommandLineTitle',\n\t\tcallback() { CommandLine.open('fl '); },\n\t},\n\thide: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile'],\n\t\tvalue: [72, false, false, false, false], // h\n\t\tdescription: 'keyboardNavHideDesc',\n\t\ttitle: 'keyboardNavHideTitle',\n\t\tcallback: hideLink,\n\t},\n\tmoveUp: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [75, false, false, false, false], // k\n\t\tdescription: 'keyboardNavMoveUpDesc',\n\t\ttitle: 'keyboardNavMoveUpTitle',\n\t\tcallback() { SelectedThing.move('up', { allowMediaBrowse: true, scrollStyle: module.options.linearScrollStyle.value }); },\n\t},\n\tmoveDown: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [74, false, false, false, false], // j\n\t\tdescription: 'keyboardNavMoveDownDesc',\n\t\ttitle: 'keyboardNavMoveDownTitle',\n\t\tcallback() {\n\t\t\tSelectedThing.move('down', { allowMediaBrowse: true, scrollStyle: module.options.linearScrollStyle.value }, moveDownFallback);\n\t\t},\n\t},\n\tmoveUpComment: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist', 'inbox'],\n\t\tvalue: [75, false, false, false, false], // k\n\t\tdescription: 'keyboardNavMoveUpCommentDesc',\n\t\ttitle: 'keyboardNavMoveUpCommentTitle',\n\t\tcallback() { SelectedThing.move('up', { scrollStyle: module.options.linearScrollStyle.value }); },\n\t},\n\tmoveDownComment: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist', 'inbox'],\n\t\tvalue: [74, false, false, false, false], // j\n\t\tdescription: 'keyboardNavMoveDownCommentDesc',\n\t\ttitle: 'keyboardNavMoveDownCommentTitle',\n\t\tcallback() { SelectedThing.move('down', { scrollStyle: module.options.linearScrollStyle.value }); },\n\t},\n\tmoveTop: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox', 'search'],\n\t\tvalue: [75, false, false, true, false], // shift-k\n\t\tdescription: 'keyboardNavMoveTopDesc',\n\t\ttitle: 'keyboardNavMoveTopTitle',\n\t\tcallback() { SelectedThing.move('top', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveBottom: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox', 'search'],\n\t\tvalue: [74, false, false, true, false], // shift-j\n\t\tdescription: 'keyboardNavMoveBottomDesc',\n\t\ttitle: 'keyboardNavMoveBottomTitle',\n\t\tcallback() { SelectedThing.move('bottom', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveUpSibling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [75, false, false, true, false], // shift-k\n\t\tdescription: 'keyboardNavMoveUpSiblingDesc',\n\t\ttitle: 'keyboardNavMoveUpSiblingTitle',\n\t\tcallback() { SelectedThing.move('upSibling', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveDownSibling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [74, false, false, true, false], // shift-j\n\t\tdescription: 'keyboardNavMoveDownSiblingDesc',\n\t\ttitle: 'keyboardNavMoveDownSiblingTitle',\n\t\tcallback() { SelectedThing.move('downSibling', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveDownParentSibling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [74, true, false, false, false], // alt-j\n\t\tdescription: 'keyboardNavMoveDownParentSiblingDesc',\n\t\ttitle: 'keyboardNavMoveDownParentSiblingTitle',\n\t\tcallback() { SelectedThing.move('downParentSibling', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveUpThread: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [75, true, false, true, false], // shift-alt-k\n\t\tdescription: 'keyboardNavMoveUpThreadDesc',\n\t\ttitle: 'keyboardNavMoveUpThreadTitle',\n\t\tcallback() { SelectedThing.move('upThread', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveDownThread: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [74, true, false, true, false], // shift-alt-j\n\t\tdescription: 'keyboardNavMoveDownThreadDesc',\n\t\ttitle: 'keyboardNavMoveDownThreadTitle',\n\t\tcallback() { SelectedThing.move('downThread', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveToTopComment: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [84, false, false, false, false], // t\n\t\tdescription: 'keyboardNavMoveToTopCommentDesc',\n\t\ttitle: 'keyboardNavMoveToTopCommentTitle',\n\t\tcallback() { SelectedThing.move('toTopComment', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveToParent: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [80, false, false, false, false], // p\n\t\tdescription: 'keyboardNavMoveToParentDesc',\n\t\ttitle: 'keyboardNavMoveToParentTitle',\n\t\tcallback() { SelectedThing.move('toParent', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tundoMove: {\n\t\ttype: 'keycode',\n\t\tvalue: [90, false, true, false, false], // ctrl-z\n\t\tdescription: 'keyboardNavUndoMoveDesc',\n\t\ttitle: 'keyboardNavUndoMoveTitle',\n\t\tcallback() { SelectedThing.move('previous', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tshowParents: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowParent],\n\t\tvalue: [80, false, false, true, false], // p\n\t\tdescription: 'keyboardNavShowParentsDesc',\n\t\ttitle: 'keyboardNavShowParentsTitle',\n\t\tcallback(selected = getSelected()) {\n\t\t\tShowParent.startHover(assertElement(selected.element.querySelector('.buttons .bylink[href^=\"#\"]')));\n\t\t},\n\t},\n\tfollowLink: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'comments', 'search'],\n\t\tvalue: [13, false, false, false, false], // enter\n\t\tdescription: 'keyboardNavFollowLinkDesc',\n\t\ttitle: 'keyboardNavFollowLinkTitle',\n\t\tcallback() { followLink(); },\n\t},\n\tfollowLinkNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'comments', 'search'],\n\t\tvalue: [13, false, false, true, false], // shift-enter\n\t\tdescription: 'keyboardNavFollowLinkNewTabDesc',\n\t\ttitle: 'keyboardNavFollowLinkNewTabTitle',\n\t\tcallback() { followLink(true); },\n\t},\n\ttoggleExpando: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [88, false, false, false, false], // x\n\t\tdescription: 'keyboardNavToggleExpandoDesc',\n\t\ttitle: 'keyboardNavToggleExpandoTitle',\n\t\tcallback(selected = getSelected()) {\n\t\t\tShowImages.toggleThingExpandos(selected, {\n\t\t\t\tscrollOnToggle: module.options.scrollOnExpando.value,\n\t\t\t});\n\t\t},\n\t},\n\tscrollOnExpando: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavScrollOnExpandoDesc',\n\t\ttitle: 'keyboardNavScrollOnExpandoTitle',\n\t\tadvanced: true,\n\t},\n\timageSizeUp: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [187, false, false, false, false], // = -- 61 in firefox\n\t\tdescription: 'keyboardNavImageSizeUpDesc',\n\t\ttitle: 'keyboardNavImageSizeUpTitle',\n\t\tcallback() { imageResize({ factor: 1.3 }); },\n\t},\n\timageSizeDown: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [189, false, false, false, false], // - -- 173 in firefox\n\t\tdescription: 'keyboardNavImageSizeDownDesc',\n\t\ttitle: 'keyboardNavImageSizeDownTitle',\n\t\tcallback() { imageResize({ factor: 1 / 1.3 }); },\n\t},\n\timageSizeUpFine: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [187, false, false, true, false], // shift-=\n\t\tdescription: 'keyboardNavImageSizeUpFineDesc',\n\t\ttitle: 'keyboardNavImageSizeUpFineTitle',\n\t\tcallback() { imageResize({ factor: 1.1 }); },\n\t},\n\timageSizeDownFine: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [189, false, false, true, false], // shift--\n\t\tdescription: 'keyboardNavImageSizeDownFineDesc',\n\t\ttitle: 'keyboardNavImageSizeDownFineTitle',\n\t\tcallback() { imageResize({ factor: 1 / 1.1 }); },\n\t},\n\timageSizeAnyHeight: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [39, false, false, true, false], // shift-right\n\t\tdescription: 'keyboardNavImageSizeAnyHeightDesc',\n\t\ttitle: 'keyboardNavImageSizeAnyHeightTitle',\n\t\tcallback() { imageResize({ removeHeightRestriction: true }); },\n\t},\n\timageMoveUp: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [38, false, true, false, false], // ctrl-up\n\t\tdescription: 'keyboardNavImageMoveUpDesc',\n\t\ttitle: 'keyboardNavImageMoveUpTitle',\n\t\tcallback() { imageMove(0, -50); },\n\t},\n\timageMoveDown: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [40, false, true, false, false], // ctrl-down\n\t\tdescription: 'keyboardNavImageMoveDownDesc',\n\t\ttitle: 'keyboardNavImageMoveDownTitle',\n\t\tcallback() { imageMove(0, 50); },\n\t},\n\timageMoveLeft: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [37, false, true, false, false], // ctrl-left\n\t\tdescription: 'keyboardNavImageMoveLeftDesc',\n\t\ttitle: 'keyboardNavImageMoveLeftTitle',\n\t\tcallback() { imageMove(-50, 0); },\n\t},\n\timageMoveRight: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [39, false, true, false, false], // ctrl-right\n\t\tdescription: 'keyboardNavImageMoveRightDesc',\n\t\ttitle: 'keyboardNavImageMoveRightTitle',\n\t\tcallback() { imageMove(50, 0); },\n\t},\n\tpreviousGalleryImage: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [219, false, false, false, false], // [\n\t\tdescription: 'keyboardNavPreviousGalleryImageDesc',\n\t\ttitle: 'keyboardNavPreviousGalleryImageTitle',\n\t\tcallback() { navigateGallery('previous'); },\n\t},\n\tnextGalleryImage: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [221, false, false, false, false], // ]\n\t\tdescription: 'keyboardNavNextGalleryImageDesc',\n\t\ttitle: 'keyboardNavNextGalleryImageTitle',\n\t\tcallback() { navigateGallery('next'); },\n\t},\n\tscrollOnGalleryNavigate: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavScrollOnGalleryNavigateDesc',\n\t\ttitle: 'keyboardNavScrollOnGalleryNavigateTitle',\n\t\tadvanced: true,\n\t},\n\ttoggleViewImages: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [88, false, false, true, false], // shift-x\n\t\tdescription: 'keyboardNavToggleViewImagesDesc',\n\t\ttitle: 'keyboardNavToggleViewImagesTitle',\n\t\tcallback() { ShowImages.viewImagesButton().click(); },\n\t},\n\ttoggleChildren: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'inbox'/* mostly modmail */],\n\t\tvalue: [13, false, false, false, false], // enter\n\t\tdescription: 'keyboardNavToggleChildrenDesc',\n\t\ttitle: 'keyboardNavToggleChildrenTitle',\n\t\tcallback: toggleChildren,\n\t},\n\tfollowComments: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [67, false, false, false, false], // c\n\t\tdescription: 'keyboardNavFollowCommentsDesc',\n\t\ttitle: 'keyboardNavFollowCommentsTitle',\n\t\tcallback() { followComments(); },\n\t},\n\tfollowCommentsNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [67, false, false, true, false], // shift-c\n\t\tdescription: 'keyboardNavFollowCommentsNewTabDesc',\n\t\ttitle: 'keyboardNavFollowCommentsNewTabTitle',\n\t\tcallback() { followComments(true); },\n\t},\n\tfollowLinkAndCommentsNewTab: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [SingleClick],\n\t\tvalue: [76, false, false, false, false], // l\n\t\tdescription: 'keyboardNavFollowLinkAndCommentsNewTabDesc',\n\t\ttitle: 'keyboardNavFollowLinkAndCommentsNewTabTitle',\n\t\tcallback() { (SingleClick.invokeOnPostMap.get(getSelected()): any)(true); },\n\t},\n\tfollowLinkAndCommentsNewTabBG: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [SingleClick],\n\t\tvalue: [76, false, false, true, false], // shift-l\n\t\tdescription: 'keyboardNavFollowLinkAndCommentsNewTabBGDesc',\n\t\ttitle: 'keyboardNavFollowLinkAndCommentsNewTabBGTitle',\n\t\tcallback() { (SingleClick.invokeOnPostMap.get(getSelected()): any)(false); },\n\t},\n\tupVote: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'comments', 'inbox', 'search'],\n\t\tvalue: [65, false, false, false, false], // a\n\t\tdescription: 'keyboardNavUpVoteDesc',\n\t\ttitle: 'keyboardNavUpVoteTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() { vote('upmod'); },\n\t},\n\tdownVote: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'comments', 'inbox', 'search'],\n\t\tvalue: [90, false, false, false, false], // z\n\t\tdescription: 'keyboardNavDownVoteDesc',\n\t\ttitle: 'keyboardNavDownVoteTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() { vote('downmod'); },\n\t},\n\tupVoteWithoutToggling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'comments', 'inbox', 'search'],\n\t\tvalue: [65, false, false, true, false], // a\n\t\tdescription: 'keyboardNavUpVoteWithoutTogglingDesc',\n\t\ttitle: 'keyboardNavUpVoteWithoutTogglingTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() { vote('upmod', true); },\n\t},\n\tdownVoteWithoutToggling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'comments', 'inbox', 'search'],\n\t\tvalue: [90, false, false, true, false], // z\n\t\tdescription: 'keyboardNavDownVoteWithoutTogglingDesc',\n\t\ttitle: 'keyboardNavDownVoteWithoutTogglingTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() { vote('downmod', true); },\n\t},\n\tsavePost: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'comments'],\n\t\tvalue: [83, false, false, false, false], // s\n\t\tdescription: 'keyboardNavSavePostDesc',\n\t\ttitle: 'keyboardNavSavePostTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() {\n\t\t\tclick(getFirstElementInThingByQuery('.link-save-button a, .link-unsave-button a', ASSERT));\n\t\t},\n\t},\n\tsaveComment: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist'],\n\t\tvalue: [83, false, false, true, false], // shift-s\n\t\tdescription: 'keyboardNavSaveCommentDesc',\n\t\ttitle: 'keyboardNavSaveCommentTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() {\n\t\t\tclick(getFirstElementInThingByQuery('.comment-save-button > a', ASSERT));\n\t\t},\n\t},\n\tsaveRES: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [SaveComments],\n\t\tvalue: [83, false, false, false, false], // s\n\t\tdescription: 'keyboardNavSaveRESDesc',\n\t\ttitle: 'keyboardNavSaveRESTitle',\n\t\tcallback() {\n\t\t\tclick(getFirstElementInThingByQuery('.saveComments, .unsaveComments', ASSERT));\n\t\t\tSaveComments.showEducationalNotification();\n\t\t},\n\t},\n\treply: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'inbox'],\n\t\tvalue: [82, false, false, false, false], // r\n\t\tdescription: 'keyboardNavReplyDesc',\n\t\ttitle: 'keyboardNavReplyTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback: reply,\n\t},\n\tedit: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'profile'],\n\t\tvalue: [69, false, false, false, false], // e\n\t\tdescription: 'keyboardNavEditDesc',\n\t\ttitle: 'keyboardNavEditTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() {\n\t\t\tclick(getFirstElementInThingByQuery('.entry .edit-usertext', ASSERT, getSelected()));\n\t\t},\n\t},\n\tshowChildComments: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [HideChildComments],\n\t\tvalue: [67, false, false, false, false], // c\n\t\tdescription: 'keyboardNavShowChildCommentsDesc',\n\t\ttitle: 'keyboardNavShowChildCommentsTitle',\n\t\tcallback(selected = getSelected()) {\n\t\t\tHideChildComments.toggle(selected);\n\t\t},\n\t},\n\tshowAllChildComments: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [HideChildComments],\n\t\tvalue: [67, false, false, true, false], // shift-c\n\t\tdescription: 'keyboardNavShowAllChildCommentsDesc',\n\t\ttitle: 'keyboardNavShowAllChildCommentsTitle',\n\t\tcallback() {\n\t\t\tHideChildComments.toggleAll();\n\t\t},\n\t},\n\tfollowPermalink: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist', 'inbox'],\n\t\tvalue: [89, false, false, false, false], // y\n\t\tdescription: 'keyboardNavFollowPermalinkDesc',\n\t\ttitle: 'keyboardNavFollowPermalinkTitle',\n\t\tcallback() { followPermalink(); },\n\t},\n\tfollowPermalinkNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist', 'inbox'],\n\t\tvalue: [89, false, false, true, false], // shift-y\n\t\tdescription: 'keyboardNavFollowPermalinkNewTabDesc',\n\t\ttitle: 'keyboardNavFollowPermalinkNewTabTitle',\n\t\tcallback() { followPermalink(true); },\n\t},\n\tfollowSubreddit: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [82, false, false, false, false], // r\n\t\tdescription: 'keyboardNavFollowSubredditDesc',\n\t\ttitle: 'keyboardNavFollowSubredditTitle',\n\t\tcallback() { followSubreddit(); },\n\t},\n\tfollowSubredditNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [82, false, false, true, false], // shift-r\n\t\tdescription: 'keyboardNavFollowSubredditNewTabDesc',\n\t\ttitle: 'keyboardNavFollowSubredditNewTabTitle',\n\t\tcallback() { followSubreddit(true); },\n\t},\n\tfollowProfile: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'comments', 'commentsLinklist', 'inbox', 'modqueue', 'search'],\n\t\tvalue: [85, false, false, false, false], // u\n\t\tdescription: 'keyboardNavFollowProfileDesc',\n\t\ttitle: 'keyboardNavFollowProfileTitle',\n\t\tcallback() { followProfile(); },\n\t},\n\tfollowProfileNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'comments', 'commentsLinklist', 'inbox', 'modqueue', 'search'],\n\t\tvalue: [85, false, false, true, false], // shift-u\n\t\tdescription: 'keyboardNavFollowProfileNewTabDesc',\n\t\ttitle: 'keyboardNavFollowProfileNewTabTitle',\n\t\tcallback() { followProfile(true); },\n\t},\n\ttoggleCommentNavigator: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommentNavigator],\n\t\tvalue: [78, false, false, false, false], // N\n\t\tdescription: 'keyboardNavToggleCommentNavigatorDesc',\n\t\ttitle: 'keyboardNavToggleCommentNavigatorTitle',\n\t\tcallback() { CommentNavigator.toggle(true); },\n\t},\n\tcommentNavigatorMoveUp: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommentNavigator],\n\t\tvalue: [38, false, false, true, false], // shift+up arrow\n\t\tdescription: 'keyboardNavCommentNavigatorMoveUpDesc',\n\t\ttitle: 'keyboardNavCommentNavigatorMoveUpTitle',\n\t\tcallback() { CommentNavigator.move('up'); },\n\t},\n\tcommentNavigatorMoveDown: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommentNavigator],\n\t\tvalue: [40, false, false, true, false], // shift+down arrow\n\t\tdescription: 'keyboardNavCommentNavigatorMoveDownDesc',\n\t\ttitle: 'keyboardNavCommentNavigatorMoveDownTitle',\n\t\tcallback() { CommentNavigator.move('down'); },\n\t},\n\tfocusOnSearchBox: {\n\t\ttype: 'keycode',\n\t\tvalue: [191, true, false, false, false], // alt-/\n\t\tdescription: 'keyboardNavFocusOnSearchBoxDesc',\n\t\ttitle: 'keyboardNavFocusOnSearchBoxTitle',\n\t\tcallback() { document.querySelector('#search input[name=\"q\"]').focus(); },\n\t},\n\tuseGoMode: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavUseGoModeDesc',\n\t\ttitle: 'keyboardNavUseGoModeTitle',\n\t},\n\tgoMode: {\n\t\ttype: 'keycode',\n\t\tvalue: [71, false, false, false, false], // g\n\t\tdescription: 'keyboardNavGoModeDesc',\n\t\ttitle: 'keyboardNavGoModeTitle',\n\t\tdependsOn: options => options.useGoMode.value,\n\t\tcallback() { if (module.options.useGoMode.value) toggleGoMode(); },\n\t},\n\tinbox: {\n\t\ttype: 'keycode',\n\t\tvalue: [73, false, false, false, false], // i\n\t\tdescription: 'keyboardNavInboxDesc',\n\t\ttitle: 'keyboardNavInboxTitle',\n\t\tcallback() { navigateTo('/message/inbox/', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tinboxNewTab: {\n\t\ttype: 'keycode',\n\t\tvalue: [73, false, false, true, false], // shift+i\n\t\tdescription: 'keyboardNavInboxNewTabDesc',\n\t\ttitle: 'keyboardNavInboxNewTabTitle',\n\t\tcallback() { navigateTo('/message/inbox/', { newWindow: true, leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tmodmail: {\n\t\ttype: 'keycode',\n\t\tvalue: [77, false, false, false, false], // m\n\t\tdescription: 'keyboardNavModmailDesc',\n\t\ttitle: 'keyboardNavModmailTitle',\n\t\tcallback() { navigateTo('/message/moderator/', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tmodmailNewTab: {\n\t\ttype: 'keycode',\n\t\tvalue: [77, false, false, true, false], // shift+m\n\t\tdescription: 'keyboardNavModmailNewTabDesc',\n\t\ttitle: 'keyboardNavModmailNewTabTitle',\n\t\tcallback() { navigateTo('/message/moderator/', { newWindow: true, leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tprofile: {\n\t\ttype: 'keycode',\n\t\tvalue: [85, false, false, false, false], // u\n\t\tdescription: 'keyboardNavProfileDesc',\n\t\ttitle: 'keyboardNavProfileTitle',\n\t\tcallback() {\n\t\t\tconst user = loggedInUser();\n\t\t\tif (user) navigateTo(`/user/${user}`, { leaveNP: true });\n\t\t},\n\t\tgoMode: true,\n\t},\n\tprofileNewTab: {\n\t\ttype: 'keycode',\n\t\tvalue: [85, false, false, true, false], // shift+u\n\t\tdescription: 'keyboardNavProfileNewTabDesc',\n\t\ttitle: 'keyboardNavProfileNewTabTitle',\n\t\tcallback() {\n\t\t\tconst user = loggedInUser();\n\t\t\tif (user) navigateTo(`/user/${user}`, { newWindow: true, leaveNP: true });\n\t\t},\n\t\tgoMode: true,\n\t},\n\tfrontPage: {\n\t\ttype: 'keycode',\n\t\tvalue: [70, false, false, false, false], // f\n\t\tdescription: 'keyboardNavFrontPageDesc',\n\t\ttitle: 'keyboardNavFrontPageTitle',\n\t\tcallback() { navigateTo('/', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tslashAll: {\n\t\ttype: 'keycode',\n\t\tvalue: [65, true, false, false, false], // alt-a\n\t\tdescription: 'keyboardNavSlashAllDesc',\n\t\ttitle: 'keyboardNavSlashAllTitle',\n\t\tcallback() { navigateTo('/r/all', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tsubredditFrontPage: {\n\t\ttype: 'keycode',\n\t\tvalue: [70, false, false, true, false], // shift-f\n\t\tdescription: 'keyboardNavsSubredditFrontPageDesc',\n\t\ttitle: 'keyboardNavsSubredditFrontPageTitle',\n\t\tcallback() {\n\t\t\tconst sub = currentSubreddit();\n\t\t\tif (sub) navigateTo(`/r/${sub}`, { leaveNP: false });\n\t\t},\n\t\tgoMode: true,\n\t},\n\trandom: {\n\t\ttype: 'keycode',\n\t\tvalue: [89, true, false, false, false], // alt-y   SO RANDOM\n\t\tdescription: 'keyboardNavRandomDesc',\n\t\ttitle: 'keyboardNavRandomTitle',\n\t\tcallback() { navigateTo('/r/random', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tnextPage: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox'],\n\t\tvalue: [78, false, false, false, false], // n\n\t\tdescription: 'keyboardNavNextPageDesc',\n\t\ttitle: 'keyboardNavNextPageTitle',\n\t\tcallback() {\n\t\t\tif (Modules.isRunning(NeverEndingReddit)) {\n\t\t\t\tNeverEndingReddit.loadNextPage({ scrollToLoadWidget: true });\n\t\t\t} else {\n\t\t\t\tconst next = NeverEndingReddit.getNextPrevLinks().next;\n\t\t\t\tif (next) location.href = next;\n\t\t\t}\n\t\t},\n\t\tgoMode: true,\n\t},\n\tprevPage: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox'],\n\t\tvalue: [80, false, false, false, false], // p\n\t\tdescription: 'keyboardNavPrevPageDesc',\n\t\ttitle: 'keyboardNavPrevPageTitle',\n\t\tcallback() {\n\t\t\tif (Modules.isRunning(NeverEndingReddit)) {\n\t\t\t\t// neverEndingReddit has no interface for this\n\t\t\t} else {\n\t\t\t\tconst prev = NeverEndingReddit.getNextPrevLinks().prev;\n\t\t\t\tif (prev) location.href = prev;\n\t\t\t}\n\t\t},\n\t\tgoMode: true,\n\t},\n\toverviewLegacy: {\n\t\ttype: 'keycode',\n\t\tinclude: ['d2x', 'profile'],\n\t\tvalue: [79, false, false, true, false], // shift+o\n\t\tdescription: 'keyboardNavOverviewLegacyDesc',\n\t\ttitle: 'keyboardNavOverviewLegacyTitle',\n\t\tcallback() {\n\t\t\tconst currentUser = currentUserProfile();\n\t\t\tif (currentUser) navigateTo(`/user/${currentUser}/overview`, { leaveNP: true });\n\t\t},\n\t\tgoMode: true,\n\t},\n\tprofileView: {\n\t\ttype: 'keycode',\n\t\tinclude: ['d2x', 'profile'],\n\t\tvalue: [80, false, false, true, false], // shift+p\n\t\tdescription: 'keyboardNavProfileViewDesc',\n\t\ttitle: 'keyboardNavProfileViewTitle',\n\t\tcallback() {\n\t\t\tconst currentUser = currentUserProfile();\n\t\t\tif (currentUser) navigateTo(`/user/${currentUser}`, { leaveNP: true });\n\t\t},\n\t\tgoMode: true,\n\t},\n\t// numbers and numpad numbers are used to access links (see getLinkKeys)\n};\n\nmodule.beforeLoad = () => {\n\tregisterCommandLine();\n\n\tif (module.options.linkNumbers.value) {\n\t\tSelectedThing.addListener(updateLinkAnnotations, 'instantly');\n\t\twatchForElements(['selfText'], null, element => {\n\t\t\tconst thing = Thing.from(element);\n\t\t\tif (SelectedThing.current === thing) updateLinkAnnotations(thing);\n\t\t});\n\t}\n};\n\nmodule.contentStart = () => {\n\twindow.addEventListener('keydown', handleKeyPress, true);\n};\n\nfunction registerCommandLine() {\n\tCommandLine.registerCommand(/\\d+/, '[number] - navigates to the link with that number (if annotation exists) or rank (link pages)',\n\t\t() => {},\n\t\tcommand => {\n\t\t\tconst number = parseInt(command, 10);\n\t\t\tconst annotation = linkAnnotations[number - 1];\n\t\t\tif (annotation) {\n\t\t\t\tif (!document.contains(annotation.link)) {\n\t\t\t\t\tconsole.log('Annotation refers to removed link; ignoring');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topenLink(number - 1);\n\t\t\t} else {\n\t\t\t\tfollowLinkByRank(number);\n\t\t\t}\n\t\t},\n\t);\n}\n\nlet linkAnnotations = [];\n\nfunction updateLinkAnnotations(selected) {\n\tfor (const { annotation } of linkAnnotations) annotation.remove();\n\n\tlinkAnnotations = ((Array.from((selected && selected.entry.querySelectorAll('div.md a:not(.noKeyNav)')) || []): any[]): HTMLAnchorElement[])\n\t\t.filter(link => !isCommentCode(link) && !isEmptyLink(link))\n\t\t.map((link, i) => {\n\t\t\tconst number = i + 1;\n\t\t\tconst title = number < 10 ? `press ${number} to open link` :\n\t\t\t\tnumber === 10 ? 'press 0 to open link' :\n\t\t\t\t`press ${niceKeyCode(module.options.toggleCmdLine.value)} then ${number} and Enter to open link`;\n\n\t\t\tconst annotation = string.html`<span class=\"noCtrlF keyNavAnnotation\" data-text=\"[${number}]\" title=\"${title}\"></span>`;\n\n\t\t\tif (module.options.linkNumberPosition.value === 'right') link.after(annotation);\n\t\t\telse link.before(annotation);\n\n\t\t\treturn { annotation, link };\n\t\t});\n}\n\nfunction toggleKeyNavHelp() {\n\tconst slideSpeed = 400;\n\tif (!drawHelp().attr('shown')) {\n\t\tdrawHelp().attr('shown', 'false');\n\t\tdrawHelp().css({ right: '-350px' });\n\t\tdrawHelp().show();\n\t}\n\tif (drawHelp().attr('shown') === 'true') {\n\t\tdrawHelp().animate({\n\t\t\tright: '-350px',\n\t\t}, slideSpeed);\n\t\tdrawHelp().attr('shown', 'false');\n\t} else {\n\t\tdrawHelp().animate({\n\t\t\tright: '20px',\n\t\t}, slideSpeed);\n\t\tdrawHelp().attr('shown', 'true');\n\t}\n}\n\nconst drawHelp = _.once(() => {\n\tconst keys = filterMap(getActiveCommandOptions(), opt => {\n\t\tlet keyCode\t= niceKeyCode(opt.value);\n\t\tif (opt.goMode && module.options.useGoMode.value) {\n\t\t\tkeyCode = `${niceKeyCode(module.options.goMode.value)}  ${keyCode}`;\n\t\t}\n\n\t\treturn [{ keyCode, description: i18n(opt.description) }];\n\t});\n\n\treturn $(string.html`\n\t\t<div id=\"keyHelp\">\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr><th>Key</th><th>Function</th></tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t${keys.map(({ keyCode, description }) => string._html`\n\t\t\t\t\t\t<tr><td>${keyCode}</td><td>${description}</td></tr>\n\t\t\t\t\t`)}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t`).appendTo(document.body);\n});\n\nfunction getLinkKeys() {\n\tconst altModeModifier = module.options.linkNumberAltModeModifier.value;\n\tconst keys = [];\n\n\tfunction addKey(key, index) {\n\t\tkeys.push({\n\t\t\tvalue: [key, false, false, false, false], // number\n\t\t\tcallback() { openLink(index); },\n\t\t});\n\n\t\tif (altModeModifier !== 'none') {\n\t\t\tkeys.push({\n\t\t\t\tvalue: [key, altModeModifier === 'alt', false, altModeModifier === 'shift', false], // alt-number | shift-number\n\t\t\t\tcallback() { openLink(index, true); },\n\t\t\t});\n\t\t}\n\t}\n\n\tif (module.options.linkNumbers.value) {\n\t\t[49, 50, 51, 52, 53, 54, 55, 56, 57, 48].forEach(addKey); // numbers 1 2 3 4 5 6 7 8 9 0\n\t\t[97, 98, 99, 100, 101, 102, 103, 104, 105, 96].forEach(addKey); // numpad 1 2 3 4 5 6 7 8 9 0\n\t}\n\n\treturn keys;\n}\n\nconst getActiveCommandOptions = _.once(() =>\n\tfilterMap(Object.values(module.options), option => {\n\t\tif (\n\t\t\toption.type === 'keycode' &&\n\t\t\toption.callback &&\n\t\t\t(!option.dependsOn || option.dependsOn(module.options)) &&\n\t\t\t(!option.include || matchesPageLocation(option.include)) &&\n\t\t\t(!option.mustBeLoggedIn || loggedInUser()) &&\n\t\t\t(!option.requiresModules || option.requiresModules.every(Modules.isRunning))\n\t\t) {\n\t\t\treturn [option];\n\t\t}\n\t}),\n);\n\nconst _commandLookup = _.once(() => {\n\tconst lookup = {};\n\tfor (const option of [...getActiveCommandOptions(), ...getLinkKeys()]) {\n\t\tconst hash = hashKeyArray(option.value);\n\t\tif (!lookup[hash]) {\n\t\t\tlookup[hash] = [];\n\t\t}\n\n\t\tlookup[hash].push(option);\n\t}\n\treturn lookup;\n});\n\nfunction handleKeyPress(e) {\n\tif (EasterEgg.konamiActive()) return;\n\n\t// Allow navigation on other elements when input has no (apparent) default behavior\n\tif (document.activeElement && ['A', 'BUTTON'].includes(document.activeElement.tagName)) {\n\t\tconst hasDefaultBehavior = [NAMED_KEYS.Tab, NAMED_KEYS.Enter,\n\t\t\tNAMED_KEYS.Space].includes(e.key);\n\t\tif (hasDefaultBehavior) return;\n\t} else if (document.activeElement && document.activeElement.tagName !== 'BODY') {\n\t\treturn;\n\t}\n\n\tconst hash = hashKeyEvent(e);\n\tconst options = (_commandLookup()[hash] || [])\n\t\t.filter(v => {\n\t\t\tif (v.goMode) return module.options.useGoMode.value === goModeActive;\n\t\t\telse return !goModeActive;\n\t\t});\n\n\tif (options.length) {\n\t\thandleCallbacks(options);\n\t\te.preventDefault();\n\t\te.target.blur();\n\t}\n}\n\nasync function handleCallbacks(options) {\n\tif (options.some(v => v.goMode)) {\n\t\tif (goModeActive) toggleGoMode();\n\n\t\tif (options.length > 1) {\n\t\t\tconst shortcut = niceKeyCode(options[0].value);\n\t\t\toptions = await promptUniqueShortcut(shortcut, options);\n\t\t}\n\t}\n\n\tfor (const option of options) {\n\t\ttry {\n\t\t\toption.callback();\n\t\t} catch (e) {\n\t\t\tconsole.error('Could not execute callback', i18n(option.title), e);\n\t\t}\n\t}\n}\n\nconst promptUniqueShortcut = _.memoize(async (shortcut, options: any) => {\n\tconst question = i18n('keyboardNavAmbiguousShortcutPrompt', i18n(module.moduleName), `<i>${shortcut}</i>`, '<br><br>', `<i>${shortcut}</i>`);\n\tconst optionButtons = options.map(option =>\n\t\t[option, $(`<button style=\"width: 100%; margin-top: 2px;\">${i18n(option.description)}</button>`).get(0)],\n\t);\n\tconst followUp = i18n('keyboardNavAmbiguousShortcutPromptFollowUp', SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, i18n(module.moduleName)));\n\n\tconst message = $(`<div>${question}</div>`)\n\t\t.append(optionButtons.map(([, button]) => button))\n\t\t.append(`<br><br><small>(${followUp})</small>`)\n\t\t.get(0);\n\n\tconst notification = Notifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\theader: 'Ambiguous shortcut',\n\t\tmessage,\n\t\tnoDisable: true,\n\t\tcloseDelay: Infinity,\n\t});\n\n\tconst preservedOption = await Promise.race(\n\t\toptionButtons.map(([option, button]) => waitForEvent(button, 'click').then(() => option)),\n\t);\n\n\tfor (const option of _.without(options, preservedOption)) {\n\t\toption.value = [-1, false, false, false, false];\n\t\tOptions.save(option);\n\t}\n\n\tnotification.close();\n\n\treturn [preservedOption];\n});\n\nfunction getSelected(): Thing {\n\tconst selected = SelectedThing.current;\n\tif (!selected) throw new Error('A entry must be selected');\n\tif (!selected.isVisible()) throw new Error('Entry must be visible');\n\treturn selected;\n}\n\nconst ASSERT = true;\nconst NOASSERT = false;\n\nfunction assertElement(element): HTMLElement {\n\tif (!element) throw new Error('Element not available');\n\treturn element;\n}\n\nfunction getFirstElementInThingByQuery(query: string, assertExistance: boolean, thing = getSelected()) {\n\tconst element = thing.entry.querySelector(query);\n\treturn assertExistance ? assertElement(element) : element;\n}\n\nfunction getElementsInThingByQuery(query: string, assertLength: boolean, thing = getSelected()) {\n\tconst elements = Array.from(thing.entry.querySelectorAll(query));\n\tif (assertLength) assertElement(elements[0]);\n\treturn elements;\n}\n\nfunction getMostVisibleElementInThingByQuery(query, assertLength, thing) {\n\treturn _.maxBy(getElementsInThingByQuery(query, assertLength, thing), getPercentageVisibleYAxis);\n}\n\nfunction hideLink(selected = getSelected()) {\n\tconst hide = assertElement(selected.getHideElement());\n\n\t// Hide will collapse expandos, so move down first in order for mediaBrowse to use correct state\n\tif (module.options.onHideMoveDown.value) {\n\t\tSelectedThing.move('down', { allowMediaBrowse: true, scrollStyle: 'none' }, moveDownFallback);\n\t}\n\n\tclick(hide);\n}\n\nfunction followSubreddit(newWindow = false, selected = getSelected()) {\n\tconst a = downcast(assertElement(selected.getSubredditLink()), HTMLAnchorElement);\n\tnavigateTo(a.href, { newWindow, leaveNP: true });\n}\n\nfunction followProfile(newWindow = false, selected = getSelected()) {\n\tnavigateTo(selected.getAuthorUrl(), { newWindow, leaveNP: true });\n}\n\nfunction toggleChildren(selected = getSelected()) {\n\tif (selected.element.classList.contains('link')) return;\n\n\tclick(assertElement(\n\t\t// 'continue this thread' links\n\t\tgetFirstElementInThingByQuery('span.deepthread > a', NOASSERT, selected) ||\n\t\t// check if this is a \"show more comments\" box, or just contracted content...\n\t\tgetFirstElementInThingByQuery('span.morecomments > a', NOASSERT, selected) ||\n\t\t// find out if this is a collapsed or uncollapsed view...\n\t\tgetFirstElementInThingByQuery('a.expand', NOASSERT, selected),\n\t));\n}\n\nfunction imageResize({ factor = 1, removeHeightRestriction = false }: {| factor?: number, removeHeightRestriction?: boolean |}) {\n\tconst mostVisible = getMostVisibleElementInThingByQuery('.res-media-zoomable', ASSERT);\n\tif (removeHeightRestriction) mostVisible.style.maxHeight = 'none';\n\tShowImages.resize(mostVisible, mostVisible.clientWidth * factor);\n}\n\nfunction imageMove(deltaX, deltaY) {\n\tconst mostVisible = getMostVisibleElementInThingByQuery('.res-media-movable', ASSERT);\n\tShowImages.move(mostVisible, deltaX, deltaY);\n}\n\nfunction navigateGallery(direction: 'previous' | 'next') {\n\tconst gallery = getMostVisibleElementInThingByQuery('.res-gallery', ASSERT);\n\tassertElement(gallery.querySelector(`.res-step-${direction}`)).click();\n\tif (module.options.scrollOnGalleryNavigate.value) {\n\t\tscrollToElement(assertElement(gallery.querySelector('.res-gallery-pieces')), null, { scrollStyle: 'directional', restrictDirectionTo: 'up' });\n\t}\n}\n\nfunction followLink(newWindow = false, selected = getSelected()) {\n\tif (isPageType('comments') && !selected.element.classList.contains('link')) return;\n\n\tconst a = selected.getPostLink();\n\tnavigateTo(a.href, { newWindow });\n}\n\nfunction followLinkByRank(num) {\n\tconst target = Thing.visibleThings().find(v => v.getRank() === num);\n\tif (!target) throw new Error(`Could not find visible entry at rank ${num}`);\n\tSelectedThing.set(target);\n\tfollowLink();\n}\n\nfunction followPermalink(newWindow = false) {\n\tconst a = downcast(getFirstElementInThingByQuery('a.bylink', ASSERT), HTMLAnchorElement);\n\tnavigateTo(a.href, { newWindow });\n}\n\nfunction followComments(newWindow = false, selected = getSelected()) {\n\tconst a = selected.getCommentsLink();\n\tnavigateTo(a.href, { newWindow });\n}\n\nfunction vote(way: 'downmod' | 'upmod', preventToggle = false, selected = getSelected()) {\n\tconst button = assertElement(way === 'upmod' ? selected.getUpvoteButton() : selected.getDownvoteButton());\n\n\tif (button.classList.contains('archived')) {\n\t\t// do nothing\n\t} else if (NoParticipation.isVotingBlocked()) {\n\t\tNoParticipation.notifyNoVote();\n\t} else if (!preventToggle || !button.classList.contains(way)) {\n\t\tclick(button);\n\t}\n\n\tif (selected.isComment()) {\n\t\tif (module.options.onVoteCommentMoveDown.value) module.options.moveDownComment.callback();\n\t} else {\n\t\tif (module.options.onVoteMoveDown.value) module.options.moveDown.callback();\n\t}\n}\n\nfunction reply(selected = getSelected()) {\n\tif (selected.element.classList.contains('link') && isPageType('comments')) {\n\t\t// Reply to OP, but only if a reply form is available\n\t\tconst $target = $('.usertext-edit textarea[name=text]:first');\n\t\tif ($target.filter(':visible').length) {\n\t\t\t$target.focus();\n\t\t\treturn;\n\t\t}\n\t}\n\n\tclick(assertElement(\n\t\t// User can reply directly here, so open/focus the reply form\n\t\tgetFirstElementInThingByQuery('.buttons a[onclick*=reply]', NOASSERT, selected) ||\n\t\t// User cannot reply directly from this page, so go to where they can reply\n\t\tgetFirstElementInThingByQuery('.buttons a.comments, .buttons a.bylink', NOASSERT, selected),\n\t));\n}\n\nfunction navigateTo(href, options: {| newWindow?: boolean, leaveNP?: boolean |}) {\n\tif (\n\t\toptions.leaveNP &&\n\t\tModules.isEnabled(NoParticipation) &&\n\t\tNoParticipation.module.options.escapeNP.value\n\t) {\n\t\thref = NoParticipation.nonNpLocation(href);\n\t}\n\n\tif (options.newWindow) {\n\t\topenNewTab(href, module.options.followLinkNewTabFocus.value);\n\t} else {\n\t\tlocation.href = href;\n\t}\n}\n\nconst goModePanel = _.once(() => {\n\tconst goModes = getActiveCommandOptions()\n\t\t.filter(opt => opt.goMode)\n\t\t.map(opt => ({ key: i18n(opt.title), niceKeyCode: niceKeyCode(opt.value) }));\n\n\treturn $(string.html`\n\t\t<div id=\"goModePanel\" class=\"RESDialogSmall\">\n\t\t\t<h3>Press a key to go:</h3>\n\t\t\t<div class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t\t<div class=\"RESDialogContents\">\n\t\t\t\t<table>\n\t\t\t\t\t${goModes.map(({ niceKeyCode, key }) => string._html`\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>${niceKeyCode}</td>\n\t\t\t\t\t\t\t<td class=\"arrow\">&rarr;</td>\n\t\t\t\t\t\t\t<td>${key}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t`)}\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t`)\n\t\t.find('.RESCloseButton').click(toggleGoMode)\n\t\t.end();\n});\n\nlet goModeActive = false;\n\nfunction toggleGoMode() {\n\tgoModeActive = !goModeActive;\n\tif (goModeActive) {\n\t\t$(document.body).on('keyup', handleGoModeEscapeKey);\n\t\tgoModePanel().appendTo(document.body).fadeIn();\n\t} else {\n\t\tgoModePanel().fadeOut();\n\t\t$(document.body).off('keyup', handleGoModeEscapeKey);\n\t}\n}\n\nfunction handleGoModeEscapeKey(event: KeyboardEvent) {\n\tif (event.key === NAMED_KEYS.Escape) {\n\t\ttoggleGoMode();\n\t}\n}\n\nfunction moveDownFallback() {\n\tconst bump = Modules.isRunning(NeverEndingReddit) &&\n\t\t(\n\t\t\t!SelectedThing.current ||\n\t\t\t[SelectedThing.current, undefined].includes(_.last(Thing.visibleThings()))\n\t\t);\n\tif (bump) NeverEndingReddit.loadNextPage({ scrollToLoadWidget: true });\n}\n\nfunction openLink(index, altMode = false) {\n\tconst link = linkAnnotations[index] && linkAnnotations[index].link;\n\tif (!link) throw Error(`Link annotation ${index} is not available`);\n\n\tconst expando = ShowImages.getLinkExpando(link);\n\tif (expando && (module.options.linkToggleExpando.value !== altMode)) {\n\t\tclick(expando.button);\n\t} else if (SettingsNavigation.isSettingsUrl(link.href)) {\n\t\tSettingsNavigation.update(link);\n\t} else if (module.options.linkNewTab.value) {\n\t\topenNewTab(link.href, module.options.followLinkNewTabFocus.value);\n\t} else {\n\t\tlocation.href = link.href;\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { RES_SETTINGS_HASH } from '../constants/urlHashes';\nimport { guiders } from '../vendor/guiders';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport {\n\tCreateElement,\n\telementInViewport,\n\tmutex,\n\tniceKeyCode,\n\tpositiveModulo,\n\tDAY,\n\tstring,\n} from '../utils';\nimport { Storage, i18n } from '../environment';\nimport * as PenaltyBox from './penaltyBox';\nimport * as KeyboardNav from './keyboardNav';\nimport * as Menu from './menu';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('RESTips');\n\nmodule.moduleName = 'resTipsName';\nmodule.category = 'aboutCategory';\nmodule.description = 'resTipsDesc';\nmodule.options = {\n\tmenuItem: {\n\t\ttitle: 'RESTipsMenuItemTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'RESTipsMenuItemDesc',\n\t},\n\tdailyTip: {\n\t\ttitle: 'RESTipsDailyTipTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'RESTipsDailyTipDesc',\n\t},\n\tnewFeatureTips: {\n\t\ttitle: 'RESTipsNewFeatureTipsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'RESTipsNewFeatureTipsDesc',\n\t},\n};\n\n// Many of the tips refers to modules that are disabled in the redesign\n// so avoid confusing users\nmodule.include = ['r2'];\n\nconst featureTipsStorage = Storage.wrapPrefix('RESTips.featureTips.', () => ({ enabled: true }));\nconst lastTooltipStorage = Storage.wrap('RESLastToolTip', 0);\n\nmodule.contentStart = () => {\n\tif (module.options.menuItem.value) {\n\t\tMenu.addMenuItem(\n\t\t\t() => string.html`<span>${i18n('tipsAndTricks')}</span>`,\n\t\t\t() => { showOrdinaryTip('random'); },\n\t\t);\n\t}\n};\n\nlet allowFeatureTips;\nconst featureTips: Map<string, Tip> = new Map();\nconst featureTipReadyPromise = new Promise(resolve => { allowFeatureTips = () => resolve(true); });\n\nmodule.afterLoad = async () => {\n\tconst showsDailyTip = module.options.dailyTip.value && await dailyTip();\n\tif (module.options.newFeatureTips.value && !showsDailyTip) allowFeatureTips();\n};\n\nconst newFeatureTipsCheckbox = _.once(() =>\n\t$('<label><input type=\"checkbox\" name=\"disableNewFeatureTipsCheckbox\" checked />Show these tips when new features appear</label>')\n\t\t.click((e: Event) => { module.options.newFeatureTips.value = (e.currentTarget.querySelector('input'): any).checked; Options.save(module.options.newFeatureTips); }),\n);\n\n// memoize: prevent the same tip from being added multiple times\nexport const addFeatureTip = _.memoize(async (id: string, tip: Tip) => {\n\ttip.onHide = () => { featureTipsStorage.set(id, { enabled: false }); };\n\n\tfeatureTips.set(id, tip);\n\t// Make the tip accessible via daily tips / tips & tricks\n\ttips.push(tip);\n\n\tif (\n\t\t!tip.quiet &&\n\t\tawait featureTipReadyPromise &&\n\t\tawait featureTipsStorage.get(id).then(({ enabled }) => enabled)\n\t) showFeatureTip(id);\n});\n\nexport const showFeatureTip = mutex((id: string) => {\n\tconst tip = featureTips.get(id);\n\n\tif (!tip) {\n\t\tconsole.error('Feature tip is not added', id);\n\t\treturn;\n\t}\n\n\tif (tip.attachTo instanceof Element && !elementInViewport(tip.attachTo)) {\n\t\t// Usually happens when subreddit CSS for some reason hides the element\n\t\tconsole.log('Ignoring feature tip whose attachment element is not visible:', tip);\n\t\treturn;\n\t}\n\n\treturn showTip(tip, {\n\t\ttitle: 'New feature',\n\t\tclassString: 'res-featureTip',\n\t\tbuttonCustomHTML: newFeatureTipsCheckbox(),\n\t\tbuttons: [],\n\t});\n});\n\nasync function dailyTip(): Promise<boolean> { // `true` if daily tip is being shown\n\tconst lastCheck = await lastTooltipStorage.get();\n\tconst now = Date.now();\n\tconst delay = PenaltyBox.penalizedDelay(module.moduleID, 'dailyTip', {\n\t\tvalue: DAY,\n\t\tdefault: DAY,\n\t});\n\tif ((now - lastCheck) > delay) {\n\t\t// mark off that we've displayed a new tooltip\n\t\tlastTooltipStorage.set(now);\n\t\tif (lastCheck === 0) {\n\t\t\tawait showOrdinaryTip();\n\t\t} else {\n\t\t\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'dailyTip', _.clamp(PenaltyBox.MAX_PENALTY / tips.length, 3, 8));\n\t\t\tawait showOrdinaryTip('random');\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction generateContent({ message, keyboard, options }: Tip) {\n\tconst description = [];\n\n\tif (typeof message === 'function') description.push(message());\n\telse if (typeof message === 'string') description.push(message);\n\n\tif (keyboard) {\n\t\t// TODO: microtemplate\n\t\tconst disabled = !Modules.isEnabled(KeyboardNav);\n\t\tdescription.push(`<h2 class=\"keyboardNav${disabled ? 'keyboardNavDisabled' : ''}\">`);\n\t\tdescription.push(`Keyboard Navigation${disabled ? ' (disabled)' : ''}`);\n\t\tdescription.push('</h2>');\n\n\t\tconst keyboardTable = CreateElement.table(keyboard, generateContentKeyboard);\n\t\tif (keyboardTable) description.push(keyboardTable);\n\t}\n\n\tif (options) {\n\t\tfor (const option of options) {\n\t\t\tdescription.push('<h2 class=\"settingsPointer\">');\n\t\t\tdescription.push('<span class=\"gearIcon\"></span> RES Settings');\n\t\t\tdescription.push('</h2>');\n\n\t\t\tconst optionTable = CreateElement.table(option, generateContentOption);\n\t\t\tif (optionTable) description.push(optionTable);\n\t\t}\n\t}\n\n\treturn $('<div />').html(description.join('\\n'));\n}\n\nfunction generateContentKeyboard(keyboardNavOption: string) {\n\tconst keyCode = niceKeyCode(KeyboardNav.module.options[keyboardNavOption].value);\n\tif (!keyCode) return false;\n\n\tconst description = [];\n\tdescription.push('<tr>');\n\tdescription.push(`<td><code>${keyCode.toLowerCase()}</code></td>`);\n\tdescription.push(`<td>${keyboardNavOption}</td>`);\n\tdescription.push('</tr><tr>');\n\tdescription.push('<td>&nbsp;</td>'); // for styling\n\tdescription.push(`<td>${i18n(KeyboardNav.module.options[keyboardNavOption].description)}</td>`);\n\tdescription.push('</tr>');\n\n\treturn description;\n}\n\nfunction generateContentOption(option) {\n\tconst mod = Modules.getUnchecked(option.moduleID);\n\tif (!mod) return false;\n\n\tconst description = [];\n\n\tdescription.push('<tr>');\n\tdescription.push(`<td>${i18n(mod.category)}</td>`);\n\n\tdescription.push('<td>');\n\tdescription.push(SettingsNavigation.makeUrlHashLink(option.moduleID, undefined, i18n(mod.moduleName)));\n\tdescription.push('</td>');\n\n\tdescription.push('<td>');\n\tdescription.push(option.key ? SettingsNavigation.makeUrlHashLink(option.moduleID, option.key) : '&nbsp;');\n\tdescription.push('</td>');\n\n\tif (option.key && mod.options[option.key]) {\n\t\tdescription.push('</tr><tr>');\n\t\tdescription.push(`<td colspan=\"3\">${i18n(mod.options[option.key].description)}</td>`);\n\t}\n\tdescription.push('</tr>');\n\n\treturn description;\n}\n\nexport type Tip = {|\n\tmessage: string | () => string,\n\ttitle?: string,\n\tattachTo?: string | HTMLElement,\n\tposition?: number,\n\tkeyboard?: string,\n\tcontinuation?: () => string,\n\tquiet?: boolean,\n\tonHide?: () => void,\n\toptions?: Array<{|\n\t\tmoduleID: string,\n\t\tkey?: string,\n\t|}>,\n|};\n\nconst tips: Array<Tip> = [{\n\tmessage: `\n\t\tWelcome to RES, a community-driven unofficial browser extension for Reddit. You can turn on, turn off, or change options for RES features using the gear icon link at the top right.\n\t\t<p>For feature requests, or just help getting a question answered, be sure to subscribe to <a href=\"/r/Enhancement\">/r/Enhancement</a>.</p>\n\t\t<p>If RES has enhanced your reddit experience, please show your appreciation by <a href=\"${RES_SETTINGS_HASH}/contribute\">donating or contributing!</a></p>\n\t\t`,\n\tattachTo: '#RESSettingsButton',\n\tposition: 5,\n}, {\n\tmessage: 'Click the tag icon next to a user to tag that user with any name you like - you can also color code the tag.',\n\tattachTo: '.RESUserTagImage',\n\tposition: 3,\n\toptions: [{ moduleID: 'userTagger' }],\n}, {\n\tmessage: 'If your RES data gets deleted or you move to a new computer, you can restore it from backup. <br><br><b>Firefox</b> especially sometimes loses your RES settings and data. <br><br><a href=\"/r/Enhancement/wiki/backing_up_res_settings\" target=\"_blank\" rel=\"noopener noreferer\">Learn where RES stores your data and settings</a></p>',\n\ttitle: 'Back up your RES data!',\n}, {\n\tmessage: 'Don\\'t forget to subscribe to <a href=\"/r/Enhancement\">/r/Enhancement</a> to keep up to date on the latest versions of RES or suggest features! For bug reports, submit to <a href=\"/r/RESIssues\">/r/RESIssues</a>',\n}, {\n\tmessage: 'Don\\'t want to see posts containing certain keywords? Want to filter out certain subreddits from /r/all? Try the filteReddit module!',\n\toptions: [{ moduleID: 'filteReddit' }],\n}, {\n\tmessage: 'Keyboard Navigation is one of the most underutilized features in RES. You should try it!',\n\toptions: [{ moduleID: 'keyboardNav' }],\n\tkeyboard: 'toggleHelp',\n}, {\n\tmessage: 'Did you know you can configure the appearance of a number of things in RES? For example: Selected Entry lets you configure the look of the \"selected\" box, and commentBoxes lets you configure the borders / shadows.',\n\toptions: [{\n\t\tmoduleID: 'selectedEntry',\n\t\tkey: 'setColors',\n\t}, {\n\t\tmoduleID: 'commentStyle',\n\t\tkey: 'commentBoxes',\n\t}],\n}, {\n\tmessage: 'Do you subscribe to a ton of subreddits? Give the subreddit tagger a try; it can make your homepage a bit more readable.',\n\toptions: [{\n\t\tmoduleID: 'subRedditTagger',\n\t}],\n}, {\n\tmessage: 'If you haven\\'t tried it yet, Keyboard Navigation is great. Just hit ? while browsing for instructions.',\n\toptions: [{\n\t\tmoduleID: 'keyboardNav',\n\t}],\n\tkeyboard: 'toggleHelp',\n}, {\n\tmessage: 'Roll over a user\\'s name to get information about them such as their karma, and how long they\\'ve been a reddit user.',\n\toptions: [{\n\t\tmoduleID: 'userInfo',\n\t\tkey: 'hoverInfo',\n\t}],\n}, {\n\tmessage: 'Hover over the \"parent\" link in comments pages to see the text of the parent being referred to.',\n\toptions: [{\n\t\tmoduleID: 'showParent',\n\t}],\n}, {\n\tmessage: 'You can configure the color and style of the User Highlighter module if you want to change how the highlights look.',\n\toptions: [{\n\t\tmoduleID: 'userHighlight',\n\t}],\n}, {\n\tmessage: 'Not a fan of how comments pages look? You can change the appearance in the Style Tweaks module',\n\toptions: [{\n\t\tmoduleID: 'styleTweaks',\n\t}],\n}, {\n\tmessage: 'Don\\'t like the style in a certain subreddit? RES gives you a checkbox to disable styles individually - check the right sidebar!',\n}, {\n\tmessage: 'Looking for posts by submitter, post with photos, or posts in IAmA form? Try out the comment navigator.',\n}, {\n\tmessage: 'Have you seen the <a href=\"/r/Dashboard\">RES Dashboard</a>? It allows you to do all sorts of great stuff, like keep track of lower traffic subreddits, and manage your <a href=\"/r/Dashboard#userTaggerContents\">user tags</a> and <a href=\"/r/Dashboard#newCommentsContents\">thread subscriptions</a>!',\n\toptions: [{\n\t\tmoduleID: 'dashboard',\n\t}],\n}, {\n\tmessage: 'Sick of seeing these tips?  They only show up once every 24 hours, but you can disable that in the RES Tips and Tricks preferences.',\n\toptions: [{\n\t\tmoduleID: 'RESTips',\n\t}],\n}, {\n\tmessage: 'Did you know that there is now a \"keep me logged in\" option in the Account Switcher? Turn it on if you want to stay logged in to Reddit when using the switcher!',\n\toptions: [{\n\t\tmoduleID: 'accountSwitcher',\n\t\tkey: 'keepLoggedIn',\n\t}],\n}, {\n\tmessage: 'See that little [vw] next to users you\\'ve voted on?  That\\'s their vote weight - it moves up and down as you vote the same user up / down.',\n\toptions: [{\n\t\tmoduleID: 'userTagger',\n\t\tkey: 'vwNumber',\n\t}],\n}];\n\nconst dailyTipsCheckbox = _.once(() =>\n\t$(`<label><input type=\"checkbox\" name=\"disableDailyTipsCheckbox\" ${module.options.dailyTip.value ? 'checked' : ''} />Show these tips once every 24 hours</label>`)\n\t\t.click((e: Event) => { module.options.dailyTip.value = (e.currentTarget.querySelector('input'): any).checked; Options.save(module.options.dailyTip); }),\n);\n\nlet lastTip;\n\nfunction showOrdinaryTip(change?: 'random' | 'prev' | 'next') {\n\t// The more tips the user views, the more the next dailyTip can be delayed\n\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'dailyTip', 1);\n\n\tlet currTipIndex = Math.max(tips.indexOf(lastTip), 0);\n\tlet tip: ?Tip;\n\twhile (!tip || (tip.attachTo && !$(tip.attachTo).is(':visible'))) {\n\t\tif (change === 'random') currTipIndex = _.random(tips.length);\n\t\telse if (change === 'prev') currTipIndex -= 1;\n\t\telse if (change === 'next') currTipIndex += 1;\n\t\telse change = 'next'; // For next iteration\n\t\tcurrTipIndex = positiveModulo(currTipIndex, tips.length);\n\t\ttip = tips[currTipIndex];\n\t}\n\n\treturn showTip((tip: Tip), {\n\t\tbuttons: [{\n\t\t\tname: 'Prev',\n\t\t\tonclick: () => showOrdinaryTip('prev'),\n\t\t}, {\n\t\t\tname: 'Next',\n\t\t\tonclick: () => showOrdinaryTip('next'),\n\t\t}],\n\t\tonClose() { PenaltyBox.alterFeaturePenalty(module.moduleID, 'dailyTip', 4); },\n\t\tclassString: 'res-ordinaryTip',\n\t\tbuttonCustomHTML: dailyTipsCheckbox(),\n\t\ttitle: 'RES Tips and Tricks',\n\t});\n}\n\nfunction showTip(tip: Tip, guiderObj) {\n\tconst { continuation } = lastTip = tip;\n\tif (continuation) {\n\t\tconst origGuiderObj = { ...guiderObj };\n\t\tconst onclick = async () => {\n\t\t\tconst upcomingId = continuation();\n\t\t\tlet nextTip;\n\t\t\twhile (!(nextTip = featureTips.get(upcomingId))) {\n\t\t\t\tawait new Promise(r => setTimeout(r, 100)); // eslint-disable-line no-await-in-loop\n\t\t\t}\n\t\t\tshowTip(nextTip, origGuiderObj);\n\t\t};\n\t\tguiderObj.buttons = [...guiderObj.buttons, { name: 'More', onclick }];\n\t}\n\n\tconst attachTo: ?HTMLElement = tip.attachTo && $(tip.attachTo).get(0) || null;\n\n\t// Make the attachTo element navigatable even when e.g. dropdowns intersect the guider\n\tconst toggleIncreasedZIndex = state => { if (attachTo) attachTo.classList.toggle('restips-increased-z-index', state); };\n\n\treturn new Promise<void>(resolve => {\n\t\tguiders.hideAll();\n\t\tguiders.createGuider({\n\t\t\tid: `res-guider-${performance.now()}`, // guiders.js' randomization interval is [0..999], and merges buttons on collision\n\t\t\tcloseOnEscape: true,\n\t\t\txButton: true,\n\t\t\tdescription: generateContent(tip),\n\t\t\t...guiderObj,\n\t\t\t...tip,\n\t\t\tonHide() {\n\t\t\t\tif (tip.onHide) tip.onHide();\n\t\t\t\ttoggleIncreasedZIndex(false);\n\t\t\t\tresolve();\n\t\t\t},\n\t\t\tattachTo,\n\t\t});\n\t\ttoggleIncreasedZIndex(true);\n\t\tguiders.show();\n\t});\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { CreateElement } from '../utils';\n\nexport const module: Module<*> = new Module('about');\n\nmodule.moduleName = 'aboutName';\nmodule.category = 'aboutCategory';\nmodule.sort = -10;\nmodule.alwaysEnabled = true;\nmodule.description = 'aboutDesc';\n\nmodule.options = {\n\tpresets: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsPresets',\n\t\ttitle: 'aboutOptionsPresetsTitle',\n\t\ttext: CreateElement.icon(0xF142),\n\t\tcallback: { moduleID: 'presets' },\n\t},\n\tbackup: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsBackup',\n\t\ttitle: 'aboutOptionsBackupTitle',\n\t\ttext: CreateElement.icon(0xF059),\n\t\tcallback: { moduleID: 'backupAndRestore' },\n\t},\n\tsearchSettings: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsSearchSettings',\n\t\ttitle: 'aboutOptionsSearchSettingsTitle',\n\t\ttext: CreateElement.icon(0xF097),\n\t\tcallback: { moduleID: 'search' },\n\t},\n\tannouncements: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsAnnouncements',\n\t\ttitle: 'aboutOptionsAnnouncementsTitle',\n\t\ttext: CreateElement.icon(0xF108),\n\t\tcallback: '/r/RESAnnouncements/new',\n\t},\n\tdonate: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsDonate',\n\t\ttitle: 'aboutOptionsDonateTitle',\n\t\ttext: CreateElement.icon(0xF104),\n\t\tcallback: 'https://redditenhancementsuite.com/contribute/',\n\t},\n\tbugs: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsBugs',\n\t\ttitle: 'aboutOptionsBugsTitle',\n\t\ttext: CreateElement.icon(0xF003),\n\t\tcallback: '/r/RESIssues/wiki/postanissue',\n\t},\n\tsuggestions: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsSuggestions',\n\t\ttitle: 'aboutOptionsSuggestionsTitle',\n\t\ttext: CreateElement.icon(0xF076),\n\t\tcallback: '/r/Enhancement',\n\t},\n\tfaq: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsFAQ',\n\t\ttitle: 'aboutOptionsFAQTitle',\n\t\ttext: CreateElement.icon(0xF0D3),\n\t\tcallback: '/r/Enhancement/wiki/index',\n\t},\n\tcode: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsCode',\n\t\ttitle: 'aboutOptionsCodeTitle',\n\t\ttext: CreateElement.icon(0xF063),\n\t\tcallback: 'https://github.com/honestbleeps/Reddit-Enhancement-Suite',\n\t},\n\tcontributors: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsContributors',\n\t\ttitle: 'aboutOptionsContributorsTitle',\n\t\ttext: CreateElement.icon(0xF048),\n\t\tcallback: 'https://redditenhancementsuite.com/about',\n\t},\n\tprivacy: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsPrivacy',\n\t\ttitle: 'aboutOptionsPrivacyTitle',\n\t\ttext: CreateElement.icon(0xF0C2),\n\t\tcallback: '/r/Enhancement/wiki/about/privacy',\n\t},\n\tlicense: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsLicense',\n\t\ttitle: 'aboutOptionsLicenseTitle',\n\t\ttext: CreateElement.icon(0xF0D3),\n\t\tcallback: 'https://www.gnu.org/licenses/gpl-3.0.html',\n\t},\n};\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Metadata from '../core/metadata';\nimport { addFloater, DAY, HOUR, isCurrentSubreddit, CreateElement, string } from '../utils';\nimport { Storage, ajax, openNewTab, i18n } from '../environment';\nimport type { RedditListing, RedditLink } from '../types/reddit';\nimport * as Menu from './menu';\n\nexport const module: Module<*> = new Module('announcements');\n\nmodule.moduleName = 'announcementsName';\nmodule.category = 'coreCategory';\nmodule.description = 'announcementsDesc';\nmodule.hidden = true;\n\nconst subreddit = Metadata.announcementsSubreddit;\nconst sourceUrl = `/r/${subreddit}/new.json?limit=1`;\nconst viewUrl = `/r/${subreddit}/new`;\n\nconst markedReadDate = Storage.wrap('RESmodules.announcement.markedReadDate', 0);\nconst lastUnreadDate = Storage.wrap('RESmodules.announcement.lastUnreadDate', 0);\nconst lastID = Storage.wrap('RESModules.announcement.lastAnnouncementID', (null: null | string));\n\nconst archiveAfter = 31 * DAY;\nconst pizzazzAfter = 29 * DAY;\n// const notifyAgainAfter = 4 * DAY;\nconst recheckPostAfter = HOUR;\n\nconst now = Date.now();\n\nlet biff;\n\nmodule.go = async () => {\n\tif (isCurrentSubreddit(subreddit)) {\n\t\tsetMarkedRead();\n\t} else {\n\t\tconst post = await postForNotification();\n\t\tif (post) {\n\t\t\tnotify(post);\n\t\t}\n\t}\n};\n\nasync function postForNotification() {\n\tconst post = await getLatestPost();\n\tif (!post) {\n\t\treturn false;\n\t}\n\tcacheLatestPost(post);\n\n\tconst result = await shouldNotify(post);\n\treturn result ? post : false;\n}\n\nasync function shouldNotify(post) {\n\tconst createdDate = post.created_utc * 1000;\n\n\tif (createdDate + archiveAfter <= now) {\n\t\t// archived\n\t\treturn false;\n\t}\n\n\tif (createdDate <= await markedReadDate.get()) {\n\t\t// posted before last \"marked read\"\n\t\treturn false;\n\t}\n\n\tif (!isPostRelevant(post)) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nconst notify = _.once(async post => {\n\tconst url = post.id ? `/comments/${post.id}` : viewUrl;\n\tconst withPizzazz = (await lastUnreadDate.get()) + pizzazzAfter < now;\n\tconst title = post.author ?\n\t\ti18n('announcementsNewPostByUser', subreddit, post.author) :\n\t\ti18n('announcementsNewPost', subreddit);\n\n\taddAnnouncementBiff(post, url, title, withPizzazz);\n\n\t// has the user ever seen a notification? (i.e. is this a fresh install?)\n\tconst hasSeenNotification = await lastUnreadDate.has();\n\tif (hasSeenNotification) {\n\t\t// showNotification(post, url); // TODO: Make this slightly less obnoxious\n\t\tMenu.addMenuItem(\n\t\t\t() => string.html`<span title=\"${title}\">\n\t\t\t\tnew announcement!\n\t\t\t\t<span data-action=\"preventOpenNewTab\" class=\"RESMenuItemButton res-icon\"></span> // TODO Restore title=\"i18n('announcementsMarkAsRead')\"\n\t\t\t</span>`,\n\t\t\te => {\n\t\t\t\tsetMarkedRead();\n\t\t\t\tif (e.target.closest('[data-action=\"preventOpenNewTab\"]')) return;\n\t\t\t\topenNewTab(url);\n\t\t\t},\n\t\t\t-8,\n\t\t);\n\t}\n});\n\nasync function cacheLatestPost(post) {\n\t// if the post is novel, mark the latest ID and unread date, even if we don't end up showing a notification\n\tif (post.id !== await lastID.get()) {\n\t\tlastID.set(post.id);\n\t\tlastUnreadDate.set(now);\n\t}\n}\n\n/*\nfunction showNotification(post, url) {\n\tNotifications.showNotification({\n\t\tmoduleID,\n\t\tnotificationID: post.id || subreddit,\n\t\tsticky: true,\n\t\tcooldown: notifyAgainAfter,\n\t\theader: `New post in /r/${subreddit}`,\n\t\tmessage: announcementsNotificationTemplate({ url, viewUrl, post })\n\t});\n}\n*/\n\nfunction addAnnouncementBiff(post, url, title, withPizzazz) {\n\tbiff = string.html`<a id=\"RESAnnouncementAlert\" class=\"${withPizzazz ? 'important' : ''} href=\"${url}\" target=\"_blank\">`;\n\tbiff.append(CreateElement.icon(0xF076, 'span', '', title));\n\tbiff.addEventListener('click', setMarkedRead);\n\n\taddFloater(biff, { container: 'inNavbar' });\n}\n\nasync function getLatestPost() {\n\tconst { data: { children: [{ data }] } } = (await ajax({\n\t\turl: sourceUrl,\n\t\ttype: 'json',\n\t\tcacheFor: recheckPostAfter,\n\t}): RedditListing<RedditLink>);\n\n\treturn data;\n}\n\nfunction setMarkedRead() {\n\tmarkedReadDate.set(now);\n\tif (biff) biff.remove();\n}\n\nfunction isPostRelevant(post) {\n\tif (!(/chrome|safari|firefox|opera|edge/i).test(post.title)) {\n\t\t// If post is not browser specific, post is relevant\n\t\treturn true;\n\t}\n\n\tif (post.title.toLowerCase().includes((process.env.BUILD_TARGET: any).toLowerCase())) {\n\t\t// If post mentions user's browser, post is relevant\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport { isPrivateBrowsing } from '../environment';\nimport { Thing, batch, isPageType, watchForThings } from '../utils';\nimport * as ThingHide from '../utils/thingHide';\nimport * as ReadComments from './readComments';\n\nexport const module: Module<*> = new Module('autoHide');\n\nmodule.moduleName = 'autoHideName';\nmodule.category = 'browsingCategory';\nmodule.description = 'autoHideDesc';\n\nmodule.options = {\n\tmustBeVisibleDuration: {\n\t\ttype: 'text',\n\t\tvalue: '2000',\n\t\tdescription: 'autoHideMustBeVisibleDurationDesc',\n\t\ttitle: 'autoHideMustBeVisibleDurationTitle',\n\t},\n\ttypes: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'All',\n\t\t\tvalue: '',\n\t\t}, {\n\t\t\tname: 'Only comments',\n\t\t\tvalue: 'comment',\n\t\t}, {\n\t\t\tname: 'Only link posts',\n\t\t\tvalue: 'post',\n\t\t}],\n\t\tvalue: 'comment',\n\t\tdescription: 'autoHideTypesDesc',\n\t\ttitle: 'autoHideTypesTitle',\n\t},\n};\n\nconst thingType = isPageType('comments', 'commentsLinklist') ? 'comment' : 'post';\n\nconst hidePost = batch(\n\tposts => ThingHide.send(ThingHide.HIDE, posts),\n\t{ size: 50, delay: 5000, flushBeforeUnload: true },\n);\n\nmodule.shouldRun = () => !isPrivateBrowsing();\n\nmodule.beforeLoad = () => {\n\tif (module.options.types.value && thingType !== module.options.types.value) return;\n\n\tif (thingType === 'comment' && !Modules.isRunning(ReadComments)) {\n\t\tconsole.warn('Auto-hiding comments requires readComments');\n\t\treturn;\n\t}\n\n\tconst mustBeVisibleDuration = parseFloat(module.options.mustBeVisibleDuration.value) || 0;\n\tconst pending: Map<Thing, TimeoutID> = new Map();\n\n\tconst io = new IntersectionObserver(entries => {\n\t\tfor (const { target, isIntersecting } of entries) {\n\t\t\tconst thing = Thing.checkedFrom(target);\n\t\t\tconst id = pending.get(thing);\n\t\t\tif (isIntersecting) {\n\t\t\t\tpending.set(thing, setTimeout(() => {\n\t\t\t\t\tif (thingType === 'post') hidePost(thing);\n\t\t\t\t\telse ReadComments.add(thing);\n\n\t\t\t\t\tio.unobserve(target);\n\t\t\t\t\tpending.delete(thing);\n\t\t\t\t}, mustBeVisibleDuration));\n\t\t\t} else if (id) {\n\t\t\t\tpending.delete(thing);\n\t\t\t\tclearTimeout(id);\n\t\t\t}\n\t\t}\n\t}, { threshold: [0], rootMargin: '0px 0px -30px 0px' });\n\n\twatchForThings([thingType], thing => {\n\t\tio.observe(thing.entry);\n\t});\n};\n","/* @flow */\nimport _ from 'lodash';\n\ntype Serialized = string;\ntype Deserialized = { +[string]: mixed };\n\ntype Version0Schema = {\n\tSCHEMA_VERSION: void, // no schema version was included\n\t[string]: string, // json-encoded\n};\n\ntype Version1Schema = {\n\tSCHEMA_VERSION: 1,\n\t[string]: mixed, // not stringified anymore\n};\n\ntype Version2Schema = {\n\tSCHEMA_VERSION: 2,\n\tdata: { +[string]: mixed }, // not sharing a namespace anymore\n};\n\nexport function serialize(settings: Deserialized): Serialized {\n\tconst object: Version2Schema = {\n\t\tSCHEMA_VERSION: 2,\n\t\tdata: settings,\n\t};\n\treturn JSON.stringify(object);\n}\n\nexport function deserialize(string: Serialized): Deserialized {\n\tconst object = JSON.parse(string);\n\tswitch (object.SCHEMA_VERSION) {\n\t\tdefault: {\n\t\t\tconst { SCHEMA_VERSION, ...encoded } = (object: Version0Schema);\n\t\t\treturn _.mapValues(encoded, (v, k) => {\n\t\t\t\ttry {\n\t\t\t\t\treturn JSON.parse(v);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.warn('Could not parse:', k, 'falling back to raw string.');\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tcase 1: {\n\t\t\tconst { SCHEMA_VERSION, ...settings } = (object: Version1Schema);\n\t\t\treturn settings;\n\t\t}\n\t\tcase 2: {\n\t\t\tconst { data: settings } = (object: Version2Schema);\n\t\t\treturn settings;\n\t\t}\n\t}\n}\n","/* @flow */\n\n/* eslint-disable no-unused-vars */\nexport class Provider {\n\tstatic key = 'abstract';\n\tstatic text = 'Abstract';\n\tstatic notifyBackupDone = true;\n\tstatic supportsAutomaticBackups = false;\n\n\tinit({}: *): Promise<Provider> { // eslint-disable-line no-empty-pattern\n\t\treturn Promise.resolve(this);\n\t}\n\n\tread(): Promise<string> { throw new Error('unimplemented'); }\n\n\twrite(data: string): Promise<void> { throw new Error('unimplemented'); }\n}\n","/* @flow */\n\nimport * as Metadata from '../../../core/metadata';\nimport { click, waitForEvent } from '../../../utils';\nimport { Provider } from './Provider';\n\nexport class File extends Provider {\n\tstatic key = 'file';\n\tstatic text = 'backupAndRestoreProvidersFile';\n\tstatic notifyBackupDone = false; // Browser indicates it by downloading the file\n\n\tread(): Promise<string> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst link = document.createElement('input');\n\t\t\tlink.type = 'file';\n\t\t\tlink.accept = '.resbackup';\n\t\t\tlink.addEventListener('change', () => {\n\t\t\t\tconst file = link.files[0];\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.onload = () => {\n\t\t\t\t\tresolve((reader.result: any));\n\t\t\t\t};\n\t\t\t\treader.readAsText(file);\n\t\t\t});\n\t\t\t// There is no proper way to detect when a file dialog is closed.\n\t\t\t// We must use setTimeout so that the change event fires first.\n\t\t\twaitForEvent(window, 'mousemove').then(() => setTimeout(() => {\n\t\t\t\tif (!link.files.length) reject(new Error('No file selected.'));\n\t\t\t}));\n\t\t\tlink.click();\n\t\t});\n\t}\n\n\twrite(data: string): Promise<void> {\n\t\tconst blob = new Blob([data], { type: 'application/json' });\n\t\t// Create element to trigger download\n\t\tconst link = document.createElement('a');\n\t\tlink.href = URL.createObjectURL(blob);\n\t\tconst date = new Date();\n\t\tlink.download = `RES-${date.getUTCFullYear()}-${date.getMonth() + 1}-${date.getDate()}-${Math.round(date.getTime() / 1000)}-${Metadata.version.replace(/\\./g, '_')}.resbackup`;\n\t\tclick(link);\n\t\treturn Promise.resolve();\n\t}\n}\n","/* @flow */\n\nimport { ajax, launchAuthFlow } from '../../../environment';\nimport { Alert } from '../../../utils';\nimport { Provider } from './Provider';\n\nconst FILE = 'res-storage.json';\nconst FOLDER = 'appDataFolder';\n\nexport class GoogleDrive extends Provider {\n\tstatic key = 'googledrive';\n\tstatic text = 'Google Drive';\n\tstatic supportsAutomaticBackups = true;\n\n\taccessToken: string;\n\n\tasync init({ googleLoginHint }: *): Promise<Provider> {\n\t\tthis.accessToken = await launchAuthFlow({\n\t\t\tdomain: `https://accounts.google.com/o/oauth2/v2/auth?login_hint=${googleLoginHint}`,\n\t\t\tclientId: '568759524377-nv0o2u4afuuulkfcjd7f6guf27qkevpt.apps.googleusercontent.com',\n\t\t\tscope: 'https://www.googleapis.com/auth/drive.appdata',\n\t\t\tpermissions: process.env.BUILD_TARGET === 'firefox' ? ['https://*.googleusercontent.com/download/drive/v3/*', 'https://content.googleapis.com/drive/v3/*'] : ['https://content.googleapis.com/drive/v3/*', 'https://accounts.google.com/o/oauth2/v2/auth'],\n\t\t}, async message => {\n\t\t\tawait Alert.open(`\n\t\t\t\t<p><b>RES needs your permission to backup to Google Drive.</b></p>\n\t\t\t\t<p>${message}</p>\n\t\t\t`, { cancelable: true });\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tasync getExistingFile() {\n\t\tconst { files: [file] } = await ajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: 'https://content.googleapis.com/drive/v3/files',\n\t\t\tquery: { fields: 'files(id)', q: `name=\"${FILE}\"`, spaces: FOLDER },\n\t\t\theaders: { Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t\treturn file;\n\t}\n\n\tasync getOrCreateFile() {\n\t\tconst existingFile = await this.getExistingFile();\n\t\tif (existingFile) return existingFile;\n\n\t\t// create new file\n\t\treturn ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: 'https://content.googleapis.com/drive/v3/files',\n\t\t\tquery: { fields: 'id' },\n\t\t\tdata: JSON.stringify({ name: FILE, parents: [FOLDER] }),\n\t\t\theaders: { 'Content-Type': 'application/json', Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t}\n\n\tasync read() {\n\t\tconst file = await this.getExistingFile();\n\t\tif (!file) throw new Error('Could not find backup.');\n\t\treturn ajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: `https://content.googleapis.com/drive/v3/files/${file.id}`,\n\t\t\tquery: { alt: 'media' },\n\t\t\theaders: { 'Content-Type': 'application/json', Authorization: `Bearer ${this.accessToken}` },\n\t\t});\n\t}\n\n\tasync write(data: string) {\n\t\tconst { id } = await this.getOrCreateFile();\n\t\tawait ajax({\n\t\t\tmethod: 'PATCH',\n\t\t\turl: `https://content.googleapis.com/upload/drive/v3/files/${id}`,\n\t\t\tquery: { uploadType: 'media' },\n\t\t\tdata,\n\t\t\theaders: { 'Content-Type': 'application/json', Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t}\n}\n","/* @flow */\n\nimport { ajax, launchAuthFlow } from '../../../environment';\nimport { Alert } from '../../../utils';\nimport { Provider } from './Provider';\n\nconst FILE = 'res-storage.json';\n\nexport class OneDrive extends Provider {\n\tstatic key = 'onedrive';\n\tstatic text = 'OneDrive';\n\tstatic supportsAutomaticBackups = true;\n\n\taccessToken: string;\n\n\tasync init({}: *): Promise<Provider> { // eslint-disable-line no-empty-pattern\n\t\tthis.accessToken = await launchAuthFlow({\n\t\t\tdomain: 'https://login.live.com/oauth20_authorize.srf',\n\t\t\tclientId: 'a1f95f80-0129-475b-9894-dfbb94f5ff1c',\n\t\t\tscope: 'onedrive.appfolder',\n\t\t\tpermissions: process.env.BUILD_TARGET === 'firefox' ? [] : ['https://login.live.com/oauth20_authorize.srf'],\n\t\t}, async message => {\n\t\t\tawait Alert.open(`\n\t\t\t\t<p><b>RES needs your permission to backup to OneDrive.</b></p>\n\t\t\t\t<p>${message}</p>\n\t\t\t`, { cancelable: true });\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tasync getMetadata() {\n\t\ttry {\n\t\t\treturn await ajax({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: `https://api.onedrive.com/v1.0/drive/special/approot:/${FILE}`,\n\t\t\t\t// `id` is necessary because the first thing selected can't start with @\n\t\t\t\t// and I have no idea how to escape it (quoting, backslash, etc. don't work...)\n\t\t\t\tquery: { select: 'id,@content.downloadUrl' },\n\t\t\t\theaders: { Authorization: `Bearer ${this.accessToken}` },\n\t\t\t\ttype: 'json',\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tif (e.status === 404) {\n\t\t\t\tthrow new Error('Could not find backup.');\n\t\t\t} else {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync read() {\n\t\tconst file = await this.getMetadata();\n\t\treturn ajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: file['@content.downloadUrl'],\n\t\t});\n\t}\n\n\tasync write(data: string) {\n\t\tawait ajax({\n\t\t\tmethod: 'PUT',\n\t\t\turl: `https://api.onedrive.com/v1.0/drive/special/approot:/${FILE}:/content`,\n\t\t\tdata,\n\t\t\theaders: { Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t}\n}\n","/* @flow */\n\nimport { ajax, launchAuthFlow } from '../../../environment';\nimport { Alert } from '../../../utils';\nimport { Provider } from './Provider';\n\nconst FILE = '/res-storage.json';\n\nexport class Dropbox extends Provider {\n\tstatic key = 'dropbox';\n\tstatic text = 'Dropbox';\n\tstatic supportsAutomaticBackups = true;\n\n\taccessToken: string;\n\n\tasync init({}: *): Promise<Provider> { // eslint-disable-line no-empty-pattern\n\t\tthis.accessToken = await launchAuthFlow({\n\t\t\tdomain: 'https://www.dropbox.com/oauth2/authorize',\n\t\t\tclientId: 'tdevom9o5xn0hnt',\n\t\t\tpermissions: process.env.BUILD_TARGET === 'firefox' ? [] : ['https://www.dropbox.com/oauth2/authorize'],\n\t\t}, async message => {\n\t\t\tawait Alert.open(`\n\t\t\t\t<p><b>RES needs your permission to backup to Dropbox.</b></p>\n\t\t\t\t<p>${message}</p>\n\t\t\t`, { cancelable: true });\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tasync read() {\n\t\ttry {\n\t\t\treturn await ajax({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: 'https://content.dropboxapi.com/2/files/download',\n\t\t\t\tquery: { arg: JSON.stringify({ path: FILE }) },\n\t\t\t\theaders: { Authorization: `Bearer ${this.accessToken}` },\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tif (e.status === 409) {\n\t\t\t\tthrow new Error('Could not find backup.');\n\t\t\t} else {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync write(data: string) {\n\t\tawait ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: 'https://content.dropboxapi.com/2/files/upload',\n\t\t\tquery: { arg: JSON.stringify({ path: FILE, mode: 'overwrite', mute: true }) },\n\t\t\tdata,\n\t\t\theaders: { 'Content-Type': 'application/octet-stream', Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t}\n}\n","/* @flow */\n\nexport { File } from './File';\nexport { GoogleDrive } from './GoogleDrive';\nexport { OneDrive } from './OneDrive';\nexport { Dropbox } from './Dropbox';\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { MINUTE, Alert, formatDateTime } from '../utils';\nimport { Storage, locale, i18n, multicast } from '../environment';\nimport { sendMessage } from '../environment/foreground/messaging';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\nimport { serialize, deserialize } from './backupAndRestore/serialization';\nimport * as Providers from './backupAndRestore/providers';\n\nexport const module: Module<*> = new Module('backupAndRestore');\n\nmodule.moduleName = 'backupName';\nmodule.category = 'aboutCategory';\nmodule.sort = -8;\nmodule.alwaysEnabled = true;\nmodule.description = 'backupDesc';\n\nmodule.options = {\n\tbackup: {\n\t\ttype: 'button',\n\t\tvalues: Object.values(Providers).map(p => ({\n\t\t\ttext: p.text,\n\t\t\tcallback: () => getProvider(p).then(backup),\n\t\t})),\n\t\tdescription: 'backupAndRestoreBackupDesc',\n\t\ttitle: 'backupAndRestoreBackupTitle',\n\t},\n\trestore: {\n\t\ttype: 'button',\n\t\tvalues: Object.values(Providers).map(p => ({\n\t\t\ttext: p.text,\n\t\t\tcallback: () => getProvider(p).then(restore),\n\t\t})),\n\t\tdescription: 'backupAndRestoreRestoreDesc',\n\t\ttitle: 'backupAndRestoreRestoreTitle',\n\t},\n\treloadWarning: {\n\t\ttype: 'enum',\n\t\tvalue: 'warn',\n\t\tvalues: [{\n\t\t\tname: 'backupAndRestoreReloadWarningNone',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'backupAndRestoreReloadWarningWarn',\n\t\t\tvalue: 'warn',\n\t\t}, {\n\t\t\tname: 'backupAndRestoreReloadWarningAuto',\n\t\t\tvalue: 'auto',\n\t\t}],\n\t\tdescription: 'backupAndRestoreReloadWarningDesc',\n\t\ttitle: 'backupAndRestoreReloadWarningTitle',\n\t},\n\tautomaticBackups: {\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [\n\t\t\t{\n\t\t\t\tname: 'backupAndRestoreAutomaticBackupsNone',\n\t\t\t\tvalue: 'none',\n\t\t\t},\n\t\t\t...Object.values(Providers)\n\t\t\t\t.filter(p => p.supportsAutomaticBackups)\n\t\t\t\t.map(p => ({\n\t\t\t\t\tname: p.text,\n\t\t\t\t\tvalue: p.key,\n\t\t\t\t})),\n\t\t],\n\t\tdescription: 'backupAndRestoreAutomaticBackupsDesc',\n\t\ttitle: 'backupAndRestoreAutomaticBackupsTitle',\n\t\tonChange() {\n\t\t\t// reset the last check time, in case we switched providers or turned it off\n\t\t\tlastCheckStorage.set(0);\n\t\t\thandleAutomaticSync();\n\t\t},\n\t},\n\twarnBeforeAutomaticRestore: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'backupAndRestoreWarnBeforeAutomaticRestoreDesc',\n\t\ttitle: 'backupAndRestoreWarnBeforeAutomaticRestoreTitle',\n\t\tdependsOn: options => options.automaticBackups.value !== 'none',\n\t},\n\tgoogleAccount: {\n\t\ttype: 'text',\n\t\tvalue: '',\n\t\tdescription: 'backupAndRestoreGoogleAccountDesc',\n\t\ttitle: 'backupAndRestoreGoogleAccountTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.afterLoad = async () => {\n\tawait handleAutomaticSync();\n};\n\nfunction getProvider(providerClass) {\n\treturn new providerClass().init({ // eslint-disable-line new-cap\n\t\tgoogleLoginHint: module.options.googleAccount.value,\n\t});\n}\n\nconst lastModifiedStorage = Storage.wrapPrefix('backup.lastModified.', () => (0: number));\nconst lastCheckStorage = Storage.wrap('backup.lastCheck', (0: number));\n\nasync function handleAutomaticSync() {\n\tconst automaticProviderKey = module.options.automaticBackups.value;\n\tif (automaticProviderKey === 'none') return;\n\n\tconst providerClass = Object.values(Providers).find(p => p.key === automaticProviderKey);\n\tif (!providerClass) throw new Error(`Can't find provider with key ${automaticProviderKey}`);\n\n\tconst now = Date.now();\n\tconst lastCheck = await lastCheckStorage.get();\n\tif ((now - lastCheck) < (15 * MINUTE)) return;\n\n\t// If multiple tabs pass the above check, only one will CAS successfully.\n\tif (!await lastCheckStorage.compareAndSet(lastCheck, now)) return;\n\t// From this point forward, it is guaranteed that only one tab can enter (per 15 minutes).\n\n\t// Create provider, get permissions, etc.\n\tconst provider = await getProvider(providerClass);\n\n\t// Read the remote backup to get the last modified time.\n\t// This has some overhead, but only 2x at worst.\n\t// (If we've reached this point, we're definitely going to be uploading or downloading the backup.)\n\t// ...and it guarantees that the modified time remains in sync with the backup.\n\tlet remoteBackup;\n\tconst lastModifiedKey = lastModifiedStorage._keyGen(providerClass.key);\n\ttry {\n\t\tremoteBackup = deserialize(await provider.read());\n\t} catch (e) {\n\t\tconsole.warn('Failed to read automatic backup:', e);\n\t\tremoteBackup = { [lastModifiedKey]: 0 };\n\t}\n\n\t// We must use a positive check for restoring, to fail safe if the remote backup has no modified time.\n\t// i.e. because `(undefined > 12345) === (undefined < 12345) === false`\n\tif ((remoteBackup[lastModifiedKey]: any) > await lastModifiedStorage.get(providerClass.key)) {\n\t\t// This will download the backup a second time, which in theory might download a newer version (which would be good, but quite rare).\n\t\t// Restoring should be the uncommon case, though, so this is left as-is (for now) for simplicity.\n\t\tawait restore(provider, module.options.warnBeforeAutomaticRestore.value ? 'automatic' : 'none');\n\t} else {\n\t\tawait backup(provider);\n\t}\n}\n\nasync function backup(provider) {\n\tconst { key, text, notifyBackupDone } = provider.constructor;\n\t// Write to lastModified and store it in the blob.\n\t// At this point, we know that there is no remote backup newer than local. [*]\n\t// In the worst case, the backup request fails, but this modified time has already been set to the current date.\n\t// That's still okay, because:\n\t// a. If a new remote backup happens, it should happen after this millisecond (because [*]), so its timestamp\n\t//    will be greater than this value, and will get restored as expected.\n\t// b. If no new remote backup happens, then our local modified time will still be equal to/ahead of the remote,\n\t//    and we'll just try backing up again after the next check.\n\t// (theoretically, there is a very short timeframe between the check for [*] and this backup,\n\t//  during which another client [but not this one, thanks to the lastCheck CAS] could create a new backup,\n\t//  but it should be very short [~1 second] and would require using two machines simultaneously, which we warn about)\n\tawait lastModifiedStorage.set(key, Date.now());\n\tconst storage = await Storage.getAll();\n\tawait provider.write(serialize(storage));\n\n\tif (notifyBackupDone) {\n\t\tNotifications.showNotification({\n\t\t\tmessage: i18n('backupAndRestoreSavedNotification', text),\n\t\t\tnotificationID: 'backupAndRestoreSaved',\n\t\t\tmoduleID: module.moduleID,\n\t\t\tcloseDelay: 1000,\n\t\t});\n\t}\n}\n\nasync function restore(provider, alertType: 'normal' | 'automatic' | 'none' = 'normal') {\n\tconst { key, name } = provider.constructor;\n\tconst data = await provider.read();\n\tconst storage = deserialize(data);\n\n\tconst isAutomatic = alertType === 'automatic';\n\n\tif (alertType !== 'none') {\n\t\tconst lastModifiedKey = lastModifiedStorage._keyGen(key);\n\t\tconst backupDate: void | number = (storage[lastModifiedKey]: any);\n\t\tlet size;\n\t\ttry {\n\t\t\t// $FlowIssue Intl.NumberFormat type is outdated\n\t\t\tsize = (new Intl.NumberFormat(locale, { style: 'unit', unit: 'byte', notation: 'compact', unitDisplay: 'narrow' })).format(data.length);\n\t\t} catch (e) {\n\t\t\tsize = `${data.length / 1e6} MB`;\n\t\t}\n\t\ttry {\n\t\t\tawait Alert.open(`\n\t\t\t${isAutomatic ? `\n\t\t\t\t<p><b>${i18n('backupAndRestoreFoundBackup', name)}</b></p>\n\t\t\t\t<br>\n\t\t\t` : ''}\n\t\t\t<p>${i18n('backupAndRestoreBackupOverwriteWarning')}</p>\n\t\t\t<br>\n\t\t\t${isAutomatic ? `\n\t\t\t\t<p>${i18n('backupAndRestoreAfterCancel')}</p>\n\t\t\t\t<br>\n\t\t\t` : ''}\n\t\t\t${backupDate ? `\n\t\t\t\t<p>${i18n('backupAndRestoreBackupDate', formatDateTime(new Date(backupDate)))}</p>\n\t\t\t` : ''}\n\t\t\t<p>${i18n('backupAndRestoreBackupSize', size)}</p>\n\t\t`, { cancelable: true });\n\t\t} catch (e) {\n\t\t\tif (isAutomatic) {\n\t\t\t\tSettingsNavigation.open(module.moduleID, 'automaticBackups');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// This is the only correctness-related write involved in restoring a backup.\n\t// This operation is atomic (probably--at least, as atomic as our limited API can be), so if it fails\n\t// then the remote timestamp will still be ahead of the local timestamp, and we'll try restoring again\n\t// after the next check.\n\t// This will reset the lastCheck time to whatever it was when this backup was created,\n\t// potentially meaning the next pageload will create a new backup.\n\t// That's fine, because we can assume that the other client was in a consistent state.\n\tawait Storage.setMultiple(storage);\n\t// Actually, we might as well reset lastCheck here.\n\t// This write is not required for correctness, and can be dropped or reordered\n\t// (though I hope browsers' storage APIs don't actually do that).\n\tawait lastCheckStorage.set(Date.now());\n\n\t// Migrating might take a while, depending on how old the backup is\n\tawait sendMessage('runMigrations');\n\n\tpostRestore(module.options.reloadWarning.value);\n\n\tawait Alert.open(i18n('backupAndRestoreImported'));\n\tpostRestore.local('auto');\n}\n\nconst postRestore = multicast(operation => {\n\tswitch (operation) {\n\t\tcase 'warn':\n\t\t\tAlert.open(i18n('backupAndRestoreImportedOtherTabs'), { cancelable: true })\n\t\t\t\t.then(() => location.reload(), () => {});\n\t\t\tbreak;\n\t\tcase 'auto':\n\t\t\tlocation.reload();\n\t\t\tbreak;\n\t\tcase 'none':\n\t\tdefault:\n\t\t\tbreak;\n\t}\n}, { name: 'restore-settings-warning', local: false });\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tAlert,\n\tCreateElement,\n\tDAY,\n\tNAMED_KEYS,\n\tPagePhases,\n\tTable,\n\tclick,\n\tcurrentSubreddit,\n\tempty,\n\tformatDate,\n\tformatRelativeTime,\n\tfullLocation,\n\tisCurrentSubreddit,\n\tisModeratorAnywhere,\n\tloggedInUser,\n\tregexes,\n\tstring,\n\twaitForDescendant,\n\twaitForEvent,\n\twatchForThings,\n} from '../utils';\nimport { Session, Storage, ajax, isPrivateBrowsing, i18n } from '../environment';\nimport type { RedditListing, RedditSubreddit } from '../types/reddit';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('subredditManager');\n\nmodule.moduleName = 'subredditManName';\nmodule.category = 'subredditsCategory';\nmodule.description = 'subredditManDesc';\nmodule.include = ['r2'];\nmodule.bodyClass = true;\nmodule.options = {\n\tsubredditShortcut: {\n\t\ttitle: 'subredditManagerSubredditShortcutTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerSubredditShortcutDesc',\n\t},\n\tshortcutsPerAccount: {\n\t\ttitle: 'subredditManagerShortcutsPerAccountTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerShortcutsPerAccountDesc',\n\t},\n\talwaysApplySuffixToMulti: {\n\t\ttitle: 'subredditManagerAlwaysApplySuffixToMultiTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'subredditManagerAlwaysApplySuffixToMultiDesc',\n\t},\n\tdropdownEditButton: {\n\t\ttitle: 'subredditManagerDropdownEditButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerDropdownEditButtonDesc',\n\t},\n\tshortcutDropdownDelay: {\n\t\ttitle: 'subredditManagerShortcutDropdownDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'subredditManagerShortcutDropdownDelayDesc',\n\t},\n\tshortcutEditDropdownDelay: {\n\t\ttitle: 'subredditManagerShortcutEditDropdownDelayTitle',\n\t\tdependsOn: options => options.dropdownEditButton.value,\n\t\ttype: 'text',\n\t\tvalue: '3000',\n\t\tdescription: 'subredditManagerShortcutEditDropdownDelayDesc',\n\t},\n\tallowLowercase: {\n\t\ttitle: 'subredditManagerAllowLowercaseTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'subredditManagerAllowLowercaseDesc',\n\t\tbodyClass: true,\n\t},\n\tlinkDashboard: {\n\t\ttitle: 'subredditManagerLinkDashboardTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkDashboardDesc',\n\t},\n\tlinkAll: {\n\t\ttitle: 'subredditManagerLinkAllTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkAllDesc',\n\t},\n\tlinkFront: {\n\t\ttitle: 'subredditManagerLinkFrontTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkFrontDesc',\n\t},\n\tlinkPopular: {\n\t\ttitle: 'subredditManagerLinkPopularTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkPopularDesc',\n\t},\n\tlinkProfilePosts: {\n\t\ttitle: 'subredditManagerLinkProfilePostsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkProfilePostsDesc',\n\t},\n\tlinkRandom: {\n\t\ttitle: 'subredditManagerLinkRandomTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkRandomDesc',\n\t},\n\tlinkMyRandom: {\n\t\ttitle: 'subredditManagerLinkMyRandomTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkMyRandomDesc',\n\t},\n\tlinkRandNSFW: {\n\t\ttitle: 'subredditManagerLinkRandNSFWTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'subredditManagerLinkRandNSFWDesc',\n\t},\n\tlinkUsers: {\n\t\ttitle: 'subredditManagerLinkUsersTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkUsersDesc',\n\t},\n\tlinkFriends: {\n\t\ttitle: 'subredditManagerLinkFriendsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkFriendsDesc',\n\t},\n\tlinkMod: {\n\t\ttitle: 'subredditManagerLinkModTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkModDesc',\n\t},\n\tlinkModqueue: {\n\t\ttitle: 'subredditManagerLinkModqueueTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkModqueueDesc',\n\t},\n\tlinkSaved: {\n\t\ttitle: 'subredditManagerLinkSavedTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkSavedDesc',\n\t},\n\tbuttonEdit: {\n\t\ttitle: 'subredditManagerButtonEditTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerButtonEditDesc',\n\t},\n\tlastUpdate: {\n\t\ttitle: 'subredditManagerLastUpdateTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLastUpdateDesc',\n\t},\n\tstoreSubredditVisit: {\n\t\ttitle: 'subredditManagerStoreSubredditVisitTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerStoreSubredditVisitDesc',\n\t\tadvanced: true,\n\t},\n\tstoreSubredditVisitIncognito: {\n\t\ttitle: 'subredditManagerStoreSubredditVisitIncognitoTitle',\n\t\tdependsOn: options => options.storeSubredditVisit.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'subredditManagerStoreSubredditVisitIncognitoDesc',\n\t\tadvanced: true,\n\t},\n\tdragDropDelete: {\n\t\ttitle: 'subredditManagerDragDropDeleteTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerDragDropDeleteDesc',\n\t\tadvanced: true,\n\t},\n\tdisplayMultiCounts: {\n\t\ttitle: 'subredditManagerDisplayMultiCountsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerDisplayMultiCountsDesc',\n\t},\n};\n\nlet shortcutsContainer, $subredditGroupDropdown, subredditGroupDropdownUL, subredditGroupDropdownRefItem,\n\t$editShortcutDialog, deleteButton;\n\nlet mySubredditShortcuts = [];\n\nconst subredditsLastViewedStorage = Storage.wrap(() => `RESmodules.subredditManager.subredditsLastViewed.${loggedInUser() || 'null'}`, ({}: { [subreddit: string]: {|\n\tlast_visited: number,\n|} }));\n\nconst subredditShortcutsStorage = Storage.wrap(() => {\n\tconst username = module.options.shortcutsPerAccount.value ? loggedInUser() : null;\n\treturn `RESmodules.subredditManager.subredditShortcuts.${username || 'null'}`;\n}, ([]: Array<{|\n\tsubreddit: string,\n\tdisplayName: string,\n\taddedDate: number,\n|}>));\n\nconst loadShortcuts = async () => { mySubredditShortcuts = await subredditShortcutsStorage.get(); };\n\n// depends on loggedInUser; must be called after the username is available\nconst initialShortcutsLoad = _.once(() => PagePhases.sitetableStarted.then(loadShortcuts));\n\nmodule.beforeLoad = () => {\n\twaitForDescendant(document.documentElement, '#sr-header-area').then(createSubredditBar);\n};\n\nmodule.contentStart = async () => {\n\tcreateSidebarShortcutToggle();\n\n\tawait initialShortcutsLoad();\n\n\twatchForThings(['subreddit'], thing => {\n\t\tconst titleElement = thing.getTitleElement();\n\t\tconst container = thing.element.querySelector('.midcol');\n\t\tif (!titleElement || !container) return;\n\t\tconst [, subreddit] = regexes.subreddit.exec(titleElement.pathname) || [];\n\t\tif (!subreddit) return;\n\t\tcontainer.append(createShortcutToggleButton(subreddit));\n\t});\n};\n\nmodule.afterLoad = () => {\n\tif (module.options.lastUpdate.value && document.getElementsByClassName('listing-chooser').length) {\n\t\tlastUpdate();\n\t}\n\n\tconst subreddit = currentSubreddit();\n\tif (subreddit) {\n\t\trequestAnimationFrame(() => { setLastViewtime(subreddit); });\n\t}\n};\n\nfunction createSidebarShortcutToggle() {\n\t// also, add a +/- shortcut button...\n\tconst subreddit = currentSubreddit();\n\tif (subreddit && module.options.subredditShortcut.value) {\n\t\tconst subButtons = document.querySelectorAll('.side .fancy-toggle-button');\n\t\tfor (const subButton of subButtons) {\n\t\t\tlet thisSubredditFragment, isMulti;\n\t\t\tif (!subreddit.includes('+') && !isCurrentSubreddit('mod')) {\n\t\t\t\tthisSubredditFragment = subreddit;\n\t\t\t\tisMulti = false;\n\t\t\t} else if ($(subButton).parent().hasClass('subButtons')) {\n\t\t\t\tthisSubredditFragment = $(subButton).parent().parent().find('a.title').text();\n\t\t\t\tisMulti = true;\n\t\t\t} else {\n\t\t\t\tthisSubredditFragment = $(subButton).next().text();\n\t\t\t\tisMulti = true;\n\t\t\t}\n\t\t\tif ($(`#subButtons-${thisSubredditFragment}`).length === 0) {\n\t\t\t\tconst $subButtonsWrapper = $(`<div id=\"subButtons-${thisSubredditFragment}\" class=\"subButtons\"></div>`);\n\t\t\t\t$(subButton).wrap($subButtonsWrapper);\n\t\t\t\tgetMultiCounts(thisSubredditFragment).then(multiCount => {\n\t\t\t\t\t$(subButton).append(multiCount);\n\t\t\t\t});\n\t\t\t\t// move this wrapper to the end (after any icons that may exist...)\n\t\t\t\tif (isMulti) {\n\t\t\t\t\tconst theWrap = $(subButton).parent();\n\t\t\t\t\t$(theWrap).appendTo($(theWrap).parent());\n\t\t\t\t}\n\t\t\t}\n\t\t\tsubButton.addEventListener('click', () => {\n\t\t\t\t// reset the last checked time for the subreddit list so that we refresh it anew no matter what.\n\t\t\t\tajax.invalidate({\n\t\t\t\t\turl: '/subreddits/mine.json',\n\t\t\t\t\tquery: {\n\t\t\t\t\t\tafter: '',\n\t\t\t\t\t\tlimit: 100,\n\t\t\t\t\t\tuser: loggedInUser(),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst $subButtons = $(`#subButtons-${thisSubredditFragment}`);\n\t\t\tconst button = createShortcutToggleButton(subreddit);\n\t\t\tinitialShortcutsLoad().then(() => button.dispatchEvent(new CustomEvent('refresh')));\n\t\t\tbutton.classList.add('RESshortcutside'); // custom subreddit styles uses this\n\t\t\t$subButtons.append(button);\n\t\t\tconst $next = $subButtons.next();\n\t\t\tif ($next.hasClass('title') && !$subButtons.hasClass('swapped')) {\n\t\t\t\t$subButtons.before($next);\n\t\t\t\t$subButtons.addClass('swapped');\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function createShortcutToggleButton(subreddit: string) {\n\treturn CreateElement.fancyToggleButton(\n\t\ti18n('subredditInfoAddRemoveShortcut'),\n\t\ti18n('subredditInfoAddThisSubredditToShortcuts'),\n\t\t() => mySubredditShortcuts.some(shortcut => shortcut.subreddit.toLowerCase() === subreddit.toLowerCase()),\n\t\tstate => {\n\t\t\tif (state) addSubredditShortcut(subreddit);\n\t\t\telse removeSubredditShortcut(subreddit);\n\t\t\tredrawShortcuts();\n\t\t},\n\t);\n}\n\nlet hideSubredditGroupDropdownTimer, showSubredditGroupDropdownTimer;\n\nfunction redrawShortcuts() {\n\tshortcutsContainer.textContent = '';\n\n\t// Reddit seems to redirect to randomly reorder multi links, so need to sort and compare\n\tconst currentSub = (currentSubreddit() || '').toLowerCase().split('+').sort().join('+');\n\tconst isCurrent = sub => {\n\t\tconst sortedSubs = sub.replace(/\\?\\+/g, '+').split('+').sort();\n\t\treturn sortedSubs.some(v => isCurrentSubreddit(v)) || currentSub === sortedSubs.join('+');\n\t};\n\n\tlet i = 0;\n\tfor (const shortcut of mySubredditShortcuts) {\n\t\tconst thisShortCut = document.createElement('a');\n\t\tthisShortCut.setAttribute('orderIndex', String(i++));\n\t\tthisShortCut.setAttribute('data-subreddit', shortcut.subreddit);\n\t\tthisShortCut.classList.add('subbarlink');\n\t\tif (isCurrent(shortcut.subreddit)) thisShortCut.classList.add('RESShortcutsCurrentSub');\n\n\t\tthisShortCut.setAttribute('href', `/r/${shortcut.subreddit.replace(/(?:\\?\\+.*|\\?$)/, '')}`);\n\t\tthisShortCut.textContent = shortcut.displayName;\n\t\tthisShortCut.addEventListener('click', (e: MouseEvent) => {\n\t\t\tif (e.button !== 0 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey) {\n\t\t\t\t// open in new tab, let the browser handle it\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\te.preventDefault();\n\t\t\t\tfollowSubredditShortcut(((e.currentTarget: any): HTMLAnchorElement).href);\n\t\t\t}\n\t\t});\n\n\t\tthisShortCut.addEventListener('dblclick', (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\t\t\tfollowSubredditShortcut.cancel();\n\t\t\thideSubredditGroupDropdown();\n\t\t\teditSubredditShortcut(e.currentTarget, e);\n\t\t});\n\n\t\tthisShortCut.addEventListener('mouseover', (e: Event) => {\n\t\t\tclearTimeout(hideSubredditGroupDropdownTimer);\n\t\t\tshowSubredditGroupDropdown(e.currentTarget);\n\t\t});\n\n\t\tthisShortCut.addEventListener('mouseout', () => {\n\t\t\tclearTimeout(showSubredditGroupDropdownTimer);\n\t\t\thideSubredditGroupDropdownTimer = setTimeout(() => hideSubredditGroupDropdown(), 500);\n\t\t});\n\n\t\tthisShortCut.addEventListener('dragstart', subredditDragStart);\n\t\tthisShortCut.addEventListener('dragenter', subredditDragEnter);\n\t\tthisShortCut.addEventListener('dragover', subredditDragOver);\n\t\tthisShortCut.addEventListener('dragleave', subredditDragLeave);\n\t\tthisShortCut.addEventListener('drop', subredditDrop);\n\t\tthisShortCut.addEventListener('dragend', subredditDragEnd);\n\n\t\tconst sep = document.createElement('span');\n\t\tsep.setAttribute('class', 'separator');\n\t\tsep.textContent = '-';\n\t\tshortcutsContainer.append(sep);\n\n\t\tshortcutsContainer.append(thisShortCut, sep);\n\t}\n\n\tif (mySubredditShortcuts.length) {\n\t\tshortcutsContainer.style.textTransform = '';\n\t} else {\n\t\tshortcutsContainer.style.textTransform = 'none';\n\t\tshortcutsContainer.textContent = 'add shortcuts from the my subreddits menu at left or click the button by the subreddit name, drag and drop to sort';\n\t}\n}\n\nfunction showSubredditGroupDropdown(obj) {\n\tlet subreddits = [];\n\tlet suffix = '';\n\n\tif (obj.getAttribute && obj.getAttribute('data-subreddit').includes('+')) {\n\t\tlet cleanSubreddits = obj.getAttribute('data-subreddit');\n\n\t\tif (cleanSubreddits.indexOf('/') > cleanSubreddits.lastIndexOf('+') || module.options.alwaysApplySuffixToMulti.value) {\n\t\t\t// for shortcuts like a+b/x, use subreddits=a+b ; suffix = x\n\t\t\t// for shortcuts like a/x+b/y, just split them a la pre-4.5.0\n\t\t\tlet pos;\n\t\t\tif ((pos = cleanSubreddits.lastIndexOf('?')) > cleanSubreddits.lastIndexOf('+')) {\n\t\t\t\tsuffix = cleanSubreddits.substr(pos);\n\t\t\t\tcleanSubreddits = cleanSubreddits.substr(0, pos);\n\t\t\t}\n\t\t\tif ((pos = cleanSubreddits.lastIndexOf('/')) > cleanSubreddits.lastIndexOf('+')) { // check both existance and correct form (i.e. not foo/new+bar)\n\t\t\t\tsuffix = cleanSubreddits.substr(pos) + suffix;\n\t\t\t\tcleanSubreddits = cleanSubreddits.substr(0, pos);\n\t\t\t}\n\t\t}\n\t\tsubreddits = cleanSubreddits.replace(/\\?\\+/g, '+').split('+');\n\t}\n\n\tif (!(subreddits.length || module.options.dropdownEditButton.value)) {\n\t\treturn;\n\t}\n\n\tlet delay;\n\n\tif (subreddits.length) {\n\t\tdelay = parseInt(module.options.shortcutDropdownDelay.value, 10);\n\t} else {\n\t\tdelay = parseInt(module.options.shortcutEditDropdownDelay.value, 10);\n\t}\n\n\tclearTimeout(showSubredditGroupDropdownTimer);\n\tshowSubredditGroupDropdownTimer = setTimeout(\n\t\t() => _showSubredditGroupDropdown(obj, subreddits, suffix),\n\t\tdelay,\n\t);\n}\n\nfunction _showSubredditGroupDropdown(obj, subreddits, suffix) {\n\t// Updates source object referenced on the 'click' events\n\tsubredditGroupDropdownRefItem = obj;\n\t// Show dropdown after an appropriate delay\n\tif (!$subredditGroupDropdown) {\n\t\t$subredditGroupDropdown = $('<div>', { id: 'RESSubredditGroupDropdown' });\n\t\tsubredditGroupDropdownUL = document.createElement('ul');\n\t\t$subredditGroupDropdown.append(subredditGroupDropdownUL);\n\n\t\tif (module.options.dropdownEditButton.value) {\n\t\t\t$subredditGroupDropdown.append(`\n\t\t\t\t<div class=\"RESShortcutsEditButtons\">\n\t\t\t\t\t<a href=\"#\" class=\"delete res-icon\" title=\"delete\">&#xF155;</a>\n\t\t\t\t\t<a href=\"#\" class=\"edit res-icon\" title=\"edit\">&#xF139;</a>\n\t\t\t\t</div>\n\t\t\t`);\n\t\t}\n\t\t$subredditGroupDropdown.appendTo(document.body);\n\n\t\t$subredditGroupDropdown.on('mouseout', () => {\n\t\t\thideSubredditGroupDropdownTimer = setTimeout(() => {\n\t\t\t\thideSubredditGroupDropdown();\n\t\t\t}, 500);\n\t\t});\n\n\t\t$subredditGroupDropdown.on('mouseover', () => {\n\t\t\tclearTimeout(hideSubredditGroupDropdownTimer);\n\t\t});\n\n\t\t$subredditGroupDropdown.on('click', '.edit', (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\t\t\thideSubredditGroupDropdown();\n\t\t\teditSubredditShortcut(subredditGroupDropdownRefItem, e);\n\t\t});\n\n\t\t$subredditGroupDropdown.on('click', '.delete', (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\t\t\thideSubredditGroupDropdown();\n\t\t\teditSubredditShortcut(subredditGroupDropdownRefItem, e);\n\t\t\tdeleteButton.click();\n\t\t});\n\t}\n\n\t$(subredditGroupDropdownUL).find('li:not(.RESShortcutsEditButtons)').remove();\n\n\tif (subreddits) {\n\t\tconst $rows = subreddits.reduce(($collection, subreddit) => {\n\t\t\tconst $thisLI = $(`<li><a href=\"/r/${subreddit}${suffix}\">${subreddit}<span class=\"shortcutSuffix\">${suffix}</span></a></li>`);\n\t\t\tif (isCurrentSubreddit(subreddit)) {\n\t\t\t\t$thisLI.addClass('RESShortcutsCurrentSub');\n\t\t\t}\n\t\t\treturn $collection.add($thisLI);\n\t\t}, $());\n\n\t\t$(subredditGroupDropdownUL).prepend($rows);\n\t}\n\n\tconst { left } = $(obj).offset();\n\tconst { bottom } = document.querySelector('#sr-header-area').getBoundingClientRect();\n\t$subredditGroupDropdown\n\t\t.css({ top: `${bottom}px`, left: `${left}px` })\n\t\t.show();\n}\n\nfunction hideSubredditGroupDropdown() {\n\thideSubredditGroupDropdownTimer = undefined;\n\tif ($subredditGroupDropdown) {\n\t\t$subredditGroupDropdown.hide();\n\t}\n}\n\nfunction editSubredditShortcut(ele, event) {\n\tconst subreddit = ele.getAttribute('data-subreddit');\n\n\tconst idx = mySubredditShortcuts.findIndex(shortcut => shortcut.subreddit === subreddit);\n\n\tif (!$editShortcutDialog) {\n\t\t$editShortcutDialog = $('<div>', { id: 'editShortcutDialog' })\n\t\t\t.appendTo(document.body);\n\t}\n\n\tconst unsortable = !subreddit.includes('+');\n\n\tconst thisForm = `\n\t\t<form name=\"editSubredditShortcut\">\n\t\t\t<h3>Edit Shortcut</h3>\n\t\t\t<div id=\"editShortcutClose\" class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t\t<div class=\"RESFormItem\">\n\t\t\t\t<label for=\"subreddit\">Subreddit:</label>\n\t\t\t\t<div class=\"RESFieldItem\">\n\t\t\t\t\t<input type=\"text\" name=\"subreddit\" value=\"${subreddit}\" id=\"shortcut-subreddit\" class=\"${unsortable ? 'unsortable' : ''}\"><!-- no whitespace\n\t\t\t\t\t--><button type=\"submit\" id=\"sortButton\" title=\"Sort subreddits\">A-Z</button>\n\n\t\t\t\t\t<div class=\"RESDescription\">Put a + between subreddits to make a drop-down menu.<br/>Put ?+ to make subreddits after it only show in dropdown.</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"RESFormItem\">\n\t\t\t\t<label for=\"displayName\">Display Name:</label>\n\t\t\t\t<div class=\"RESFieldItem\">\n\t\t\t\t\t<input type=\"text\" name=\"displayName\" value=\"${ele.textContent}\" id=\"shortcut-displayname\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<input type=\"hidden\" name=\"idx\" value=\"${idx}\">\n\t\t\t<button type=\"button\" name=\"shortcut-save\" id=\"shortcut-save\">save</button>\n\t\t\t<button type=\"button\" name=\"shortcut-delete\" id=\"shortcut-delete\">delete</button>\n\t\t</form>\n\t`;\n\t$editShortcutDialog.html(thisForm);\n\n\t$editShortcutDialog.find('#shortcut-subreddit').on('keyup', _.throttle(({ currentTarget: shortcut }: KeyboardEvent) => {\n\t\tif (!(shortcut: any).value.includes('+')) {\n\t\t\tshortcut.classList.add('unsortable');\n\t\t} else {\n\t\t\tshortcut.classList.remove('unsortable');\n\t\t}\n\t}, 500));\n\tconst subredditInput = $editShortcutDialog.find('input[name=subreddit]').get(0);\n\tconst displayNameInput = $editShortcutDialog.find('input[name=displayName]').get(0);\n\n\t$editShortcutDialog.find('FORM').on('submit', e => e.preventDefault());\n\n\tconst saveButton = $editShortcutDialog\n\t\t.find('button[name=shortcut-save]')\n\t\t.click(() => {\n\t\t\tconst idx = $editShortcutDialog.find('input[name=idx]').val();\n\t\t\tconst subreddit = $editShortcutDialog.find('input[name=subreddit]').val();\n\t\t\tconst displayName = $editShortcutDialog.find('input[name=displayName]').val();\n\n\t\t\tsaveSubredditShortcut(subreddit, displayName, idx);\n\t\t\t$editShortcutDialog.hide();\n\t\t})\n\t\t.get(0);\n\n\tdeleteButton = $editShortcutDialog.find('button[name=shortcut-delete]').get(0);\n\tdeleteButton.addEventListener('click', () => {\n\t\tconst idx = $editShortcutDialog.find('input[name=idx]').val();\n\n\t\tif (confirm('Are you sure you want to delete this shortcut?')) {\n\t\t\tsaveSubredditShortcut('', '', idx);\n\t\t\t$editShortcutDialog.hide();\n\t\t}\n\t});\n\n\t// Allow the shortcut dropdown menu to be sorted\n\tfunction sortSubmenu(e) {\n\t\tconst inputEl: HTMLInputElement = ($editShortcutDialog.find('input[name=subreddit]').get(0): any);\n\t\tconst currStr = inputEl.value;\n\t\t// sort ASC\n\t\tconst ascArr = currStr.split('+');\n\t\tascArr.sort();\n\t\tconst ascStr = ascArr.join('+');\n\t\t// sort DESC\n\t\tconst descArr = ascArr;\n\t\tdescArr.reverse();\n\t\tconst descStr = descArr.join('+');\n\t\tlet btnTxt;\n\t\tif (e.target instanceof HTMLButtonElement && e.target.type === 'submit') {\n\t\t\t// if sorted ASC, sort DESC. If unsorted or sorted DESC, sort ASC\n\t\t\tinputEl.value = (currStr === ascStr ? descStr : ascStr);\n\t\t\tbtnTxt = (currStr === ascStr ? 'A-Z' : 'Z-A');\n\t\t} else {\n\t\t\tbtnTxt = (currStr === ascStr ? 'Z-A' : 'A-Z');\n\t\t}\n\t\t$('#sortButton').text(btnTxt);\n\t}\n\n\t// handle the sort button\n\t$editShortcutDialog.find('#sortButton').click(sortSubmenu);\n\n\t// handle the subreddit textfield\n\t$editShortcutDialog.find('input[name=subreddit]').on('change', sortSubmenu);\n\n\t// handle enter and escape keys in the dialog box...\n\tsubredditInput.addEventListener('keydown', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Enter) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t});\n\tsubredditInput.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\t$editShortcutDialog\n\t\t\t\t.hide()\n\t\t\t\t.blur();\n\t\t} else if (e.key === NAMED_KEYS.Enter) {\n\t\t\tclick(saveButton);\n\t\t}\n\t});\n\tdisplayNameInput.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\t$editShortcutDialog\n\t\t\t\t.hide()\n\t\t\t\t.blur();\n\t\t} else if (e.key === NAMED_KEYS.Enter) {\n\t\t\tclick(saveButton);\n\t\t}\n\t});\n\n\t// cancel button\n\t$editShortcutDialog.find('#editShortcutClose').click(() => {\n\t\t$editShortcutDialog.hide();\n\t});\n\n\t$editShortcutDialog.show();\n\t// add 20px to compensate for scrollbar\n\tconst thisLeft = Math.min(event.clientX, window.innerWidth - ($editShortcutDialog.get(0).offsetWidth + 20));\n\t$editShortcutDialog.css('left', `${thisLeft}px`);\n\n\tsetTimeout(() => subredditInput.focus(), 200);\n}\n\nasync function saveSubredditShortcut(subreddit, displayName, idx) {\n\tif (subreddit === '' || displayName === '') {\n\t\tsubreddit = mySubredditShortcuts[idx].subreddit;\n\t\tawait removeSubredditShortcut(subreddit);\n\t} else {\n\t\tmySubredditShortcuts[idx] = {\n\t\t\tsubreddit,\n\t\t\tdisplayName,\n\t\t\taddedDate: Date.now(),\n\t\t};\n\n\t\tsaveLatestShortcuts();\n\t}\n\n\tredrawShortcuts();\n}\n\nconst followSubredditShortcut = _.debounce(url => { location.href = url; }, 300);\n\nlet dragSrcEl, srDataTransfer;\n\nfunction subredditDragStart(e: DragEvent) {\n\tfollowSubredditShortcut.cancel();\n\t// Target (this) element is the source node.\n\tthis.style.opacity = '0.4';\n\tdragSrcEl = this; // eslint-disable-line consistent-this\n\tif (module.options.dragDropDelete.value) {\n\t\taddTrashBin(dragSrcEl);\n\t}\n\n\t// $FlowIssue\n\te.dataTransfer.effectAllowed = 'move';\n\t// because Safari is stupid, we have to do this.\n\tsrDataTransfer = `${this.getAttribute('orderIndex')},${$(this).data('subreddit')}`;\n}\n\nfunction subredditDragEnter() {\n\tthis.classList.add('srOver');\n\treturn false;\n}\n\nfunction subredditDragOver(e: DragEvent) {\n\tif (e.preventDefault) {\n\t\te.preventDefault(); // Necessary. Allows us to drop.\n\t}\n\n\tif ($subredditGroupDropdown) {\n\t\t$subredditGroupDropdown.hide();\n\t}\n\n\t// $FlowIssue\n\te.dataTransfer.dropEffect = 'move';\n\treturn false;\n}\n\nfunction subredditDragLeave() {\n\tthis.classList.remove('srOver');\n\treturn false;\n}\n\nfunction subredditDrop(e: DragEvent) {\n\tif (e.stopPropagation) {\n\t\te.stopPropagation(); // Stops some browsers from redirecting.\n\t}\n\n\t// Stops other browsers from redirecting.\n\te.preventDefault();\n\n\t// Don't do anything if dropping the same column we're dragging.\n\tif (dragSrcEl !== this) {\n\t\tif (e.target.getAttribute('id') !== 'res-shortcut-trash') {\n\t\t\t// get the order index of the src and destination to swap...\n\t\t\t// const theData = e.dataTransfer.getData('text/html').split(',');\n\t\t\tconst theData = srDataTransfer.split(',');\n\t\t\tconst srcOrderIndex = parseInt(theData[0], 10);\n\t\t\tconst srcSubreddit = mySubredditShortcuts[srcOrderIndex];\n\t\t\tconst destOrderIndex = parseInt(this.getAttribute('orderIndex'), 10);\n\t\t\tconst destSubreddit = mySubredditShortcuts[destOrderIndex];\n\t\t\tconst rearranged = [];\n\t\t\tlet rearrangedI = 0;\n\n\t\t\tmySubredditShortcuts.forEach((shortcut, i) => {\n\t\t\t\tif ((i !== srcOrderIndex) && (i !== destOrderIndex)) {\n\t\t\t\t\trearranged[rearrangedI] = shortcut;\n\t\t\t\t\trearrangedI++;\n\t\t\t\t} else if (i === destOrderIndex) {\n\t\t\t\t\tif (destOrderIndex > srcOrderIndex) {\n\t\t\t\t\t\t// if dragging right, order dest first, src next.\n\t\t\t\t\t\trearranged[rearrangedI] = destSubreddit;\n\t\t\t\t\t\trearrangedI++;\n\t\t\t\t\t\trearranged[rearrangedI] = srcSubreddit;\n\t\t\t\t\t\trearrangedI++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// if dragging left, order src first, dest next.\n\t\t\t\t\t\trearranged[rearrangedI] = srcSubreddit;\n\t\t\t\t\t\trearrangedI++;\n\t\t\t\t\t\trearranged[rearrangedI] = destSubreddit;\n\t\t\t\t\t\trearrangedI++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// save the updated order...\n\t\t\tmySubredditShortcuts = rearranged;\n\t\t\tsaveLatestShortcuts();\n\t\t\t// redraw the shortcut bar...\n\t\t\tredrawShortcuts();\n\t\t} else {\n\t\t\tconst theData = srDataTransfer.split(',');\n\t\t\tconst srcSubreddit = theData[1];\n\t\t\tremoveSubredditShortcut(srcSubreddit);\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction subredditDragEnd() {\n\tthis.style.opacity = '1';\n\tthis.classList.remove('srOver');\n\tif (module.options.dragDropDelete.value) {\n\t\tremoveTrashBin();\n\t}\n\treturn false;\n}\n\nasync function createSubredditBar(headerContents) {\n\tconst originalShortcuts: HTMLAnchorElement[] = (Array.from(document.querySelectorAll('.sr-list a.choice')): any[]);\n\tconst myRandom = module.options.linkMyRandom.value && originalShortcuts.find(({ pathname }) => pathname === '/r/myrandom/');\n\tconst myRandomGold = myRandom && myRandom.classList.contains('gold');\n\tconst users = module.options.linkUsers.value && originalShortcuts.find(({ pathname }) => pathname === '/users/');\n\tconst originalFrontpage = originalShortcuts.find(({ pathname }) => pathname === '/');\n\tconst originalPopular = originalShortcuts.find(({ pathname }) => pathname === '/r/popular/');\n\tconst originalProfilePosts = originalShortcuts.find(({ pathname }) => pathname === '/r/profileposts/');\n\n\t// Clear out the existing stuff in the top bar first, we'll replace it with our own stuff.\n\tempty(headerContents);\n\n\tawait initialShortcutsLoad();\n\n\tconst user = loggedInUser();\n\n\tconst staticShortcutsHTML = [\n\t\tmodule.options.linkDashboard.value && '<a class=\"subbarlink\" href=\"/r/Dashboard/\">Dashboard</a>',\n\t\tmodule.options.linkFront.value && originalFrontpage && `<a class=\"subbarlink\" href=\"/\">${originalFrontpage.textContent}</a>`,\n\t\tmodule.options.linkPopular.value && originalPopular && `<a class=\"subbarlink\" href=\"/r/popular/\">${originalPopular.textContent}</a>`,\n\t\tmodule.options.linkProfilePosts.value && originalProfilePosts && `<a class=\"subbarlink\" href=\"/r/profileposts/\">${originalProfilePosts.textContent}</a>`,\n\t\tmodule.options.linkAll.value && '<a class=\"subbarlink\" href=\"/r/all/\">All</a>',\n\t\tmodule.options.linkRandom.value && '<a class=\"subbarlink\" href=\"/r/random/\">Random</a>',\n\t\tmodule.options.linkMyRandom.value && myRandom && `<a class=\"subbarlink ${myRandomGold ? 'gold' : ''}\" href=\"/r/myrandom/\">MyRandom</a>`,\n\t\tmodule.options.linkUsers.value && users && '<a class=\"subbarlink\" href=\"/users/\">Users</a>',\n\t\tmodule.options.linkRandNSFW.value && '<a class=\"over18 subbarlink\" href=\"/r/randnsfw/\">RandNSFW</a>',\n\t\tuser && [\n\t\t\tmodule.options.linkFriends.value && '<a class=\"subbarlink\" href=\"/r/friends/\">Friends</a>',\n\t\t\tisModeratorAnywhere() && [\n\t\t\t\tmodule.options.linkMod.value && '<a class=\"subbarlink\" href=\"/r/mod/\">Mod</a>',\n\t\t\t\tmodule.options.linkModqueue.value && '<a class=\"subbarlink\" href=\"/r/mod/about/modqueue\">Modqueue</a>',\n\t\t\t],\n\t\t\tmodule.options.linkSaved.value && `<a class=\"subbarlink\" href=\"/user/${user}/saved\">Saved</a>`,\n\t\t],\n\t\tmodule.options.buttonEdit.value && `${SettingsNavigation.makeUrlHashLink(module.moduleID, '', 'edit', 'subbarlink res-sr-options-link')}`,\n\t]\n\t// $FlowIssue Array#flat\n\t\t.flat(3)\n\t\t.filter(Boolean)\n\t\t.join('<span class=\"separator\">-</span>');\n\n\theaderContents.append(...string.html`<span>\n\t\t<div id=\"srLeftContainer\" class=\"sr-bar\">\n\t\t\t<div id=\"srDropdown\">\n\t\t\t\t\t<div id=\"srDropdownContainer\"><a href=\"javascript:void 0\">My Subreddits</a></div>\n\t\t\t</div>\n\t\t\t<div id=\"RESStaticShortcuts\"><span class=\"separator\">-</span>${string.safe(staticShortcutsHTML)}</div>\n\t\t\t<span class=\"srSep\">|</span>\n\t\t</div>\n\t\t<div id=\"RESShortcutsViewport\">\n\t\t\t<div id=\"RESShortcuts\" class=\"sr-bar\"></div>\n\t\t</div>\n\t\t<div id=\"RESShortcutsEditContainer\">\n\t\t\t<div id=\"RESShortcutsSort\" title=\"sort subreddit shortcuts\"></div>\n\t\t\t<div id=\"RESShortcutsRight\">&gt;</div>\n\t\t\t<div id=\"RESShortcutsAdd\" class=\"res-icon\" title=\"add shortcut\"></div>\n\t\t\t<div id=\"RESShortcutsLeft\">&lt;</div>\n\t\t</div>\n\t</span>`.children);\n\n\theaderContents.querySelector('#srDropdownContainer').addEventListener('click', (e: MouseEvent) => {\n\t\te.stopImmediatePropagation();\n\t\ttoggleSubredditDropdown();\n\t});\n\n\tshortcutsContainer = headerContents.querySelector('#RESShortcuts');\n\n\tconst choice = [...headerContents.querySelectorAll('.subbarlink:not(.res-sr-options-link)')]\n\t\t.find(link => link instanceof HTMLAnchorElement && fullLocation(link.pathname) === fullLocation());\n\tif (choice) choice.classList.add('RESShortcutsCurrentSub');\n\n\tconst shortcutsEditContainer = document.createElement('div');\n\tshortcutsEditContainer.classList.add('res-sr-edit');\n\n\theaderContents.querySelector('#RESShortcutsSort').addEventListener('click', async ({ currentTarget }: MouseEvent) => {\n\t\tconst menu = sortMenu();\n\t\tdocument.body.append(menu);\n\t\tconst { bottom, left } = currentTarget.getBoundingClientRect();\n\t\tmenu.style.top = `${bottom}px`;\n\t\tmenu.style.left = `${Math.min(document.body.getBoundingClientRect().width - menu.getBoundingClientRect().width, left)}px`;\n\t\tawait waitForEvent(menu, 'mouseleave');\n\t\tmenu.remove();\n\t});\n\n\tconst addButton = headerContents.querySelector('#RESShortcutsAdd');\n\taddButton.addEventListener('click', () => { toggleShortCutsAddForm(); });\n\n\tconst leftButton = headerContents.querySelector('#RESShortcutsLeft');\n\tleftButton.addEventListener('click', () => {\n\t\tconst firstChild: HTMLElement = (shortcutsContainer.firstChild: any);\n\t\tconst containerMargin = parseInt(firstChild.style.marginLeft, 10) || 0;\n\t\tconst shiftWidth = Math.floor($('#RESShortcutsViewport').width()) - 80;\n\t\tconst marginLeft = containerMargin + shiftWidth;\n\t\tif (marginLeft <= 0) {\n\t\t\tfirstChild.style.marginLeft = `${marginLeft}px`;\n\t\t}\n\t});\n\n\tconst rightButton = headerContents.querySelector('#RESShortcutsRight');\n\trightButton.addEventListener('click', () => {\n\t\tconst firstChild: HTMLElement = (shortcutsContainer.firstChild: any);\n\t\tlet marginLeft = firstChild.style.marginLeft;\n\t\tmarginLeft = parseInt(marginLeft.replace('px', ''), 10);\n\n\t\tif (isNaN(marginLeft)) marginLeft = 0;\n\n\t\tconst shiftWidth = $('#RESShortcutsViewport').width() - 80;\n\t\tif (shortcutsContainer.offsetWidth > (shiftWidth)) {\n\t\t\tmarginLeft -= shiftWidth;\n\t\t\tfirstChild.style.marginLeft = `${marginLeft}px`;\n\t\t}\n\t});\n\n\tredrawShortcuts();\n}\n\nconst trashBin = _.once(() => {\n\tconst $title = $('<div>', { class: 'res-shortcut-trash-title' });\n\n\tconst $trashZone = $('<div>', { id: 'res-shortcut-trash-zone', class: 'res-icon' });\n\tconst shortCutsTrash = $trashZone.get(0);\n\tshortCutsTrash.addEventListener('dragenter', subredditDragEnter);\n\tshortCutsTrash.addEventListener('dragleave', subredditDragLeave);\n\tshortCutsTrash.addEventListener('dragover', subredditDragOver);\n\tshortCutsTrash.addEventListener('drop', subredditDrop);\n\n\tconst $wrapper = $('<div>', { id: 'res-shortcut-trash' })\n\t\t.append(\n\t\t\t$title,\n\t\t\t$trashZone,\n\t\t\t$('<div>', {\n\t\t\t\tid: 'res-dragDrop-tip',\n\t\t\t\ttext: 'Did you know? You can arrange shortcuts by dragging them left & right along the top bar.',\n\t\t\t}),\n\t\t);\n\n\treturn {\n\t\t$wrapper,\n\t\t$trashZone,\n\t\t$title,\n\t};\n});\n\nfunction toggleShortCutsAddForm() {\n\tlet shortCutsAddFormContainer = document.querySelector('RESShortcutsAddFormContainer');\n\n\tconst close = () => shortCutsAddFormContainer.remove();\n\n\tif (shortCutsAddFormContainer) {\n\t\tclose();\n\t\treturn;\n\t}\n\n\tshortCutsAddFormContainer = document.createElement('div');\n\tshortCutsAddFormContainer.setAttribute('id', 'RESShortcutsAddFormContainer');\n\tshortCutsAddFormContainer.append(string.html`\n\t\t<form id=\"shortCutsAddForm\">\n\t\t\t<div><strong>Add Shortcut</strong></div>\n\t\t\t<div class=\"res-shortcuts-add-tip\">Put a &plus; between subreddits to make a multireddit.</div>\n\t\t\t<div><label for=\"newShortcut\">Subreddit:</label><input type=\"text\" id=\"newShortcut\"></div>\n\t\t\t<div><label for=\"displayName\">Display Name:</label><input type=\"text\" id=\"displayName\"></div>\n\t\t\t<input type=\"submit\" name=\"submit\" value=\"add\" id=\"addSubreddit\">\n\t\t\t<div class=\"res-shortcuts-add-footer\"><a href=\"/subreddits/\">manage subscribed</a></div>\n\t\t</form>\n\t`);\n\tconst shortCutsAddFormField: HTMLInputElement = (shortCutsAddFormContainer.querySelector('#newShortcut'): any);\n\tconst shortCutsAddFormFieldDisplayName: HTMLInputElement = (shortCutsAddFormContainer.querySelector('#displayName'): any);\n\n\tshortCutsAddFormField.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Escape) close();\n\t});\n\n\tshortCutsAddFormFieldDisplayName.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Escape) close();\n\t});\n\n\t// add the \"add shortcut\" form...\n\tconst shortCutsAddForm = shortCutsAddFormContainer.querySelector('#shortCutsAddForm');\n\tshortCutsAddForm.addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tlet subreddit = shortCutsAddFormField.value;\n\t\tlet displayname = shortCutsAddFormFieldDisplayName.value;\n\t\tif (displayname === '') displayname = subreddit;\n\n\t\tsubreddit = subreddit.replace(/^\\/?r\\//i, '');\n\n\t\tif (subreddit) {\n\t\t\taddSubredditShortcut(subreddit, displayname);\n\t\t}\n\n\t\tclose();\n\t});\n\n\tdocument.body.append(shortCutsAddFormContainer);\n\tshortCutsAddFormField.focus();\n\n\tif (module.options.dragDropDelete.value) {\n\t\tconst trashOpenLink = string.html`<a class=\"res-trash-open\" href=\"javascript: void 0\" title=\"Choose which shortcuts to remove\"><span class=\"res-icon\">&#xF155;</span> remove shortcuts...</a>`;\n\t\t$('#RESShortcutsAddFormContainer .res-shortcuts-add-footer').prepend(trashOpenLink, ' | ');\n\t\ttrashOpenLink.addEventListener('click', () => { addTrashBin(); });\n\t}\n}\n\nconst $pageOverlay = _.once(() => {\n\tconst srHeaderArea = document.querySelector('#sr-header-area');\n\n\treturn $('<div>', { id: 'res-trash-overlay' })\n\t\t.css({ top: `${srHeaderArea.offsetHeight}px` })\n\t\t.click(() => removeTrashBin());\n});\n\nfunction addTrashBin(shortcut) {\n\t// hide other elements.\n\tif ($subredditGroupDropdown) {\n\t\t$subredditGroupDropdown.hide();\n\t}\n\n\t// set the title.\n\tif (shortcut) {\n\t\ttrashBin().$title.html(string.escape`Drop here to delete shortcut <strong>${$(shortcut).text()}</strong>`);\n\t} else {\n\t\ttrashBin().$title.text('Drag and drop shortcuts to delete them');\n\t}\n\n\t// add trash bin\n\ttrashBin().$wrapper\n\t\t.appendTo(document.body)\n\t\t.show();\n\t// add overlay\n\t$pageOverlay()\n\t\t.appendTo(document.body)\n\t\t.show();\n}\n\nfunction removeTrashBin() {\n\t$pageOverlay().hide();\n\ttrashBin().$wrapper.hide();\n\ttrashBin().$trashZone.removeClass('srOver');\n}\n\nconst sortMenu = _.once(() => {\n\tconst element = string.html`\n\t<div id=\"sort-menu\" style=\"display: block\" class=\"drop-choices\">\n\t\t<p>&nbsp;sort by:</p>\n\t\t<a class=\"choice\" data-field=\"displayName\" href=\"javascript:void 0\">display name</a>\n\t\t<a class=\"choice\" data-field=\"addedDate\" href=\"javascript:void 0\">added date</a>\n\t</div>`;\n\n\tlet lastField;\n\n\t$(element).find('a').click(({ currentTarget }) => {\n\t\tconst field = currentTarget.dataset.field;\n\t\tconst sameField = lastField === field;\n\t\tlastField = field;\n\t\tsortShortcuts(sameField ? null : field, sameField);\n\t});\n\n\treturn element;\n});\n\nfunction sortShortcuts(field, reverse) {\n\tif (field) mySubredditShortcuts.sort((a, b) => String(a[field]).localeCompare(String(b[field]), undefined, { numeric: true, sensitivity: 'base' }));\n\tif (reverse) mySubredditShortcuts.reverse();\n\n\t// Refresh shortcuts\n\tredrawShortcuts();\n\n\t// Save shortcuts sort order\n\tsaveLatestShortcuts();\n}\n\nconst srList = _.once(async () => {\n\tconst element = document.createElement('div');\n\telement.id = 'srList';\n\n\tconst user = loggedInUser();\n\tif (!user) {\n\t\telement.append(string.html`<div>You must be logged in to load your own list of subreddits. <a style=\"display: inline; float: left;\" href=\"/subreddits/\">browse them all</a></div>`);\n\t\treturn element;\n\t}\n\n\telement.append(string.html`<div>Loading subreddits (may take a moment)...</div>`);\n\n\ttry {\n\t\tconst table = await getMySubredditsTable(user);\n\t\tempty(element);\n\t\telement.append(string.html`<a style=\"float: right;\" href=\"/subreddits/\">View all &raquo;</a>`, table);\n\t} catch (e) {\n\t\tconsole.error(e);\n\t\telement.append(string.html`<span>There was an error getting your subreddits. You may have third party cookies disabled by your browser. For this function to work, you\\'ll need to add an exception for cookies from reddit.com'</span>`);\n\t}\n\n\treturn element;\n});\n\nasync function toggleSubredditDropdown(e?: Event) {\n\tconst ele = await srList();\n\tif (ele && e && (ele.contains(e.target) || !document.contains(e.target))) return;\n\n\tif (document.body.contains(ele)) {\n\t\tele.remove();\n\t\tdocument.body.removeEventListener('click', toggleSubredditDropdown);\n\t} else {\n\t\tdocument.body.append(ele);\n\t\tdocument.body.addEventListener('click', toggleSubredditDropdown);\n\t}\n}\n\nasync function getMySubredditsTable(user) {\n\tconst headers = {\n\t\tsubreddit: 'subreddit',\n\t\t...(module.options.storeSubredditVisit.value ? { lastVisited: 'Last Visited' } : {}),\n\t\tshortcutToggle: '',\n\t};\n\n\tconst mySubreddits = new Map();\n\tlet after = '';\n\n\tdo {\n\t\tconst { data } = (await ajax({ // eslint-disable-line no-await-in-loop\n\t\t\turl: '/subreddits/mine.json',\n\t\t\tquery: {\n\t\t\t\tafter,\n\t\t\t\tlimit: 100,\n\t\t\t\tuser, // for the cache\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t}): RedditListing<RedditSubreddit>);\n\n\t\tif (data && data.children) {\n\t\t\t// fields include display_name, url, over18, id, created, description\n\t\t\tfor (const { data: sub } of data.children) mySubreddits.set(sub.display_name, sub);\n\n\t\t\tafter = data.after;\n\t\t} else if (!after) {\n\t\t\tthrow new Error('No subreddits feched?');\n\t\t}\n\t} while (after);\n\n\tconst subredditsLastViewed = await subredditsLastViewedStorage.get();\n\n\tconst getRow = ({ display_name: displayName, url }) => {\n\t\tconst lv = subredditsLastViewed[displayName.toLowerCase()];\n\t\tconst ts = lv && parseInt(lv.last_visited, 10);\n\t\tconst theLV = document.createElement('span');\n\t\tif (ts) {\n\t\t\tconst dateVisited = new Date(ts);\n\t\t\ttheLV.textContent = formatRelativeTime(dateVisited);\n\t\t\ttheLV.setAttribute('title', formatDate(dateVisited));\n\t\t} else {\n\t\t\ttheLV.textContent = 'N/A';\n\t\t}\n\n\t\tconst shortcutToggle = createShortcutToggleButton(displayName);\n\t\tshortcutToggle.className = '';\n\n\t\treturn {\n\t\t\tsubreddit: string.html`<a href=\"${url}\">${displayName}</a>`,\n\t\t\tlastVisited: theLV,\n\t\t\tshortcutToggle,\n\t\t};\n\t};\n\n\tconst data = [...mySubreddits.values()];\n\tconst table = new Table.RESTable(headers, data, getRow, { pageSize: Infinity, sortBy: 'subreddit' });\n\n\tconst ele = document.createElement('div');\n\tele.append(\n\t\ttable.createSearchElement(({ display_name: displayName }) => displayName, i18n('subredditManagerFilterPlaceholder'), true),\n\t\ttable.element,\n\t);\n\n\treturn ele;\n}\n\nexport async function getMultiCounts(displayName: string): Promise<string> {\n\tif (!module.options.displayMultiCounts.value) return '';\n\tconst user = loggedInUser();\n\tif (!user) return '';\n\tconst multis = await ajax({\n\t\turl: `/api/multi/user/${user}`,\n\t\ttype: 'json',\n\t\tcacheFor: DAY,\n\t});\n\tconst count = multis.filter(multi => multi.data.subreddits.some(sr => sr.name === displayName)).length;\n\tif (count) return string.escape`<span class=\"multi-count\" title=\"${i18n('subredditManagerMultiCountTitle', displayName, count)}\">${count}</span>`;\n\telse return '';\n}\n\nfunction saveLatestShortcuts() {\n\tsubredditShortcutsStorage.set(mySubredditShortcuts || []);\n}\n\nasync function addSubredditShortcut(subreddit, displayname) {\n\tawait loadShortcuts();\n\n\tconst idx = mySubredditShortcuts.findIndex(shortcut =>\n\t\tshortcut.subreddit.toLowerCase() === subreddit.toLowerCase(),\n\t);\n\n\tif (idx !== -1) {\n\t\tAlert.open('Whoops, you already have a shortcut for that subreddit');\n\t} else {\n\t\tdisplayname = displayname || subreddit;\n\t\tconst subredditObj = {\n\t\t\tsubreddit,\n\t\t\tdisplayName: displayname.toLowerCase(),\n\t\t\taddedDate: Date.now(),\n\t\t};\n\n\t\tmySubredditShortcuts.push(subredditObj);\n\n\t\tsaveLatestShortcuts();\n\t\tredrawShortcuts();\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'subredditManager',\n\t\t\tmessage: 'Subreddit shortcut added. You can edit by double clicking the shortcut.',\n\t\t});\n\t}\n}\n\nasync function removeSubredditShortcut(subreddit) {\n\tawait loadShortcuts();\n\n\tconst idx = mySubredditShortcuts.findIndex(shortcut =>\n\t\tshortcut.subreddit.toLowerCase() === subreddit.toLowerCase(),\n\t);\n\n\tif (idx !== -1) {\n\t\tmySubredditShortcuts.splice(idx, 1);\n\n\t\tsaveLatestShortcuts();\n\t\tredrawShortcuts();\n\t}\n}\n\nfunction setLastViewtime(subreddit) {\n\tif (!module.options.storeSubredditVisit.value) return;\n\tif (!module.options.storeSubredditVisitIncognito.value && isPrivateBrowsing()) return;\n\n\tsubredditsLastViewedStorage.patch({ [subreddit.toLowerCase()]: { last_visited: Date.now() } });\n}\n\nexport function subscribeToSubreddit(subredditName: string, subscribe?: boolean = true) {\n\t// subredditName should look like t5_123asd\n\treturn ajax({\n\t\tmethod: 'POST',\n\t\turl: '/api/subscribe',\n\t\tdata: {\n\t\t\tsr: subredditName,\n\t\t\taction: subscribe ? 'sub' : 'unsub',\n\t\t},\n\t});\n}\n\nasync function lastUpdate() {\n\tconst mySubredditList = $('.drop-choices.srdrop a').map(function() { return this.textContent; }).toArray().join();\n\tconst mySubredditListCachedObject = await Session.get('RESmodules.subredditManager.mySubredditList') || {};\n\tconst mySubredditListCached = mySubredditListCachedObject[loggedInUser() || 'null']; // last saved subreddit lsit + time for current user\n\tlet _lastUpdate;\n\tif (mySubredditListCached && mySubredditListCached.list === mySubredditList) {\n\t\t_lastUpdate = parseInt((new Date().getTime() - mySubredditListCached.time) / 60000, 10);\n\t\tif (_lastUpdate > 31) {\n\t\t\t_lastUpdate = false; // the user have probably less than 50/100 subscription, this module doesn't concern him\n\t\t\tmySubredditListCached.time = new Date().getTime() - 32 * 60000; // we change time to avoid deleting it just after (to don't show him again the last update)\n\t\t} else {\n\t\t\t_lastUpdate += _lastUpdate > 1 ? ' minutes ago' : ' minute ago';\n\t\t}\n\t} else { // the mySubreddit list is different than the cached version, subreddit have reloaded them. We reset the cache. (Or there is no cached version)\n\t\tmySubredditListCachedObject[loggedInUser() || 'null'] = {\n\t\t\tlist: mySubredditList,\n\t\t\ttime: new Date().getTime(),\n\t\t};\n\t\t_lastUpdate = 'just now';\n\t}\n\tif (_lastUpdate !== false && mySubredditListCached) { // Show only if there is cached version and the user have enough subscription\n\t\t$('.listing-chooser a:first .description').after(`<br /><span class=\"description\"><b>last update:</b><br />${_lastUpdate}</span>`);\n\t}\n\t// we now remove inactive user\n\tconst inactiveThreshold = new Date().getTime() - 2592000000; // one month\n\tfor (const [user, cachedObject] of Object.entries(mySubredditListCachedObject)) {\n\t\tif (cachedObject.time < inactiveThreshold) {\n\t\t\tdelete mySubredditListCachedObject[user];\n\t\t}\n\t}\n\tSession.set('RESmodules.subredditManager.mySubredditList', mySubredditListCachedObject);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport {\n\tAlert,\n\tThing,\n\taddCSS,\n\thide,\n\tunhide,\n\tCreateElement,\n\tisPageType,\n\tloggedInUser,\n\twatchForThings,\n\twatchForElements,\n\tformatDateDiff,\n\tfromSecondsToTime,\n\tstring,\n} from '../utils';\nimport { _addHeaderId } from '../utils/dom';\nimport { i18n } from '../environment';\nimport { Expando } from './showImages/expando';\nimport Youtube from './hosts/youtube';\nimport * as SubredditManager from './subredditManager';\n\nexport const module: Module<*> = new Module('betteReddit');\n\nmodule.moduleName = 'betteRedditName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'betteRedditDesc';\nmodule.options = {\n\tcommentsLinksNewTabs: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditCommentsLinksNewTabDesc',\n\t\ttitle: 'betteRedditCommentsLinksNewTabTitle',\n\t},\n\tfixHideLinks: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'betteRedditFixHideLinksDesc',\n\t\ttitle: 'betteRedditFixHideLinksTitle',\n\t},\n\thideLinkInstant: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditHideLinkInstantDesc',\n\t\ttitle: 'betteRedditHideLinkInstantTitle',\n\t\tdependsOn: options => options.fixHideLinks.value,\n\t},\n\thideLinkFadeDelay: {\n\t\ttype: 'text',\n\t\tvalue: '5000',\n\t\tdescription: 'betteRedditHideLinkFadeDelayDesc',\n\t\ttitle: 'betteRedditHideLinkFadeDelayTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.fixHideLinks.value && !options.hideLinkInstant.value,\n\t},\n\tvideoTimes: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'betteRedditVideoTimesDesc',\n\t\ttitle: 'betteRedditVideoTimesTitle',\n\t\tadvanced: true,\n\t},\n\tvideoUploaded: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditVideoUploadedDesc',\n\t\ttitle: 'betteRedditVideoUploadedTitle',\n\t\tadvanced: true,\n\t},\n\tvideoViewed: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditVideoViewedDesc',\n\t\ttitle: 'betteRedditVideoViewedTitle',\n\t\tadvanced: true,\n\t},\n\tpinHeader: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'None',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Subreddit Bar only',\n\t\t\tvalue: 'sub',\n\t\t}, {\n\t\t\tname: 'User Bar',\n\t\t\tvalue: 'userbar',\n\t\t}, {\n\t\t\tname: 'Subreddit Bar and User bar',\n\t\t\tvalue: 'subanduser',\n\t\t}, {\n\t\t\tname: 'Full Header',\n\t\t\tvalue: 'header',\n\t\t}],\n\t\tvalue: 'none',\n\t\tdescription: 'betteRedditPinHeaderDesc',\n\t\ttitle: 'betteRedditPinHeaderTitle',\n\t\tbodyClass: 'pinHeader',\n\t},\n\tshowLastEditedTimestamp: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'betteRedditShowLastEditedTimestampDesc',\n\t\ttitle: 'betteRedditShowLastEditedTimestampTitle',\n\t\tbodyClass: true,\n\t},\n\tscoreHiddenTimeLeft: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'betteRedditScoreHiddenTimeLeftDesc',\n\t\ttitle: 'betteRedditScoreHiddenTimeLeftTitle',\n\t},\n\tshowTimestampPosts: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampPostsDesc',\n\t\ttitle: 'betteRedditShowTimestampPostsTitle',\n\t\tbodyClass: true,\n\t},\n\tshowTimestampComments: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampCommentsDesc',\n\t\ttitle: 'betteRedditShowTimestampCommentsTitle',\n\t\tbodyClass: true,\n\t},\n\tshowTimestampSidebar: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampSidebarDesc',\n\t\ttitle: 'betteRedditShowTimestampSidebarTitle',\n\t\tbodyClass: true,\n\t},\n\tshowTimestampWiki: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampWikiDesc',\n\t\ttitle: 'betteRedditShowTimestampWikiTitle',\n\t\tbodyClass: true,\n\t},\n\tshowTimestampModerationLog: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampModerationLogDesc',\n\t\ttitle: 'betteRedditShowTimestampModerationLogTitle',\n\t\tbodyClass: true,\n\t},\n\trestoreSavedTab: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditRestoreSavedTabDesc',\n\t\ttitle: 'betteRedditRestoreSavedTabTitle',\n\t},\n\tdoNoCtrlF: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditDoNoCtrlFDesc',\n\t\ttitle: 'betteRedditDoNoCtrlFTitle',\n\t},\n\tshowHiddenSortOptions: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowHiddenSortOptionsDesc',\n\t\ttitle: 'betteRedditShowHiddenSortOptionsTitle',\n\t\tbodyClass: true,\n\t},\n\ttruncateLongLinks: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditTruncateLongLinksDesc',\n\t\ttitle: 'betteRedditTruncateLongLinksTitle',\n\t\tbodyClass: true,\n\t},\n\tcommentCollapseInInbox: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditCommentCollapseInInboxDesc',\n\t\ttitle: 'betteRedditCommentCollapseInInboxTitle',\n\t\tbodyClass: true,\n\t},\n\trestrictScrollEvents: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditRestrictScrollEventsDesc',\n\t\ttitle: 'betteRedditRestrictScrollEventsTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.exclude = [\n\t'd2x',\n];\n\nmodule.beforeLoad = () => {\n\tif (module.options.commentsLinksNewTabs.value) {\n\t\twatchForThings(['comment'], comment => {\n\t\t\tconst body = comment.getTextBody();\n\t\t\tif (body) for (const link of body.querySelectorAll('a')) commentsLinksNewTabs((link: any));\n\t\t});\n\t}\n\n\tif (module.options.fixHideLinks.value) {\n\t\twatchForThings(['post'], fixHideLinks);\n\t}\n\n\tif (module.options.doNoCtrlF.value) {\n\t\twatchForElements(['page'], '.side a.reddit-comment-link', applyNoCtrlF);\n\t\twatchForThings(null, thing => {\n\t\t\tfor (const link of thing.entry.querySelectorAll('ul.flat-list.buttons li a')) applyNoCtrlF(link);\n\t\t});\n\t}\n\n\tif (module.options.videoTimes.value || module.options.videoUploaded.value || module.options.videoViewed.value) {\n\t\t// Fetch data immediately, to potentially reduce number of requests\n\t\twatchForThings(['post'], thing => { if (thing.isVisible()) fetchVideoData(thing); }, { immediate: true });\n\t\twatchForThings(['post'], showVideoData);\n\t}\n\n\tswitch (module.options.pinHeader.value) {\n\t\tcase 'userbar':\n\t\t\t_addHeaderId('header-bottom-right', true);\n\t\t\tbreak;\n\t\tcase 'sub':\n\t\t\t_addHeaderId('sr-header-area');\n\t\t\tbreak;\n\t\tcase 'subanduser':\n\t\t\t_addHeaderId('sr-header-area');\n\t\t\t_addHeaderId('header-bottom-right', true);\n\t\t\tbreak;\n\t\tcase 'header':\n\t\t\t_addHeaderId('header');\n\t\t\tbreak;\n\t\tcase 'none':\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tif (module.options.restrictScrollEvents.value) {\n\t\tconst scr = document.createElement('script');\n\t\tscr.innerHTML = `{\n\t\t\t// Prevents overzealous Reddit scroll listeners from constantly mutating the DOM while scrolling\n\t\t\tlet debounce, lastEvent;\n\t\t\twindow.addEventListener('scroll', e => {\n\t\t\t\tif (!debounce)  debounce = _.debounce(e => window.dispatchEvent(e), 300);\n\t\t\t\tif (e === lastEvent) return;\n\t\t\t\tlastEvent = e;\n\t\t\t\tdebounce(e);\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t}, true);\n\t\t}`;\n\t\tdocument.documentElement.append(scr);\n\t}\n};\n\nmodule.contentStart = () => {\n\tif (module.options.scoreHiddenTimeLeft.value && isPageType('comments', 'commentsLinklist')) {\n\t\t$('.sitetable').on('mouseenter', '.score-hidden', function() {\n\t\t\tconst timeNode = $(this).siblings('time').get(0);\n\t\t\tif (timeNode) {\n\t\t\t\tif (!this.getAttribute('title').includes('revealed')) {\n\t\t\t\t\tconst scoreHiddenDuration = parseInt(this.getAttribute('title').match(/[0-9]+/)[0], 10);\n\t\t\t\t\tconst postTime = new Date(timeNode.getAttribute('datetime')).getTime();\n\t\t\t\t\tconst minutesLeft = Math.ceil((postTime + scoreHiddenDuration * 60000 - new Date().getTime()) / 60000);\n\t\t\t\t\tif (minutesLeft >= 1) {\n\t\t\t\t\t\tthis.setAttribute('title', `score will be revealed in ${minutesLeft} minute${minutesLeft > 1 ? 's' : ''}`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setAttribute('title', 'reload page to reveal score');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tconst user = loggedInUser();\n\tif (module.options.restoreSavedTab.value && user && document.querySelector('.with-listing-chooser:not(.profile-page)')) {\n\t\trestoreSavedTab(user);\n\t}\n\n\tswitch (module.options.pinHeader.value) {\n\t\tcase 'header':\n\t\t\tpinHeader();\n\t\t\tbreak;\n\t\tcase 'sub':\n\t\t\tpinSubredditBar();\n\t\t\tbreak;\n\t\tcase 'subanduser':\n\t\t\tpinSubredditBar();\n\t\t\tpinUserBar();\n\t\t\tbreak;\n\t\tcase 'userbar':\n\t\t\tpinUserBar();\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n};\n\nfunction commentsLinksNewTabs(link) {\n\tlink.target = '_blank';\n\tlink.rel = 'noopener noreferer';\n}\n\nfunction fixHideLinks(thing) {\n\tconst orig = thing.getHideElement();\n\tif (!orig) return;\n\n\tconst a = document.createElement('a');\n\ta.className = 'noCtrlF';\n\ta.href = 'javascript:void 0'; // eslint-disable-line no-script-url\n\ta.dataset.eventAction = orig.dataset.eventAction;\n\ta.dataset.text = i18n(\n\t\torig.dataset.eventAction === 'hide' ?\n\t\t\t'betteRedditHideLinkLabel' :\n\t\t\t'betteRedditUnhideLinkLabel',\n\t);\n\ta.addEventListener('click', () => hideLink(a));\n\n\torig.replaceWith(a);\n}\n\nconst hideTimer = new Map();\n\nasync function hideLink(clickedLink, action = clickedLink.dataset.eventAction) {\n\tconst timeout = module.options.hideLinkInstant.value ?\n\t\tnull :\n\t\tparseInt(module.options.hideLinkFadeDelay.value, 10);\n\n\tconst thing = Thing.checkedFrom(clickedLink);\n\n\tif (action === 'hide') {\n\t\t// Native expandos does not know that the post is being hidden, so collapse them manually\n\t\tconst expando = Expando.getEntryExpandoFrom(thing);\n\t\tif (expando && expando.types.includes('native')) expando.collapse();\n\n\t\tif (timeout === null) {\n\t\t\tif (!isPageType('comments')) $(thing.element).hide();\n\t\t} else {\n\t\t\thideTimer.set(clickedLink, setTimeout(() => {\n\t\t\t\tif (clickedLink.dataset.eventAction === action) return; // It may have been unhidden\n\t\t\t\t$(thing.element).fadeOut(300);\n\t\t\t}, timeout));\n\t\t}\n\t}\n\n\ttry {\n\t\tif (action === 'hide') await hide(thing);\n\t\telse await unhide(thing);\n\t} catch (e) {\n\t\tAlert.open(i18n(action === 'hide' ? 'betteRedditHideSubmissionError' : 'betteRedditUnhideSubmissionError'));\n\t\t$(thing.element).show();\n\t\tthrow e;\n\t}\n}\n\nconst fetchVideoData = _.memoize(thing => {\n\tconst url = new URL(thing.getPostUrl(), location.origin);\n\tif (!Youtube.domains.some(domain => url.hostname.endsWith(domain))) return;\n\tconst [id] = Youtube.detect(url) || [];\n\tif (id) return Youtube.getVideoData && Youtube.getVideoData(id);\n});\n\nasync function showVideoData(thing) {\n\tconst data = await fetchVideoData(thing);\n\tif (!data) return;\n\n\tconst { title, duration, publishedAt, viewCount } = data;\n\n\tconst link = thing.getPostLink();\n\tconst info = [];\n\n\tif (module.options.videoUploaded.value) {\n\t\tconst uploaded = new Date(publishedAt); // 2016-01-27T05:49:48.000Z\n\t\tconst dt = `${uploaded.toDateString()} ${uploaded.toTimeString()}`;\n\t\tconst timeAgo = i18n('submitHelperTimeAgo', formatDateDiff(uploaded));\n\t\tinfo.push(`[<time title=\"${dt}\" datetime=\"${publishedAt}\" class=\"live-timestamp\">${timeAgo}</time>]`);\n\t}\n\n\tif (module.options.videoViewed.value && viewCount) {\n\t\tinfo.push(i18n('betteRedditVideoViewed', viewCount));\n\t}\n\n\tconst titleHasTimeRegex = /[\\[|\\(][0-9]*:[0-9]*[\\]|\\)]/;\n\tconst getYoutubeStartTimeRegex = /\\/?[&|\\?]?(?:t|time_continue)=([\\w\\-][a-z0-9]*)/i;\n\tconst timeMatch = getYoutubeStartTimeRegex.exec(link.href);\n\tconst titleMatch = titleHasTimeRegex.test(link.textContent);\n\n\tlet startTime;\n\tif (timeMatch && !titleMatch) {\n\t\tconst seconds = fromYoutubeTimecodeToSeconds(timeMatch[1]);\n\t\tstartTime = fromSecondsToTime(seconds);\n\t}\n\n\tif (info.length) {\n\t\tlink.appendChild(string.html`<span class=\"gray pay-link\">${string.safe(info.join(' '))}</span>`);\n\t}\n\tlink.setAttribute('title', i18n('betteRedditVideoYouTubeTitle', title));\n\n\tif (module.options.videoTimes.value) {\n\t\t// Add native Reddit duration overlay on video thumbnail\n\t\tconst thumbnail = thing.element.querySelector('a.thumbnail');\n\t\tif (thumbnail) {\n\t\t\tthumbnail.appendChild(string.html`<div class=\"duration-overlay\">${duration}${startTime ? ` (@${startTime})` : ''}</div>`);\n\t\t}\n\t}\n}\n\nfunction fromYoutubeTimecodeToSeconds(tc: string) {\n\tlet timeSeconds = Number(tc);\n\tif (Number.isNaN(timeSeconds)) {\n\t\tconst tcobj = (tc.split(/(\\d+[hms])/)\n\t\t\t.filter(Boolean)\n\t\t\t.reduce((acc, match) => {\n\t\t\t\tacc[match.slice(-1)] = Number(match.slice(0, -1));\n\t\t\t\treturn acc;\n\t\t\t}, {}));\n\t\ttimeSeconds = (tcobj.h || 0) * 3600 + (tcobj.m || 0) * 60 + (tcobj.s || 0);\n\t}\n\treturn timeSeconds;\n}\n\nfunction pinSubredditBar() {\n\t// Make the subreddit bar at the top of the page a fixed element\n\t// The subreddit manager code changes the document's structure\n\tconst sm = Modules.isRunning(SubredditManager);\n\n\tconst sb = document.getElementById('sr-header-area');\n\tif (!sb) {\n\t\treturn; // reddit is under heavy load\n\t}\n\tconst header = document.getElementById('header');\n\n\t// add a dummy <div> inside the header to replace the subreddit bar (for spacing)\n\tconst spacer = document.createElement('div');\n\t// null parameter is necessary for FF3.6 compatibility.\n\tspacer.style.paddingTop = window.getComputedStyle(sb, null).paddingTop;\n\tspacer.style.paddingBottom = window.getComputedStyle(sb, null).paddingBottom;\n\n\t// HACK: for some reason, if the SM is enabled, the SB gets squeezed horizontally,\n\t//       and takes up three rows of vertical space (even at low horizontal resolution).\n\tif (sm) {\n\t\tspacer.style.height = `${parseInt(window.getComputedStyle(sb, null).height, 10) / 3 - 3}px`;\n\t} else {\n\t\tspacer.style.height = window.getComputedStyle(sb, null).height;\n\t}\n\n\t// add the spacer; take the subreddit bar out of the header and put it above\n\theader.insertBefore(spacer, sb);\n\tdocument.body.insertBefore(sb, header);\n\n\t// make it fixed\n\taddCSS(`\n\t\t#header-bottom-left {\n\t\t\tmargin-top: 19px;\n\t\t}\n\n\t\tdiv#sr-header-area {\n\t\t\tposition: fixed;\n\t\t\tz-index: 10000 !important;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t}\n\t`);\n\tpinCommonElements(sm);\n}\n\nfunction pinUserBar() {\n\tconst header = document.getElementById('header-bottom-left');\n\tconst userbar = document.getElementById('header-bottom-right');\n\n\twindow.addEventListener('scroll', _.debounce(() => {\n\t\tif (header.getBoundingClientRect().top > 0) {\n\t\t\tuserbar.classList.remove('res-floating-userbar');\n\t\t} else {\n\t\t\tuserbar.classList.add('res-floating-userbar');\n\t\t}\n\t}, 300));\n\n\tpinCommonElements();\n}\n\n/*\n * Modify the header so that its position is fixed to the top.\n */\nfunction pinHeader() {\n\tconst sm = Modules.isRunning(SubredditManager);\n\n\tconst header = document.getElementById('header');\n\n\tif (!header) {\n\t\tconsole.error('No element found with ID \"header\".');\n\t\treturn;\n\t}\n\n\tconst headerHeight = $('#header').outerHeight(true);\n\n\t// Add fixed positioning to all relevant elements.\n\taddCSS(`\n\t\t#header,\n\t\t#RESAccountSwitcherDropdown {\n\t\t\tposition: fixed;\n\t\t}\n\t`);\n\tpinCommonElements(sm);\n\n\t// Ensure the header remains in its original position at the top of the page.\n\t// We can't change the z-index because themes often rely on it being a certain value.\n\taddCSS(`\n\t\t#header {\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: auto;\n\t\t}\n\t`);\n\n\t// Spacer height should be equal to header (including padding, margins, etc).\n\t$('<div>', {\n\t\tid: 'RESPinnedHeaderSpacer',\n\t\theight: headerHeight,\n\t}).insertBefore(header);\n}\n\nfunction pinCommonElements(sm) {\n\t// pin the elements common to both pinHeader() and pinSubredditBar()\n\tif (sm) {\n\t\t// RES's subreddit menu\n\t\taddCSS(`\n\t\t\t#RESSubredditGroupDropdown,\n\t\t\t#srList,\n\t\t\t#RESShortcutsAddFormContainer,\n\t\t\t#editShortcutDialog {\n\t\t\t\tposition: fixed !important;\n\t\t\t}\n\t\t`);\n\t} else {\n\t\taddCSS(`\n\t\t\t#sr-more-link {\n\t\t\t\tposition: fixed;\n\t\t\t}\n\t\t`);\n\t}\n}\n\nfunction restoreSavedTab(user) {\n\tCreateElement.tabMenuItem({\n\t\ttext: 'saved',\n\t\tonChange: () => { location.href = `/user/${user}/saved/`; },\n\t});\n}\n\nfunction applyNoCtrlF(element) {\n\tif (element.classList.contains('noCtrlF')) return;\n\n\telement.classList.add('noCtrlF');\n\telement.dataset.text = element.textContent;\n\telement.textContent = '';\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { execRegexes, regexes, Thing } from '../utils';\n\nexport const module: Module<*> = new Module('commentDepth');\n\nmodule.moduleName = 'commentDepthName';\nmodule.category = 'commentsCategory';\nmodule.disabledByDefault = true;\nmodule.description = 'commentDepthDesc';\n\nmodule.options = {\n\tdefaultCommentDepth: {\n\t\ttype: 'text',\n\t\tvalue: '4',\n\t\tdescription: 'commentDepthDefaultCommentDepthDesc',\n\t\ttitle: 'commentDepthDefaultCommentDepthTitle',\n\t},\n\tdefaultMinimumComments: {\n\t\ttype: 'text',\n\t\tvalue: '50',\n\t\tdescription: 'commentDepthDefaultMinimumCommentsDesc',\n\t\ttitle: 'commentDepthDefaultMinimumCommentsTitle',\n\t},\n\tcommentPermalinks: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentDepthCommentPermaLinksDesc',\n\t\ttitle: 'commentDepthCommentPermaLinksTitle',\n\t},\n\tcommentPermalinksContext: {\n\t\tdependsOn: options => options.commentPermalinks.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentDepthCommentPermalinksContextDesc',\n\t\ttitle: 'commentDepthCommentPermalinksContextTitle',\n\t},\n\tsubredditCommentDepths: {\n\t\ttype: 'table',\n\t\taddRowText: 'commentDepthAddSubreddit',\n\t\tfields: [{\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'commentDepthSubreddit',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'commentDepth',\n\t\t\tname: 'commentDepthCommentDepth',\n\t\t\ttype: 'text',\n\t\t\tvalue: '4',\n\t\t}, {\n\t\t\tkey: 'minimumComments',\n\t\t\tname: 'commentDepthMinimumComments',\n\t\t\ttype: 'text',\n\t\t\tvalue: '50',\n\t\t}],\n\t\tvalue: ([]: Array<[string, string, string]>),\n\t\tdescription: 'commentDepthSubredditCommentDepthsDesc',\n\t\ttitle: 'commentDepthSubredditCommentDepthsTitle',\n\t},\n};\n\nmodule.contentStart = () => {\n\t$(document.body).on('mousedown', 'a[href*=\"/comments\"]', (e: Event) => {\n\t\tconst target: HTMLAnchorElement = (e.currentTarget: any);\n\t\tconst url = new URL(target.href, location.href);\n\n\t\t// no need to proceed if depth already exists in the query string\n\t\tif (url.searchParams.has('depth')) return;\n\n\t\tif (regexes.commentPermalink.test(url.pathname)) {\n\t\t\tif (!module.options.commentPermalinks.value) return;\n\t\t\tif (!module.options.commentPermalinksContext.value && url.searchParams.has('context')) return;\n\t\t}\n\n\t\tconst matches = execRegexes.comments(url.pathname);\n\t\tif (!matches) return;\n\n\t\tconst subreddit = matches[1].toLowerCase();\n\n\t\t// check for subreddit specific values\n\t\tconst [, commentDepth, minimumComments] = (\n\t\t\tmodule.options.subredditCommentDepths.value.find(([subreddits]) => subreddits.toLowerCase().split(',').includes(subreddit)) ||\n\t\t\t[null, module.options.defaultCommentDepth.value, module.options.defaultMinimumComments.value]\n\t\t);\n\n\t\t// NaN or 0 (show everything)\n\t\tif (!parseInt(commentDepth, 10)) return;\n\n\t\tconst minimumCount = parseInt(minimumComments, 10);\n\t\tif (minimumCount) {\n\t\t\tconst thing = Thing.from(e.currentTarget);\n\t\t\tif (thing && thing.isPost() && (thing.getCommentCount() || 0) < minimumCount) return;\n\t\t}\n\n\t\turl.searchParams.set('depth', commentDepth);\n\t\ttarget.removeAttribute('data-inbound-url');\n\t\ttarget.href = url.href;\n\t});\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { Storage } from '../environment';\nimport { execRegexes, maybePruneOldEntries, watchForThings, Thing } from '../utils';\n\nexport const module: Module<*> = new Module('commentHidePersistor');\n\nmodule.moduleName = 'commentHidePerName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentHidePerDesc';\n\nmodule.include = [\n\t'comments',\n\t'inbox',\n];\n\nconst COLLAPSE_REASON = 'commentHidePersistor';\nconst currentId: string = (execRegexes.comments(location.pathname) || [])[2];\nconst entryStorage = Storage.wrapPrefix('commentHidePersistor.', (): {\n\tupdateTime: number,\n\tcollapsedThings?: { [fullName: string]: boolean },\n} => ({\n\tupdateTime: Date.now(),\n}));\nconst initial = currentId && entryStorage.get(currentId);\n\nmodule.beforeLoad = async () => {\n\tconst { collapsedThings } = await initial || {};\n\tif (!collapsedThings) return;\n\n\twatchForThings(['comment'], thing => {\n\t\tif (collapsedThings.hasOwnProperty(thing.getFullname())) thing.setCommentCollapse(true, COLLAPSE_REASON);\n\t}, { immediate: true });\n};\n\nmodule.contentStart = () => {\n\tlistenToCommentCollapse();\n\n\tmaybePruneOldEntries('commentHidePersistor', entryStorage);\n};\n\nfunction listenToCommentCollapse() {\n\t$(document.body).on('click', 'a.expand', (e: MouseEvent) => {\n\t\tconst thing = Thing.checkedFrom(e.currentTarget);\n\t\tconst collapsed = thing.isCollapsed();\n\n\t\tif (collapsed) {\n\t\t\t// Ignore if some automatic function (e.g. filters) caused this to collapse\n\t\t\tconst currentCollapseReason = e.currentTarget.getAttribute('collapse-reason');\n\t\t\tif (currentCollapseReason && currentCollapseReason !== COLLAPSE_REASON) return;\n\n\t\t\tentryStorage.patch(currentId, { collapsedThings: { [thing.getFullname()]: true }, updateTime: Date.now() });\n\t\t} else {\n\t\t\te.currentTarget.removeAttribute('collapse-reason');\n\t\t\tentryStorage.deletePath(currentId, 'collapsedThings', thing.getFullname());\n\t\t}\n\t});\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { markdown, markdownWiki } from 'snudown-js';\nimport { Module } from '../core/module';\nimport type { RedditStylesheet } from '../types/reddit';\nimport { ajax } from '../environment';\nimport * as Modules from '../core/modules';\nimport {\n\tNAMED_KEYS,\n\tcheckKeysForEvent,\n\tcurrentSubreddit,\n\tdowncast,\n\tisPageType,\n\tpreventCloning,\n\tstring,\n\tempty,\n} from '../utils';\nimport * as CommentTools from './commentTools';\nimport * as KeyboardNav from './keyboardNav';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('commentPreview');\n\nmodule.moduleName = 'commentPrevName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentPrevDesc';\nmodule.options = {\n\tenableBigEditor: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableBigEditorDesc',\n\t\ttitle: 'commentPreviewEnableBigEditorTitle',\n\t},\n\tswapBigEditorLayout: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentPreviewSwapBigEditorLayoutDesc',\n\t\ttitle: 'commentPreviewSwapBigEditorLayoutTitle',\n\t\tbodyClass: true,\n\t},\n\topenBigEditor: {\n\t\ttype: 'keycode',\n\t\tvalue: [69, false, true, false, false], // control-e\n\t\tdescription: 'commentPreviewOpenBigEditorDesc',\n\t\ttitle: 'commentPreviewOpenBigEditorTitle',\n\t},\n\tdraftStyle: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewDraftStyleDesc',\n\t\ttitle: 'commentPreviewDraftStyleTitle',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tenableForComments: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForCommentsDesc',\n\t\ttitle: 'commentPreviewEnableForCommentsTitle',\n\t\tadvanced: true,\n\t},\n\tenableForPosts: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForPostsDesc',\n\t\ttitle: 'commentPreviewEnableForPostsTitle',\n\t\tadvanced: true,\n\t},\n\tenableForWiki: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForWikiDesc',\n\t\ttitle: 'commentPreviewEnableForWikiTitle',\n\t\tadvanced: true,\n\t},\n\tenableForSubredditConfig: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForSubredditConfigDesc',\n\t\ttitle: 'commentPreviewEnableForSubredditConfigTitle',\n\t\tadvanced: true,\n\t},\n\tenableForBanMessages: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForBanMessagesDesc',\n\t\ttitle: 'commentPreviewEnableForBanMessagesTitle',\n\t\tadvanced: true,\n\t},\n\tsidebarPreview: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewSidebarPreviewDesc',\n\t\ttitle: 'commentPreviewSidebarPreviewTitle',\n\t\tadvanced: true,\n\t},\n};\nmodule.include = [\n\t'comments',\n\t'inbox',\n\t'submit',\n\t'profile',\n\t'modqueue',\n\t'subredditAbout',\n\t'wiki',\n];\nmodule.exclude = [\n\t'd2x',\n\t/^\\/(?:r\\/[\\-\\w\\.]+\\/)?wiki\\/edit\\/config\\/automoderator\\b/i,\n];\n\nconst subredditImages = new Map();\nlet isWiki, isBan;\n\nmodule.beforeLoad = () => {\n\tisWiki = isPageType('wiki');\n\tisBan = (/^https?:\\/\\/(?:[\\-\\w\\.]+\\.)?reddit\\.com\\/r\\/[\\-\\w\\.]+\\/about\\/banned/i).test(location.href);\n\n\tconst subreddit = currentSubreddit();\n\tif (isWiki && subreddit) initWikiImages(subreddit);\n};\n\nmodule.contentStart = () => {\n\tif (module.options.enableBigEditor.value) {\n\t\t$(document.body).on('click', '.RESBigEditorPop', showBigEditor);\n\n\t\tif (Modules.isRunning(KeyboardNav)) {\n\t\t\t$(document.body).on('keydown', '.usertext-edit textarea, #wiki_page_content', (e: KeyboardEvent) => {\n\t\t\t\tif (checkKeysForEvent(e, module.options.openBigEditor.value)) {\n\t\t\t\t\tshowBigEditor(e);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tif (isWiki) {\n\t\tattachWikiPreview();\n\t\taddBigEditorButton(document.querySelector('.markhelp'));\n\t} else {\n\t\t$(document.body).on('focus', CommentTools.commentTextareaSelector, e => {\n\t\t\taddBigEditorButton(e.currentTarget);\n\t\t\tattachPreview(e.currentTarget);\n\t\t});\n\t}\n};\n\nasync function initWikiImages(subreddit) {\n\tconst { data } = (await ajax({\n\t\turl: `/r/${subreddit}/about/stylesheet.json`,\n\t\ttype: 'json',\n\t}): RedditStylesheet);\n\n\tif (data && data.images) {\n\t\tfor (const { name, url } of data.images) {\n\t\t\tsubredditImages.set(name, url);\n\t\t}\n\t}\n}\n\nfunction markdownToHTML(md) {\n\tif (isBan && md.length) {\n\t\tmd = generateBanMessage(md, currentSubreddit() || '');\n\t}\n\n\tif (!isWiki) {\n\t\treturn markdown(md);\n\t} else {\n\t\t/*\n\t\t<s>Snudown, and therefore SnuOwnd, is a bit funny about how it generates its table of contents entries.\n\t\tTo when it encounters a header it tries to perform some of the usual inline formatting such as emphasis, strikethoughs, or superscript in headers. The text containing generated HTML then gets passed into cb_toc_header which escapes all of the passed HTML. When reddit gets it escaped tags are stripped.\n\n\t\tIt would be nicer if they just used different functions for rendering the emphasis when making headers.</s>\n\n\t\tIt seems that my understanding was wrong, for some reason reddit doesn't even use snudown's TOC renderer.\n\t\t*/\n\n\t\t// SnuOwnd created this HTML from markdown so it is safe.\n\t\tconst $doc = $('<body>').html(markdownWiki(md));\n\n\t\tfor (const img: HTMLImageElement of ($doc.find('img'): any)) {\n\t\t\tconst src = img.getAttribute('src');\n\t\t\tconst imgKey = src && src.startsWith('%%') && src.endsWith('%%') && src.slice('%%'.length, -'%%'.length);\n\t\t\tconst resolvedSrc = imgKey && subredditImages.get(imgKey);\n\n\t\t\tif (resolvedSrc) {\n\t\t\t\t// convert %%subredditImages%% to their resolved URLs\n\t\t\t\timg.src = resolvedSrc;\n\t\t\t} else {\n\t\t\t\t// remove external/unresolved images\n\t\t\t\timg.remove();\n\t\t\t}\n\t\t}\n\n\t\tconst headerIds = new Map();\n\t\tconst headers = $doc.find('h1, h2, h3, h4, h5, h6');\n\t\tconst tocDiv = $('<div>').addClass('toc');\n\t\tlet $parent = $('<ul>');\n\t\t$parent.data('level', 1);\n\t\ttocDiv.append($parent);\n\t\tlet level = 1;\n\t\tlet previous = 1;\n\t\tconst prefix = 'wiki';\n\t\theaders.each(function() {\n\t\t\tconst contents = $(this).text();\n\t\t\tlet aid = $('<div>').html(contents).text();\n\t\t\taid = `${prefix}_${aid.replace(/ /g, '_').toLowerCase()}`;\n\t\t\taid = aid.replace(/[^\\w\\.\\-]/g, s => `.${s.charCodeAt(0).toString(16).toUpperCase()}`);\n\t\t\tconst idNum = (headerIds.get(aid) || 0) + 1;\n\t\t\theaderIds.set(aid, idNum);\n\n\t\t\tif (idNum > 1) {\n\t\t\t\taid += idNum;\n\t\t\t}\n\n\t\t\t$(this).attr('id', aid);\n\n\t\t\tconst li = $('<li>').addClass(aid);\n\t\t\tconst a = $('<a>').attr('href', `#${aid}`).text(contents);\n\t\t\tli.append(a);\n\n\t\t\tconst thisLevel = +this.tagName.slice(-1);\n\t\t\tif (thisLevel > previous) {\n\t\t\t\tconst $newUL = $('<ul>');\n\t\t\t\t$newUL.data('level', thisLevel);\n\t\t\t\t$parent.append($newUL);\n\t\t\t\t$parent = $newUL;\n\t\t\t\tlevel++;\n\t\t\t} else if (thisLevel < previous) {\n\t\t\t\twhile (level > 1 && $parent.data('level') > thisLevel) {\n\t\t\t\t\t$parent = $parent.parent();\n\t\t\t\t\tlevel--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevious = thisLevel;\n\t\t\t$parent.append(li);\n\t\t});\n\t\t$doc.prepend(tocDiv);\n\t\treturn $doc.html();\n\t}\n}\n\nconst addBigEditorButton = _.memoize(ele => {\n\tif (!module.options.enableBigEditor.value) return;\n\n\tconst bigEditorButton = preventCloning(string.html`\n\t\t<button type=\"button\" class=\"RESBigEditorPop\" tabIndex=\"3\">\n\t\t\t<span class=\"res-icon res-icon-12\">&#xF0A4;</span> big editor\n\t\t</button>\n\t`);\n\n\tif (isBan || isWiki) {\n\t\tele.after(bigEditorButton);\n\t} else {\n\t\tconst container = ele.closest('.usertext-edit');\n\t\tif (!container) return;\n\t\tconst bottom = container.querySelector('.bottom-area');\n\t\tbottom.prepend(bigEditorButton);\n\t}\n});\n\nconst attachPreview = _.memoize(textarea => {\n\tif (\n\t\t!module.options.enableForComments.value && textarea.closest('.commentarea, .message') ||\n\t\t!module.options.enableForPosts.value && (isPageType('submit') || textarea.closest('.link')) ||\n\t\t!module.options.enableForSubredditConfig.value && (/^\\/r\\/[\\-\\w.]+\\/about\\/edit/i).test(location.pathname) ||\n\t\t!module.options.enableForBanMessages.value && isBan\n\t) {\n\t\treturn;\n\t}\n\n\tconst container = textarea.closest('.usertext-edit, #banned');\n\tif (!container) return;\n\n\tconst preview = preventCloning(makePreviewBox());\n\n\tconst elements = [preview.querySelector('.RESDialogContents')];\n\tif (module.options.sidebarPreview.value && textarea.getAttribute('name') === 'description') {\n\t\telements.push(document.querySelector('.side .usertext-body .md'));\n\t}\n\n\t$(textarea).on('input', _.debounce(() => onTextareaInput(textarea, preview, elements), 100));\n\n\t// trigger initial render in case the textarea already has text in it\n\t// e.g. if it was copied from the top-level textarea into a comment reply\n\tonTextareaInput(textarea, preview, elements);\n\n\t// Close on submit\n\t$(textarea.closest('form')).on('submit', () => {\n\t\tpreview.remove();\n\t});\n\n\tcontainer.append(preview);\n});\n\nfunction attachWikiPreview() {\n\tif (!module.options.enableForWiki.value) return;\n\n\tconst preview = makePreviewBox();\n\tpreview.querySelector('.md').classList.add('wiki');\n\tdocument.querySelector('#editform > br').after(preview);\n\tconst contents = preview.querySelector('.RESDialogContents');\n\n\t$('#wiki_page_content').on('input focus', _.debounce(e => onTextareaInput(e.currentTarget, preview, [contents]), 100));\n}\n\nfunction onTextareaInput(textarea, preview, elements) {\n\tconst markdownText = downcast(textarea, HTMLTextAreaElement).value;\n\n\tif (markdownText.length) {\n\t\tif (preview) preview.hidden = false;\n\t\t// SnuOwnd created this HTML from markdown so it is safe.\n\t\tfor (const ele of elements) ele.innerHTML = markdownToHTML(markdownText);\n\t} else {\n\t\tif (preview) preview.hidden = true;\n\t\tfor (const ele of elements) empty(ele);\n\t}\n}\n\nfunction makePreviewBox() {\n\treturn string.html`\n\t\t<div class=\"RESDialogSmall livePreview\">\n\t\t\t<h3>Live Preview</h3>\n\t\t\t${string.safe(SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, ' ', 'gearIcon'))}\n\t\t\t<div class=\"md RESDialogContents\"></div>\n\t\t</div>\n\t`;\n}\n\nconst createBigEditor = _.once(() => {\n\tconst $editor = $('<div id=\"BigEditor\">');\n\tconst $left = $('<div class=\"BELeft RESDialogSmall\"><h3>Editor</h3></div>');\n\tconst $contents = $('<div class=\"RESDialogContents\"><textarea id=\"BigText\" name=\"text\" class=\"\"></textarea></div>');\n\tconst $textarea = $contents.find('textarea');\n\tconst $foot = $('<div class=\"BEFoot\">');\n\tif (!isBan) {\n\t\t$foot.append($('<button type=\"button\">save</button>').on('click', () => {\n\t\t\tconst len = $textarea.val().length;\n\t\t\tconst max = $textarea.data('max-length');\n\t\t\tif (len > max) {\n\t\t\t\t$('#BigEditor .errorList .error').hide().filter('.TOO_LONG').text(`this is too long (max: ${max})`).show();\n\t\t\t} else if (len === 0) {\n\t\t\t\t$('#BigEditor .errorList .error').hide().filter('.NO_TEXT').show();\n\t\t\t} else {\n\t\t\t\thideBigEditor(true);\n\t\t\t}\n\t\t}));\n\t}\n\t$foot.append($('<button type=\"button\">close</button>').on('click', () => hideBigEditor()));\n\n\t$foot.append($(`\n\t\t<span class=\"errorList\">\n\t\t\t<span style=\"display: none;\" class=\"error NO_TEXT\">we need something here</span>\n\t\t\t<span style=\"display: none;\" class=\"error TOO_LONG\">this is too long (max: 10000)</span>\n\t\t</span>\n\t`));\n\n\t$contents.append($foot);\n\t$left.append($contents);\n\n\tconst $right = $(`\n\t\t<div class=\"BERight RESDialogSmall\"><h3>Preview</h3><div class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t<div class=\"RESDialogContents\"><div id=\"BigPreview\" class=\" md\"></div></div></div>\n\t`);\n\t$editor.append($left).append($right);\n\n\t$right.find('.RESCloseButton').on('click', () => hideBigEditor());\n\n\tconst $preview = $right.find('#BigPreview');\n\t$textarea.on('input', _.debounce(() => onTextareaInput($textarea.get(0), null, [$preview.get(0)]), 100));\n\n\t$editor.on('keydown', (e: KeyboardEvent) => {\n\t\t// Close big editor on escape\n\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\thideBigEditor();\n\t\t\te.preventDefault();\n\t\t\treturn false;\n\t\t}\n\t});\n\n\treturn $editor;\n});\n\nlet $bigTextTarget;\n\nfunction showBigEditor(e: Event) {\n\te.preventDefault();\n\tconst $editor = createBigEditor();\n\t$(document.body)\n\t\t.append($editor)\n\t\t.addClass('RESScrollLock');\n\tconst $textarea = $editor.find('textarea');\n\tlet $baseText;\n\tif (!isWiki && !isBan) {\n\t\t$baseText = $(e.currentTarget).parents('.usertext-edit:first').find('textarea');\n\n\t\tconst limit = $baseText.attr('data-limit');\n\t\t$textarea.attr('data-limit', limit);\n\t\t$('#BigPreview').removeClass('wiki');\n\t\t$('.BERight .RESDialogContents').removeClass('wiki-page-content');\n\t} else if (isBan) {\n\t\t$baseText = $('#ban_message');\n\n\t\tconst limit = $baseText.attr('data-limit');\n\t\t$textarea.attr('data-limit', limit);\n\t\t$('#BigPreview').removeClass('wiki');\n\t\t$('.BERight .RESDialogContents').removeClass('wiki-page-content');\n\t} else {\n\t\t$baseText = $('#wiki_page_content');\n\t\t$('#BigPreview').addClass('wiki');\n\t\t$('.BERight .RESDialogContents').addClass('wiki-page-content');\n\t}\n\n\tconst markdown = $baseText.val();\n\tconst maxLength = $baseText.data('max-length');\n\t$textarea.data('max-length', maxLength).val(markdown).focus();\n\t$bigTextTarget = $baseText;\n\t$textarea.get(0).dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n}\n\nfunction hideBigEditor(save: boolean = false) {\n\tif (!$bigTextTarget) throw new Error();\n\n\tconst $editor = createBigEditor();\n\tconst $textarea = $editor.find('textarea');\n\n\t$bigTextTarget.val($textarea.val());\n\t$bigTextTarget.get(0).dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n\n\tif (save) {\n\t\t$bigTextTarget.closest('form').find('input[type=submit], button[type=submit]').click();\n\t} else {\n\t\t$bigTextTarget.focus();\n\t}\n\n\t// Use native remove method to prevent JQuery discarding event listeners\n\t$editor.get(0).remove();\n\t$(document.body).removeClass('RESScrollLock');\n\n\t$bigTextTarget = null;\n}\n\nfunction generateBanMessage(message, subreddit) {\n\treturn [\n\t\t`you have been banned from posting to [/r/${subreddit}](/r/${subreddit}).`,\n\t\t'',\n\t\t'note from the moderators:',\n\t\t'',\n\t\tmessage.replace(/^/gm, '> '),\n\t\t'',\n\t\t'you can contact the moderators regarding your ban by replying to this message. **warning**: using other accounts to circumvent a subreddit ban is considered a violation of reddit\\'s [site rules](/rules) and can result in being banned from reddit entirely.',\n\t].join('\\r\\n');\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tclick,\n\tThing,\n\tSelectedThing,\n\taddCSS,\n} from '../utils';\n\nexport const module: Module<*> = new Module('commentQuickCollapse');\n\nmodule.moduleName = 'commentQuickCollapseName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentQuickCollapseDesc';\n\nmodule.options = {\n\thideCommentsOnHeaderDoubleClick: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'hideCommentsOnHeaderDoubleClickDesc',\n\t\ttitle: 'hideCommentsOnHeaderDoubleClickTitle',\n\t},\n\ttoggleCommentsOnClickLeftEdge: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t\tdescription: 'toggleCommentsOnClickLeftEdgeDesc',\n\t\ttitle: 'toggleCommentsOnClickLeftEdgeTitle',\n\t},\n\tleftEdgeColor: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'color',\n\t\tvalue: '#D1D1D1',\n\t\tdescription: 'toggleCommentsLeftEdgeColorDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeColorTitle',\n\t},\n\tleftEdgeHoverColor: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'color',\n\t\tvalue: '#B1B1B1',\n\t\tdescription: 'toggleCommentsLeftEdgeHoverColorDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeHoverColorTitle',\n\t},\n\tleftEdgeCollapsedColor: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'color',\n\t\tvalue: '#B1B1B1',\n\t\tdescription: 'toggleCommentsLeftEdgeCollapsedColorDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeCollapsedColorTitle',\n\t},\n\tleftEdgeWidth: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'text',\n\t\tvalue: '50',\n\t\tdescription: 'toggleCommentsLeftEdgeWidthDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeWidthTitle',\n\t},\n\thideCollapseButton: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t\tdescription: 'toggleCommentsLeftEdgeHideButtonDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeHideButtonTitle',\n\t},\n\tscrollOnCollapse: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'scrollOnCollapseDesc',\n\t\ttitle: 'scrollOnCollapseTitle',\n\t},\n};\n\nmodule.include = [\n\t'comments',\n];\n\nmodule.beforeLoad = () => {\n\tif (module.options.toggleCommentsOnClickLeftEdge.value) {\n\t\ttoggleCommentsOnClickLeftEdge();\n\t}\n};\n\nmodule.contentStart = () => {\n\tif (module.options.hideCommentsOnHeaderDoubleClick.value) {\n\t\thideCommentsOnHeaderDoubleClick();\n\t}\n\tif (module.options.scrollOnCollapse.value) {\n\t\tscrollOnCollapse();\n\t}\n};\n\nfunction hideCommentsOnHeaderDoubleClick() {\n\t$('.commentarea').on('dblclick', '.tagline', (e: Event) => {\n\t\tconst thing = Thing.checkedFrom(e.currentTarget);\n\t\tthing.setCommentCollapse(!thing.isCollapsed(), 'commentQuickCollapse');\n\n\t\t// since the browser will select the whole comment exchange\n\t\t// on a double click, we manually deselect it\n\t\tif (window.getSelection()) {\n\t\t\twindow.getSelection().removeAllRanges();\n\t\t}\n\t});\n}\n\nfunction toggleCommentsOnClickLeftEdge() {\n\tconst leftEdgeWidth = _.clamp(parseInt(module.options.leftEdgeWidth.value, 10), 0, parseInt((module.options.leftEdgeWidth: any).default, 10)) / 100;\n\n\taddCSS(`\n\t\t.commentarea .comment {\n\t\t\tpadding-left: ${2.5 * leftEdgeWidth}em !important;\n\t\t}\n\n\t\t.commentarea .comment > .entry > .tagline > .expand:hover {\n\t\t\tbackground-color: ${module.options.leftEdgeHoverColor.value};\n\t\t}\n\n\t\t.commentarea .entry > .tagline > .expand {\n\t\t\twidth: ${2 * leftEdgeWidth}em !important;\n\t\t\tbackground-color: ${module.options.leftEdgeColor.value};\n\t\t}\n\n\t\t.commentarea .collapsed > .entry > .tagline > .expand {\n\t\t\tbackground-color: ${module.options.leftEdgeCollapsedColor.value};\n\t\t}\n\t`);\n}\n\nfunction scrollOnCollapse() {\n\t$(document.body).on('click', '.expand', (event: MouseEvent) => {\n\t\t// avoid scrolling on programmatic events (commentHidePersistor)\n\t\tif (click.isProgrammaticEvent(event)) return;\n\n\t\tconst thing = Thing.checkedFrom(event.target);\n\t\t// don't scroll on uncollapsed comments\n\t\tif (thing.element.classList.contains('noncollapsed')) return;\n\n\t\tconst target = thing.getClosest(Thing.prototype.getNextSibling, { direction: 'down' });\n\t\tif (!target) return;\n\n\t\tSelectedThing.set(target, { scrollStyle: 'adopt', from: thing.entry });\n\t});\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport {\n\tstring,\n\twatchForRedditEvents,\n} from '../utils';\n\nexport const module: Module<*> = new Module('commentSortBy');\n\nmodule.moduleName = 'commentSortByTitle';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentSortByDesc';\nmodule.include = ['d2x'];\n\nmodule.beforeLoad = () => {\n\twatchForRedditEvents('postModTools', (element, { _: { update } }) => {\n\t\tif (update) return;\n\t\tconst _base = document.querySelector('#CommentSort--SortPicker');\n\t\tconst base = _base && _base.parentElement;\n\t\tif (!base || base.querySelector('.sortByPrefLink')) return;\n\t\tbase.append(string.html`\n\t\t\t<a\n\t\t\t\tclass=\"sortByPrefLink gearIcon\"\n\t\t\t\tstyle=\"opacity: 0.3;\"\n\t\t\t\ttitle=\"Go to comment sort preferences\"\n\t\t\t\thref=\"https://old.reddit.com/prefs/#default_comment_sort\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t>${'\\u00A0'/* nbsp */}</a>\n\t\t`);\n\t});\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { addCSS } from '../utils';\n\nexport const module: Module<*> = new Module('commentStyle');\n\nmodule.moduleName = 'commentStyleName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'commentStyleDesc';\nmodule.options = {\n\tcommentBoxes: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentStyleCommentBoxesDesc',\n\t\ttitle: 'commentStyleCommentBoxesTitle',\n\t\tbodyClass: 'res-commentBoxes',\n\t},\n\tcommentRounded: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentStyleCommentRoundedDesc',\n\t\ttitle: 'commentStyleCommentRoundedTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.commentBoxes.value,\n\t\tbodyClass: 'res-commentBoxes-rounded',\n\t},\n\tcommentHoverBorder: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentStyleCommentHoverBorderDesc',\n\t\ttitle: 'commentStyleCommentHoverBorderTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.commentBoxes.value,\n\t\tbodyClass: 'res-commentHoverBorder',\n\t},\n\tcommentIndent: {\n\t\ttype: 'text',\n\t\tvalue: '10',\n\t\tdescription: 'commentStyleCommentIndentDesc',\n\t\ttitle: 'commentStyleCommentIndentTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.commentBoxes.value,\n\t},\n\tcontinuity: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentStyleContinuityDesc',\n\t\ttitle: 'commentStyleContinuityTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.commentBoxes.value,\n\t\tbodyClass: 'res-continuity',\n\t},\n};\n\nmodule.include = [\n\t'comments',\n\t'commentsLinklist',\n];\n\nmodule.exclude = [\n\t'd2x',\n];\n\nmodule.beforeLoad = () => {\n\tif (module.options.commentBoxes.value && module.options.commentIndent.value) {\n\t\t// this should override the default of 10px in commentboxes.css because it's added later.\n\t\taddCSS(`\n\t\t\t.res-commentBoxes .comment {\n\t\t\t\tmargin-left: ${module.options.commentIndent.value}px !important;\n\t\t\t}\n\t\t`);\n\t}\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { isPageType, string } from '../utils';\n\nexport const module: Module<*> = new Module('context');\n\nmodule.moduleName = 'contextName';\nmodule.category = 'commentsCategory';\nmodule.description = 'contextDesc';\nmodule.options = {\n\tviewFullContext: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'contextViewFullContextDesc',\n\t\ttitle: 'contextViewFullContextTitle',\n\t},\n\tdefaultContext: {\n\t\ttype: 'text',\n\t\tvalue: '3',\n\t\tdescription: 'contextDefaultContextDesc',\n\t\ttitle: 'contextDefaultContextTitle',\n\t},\n};\n\nmodule.include = [\n\t'comments',\n\t'commentsLinklist',\n\t'inbox',\n\t'profile',\n\t'modqueue',\n];\n\nmodule.go = () => {\n\tif (isPageType('comments') && module.options.viewFullContext.value) {\n\t\taddViewFullContext();\n\t}\n\n\tconst defaultContext = parseInt(module.options.defaultContext.value, 10);\n\tif (isPageType('commentsLinklist', 'inbox', 'profile', 'modqueue') && defaultContext >= 0) {\n\t\tsetDefaultContext(defaultContext);\n\t}\n};\n\nfunction addViewFullContext() {\n\tif (location.search !== '?context=10000') {\n\t\tconst pInfobar = document.querySelector('.infobar:not(#searchexpando) p');\n\t\tif (pInfobar) {\n\t\t\t// check if there is a Parent button; if not, it's a top comment so don't show full context link\n\t\t\tif ($('.sitetable:eq(1) .buttons:first .bylink').length > 1) { // Permalink and Parent have bylink class\n\t\t\t\tpInfobar.append('\\u00A0'/* nsbp */, string.html`<a href=\"?context=10000\">view the full context</a>`, '\\u00A0');\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction setDefaultContext(contextDepth) {\n\t$(document.body).on('mousedown', 'a.bylink', (e: Event) => {\n\t\tconst target: HTMLAnchorElement = (e.currentTarget: any);\n\t\ttarget.href = target.href.replace(/(\\?|&|;)context=\\d+\\b/, `$1context=${contextDepth}`);\n\t});\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { i18n, openNewTab } from '../environment';\nimport { string } from '../utils';\nimport * as Menu from './menu';\n\nexport const module: Module<*> = new Module('contribute');\n\nmodule.moduleName = 'contributeName';\nmodule.category = 'aboutCategory';\nmodule.sort = -9;\nmodule.alwaysEnabled = true;\nmodule.description = 'contributeDesc';\n\nmodule.contentStart = () => {\n\tMenu.addMenuItem(\n\t\t() => string.html`<span>${i18n('donateToRES')} &#8679;</span>`,\n\t\t() => { openNewTab('https://redditenhancementsuite.com/contribute/'); },\n\t);\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Sortable } from '../vendor';\nimport { Module } from '../core/module';\nimport {\n\tAlert,\n\tCreateElement,\n\taddDashboardTab,\n\tcurrentSubreddit,\n\tformatDateTime,\n\tisCurrentSubreddit,\n\tloggedInUser,\n\tstring,\n\tregisterPage,\n\tisAppType,\n} from '../utils';\nimport { i18n, Storage, ajax } from '../environment';\nimport * as Menu from './menu';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('dashboard');\n\nmodule.moduleName = 'dashboardName';\nmodule.category = 'productivityCategory';\nmodule.description = 'dashboardDesc';\nmodule.options = {\n\tmenuItem: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'dashboardMenuItemDesc',\n\t\ttitle: 'dashboardMenuItemTitle',\n\t},\n\tdefaultPosts: {\n\t\ttype: 'text',\n\t\tvalue: '3',\n\t\tdescription: 'dashboardDefaultPostsDesc',\n\t\ttitle: 'dashboardDefaultPostsTitle',\n\t\tadvanced: true,\n\t},\n\tdefaultSort: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'hot',\n\t\t\tvalue: 'hot',\n\t\t}, {\n\t\t\tname: 'new',\n\t\t\tvalue: 'new',\n\t\t}, {\n\t\t\tname: 'rising',\n\t\t\tvalue: 'rising',\n\t\t}, {\n\t\t\tname: 'controversial',\n\t\t\tvalue: 'controversial',\n\t\t}, {\n\t\t\tname: 'top',\n\t\t\tvalue: 'top',\n\t\t}],\n\t\tvalue: 'hot',\n\t\tdescription: 'dashboardDefaultSortDesc',\n\t\ttitle: 'dashboardDefaultSortTitle',\n\t},\n\tdefaultSortSearch: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'relevance',\n\t\t\tvalue: 'relevance',\n\t\t}, {\n\t\t\tname: 'top',\n\t\t\tvalue: 'top',\n\t\t}, {\n\t\t\tname: 'new',\n\t\t\tvalue: 'new',\n\t\t}, {\n\t\t\tname: 'comments',\n\t\t\tvalue: 'comments',\n\t\t}],\n\t\tvalue: 'relevance',\n\t\tdescription: 'dashboardDefaultSortSearchDesc',\n\t\ttitle: 'dashboardDefaultSortSearchTitle',\n\t},\n\tdashboardShortcut: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'dashboardDashboardShortcutDesc',\n\t\ttitle: 'dashboardDashboardShortcutTitle',\n\t},\n};\n\n// depends on loggedInUser; must be called after the username is available\nconst initialWidgetLoad = _.once(getLatestWidgets);\n\nmodule.beforeLoad = () => {\n\tif (module.options.menuItem.value) {\n\t\tconst dashboardUrl = isAppType('d2x') ? 'https://old.reddit.com/r/Dashboard' : '/r/Dashboard';\n\t\tMenu.addMenuItem(\n\t\t\t() => string.html`<a href=\"${dashboardUrl}\">${i18n('myDashboard')}</a>`,\n\t\t\tundefined,\n\t\t\t-7,\n\t\t);\n\t}\n};\n\nmodule.contentStart = () => {\n\taddDashboardTab('dashboardContents', 'My dashboard', module.moduleID, addDashboardFunctionality);\n\n\tconst subreddit = currentSubreddit();\n\tif (module.options.dashboardShortcut.value && subreddit) {\n\t\taddDashboardShortcuts(subreddit);\n\t}\n};\n\nconst MAX_ROWS = 100;\n\nconst dashboardStorage = Storage.wrap(() => `RESmodules.dashboard.${loggedInUser() || 'null'}`, ([]: Array<*>));\n\ntype WidgetOptions = {|\n\tbasePath: string,\n\tdisplayName?: string,\n\tnumPosts?: number,\n\tsortBy?: string,\n\tsortSearchBy?: string,\n\tminimized?: boolean,\n|};\n\nexport let widgets: Array<WidgetOptions> = [];\n\nasync function getLatestWidgets() {\n\twidgets = (await dashboardStorage.get())\n\t\t// A bug causes widgets to be inproperly saved in unknown circumstances; these must be ignored\n\t\t.filter(Boolean);\n}\n\nasync function addDashboardFunctionality(tabPage) {\n\tawait initialWidgetLoad();\n\tattachAddComponent($(tabPage));\n\tattachEditComponent();\n\tinitUpdateQueue();\n}\n\nfunction initUpdateQueue() {\n\tfor (const widget of widgets) {\n\t\tif (widget) addWidget(widget);\n\t}\n\n\tSortable.create(document.querySelector('#RESDashboard'), {\n\t\thandle: 'div.RESDashboardComponentHeader',\n\t\tonChange: () => saveOrder(),\n\t});\n}\n\nconst updateQueue = [];\nlet updateQueueTimer;\n\nfunction addToUpdateQueue(updateFunction) {\n\tupdateQueue.push(updateFunction);\n\tif (!updateQueueTimer) {\n\t\tupdateQueueTimer = setInterval(processUpdateQueue, 2000);\n\t\tsetTimeout(processUpdateQueue, 100);\n\t}\n}\n\nfunction processUpdateQueue() {\n\tconst thisUpdate = updateQueue.pop();\n\tthisUpdate();\n\tif (updateQueue.length < 1) {\n\t\tclearInterval(updateQueueTimer);\n\t\tupdateQueueTimer = undefined;\n\t}\n}\n\nfunction saveOrder() {\n\tconst data = $('#siteTable li.RESDashboardComponent').toArray().map(e => $(e).attr('id'));\n\tdata.reverse();\n\tconst newOrder = [];\n\tfor (const widget of widgets) {\n\t\tconst newIndex = data.indexOf(widget.basePath.replace(/(\\/|\\+)/g, '_'));\n\t\tnewOrder[newIndex] = widget;\n\t}\n\twidgets = newOrder;\n\tdashboardStorage.set(widgets);\n}\n\nlet widgetBeingEdited;\n\nfunction attachEditComponent() {\n\tconst $dashboardEditComponent = $('<div id=\"RESDashboardEditComponent\" class=\"RESDashboardComponent\" />');\n\t$dashboardEditComponent.html(`\n\t\t<div class=\"editWidget\">Edit widget</div>\n\t\t<div id=\"editRedditFormContainer\" class=\"editRedditForm\">\n\t\t\t<form id=\"editRedditForm\">\n\t\t\t\t<input type=\"text\" id=\"editReddit\" placeholder=\"subreddit / multireddit\">\n\t\t\t\t<input type=\"text\" id=\"editRedditDisplayName\" placeholder=\"display name (e.g. stuff)\">\n\t\t\t\t<input type=\"submit\" class=\"updateButton\" value=\"save changes\">\n\t\t\t\t<input type=\"cancel\" class=\"cancelButton\" value=\"cancel\">\n\t\t\t</form>\n\t\t\t<form id=\"editSearchForm\">\n\t\t\t\t<input type=\"text\" id=\"editSearch\" placeholder=\"search terms\">\n\t\t\t\t<input type=\"text\" id=\"editSearchDisplayName\" placeholder=\"display name (e.g. stuff)\">\n\t\t\t\t<input type=\"submit\" class=\"updateButton\" value=\"save changes\">\n\t\t\t\t<input type=\"cancel\" class=\"cancelButton\" value=\"cancel\">\n\t\t\t</form>\n\t\t</div>\n\t`);\n\n\t$dashboardEditComponent.find('#editRedditForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tlet thisBasePath = $('#editReddit').val();\n\t\tif (thisBasePath !== '') {\n\t\t\tthisBasePath = thisBasePath.replace(/,|\\s/g, '+');\n\t\t\twidgetBeingEdited.formerBasePath = widgetBeingEdited.basePath;\n\t\t\twidgetBeingEdited.basePath = `/r/${thisBasePath}`;\n\t\t\twidgetBeingEdited.displayName = $('#editRedditDisplayName').val();\n\t\t\twidgetBeingEdited.update();\n\t\t\t$('#RESDashboardEditComponent').fadeOut(() => $('#editReddit').blur());\n\t\t\twidgetBeingEdited.widgetEle.find('.widgetPath').text(widgetBeingEdited.displayName).attr('title', `/r/${thisBasePath}`);\n\t\t\tupdateWidget();\n\t\t}\n\t});\n\t$dashboardEditComponent.find('#editSearchForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tconst thisBasePath = $('#editSearch').val();\n\t\twidgetBeingEdited.formerBasePath = widgetBeingEdited.basePath;\n\t\twidgetBeingEdited.basePath = string.encode`/search?q=${thisBasePath}`;\n\t\twidgetBeingEdited.displayName = $('#editSearchDisplayName').val();\n\t\twidgetBeingEdited.update();\n\t\t$('#RESDashboardEditComponent').fadeOut(() => {\n\t\t\t$('#editSearch').val('').blur();\n\t\t\t$('#editSearchDisplayName').val('').blur();\n\t\t});\n\t\twidgetBeingEdited.widgetEle.find('.widgetPath').text(widgetBeingEdited.displayName).attr('title', thisBasePath);\n\t\tupdateWidget();\n\t});\n\t$dashboardEditComponent.find('.cancelButton').click(() => {\n\t\tif (widgetBeingEdited.basePath.startsWith('/search?q=')) {\n\t\t\t$('#RESDashboardEditComponent').fadeOut(() => $('#editSearchDisplayName').val('').blur());\n\t\t} else {\n\t\t\t$('#RESDashboardEditComponent').fadeOut(() => $('#editReddit').blur());\n\t\t}\n\t});\n\t$(document.body).append($dashboardEditComponent);\n}\n\nfunction showEditForm() {\n\tconst basePath = widgetBeingEdited.basePath;\n\tconst widgetEle = widgetBeingEdited.widgetEle;\n\tconst eleTop = $(widgetEle).position().top;\n\tconst eleWidth = $(widgetEle).width();\n\t$('#RESDashboardEditComponent').css('top', `${eleTop}px`).css('left', '5px').css('width', `${eleWidth + 2}px`);\n\tif (basePath.startsWith('/search?q=')) {\n\t\t$('#editSearchDisplayName').val(widgetBeingEdited.displayName);\n\t\t$('#editSearch').val(decodeURIComponent(basePath.substr(10)));\n\t\t$('#editSearchForm').show();\n\t\t$('#editRedditForm').hide();\n\t\t$('#RESDashboardEditComponent').fadeIn('fast');\n\t} else {\n\t\t$('#editReddit').val(widgetBeingEdited.basePath.substr(3));\n\t\t$('#editRedditDisplayName').val(widgetBeingEdited.displayName);\n\t\t$('#editRedditForm').show();\n\t\t$('#editSearchForm').hide();\n\t\t$('#RESDashboardEditComponent').fadeIn('fast');\n\t}\n}\n\nlet $dashboardUL;\n\nfunction attachAddComponent($tabPage) {\n\tconst $dashboardAddComponent = $('<div id=\"RESDashboardAddComponent\" class=\"RESDashboardComponent\" />');\n\t$dashboardAddComponent.html(`\n\t\t<div class=\"addNewWidget\">Add a new widget</div>\n\t\t<div id=\"addWidgetButtons\">\n\t\t\t<div class=\"addButton\" id=\"addSearchWidget\">+search widget</div>\n\t\t\t<div class=\"addButton\" id=\"addMailWidget\">+mail widget</div>\n\t\t\t<div class=\"addButton\" id=\"addUserWidget\">+user widget</div>\n\t\t\t<div class=\"addButton\" id=\"addRedditWidget\">+subreddit widget</div>\n\t\t</div>\n\t\t<div id=\"addSearchFormContainer\" class=\"addSearchForm\">\n\t\t\t<div class=\"backToWidgetTypes\">&laquo; back</div>\n\t\t\t<form id=\"addSearchForm\">\n\t\t\t\t<input type=\"text\" id=\"addSearch\" placeholder=\"search terms\">\n\t\t\t\t<input type=\"text\" id=\"addSearchDisplayName\" placeholder=\"display name (e.g. stuff)\">\n\t\t\t\t<input type=\"submit\" class=\"addButton\" value=\"+add\">\n\t\t\t</form>\n\t\t</div>\n\t\t<div id=\"addMailWidgetContainer\">\n\t\t\t<div class=\"backToWidgetTypes\">&laquo; back</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/inbox/\">+inbox</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/unread/\">+unread</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/messages/\">+messages</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/comments/\">+comment replies</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/selfreply/\">+post replies</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/moderator/\">+modmail</div>\n\t\t</div>\n\t\t<div id=\"addUserFormContainer\" class=\"addUserForm\">\n\t\t\t<div class=\"backToWidgetTypes\">&laquo; back</div>\n\t\t\t<form id=\"addUserForm\">\n\t\t\t\t<input type=\"text\" id=\"addUser\">\n\t\t\t\t<input type=\"submit\" class=\"addButton\" value=\"+add\">\n\t\t\t</form>\n\t\t</div>\n\t\t<div id=\"addRedditFormContainer\" class=\"addRedditForm\">\n\t\t\t<div class=\"backToWidgetTypes\">&laquo; back</div>\n\t\t\t<form id=\"addRedditForm\">\n\t\t\t\t<input type=\"text\" id=\"addReddit\" placeholder=\"subreddit / multireddit\">\n\t\t\t\t<input type=\"text\" id=\"addRedditDisplayName\" placeholder=\"display name (e.g. stuff)\">\n\t\t\t\t<input type=\"submit\" class=\"addButton\" value=\"+add\">\n\t\t\t</form>\n\t\t</div>\n\t`);\n\t$dashboardAddComponent.find('.backToWidgetTypes').click(function() {\n\t\t$(this).parent().fadeOut(() => $('#addWidgetButtons').fadeIn());\n\t});\n\t$dashboardAddComponent.find('.widgetShortcut').click(function() {\n\t\tconst thisBasePath = $(this).attr('widgetPath');\n\t\taddWidget({\n\t\t\tbasePath: thisBasePath,\n\t\t}, true);\n\t\t$('#addMailWidgetContainer').fadeOut(() => $('#addWidgetButtons').fadeIn());\n\t});\n\t$dashboardAddComponent.find('#addRedditWidget').click(() => {\n\t\t$('#addWidgetButtons').fadeOut(() => {\n\t\t\t$('#addRedditFormContainer').fadeIn(() => {\n\t\t\t\t$('#token-input-addReddit').focus();\n\t\t\t});\n\t\t});\n\t});\n\t$dashboardAddComponent.find('#addMailWidget').click(() => {\n\t\t$('#addWidgetButtons').fadeOut(() => $('#addMailWidgetContainer').fadeIn());\n\t});\n\t$dashboardAddComponent.find('#addUserWidget').click(() => {\n\t\t$('#addWidgetButtons').fadeOut(() => $('#addUserFormContainer').fadeIn());\n\t});\n\t$dashboardAddComponent.find('#addSearchWidget').click(() => {\n\t\t$('#addWidgetButtons').fadeOut(() => $('#addSearchFormContainer').fadeIn());\n\t});\n\n\t$dashboardAddComponent.find('#addRedditForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tlet thisBasePath = $('#addReddit').val();\n\t\tif (thisBasePath !== '') {\n\t\t\tthisBasePath = thisBasePath.replace(/,|\\s/g, '+');\n\t\t\tconst thisDisplayName = ($('#addRedditDisplayName').val()) ? $('#addRedditDisplayName').val() : thisBasePath;\n\t\t\taddWidget({\n\t\t\t\tbasePath: thisBasePath,\n\t\t\t\tdisplayName: thisDisplayName,\n\t\t\t}, true);\n\t\t\t$('#addReddit').val('').blur();\n\t\t\t$('#addRedditFormContainer').fadeOut(() => {\n\t\t\t\t$('#addWidgetButtons').fadeIn();\n\t\t\t});\n\t\t}\n\t});\n\t$dashboardAddComponent.find('#addUserForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tconst thisBasePath = `/user/${$('#addUser').val()}`;\n\t\taddWidget({\n\t\t\tbasePath: thisBasePath,\n\t\t}, true);\n\t\t$('#addUser').val('').blur();\n\t\t$('#addUserFormContainer').fadeOut(() => $('#addWidgetButtons').fadeIn());\n\t});\n\t$dashboardAddComponent.find('#addSearchForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tconst thisBasePath = string.encode`/search?q=${$('#addSearch').val()}`;\n\t\tconst thisDisplayName = ($('#addSearchDisplayName').val()) ? $('#addSearchDisplayName').val() : thisBasePath;\n\t\taddWidget({\n\t\t\tbasePath: thisBasePath,\n\t\t\tdisplayName: thisDisplayName,\n\t\t}, true);\n\t\t$('#addSearch').val('').blur();\n\t\t$('#addSearchFormContainer').fadeOut(() => $('#addWidgetButtons').fadeIn());\n\t});\n\t$dashboardUL = $('<ul id=\"RESDashboard\"></ul>');\n\t$tabPage.append($dashboardAddComponent, $dashboardUL);\n}\n\nfunction addWidget(optionsObject: WidgetOptions, isNew) {\n\tif (!optionsObject.basePath.startsWith('/')) {\n\t\toptionsObject.basePath = `/r/${optionsObject.basePath}`;\n\t}\n\tconst exists = widgets.some(widget => widget.basePath === optionsObject.basePath);\n\t// hide any shortcut button for this widget, since it exists... wait a second, though, or it causes rendering stupidity.\n\tsetTimeout(() => {\n\t\t$(`.widgetShortcut[widgetPath=\"${optionsObject.basePath}\"]`).hide();\n\t}, 1000);\n\tif (exists && isNew) {\n\t\tAlert.open(`A widget for ${optionsObject.basePath} already exists!`);\n\t} else {\n\t\tconst thisWidget = new WidgetObject(optionsObject);\n\t\tif ($dashboardUL) thisWidget.init();\n\t\tsaveWidget(thisWidget.optionsObject());\n\t}\n}\n\nasync function removeWidget(optionsObject) {\n\tawait getLatestWidgets();\n\tlet exists;\n\twidgets = widgets.filter(widget => {\n\t\tif (widget.basePath === optionsObject.basePath) {\n\t\t\texists = true;\n\t\t\t$(document.getElementById(widget.basePath.replace(/\\/|\\+/g, '_'))).fadeOut('slow', function() {\n\t\t\t\t$(this).detach();\n\t\t\t});\n\t\t\t// show any shortcut button for this widget, since we've now deleted it...\n\t\t\tsetTimeout(() => {\n\t\t\t\t$(`.widgetShortcut[widgetPath=\"${optionsObject.basePath}\"]`).show();\n\t\t\t}, 1000);\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t});\n\tif (!exists) {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'dashboard',\n\t\t\tmessage: 'The widget you just tried to remove does not seem to exist.',\n\t\t});\n\t}\n\tdashboardStorage.set(widgets);\n}\n\nasync function saveWidget(optionsObject) {\n\tawait getLatestWidgets();\n\n\tlet index = widgets.findIndex(widget => widget.basePath === optionsObject.basePath);\n\n\t// update if exists else append\n\tif (index === -1) {\n\t\tindex = widgets.length;\n\t}\n\twidgets[index] = optionsObject;\n\n\tdashboardStorage.set(widgets);\n}\n\nasync function updateWidget() {\n\tawait getLatestWidgets();\n\twidgets = widgets.map(widget => {\n\t\tif (widget.basePath === widgetBeingEdited.formerBasePath) {\n\t\t\tdelete widgetBeingEdited.formerBasePath;\n\t\t\twidget = widgetBeingEdited.optionsObject();\n\t\t}\n\t\treturn widget;\n\t});\n\tdashboardStorage.set(widgets);\n}\n\nfunction WidgetObject(widgetOptions: WidgetOptions) {\n\tthis.basePath = widgetOptions.basePath;\n\tif (widgetOptions.displayName === undefined || widgetOptions.displayName === null) {\n\t\twidgetOptions.displayName = this.basePath;\n\t}\n\tthis.displayName = widgetOptions.displayName;\n\tthis.numPosts = widgetOptions.numPosts || parseInt(module.options.defaultPosts.value, 10);\n\tthis.sortBy = widgetOptions.sortBy || module.options.defaultSort.value;\n\tthis.sortSearchBy = widgetOptions.sortSearchBy || module.options.defaultSortSearch.value;\n\tthis.minimized = widgetOptions.minimized || false;\n\tthis.widgetEle = $(`\n\t\t<li class=\"RESDashboardComponent\" id=\"${this.basePath.replace(/\\/|\\+/g, '_')}\">\n\t\t\t<div class=\"RESDashboardComponentScrim\">\n\t\t\t\t<div class=\"RESDashboardComponentLoader\">\n\t\t\t\t\t<span class=\"dashboardLoader\"/><span>querying the server. one moment please.</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t`);\n\tthis.header = $(`<div class=\"RESDashboardComponentHeader\"><a class=\"widgetPath\" title=\"${this.basePath}\" href=\"${this.basePath}\"></a></div>`);\n\tthis.header.find('.widgetPath').text(this.displayName);\n\tthis.sortControls = $('<ul class=\"widgetSortButtons\"><li sort=\"hot\">hot</li><li sort=\"new\">new</li><li sort=\"rising\">rising</li><li sort=\"controversial\">controversial</li><li sort=\"top\">top</li></ul>');\n\tthis.sortSearchControls = $('<ul class=\"widgetSortButtons\"><li sort=\"relevance\">relevance</li><li sort=\"top\">top</li><li sort=\"new\">new</li><li sort=\"comments\">comments</li></ul>');\n\t// return an optionsObject, which is what we'll store in the widgets array.\n\tthis.optionsObject = () => ({\n\t\tbasePath: this.basePath,\n\t\tdisplayName: this.displayName,\n\t\tnumPosts: this.numPosts,\n\t\tsortBy: this.sortBy,\n\t\tsortSearchBy: this.sortSearchBy,\n\t\tminimized: this.minimized,\n\t});\n\t// set the sort by properly...\n\t$(this.sortControls).find(`li[sort=${this.sortBy}]`).addClass('active');\n\t$(this.sortControls).find('li').click(e => {\n\t\tthis.sortChange($(e.currentTarget).attr('sort'));\n\t});\n\t$(this.sortSearchControls).find(`li[sort=${this.sortSearchBy}]`).addClass('active');\n\t$(this.sortSearchControls).find('li').click(e => {\n\t\tthis.sortChange($(e.currentTarget).attr('sort'));\n\t});\n\t$(this.header).append(this.sortControls);\n\tif (!this.basePath.startsWith('/r/') && !this.basePath.startsWith('/user/')) {\n\t\tsetTimeout(() => $(this.sortControls).hide(), 100);\n\t}\n\t$(this.header).append(this.sortSearchControls);\n\tif (!this.basePath.startsWith('/search?q=')) {\n\t\tsetTimeout(() => $(this.sortSearchControls).hide(), 100);\n\t}\n\tthis.stateControls = $('<ul class=\"widgetStateButtons\"><li class=\"updateTime\"></li><li action=\"refresh\" class=\"refresh\"><span class=\"res-icon\">&#xF0B0;</span></li><li action=\"refreshAll\" class=\"refreshAll\">Refresh All</li><li action=\"addRow\">+row</li><li action=\"subRow\">-row</li><li action=\"edit\" class=\"editButton\"><span class=\"res-icon\">&#xF139;</span></li><li action=\"minimize\" class=\"minimize\">-</li><li action=\"delete\" class=\"RESClose\">&times;</li></ul>');\n\t$(this.stateControls).find('li').click(e => {\n\t\tswitch ($(e.currentTarget).attr('action')) {\n\t\t\tcase 'refresh':\n\t\t\t\tthis.update();\n\t\t\t\tbreak;\n\t\t\tcase 'refreshAll':\n\t\t\t\t$('li[action=\"refresh\"]').click();\n\t\t\t\tbreak;\n\t\t\tcase 'addRow':\n\t\t\t\tif (this.numPosts === MAX_ROWS) break;\n\t\t\t\tthis.numPosts++;\n\t\t\t\tif (this.numPosts === MAX_ROWS) $(this.stateControls).find('li[action=addRow]').addClass('disabled');\n\t\t\t\t$(this.stateControls).find('li[action=subRow]').removeClass('disabled');\n\t\t\t\tsaveWidget(this.optionsObject());\n\t\t\t\tthis.update();\n\t\t\t\tbreak;\n\t\t\tcase 'subRow':\n\t\t\t\tif (this.numPosts === 0) break;\n\t\t\t\tthis.numPosts--;\n\t\t\t\tif (this.numPosts === 1) $(this.stateControls).find('li[action=subRow]').addClass('disabled');\n\t\t\t\t$(this.stateControls).find('li[action=addRow]').removeClass('disabled');\n\t\t\t\tsaveWidget(this.optionsObject());\n\t\t\t\tthis.update();\n\t\t\t\tbreak;\n\t\t\tcase 'minimize':\n\t\t\t\t$(this.widgetEle).toggleClass('minimized');\n\t\t\t\tif ($(this.widgetEle).hasClass('minimized')) {\n\t\t\t\t\t$(e.currentTarget).text('+');\n\t\t\t\t\tthis.minimized = true;\n\t\t\t\t} else {\n\t\t\t\t\t$(e.currentTarget).text('-');\n\t\t\t\t\tthis.minimized = false;\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t\t$(this.contents).parent().slideToggle();\n\t\t\t\tsaveWidget(this.optionsObject());\n\t\t\t\tbreak;\n\t\t\tcase 'delete':\n\t\t\t\tremoveWidget(this.optionsObject());\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t$(this.header).append(this.stateControls);\n\tthis.sortChange = sortBy => {\n\t\tthis.sortBy = sortBy;\n\t\tthis.sortSearchBy = sortBy;\n\t\t$(this.header).find('ul.widgetSortButtons li').removeClass('active');\n\t\t$(this.header).find(`ul.widgetSortButtons li[sort=${sortBy}]`).addClass('active');\n\t\tthis.update();\n\t\tsaveWidget(this.optionsObject());\n\t};\n\tthis.edit = () => {\n\t\twidgetBeingEdited = this; // eslint-disable-line consistent-this\n\t\tshowEditForm();\n\t};\n\t$(this.header).find('.editButton').click(this.edit);\n\tthis.update = () => {\n\t\tif (this.basePath.includes('/user/')) {\n\t\t\tthis.sortPath = (this.sortBy === 'hot') ? '/' : `?sort=${this.sortBy}`;\n\t\t} else if (this.basePath.includes('/r/')) {\n\t\t\tthis.sortPath = (this.sortBy === 'hot') ? '/' : `/${this.sortBy}/`;\n\t\t} else if (this.basePath.includes('/search?q=')) {\n\t\t\tthis.sortPath = `&sort=${this.sortSearchBy}`;\n\t\t} else {\n\t\t\tthis.sortPath = '';\n\t\t}\n\t\tthis.url = `${location.protocol}//${location.hostname}/${this.basePath}${this.sortPath}`;\n\t\t$(this.contents).fadeTo('fast', 0.25);\n\t\t$(this.scrim).fadeIn();\n\n\t\tajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.url,\n\t\t\tquery: {\n\t\t\t\tlimit: this.numPosts,\n\t\t\t},\n\t\t})\n\t\t\t.then(this.populate)\n\t\t\t.catch(this.error);\n\t};\n\tthis.container = $('<div class=\"RESDashboardComponentContainer\"><div class=\"RESDashboardComponentContents\"></div></div>');\n\tif (this.minimized) {\n\t\t$(this.container).addClass('minimized');\n\t\t$(this.stateControls).find('li.minimize').addClass('minimized').text('+');\n\t}\n\tthis.scrim = $(this.widgetEle).find('.RESDashboardComponentScrim');\n\tthis.contents = $(this.container).find('.RESDashboardComponentContents');\n\tthis.init = () => {\n\t\tthis.draw();\n\t\tif (!this.minimized) addToUpdateQueue(this.update);\n\t};\n\tthis.draw = () => {\n\t\t$(this.widgetEle).append(this.header);\n\t\t$(this.widgetEle).append(this.container);\n\t\tif (this.minimized) $(this.widgetEle).addClass('minimized');\n\t\t$dashboardUL.prepend(this.widgetEle);\n\t\t// $(thisWidget.scrim).fadeIn();\n\t};\n\tthis.populate = response => {\n\t\tlet $widgetContent = $(response).find('#siteTable, .search-result-group>.contents:last');\n\t\tconst $thisWidgetContents = $(this.contents);\n\n\t\t$widgetContent.attr('id', `siteTable_${this.basePath.replace(/\\/|\\+/g, '_')}`);\n\t\tif ($widgetContent.length === 2) $widgetContent = $($widgetContent[1]);\n\t\t$widgetContent.attr('url', `${this.url}?limit=${this.numPosts}`);\n\t\tif (($widgetContent.length > 0) && ($widgetContent.html() !== '')) {\n\t\t\t$widgetContent.html($widgetContent.html().replace(/<script(.|\\s)*?\\/script>/g, ''));\n\n\t\t\t// check for \"no results\"\n\t\t\tconst $noResults = $widgetContent.find('#noresults.error');\n\t\t\tif ($noResults.length) {\n\t\t\t\t$widgetContent.html('<span class=\"error\">No results found for this widget. Some sort methods, such as rising, may not always have results. Please try a different method.</span>');\n\t\t\t}\n\n\t\t\t// $widgetContent will contain HTML from Reddit's page load. No XSS here or you'd already be hit, can't call escapeHTML on this either and wouldn't help anyhow.\n\t\t\ttry {\n\t\t\t\t$thisWidgetContents.empty().append($widgetContent);\n\t\t\t} catch (e) {\n\t\t\t\t// console.log(e);\n\t\t\t}\n\n\t\t\t$thisWidgetContents.fadeTo('fast', 1);\n\t\t\t$(this.scrim).fadeOut(function() {\n\t\t\t\t$(this).hide(); // make sure it is hidden in case the element isn't visible due to being on a different dashboard tab\n\t\t\t});\n\t\t} else {\n\t\t\tif (this.url.includes('/message/')) {\n\t\t\t\t$thisWidgetContents.html('<div class=\"widgetNoMail\">No messages were found.</div>');\n\t\t\t} else {\n\t\t\t\t$thisWidgetContents.html('<div class=\"error\">There were no results returned for this widget. If you made a typo, simply close the widget to delete it. If reddit is just under heavy load, try clicking refresh in a few moments.</div>');\n\t\t\t}\n\t\t\t$thisWidgetContents.fadeTo('fast', 1);\n\t\t\t$(this.scrim).fadeOut();\n\t\t}\n\t\t$(this.stateControls).find('.updateTime').text(`updated: ${formatDateTime()}`);\n\n\t\t// now run watcher functions from other modules on this content...\n\t\tif ($widgetContent[0]) {\n\t\t\tregisterPage($widgetContent[0]);\n\t\t}\n\t};\n\tthis.error = e => {\n\t\tif (e.status === 404) {\n\t\t\t$(this.contents).html('<div class=\"error\">This widget received a 404 not found error. You may have made a typo when adding it.</div>');\n\t\t} else {\n\t\t\t$(this.contents).html('<div class=\"error\">There was an error loading data for this widget. Reddit may be under heavy load, or you may have provided an invalid path.</div>');\n\t\t}\n\t\t$(this.scrim).fadeOut();\n\t\t$(this.contents).fadeTo('fast', 1);\n\t};\n}\n\nfunction addDashboardShortcuts(subreddit) {\n\tconst subButtons = document.querySelectorAll('.side .fancy-toggle-button');\n\tfor (const subButton of subButtons) {\n\t\tlet isMulti, thisSubredditFragment;\n\t\tif (!subreddit.includes('+') && !isCurrentSubreddit('mod')) {\n\t\t\tisMulti = false;\n\t\t\tthisSubredditFragment = subreddit;\n\t\t} else if ($(subButton).parent().hasClass('subButtons')) {\n\t\t\tisMulti = true;\n\t\t\tthisSubredditFragment = $(subButton).parent().parent().find('a.title').text();\n\t\t} else {\n\t\t\tisMulti = true;\n\t\t\tthisSubredditFragment = $(subButton).next().text();\n\t\t}\n\t\tif ($(`#subButtons-${thisSubredditFragment}`).length === 0) {\n\t\t\tconst $subButtonsWrapper = $(`<div id=\"subButtons-${thisSubredditFragment}\" class=\"subButtons\" style=\"margin: 0 !important;\"></div>`);\n\t\t\t$(subButton).wrap($subButtonsWrapper);\n\t\t\t// move this wrapper to the end (after any icons that may exist...)\n\t\t\tif (isMulti) {\n\t\t\t\tconst theWrap = $(subButton).parent();\n\t\t\t\t$(theWrap).appendTo($(theWrap).parent());\n\t\t\t}\n\t\t}\n\t\tconst $subButtons = $(`#subButtons-${thisSubredditFragment}`);\n\t\tconst button = createSubredditToggleButton(subreddit);\n\t\tinitialWidgetLoad().then(() => button.dispatchEvent(new CustomEvent('refresh')));\n\t\tbutton.classList.add('RESDashboardToggle'); // custom subreddit styles uses this\n\t\t$subButtons.append(button);\n\t\tconst next = $subButtons.next();\n\t\tif ($(next).hasClass('title') && !$subButtons.hasClass('swapped')) {\n\t\t\t$subButtons.before($(next));\n\t\t\t$subButtons.addClass('swapped');\n\t\t}\n\t}\n}\n\nexport function createSubredditToggleButton(subreddit: string) {\n\tconst basePath = `/r/${subreddit.toLowerCase()}`;\n\n\treturn CreateElement.fancyToggleButton(\n\t\ti18n('subredditInfoAddRemoveDashboard'),\n\t\ti18n('subredditInfoAddThisSubredditToDashboard'),\n\t\t() => widgets.some(widget => widget && (widget.basePath.toLowerCase() === basePath)),\n\t\tstate => {\n\t\t\tif (state) {\n\t\t\t\taddWidget({ basePath });\n\t\t\t\tNotifications.showNotification({\n\t\t\t\t\theader: 'Dashboard Notification',\n\t\t\t\t\tmoduleID: 'dashboard',\n\t\t\t\t\tmessage: `\n\t\t\t\t\t\tDashboard widget added for ${basePath}\n\t\t\t\t\t\t<p><a class=\"RESNotificationButtonBlue\" href=\"/r/Dashboard\">view the dashboard</a></p>\n\t\t\t\t\t\t<div class=\"clear\"></div>\n\t\t\t\t\t`,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tremoveWidget({ basePath });\n\t\t\t}\n\t\t},\n\t);\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { PagePhases, downcast, watchForChildren } from '../utils';\n\nexport const module: Module<*> = new Module('disableChat');\n\nmodule.moduleName = 'disableChatName';\nmodule.category = 'productivityCategory';\nmodule.description = 'disableChatDesc';\nmodule.disabledByDefault = true;\n\nmodule.beforeLoad = () => {\n\tPagePhases.bodyStart.then(() => {\n\t\twatchForChildren(document.body, 'script', ele => {\n\t\t\tconst script = downcast(ele, HTMLScriptElement);\n\t\t\tif ((/^\\/_chat/).test(new URL(script.src, location.origin).pathname)) script.remove();\n\t\t});\n\n\t\t// The script may not removed promptly enough, so remove the iframe as fallback\n\t\twatchForChildren(document.body, '#chat-app', ele => {\n\t\t\tele.remove();\n\t\t});\n\t});\n};\n\nmodule.contentStart = () => {\n\tconst icon = document.body.querySelector('#chat');\n\tif (icon) {\n\t\tif (icon.nextElementSibling) icon.nextElementSibling.remove(); // Remove seperator\n\t\ticon.remove();\n\t}\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('localDate');\n\nmodule.moduleName = 'localDateName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'localDateDesc';\n\nmodule.contentStart = () => {\n\t$(document.body)\n\t\t.on('mouseenter', 'time', function() {\n\t\t\tconst $this = $(this);\n\t\t\tif (!$this.data('originalTitle')) {\n\t\t\t\t$this.data('originalTitle', $this.attr('title'));\n\t\t\t}\n\t\t\t$this.attr('title', new Date($this.attr('datetime')));\n\t\t})\n\t\t.on('mouseleave', 'time', function() {\n\t\t\tconst $this = $(this);\n\t\t\t$this.attr('title', $this.data('originalTitle'));\n\t\t});\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('logoLink');\n\nmodule.moduleName = 'logoLinkName';\nmodule.category = 'browsingCategory';\nmodule.description = 'logoLinkDesc';\nmodule.options = {\n\tredditLogoDestination: {\n\t\ttype: 'enum',\n\t\tvalue: 'frontpage',\n\t\tdescription: 'logoLinkRedditLogoDestinationDesc',\n\t\ttitle: 'logoLinkRedditLogoDestinationTitle',\n\t\tvalues: [{\n\t\t\tname: 'logoLinkFrontpage',\n\t\t\tvalue: 'frontpage',\n\t\t}, {\n\t\t\tname: 'logoLinkAll',\n\t\t\tvalue: 'all',\n\t\t}, {\n\t\t\tname: 'logoLinkHot',\n\t\t\tvalue: 'hot',\n\t\t}, {\n\t\t\tname: 'logoLinkDashboard',\n\t\t\tvalue: 'dashboard',\n\t\t}, {\n\t\t\tname: 'logoLinkCurrent',\n\t\t\tvalue: 'subreddit',\n\t\t}, {\n\t\t\tname: 'logoLinkMyUserPage',\n\t\t\tvalue: '/u/me',\n\t\t}, {\n\t\t\tname: 'logoLinkInbox',\n\t\t\tvalue: '/message/inbox',\n\t\t}, {\n\t\t\tname: 'logoLinkCustom',\n\t\t\tvalue: 'custom',\n\t\t}],\n\t},\n\tcustomDestination: {\n\t\tdependsOn: options => options.redditLogoDestination.value === 'custom',\n\t\ttype: 'text',\n\t\tvalue: '/',\n\t\tdescription: 'logoLinkCustomDestinationDesc',\n\t\ttitle: 'logoLinkCustomDestinationTitle',\n\t},\n};\n\nmodule.contentStart = () => {\n\tconst redditLogoNode: ?HTMLAnchorElement = (document.getElementById('header-img-a') || document.getElementById('header-img') || document.querySelector('header a[href=\"/\"]'): any);\n\tif (redditLogoNode) {\n\t\tconst url = getLogoLinkUrl();\n\t\tif (url) {\n\t\t\tredditLogoNode.href = url;\n\t\t}\n\t}\n};\n\nfunction getLogoLinkUrl() {\n\tconst destination = module.options.redditLogoDestination.value;\n\tswitch (destination) {\n\t\tcase 'frontpage':\n\t\t\treturn false;\n\t\tcase 'all':\n\t\t\treturn '/r/all';\n\t\tcase 'hot':\n\t\t\treturn '/hot';\n\t\tcase 'dashboard':\n\t\t\treturn '/r/Dashboard';\n\t\tcase 'subreddit':\n\t\t\treturn $('.redditname > a').attr('href');\n\t\tcase 'custom':\n\t\t\treturn module.options.customDestination.value;\n\t\tdefault:\n\t\t\treturn destination;\n\t}\n}\n","/* @flow */\n\nimport { i18n } from '../environment';\nimport { Module } from '../core/module';\nimport { string } from '../utils';\nimport * as Modules from '../core/modules';\nimport * as Hover from './hover';\nimport * as QuickMessage from './quickMessage';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('messageMenu');\n\nmodule.moduleName = 'messageMenuName';\nmodule.category = 'browsingCategory';\nmodule.description = 'messageMenuDesc';\n\nmodule.options = {\n\tlinks: {\n\t\ttype: 'table',\n\t\taddRowText: 'messageMenuAddShortcut',\n\t\tfields: [{\n\t\t\tkey: 'label',\n\t\t\tname: 'messageMenuLabel',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'url',\n\t\t\tname: 'messageMenuUrl',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [\n\t\t\t['compose', '/message/compose'],\n\t\t\t['all', '/message/inbox'],\n\t\t\t['unread', '/message/unread'],\n\t\t\t['messages', '/message/messages'],\n\t\t\t['comment replies', '/message/comments'],\n\t\t\t['post replies', '/message/selfreply'],\n\t\t\t['/u/ mentions', '/message/mentions'],\n\t\t],\n\t\tdescription: 'messageMenuLinksDesc',\n\t\ttitle: 'messageMenuLinksTitle',\n\t},\n\tuseQuickMessage: {\n\t\ttype: 'boolean',\n\t\tdescription: 'messageMenuUseQuickMessageDesc',\n\t\ttitle: 'messageMenuUseQuickMessageTitle',\n\t\tvalue: true,\n\t},\n\thoverDelay: {\n\t\ttype: 'text',\n\t\tvalue: '1000',\n\t\tdescription: 'messageMenuHoverDelayDesc',\n\t\ttitle: 'messageMenuHoverDelayTitle',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'messageMenuFadeDelayDesc',\n\t\ttitle: 'messageMenuFadeDelayTitle',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'messageMenuFadeSpeedDesc',\n\t\ttitle: 'messageMenuFadeSpeedTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tHover.dropdownList(module.moduleID)\n\t\t.options({\n\t\t\topenDelay: parseFloat(module.options.hoverDelay.value),\n\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t})\n\t\t.populateWith(() => [getListFragment()])\n\t\t.watch('#mail, .mail-count, #NREMail, #NREMailCount');\n};\n\nfunction getListFragment() {\n\tconst fragment = document.createDocumentFragment();\n\n\tfor (const link of module.options.links.value) {\n\t\tconst label = link[0] || '';\n\t\tconst url = link[1] || '';\n\t\tconst li = string.html`<li><a href=\"${url}\">${label}</a></li>`;\n\n\t\tli.addEventListener('click', (e: MouseEvent) => {\n\t\t\tif (module.options.useQuickMessage.value && Modules.isRunning(QuickMessage) && QuickMessage.messageLinkEventHandler(e)) return;\n\t\t\tHover.dropdownList(module.moduleID).close();\n\t\t});\n\n\t\tif (url.includes('/message/compose')) li.append(string.html`<span class=\"RESMenuItemButton res-icon\">&#xF139;</span>`);\n\n\t\tfragment.append(li);\n\t}\n\n\tfragment.append(string.html`<li><a href=${SettingsNavigation.makeUrlHash(module.moduleID, 'sectionMenu')}>\n\t\t<i>${i18n(module.moduleName)}</i>\n\t\t<span class=\"RESMenuItemButton gearIcon\"></span>\n\t</a></li>`);\n\n\treturn fragment;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { markdown } from 'snudown-js';\nimport { Module } from '../core/module';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('modHelper');\n\nmodule.moduleName = 'modhelperName';\nmodule.category = 'coreCategory';\nmodule.description = 'modhelperDesc';\nmodule.hidden = true;\nmodule.alwaysEnabled = true;\nmodule.include = ['stylesheet'];\nmodule.go = () => {\n\tdoStyleSheetCheck();\n};\n\nconst tips = {\n\t'no-res-styles': 'It appears you haven\\'t done any styling specific to RES.  If you are interested in a quick overview on styling for RES users, please see [our wiki article](/r/Enhancement/wiki/subredditstyling)',\n\tkeyNav: 'Styling `RES-keyNav-activeElement`? This is the element RES uses for Keyboard Navigation - it indicates the currently selected post, and is crucial to RES functionality. If you don\\'t like the way it looks with your theme, you may style it however you want, as long as Keyboard Navigation remains usable for your visitors.',\n\t'keyNav-benice': `It appears that you are hiding \\`RES-keyNav-activeElement\\`. This negatively affects RES users by rendering keyboard navigation unusable. It's understandable that you may not care for the default appearance, but we politely request that you consider styling it to fit your subreddit, perhaps using a particular background color or border. Even just a one-sided border, e.g. \\`border-right: 3px solid blue;\\` - thank you for your consideration.\\n\\n For convenience we've included \\`RES-keyNav-activeThing\\` which can be used as an alternative to \\`RES-keyNav-activeElement\\`. It applies to elements with the class \\`thing\\` as opposed to \\`entry\\`. If you choose to use this, make sure keyboard navigation is usable when [commentBoxes](${SettingsNavigation.makeUrlHash('styleTweaks', 'commentBoxes')}) is turned off.`,\n\tnightmode: 'Want your subreddit to be night mode friendly? Please have a look at [the night mode section of our wiki](/r/Enhancement/wiki/subredditstyling#wiki_res_night_mode_and_your_subreddit)',\n};\n\nfunction doStyleSheetCheck() {\n\tconst $stylesheetTextarea = $('.stylesheet-customize-container textarea');\n\tconst stylesheet = ($stylesheetTextarea.length) ? $($stylesheetTextarea).val() : '';\n\n\tcreateTipPane();\n\tif (stylesheet.length) {\n\t\t// check if they have any RES styles at all\n\t\tif (!stylesheet.includes('.res') && !stylesheet.includes('.RES')) {\n\t\t\taddTipToPane('no-res-styles');\n\t\t}\n\t\tif (!stylesheet.includes('.res-nightmode')) {\n\t\t\taddTipToPane('nightmode');\n\t\t}\n\n\t\t// check if they're hiding RES-keyNav-activeElement\n\t\tconst keyNavIdx = stylesheet.indexOf('.RES-keyNav-activeElement');\n\t\tif (keyNavIdx !== -1) {\n\t\t\tlet keyNavRule = '';\n\t\t\tlet i = keyNavIdx;\n\t\t\twhile (i < stylesheet.length) {\n\t\t\t\tconst thisChar = stylesheet.charAt(i);\n\t\t\t\tkeyNavRule += thisChar;\n\t\t\t\tif (thisChar === '}') {\n\t\t\t\t\ti = stylesheet.length;\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t(\n\t\t\t\t\tkeyNavRule.includes('transparent') ||\n\t\t\t\t\tkeyNavRule.includes('background: none') ||\n\t\t\t\t\tkeyNavRule.includes('background-color: none')\n\t\t\t\t) &&\n\t\t\t\t!keyNavRule.includes('border') &&\n\t\t\t\t!stylesheet.includes('.RES-keyNav-activeThing')\n\t\t\t) {\n\t\t\t\taddTipToPane('keyNav-benice');\n\t\t\t} else {\n\t\t\t\taddTipToPane('keyNav');\n\t\t\t}\n\t\t}\n\t}\n}\n\nlet $tipPane, $tipPaneHeader, $tipPaneContents, $tipPaneList;\n\nfunction createTipPane() {\n\tconst $sheetsDiv = $('div.sheets');\n\n\t$tipPane = $('<div>', { id: 'RESStyleSheetTipPane' });\n\t$tipPaneHeader = $('<div>', {\n\t\tid: 'RESStyleSheetTipPane-header',\n\t\tclass: 'minimized',\n\t\ttext: 'RES specific styling tips',\n\t\tclick: toggleTipPane,\n\t});\n\n\tconst $tipPaneCloseButton = $('<span>', {\n\t\tid: 'RESStyleSheetTipPane-close',\n\t\tclass: 'RESCloseButton RESCloseButtonTopRight',\n\t\ttitle: 'Close for this session',\n\t\tclick: hideTipPane,\n\t});\n\n\tconst $tipPaneHeaderSpan = $('<span>', { class: 'details', text: '[click for details]' });\n\n\t$tipPaneHeader\n\t\t.append($tipPaneCloseButton)\n\t\t.append($tipPaneHeaderSpan);\n\n\t$tipPaneContents = $('<div>', { id: 'RESStyleSheetTipPane-contents' });\n\t$tipPaneList = $('<ul>', { id: 'RESStyleSheetTipPane-list' });\n\t$tipPaneContents.append($tipPaneList);\n\n\t$tipPane\n\t\t.append($tipPaneHeader)\n\t\t.append($tipPaneContents);\n\n\t$sheetsDiv.before($tipPane);\n}\n\nfunction hideTipPane() {\n\tsessionStorage.setItem('hideTipPane', 'true');\n\t$tipPane.hide();\n}\n\nfunction toggleTipPane() {\n\tif ($tipPaneHeader.hasClass('minimized')) {\n\t\topenTipPaneContents();\n\t} else {\n\t\tcloseTipPaneContents();\n\t}\n}\n\nfunction openTipPaneContents() {\n\t$tipPaneHeader.removeClass('minimized');\n\t$tipPaneContents.slideDown();\n}\n\nfunction closeTipPaneContents() {\n\t$tipPaneHeader.addClass('minimized');\n\t$tipPaneContents.slideUp();\n}\n\nfunction addTipToPane(key) {\n\tconst tipText = tips[key];\n\tconst $tip = $('<li>', { html: markdown(tipText) });\n\n\tif (!sessionStorage.getItem('hideTipPane')) {\n\t\t$tipPane.show();\n\t}\n\n\t$tipPaneList.append($tip);\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { i18n } from '../environment';\nimport { string } from '../utils';\nimport * as Hover from './hover';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as PenaltyBox from './penaltyBox';\n\nexport const module: Module<*> = new Module('multiredditNavbar');\n\nmodule.moduleName = 'multiredditNavbarName';\nmodule.description = 'multiredditNavbarDesc';\nmodule.category = 'subredditsCategory';\n\nmodule.include = [\n\t// frontpage, multireddits, /r/all (including /r/all-sub1-sub2),\n\t// and some other special subreddits (/r/mod)\n\t// fails gracefully (and cheaply) if we're on a linklist page without the multireddit sidebar\n\t'linklist',\n];\n\nmodule.options = {\n\tsectionMenu: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'multiredditNavbarSectionMenuDesc',\n\t\ttitle: 'multiredditNavbarSectionMenuTitle',\n\t},\n\tsectionLinks: {\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'table',\n\t\taddRowText: 'multiredditNavbarAddShortcut',\n\t\tfields: [{\n\t\t\tkey: 'label',\n\t\t\tname: 'multiredditNavbarLabel',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'url',\n\t\t\tname: 'multiredditNavbarUrl',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [\n\t\t\t['new', './new'],\n\t\t\t['rising', './rising'],\n\t\t\t['controversial', './controversial'],\n\t\t\t['top', './top'],\n\t\t\t['top this month', './top?t=month'],\n\t\t\t['gilded', './gilded'],\n\t\t\t['promoted', './ads'],\n\t\t],\n\t\tdescription: 'multiredditNavbarSectionLinksDesc',\n\t\ttitle: 'multiredditNavbarSectionLinksTitle',\n\t},\n\thoverDelay: {\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '1000',\n\t\tdescription: 'multiredditNavbarHoverDelayDesc',\n\t\ttitle: 'multiredditNavbarHoverDelayTitle',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'multiredditNavbarFadeDelayDesc',\n\t\ttitle: 'multiredditNavbarFadeDelayTitle',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'multiredditNavbarFadeSpeedDesc',\n\t\ttitle: 'multiredditNavbarFadeSpeedTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.sectionMenu.value) {\n\t\tHover.dropdownList(module.moduleID)\n\t\t\t.options({\n\t\t\t\topenDelay: PenaltyBox.penalizedDelay(module.moduleID, 'sectionMenu', module.options.hoverDelay),\n\t\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t\t\tpin: Hover.pin.right,\n\t\t\t\toffsetWidth: -10,\n\t\t\t\toffsetHeight: 1,\n\t\t\t\tbottomPadding: 0,\n\t\t\t})\n\t\t\t.populateWith(card => [getListFragment(card.getCheckedTarget().href)])\n\t\t\t.watch('.listing-chooser .multis li a');\n\t}\n};\n\nconst getListFragment = baseUrl => {\n\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'sectionMenu', 5);\n\n\tconst fragment = document.createDocumentFragment();\n\n\tfor (const link of module.options.sectionLinks.value) {\n\t\tconst label = link[0] || '';\n\t\tconst url = link[1] || '';\n\t\tconst li = string.html`<li><a href=\"${baseUrl}${url}\">${label}</a></li>`;\n\n\t\tli.addEventListener('click', () => {\n\t\t\tHover.dropdownList(module.moduleID).close();\n\t\t\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'sectionMenu', -30);\n\t\t});\n\n\t\tfragment.append(li);\n\t}\n\n\tfragment.append(string.html`<li><a href=${SettingsNavigation.makeUrlHash(module.moduleID, 'sectionMenu')}>\n\t\t<i>${i18n(module.moduleName)}</i>\n\t\t<span class=\"RESMenuItemButton gearIcon\"></span>\n\t</a></li>`);\n\n\treturn fragment;\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { Thing, SelectedThing, frameDebounce, mutex, watchForDescendants, waitForDetach } from '../utils';\n\nexport const module: Module<*> = new Module('neverEndingComments');\n\nmodule.moduleName = 'necName';\nmodule.category = 'commentsCategory';\nmodule.description = 'necDescription';\nmodule.options = {\n\tloadChildComments: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'necLoadChildCommentsDesc',\n\t\ttitle: 'necLoadChildCommentsTitle',\n\t},\n};\n\nmodule.include = [\n\t'comments',\n];\n\nmodule.afterLoad = () => {\n\tconst context = document.body.querySelector(module.options.loadChildComments.value ? '.nestedlisting' : '.nestedlisting > .thing.morechildren');\n\tif (!context) return;\n\n\tconst visibleLoaders = new Set();\n\n\tconst io = new IntersectionObserver(entries => {\n\t\tfor (const { isIntersecting, target } of entries) {\n\t\t\tif (!context.contains(target)) io.unobserve(target);\n\t\t\tif (isIntersecting) visibleLoaders.add(target);\n\t\t\telse visibleLoaders.delete(target);\n\t\t}\n\n\t\tif (visibleLoaders.size) {\n\t\t\twindow.addEventListener('scroll', loadFirst);\n\t\t\tloadFirst();\n\t\t} else {\n\t\t\twindow.removeEventListener('scroll', loadFirst);\n\t\t}\n\t\t// Don't load the top comments, as they may are likely above the current focused comment and may mess up scroll anchoring\n\t\t// also load comments that are a little beneath the viewport so this works a bit more seamlessly\n\t}, { rootMargin: '-10% 0px 10% 0px' });\n\n\t// Wait a little before starting load, in case the user is just quickly scrolling through\n\tconst loadFirst = frameDebounce(mutex(async () => {\n\t\t// Load one at a time to reduce the latency\n\t\t// The uppermost is loaded first, as that is likely the one the user is interested having expanded\n\t\tconst loader = Array.from(visibleLoaders.values()).sort((a, b) => 3 - (a.compareDocumentPosition(b) & 6))\n\t\t\t.find(e => {\n\t\t\t\t// Don't load any above the selected thing\n\t\t\t\tconst thing = Thing.from(e);\n\t\t\t\treturn !SelectedThing.current || !thing || (SelectedThing.current.getDirectionOf(thing) === 'down');\n\t\t\t});\n\t\tif (loader) {\n\t\t\tloader.click();\n\t\t\tawait waitForDetach(\n\t\t\t\tloader,\n\t\t\t\t// The load may fail\n\t\t\t\tnew Promise(res => setTimeout(res, 3000)),\n\t\t\t);\n\t\t\tloadFirst();\n\t\t}\n\t}), 5);\n\n\twatchForDescendants(context, '.morecomments a', ele => { io.observe(ele); });\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport * as Metadata from '../core/metadata';\nimport { Storage, openNewTab, i18n } from '../environment';\nimport { filterMap } from '../utils';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('onboarding');\n\nmodule.moduleName = 'onboardingName';\nmodule.category = 'aboutCategory';\nmodule.description = 'onboardingDesc';\nmodule.alwaysEnabled = true;\n\nmodule.options = {\n\tupdateNotification: {\n\t\ttitle: 'onboardingUpdateNotificationName',\n\t\tdescription: 'onboardingUpdateNotificationDescription',\n\t\ttype: 'enum',\n\t\tvalue: 'notification',\n\t\tvalues: [{\n\t\t\tname: 'onboardingUpdateNotifictionReleaseNotes',\n\t\t\tvalue: 'releaseNotes',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNotification',\n\t\t\tvalue: 'notification',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNothing',\n\t\t\tvalue: 'nothing',\n\t\t}],\n\t},\n\tpatchUpdateNotification: {\n\t\ttitle: 'onboardingPatchUpdateNotificationName',\n\t\tdescription: 'onboardingPatchUpdateNotificationDescription',\n\t\ttype: 'enum',\n\t\tvalue: 'notification',\n\t\tvalues: [{\n\t\t\tname: 'onboardingUpdateNotifictionReleaseNotes',\n\t\t\tvalue: 'releaseNotes',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNotification',\n\t\t\tvalue: 'notification',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNothing',\n\t\t\tvalue: 'none',\n\t\t}],\n\t},\n\tbetaUpdateNotification: {\n\t\ttitle: 'onboardingBetaUpdateNotificationName',\n\t\tdescription: 'onboardingBetaUpdateNotificationDescription',\n\t\ttype: 'enum',\n\t\tvalue: 'releaseNotes',\n\t\tvalues: [{\n\t\t\tname: 'onboardingUpdateNotifictionReleaseNotes',\n\t\t\tvalue: 'releaseNotes',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNotification',\n\t\t\tvalue: 'notification',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNothing',\n\t\t\tvalue: 'none',\n\t\t}],\n\t},\n};\n\nconst highestVersionStorage = Storage.wrap('highestVersion', null);\n\nmodule.go = async () => {\n\tconst highestVersion = await highestVersionStorage.get();\n\n\tif (!highestVersion) {\n\t\thighestVersionStorage.set(Metadata.version);\n\t\treturn;\n\t}\n\n\tif (\n\t\thighestVersion === Metadata.version ||\n\t\trequire('semver/functions/gt')(highestVersion, Metadata.version) // eslint-disable-line global-require\n\t) return;\n\n\tconst diff = require('semver/functions/diff')(Metadata.version, highestVersion); // eslint-disable-line global-require\n\n\tconst infoTypes = filterMap([\n\t\tMetadata.isBeta && 'betaUpdateNotification',\n\t\tdiff === 'patch' && 'patchUpdateNotification',\n\t\t(diff === 'major' || diff === 'minor') && 'updateNotification',\n\t], notificationOption => notificationOption ? [module.options[notificationOption].value] : undefined);\n\n\tif (infoTypes.includes('releaseNotes')) {\n\t\topenNewTab(Metadata.updatedURL, false);\n\t} else if (infoTypes.includes('notification')) {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: module.moduleID,\n\t\t\tnotificationID: diff,\n\t\t\tmessage: `\n\t\t\t\t${i18n('onboardingUpgradeMessage', Metadata.version)}\n\t\t\t\t<p><a class=\"RESNotificationButtonBlue\" href=\"${Metadata.updatedURL}\" target=\"_blank\">\n\t\t\t\t\t${i18n('onboardingUpgradeCta')}\n\t\t\t\t</a></p>\n\t\t\t`.trim(),\n\t\t\tcloseDelay: 15000,\n\t\t});\n\t} else {\n\t\tconsole.log(`RES upgraded to v${Metadata.version}.`);\n\t}\n\n\thighestVersionStorage.set(Metadata.version);\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport Favico from 'favico.js';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport { addFloater, loggedInUser } from '../utils';\nimport { Session, multicast } from '../environment';\nimport legacyFavicon from '../images/legacyFavicon.png';\nimport * as BetteReddit from './betteReddit';\n\nexport const module: Module<*> = new Module('orangered');\n\nmodule.moduleName = 'orangeredName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'orangeredDesc';\n\nmodule.options = {\n\topenMailInNewTab: {\n\t\tdescription: 'orangeredOpenMailInNewTabDesc',\n\t\ttitle: 'orangeredOpenMailInNewTabTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t},\n\tupdateCurrentTab: {\n\t\tdescription: 'orangeredUpdateCurrentTabDesc',\n\t\ttitle: 'orangeredUpdateCurrentTabTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t},\n\tupdateOtherTabs: {\n\t\tdescription: 'orangeredUpdateOtherTabsDesc',\n\t\tkeywords: ['favicon', 'sync'],\n\t\ttitle: 'orangeredUpdateOtherTabsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t},\n\tshowFloatingEnvelope: {\n\t\tdescription: 'orangeredShowFloatingEnvelopeDesc',\n\t\ttitle: 'orangeredShowFloatingEnvelopeTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t},\n\tretroUnreadCount: {\n\t\tdescription: 'orangeredRetroUnreadCountDesc',\n\t\ttitle: 'orangeredRetroUnreadCountTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t},\n\tshowUnreadCountInTitle: {\n\t\tdescription: 'orangeredShowUnreadCountInTitleDesc',\n\t\ttitle: 'orangeredShowUnreadCountInTitleTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t},\n\tfaviconUseLegacy: {\n\t\tdescription: 'faviconUseLegacyDesc',\n\t\ttitle: 'faviconUseLegacyTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t},\n\tshowUnreadCountInFavicon: {\n\t\tdescription: 'orangeredShowUnreadCountInFaviconDesc',\n\t\ttitle: 'orangeredShowUnreadCountInFaviconTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t},\n\tfaviconNotificationBGColor: {\n\t\tdescription: 'faviconNotificationBGColorDesc',\n\t\ttitle: 'faviconNotificationBGColorTitle',\n\t\tadvanced: true,\n\t\ttype: 'color',\n\t\tvalue: '#5f99cf',\n\t\tdependsOn: options => options.showUnreadCountInFavicon.value,\n\t},\n\tfaviconNotificationTextColor: {\n\t\tdescription: 'faviconNotificationTextColorDesc',\n\t\ttitle: 'faviconNotificationTextColorTitle',\n\t\tadvanced: true,\n\t\ttype: 'color',\n\t\tvalue: '#FFFFFF',\n\t\tdependsOn: options => options.showUnreadCountInFavicon.value,\n\t},\n\tresetFaviconOnLeave: {\n\t\tdescription: 'orangeredResetFaviconOnLeaveDesc',\n\t\ttitle: 'orangeredResetFaviconOnLeaveTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdependsOn: options => options.showUnreadCountInFavicon.value,\n\t},\n\tunreadLinksToInbox: {\n\t\tdescription: 'orangeredUnreadLinksToInboxDesc',\n\t\ttitle: 'orangeredUnreadLinksToInboxTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tadvanced: true,\n\t},\n\thideEmptyMail: {\n\t\tdescription: 'orangeredHideEmptyMailDesc',\n\t\ttitle: 'orangeredHideEmptyMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t},\n\thideModMail: {\n\t\tdescription: 'orangeredHideModMailDesc',\n\t\ttitle: 'orangeredHideModMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t},\n\thideEmptyModMail: {\n\t\tdescription: 'orangeredHideEmptyModMailDesc',\n\t\ttitle: 'orangeredHideEmptyModMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t\tdependsOn: options => !options.hideModMail.value,\n\t},\n\thideNewModMail: {\n\t\tdescription: 'orangeredHideNewModMailDesc',\n\t\ttitle: 'orangeredHideNewModMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t},\n\thideEmptyNewModMail: {\n\t\tdescription: 'orangeredHideEmptyNewModMailDesc',\n\t\ttitle: 'orangeredHideEmptyNewModMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t\tdependsOn: options => !options.hideNewModMail.value,\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.faviconUseLegacy.value) setupFavicon();\n\n\tif (!loggedInUser()) {\n\t\treturn;\n\t}\n\n\tfloatingButtons();\n\tif (module.options.openMailInNewTab.value) {\n\t\t$orangeredElements().attr('target', '_blank').attr('rel', 'noopener noreferer');\n\t}\n\n\tupdateFromPage();\n};\n\nexport async function updateFromPage(doc: HTMLElement = document.body) {\n\tif (!Modules.isRunning(module)) return;\n\tif (!module.options.updateCurrentTab.value) return;\n\tif (!loggedInUser()) return;\n\n\t// `doc` may be a cached page. Don't update if more recent data has been processed\n\tconst debuginfoElement = doc.querySelector('.debuginfo');\n\t// Timestamp example: 2018-12-14 00:21:00.572436+00:00\n\tconst timestampRegex = /(\\d{4})-(\\d{2})-(\\d{2}) (\\d{2})\\:(\\d{2})\\:(\\d{2})\\.(\\d+)[+-](\\d{2})\\:(\\d{2})/;\n\tconst [timestamp] = debuginfoElement && timestampRegex.exec(debuginfoElement.textContent) || [];\n\tif (Date.parse(timestamp)) {\n\t\tconst lastUpdate = await Session.get('orangered.last-update');\n\t\tSession.set('orangered.last-update', timestamp);\n\t\tif (lastUpdate && new Date(lastUpdate) >= new Date(timestamp)) return;\n\t}\n\n\tsetUnreadCount(getUnreadCount(doc));\n}\n\nlet lastCount = 0;\n\nconst _setUnreadCount = multicast((count: number) => {\n\t// Refresh only when count is unchanged, to avoid initializing favicon, misc elements unnecessaury\n\tif (count === lastCount) return;\n\tlastCount = count;\n\n\tupdateFaviconBadge(count);\n\tupdateTitle(count);\n\tupdateInboxElements(count);\n\tupdateMailCountElements(count);\n\n\tif (count > 0) {\n\t\twindow.dispatchEvent(new Event('orangered'));\n\t}\n}, { name: 'setUnreadCount', crossContext: false });\n\nfunction setUnreadCount(count: number) {\n\tif (module.options.updateOtherTabs.value) {\n\t\t_setUnreadCount(count);\n\t} else {\n\t\t_setUnreadCount.local(count);\n\t}\n}\n\nfunction updateTitle(count) {\n\tif (!module.options.showUnreadCountInTitle.value) return;\n\tif (count > 0) {\n\t\tdocument.title = `[${count}] ${document.title.replace(/^\\[[\\d]+\\]\\s/, '')}`;\n\t} else {\n\t\tdocument.title = document.title.replace(/^\\[[\\d]+\\]\\s/, '');\n\t}\n}\n\nfunction updateInboxElements(count) {\n\tconst { nativeInboxButton, $floatingInboxButton } = orangeredElements();\n\n\t$().add($floatingInboxButton).add(nativeInboxButton)\n\t\t.attr('title', count ? 'new mail!' : 'No new mail')\n\t\t.toggleClass('havemail', !!count)\n\t\t.toggleClass('nohavemail', !count)\n\t\t.attr('href', getInboxLink(count));\n}\n\nfunction updateMailCountElements(count) {\n\tconst { nativeInboxCount, $floatingInboxCount } = orangeredElements();\n\n\t$().add($floatingInboxCount).add(nativeInboxCount)\n\t\t.css('display', count ? 'inline-block' : 'none')\n\t\t.attr('href', getInboxLink(count))\n\t\t.attr('title', count ? 'new mail!' : 'No new mail')\n\t\t.text(count)\n\t\t.addClass('message-count');\n}\n\nfunction updateFaviconBadge(count) {\n\tif (module.options.showUnreadCountInFavicon.value) {\n\t\tsetupFavicon().badge(count);\n\t}\n}\n\nconst setupFavicon = _.once(() => {\n\tconst favicons = Array.from(document.head.querySelectorAll('link[rel=\"icon\"]'));\n\tconst selectedFavicon = favicons.find(f => f.getAttribute('sizes') === '96x96') || _.last(favicons);\n\t// remove other favicons to ensure that ours is selected\n\tfor (const f of favicons) {\n\t\tif (f !== selectedFavicon) f.remove();\n\t}\n\t// browser should auto resolve to this if all get removed, but just in case, setting it explicitly\n\tif (module.options.faviconUseLegacy.value) {\n\t\tselectedFavicon.setAttribute('href', legacyFavicon);\n\t}\n\n\tconst favicon = new Favico({\n\t\tbgColor: module.options.faviconNotificationBGColor.value,\n\t\ttextColor: module.options.faviconNotificationTextColor.value,\n\t});\n\n\tif (module.options.resetFaviconOnLeave.value) {\n\t\t// Prevent notification icon from showing up in bookmarks\n\t\twindow.addEventListener('beforeunload', () => favicon.reset());\n\t}\n\n\treturn favicon;\n});\n\nconst orangeredElements = () => ({\n\t...nativeButtons(),\n\t...floatingButtons(),\n\tmodmailButtonSelector: '#modmail',\n});\n\nconst $orangeredElements = () => Object.values(orangeredElements()).reduce(($all, ele) => $all.add(ele), $());\n\nconst nativeButtons = _.once(() => {\n\tconst nativeInboxButton = document.querySelector('#header-bottom-right #mail');\n\tlet nativeInboxCount = document.querySelector('#header-bottom-right .message-count');\n\tif (!nativeInboxCount && (module.options.updateCurrentTab.value || module.options.updateOtherTabs.value)) {\n\t\tnativeInboxCount = document.createElement('a');\n\t\tnativeInboxCount.style.display = 'none';\n\t\tnativeInboxButton.after(nativeInboxCount);\n\t}\n\treturn { nativeInboxButton, nativeInboxCount };\n});\n\nconst floatingButtons = _.once(() => {\n\tif (!module.options.showFloatingEnvelope.value) {\n\t\treturn { $floatingInboxButton: undefined, $floatingInboxCount: undefined };\n\t}\n\tlet $floatingInboxButton, $floatingInboxCount;\n\n\tconst pinHeader = BetteReddit.module.options.pinHeader.value;\n\tif (pinHeader === 'sub' || pinHeader === 'none') {\n\t\t$floatingInboxButton = $('<a>', { id: 'NREMail', class: 'nohavemail' });\n\t\taddFloater($floatingInboxButton.get(0));\n\n\t\t$floatingInboxCount = $('<a>', { id: 'NREMailCount' });\n\t\t$floatingInboxCount.css('display', 'none');\n\t\t$floatingInboxCount.attr('href', getInboxLink(true));\n\t\taddFloater($floatingInboxCount.get(0));\n\t}\n\n\treturn { $floatingInboxButton, $floatingInboxCount };\n});\n\nfunction getInboxLink(havemail) {\n\tif (havemail && !module.options.unreadLinksToInbox.value) {\n\t\treturn '/message/unread/';\n\t}\n\n\treturn '/message/inbox/';\n}\nfunction getUnreadCount(container) {\n\tconst mailCount = container.querySelector('.message-count');\n\treturn mailCount && parseInt(mailCount.textContent, 10) || 0;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { SelectedThing, addFloater, getHeaderOffset, isPageType, frameThrottle, scrollToElement, string, watchForThings } from '../utils';\nimport { i18n } from '../environment';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('pageNavigator');\n\nmodule.moduleName = 'pageNavName';\nmodule.category = 'browsingCategory';\nmodule.description = 'pageNavDesc';\nmodule.options = {\n\ttoTop: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'pageNavToTopDesc',\n\t\ttitle: 'pageNavToTopTitle',\n\t},\n\ttoComment: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'pageNavToCommentDesc',\n\t\ttitle: 'pageNavToCommentTitle',\n\t},\n\tshowLink: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'pageNavShowLinkDesc',\n\t\ttitle: 'pageNavShowLinkTitle',\n\t},\n\tshowLinkNewTab: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'pageNavShowLinkNewTabDesc',\n\t\ttitle: 'pageNavShowLinkNewTabTitle',\n\t\tdependsOn: options => options.showLink.value,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tif (module.options.showLink.value && isPageType('comments')) {\n\t\twatchForThings(['post'], showLinkTitle);\n\t}\n};\n\nmodule.contentStart = () => {\n\tif (module.options.toComment.value && isPageType('comments')) {\n\t\tbackToNewCommentArea();\n\t}\n\tif (module.options.toTop.value) {\n\t\tbackToTop();\n\t}\n};\n\nfunction backToTop() {\n\tconst element = string.html`<a class=\"pageNavigator res-icon\" data-id=\"top\" href=\"#header\" title=\"${i18n('pageNavToTopTitle')}\">&#xF148;</a>`;\n\telement.addEventListener('click', (e: Event) => {\n\t\te.preventDefault();\n\t\twindow.scrollTo(0, 0);\n\t\tSelectedThing.move('top');\n\t});\n\taddFloater(element, { order: 9 });\n}\n\nconst showLinkTitleTemplate = ({ thumbnailSrc, linkId, settingsHash, linkHref, linkNewTab, title, domainHref, domain, time, author, authorHref }) => string.html`\n\t<div class=\"res-show-link hide\">\n\t\t${thumbnailSrc && string._html`\n\t\t\t<span class=\"res-show-link-thumb\"><img src=\"${thumbnailSrc}\" alt=\"thumbnail\" /></span>\n\t\t`}\n\t\t<a href=\"#${linkId}\" class=\"res-icon toTop\" title=\"Jump to title\">&#xF148;</a>\n\t\t<a href=\"${settingsHash}\" class=\"gearIcon\" title=\"Configure this widget\"></a>\n\t\t<div class=\"res-show-link-content\">\n\t\t\t<div class=\"res-show-link-header\">\n\t\t\t\t<a href=\"${linkHref}\" ${linkNewTab && string._html`target=\"_blank\" rel=\"noopener noreferer\"`} class=\"res-show-link-title\">${title}</a>\n\t\t\t\t<a href=\"${domainHref}\" class=\"res-show-link-domain\">(<span>${domain}</span>)</a>\n\t\t\t</div>\n\t\t\t<div class=\"res-show-link-tagline\">\n\t\t\t\tSubmitted ${time} by\n\t\t\t\t<a href=\"${authorHref}\" class=\"res-show-link-author\">${author}</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n\nfunction backToNewCommentArea() {\n\t// TODO Find a way to determine whether the comment area is visible which does not cause a reflow\n\tconst commentArea = document.querySelector('.commentarea > form.usertext textarea:not([disabled])');\n\tif (!commentArea) return;\n\n\tconst element = string.html`<a class=\"pageNavigator res-icon\" data-id=\"addComment\" href=\"#comments\" title=\"${i18n('pageNavToCommentTitle')}\">&#xF003;</a>`;\n\telement.addEventListener('click', (e: Event) => {\n\t\te.preventDefault();\n\t\tcommentArea.focus();\n\t});\n\n\taddFloater(element, { container: 'visibleAfterScroll' });\n}\n\nconst showLinkTitle = _.once(submissionThing => {\n\tlet $widget;\n\tlet belowSubmission = true;\n\tlet baseHeight, hoverHeight;\n\n\tfunction showWidget() {\n\t\t$widget.css({ top: getHeaderOffset(true) }).removeClass('hide');\n\t}\n\n\tfunction hideWidget() {\n\t\t$widget.css({ top: -baseHeight }).addClass('hide');\n\t}\n\n\tfunction renderWidget() {\n\t\treturn $(showLinkTitleTemplate({\n\t\t\tlinkId: submissionThing.element.id,\n\t\t\tthumbnailSrc: submissionThing.getPostThumbnailUrl(),\n\t\t\tlinkHref: submissionThing.getTitleUrl(),\n\t\t\tlinkNewTab: module.options.showLinkNewTab.value,\n\t\t\ttitle: submissionThing.getTitle(),\n\t\t\tdomainHref: submissionThing.getPostDomainUrl(),\n\t\t\tdomain: submissionThing.getPostDomainText(),\n\t\t\ttime: submissionThing.getPostTime(),\n\t\t\tauthorHref: submissionThing.getAuthorUrl(),\n\t\t\tauthor: submissionThing.getAuthor(),\n\t\t\tsettingsHash: SettingsNavigation.makeUrlHash(module.moduleID, 'showLink'),\n\t\t}));\n\t}\n\n\tconst updateWidget = frameThrottle((e: WheelEvent) => {\n\t\tconst scrollingUp = e.deltaY < 0;\n\n\t\tif (scrollingUp && belowSubmission) {\n\t\t\tinitialize();\n\t\t\t// We have scrolled up while below the linklisting.\n\t\t\tshowWidget();\n\t\t} else if ($widget) {\n\t\t\thideWidget();\n\t\t}\n\t});\n\n\tconst initialize = _.once(() => {\n\t\t$widget = renderWidget()\n\t\t\t.on('mouseenter', () => $widget.css({ height: hoverHeight }))\n\t\t\t.on('mouseleave', () => $widget.css({ height: baseHeight }))\n\t\t\t.appendTo(document.body);\n\n\t\tbaseHeight = $widget.get(0).getBoundingClientRect().height;\n\t\thoverHeight = $widget.get(0).scrollHeight;\n\n\t\tnew IntersectionObserver(entries => {\n\t\t\tbelowSubmission = !entries[0].isIntersecting;\n\t\t\tif (!belowSubmission) hideWidget();\n\t\t}, { rootMargin: '100px 0px 0px 0px' }).observe(submissionThing.element);\n\n\t\twindow.addEventListener('scroll', () => { if (scrollToElement.isProgrammaticEvent()) hideWidget(); });\n\t});\n\n\twindow.addEventListener('wheel', updateWidget, { passive: true });\n});\n","/* @flow */\n\nimport { CACHED_LANG_KEY, CACHED_MESSAGES_KEY, CACHED_MESSAGES_TOKEN_KEY } from '../constants/localStorage';\nimport { RES_DISABLED_HASH } from '../constants/urlHashes';\nimport { Module } from '../core/module';\nimport { Alert } from '../utils';\nimport { Session, Storage, XhrCache, context, i18n, isPrivateBrowsing, multicast } from '../environment';\nimport * as Notifications from './notifications';\nimport * as UserTagger from './userTagger';\n\nexport const module: Module<*> = new Module('troubleshooter');\n\nmodule.moduleName = 'troubleshooterName';\nmodule.alwaysEnabled = true;\nmodule.sort = -7;\nmodule.description = 'troubleshooterDesc';\nmodule.category = 'aboutCategory';\nmodule.options = {\n\tclearCache: {\n\t\ttitle: 'troubleshooterClearCacheTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterClearLabel',\n\t\tcallback: clearCache,\n\t\tdescription: 'troubleshooterClearCacheDesc',\n\t},\n\tclearTags: {\n\t\ttitle: 'troubleshooterClearTagsTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterClearLabel',\n\t\tcallback: clearTags,\n\t\tdescription: 'troubleshooterClearTagsDesc',\n\t},\n\tresetToFactory: {\n\t\ttitle: 'troubleshooterResetToFactoryTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterResetLabel',\n\t\tcallback: resetToFactory,\n\t\tdescription: 'troubleshooterResetToFactoryDesc',\n\t},\n\tdisableRES: {\n\t\ttitle: 'troubleshooterDisableRESTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterDisableLabel',\n\t\tcallback() {\n\t\t\tconst url = new URL(context.pathname, context.origin);\n\t\t\turl.hash = RES_DISABLED_HASH;\n\t\t\twindow.top.location.href = url.href;\n\t\t},\n\t\tdescription: 'troubleshooterDisableRESDesc',\n\t},\n\tbreakpoint: {\n\t\ttitle: 'troubleshooterBreakpointTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterBreakpointLabel',\n\t\tcallback() {\n\t\t\tdebugger; // eslint-disable-line no-debugger\n\t\t},\n\t\tdescription: 'troubleshooterBreakpointDesc',\n\t},\n\ttestEnvironment: {\n\t\ttitle: 'troubleshooterTestEnvironmentTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterTestEnvironmentLabel',\n\t\tcallback: testEnvironment,\n\t\tdescription: 'troubleshooterTestEnvironmentDesc',\n\t},\n\ttestNotifications: {\n\t\ttitle: 'troubleshooterTestNotificationsTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterTestNotificationsLabel',\n\t\tcallback: testNotifications,\n\t\tdescription: 'troubleshooterTestNotificationsDesc',\n\t},\n};\n\nfunction clearCache() {\n\tXhrCache.clear();\n\tSession.clear();\n\tlocalStorage.removeItem(CACHED_LANG_KEY);\n\tlocalStorage.removeItem(CACHED_MESSAGES_TOKEN_KEY);\n\tlocalStorage.removeItem(CACHED_MESSAGES_KEY);\n\tNotifications.showNotification(i18n('troubleshooterCachesCleared'), 2500);\n}\n\nasync function clearTags() {\n\tconst confirm = window.confirm(i18n('troubleshooterAreYouPositive'));\n\tif (confirm) {\n\t\tconst toDelete = (await UserTagger.Tag.getStored())\n\t\t\t.filter(({ text, votesUp = 0, votesDown = 0 }) => !text && votesUp <= 1 && votesDown <= 1);\n\t\tfor (const tag of toDelete) tag.delete();\n\t\tNotifications.showNotification(i18n('troubleshooterEntriesRemoved', toDelete.length), 2500);\n\t} else {\n\t\tNotifications.showNotification(i18n('troubleshooterNoActionTaken'), 2500);\n\t}\n}\n\nfunction resetToFactory() {\n\tconst confirm = window.prompt(i18n('troubleshooterThisWillKillYourSettings', 'trash'));\n\tif (confirm === 'trash' || confirm === '\"trash\"') {\n\t\tclearCache();\n\t\tStorage.clear();\n\t\tNotifications.showNotification(i18n('troubleshooterSettingsReset'), 2500);\n\t} else {\n\t\tNotifications.showNotification(i18n('troubleshooterNoActionTaken'), 2500);\n\t}\n}\n\nfunction testNotifications() {\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\theader: 'Template test',\n\t\tmessage: '<p>Hello, FakeUsername</p>',\n\t});\n}\n\nconst testMulticast = multicast(val => {\n\tAlert.open(`Multicast: ${val}`);\n}, { name: 'testMulticast', local: false, crossContext: false });\n\nasync function testEnvironment() {\n\tconst testKey = '__test__';\n\tconst rows = [];\n\n\ttry {\n\t\tlet rand;\n\n\t\trows.push(`Private browsing: ${String(isPrivateBrowsing())}`, '');\n\n\t\trand = Math.random();\n\t\trows.push(`Sending multicast: ${rand}`, '');\n\t\ttestMulticast(rand);\n\n\t\trand = Math.random();\n\t\trows.push(`Storage.set(): ${rand}`);\n\t\tStorage.set(testKey, rand);\n\t\trows.push(`Storage.get(): ${(await Storage.get(testKey): any)}`);\n\t\trows.push(`Storage.has(): ${(await Storage.has(testKey): any)}`);\n\t\trows.push('Storage.delete()');\n\t\tStorage.delete(testKey);\n\t\trows.push(`Storage.get(): ${(await Storage.get(testKey): any)}`);\n\t\trows.push(`Storage.has(): ${(await Storage.has(testKey): any)}`, '');\n\n\t\trand = Math.random();\n\t\trows.push(`Session.set(): ${rand}`);\n\t\tSession.set(testKey, rand);\n\t\trows.push(`Session.get(): ${(await Session.get(testKey): any)}`);\n\t\trows.push(`Session.has(): ${(await Session.has(testKey): any)}`);\n\t\trows.push('Session.delete()');\n\t\tSession.delete(testKey);\n\t\trows.push(`Session.get(): ${(await Session.get(testKey): any)}`);\n\t\trows.push(`Session.has(): ${(await Session.has(testKey): any)}`, '');\n\n\t\trand = Math.random();\n\t\tconst wrapped = Storage.wrap(testKey, 'default');\n\t\trows.push(`wrapped.set(): ${rand}`);\n\t\twrapped.set(rand);\n\t\trows.push(`wrapped.get(): ${(await wrapped.get(): any)}`);\n\t\trows.push(`wrapped.has(): ${(await wrapped.has(): any)}`);\n\t\trows.push('wrapped.delete()');\n\t\twrapped.delete();\n\t\trows.push(`wrapped.get(): ${(await wrapped.get(): any)}`);\n\t\trows.push(`wrapped.has(): ${(await wrapped.has(): any)}`, '');\n\n\t\trand = Math.random();\n\t\tconst domain = Storage.wrapPrefix(testKey, () => 'default');\n\t\trows.push(`prefix.set(): ${rand}`);\n\t\tdomain.set('1', rand);\n\t\trows.push(`prefix.get(): ${(await domain.get('1'): any)}`);\n\t\trows.push(`prefix.has(): ${(await domain.has('1'): any)}`);\n\t\trows.push('prefix.delete()');\n\t\tdomain.delete('1');\n\t\trows.push(`prefix.get(): ${(await domain.get('1'): any)}`);\n\t\trows.push(`prefix.has(): ${(await domain.has('1'): any)}`, '');\n\n\t\trand = Math.random();\n\t\tconst blob = Storage.wrapBlob(testKey, () => 'default');\n\t\trows.push(`blob.set(): ${rand}`);\n\t\tblob.set('1', rand);\n\t\trows.push(`blob.get(): ${(await blob.get('1'): any)}`);\n\t\trows.push(`blob.has(): ${(await blob.has('1'): any)}`);\n\t\trows.push('blob.delete()');\n\t\tblob.delete('1');\n\t\trows.push(`blob.get(): ${(await blob.get('1'): any)}`);\n\t\trows.push(`blob.has(): ${(await blob.has('1'): any)}`, '');\n\t} catch (e) {\n\t\trows.push('', `Errored: ${e}`);\n\t\tconsole.error(e);\n\t}\n\n\tAlert.open(rows.join('<br>'));\n}\n","/* @flow */\n\nimport { i18n } from '../environment';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport * as Notifications from './notifications';\nimport * as Troubleshooter from './troubleshooter';\n\nexport const module: Module<*> = new Module('presets');\n\nmodule.moduleName = 'presetsName';\nmodule.category = 'coreCategory';\nmodule.alwaysEnabled = true;\nmodule.description = 'presetsDesc';\n\nmodule.options = {\n\tlite: {\n\t\ttitle: 'presetsLiteTitle',\n\t\tdescription: 'presetsLiteDesc',\n\t\ttype: 'button',\n\t\ttext: 'apply preset',\n\t\tcallback: confirmPreset(() => (\n\t\t\ttoggleModules([\n\t\t\t\t'notifications',\n\t\t\t\t'hover',\n\t\t\t\t'announcements',\n\t\t\t\t'orangered',\n\t\t\t\t'onboarding',\n\t\t\t\t'selectedEntry',\n\t\t\t\t'showImages',\n\t\t\t\t'submitHelper',\n\t\t\t\t'neverEndingReddit',\n\t\t\t\t'accountSwitcher',\n\t\t\t\t'filteReddit',\n\t\t\t\t'quickMessage',\n\t\t\t\t'subredditInfo',\n\t\t\t\t'userInfo',\n\t\t\t\t'userHighlight',\n\t\t\t\t'searchHelper',\n\t\t\t\t'betteReddit',\n\t\t\t\t'styleTweaks',\n\t\t\t\t'pageNavigator',\n\t\t\t\t'commandLine',\n\t\t\t\t'commentHidePersistor',\n\t\t\t\t'commentTools',\n\t\t\t\t'commentPreview',\n\t\t\t\t'localDate',\n\t\t\t\t'noParticipation',\n\t\t\t], '*')\n\t\t)),\n\t},\n\tcleanSlate: {\n\t\ttitle: 'presetsCleanSlateTitle',\n\t\tdescription: 'presetsCleanSlateDesc',\n\t\ttype: 'button',\n\t\ttext: 'apply preset',\n\t\tcallback: confirmPreset(() => (\n\t\t\ttoggleModules(undefined, '*')\n\t\t)),\n\t},\n\tnoPopups: {\n\t\ttitle: 'presetsNoPopupsTitle',\n\t\tdescription: 'presetsNoPopupsDesc',\n\t\ttype: 'button',\n\t\ttext: 'apply preset',\n\t\tcallback: confirmPreset(async () => {\n\t\t\tawait toggleModules(undefined, 'hover RESTips showParent subredditInfo'.split(/[,\\s]/));\n\t\t\tawait toggleOptions(undefined, 'userTagger.hoverInfo'.split(/[,\\s]/));\n\t\t}),\n\t},\n\tresetToFactory: Troubleshooter.module.options.resetToFactory,\n};\n\nfunction confirmPreset(callback) {\n\treturn async function() {\n\t\tconst confirmation = prompt(`Are you sure you want to apply the \"${i18n(this.title)}\" preset? Type \"yes\" to continue.`);\n\t\tif ((/^\"?yes\"?$/).test(confirmation)) {\n\t\t\tawait callback();\n\t\t\tconst shouldReload = confirm(`Applied preset: ${i18n(this.title)}\\nYou must reload the page to see results.\\n\\nWould you like to reload now?`);\n\t\t\tif (shouldReload) {\n\t\t\t\tlocation.reload();\n\t\t\t}\n\t\t} else {\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\theader: 'Preset cancelled',\n\t\t\t\tmessage: 'If you really wanted to apply this preset, make sure to type in \"yes\" when prompted.',\n\t\t\t});\n\t\t}\n\t};\n}\n\nfunction sanitizeModulesList(unsanitized) {\n\tlet sanitized;\n\tif (unsanitized === '*') {\n\t\tsanitized = allModules();\n\t} else if (typeof unsanitized === 'string') {\n\t\tsanitized = unsanitized.split(/[,\\s]/);\n\t} else if (unsanitized && unsanitized.length) {\n\t\tsanitized = unsanitized;\n\t}\n\treturn sanitized ? [].concat(sanitized) : [];\n}\n\nasync function toggleModules(requestEnable, requestDisable) {\n\tlet enable = sanitizeModulesList(requestEnable);\n\tlet disable = sanitizeModulesList(requestDisable);\n\n\tdisable = requestEnable !== '*' ?\n\t\tdisable.filter(moduleID => !enable.includes(moduleID)) :\n\t\tdisable;\n\n\tenable = requestDisable !== '*' ?\n\t\tenable.filter(moduleID => !disable.includes(moduleID)) :\n\t\tenable;\n\n\tfor (const modId of disable) await Modules.setEnabled(modId, false); // eslint-disable-line no-await-in-loop\n\tfor (const modId of enable) await Modules.setEnabled(modId, true); // eslint-disable-line no-await-in-loop\n}\n\nfunction allModules() {\n\treturn Modules.all().map(mod => mod.moduleID);\n}\n\nasync function toggleOptions(requestEnable, requestDisable) {\n\tconst enable = requestEnable ? [].concat(requestEnable) : [];\n\tconst disable = requestDisable ? [].concat(requestDisable) : [];\n\n\tfor (const option of enable) await setOptionValue(true, option); // eslint-disable-line no-await-in-loop\n\tfor (const option of disable) await setOptionValue(false, option); // eslint-disable-line no-await-in-loop\n}\n\nasync function setOptionValue(value, path) {\n\t// path = [moduleID, optionName] or 'moduleID.optionName'\n\tif (typeof path === 'string') {\n\t\tpath = path.split('.');\n\t}\n\tconst [id, optName] = path;\n\tawait Options.set(id, optName, value);\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { loggedInUser, string } from '../utils';\nimport { i18n } from '../environment';\nimport * as Hover from './hover';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as PenaltyBox from './penaltyBox';\n\nexport const module: Module<*> = new Module('profileNavigator');\n\nmodule.moduleName = 'profileNavigatorName';\nmodule.description = 'profileNavigatorDesc';\nmodule.category = 'myAccountCategory';\n\nmodule.options = {\n\tsectionMenu: {\n\t\ttitle: 'profileNavigatorSectionMenuTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'profileNavigatorSectionMenuDesc',\n\t},\n\tsectionLinks: {\n\t\ttitle: 'profileNavigatorSectionLinksTitle',\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\tdescription: 'profileNavigatorSectionLinksDesc',\n\t\ttype: 'table',\n\t\taddRowText: '+add profile section shortcut',\n\t\tfields: [{\n\t\t\tkey: 'label',\n\t\t\tname: 'label',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'url',\n\t\t\tname: 'url',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [\n\t\t\t['saved', './saved'],\n\t\t\t['comments', './comments'],\n\t\t\t['submitted', './submitted'],\n\t\t\t['gilded', './gilded'],\n\t\t\t['upvoted', './upvoted'],\n\t\t\t['downvoted', './downvoted'],\n\t\t],\n\t},\n\thoverDelay: {\n\t\ttitle: 'profileNavigatorHoverDelayTitle',\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '1000',\n\t\tdescription: 'profileNavigatorHoverDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\ttitle: 'profileNavigatorFadeDelayTitle',\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'profileNavigatorFadeDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\ttitle: 'profileNavigatorFadeSpeedTitle',\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'profileNavigatorFadeSpeedDesc',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tconst username = loggedInUser();\n\tif (module.options.sectionMenu.value && username) {\n\t\tHover.dropdownList(module.moduleID)\n\t\t\t.options({\n\t\t\t\topenDelay: PenaltyBox.penalizedDelay(module.moduleID, 'sectionMenu', module.options.hoverDelay),\n\t\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t\t\tpin: Hover.pin.bottom,\n\t\t\t})\n\t\t\t.populateWith(() => [getListFragment(username)])\n\t\t\t.watch('#header .user a');\n\t}\n};\n\nconst getListFragment = username => {\n\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'sectionMenu', 5);\n\n\tconst fragment = document.createDocumentFragment();\n\n\tfor (const link of module.options.sectionLinks.value) {\n\t\tconst label = link[0] || '';\n\t\tconst url = link[1] || '';\n\t\tconst li = string.html`<li><a href=\"/user/${username}/${url}\">${label}</a></li>`;\n\n\t\tli.addEventListener('click', () => {\n\t\t\tHover.dropdownList(module.moduleID).close();\n\t\t\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'sectionMenu', -30);\n\t\t});\n\n\t\tfragment.append(li);\n\t}\n\n\tfragment.append(string.html`<li><a href=${SettingsNavigation.makeUrlHash(module.moduleID, 'sectionMenu')}>\n\t\t<i>${i18n(module.moduleName)}</i>\n\t\t<span class=\"RESMenuItemButton gearIcon\"></span>\n\t</a></li>`);\n\n\treturn fragment;\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { i18n } from '../environment';\nimport { WEEK, isPageType, regexes, string } from '../utils';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('profileRedirect');\n\nmodule.moduleName = 'profileRedirectName';\nmodule.category = 'usersCategory';\nmodule.description = 'profileRedirectDesc';\nmodule.keywords = ['legacy', 'overview'];\nmodule.include = [\n\t'profile',\n\t'profile2x',\n];\n\nmodule.options = {\n\tfromLandingPage: {\n\t\ttitle: 'profileRedirectFromLandingPageTitle',\n\t\tdescription: 'profileRedirectFromLandingPageDesc',\n\t\tkeywords: ['legacy', 'overview'],\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'Do nothing',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Overview (legacy)',\n\t\t\tvalue: 'overview',\n\t\t}, {\n\t\t\tname: 'Comments',\n\t\t\tvalue: 'comments',\n\t\t}, {\n\t\t\tname: 'Submitted (legacy)',\n\t\t\tvalue: 'submitted',\n\t\t}, {\n\t\t\tname: 'Gilded',\n\t\t\tvalue: 'gilded',\n\t\t}, {\n\t\t\tname: 'Custom',\n\t\t\tvalue: 'custom',\n\t\t}],\n\t},\n\tcustomFromLandingPage: {\n\t\tdependsOn: options => options.fromLandingPage.value === 'custom',\n\t\ttitle: 'profileRedirectCustomFromLandingPageTitle',\n\t\tdescription: 'profileRedirectCustomFromLandingPageDesc',\n\t\ttype: 'text',\n\t\tvalue: '',\n\t},\n};\n\nmodule.beforeLoad = function() {\n\tconst [, username, currentSection] = regexes.profile2x.exec(location.pathname) || [];\n\tif (username && !currentSection) {\n\t\tif (module.options.fromLandingPage.value !== 'none') {\n\t\t\tconst preferredSection = module.options.fromLandingPage.value === 'custom' ?\n\t\t\t\tmodule.options.customFromLandingPage.value :\n\t\t\t\tmodule.options.fromLandingPage.value;\n\t\t\twindow.location.replace(`/user/${username}/${preferredSection}`);\n\t\t} else if (isPageType('profile2x')) {\n\t\t\tconst message = string.html`\n\t\t\t\t<div>\n\t\t\t\t\t<p>${i18n('profileRedirectFromLandingPageNotificationText')}</p>\n\t\t\t\t\t<p><a class=\"RESNotificationButtonBlue\" href=\"${SettingsNavigation.makeUrlHash(module.moduleID, 'fromLandingPage')}\">${i18n('profileRedirectFromLandingPageNotificationButton')}</a></p>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tconst notification = Notifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\toptionKey: 'fromLandingPage',\n\t\t\t\theader: i18n('profileRedirectFromLandingPageNotificationTitle'),\n\t\t\t\tmessage,\n\t\t\t\tcooldown: WEEK,\n\t\t\t});\n\n\t\t\tmessage.querySelector('.RESNotificationButtonBlue').addEventListener('click', () => {\n\t\t\t\tnotification.close();\n\t\t\t});\n\t\t}\n\t}\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { BodyClasses, frameThrottle, watchForThings } from '../utils';\nimport { inQuarantinedSubreddit } from '../utils/location';\n\nexport const module: Module<*> = new Module('quarantineHide');\n\nmodule.moduleName = 'quarantineHideName'; // i18n\nmodule.category = 'appearanceCategory';\nmodule.description = 'quarantineHideDesc'; // i18n\nmodule.options = {\n\thideFlair: {\n\t\ttitle: 'quarantineHideFlairTitle', // i18n\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'quarantineHideFlairDesc', // i18n\n\t},\n\thideQuarantinedInSub: {\n\t\ttitle: 'quarantineHideInSubTitle', // i18n\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'quarantineHideInSubDesc', // i18n\n\t},\n};\n\nmodule.include = ['linklist', 'comments', 'wiki'];\n\nmodule.contentStart = () => {\n\tif (module.options.hideFlair.value) {\n\t\twatchForThings(['post'], frameThrottle(() => { $('.quarantine-stamp').parent().remove(); }));\n\t}\n\tif (inQuarantinedSubreddit() && module.options.hideQuarantinedInSub.value) {\n\t\tBodyClasses.remove('quarantine');\n\t\t$('.quarantine-notice').hide();\n\t}\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('redditUserInfo');\n\nmodule.moduleName = 'redditUserInfoName';\nmodule.category = 'usersCategory';\nmodule.description = 'redditUserInfoDesc';\nmodule.options = {\n\thideAuthorTooltip: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'redditUserInfoHideDesc',\n\t\ttitle: 'redditUserInfoHideTitle',\n\t\tbodyClass: true,\n\t},\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('requestPermissions');\n\nmodule.moduleName = 'requestPermissionsName';\nmodule.description = 'requestPermissionsDesc';\nmodule.category = 'aboutCategory';\nmodule.disabledByDefault = true;\nmodule.permissions = {\n\tget requiredPermissions() { return (chrome: any).runtime.getManifest().optional_permissions; }, // eslint-disable-line no-undef\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { markdown } from 'snudown-js';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport { Alert, CreateElement, downcast, empty, string } from '../utils';\nimport { i18n } from '../environment';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('search');\n\nmodule.moduleName = 'searchName';\nmodule.category = 'aboutCategory';\nmodule.alwaysEnabled = true;\nmodule.sort = -9;\nmodule.description = `\n\t<p>Search for settings within RES.</p>\n\t<div id=\"SearchRES-results-container\">\n\t\t<div id=\"SearchRES-count\"></div>\n\t\t<ul id=\"SearchRES-results\"></ul>\n\t\t<p id=\"SearchRES-results-hidden\">Some results have been hidden because advanced options are currently hidden. <a href=\"#\">Show advanced options.</a></p>\n\t</div>\n\t<div id=\"SearchRES-boilerplate\">\n\t\t<p>You can search for RES options by module name, option name, and description. For example, try searching for \"daily trick\" in one of the following ways:</p>\n\t\t<ul>\n\t\t\t<li>type <code>daily trick</code> in the search box to the left and click the magnifying glass button</li>\n\t\t\t<li>press <code>.</code> to open the RES console, type in <code>search <em>daily trick</em></code>, and press Enter</li>\n\t\t</ul>\n\t</div>\n`;\nmodule.descriptionRaw = true;\n\nconst PRESERVE_SPACES = true;\n\nexport function search(query: string = input().value) {\n\tinput().value = query;\n\n\tif (!query) {\n\t\tdrawSearchResults(query, []);\n\t\treturn;\n\t}\n\n\tconst sanitizedQuery = sanitizeString(query, PRESERVE_SPACES);\n\tconst queryTerms = sanitizedQuery && sanitizedQuery.length ? sanitizedQuery.split(' ') : [];\n\tlet results = [];\n\n\t// Search options\n\tif (queryTerms && queryTerms.length) {\n\t\tresults = searchDomain()\n\t\t\t.map(item => ({\n\t\t\t\trank: item.getRank(queryTerms, item.context),\n\t\t\t\tcontext: item.context,\n\t\t\t}))\n\t\t\t.filter(item => item.rank !== Infinity)\n\t\t\t.sort((a, b) => b.rank - a.rank)\n\t\t\t.map(item => item.context);\n\t}\n\n\tdrawSearchResults(query, results);\n}\n\ntype SearchItemContext = {|\n\ttitle: string,\n\tdescription: string,\n\tcategory: string,\n\tmoduleID: string,\n\tmoduleName: string,\n\tkeywords: string[],\n\tadvanced?: boolean,\n\toptionKey?: string,\n\toptionName?: string,\n|};\n\nconst searchDomain = _.once(() => {\n\tconst results = [];\n\tfor (const mod of Modules.all()) {\n\t\tif (mod === module) continue;\n\n\t\tif (mod.hidden) continue;\n\n\t\tconst moduleName = i18n(mod.moduleName);\n\t\tconst category = i18n(mod.category);\n\n\t\tresults.push({\n\t\t\tgetRank: rankModule,\n\t\t\tcontext: ({\n\t\t\t\ttitle: moduleName,\n\t\t\t\tdescription: mod.descriptionRaw ? mod.description : markdown(i18n(mod.description)),\n\t\t\t\tcategory,\n\t\t\t\tmoduleID: mod.moduleID,\n\t\t\t\tmoduleName,\n\t\t\t\tkeywords: mod.keywords,\n\t\t\t}: SearchItemContext),\n\t\t});\n\n\t\tif (_.isEmpty(mod.options)) continue;\n\n\t\tfor (const [optionKey, option] of Object.entries(mod.options)) {\n\t\t\tif (option.noconfig) continue;\n\n\t\t\tconst optionName = i18n(option.title);\n\n\t\t\tresults.push({\n\t\t\t\tgetRank: rankOption,\n\t\t\t\tcontext: ({\n\t\t\t\t\ttitle: optionName,\n\t\t\t\t\tdescription: markdown(i18n(option.description).split('\\n')[0]),\n\t\t\t\t\tadvanced: option.advanced,\n\t\t\t\t\tcategory,\n\t\t\t\t\tmoduleID: mod.moduleID,\n\t\t\t\t\tmoduleName,\n\t\t\t\t\toptionKey,\n\t\t\t\t\toptionName,\n\t\t\t\t\tkeywords: option.keywords || [],\n\t\t\t\t}: SearchItemContext),\n\t\t\t});\n\t\t}\n\t}\n\n\treturn results;\n});\n\nfunction rankString(queryTerms, string) {\n\tif (!queryTerms || !queryTerms.length || !string) {\n\t\treturn Infinity;\n\t}\n\tconst indexes = indexesOfSearchTermsInString(queryTerms, sanitizeString(string, false));\n\t// Better score: lower value and lower matchedIndex\n\tconst weighted = indexes.map(item => 100 - (item.value * ((Math.log(item.matchedIndex + 1) / Math.log(5)) + 1)));\n\treturn weighted.length ?\n\t\tweighted.reduce((a, b) => a + b, 0) :\n\t\tInfinity;\n}\n\n/**\n * Builds a string with searchable properties of a module for rankString function.\n */\nfunction rankModule(queryTerms, context) {\n\tconst string = [\n\t\tcontext.moduleID,\n\t\tcontext.moduleName,\n\t\tcontext.category,\n\t\tcontext.description,\n\t\t...context.keywords,\n\t].join('~');\n\treturn rankString(queryTerms, string) * 0.9;\n}\n\n/**\n * Builds a string with searchable properties of an option for rankString function.\n */\nfunction rankOption(queryTerms, context) {\n\tconst string = [\n\t\t// option-related strings\n\t\tcontext.optionKey,\n\t\tcontext.title,\n\t\tcontext.description,\n\t\t...context.keywords,\n\t\t// module-related strings\n\t\tcontext.moduleID,\n\t\tcontext.moduleName,\n\t\tcontext.category,\n\t].join('~');\n\treturn rankString(queryTerms, string);\n}\n\nfunction indexesOfSearchTermsInString(needles, haystack) {\n\tif (!haystack || !haystack.length) return [];\n\n\treturn needles\n\t\t.map((needle, i) => ({\n\t\t\tmatchedIndex: i,\n\t\t\tvalue: haystack.indexOf(needle),\n\t\t}))\n\t\t.filter(item => item.value !== -1);\n}\n\nfunction sanitizeString(text, preserveSpaces) {\n\tif (text === undefined || text === null) {\n\t\treturn '';\n\t}\n\n\tconst replaceSpacesWith = preserveSpaces ? ' ' : '';\n\treturn text.toString().toLowerCase()\n\t\t.replace(/[,\\/\\s]+/g, replaceSpacesWith);\n}\n\nfunction onSearchResultSelected(moduleID, optionKey) {\n\tSettingsNavigation.open(moduleID, optionKey);\n}\n\n// ---------- View ------\nexport const input = _.once(() => downcast(string.html`<input id=\"SearchRES-input\" type=\"text\" placeholder=\"${i18n('searchRESSettings')}\">`, HTMLInputElement));\n\nfunction drawSearchResults(query, results: Array<*>) {\n\tconst $resultsContainer = $('#SearchRES-results-container');\n\t$resultsContainer.off('click', handleSearchResultClick)\n\t\t.on('click', '.SearchRES-result-item', handleSearchResultClick);\n\n\tif (!query || !query.length) {\n\t\t$resultsContainer.hide();\n\t\treturn;\n\t}\n\n\tconst advancedResults = results.filter(({ advanced }) => advanced).length;\n\tconst count = results.length - advancedResults;\n\n\t// display number of results.\n\tconst plural = (count !== 1 ? 's' : '');\n\tconst resultsMessage = `${count} result${plural} for ${query}`;\n\t$('#SearchRES-count').text(resultsMessage);\n\n\t$resultsContainer.show();\n\t$resultsContainer.find('#SearchRES-query').text(query);\n\n\tif (advancedResults) {\n\t\t$resultsContainer.find('#SearchRES-results-hidden').addClass('advancedResults');\n\t\t$('#SearchRES-results-hidden a').off('click').on('click', () => {\n\t\t\t$(document.getElementById('RESAllOptions')).click();\n\t\t\tsearch();\n\t\t\treturn false;\n\t\t});\n\t} else {\n\t\t$resultsContainer.find('#SearchRES-results-hidden').removeClass('advancedResults');\n\t}\n\n\tif (!results.length) {\n\t\t$resultsContainer.find('#SearchRES-results').hide();\n\t} else {\n\t\t$resultsContainer.find('#SearchRES-results').show();\n\n\t\tconst resultsList = document.getElementById('SearchRES-results');\n\n\t\tempty(resultsList);\n\t\tresultsList.append(...results.map(drawSearchResultItem));\n\t}\n}\n\nconst searchResultTemplate = ({ title, category, description, moduleName, moduleID, optionName, optionKey }) => string.html`\n\t<div>\n\t\t<div class=\"SearchRES-result-header\">\n\t\t\t<span class=\"SearchRES-result-title\">${title}</span>\n\t\t\t<span class=\"SearchRES-breadcrumb\">${i18n('RESSettingsConsole')}\n\t\t\t\t ${category}\n\t\t\t\t ${moduleName} (${moduleID})\n\t\t\t\t${(optionName && optionKey) ? `  ${optionName} (${optionKey})` : optionKey && `  ${optionKey}`}\n\t\t\t</span>\n\t\t</div>\n\t\t<div class=\"SearchRES-result-description\">\n\t\t\t${string.safe(description)}\n\t\t</div>\n\t</div>\n`;\n\nconst drawSearchResultItem = _.memoize(result => {\n\tconst element = document.createElement('li');\n\telement.classList.add('SearchRES-result-item');\n\tif (result.advanced) {\n\t\telement.classList.add('advanced');\n\t}\n\telement.setAttribute('data-module-id', result.moduleID);\n\tif (result.optionKey) {\n\t\telement.setAttribute('data-option-key', result.optionKey);\n\t}\n\n\telement.appendChild(searchResultTemplate(result));\n\n\tconst copybutton =\n\t\tCreateElement.icon(\n\t\t\t0xF159,\n\t\t\t'span',\n\t\t\t'SearchRES-result-copybutton res-icon',\n\t\t\ti18n('searchCopyResultForComment'),\n\t\t);\n\telement.insertBefore(copybutton, element.firstChild);\n\n\treturn element;\n});\n\nfunction handleSearchResultClick(event: Event) {\n\tconst moduleID = this.getAttribute('data-module-id');\n\tconst optionKey = this.getAttribute('data-option-key');\n\n\tif (event.target.classList.contains('SearchRES-result-copybutton')) {\n\t\tonSearchResultCopy(moduleID, optionKey);\n\t} else {\n\t\tonSearchResultSelected(moduleID, optionKey);\n\t}\n\tevent.preventDefault();\n}\n\nfunction onSearchResultCopy(moduleID, optionKey) {\n\tconst markdown = makeOptionSearchResultLink(moduleID, optionKey);\n\tAlert.open(`<textarea rows=\"5\" cols=\"50\">${markdown}</textarea><p>Copy and paste this into your comment</p>`);\n}\n\nconst optionLinkTemplate = ({ title, url, description, settingsUrl, category, moduleName, moduleUrl, moduleID, optionKey, optionUrl }) => `\n**[${title}](${url})** -- [](#gear) [RES settings console](${settingsUrl}) > ${category} > [${moduleName}](${moduleUrl} \"${moduleID}\")${optionKey ? ` > [${optionKey}](${optionUrl})` : ''}\n\n${description}\n`.trim();\n\nfunction makeOptionSearchResultLink(moduleID, optionKey) {\n\tconst module = Modules.get(moduleID);\n\n\tconst context = {\n\t\tmoduleID,\n\t\tmoduleName: i18n(module.moduleName),\n\t\tcategory: i18n(module.category),\n\t\toptionKey,\n\t\ttitle: optionKey ? optionKey : i18n(module.moduleName),\n\t\tdescription: optionKey ? i18n(module.options[optionKey].description) : i18n(module.description),\n\t\turl: SettingsNavigation.makeUrlHash(moduleID, optionKey),\n\t\tsettingsUrl: SettingsNavigation.makeUrlHash(),\n\t\tmoduleUrl: SettingsNavigation.makeUrlHash(moduleID),\n\t\toptionUrl: SettingsNavigation.makeUrlHash(moduleID, optionKey),\n\t};\n\n\treturn `${optionLinkTemplate(context)}\\n\\n\\n`;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport {\n\tBodyClasses,\n\tThing,\n\tdowncast,\n\tisPageType,\n\tregexes,\n\tstring,\n} from '../utils';\n\nexport const module: Module<*> = new Module('searchHelper');\n\nmodule.moduleName = 'searchHelperName';\nmodule.category = 'browsingCategory';\nmodule.description = 'searchHelperDesc';\nmodule.options = {\n\taddSearchOptions: {\n\t\ttitle: 'searchHelperAddSearchOptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperAddSearchOptionsDesc',\n\t},\n\tdefaultSortOption: {\n\t\ttitle: 'searchHelperDefaultSortOptionTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'none',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'relevance',\n\t\t\tvalue: 'relevance',\n\t\t}, {\n\t\t\tname: 'new',\n\t\t\tvalue: 'new',\n\t\t}, {\n\t\t\tname: 'hot',\n\t\t\tvalue: 'hot',\n\t\t}, {\n\t\t\tname: 'top',\n\t\t\tvalue: 'top',\n\t\t}, {\n\t\t\tname: 'comments',\n\t\t\tvalue: 'comments',\n\t\t}],\n\t\tdescription: 'searchHelperDefaultSortOptionDesc',\n\t\tdependsOn: options => options.addSearchOptions.value,\n\t\tadvanced: true,\n\t},\n\tdefaultTimeOption: {\n\t\ttitle: 'searchHelperDefaultTimeOptionTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'none',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'all',\n\t\t\tvalue: 'all',\n\t\t}, {\n\t\t\tname: 'hour',\n\t\t\tvalue: 'hour',\n\t\t}, {\n\t\t\tname: 'day',\n\t\t\tvalue: 'day',\n\t\t}, {\n\t\t\tname: 'week',\n\t\t\tvalue: 'week',\n\t\t}, {\n\t\t\tname: 'month',\n\t\t\tvalue: 'month',\n\t\t}, {\n\t\t\tname: 'year',\n\t\t\tvalue: 'year',\n\t\t}],\n\t\tdescription: 'searchHelperDefaultTimeOptionDesc',\n\t\tdependsOn: options => options.addSearchOptions.value,\n\t\tadvanced: true,\n\t},\n\tlegacySearch: {\n\t\ttitle: 'searchHelperLegacySearchTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'searchHelperLegacySearchDesc',\n\t},\n\ttoggleSearchOptions: {\n\t\ttitle: 'searchHelperToggleSearchOptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperToggleSearchOptionsDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.legacySearch.value,\n\t},\n\thideSearchOptions: {\n\t\ttitle: 'searchHelperHideSearchOptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'searchHelperHideSearchOptionsDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.legacySearch.value,\n\t},\n\tuserFilterBySubreddit: {\n\t\ttitle: 'searchHelperUserFilterBySubredditTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'searchHelperUserFilterBySubredditDesc',\n\t},\n\tsearchByFlair: {\n\t\ttitle: 'searchHelperSearchByFlairTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperSearchByFlairDesc',\n\t},\n\tsearchPageTabs: {\n\t\ttitle: 'searchHelperSearchPageTabsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperSearchPageTabsDesc',\n\t\tbodyClass: true,\n\t},\n\tdefaultSearchTab: {\n\t\ttitle: 'searchHelperDefaultSearchTabTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'subreddits',\n\t\tvalues: [{\n\t\t\tname: 'none',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'subreddits',\n\t\t\tvalue: 'subreddits',\n\t\t}, {\n\t\t\tname: 'limit to subreddit',\n\t\t\tvalue: 'facets',\n\t\t}, {\n\t\t\tname: 'refine',\n\t\t\tvalue: 'options',\n\t\t}],\n\t\tdescription: 'searchHelperDefaultSearchTabDesc',\n\t\tdependsOn: options => options.searchPageTabs.value,\n\t\tadvanced: true,\n\t},\n\ttransitionSearchTabs: {\n\t\ttitle: 'searchHelperTransitionSearchTabsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperTransitionSearchTabsDesc',\n\t\tdependsOn: options => options.searchPageTabs.value,\n\t\tadvanced: true,\n\t},\n\tsearchBySubreddit: {\n\t\ttitle: 'searchHelperSearchBySubredditTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'default',\n\t\tvalues: [{\n\t\t\tname: 'default (let reddit manage it)',\n\t\t\tvalue: 'default',\n\t\t}, {\n\t\t\tname: 'always',\n\t\t\tvalue: 'always',\n\t\t}, {\n\t\t\tname: 'never',\n\t\t\tvalue: 'never',\n\t\t}],\n\t\tdescription: 'searchHelperSearchBySubredditDesc',\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.addSearchOptions.value) {\n\t\tconst searchExpando = document.getElementById('searchexpando');\n\t\tif (searchExpando) {\n\t\t\tlet searchOptionsHtml = '<label>Sort:<select name=\"sort\"><option value=\"relevance\">relevance</option><option value=\"new\">new</option><option value=\"hot\">hot</option><option value=\"top\">top</option><option value=\"comments\">comments</option></select></label> <label>Time:<select name=\"t\"><option value=\"all\">all time</option><option value=\"hour\">this hour</option><option value=\"day\">today</option><option value=\"week\">this week</option><option value=\"month\">this month</option><option value=\"year\">this year</option></select></label>';\n\t\t\tif ($(searchExpando).find('input[name=restrict_sr]').length) { // we don't want to add the new line if we are on the front page\n\t\t\t\tsearchOptionsHtml = `<br />${searchOptionsHtml}`;\n\t\t\t}\n\t\t\tif (module.options.defaultSortOption.value !== 'none') {\n\t\t\t\tconst defaultValue = module.options.defaultSortOption.value;\n\t\t\t\tsearchOptionsHtml = searchOptionsHtml.replace(`value=\"${defaultValue}\"`, `value=\"${defaultValue}\" selected`);\n\t\t\t}\n\t\t\tif (module.options.defaultTimeOption.value !== 'none') {\n\t\t\t\tconst defaultValue = module.options.defaultTimeOption.value;\n\t\t\t\tsearchOptionsHtml = searchOptionsHtml.replace(`value=\"${defaultValue}\"`, `value=\"${defaultValue}\" selected`);\n\t\t\t}\n\t\t\t$(searchExpando).find('#moresearchinfo').before(searchOptionsHtml);\n\t\t}\n\t}\n\tif (module.options.legacySearch.value) {\n\t\t$('form#search').append('<input type=\"hidden\" name=\"feature\" value=\"legacy_search\" />');\n\t}\n\tif (module.options.userFilterBySubreddit.value) {\n\t\tconst [, userProfile] = location.pathname.match(regexes.profile) || [];\n\t\tif (userProfile && document.referrer) {\n\t\t\tconst referrer = new URL(document.referrer);\n\t\t\tlet match, previousPage;\n\t\t\tif ((match = referrer.pathname.match(regexes.subreddit))) {\n\t\t\t\tpreviousPage = `r/${match[1]}`;\n\t\t\t} else if ((match = referrer.pathname.match(regexes.multireddit))) {\n\t\t\t\tpreviousPage = match[1];\n\t\t\t}\n\t\t\tif (previousPage) {\n\t\t\t\t$('.content[role=main]').prepend(`<div class=\"infobar\"><a href=\"/${previousPage}/search?q=author:${userProfile} nsfw:no&restrict_sr=on\">Search post of ${userProfile} on /${previousPage}</a></div>`);\n\t\t\t}\n\t\t}\n\t}\n\tconst isLegacySearch = document.querySelector('#siteTable');\n\tif (module.options.toggleSearchOptions.value && isPageType('search') && isLegacySearch) {\n\t\tif (module.options.hideSearchOptions.value || location.hash === '#res-hide-options') {\n\t\t\tBodyClasses.add('res-hide-options');\n\t\t}\n\t\t$('.content .searchpane').append('<a href=\"#res-hide-options\" class=\"searchpane-toggle-hide\">hide search options</a>');\n\t\t$('.content .searchpane ~ .menuarea').prepend('<a href=\"#res-show-options\" class=\"searchpane-toggle-show\">show search options</a>');\n\t\t$('.searchpane-toggle-hide').on('click', () => BodyClasses.add('res-hide-options'));\n\t\t$('.searchpane-toggle-show').on('click', () => BodyClasses.remove('res-hide-options'));\n\t}\n\tif (module.options.searchByFlair.value) {\n\t\t$('#siteTable').on('mouseenter', '.linkflairlabel:not(.res-flairSearch)', (e: JQueryMouseEventObject) => {\n\t\t\tconst subreddit = Thing.checkedFrom(e.currentTarget).getSubreddit();\n\t\t\tconst flair = e.currentTarget.title.replace(/\\s/g, '+');\n\t\t\tif (flair) {\n\t\t\t\te.currentTarget.classList.add('res-flairSearch');\n\t\t\t\te.currentTarget.appendChild(string.html`<a href=\"${string.encode`/r/${subreddit}/search?sort=new&restrict_sr=on&q=flair%3A${flair}`}\"></a>`);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Group search options into tabs.\n\tif (module.options.searchPageTabs.value && !isLegacySearch) {\n\t\t// Variables.\n\t\tconst $searchTabsEle = $('<ul>', { class: 'res-search-tabs' });\n\t\tconst searchHeader = document.querySelector('#previoussearch');\n\t\tconst searchForm = document.querySelector('.content form#search');\n\t\tconst moreSearchInfo = document.querySelector('#moresearchinfo');\n\t\tconst searchFacets = document.querySelector('body.search-page .searchfacets');\n\t\tconst $searchOptions = $('<div>', { class: 'res-search-options' });\n\n\t\t// Don't continue if search form isn't present. e.g. on /search/404.\n\t\tif (!searchForm) { return; }\n\n\t\tsearchForm.removeChild(searchForm.querySelector('#moresearchinfo + p'));\n\n\t\t$searchTabsEle.appendTo(searchHeader);\n\n\t\t// Create a class for the subreddit results container.\n\t\tconst subredditResultListing = document.querySelectorAll('.search-result-listing');\n\t\tif (subredditResultListing.length > 1) {\n\t\t\tsubredditResultListing[0].classList.add('res-search-subreddits');\n\t\t}\n\n\t\t// Set up search panes.\n\t\tif (moreSearchInfo) {\n\t\t\t$searchOptions.appendTo(searchHeader);\n\t\t\t$(moreSearchInfo).children().appendTo($searchOptions);\n\t\t}\n\t\tif (searchFacets) {\n\t\t\t$(searchFacets).appendTo(searchHeader);\n\t\t}\n\t\tif ($('.res-search-subreddits').length) {\n\t\t\t$('.res-search-subreddits').appendTo(searchHeader);\n\t\t}\n\n\t\t// Create tabs object.\n\t\tconst searchTabs = {\n\t\t\tsubreddits: {\n\t\t\t\tlabel: 'subreddits',\n\t\t\t\tid: 'subs',\n\t\t\t\ttarget: '.res-search-subreddits',\n\t\t\t\texists: $('.res-search-subreddits').length,\n\t\t\t},\n\t\t\tfacets: {\n\t\t\t\tlabel: 'limit to subreddit',\n\t\t\t\tid: 'facets',\n\t\t\t\ttarget: '.searchfacets',\n\t\t\t\texists: searchFacets,\n\t\t\t},\n\t\t\toptions: {\n\t\t\t\tlabel: 'refine',\n\t\t\t\tid: 'options',\n\t\t\t\ttarget: '.res-search-options',\n\t\t\t\texists: $searchOptions.get(0),\n\t\t\t},\n\t\t};\n\n\t\tfor (const searchTab of Object.values(searchTabs)) {\n\t\t\tif (searchTab.exists) {\n\t\t\t\t// Add common class to each tab pane.\n\t\t\t\t$(searchTab.target)\n\t\t\t\t\t.addClass('res-search-pane')\n\t\t\t\t\t.slideUp(0);\n\n\t\t\t\t// Build tabs in DOM.\n\t\t\t\tconst $searchTabLi = $('<li>')\n\t\t\t\t\t.attr({ class: `res-search-tab-${searchTab.id}` })\n\t\t\t\t\t.appendTo($searchTabsEle);\n\n\t\t\t\t$('<a>')\n\t\t\t\t\t.attr({ href: '#' })\n\t\t\t\t\t.text(searchTab.label)\n\t\t\t\t\t.appendTo($searchTabLi)\n\t\t\t\t\t.click(e => searchTabToggle(searchTab.id, searchTab.target, e.currentTarget));\n\t\t\t}\n\t\t}\n\n\t\t// Set default tab if specified and if it exists on the page.\n\t\tif (module.options.defaultSearchTab.value !== 'none' && searchTabs[module.options.defaultSearchTab.value].exists) {\n\t\t\tsearchTabToggle(\n\t\t\t\tsearchTabs[module.options.defaultSearchTab.value].id,\n\t\t\t\tsearchTabs[module.options.defaultSearchTab.value].target,\n\t\t\t\tnull,\n\t\t\t);\n\t\t}\n\t}\n};\n\nmodule.afterLoad = () => {\n\tif (module.options.searchBySubreddit.value !== 'default' && !isPageType('search')) {\n\t\tconst restrictSearch = document.querySelector('input[name=restrict_sr]');\n\t\tif (restrictSearch /*:: && restrictSearch instanceof HTMLInputElement */) {\n\t\t\trestrictSearch.checked = (module.options.searchBySubreddit.value === 'always');\n\t\t}\n\t}\n};\n\nfunction searchTabToggle(tabID, target, source: HTMLElement | null) {\n\tconst transitionSpd = (module.options.transitionSearchTabs.value) ? 200 : 0;\n\t// Check whether the tab was selected through code or with a click.\n\tconst sourceParent = source ? downcast(source.parentNode, HTMLElement) : null;\n\tconst tab: HTMLElement = sourceParent || document.querySelector(`.res-search-tabs .res-search-tab-${tabID}`);\n\tconst activeClass = 'res-search-tab-active';\n\tconst openClass = 'res-search-pane-open';\n\n\t// Close the pane if its tab was already active, else open it.\n\tif (tab.classList.contains(activeClass)) {\n\t\t$(target).removeClass(openClass).slideUp(transitionSpd);\n\t\ttab.classList.remove(activeClass);\n\t} else {\n\t\t$('.res-search-pane').addClass(openClass).slideUp(transitionSpd);\n\t\t$('.res-search-tabs li').removeClass(activeClass);\n\t\t$('.res-search-pane').removeClass(openClass);\n\t\ttab.classList.add(activeClass);\n\t\tconst speed = sourceParent ? transitionSpd : 0;\n\t\t$(target).addClass(openClass).slideDown(speed);\n\t}\n\n\treturn false;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tThing,\n\tSelectedThing,\n\taddCSS,\n\tclick,\n} from '../utils';\n\nexport const module: Module<*> = new Module('selectedEntry');\n\nmodule.moduleName = 'selectedEntryName';\nmodule.category = 'browsingCategory';\nmodule.include = ['comments', 'linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox', 'search'];\nmodule.description = 'selectedEntryDesc';\n\nmodule.options = {\n\tautoSelectOnScroll: {\n\t\ttitle: 'selectedEntryAutoSelectOnScrollTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'selectedEntryAutoSelectOnScrollDesc',\n\t},\n\tscrollToSelectedThingOnLoad: {\n\t\ttitle: 'selectedEntryScrollToSelectedThingOnLoadTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tadvanced: true,\n\t\tdescription: 'selectedEntryScrollToSelectedThingOnLoadDesc',\n\t},\n\taddLine: {\n\t\ttitle: 'selectedEntryAddLineTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'selectedEntryAddLineDesc',\n\t},\n\tsetColors: {\n\t\ttitle: 'selectedEntrySetColorsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'selectedEntrySetColorsDesc',\n\t},\n\tbackgroundColor: {\n\t\ttitle: 'selectedEntryBackgroundColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#F0F3FC',\n\t\tdescription: 'selectedEntryBackgroundColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.setColors.value,\n\t},\n\tbackgroundColorNight: {\n\t\ttitle: 'selectedEntryBackgroundColorNightTitle',\n\t\ttype: 'color',\n\t\tvalue: '#373737',\n\t\tdescription: 'selectedEntryBackgroundColorNightDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.setColors.value,\n\t},\n\ttextColorNight: {\n\t\ttitle: 'selectedEntryTextColorNightTitle',\n\t\ttype: 'color',\n\t\tvalue: '#DDDDDD',\n\t\tdescription: 'selectedEntryTextColorNightDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.setColors.value,\n\t},\n\toutlineStyle: {\n\t\ttitle: 'selectedEntryOutlineStyleTitle',\n\t\ttype: 'text',\n\t\tvalue: '',\n\t\tdescription: 'selectedEntryOutlineStyleDesc',\n\t\tadvanced: true,\n\t},\n\toutlineStyleNight: {\n\t\ttitle: 'selectedEntryOutlineStyleNightTitle',\n\t\ttype: 'text',\n\t\tvalue: '',\n\t\tdescription: 'selectedEntryOutlineStyleNightDesc',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tif (module.options.addLine.value) styleLine();\n\tif (module.options.setColors.value) styleColor();\n\tstyleOutline();\n\n\tSelectedThing.setScrollToSelectedThingOnLoad(module.options.scrollToSelectedThingOnLoad.value);\n};\n\nmodule.contentStart = () => {\n\t// Select Thing on manual click\n\t// In comment threads `thingSelector` may match parents of `e.currentTarget`; throttle in order to invoke `select` only on the bottom Thing\n\t$(document.body).on('mouseup', Thing.thingSelector, _.throttle((e: MouseEvent) => {\n\t\tif (click.isProgrammaticEvent(e)) return;\n\t\tconst thing = Thing.from(e.currentTarget);\n\t\tif (thing) SelectedThing.set(thing);\n\t}, 50, { leading: true, trailing: false }));\n\n\tif (module.options.autoSelectOnScroll.value) {\n\t\twindow.addEventListener('scroll', () => { SelectedThing.selectClosestInView(); });\n\t}\n};\n\nmodule.afterLoad = () => {\n\tif (!SelectedThing.current || !SelectedThing.current.isVisible()) SelectedThing.selectClosestInView();\n};\n\n// why !important on .entry.res-selected?  Because some subreddits are unfortunately using !important for no good reason on .entry divs...\n\nfunction styleLine() {\n\taddCSS(`\n\t\t.entry.res-selected { box-shadow: 3px 0 0 -1px #c2d2e0 !important; }\n\t\t.res-nightmode .entry.res-selected { box-shadow: 3px 0 0 -1px grey !important; }\n\t`);\n}\n\nfunction styleColor() {\n\t// Add legacy classes for external stylesheets which override these styles\n\tSelectedThing.addListener((current, previous) => {\n\t\tif (previous) {\n\t\t\tprevious.entry.classList.remove('RES-keyNav-activeElement');\n\t\t\tprevious.element.classList.remove('RES-keyNav-activeThing');\n\t\t}\n\t\tif (current) {\n\t\t\tcurrent.entry.classList.add('RES-keyNav-activeElement');\n\t\t\tcurrent.element.classList.add('RES-keyNav-activeThing');\n\t\t}\n\t}, 'instantly');\n\n\tconst backgroundColor = module.options.backgroundColor.value ? `\n\t\t.entry.res-selected,\n\t\t.entry.res-selected .md-container {\n\t\t\tbackground-color: ${module.options.backgroundColor.value} !important;\n\t\t}` : '';\n\n\tconst backgroundColorNight = module.options.backgroundColorNight.value ? `\n\t\t.res-nightmode .entry.res-selected,\n\t\t.res-nightmode .entry.res-selected .md-container {\n\t\t\tbackground-color: ${module.options.backgroundColorNight.value} !important;\n\t\t}` : '';\n\n\tconst textColorNight = module.options.textColorNight.value ? `\n\t\t.res-nightmode .entry.res-selected > .tagline,\n\t\t.res-nightmode .entry.res-selected .md-container > .md,\n\t\t.res-nightmode .entry.res-selected .md-container > .md p {\n\t\t\tcolor: ${module.options.textColorNight.value} !important;\n\t\t}` : '';\n\n\taddCSS(backgroundColor + backgroundColorNight + textColorNight);\n}\n\nfunction styleOutline() {\n\tconst outlineStyle = module.options.outlineStyle.value ? `\n\t\t.entry.res-selected {\n\t\t\toutline: ${module.options.outlineStyle.value};\n\t\t}` : '';\n\n\tconst outlineStyleNight = module.options.outlineStyleNight.value ? `\n\t\t.res-nightmode .entry.res-selected {\n\t\t\toutline: ${module.options.outlineStyleNight.value};\n\t\t}\n\t` : '';\n\n\tconst style = outlineStyle + outlineStyleNight;\n\tif (style) {\n\t\taddCSS(style);\n\t}\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { empty, formatDate, formatDateDiff, formatNumber, getUserInfo, loggedInUser, string } from '../utils';\n\nexport const module: Module<*> = new Module('showKarma');\n\nmodule.moduleName = 'showKarmaName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'showKarmaDesc';\nmodule.options = {\n\tshowCommentKarma: {\n\t\ttitle: 'showKarmaShowCommentKarmaTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showKarmaShowCommentKarmaDesc',\n\t},\n\tseparator: {\n\t\ttitle: 'showKarmaSeparatorTitle',\n\t\ttype: 'text',\n\t\tvalue: '\\u00b7',\n\t\tdescription: 'showKarmaSeparatorDesc',\n\t\tadvanced: true,\n\t},\n\tuseCommas: {\n\t\ttitle: 'showKarmaUseCommasTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showKarmaUseCommasDesc',\n\t},\n\tshowGold: {\n\t\ttitle: 'showKarmaShowGoldTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showKarmaShowGoldDesc',\n\t},\n};\n\nmodule.contentStart = async () => {\n\tif (!loggedInUser()) return;\n\n\tconst { data } = await getUserInfo();\n\n\tupdateKarmaDiv(data);\n\n\tif (module.options.showGold.value && data.is_gold) {\n\t\tdisplayGold(data.gold_expiration);\n\t}\n};\n\nfunction updateKarmaDiv(data) {\n\tconst karmaDiv = document.querySelector('#header-bottom-right .userkarma');\n\tif (!karmaDiv) return;\n\n\tkarmaDiv.title = '';\n\tempty(karmaDiv);\n\n\tkarmaDiv.append(string.html`<a title=\"post karma\" href=\"/user/me/submitted/\">${module.options.useCommas.value ? formatNumber(data.link_karma) : data.link_karma}</a>`);\n\n\tif (module.options.showCommentKarma.value) {\n\t\tkarmaDiv.append(\n\t\t\tmodule.options.separator.value,\n\t\t\tstring.html`<a title=\"comment karma\" href=\"/user/me/comments/\">${module.options.useCommas.value ? formatNumber(data.comment_karma) : data.comment_karma}</a>`,\n\t\t);\n\t}\n}\n\n// If the user has gold and would like to, display the gilded-icon in the user span.\nfunction displayGold(expires: number) {\n\t// Get the user <span> located in the userbar\n\tconst userSpan = document.querySelector('#header-bottom-right .user');\n\tif (!userSpan) return;\n\n\tconst today = new Date();\n\tconst expDate = new Date(expires * 1000); // s -> ms\n\tconst title = expDate > today ? `Until ${formatDate(expDate)} (${formatDateDiff(today, expDate)})` : '';\n\n\tuserSpan.prepend(string.html`<span title=\"${title}\" class=\"gilded-icon\"></span>`);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { ajax } from '../environment';\nimport { watchForThings, regexes, keyedMutex, preventCloning, string } from '../utils';\n\nexport const module: Module<*> = new Module('sourceSnudown');\n\nmodule.moduleName = 'sourceSnudownName';\nmodule.description = 'sourceSnudownDesc';\nmodule.category = 'commentsCategory';\n\nmodule.beforeLoad = () => {\n\twatchForThings(['post', 'comment', 'message'], attachViewSourceButton);\n};\n\nconst sourceButton = (e => () => preventCloning(e().cloneNode(true)))(_.once(() => {\n\t$(document.body)\n\t\t.on('click', 'li.viewSource a', function(e: Event) {\n\t\t\te.preventDefault();\n\t\t\tviewSource(this);\n\t\t})\n\t\t.on('click', '.usertext-edit.viewSource .cancel', function() {\n\t\t\t$(this).parents('.usertext-edit.viewSource').hide();\n\t\t});\n\n\treturn string.html`\n\t\t<li class=\"viewSource\">\n\t\t\t<a class=\"noCtrlF\" href=\"javascript:void 0\" data-text=\"source\"></a>\n\t\t</li>\n\t`;\n}));\n\nfunction attachViewSourceButton(thing) {\n\t// Link posts don't have any source\n\tif (thing.isLinkPost()) return;\n\n\tconst buttons =\n\t\t// .first is the first button after NSFW/spoiler stamps\n\t\tthing.entry.querySelector('.flat-list.buttons > li.first') ||\n\t\t// but some pages (inbox) don't have the .first class\n\t\tthing.entry.querySelector('.flat-list.buttons > li');\n\tif (buttons) buttons.after(sourceButton());\n}\n\nconst viewSource = keyedMutex(async button => {\n\tconst $button = $(button);\n\tconst $buttonList = $button.closest('ul');\n\tif ($button.data('source-open')) {\n\t\t$button\n\t\t\t.closest('.thing')\n\t\t\t.find('.usertext-edit.viewSource:first')\n\t\t\t.toggle();\n\t} else {\n\t\tconst path = ($buttonList.find('a.bylink, .first a').get(0): any).pathname;\n\n\t\tconst response = await ajax({\n\t\t\turl: `${path}.json`,\n\t\t\tquery: { raw_json: 1 },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst $userTextForm = $('<div class=\"usertext-edit viewSource\"><div><textarea rows=\"1\" cols=\"1\" name=\"text\" readonly></textarea></div><div class=\"bottom-area\"><div class=\"usertext-buttons\"><button type=\"button\" class=\"cancel\">hide</button></div></div></div>');\n\t\t$userTextForm.find('textarea').one('dblclick', () => $userTextForm.removeAttr('readonly'));\n\n\t\tlet sourceText;\n\n\t\tif (regexes.commentPermalink.test(path)) {\n\t\t\tsourceText = response[1].data.children[0].data.body;\n\t\t} else if (regexes.comments.test(path)) {\n\t\t\tsourceText = response[0].data.children[0].data.selftext;\n\t\t} else {\n\t\t\tconst postId: string = ((/\\/(\\w*)\\/?$/).exec(path): any)[1];\n\t\t\tconst data = response.data.children[0].data;\n\t\t\tif (data.id === postId) {\n\t\t\t\tsourceText = data.body;\n\t\t\t} else {\n\t\t\t\t// The message we want is a reply to a PM/modmail, but reddit returns the whole thread.\n\t\t\t\t// So, we have to dig into the replies to find the message we want.\n\t\t\t\tsourceText = data.replies.data.children.find(({ data: { id } }) => id === postId).data.body;\n\t\t\t}\n\t\t}\n\n\t\t$userTextForm.find('textarea[name=text]').text(sourceText);\n\t\t$buttonList.before($userTextForm);\n\t\t$(button).data('source-open', true);\n\t}\n});\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport {\n\tloggedInUser,\n\twatchForThings,\n} from '../utils';\n\nexport const module: Module<*> = new Module('spamButton');\n\nmodule.moduleName = 'spamButtonName';\nmodule.category = 'submissionsCategory';\nmodule.disabledByDefault = true;\nmodule.description = 'spamButtonDesc';\n\nmodule.beforeLoad = () => {\n\twatchForThings(['post', 'comment'], addSpamButton);\n};\n\nfunction addSpamButton(thing) {\n\tconst authorElement = thing.getAuthorElement();\n\tconst authorName = thing.getAuthor();\n\tif (!authorElement || !authorName || loggedInUser() === authorName) return;\n\n\tconst spam = document.createElement('li');\n\t// insert spam button second to last in the list... this is a bit hacky and assumes singleClick is enabled...\n\t// it should probably be made smarter later, but there are so many variations of configs, etc, that it's a bit tricky.\n\tconst buttons = thing.getButtons();\n\tif (buttons.lastElementChild) buttons.lastElementChild.before(spam);\n\telse buttons.append(spam);\n\n\tconst a = document.createElement('a');\n\ta.setAttribute('class', 'option noCtrlF');\n\ta.setAttribute('title', 'Report this user as a spammer');\n\ta.href = `/message/compose?to=/r/reddit.com&subject=spam&message=${authorElement.href}`;\n\ta.target = '_blank';\n\ta.rel = 'noopener noreferer';\n\ta.dataset.text = 'rts';\n\tspam.appendChild(a);\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('spoilerTags');\n\nmodule.moduleName = 'spoilerTagsName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'spoilerTagsDesc';\nmodule.include = [\n\t'profile',\n];\nmodule.bodyClass = true;\nmodule.options = {\n\ttransition: {\n\t\ttitle: 'spoilerTagsTransitionTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'spoilerTagsTransitionDesc',\n\t\tbodyClass: true,\n\t},\n};\n","/* @flow */\n\nimport { addCSS } from '../utils';\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('styleTweaks');\n\nmodule.moduleName = 'styleTweaksName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'styleTweaksDesc';\nmodule.options = {\n\tnavTop: {\n\t\ttitle: 'styleTweaksNavTopTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'styleTweaksNavTopDesc',\n\t\tbodyClass: 'res-navTop',\n\t},\n\tdisableAnimations: {\n\t\ttitle: 'styleTweaksDisableAnimationsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksDisableAnimationsDesc',\n\t\tbodyClass: true,\n\t},\n\tvisitedStyle: {\n\t\ttitle: 'styleTweaksVisitedStyleTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksVisitedStyleDesc',\n\t\tbodyClass: true,\n\t},\n\tshowExpandos: {\n\t\ttitle: 'styleTweaksShowExpandosTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'styleTweaksShowExpandosDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\thideUnvotable: {\n\t\ttitle: 'styleTweaksHideUnvotableTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'styleTweaksHideUnvotableDesc',\n\t\tbodyClass: true,\n\t},\n\tshowFullLinkFlair: {\n\t\ttitle: 'styleTweaksShowFullLinkFlairTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Never',\n\t\t\tvalue: 'never',\n\t\t}, {\n\t\t\tname: 'On hover',\n\t\t\tvalue: 'hover',\n\t\t}, {\n\t\t\tname: 'Always',\n\t\t\tvalue: 'always',\n\t\t}],\n\t\tvalue: 'never',\n\t\tdescription: 'styleTweaksShowFullLinkFlairDesc',\n\t\tbodyClass: true,\n\t},\n\thighlightEditedTime: {\n\t\ttitle: 'styleTweaksHighlightEditedTimeTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksHighlightEditedTimeDesc',\n\t\tbodyClass: true,\n\t},\n\tcolorBlindFriendly: {\n\t\ttitle: 'styleTweaksColorBlindFriendlyTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksColorBlindFriendlyDesc',\n\t\tadvanced: true,\n\t\tbodyClass: 'res-colorblind',\n\t},\n\tscrollSubredditDropdown: {\n\t\ttitle: 'styleTweaksScrollSubredditDropdownTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'styleTweaksScrollSubredditDropdownDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\thighlightTopLevel: {\n\t\ttitle: 'styleTweaksHighlightTopLevelTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksHighlightTopLevelDesc',\n\t},\n\thighlightTopLevelColor: {\n\t\ttitle: 'styleTweaksHighlightTopLevelColorTitle',\n\t\ttype: 'color',\n\t\tdependsOn: options => options.highlightTopLevel.value,\n\t\tdescription: 'styleTweaksHighlightTopLevelColorDesc',\n\t\tvalue: '#8B0000',\n\t},\n\thighlightTopLevelSize: {\n\t\ttitle: 'styleTweaksHighlightTopLevelSizeTitle',\n\t\ttype: 'text',\n\t\tdependsOn: options => options.highlightTopLevel.value,\n\t\tdescription: 'styleTweaksHighlightTopLevelSizeDesc',\n\t\tvalue: '2',\n\t},\n\tfloatingSideBar: {\n\t\ttitle: 'styleTweaksFloatingSideBarTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksFloatingSideBarDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tpostTitleCapitalization: {\n\t\ttitle: 'styleTweaksPostTitleCapitalizationTitle',\n\t\tdescription: 'styleTweaksPostTitleCapitalizationDesc',\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'do nothing',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Title Case',\n\t\t\tvalue: 'title',\n\t\t}, {\n\t\t\tname: 'Sentence case',\n\t\t\tvalue: 'sentence',\n\t\t}, {\n\t\t\tname: 'lowercase',\n\t\t\tvalue: 'lowercase',\n\t\t}],\n\t\tbodyClass: true,\n\t},\n\thideDomainLink: {\n\t\ttitle: 'styleTweaksHideDomainLink',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksHideDomainLinkDesc',\n\t\tbodyClass: true,\n\t},\n\tflairEmojiAsText: {\n\t\ttitle: 'styleTweaksFlairEmojiAsText',\n\t\tdescription: 'styleTweaksFlairEmojiAsTextDesc',\n\t\ttype: 'enum',\n\t\tvalue: 'never',\n\t\tvalues: [{\n\t\t\tname: 'styleTweaksFlairEmojiAsTextNever',\n\t\t\tvalue: 'never',\n\t\t}, {\n\t\t\tname: 'styleTweaksFlairEmojiAsTextNoSubStyle',\n\t\t\tvalue: 'nosubstyle',\n\t\t}, {\n\t\t\tname: 'styleTweaksFlairEmojiAsTextAlways',\n\t\t\tvalue: 'always',\n\t\t}],\n\t\tbodyClass: true,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tif (module.options.highlightTopLevel.value) {\n\t\tconst highlightTopLevelColor = module.options.highlightTopLevelColor.value || module.options.highlightTopLevelColor.default;\n\t\tconst highlightTopLevelSize = parseInt(module.options.highlightTopLevelSize.value || module.options.highlightTopLevelSize.default, 10);\n\t\taddCSS(`\n\t\t\t.nestedlisting > .comment + .clearleft {\n\t\t\t\theight: ${highlightTopLevelSize}px !important;\n\t\t\t\tmargin-bottom: 5px;\n\t\t\t\tbackground: ${highlightTopLevelColor} !important;\n\t\t\t}\n\t\t\t.Comment.top-level {\n\t\t\t\tborder-top: ${highlightTopLevelSize}px solid ${highlightTopLevelColor};\n\t\t\t}\n\t\t`);\n\t}\n};\n\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { filter, flow } from 'lodash/fp';\nimport { Module } from '../core/module';\nimport {\n\tBodyClasses,\n\tcurrentMultireddit,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tfilterMap,\n\tloggedInUser,\n\tstring,\n} from '../utils';\nimport * as CustomToggles from './customToggles';\n\nexport const module: Module<*> = new Module('stylesheet');\n\nmodule.moduleName = 'stylesheetName';\nmodule.description = 'stylesheetDesc';\nmodule.category = 'appearanceCategory';\nmodule.exclude = [\n\t'prefs',\n\t'account',\n\t'stylesheet',\n\t'subredditAbout',\n];\n\nmodule.options = {\n\tredditThemes: {\n\t\ttitle: 'stylesheetRedditThemesTitle',\n\t\tdescription: 'stylesheetRedditThemesDesc',\n\t\ttype: 'button',\n\t\ttext: 'learn more',\n\t\tcallback() {\n\t\t\twindow.location.href = 'https://www.reddit.com/r/Enhancement/wiki/faq/srstyle#reddit_themes';\n\t\t},\n\t},\n\tloadStylesheets: {\n\t\ttitle: 'stylesheetLoadStylesheetsTitle',\n\t\ttype: 'table',\n\t\tdescription: 'stylesheetLoadStylesheetsDesc',\n\t\tvalue: ([\n\t\t\t// loading stylesheets is expensive for reddit (#4302), so this should not have a default value\n\t\t]: Array<[string, string, string, string]>),\n\t\tfields: [{\n\t\t\tkey: 'urlOrSubreddit',\n\t\t\tname: 'url or subreddit',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'applyTo',\n\t\t\ttype: 'select',\n\t\t\tvalues: [{\n\t\t\t\tname: 'Everywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'Everywhere but:',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'Only on:',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'applyToSubreddits',\n\t\t\tname: 'applyToSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'customToggle',\n\t\t\tname: 'customToggle',\n\t\t\ttype: 'select',\n\t\t\tget values() { return getToggles(); },\n\t\t\tvalue: '',\n\t\t}],\n\t},\n\tsnippets: {\n\t\ttitle: 'stylesheetSnippetsTitle',\n\t\ttype: 'table',\n\t\tdescription: 'stylesheetSnippetsDesc',\n\t\tvalue: ([]: Array<[string, string, string, string]>),\n\t\tfields: [{\n\t\t\tkey: 'snippet',\n\t\t\tname: 'snippet',\n\t\t\ttype: 'textarea',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'applyTo',\n\t\t\ttype: 'select',\n\t\t\tvalues: [{\n\t\t\t\tname: 'Everywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'Everywhere but:',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'Only on:',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'applyToSubreddits',\n\t\t\tname: 'applyToSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'customToggle',\n\t\t\tname: 'customToggle',\n\t\t\ttype: 'select',\n\t\t\tget values() { return getToggles(); },\n\t\t\tvalue: '',\n\t\t}],\n\t},\n\tbodyClasses: {\n\t\ttitle: 'stylesheetBodyClassesTitle',\n\t\ttype: 'table',\n\t\tdescription: 'stylesheetBodyClassesDesc',\n\t\tvalue: ([]: Array<[string, string, string, string]>),\n\t\tfields: [{\n\t\t\tkey: 'classes',\n\t\t\tname: 'classes',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'applyTo',\n\t\t\ttype: 'select',\n\t\t\tvalues: [{\n\t\t\t\tname: 'Everywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'Everywhere but:',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'Only on:',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'applyToSubreddits',\n\t\t\tname: 'applyToSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'customToggle',\n\t\t\tname: 'customToggle',\n\t\t\ttype: 'select',\n\t\t\tget values() { return getToggles(); },\n\t\t\tvalue: '',\n\t\t}],\n\t},\n\tsubredditClass: {\n\t\ttitle: 'stylesheetSubredditClassTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'stylesheetSubredditClassDesc',\n\t},\n\tmultiredditClass: {\n\t\ttitle: 'stylesheetMultiredditClassTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'stylesheetMultiredditClassDesc',\n\t},\n\tusernameClass: {\n\t\ttitle: 'stylesheetUsernameClassTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'stylesheetUsernameClassDesc',\n\t},\n\tloggedInUserClass: {\n\t\ttitle: 'stylesheetLoggedInUserClassTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'stylesheetLoggedInUserClassDesc',\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tif (module.options.subredditClass.value) {\n\t\tapplySubredditClass();\n\t}\n\tif (module.options.usernameClass.value) {\n\t\tapplyUsernameClass();\n\t}\n\tif (module.options.multiredditClass.value) {\n\t\tapplyMultiredditClass();\n\t}\n\n\t$(CustomToggles.module).on('toggle', applyStyles);\n\tapplyStyles();\n\n\tfunction applyStyles() {\n\t\tapplyBodyClasses();\n\t\tloadStylesheets();\n\t\tapplyCssSnippets();\n\t}\n};\n\nmodule.contentStart = () => {\n\tif (module.options.loggedInUserClass.value) {\n\t\tapplyLoggedInUserClass();\n\t}\n};\n\nfunction applySubredditClass() {\n\tlet name = currentSubreddit();\n\tif (name) {\n\t\tname = name.toLowerCase();\n\t\tBodyClasses.add(`res-r-${name}`);\n\t}\n}\n\nfunction applyMultiredditClass() {\n\tlet name = currentMultireddit();\n\tif (name) {\n\t\tname = name.toLowerCase().replace(/\\//g, '-');\n\t\tBodyClasses.add(`res-${name}`);\n\t}\n}\n\nfunction applyUsernameClass() {\n\tlet name = currentUserProfile();\n\tif (name) {\n\t\tname = name.toLowerCase();\n\t\tBodyClasses.add(`res-user-${name}`);\n\t}\n}\n\nfunction applyLoggedInUserClass() {\n\tlet name = loggedInUser();\n\tif (name) {\n\t\tname = name.toLowerCase();\n\t\tBodyClasses.add(`res-me-${name}`);\n\t}\n}\n\nfunction applyBodyClasses() {\n\tconst addClasses = module.options.bodyClasses.value\n\t\t.filter(row => shouldApply(row[3], row[1], row[2]))\n\t\t.map(row => (row[0] || '').split(/[\\s,]/))\n\t\t.reduce((a, b) => a.concat(b), []);\n\n\tconst removeClasses = module.options.bodyClasses.value\n\t\t.filter(row => !shouldApply(row[3], row[1], row[2]))\n\t\t.map(row => (row[0] || '').split(/[\\s,]/))\n\t\t.reduce((a, b) => a.concat(b), []);\n\n\tBodyClasses.add(...addClasses);\n\tBodyClasses.remove(...removeClasses);\n}\n\nconst subredditNameRegexp = /^(?:\\/?r\\/)?([\\w_]+)\\/?$/;\nconst urlRegexp = /^(?:https?:\\/\\/[\\w\\.]+)?\\/\\w+/;\n\nconst sanitizeStylesheetUrls = filterMap(([url]) => {\n\tconst subredditMatch = subredditNameRegexp.exec(url);\n\tif (subredditMatch) {\n\t\treturn [`/r/${subredditMatch[1]}/stylesheet.css`];\n\t} else if (urlRegexp.test(url)) {\n\t\treturn [url];\n\t}\n});\n\nfunction loadStylesheets() {\n\tconst stylesheetUrls = flow(\n\t\tfilter(row => shouldApply(row[3], row[1], row[2])),\n\t\tsanitizeStylesheetUrls,\n\t)(module.options.loadStylesheets.value);\n\n\tstylesheetManager.sync(stylesheetUrls);\n}\n\nconst stylesheetManager = stylesheetElementManager(url => string.html`<link rel=\"stylesheet\" href=\"${url}\">`);\n\nfunction applyCssSnippets() {\n\tconst snippets = module.options.snippets.value\n\t\t.filter(row => shouldApply(row[3], row[1], row[2]))\n\t\t.map(([css]) => css);\n\n\tsnippetManager.sync(snippets);\n}\n\nconst snippetManager = stylesheetElementManager(css => {\n\tconst style = document.createElement('style');\n\tstyle.textContent = css;\n\treturn style;\n});\n\nfunction stylesheetElementManager<T>(generateElement: (x: T) => HTMLElement): { sync(xs: T[]): void } {\n\tconst current = new Map();\n\n\tfunction sync(wantedKeys) {\n\t\tconst currentKeys = Array.from(current.keys());\n\n\t\t_.difference(wantedKeys, currentKeys)\n\t\t\t.forEach(x => {\n\t\t\t\tconst ele = generateElement(x);\n\t\t\t\tcurrent.set(x, ele);\n\t\t\t\t(document.head || document.documentElement).append(ele);\n\t\t\t});\n\n\t\t_.difference(currentKeys, wantedKeys)\n\t\t\t.forEach(x => {\n\t\t\t\tconst ele = current.get(x);\n\t\t\t\tcurrent.delete(x);\n\t\t\t\tif (ele) ele.remove();\n\t\t\t});\n\t}\n\n\treturn { sync };\n}\n\nfunction shouldApply(toggle, applyTo, applyList) {\n\tif (toggle && !CustomToggles.toggleActive(toggle)) return false;\n\n\tlet subreddit = currentSubreddit();\n\tif (!subreddit) {\n\t\treturn (applyTo !== 'include');\n\t}\n\n\tsubreddit = subreddit.toLowerCase();\n\tapplyList = typeof applyList === 'string' ? applyList.toLowerCase().split(',') : [];\n\n\tswitch (applyTo) {\n\t\tcase 'exclude':\n\t\t\treturn !(applyList.includes(subreddit) || applyList.includes('all'));\n\t\tcase 'include':\n\t\t\treturn applyList.includes(subreddit) || applyList.includes('all');\n\t\tdefault:\n\t\t\treturn true;\n\t}\n}\n\nfunction getToggles() {\n\treturn [\n\t\t{ name: 'No toggle needed', value: '' },\n\t\t...CustomToggles.getToggles().map(({ key, text }) => ({ name: text, value: key })),\n\t];\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { ajax, i18n } from '../environment';\nimport {\n\tformatDateDiff,\n\tisAppType,\n\tisPageType,\n\tstring,\n\twaitForDescendant,\n\twaitForEvent,\n} from '../utils';\nimport type { RedditListing, RedditLink } from '../types/reddit';\nimport * as CommandLine from './commandLine';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('submitHelper');\n\nmodule.moduleName = 'submitHelperName';\nmodule.category = 'submissionsCategory';\nmodule.description = 'submitHelperDesc';\nmodule.options = {\n\twarnAlreadySubmitted: {\n\t\ttitle: 'submitHelperWarnAlreadySubmittedTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'submitHelperWarnAlreadySubmittedDesc',\n\t},\n\tuncheckSendRepliesToInbox: {\n\t\ttitle: 'submitHelperUncheckSendRepliesToInboxTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'submitHelperUncheckSendRepliesToInboxDesc',\n\t},\n\tfocusFormOnLoad: {\n\t\ttitle: 'submitHelperFocusFormOnLoadTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'submitHelperFocusFormOnLoadDesc',\n\t},\n};\n\nconst $repostWarning = _.once(() => $(string.html`\n\t<div class=\"spacer\" style=\"display: none\">\n\t\t<div class=\"roundfield info-notice\">\n\t\t\t<a style=\"float: right\" class=\"gearIcon\" href=\"${SettingsNavigation.makeUrlHash(module.moduleID, 'warnAlreadySubmitted')}\"></a>\n\t\t\t<p>This link was submitted to <a class=\"subredditLink\" href=\"#\"></a>:<span class=\"time\"></span><a class=\"seeMore\" href=\"#\" target=\"_blank\" rel=\"noopener noreferer\">(see more)</a></p>\n\t\t</div>\n\t</div>\n`));\n\nlet urlField, srField;\n\nmodule.go = () => {\n\timplementOptions();\n\t// Register submit CLI if not on the submit page\n\tif (!isPageType('submit')) {\n\t\tregisterCommandLine();\n\t}\n};\n\nasync function implementOptions() {\n\tif (isAppType('d2x')) {\n\t\twaitForEvent(document, 'reddit.urlChanged').then(implementOptions);\n\t}\n\tif (!isPageType('submit')) {\n\t\treturn;\n\t}\n\t// Implement submitHelper preferences if on the submit page\n\tif (module.options.warnAlreadySubmitted.value) {\n\t\tconst urlFieldDiv = document.querySelector('#url-field');\n\t\tif (urlFieldDiv) {\n\t\t\t$(urlFieldDiv).parent().after($repostWarning());\n\t\t\turlField = ((urlFieldDiv.querySelector('#url'): any): HTMLInputElement);\n\t\t\tsrField = ((document.querySelector('#sr-autocomplete'): any): HTMLInputElement);\n\t\t\t$([srField, urlField]).on('input keydown', _.debounce(updateRepostWarning, 300));\n\t\t\t// No event is fired when reddit's js changes the subreddit field, so update whenever the user clicks\n\t\t\t$('#suggested-reddits a, #sr-drop-down').on('click', updateRepostWarning);\n\t\t\t// We would allow reddit to show/hide the message for link/text posts with #link-desc\n\t\t\t// but some subreddits hide this box, so we'll do it manually.\n\t\t\tconst linkButton = document.querySelector('a.link-button');\n\t\t\tconst textButton = document.querySelector('a.text-button');\n\t\t\tif (linkButton && textButton) {\n\t\t\t\tlinkButton.addEventListener('click', () => { updateRepostWarning(); });\n\t\t\t\ttextButton.addEventListener('click', () => { $repostWarning().hide(); });\n\t\t\t}\n\t\t}\n\t}\n\n\tif (module.options.uncheckSendRepliesToInbox.value) {\n\t\tconst selector = isAppType('d2x') ? '[aria-labelledby=\"send-replies\"]' : '#sendreplies';\n\t\tconst sendReplies: ?HTMLElement = await waitForDescendant(document.documentElement, selector);\n\t\tif (sendReplies) {\n\t\t\tsendReplies.click();\n\t\t}\n\t}\n\n\tif (module.options.focusFormOnLoad.value) {\n\t\tif (isAppType('d2x')) {\n\t\t\t$('textarea').filter(':visible').first().focus();\n\t\t} else {\n\t\t\t$('form.submit [name=url], form.submit [name=title]').filter(':visible').first().focus();\n\t\t}\n\t}\n}\n\nfunction registerCommandLine() {\n\tconst trailingUrl = /(?:\\s+(\\w+:\\/\\/.+))$/;\n\tconst cliParams = /^(?:(?:\\/?r\\/)?(\\w+))?(?:\\s+(.*))?$/;\n\n\tfunction commandLineParameters(val) {\n\t\tconst urlResult = trailingUrl.exec(val);\n\t\tconst result = cliParams.exec(urlResult ? val.slice(0, val.length - urlResult[0].length) : val);\n\t\treturn result ? result.slice(1).concat(urlResult ? urlResult[1] : undefined) : [];\n\t}\n\n\tCommandLine.registerCommand(/^p(?:ost)?$/,\n\t\t'post [subreddit] [title] [url] - submit a post to a subreddit',\n\t\t(command, val) => {\n\t\t\tconst [subreddit, title, url] = commandLineParameters(val);\n\t\t\tif (!subreddit) {\n\t\t\t\t// Use default value\n\t\t\t} else if (url) {\n\t\t\t\treturn `Post ${url} to /r/${subreddit}: ${title || ''}`;\n\t\t\t} else if (title) {\n\t\t\t\treturn `Post to /r/${subreddit}: ${title}`;\n\t\t\t} else if (subreddit) {\n\t\t\t\treturn `Post to /r/${subreddit}`;\n\t\t\t}\n\t\t},\n\t\t(command, val) => {\n\t\t\tconst [subreddit, title, url] = commandLineParameters(val);\n\n\t\t\tconst redirect = subreddit ?\n\t\t\t\tstring.encode`/r/${subreddit}/submit?title=${title || ''}&url=${url || ''}` :\n\t\t\t\t'/submit';\n\n\t\t\twindow.location = redirect;\n\t\t},\n\t);\n}\n\nfunction showRepostWarning(sr, url, date) {\n\t$repostWarning()\n\t\t.find('.subredditLink').attr('href', `/r/${sr}`).text(`/r/${sr}`).end()\n\t\t.find('.seeMore').attr('href', string.encode`/r/${sr}/search?restrict_sr=on&sort=relevance&q=url%3A${url}`).end()\n\t\t.find('.time').text(` ${i18n('submitHelperTimeAgo', formatDateDiff(date))} `).end()\n\t\t.fadeIn(300);\n}\n\nfunction hideRepostWarning() {\n\t$repostWarning().fadeOut(300);\n}\n\nasync function updateRepostWarning() {\n\tif (!urlField.value) return;\n\tconst stripUrlRe = /^(?:https?:\\/\\/)?(?:(?:www|i|m)\\.)?(.+?)\\/?(?:\\.\\w+)?(?:#[^\\/]*)?$/i;\n\tconst subreddit = srField.value;\n\tconst match = stripUrlRe.exec(urlField.value);\n\n\tif (subreddit && match) {\n\t\tconst [, userUrl] = match;\n\t\ttry {\n\t\t\tconst { data } = (await ajax({\n\t\t\t\turl: string.encode`/r/${subreddit}/search.json`,\n\t\t\t\tquery: {\n\t\t\t\t\trestrict_sr: 'on',\n\t\t\t\t\tsort: 'relevance',\n\t\t\t\t\tlimit: 1,\n\t\t\t\t\tq: `url:${userUrl}`,\n\t\t\t\t},\n\t\t\t\ttype: 'json',\n\t\t\t}): RedditListing<RedditLink>);\n\n\t\t\tif (data && data.children.length && (data.children[0].data.url.match(stripUrlRe): any)[1] === userUrl) {\n\t\t\t\tshowRepostWarning(subreddit, userUrl, new Date(data.children[0].data.created_utc * 1000));\n\t\t\t} else {\n\t\t\t\thideRepostWarning();\n\t\t\t}\n\t\t} catch (e) {\n\t\t\thideRepostWarning();\n\t\t\tthrow e;\n\t\t}\n\t} else {\n\t\thideRepostWarning();\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport {\n\tCreateElement,\n\tHOUR,\n\tformatDate,\n\tformatDateDiff,\n\tformatNumber,\n\tisFakeSubreddit,\n\tloggedInUser,\n\tregexes,\n\tstring,\n} from '../utils';\nimport type { RedditSubreddit } from '../types/reddit';\nimport { ajax, i18n } from '../environment';\nimport * as Dashboard from './dashboard';\nimport * as FilteReddit from './filteReddit';\nimport * as Hover from './hover';\nimport * as SubredditManager from './subredditManager';\n\nexport const module: Module<*> = new Module('subredditInfo');\n\nmodule.moduleName = 'subredditInfoName';\nmodule.category = 'subredditsCategory';\nmodule.description = 'subredditInfoDesc';\nmodule.options = {\n\trequireDirectLink: {\n\t\ttitle: 'subredditInfoRequireDirectLinkTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditInfoRequireDirectLinkDesc',\n\t},\n\thoverDelay: {\n\t\ttitle: 'subredditInfoHoverDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '800',\n\t\tdescription: 'subredditInfoHoverDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\ttitle: 'subredditInfoFadeDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'subredditInfoFadeDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\ttitle: 'subredditInfoFadeSpeedTitle',\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'subredditInfoFadeSpeedDesc',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tconst linkSelector = [\n\t\t'a.subreddit',\n\t\t'a.search-subreddit-link',\n\t\t'.md a[href^=\"/r/\"]',\n\t\t'.Post a[href^=\"/r/\"]:not([href*=\"/comments/\"])',\n\t\t'.Comment a[href^=\"/r/\"]:not([href*=\"/comments/\"])',\n\t\t'a[data-click-id=\"subreddit\"]',\n\t\t!module.options.requireDirectLink.value && '.md a[href*=\"reddit.com/r/\"]',\n\t].filter(x => x).join(', ');\n\n\tHover.infocard(module.moduleID)\n\t\t.options({\n\t\t\twidth: 450,\n\t\t\topenDelay: parseFloat(module.options.hoverDelay.value),\n\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t})\n\t\t.populateWith(showSubredditInfo)\n\t\t.watch(linkSelector);\n};\n\nasync function showSubredditInfo(card) {\n\tconst match = regexes.subreddit.exec(card.getCheckedTarget().pathname);\n\tconst [, subreddit] = match || [];\n\n\t// Don't show popup if subreddit is in fake subreddit list\n\tif (!subreddit || isFakeSubreddit(subreddit)) return;\n\n\tconst header = string.html`<div><a href=\"/r/${subreddit}\">/r/${subreddit}</a></div>`;\n\n\tconst url = `/r/${subreddit.toLowerCase()}/about.json`;\n\tlet jsonData;\n\n\ttry {\n\t\tjsonData = (await ajax({ url, type: 'json', cacheFor: HOUR }): RedditSubreddit);\n\t} catch (e) {\n\t\treturn [null, i18n('subredditInfoErrorLoadingSubredditInfo')];\n\t}\n\n\tif (jsonData.kind !== 't5') {\n\t\treturn [null, i18n('subredditInfoSubredditNotFound')];\n\t}\n\n\tif (loggedInUser()) {\n\t\tconst button = CreateElement.fancyToggleButton(\n\t\t\ti18n('subredditInfoSubscribe'),\n\t\t\t'',\n\t\t\t() => !!jsonData.data.user_is_subscriber,\n\t\t\tstate => {\n\t\t\t\tSubredditManager.subscribeToSubreddit(jsonData.data.name, state);\n\t\t\t\tajax.invalidate({ url });\n\t\t\t},\n\t\t);\n\t\tbutton.style.marginLeft = '12px';\n\t\theader.appendChild(button);\n\n\t\tif (Modules.isEnabled(SubredditManager)) {\n\t\t\tSubredditManager.getMultiCounts(jsonData.data.display_name).then(v => $(button).after(v));\n\t\t}\n\t}\n\n\tconst d = new Date(jsonData.data.created_utc * 1000);\n\n\tconst $newBody = $(string.html`\n\t\t<div class=\"subredditInfoToolTip\">\n\t\t\t<div class=\"subredditLabel\">${i18n('subredditInfoSubredditCreated')}</div> <div class=\"subredditDetail\">${formatDate(d)} (${formatDateDiff(d)})</div>\n\t\t\t<div class=\"subredditLabel\">${i18n('subredditInfoSubscribers')}</div> <div class=\"subredditDetail\">${formatNumber(jsonData.data.subscribers)}</div>\n\t\t\t<div class=\"subredditLabel\">${i18n('subredditInfoTitle')}</div> <div class=\"subredditDetail\">${jsonData.data.title}</div>\n\t\t\t<div class=\"subredditLabel\">${i18n('subredditInfoOver18')}</div> <div class=\"subredditDetail\">${jsonData.data.over18 ? i18n('yes') : i18n('no')}</div>\n\t\t\t<div class=\"clear\"></div>\n\t\t\t<div id=\"subTooltipButtons\" class=\"bottomButtons\">\n\t\t\t\t<div class=\"clear\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`);\n\n\tif (Modules.isRunning(SubredditManager)) {\n\t\t$newBody.find('#subTooltipButtons').append(SubredditManager.createShortcutToggleButton(subreddit));\n\t}\n\n\tif (Modules.isEnabled(Dashboard)) {\n\t\t$newBody.find('#subTooltipButtons').append(Dashboard.createSubredditToggleButton(subreddit));\n\t}\n\n\tif (Modules.isEnabled(FilteReddit)) {\n\t\tconst button = CreateElement.fancyToggleButton(\n\t\t\ti18n('subredditInfoAddRemoveFilter'),\n\t\t\ti18n('subredditInfoFilterFromAllAndDomain'),\n\t\t\t() => FilteReddit.listFilters.subreddits.includesString(subreddit),\n\t\t\tstate => FilteReddit.listFilters.subreddits.toggleString(subreddit, state),\n\t\t);\n\t\t$newBody.find('#subTooltipButtons').append(button);\n\t}\n\n\treturn [header, $newBody];\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { escapeHTML, watchForThings } from '../utils';\n\nexport const module: Module<*> = new Module('subRedditTagger');\n\nmodule.moduleName = 'subredditTaggerName';\nmodule.category = 'subredditsCategory';\nmodule.description = 'subredditTaggerDesc';\nmodule.options = {\n\tsubReddits: {\n\t\ttitle: 'subRedditTaggerSubRedditsTitle',\n\t\ttype: 'table',\n\t\taddRowText: '+add tag',\n\t\tfields: [{\n\t\t\tkey: 'subreddit',\n\t\t\tname: 'subreddit',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'doesntContain',\n\t\t\tname: 'doesntContain',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'tag',\n\t\t\tname: 'tag',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: ([]: Array<[string, string, string]>),\n\t\tdescription: 'subRedditTaggerSubRedditsDesc',\n\t},\n};\n\nconst SRTDoesntContain = new Map();\nconst SRTTagWith = new Map();\n\nmodule.beforeLoad = () => {\n\tif (!module.options.subReddits.value.length) return;\n\n\tfor (const [subreddit, doesntContain, tagWith] of module.options.subReddits.value) {\n\t\tSRTDoesntContain.set(subreddit.toLowerCase(), doesntContain);\n\t\tSRTTagWith.set(subreddit.toLowerCase(), tagWith);\n\t}\n\n\twatchForThings(['post'], scanTitle);\n};\n\nfunction scanTitle(thing) {\n\tconst tagToAdd = getTag(thing);\n\tif (tagToAdd !== undefined) {\n\t\tconst tagText = $('<span>').append(escapeHTML(tagToAdd)).append('&nbsp;');\n\t\t$(thing.getTitleElement()).parent().prepend(tagText);\n\t}\n}\n\nfunction getTag(thing) {\n\tlet hasTag = false;\n\n\tconst thisSubReddit = (thing.getSubreddit() || '').toLowerCase();\n\tif (thisSubReddit && SRTTagWith.has(thisSubReddit)) {\n\t\tlet thisString = SRTDoesntContain.get(thisSubReddit);\n\t\tif (thisString === undefined || thisString === '') {\n\t\t\tthisString = `[${thisSubReddit}]`;\n\t\t\tSRTDoesntContain.set(thisSubReddit, thisString);\n\t\t}\n\t\thasTag = thing.getTitle().includes(thisString) ||\n\t\t\tthing.getPostFlairText().includes(thisString);\n\t}\n\n\tif (!hasTag) {\n\t\treturn SRTTagWith.get(thisSubReddit);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { Table } from '../utils';\n\nexport const module: Module<*> = new Module('tableTools');\n\nmodule.moduleName = 'tableToolsName';\nmodule.category = 'productivityCategory';\nmodule.description = 'tableToolsDesc';\nmodule.options = {\n\tsort: {\n\t\ttitle: 'tableToolsSortTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'tableToolsSortDesc',\n\t\tbodyClass: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.sort.value) {\n\t\t$(document.body).on('click', '.md th, .Comment th, .Post th', Table.sortByColumn);\n\t}\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { downcast, string } from '../utils';\nimport { i18n } from '../environment';\n\nexport const module: Module<*> = new Module('temporaryDropdownLinks');\nmodule.moduleName = 'temporaryDropdownLinksName';\nmodule.category = 'browsingCategory';\nmodule.description = 'temporaryDropdownLinksDesc';\nmodule.options = {\n\talways: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'temporaryDropdownLinksAlwaysDesc',\n\t\ttitle: 'temporaryDropdownLinksAlwaysTitle',\n\t},\n};\nmodule.include = [\n\t/\\/(?:top|controversial)\\/$/,\n];\n\nmodule.contentStart = () => {\n\tsetupMenu();\n};\n\nfunction setupMenu() {\n\tconst mutateChoice = module.options.always.value ? removeListener : appendTemporaryButton;\n\tfor (const choice: HTMLAnchorElement of (document.querySelectorAll('.menuarea .drop-choices a.choice'): any)) {\n\t\tconst form = choice.closest('form');\n\t\tif (!form) continue;\n\t\tconst { name, value } = downcast(form.querySelector('input'), HTMLInputElement);\n\t\tif (name && value) {\n\t\t\tmutateChoice(choice, name, value);\n\t\t}\n\t}\n}\n\nfunction removeListener(choice, name, value) {\n\t// rewrite the href and remove the onclick\n\tchoice.search = `?${name}=${value}`;\n\tchoice.removeAttribute('onclick');\n}\n\nfunction appendTemporaryButton(choice, name, value) {\n\tconst url = new URL(choice.href);\n\turl.searchParams.set(name, value);\n\tconst link = string.html`\n\t\t<a class=\"RES-dropdown-button\" href=\"${url.href}\">${i18n('temporaryDropdownLinksTemporarily')}</a>\n\t`;\n\tlink.addEventListener('click', (e: MouseEvent) => e.stopPropagation());\n\tchoice.appendChild(link);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport { i18n } from '../environment';\nimport { BodyClasses } from '../utils';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('userbarHider');\n\nmodule.moduleName = 'userbarHiderName';\nmodule.description = 'userbarHiderDesc';\nmodule.category = 'myAccountCategory';\nmodule.disabledByDefault = true;\n\nmodule.options = {\n\tuserbarState: {\n\t\ttitle: 'userbarHiderUserbarStateTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Visible',\n\t\t\tvalue: 'visible',\n\t\t}, {\n\t\t\tname: 'Hidden',\n\t\t\tvalue: 'hidden',\n\t\t}],\n\t\tvalue: 'visible',\n\t\tdescription: 'userbarHiderUserbarStateDesc',\n\t},\n\ttoggleButtonState: {\n\t\ttitle: 'userbarHiderToggleButtonStateTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Visible',\n\t\t\tvalue: 'visible',\n\t\t}, {\n\t\t\tname: 'Hidden',\n\t\t\tvalue: 'hidden',\n\t\t}],\n\t\tvalue: 'visible',\n\t\tdescription: 'userbarHiderToggleButtonStateDesc',\n\t\tadvanced: true,\n\t},\n};\n\nlet userbar, $userbarToggle;\n\nmodule.contentStart = () => {\n\tuserbarHider();\n};\n\nfunction userbarHider() {\n\tuserbar = document.getElementById('header-bottom-right');\n\tif (userbar) {\n\t\tif (module.options.toggleButtonState.value === 'visible' || module.options.userbarState.value === 'hidden') {\n\t\t\taddToggleButton();\n\t\t}\n\t\tif (module.options.userbarState.value === 'hidden') {\n\t\t\tupdateUserBar();\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\toptionKey: 'userbarState',\n\t\t\t\tcooldown: 24 * 60 * 60 * 1000,\n\t\t\t\theader: i18n('userbarHiderUserBarHidden'),\n\t\t\t\tmessage: i18n('userbarHiderContentHiddenNotification', ''),\n\t\t\t});\n\t\t}\n\t}\n}\n\nfunction toggleUserBar() {\n\tmodule.options.userbarState.value = module.options.userbarState.value === 'hidden' ? 'visible' : 'hidden';\n\tOptions.save(module.options.userbarState);\n\tupdateUserBar();\n}\n\nfunction updateUserBar() {\n\tconst userbarHidden = (module.options.userbarState.value === 'hidden');\n\n\tupdateToggleButton(userbarHidden);\n\ttoggleUserbarElementsDisplay(userbarHidden);\n}\n\nfunction addToggleButton() {\n\t$userbarToggle = $('<div>', {\n\t\tid: 'userbarToggle',\n\t\ttitle: i18n('userbarHiderToggleUserbar'),\n\t\tclick: () => toggleUserBar(),\n\t}).prependTo(userbar);\n\n\tdocument.querySelector('#header-bottom-right').classList.add('res-userbar-toggle');\n\n\tupdateToggleButton(false);\n}\n\nfunction updateToggleButton(userbarHidden) {\n\t$userbarToggle\n\t\t.toggleClass('userbarHide', !userbarHidden)\n\t\t.toggleClass('userbarShow', userbarHidden)\n\t\t.html(userbarHidden ? '&laquo;' : '&raquo;');\n}\n\nfunction toggleUserbarElementsDisplay(userbarHidden) {\n\tBodyClasses.toggle(userbarHidden, 'res-hide-userbar');\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Metadata from '../core/metadata';\nimport { getExtensionId } from '../environment';\nimport {\n\tBodyClasses,\n\trange,\n\tstring,\n} from '../utils';\n\nexport const module: Module<*> = new Module('version');\n\nmodule.moduleName = 'versionName';\nmodule.category = 'aboutCategory';\nmodule.description = 'versionDesc';\nmodule.alwaysEnabled = true;\nmodule.hidden = true;\n\nconst concurrentInstallWiki = '/r/Enhancement/wiki/tutorials/concurrent_installs';\n\nmodule.beforeLoad = () => {\n\taddVersionClasses();\n};\n\nmodule.go = () => {\n\treportVersion();\n};\n\nmodule.afterLoad = () => {\n\tavoidConcurrentInstalls();\n};\n\nfunction addVersionClasses() {\n\tBodyClasses.add('res');\n\tconst versionComponents = Metadata.version.split('.');\n\tfor (const i of range(0, versionComponents.length)) {\n\t\tBodyClasses.add(`res-v${versionComponents.slice(0, i + 1).join('-')}`);\n\t}\n}\n\nfunction reportVersion() {\n\t// report the version of RES to reddit's advisory checker.\n\t$('<div>', {\n\t\tid: 'RESConsoleVersion',\n\t\tstyle: 'display: none;',\n\t\ttext: Metadata.version,\n\t\t'data-id': getExtensionId(),\n\t}).appendTo(document.body);\n}\n\nfunction avoidConcurrentInstalls() {\n\tconst installs = Array.from(document.querySelectorAll('#RESConsoleVersion'));\n\t// versions before 5.6.2 will not report their id, so assume they are unique\n\tconst concurrentInstalls = _.uniqBy(installs, e => e.getAttribute('data-id') || Math.random())\n\t\t.map(e => e.textContent);\n\n\tif (concurrentInstalls.length > 1) {\n\t\tBodyClasses.add('res-concurrent-installs');\n\t\tdocument.body.appendChild(string.html`\n\t\t\t<div id=\"res-concurrent-installs\">\n\t\t\t\t<p>You have enabled multiple versions of Reddit Enhancement Suite:</p>\n\t\t\t\t<ul>\n\t\t\t\t\t${concurrentInstalls.map(v => string._html`\n\t\t\t\t\t\t<li>${v}</li>\n\t\t\t\t\t`)}\n\t\t\t\t</ul>\n\t\t\t\t<p>You should enable only one. <a href=\"${concurrentInstallWiki}\">Find out how!</a>\n\t\t\t</div>\n\t\t`);\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\taddCSS,\n\tcolorFromArray,\n\tcolorToArray,\n\tprojectInto,\n\twatchForThings,\n\tzip,\n} from '../utils';\n\nexport const module: Module<*> = new Module('voteEnhancements');\n\nmodule.moduleName = 'voteEnhancementsName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'voteEnhancementsDesc';\nmodule.options = {\n\thighlightScores: {\n\t\ttitle: 'voteEnhancementsHighlightScoresTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'voteEnhancementsHighlightScoresDesc',\n\t\tbodyClass: true,\n\t},\n\tcolorLinkScore: {\n\t\ttitle: 'voteEnhancementsColorLinkScoreTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'No coloration',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Automatic coloration',\n\t\t\tvalue: 'automatic',\n\t\t}, {\n\t\t\tname: 'User-defined coloration',\n\t\t\tvalue: 'user',\n\t\t}],\n\t\tvalue: 'none',\n\t\tdescription: 'voteEnhancementsColorLinkScoreDesc',\n\t\tbodyClass: true,\n\t},\n\tuserDefinedLinkColoration: {\n\t\ttitle: 'voteEnhancementsUserDefinedLinkColorationTitle',\n\t\tdependsOn: options => options.colorLinkScore.value === 'user',\n\t\ttype: 'table',\n\t\taddRowText: '+add threshold',\n\t\tfields: [{\n\t\t\tkey: 'score',\n\t\t\tname: 'score',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'color',\n\t\t\tname: 'color',\n\t\t\ttype: 'color',\n\t\t}],\n\t\tvalue: [\n\t\t\t[0, '#5f99cf'],\n\t\t\t[10, '#F2B035'],\n\t\t\t[50, '#FF4500'],\n\t\t\t[100, '#D92B2B'],\n\t\t],\n\t\tdescription: 'voteEnhancementsUserDefinedLinkColorationDesc',\n\t\tsort([a], [b]) { // sort field with score increasing\n\t\t\treturn String(a).localeCompare(b, undefined, { numeric: true });\n\t\t},\n\t},\n\tcolorCommentScore: {\n\t\ttitle: 'voteEnhancementsColorCommentScoreTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'No coloration',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Automatic coloration',\n\t\t\tvalue: 'automatic',\n\t\t}, {\n\t\t\tname: 'Reddit Classic',\n\t\t\tvalue: 'simple',\n\t\t}, {\n\t\t\tname: 'User-defined coloration',\n\t\t\tvalue: 'user',\n\t\t}],\n\t\tvalue: 'none',\n\t\tdescription: 'voteEnhancementsColorCommentScoreDesc',\n\t},\n\tuserDefinedCommentColoration: {\n\t\ttitle: 'voteEnhancementsUserDefinedCommentColorationTitle',\n\t\tdependsOn: options => options.colorCommentScore.value === 'user',\n\t\ttype: 'table',\n\t\taddRowText: '+add threshold',\n\t\tfields: [{\n\t\t\tkey: 'score',\n\t\t\tname: 'score',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'color',\n\t\t\tname: 'color',\n\t\t\ttype: 'color',\n\t\t}],\n\t\tvalue: [\n\t\t\t[0, '#5f99cf'],\n\t\t\t[10, '#F2B035'],\n\t\t\t[50, '#FF4500'],\n\t\t\t[100, '#D92B2B'],\n\t\t],\n\t\tdescription: 'voteEnhancementsUserDefinedCommentColorationDesc',\n\t\tsort([a], [b]) { // sort field with score increasing\n\t\t\treturn String(a).localeCompare(b, undefined, { numeric: true });\n\t\t},\n\t},\n\tinterpolateScoreColor: {\n\t\ttitle: 'voteEnhancementsInterpolateScoreColorTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'voteEnhancementsInterpolateScoreColorDesc',\n\t\tadvanced: true,\n\t},\n\thighlightControversial: {\n\t\ttitle: 'voteEnhancementsHighlightControversialTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'voteEnhancementsHighlightControversialDesc',\n\t},\n\thighlightControversialColor: {\n\t\ttitle: 'voteEnhancementsHighlightControversialColorTitle',\n\t\tdependsOn: options => options.highlightControversial.value,\n\t\tadvanced: true,\n\t\ttype: 'color',\n\t\tvalue: '#cc0000',\n\t\tdescription: 'voteEnhancementsHighlightControversialColorDesc',\n\t},\n};\nmodule.include = ['comments', 'commentsLinklist', 'linklist', 'modqueue', 'profile', 'inbox'];\n\nmodule.beforeLoad = () => {\n\tif (module.options.colorLinkScore.value !== 'none') {\n\t\twatchForThings(['post'], applyLinkScoreColor);\n\t}\n\tif (module.options.colorCommentScore.value !== 'none') {\n\t\twatchForThings(['comment'], applyCommentScoreColor);\n\t}\n\n\tif (module.options.highlightControversial.value) {\n\t\thighlightControversial();\n\t}\n};\n\n/**\n * @param {number} score\n * @param {Array<Array>} colors An array of [scoreThreshold, color] pairs in ascending order of scoreThreshold\n * @param {string} defaultColor\n * @returns {string}\n */\nfunction interpolateScoreColor(score, colors, defaultColor) {\n\tif (!colors.length) return defaultColor;\n\n\tconst augmented = [\n\t\t[-Infinity, _.first(colors)[1]],\n\t\t...colors,\n\t\t[Infinity, _.last(colors)[1]],\n\t];\n\n\tfor (const [[lowBound, lowColor], [highBound, highColor]] of zip(augmented.slice(0, -1), augmented.slice(1))) {\n\t\tif (score >= lowBound && score < highBound) {\n\t\t\tif (module.options.interpolateScoreColor.value) {\n\t\t\t\treturn colorFromArray(\n\t\t\t\t\t_.zipWith(colorToArray(lowColor), colorToArray(highColor),\n\t\t\t\t\t\t(lowVal, highVal) => Math.round(projectInto(lowBound, highBound, lowVal, highVal, score)),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// only start using a color when the magnitude of the score exceeds the magnitude of the score bound\n\t\t\t\t// e.g. if we're between -10 and -5, use -5 (higher); if we're between 5 and 10, use 5 (lower)\n\t\t\t\treturn (score < 0) ? highColor : lowColor;\n\t\t\t}\n\t\t}\n\t}\n\n\t// should never be reached because score should always be in [-Infinity, Infinity]\n\treturn defaultColor;\n}\n\nfunction getLinkScoreColor(score) {\n\tif (module.options.colorLinkScore.value === 'automatic') {\n\t\treturn `hsl(${180 + 360 * (1 - 100 / (150 + score))}, 75%,50%)`;\n\t} else {\n\t\treturn interpolateScoreColor(score, module.options.userDefinedLinkColoration.value, '#c6c6c6');\n\t}\n}\n\nfunction getCommentScoreColor(score) {\n\tif (module.options.colorCommentScore.value === 'automatic') {\n\t\treturn `hsl(${180 + 360 * (1 - 50 / (100 + score))}, 75%,50%)`;\n\t} else {\n\t\tlet colors;\n\t\tif (module.options.colorCommentScore.value === 'user') {\n\t\t\tcolors = module.options.userDefinedCommentColoration.value;\n\t\t} else if (module.options.colorCommentScore.value === 'simple') {\n\t\t\tcolors = [\n\t\t\t\t[0, '#9494FF'],\n\t\t\t\t[1, '#888'],\n\t\t\t\t[2, '#FF8B60'],\n\t\t\t];\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn interpolateScoreColor(score, colors, '#888');\n\t}\n}\n\nfunction applyLinkScoreColor(thing) {\n\tconst score = thing.getScore();\n\tconst rankEle = thing.getRankElement();\n\tconst color = typeof score === 'number' && getLinkScoreColor(score);\n\n\tif (rankEle && color) {\n\t\trankEle.style.background = color;\n\t}\n}\n\nfunction applyCommentScoreColor(thing) {\n\tfor (const [scoreEle, score] of thing.getAllScoreElements()) {\n\t\tconst color = getCommentScoreColor(score);\n\n\t\tif (color) {\n\t\t\tscoreEle.style.color = color;\n\t\t}\n\t}\n}\n\nfunction highlightControversial() {\n\tconst color = module.options.highlightControversialColor.value || module.options.highlightControversialColor.default;\n\taddCSS(`\n\t\t.comment.controversial > .entry .score::after {\n\t\t\tcolor: ${color};\n\t\t}\n\t`);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { watchForThings, string } from '../utils';\nimport { i18n } from '../environment';\n\nexport const module: Module<*> = new Module('xPostLinks');\n\nmodule.moduleName = 'xPostLinksName';\nmodule.category = 'submissionsCategory';\nmodule.description = 'xPostLinksDesc';\n\nmodule.include = [\n\t'linklist',\n\t'modqueue',\n\t'comments',\n\t'profile',\n\t'search',\n];\n\nmodule.exclude = [\n\t'd2x',\n];\n\nmodule.beforeLoad = () => {\n\twatchForThings(['post'], createLinks);\n};\n\nconst xpostRe = /(?:x|cross)[\\s-]?post\\S*(.+)/i;\nconst xpostFromRe = /^(?:\\s+\\S+)?\\s+\\/?(\\w{2,20}\\b)(?:[\\)\\]}]|\\S*$)/i;\nconst subredditRe = /r\\/(\\w{2,20}\\b)/i;\n\nfunction parseSubreddit(title) {\n\tconst [, xpostString] = xpostRe.exec(title) || [];\n\n\tif (!xpostString) return false;\n\n\tconst [, sub] = (\n\t\tsubredditRe.exec(xpostString) || // found something like r/games\n\t\txpostFromRe.exec(xpostString) || // use the last of one or two words before end of string of closing bracket\n\t\t[]\n\t);\n\n\treturn sub;\n}\n\nfunction appendToTagline(sub, thing) {\n\t$()\n\t\t.add($(thing.getSubredditLink()).prev())\n\t\t.add(thing.getUserattrsElement() || '')\n\t\t.first() // first valid (thing.getSubredditLink() may be null)\n\t\t.after(\n\t\t\tstring.escape` ${i18n('xPostLinksXpostedFrom')} `,\n\t\t\t$('<a>', {\n\t\t\t\tclass: 'subreddit hover',\n\t\t\t\thref: `/r/${sub}`,\n\t\t\t\ttext: `/r/${sub}`,\n\t\t\t}),\n\t\t);\n}\n\nfunction createLinks(thing) {\n\tconst sub = parseSubreddit(thing.getTitle());\n\tif (sub) appendToTagline(sub, thing);\n}\n","/* generated by sibling-loader */\nimport { module as _0 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/RESTips.js\";\nimport { module as _1 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/about.js\";\nimport { module as _2 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/accountSwitcher.js\";\nimport { module as _3 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/announcements.js\";\nimport { module as _4 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/autoHide.js\";\nimport { module as _5 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/backupAndRestore.js\";\nimport { module as _6 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/betteReddit.js\";\nimport { module as _7 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commandLine.js\";\nimport { module as _8 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentDepth.js\";\nimport { module as _9 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentHidePersistor.js\";\nimport { module as _10 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentNavigator.js\";\nimport { module as _11 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentPreview.js\";\nimport { module as _12 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentQuickCollapse.js\";\nimport { module as _13 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentSortBy.js\";\nimport { module as _14 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentStyle.js\";\nimport { module as _15 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentTools.js\";\nimport { module as _16 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/context.js\";\nimport { module as _17 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/contribute.js\";\nimport { module as _18 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/customToggles.js\";\nimport { module as _19 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/dashboard.js\";\nimport { module as _20 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/disableChat.js\";\nimport { module as _21 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/easterEgg.js\";\nimport { module as _22 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/filteReddit.js\";\nimport { module as _23 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hideChildComments.js\";\nimport { module as _24 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hover.js\";\nimport { module as _25 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/keyboardNav.js\";\nimport { module as _26 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/localDate.js\";\nimport { module as _27 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/logoLink.js\";\nimport { module as _28 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/menu.js\";\nimport { module as _29 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/messageMenu.js\";\nimport { module as _30 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/modhelper.js\";\nimport { module as _31 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/multiredditNavbar.js\";\nimport { module as _32 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/neverEndingComments.js\";\nimport { module as _33 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/neverEndingReddit.js\";\nimport { module as _34 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/newCommentCount.js\";\nimport { module as _35 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/nightMode.js\";\nimport { module as _36 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/noParticipation.js\";\nimport { module as _37 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/notifications.js\";\nimport { module as _38 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/onboarding.js\";\nimport { module as _39 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/orangered.js\";\nimport { module as _40 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/pageNavigator.js\";\nimport { module as _41 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/penaltyBox.js\";\nimport { module as _42 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/presets.js\";\nimport { module as _43 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/profileNavigator.js\";\nimport { module as _44 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/profileRedirect.js\";\nimport { module as _45 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/quarantineHide.js\";\nimport { module as _46 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/quickMessage.js\";\nimport { module as _47 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/readComments.js\";\nimport { module as _48 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/redditUserInfo.js\";\nimport { module as _49 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/requestPermissions.js\";\nimport { module as _50 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/saveComments.js\";\nimport { module as _51 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/search.js\";\nimport { module as _52 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/searchHelper.js\";\nimport { module as _53 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/selectedEntry.js\";\nimport { module as _54 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/settingsNavigation.js\";\nimport { module as _55 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/showImages.js\";\nimport { module as _56 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/showKarma.js\";\nimport { module as _57 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/showParent.js\";\nimport { module as _58 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/singleClick.js\";\nimport { module as _59 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/sourceSnudown.js\";\nimport { module as _60 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/spamButton.js\";\nimport { module as _61 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/spoilerTags.js\";\nimport { module as _62 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/styleTweaks.js\";\nimport { module as _63 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/stylesheet.js\";\nimport { module as _64 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/submitHelper.js\";\nimport { module as _65 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/submitIssue.js\";\nimport { module as _66 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/subredditInfo.js\";\nimport { module as _67 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/subredditManager.js\";\nimport { module as _68 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/subredditStyleToggle.js\";\nimport { module as _69 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/subredditTagger.js\";\nimport { module as _70 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/tableTools.js\";\nimport { module as _71 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/temporaryDropdownLinks.js\";\nimport { module as _72 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/troubleshooter.js\";\nimport { module as _73 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/userHighlight.js\";\nimport { module as _74 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/userInfo.js\";\nimport { module as _75 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/userTagger.js\";\nimport { module as _76 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/userbarHider.js\";\nimport { module as _77 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/usernameHider.js\";\nimport { module as _78 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/version.js\";\nimport { module as _79 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/voteEnhancements.js\";\nimport { module as _80 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/wheelBrowse.js\";\nimport { module as _81 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/xPostLinks.js\";\nexport default { \"RESTips.js\": _0, \"about.js\": _1, \"accountSwitcher.js\": _2, \"announcements.js\": _3, \"autoHide.js\": _4, \"backupAndRestore.js\": _5, \"betteReddit.js\": _6, \"commandLine.js\": _7, \"commentDepth.js\": _8, \"commentHidePersistor.js\": _9, \"commentNavigator.js\": _10, \"commentPreview.js\": _11, \"commentQuickCollapse.js\": _12, \"commentSortBy.js\": _13, \"commentStyle.js\": _14, \"commentTools.js\": _15, \"context.js\": _16, \"contribute.js\": _17, \"customToggles.js\": _18, \"dashboard.js\": _19, \"disableChat.js\": _20, \"easterEgg.js\": _21, \"filteReddit.js\": _22, \"hideChildComments.js\": _23, \"hover.js\": _24, \"keyboardNav.js\": _25, \"localDate.js\": _26, \"logoLink.js\": _27, \"menu.js\": _28, \"messageMenu.js\": _29, \"modhelper.js\": _30, \"multiredditNavbar.js\": _31, \"neverEndingComments.js\": _32, \"neverEndingReddit.js\": _33, \"newCommentCount.js\": _34, \"nightMode.js\": _35, \"noParticipation.js\": _36, \"notifications.js\": _37, \"onboarding.js\": _38, \"orangered.js\": _39, \"pageNavigator.js\": _40, \"penaltyBox.js\": _41, \"presets.js\": _42, \"profileNavigator.js\": _43, \"profileRedirect.js\": _44, \"quarantineHide.js\": _45, \"quickMessage.js\": _46, \"readComments.js\": _47, \"redditUserInfo.js\": _48, \"requestPermissions.js\": _49, \"saveComments.js\": _50, \"search.js\": _51, \"searchHelper.js\": _52, \"selectedEntry.js\": _53, \"settingsNavigation.js\": _54, \"showImages.js\": _55, \"showKarma.js\": _56, \"showParent.js\": _57, \"singleClick.js\": _58, \"sourceSnudown.js\": _59, \"spamButton.js\": _60, \"spoilerTags.js\": _61, \"styleTweaks.js\": _62, \"stylesheet.js\": _63, \"submitHelper.js\": _64, \"submitIssue.js\": _65, \"subredditInfo.js\": _66, \"subredditManager.js\": _67, \"subredditStyleToggle.js\": _68, \"subredditTagger.js\": _69, \"tableTools.js\": _70, \"temporaryDropdownLinks.js\": _71, \"troubleshooter.js\": _72, \"userHighlight.js\": _73, \"userInfo.js\": _74, \"userTagger.js\": _75, \"userbarHider.js\": _76, \"usernameHider.js\": _77, \"version.js\": _78, \"voteEnhancements.js\": _79, \"wheelBrowse.js\": _80, \"xPostLinks.js\": _81 };","/* @flow */\n\nimport { flow, keyBy, map } from 'lodash/fp';\nimport { i18n } from '../../environment';\nimport {\n\tdowncast,\n\tmatchesPageLocation,\n\tmarkStart,\n\tmarkEnd,\n} from '../../utils';\nimport { Module, getModuleId } from '../module';\n\nimport type { OpaqueModuleId } from '../module';\nimport { storage } from './storage';\n\nimport __modules from 'sibling-loader?import=module!../../modules/about'; // eslint-disable-line\n\nconst enabled = new Map();\n\nconst modules = flow(\n\t() => Object.values(__modules),\n\tmap(mod => downcast(mod, Module)), // ensure that all modules are instances of `Module`\n\tkeyBy(mod => mod.moduleID),\n)();\n\nif (process.env.NODE_ENV === 'development') {\n\t// for debugging only! do not use `modules` in any committed code\n\twindow.modules = modules;\n}\n\n// When containing modules, no other modules other than those specified should run\n// Stages `beforeLoad`, `go`, `afterLoad` may only be executed on these modules\nexport const allowedModules: Array<string> = [];\n\nexport async function _loadModulePrefs() {\n\tconst storedPrefs = await storage.getAll();\n\n\tfor (const [id, module] of Object.entries(modules)) {\n\t\tif (module.alwaysEnabled) {\n\t\t\tenabled.set(id, true);\n\t\t} else if (storedPrefs.hasOwnProperty(id)) {\n\t\t\tenabled.set(id, storedPrefs[id]);\n\t\t} else {\n\t\t\tenabled.set(id, !module.disabledByDefault);\n\t\t}\n\t}\n}\n\nconst ERRORED_KEY = Symbol('errored');\nexport async function _runModuleStage(stage: $Keys<Module<any>>, { skipEnabledCheck = false }: {| skipEnabledCheck?: boolean |} = {}) {\n\tawait Promise.all(\n\t\tall()\n\t\t\t.filter(module => (\n\t\t\t\tmodule[stage] &&\n\t\t\t\t!module[ERRORED_KEY] &&\n\t\t\t\t(skipEnabledCheck || isRunning(module))\n\t\t\t))\n\t\t\t.map(async module => {\n\t\t\t\tconst tag = markStart();\n\t\t\t\ttry {\n\t\t\t\t\tconst fn = module[stage];\n\t\t\t\t\tawait fn();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmodule[ERRORED_KEY] = true;\n\t\t\t\t\tconsole.error('Error in module:', module.moduleID, 'during:', stage);\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\tmarkEnd(tag, `${module.moduleID} (${stage})`);\n\t\t\t}),\n\t);\n}\n\nexport function all(): Array<Module<any>> {\n\treturn Object.values(modules);\n}\n\nexport function isEnabled(opaqueId: OpaqueModuleId): boolean {\n\treturn !!enabled.get(get(opaqueId).moduleID);\n}\n\nexport function isRunning(opaqueId: OpaqueModuleId): boolean {\n\tconst module = get(opaqueId);\n\treturn (\n\t\t(!allowedModules.length || allowedModules.includes(module.moduleID)) &&\n\t\tisEnabled(module) &&\n\t\tmatchesPageLocation(module.include, module.exclude) &&\n\t\tmodule.shouldRun()\n\t);\n}\n\nexport function get(opaqueId: OpaqueModuleId): Module<any> {\n\treturn _get(getModuleId(opaqueId));\n}\n\nfunction _get(id) {\n\tconst mod = getUnchecked(id);\n\tif (!mod) throw new Error(`Module \"${id}\" not found.`);\n\treturn mod;\n}\n\nexport function getUnchecked(id: string): void | Module<any> {\n\treturn modules[id];\n}\n\nexport function getByCategory(category: string): Array<Module<any>> {\n\treturn all()\n\t\t.filter(module => !module.hidden)\n\t\t.filter(module => module.category === category)\n\t\t.sort((a, b) => {\n\t\t\tconst sortComparison = (a.sort || 0) - (b.sort || 0);\n\t\t\tif (sortComparison !== 0) {\n\t\t\t\treturn sortComparison;\n\t\t\t}\n\n\t\t\treturn (i18n(a.moduleName).toLowerCase() > i18n(b.moduleName).toLowerCase()) ? 1 : -1;\n\t\t});\n}\n","/* @flow */\n\nexport {\n\tallowedModules,\n\tall,\n\tget,\n\tgetByCategory,\n\tgetUnchecked,\n\tisEnabled,\n\tisRunning,\n} from './modules';\n\nexport {\n\tsetEnabled,\n} from './storage';\n","/* @flow */\n\nimport _ from 'lodash';\nimport * as Modules from '../modules';\nimport type { ModuleOption } from '../module';\nimport { shouldPrune } from '../../utils';\nimport { storage, set } from './storage';\n\nexport function _loadModuleOptions() {\n\tconst shouldPrunePromise = shouldPrune('RESoptions');\n\n\treturn Promise.all(Modules.all().map(async module => {\n\t\tif (!Object.values(module.options).some(v => v.hasOwnProperty('value'))) return;\n\n\t\tconst storedOptions = await storage.get(module.moduleID);\n\n\t\t// copy over default values\n\t\tfor (const opt of Object.values(module.options)) {\n\t\t\topt.default = opt.value;\n\t\t}\n\n\t\tif (!storedOptions) {\n\t\t\t// no stored options, there's nothing to copy over\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const [key, storedValue] of Object.entries(storedOptions)) {\n\t\t\t// skip unsaved options (keep default value)\n\t\t\tif (!storedValue) continue;\n\n\t\t\tif (storedValue.value === undefined) {\n\t\t\t\tconsole.error(`Option ${module.moduleID} ${key}'s value is \\`undefined\\`. Ignoring.`);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// skip obsolete options\n\t\t\tif (!module.options[key]) continue;\n\n\t\t\t// normal option, copy in the value from storage\n\t\t\tmodule.options[key].value = storedValue.value;\n\t\t}\n\n\t\tshouldPrunePromise.then(should => { if (should) prune(module, storedOptions); });\n\t}));\n}\n\nfunction prune(module, storedOptions) {\n\tif (!storedOptions || !Object.entries(storedOptions).length) {\n\t\tstorage.delete(module.moduleID);\n\t\treturn;\n\t}\n\n\tfor (const [key, { value }] of Object.entries(storedOptions)) {\n\t\tconst option = module.options[key];\n\t\tif (!module.options[key]) {\n\t\t\tconsole.warn('Could not find option', module.moduleID, key);\n\t\t\tstorage.deletePath(module.moduleID, key); // eslint-disable-line no-await-in-loop\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (_.isEqual(option.default, value)) {\n\t\t\tconsole.warn('Stored option', module.moduleID, key, 'has the default value. Deleting.');\n\t\t\tstorage.deletePath(module.moduleID, key); // eslint-disable-line no-await-in-loop\n\t\t\tcontinue;\n\t\t}\n\t}\n}\n\nexport function save(option: ModuleOption<*>) {\n\t// Perform a search for the option to find its module and key\n\t// Doing this isn't especially expensive\n\tfor (const module of Modules.all()) {\n\t\tfor (const [key, _option] of Object.entries(module.options)) {\n\t\t\tif (option === _option) {\n\t\t\t\tif (option.value === undefined) {\n\t\t\t\t\tthrow new Error('Option type can not be saved');\n\t\t\t\t}\n\n\t\t\t\tif (option.onChange) {\n\t\t\t\t\toption.onChange();\n\t\t\t\t}\n\n\t\t\t\treturn set(module.moduleID, key, option.value);\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow new Error('Option not found in module');\n}\n","/* @flow */\n\nimport { BodyClasses } from '../../utils';\nimport type { BooleanOption, EnumOption } from '../module';\nimport { all, isRunning } from './modules';\n\n// Adds body classes for modules or enabled options that have `bodyClass: true`\n// In the form `res-moduleId-optionKey` for boolean options\n// and `res-moduleId-optionKey-optionValue` for enum options\n// spaces in enum option values will be replaced with underscores\nexport function _addModuleBodyClasses() {\n\tfor (const module of all()) {\n\t\tif (!isRunning(module)) continue;\n\n\t\tif (module.bodyClass) BodyClasses.add(`res-${module.moduleID}`);\n\n\t\tfor (const [optId, opt] of Object.entries(module.options)) {\n\t\t\tif (!(opt.bodyClass && opt.value)) continue;\n\t\t\t// ensure that only boolean and enum options pass this check\n\t\t\t(opt: BooleanOption<any> | EnumOption<any>);\n\n\t\t\tif (opt.dependsOn && !opt.dependsOn(module.options)) continue;\n\n\t\t\tlet cls = typeof opt.bodyClass === 'string' ?\n\t\t\t\topt.bodyClass :\n\t\t\t\t`res-${module.moduleID}-${optId}`;\n\n\t\t\tif (opt.type === 'enum') {\n\t\t\t\tcls += `-${opt.value.replace(/\\s/g, '_')}`;\n\t\t\t}\n\n\t\t\tBodyClasses.add(cls);\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { once } from 'lodash/fp';\nimport { _loadI18n, getURL } from '../environment';\nimport * as Context from '../environment/foreground/context';\nimport {\n\tBodyClasses,\n\tPagePhases,\n\tr2WatcherContentLoaded,\n\tr2WatcherSitetableStart,\n\tinitD2xWatcher,\n\tisAppType,\n} from '../utils';\nimport { _loadModuleOptions } from './options/options';\nimport { _loadModulePrefs, _runModuleStage } from './modules/modules';\nimport { _addModuleBodyClasses } from './modules/bodyClasses';\n\nlet start;\n\nexport function init() {\n\tstart();\n}\n\n// DOM / browser state\n\nconst sourceLoaded = new Promise(resolve => (start = resolve));\n\n// Module stages\n\nexport const loadI18n: Promise<void> = sourceLoaded\n\t.then(() => _loadI18n());\n\nexport const onInit: Promise<void> = loadI18n\n\t.then(() => _runModuleStage('onInit', { skipEnabledCheck: true }));\n\nexport const loadOptions: Promise<*> = onInit\n\t.then(() => Promise.all([\n\t\t_loadModuleOptions(),\n\t\t_loadModulePrefs(),\n\t]));\n\nexport const addModuleBodyClasses: Promise<void> = loadOptions\n\t.then(() => _addModuleBodyClasses());\n\nexport const always: Promise<void> = loadOptions\n\t.then(() => _runModuleStage('always', { skipEnabledCheck: true }));\n\nexport const beforeLoad: Promise<void> = loadOptions\n\t.then(() => _runModuleStage('beforeLoad'));\n\nexport const contentStart: Promise<*> = Promise.all([beforeLoad, PagePhases.sitetableStarted])\n\t.then(() => Promise.all([\n\t\t_runModuleStage('contentStart'),\n\t\tisAppType('r2') ? r2WatcherSitetableStart() : undefined,\n\t]));\n\nexport const go: Promise<*> = Promise.all([beforeLoad, PagePhases.sitetableStarted])\n\t.then(() => {\n\t\tconst run = once(() => Promise.all([\n\t\t\tisAppType('d2x') ? initD2xWatcher() : r2WatcherContentLoaded(),\n\t\t\t_runModuleStage('go'),\n\t\t]));\n\t\t// Prevent additional forced reflow in Reddit's scripts by running first thing on the `DOMContentLoaded` event\n\t\twindow.addEventListener('DOMContentLoaded', run, true);\n\t\treturn PagePhases.contentLoaded.then(run);\n\t});\n\nexport const afterLoad: Promise<void> = Promise.all([go, PagePhases.loadComplete])\n\t.then(() => _runModuleStage('afterLoad'));\n\n// BodyClasses may have been added before document.body was ready\nPromise.all([sourceLoaded, PagePhases.bodyStart]).then(BodyClasses.addMissing);\n\nPromise.all([sourceLoaded, PagePhases.bodyStart]).then(() => { Context.establish(contentStart); });\n\n// Preload custom fonts to avoid FOUT as the browser otherwise wouldn't start loading them before encountering them in the DOM\n// $FlowIssue\nconst font = new FontFace('Batch', `url(${getURL('batch-icons-webfont.woff')})`, { style: 'normal', weight: 'normal' });\nfont.load();\n// $FlowIssue\nsourceLoaded.then(() => document.fonts.add(font));\n","/* generated by sibling-loader */\nimport * as _0 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/ajax.js\";\nimport * as _1 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/auth.js\";\nimport * as _2 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/context.js\";\nimport * as _3 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/download.js\";\nimport * as _4 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/history.js\";\nimport * as _5 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/i18n.js\";\nimport * as _6 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/id.js\";\nimport * as _7 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/messaging.js\";\nimport * as _8 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/multicast.js\";\nimport * as _9 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/pageAction.js\";\nimport * as _10 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/permissions.js\";\nimport * as _11 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/privateBrowsing.js\";\nimport * as _12 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/session.js\";\nimport * as _13 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/storage.js\";\nimport * as _14 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/tabs.js\";\nimport * as _15 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/xhrCache.js\";\nexport default { \"ajax.js\": _0, \"auth.js\": _1, \"context.js\": _2, \"download.js\": _3, \"history.js\": _4, \"i18n.js\": _5, \"id.js\": _6, \"messaging.js\": _7, \"multicast.js\": _8, \"pageAction.js\": _9, \"permissions.js\": _10, \"privateBrowsing.js\": _11, \"session.js\": _12, \"storage.js\": _13, \"tabs.js\": _14, \"xhrCache.js\": _15 };","/* @flow */\n\n// include the LICENSE file\n// $FlowIgnore\nimport 'file-loader?name=LICENSE!../LICENSE';\n\nimport { RES_DISABLED_HASH, RES_SETTINGS_HASH, RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH } from './constants/urlHashes';\nimport { init } from './core/init';\nimport { getURL } from './environment/foreground/id';\n\n// load environment listeners\nimport 'sibling-loader!./environment/foreground/messaging';\n\nconst blockers = [];\n\nif (location.hash === RES_DISABLED_HASH) {\n\tblockers.push(`Hash ${RES_DISABLED_HASH} disables RES.`);\n} else {\n\twindow.addEventListener('hashchange', () => { if (location.hash === RES_DISABLED_HASH) location.reload(); });\n}\n\n// Integration tests are performed quicker when redirected to the standalone options page\nif (location.hash.startsWith(RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH)) {\n\tlocation.href = getURL(`options.html${location.hash.replace(RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH, RES_SETTINGS_HASH)}`);\n\tblockers.push('Redirecting to the options page.');\n}\n\n// Firefox reloads the extension on all active pages when upgrading\n// RES doesn't handle that well\nif (document.documentElement && document.documentElement.classList.contains('res')) {\n\tdocument.documentElement.setAttribute('res-warning', 'This page must be reloaded for Reddit Enhancement Suite to function correctly');\n\tblockers.push('RES is previously loaded on this page.');\n}\n\nif (window !== window.parent && (new URL(location.href)).searchParams.get('embedded') !== 'true') {\n\tblockers.push('Conditions for running on an embedded page are not met.');\n}\n\nif (blockers.length) {\n\tconsole.warn('Preventing initalization of RES:', blockers);\n} else {\n\tinit();\n}\n"],"sourceRoot":""}