{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/lodash/once.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/identity.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/memoize.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/transform.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/_apply.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/lodash/_createWrap.js","webpack:///./node_modules/lodash/_createCtor.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///./node_modules/lodash/_assocIndexOf.js","webpack:///./node_modules/lodash/fromPairs.js","webpack:///./node_modules/lodash/curryRight.js","webpack:///./node_modules/lodash/mapKeys.js","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./node_modules/lodash/_strictIndexOf.js","webpack:///./node_modules/lodash/_copyArray.js","webpack:///./node_modules/lodash/_flatRest.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/lodash/last.js","webpack:///./node_modules/lodash/partition.js","webpack:///./node_modules/lodash/fp/flow.js","webpack:///./node_modules/lodash/_nativeKeys.js","webpack:///./node_modules/lodash/_overRest.js","webpack:///./node_modules/lodash/_baseCreate.js","webpack:///./node_modules/lodash/_createHybrid.js","webpack:///./node_modules/lodash/_createRecurry.js","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/lodash/noop.js","webpack:///./node_modules/lodash/stubArray.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/lodash/_baseSlice.js","webpack:///./node_modules/lodash/castArray.js","webpack:///./node_modules/lodash/_arrayIncludes.js","webpack:///./node_modules/lodash/_listCacheClear.js","webpack:///./node_modules/lodash/_listCacheDelete.js","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/_listCacheGet.js","webpack:///./node_modules/lodash/_listCacheHas.js","webpack:///./node_modules/lodash/_listCacheSet.js","webpack:///./node_modules/lodash/_copyObject.js","webpack:///./node_modules/lodash/_assignValue.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/fp/placeholder.js","webpack:///./node_modules/lodash/_arrayEach.js","webpack:///./node_modules/lodash/_getPrototype.js","webpack:///./node_modules/lodash/mapValues.js","webpack:///./images/css-off.png","webpack:///./images/css-off-small.png","webpack:///./images/css-on.png","webpack:///./images/css-on-small.png","webpack:///./node_modules/lodash/pull.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/lodash/remove.js","webpack:///./node_modules/lodash/takeRightWhile.js","webpack:///./node_modules/lodash/uniqBy.js","webpack:///./node_modules/lodash/assignIn.js","webpack:///./node_modules/lodash/pick.js","webpack:///./node_modules/lodash/zipWith.js","webpack:///./node_modules/fast-levenshtein/levenshtein.js","webpack:///./node_modules/lodash/isEqual.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/lodash/pullAll.js","webpack:///./node_modules/lodash/_basePullAll.js","webpack:///./node_modules/lodash/_baseIndexOfWith.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/before.js","webpack:///./node_modules/lodash/_createBind.js","webpack:///./node_modules/lodash/_createCurry.js","webpack:///./node_modules/lodash/_composeArgs.js","webpack:///./node_modules/lodash/_composeArgsRight.js","webpack:///./node_modules/lodash/_countHolders.js","webpack:///./node_modules/lodash/_reorder.js","webpack:///./node_modules/lodash/_createPartial.js","webpack:///./node_modules/lodash/_basePullAt.js","webpack:///./node_modules/lodash/_baseUnset.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///./node_modules/lodash/_parent.js","webpack:///./node_modules/lodash/_baseWhile.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/lodash/_arrayIncludesWith.js","webpack:///./node_modules/lodash/_ListCache.js","webpack:///./node_modules/lodash/_createAggregator.js","webpack:///./node_modules/lodash/_arrayAggregator.js","webpack:///./node_modules/lodash/_createAssigner.js","webpack:///./node_modules/lodash/_nativeKeysIn.js","webpack:///./node_modules/lodash/_basePick.js","webpack:///./node_modules/lodash/_basePickBy.js","webpack:///./node_modules/lodash/_baseSet.js","webpack:///./node_modules/lodash/hasIn.js","webpack:///./node_modules/lodash/_baseHasIn.js","webpack:///./node_modules/lodash/_hasPath.js","webpack:///./node_modules/lodash/flatten.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_arrayPush.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/fp/convert.js","webpack:///./node_modules/lodash/fp/_baseConvert.js","webpack:///./node_modules/lodash/fp/_mapping.js","webpack:///./node_modules/lodash/fp/_util.js","webpack:///./node_modules/lodash/ary.js","webpack:///./node_modules/lodash/_baseAssign.js","webpack:///./node_modules/lodash/clone.js","webpack:///./node_modules/lodash/curry.js","webpack:///./node_modules/lodash/isError.js","webpack:///./node_modules/lodash/isPlainObject.js","webpack:///./node_modules/lodash/isWeakMap.js","webpack:///./node_modules/lodash/iteratee.js","webpack:///./node_modules/lodash/rearg.js","webpack:///./node_modules/lodash/toPath.js","webpack:///./node_modules/lodash/flow.js","webpack:///./node_modules/lodash/_createFlow.js","webpack:///./node_modules/lodash/stubString.js","webpack:///./node_modules/lodash/unzipWith.js","webpack:///./node_modules/lodash/unzip.js","webpack:///./node_modules/lodash/_arrayFilter.js","webpack:///./node_modules/lodash/_baseProperty.js","webpack:///./node_modules/lodash/_baseTimes.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/lodash/_baseIsEqual.js","webpack:///./node_modules/lodash/_baseIsEqualDeep.js","webpack:///./node_modules/lodash/_equalArrays.js","webpack:///./node_modules/lodash/_arraySome.js","webpack:///./node_modules/lodash/_equalObjects.js","webpack:///./lib/environment/utils/messaging.js","webpack:///./lib/environment/utils/api.js","webpack:///./lib/environment/background/messaging.js","webpack:///./lib/environment/background/ajax.js","webpack:///./lib/environment/background/auth.js","webpack:///./lib/environment/background/download.js","webpack:///./lib/environment/background/history.js","webpack:///./locales/locales/index.js","webpack:///./locales/index.js","webpack:///./lib/environment/background/i18n.js","webpack:///./lib/environment/background/localePersistor.js","webpack:///./lib/environment/background/multicast.js","webpack:///./lib/environment/background/pageAction.js","webpack:///./lib/environment/background/permissions.js","webpack:///./lib/environment/background/session.js","webpack:///./lib/utils/generator.js","webpack:///./lib/utils/async.js","webpack:///./lib/environment/background/storage.js","webpack:///./lib/environment/background/tabs.js","webpack:///./lib/utils/Cache.js","webpack:///./lib/environment/background/xhrCache.js","webpack:///./lib/environment/background/ajax.js?f9d8","webpack:///./lib/utils/time.js","webpack:///./lib/utils/flow.js","webpack:///./lib/utils/dom.js","webpack:///./lib/utils/location.js","webpack:///./lib/utils/html.js","webpack:///./lib/utils/string.js","webpack:///./lib/utils/user.js","webpack:///./lib/environment/foreground/context.js","webpack:///./lib/environment/foreground/messaging.js","webpack:///./lib/environment/foreground/privateBrowsing.js","webpack:///./lib/environment/foreground/history.js","webpack:///./lib/environment/foreground/xhrCache.js","webpack:///./lib/environment/foreground/ajax.js","webpack:///./lib/environment/foreground/download.js","webpack:///./lib/environment/foreground/id.js","webpack:///./lib/constants/localStorage.js","webpack:///./build/buildToken.js","webpack:///./lib/environment/foreground/i18n.js","webpack:///./lib/environment/foreground/permissions.js","webpack:///./lib/environment/foreground/auth.js","webpack:///./lib/environment/foreground/multicast.js","webpack:///./lib/environment/foreground/tabs.js","webpack:///./lib/environment/foreground/pageAction.js","webpack:///./lib/environment/foreground/session.js","webpack:///./lib/utils/object.js","webpack:///./lib/environment/foreground/storage.js","webpack:///./lib/environment/index.js","webpack:///./lib/utils/array.js","webpack:///./lib/core/modules/storage.js","webpack:///./lib/core/module.js","webpack:///./lib/core/options/storage.js","webpack:///./lib/core/migrate/migrators.js","webpack:///./lib/core/migrate/migrate.js","webpack:///./lib/background.entry.js"],"names":["before","require","once","func","module","exports","isArray","Array","identity","value","isObject","type","MapCache","FUNC_ERROR_TEXT","memoize","resolver","TypeError","memoized","args","arguments","key","apply","cache","has","get","result","set","Cache","freeGlobal","freeSelf","self","Object","root","Function","arrayEach","baseCreate","baseForOwn","baseIteratee","getPrototype","isBuffer","isFunction","isTypedArray","transform","object","iteratee","accumulator","isArr","isArrLike","Ctor","constructor","index","isKey","stringToPath","toString","castPath","isObjectLike","defineProperty","baseAssignValue","overArg","arg","thisArg","length","call","arrayMap","array","baseSetData","createBind","createCurry","createHybrid","createPartial","getData","mergeData","setData","setWrapToString","toInteger","WRAP_BIND_FLAG","WRAP_BIND_KEY_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","nativeMax","Math","max","createWrap","bitmask","partials","holders","argPos","ary","arity","isBindKey","undefined","partialsRight","holdersRight","data","newData","setter","createCtor","thisBinding","prototype","MAX_SAFE_INTEGER","reIsUint","isIndex","test","eq","assocIndexOf","fromPairs","pairs","pair","curryRight","guard","placeholder","mapKeys","baseFor","keys","overRest","setToString","baseRest","start","strictIndexOf","fromIndex","copyArray","source","flatten","flatRest","objectProto","nativeObjectToString","objectToString","baseGetTag","asyncTag","funcTag","genTag","proxyTag","tag","last","createAggregator","partition","push","convert","nativeKeys","otherArgs","objectCreate","create","proto","composeArgs","composeArgsRight","countHolders","createRecurry","getHolder","reorder","replaceHolders","WRAP_ARY_FLAG","WRAP_FLIP_FLAG","isCurried","wrapper","holdersCount","newHolders","fn","reverse","isLaziable","WRAP_CURRY_BOUND_FLAG","wrapFunc","isCurry","newHoldersRight","newPartials","newPartialsRight","stubFalse","noop","stubArray","memoizeCapped","rePropName","reEscapeChar","string","charCodeAt","replace","match","number","quote","subString","toKey","baseGet","path","baseSlice","end","castArray","baseIndexOf","arrayIncludes","listCacheClear","__data__","size","arrayProto","splice","listCacheDelete","lastIndex","pop","other","listCacheGet","listCacheHas","listCacheSet","assignValue","copyObject","props","customizer","isNew","newValue","hasOwnProperty","objValue","isLength","getPrototypeOf","mapValues","pullAll","pull","now","toNumber","nativeMin","min","debounce","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","basePullAt","remove","predicate","indexes","baseWhile","takeRightWhile","baseUniq","uniqBy","createAssigner","keysIn","assignIn","basePick","pick","paths","unzipWith","zipWith","arrays","collator","Intl","Collator","sensitivity","err","console","log","prevRow","str2Char","Levenshtein","str1","str2","useCollator","str1Len","str2Len","curCol","nextCol","i","j","tmp","strCmp","compare","charAt","String","fromCharCode","define","postMessage","importScripts","window","baseIsEqual","isEqual","getNative","e","getValue","createBaseFor","fromRight","keysFunc","iterable","basePullAll","values","baseIndexOfWith","baseUnary","comparator","indexOf","seen","computed","Date","global","n","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","holdersIndex","rightIndex","rightLength","offset","arrLength","oldArray","baseUnset","previous","parent","isSymbol","reIsDeepProp","reIsPlainProp","isDrop","SetCache","arrayIncludesWith","cacheHas","createSet","setToArray","LARGE_ARRAY_SIZE","includes","isCommon","outer","seenIndex","ListCache","entries","clear","entry","arrayAggregator","baseAggregator","initializer","collection","isIterateeCall","assigner","sources","nativeKeysIn","basePickBy","hasIn","baseSet","nested","baseHasIn","hasPath","isArguments","hasFunc","baseFlatten","arrayPush","isFlattenable","depth","isStrict","Symbol","spreadableSymbol","isConcatSpreadable","baseConvert","util","name","mapping","fallbackHolder","baseArity","baseAry","a","b","cloneArray","createCloner","flatSpread","slice","wrapImmutable","cloner","isLib","isObj","config","cap","curry","fixed","immutable","rearg","defaultHolder","forceCurry","forceFixed","forceRearg","pristine","runInContext","helpers","assign","clone","forEach","isError","isWeakMap","toPath","each","aryMethodKeys","aryMethod","wrappers","mixin","nthArg","context","castCap","iterateeRearg","iterateeAry","castCurry","castFixed","skipFixed","methodSpread","castRearg","skipRearg","methodRearg","aryRearg","cloneByPath","convertLib","_","createConverter","realName","aliasToReal","methodName","remap","oldOptions","newUtil","newFunc","newOptions","wrap","wrapped","mutate","aryKey","otherName","afterRearg","realToAlias","alias","baseAssign","baseClone","CLONE_SYMBOLS_FLAG","isPlainObject","domExcTag","errorTag","message","objectTag","funcProto","funcToString","objectCtorString","getTag","weakMapTag","CLONE_DEEP_FLAG","WRAP_REARG_FLAG","createFlow","flow","LodashWrapper","getFuncName","funcs","prereq","thru","funcName","plant","stubString","unzip","group","arrayFilter","baseProperty","baseTimes","isArrayLikeObject","resIndex","isArrayLike","webpackPolyfill","deprecate","children","enumerable","l","baseIsEqualDeep","stack","Stack","equalArrays","equalByTag","equalObjects","COMPARE_PARTIAL_FLAG","argsTag","arrayTag","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","arraySome","COMPARE_UNORDERED_FLAG","isPartial","othLength","stacked","arrValue","othValue","compared","othIndex","getAllKeys","objProps","objLength","othProps","skipCtor","objCtor","othCtor","MessageHandlerError","Error","createMessageHandler","_sendMessage","errorOnUnrecognizedTypes","listeners","Map","_handleMessage","sendResponse","listener","error","response","Promise","then","sendMessage","addListener","callback","apiToPromise","resolve","reject","results","chrome","runtime","lastError","tabs","obj","tabId","onMessage","sender","method","url","headers","credentials","rawResponse","fetch","body","ok","status","from","text","domain","clientId","scope","interactive","redirectUri","URL","searchParams","emulateAuthFlowInNewWindow","href","emulateAuthFlowInBackground","id","windows","updateListener","updates","startsWith","stopListening","removeListener","onUpdated","onRemoved","headersListener","redirectUrl","webRequest","onBeforeRedirect","urls","filename","tab","incognito","downloads","download","history","addUrl","visits","getVisits","de","el","en","en_lolcat","en_pirate","en_CA","en_GB","es","es_419","he","it","nl_NL","pl","pt","pt_BR","pt_PT","redditLocaleToTransifexLocale","redditLocale","normalized","inx","toUpperCase","getLocaleDictionary","localeName","transifexLocale","mergedLocales","locales","x","locale","lastRedditLocale","navigator","language","v","crossContext","CONTEXT_KEY","redditTabs","query","nonSelfTabsInSameContext","filter","frameId","all","map","pageAction","onClicked","operation","state","show","setIcon","cssOnSmall","cssOffSmall","cssOn","cssOff","setTitle","title","hide","handleMessage","permissions","origins","contains","request","catch","makePromptWindow","location","origin","JSON","stringify","width","height","left","floor","screen","top","parse","session","delete","range","zip","iterables","generators","iterator","gen","next","some","r","done","waitFor","interval","repeat","val","forEachChunked","queues","run","frameThrottle","performance","generator","return","batch","delay","flushBeforeUnload","invoke","batchAccumulator","promises","addPromise","startNewBatch","timeout","throttle","lastPromise","currentBatch","addEventListener","always","promise","fastAsync","throwing","throw","Reflect","asyncFlow","firstFn","fns","accum","reifyPromise","keyedMutex","keyResolver","tail","mutex","queue","frameDebounce","remaining","update","requestAnimationFrame","res","rej","throttleQueuePositionReset","queued","idleThrottle","requestIdleCallback","__set","items","storage","local","_set","__get","_get","defaultValue","oldValue","storedValue","focusIndex","active","openerTabId","LRUCache","capacity","maxAge","Infinity","createTime","hitTime","sort","MINUTE","HOUR","DAY","WEEK","fromSecondsToTime","timeInSeconds","minutes","hours","unshift","part","padStart","join","downcast","ty","waitForEvent","ele","events","race","event","fire","removeEventListener","waitForChild","selector","child","find","matches","observer","MutationObserver","mutations","mutation","node","addedNodes","nodeType","Node","ELEMENT_NODE","disconnect","HTMLElement","observe","childList","watchForChildren","watchForFutureChildren","waitForDescendant","querySelector","subtree","waitForFutureDescendant","added","removed","removedNodes","waitForAttach","waitForDetach","document","documentElement","watchForDescendants","ignoreChildrenIfAddedNodeMatches","querySelectorAll","watchForFutureDescendants","Set","add","empty","lastChild","removeChild","click","button","dispatchEvent","MouseEvent","bubbles","cancelable","detail","screenX","screenY","clientX","clientY","isProgrammaticEvent","getViewportSize","visualViewport","viewportSizedElement","createElement","style","position","appendChild","getBoundingClientRect","elementInViewport","offsetParent","bottom","right","getViewportDimensions","headerOffset","getHeaderOffset","pageXOffset","pageYOffset","yOffset","getPercentageVisibleYAxis","rect","padBottom","element","scrollTop","viewportHeight","currentPadding","clientHeight","paddingRequired","scrollHeight","append","recentScroll","scrollInvokationToken","scrollToElement","to","scrollStyle","restrictDirectionTo","direction","selectedDirection","anchor","waitTillVisible","_scrollInvokationToken","diff","scrollBy","viewport","target","compensateHeader","scrollY","fromTop","buffer","newScrollY","viewportDirection","scollDirection","scrollTo","headerIds","fullWidth","partialWidth","_addHeaderId","elementId","includePartialWidthHeaders","getElementById","reduce","getD2xBodyOffset","offsetTop","addCSS","css","addStyle","textContent","head","preventCloning","attribute","elements","WeakSet","setAttribute","matchesPageLocation","excludes","includeStrings","includeRegExps","excludeStrings","excludeRegExps","isPageType","isAppType","matchesPageRegex","regexes","frontpage","comments","commentsLinklist","inbox","profile","profile2x","profileCommentsPage","submit","prefs","account","wiki","stylesheet","search","commentPermalink","duplicates","subreddit","subredditAbout","modqueue","multireddit","composeMessage","liveThread","execRegexes","exec","appType","hasAttribute","getAttribute","types","thisApp","appPageTypes","r2","default","pageTypes","d2x","pageType","spec","pathname","thisPage","regexps","regex","currentSubreddit","isCurrentSubreddit","subreddits","sub","toLowerCase","currentMultireddit","isCurrentMultireddit","multireddits","multi","currentDomain","currentUserProfile","fullLocation","COMMENT_CODE_REGEX","isCommentCode","link","emptyText","isEmptyLink","inQuarantinedSubreddit","classList","escapeLookups","escapeHTML","str","m","stringTagFunction","valueTransform","strings","s","encode","encodeURIComponent","escape","safe","__safe__","MAX_DISTANCE_RATIO","areSimilar","levenshtein","regexRegex","htmlTagFunction","html","markup","template","innerHTML","childElementCount","firstElementChild","_html","isLoggedIn","loggedInUser","documentLoggedInUser","findFirstTextNode","childNodes","concat","username","isModeratorAnywhere","loggedInUserHash","hashEle","HTMLInputElement","userInfo","loggedInUserInfo","modhash","ajax","usernameRE","usernameSelector","getUsernameFromLink","HTMLAnchorElement","endsWith","split","getUserInfo","cacheFor","userHash","establish","contentStart","protocol","hash","retrieveFromParent","isPrivateBrowsing","extension","inIncognitoContext","addURLToHistory","isURLVisited","check","delete_","FetchError","sameOrigin","buildRequestParams","cached","XhrCache","processResponse","invalidate","siteOrigin","requestURL","sameSite","hostname","URLSearchParams","getExtensionId","getURL","getOptionsURL","isOptionsPage","CACHED_LANG_KEY","CACHED_MESSAGES_KEY","CACHED_MESSAGES_TOKEN_KEY","REDDIT_LANGUAGES","SPECIAL_LANGUAGES","isValidLocale","localeString","toLocaleString","getRedditLocale","messages","_loadI18n","localStorage","getItem","buildToken","setItem","removeItem","i18n","messageName","substitutions","filterPerms","perms","p","granted","launchAuthFlow","warnUserInteraction","Permissions","resAuth","responseUrl","token","callbacks","multicast","localOnly","openNewTab","focus","openNewTabs","clickListeners","onClick","extendDeep","_delete","_clear","withLockOn","getAll","getMultiple","defaults","k","setMultiple","valueMap","compareAndSet","patch","extended","patchShallow","deletePaths","stored","deleteMultiple","sentinel","random","Wrapper","def","_key","_default","deletePath","keyGenerator","PrefixWrapper","prefix","keyMapper","batching","_prefix","_keyMapper","getMultipleNullable","_keyGen","getNullable","everything","acc","rawValues","wrapPrefix","destructiveKeyMapper","BlobWrapper","rootKey","_rootKey","wrapBlob","forEachSeq","asyncFilter","shouldKeep","asyncReduce","initialValue","asyncFind","concurrentFold","baseCase","onResolve","onReject","asyncSome","asyncEvery","filterMap","mapped","Storage","setEnabled","moduleId","enable","Module","moduleID","moduleName","category","description","descriptionRaw","keywords","bodyClass","include","exclude","shouldRun","onToggle","onSaveSettings","hidden","disabledByDefault","alwaysEnabled","onInit","beforeLoad","go","afterLoad","requiredPermissions","getModuleId","opaqueId","loadRaw","optionKey","option","updateOption","optionName","formerDefaultValue","valueOrFunction","Options","optionMatchesFormerDefaultValue","updateValue","forceUpdateOption","moveOption","oldModuleID","oldOptionName","newModuleID","newOptionName","moveStorageToOption","oldKey","migrations","versionNumber","Migrators","macroVersion","previewOptions","commentingAs","keyboardShortcuts","subredditAutocomplete","macros","macro","storedComments","newFormat","storedComment","urlSplit","thisID","userTags","updateTagStorageCaseInsensitive","substr","tags","usernames","lower","destination","votes","parseInt","color","ignore","notificationsOptions","sticky","keyNavOptions","fg","focusFGColorNight","bg","focusBGColorNight","backgroundColor","fgCalculated","bgCalculated","updateFadeSpeed","isNaN","toFixed","rows","modId","notificationId","cacheKeyParts","sectionLinks","row","hideFloatingPauseButton","every","shouldHideTagline","filteredRows","notificationTypes","Modules","remappedTags","remappedEntries","launchFromMenu","hiddenThings","page","collapsedThings","updateTime","subscriptions","subscriptionDate","votesUp","votesDown","deleteProperty","ignored","selectedEntry","convertPatt","patt","f","visible","filters","criterion","customFilters","of","traverseAndUpdate","customFiltersP","customFiltersC","ondemand","opts","ignoredUsers","migrateFilters","effects","sideEffects","lastUsed","migrateRepair","allHidden","hardIgnoreOption","hardIgnore","usersMatchAction","instances","instance","firstRunStorage","versions","localeCompare","numerical","_migrationsToRun","getMigrationsToRun","migrate","currentMigration","lastMigratedVersion","getLastMigratedVersion","RESOptionsVersion","warn"],"mappings":"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","file":"background.entry.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 187);\n","var before = require('./before');\n\n/**\n * Creates a function that is restricted to invoking `func` once. Repeat calls\n * to the function return the value of the first invocation. The `func` is\n * invoked with the `this` binding and arguments of the created function.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * var initialize = _.once(createApplication);\n * initialize();\n * initialize();\n * // => `createApplication` is invoked once\n */\nfunction once(func) {\n  return before(2, func);\n}\n\nmodule.exports = once;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var arrayEach = require('./_arrayEach'),\n    baseCreate = require('./_baseCreate'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee'),\n    getPrototype = require('./_getPrototype'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray');\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nmodule.exports = transform;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var baseSetData = require('./_baseSetData'),\n    createBind = require('./_createBind'),\n    createCurry = require('./_createCurry'),\n    createHybrid = require('./_createHybrid'),\n    createPartial = require('./_createPartial'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString'),\n    toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nmodule.exports = createWrap;\n","var baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtor;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nmodule.exports = fromPairs;\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_RIGHT_FLAG = 16;\n\n/**\n * This method is like `_.curry` except that arguments are applied to `func`\n * in the manner of `_.partialRight` instead of `_.partial`.\n *\n * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n * builds, may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curryRight(abc);\n *\n * curried(3)(2)(1);\n * // => [1, 2, 3]\n *\n * curried(2, 3)(1);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(3)(1, _)(2);\n * // => [1, 2, 3]\n */\nfunction curryRight(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curryRight.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurryRight.placeholder = {};\n\nmodule.exports = curryRight;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * The opposite of `_.mapValues`; this method creates an object with the\n * same values as `object` and keys generated by running each own enumerable\n * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n * with three arguments: (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapValues\n * @example\n *\n * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n *   return key + value;\n * });\n * // => { 'a1': 1, 'b2': 2 }\n */\nfunction mapKeys(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, iteratee(value, key, object), value);\n  });\n  return result;\n}\n\nmodule.exports = mapKeys;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var createAggregator = require('./_createAggregator');\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nmodule.exports = partition;\n","var convert = require('./convert'),\n    func = convert('flow', require('../flow'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtor = require('./_createCtor'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybrid;\n","var isLaziable = require('./_isLaziable'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nmodule.exports = createRecurry;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var isArray = require('./isArray');\n\n/**\n * Casts `value` as an array if it's not one.\n *\n * @static\n * @memberOf _\n * @since 4.4.0\n * @category Lang\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast array.\n * @example\n *\n * _.castArray(1);\n * // => [1]\n *\n * _.castArray({ 'a': 1 });\n * // => [{ 'a': 1 }]\n *\n * _.castArray('abc');\n * // => ['abc']\n *\n * _.castArray(null);\n * // => [null]\n *\n * _.castArray(undefined);\n * // => [undefined]\n *\n * _.castArray();\n * // => []\n *\n * var array = [1, 2, 3];\n * console.log(_.castArray(array) === array);\n * // => true\n */\nfunction castArray() {\n  if (!arguments.length) {\n    return [];\n  }\n  var value = arguments[0];\n  return isArray(value) ? value : [value];\n}\n\nmodule.exports = castArray;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * The default argument placeholder value for methods.\n *\n * @type {Object}\n */\nmodule.exports = {};\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","module.exports = __webpack_public_path__ + \"css-off.png\";","module.exports = __webpack_public_path__ + \"css-off-small.png\";","module.exports = __webpack_public_path__ + \"css-on.png\";","module.exports = __webpack_public_path__ + \"css-on-small.png\";","var baseRest = require('./_baseRest'),\n    pullAll = require('./pullAll');\n\n/**\n * Removes all given values from `array` using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n * to remove elements from an array by predicate.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {...*} [values] The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pull(array, 'a', 'c');\n * console.log(array);\n * // => ['b', 'b']\n */\nvar pull = baseRest(pullAll);\n\nmodule.exports = pull;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var baseIteratee = require('./_baseIteratee'),\n    basePullAt = require('./_basePullAt');\n\n/**\n * Removes all elements from `array` that `predicate` returns truthy for\n * and returns an array of the removed elements. The predicate is invoked\n * with three arguments: (value, index, array).\n *\n * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n * to pull elements from an array by value.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new array of removed elements.\n * @example\n *\n * var array = [1, 2, 3, 4];\n * var evens = _.remove(array, function(n) {\n *   return n % 2 == 0;\n * });\n *\n * console.log(array);\n * // => [1, 3]\n *\n * console.log(evens);\n * // => [2, 4]\n */\nfunction remove(array, predicate) {\n  var result = [];\n  if (!(array && array.length)) {\n    return result;\n  }\n  var index = -1,\n      indexes = [],\n      length = array.length;\n\n  predicate = baseIteratee(predicate, 3);\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result.push(value);\n      indexes.push(index);\n    }\n  }\n  basePullAt(array, indexes);\n  return result;\n}\n\nmodule.exports = remove;\n","var baseIteratee = require('./_baseIteratee'),\n    baseWhile = require('./_baseWhile');\n\n/**\n * Creates a slice of `array` with elements taken from the end. Elements are\n * taken until `predicate` returns falsey. The predicate is invoked with\n * three arguments: (value, index, array).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.takeRightWhile(users, function(o) { return !o.active; });\n * // => objects for ['fred', 'pebbles']\n *\n * // The `_.matches` iteratee shorthand.\n * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n * // => objects for ['pebbles']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.takeRightWhile(users, ['active', false]);\n * // => objects for ['fred', 'pebbles']\n *\n * // The `_.property` iteratee shorthand.\n * _.takeRightWhile(users, 'active');\n * // => []\n */\nfunction takeRightWhile(array, predicate) {\n  return (array && array.length)\n    ? baseWhile(array, baseIteratee(predicate, 3), false, true)\n    : [];\n}\n\nmodule.exports = takeRightWhile;\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","var copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    keysIn = require('./keysIn');\n\n/**\n * This method is like `_.assign` except that it iterates over own and\n * inherited source properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assign\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n */\nvar assignIn = createAssigner(function(object, source) {\n  copyObject(source, keysIn(source), object);\n});\n\nmodule.exports = assignIn;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","var baseRest = require('./_baseRest'),\n    unzipWith = require('./unzipWith');\n\n/**\n * This method is like `_.zip` except that it accepts `iteratee` to specify\n * how grouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  grouped values.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n *   return a + b + c;\n * });\n * // => [111, 222]\n */\nvar zipWith = baseRest(function(arrays) {\n  var length = arrays.length,\n      iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n  iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n  return unzipWith(arrays, iteratee);\n});\n\nmodule.exports = zipWith;\n","(function() {\n  'use strict';\n  \n  var collator;\n  try {\n    collator = (typeof Intl !== \"undefined\" && typeof Intl.Collator !== \"undefined\") ? Intl.Collator(\"generic\", { sensitivity: \"base\" }) : null;\n  } catch (err){\n    console.log(\"Collator could not be initialized and wouldn't be used\");\n  }\n  // arrays to re-use\n  var prevRow = [],\n    str2Char = [];\n  \n  /**\n   * Based on the algorithm at http://en.wikipedia.org/wiki/Levenshtein_distance.\n   */\n  var Levenshtein = {\n    /**\n     * Calculate levenshtein distance of the two strings.\n     *\n     * @param str1 String the first string.\n     * @param str2 String the second string.\n     * @param [options] Additional options.\n     * @param [options.useCollator] Use `Intl.Collator` for locale-sensitive string comparison.\n     * @return Integer the levenshtein distance (0 and above).\n     */\n    get: function(str1, str2, options) {\n      var useCollator = (options && collator && options.useCollator);\n      \n      var str1Len = str1.length,\n        str2Len = str2.length;\n      \n      // base cases\n      if (str1Len === 0) return str2Len;\n      if (str2Len === 0) return str1Len;\n\n      // two rows\n      var curCol, nextCol, i, j, tmp;\n\n      // initialise previous row\n      for (i=0; i<str2Len; ++i) {\n        prevRow[i] = i;\n        str2Char[i] = str2.charCodeAt(i);\n      }\n      prevRow[str2Len] = str2Len;\n\n      var strCmp;\n      if (useCollator) {\n        // calculate current row distance from previous row using collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = 0 === collator.compare(str1.charAt(i), String.fromCharCode(str2Char[j]));\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n      }\n      else {\n        // calculate current row distance from previous row without collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = str1.charCodeAt(i) === str2Char[j];\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n      }\n      return nextCol;\n    }\n\n  };\n\n  // amd\n  if (typeof define !== \"undefined\" && define !== null && define.amd) {\n    define(function() {\n      return Levenshtein;\n    });\n  }\n  // commonjs\n  else if (typeof module !== \"undefined\" && module !== null && typeof exports !== \"undefined\" && module.exports === exports) {\n    module.exports = Levenshtein;\n  }\n  // web worker\n  else if (typeof self !== \"undefined\" && typeof self.postMessage === 'function' && typeof self.importScripts === 'function') {\n    self.Levenshtein = Levenshtein;\n  }\n  // browser main thread\n  else if (typeof window !== \"undefined\" && window !== null) {\n    window.Levenshtein = Levenshtein;\n  }\n}());\n\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var basePullAll = require('./_basePullAll');\n\n/**\n * This method is like `_.pull` except that it accepts an array of values to remove.\n *\n * **Note:** Unlike `_.difference`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pullAll(array, ['a', 'c']);\n * console.log(array);\n * // => ['b', 'b']\n */\nfunction pullAll(array, values) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values)\n    : array;\n}\n\nmodule.exports = pullAll;\n","var arrayMap = require('./_arrayMap'),\n    baseIndexOf = require('./_baseIndexOf'),\n    baseIndexOfWith = require('./_baseIndexOfWith'),\n    baseUnary = require('./_baseUnary'),\n    copyArray = require('./_copyArray');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAllBy` without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAll(array, values, iteratee, comparator) {\n  var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n      index = -1,\n      length = values.length,\n      seen = array;\n\n  if (array === values) {\n    values = copyArray(values);\n  }\n  if (iteratee) {\n    seen = arrayMap(array, baseUnary(iteratee));\n  }\n  while (++index < length) {\n    var fromIndex = 0,\n        value = values[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n      if (seen !== array) {\n        splice.call(seen, fromIndex, 1);\n      }\n      splice.call(array, fromIndex, 1);\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAll;\n","/**\n * This function is like `baseIndexOf` except that it accepts a comparator.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOfWith(array, value, fromIndex, comparator) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (comparator(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseIndexOfWith;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that invokes `func`, with the `this` binding and arguments\n * of the created function, while it's called less than `n` times. Subsequent\n * calls to the created function return the result of the last `func` invocation.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {number} n The number of calls at which `func` is no longer invoked.\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * jQuery(element).on('click', _.before(5, addContactToList));\n * // => Allows adding up to 4 contacts to the list.\n */\nfunction before(n, func) {\n  var result;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  n = toInteger(n);\n  return function() {\n    if (--n > 0) {\n      result = func.apply(this, arguments);\n    }\n    if (n <= 1) {\n      func = undefined;\n    }\n    return result;\n  };\n}\n\nmodule.exports = before;\n","var createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBind;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    createHybrid = require('./_createHybrid'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurry;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n","var copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartial;\n","var baseUnset = require('./_baseUnset'),\n    isIndex = require('./_isIndex');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAt` without support for individual\n * indexes or capturing the removed elements.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {number[]} indexes The indexes of elements to remove.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAt(array, indexes) {\n  var length = array ? indexes.length : 0,\n      lastIndex = length - 1;\n\n  while (length--) {\n    var index = indexes[length];\n    if (length == lastIndex || index !== previous) {\n      var previous = index;\n      if (isIndex(index)) {\n        splice.call(array, index, 1);\n      } else {\n        baseUnset(array, index);\n      }\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAt;\n","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n * without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {Function} predicate The function invoked per iteration.\n * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseWhile(array, predicate, isDrop, fromRight) {\n  var length = array.length,\n      index = fromRight ? length : -1;\n\n  while ((fromRight ? index-- : ++index < length) &&\n    predicate(array[index], index, array)) {}\n\n  return isDrop\n    ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n    : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n}\n\nmodule.exports = baseWhile;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var baseConvert = require('./_baseConvert'),\n    util = require('./_util');\n\n/**\n * Converts `func` of `name` to an immutable auto-curried iteratee-first data-last\n * version with conversion `options` applied. If `name` is an object its methods\n * will be converted.\n *\n * @param {string} name The name of the function to wrap.\n * @param {Function} [func] The function to wrap.\n * @param {Object} [options] The options object. See `baseConvert` for more details.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction convert(name, func, options) {\n  return baseConvert(util, name, func, options);\n}\n\nmodule.exports = convert;\n","var mapping = require('./_mapping'),\n    fallbackHolder = require('./placeholder');\n\n/** Built-in value reference. */\nvar push = Array.prototype.push;\n\n/**\n * Creates a function, with an arity of `n`, that invokes `func` with the\n * arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} n The arity of the new function.\n * @returns {Function} Returns the new function.\n */\nfunction baseArity(func, n) {\n  return n == 2\n    ? function(a, b) { return func.apply(undefined, arguments); }\n    : function(a) { return func.apply(undefined, arguments); };\n}\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments, ignoring\n * any additional arguments.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @param {number} n The arity cap.\n * @returns {Function} Returns the new function.\n */\nfunction baseAry(func, n) {\n  return n == 2\n    ? function(a, b) { return func(a, b); }\n    : function(a) { return func(a); };\n}\n\n/**\n * Creates a clone of `array`.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the cloned array.\n */\nfunction cloneArray(array) {\n  var length = array ? array.length : 0,\n      result = Array(length);\n\n  while (length--) {\n    result[length] = array[length];\n  }\n  return result;\n}\n\n/**\n * Creates a function that clones a given object using the assignment `func`.\n *\n * @private\n * @param {Function} func The assignment function.\n * @returns {Function} Returns the new cloner function.\n */\nfunction createCloner(func) {\n  return function(object) {\n    return func({}, object);\n  };\n}\n\n/**\n * A specialized version of `_.spread` which flattens the spread array into\n * the arguments of the invoked `func`.\n *\n * @private\n * @param {Function} func The function to spread arguments over.\n * @param {number} start The start position of the spread.\n * @returns {Function} Returns the new function.\n */\nfunction flatSpread(func, start) {\n  return function() {\n    var length = arguments.length,\n        lastIndex = length - 1,\n        args = Array(length);\n\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var array = args[start],\n        otherArgs = args.slice(0, start);\n\n    if (array) {\n      push.apply(otherArgs, array);\n    }\n    if (start != lastIndex) {\n      push.apply(otherArgs, args.slice(start + 1));\n    }\n    return func.apply(this, otherArgs);\n  };\n}\n\n/**\n * Creates a function that wraps `func` and uses `cloner` to clone the first\n * argument it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} cloner The function to clone arguments.\n * @returns {Function} Returns the new immutable function.\n */\nfunction wrapImmutable(func, cloner) {\n  return function() {\n    var length = arguments.length;\n    if (!length) {\n      return;\n    }\n    var args = Array(length);\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var result = args[0] = cloner.apply(undefined, args);\n    func.apply(undefined, args);\n    return result;\n  };\n}\n\n/**\n * The base implementation of `convert` which accepts a `util` object of methods\n * required to perform conversions.\n *\n * @param {Object} util The util object.\n * @param {string} name The name of the function to convert.\n * @param {Function} func The function to convert.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.cap=true] Specify capping iteratee arguments.\n * @param {boolean} [options.curry=true] Specify currying.\n * @param {boolean} [options.fixed=true] Specify fixed arity.\n * @param {boolean} [options.immutable=true] Specify immutable operations.\n * @param {boolean} [options.rearg=true] Specify rearranging arguments.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction baseConvert(util, name, func, options) {\n  var isLib = typeof name == 'function',\n      isObj = name === Object(name);\n\n  if (isObj) {\n    options = func;\n    func = name;\n    name = undefined;\n  }\n  if (func == null) {\n    throw new TypeError;\n  }\n  options || (options = {});\n\n  var config = {\n    'cap': 'cap' in options ? options.cap : true,\n    'curry': 'curry' in options ? options.curry : true,\n    'fixed': 'fixed' in options ? options.fixed : true,\n    'immutable': 'immutable' in options ? options.immutable : true,\n    'rearg': 'rearg' in options ? options.rearg : true\n  };\n\n  var defaultHolder = isLib ? func : fallbackHolder,\n      forceCurry = ('curry' in options) && options.curry,\n      forceFixed = ('fixed' in options) && options.fixed,\n      forceRearg = ('rearg' in options) && options.rearg,\n      pristine = isLib ? func.runInContext() : undefined;\n\n  var helpers = isLib ? func : {\n    'ary': util.ary,\n    'assign': util.assign,\n    'clone': util.clone,\n    'curry': util.curry,\n    'forEach': util.forEach,\n    'isArray': util.isArray,\n    'isError': util.isError,\n    'isFunction': util.isFunction,\n    'isWeakMap': util.isWeakMap,\n    'iteratee': util.iteratee,\n    'keys': util.keys,\n    'rearg': util.rearg,\n    'toInteger': util.toInteger,\n    'toPath': util.toPath\n  };\n\n  var ary = helpers.ary,\n      assign = helpers.assign,\n      clone = helpers.clone,\n      curry = helpers.curry,\n      each = helpers.forEach,\n      isArray = helpers.isArray,\n      isError = helpers.isError,\n      isFunction = helpers.isFunction,\n      isWeakMap = helpers.isWeakMap,\n      keys = helpers.keys,\n      rearg = helpers.rearg,\n      toInteger = helpers.toInteger,\n      toPath = helpers.toPath;\n\n  var aryMethodKeys = keys(mapping.aryMethod);\n\n  var wrappers = {\n    'castArray': function(castArray) {\n      return function() {\n        var value = arguments[0];\n        return isArray(value)\n          ? castArray(cloneArray(value))\n          : castArray.apply(undefined, arguments);\n      };\n    },\n    'iteratee': function(iteratee) {\n      return function() {\n        var func = arguments[0],\n            arity = arguments[1],\n            result = iteratee(func, arity),\n            length = result.length;\n\n        if (config.cap && typeof arity == 'number') {\n          arity = arity > 2 ? (arity - 2) : 1;\n          return (length && length <= arity) ? result : baseAry(result, arity);\n        }\n        return result;\n      };\n    },\n    'mixin': function(mixin) {\n      return function(source) {\n        var func = this;\n        if (!isFunction(func)) {\n          return mixin(func, Object(source));\n        }\n        var pairs = [];\n        each(keys(source), function(key) {\n          if (isFunction(source[key])) {\n            pairs.push([key, func.prototype[key]]);\n          }\n        });\n\n        mixin(func, Object(source));\n\n        each(pairs, function(pair) {\n          var value = pair[1];\n          if (isFunction(value)) {\n            func.prototype[pair[0]] = value;\n          } else {\n            delete func.prototype[pair[0]];\n          }\n        });\n        return func;\n      };\n    },\n    'nthArg': function(nthArg) {\n      return function(n) {\n        var arity = n < 0 ? 1 : (toInteger(n) + 1);\n        return curry(nthArg(n), arity);\n      };\n    },\n    'rearg': function(rearg) {\n      return function(func, indexes) {\n        var arity = indexes ? indexes.length : 0;\n        return curry(rearg(func, indexes), arity);\n      };\n    },\n    'runInContext': function(runInContext) {\n      return function(context) {\n        return baseConvert(util, runInContext(context), options);\n      };\n    }\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Casts `func` to a function with an arity capped iteratee if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCap(name, func) {\n    if (config.cap) {\n      var indexes = mapping.iterateeRearg[name];\n      if (indexes) {\n        return iterateeRearg(func, indexes);\n      }\n      var n = !isLib && mapping.iterateeAry[name];\n      if (n) {\n        return iterateeAry(func, n);\n      }\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to a curried function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCurry(name, func, n) {\n    return (forceCurry || (config.curry && n > 1))\n      ? curry(func, n)\n      : func;\n  }\n\n  /**\n   * Casts `func` to a fixed arity function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the cast function.\n   */\n  function castFixed(name, func, n) {\n    if (config.fixed && (forceFixed || !mapping.skipFixed[name])) {\n      var data = mapping.methodSpread[name],\n          start = data && data.start;\n\n      return start  === undefined ? ary(func, n) : flatSpread(func, start);\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to an rearged function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castRearg(name, func, n) {\n    return (config.rearg && n > 1 && (forceRearg || !mapping.skipRearg[name]))\n      ? rearg(func, mapping.methodRearg[name] || mapping.aryRearg[n])\n      : func;\n  }\n\n  /**\n   * Creates a clone of `object` by `path`.\n   *\n   * @private\n   * @param {Object} object The object to clone.\n   * @param {Array|string} path The path to clone by.\n   * @returns {Object} Returns the cloned object.\n   */\n  function cloneByPath(object, path) {\n    path = toPath(path);\n\n    var index = -1,\n        length = path.length,\n        lastIndex = length - 1,\n        result = clone(Object(object)),\n        nested = result;\n\n    while (nested != null && ++index < length) {\n      var key = path[index],\n          value = nested[key];\n\n      if (value != null &&\n          !(isFunction(value) || isError(value) || isWeakMap(value))) {\n        nested[key] = clone(index == lastIndex ? value : Object(value));\n      }\n      nested = nested[key];\n    }\n    return result;\n  }\n\n  /**\n   * Converts `lodash` to an immutable auto-curried iteratee-first data-last\n   * version with conversion `options` applied.\n   *\n   * @param {Object} [options] The options object. See `baseConvert` for more details.\n   * @returns {Function} Returns the converted `lodash`.\n   */\n  function convertLib(options) {\n    return _.runInContext.convert(options)(undefined);\n  }\n\n  /**\n   * Create a converter function for `func` of `name`.\n   *\n   * @param {string} name The name of the function to convert.\n   * @param {Function} func The function to convert.\n   * @returns {Function} Returns the new converter function.\n   */\n  function createConverter(name, func) {\n    var realName = mapping.aliasToReal[name] || name,\n        methodName = mapping.remap[realName] || realName,\n        oldOptions = options;\n\n    return function(options) {\n      var newUtil = isLib ? pristine : helpers,\n          newFunc = isLib ? pristine[methodName] : func,\n          newOptions = assign(assign({}, oldOptions), options);\n\n      return baseConvert(newUtil, realName, newFunc, newOptions);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee, with up to `n`\n   * arguments, ignoring any additional arguments.\n   *\n   * @private\n   * @param {Function} func The function to cap iteratee arguments for.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeAry(func, n) {\n    return overArg(func, function(func) {\n      return typeof func == 'function' ? baseAry(func, n) : func;\n    });\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee with arguments\n   * arranged according to the specified `indexes` where the argument value at\n   * the first index is provided as the first argument, the argument value at\n   * the second index is provided as the second argument, and so on.\n   *\n   * @private\n   * @param {Function} func The function to rearrange iteratee arguments for.\n   * @param {number[]} indexes The arranged argument indexes.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeRearg(func, indexes) {\n    return overArg(func, function(func) {\n      var n = indexes.length;\n      return baseArity(rearg(baseAry(func, n), indexes), n);\n    });\n  }\n\n  /**\n   * Creates a function that invokes `func` with its first argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function() {\n      var length = arguments.length;\n      if (!length) {\n        return func();\n      }\n      var args = Array(length);\n      while (length--) {\n        args[length] = arguments[length];\n      }\n      var index = config.rearg ? 0 : (length - 1);\n      args[index] = transform(args[index]);\n      return func.apply(undefined, args);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` and applys the conversions\n   * rules by `name`.\n   *\n   * @private\n   * @param {string} name The name of the function to wrap.\n   * @param {Function} func The function to wrap.\n   * @returns {Function} Returns the converted function.\n   */\n  function wrap(name, func, placeholder) {\n    var result,\n        realName = mapping.aliasToReal[name] || name,\n        wrapped = func,\n        wrapper = wrappers[realName];\n\n    if (wrapper) {\n      wrapped = wrapper(func);\n    }\n    else if (config.immutable) {\n      if (mapping.mutate.array[realName]) {\n        wrapped = wrapImmutable(func, cloneArray);\n      }\n      else if (mapping.mutate.object[realName]) {\n        wrapped = wrapImmutable(func, createCloner(func));\n      }\n      else if (mapping.mutate.set[realName]) {\n        wrapped = wrapImmutable(func, cloneByPath);\n      }\n    }\n    each(aryMethodKeys, function(aryKey) {\n      each(mapping.aryMethod[aryKey], function(otherName) {\n        if (realName == otherName) {\n          var data = mapping.methodSpread[realName],\n              afterRearg = data && data.afterRearg;\n\n          result = afterRearg\n            ? castFixed(realName, castRearg(realName, wrapped, aryKey), aryKey)\n            : castRearg(realName, castFixed(realName, wrapped, aryKey), aryKey);\n\n          result = castCap(realName, result);\n          result = castCurry(realName, result, aryKey);\n          return false;\n        }\n      });\n      return !result;\n    });\n\n    result || (result = wrapped);\n    if (result == func) {\n      result = forceCurry ? curry(result, 1) : function() {\n        return func.apply(this, arguments);\n      };\n    }\n    result.convert = createConverter(realName, func);\n    result.placeholder = func.placeholder = placeholder;\n\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  if (!isObj) {\n    return wrap(name, func, defaultHolder);\n  }\n  var _ = func;\n\n  // Convert methods by ary cap.\n  var pairs = [];\n  each(aryMethodKeys, function(aryKey) {\n    each(mapping.aryMethod[aryKey], function(key) {\n      var func = _[mapping.remap[key] || key];\n      if (func) {\n        pairs.push([key, wrap(key, func, _)]);\n      }\n    });\n  });\n\n  // Convert remaining methods.\n  each(keys(_), function(key) {\n    var func = _[key];\n    if (typeof func == 'function') {\n      var length = pairs.length;\n      while (length--) {\n        if (pairs[length][0] == key) {\n          return;\n        }\n      }\n      func.convert = createConverter(key, func);\n      pairs.push([key, func]);\n    }\n  });\n\n  // Assign to `_` leaving `_.prototype` unchanged to allow chaining.\n  each(pairs, function(pair) {\n    _[pair[0]] = pair[1];\n  });\n\n  _.convert = convertLib;\n  _.placeholder = _;\n\n  // Assign aliases.\n  each(keys(_), function(key) {\n    each(mapping.realToAlias[key] || [], function(alias) {\n      _[alias] = _[key];\n    });\n  });\n\n  return _;\n}\n\nmodule.exports = baseConvert;\n","/** Used to map aliases to their real names. */\nexports.aliasToReal = {\n\n  // Lodash aliases.\n  'each': 'forEach',\n  'eachRight': 'forEachRight',\n  'entries': 'toPairs',\n  'entriesIn': 'toPairsIn',\n  'extend': 'assignIn',\n  'extendAll': 'assignInAll',\n  'extendAllWith': 'assignInAllWith',\n  'extendWith': 'assignInWith',\n  'first': 'head',\n\n  // Methods that are curried variants of others.\n  'conforms': 'conformsTo',\n  'matches': 'isMatch',\n  'property': 'get',\n\n  // Ramda aliases.\n  '__': 'placeholder',\n  'F': 'stubFalse',\n  'T': 'stubTrue',\n  'all': 'every',\n  'allPass': 'overEvery',\n  'always': 'constant',\n  'any': 'some',\n  'anyPass': 'overSome',\n  'apply': 'spread',\n  'assoc': 'set',\n  'assocPath': 'set',\n  'complement': 'negate',\n  'compose': 'flowRight',\n  'contains': 'includes',\n  'dissoc': 'unset',\n  'dissocPath': 'unset',\n  'dropLast': 'dropRight',\n  'dropLastWhile': 'dropRightWhile',\n  'equals': 'isEqual',\n  'identical': 'eq',\n  'indexBy': 'keyBy',\n  'init': 'initial',\n  'invertObj': 'invert',\n  'juxt': 'over',\n  'omitAll': 'omit',\n  'nAry': 'ary',\n  'path': 'get',\n  'pathEq': 'matchesProperty',\n  'pathOr': 'getOr',\n  'paths': 'at',\n  'pickAll': 'pick',\n  'pipe': 'flow',\n  'pluck': 'map',\n  'prop': 'get',\n  'propEq': 'matchesProperty',\n  'propOr': 'getOr',\n  'props': 'at',\n  'symmetricDifference': 'xor',\n  'symmetricDifferenceBy': 'xorBy',\n  'symmetricDifferenceWith': 'xorWith',\n  'takeLast': 'takeRight',\n  'takeLastWhile': 'takeRightWhile',\n  'unapply': 'rest',\n  'unnest': 'flatten',\n  'useWith': 'overArgs',\n  'where': 'conformsTo',\n  'whereEq': 'isMatch',\n  'zipObj': 'zipObject'\n};\n\n/** Used to map ary to method names. */\nexports.aryMethod = {\n  '1': [\n    'assignAll', 'assignInAll', 'attempt', 'castArray', 'ceil', 'create',\n    'curry', 'curryRight', 'defaultsAll', 'defaultsDeepAll', 'floor', 'flow',\n    'flowRight', 'fromPairs', 'invert', 'iteratee', 'memoize', 'method', 'mergeAll',\n    'methodOf', 'mixin', 'nthArg', 'over', 'overEvery', 'overSome','rest', 'reverse',\n    'round', 'runInContext', 'spread', 'template', 'trim', 'trimEnd', 'trimStart',\n    'uniqueId', 'words', 'zipAll'\n  ],\n  '2': [\n    'add', 'after', 'ary', 'assign', 'assignAllWith', 'assignIn', 'assignInAllWith',\n    'at', 'before', 'bind', 'bindAll', 'bindKey', 'chunk', 'cloneDeepWith',\n    'cloneWith', 'concat', 'conformsTo', 'countBy', 'curryN', 'curryRightN',\n    'debounce', 'defaults', 'defaultsDeep', 'defaultTo', 'delay', 'difference',\n    'divide', 'drop', 'dropRight', 'dropRightWhile', 'dropWhile', 'endsWith', 'eq',\n    'every', 'filter', 'find', 'findIndex', 'findKey', 'findLast', 'findLastIndex',\n    'findLastKey', 'flatMap', 'flatMapDeep', 'flattenDepth', 'forEach',\n    'forEachRight', 'forIn', 'forInRight', 'forOwn', 'forOwnRight', 'get',\n    'groupBy', 'gt', 'gte', 'has', 'hasIn', 'includes', 'indexOf', 'intersection',\n    'invertBy', 'invoke', 'invokeMap', 'isEqual', 'isMatch', 'join', 'keyBy',\n    'lastIndexOf', 'lt', 'lte', 'map', 'mapKeys', 'mapValues', 'matchesProperty',\n    'maxBy', 'meanBy', 'merge', 'mergeAllWith', 'minBy', 'multiply', 'nth', 'omit',\n    'omitBy', 'overArgs', 'pad', 'padEnd', 'padStart', 'parseInt', 'partial',\n    'partialRight', 'partition', 'pick', 'pickBy', 'propertyOf', 'pull', 'pullAll',\n    'pullAt', 'random', 'range', 'rangeRight', 'rearg', 'reject', 'remove',\n    'repeat', 'restFrom', 'result', 'sampleSize', 'some', 'sortBy', 'sortedIndex',\n    'sortedIndexOf', 'sortedLastIndex', 'sortedLastIndexOf', 'sortedUniqBy',\n    'split', 'spreadFrom', 'startsWith', 'subtract', 'sumBy', 'take', 'takeRight',\n    'takeRightWhile', 'takeWhile', 'tap', 'throttle', 'thru', 'times', 'trimChars',\n    'trimCharsEnd', 'trimCharsStart', 'truncate', 'union', 'uniqBy', 'uniqWith',\n    'unset', 'unzipWith', 'without', 'wrap', 'xor', 'zip', 'zipObject',\n    'zipObjectDeep'\n  ],\n  '3': [\n    'assignInWith', 'assignWith', 'clamp', 'differenceBy', 'differenceWith',\n    'findFrom', 'findIndexFrom', 'findLastFrom', 'findLastIndexFrom', 'getOr',\n    'includesFrom', 'indexOfFrom', 'inRange', 'intersectionBy', 'intersectionWith',\n    'invokeArgs', 'invokeArgsMap', 'isEqualWith', 'isMatchWith', 'flatMapDepth',\n    'lastIndexOfFrom', 'mergeWith', 'orderBy', 'padChars', 'padCharsEnd',\n    'padCharsStart', 'pullAllBy', 'pullAllWith', 'rangeStep', 'rangeStepRight',\n    'reduce', 'reduceRight', 'replace', 'set', 'slice', 'sortedIndexBy',\n    'sortedLastIndexBy', 'transform', 'unionBy', 'unionWith', 'update', 'xorBy',\n    'xorWith', 'zipWith'\n  ],\n  '4': [\n    'fill', 'setWith', 'updateWith'\n  ]\n};\n\n/** Used to map ary to rearg configs. */\nexports.aryRearg = {\n  '2': [1, 0],\n  '3': [2, 0, 1],\n  '4': [3, 2, 0, 1]\n};\n\n/** Used to map method names to their iteratee ary. */\nexports.iterateeAry = {\n  'dropRightWhile': 1,\n  'dropWhile': 1,\n  'every': 1,\n  'filter': 1,\n  'find': 1,\n  'findFrom': 1,\n  'findIndex': 1,\n  'findIndexFrom': 1,\n  'findKey': 1,\n  'findLast': 1,\n  'findLastFrom': 1,\n  'findLastIndex': 1,\n  'findLastIndexFrom': 1,\n  'findLastKey': 1,\n  'flatMap': 1,\n  'flatMapDeep': 1,\n  'flatMapDepth': 1,\n  'forEach': 1,\n  'forEachRight': 1,\n  'forIn': 1,\n  'forInRight': 1,\n  'forOwn': 1,\n  'forOwnRight': 1,\n  'map': 1,\n  'mapKeys': 1,\n  'mapValues': 1,\n  'partition': 1,\n  'reduce': 2,\n  'reduceRight': 2,\n  'reject': 1,\n  'remove': 1,\n  'some': 1,\n  'takeRightWhile': 1,\n  'takeWhile': 1,\n  'times': 1,\n  'transform': 2\n};\n\n/** Used to map method names to iteratee rearg configs. */\nexports.iterateeRearg = {\n  'mapKeys': [1],\n  'reduceRight': [1, 0]\n};\n\n/** Used to map method names to rearg configs. */\nexports.methodRearg = {\n  'assignInAllWith': [1, 0],\n  'assignInWith': [1, 2, 0],\n  'assignAllWith': [1, 0],\n  'assignWith': [1, 2, 0],\n  'differenceBy': [1, 2, 0],\n  'differenceWith': [1, 2, 0],\n  'getOr': [2, 1, 0],\n  'intersectionBy': [1, 2, 0],\n  'intersectionWith': [1, 2, 0],\n  'isEqualWith': [1, 2, 0],\n  'isMatchWith': [2, 1, 0],\n  'mergeAllWith': [1, 0],\n  'mergeWith': [1, 2, 0],\n  'padChars': [2, 1, 0],\n  'padCharsEnd': [2, 1, 0],\n  'padCharsStart': [2, 1, 0],\n  'pullAllBy': [2, 1, 0],\n  'pullAllWith': [2, 1, 0],\n  'rangeStep': [1, 2, 0],\n  'rangeStepRight': [1, 2, 0],\n  'setWith': [3, 1, 2, 0],\n  'sortedIndexBy': [2, 1, 0],\n  'sortedLastIndexBy': [2, 1, 0],\n  'unionBy': [1, 2, 0],\n  'unionWith': [1, 2, 0],\n  'updateWith': [3, 1, 2, 0],\n  'xorBy': [1, 2, 0],\n  'xorWith': [1, 2, 0],\n  'zipWith': [1, 2, 0]\n};\n\n/** Used to map method names to spread configs. */\nexports.methodSpread = {\n  'assignAll': { 'start': 0 },\n  'assignAllWith': { 'start': 0 },\n  'assignInAll': { 'start': 0 },\n  'assignInAllWith': { 'start': 0 },\n  'defaultsAll': { 'start': 0 },\n  'defaultsDeepAll': { 'start': 0 },\n  'invokeArgs': { 'start': 2 },\n  'invokeArgsMap': { 'start': 2 },\n  'mergeAll': { 'start': 0 },\n  'mergeAllWith': { 'start': 0 },\n  'partial': { 'start': 1 },\n  'partialRight': { 'start': 1 },\n  'without': { 'start': 1 },\n  'zipAll': { 'start': 0 }\n};\n\n/** Used to identify methods which mutate arrays or objects. */\nexports.mutate = {\n  'array': {\n    'fill': true,\n    'pull': true,\n    'pullAll': true,\n    'pullAllBy': true,\n    'pullAllWith': true,\n    'pullAt': true,\n    'remove': true,\n    'reverse': true\n  },\n  'object': {\n    'assign': true,\n    'assignAll': true,\n    'assignAllWith': true,\n    'assignIn': true,\n    'assignInAll': true,\n    'assignInAllWith': true,\n    'assignInWith': true,\n    'assignWith': true,\n    'defaults': true,\n    'defaultsAll': true,\n    'defaultsDeep': true,\n    'defaultsDeepAll': true,\n    'merge': true,\n    'mergeAll': true,\n    'mergeAllWith': true,\n    'mergeWith': true,\n  },\n  'set': {\n    'set': true,\n    'setWith': true,\n    'unset': true,\n    'update': true,\n    'updateWith': true\n  }\n};\n\n/** Used to map real names to their aliases. */\nexports.realToAlias = (function() {\n  var hasOwnProperty = Object.prototype.hasOwnProperty,\n      object = exports.aliasToReal,\n      result = {};\n\n  for (var key in object) {\n    var value = object[key];\n    if (hasOwnProperty.call(result, value)) {\n      result[value].push(key);\n    } else {\n      result[value] = [key];\n    }\n  }\n  return result;\n}());\n\n/** Used to map method names to other names. */\nexports.remap = {\n  'assignAll': 'assign',\n  'assignAllWith': 'assignWith',\n  'assignInAll': 'assignIn',\n  'assignInAllWith': 'assignInWith',\n  'curryN': 'curry',\n  'curryRightN': 'curryRight',\n  'defaultsAll': 'defaults',\n  'defaultsDeepAll': 'defaultsDeep',\n  'findFrom': 'find',\n  'findIndexFrom': 'findIndex',\n  'findLastFrom': 'findLast',\n  'findLastIndexFrom': 'findLastIndex',\n  'getOr': 'get',\n  'includesFrom': 'includes',\n  'indexOfFrom': 'indexOf',\n  'invokeArgs': 'invoke',\n  'invokeArgsMap': 'invokeMap',\n  'lastIndexOfFrom': 'lastIndexOf',\n  'mergeAll': 'merge',\n  'mergeAllWith': 'mergeWith',\n  'padChars': 'pad',\n  'padCharsEnd': 'padEnd',\n  'padCharsStart': 'padStart',\n  'propertyOf': 'get',\n  'rangeStep': 'range',\n  'rangeStepRight': 'rangeRight',\n  'restFrom': 'rest',\n  'spreadFrom': 'spread',\n  'trimChars': 'trim',\n  'trimCharsEnd': 'trimEnd',\n  'trimCharsStart': 'trimStart',\n  'zipAll': 'zip'\n};\n\n/** Used to track methods that skip fixing their arity. */\nexports.skipFixed = {\n  'castArray': true,\n  'flow': true,\n  'flowRight': true,\n  'iteratee': true,\n  'mixin': true,\n  'rearg': true,\n  'runInContext': true\n};\n\n/** Used to track methods that skip rearranging arguments. */\nexports.skipRearg = {\n  'add': true,\n  'assign': true,\n  'assignIn': true,\n  'bind': true,\n  'bindKey': true,\n  'concat': true,\n  'difference': true,\n  'divide': true,\n  'eq': true,\n  'gt': true,\n  'gte': true,\n  'isEqual': true,\n  'lt': true,\n  'lte': true,\n  'matchesProperty': true,\n  'merge': true,\n  'multiply': true,\n  'overArgs': true,\n  'partial': true,\n  'partialRight': true,\n  'propertyOf': true,\n  'random': true,\n  'range': true,\n  'rangeRight': true,\n  'subtract': true,\n  'zip': true,\n  'zipObject': true,\n  'zipObjectDeep': true\n};\n","module.exports = {\n  'ary': require('../ary'),\n  'assign': require('../_baseAssign'),\n  'clone': require('../clone'),\n  'curry': require('../curry'),\n  'forEach': require('../_arrayEach'),\n  'isArray': require('../isArray'),\n  'isError': require('../isError'),\n  'isFunction': require('../isFunction'),\n  'isWeakMap': require('../isWeakMap'),\n  'iteratee': require('../iteratee'),\n  'keys': require('../_baseKeys'),\n  'rearg': require('../rearg'),\n  'toInteger': require('../toInteger'),\n  'toPath': require('../toPath')\n};\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_ARY_FLAG = 128;\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments,\n * ignoring any additional arguments.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to cap arguments for.\n * @param {number} [n=func.length] The arity cap.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new capped function.\n * @example\n *\n * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n * // => [6, 8, 10]\n */\nfunction ary(func, n, guard) {\n  n = guard ? undefined : n;\n  n = (func && n == null) ? func.length : n;\n  return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n}\n\nmodule.exports = ary;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8;\n\n/**\n * Creates a function that accepts arguments of `func` and either invokes\n * `func` returning its result, if at least `arity` number of arguments have\n * been provided, or returns a function that accepts the remaining `func`\n * arguments, and so on. The arity of `func` may be specified if `func.length`\n * is not sufficient.\n *\n * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curry(abc);\n *\n * curried(1)(2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(1)(_, 3)(2);\n * // => [1, 2, 3]\n */\nfunction curry(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curry.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurry.placeholder = {};\n\nmodule.exports = curry;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike'),\n    isPlainObject = require('./isPlainObject');\n\n/** `Object#toString` result references. */\nvar domExcTag = '[object DOMException]',\n    errorTag = '[object Error]';\n\n/**\n * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n * `SyntaxError`, `TypeError`, or `URIError` object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n * @example\n *\n * _.isError(new Error);\n * // => true\n *\n * _.isError(Error);\n * // => false\n */\nfunction isError(value) {\n  if (!isObjectLike(value)) {\n    return false;\n  }\n  var tag = baseGetTag(value);\n  return tag == errorTag || tag == domExcTag ||\n    (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n}\n\nmodule.exports = isError;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar weakMapTag = '[object WeakMap]';\n\n/**\n * Checks if `value` is classified as a `WeakMap` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n * @example\n *\n * _.isWeakMap(new WeakMap);\n * // => true\n *\n * _.isWeakMap(new Map);\n * // => false\n */\nfunction isWeakMap(value) {\n  return isObjectLike(value) && getTag(value) == weakMapTag;\n}\n\nmodule.exports = isWeakMap;\n","var baseClone = require('./_baseClone'),\n    baseIteratee = require('./_baseIteratee');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1;\n\n/**\n * Creates a function that invokes `func` with the arguments of the created\n * function. If `func` is a property name, the created function returns the\n * property value for a given element. If `func` is an array or object, the\n * created function returns `true` for elements that contain the equivalent\n * source properties, otherwise it returns `false`.\n *\n * @static\n * @since 4.0.0\n * @memberOf _\n * @category Util\n * @param {*} [func=_.identity] The value to convert to a callback.\n * @returns {Function} Returns the callback.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, _.iteratee(['user', 'fred']));\n * // => [{ 'user': 'fred', 'age': 40 }]\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, _.iteratee('user'));\n * // => ['barney', 'fred']\n *\n * // Create custom iteratee shorthands.\n * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n *     return func.test(string);\n *   };\n * });\n *\n * _.filter(['abc', 'def'], /ef/);\n * // => ['def']\n */\nfunction iteratee(func) {\n  return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n}\n\nmodule.exports = iteratee;\n","var createWrap = require('./_createWrap'),\n    flatRest = require('./_flatRest');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a function that invokes `func` with arguments arranged according\n * to the specified `indexes` where the argument value at the first index is\n * provided as the first argument, the argument value at the second index is\n * provided as the second argument, and so on.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to rearrange arguments for.\n * @param {...(number|number[])} indexes The arranged argument indexes.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var rearged = _.rearg(function(a, b, c) {\n *   return [a, b, c];\n * }, [2, 0, 1]);\n *\n * rearged('b', 'c', 'a')\n * // => ['a', 'b', 'c']\n */\nvar rearg = flatRest(function(func, indexes) {\n  return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n});\n\nmodule.exports = rearg;\n","var arrayMap = require('./_arrayMap'),\n    copyArray = require('./_copyArray'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol'),\n    stringToPath = require('./_stringToPath'),\n    toKey = require('./_toKey'),\n    toString = require('./toString');\n\n/**\n * Converts `value` to a property path array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {*} value The value to convert.\n * @returns {Array} Returns the new property path array.\n * @example\n *\n * _.toPath('a.b.c');\n * // => ['a', 'b', 'c']\n *\n * _.toPath('a[0].b.c');\n * // => ['a', '0', 'b', 'c']\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return arrayMap(value, toKey);\n  }\n  return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n}\n\nmodule.exports = toPath;\n","var createFlow = require('./_createFlow');\n\n/**\n * Creates a function that returns the result of invoking the given functions\n * with the `this` binding of the created function, where each successive\n * invocation is supplied the return value of the previous.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {...(Function|Function[])} [funcs] The functions to invoke.\n * @returns {Function} Returns the new composite function.\n * @see _.flowRight\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var addSquare = _.flow([_.add, square]);\n * addSquare(1, 2);\n * // => 9\n */\nvar flow = createFlow();\n\nmodule.exports = flow;\n","var LodashWrapper = require('./_LodashWrapper'),\n    flatRest = require('./_flatRest'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    isArray = require('./isArray'),\n    isLaziable = require('./_isLaziable');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a `_.flow` or `_.flowRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new flow function.\n */\nfunction createFlow(fromRight) {\n  return flatRest(function(funcs) {\n    var length = funcs.length,\n        index = length,\n        prereq = LodashWrapper.prototype.thru;\n\n    if (fromRight) {\n      funcs.reverse();\n    }\n    while (index--) {\n      var func = funcs[index];\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n        var wrapper = new LodashWrapper([], true);\n      }\n    }\n    index = wrapper ? index : length;\n    while (++index < length) {\n      func = funcs[index];\n\n      var funcName = getFuncName(func),\n          data = funcName == 'wrapper' ? getData(func) : undefined;\n\n      if (data && isLaziable(data[0]) &&\n            data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n            !data[4].length && data[9] == 1\n          ) {\n        wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n      } else {\n        wrapper = (func.length == 1 && isLaziable(func))\n          ? wrapper[funcName]()\n          : wrapper.thru(func);\n      }\n    }\n    return function() {\n      var args = arguments,\n          value = args[0];\n\n      if (wrapper && args.length == 1 && isArray(value)) {\n        return wrapper.plant(value).value();\n      }\n      var index = 0,\n          result = length ? funcs[index].apply(this, args) : value;\n\n      while (++index < length) {\n        result = funcs[index].call(this, result);\n      }\n      return result;\n    };\n  });\n}\n\nmodule.exports = createFlow;\n","/**\n * This method returns an empty string.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {string} Returns the empty string.\n * @example\n *\n * _.times(2, _.stubString);\n * // => ['', '']\n */\nfunction stubString() {\n  return '';\n}\n\nmodule.exports = stubString;\n","var apply = require('./_apply'),\n    arrayMap = require('./_arrayMap'),\n    unzip = require('./unzip');\n\n/**\n * This method is like `_.unzip` except that it accepts `iteratee` to specify\n * how regrouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  regrouped values.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n * // => [[1, 10, 100], [2, 20, 200]]\n *\n * _.unzipWith(zipped, _.add);\n * // => [3, 30, 300]\n */\nfunction unzipWith(array, iteratee) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var result = unzip(array);\n  if (iteratee == null) {\n    return result;\n  }\n  return arrayMap(result, function(group) {\n    return apply(iteratee, undefined, group);\n  });\n}\n\nmodule.exports = unzipWith;\n","var arrayFilter = require('./_arrayFilter'),\n    arrayMap = require('./_arrayMap'),\n    baseProperty = require('./_baseProperty'),\n    baseTimes = require('./_baseTimes'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.zip` except that it accepts an array of grouped\n * elements and creates an array regrouping the elements to their pre-zip\n * configuration.\n *\n * @static\n * @memberOf _\n * @since 1.2.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n *\n * _.unzip(zipped);\n * // => [['a', 'b'], [1, 2], [true, false]]\n */\nfunction unzip(array) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var length = 0;\n  array = arrayFilter(array, function(group) {\n    if (isArrayLikeObject(group)) {\n      length = nativeMax(group.length, length);\n      return true;\n    }\n  });\n  return baseTimes(length, function(index) {\n    return arrayMap(array, baseProperty(index));\n  });\n}\n\nmodule.exports = unzip;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","/* @flow */\n\ntype MessagePayload = {|\n\ttype: string,\n\tdata?: mixed,\n|};\n\ntype ResponsePayload = {|\n\tdata?: mixed,\n\terror?: {| message: string, stack: string |},\n|};\n\ntype InternalMessageSender<MsgCtx> = (msg: MessagePayload, context: MsgCtx) => Promise<ResponsePayload>;\n\ntype InternalMessageHandler<ListenerCtx> = (msg: MessagePayload, sendResponse: (response: ResponsePayload) => void, context: ListenerCtx) => boolean;\n\nexport type MessageSender<MsgCtx> = (type: string, data: mixed, context: MsgCtx) => Promise<any>;\n\nexport type AddListener<Ctx> = (type: string, callback: ListenerCallback<Ctx>) => void;\n\ntype ListenerCallback<Ctx> = (data: any, context: Ctx) => Promise<mixed> | mixed;\n\nclass MessageHandlerError extends Error {\n\tconstructor(message, stack) {\n\t\tsuper();\n\t\tthis.message = message;\n\t\tthis.stack = stack;\n\t}\n}\n\nexport function createMessageHandler<MsgCtx, ListenerCtx>(_sendMessage: InternalMessageSender<MsgCtx>, errorOnUnrecognizedTypes: boolean = false): {|\n\t_handleMessage: InternalMessageHandler<ListenerCtx>,\n\tsendMessage: MessageSender<MsgCtx>,\n\taddListener: AddListener<ListenerCtx>,\n|} {\n\tconst listeners = new Map();\n\n\tfunction addListener(type, callback) {\n\t\tif (listeners.has(type)) {\n\t\t\tthrow new Error(`Listener for \"${type}\" already exists.`);\n\t\t}\n\t\tlisteners.set(type, callback);\n\t}\n\n\tasync function sendMessage(type, data, context) {\n\t\tconst { data: newData, error } = await _sendMessage({ type, data }, context);\n\t\tif (error) {\n\t\t\tthrow new MessageHandlerError(error.message, `${error.stack}\\n    at target's \"${type}\" handler`);\n\t\t} else {\n\t\t\treturn newData;\n\t\t}\n\t}\n\n\tfunction _handleMessage({ type, data }, sendResponse, context) {\n\t\tconst listener = listeners.get(type);\n\t\tif (!listener) {\n\t\t\tif (errorOnUnrecognizedTypes) {\n\t\t\t\tsendResponse({ error: { message: `Unrecognised message type: ${type}`, stack: '' } });\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tlet response;\n\n\t\ttry {\n\t\t\tresponse = listener(data, context);\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (response instanceof Promise) {\n\t\t\tresponse\n\t\t\t\t.then(\n\t\t\t\t\tdata => sendResponse({ data }),\n\t\t\t\t\te => {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t// true = response will be handled asynchronously (needed for Chrome)\n\t\t\treturn true;\n\t\t} else {\n\t\t\tsendResponse({ data: response });\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn {\n\t\t_handleMessage,\n\t\tsendMessage,\n\t\taddListener,\n\t};\n}\n","/* @flow */\n\nexport function apiToPromise(func: (...args: mixed[]) => void): (...args: mixed[]) => Promise<any> {\n\treturn (...args) =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\tfunc(...args, (...results) => {\n\t\t\t\tif (chrome.runtime.lastError) {\n\t\t\t\t\treject(new Error(chrome.runtime.lastError.message));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(results.length > 1 ? results : results[0]);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n}\n","/* @flow */\n\nimport { createMessageHandler } from '../utils/messaging';\nimport { apiToPromise } from '../utils/api';\n\nconst _sendMessage = apiToPromise(chrome.tabs.sendMessage);\n\nconst {\n\t_handleMessage,\n\tsendMessage,\n\taddListener,\n} = createMessageHandler((obj, tabId) => _sendMessage(tabId, obj));\n\nchrome.runtime.onMessage.addListener((obj, sender, sendResponse) => _handleMessage(obj, sendResponse, sender));\n\nexport {\n\tsendMessage,\n\taddListener,\n};\n","/* @flow */\n\nimport _ from 'lodash';\nimport { addListener } from './messaging';\n\naddListener('ajax', async ({ method, url, headers, data, credentials }) => {\n\tconst rawResponse = await fetch(url, {\n\t\tmethod,\n\t\theaders,\n\t\tcredentials,\n\t\tbody: data,\n\t});\n\n\treturn {\n\t\tok: rawResponse.ok,\n\t\tstatus: rawResponse.status,\n\t\theaders: _.fromPairs(Array.from(rawResponse.headers.entries())),\n\t\ttext: await rawResponse.text(),\n\t};\n});\n","/* @flow */\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('authFlow', ({ domain, clientId, scope, interactive }) => {\n\tconst redirectUri = 'https://redditenhancementsuite.com/oauth';\n\tconst url = new URL(domain);\n\turl.searchParams.set('client_id', clientId);\n\turl.searchParams.set('scope', scope);\n\turl.searchParams.set('response_type', 'token');\n\turl.searchParams.set('redirect_uri', redirectUri);\n\n\tif (process.env.BUILD_TARGET === 'chrome') {\n\t\t// Chrome supports chrome.identity.launchAuthFlow.\n\t\t// However--and quite inexplicably--the auth process is performed in a separate context whose cookies\n\t\t// are cleared whenever the browser is restarted, making noninteractive auth pretty much useless.\n\t\t// Instead, fully emulate the flow in the main context, where users will remain logged in when\n\t\t// they expect to be, i.e., as long as they're logged into the main site.\n\t\t// As a bonus, we can use redditenhancementsuite.com as the redirect instead of chromiumapp.org.\n\t\tif (interactive) {\n\t\t\treturn emulateAuthFlowInNewWindow(url.href, redirectUri);\n\t\t} else {\n\t\t\treturn emulateAuthFlowInBackground(url.href);\n\t\t}\n\t} else if (process.env.BUILD_TARGET === 'firefox') {\n\t\t// Firefox correctly supports chrome.identity.launchAuthFlow.\n\t\treturn apiToPromise(chrome.identity.launchWebAuthFlow)({ url: url.href, interactive });\n\t}\n});\n\nasync function emulateAuthFlowInNewWindow(url: string, redirectUri: string): Promise<string> {\n\t// Emulate interactive auth.\n\t// Open a popup window, then track its progress with chrome.tabs,\n\t// succeeding if it navigates to our redirect URL, and failing if it's\n\t// closed before then.\n\tconst { tabs: [{ id }] } = await apiToPromise(chrome.windows.create)({ url, type: 'popup' });\n\n\treturn new Promise((resolve, reject) => {\n\t\tfunction updateListener(tabId, updates) {\n\t\t\tif (tabId !== id) return;\n\n\t\t\tif (updates.url && updates.url.startsWith(redirectUri)) {\n\t\t\t\tstopListening();\n\t\t\t\tresolve(updates.url);\n\t\t\t\tapiToPromise(chrome.tabs.remove)(id);\n\t\t\t}\n\t\t}\n\n\t\tfunction removeListener(tabId) {\n\t\t\tif (tabId !== id) return;\n\t\t\tstopListening();\n\t\t\treject(new Error('User cancelled or denied access.'));\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.tabs.onUpdated.removeListener(updateListener);\n\t\t\tchrome.tabs.onRemoved.removeListener(removeListener);\n\t\t}\n\n\t\tchrome.tabs.onUpdated.addListener(updateListener);\n\t\tchrome.tabs.onRemoved.addListener(removeListener);\n\t});\n}\n\nfunction emulateAuthFlowInBackground(url: string): Promise<string> {\n\t// Emulate noninteractive auth.\n\t// Fetch the auth page. If the user is preauthorized, we will 302\n\t// to the redirect URL. However, because the token is passed in the hash,\n\t// and fetch/XHR responses don't include the hash, we must use the\n\t// webRequest API to read the redirect URL.\n\treturn new Promise((resolve, reject) => {\n\t\tfunction headersListener({ redirectUrl }) {\n\t\t\tstopListening();\n\t\t\tresolve(redirectUrl);\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.webRequest.onBeforeRedirect.removeListener(headersListener);\n\t\t}\n\n\t\tchrome.webRequest.onBeforeRedirect.addListener(headersListener, { urls: [url] });\n\n\t\tfetch(url, { credentials: 'include' })\n\t\t\t.then(() => {\n\t\t\t\tstopListening();\n\t\t\t\treject(new Error('User interaction is required.'));\n\t\t\t}, e => {\n\t\t\t\tstopListening();\n\t\t\t\treject(new Error(`Authorization page could not be loaded: ${e.message}`));\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\t});\n}\n","/* @flow */\n\nimport { addListener } from './messaging';\n\naddListener('download', ({ url, filename }, { tab: { incognito } }) => {\n\tchrome.downloads.download({ url, filename, ...(process.env.BUILD_TARGET === 'chrome' ? {} : { incognito }) });\n});\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('addURLToHistory', url => {\n\tchrome.history.addUrl({ url });\n});\n\naddListener('isURLVisited', async url => {\n\tconst visits = await apiToPromise(chrome.history.getVisits)({ url });\n\treturn visits.length > 0;\n});\n","/* @flow */\n/* eslint-disable camelcase */\n\nimport de from './de';\nimport el from './el';\nimport en from './en';\nimport en_lolcat from './en@lolcat';\nimport en_pirate from './en@pirate';\nimport en_CA from './en_CA';\nimport en_GB from './en_GB';\nimport es from './es';\nimport es_419 from './es_419';\nimport he from './he';\nimport it from './it';\nimport nl_NL from './nl_NL';\nimport pl from './pl';\nimport pt from './pt';\nimport pt_BR from './pt_BR';\nimport pt_PT from './pt_PT';\n\nexport default {\n\tde,\n\tel,\n\ten,\n\ten_lolcat,\n\ten_pirate,\n\ten_CA,\n\ten_GB,\n\tes,\n\tes_419,\n\the,\n\tit,\n\tnl_NL,\n\tpl,\n\tpt,\n\tpt_BR,\n\tpt_PT,\n};\n","/* @flow */\n\nimport _ from 'lodash';\nimport locales from './locales';\n\n// `en-ca` -> `en_CA`\nfunction redditLocaleToTransifexLocale(redditLocale) {\n\tswitch (redditLocale) {\n\t\tcase 'leet':\n\t\t\treturn 'en'; // doesn't appear to exist\n\t\tcase 'lol':\n\t\t\treturn 'en_lolcat';\n\t\tcase 'pir':\n\t\t\treturn 'en_pirate';\n\t\tcase 'es-ar': // argentina\n\t\tcase 'es-cl': // chile\n\t\t\treturn 'es_419'; // latin america\n\t\tdefault: {\n\t\t\t// `es-ar` -> `es_ar`\n\t\t\tconst normalized = redditLocale.replace('-', '_');\n\t\t\tconst inx = normalized.indexOf('_');\n\t\t\tif (inx === -1) {\n\t\t\t\t// `zh` -> `zh`\n\t\t\t\treturn normalized;\n\t\t\t} else {\n\t\t\t\t// `en_au` -> `en_AU`\n\t\t\t\treturn `${normalized.slice(0, inx)}_${normalized.slice(inx + 1).toUpperCase()}`;\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function getLocaleDictionary(localeName: string): { [string]: string } {\n\tconst transifexLocale = redditLocaleToTransifexLocale(localeName);\n\n\tconst mergedLocales = {\n\t\t// 3. Default (en)\n\t\t...locales.en,\n\t\t// 2. Match without region (en_CA -> en)\n\t\t...locales[transifexLocale.slice(0, transifexLocale.indexOf('_'))],\n\t\t// 1. Exact match (en_CA -> en_CA)\n\t\t...locales[transifexLocale],\n\t};\n\n\treturn _.mapValues(mergedLocales, x => x.message);\n}\n","/* @flow */\n\nimport { getLocaleDictionary } from '../../../locales';\nimport { addListener } from './messaging';\n\naddListener('i18n', locale => getLocaleDictionary(locale));\n","/* @flow */\n\nimport { addListener } from './messaging';\n\nlet lastRedditLocale = navigator.language || 'en';\n\naddListener('getLastRedditLocale', () => lastRedditLocale);\naddListener('setLastRedditLocale', v => { lastRedditLocale = v; });\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener, sendMessage } from './messaging';\n\naddListener('multicast', async ({ name, args, crossContext }, sender) => {\n\t// Firefox has more than just (non)incognito, so we must limit to each cookieStoreId.\n\tconst CONTEXT_KEY = process.env.BUILD_TARGET === 'firefox' ? 'cookieStoreId' : 'incognito';\n\n\tconst redditTabs = await apiToPromise(chrome.tabs.query)({ url: 'https://*.reddit.com/*', status: 'complete' });\n\tconst nonSelfTabsInSameContext = redditTabs\n\t\t.filter(tab => (\n\t\t\t(sender.frameId || tab.id !== sender.tab.id) &&\n\t\t\t(crossContext || tab[CONTEXT_KEY] === sender.tab[CONTEXT_KEY])\n\t\t));\n\n\treturn Promise.all(nonSelfTabsInSameContext.map(({ id: tabId }) => sendMessage('multicast', { name, args }, tabId)));\n});\n","/* @flow */\n\nimport cssOff from '../../../images/css-off.png';\nimport cssOffSmall from '../../../images/css-off-small.png';\nimport cssOn from '../../../images/css-on.png';\nimport cssOnSmall from '../../../images/css-on-small.png';\nimport { addListener, sendMessage } from './messaging';\n\nchrome.pageAction.onClicked.addListener(tab => {\n\tsendMessage('pageActionClick', undefined, tab.id);\n});\n\naddListener('pageAction', ({ operation, state }, { tab }) => {\n\tswitch (operation) {\n\t\tcase 'show':\n\t\t\tchrome.pageAction.show(tab.id);\n\t\t\tchrome.pageAction.setIcon({\n\t\t\t\ttabId: tab.id,\n\t\t\t\tpath: { /* eslint-disable quote-props */\n\t\t\t\t\t'19': state ? cssOnSmall : cssOffSmall,\n\t\t\t\t\t'38': state ? cssOn : cssOff,\n\t\t\t\t},\n\t\t\t});\n\t\t\tchrome.pageAction.setTitle({\n\t\t\t\ttabId: tab.id,\n\t\t\t\ttitle: state ? 'Subreddit Style On' : 'Subreddit Style Off',\n\t\t\t});\n\t\t\tbreak;\n\t\tcase 'hide':\n\t\t\tchrome.pageAction.hide(tab.id);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid pageAction operation: ${operation}`);\n\t}\n});\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('permissions', handleMessage);\n\nexport function handleMessage({ operation, permissions, origins }: *) {\n\tswitch (operation) {\n\t\tcase 'contains':\n\t\t\treturn apiToPromise(chrome.permissions.contains)({ permissions, origins });\n\t\tcase 'request':\n\t\t\treturn apiToPromise(chrome.permissions.request)({ permissions, origins })\n\t\t\t\t.catch(e => {\n\t\t\t\t\tif (process.env.BUILD_TARGET === 'firefox') {\n\t\t\t\t\t\treturn makePromptWindow({ permissions, origins });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid permissions operation: ${operation}`);\n\t}\n}\n\nasync function makePromptWindow({ permissions, origins }) {\n\tconst url = new URL('prompt.html', location.origin);\n\turl.searchParams.set('permissions', JSON.stringify(permissions));\n\turl.searchParams.set('origins', JSON.stringify(origins));\n\n\tconst width = 630;\n\tconst height = 255;\n\t// Display popup on middle of screen\n\tconst left = Math.floor(screen.width / 2 - width / 2);\n\tconst top = Math.floor(screen.height / 2 - height / 2);\n\n\tconst { tabs: [{ id }] } = await apiToPromise(chrome.windows.create)({ url: url.href, type: 'popup', width, height, left, top });\n\n\treturn new Promise(resolve => {\n\t\tfunction updateListener(tabId, updates) {\n\t\t\tif (tabId !== id) return;\n\n\t\t\tconst url = updates.url && new URL(updates.url);\n\t\t\tif (url && url.searchParams.has('result')) {\n\t\t\t\tstopListening();\n\t\t\t\tconst result = url.searchParams.get('result');\n\t\t\t\tif (!result) return;\n\t\t\t\tresolve(JSON.parse(result));\n\t\t\t\tapiToPromise(chrome.tabs.remove)(id);\n\t\t\t}\n\t\t}\n\n\t\tfunction removeListener(tabId) {\n\t\t\tif (tabId !== id) return;\n\t\t\tstopListening();\n\t\t\tresolve(false);\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.tabs.onUpdated.removeListener(updateListener);\n\t\t\tchrome.tabs.onRemoved.removeListener(removeListener);\n\t\t}\n\n\t\tchrome.tabs.onUpdated.addListener(updateListener);\n\t\tchrome.tabs.onRemoved.addListener(removeListener);\n\t});\n}\n","/* @flow */\n\nimport { addListener } from './messaging';\n\nconst session = new Map();\naddListener('session', ([operation, key, value]) => {\n\tswitch (operation) {\n\t\tcase 'get':\n\t\t\treturn session.get(key);\n\t\tcase 'set':\n\t\t\tsession.set(key, value);\n\t\t\tbreak;\n\t\tcase 'delete':\n\t\t\treturn session.delete(key);\n\t\tcase 'has':\n\t\t\treturn session.has(key);\n\t\tcase 'clear':\n\t\t\treturn session.clear();\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid session operation: ${operation}`);\n\t}\n});\n","/* @flow */\n\nexport function* range(start: number, end: number): Iterable<number> {\n\tfor (let i = start; i < end; ++i) { // eslint-disable-line no-restricted-syntax\n\t\tyield i;\n\t}\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function zip<A>(a: Iterable<A>): Iterable<[A]>;\ndeclare function zip<A, B>(a: Iterable<A>, b: Iterable<B>): Iterable<[A, B]>;\ndeclare function zip<A, B, C>(a: Iterable<A>, b: Iterable<B>, c: Iterable<C>): Iterable<[A, B, C]>;\n/* eslint-enable no-unused-vars */\n\nexport function* zip(...iterables) {\n\tconst generators = iterables.map(it => it[Symbol.iterator]());\n\tlet results;\n\n\twhile ((results = generators.map(gen => gen.next())).some(r => !r.done)) {\n\t\tyield results.map(r => r.value);\n\t}\n}\n/* eslint-enable no-redeclare */\n","/* @flow */\n\nimport _ from 'lodash';\nimport { zip } from './generator';\n\nexport function waitFor<T>(callback: () => ?T, interval?: number = 1): Promise<T> {\n\treturn new Promise(resolve => {\n\t\t(function repeat() {\n\t\t\tconst val = callback();\n\t\t\tif (!val) {\n\t\t\t\tsetTimeout(repeat, interval);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresolve(val);\n\t\t})();\n\t});\n}\n\n/*\n Iterate through an array in chunks, executing a callback on each element.\n Each chunk is handled asynchronously from the others with a delay betwen each batch.\n This will change the timeout dynamically based on current screen performance in an effort\n to work as fast as possibly without blocking the screen.\n */\n\nexport const forEachChunked = (() => {\n\tconst framerate = 30;\n\tconst frameTime = 1000 / framerate;\n\n\tconst queues = [];\n\n\tconst run = frameThrottle(() => {\n\t\tconst start = performance.now();\n\t\tdo {\n\t\t\t_.remove(queues, ({ generator, callback, resolve, reject }): boolean | void => {\n\t\t\t\tconst { value, done } = generator.next();\n\n\t\t\t\tif (done) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tcallback(value);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (generator.return) generator.return();\n\t\t\t\t\treject(e);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// stop if there are no queues left\n\t\t\tif (!queues.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} while (performance.now() - start < frameTime);\n\t\trun();\n\t});\n\n\treturn _.curryRight(<T>(collection: Iterable<T>, callback: (x: T) => void) =>\n\t\tnew Promise((resolve, reject) => {\n\t\t\tconst iterable = (Symbol.iterator in collection) ? collection : Array.from(collection); // eslint-disable-line no-restricted-syntax\n\t\t\t// $FlowIssue https://github.com/facebook/flow/issues/1163, https://github.com/facebook/flow/issues/1015\n\t\t\tqueues.push({ generator: iterable[Symbol.iterator](), callback, resolve, reject });\n\t\t\trun();\n\t\t}),\n\t);\n})();\n\n/*\n * Will accumulate values until `size` elements are accumulated or `delay` milliseconds pass.\n * `callback` accepts an array of batched values and should return an array of results **in the same order**.\n * If it throws, all promises will be rejected with the same error.\n * If one of the results is an instance of `Error`, the corresponding promise will be rejected with that error.\n */\nexport function batch<T, V>(callback: (xs: T[]) => Promise<Iterable<Error | Promise<V> | V> | void> | void, { size = 100, delay = 50, flushBeforeUnload = false }: {| size?: number, delay?: number, flushBeforeUnload?: boolean |} = {}): (x: T) => Promise<V> {\n\tlet invoke;\n\n\tfunction* batchAccumulator() {\n\t\tconst entries = [];\n\t\tconst promises = [];\n\n\t\tfunction addPromise(): Promise<V> {\n\t\t\tif (entries.length) {\n\t\t\t\treturn new Promise((resolve, reject) => { promises.push({ resolve, reject }); });\n\t\t\t} else {\n\t\t\t\treturn (undefined: any); // dummy - never observed\n\t\t\t}\n\t\t}\n\n\t\tinvoke = _.once(async () => {\n\t\t\tstartNewBatch();\n\t\t\tif (!entries.length) return;\n\t\t\ttry {\n\t\t\t\tconst results = await callback(entries) || [];\n\t\t\t\tfor (const [{ resolve, reject }, result] of zip(promises, results)) {\n\t\t\t\t\tif (result instanceof Error) reject(result);\n\t\t\t\t\telse resolve(result);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tfor (const { reject } of promises) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst timeout = delay ? _.debounce(invoke, delay) : throttle(invoke);\n\n\t\twhile (entries.length < size) {\n\t\t\tconst entry = yield addPromise();\n\t\t\tif (entry === undefined) throw new Error('undefined passed into batch generator');\n\t\t\tentries.push(entry);\n\t\t\ttimeout();\n\t\t}\n\n\t\tconst lastPromise = addPromise();\n\t\tinvoke();\n\t\tyield lastPromise;\n\t}\n\n\tlet currentBatch;\n\n\tfunction startNewBatch() {\n\t\tcurrentBatch = batchAccumulator();\n\t\tcurrentBatch.next(); // prime the generator, so the first `.next(value)` isn't lost\n\t}\n\n\tstartNewBatch();\n\n\tif (flushBeforeUnload) window.addEventListener('beforeunload', () => { invoke(); }, true);\n\n\treturn entry => {\n\t\tconst { value } = currentBatch.next(entry);\n\t\tif (value === undefined) throw new Error('Batch generator was not replaced after completion');\n\t\treturn value;\n\t};\n}\n\nfunction always<T>(promise: Promise<T>, callback: (x: T) => Promise<void> | void): Promise<void> {\n\treturn promise.then(callback, callback);\n}\n\n// Like _asyncToGenerator, but calls back into the generator synchronously if the value is not a promise\n// unless you're certain that you need to avoid asynchronicity at all costs, just use an async function\nexport function fastAsync<A, B, C, D, E, F, G, R>(\n\tcallback: (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => Generator<any, R, any>,\n): (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => R | Promise<R> {\n\treturn function(...args) {\n\t\treturn (function next(generator, arg, throwing) {\n\t\t\tconst { value, done } = !throwing ? generator.next(arg) : generator.throw(arg);\n\n\t\t\tif (done) {\n\t\t\t\treturn value;\n\t\t\t} else if (!(value instanceof Promise)) {\n\t\t\t\treturn next(generator, value, false);\n\t\t\t} else {\n\t\t\t\treturn value.then(\n\t\t\t\t\tval => next(generator, val, false),\n\t\t\t\t\terr => next(generator, err, true),\n\t\t\t\t);\n\t\t\t}\n\t\t})(Reflect.apply(callback, this, args), undefined, false);\n\t};\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function asyncFlow<A1, A2, A3, A4, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | RB>\n\t(f1: F1): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<RA> | RB>\n\t(f1: F1, f2: F2): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, F, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<F> | F, F6: (f: F) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5, f6: F6): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\n\nexport function asyncFlow(firstFn, ...fns) {\n\treturn fastAsync(function*(...args) {\n\t\tlet accum = firstFn(...args);\n\t\tfor (const fn of fns) {\n\t\t\taccum = fn(yield accum);\n\t\t}\n\t\treturn accum;\n\t});\n}\n\n// once the promise has resolved, its value is available synchronously\n// intended for use with fastAsync\nexport function reifyPromise<T>(promise: Promise<T>): { get(): T | Promise<T> } {\n\tlet val = promise;\n\tpromise.then(x => { val = x; });\n\treturn { get: () => val };\n}\n\nexport function keyedMutex<V, T:(...args: any) => Promise<V> | V>(\n\tcallback: T,\n\tkeyResolver?: (...args: any) => mixed = x => x,\n): T {\n\tconst queues = new Map();\n\n\treturn (function(...args) {\n\t\tconst key = keyResolver(...args);\n\n\t\t// https://github.com/facebook/flow/issues/34\n\t\tconst tail = queues.has(key) ?\n\t\t\talways(queues.get(key) /*:: || Promise.resolve() */, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueues.set(key, tail);\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queues.get(key) === tail) queues.delete(key);\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\nexport function mutex<V, T:(...args: any) => Promise<V> | V>(callback: T): T {\n\tlet queue;\n\n\treturn (function(...args) {\n\t\tconst tail = queue ?\n\t\t\talways(queue, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueue = tail;\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queue === tail) queue = undefined;\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\n// `callback` is invoked when the micro task queue is emptied\n// returns a promise that resolves when callback resolves\nexport function throttle(callback: () => void | Promise<void>): () => Promise<void> {\n\tlet promise: ?Promise<*>;\n\n\treturn () => {\n\t\tpromise = promise || Promise.resolve().then(() => {\n\t\t\tpromise = null;\n\t\t\tcallback();\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n// Invokes callback after the returned function has not been invoked for `debounce` number of frames\nexport function frameDebounce(callback: () => any, debounce: number = 1): () => void {\n\tlet remaining: number;\n\n\tconst update = frameThrottle(() => {\n\t\tif (remaining) requestAnimationFrame(() => { update(); });\n\t\telse callback();\n\t\tremaining -= 1;\n\t});\n\n\treturn () => {\n\t\tremaining = debounce;\n\t\trequestAnimationFrame(() => { update(); });\n\t};\n}\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will invoke `callback` at most once per frame.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n */\nexport function frameThrottle<V>(callback: (...args: any) => V): (...args: any) => Promise<V> {\n\tlet args = [];\n\tlet promise;\n\n\treturn (...a) => {\n\t\targs = a;\n\t\tpromise = promise || new Promise((res, rej) => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tpromise = null;\n\t\t\t\ttry {\n\t\t\t\t\tres(callback(...args));\n\t\t\t\t} catch (e) {\n\t\t\t\t\trej(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n/*\n * Similar to throttle, but callbacks are ordered:\n * When the returned wrapper function is invoked, `callback` will be placed last in the execution queue\n */\nexport const throttleQueuePositionReset = (() => {\n\tlet queues = [];\n\n\tconst run = throttle(() => {\n\t\tfor (const fn of queues) {\n\t\t\ttry {\n\t\t\t\tfn();\n\t\t\t} catch (e) { /* empty */ }\n\t\t}\n\t\tqueues = [];\n\t});\n\n\treturn function(callback: () => void) {\n\t\tlet args = [];\n\t\tlet queued = false;\n\n\t\tfunction runCallback() {\n\t\t\tqueued = false;\n\t\t\tcallback();\n\t\t}\n\n\t\treturn (...a: Array<*>) => {\n\t\t\targs = a;\n\n\t\t\tif (queued) {\n\t\t\t\t_.pull(queues, callback);\n\t\t\t} else {\n\t\t\t\tqueued = true;\n\t\t\t}\n\n\t\t\tqueues.push(callback);\n\t\t\trun();\n\t\t};\n\t};\n})();\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will only invoke the latest `callback` in the next upcoming idle period.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n */\nexport function idleThrottle<V>(callback: (...args: any) => V): (...args: any) => Promise<V> {\n\tlet args = [];\n\tlet promise;\n\n\treturn (...a) => {\n\t\targs = a;\n\t\tpromise = promise || new Promise((res, rej) => {\n\t\t\trequestIdleCallback(() => {\n\t\t\t\tpromise = null;\n\t\t\t\ttry {\n\t\t\t\t\tres(callback(...args));\n\t\t\t\t} catch (e) {\n\t\t\t\t\trej(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t};\n}\n","/* @flow */\n\nimport { keyedMutex } from '../../utils/async';\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\nconst __set = apiToPromise((items, callback) => chrome.storage.local.set(items, callback));\nconst _set = (key, value) => __set({ [key]: value });\nconst __get = apiToPromise((keys, callback) => chrome.storage.local.get(keys, callback));\nconst _get = async (key, defaultValue = null) => (await __get({ [key]: defaultValue }))[key];\n\naddListener('storage-cas', keyedMutex(async ([key, defaultValue, oldValue, newValue]) => {\n\tconst storedValue = await _get(key, defaultValue);\n\tif (storedValue !== oldValue) return false;\n\tawait _set(key, newValue);\n\treturn true;\n}, ([key]) => key));\n","/* @flow */\n\nimport { addListener } from './messaging';\n\naddListener('openNewTabs', ({ urls, focusIndex }, { tab }) => {\n\turls.forEach((url, i) => {\n\t\tchrome.tabs.create({\n\t\t\turl,\n\t\t\tactive: i === focusIndex,\n\t\t\tindex: tab.index + 1 + i,\n\t\t\topenerTabId: tab.id,\n\t\t\t// Firefox needs cookieStoreId to open in correct container\n\t\t\t...(process.env.BUILD_TARGET === 'firefox' ? { cookieStoreId: tab.cookieStoreId } : {}),\n\t\t});\n\t});\n});\n\n","/* @flow */\n\nexport class LRUCache<K, V> {\n\tmap: Map<K, {\n\t\tvalue: V,\n\t\tcreateTime: number,\n\t\thitTime: number,\n\t}>;\n\n\tcapacity: number;\n\n\tconstructor(capacity: number) {\n\t\tthis.map = new Map();\n\t\tthis.capacity = capacity;\n\t}\n\n\tget(key: K, maxAge: number = Infinity): V | void {\n\t\tconst now = Date.now();\n\t\tconst entry = this.map.get(key);\n\t\tif (entry && (now - entry.createTime < maxAge)) {\n\t\t\tentry.hitTime = now;\n\t\t\treturn entry.value;\n\t\t}\n\t}\n\n\tset(key: K, value: V): this {\n\t\tconst now = Date.now();\n\t\tthis.map.set(key, { value, createTime: now, hitTime: now });\n\n\t\tif (this.map.size > this.capacity) {\n\t\t\t// Evict least-recently used (hit)\n\t\t\tArray.from(this.map.entries())\n\t\t\t\t.sort(([, a], [, b]) => b.hitTime - a.hitTime)\n\t\t\t\t.slice((this.capacity / 2) | 0)\n\t\t\t\t.forEach(([key]) => this.map.delete(key));\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tdelete(key: K): boolean {\n\t\treturn this.map.delete(key);\n\t}\n\n\tclear(): void {\n\t\tthis.map.clear();\n\t}\n}\n","/* @flow */\n\nimport { LRUCache } from '../../utils/Cache';\nimport { addListener } from './messaging';\n\nconst cache = new LRUCache(512);\naddListener('XHRCache', ([operation, key, value]) => {\n\tswitch (operation) {\n\t\tcase 'set':\n\t\t\tcache.set(key, value);\n\t\t\tbreak;\n\t\tcase 'check':\n\t\t\treturn cache.get(key, value);\n\t\tcase 'delete':\n\t\t\treturn cache.delete(key);\n\t\tcase 'clear':\n\t\t\treturn cache.clear();\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid XHRCache operation: ${operation}`);\n\t}\n});\n","/* generated by sibling-loader */\nimport * as _0 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/ajax.js\";\nimport * as _1 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/auth.js\";\nimport * as _2 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/download.js\";\nimport * as _3 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/history.js\";\nimport * as _4 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/i18n.js\";\nimport * as _5 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/localePersistor.js\";\nimport * as _6 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/messaging.js\";\nimport * as _7 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/multicast.js\";\nimport * as _8 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/pageAction.js\";\nimport * as _9 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/permissions.js\";\nimport * as _10 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/session.js\";\nimport * as _11 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/storage.js\";\nimport * as _12 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/tabs.js\";\nimport * as _13 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/xhrCache.js\";\nexport default { \"ajax.js\": _0, \"auth.js\": _1, \"download.js\": _2, \"history.js\": _3, \"i18n.js\": _4, \"localePersistor.js\": _5, \"messaging.js\": _6, \"multicast.js\": _7, \"pageAction.js\": _8, \"permissions.js\": _9, \"session.js\": _10, \"storage.js\": _11, \"tabs.js\": _12, \"xhrCache.js\": _13 };","/* @flow */\n\nexport const MINUTE = 1000 * 60;\nexport const HOUR = 60 * MINUTE;\nexport const DAY = 24 * HOUR;\nexport const WEEK = 7 * DAY;\n\nexport function fromSecondsToTime(timeInSeconds: number) {\n\tconst seconds = timeInSeconds % 60;\n\tconst minutes = Math.floor(timeInSeconds / 60) % 60;\n\tconst hours = Math.floor(timeInSeconds / 3600);\n\n\tconst time = [minutes, seconds];\n\tif (hours > 0) {\n\t\ttime.unshift(hours);\n\t}\n\n\treturn time.map(part => String(part).padStart(2, '0')).join(':');\n}\n","/* @flow */\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function downcast<From, To: From>(val: From, ty: Class<To>): To;\ndeclare function downcast(val: mixed, ty: 'boolean'): boolean;\ndeclare function downcast(val: mixed, ty: 'number'): number;\ndeclare function downcast(val: mixed, ty: 'string'): string;\n/* eslint-enable no-unused-vars */\n\nexport function downcast(val, ty) {\n\tif (\n\t\t// only perform the check in dev mode, but hide this from Flow\n\t\t/*:: ` */ process.env.NODE_ENV !== 'development' || /*:: ` && */\n\t\t(typeof ty === 'string' ? typeof val === ty : val instanceof ty) // eslint-disable-line valid-typeof\n\t) {\n\t\treturn val;\n\t}\n\n\tthrow new TypeError(`Expected ${val} to be instance of ${ty}.`);\n}\n/* eslint-enable no-redeclare */\n","/* @flow */\n\nimport _ from 'lodash';\nimport { downcast } from './flow';\n\nexport function waitForEvent(ele: EventTarget, ...events: string[]): Promise<Event> {\n\treturn Promise.race(events.map(event =>\n\t\tnew Promise(resolve => ele.addEventListener(event, function fire(e) {\n\t\t\tele.removeEventListener(event, fire);\n\t\t\tresolve(e);\n\t\t})),\n\t));\n}\n\nexport function waitForChild(ele: Element, selector: string): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst child = Array.from(ele.children).find(child => child.matches(selector));\n\t\tif (child) {\n\t\t\tresolve(child);\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE && (node: any).matches(selector)) {\n\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\tresolve(downcast(node, HTMLElement));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true });\n\t});\n}\n\nexport function watchForChildren(ele: Element, selector: string, callback: (ele: HTMLElement) => any): void {\n\tfor (const child of Array.from(ele.children).filter(child => child.matches(selector))) {\n\t\tcallback(child);\n\t}\n\n\twatchForFutureChildren(ele, selector, callback);\n}\n\nexport function watchForFutureChildren(ele: Element, selector: string, callback: (ele: HTMLElement) => any): void {\n\tnew MutationObserver(mutations => {\n\t\tfor (const mutation of mutations) {\n\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE && (node: any).matches(selector)) {\n\t\t\t\t\tcallback(downcast(node, HTMLElement));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}).observe(ele, { childList: true });\n}\n\nexport function waitForDescendant(ele: Element, selector: string): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst child = ele.querySelector(selector);\n\t\tif (child) {\n\t\t\tresolve(child);\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\t// the desired node may a descendant of an added node,\n\t\t\t\t\t\t// so scanning through addedNodes is not sufficient\n\t\t\t\t\t\tconst child = ele.querySelector(selector);\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t\tresolve(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// stop iteration now, since we've already run querySelector over all children\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true, subtree: true });\n\t});\n}\n\nexport function waitForFutureDescendant(ele: Element, selector: string, { added = false, removed = false }: {| added?: boolean, removed?: boolean |} = { added: true, removed: false }): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of [...(added ? mutation.addedNodes : []), ...(removed ? mutation.removedNodes : [])]) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\t// the desired node may a descendant of an added node,\n\t\t\t\t\t\t// so scanning through addedNodes is not sufficient\n\t\t\t\t\t\tconst child = ele.querySelector(selector);\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t\tresolve(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// stop iteration now, since we've already run querySelector over all children\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true, subtree: true });\n\t});\n}\n\nexport function waitForAttach(parent: HTMLElement, el: HTMLElement, cancel?: Promise<*>): Promise<void> {\n\tif (parent.contains(el)) return Promise.resolve();\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (parent.contains(el)) resolve();\n\t\t});\n\n\t\tobserver.observe(parent, { subtree: true, childList: true });\n\t\tif (cancel) cancel.then(() => { observer.disconnect(); reject(new Error('Canceled')); });\n\t});\n}\n\nexport function waitForDetach(el: HTMLElement, cancel?: Promise<*>): Promise<void> {\n\t// Use `document.documentElement` as parent since using other closer element may not detect removal\n\tconst parent = document.documentElement;\n\n\tif (!parent.contains(el)) return Promise.resolve();\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (!parent.contains(el)) resolve();\n\t\t});\n\n\t\tobserver.observe(parent, { subtree: true, childList: true });\n\t\tif (cancel) cancel.then(() => { observer.disconnect(); reject(new Error('Canceled')); });\n\t});\n}\n\nexport function watchForDescendants(ele: Element, selector: string, callback: (ele: HTMLElement) => any, ignoreChildrenIfAddedNodeMatches: boolean = false): void {\n\tfor (const child of ele.querySelectorAll(selector)) {\n\t\tcallback(child);\n\t}\n\n\twatchForFutureDescendants(ele, selector, callback, ignoreChildrenIfAddedNodeMatches);\n}\n\nexport function watchForFutureDescendants(ele: Element, selector: string, callback: (ele: HTMLElement) => any, ignoreChildrenIfAddedNodeMatches: boolean = false): void {\n\tnew MutationObserver(mutations => {\n\t\t// avoid calling the callback twice if streamed-in children match the same selectors as their parents\n\t\t// i.e. nested comments that are rendered at pageload\n\t\tconst children = new Set();\n\t\tfor (const mutation of mutations) {\n\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t// the node itself may match...\n\t\t\t\t\tif ((node: any).matches(selector)) {\n\t\t\t\t\t\tchildren.add(node);\n\t\t\t\t\t\tif (ignoreChildrenIfAddedNodeMatches) continue;\n\t\t\t\t\t}\n\t\t\t\t\t// ...or some of its children may match\n\t\t\t\t\tfor (const child of (node: any).querySelectorAll(selector)) {\n\t\t\t\t\t\tchildren.add(child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const child of children) {\n\t\t\tcallback(downcast(child, HTMLElement));\n\t\t}\n\t}).observe(ele, { childList: true, subtree: true });\n}\n\nexport function empty<T: Element>(parent: T): T {\n\twhile (parent.lastChild) parent.removeChild(parent.lastChild);\n\treturn parent;\n}\n\nexport function click(obj: EventTarget, button: number = 0): void {\n\tobj.dispatchEvent(new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tdetail: 0,\n\t\tscreenX: 1,\n\t\tscreenY: 1,\n\t\tclientX: 1,\n\t\tclientY: 1,\n\t\tbutton,\n\t}));\n}\n\nclick.isProgrammaticEvent = (e: MouseEvent): boolean => e.clientX === 1 && e.clientY === 1;\n\nexport const getViewportSize = _.memoize((): { width: number, height: number } => {\n\twaitForEvent(window, 'resize').then(() => { getViewportSize.cache.clear(); });\n\n\tlet visualViewport;\n\n\tif (window.visualViewport) {\n\t\tvisualViewport = window.visualViewport;\n\t} else {\n\t\tconst viewportSizedElement = document.createElement('div');\n\t\tviewportSizedElement.style.width = viewportSizedElement.style.height = '100%';\n\t\tviewportSizedElement.style.position = 'fixed';\n\t\tdocument.body.appendChild(viewportSizedElement);\n\t\tvisualViewport = viewportSizedElement.getBoundingClientRect();\n\n\t\t// Try less accurate method in case this didn't work (workaround for potensial Firefox issue)\n\t\tif (!visualViewport.height || !visualViewport.width) {\n\t\t\tvisualViewport = document.documentElement.getBoundingClientRect();\n\t\t}\n\n\t\tviewportSizedElement.remove();\n\t}\n\n\treturn _.pick(visualViewport, ['height', 'width']);\n});\n\nexport function elementInViewport(ele: HTMLElement): boolean {\n\tif (!ele || !ele.offsetParent) return false;\n\n\tconst { top, left, bottom, right } = ele.getBoundingClientRect();\n\n\treturn (\n\t\ttop >= 0 &&\n\t\tleft >= 0 &&\n\t\tbottom <= getViewportSize().height &&\n\t\tright <= getViewportSize().width\n\t);\n}\n\nfunction getViewportDimensions() {\n\tconst headerOffset = getHeaderOffset();\n\tconst left = window.pageXOffset;\n\tconst top = window.pageYOffset + headerOffset;\n\tconst width = getViewportSize().width;\n\tconst height = getViewportSize().height - headerOffset;\n\n\treturn {\n\t\tyOffset: headerOffset,\n\t\tleft,\n\t\ttop,\n\t\tbottom: top + height,\n\t\tright: left + width,\n\t\twidth,\n\t\theight,\n\t};\n}\n\n// Returns percentage of the element that is within the viewport along the y-axis\n// Note that it doesn't matter where the element is on the x-axis, it can be totally invisible to the user\n// and this function might still return 1!\nexport function getPercentageVisibleYAxis(obj: Element): number {\n\tconst rect = obj.getBoundingClientRect();\n\tconst top = Math.max(0, rect.bottom - rect.height);\n\tconst bottom = Math.min(getViewportSize().height, rect.bottom);\n\tif (rect.height === 0) {\n\t\treturn 0;\n\t}\n\treturn Math.max(0, (bottom - top) / rect.height);\n}\n\nconst padBottom = _.once(() => {\n\tconst element = document.createElement('div');\n\telement.style.clear = 'both';\n\tconst extraPadding = 50; // In case the body's height reduces\n\treturn (scrollTop, viewportHeight) => {\n\t\tconst currentPadding = element.clientHeight;\n\t\tconst paddingRequired = extraPadding +\n\t\t\t-(document.documentElement.scrollHeight - scrollTop - viewportHeight - currentPadding);\n\t\tif (paddingRequired > 0) document.body.append(element);\n\t\telse element.remove();\n\t\telement.style.height = `${paddingRequired}px`;\n\t};\n});\n\nlet recentScroll = false;\nlet scrollInvokationToken;\n\nexport type ScrollStyle = 'none' | 'top' | 'adopt' | 'middle' | 'page' | 'legacy' | 'directional';\ntype Direction = 'up' | 'down';\ntype Anchor = {| to: number, from?: number |};\n\nexport function scrollToElement(to: HTMLElement, from: ?HTMLElement, {\n\tscrollStyle,\n\trestrictDirectionTo,\n\tdirection: selectedDirection,\n\tanchor,\n\twaitTillVisible,\n}: {|\n\tscrollStyle: ScrollStyle,\n\trestrictDirectionTo?: Direction,\n\tdirection?: Direction,\n\tanchor?: Anchor,\n\twaitTillVisible?: boolean,\n|}): void | Promise<void> {\n\tconst _scrollInvokationToken = scrollInvokationToken = {}; // Unique object in order to check whether invokation with `waitTillVisible` has been superseded\n\n\tif (waitTillVisible && !to.offsetParent) {\n\t\t// Try again next frame\n\t\treturn new Promise(res => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tif (scrollInvokationToken !== _scrollInvokationToken) return;\n\t\t\t\t(scrollToElement(...arguments) || Promise.resolve()).then(res); // eslint-disable-line prefer-rest-params\n\t\t\t});\n\t\t});\n\t}\n\n\tif (scrollStyle === 'none' && !anchor) {\n\t\treturn;\n\t}\n\n\tif (!to.offsetParent) {\n\t\tconsole.error('Element is not visible.');\n\t\treturn;\n\t}\n\n\tif (scrollStyle === 'none' && anchor) {\n\t\tconst diff = to.getBoundingClientRect().top - anchor.to;\n\t\tif (diff) window.scrollBy(0, diff);\n\t}\n\n\tconst viewport = getViewportDimensions();\n\n\tconst target = _.assignIn({}, to.getBoundingClientRect()); // top, right, bottom, left are relative to viewport\n\ttarget.top -= viewport.yOffset;\n\ttarget.bottom -= viewport.yOffset;\n\n\tconst top = viewport.top + target.top - 5; /* offset */\n\n\tif (scrollStyle === 'middle' && target.height >= viewport.height) {\n\t\tscrollStyle = 'top';\n\t}\n\n\tlet compensateHeader = true;\n\tlet scrollY;\n\n\tif (scrollStyle === 'top') {\n\t\t// Always scroll element to top of page; pad bottom if necessary\n\t\tpadBottom()(top, viewport.height);\n\t\tscrollY = top;\n\t} else if (from && scrollStyle === 'adopt') {\n\t\t// Replace the viewport position of `from` with `element`\n\t\tconst fromTop = anchor && typeof anchor.from === 'number' ?\n\t\t\tanchor.from :\n\t\t\tfrom.getBoundingClientRect().top;\n\t\tlet diff = to.getBoundingClientRect().top - fromTop;\n\n\t\tif (fromTop < 0) {\n\t\t\t// Compensate to show top when it is above viewport\n\t\t\tdiff += fromTop;\n\t\t} else if (fromTop > viewport.height - 60) {\n\t\t\t// Always show at minimum the top 60px of the element\n\t\t\tdiff += fromTop - viewport.height + 60;\n\t\t}\n\n\t\tscrollY = window.scrollY + diff;\n\t\tcompensateHeader = false;\n\t} else if (scrollStyle === 'middle') {\n\t\tconst buffer = (viewport.height - target.height) / 2;\n\t\tconst newScrollY = top - buffer;\n\n\t\tif (elementInViewport(to)) {\n\t\t\tconst viewportDirection = newScrollY >= window.scrollY ? 'down' : 'up';\n\t\t\t// Having these go in opposite directions is jarring\n\t\t\tif (viewportDirection !== selectedDirection) return;\n\t\t}\n\n\t\tscrollY = newScrollY;\n\t} else if (target.top >= 0 && target.bottom <= viewport.height) {\n\t\t// Element is already completely inside viewport\n\t\t// (remember, top and bottom are relative to viewport)\n\t\t// do nothing\n\t} else if (scrollStyle === 'legacy') {\n\t\t// Element not completely in viewport, so scroll to top\n\t\tscrollY = top;\n\t} else if (target.top < viewport.yOffset) {\n\t\t// Element starts above viewport\n\t\t// So, align top of element to top of viewport\n\t\tscrollY = top;\n\t} else if (viewport.height < target.bottom &&\n\t\ttarget.height < viewport.height) {\n\t\t// Visible part of element starts or extends below viewport\n\t\tif (scrollStyle === 'page') {\n\t\t\tscrollY = top;\n\t\t} else {\n\t\t\t// So, align bottom of target to bottom of viewport\n\t\t\tscrollY = viewport.top + target.bottom - viewport.height;\n\t\t}\n\t} else {\n\t\t// Visible part of element below the viewport but it'll fill the viewport, or fallback\n\t\t// So, align top of element to top of viewport\n\t\tscrollY = top;\n\t}\n\n\tif (scrollY !== undefined) {\n\t\tif (compensateHeader) scrollY -= getHeaderOffset();\n\t\tconst scollDirection = scrollY > viewport.top ? 'down' : 'up';\n\t\tif (viewport.top === scrollY || (restrictDirectionTo && restrictDirectionTo !== scollDirection)) return;\n\t\twindow.scrollTo(0, scrollY);\n\t\trecentScroll = true;\n\t\twaitForEvent(window, 'scroll').then(() => { recentScroll = false; });\n\t}\n}\n\nscrollToElement.isProgrammaticEvent = (): boolean => recentScroll;\n\nconst headerIds = { fullWidth: [], partialWidth: [] };\n\nexport function _addHeaderId(elementId: string, partialWidth: boolean = false) {\n\theaderIds[partialWidth ? 'partialWidth' : 'fullWidth'].push(elementId);\n}\n\nexport const getHeaderOffset = _.memoize((includePartialWidthHeaders?: boolean = false): number => {\n\tconst headers = [\n\t\t...headerIds.fullWidth,\n\t\t...(includePartialWidthHeaders ? headerIds.partialWidth : []),\n\t];\n\n\treturn headers\n\t\t.map(id => document.getElementById(id))\n\t\t.reduce((a, b) => a + b.getBoundingClientRect().height, 0);\n});\n\nexport const getD2xBodyOffset = _.memoize(() => {\n\ttry {\n\t\treturn document.getElementById('2x-container').offsetTop;\n\t} catch (e) {\n\t\treturn 65;\n\t}\n});\n\nexport function addCSS(css: string) {\n\tlet style = addStyle(css);\n\treturn {\n\t\tremove() {\n\t\t\tif (!style) return;\n\t\t\tstyle.remove();\n\t\t\tstyle.textContent = '';\n\t\t\tstyle = undefined;\n\t\t},\n\t};\n}\n\nfunction addStyle(css) {\n\tconst style = document.createElement('style');\n\tstyle.textContent = css;\n\n\t(document.head || document.documentElement).appendChild(style);\n\n\treturn style;\n}\n\n// r2 Reddit clone certain elements, e.g. when replying or editing a post\n// This will remove elements that have a specific attribute, but have not been registered\nexport const preventCloning = (() => {\n\t// Prevent breaking ava test\n\tif (typeof window === 'undefined') return (e: *) => e;\n\n\tconst attribute = `res-prevent-cloning-${Date.now()}`; // Prevent the attribute being used in a selector\n\tconst elements = new WeakSet();\n\n\t// Delay adding the observer a little, to not slow down init\n\twaitForEvent(window, 'DOMContentLoaded', 'load').then(() => {\n\t\twatchForFutureDescendants(document.body, `[${attribute}]`, e => {\n\t\t\tif (!elements.has(e)) e.remove();\n\t\t});\n\t});\n\n\treturn (element: HTMLElement) => {\n\t\telement.setAttribute(attribute, '');\n\t\telements.add(element);\n\t\treturn element;\n\t};\n})();\n","/* @flow */\n\nimport _ from 'lodash';\nimport { waitForEvent } from './dom';\n\nexport function matchesPageLocation(includes: Array<PageType | AppType | RegExp>, excludes: Array<PageType | AppType | RegExp> = []): boolean {\n\tconst [includeStrings, includeRegExps]: any = _.partition(includes, (x: string | RegExp): boolean => typeof x === 'string');\n\tconst [excludeStrings, excludeRegExps]: any = _.partition(excludes, (x: string | RegExp): boolean => typeof x === 'string');\n\n\treturn (\n\t\t!excludes.length ||\n\t\t!(isPageType(...excludeStrings) || isAppType(...excludeStrings) || matchesPageRegex(...excludeRegExps))\n\t) && (\n\t\t!includes.length ||\n\t\t(isPageType(...includeStrings) || isAppType(...includeStrings) || matchesPageRegex(...includeRegExps))\n\t);\n}\n\n/* eslint-disable key-spacing */\nexport const regexes: { [string]: RegExp } = {\n\tfrontpage:        /^\\/(?:hot|new|rising|controversial|top)?(?:\\/|$)/i,\n\tcomments:         /^\\/(?:r\\/([\\w\\.]+)\\/|(u(?:ser)?\\/[\\w-]+)\\/)?comments\\/([a-z0-9]+)(?:\\/|$)/i,\n\tcommentsLinklist: /^\\/(r\\/[\\w\\.\\+]+\\/|u(?:ser)?\\/[\\w-]+\\/)?comments\\/?$/i,\n\tinbox:            /^\\/(?:r\\/([\\w\\.]+)\\/)?message(?:\\/|$)/i,\n\tprofile:          /^\\/user\\/([\\w\\-]+)(?:\\/(?:(?!m\\/)(\\w+)))?\\/?$/i,\n\tprofile2x:        /^\\/user\\/([\\w\\-]+)(?:\\/(?:(?!m\\/)(\\w+)))?\\/?$/i,\n\tprofileCommentsPage: /^\\/user\\/([\\w\\-]+)\\/comments\\/([a-z0-9]+)(?:\\/|$)/i,\n\tsubmit:           /^\\/(?:r\\/([\\w\\.\\+]+)\\/)?submit(?:\\/|$)/i,\n\tprefs:            /^\\/prefs(?:\\/|$)/i,\n\taccount:          /^\\/account-activity(?:\\/|$)/i,\n\twiki:             /^\\/(?:r\\/([\\w\\.]+)\\/)?wiki(?:\\/|$)/i,\n\tstylesheet:       /^\\/(?:r\\/([\\w\\.]+)\\/)about\\/stylesheet(?:\\/|$)/i,\n\tsearch:           /^\\/(?:r\\/[\\w\\.\\+]+\\/|(?:me|user\\/[\\w\\-]+)\\/[mf]\\/[\\w\\.\\+]+\\/|domain\\/[^\\/]+\\/)?search(?:\\/|$)/i,\n\tcommentPermalink: /^\\/(?:r\\/([\\w\\.]+)\\/)?comments\\/([a-z0-9]+)\\/[^\\/]*\\/([a-z0-9]+)(?:\\/|$)/i,\n\tduplicates:       /^\\/r\\/[\\w\\.\\+]+\\/duplicates\\/([a-z0-9]+)/i,\n\tsubreddit:        /^\\/r\\/([\\w\\.\\+]+)(?:\\/|$)/i,\n\tsubredditAbout:   /^\\/r\\/([\\w\\.]+)\\/about(?:\\/(?!modqueue|reports|spam|unmoderated|edited)|$)/i,\n\tmodqueue:         /^\\/(?:r|me\\/f)\\/([\\w\\.\\+]+)\\/about\\/(?:modqueue|reports|spam|unmoderated|edited)(?:\\/|$)/i,\n\tmultireddit:      /^\\/((?:me|user\\/[\\w\\-]+)\\/[mf]\\/[\\w\\.\\+]+)(?:\\/|$)/i,\n\tdomain:           /^\\/domain\\/([\\w\\.]+)(?:\\/|$)/i,\n\tcomposeMessage:   /^\\/(?:r\\/([\\w\\.\\+]+)\\/)?message\\/compose(?:\\/|$)/i,\n\tliveThread:       /^\\/live\\/(?!create(?:\\/|$))([a-z0-9]+)(?:\\/|$)/i,\n};\n/* eslint-enable key-spacing */\n\nexport const execRegexes: { [string]: (path: string) => ?string[] } = {\n\tcomments: path => {\n\t\tconst match = regexes.comments.exec(path);\n\t\tif (!match) return match;\n\t\tmatch.splice(1, 2, match[1] || match[2] && match[2].replace(/^u.*\\//, 'u_'));\n\t\treturn match;\n\t},\n};\n\nexport type PageType = 'wiki' | 'search' | 'profile' | 'profile2x' | 'profileCommentsPage' | 'stylesheet' | 'modqueue' | 'subredditAbout' | 'comments' | 'commentsLinklist' | 'liveThread' | 'inbox' | 'submit' | 'account' | 'prefs' | 'linklist';\nexport type AppType = 'r2' | 'd2x' | 'options';\n\nexport const appType = _.once((): AppType => {\n\tif (document.documentElement.hasAttribute('res-options')) {\n\t\treturn 'options';\n\t}\n\tif (document.documentElement.getAttribute('xmlns')) {\n\t\treturn 'r2';\n\t}\n\treturn 'd2x';\n});\n\nexport function isAppType(...types: AppType[]): boolean {\n\tconst thisApp = appType();\n\treturn types.some(type => type === thisApp);\n}\n\nconst appPageTypes: { [AppType]: {| default?: PageType, pageTypes: PageType[] |} } = {\n\tr2: {\n\t\tdefault: 'linklist',\n\t\tpageTypes: ['wiki', 'search', 'stylesheet', 'modqueue', 'subredditAbout', 'comments', 'commentsLinklist', 'profile', 'liveThread', 'inbox', 'submit', 'account', 'prefs'],\n\t},\n\td2x: {\n\t\tpageTypes: ['profile2x', 'profileCommentsPage', 'submit'],\n\t},\n\toptions: {\n\t\tpageTypes: [],\n\t},\n};\n\nexport const pageType = _.memoize((): ?PageType => {\n\twaitForEvent(document, 'reddit.urlChanged').then(() => {\n\t\tpageType.cache.clear();\n\t});\n\tconst spec = appPageTypes[appType()];\n\treturn spec.pageTypes.find(pageType => regexes[pageType].test(location.pathname)) || spec.default;\n});\n\nexport function isPageType(...types: PageType[]): boolean {\n\tconst thisPage = pageType();\n\treturn types.some(type => type === thisPage);\n}\n\nexport function matchesPageRegex(...regexps: RegExp[]): boolean {\n\treturn regexps.some(regex => regex.test(location.pathname));\n}\n\nexport const currentSubreddit = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.subreddit);\n\tif (match) return match[1];\n});\n\nexport function isCurrentSubreddit(...subreddits: string[]): boolean {\n\tconst sub = (currentSubreddit() || '').toLowerCase();\n\tif (!sub) return false;\n\treturn subreddits.some(v => v.toLowerCase() === sub);\n}\n\nexport const currentMultireddit = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.multireddit);\n\tif (match) return match[1];\n});\n\nexport function isCurrentMultireddit(...multireddits: string[]): boolean {\n\tconst multi = (currentMultireddit() || '').toLowerCase();\n\tif (!multi) return false;\n\treturn multireddits.some(v => v.toLowerCase() === multi);\n}\n\nexport const currentDomain = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.domain);\n\tif (match) return match[1];\n});\n\nexport const currentUserProfile = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.profile);\n\tif (match) return match[1];\n});\n\nexport const fullLocation = (pathname: string = location.pathname) => {\n\tconst regex = Object.keys(regexes).find(key => pathname.match(regexes[key]));\n\tif (!regex) return pathname.toLowerCase();\n\n\t// examples: domain-youtube.com, user-gueor, subreddit-enhancement+resissues\n\treturn [\n\t\tregex,\n\t\t...(pathname.match(regexes[regex]) || []).slice(1), // ignore matched string\n\t]\n\t\t.filter(v => v)\n\t\t.join('-')\n\t\t.toLowerCase();\n};\n\n// A link is a comment code if all these conditions are true:\n// * It has no content (i.e. content.length === 0)\n// * Its href is of the form \"/code\" or \"#code\"\n//\n// In case it's not clear, here is a list of some common comment\n// codes on a specific subreddit:\n// https://www.reddit.com/r/metarage/comments/p3eqe/full_updated_list_of_comment_faces_wcodes/\n// also for CSS hacks to do special formatting, like /r/CSSlibrary\n\nconst COMMENT_CODE_REGEX = /^[\\/#].+$/;\n\nexport function isCommentCode(link: HTMLAnchorElement): boolean {\n\t// don't add annotations for hidden links - these are used as CSS\n\t// hacks on subreddits to do special formatting, etc.\n\n\t// Note that link.href will return the full href (which includes the\n\t// reddit.com domain). We don't want that.\n\tconst href = link.getAttribute('href');\n\n\tconst emptyText = link.textContent.length === 0;\n\tconst isCommentCode = COMMENT_CODE_REGEX.test(href);\n\n\treturn emptyText && isCommentCode;\n}\n\nexport function isEmptyLink(link: HTMLAnchorElement): boolean {\n\t// Note that link.href will return the full href (which includes the\n\t// reddit.com domain). We don't want that.\n\tconst href = link.getAttribute('href');\n\treturn typeof href !== 'string' || href.startsWith('javascript:') || href === '#'; // eslint-disable-line no-script-url\n}\n\nexport const inQuarantinedSubreddit = _.once(() => document.body.classList.contains('quarantine'));\n","/* @flow */\n\nconst escapeLookups = {\n\t'&': '&amp;',\n\t'\"': '&quot;',\n\t\"'\": '&apos;', // eslint-disable-line quotes\n\t'<': '&lt;',\n\t'>': '&gt;',\n\t'/': '&#47;',\n};\n\nexport function escapeHTML(str: ?string): string {\n\treturn str ?\n\t\tstr.toString().replace(/[&\"'<>\\/]/g, m => escapeLookups[m]) :\n\t\t'';\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { flow } from 'lodash/fp';\nimport levenshtein from 'fast-levenshtein';\nimport { downcast } from './flow';\nimport { escapeHTML } from './html';\nimport type { Iteratee } from './array';\n\ntype StringTagFunction<V, Out> = (s: string[], ...values: V[]) => Out;\n\nfunction stringTagFunction<T>(valueTransform: Iteratee<T, string | void>): StringTagFunction<T, string> {\n\treturn (strings, ...values) =>\n\t\t_.zipWith(\n\t\t\tstrings,\n\t\t\tvalues.map(valueTransform),\n\t\t\t(s, v) => `${s}${v === undefined ? '' : v}`,\n\t\t).join('');\n}\n\nexport const encode: StringTagFunction<string, string> = stringTagFunction(encodeURIComponent);\n\nexport const escape: StringTagFunction<string, string> = stringTagFunction(escapeHTML);\n\ntype OpaqueSafeString = {| __safe__: string |};\n\nexport function safe(str: string): OpaqueSafeString {\n\treturn { __safe__: str };\n}\n\nconst MAX_DISTANCE_RATIO = 0.05;\n\nexport function areSimilar(a: string, b: string): boolean {\n\treturn levenshtein.get(a, b) <= MAX_DISTANCE_RATIO * Math.max(a.length, b.length);\n}\n\nexport const regexRegex = /^\\/(.*)\\/([gimu]+)?$/;\n\nconst htmlTagFunction: StringTagFunction<?false | string | number | OpaqueSafeString | OpaqueSafeString[], string> = stringTagFunction(x => {\n\t// avoid treating 0 as falsy and rendering nothing\n\tif (typeof x === 'number') return String(x);\n\t// falsy values not rendered\n\tif (!x) return '';\n\t// bare strings/numbers are escaped\n\tif (typeof x === 'string') return escapeHTML(x);\n\t// arrays of safe strings\n\tif (Array.isArray(x)) return x.filter(s => s && typeof s.__safe__ === 'string').map(s => s.__safe__).join('');\n\t// safe strings\n\tif (x.hasOwnProperty('__safe__')) return x.__safe__;\n\tthrow new TypeError(`Invalid html template interpolation: ${String(x)}`);\n});\n\n/**\n * Intended for mustache-like HTML templates:\n * - falsy values are not rendered\n * - arrays are joined with the empty string\n * - strings are html-escaped, single element string tuples are not\n */\nexport const html = flow(\n\thtmlTagFunction,\n\tmarkup => {\n\t\t// <template> elements allow out-of-place elements e.g. <tr> without a <table>\n\t\t// but they cause weird issues in Firefox (#4222), and it's unlikely that you'll need\n\t\t// to use <tr>, except embedded in another template with string._html`<tr>...</tr>`,\n\t\t// which doesn't have this limitation.\n\t\tconst template = document.createElement('div');\n\t\ttemplate.innerHTML = markup;\n\t\tif (template.childElementCount !== 1) {\n\t\t\tthrow new Error(`Html template should have exactly one root node, but had ${template.childElementCount}`);\n\t\t}\n\t\tconst child = downcast(template.firstElementChild, HTMLElement);\n\t\tchild.remove();\n\t\treturn child;\n\t},\n);\n\n/**\n * Intended for nested arrays or optional values in HTML templates.\n */\nexport const _html = flow(\n\thtmlTagFunction,\n\tsafe,\n);\n","/* @flow */\n\nimport _ from 'lodash';\nimport { ajax } from '../environment';\nimport type { CurrentRedditUser, RedditAccount } from '../types/reddit';\nimport { MINUTE } from './time';\nimport { isAppType, regexes } from './location';\nimport * as string from './string';\n\nexport const isLoggedIn = _.once(() => {\n\tif (loggedInUser()) {\n\t\treturn true;\n\t} else if (document.querySelector('header a[href^=\"/message/inbox\"]')) {\n\t\treturn true;\n\t}\n});\n\nexport const loggedInUser = _.once((): string | void => documentLoggedInUser(document));\n\nexport const documentLoggedInUser = (document: Document | Element): string | void => {\n\tif (isAppType('d2x')) {\n\t\t// The first text node in the user button contains the username\n\t\tconst findFirstTextNode = e => [...e.childNodes].filter(v => v.nodeType === 3).concat(...[...e.children].map(findFirstTextNode));\n\t\tconst button = document.querySelector('#USER_DROPDOWN_ID > *');\n\t\tconst username = button && findFirstTextNode(button)[0];\n\t\treturn username && username.textContent;\n\t}\n\n\tconst link: ?HTMLAnchorElement = (document.querySelector('#header-bottom-right > span.user > a'): any);\n\tif (!link || link.classList.contains('login-required')) return;\n\tconst profile = regexes.profile.exec(link.pathname);\n\tif (profile) {\n\t\treturn profile[1];\n\t}\n};\n\nexport const isModeratorAnywhere = _.once((): boolean => !!document.getElementById('modmail'));\n\nexport const loggedInUserHash = _.once(async (): Promise<?string> => {\n\tconst hashEle = document.querySelector('[name=uh]');\n\tif (hashEle instanceof HTMLInputElement) {\n\t\treturn hashEle.value;\n\t}\n\n\tconst userInfo = await loggedInUserInfo();\n\treturn userInfo && userInfo.data && userInfo.data.modhash;\n});\n\nexport const loggedInUserInfo = _.once((): Promise<CurrentRedditUser | void> =>\n\t!isLoggedIn() ? Promise.resolve() : ajax({ url: '/api/me.json', type: 'json' })\n\t\t.then(data => data.data && data.data.modhash ? data : undefined));\n\nconst usernameRE = /(?:u|user)\\/([\\w\\-]{3,20}(?![\\w\\-]))/;\n\nexport const usernameSelector = [\n\t'.contents .author',\n\t'p.tagline a.author',\n\t'#friend-table span.user a',\n\t'.sidecontentbox .author',\n\t'div.md a[href^=\"/u/\"]:not([href*=\"/m/\"])',\n\t'div.md a[href*=\"reddit.com/u/\"]:not([href*=\"/m/\"])',\n\t'.usertable a.author',\n\t'.parent > a.author',\n\t'.usertable span.user a',\n\t'div.wiki-page-content .author',\n\t'.Post__authorLink', // Newish profile page\n].join(', ');\n\nexport function getUsernameFromLink(element: HTMLElement): ?string {\n\tif (!(element instanceof HTMLAnchorElement)) return;\n\n\tconst { href, origin } = element;\n\n\t// The link should refer to this site\n\tif (!location.origin.endsWith(origin.split('.').slice(-2).join('.'))) return;\n\n\tconst [, username] = href.match(usernameRE) || [];\n\tif (username) return username;\n}\n\nexport function getUserInfo(username: ?string = loggedInUser()): Promise<RedditAccount> {\n\tif (!username) {\n\t\treturn Promise.reject(new Error('getUserInfo: null/undefined username'));\n\t}\n\n\treturn ajax({\n\t\turl: string.encode`/user/${username}/about.json`,\n\t\ttype: 'json',\n\t\tcacheFor: 10 * MINUTE,\n\t});\n}\n","/* @flow */\n\nimport {\n\tloggedInUser,\n\tloggedInUserHash,\n} from '../../utils/user';\nimport { waitForEvent } from '../../utils/dom';\n\nexport const data: {|\n\tuserHash: ?string,\n\tusername: ?string,\n\torigin: string,\n\tpathname: string,\n|} = {\n\tuserHash: null,\n\tusername: null,\n\torigin: 'https://www.reddit.com',\n\tpathname: location.pathname,\n};\n\nexport function establish(contentStart: *) {\n\tif (!location.protocol.startsWith('http')) return;\n\n\tdata.origin = location.origin;\n\n\tcontentStart.then(() => {\n\t\tdata.username = loggedInUser();\n\t\tloggedInUserHash().then(hash => { data.userHash = hash; });\n\t});\n}\n\nexport function retrieveFromParent() {\n\tif (window === window.parent) return Promise.resolve();\n\n\treturn waitForEvent(window, 'message').then(({ data: { context } }: any) => {\n\t\tObject.assign(data, context);\n\t});\n}\n","/* @flow */\n\nimport { createMessageHandler } from '../utils/messaging';\nimport { apiToPromise } from '../utils/api';\n\nconst _sendMessage = apiToPromise(chrome.runtime.sendMessage);\n\nconst {\n\t_handleMessage,\n\tsendMessage,\n\taddListener,\n} = createMessageHandler(obj => _sendMessage(obj));\n\nchrome.runtime.onMessage.addListener((obj, sender, sendResponse) => _handleMessage(obj, sendResponse));\n\nexport {\n\tsendMessage,\n\taddListener,\n};\n","/* @flow */\n\nexport function isPrivateBrowsing(): boolean {\n\treturn chrome.extension.inIncognitoContext;\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\nimport { isPrivateBrowsing } from './privateBrowsing';\n\nexport async function addURLToHistory(url: string): Promise<void> {\n\tif (isPrivateBrowsing()) return;\n\n\tawait sendMessage('addURLToHistory', url);\n}\n\nexport function isURLVisited(url: string): Promise<boolean> {\n\treturn sendMessage('isURLVisited', url);\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function set(key: string, value: mixed) {\n\treturn sendMessage('XHRCache', ['set', key, value]);\n}\n\nexport function check(key: string, maxAge?: number /* milliseconds */): Promise<any | void> {\n\treturn sendMessage('XHRCache', ['check', key, maxAge]);\n}\n\nfunction delete_(key: string) {\n\treturn sendMessage('XHRCache', ['delete', key]);\n}\nexport { delete_ as delete };\n\nexport function clear() {\n\treturn sendMessage('XHRCache', ['clear']);\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { context } from '../../environment';\nimport { sendMessage } from './messaging';\nimport * as XhrCache from './xhrCache';\n\ntype ResponseType = 'text' | 'json' | 'raw';\ntype MethodType = 'GET' | 'HEAD' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\ntype AjaxOptions<Ty: ResponseType | void> = {|\n\tmethod?: MethodType,\n\turl: string,\n\tquery?: { [string]: string | number | boolean },\n\theaders?: { [string]: string },\n\tdata?: string | { [string]: string },\n\ttype?: Ty,\n\tcacheFor?: number,\n\tcredentials?: 'include' | 'omit',\n|};\n\nclass FetchError extends Error {\n\tstatus: number;\n\n\tconstructor(url, status) {\n\t\tsuper(`${url} failed with status ${status}`);\n\t\tthis.status = status;\n\t}\n}\n\n/* eslint-disable no-redeclare */\ndeclare function ajax(opt: AjaxOptions<void>): Promise<string>;\ndeclare function ajax(opt: AjaxOptions<'text'>): Promise<string>;\ndeclare function ajax(opt: AjaxOptions<'json'>): Promise<{ [string | number]: any }>;\ndeclare function ajax(opt: AjaxOptions<'raw'>): Promise<{\n\tok: boolean,\n\tstatus: number,\n\theaders: { [string]: string },\n\ttext: string,\n}>;\n\n/**\n * Send a fetch request.\n *\n * `method`, `url`, and `headers` behave in the obvious way.\n * `query` adds query params to `url`.\n * `data` objects will be sent as application/x-www-form-urlencoded.\n * `data` strings will be sent as-is.\n * `type` affects the return type, either 'text' or 'json'.\n * `cacheFor` is a TTL, in milliseconds.\n */\nexport async function ajax(options: AjaxOptions<*>) {\n\tconst { method, url, headers, data, type, cacheFor, sameOrigin, credentials } = buildRequestParams(options);\n\n\tif (cacheFor) {\n\t\tconst cached = await XhrCache.check(url, cacheFor);\n\t\tif (cached) {\n\t\t\treturn processResponse(cached, type);\n\t\t}\n\t}\n\n\tconst response = await (sameOrigin ?\n\t\tfetch(url, {\n\t\t\tmethod,\n\t\t\theaders,\n\t\t\tcredentials,\n\t\t\tbody: data,\n\t\t}).then(async r => ({\n\t\t\tok: r.ok,\n\t\t\tstatus: r.status,\n\t\t\theaders: _.fromPairs(Array.from(r.headers.entries())),\n\t\t\ttext: await r.text(),\n\t\t})) :\n\t\tsendMessage('ajax', { method, url, headers, data, credentials })\n\t);\n\n\tif (!response.ok) {\n\t\tthrow new FetchError(url, response.status);\n\t}\n\n\tif (cacheFor) {\n\t\tXhrCache.set(url, response);\n\t}\n\n\treturn processResponse(response, type);\n}\n/* eslint-enable no-redeclare */\n\najax.invalidate = (options: AjaxOptions<*>) =>\n\tXhrCache.delete(buildRequestParams(options).url);\n\nfunction buildRequestParams({ method = 'GET', url, query = {}, headers = {}, data, type = 'text', credentials, cacheFor = 0 }): {|\n\tmethod: MethodType,\n\turl: string,\n\theaders: { [string]: string },\n\tdata: string | void,\n\ttype: ResponseType,\n\tcacheFor: number,\n\tsameOrigin: boolean,\n\tcredentials: 'omit' | 'include',\n|} {\n\tconst siteOrigin = new URL(context.origin);\n\n\t// Expand relative URLs\n\tconst requestURL = new URL(url, siteOrigin);\n\n\t// Append query string to URL\n\tfor (const [key, val] of Object.entries(query)) {\n\t\trequestURL.searchParams.set(key, String(val));\n\t}\n\n\tconst sameSite = requestURL.hostname.split('.').slice(-2).join('.') === siteOrigin.hostname.split('.').slice(-2).join('.');\n\tif (sameSite) {\n\t\t// Add `app=res` to same-origin request URLs\n\t\trequestURL.searchParams.set('app', 'res');\n\n\t\t// include cookies for same-origin requests (to load correct posts, etc.)\n\t\tif (!credentials) credentials = 'include';\n\n\t\tif (method !== 'GET' && method !== 'HEAD') {\n\t\t\t// Send modhash for same-origin non-GET requests\n\t\t\tif (context.userHash) headers['X-Modhash'] = context.userHash;\n\t\t}\n\n\t\t// new.reddit.com specifically selects the reddit desktop web frontend service.\n\t\t// AJAX requests should be sent to www.reddit.com, which will select the correct\n\t\t// service based on the path.\n\t\trequestURL.hostname = requestURL.hostname.replace(/new\\./, 'www.');\n\t}\n\n\tconst sameOrigin = siteOrigin.origin === requestURL.origin;\n\n\t// Convert plain data objects to application/x-www-form-urlencoded\n\tif (typeof data === 'object') {\n\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t// this needs to be a string because Edge doesn't support sending URlSearchParams\n\t\t// (the fetch polyfill passes it through to XHR, which is correct behaviour)\n\t\tdata = new URLSearchParams(data).toString();\n\t}\n\n\treturn {\n\t\tmethod,\n\t\turl: requestURL.href,\n\t\theaders,\n\t\tdata,\n\t\ttype,\n\t\tcacheFor,\n\t\tcredentials: credentials || 'omit',\n\t\tsameOrigin,\n\t};\n}\n\nfunction processResponse(response, type: ResponseType) {\n\tswitch (type) {\n\t\tcase 'text':\n\t\t\treturn response.text;\n\t\tcase 'json':\n\t\t\treturn JSON.parse(response.text);\n\t\tcase 'raw':\n\t\t\treturn response;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid type: ${type}`);\n\t}\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function download(url: string, filename?: string) {\n\t// Firefox and Chrome <a download> is same-origin only\n\tsendMessage('download', {\n\t\t// resolve relative URLs\n\t\turl: new URL(url, location.href).href,\n\t\tfilename,\n\t});\n}\n","/* @flow */\n\nexport function getExtensionId(): string {\n\treturn chrome.runtime.id;\n}\n\nexport const getURL = chrome.runtime.getURL;\n\nexport const getOptionsURL = (hash: string = '') => new URL(hash, getURL('options.html'));\nexport const isOptionsPage = () => location.origin === getOptionsURL().origin;\n","/* @flow */\n\nexport const CACHED_LANG_KEY = 'RES.i18nCachedLang';\nexport const CACHED_MESSAGES_KEY = 'RES.i18nCachedMessages';\nexport const CACHED_MESSAGES_TOKEN_KEY = 'RES.i18nCachedMessagesToken';\n","export default \"5.18.10\";","/* @flow */\n\nimport { CACHED_LANG_KEY, CACHED_MESSAGES_KEY, CACHED_MESSAGES_TOKEN_KEY } from '../../constants/localStorage';\nimport { sendMessage } from './messaging';\nimport buildToken from 'exec-loader!../../../build/buildToken'; // eslint-disable-line import/no-extraneous-dependencies\n\nconst REDDIT_LANGUAGES = new Set(['en', 'af', 'ar', 'be', 'bg', 'bn-IN', 'bn-bd', 'bs', 'ca', 'cs', 'cy', 'da', 'de', 'el', 'en-au', 'en-ca', 'en-gb', 'en-us', 'eo', 'es', 'es-ar', 'es-mx', 'et', 'eu', 'fa', 'fi', 'fil', 'fr', 'fr-ca', 'fy-NL', 'ga-ie', 'gd', 'gl', 'he', 'hi', 'hr', 'hu', 'hy', 'id', 'is', 'it', 'ja', 'kn_IN', 'ko', 'la', 'leet', 'lol', 'lt', 'lv', 'ms', 'mt-MT', 'nl', 'nn', 'no', 'pir', 'pl', 'pt', 'pt-pt', 'pt_BR', 'ro', 'ru', 'sk', 'sl', 'sr', 'sr-la', 'sv', 'ta', 'th', 'tr', 'uk', 'vi', 'zh', 'zh-cn']);\n// reddit languages which are not valid browser languages\nconst SPECIAL_LANGUAGES = new Set(['leet', 'lol', 'pir']);\n\nexport let locale = navigator.language || 'en'; // May be changed depending on Reddit language\n\nfunction isValidLocale(localeString) {\n\t// there doesn't appear to be a proper way to check if a language tag is valid, so we have to do this\n\ttry {\n\t\treturn typeof (0).toLocaleString(localeString) === 'string';\n\t} catch (e) {\n\t\treturn false;\n\t}\n}\n\nfunction getRedditLocale() {\n\tconst redditLocale = typeof document !== 'undefined' && document.documentElement.getAttribute('lang');\n\tif (redditLocale && (REDDIT_LANGUAGES.has(redditLocale))) {\n\t\t// `pt_BR` -> `pt-br`\n\t\tconst locale = redditLocale.toLowerCase().replace('_', '-');\n\t\tif (isValidLocale(locale)) {\n\t\t\trequestIdleCallback(() => { sendMessage('setLastRedditLocale', locale); });\n\t\t\treturn locale;\n\t\t}\n\t}\n\n\treturn sendMessage('getLastRedditLocale');\n}\n\nlet messages;\n\nexport async function _loadI18n(): Promise<void> {\n\tconst redditLocale = await getRedditLocale();\n\tif (redditLocale && !SPECIAL_LANGUAGES.has(redditLocale)) locale = redditLocale;\n\n\t// fast path: i18n dictionary is cached\n\t// should be hit almost every time\n\tif (\n\t\tlocalStorage.getItem(CACHED_LANG_KEY) === redditLocale &&\n\t\tlocalStorage.getItem(CACHED_MESSAGES_TOKEN_KEY) === buildToken\n\t) {\n\t\ttry {\n\t\t\t// eslint-disable-next-line require-atomic-updates\n\t\t\tmessages = JSON.parse(localStorage.getItem(CACHED_MESSAGES_KEY) || '');\n\t\t\treturn;\n\t\t} catch (e) {\n\t\t\tconsole.error('Failed to parse cached i18n', e);\n\t\t}\n\t}\n\n\t// slow path: wait for background page to send new locales\n\t// will be hit the first (ever) pageload on a new domain\n\t// or after clearing localStorage\n\tmessages = await sendMessage('i18n', redditLocale);\n\n\ttry { // Fails if remaining localStorage space is insufficient\n\t\tlocalStorage.setItem(CACHED_MESSAGES_KEY, JSON.stringify(messages));\n\t\tlocalStorage.setItem(CACHED_LANG_KEY, redditLocale);\n\t\tlocalStorage.setItem(CACHED_MESSAGES_TOKEN_KEY, buildToken);\n\t} catch (e) {\n\t\tconsole.error('Could not cache i18n - RES will load VERY slowly', e);\n\t\t// XXX: reddit has a habit of filling up these localstorage keys, so speculatively delete them\n\t\tlocalStorage.removeItem('ads.adserverDownvotePixel');\n\t\tlocalStorage.removeItem('ads.adserverUpvotePixel');\n\t}\n}\n\n// Behaves like https://developer.chrome.com/extensions/i18n#method-getMessage\nexport function i18n(messageName: string, ...substitutions: Array<string | number>): string {\n\tif (!messageName) return '';\n\n\tif (!messages) {\n\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\tthrow new Error(`i18n called too early! key: ${messageName}`);\n\t\t} else {\n\t\t\tconsole.error('i18n called too early! key:', messageName);\n\t\t\treturn messageName;\n\t\t}\n\t}\n\n\tconst message = messages[messageName];\n\n\tif (!message) return messageName;\n\n\t// Fast path: avoid running regex when there are no substitutions\n\tif (substitutions.length === 0) return message;\n\n\t// Replace direct references to substitutions, e.g. `First substitution: $1`\n\t// Maximum of 9 substitutions allowed, i.e. only one number after the `$`\n\treturn message.replace(/\\$(\\d)\\b(?!\\$)/g, (match, number) => substitutions[number - 1]);\n\n\t// Chrome also supports named placeholders, e.g. `Error: $error_message$`\n\t// but Transifex does not create the `placeholders` field in exported JSON\n\t// https://developer.chrome.com/extensions/i18n#examples-getMessage\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { mutex } from '../../utils/async';\nimport { sendMessage } from './messaging';\n\ntype Perms = Array<string>;\n\nfunction filterPerms(perms) {\n\tconst permissions = perms.filter(p => !p.includes('://') && p !== '<all_urls>');\n\tconst origins = perms.filter(p => p.includes('://') || p === '<all_urls>');\n\treturn { permissions, origins };\n}\n\n/**\n * @param {Array<string>} perms Permissions to check if granted\n * @returns {Promise<boolean>}\n */\nexport const has = _.memoize(\n\t(perms: Perms) => sendMessage('permissions', { operation: 'contains', ...filterPerms(perms) }),\n\tperms => perms.join(','),\n);\n\n/**\n * @param {Array<string>} perms Optional Chrome permissions to request.\n * @param {string} perms Name of site to request permission for\n * @returns {Promise<void, *>} Resolves if the permissions are granted, rejects otherwise.\n */\nexport const request = mutex(async (perms: Perms) => {\n\tif (await has(perms)) return;\n\n\tconst { permissions, origins } = filterPerms(perms);\n\n\tconst granted = await sendMessage('permissions', { operation: 'request', permissions, origins });\n\tif (granted) {\n\t\thas.cache.set(perms.join(','), true);\n\t} else {\n\t\tthrow new Error(`Permission not granted for: ${perms.join(', ')}`);\n\t}\n});\n","/* @flow */\n\nimport { sendMessage } from './messaging';\nimport * as Permissions from './permissions';\n\nexport async function launchAuthFlow({\n\tdomain,\n\tclientId,\n\tscope = '',\n\tpermissions,\n}: {|\n\tdomain: string,\n\tclientId: string,\n\tscope?: string,\n\tpermissions: Array<string>,\n|}, warnUserInteraction: (message: string) => Promise<void>): Promise<string> {\n\tif (permissions.length && !await Permissions.has(permissions)) {\n\t\tconst resAuth = 'https://redditenhancementsuite.com/oauth';\n\t\t// Firefox can use `launchWebAuthFlow` and doesn't need to redirect to our domain\n\t\tif (process.env.BUILD_TARGET !== 'firefox' && !await Permissions.has([resAuth])) {\n\t\t\tpermissions.push(resAuth);\n\t\t}\n\n\t\tawait warnUserInteraction(permissions.includes(resAuth) ? 'You may be redirected to redditenhancementsuite.com to complete the login process.' : '');\n\n\t\tawait Permissions.request(permissions);\n\t}\n\n\tlet responseUrl;\n\ttry {\n\t\tresponseUrl = await sendMessage('authFlow', { domain, clientId, scope, interactive: false });\n\t} catch (e) {\n\t\tconsole.error('Noninteractive auth failed:', e);\n\n\t\tresponseUrl = await sendMessage('authFlow', { domain, clientId, scope, interactive: true });\n\t}\n\n\tconst hash = new URL(responseUrl).hash.slice(1);\n\tconst token = new URLSearchParams(hash).get('access_token');\n\n\tif (!token) throw new Error('No token found in response.');\n\n\treturn token;\n}\n","/* @flow */\n\nimport { addListener, sendMessage } from './messaging';\n\nconst callbacks = new Map();\n\naddListener('multicast', ({ name, args }) => {\n\tconst callback = callbacks.get(name);\n\t// Not every foreground pages subscribes to every multicast\n\tif (callback) return callback(...args);\n});\n\n/*\n * Creates a wrapper function that will invoke `callback` in all other tabs.\n */\nexport function multicast<T:(...args: any) => any>(callback: T, { name, local = true, crossContext = true }: {| name: string, local?: boolean, crossContext?: boolean |}): T {\n\tif (callbacks.has(name)) {\n\t\tthrow new Error(`Multicast handler with name \"${name}\" exists.`);\n\t}\n\n\tcallbacks.set(name, callback);\n\n\tfunction localOnly(...args) {\n\t\tcallback(...args);\n\t}\n\n\tconst invoke: any = (...args) => {\n\t\tsendMessage('multicast', { name, args, crossContext });\n\n\t\tif (local) {\n\t\t\tlocalOnly(...args);\n\t\t}\n\t};\n\n\tinvoke.local = localOnly;\n\n\treturn invoke;\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function openNewTab(url: string, focus?: boolean = true) {\n\treturn openNewTabs(focus, url);\n}\n\ntype Focus = 'first' | 'last' | 'none' | boolean;\n\nexport function openNewTabs(focus: Focus, ...urls: string[]) {\n\tlet focusIndex;\n\n\tif (typeof focus !== 'string') focus = !!focus;\n\n\tswitch (focus) {\n\t\tcase 'first':\n\t\t\tfocusIndex = 0;\n\t\t\tbreak;\n\t\tcase true:\n\t\tcase 'last':\n\t\t\tfocusIndex = urls.length - 1;\n\t\t\tbreak;\n\t\tcase false:\n\t\tcase 'none':\n\t\t\tfocusIndex = -1;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid focus specified: ${focus}`);\n\t}\n\n\t// Expand relative URLs\n\turls = urls.map(url => new URL(url, location.href).href);\n\n\treturn sendMessage('openNewTabs', { urls, focusIndex });\n}\n","/* @flow */\n\nimport { frameThrottle } from '../../utils/async';\nimport { addListener, sendMessage } from './messaging';\n\nconst clickListeners = [];\n\nexport function onClick(callback: () => void) {\n\tclickListeners.push(callback);\n}\n\naddListener('pageActionClick', () => { for (const fn of clickListeners) fn(); });\n\n// Don't update before page is visible, as Firefox (buggily?) ignores pageAction updates to hidden pages\nconst update = frameThrottle(value => sendMessage('pageAction', value));\n\nexport function show(state?: boolean = false) {\n\treturn update({ operation: 'show', state });\n}\n\nexport function hide() {\n\treturn update({ operation: 'hide' });\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function get(key: string): Promise<any | void> {\n\treturn sendMessage('session', ['get', key]);\n}\n\nexport function set(key: string, value: mixed) {\n\treturn sendMessage('session', ['set', key, value]);\n}\n\nexport function delete_(key: string) {\n\treturn sendMessage('session', ['delete', key]);\n}\nexport { delete_ as delete };\n\nexport function has(key: string): Promise<boolean> {\n\treturn sendMessage('session', ['has', key]);\n}\n\nexport function clear() {\n\treturn sendMessage('session', ['clear']);\n}\n","/* @flow */\n\n/*\n * Roughly equivalent to `$.extend(true, target, source)`\n * Unfortunately lodash does not seem to offer any function that does this:\n * _.assign/_.extend/Object.assign are not recursive\n * _.merge and _.defaultsDeep ignore undefined values\n */\nexport function extendDeep(target: { [string]: mixed }, source: { [string]: mixed }): { [string]: mixed } {\n\tfor (const key of Object.keys(source)) {\n\t\tif (\n\t\t\ttarget[key] && source[key] &&\n\t\t\ttypeof target[key] === 'object' && typeof source[key] === 'object' &&\n\t\t\t!Array.isArray(source[key]) && !Array.isArray(target[key])\n\t\t) {\n\t\t\textendDeep(target[key], source[key]);\n\t\t} else {\n\t\t\ttarget[key] = source[key];\n\t\t}\n\t}\n\treturn target;\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { extendDeep } from '../../utils/object';\nimport { batch, keyedMutex } from '../../utils/async';\nimport { apiToPromise } from '../utils/api';\nimport { sendMessage } from './messaging';\n\nconst __set = apiToPromise((items, callback) => chrome.storage.local.set(items, callback));\nconst _set = (key, value) => __set({ [key]: value });\nconst __get = apiToPromise((keys, callback) => chrome.storage.local.get(keys, callback));\nconst _get = async (key, defaultValue = null) => (await __get({ [key]: defaultValue }))[key];\nconst _delete = apiToPromise((keys, callback) => chrome.storage.local.remove(keys, callback));\nconst _clear = apiToPromise(callback => chrome.storage.local.clear(callback));\n\nconst withLockOn = keyedMutex(<T>(key: string, fn: () => T): T => fn());\n\nexport function get(key: string): Promise<any | null> {\n\treturn withLockOn(key, () => _get(key, null));\n}\n\nexport function getAll(): Promise<{ [string]: mixed }> {\n\treturn __get(null);\n}\n\nexport function getMultiple<T: string>(keys: T[]): Promise<{ [T]: any | null }> {\n\tconst defaults = {};\n\tfor (const k of keys) {\n\t\tdefaults[k] = null;\n\t}\n\treturn __get(defaults);\n}\n\nexport function set(key: string, value: mixed): Promise<void> {\n\treturn withLockOn(key, () => _set(key, value));\n}\n\nexport function setMultiple(valueMap: { +[string]: mixed }): Promise<void> {\n\treturn __set(valueMap);\n}\n\nfunction compareAndSet(key: string, defaultValue: mixed, oldValue: mixed, newValue: mixed): Promise<boolean> {\n\t// Redirect to the background instance as it allows for a common mutex,\n\t// preventing race conditions when several tabs invokes this function around the same time\n\treturn sendMessage('storage-cas', [key, defaultValue, oldValue, newValue]);\n}\n\n/*\n * Deeply patches an object in storage, like extendDeep().\n */\nfunction patch(key: string, value: { [string]: mixed }): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst extended = extendDeep(await _get(key) || {}, value);\n\t\treturn _set(key, extended);\n\t});\n}\n\n/*\n * Shallowly patches an object in storage, like Object.assign().\n */\nfunction patchShallow(key: string, value: { [string]: mixed }): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst extended = Object.assign(await _get(key) || {}, value);\n\t\treturn _set(key, extended);\n\t});\n}\n\n/*\n * Deletes a property on a value in storage.\n * i.e. `deletePath('userTaggerStorageKey', 'username', 'tag')`\n * will `delete userTaggerStoredValue.username.tag`\n */\nfunction deletePaths(key: string, paths: string[][]): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst stored = await _get(key);\n\t\tif (!stored) return;\n\t\tfor (const path of paths) {\n\t\t\tpath.reduce((obj, key, i, { length }) => {\n\t\t\t\tif (!obj) return;\n\t\t\t\tif (i < length - 1) return obj[key];\n\t\t\t\tdelete obj[key];\n\t\t\t}, stored);\n\t\t}\n\t\treturn _set(key, stored);\n\t});\n}\n\nfunction delete_(key: string): Promise<void> {\n\treturn withLockOn(key, () => _delete(key));\n}\nexport { delete_ as delete };\n\nexport function deleteMultiple(keys: string[]): Promise<void> {\n\treturn _delete(keys);\n}\n\nexport function has(key: string): Promise<boolean> {\n\treturn withLockOn(key, async () => {\n\t\tconst sentinel = Math.random();\n\t\treturn (await _get(key, sentinel)) !== sentinel;\n\t});\n}\n\nexport async function keys(): Promise<string[]> {\n\treturn Object.keys(await __get(null));\n}\n\nexport function clear(): Promise<void> {\n\treturn _clear();\n}\n\nclass Wrapper<T> {\n\t_key: () => string;\n\t_default: T;\n\n\tconstructor(key: $PropertyType<this, '_key'>, def: T) {\n\t\tthis._key = key;\n\t\tthis._default = def;\n\t}\n\n\tget(): Promise<T> {\n\t\treturn get(this._key()).then(val => (val === null ? this._default : val));\n\t}\n\n\tset(value: T): Promise<void> {\n\t\treturn set(this._key(), value);\n\t}\n\n\tpatch(value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._key(), (value: any));\n\t}\n\n\tcompareAndSet(oldValue: T, newValue: T): Promise<boolean> {\n\t\treturn compareAndSet(this._key(), this._default, oldValue, newValue);\n\t}\n\n\tdeletePath(...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._key(), [path]);\n\t}\n\n\tdelete(): Promise<void> {\n\t\treturn delete_(this._key());\n\t}\n\n\thas(): Promise<boolean> {\n\t\treturn has(this._key());\n\t}\n}\n\nexport function wrap<T>(key: string | () => string /* pure */, defaultValue: T): Wrapper<T> {\n\tconst keyGenerator = typeof key === 'string' ? () => key : _.once(key);\n\t// $FlowIssue\n\treturn new Wrapper(keyGenerator, defaultValue);\n}\n\nclass PrefixWrapper<T> {\n\t_prefix: string;\n\t_keyMapper: (key: string) => string;\n\t_default: () => T;\n\t_get: *;\n\n\tconstructor(prefix: string, def: () => T, keyMapper: (key: string) => string, batching: boolean) {\n\t\tthis._prefix = prefix;\n\t\tthis._default = def;\n\t\tthis._keyMapper = keyMapper;\n\n\t\tif (batching) {\n\t\t\tthis._get = batch(async keys => {\n\t\t\t\tconst v = await this.getMultipleNullable(keys);\n\t\t\t\treturn keys.map(key => v[this._keyMapper(key)]);\n\t\t\t}, { size: Infinity, delay: 0 });\n\t\t} else {\n\t\t\tthis._get = key => get(this._keyGen(key));\n\t\t}\n\t}\n\n\t_keyGen(key: string): string {\n\t\treturn this._prefix + this._keyMapper(key);\n\t}\n\n\tget(key: string): Promise<T> {\n\t\treturn this._get(key).then(val => (val === null ? this._default() : val));\n\t}\n\n\tgetNullable(key: string): Promise<T | null> {\n\t\treturn this._get(key);\n\t}\n\n\tasync getAll(): Promise<{ [string]: T }> {\n\t\tconst everything = await getAll();\n\t\treturn _.transform(everything, (acc, v, k) => {\n\t\t\tif (k.startsWith(this._prefix)) {\n\t\t\t\tacc[k.slice(this._prefix.length)] = v;\n\t\t\t}\n\t\t}, {});\n\t}\n\n\tasync getMultiple(keys: string[]): Promise<{ [string]: T }> {\n\t\tconst rawValues = await getMultiple(keys.map(k => this._keyGen(k)));\n\t\treturn _.transform(rawValues, (acc, v, k) => {\n\t\t\tacc[k.slice(this._prefix.length)] = (v === null ? this._default() : v);\n\t\t}, {});\n\t}\n\n\tasync getMultipleNullable(keys: string[]): Promise<{ [string]: T | null }> {\n\t\tconst rawValues = await getMultiple(keys.map(k => this._keyGen(k)));\n\t\treturn _.transform(rawValues, (acc, v, k) => {\n\t\t\tacc[k.slice(this._prefix.length)] = v;\n\t\t}, {});\n\t}\n\n\tset(key: string, value: T): Promise<void> {\n\t\treturn set(this._keyGen(key), value);\n\t}\n\n\tpatch(key: string, value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._keyGen(key), (value: any));\n\t}\n\n\tdeletePath(key: string, ...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._keyGen(key), [path]);\n\t}\n\n\tdelete(key: string): Promise<void> {\n\t\treturn delete_(this._keyGen(key));\n\t}\n\n\tdeleteMultiple(keys: string[]): Promise<void> {\n\t\treturn deleteMultiple(keys.map(k => this._keyGen(k)));\n\t}\n\n\thas(key: string): Promise<boolean> {\n\t\treturn has(this._keyGen(key));\n\t}\n}\n\nexport function wrapPrefix<T>(prefix: string, defaultValue: () => T, destructiveKeyMapper: (key: string) => string = x => x, batching: boolean = false): PrefixWrapper<T> {\n\treturn new PrefixWrapper(prefix, defaultValue, destructiveKeyMapper, batching);\n}\n\nclass BlobWrapper<T> {\n\t_rootKey: string;\n\t_default: () => T;\n\n\tconstructor(rootKey: string, def: () => T) {\n\t\tthis._rootKey = rootKey;\n\t\tthis._default = def;\n\t}\n\n\tget(key: string): Promise<T> {\n\t\treturn get(this._rootKey).then(val => (\n\t\t\t(val === null || val[key] === undefined) ? this._default() : val[key]\n\t\t));\n\t}\n\n\tgetNullable(key: string): Promise<T | null> {\n\t\treturn get(this._rootKey).then(val => (\n\t\t\t(val === null || val[key] === undefined) ? null : val[key]\n\t\t));\n\t}\n\n\tgetAll(): Promise<{ [string]: T }> {\n\t\treturn get(this._rootKey).then(val => (val === null ? {} : val));\n\t}\n\n\tasync getMultiple(keys: string[]): Promise<{ [string]: T }> {\n\t\tconst rawValues = (await get(this._rootKey)) || {};\n\t\treturn _.transform(keys, (acc, key) => {\n\t\t\tacc[key] = rawValues[key] === undefined ? this._default() : rawValues[key];\n\t\t}, {});\n\t}\n\n\tasync getMultipleNullable(keys: string[]): Promise<{ [string]: T | null }> {\n\t\tconst rawValues = (await get(this._rootKey)) || {};\n\t\treturn _.transform(keys, (acc, key) => {\n\t\t\tacc[key] = rawValues[key] === undefined ? null : rawValues[key];\n\t\t}, {});\n\t}\n\n\tset(key: string, value: T): Promise<void> {\n\t\treturn patchShallow(this._rootKey, { [key]: value });\n\t}\n\n\tpatch(key: string, value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._rootKey, { [key]: value });\n\t}\n\n\tdeletePath(key: string, ...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._rootKey, [[key, ...path]]);\n\t}\n\n\tdelete(key: string): Promise<void> {\n\t\treturn deletePaths(this._rootKey, [[key]]);\n\t}\n\n\tdeleteMultiple(keys: string[]): Promise<void> {\n\t\treturn deletePaths(this._rootKey, keys.map(k => [k]));\n\t}\n\n\thas(key: string): Promise<boolean> {\n\t\treturn get(this._rootKey).then(val => (val !== null && val[key] !== undefined));\n\t}\n\n\tclear(): Promise<void> {\n\t\treturn delete_(this._rootKey);\n\t}\n}\n\nexport function wrapBlob<T>(rootKey: string, defaultValue: () => T): BlobWrapper<T> {\n\treturn new BlobWrapper(rootKey, defaultValue);\n}\n","/* @flow */\n\nexport { data as context } from './foreground/context';\nexport { addURLToHistory, isURLVisited } from './foreground/history';\nexport { ajax } from './foreground/ajax';\nexport { download } from './foreground/download';\nexport { getExtensionId, getURL, isOptionsPage, getOptionsURL } from './foreground/id';\nexport { locale, i18n, _loadI18n } from './foreground/i18n';\nexport { isPrivateBrowsing } from './foreground/privateBrowsing';\nexport { launchAuthFlow } from './foreground/auth';\nexport { multicast } from './foreground/multicast';\nexport { openNewTab, openNewTabs } from './foreground/tabs';\nexport * as PageAction from './foreground/pageAction';\nexport * as Permissions from './foreground/permissions';\nexport * as Session from './foreground/session';\nexport * as Storage from './foreground/storage';\nexport * as XhrCache from './foreground/xhrCache';\n","/* @flow */\nimport _ from 'lodash';\nimport { fastAsync } from './async';\n\nexport type Iteratee<T, R> = (e: T, i: number, a: T[]) => R;\n\n/*\n * If `callback` returns a promise, waits for the promise to resolve before advancing to the next item.\n */\nexport async function forEachSeq<T>(iterable: Iterable<T>, callback: (x: T) => ?Promise<void>): Promise<void> {\n\tfor (const val of iterable) {\n\t\tawait callback(val); // eslint-disable-line no-await-in-loop\n\t}\n}\n\nexport async function asyncFilter<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<T[]> {\n\tconst shouldKeep = await Promise.all(array.map(predicate));\n\treturn array.filter((e, i) => shouldKeep[i]);\n}\n\nexport async function asyncReduce<T, V>(iterable: Iterable<T>, callback: (acc: V, e: T) => Promise<V>, initialValue: V): Promise<V> {\n\tlet accumulator = initialValue;\n\n\tfor (const val of iterable) {\n\t\taccumulator = await callback(accumulator, val); // eslint-disable-line no-await-in-loop\n\t}\n\n\treturn accumulator;\n}\n\nexport const asyncFind = fastAsync(function* asyncFind<T>(iterable: Iterable<T>, predicate: (x: T) => Promise<mixed> | mixed) {\n\tfor (const val of iterable) {\n\t\tif (yield predicate(val)) return val;\n\t}\n});\n\n/**\n * @template T, V\n * @param {Promise<T>[]} array\n * @param {function(V, T): V} reduce\n * @param {V} initialValue\n * @param {V} baseCase\n * @returns {Promise<T>}\n */\nfunction concurrentFold<T, V>(array: Promise<T>[], reduce: (a: V, b: T) => V, initialValue: V, baseCase: V): Promise<V> {\n\tif (!array.length) return Promise.resolve(initialValue);\n\n\treturn new Promise((resolve, reject) => {\n\t\tlet remaining = array.length;\n\t\tlet accum = initialValue;\n\n\t\tfunction onResolve(x) {\n\t\t\tif (remaining === 0) return;\n\n\t\t\taccum = reduce(accum, x);\n\n\t\t\tif (accum === baseCase || --remaining === 0) {\n\t\t\t\tremaining = 0;\n\t\t\t\tresolve(accum);\n\t\t\t}\n\t\t}\n\n\t\tfunction onReject(err) {\n\t\t\tif (remaining === 0) return;\n\n\t\t\tremaining = 0;\n\t\t\treject(err);\n\t\t}\n\n\t\tarray.forEach(promise => promise.then(onResolve, onReject));\n\t});\n}\n\n/*\n * Guaranteed to execute concurrently, unlike `Array.prototype.some`.\n * Rejects on a best-effort basis if any of the promises reject.\n * May resolve to `true` even if some of the promises reject.\n */\nexport function asyncSome<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<boolean> {\n\treturn concurrentFold(array.map(predicate), (a, b) => a || !!b, false, true);\n}\n\n/*\n * Guaranteed to execute concurrently, unlike `Array.prototype.every`.\n * Rejects on a best-effort basis if any of the promises reject.\n * May resolve to `false` even if some of the promises reject.\n */\nexport function asyncEvery<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<boolean> {\n\treturn concurrentFold(array.map(predicate), (a, b) => a && !!b, true, false);\n}\n\n// Flow doesn't understand `Array.prototype.filter` refining types (yet https://github.com/facebook/flow/issues/34)\n// so this is necessary if you want to do `arr.filter(...).map(...)`\nexport const filterMap = _.curryRight(<T, V>(iterable: Iterable<T>, callback: (x: T) => ?[V]): V[] => {\n\tconst mapped = [];\n\tfor (const x of iterable) {\n\t\tconst result = callback(x);\n\t\tif (result) mapped.push(result[0]);\n\t}\n\treturn mapped;\n});\n","/* @flow */\n\nimport { Storage } from '../../environment';\n\nexport const storage = Storage.wrapBlob('RES.modulePrefs',\n\t(): boolean => { throw new Error('Default module enabled state should never be accessed'); });\n\nexport function setEnabled(moduleId: string, enable: boolean) {\n\treturn storage.set(moduleId, enable);\n}\n","/* @flow */\n\nimport type { PageType, AppType } from '../utils/location';\nimport type { KeyArray } from '../utils/keycode';\n\n// separate because indexer syntax is not supported in normal (no `declare`) classes\ndeclare class Indexable { // eslint-disable-line no-unused-vars\n\t[Symbol | $Keys<this>]: any;\n}\n\nexport class Module<RawOpt: { [string]: any }, Opt: { [string]: ModuleOption<RawOpt> } = RawOpt> /*:: extends Indexable */ {\n\tmoduleID: string;\n\n\tmoduleName: string;\n\tcategory: string = '';\n\tdescription: string = '';\n\tdescriptionRaw: boolean = false; // Whether the message is HTML and should not be run through i18n / markdown\n\tkeywords: Array<string> = [];\n\tbodyClass: boolean = false;\n\toptions: Opt = ({}: any);\n\tinclude: Array<PageType | AppType | RegExp> = [];\n\texclude: Array<PageType | AppType | RegExp> = [];\n\tshouldRun: () => boolean = () => true;\n\tonToggle: (enabling: boolean) => void = () => {};\n\tonSaveSettings: (changedSettings: any) => void = () => {};\n\n\thidden: boolean = false;\n\tdisabledByDefault: boolean = false;\n\talwaysEnabled: boolean = false;\n\tsort: number = 0;\n\n\t// no default value for cleaner profiling (modules without a stage defined won't be timed)\n\tonInit: (() => Promise<void> | void) | void = undefined;\n\tbeforeLoad: (() => Promise<void> | void) | void = undefined;\n\tcontentStart: (() => Promise<void> | void) | void = undefined;\n\tgo: (() => Promise<void> | void) | void = undefined;\n\tafterLoad: (() => Promise<void> | void) | void = undefined;\n\talways: (() => Promise<void> | void) | void = undefined;\n\n\tpermissions: {|\n\t\trequiredPermissions: Array<string>,\n\t\tmessage?: string,\n\t|} = {\n\t\trequiredPermissions: [],\n\t};\n\n\tconstructor(moduleID: string) {\n\t\t/*:: super(); */\n\t\tthis.moduleID = moduleID;\n\t\tthis.moduleName = moduleID;\n\t}\n}\n\nexport type OpaqueModuleId = string | { moduleID: string, module?: void } | { module: { moduleID: string } };\n\nexport function getModuleId(opaqueId: OpaqueModuleId): string {\n\tif (!opaqueId) {\n\t\tthrow new TypeError(`Expected module, moduleID, or namespace; found: ${opaqueId}`);\n\t}\n\n\tif (typeof opaqueId === 'string') {\n\t\t// raw moduleID\n\t\treturn opaqueId;\n\t} else if (opaqueId.module) {\n\t\t// namespace\n\t\treturn opaqueId.module.moduleID;\n\t} else {\n\t\t// assume module-like object\n\t\treturn opaqueId.moduleID;\n\t}\n}\n\nexport type ModuleOption<Ctx> =\n\t| BooleanOption<Ctx>\n\t| TextOption<Ctx>\n\t| EnumOption<Ctx>\n\t| KeycodeOption<Ctx>\n\t| ListOption<Ctx>\n\t| SelectOption<Ctx>\n\t| TableOption<Ctx, any>\n\t| ButtonOption<Ctx>\n\t| ColorOption<Ctx>\n\t| BuilderOption<Ctx>;\n\ntype CommonOptionProps<Ctx> = {|\n\ttitle: string,\n\tdescription: string,\n\tkeywords?: Array<string>,\n\tdependsOn?: (opt: Ctx) => boolean,\n\tadvanced?: boolean,\n\tnoconfig?: boolean,\n\t// Intentionally do not pass in the new value\n\t// so that it must be read out of `module.options[key].value`\n\t// for easier grepping (and to enforce stricter types where possible).\n\tonChange?: () => void,\n|};\n\nexport type BooleanOption<Ctx> = {|\n\ttype: 'boolean',\n\tvalue: boolean,\n\tbodyClass?: boolean | string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type TextOption<Ctx> = {|\n\ttype: 'text',\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type EnumOption<Ctx> = {|\n\ttype: 'enum',\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t}>,\n\tbodyClass?: boolean | string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type KeycodeOption<Ctx> = {|\n\ttype: 'keycode',\n\tvalue: KeyArray,\n\t// special for keyboardNav\n\tgoMode?: boolean,\n\tcallback?: () => void,\n\tinclude?: Array<PageType | AppType | RegExp>,\n\trequiresModules?: Array<OpaqueModuleId>,\n\tmustBeLoggedIn?: boolean,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type ListOption<Ctx> = {|\n\ttype: 'list',\n\tlistType: ListType,\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\ntype ListType = 'subreddits';\n\nexport type SelectOption<Ctx> = {|\n\ttype: 'select',\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t\tstyle: string,\n\t}>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type TableOption<Ctx, V: $ReadOnlyArray<any>> = {|\n\ttype: 'table',\n\taddRowText?: string,\n\tfields: TableField[],\n\tvalue: V[],\n\tsort?: (a: V, b: V) => number,\n\t...CommonOptionProps<Ctx>,\n|};\n\ntype TableField = TextField | BooleanField | ListField | PasswordField | KeycodeField | TextareaField | EnumField | ColorField | SelectField;\n\ntype TextField = {|\n\ttype: 'text',\n\tkey: string,\n\tname: string,\n\tvalue?: string,\n|};\n\ntype BooleanField = {|\n\ttype: 'boolean',\n\tkey: string,\n\tname: string,\n\tvalue: boolean,\n|};\n\ntype ListField = {|\n\ttype: 'list',\n\tkey: string,\n\tname: string,\n\tlistType: ListType,\n|};\n\ntype PasswordField = {|\n\ttype: 'password',\n\tkey: string,\n\tname: string,\n|};\n\ntype KeycodeField = {|\n\ttype: 'keycode',\n\tkey: string,\n\tname: string,\n|};\n\ntype TextareaField = {|\n\ttype: 'textarea',\n\tkey: string,\n\tname: string,\n|};\n\ntype EnumField = {|\n\ttype: 'enum',\n\tkey: string,\n\tname: string,\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t}>,\n|};\n\ntype ColorField = {|\n\ttype: 'color',\n\tkey: string,\n\tname: string,\n|};\n\ntype SelectField = {|\n\ttype: 'select',\n\tkey: string,\n\tname: string,\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t\tstyle?: string,\n\t}>,\n|};\n\nexport type ButtonOption<Ctx> = {|\n\ttype: 'button',\n\ttext?: string | HTMLElement,\n\tcallback?: (() => Promise<void> | void) | string | { moduleID: string },\n\tvalues?: Array<{ text: $PropertyType<ButtonOption<Ctx>, 'text'>, callback: $PropertyType<ButtonOption<Ctx>, 'callback'> }>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type ColorOption<Ctx> = {|\n\ttype: 'color',\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type BuilderOption<Ctx> = {|\n\ttype: 'builder',\n\taddItemText: string,\n\tdefaultTemplate: () => BuilderRootValue,\n\tcases: { [string]: BuilderCase<*> },\n\tvalue: BuilderRootValue[],\n\tcustomOptionsFields: Array<Array<BuilderField | string>>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type BuilderRootValue = {|\n\tnote: string,\n\tver: number,\n\tid: string,\n\tbody: BuilderValue,\n\topts?: {\n\t\t[string]: mixed,\n\t\t// Some typed (reserved) values in order to simplify type checking\n\t\tname?: string,\n\t},\n|};\n\nexport type BuilderValue = {\n\ttype: string,\n\t[string]: any,\n};\n\ntype BuilderCase = {\n\ttext: string,\n\tfields: Array<BuilderField | string>,\n};\n\ntype BuilderField = BuilderSelectField | BuilderMultiField | BuilderDurationField | BuilderChecksetField | BuilderNumberField | BuilderCheckboxField | BuilderGenericInputField;\n\ntype PredefinedSelectChoice = 'COMPARISON';\n\ntype BuilderSelectField = {|\n\ttype: 'select',\n\toptions: Array<string | [string, string]> | PredefinedSelectChoice,\n\tid: string,\n|};\n\ntype BuilderMultiField = {|\n\ttype: 'multi',\n\tinclude: 'all',\n\tid: string,\n|};\n\ntype BuilderDurationField = {|\n\ttype: 'duration',\n\tid: string,\n|};\n\ntype BuilderChecksetField = {|\n\ttype: 'checkset',\n\titems: string[],\n\tid: string,\n|};\n\ntype BuilderNumberField = {|\n\ttype: 'number',\n\tid: string,\n|};\n\ntype BuilderCheckboxField = {|\n\ttype: 'check',\n\tid: string,\n\tlabel: string,\n|};\n\ntype BuilderGenericInputField = {|\n\ttype: string,\n\tid: string,\n|};\n","/* @flow */\n\nimport { Storage } from '../../environment';\nimport { getModuleId } from '../module';\nimport type { OpaqueModuleId } from '../module';\n\n// Don't batch in Firefox, as that may make the storage very slow on init\nexport const storage = Storage.wrapPrefix('RESoptions.', (): { [string]: any } => ({}), undefined, process.env.BUILD_TARGET !== 'firefox');\n\nexport const loadRaw = (moduleId: string) => storage.get(moduleId);\n\nexport async function get(opaqueId: OpaqueModuleId, optionKey: string) {\n\tconst options = await storage.get(getModuleId(opaqueId));\n\treturn options && options[optionKey];\n}\n\nexport async function getValue(opaqueId: OpaqueModuleId, optionKey: string) {\n\tconst option = await get(getModuleId(opaqueId), optionKey);\n\treturn option && option.value;\n}\n\nexport function set(opaqueId: OpaqueModuleId, optionKey: string, value: mixed) {\n\tif ((/_[\\d]+$/).test(optionKey)) {\n\t\toptionKey = optionKey.replace(/_[\\d]+$/, '');\n\t}\n\n\treturn storage.patch(getModuleId(opaqueId), { [optionKey]: { value } });\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Storage } from '../../environment';\nimport * as Options from '../options/storage';\n\nexport async function updateOption(moduleID: string, optionName: string, formerDefaultValue: mixed, valueOrFunction: mixed) {\n\ttry {\n\t\tconst option = await Options.get(moduleID, optionName);\n\t\t// If no value for this option is stored, it will always use the current default value\n\t\t// and so it doesn't need to be updated.\n\t\tif (!option) return;\n\n\t\t// Only update this option to the new default value if its current value\n\t\t// hasn't been changed from the former default value.\n\t\tif (!optionMatchesFormerDefaultValue(option, formerDefaultValue)) return;\n\n\t\tconst newValue = updateValue(option.value, valueOrFunction);\n\n\t\tif (typeof newValue !== 'undefined') {\n\t\t\tawait Options.set(moduleID, optionName, newValue);\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(`Couldn't migrate ${moduleID}::${optionName} from`, formerDefaultValue, 'to/via', valueOrFunction, e);\n\t}\n}\n\nexport async function forceUpdateOption(moduleID: string, optionName: string, valueOrFunction: mixed) {\n\t//     DANGER, WILL ROBINSON, DANGER   \n\t// Make sure valueOrFunction doesn't destroy user settings!\n\ttry {\n\t\tconst option = await Options.get(moduleID, optionName);\n\t\t// If no value for this option is stored, it will always use the current default value\n\t\t// and so it doesn't need to be updated.\n\t\tif (!option) return;\n\n\t\tconst newValue = updateValue(option.value, valueOrFunction);\n\n\t\tif (typeof newValue !== 'undefined') {\n\t\t\tawait Options.set(moduleID, optionName, newValue);\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(`Couldn't migrate ${moduleID}::${optionName} to`, valueOrFunction, e);\n\t}\n}\n\nexport async function moveOption(oldModuleID: string, oldOptionName: string, newModuleID: string, newOptionName: string, valueOrFunction?: mixed) {\n\ttry {\n\t\tconst option = await Options.get(oldModuleID, oldOptionName);\n\t\t// If no value for this option is stored, it had been using the old default value\n\t\t// and so we do not need to change the new option, since it will also be using the default value.\n\t\tif (!option) return;\n\n\t\tconst newValue = updateValue(option.value, valueOrFunction);\n\n\t\tif (typeof newValue !== 'undefined') {\n\t\t\tawait Options.set(newModuleID, newOptionName, newValue);\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(`Couldn't migrate ${oldModuleID}::${oldOptionName} to ${newModuleID}::${newOptionName} via`, valueOrFunction, e);\n\t}\n}\n\nexport async function moveStorageToOption(oldKey: string, newModuleID: string, newOptionName: string, valueOrFunction?: mixed) {\n\tconst oldValue = await Storage.get(oldKey);\n\n\tif (oldValue === null) {\n\t\treturn;\n\t}\n\n\tconst newValue = updateValue(oldValue, valueOrFunction);\n\n\ttry {\n\t\tif (typeof newValue !== 'undefined') {\n\t\t\tawait Options.set(newModuleID, newOptionName, newValue);\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(`Couldn't migrate storage ${oldKey} to ${newModuleID}::${newOptionName} via`, valueOrFunction, e);\n\t}\n}\n\n// This function compares a given option value to its \"former default\" -- the default\n// before an attempted migration. Options aren't always a string, so equivalency won't\n// work. Note that \"option\" needs to be the actual option object, NOT option.value.\nfunction optionMatchesFormerDefaultValue(option, formerDefaultValue) {\n\tif (!option) {\n\t\toption = {\n\t\t\ttype: 'legacy',\n\t\t\tvalue: undefined,\n\t\t};\n\t}\n\tconst oldValue = option.value;\n\n\t// keyCodes once customized also save metaKey in a 5th index, but we used\n\t// to not store the metakey, so they have a length of 4 by default. In order\n\t// to do a proper array comparison, we need the lengths to match, so if a\n\t// 5th element is not present, push false into the array.\n\tif (oldValue && (option.type === 'keycode') && (option.value.length === 4)) {\n\t\toldValue.push(false);\n\t}\n\n\t// Check if the oldValue differs from the former default value. If it doesn't,\n\t// then the user set something custom and we should honor that.\n\treturn _.isEqual(formerDefaultValue, oldValue);\n}\n\nfunction updateValue(oldValue, valueOrFunction) {\n\tif (typeof valueOrFunction === 'function') {\n\t\treturn valueOrFunction(oldValue);\n\t} else if (typeof valueOrFunction !== 'undefined') {\n\t\treturn valueOrFunction;\n\t} else {\n\t\treturn oldValue;\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Storage } from '../../environment';\nimport { forEachSeq } from '../../utils/array';\nimport { execRegexes } from '../../utils/location';\nimport * as Modules from '../modules/storage';\nimport * as Options from '../options/storage';\nimport * as Migrators from './migrators';\n\nconst migrations = [\n\t{\n\t\tversionNumber: 'legacyMigrators',\n\t\tasync go() {\n\t\t\t// userbarHider.beforeLoad()\n\t\t\tawait Migrators.moveStorageToOption('RESmodules.styleTweaks.userbarState', 'userbarHider', 'userbarState');\n\n\t\t\t// commentTools.migrateData()\n\t\t\tconst macroVersion = await Storage.get('RESmodules.commentTools.macroDataVersion');\n\t\t\tif (macroVersion === null || macroVersion === 0) {\n\t\t\t\t// In this case it is unmigrated or uncreated\n\t\t\t\tconst previewOptions = await Storage.get('RESoptions.commentPreview');\n\t\t\t\tif (previewOptions !== null) {\n\t\t\t\t\tif (typeof previewOptions.commentingAs !== 'undefined') {\n\t\t\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'commentingAs', previewOptions.commentingAs.value);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof previewOptions.keyboardShortcuts !== 'undefined') {\n\t\t\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'keyboardShortcuts', previewOptions.keyboardShortcuts.value);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof previewOptions.subredditAutocomplete !== 'undefined') {\n\t\t\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'subredditAutocomplete', previewOptions.subredditAutocomplete.value);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof previewOptions.macros !== 'undefined') {\n\t\t\t\t\t\tpreviewOptions.macros.value.forEach(macro => {\n\t\t\t\t\t\t\twhile (macro.length < 4) {\n\t\t\t\t\t\t\t\tmacro.push('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'macros', previewOptions.macros.value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (macroVersion === 1) {\n\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'macros', macros =>\n\t\t\t\t\t(macros || []).map(macro => {\n\t\t\t\t\t\twhile (macro.length < 4) {\n\t\t\t\t\t\t\tmacro.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn macro;\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// saveComments.loadSavedComments()\n\t\t\tconst storedComments = await Storage.get('RESmodules.saveComments.savedComments');\n\t\t\tif (Array.isArray(storedComments)) {\n\t\t\t\tconst newFormat = {};\n\t\t\t\tfor (const storedComment of storedComments) {\n\t\t\t\t\tconst urlSplit = storedComment.href.split('/');\n\t\t\t\t\tconst thisID = urlSplit[urlSplit.length - 1];\n\t\t\t\t\tnewFormat[thisID] = storedComment;\n\t\t\t\t}\n\t\t\t\tStorage.set('RESmodules.saveComments.savedComments', newFormat);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.0.0',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('betteReddit', 'searchSubredditByDefault', 'searchHelper', 'searchSubredditByDefault');\n\n\t\t\tawait Migrators.moveOption('styleTweaks', 'lightSwitch', 'nightMode', 'nightSwitch');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'lightOrDark', 'nightMode', 'nightModeOn', value => (value === 'dark'));\n\t\t\tawait Migrators.moveOption('styleTweaks', 'useSubredditStyleInDarkMode', 'nightMode', 'useSubredditStyles');\n\n\t\t\tawait Migrators.moveStorageToOption('RESmodules.styleTweaks.nightModeWhitelist', 'nightMode', 'subredditStylesWhitelist', value => {\n\t\t\t\ttry {\n\t\t\t\t\treturn JSON.parse(value || '').join(',');\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tconst userTags = await Storage.get('RESmodules.userTagger.tags') || {};\n\t\t\t\tupdateTagStorageCaseInsensitive(userTags);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Could not migrate user tags, please post this error to /r/RESissues', e);\n\t\t\t}\n\n\t\t\t// check for /r/ hack from when reddit changed its format and broke RES filters\n\t\t\tawait Migrators.forceUpdateOption('filteReddit', 'subreddits', subreddits =>\n\t\t\t\t(subreddits || []).map(subreddit => {\n\t\t\t\t\tconst check = subreddit[0];\n\t\t\t\t\tif (check.startsWith('/r/')) {\n\t\t\t\t\t\tsubreddit[0] = check.substr(3);\n\t\t\t\t\t}\n\t\t\t\t\treturn subreddit;\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tfunction updateTagStorageCaseInsensitive(tags) {\n\t\t\t\tconst usernames = Object.keys(tags);\n\n\t\t\t\tfor (const username of usernames) {\n\t\t\t\t\tconst lower = username.toLowerCase();\n\t\t\t\t\tif (lower === username) continue;\n\n\t\t\t\t\tconst destination = tags[lower] = tags[lower] || {};\n\t\t\t\t\tconst source = tags[username];\n\n\t\t\t\t\tif (source.votes) {\n\t\t\t\t\t\tdestination.votes = (parseInt(destination.votes, 10) || 0) + (parseInt(source.votes, 10) || 0);\n\t\t\t\t\t}\n\t\t\t\t\tif (source.color && (!destination.color || destination.color === 'none')) {\n\t\t\t\t\t\tdestination.color = source.color;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (source.tag) {\n\t\t\t\t\t\tdestination.tag = destination.tag ? `${destination.tag} | ` : '';\n\t\t\t\t\t\tdestination.tag += source.tag;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (source.ignore) {\n\t\t\t\t\t\tdestination.ignore = source.ignore;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (source.link) {\n\t\t\t\t\t\tif (destination.link) {\n\t\t\t\t\t\t\tdestination.tag = destination.tag ? `${destination.tag} | ` : '';\n\t\t\t\t\t\t\tdestination.tag += source.link;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdestination.link = source.link;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete tags[username]; // safe because of \"lower === username.toLowerCase\" guard above\n\t\t\t\t}\n\n\t\t\t\tStorage.set('RESmodules.userTagger.tags', tags);\n\t\t\t\tStorage.set('RESmodules.userTagger.casefix', true);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.0.2',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('keyboardNav', 'imageMoveUp', [38, false, false, true, false], [38, false, true, false, false]);\n\t\t\tawait Migrators.updateOption('keyboardNav', 'imageMoveDown', [40, false, false, true, false], [40, false, true, false, false]);\n\t\t\tawait Migrators.updateOption('keyboardNav', 'imageMoveLeft', [37, false, false, true, false], [37, false, true, false, false]);\n\t\t\tawait Migrators.updateOption('keyboardNav', 'imageMoveRight', [39, false, false, true, false], [39, false, true, false, false]);\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.0.3',\n\t\tgo() {\n\t\t\t// Token migration for the benefit of developers or people running bleeding-edge\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.1',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('voteEnhancements', 'colorCommentScore', value => {\n\t\t\t\t// v4.5.0.2 (fresh installs) onwards have the correct default value\n\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\t// 4.5.0.1 migration\n\t\t\t\treturn value ? 'automatic' : 'none';\n\t\t\t});\n\n\t\t\tconst notificationsOptions = await Options.loadRaw('notifications');\n\t\t\tconst sticky = notificationsOptions && notificationsOptions.sticky.value;\n\t\t\tconst keyNavOptions = await Options.loadRaw('keyboardNav');\n\t\t\tconst fg = keyNavOptions && keyNavOptions.focusFGColorNight.value;\n\t\t\tconst bg = keyNavOptions && keyNavOptions.focusBGColorNight.value;\n\t\t\tconst test = document.createElement('div');\n\n\t\t\t// perNotification may have only been present in dev releases, but check for it and update as it's\n\t\t\t// no longer a valid option.\n\t\t\tif (sticky === 'perNotification') {\n\t\t\t\tawait Migrators.forceUpdateOption('notifications', 'sticky', 'notificationType');\n\t\t\t}\n\n\t\t\t// If night mode focus foreground color === night mode focus background color,\n\t\t\t// force them back to new defaults.\n\t\t\t//\n\t\t\t// Since it may be rgba or hex and we're not sure, let's do something clever to\n\t\t\t// make sure we can compare the colors.\n\t\t\ttest.style.color = fg || '';\n\t\t\ttest.style.backgroundColor = bg || '';\n\t\t\tconst fgCalculated = test.style.color;\n\t\t\tconst bgCalculated = test.style.backgroundColor;\n\t\t\tif ((fg === bg) || (fgCalculated === bgCalculated)) {\n\t\t\t\tawait Migrators.forceUpdateOption('keyboardNav', 'focusBGColorNight', '#373737');\n\t\t\t\tawait Migrators.forceUpdateOption('keyboardNav', 'focusFGColorNight', '#DDDDDD');\n\t\t\t}\n\n\t\t\t// Show all options for all users\n\t\t\tawait Migrators.moveOption('settingsNavigation', 'showAdvancedOptions', 'settingsNavigation', 'showAllOptions', true);\n\t\t\tawait Migrators.moveOption('settingsNavigation', 'showAdvancedOptionsAlert', 'settingsNavigation', 'showAllOptionsAlert');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.3',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('searchHelper', 'addSubmitButton', true, false);\n\t\t\tawait Migrators.moveOption('keyboardNav', 'save', 'keyboardNav', 'savePost');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'save', 'keyboardNav', 'saveRES');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.4',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('filteReddit', 'keywords', values => {\n\t\t\t\tfor (const value of values || []) {\n\t\t\t\t\tif (value && value[3] === 'undefined') {\n\t\t\t\t\t\tvalue[3] = '';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t});\n\t\t\tawait Migrators.updateOption('quickMessage', 'quickModeratorMessage', false, true);\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.5',\n\t\tasync go() {\n\t\t\tconst keyNavOptions = await Options.loadRaw('keyboardNav');\n\t\t\tif (keyNavOptions && keyNavOptions.scrollTop && keyNavOptions.scrollTop.value) {\n\t\t\t\tawait Migrators.updateOption('keyboardNav', 'scrollStyle', 'directional', 'top');\n\t\t\t}\n\t\t\tawait Migrators.moveOption('betteReddit', 'uncheckSendRepliesToInbox', 'submitHelper', 'uncheckSendRepliesToInbox');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'openBigEditor', 'commentPreview', 'openBigEditor');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'autoSelectOnScroll', 'selectedEntry', 'autoSelectOnScroll');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'clickFocus', 'selectedEntry', 'selectOnClick');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'addFocusBGColor', 'selectedEntry', 'addFocusBGColor');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusBGColor', 'selectedEntry', 'focusBGColor');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusBGColorNight', 'selectedEntry', 'focusBGColorNight');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusFGColorNight', 'selectedEntry', 'focusFGColorNight');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'addFocusBorder', 'selectedEntry', 'addFocusBorder');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusBorder', 'selectedEntry', 'focusBorder');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusBorderNight', 'selectedEntry', 'focusBorderNight');\n\n\t\t\tfunction updateFadeSpeed(value) {\n\t\t\t\tif (value === undefined || value === null || isNaN(value) || value < 0 || value > 1) {\n\t\t\t\t\treturn '0.7';\n\t\t\t\t} else {\n\t\t\t\t\treturn (1 - value).toFixed(2);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait Migrators.forceUpdateOption('hover', 'fadeSpeed', updateFadeSpeed);\n\t\t\tawait Migrators.forceUpdateOption('showParent', 'fadeSpeed', updateFadeSpeed);\n\t\t\tawait Migrators.forceUpdateOption('subredditInfo', 'fadeSpeed', updateFadeSpeed);\n\t\t\tawait Migrators.forceUpdateOption('userTagger', 'fadeSpeed', updateFadeSpeed);\n\n\t\t\tawait Migrators.forceUpdateOption('commentTools', 'macros', value =>\n\t\t\t\t[\n\t\t\t\t\t['reddiquette', '[reddiquette](/wiki/reddiquette) '],\n\t\t\t\t\t['Promote RES', '[Reddit Enhancement Suite](https://redditenhancementsuite.com \"also /r/Enhancement\") '],\n\t\t\t\t\t['Current timestamp', '{{now}} '],\n\t\t\t\t\t...(value || []),\n\t\t\t\t],\n\t\t\t);\n\n\t\t\tawait Migrators.moveOption('betteReddit', 'showUnreadCount', 'orangered', 'showUnreadCount');\n\t\t\tawait Migrators.moveOption('betteReddit', 'retroUnreadCount', 'orangered', 'retroUnreadCount');\n\t\t\tawait Migrators.moveOption('betteReddit', 'showUnreadCountInFavicon', 'orangered', 'showUnreadCountInFavicon');\n\t\t\tawait Migrators.moveOption('betteReddit', 'unreadLinksToInbox', 'orangered', 'unreadLinksToInbox');\n\t\t\tawait Migrators.moveOption('betteReddit', 'hideModMail', 'orangered', 'hideModMail');\n\n\t\t\tawait Migrators.moveOption('quickMessage', 'quickModeratorMessage', 'quickMessage', 'handleSideLinks');\n\n\t\t\tawait Migrators.updateOption('showKarma', 'useCommas', false, true);\n\n\t\t\tawait Migrators.moveOption('keyboardNav', 'moveDown', 'keyboardNav', 'moveDownComment');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'moveUp', 'keyboardNav', 'moveUpComment');\n\n\t\t\tawait Migrators.moveOption('userTagger', 'hoverInfo', 'userInfo', 'hoverInfo');\n\t\t\tawait Migrators.moveOption('userTagger', 'useQuickMessage', 'userInfo', 'useQuickMessage');\n\t\t\tawait Migrators.moveOption('userTagger', 'hoverDelay', 'userInfo', 'hoverDelay');\n\t\t\tawait Migrators.moveOption('userTagger', 'fadeDelay', 'userInfo', 'fadeDelay');\n\t\t\tawait Migrators.moveOption('userTagger', 'fadeSpeed', 'userInfo', 'fadeSpeed');\n\t\t\tawait Migrators.moveOption('userTagger', 'gildComments', 'userInfo', 'gildComments');\n\t\t\tawait Migrators.moveOption('userTagger', 'highlightButton', 'userInfo', 'highlightButton');\n\t\t\tawait Migrators.moveOption('userTagger', 'highlightColor', 'userInfo', 'highlightColor');\n\t\t\tawait Migrators.moveOption('userTagger', 'highlightColorHover', 'userInfo', 'highlightColorHover');\n\t\t\tawait Migrators.moveOption('userTagger', 'USDateFormat', 'userInfo', 'USDateFormat');\n\n\t\t\tawait Migrators.forceUpdateOption('notifications', 'notificationTypes', rows =>\n\t\t\t\t_.uniqBy(rows, ([modId, notificationId]) => `${modId}###${notificationId}`),\n\t\t\t);\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-scrubCaches',\n\t\tasync go() {\n\t\t\t// Trailing '.' on some keys is important\n\t\t\tconst cacheKeyParts = [\n\t\t\t\t'RESmodules.neverEndingReddit.lastPage',\n\t\t\t\t'RESmodules.neverEndingReddit.lastVisibleIndex',\n\t\t\t\t'RESUtils.cache',\n\t\t\t\t'RESUtils.moderatedSubCache',\n\t\t\t\t'RESUtils.sendFromCache',\n\t\t\t\t'RESUtils.userInfoCache',\n\t\t\t\t'RESmodules.keyboardNavLastIndex',\n\t\t\t\t'RESmodules.selectedThing.lastSelectedCache',\n\t\t\t\t'TBCache.', // may have been copied from foreground\n\t\t\t\t'Toolbox.',\n\t\t\t\t'RESmodules.betteReddit.msgCount.lastCheck',\n\t\t\t\t'RESmodules.subredditManager.subreddits.',\n\t\t\t\t'RESmodules.subredditManager.mySubredditList',\n\t\t\t];\n\n\t\t\tawait (await Storage.keys())\n\t\t\t\t.filter(key => cacheKeyParts.some(part => key.includes(part)))\n\t\t\t\t.map(key => Storage.delete(key));\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-voteWeight',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('userTagger', 'colorUser', 'userTagger', 'trackVoteWeight');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-commentStyle',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('styleTweaks', 'commentBoxes', 'commentStyle', 'commentBoxes');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'commentRounded', 'commentStyle', 'commentRounded');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'commentHoverBorder', 'commentStyle', 'commentHoverBorder');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'commentIndent', 'commentStyle', 'commentIndent');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'continuity', 'commentStyle', 'continuity');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-keyboardNav-scrollStyle-better-name',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('keyboardNav', 'scrollStyle', 'keyboardNav', 'linearScrollStyle');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-hideLEC',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('singleClick', 'hideLEC', false, true);\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-showImages-siteModuleIDs',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('showImages', 'display uploadly', 'showImages', 'display_uploadly');\n\t\t\tawait Migrators.moveOption('showImages', 'display eroshare', 'showImages', 'display_eroshare');\n\t\t\tawait Migrators.moveOption('showImages', 'display iLoopit - gif maker', 'showImages', 'display_iloopit');\n\t\t\tawait Migrators.moveOption('showImages', 'display Coub', 'showImages', 'display_coub');\n\t\t\tawait Migrators.moveOption('showImages', 'display LiveCap', 'showImages', 'display_livecap');\n\t\t\tawait Migrators.moveOption('showImages', 'display twitter', 'showImages', 'display_twitter');\n\t\t\tawait Migrators.moveOption('showImages', 'display futurism', 'showImages', 'display_futurism');\n\t\t\tawait Migrators.moveOption('showImages', 'display gfycat', 'showImages', 'display_gfycat');\n\t\t\tawait Migrators.moveOption('showImages', 'display gifyoutube', 'showImages', 'display_gifs');\n\t\t\tawait Migrators.moveOption('showImages', 'display vidble', 'showImages', 'display_vidble');\n\t\t\tawait Migrators.moveOption('showImages', 'display fitbamob', 'showImages', 'display_fitbamob');\n\t\t\tawait Migrators.moveOption('showImages', 'display giflike', 'showImages', 'display_giflike');\n\t\t\tawait Migrators.moveOption('showImages', 'display CtrlV.in', 'showImages', 'display_ctrlv');\n\t\t\tawait Migrators.moveOption('showImages', 'display snag.gy', 'showImages', 'display_snag');\n\t\t\tawait Migrators.moveOption('showImages', 'display picshd', 'showImages', 'display_picshd');\n\t\t\tawait Migrators.moveOption('showImages', 'display min.us', 'showImages', 'display_minus');\n\t\t\tawait Migrators.moveOption('showImages', 'display fiveHundredPx', 'showImages', 'display_fiveHundredPx');\n\t\t\tawait Migrators.moveOption('showImages', 'display flickr', 'showImages', 'display_flickr');\n\t\t\tawait Migrators.moveOption('showImages', 'display steam', 'showImages', 'display_steam');\n\t\t\tawait Migrators.moveOption('showImages', 'display deviantART', 'showImages', 'display_deviantart');\n\t\t\tawait Migrators.moveOption('showImages', 'display tumblr', 'showImages', 'display_tumblr');\n\t\t\tawait Migrators.moveOption('showImages', 'display memecrunch', 'showImages', 'display_memecrunch');\n\t\t\tawait Migrators.moveOption('showImages', 'display imgflip', 'showImages', 'display_imgflip');\n\t\t\tawait Migrators.moveOption('showImages', 'display livememe', 'showImages', 'display_livememe');\n\t\t\tawait Migrators.moveOption('showImages', 'display makeameme', 'showImages', 'display_makeameme');\n\t\t\tawait Migrators.moveOption('showImages', 'display memegen', 'showImages', 'display_memegen');\n\t\t\tawait Migrators.moveOption('showImages', 'display redditbooru', 'showImages', 'display_redditbooru');\n\t\t\tawait Migrators.moveOption('showImages', 'display youtube', 'showImages', 'display_youtube');\n\t\t\tawait Migrators.moveOption('showImages', 'display vimeo', 'showImages', 'display_vimeo');\n\t\t\tawait Migrators.moveOption('showImages', 'display soundcloud', 'showImages', 'display_soundcloud');\n\t\t\tawait Migrators.moveOption('showImages', 'display clyp', 'showImages', 'display_clyp');\n\t\t\tawait Migrators.moveOption('showImages', 'display memedad', 'showImages', 'display_memedad');\n\t\t\tawait Migrators.moveOption('showImages', 'display ridewithgps', 'showImages', 'display_ridewithgps');\n\t\t\tawait Migrators.moveOption('showImages', 'display photobucket', 'showImages', 'display_photobucket');\n\t\t\tawait Migrators.moveOption('showImages', 'display giphy', 'showImages', 'display_giphy');\n\t\t\tawait Migrators.moveOption('showImages', 'display streamable', 'showImages', 'display_streamable');\n\t\t\tawait Migrators.moveOption('showImages', 'display qwipit', 'showImages', 'display_qwipit');\n\t\t\tawait Migrators.moveOption('showImages', 'display radd.it', 'showImages', 'display_raddit');\n\t\t\tawait Migrators.moveOption('showImages', 'display pastebin', 'showImages', 'display_pastebin');\n\t\t\tawait Migrators.moveOption('showImages', 'display github gists', 'showImages', 'display_github');\n\t\t\tawait Migrators.moveOption('showImages', 'display Microsoft OneDrive', 'showImages', 'display_onedrive');\n\t\t\tawait Migrators.moveOption('showImages', 'display Oddshot', 'showImages', 'display_oddshot');\n\t\t\tawait Migrators.moveOption('showImages', 'display Miiverse', 'showImages', 'display_miiverse');\n\t\t\tawait Migrators.moveOption('showImages', 'display swirl', 'showImages', 'display_swirl');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.1-changeDefaultImageMaxSizeRetry',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('showImages', 'maxWidth', 640, '100%');\n\t\t\tawait Migrators.updateOption('showImages', 'maxHeight', 480, '80%');\n\t\t\tawait Migrators.updateOption('showImages', 'maxWidth', '640', '100%');\n\t\t\tawait Migrators.updateOption('showImages', 'maxHeight', '480', '80%');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.4-galleryFilmstripGranularity',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('showImages', 'dontLoadAlbumsBiggerThan', 'showImages', 'filmstripLoadIncrement');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.8-ner-hide-dupes',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('neverEndingReddit', 'hideDupes', 'fade', 'hide');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.0.1-disable-redditmedia-lookup',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'expandoCommentRedirects', 'nothing');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.0.2-reenable-redditmedia-expando',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('showImages', 'expandoCommentRedirects', 'nothing', 'expando');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.1.1-remove-multiredditnavbar-sectionlinks-workaround',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('multiredditNavbar', 'sectionLinks', sectionLinks => {\n\t\t\t\tif (!sectionLinks) return;\n\t\t\t\tfor (const row of sectionLinks) {\n\t\t\t\t\trow[1] = row[1].replace(/^\\.\\.\\//, './');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t}, {\n\t\tversionNumber: '5.3.1-enable-hardIgnore',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('userTagger', 'hardIgnore', true);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.3.5-remove-updates-css',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('stylesheet', 'loadStylesheets', rows =>\n\t\t\t\trows && rows.filter(row => row[0] !== 'https://cdn.redditenhancementsuite.com/updates.css'),\n\t\t\t);\n\n\t\t\tconst hideFloatingPauseButton = 'res-neverEndingReddit-hideFloatingPauseButton';\n\t\t\tawait Migrators.moveOption('stylesheet', 'bodyClasses', 'neverEndingReddit', 'showPauseButton', rows =>\n\t\t\t\t!!rows && rows.every(row => row[0] !== hideFloatingPauseButton),\n\t\t\t);\n\t\t\tawait Migrators.forceUpdateOption('stylesheet', 'bodyClasses', rows =>\n\t\t\t\trows && rows.filter(row => row[0] !== hideFloatingPauseButton),\n\t\t\t);\n\n\t\t\tlet shouldHideTagline = false;\n\t\t\tawait Migrators.forceUpdateOption('stylesheet', 'bodyClasses', rows => {\n\t\t\t\tif (!rows) return [];\n\t\t\t\tconst filteredRows = rows.filter(row => row[0] !== 'res-hide-tagline-frontpage');\n\t\t\t\tshouldHideTagline = filteredRows.length < rows.length;\n\t\t\t\treturn filteredRows;\n\t\t\t});\n\t\t\tif (shouldHideTagline) {\n\t\t\t\tMigrators.forceUpdateOption('stylesheet', 'snippets', rows => [\n\t\t\t\t\t...(rows || []),\n\t\t\t\t\t[\n\t\t\t\t\t\t'/* migrated from res-hide-tagline-frontpage */ .front-page .tagline { display: none; }',\n\t\t\t\t\t\t'everywhere',\n\t\t\t\t\t],\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.3.6-enable-hideUnvotable',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('styleTweaks', 'hideUnvotable', true);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.3.7-automaticNightMode-to-enum',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('nightMode', 'automaticNightMode', value => (value === true) ? 'user' : 'none');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.5.0-commentLinks-rename',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('keyboardNav', 'commentsLinkNumbers', 'keyboardNav', 'linkNumbers');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'commentsLinkNumberPosition', 'keyboardNav', 'linkNumberPosition');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'commentsLinkToggleExpando', 'keyboardNav', 'linkToggleExpando');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'commentsLinkNewTab', 'keyboardNav', 'linkNewTab');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.5.1-maxSize-to-string',\n\t\tasync go() {\n\t\t\tconst toString = x => (x ? String(x) : '');\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'maxWidth', toString);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'maxHeight', toString);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.5.3-disable-userbarHider',\n\t\tasync go() {\n\t\t\tconst notificationsOptions = await Options.loadRaw('notifications');\n\t\t\tif (!notificationsOptions ||\n\t\t\t\t!notificationsOptions.notificationTypes ||\n\t\t\t\t!notificationsOptions.notificationTypes.value ||\n\t\t\t\t!notificationsOptions.notificationTypes.value.some(([modId, notificationId]) => modId === 'userbarHider' && notificationId === 'userbarState')) {\n\t\t\t\t// user has never toggled userbarHider, disable it\n\t\t\t\tModules.setEnabled('userbarHider', false);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.5.11-update-notifications',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('onboarding', 'updateNotification', 'releaseNotes', 'notification');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.6.1-shard-tags',\n\t\tasync go() {\n\t\t\tconst tags = await Storage.get('RESmodules.userTagger.tags') || {};\n\t\t\tconst remappedTags = _.mapKeys(tags, (v, k) => `tag.${k.toLowerCase()}`);\n\t\t\tawait Storage.setMultiple(remappedTags);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.6.2-remove-old-tags',\n\t\tasync go() {\n\t\t\tawait Storage.delete('RESmodules.userTagger.tags');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.7.0-keyboardNav-showImages-decoupling',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('keyboardNav', 'mediaBrowseMode', 'showImages', 'mediaBrowse');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.7.1-shard-newCommentCount',\n\t\tasync go() {\n\t\t\tconst entries = await Storage.get('RESmodules.newCommentCount.counts') || {};\n\t\t\tconst remappedEntries = _.mapKeys(entries, (v, k) => `newCommentCount.${k}`);\n\t\t\tawait Storage.setMultiple(remappedEntries);\n\t\t\tawait Storage.delete('RESmodules.newCommentCount.counts');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.7.3-commandLine-menu-opening',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('commandLine', 'launchFromMenuButton', 'RESMenu', 'gearIconClickAction', launchFromMenu =>\n\t\t\t\tlaunchFromMenu ? 'openCommandLine' : 'toggleMenuNoHover',\n\t\t\t);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.7.4-shard-commentHidePersistor',\n\t\tasync go() {\n\t\t\tconst { hiddenThings } = await Storage.get('RESmodules.commentHidePersistor.hidePersistor') || {};\n\t\t\tif (!hiddenThings) return;\n\t\t\tconst remappedEntries = Object.entries(hiddenThings).reduce((acc, [k, v]) => {\n\t\t\t\tconst page = (execRegexes.comments(k) || [])[2];\n\t\t\t\tconst collapsedThings = v.reduce((acc, k) => (acc[k] = true) && acc, {});\n\t\t\t\tif (page && v.length) acc[`commentHidePersistor.${page}`] = { updateTime: Date.now(), collapsedThings };\n\t\t\t\treturn acc;\n\t\t\t}, {});\n\t\t\tawait Storage.setMultiple(remappedEntries);\n\t\t\tawait Storage.delete('RESmodules.commentHidePersistor.hidePersistor');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.8.2-unshard-newCommentCount-subscriptions',\n\t\tasync go() {\n\t\t\tconst subscriptions = {};\n\t\t\tfor (const [key, val] of Object.entries(await Storage.getAll())) {\n\t\t\t\tif (!key.startsWith('newCommentCount.')) continue;\n\t\t\t\tif ((val: any).subscriptionDate) subscriptions[key] = val;\n\t\t\t\t// don't bother deleting it; it's still valid for comment count storage\n\t\t\t\t// and it'll eventually be pruned as with any count\n\t\t\t}\n\t\t\tStorage.set('RESmodules.newCommentCount.subscriptions', subscriptions);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9.1-userTagger-refresh',\n\t\tasync go() {\n\t\t\tlet tags = await Storage.wrapPrefix('tag.', (): any => ({})).getAll();\n\t\t\tfor (const tag of Object.values(tags)) {\n\t\t\t\tif (tag.votes > 0) tag.votesUp = tag.votes;\n\t\t\t\tif (tag.votes < 0) tag.votesDown = -tag.votes;\n\t\t\t\tReflect.deleteProperty(tag, 'votes');\n\t\t\t\tif (tag.tag) tag.text = tag.tag;\n\t\t\t\tReflect.deleteProperty(tag, 'tag');\n\t\t\t\tif (tag.ignore) tag.ignored = tag.ignore;\n\t\t\t\tReflect.deleteProperty(tag, 'ignore');\n\t\t\t}\n\t\t\ttags = _.mapKeys(tags, (v, k) => `tag.${k}`); // Restore prefix\n\t\t\tawait Storage.setMultiple(tags);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9.1-selectedEntry',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('selectedEntry', 'addFocusBGColor', 'selectedEntry', 'setColors');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusBGColor', 'selectedEntry', 'backgroundColor');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusBGColorNight', 'selectedEntry', 'backgroundColorNight');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusFGColorNight', 'selectedEntry', 'textColorNight');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'addFocusBorder', 'selectedEntry', 'addOutline');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusBorder', 'selectedEntry', 'outlineStyle');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusBorderNight', 'selectedEntry', 'outlineStyleNight');\n\n\t\t\tif ((await Storage.get('RES.modulePrefs') || { selectedEntry: true }).selectedEntry === false) {\n\t\t\t\tawait Options.set('selectedEntry', 'setColors', false);\n\t\t\t\tawait Options.set('selectedEntry', 'addLine', true);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9-no-option-spaces',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('showImages', 'prefer RES albums', 'showImages', 'preferResAlbums');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9.2-numbers-to-strings',\n\t\tasync go() {\n\t\t\tfunction stringify(x) {\n\t\t\t\tif (typeof x === 'number') return x.toString();\n\t\t\t\treturn x;\n\t\t\t}\n\n\t\t\tawait Migrators.forceUpdateOption('betteReddit', 'hideLinkFadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('commentDepth', 'defaultCommentDepth', stringify);\n\t\t\tawait Migrators.forceUpdateOption('commentDepth', 'defaultMinimumComments', stringify);\n\t\t\tawait Migrators.forceUpdateOption('commentStyle', 'commentIndent', stringify);\n\t\t\tawait Migrators.forceUpdateOption('context', 'defaultContext', stringify);\n\t\t\tawait Migrators.forceUpdateOption('dashboard', 'defaultPosts', stringify);\n\t\t\tawait Migrators.forceUpdateOption('dashboard', 'tagsPerPage', stringify);\n\t\t\tawait Migrators.forceUpdateOption('hover', 'openDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('hover', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('hover', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('hover', 'width', stringify);\n\t\t\tawait Migrators.forceUpdateOption('messageMenu', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('messageMenu', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('messageMenu', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('multiredditNavbar', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('multiredditNavbar', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('multiredditNavbar', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('neverEndingReddit', 'pauseAfterEvery', stringify);\n\t\t\tawait Migrators.forceUpdateOption('newCommentCount', 'cleanComments', stringify);\n\t\t\tawait Migrators.forceUpdateOption('newCommentCount', 'subscriptionLength', stringify);\n\t\t\tawait Migrators.forceUpdateOption('nightMode', 'nightModeOverrideHours', stringify);\n\t\t\tawait Migrators.forceUpdateOption('notifications', 'closeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('notifications', 'fadeOutLength', stringify);\n\t\t\tawait Migrators.forceUpdateOption('profileNavigator', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('profileNavigator', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('profileNavigator', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'browsePreloadCount', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'galleryPreloadCount', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'bufferScreens', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'selfTextMaxHeight', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'commentMaxHeight', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'filmstripLoadIncrement', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'useSlideshowWhenLargerThan', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'maxSimultaneousPlaying', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showParent', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showParent', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showParent', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('styleTweaks', 'highlightTopLevelSize', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditInfo', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditInfo', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditInfo', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditManager', 'shortcutDropdownDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditManager', 'shortcutEditDropdownDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('userInfo', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('userInfo', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('userInfo', 'fadeSpeed', stringify);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9-filteReddit-customFilter',\n\t\tasync go() {\n\t\t\tfunction convertPatt(type, patt, key) {\n\t\t\t\tif (typeof patt !== 'string' || !patt.length || (/^\\/(.*)\\/([gim]+)?$/).test(patt)) return;\n\t\t\t\tif (type === 'postTitle') {\n\t\t\t\t\treturn { [key]: `/${patt}/i` };\n\t\t\t\t} else if (['subreddit', 'domain', 'userFlair', 'linkFlair', 'username'].includes(type)) {\n\t\t\t\t\treturn { [key]: `/^(${patt})\\$/i` };\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst entries = {};\n\t\t\tconst f = await Storage.wrapPrefix('RESmodules.filteReddit.', (): any => ({})).getAll();\n\t\t\tfor (const [k, v] of Object.entries(f)) {\n\t\t\t\tif (typeof v === 'boolean') continue; // `filterlineVisibility` entries\n\t\t\t\tconst visible = f[`filterlineVisibility.${k}`] || false;\n\t\t\t\tconst entry = entries[`filterline.${k}`] = { filters: {}, visible };\n\t\t\t\tfor (const [id, { criterion, state, key }] of Object.entries(v.filters || {})) {\n\t\t\t\t\tconst type = key;\n\t\t\t\t\tentry.filters[id] = { type, state, criterion, ...convertPatt(type, criterion, 'criterion') };\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait Storage.setMultiple(entries);\n\n\t\t\tconst { customFilters } = await Options.loadRaw('filteReddit') || {};\n\t\t\tif (customFilters) {\n\t\t\t\tfor (const { body } of (customFilters.value || [])) {\n\t\t\t\t\tbody.of.forEach(function traverseAndUpdate(v) {\n\t\t\t\t\t\tif (v.type === 'group') v.of.forEach(traverseAndUpdate);\n\t\t\t\t\t\telse Object.assign(v, convertPatt(v.type, v.patt, 'patt'));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tawait Options.set('filteReddit', 'customFiltersP', customFilters.value);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.11.1-settingsConsole-builder-tweak',\n\t\tasync go() {\n\t\t\tconst { customFiltersP, customFiltersC } = await Options.loadRaw('filteReddit') || {};\n\t\t\tlet i = Date.now();\n\t\t\tfor (const v of [...((customFiltersP && customFiltersP.value) || []), ...((customFiltersC && customFiltersC.value) || [])]) {\n\t\t\t\tconst { body: { name }, ondemand } = v;\n\t\t\t\tv.opts = { ondemand, name };\n\t\t\t\tv.id = `customFilter-${String(i++)}`;\n\t\t\t\t// The trash values will be ignored by the builder, so no need to remove them\n\t\t\t}\n\t\t\tif (customFiltersP)\tawait Options.set('filteReddit', 'customFiltersP', customFiltersP.value);\n\t\t\tif (customFiltersC)\tawait Options.set('filteReddit', 'customFiltersC', customFiltersC.value);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.13.3-userTagger-ignored-to-filteReddit',\n\t\tasync go() {\n\t\t\tconst ignoredUsers = Object.entries(await Storage.wrapPrefix('tag.', (): any => ({})).getAll())\n\t\t\t\t.filter(([, { ignored }]) => ignored)\n\t\t\t\t.map(([username]) => [username]);\n\t\t\tawait Options.set('filteReddit', 'users', ignoredUsers);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.13.3-filterline-effects-and-clean',\n\t\tasync go() {\n\t\t\tfunction migrateFilters(filters = {}) {\n\t\t\t\tfor (const [id, filter] of Object.entries(filters)) {\n\t\t\t\t\tif (!_.isObject(filter)) {\n\t\t\t\t\t\tdelete filters[id];\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tfilter.effects = { hide: filter.state !== null, ...filter.sideEffects };\n\t\t\t\t\tif (filter.state === null) filter.state = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet f = Storage.wrapPrefix('RESmodules.filteReddit.', (): any => ({}));\n\t\t\tfor (const [k, v] of Object.entries(await f.getAll())) {\n\t\t\t\tif (k.startsWith('commentDefault') || k.startsWith('postDefault')) {\n\t\t\t\t\tmigrateFilters(v);\n\t\t\t\t\tawait f.set(k, v); // eslint-disable-line no-await-in-loop\n\t\t\t\t} else {\n\t\t\t\t\tawait f.delete(k); // eslint-disable-line no-await-in-loop\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tf = Storage.wrapPrefix('filterline.', (): any => ({}));\n\t\t\tfor (const [k, v] of Object.entries(await f.getAll())) {\n\t\t\t\tif (v) {\n\t\t\t\t\t// This migration may already have been invoked for this filterline in a previous (failed) migration\n\t\t\t\t\tif (v.effects) continue;\n\t\t\t\t\tmigrateFilters(v.filters);\n\t\t\t\t\tv.lastUsed = Date.now();\n\t\t\t\t\tawait f.set(k, v); // eslint-disable-line no-await-in-loop\n\t\t\t\t} else {\n\t\t\t\t\tawait f.delete(k); // eslint-disable-line no-await-in-loop\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.14.1-filteReddit-user-hardIgnore',\n\t\tasync go() { /* Moved to next migration since option was deleted */ },\n\t}, {\n\t\tversionNumber: '5.14.2-filteReddit-user-hide-soft',\n\t\tasync go() { /* Moved to later migration since option was heavily adjust */ },\n\t}, {\n\t\tversionNumber: '5.14.2-filteReddit-migration-repair',\n\t\tasync go() {\n\t\t\t// Due to uncareful (and slow) migration in 5.14.0, filterlines migrated may have been\n\t\t\t// started over multiple times, resulting in filters erronously activating.\n\t\t\t// This tries to undo that by detecting whether all filters have been enabled,\n\t\t\t// and setting `hide` back to false if that's the case\n\t\t\tfunction migrateRepair(filters): ?true {\n\t\t\t\tconst allHidden = filters.every(([, filter]) => filter.effects && Object.keys(filter.effects).length === 1 && filter.effects.hide);\n\t\t\t\tif (allHidden) {\n\t\t\t\t\tfor (const [id, filter] of filters) {\n\t\t\t\t\t\tif (['users', 'subreddits', 'keywords', 'domains', 'flair'].includes(id)) continue;\n\t\t\t\t\t\tfilter.effects = { hide: false };\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet f = Storage.wrapPrefix('RESmodules.filteReddit.', (): any => ({}));\n\t\t\tfor (const [k, v] of Object.entries(await f.getAll())) {\n\t\t\t\tif (migrateRepair(Object.entries(v))) await f.set(k, v); // eslint-disable-line no-await-in-loop\n\t\t\t}\n\n\t\t\tf = Storage.wrapPrefix('filterline.', (): any => ({}));\n\t\t\tfor (const [k, v] of Object.entries(await f.getAll())) {\n\t\t\t\tconst filters = v && v.filters && Object.entries(v.filters);\n\t\t\t\tif (filters && filters.length) {\n\t\t\t\t\tif (migrateRepair(filters)) await f.set(k, v); // eslint-disable-line no-await-in-loop\n\t\t\t\t} else {\n\t\t\t\t\tawait f.delete(k); // eslint-disable-line no-await-in-loop\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.14.3-filteReddit-user-action-collapse',\n\t\tasync go() {\n\t\t\tconst hardIgnoreOption = await Options.get('userTagger', 'hardIgnore') ||\n\t\t\t\tawait Options.get('filteReddit', 'hardIgnoreUsers');\n\n\t\t\tlet hardIgnore = hardIgnoreOption ? hardIgnoreOption.value : true;\n\n\t\t\t// The usersMatchAction option may have been manually set to placeholder after 5.14\n\t\t\tconst usersMatchAction = await Options.get('filteReddit', 'usersMatchAction');\n\t\t\tif (usersMatchAction && usersMatchAction.value === 'placeholder') hardIgnore = false;\n\n\t\t\tawait Options.set('filteReddit', 'usersMatchAction', hardIgnore ? 'hide' : 'placeholder');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.14.4-new-module-subredditStyleToggle',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('styleTweaks', 'subredditStyleBrowserToolbarButton', 'subredditStyleToggle', 'browserToolbarButton');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'subredditStyleCheckbox', 'subredditStyleToggle', 'checkbox');\n\t\t\tconst ignored = await Storage.get('RESmodules.styleTweaks.ignoredSubredditStyles');\n\t\t\tif (ignored) {\n\t\t\t\tawait Storage.set('RESmodules.subredditStyleToggle.ignored', ignored);\n\t\t\t\tawait Storage.delete('RESmodules.styleTweaks.ignoredSubredditStyles');\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.14.4-prune-interface',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('newCommentCount', 'cleanComments', '7', '30');\n\t\t\tawait Storage.delete('RESmodules.readComments.lastClean');\n\t\t\tawait Storage.delete('RESmodules.newCommentCount.lastClean');\n\t\t\tawait Storage.delete('RESmodules.commentHidePersistor.lastClean');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.17.0-hover-instances-id',\n\t\tasync go() {\n\t\t\tconst instances = {};\n\t\t\tfor (const instance of await Options.getValue('hover', 'instances') || []) {\n\t\t\t\tconst id = instance[0] = instance[0].replace(/(dropdownList|infocard)\\./, '');\n\t\t\t\tif (!id || instances[id]) continue;\n\t\t\t\tinstances[id] = instance;\n\t\t\t}\n\n\t\t\tawait Options.set('hover', 'instances', Object.values(instances));\n\t\t},\n\t}, {\n\t\tversionNumber: '5.17.0-notifications',\n\t\tasync go() {\n\t\t\tStorage.delete('RESmodules.notifications.recent');\n\n\t\t\tconst instances = {};\n\t\t\tfor (const instance of await Options.getValue('notifications', 'notificationTypes') || []) {\n\t\t\t\tconst id = `${instance[0]}-${instance[1]}`;\n\t\t\t\tif (!id || instances[id]) continue;\n\t\t\t\tinstances[id] = [id, instance[2], instance[3]];\n\t\t\t}\n\n\t\t\tawait Options.set('notifications', 'notificationTypes', Object.values(instances));\n\t\t},\n\t}, {\n\t\tversionNumber: '5.17.0-firstRun-to-last',\n\t\tasync go() {\n\t\t\tconst firstRunStorage = Storage.wrapPrefix('RES.firstRun.', () => (null: null | boolean));\n\t\t\tconst versions = Object.keys(await firstRunStorage.getAll());\n\t\t\tversions.sort((a, b) => a.localeCompare(b, undefined, { numerical: true }));\n\t\t\tawait Storage.set('highestVersion', versions.slice(-1)[0] || null); await firstRunStorage.deleteMultiple(versions);\n\t\t},\n\t},\n\n]; // ^^ Add new migrations ^^\n\nconst _migrationsToRun = getMigrationsToRun();\n\nexport async function migrate() {\n\tconst migrations = await _migrationsToRun;\n\tif (!migrations.length) return;\n\n\tawait forEachSeq(migrations, async currentMigration => {\n\t\tconsole.log('Migratating', currentMigration.versionNumber);\n\t\tawait currentMigration.go();\n\t\t// Checkpoint, in case the next migration crashes\n\t\tStorage.set('RESOptionsVersion', currentMigration.versionNumber);\n\t});\n\n\tconsole.log('All remaining migrations completed.');\n}\n\nasync function getMigrationsToRun() {\n\tconst lastMigratedVersion = await getLastMigratedVersion();\n\n\t// false specifically; we want to run all migrations on `null`\n\tif (lastMigratedVersion === false) {\n\t\t// Set the migrated version to the current latest migration,\n\t\t// in case the above loop didn't run (i.e. on first install)\n\t\tStorage.set('RESOptionsVersion', _.last(migrations).versionNumber);\n\t\treturn [];\n\t}\n\n\treturn _.takeRightWhile(migrations, ({ versionNumber }) => versionNumber !== lastMigratedVersion);\n}\n\n// Returns a string like \"4.5.0.1\" (the last migration run),\n// null (run all migrations), or false (do not run migrations)\nasync function getLastMigratedVersion(): Promise<string | null | false> {\n\tconst RESOptionsVersion = await Storage.get('RESOptionsVersion');\n\n\tif (typeof RESOptionsVersion === 'undefined') {\n\t\t// Error occured sometime in the past, abort\n\t\tconsole.warn('RESOptionsVersion was undefined');\n\t\treturn false;\n\t} else if (RESOptionsVersion !== null) {\n\t\t// Migration has run before; verify/sanitize the version number\n\t\tif ((/^\\d$/).test(RESOptionsVersion)) {\n\t\t\t// Legacy format: integer number\n\t\t\tconst legacyOptionVersionMapping = ['4.5.0.0', '4.5.0.1'];\n\t\t\treturn legacyOptionVersionMapping[RESOptionsVersion - 1];\n\t\t} else if (!migrations.map(m => m.versionNumber).includes(RESOptionsVersion)) {\n\t\t\t// Abort, abort! Probably downgraded\n\t\t\tconsole.warn(`Couldn't find a migration matching RESOptionsVersion = ${RESOptionsVersion}`);\n\t\t\treturn false;\n\t\t} else {\n\t\t\t// RESOptionsVersion is a valid migration version number\n\t\t\treturn RESOptionsVersion;\n\t\t}\n\t} else if (await Storage.has('RES.firstRun.4.5.0.2')) {\n\t\t// 4.5.0.2 bug: RESOptionsVersion was not set on fresh installs.\n\t\treturn '4.5.0.2';\n\t} else if (\n\t\tawait Storage.has('RES.firstRun.4.3.2.1') ||\n\t\tawait Storage.has('RES.firstRun.4.3.1.2') ||\n\t\tawait Storage.has('RES.firstRun.4.3.0.3') ||\n\t\tawait Storage.has('RES.firstRun.4.2.0.2') ||\n\t\tawait Storage.has('RES.firstRun.4.1.5')\n\t) {\n\t\t// Upgraded from old version to a version which supports migrations; run all migrations\n\t\treturn null;\n\t} else {\n\t\t// New install, no migrations necessary\n\t\treturn false;\n\t}\n}\n","/* @flow */\n\n// load environment listeners\nimport 'sibling-loader!./environment/background/ajax';\n\nimport { migrate } from './core/migrate';\n\nimport { addListener } from './environment/background/messaging';\n\nmigrate();\n\n// Restoring a backup may require migrations to be run\naddListener('runMigrations', migrate);\n"],"sourceRoot":""}